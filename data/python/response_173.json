[{"tags": ["python", "multithreading", "sockets", "select", "tcp"], "comments": [{"owner": {"reputation": 3415, "user_id": 5287638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AzeH8.png?s=128&g=1", "display_name": "Jack Taylor", "link": "https://stackoverflow.com/users/5287638/jack-taylor"}, "edited": false, "score": 0, "creation_date": 1525309053, "post_id": 50145116, "comment_id": 87309044, "body": "Does <a href=\"https://stackoverflow.com/a/39914294/5287638\">this answer</a> help?"}, {"owner": {"reputation": 11, "user_id": 9727852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb762d1a5543465d34c5b4a16794bcd?s=128&d=identicon&r=PG&f=1", "display_name": "lkonrad", "link": "https://stackoverflow.com/users/9727852/lkonrad"}, "reply_to_user": {"reputation": 3415, "user_id": 5287638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AzeH8.png?s=128&g=1", "display_name": "Jack Taylor", "link": "https://stackoverflow.com/users/5287638/jack-taylor"}, "edited": false, "score": 0, "creation_date": 1525353176, "post_id": 50145116, "comment_id": 87329551, "body": "I think it would work but I was looking for a Python built-in module, so it may be exploitable by any user."}], "owner": {"reputation": 11, "user_id": 9727852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb762d1a5543465d34c5b4a16794bcd?s=128&d=identicon&r=PG&f=1", "display_name": "lkonrad", "link": "https://stackoverflow.com/users/9727852/lkonrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525305512, "creation_date": 1525305512, "question_id": 50145116, "link": "https://stackoverflow.com/questions/50145116/how-to-cancel-a-blocking-thread-caused-by-input-in-python", "title": "How to cancel a blocking thread caused by input() in Python?", "body": "<p>I'm starting to learn more about TCP protocols in Python and I've been having some trouble with blocking threads inside clients.</p>\n\n<p>Ideally, my application would work like this: I have different clients with thread functions, each one of them containing an input function in order to receive a specific command to send to the server (for example 'X'). When the 'X' is tapped in ONE client, the server receives it and sends a message to all the other clients informing that the program will continue and releasing them from their input functions - almost like cancelling them.</p>\n\n<p>The problem lies on the fact that the input functions are blocking the clients from leaving the loop. I've tried setting the input thread functions as daemon but it blocks until you tap something anyway - which is unfortunately the only workaround that I've found so far. </p>\n\n<p>I would like to use <code>socket</code> and the <code>select</code> module for connection, without being attached to any particular OS (so no <code>msvcrt</code> that works on Windows or the <code>select</code> module to monitor the <code>stdin</code>, which is only available in UNIX based OS).</p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 2460, "user_id": 2715819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865993e49f832e0d08673bb6ae8f24b7?s=128&d=identicon&r=PG", "display_name": "RishiG", "link": "https://stackoverflow.com/users/2715819/rishig"}, "is_accepted": false, "score": 1, "last_activity_date": 1525308269, "creation_date": 1525308269, "answer_id": 50145405, "question_id": 50145115, "link": "https://stackoverflow.com/questions/50145115/override-the-listview-attributes/50145405#50145405", "title": "Override the ListView attributes", "body": "<p>The first case you show is an example of setting <em>class</em> variables.  In the second case, you are actually defining local variables, but I assume you meant to assign <em>instance</em> variables like this:</p>\n\n<pre><code>def __init__(self, *args, **kwargs):\n    super().__init__(self, *args, **kwargs):\n    self.template_name = 'polls/index.html'\n    self.context_object_name = 'latest_question_list'\n</code></pre>\n\n<p>Check out \nand the answers to <a href=\"https://stackoverflow.com/questions/12657867/class-variable-vs-instance-variable-python\">this stack overflow post</a> and <a href=\"https://stackoverflow.com/questions/2714573/instance-variables-vs-class-variables-in-python\">this other one</a> for some discussion of the difference.</p>\n"}, {"tags": [], "owner": {"reputation": 6952, "user_id": 5644965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9KaA.jpg?s=128&g=1", "display_name": "Lemayzeur", "link": "https://stackoverflow.com/users/5644965/lemayzeur"}, "is_accepted": true, "score": 1, "last_activity_date": 1525311211, "creation_date": 1525311211, "answer_id": 50145713, "question_id": 50145115, "link": "https://stackoverflow.com/questions/50145115/override-the-listview-attributes/50145713#50145713", "title": "Override the ListView attributes", "body": "<p>I didn't take a look at the source code of <a href=\"https://docs.djangoproject.com/en/2.0/topics/class-based-views/generic-display/\" rel=\"nofollow noreferrer\">Django GenericView</a>,\nvariables that you point out are variables that we can call <code>class Variables</code>, these are variables of the class <a href=\"https://docs.djangoproject.com/en/2.0/ref/class-based-views/generic-display/#listview\" rel=\"nofollow noreferrer\">ListView</a>. Basically, they are class variables <strong>shared by all instances</strong>.<br>\nWhereas inside <code>__init__</code> they're called <code>instance variable</code>  <strong>Unique to each instance</strong></p>\n\n<p>A small example (<em>Not good enough</em>):</p>\n\n<pre><code>class MyView:\n    template_name = 'default_name.html' # class variable shared by all instances\n\n    def __init__(self,name):\n        self.name = name  # instance variable unique to each instance\n\n    def get_template_name(self):\n        return self.name\n</code></pre>\n"}], "owner": {"reputation": 13851, "user_id": 7301792, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K6k1M.png?s=128&g=1", "display_name": "AbstProcDo", "link": "https://stackoverflow.com/users/7301792/abstprocdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 50145713, "answer_count": 2, "score": 0, "last_activity_date": 1525311211, "creation_date": 1525305510, "last_edit_date": 1525305746, "question_id": 50145115, "link": "https://stackoverflow.com/questions/50145115/override-the-listview-attributes", "title": "Override the ListView attributes", "body": "<p>When override the attributes of class view, it comes with:</p>\n\n<pre><code>class IndexView(generic.ListView):\n    template_name = 'polls/index.html'\n    context_object_name = 'latest_question_list'\n</code></pre>\n\n<p>I assume it should be:</p>\n\n<pre><code>class IndexView(generic.ListView):\n    def __init__(self, *args, **kwargs):\n        super().__init__(self, *args, **kwargs):\n        template_name = 'polls/index.html'\n        context_object_name = 'latest_question_list'\n</code></pre>\n\n<p>How Django achieve it by assign variable directly?</p>\n"}, {"tags": ["python", "if-statement", "switch-statement"], "comments": [{"owner": {"reputation": 45, "user_id": 9055908, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z2kjqjk4psE/AAAAAAAAAAI/AAAAAAAAB9Y/4_6vxcKgQr0/photo.jpg?sz=128", "display_name": "Miguel Angel Alvarez Rodriguez", "link": "https://stackoverflow.com/users/9055908/miguel-angel-alvarez-rodriguez"}, "edited": false, "score": 0, "creation_date": 1525305524, "post_id": 50145104, "comment_id": 87308314, "body": "I saw this post: <a href=\"https://stackoverflow.com/questions/60208/replacements-for-switch-statement-in-python\" title=\"replacements for switch statement in python\">stackoverflow.com/questions/60208/&hellip;</a>, but I dont find any solution that give me a complete solution"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1525305698, "post_id": 50145104, "comment_id": 87308352, "body": "Break out the cases into functions, put the functions into a dictionary. Have functions that are supposed to &quot;fall through&quot; simply cal the next one. More trouble than it&#39;s worth, probably."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1525306087, "post_id": 50145104, "comment_id": 87308440, "body": "Not once in my life have I ever needed such a massive <code>switch</code> or <code>if</code> statement. Are you sure you&#39;re not doing something wrong in your code? Can you give us some context so that we can suggest alternative solutions?"}, {"owner": {"reputation": 45, "user_id": 9055908, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z2kjqjk4psE/AAAAAAAAAAI/AAAAAAAAB9Y/4_6vxcKgQr0/photo.jpg?sz=128", "display_name": "Miguel Angel Alvarez Rodriguez", "link": "https://stackoverflow.com/users/9055908/miguel-angel-alvarez-rodriguez"}, "edited": false, "score": 0, "creation_date": 1540265053, "post_id": 50145104, "comment_id": 92790062, "body": "It has no contex, I would like case statement and I want to know if there was a solution that allow to do all combination of case allow. Thank you all, I think the best solution is given by glich."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9055908, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z2kjqjk4psE/AAAAAAAAAAI/AAAAAAAAB9Y/4_6vxcKgQr0/photo.jpg?sz=128", "display_name": "Miguel Angel Alvarez Rodriguez", "link": "https://stackoverflow.com/users/9055908/miguel-angel-alvarez-rodriguez"}, "edited": false, "score": 0, "creation_date": 1540264945, "post_id": 50196135, "comment_id": 92790034, "body": "Thank you. I saw many complex solution but any as simple and complet like that, I want to avoid to call explicit the next &quot;case&quot; if I have no break, but it easy to understand and I think this is a good way to simulate the case syntaxis."}], "tags": [], "owner": {"reputation": 8421, "user_id": 4381487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNB1x.jpg?s=128&g=1", "display_name": "gilch", "link": "https://stackoverflow.com/users/4381487/gilch"}, "is_accepted": true, "score": 1, "last_activity_date": 1525584154, "last_edit_date": 1525584154, "creation_date": 1525579539, "answer_id": 50196135, "question_id": 50145104, "link": "https://stackoverflow.com/questions/50145104/how-to-make-a-case-switch-in-python-with-no-all-breaks-and-code-between-2-cases/50196135#50196135", "title": "How to make a Case/Switch in python with no all breaks, and code between 2 cases", "body": "<p>The switch statement is considered harmful. That's probably why Python doesn't have it. The fallthrough behavior is a major source of bugs in C code. It's easy to forget a <code>break;</code> That's why C# disallows it--you'd have to use an explicit <code>goto</code> instead. It's the same in Python's dict of functions approach. You put in a call to the next function. \"Explicit is better than implicit\".</p>\n\n<p>The easiest way to make a dict of functions (with identifier keys) is with a <code>class</code> declaration.</p>\n\n<pre><code>class switch:\n    def a():\n        print('a')\n        switch.b()\n    def b():\n        print('b')\n        switch.c()\n    def c():\n        print('c')\n    def d():\n        switch.e()\n    def e():\n        print('de')\n    def f():\n        switch.g()\n    def g():\n        print('fg')\n    def h():\n        print('h')\n    def i():\n        print('i')\n        switch.default()\n    def default():\n        print('foo')\n</code></pre>\n\n<p>Use it like so.</p>\n\n<pre><code>&gt;&gt;&gt; expression = 'a'\n&gt;&gt;&gt; getattr(switch, expression, 'default')()\na\nb\nc\n</code></pre>\n\n<p>You can also extract the <code>__dict__</code> attr if you want an actual dict.</p>\n\n<pre><code>&gt;&gt;&gt; switch.__dict__.get('e', 'default')()\nde\n</code></pre>\n\n<hr>\n\n<p>You can be similarly explicit with <code>if</code> statements.</p>\n\n<pre><code>def switch(case)\n    if case == a:\n        doA()\n        case = b\n    if case == b:\n        doB()\n        case = c\n    if case == c:\n        doC()\n        return\n    if case == d:\n        case = e\n    if case == e:\n        doDE()\n        return\n    if case == f:\n        case = g\n    if case == g:\n        doFG()\n        case = h\n    if case == h:\n        doH()\n        return\n    if case == i:\n        doI()\n    foo()\n</code></pre>\n\n<p>If you're worried about side effects changing the condition or if the conditions are more complex than simple equality and you don't want to repeat them, you can use a helper variable instead of reassigning <code>case</code>.</p>\n\n<pre><code>def switch(case):\n    fall = False\n    if case == a:\n        doA()\n        fall = True\n    if fall or case == b:\n        doB()\n        fall = True\n    if fall or case == c:\n        doC()\n        return\n    if case == d:\n        fall = True\n    if fall or case == e:\n        doDE()\n        return\n    if case == f:\n        fall = True\n    if fall or case == g:\n        doFG()\n        fall = True\n    if fall or case == h:\n        doH()\n        return\n    if case == i:\n        doI()\n    foo()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 9055908, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z2kjqjk4psE/AAAAAAAAAAI/AAAAAAAAB9Y/4_6vxcKgQr0/photo.jpg?sz=128", "display_name": "Miguel Angel Alvarez Rodriguez", "link": "https://stackoverflow.com/users/9055908/miguel-angel-alvarez-rodriguez"}, "edited": false, "score": 0, "creation_date": 1540264814, "post_id": 50196145, "comment_id": 92790004, "body": "I know with a If you can do any case, but I saw many complicate ways to simulate the case syntaxis but all always have to do something extra or not allow exacly the same that the &quot;case&quot; statement. I think the best solution I find by now is use a class and call in the end of a case the next one if I want not to break."}], "tags": [], "owner": {"reputation": 8421, "user_id": 4381487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNB1x.jpg?s=128&g=1", "display_name": "gilch", "link": "https://stackoverflow.com/users/4381487/gilch"}, "is_accepted": false, "score": 1, "last_activity_date": 1525579641, "creation_date": 1525579641, "answer_id": 50196145, "question_id": 50145104, "link": "https://stackoverflow.com/questions/50145104/how-to-make-a-case-switch-in-python-with-no-all-breaks-and-code-between-2-cases/50196145#50196145", "title": "How to make a Case/Switch in python with no all breaks, and code between 2 cases", "body": "<p>The <code>if</code> statement can do any condition at all. You just have to be a little more explicit.</p>\n\n<pre><code>def switch(case):\n    if case in 'a':\n        doA()\n    if case in 'ab':\n        doB()\n    if case in 'abc':\n        doC()\n        return\n    if case in 'de':\n        doDE()\n        return\n    if case in 'fg':\n        doFG()\n    if case in 'fgh':\n        doH()\n        return\n    if case in 'i':\n        doI()\n    foo()\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9055908, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z2kjqjk4psE/AAAAAAAAAAI/AAAAAAAAB9Y/4_6vxcKgQr0/photo.jpg?sz=128", "display_name": "Miguel Angel Alvarez Rodriguez", "link": "https://stackoverflow.com/users/9055908/miguel-angel-alvarez-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1749, "favorite_count": 1, "accepted_answer_id": 50196135, "answer_count": 2, "score": 1, "last_activity_date": 1540348686, "creation_date": 1525305426, "last_edit_date": 1540348686, "question_id": 50145104, "link": "https://stackoverflow.com/questions/50145104/how-to-make-a-case-switch-in-python-with-no-all-breaks-and-code-between-2-cases", "title": "How to make a Case/Switch in python with no all breaks, and code between 2 cases", "body": "<p>I know Java and C and I used to use Switch statements, but there aren't in python.</p>\n\n<p>I see many ways of use if-elif-else to remplace, but any that remplace completly.</p>\n\n<p>Example of code that I want remplace.</p>\n\n<pre><code>switch(expression) {\n   case a:\n       doA();\n   case b:\n       doB();\n   case c:\n       doC();\n       break;\n   case d:\n   case e:\n       doDE()\n       break;\n   case f:\n   case g:\n       doFG():\n   case h:\n       doH();\n       break;\n   case i:\n       doI();\n   default:\n       foo();\n       break;\n}\n</code></pre>\n\n<p>As you can see not all case are follow by break, and there is code between some cases that only executed with one case, but there is also common code that is executed in both case.</p>\n\n<p>I see a many ways, but any that allow this at same time. And I think this is the real diference between if-elif-else, and switch-case.</p>\n\n<p>So there is any way of do this will be great, or it's only posible with repeted functions calls and complex if with all posibilities?.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "unix", "curl", "box"], "answers": [{"comments": [{"owner": {"reputation": 1282, "user_id": 1696418, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/625b32d887d3dfb6a10bbf940c553378?s=128&d=identicon&r=PG", "display_name": "Munesh", "link": "https://stackoverflow.com/users/1696418/munesh"}, "edited": false, "score": 0, "creation_date": 1525375149, "post_id": 50149772, "comment_id": 87342729, "body": "Can you help me understand what should be passed as the file_id. I have the shared box url which has multiple files. I need to download all the files under the shared directory. Can I pass any wildcharacter like &#39;*&#39;"}, {"owner": {"reputation": 675, "user_id": 4119193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26eb4925df82764cbe5024aae6533556?s=128&d=identicon&r=PG", "display_name": "Jas", "link": "https://stackoverflow.com/users/4119193/jas"}, "reply_to_user": {"reputation": 1282, "user_id": 1696418, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/625b32d887d3dfb6a10bbf940c553378?s=128&d=identicon&r=PG", "display_name": "Munesh", "link": "https://stackoverflow.com/users/1696418/munesh"}, "edited": false, "score": 0, "creation_date": 1534290840, "post_id": 50149772, "comment_id": 90655439, "body": "@Munesh <code>items = client.folder(folder_id=FOLDER_ID).get_items(limit=100, offset=0)                                                                                              FILENAME = &quot;NAME_OF_YOUR_FILE.csv&quot; FILE_ID = [x.id for x in items if x.name == FILENAME] </code> Of course you need the folder id, which is in the URL when you navigate to the folder."}], "tags": [], "owner": {"reputation": 1319, "user_id": 9630106, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fNnC50T9tMo/AAAAAAAAAAI/AAAAAAAAAKQ/bpO6qURvXbA/photo.jpg?sz=128", "display_name": "Luc", "link": "https://stackoverflow.com/users/9630106/luc"}, "is_accepted": false, "score": 1, "last_activity_date": 1525334167, "creation_date": 1525334167, "answer_id": 50149772, "question_id": 50145101, "link": "https://stackoverflow.com/questions/50145101/download-files-from-a-box-location-using-api/50149772#50149772", "title": "Download files from a Box location using API", "body": "<p>You can use the method that gives you the direct URL:</p>\n\n<pre><code>download_url = client.file(file_id='SOME_FILE_ID').get_shared_link_download_url()\n</code></pre>\n\n<p>And then you can use urlib to download it to your local computer:</p>\n\n<pre><code>import urllib\nurllib.urlretrieve (download_url , your_local_file_name)\n</code></pre>\n\n<p>Could it solve your problem?</p>\n"}, {"tags": [], "owner": {"reputation": 4021, "user_id": 1421222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f267ea12030fd85ddac221e285f4997?s=128&d=identicon&r=PG", "display_name": "Bless", "link": "https://stackoverflow.com/users/1421222/bless"}, "is_accepted": true, "score": 2, "last_activity_date": 1525456737, "creation_date": 1525456737, "answer_id": 50180679, "question_id": 50145101, "link": "https://stackoverflow.com/questions/50145101/download-files-from-a-box-location-using-api/50180679#50180679", "title": "Download files from a Box location using API", "body": "<p>Get metadata of shared Box link:</p>\n\n<pre><code>shared_folder = client.get_shared_item(\"https://app.box.com/s/0123456789abcdef0123456789abcdef\")\n</code></pre>\n\n<p>Loop through each item inside the folder and download each file using <a href=\"http://box-python-sdk.readthedocs.io/en/latest/boxsdk.object.html#boxsdk.object.file.File.content\" rel=\"nofollow noreferrer\"><code>boxsdk.object.file.File.content</code></a> or <a href=\"http://box-python-sdk.readthedocs.io/en/latest/boxsdk.object.html#boxsdk.object.file.File.download_to\" rel=\"nofollow noreferrer\"><code>boxsdk.object.file.File.download_to</code></a>:</p>\n\n<pre><code>for item in shared_folder.get_items(limit=1000):\n    if item.type == 'file':\n        # Get file contents into memory\n        file_contents = client.file(file_id=item.id).content()\n        # Or download to file\n        client.file(file_id=item.id).download_to(item.name)\n</code></pre>\n"}], "owner": {"reputation": 1282, "user_id": 1696418, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/625b32d887d3dfb6a10bbf940c553378?s=128&d=identicon&r=PG", "display_name": "Munesh", "link": "https://stackoverflow.com/users/1696418/munesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2275, "favorite_count": 0, "accepted_answer_id": 50180679, "answer_count": 2, "score": 1, "last_activity_date": 1525517017, "creation_date": 1525305392, "last_edit_date": 1525517017, "question_id": 50145101, "link": "https://stackoverflow.com/questions/50145101/download-files-from-a-box-location-using-api", "title": "Download files from a Box location using API", "body": "<p>How to download files from a Box location programmatically?</p>\n\n<p>I have a shared box location URL(Not the exact path of the box location).</p>\n\n<p>I want to download all the files under the location.</p>\n\n<p>I checked below sdk to connect to box but unable to find methods/library to download files from a shared link.</p>\n\n<p><a href=\"https://github.com/box/box-python-sdk\" rel=\"nofollow noreferrer\">https://github.com/box/box-python-sdk</a></p>\n\n<pre><code>from boxsdk import Client\nfrom boxsdk import OAuth2\n\noauth = OAuth2(\n    client_id='XXX',\n    client_secret='XXX',\n    store_tokens='XXX',\n)\n\n\ndata = client.make_request(\n    'GET',\n    '&lt;Shared BOX URL&gt;',\n)\n</code></pre>\n\n<p>Please help</p>\n"}, {"tags": ["python", "parsing"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1525305149, "post_id": 50145046, "comment_id": 87308240, "body": "Why aren&#39;t you using a pre-existing text-based serialization format like JSON instead of dumping the <code>str</code> representation of lists to a file?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525305190, "post_id": 50145046, "comment_id": 87308247, "body": "Are you creating this file? If so, it&#39;s a bad idea to try to use <code>repr</code> (or <code>str</code>) and <code>literal_eval</code> as a data file format. Much better to use something like JSONLines, or one big JSON array."}, {"owner": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525305427, "post_id": 50145046, "comment_id": 87308297, "body": "It would be a great help if you can provide code because I do not have any idea about json."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525305774, "post_id": 50145046, "comment_id": 87308370, "body": "To write a file: <code>with open(&#39;test.txt&#39;, &#39;w&#39;) as f: json.dump(mylisttrain, f)</code>. To read a file: <code>with open(&#39;test.txt&#39;) as f: mylisttrain = json.load(f)</code>. See the more detailed examples in <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\">the docs</a>, but really, that&#39;s all you need to get started."}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1525305252, "post_id": 50145071, "comment_id": 87308259, "body": "That&#39;s a really hacky\u2014and fragile\u2014idea. (I suppose if the first bug convinces the OP to stop using <code>repr</code> as a persistence format, that might be a good thing\u2026)"}, {"owner": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525305336, "post_id": 50145071, "comment_id": 87308278, "body": "It says invalid syntax"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525305384, "post_id": 50145071, "comment_id": 87308290, "body": "@ViralPatel Can you specify where the error is occurring?"}, {"owner": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525305463, "post_id": 50145071, "comment_id": 87308304, "body": "Traceback (most recent call last):   File &quot;temp.py&quot;, line 2, in &lt;module&gt;     new_s = [ast.literal_eval(line+&#39;]&#39;) for line in open(&#39;test.txt&#39;)]   File &quot;C:\\Python27\\lib\\ast.py&quot;, line 49, in literal_eval     node_or_string = parse(node_or_string, mode=&#39;eval&#39;)   File &quot;C:\\Python27\\lib\\ast.py&quot;, line 37, in parse     return compile(source, filename, mode, PyCF_ONLY_AST)   File &quot;&lt;unknown&gt;&quot;, line 2     ]     ^ SyntaxError: invalid syntax"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525305519, "post_id": 50145071, "comment_id": 87308312, "body": "@ViralPatel If the first solution with the list comprehension does not work for you, I added another possibility that merely tweaks your current code."}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525305636, "post_id": 50145071, "comment_id": 87308338, "body": "@abarnert I do agree that there is no clean way to parse the file as it currently stands, however, I did add a solution that will correct the code that the OP has currently written."}, {"owner": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525305876, "post_id": 50145071, "comment_id": 87308397, "body": "Thanks It is working but what if I want to get the second values. Like what if my array is like [[[A,1],[V,2],[V,3],[A,4],[A,5]],           [[C,6],[A,7],[A,8],[V,9],[B,10]]] and I want to get the values as [[[1],[2],[3],[4],[5]],[[6],[7],[8],[9],[10]]]"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525305994, "post_id": 50145071, "comment_id": 87308422, "body": "@ViralPatel simply change the order of the unpacking. For instance, in the second <code>for</code> loop, the header becomes: <code>for _, a in i:</code>, and the loop block remains the same."}, {"owner": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525306037, "post_id": 50145071, "comment_id": 87308433, "body": "As in the given question the values are in float. What if I want to get those values the same way as I get the Alphabets?"}, {"owner": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525308812, "post_id": 50145071, "comment_id": 87309007, "body": "Hi ... Is there any way to remove first and last square bracket? [[[&#39;A&#39;], [&#39;V&#39;], [&#39;V&#39;], [&#39;A&#39;], [&#39;A&#39;]], [[&#39;C&#39;], [&#39;A&#39;], [&#39;A&#39;], [&#39;V&#39;], [&#39;B&#39;]]] in this?"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525309130, "post_id": 50145071, "comment_id": 87309063, "body": "@ViralPatel What is your desired output after removing the brackets?"}, {"owner": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "edited": false, "score": 0, "creation_date": 1525309237, "post_id": 50145071, "comment_id": 87309088, "body": "[[&#39;A&#39;], [&#39;V&#39;], [&#39;V&#39;], [&#39;A&#39;], [&#39;A&#39;]], [[&#39;C&#39;], [&#39;A&#39;], [&#39;A&#39;], [&#39;V&#39;], [&#39;B&#39;]] this is desired. But, I don;t want to convert it to string and show. I need this updated list in next function."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 2, "last_activity_date": 1525309577, "last_edit_date": 1525309577, "creation_date": 1525305171, "answer_id": 50145071, "question_id": 50145046, "link": "https://stackoverflow.com/questions/50145046/read-a-list-of-another-file-in-python/50145071#50145071", "title": "Read a list of another file in python", "body": "<p>You can use a nested list comprehension to retain the structure of the input:</p>\n\n<pre><code>import ast\nnew_s = [ast.literal_eval(line.strip('\\n')+']') for line in open('filename.txt')]\nfinal_data = [[[a] for a, _ in i] for i in new_s]\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[[['A'], ['V'], ['V'], ['A'], ['A']], [['C'], ['A'], ['A'], ['V'], ['B']]]\n</code></pre>\n\n<p>However, instead of a list comprehension, you can create a temporary list before your inner <code>for</code> loop to store the result of grabbing the first character:</p>\n\n<pre><code>price=[]\nfor i in mylisttrain:\n   temp = []\n   for a, _ in i:\n     temp.append([a])\n   price.append(temp)\n</code></pre>\n\n<p>Edit: to remove the brackets, you can use additional unpacking:</p>\n\n<pre><code>a, b = price\nprint(a)\nprint(b)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['A'], ['V'], ['V'], ['A'], ['A']]\n[['C'], ['A'], ['A'], ['V'], ['B']]\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9631372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6962c794b493bfafb2a44be482eb797?s=128&d=identicon&r=PG&f=1", "display_name": "Viral Patel", "link": "https://stackoverflow.com/users/9631372/viral-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "accepted_answer_id": 50145071, "answer_count": 1, "score": -1, "last_activity_date": 1525309577, "creation_date": 1525304918, "last_edit_date": 1525305184, "question_id": 50145046, "link": "https://stackoverflow.com/questions/50145046/read-a-list-of-another-file-in-python", "title": "Read a list of another file in python", "body": "<p>My text file named test.txt is like below.</p>\n\n<pre><code>[['A', 3.992303979497981], ['V', 2.2251878737397264], ['V', 2.703754348429766], ['A', 3.900215472550781], ['A', 4.99003388996634]\n[['C', 3.5329528530441805], ['A', 1.1530906322097374], ['A', 2.666421771048816], ['V', 1.2859199105217558], ['B', 0.40879871489389696]\n</code></pre>\n\n<p>From another file code.py, How can I read the each line as a list with only values?\nmean I want to get the values in a mylist like</p>\n\n<pre><code>mylist = [[[A],[V],[V],[A],[A]],\n          [[C],[A],[A],[V],[B]]]\n</code></pre>\n\n<p>I tried doing below but It is not working.</p>\n\n<pre><code>import ast\nwith open('test.txt', 'r') as fp:\n    mylisttrain = [ast.literal_eval(line) for line in fp]\n\nprice=[]\nfor x in range(0,2):\n    for y in range(0,10):\n        price.append([mylisttrain[x][y][0]])\n</code></pre>\n\n<p>It gives output like</p>\n\n<pre><code>[[A],[V],[V],[A],[A],\n [C],[A],[A],[V],[B]]\n</code></pre>\n\n<p>But, I want output like this.</p>\n\n<pre><code>[[[A],[V],[V],[A],[A]],\n [[C],[A],[A],[V],[B]]]\n</code></pre>\n\n<p>I want each line of input to be in a sub-list of its own.</p>\n"}, {"tags": ["python", "html", "scripting", "jinja2"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9458140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c544a879a47940fb17f001b2d2f86e9?s=128&d=identicon&r=PG&f=1", "display_name": "saulm", "link": "https://stackoverflow.com/users/9458140/saulm"}, "edited": false, "score": 0, "creation_date": 1525308424, "post_id": 50145129, "comment_id": 87308930, "body": "It was my mistake when pasting it here... I do have it <code>if (form.marcadort1.value == 0 &amp;&amp;  form.primergol.value == {{(row[&quot;f1game_team1&quot;])}})</code> just made the &amp;&amp; correction. Still getting the same error."}, {"owner": {"reputation": 506, "user_id": 9601266, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TeFOWheyPa0/AAAAAAAAAAI/AAAAAAAAEOY/o2WKSdszQyA/photo.jpg?sz=128", "display_name": "Marcin Natanek", "link": "https://stackoverflow.com/users/9601266/marcin-natanek"}, "reply_to_user": {"reputation": 3, "user_id": 9458140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c544a879a47940fb17f001b2d2f86e9?s=128&d=identicon&r=PG&f=1", "display_name": "saulm", "link": "https://stackoverflow.com/users/9458140/saulm"}, "edited": false, "score": 0, "creation_date": 1525309229, "post_id": 50145129, "comment_id": 87309086, "body": "Maybe try to add quotes? <code>if (form.marcadort1.value == 0 &amp;&amp; form.primergol.value == &quot;{{(row[&quot;f1game_team1&quot;])}}&quot; )</code>"}], "tags": [], "owner": {"reputation": 506, "user_id": 9601266, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TeFOWheyPa0/AAAAAAAAAAI/AAAAAAAAEOY/o2WKSdszQyA/photo.jpg?sz=128", "display_name": "Marcin Natanek", "link": "https://stackoverflow.com/users/9601266/marcin-natanek"}, "is_accepted": false, "score": 0, "last_activity_date": 1525305596, "creation_date": 1525305596, "answer_id": 50145129, "question_id": 50145041, "link": "https://stackoverflow.com/questions/50145041/how-to-use-a-jinja-variable-in-a-html-script/50145129#50145129", "title": "How to use a Jinja variable in a HTML script?", "body": "<p>Did you not just miss the order of the parenthesis in this line? </p>\n\n<pre><code>if (form.marcadort1.value == 0 &amp;  form.primergol.value == {{(row[\"f1game_team1\"}}))\n</code></pre>\n\n<p>I think it should be</p>\n\n<pre><code>if (form.marcadort1.value == 0 &amp;&amp;  form.primergol.value == {{(row[\"f1game_team1\"])}})\n</code></pre>\n\n<p>It is a good idea to initialize JavaScript variables form what you pass to the template, to allow for easier debugging, and avoid such traps.</p>\n\n<p>Additionally, you should look up the difference between <code>&amp;</code> and <code>&amp;&amp;</code> operators, as I am sure you did not mean what you wrote.</p>\n"}], "owner": {"reputation": 3, "user_id": 9458140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c544a879a47940fb17f001b2d2f86e9?s=128&d=identicon&r=PG&f=1", "display_name": "saulm", "link": "https://stackoverflow.com/users/9458140/saulm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1067, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525305596, "creation_date": 1525304895, "question_id": 50145041, "link": "https://stackoverflow.com/questions/50145041/how-to-use-a-jinja-variable-in-a-html-script", "title": "How to use a Jinja variable in a HTML script?", "body": "<p>In my <em>application.py</em> I am doing a query and sending the results <strong>rows</strong> when rendering the html template:</p>\n\n<pre><code>rows = db.execute(\"SELECT * FROM fase1 JOIN gamesf1 ON fase1.f1game_id = gamesf1.f1game_id WHERE user_id = :userid AND fase1.f1game_id = :f1gameid\",\n                  userid=request.args.get(\"u\"), f1gameid=request.args.get(\"g\"))\n\nreturn render_template(\"updatef1.html\", rows=rows)`\n</code></pre>\n\n<p>In my <em>html</em> file I am able to use the variables inside <strong>rows</strong> as follow and make a form using them:</p>\n\n<pre><code>{% for row in rows %}\n  &lt;h2&gt;{{(row[\"f1game_team1\"])}} vs. {{(row[\"f1game_team2\"])}}&lt;/h2&gt;\n  &lt;form action=\"/f1updated\" id=\"f1update\" method=\"post\"&gt;\n     &lt;input type=\"number\" class=\"form-control\" id=\"marcadort1\" name=\"marcadort1\" value={{(row[\"marcador_t1\"])}} min=\"0\"&gt;\n     ...\n  &lt;/form&gt;\n{% endfor %}\n</code></pre>\n\n<p>And it works good.</p>\n\n<p>The problem I have is when writing a script function() inside the same <em>for</em> loop:</p>\n\n<pre><code>&lt;script&gt;\n   let form = document.getElementById(\"f1update\");\n   form.onsubmit = function() {\n      if (form.marcadort1.value == 0 &amp; form.marcadort2.value == 0 &amp; form.primergol.value != \"No Goles\")\n      {\n        alert(\"Si no hay goles, no puedes tener un pais en PRIMER GOL\");\n        return false;\n      }\n      if (form.marcadort1.value == 0 &amp;  form.primergol.value == {{(row[\"f1game_team1\"}}))\n      {\n        alert(\"No puedes poner PRIMER GOL al pais que tenga marcado 0\");\n        return false;\n      }\n   };\n&lt;/script&gt;\n</code></pre>\n\n<p>The first <em>if</em> works fine since I am not using any variables. But the second if uses the variable <strong>{{(row[\"f1game_team1\"}}</strong> and give me a <strong>Parsing error: Unexpected token {</strong></p>\n\n<p>Any help on how to use these variables inside the function script?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "scikit-learn", "svm", "text-classification", "predict"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1525304938, "post_id": 50145032, "comment_id": 87308192, "body": "Replace all pictures with text please."}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1525322042, "post_id": 50145032, "comment_id": 87312152, "body": "Just pass the comments column to <code>text_clf_svm()</code> and put the results from that into the category column"}, {"owner": {"reputation": 39, "user_id": 9062326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ede5075d816801c9ca02000543454f?s=128&d=identicon&r=PG&f=1", "display_name": "Chat Peters", "link": "https://stackoverflow.com/users/9062326/chat-peters"}, "edited": false, "score": 0, "creation_date": 1525397285, "post_id": 50145032, "comment_id": 87349687, "body": "Thank you Vivek, I passed in the comment section to i.e: category= text_clf_svm(df[Comment]) how do I construct a data frame that contains the newly predicted category, and the ID?"}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 9062326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ede5075d816801c9ca02000543454f?s=128&d=identicon&r=PG&f=1", "display_name": "Chat Peters", "link": "https://stackoverflow.com/users/9062326/chat-peters"}, "is_accepted": false, "score": 0, "last_activity_date": 1525398042, "creation_date": 1525398042, "answer_id": 50165966, "question_id": 50145032, "link": "https://stackoverflow.com/questions/50145032/make-predictions-from-a-trained-classifier-python-scikitlearn-svm/50165966#50165966", "title": "Make predictions from a trained classifier python #Scikitlearn #SVM", "body": "<p>I just figured out the solution. If I want to map the prediction results back to the original data frame, I have to add the new column to the old data frame</p>\n\n<pre><code>#Bring in new data and predict\nimport pandas as pd\ndf_p = pd.read_csv(\"comment_to_predict.csv\", sep = ',', usecols = range(2), encoding='iso-8859-1')\n\n#Map the predictions to the original data frame (df_p in my case)\ndf_p['category'] = text_clf_svm.predict(df_p['comment'])\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 9062326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ede5075d816801c9ca02000543454f?s=128&d=identicon&r=PG&f=1", "display_name": "Chat Peters", "link": "https://stackoverflow.com/users/9062326/chat-peters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1525398042, "creation_date": 1525304847, "last_edit_date": 1525317418, "question_id": 50145032, "link": "https://stackoverflow.com/questions/50145032/make-predictions-from-a-trained-classifier-python-scikitlearn-svm", "title": "Make predictions from a trained classifier python #Scikitlearn #SVM", "body": "<p>I need help classifying unseen data. I have a sample set of data. </p>\n\n<pre><code>    ID         Comment                Category\n    2017_01    inadequate stock       Availability\n    2017_02    Too many failures      Quality\n    2017_03    no documentation       Customer Service\n    2017_04    good product           Satisfied\n    2017_05    long delivery times    Delivery\n</code></pre>\n\n<p>I have trained a multilevel text classifier using this data. \nI tested the fit of data using MultinomialNB and SVM and I have chosen SVM as the final model </p>\n\n<pre><code># Support Vector Machines - calculating the SVM Fit\nfrom sklearn.linear_model import SGDClassifier\ntext_clf_svm = Pipeline([('vect', CountVectorizer()), ('tfidf', \nTfidfTransformer()),('clf-svm', SGDClassifier(loss='hinge', \npenalty='l2',alpha=1e-3, n_iter=5, random_state=42))])\n\ntext_clf_svm = text_clf_svm.fit(X_train, y_train)\npredicted_svm = text_clf_svm.predict(X_train)\nnp.mean(predicted_svm == y_train)\n0.8850102669404517\n</code></pre>\n\n<p>I tested the model on a comment from this year </p>\n\n<pre><code>print(text_clf_svm.predict([\"This is obsolete and being replaced by another product. not very robust and we have had many failures\"]))\n</code></pre>\n\n<p>['Quality']</p>\n\n<p><strong>Question: How do I pass in the unseen data from 2018 (Below) to get classified as above?</strong></p>\n\n<pre><code>   ID          Comment                            Category\n   2018_01     This product is obsolete \n   2018_02     Tech Support takes too long  \n   2018_03     2 out of 3 products failed   \n   2018_04     Delivery to APAC takes too long  \n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1525304901, "post_id": 50145024, "comment_id": 87308182, "body": "Why is a = 0 but c =  1? And yeah, you can use <code>pd.factorize</code>."}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1525307400, "creation_date": 1525307400, "answer_id": 50145329, "question_id": 50145024, "link": "https://stackoverflow.com/questions/50145024/is-there-an-alternative-for-pyspark-ml-feature-stringindexer-in-python-using-pan/50145329#50145329", "title": "Is there an alternative for pyspark.ml.feature StringIndexer in python using pandas, numpy?", "body": "<p>Since you mention <code>pandas</code>, try using ngroup</p>\n\n<pre><code>df.groupby('category').ngroup()\nOut[564]: \n0    0\n1    1\n2    2\n3    0\n4    0\n5    2\ndtype: int64\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8753703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4208abe6a146666426830c023e8bbf4?s=128&d=identicon&r=PG&f=1", "display_name": "bestie ", "link": "https://stackoverflow.com/users/8753703/bestie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525307400, "creation_date": 1525304730, "question_id": 50145024, "link": "https://stackoverflow.com/questions/50145024/is-there-an-alternative-for-pyspark-ml-feature-stringindexer-in-python-using-pan", "title": "Is there an alternative for pyspark.ml.feature StringIndexer in python using pandas, numpy?", "body": "<p>StringIndexer encodes a string column of labels to a column of label indices.</p>\n\n<pre><code>id | category | categoryIndex\n----|----------|---------------\n 0  | a        | 0.0\n 1  | b        | 2.0\n 2  | c        | 1.0\n 3  | a        | 0.0\n 4  | a        | 0.0\n 5  | c        | 1.0\n</code></pre>\n\n<p>How to achieve this in python without using pyspark.ml.feature StringIndexer ?</p>\n"}, {"tags": ["python", "web-scraping", "scrapy"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525305108, "post_id": 50144983, "comment_id": 87308228, "body": "The simplest answer is to reorganize your code so that instead of doing three separate xpath queries and trying to zip the results together, you do one top-level query to get the groups, and then, for each group, xpath the three subfields from the group."}], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 6058203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4f300880f0dd82f0cec4ec4e487ed74?s=128&d=identicon&r=PG&f=1", "display_name": "nevster", "link": "https://stackoverflow.com/users/6058203/nevster"}, "edited": false, "score": 0, "creation_date": 1525385842, "post_id": 50147223, "comment_id": 87347160, "body": "That worked a charm, thanks.  One item of note for anyone that reads the above code, the solution is <code>for sel in response.xpath(&#39;&#47;&#47;li[@class=&quot;dealerList__itemContainer&quot;]&#39;):</code> the example code with the variables names, carrs etc will need adjusting by changing names to name etc and getting rid of certain lines lines with the name.strip() etc in them."}], "tags": [], "owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "is_accepted": true, "score": 1, "last_activity_date": 1525323510, "creation_date": 1525323510, "answer_id": 50147223, "question_id": 50144983, "link": "https://stackoverflow.com/questions/50144983/xpath-has-a-null-value-which-is-messing-up-the-lists/50147223#50147223", "title": "xpath has a null value which is messing up the lists", "body": "<p>Your selector loop is a bit confusing.</p>\n\n<p>Here you loop through unsorted lists, where there's only one per age:</p>\n\n<pre><code>for sel in response.xpath('//ul[@class=\"dealerList__container\"]'):\n</code></pre>\n\n<p>What you want is to loop through all list items:</p>\n\n<pre><code>for sel in response.xpath('//li[@class=\"dealerList__itemContainer\"]'):\n</code></pre>\n\n<p>If you loop this way you can get names, addresses of each individual list item:</p>\n\n<pre><code>for sel in response.xpath('//li[@class=\"dealerList__itemContainer\"]'):\n    names = sel.xpath('.//*[@itemprop=\"legalName\"]/text() ').extract()\n    names = [name.strip() for name in names]\n    addresses = sel.xpath('.//article/a/div/p[@itemprop=\"address\"]/text()').extract()\n    addresses = [address.strip() for address in addresses]\n    carss = sel.xpath('.//article/a/div/p[@class=\"dealerList__itemCount\"]/span/text()').extract() \n    carss = [cars.strip() for cars in carss]\n    item = AutotraderItem()\n    item['name'] = name\n    item['address'] = address\n    item['cars'] = cars\n    yield item\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "is_accepted": false, "score": 0, "last_activity_date": 1525334517, "last_edit_date": 1525334517, "creation_date": 1525333821, "answer_id": 50149660, "question_id": 50144983, "link": "https://stackoverflow.com/questions/50144983/xpath-has-a-null-value-which-is-messing-up-the-lists/50149660#50149660", "title": "xpath has a null value which is messing up the lists", "body": "<p>Try this to get the results. You can use the <code>xpaths</code> in your scrapy project the way it is shown below:</p>\n\n<pre><code>class AutotraderSpider(scrapy.Spider):\n    name = \"autotrader\"\n    allowed_domains = [\"autotrader.co.uk\"]\n\n    start_urls = [\"https://www.autotrader.co.uk/car-dealers/search?advertising-location=at_cars&amp;postcode=m43aq&amp;radius=1500&amp;forSale=on&amp;toOrder=on&amp;sort=with-retailer-reviews&amp;page=822\"]\n\n    def parse(self, response):\n        for items in response.xpath(\"//article[@class='dealerList__item']\"):\n            name = items.xpath(\".//span[@itemprop='legalName']/text()\").extract_first()\n            address = ' '.join([' '.join(item.split()) for item in items.xpath(\".//p[@class='dealerList__itemAddress']/text()\").extract()])\n            cars = items.xpath(\".//span[@class='dealerList__itemCountNumber']/text()\").extract_first()\n            yield {\"Name\":name,\"Address\":address,\"Cars\":cars}\n</code></pre>\n\n<p>Partial output:</p>\n\n<pre><code>Midland Motors Leicester Street, Burton-On-Trent, Staffordshire DE14 3BA 2\nNs Cars 69 Eldon Street, Burton-On-Trent, Staffordshire DE15 0LT 1\nRS Sales Nottingham Ltd Unit 1 TRINITY PARK, RANDALL PARK WAY, Retford, Nottinghamshire DN22 7WF 1\nAdc Ltd Unit 3 HUCKNALL LANE, Nottingham, Nottinghamshire NG6 8AJ 5\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 6058203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4f300880f0dd82f0cec4ec4e487ed74?s=128&d=identicon&r=PG&f=1", "display_name": "nevster", "link": "https://stackoverflow.com/users/6058203/nevster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 50147223, "answer_count": 2, "score": 1, "last_activity_date": 1525334517, "creation_date": 1525304380, "question_id": 50144983, "link": "https://stackoverflow.com/questions/50144983/xpath-has-a-null-value-which-is-messing-up-the-lists", "title": "xpath has a null value which is messing up the lists", "body": "<p>i am scraping the names, addresses and number of cars from a webpage using the code below.</p>\n\n<p>However, every so often there is a null value for the number of cars.  Lets assume in the example below that the 8th dealer has a null number of cars returned so the lists returned are something like:</p>\n\n<p>names = a,b,c,d,e,f,g,h,i,j</p>\n\n<p>addresses = aa,bb,cc,dd,ee,ff,gg,hh,ii,jj</p>\n\n<p>cars = 1,2,3,4,5,6,7,9,10</p>\n\n<p>where dealer a at address aa has 1 car, dealer b at address bb has 2 cars etc but because dealer h at address hh has a null value of cars it is skipped and instead the code thinks dealer h has 9 cars and so dealer i and address ii has 10 cars and therefore dealer j at address jj is missed out because the list of cars has run out.</p>\n\n<p>therefore, where the code returns a null value of cars, how do i replace that with 0?  and so, in the example above dealer h and address hh would have 0 cars and therefore dealer i at address ii has 9 and dealer j at address jj would have 10 cars</p>\n\n<pre><code>import scrapy\n\nfrom autotrader.items import AutotraderItem\n\nclass AutotraderSpider(scrapy.Spider):\n    name = \"autotrader\"\n    allowed_domains = [\"autotrader.co.uk\"]\n\n    start_urls = [\"https://www.autotrader.co.uk/car-dealers/search?advertising-location=at_cars&amp;postcode=m43aq&amp;radius=1500&amp;forSale=on&amp;toOrder=on&amp;sort=with-retailer-reviews&amp;page=822\"]\n\n    def parse(self, response):\n        for sel in response.xpath('//ul[@class=\"dealerList__container\"]'):\n            names = sel.xpath('.//*[@itemprop=\"legalName\"]/text() ').extract()\n            names = [name.strip() for name in names]\n            addresses = sel.xpath('.//li/article/a/div/p[@itemprop=\"address\"]/text()').extract()\n            addresses = [address.strip() for address in addresses]\n            carss = sel.xpath('.//li/article/a/div/p[@class=\"dealerList__itemCount\"]/span/text()').extract() \n            carss = [cars.strip() for cars in carss]\n            result = zip(names, addresses, carss)\n            for name, address, cars in result:\n                item = AutotraderItem()\n                item['name'] = name\n                item['address'] = address\n                item['cars'] = cars\n                yield item\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 1, "creation_date": 1525304087, "post_id": 50144934, "comment_id": 87308029, "body": "Replace <code>df1</code> by <code>df1[df1.counts &gt; 100]</code>."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1525304151, "post_id": 50144934, "comment_id": 87308036, "body": "<code>df1.query(&quot;counts &gt; 100&quot;).nsmallest(....)</code>"}], "owner": {"reputation": 43, "user_id": 3865706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a73e0ca76401bc5fa7542b4f8e574f1?s=128&d=identicon&r=PG&f=1", "display_name": "avogadro", "link": "https://stackoverflow.com/users/3865706/avogadro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525303964, "creation_date": 1525303964, "question_id": 50144934, "link": "https://stackoverflow.com/questions/50144934/printing-smallest-values-from-a-column-from-rows-where-values-in-a-different-col", "title": "Printing smallest values from a column from rows where values in a different column were larger using pandas", "body": "<p>I have a table like the following:</p>\n\n<pre><code>            prov_code     stdev    median  counts   average\n15680  1518170208       NaN  0.003956     1.0  0.003956\n9819   1326073214       NaN  0.005536     1.0  0.005536\n12158  1396892758  0.002297  0.008135     5.0  0.007002\n7294   1235493859       NaN  0.011872     1.0  0.011872\n10241  1336302850       NaN  0.011971     1.0  0.011971\n538    1013948579       NaN  0.012109     1.0  0.012109\n12262  1407192602       NaN  0.014108     1.0  0.014108\n1729   1053544775  0.003417  0.018708     3.0  0.018736\n9987   1326336603  0.015904  0.024315     3.0  0.018938\n5614   1184677494  0.001838  0.021293     4.0  0.020641\n14932  1487910469  0.015710  0.022984     2.0  0.022984\n2410   1073857090  0.006663  0.022355     4.0  0.023586\n885    1023447968       NaN  0.023651     1.0  0.023651\n</code></pre>\n\n<p>I am printing this using:</p>\n\n<pre><code>print(df1.nsmallest(50,columns=['average']))\n</code></pre>\n\n<p>I would like to print the 50 smallest values for average when the counts are higher than a certain number say 100.</p>\n\n<p>Help is appreciated!</p>\n"}, {"tags": ["python", "arrays", "random", "binary"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1525303609, "post_id": 50144888, "comment_id": 87307911, "body": "No, they are not, and there are 0 guarantees that they ever will be. Your best bet is to deterministically generate unique rows and then permute them."}, {"owner": {"reputation": 1845, "user_id": 1245694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/061c75dcdd77111af71482c5a1f7fed0?s=128&d=identicon&r=PG", "display_name": "anishtain4", "link": "https://stackoverflow.com/users/1245694/anishtain4"}, "edited": false, "score": 0, "creation_date": 1525303985, "post_id": 50144888, "comment_id": 87308005, "body": "you can generate them and then compare all arrays for non-unique occurrences to replace them with a new random array. Since 200&lt;2^30 there should be plenty of cases. This way your arrays will be &quot;guaranteed&quot; to be unique"}, {"owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1525304163, "post_id": 50144888, "comment_id": 87308038, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Thanks for your comment! if I use permute/shuffle command in a loop, it will automatically result in unique arrays? Even if this is true, the issue herein is that, regardless the arrays are uniqe, I will be generating arrays in which the number of 1s and 0s are exactly the same (like 5 ones and 25 zeroes). Do you have any idea how I can cope with that?"}, {"owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "reply_to_user": {"reputation": 1845, "user_id": 1245694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/061c75dcdd77111af71482c5a1f7fed0?s=128&d=identicon&r=PG", "display_name": "anishtain4", "link": "https://stackoverflow.com/users/1245694/anishtain4"}, "edited": false, "score": 0, "creation_date": 1525304301, "post_id": 50144888, "comment_id": 87308069, "body": "@anishtain4 True, but how I may find the similar arrays, and how I may replace them with some new arrays that are not already in my list is my question indeed!!"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1525304523, "post_id": 50144888, "comment_id": 87308101, "body": "What is your uniqueness condition? Are they assumed to be sets or lists, i.e. are <code>[0,1]</code> and <code>[1,0]</code> the same arrays?"}], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 2, "last_activity_date": 1525304794, "last_edit_date": 1525304794, "creation_date": 1525304245, "answer_id": 50144972, "question_id": 50144888, "link": "https://stackoverflow.com/questions/50144888/generate-unique-random-binary-arrays-in-python/50144972#50144972", "title": "Generate unique random binary arrays in python", "body": "<p>Given that the length is large enough, the probability of generating two equal arrays is very low. Rejection sampling will be very fast:</p>\n\n<pre><code>import numpy as np\n\nparents = set()\nwhile len(parents) &lt; 200:\n    a = tuple(np.random.choice([0, 1], size=(30)))\n    if a not in parents: parents.add(a)\nparents = np.array([list(x) for x in parents])\n</code></pre>\n\n<p>And also, using set() for membership check is faster than arrays.</p>\n"}, {"comments": [{"owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "edited": false, "score": 0, "creation_date": 1525305208, "post_id": 50145004, "comment_id": 87308253, "body": "Thanks for your answer, but I get the following error when I run your code: &quot;The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()&quot;"}, {"owner": {"reputation": 512, "user_id": 8105524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrcPT.jpg?s=128&g=1", "display_name": "wowserx", "link": "https://stackoverflow.com/users/8105524/wowserx"}, "reply_to_user": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "edited": false, "score": 1, "creation_date": 1525305739, "post_id": 50145004, "comment_id": 87308358, "body": "Oops, forgot we were using numpy arrays. It&#39;d look something like: <code>not any((candidate_array == x).all() for x in parents</code>"}, {"owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "edited": false, "score": 0, "creation_date": 1525308430, "post_id": 50145004, "comment_id": 87308931, "body": "thanks! Could you please explain how you calculated that probability too?! Or at least give me a hint/reference so I can find out how to do so if you do not mind?!"}, {"owner": {"reputation": 512, "user_id": 8105524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrcPT.jpg?s=128&g=1", "display_name": "wowserx", "link": "https://stackoverflow.com/users/8105524/wowserx"}, "reply_to_user": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "edited": false, "score": 1, "creation_date": 1525311135, "post_id": 50145004, "comment_id": 87309471, "body": "Sure! It&#39;s the same as the birthday problem, which is very well documented: <a href=\"https://en.wikipedia.org/wiki/Birthday_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Birthday_problem</a>"}], "tags": [], "owner": {"reputation": 512, "user_id": 8105524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrcPT.jpg?s=128&g=1", "display_name": "wowserx", "link": "https://stackoverflow.com/users/8105524/wowserx"}, "is_accepted": false, "score": 3, "last_activity_date": 1525305844, "last_edit_date": 1525305844, "creation_date": 1525304578, "answer_id": 50145004, "question_id": 50144888, "link": "https://stackoverflow.com/questions/50144888/generate-unique-random-binary-arrays-in-python/50145004#50145004", "title": "Generate unique random binary arrays in python", "body": "<p>They are not unique, since if they were, then they would not be uniformly random each time. </p>\n\n<p>You could perform a quick check each time you generate a new array, and make sure it is unique (using set lookups rather than array lookups for larger parent arrays):</p>\n\n<pre><code>parents = []\nfor i in range(200):\n    unique_found = False\n    while not unique_found:\n        candidate_array = np.random.choice([0, 1], size=(30))\n        if not any((candidate_array == x).all() for x in parents):\n            unique_found = True\n    parents.append(candidate_array)\n</code></pre>\n\n<p>However, since there are 1,073,741,824 unique binary arrays of length 30, the probability of getting 2 or more duplicates is:</p>\n\n<p>1 - (1 - (1/1,073,741,824)) ^ (200 choose 2) = 0.0000185, or about 1 time of every 54,000. </p>\n\n<p>So you might be ok with ignoring the problem. </p>\n"}], "owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "accepted_answer_id": 50144972, "answer_count": 2, "score": 2, "last_activity_date": 1525305844, "creation_date": 1525303491, "question_id": 50144888, "link": "https://stackoverflow.com/questions/50144888/generate-unique-random-binary-arrays-in-python", "title": "Generate unique random binary arrays in python", "body": "<p>I want to generate 200 random binary arrays of size 30, but I need all of them to be unique! I use to following to generate the arrays:</p>\n\n<pre><code>import numpy as np\n\nparents = []\nfor i in range(200):\n    parents.append(np.random.choice([0, 1], size=(30)))\nparents = np.vstack(parents)\n</code></pre>\n\n<p>Are the arrays made in this way already unique (if so, how may I check that)? If not, how do I modify my code so I get unique arrays?</p>\n"}, {"tags": ["python", "linux", "redhat", "yum", "rhel"], "comments": [{"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 1, "creation_date": 1525303430, "post_id": 50144871, "comment_id": 87307869, "body": "Did you upgrade python2 and override your system python?"}, {"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 0, "creation_date": 1525303477, "post_id": 50144871, "comment_id": 87307880, "body": "Are you just trying to run <code>yum</code>?"}, {"owner": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "reply_to_user": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 0, "creation_date": 1525303671, "post_id": 50144871, "comment_id": 87307932, "body": "@jgritty - am using python 2.7.2 on my machine ,that could be the reason?how to fix the issue?yes,I am trying to just run yum"}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1525309398, "post_id": 50144871, "comment_id": 87309129, "body": "You are running OEL6. You can get the latest supported <code>python</code> and <code>python-libs</code> from <a href=\"https://public-yum.oracle.com\" rel=\"nofollow noreferrer\">public-yum.oracle.com</a>. Replace <code>python-2.7.2</code> with these distro libs. You may also need to reinstall <code>yum</code> if the directory <code>&#47;usr&#47;lib&#47;python2.6&#47;site-packages&#47;yum</code> and its contents were wiped out. Running <code>rpm -V yum</code> will show if any files are missing."}], "answers": [{"comments": [{"owner": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525303743, "post_id": 50144904, "comment_id": 87307952, "body": "I understand the reason,not quite sure how to put back the official distro python or how else to resolve this?please provide guidance"}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "reply_to_user": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525324370, "post_id": 50144904, "comment_id": 87312877, "body": "@user2125827 One of the answers on your first link describes it. Except don&#39;t use centos 5. Use your version. Download the python RPMs and install them with rpm."}, {"owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "edited": false, "score": 0, "creation_date": 1525342765, "post_id": 50144904, "comment_id": 87322774, "body": "Install python-2.6.6-66.el6_8.x86_64.rpm, python-devel-2.6.6-66.el6_8.x86_64.rpm with <code># rpm -Uvh --force</code> to overwrite the alien &quot;2.7&quot; . Available extras: EPEL.repo \u2192 <code>python34-devel</code> (3.4.5). Python 2.7 : Install to `--prefix=/opt/python27, or other hidden location."}], "tags": [], "owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "is_accepted": false, "score": -1, "last_activity_date": 1525303652, "creation_date": 1525303652, "answer_id": 50144904, "question_id": 50144871, "link": "https://stackoverflow.com/questions/50144871/no-module-named-yum/50144904#50144904", "title": "No module named yum", "body": "<p>Apparently you replaced the system version of Python.</p>\n\n<p>Don't do that. Use virtualenv, pip, and/or other tools to run custom versions of Python when you need them.</p>\n\n<p>Try to put back the official distro Python installation.</p>\n"}, {"comments": [{"owner": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525316948, "post_id": 50145421, "comment_id": 87310828, "body": "<code>rpm -q yum</code> command throws the output as <code>[username@ibot21 ~]$ rpm -q yum yum-3.2.29-60.0.1.el6.noarch</code> ,so whats the command in my second step adn the dependencies step? is it  <code>rpm -qpR yum-3.2.29-60.0.1 </code> ,please clarify"}, {"owner": {"reputation": 1428, "user_id": 8489834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lDNZXjwpIwQ/AAAAAAAAAAI/AAAAAAAAACU/5Jx0up57I9Y/photo.jpg?sz=128", "display_name": "Yaroslav Surzhikov", "link": "https://stackoverflow.com/users/8489834/yaroslav-surzhikov"}, "reply_to_user": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525319347, "post_id": 50145421, "comment_id": 87311418, "body": "@user2125827 as far as i can see second command should be as follows: <code>rpm -qpR yum-3.2.29-60.0.1.el6.noarch</code> since you&#39;ve allready have properly formated package name"}, {"owner": {"reputation": 1428, "user_id": 8489834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lDNZXjwpIwQ/AAAAAAAAAAI/AAAAAAAAACU/5Jx0up57I9Y/photo.jpg?sz=128", "display_name": "Yaroslav Surzhikov", "link": "https://stackoverflow.com/users/8489834/yaroslav-surzhikov"}, "reply_to_user": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525319426, "post_id": 50145421, "comment_id": 87311441, "body": "BTW i think you could try third step ingoring the second one: <code>rpm -Uvh yum-3.2.29-60.0.1.el6.noarch</code> even without listing requirements"}, {"owner": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525368378, "post_id": 50145421, "comment_id": 87339333, "body": "running <code>rpm -Uvh yum-3.2.29-60.0.1.el6.noarch</code> throws the error <code>error: open of yum-3.2.29-60.0.1.el6.noarch failed: No such file or directory</code>"}, {"owner": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525369817, "post_id": 50145421, "comment_id": 87340067, "body": "where is <code>yum-3.2.29-60.0.1.el6.noarch</code> located?how to find where is it located?"}, {"owner": {"reputation": 1428, "user_id": 8489834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lDNZXjwpIwQ/AAAAAAAAAAI/AAAAAAAAACU/5Jx0up57I9Y/photo.jpg?sz=128", "display_name": "Yaroslav Surzhikov", "link": "https://stackoverflow.com/users/8489834/yaroslav-surzhikov"}, "reply_to_user": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525373126, "post_id": 50145421, "comment_id": 87341731, "body": "@user2125827 try download <a href=\"http://yum.oracle.com/repo/OracleLinux/OL6/latest/source/getPackageSource/yum-3.2.29-60.0.1.el6.src.rpm\" rel=\"nofollow noreferrer\">yum</a> from here and install using <code>rpm -iUvh yum-3.2.29-60.0.1.el6.src.rpm</code>"}, {"owner": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "edited": false, "score": 0, "creation_date": 1525391566, "post_id": 50145421, "comment_id": 87348392, "body": "the output is <code>warning: user mockbuild does not exist - using root warning: group mockbuild does not exist - using root ########################################### [100%]</code> error still says."}], "tags": [], "owner": {"reputation": 1428, "user_id": 8489834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lDNZXjwpIwQ/AAAAAAAAAAI/AAAAAAAAACU/5Jx0up57I9Y/photo.jpg?sz=128", "display_name": "Yaroslav Surzhikov", "link": "https://stackoverflow.com/users/8489834/yaroslav-surzhikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1525314824, "last_edit_date": 1525314824, "creation_date": 1525308561, "answer_id": 50145421, "question_id": 50144871, "link": "https://stackoverflow.com/questions/50144871/no-module-named-yum/50145421#50145421", "title": "No module named yum", "body": "<p>Well, assuming rpm is not broken - you could do something like this:</p>\n\n<p>First: </p>\n\n<pre><code>rpm -q yum\n</code></pre>\n\n<p>for retrieving installed ( but broken ) yum package. For example on my Centos7 i get next result: <code>yum-3.4.3-154.el7.centos.1.noarch.rpm</code></p>\n\n<p>But that's not all. You should remove part between <code>.el7</code> and <code>noarch</code>. Then, you can proceed to second step</p>\n\n<p>Second:</p>\n\n<pre><code>rpm -qpR &lt;yum package name&gt;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>rpm -qR yum\n</code></pre>\n\n<p>for getting yum dependecies list.</p>\n\n<p>And the last one:</p>\n\n<pre><code>rpm -Uvh &lt;packagenames&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 316, "user_id": 10151998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0827bfaae81c2b2796d05ace238f81b2?s=128&d=identicon&r=PG&f=1", "display_name": "Rob T.", "link": "https://stackoverflow.com/users/10151998/rob-t"}, "is_accepted": false, "score": 1, "last_activity_date": 1534087102, "last_edit_date": 1534087102, "creation_date": 1534086754, "answer_id": 51810111, "question_id": 50144871, "link": "https://stackoverflow.com/questions/50144871/no-module-named-yum/51810111#51810111", "title": "No module named yum", "body": "<p>It appears what got clobbered was the system <strong>Python</strong> in <code>/usr/bin</code>, that knows where to find the python modules and shared objects installed by RHEL.  So you need to reinstall RHEL python rpms, not just yum.</p>\n\n<p>RHEL uses <code>/usr/bin/python</code> for many of it's utilities.  <code>yum</code> is a Python (wrapper) script.</p>\n\n<p>It looks like you are using RHEL 6. So /usr/bin/python must be 2.6.  That's what RHEL 6 shipped with.  (For RHEL 7 it needs to be 2.7.5)</p>\n\n<p>So, to fix things you need to reinstall the system Python from the RHEL rpms.  For the system to work correctly, /usr/bin/python can't be an arbitrary version of Python.  </p>\n\n<p>The yum rpm will just reinstall the yum files to the original path but you need the RHEL /usr/bin/python which is loading the modules from the correct directories.  The rpm will not install the module in the Python sense.  Also, there are many other modules with shared library dependencies for things like DBus interfaces.   </p>\n\n<p>So obtain the RHEL python-* rpms for your release. You'll need to download them, or use the ISO/DVD. rpm by itself doesn't know how to access software repos over the network that's yum's job so you have to do it <strong>manually</strong>. </p>\n\n<p>Alternatively if you have another system running the <strong>same</strong> version of RHEL you could copy files over.  You can use <code>rpm -Va</code> to get a list of all files that belong to rpms that have been modified. There are a number of files that  get modified during normal operation.</p>\n\n<p>(Moral of the story, don't overwrite /usr/bin/python, /usr/bin/python2. RHEL (and other platforms, Fedora, etc.) depend on the system python to work correctly.)</p>\n"}], "owner": {"reputation": 8316, "user_id": 2125827, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e2931c1ee2f6b4fefef20b2ef4a25082?s=128&d=identicon&r=PG", "display_name": "carte blanche", "link": "https://stackoverflow.com/users/2125827/carte-blanche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3832, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1534087102, "creation_date": 1525303319, "question_id": 50144871, "link": "https://stackoverflow.com/questions/50144871/no-module-named-yum", "title": "No module named yum", "body": "<p>I tried the solution @<a href=\"https://stackoverflow.com/questions/18632016/yum-no-module-named-yum\">yum---no module named yum</a> and <a href=\"https://stackoverflow.com/questions/48932847/no-module-named-yum-with-python-2-7\">&quot;No module named yum&quot; with Python 2.7</a> but didn't help,it sounds like the yum module is not a stock Python module and need to build yum against your Python 2.7 install,can anyone provide guidance on how to do this?</p>\n\n<p>machine details:</p>\n\n<pre><code>[usernames@machine]$ cat /etc/*elease\nLSB_VERSION=base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch\nOracle Linux Server release 6.6\nRed Hat Enterprise Linux Server release 6.6 (Santiago)\nOracle Linux Server release 6.6\n</code></pre>\n\n<p>Error:-</p>\n\n<pre><code>There was a problem importing one of the Python modules\nrequired to run yum. The error leading to this problem was:\n\n   No module named yum\n\nPlease install a package which provides this module, or\nverify that the module is installed correctly.\n\nIt's possible that the above module doesn't match the\ncurrent version of Python, which is:\n2.7.12 (default, Aug 11 2016, 12:02:22) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-11)]\n\nIf you cannot solve this problem yourself, please go to \nthe yum faq at:\n  http://yum.baseurl.org/wiki/Faq\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 0, "creation_date": 1525317929, "post_id": 50144847, "comment_id": 87311093, "body": "Does your app install the program and then launch it, or does it launch a program that was already installed? In either case, you shouldn&#39;t call the installer - you should call the NPP executable that was created by the installer (a common location is <code>&quot;C:\\Program Files (x86)\\Notepad++\\notepad++.exe&quot;</code>, but this depends on where you installed the program to)."}, {"owner": {"reputation": 1, "user_id": 9732635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef019899631540cc66ee574c609fcc76?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/9732635/jjj"}, "reply_to_user": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 0, "creation_date": 1525332209, "post_id": 50144847, "comment_id": 87316197, "body": "My app intends to install the program first and close it, then later on aims to launch it. there are some processes in between"}, {"owner": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 0, "creation_date": 1525376480, "post_id": 50144847, "comment_id": 87343326, "body": "Ok, then if your app is controlling the installer, you should know where it creates the executable. If you don&#39;t alter the installation location, I think it installs by default under <code>C:\\Program Files\\Notepad++</code>. However, if the installation goes well, there should be an <code>NPP_DIRECTORY</code> environment variable that contains the directory NPP was installed to, meaning that you can find the executable at <code>%NPP_DIRECTORY%\\notepad++.exe</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "is_accepted": false, "score": 0, "last_activity_date": 1574033714, "creation_date": 1574033714, "answer_id": 58906247, "question_id": 50144847, "link": "https://stackoverflow.com/questions/50144847/launch-an-installed-program-using-ppython/58906247#58906247", "title": "Launch an installed program using Ppython", "body": "<p>In python, you can use env</p>\n\n<pre><code>env\n#{'TERM_PROGRAM': 'Apple_Terminal',\n# 'SHELL': '/bin/bash',\n# etc\n</code></pre>\n\n<p>to see if it has installed any new environment variables after you install the program. You may need to exit python and reenter to see if there is a new variable with the install. Otherwise you have to find it the old fashioned way in ProgramFiles or the windows icon properties</p>\n"}], "owner": {"reputation": 1, "user_id": 9732635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef019899631540cc66ee574c609fcc76?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/9732635/jjj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574033714, "creation_date": 1525303129, "question_id": 50144847, "link": "https://stackoverflow.com/questions/50144847/launch-an-installed-program-using-ppython", "title": "Launch an installed program using Ppython", "body": "<p>I have been working working on an app that launches an installed program using python. I do not want to reinstall the file each time i start my app as mentioned below</p>\n\n<pre><code>import os\nos.startfile('C://Users//Downloads//npp.7.5.6.Installer.exe')\n</code></pre>\n\n<p>I just want to launch the installed one in the C: directory \nDo i have to search the file from the C: directory and then launch it ? or is there an easier way to do that ?</p>\n\n<hr>\n\n<pre><code>def locate(pattern, pathpattern=\"*\", root=os.curdir):\n    '''Locate all files matching supplied filename pattern in and below\n    supplied root directory.'''\n    for path, dirs, files in os.walk(os.path.abspath(root)):\n        if fnmatch.fnmatch(path, pathpattern):\n            for filename in fnmatch.filter(files, pattern):\n                yield os.path.join(path, filename)\n</code></pre>\n"}, {"tags": ["python", "error-handling", "user-input"], "comments": [{"owner": {"reputation": 2236, "user_id": 3385651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OS7Kn.png?s=128&g=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/3385651/bruno"}, "edited": false, "score": 0, "creation_date": 1525303804, "post_id": 50144817, "comment_id": 87307968, "body": "You could wrap all of it in one single function receiving question and error as string, and the list to iterate and find if the input is valid"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8177336"}, "is_accepted": false, "score": 0, "last_activity_date": 1525304254, "creation_date": 1525304254, "answer_id": 50144973, "question_id": 50144817, "link": "https://stackoverflow.com/questions/50144817/python-how-to-create-for-multiple-user-input-error-handling/50144973#50144973", "title": "Python - How to create for multiple user input error handling?", "body": "<p>You can use the try/except statements and loop once for all of three inputs instead of looping again and again. Here is what I came up with. If it doesn't help, happy to delete it. </p>\n\n<pre><code>def get_filters():\n    city_options, month_options, day_options = ['Chicago','New York City','Washington'.title()], ['January','February','March','April','May','June','July','August','September','November','December','all'.title()], ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday','all'.title()]\n    while True:\n        try:\n            city = city_options.index(input('\\nInsert name of the city to analyze! (Chicago, New York City, Washington)\\n'.title()))\n            month = month_options.index(input('\\nInsert month to filter by or \"all\" to apply no month filter! (January, February, etc.)\\n'.title()))\n            day = day_options.index(input('\\nInsert day of the week to filter by or \"all\" to apply no day filter! (Monday, Tuesday, etc.)\\n'.title()))\n            return city_options[city], month_options[month], day_options[day]\n        except ValueError:\n            print (\"Your previous choice is not available. Please try again\")\nprint (get_filters())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 1653395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae21a8138d894bd5d3f6f8c6dc9d5a02?s=128&d=identicon&r=PG", "display_name": "Odin", "link": "https://stackoverflow.com/users/1653395/odin"}, "is_accepted": false, "score": 0, "last_activity_date": 1525312977, "creation_date": 1525312977, "answer_id": 50145894, "question_id": 50144817, "link": "https://stackoverflow.com/questions/50144817/python-how-to-create-for-multiple-user-input-error-handling/50145894#50145894", "title": "Python - How to create for multiple user input error handling?", "body": "<p>A little refactored version of your solution. Not sure whether this is of huge help.</p>\n\n<pre><code>def get_valid_input(input_msg, options):\n    while True:\n        entered_value = input(input_msg)\n        if entered_value in options:\n            break\n        else:\n            print('Your choice is not available. Please try again')\n            continue\n\ndef get_filters():\n    city_options = ['Chicago', 'New York City', 'Washington'.title()]\n    month_options = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'November',\n                     'December', 'all'.title()]\n    day_options = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday', 'all']\n\n    city_input_msg = 'Insert name of the city to analyze! (Chicago, New York City, Washington): '\n    get_valid_input(city_input_msg, city_options)\n\n    month_input_msg = 'Insert month to filter by or \"all\" to apply no month filter! (January, February, etc.): '\n    get_valid_input(month_input_msg, month_options)\n\n    day_input_msg = 'Insert day of the week to filter by or \"all\" to apply no day filter! (Monday, Tuesday, etc.): '\n    get_valid_input(day_input_msg, day_options)\n\n    return city, month, day\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 9732652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b0606a1812d959a71dc769299b11056?s=128&d=identicon&r=PG&f=1", "display_name": "LOR121", "link": "https://stackoverflow.com/users/9732652/lor121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525312977, "creation_date": 1525302836, "last_edit_date": 1525302980, "question_id": 50144817, "link": "https://stackoverflow.com/questions/50144817/python-how-to-create-for-multiple-user-input-error-handling", "title": "Python - How to create for multiple user input error handling?", "body": "<p>I'm new to python and I was trying to create an error handling for multiple users input. I made the code as the following.\n`</p>\n\n<pre><code>#load and filter dataset\nimport pandas as pd\n\nCITY_DATA = {'Chicago' : 'chicago.csv',\n            'New York City':'new_york_city.csv',\n            'Washington':'washington.csv'}\n\n#filtering dataset\ndef get_filters ():\n\n    city_options = ['Chicago','New York City','Washington'.title()]\n    month_options = ['January','February','March','April','May','June','July','August','September','November','December','all'.title()]\n    day_options = ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday','all']\n\n    while True:\n        city = input('\\nInsert name of the city to analyze! (Chicago, New York City, Washington)\\n'.title())\n        if city in city_options :\n            break\n        else:\n            print('Your choice is not available. Please try again')\n\n    while True:\n        month = input('\\nInsert month to filter by or \"all\" to apply no month filter! (January, February, etc.)\\n'.title())\n        if month in month_options :\n            break\n        else:\n            print('Your choice is not available. Please try again')\n\n    while True:\n        day = input('\\nInsert day of the week to filter by or \"all\" to apply no day filter! (Monday, Tuesday, etc.)\\n'.title())\n        if day in day_options :\n            break\n        else:\n            print('Your choice is not available. Please try again')\n\n    return city, month, day\n</code></pre>\n\n<p>But I believe there is a simpler way for this or maybe create a function? Any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "ubuntu"], "comments": [{"owner": {"reputation": 5381, "user_id": 9203110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PQESrk-PCHA/AAAAAAAAAAI/AAAAAAAAAJk/6bqvsnrh4Dg/photo.jpg?sz=128", "display_name": "match", "link": "https://stackoverflow.com/users/9203110/match"}, "edited": false, "score": 3, "creation_date": 1525302800, "post_id": 50144762, "comment_id": 87307755, "body": "This is likely something you can get from your window manager - or from X or Wayland. The term you probably want is &#39;focused window&#39; - look at things like <code>xdotool</code> on the command line to see what&#39;s possible."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525303048, "post_id": 50144762, "comment_id": 87307813, "body": "One thing to keep in mind: I frequently have, say, an emacs window both foregrounded and focused, and a browser window that&#39;s in the background, but not blocked by anything, and still responding to trackpad swipes. If that&#39;s not a problem you&#39;re worried about, and you&#39;re happy reporting that only emacs is &quot;active&quot; at the moment, your life is a lot easier."}, {"owner": {"reputation": 314, "user_id": 7865286, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/184988aa049e4985dab94a6eb51e8220?s=128&d=identicon&r=PG&f=1", "display_name": "user7865286", "link": "https://stackoverflow.com/users/7865286/user7865286"}, "reply_to_user": {"reputation": 5381, "user_id": 9203110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PQESrk-PCHA/AAAAAAAAAAI/AAAAAAAAAJk/6bqvsnrh4Dg/photo.jpg?sz=128", "display_name": "match", "link": "https://stackoverflow.com/users/9203110/match"}, "edited": false, "score": 0, "creation_date": 1525303330, "post_id": 50144762, "comment_id": 87307851, "body": "@match Yes, the term I was looking for was <code>focused window</code>. Found the answer here: <a href=\"https://askubuntu.com/questions/25644/which-window-has-current-focus\" title=\"which window has current focus\">askubuntu.com/questions/25644/which-window-has-current-focus</a>"}], "owner": {"reputation": 314, "user_id": 7865286, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/184988aa049e4985dab94a6eb51e8220?s=128&d=identicon&r=PG&f=1", "display_name": "user7865286", "link": "https://stackoverflow.com/users/7865286/user7865286"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525302426, "creation_date": 1525302426, "question_id": 50144762, "link": "https://stackoverflow.com/questions/50144762/retrieving-actively-used-process-with-python", "title": "Retrieving actively used process with Python", "body": "<p>I am trying to build an activity monitor that tracks what program I have used. </p>\n\n<p>Is there a command that retrieves the name of an active process? I am using Ubuntu, and unlike <code>top</code> which tells me all the process, I want the name of the process being <code>really used</code>, as in not in the background but I am clicking on them. Once I know which program it is, is there also a command that gives specifics such as meta-data to it?</p>\n"}, {"tags": ["python", "django", "django-rest-framework", "query-string"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 1, "creation_date": 1525304813, "post_id": 50144740, "comment_id": 87308164, "body": "I don&#39;t believe you would ever get a <code>404</code> because of URL routing in the latter case. I suspect you have changed something in between or you are raising the 404 yourself within your view. It could help if you post your whole <code>volume_view</code> method."}, {"owner": {"reputation": 4086, "user_id": 2047185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff595c207c9b935811a691d2f3d2551?s=128&d=identicon&r=PG", "display_name": "Willemoes", "link": "https://stackoverflow.com/users/2047185/willemoes"}, "edited": false, "score": 0, "creation_date": 1525333215, "post_id": 50144740, "comment_id": 87316730, "body": "Have you tried using <code>request.query_params.get(&#39;page&#39;)</code> inside your view ?"}], "answers": [{"tags": [], "owner": {"reputation": 2958, "user_id": 3781180, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a7fddcdb3bbcaa60147ebe56231c22c1?s=128&d=identicon&r=PG&f=1", "display_name": "OneRaynyDay", "link": "https://stackoverflow.com/users/3781180/oneraynyday"}, "is_accepted": true, "score": 0, "last_activity_date": 1525359469, "creation_date": 1525359469, "answer_id": 50158121, "question_id": 50144740, "link": "https://stackoverflow.com/questions/50144740/how-to-capture-optional-get-parameters-django-something-wrong-with-queryparam-p/50158121#50158121", "title": "How to capture optional GET parameters django (something wrong with queryparam page?)", "body": "<p>Okay so the issue was actually in my own stupidity:</p>\n\n<p>I had a <em>custom paginator/permissions/preprocessing mixin base class</em> that applied to a subset of my views. This paginator base class uses PageNumberPagination pretty much. I copy pasted the boilerplate class definition to a lot of views and before I knew it the page parameter was taken by that paginator before it gets caught in my actual view.</p>\n\n<p><strong>tl;dr: When you mix DRF's middleware into your views, know exactly what you're mixing in and what kind of queryparams they require to function.</strong></p>\n"}], "owner": {"reputation": 2958, "user_id": 3781180, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a7fddcdb3bbcaa60147ebe56231c22c1?s=128&d=identicon&r=PG&f=1", "display_name": "OneRaynyDay", "link": "https://stackoverflow.com/users/3781180/oneraynyday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 50158121, "answer_count": 1, "score": 1, "last_activity_date": 1525359469, "creation_date": 1525302327, "last_edit_date": 1525358786, "question_id": 50144740, "link": "https://stackoverflow.com/questions/50144740/how-to-capture-optional-get-parameters-django-something-wrong-with-queryparam-p", "title": "How to capture optional GET parameters django (something wrong with queryparam page?)", "body": "<p>Say someone wants to <code>GET</code> an entity called a <code>Volume</code>, which is a model in django. I have exposed an endpoint:</p>\n\n<pre><code>urlpatterns = [ ... \n    path('vol', views.volume_view, name='volume query'),\n    path('vol/&lt;str:volume&gt;', views.volume_view, name='volume specific query'),\n    ... ]\n</code></pre>\n\n<p>and the view <code>volume_view</code> has a signature like (it's inside of a <code>GenericViewSet</code>):</p>\n\n<pre><code>def volume_view(self, request, volume=\"\", format=None):\n    ... \n</code></pre>\n\n<p>All is good when the user makes a request like:</p>\n\n<pre><code>requests.get(\"http:/.../my_app/vol\")\n</code></pre>\n\n<p>or, if the user makes a request like:</p>\n\n<pre><code>requests.get(\"http:/.../my_app/vol/some_prefix_here\")\n</code></pre>\n\n<p>which returns to the user <em>all</em> of the volumes that I currently have stored, and a subset, respectively. However, I wanted to allow for some smart, optional, options, like: </p>\n\n<ul>\n<li><code>page</code>: do you want to paginate the responses?</li>\n<li><code>from</code> and <code>to</code>: timestamps to give a range query.</li>\n<li><code>prefix</code>: search for any volume matching this prefix.</li>\n</ul>\n\n<p>So I thought, put them inside the <code>request.GET</code> header dictionary. Once I put in for example:</p>\n\n<pre><code>requests.get(\"http:/.../my_app/vol\", params={\"page\":False})\n</code></pre>\n\n<p>The urlpatterns could not find it! Which makes sense, since in GET's, the params are appended to your url as a querystring:</p>\n\n<p>When I run <code>python manage.py runserver</code> on this, I get this with no querystring:</p>\n\n<pre><code>[02/May/2018 22:23:13] \"GET /my_app/vol HTTP/1.1\" 200 123\n</code></pre>\n\n<p>And this when I do run it with a querystring:</p>\n\n<pre><code>Not Found: /my_app/vol\n[02/May/2018 22:42:43] \"GET /my_app/vol?page=False HTTP/1.1\" 404 26\n</code></pre>\n\n<p>And so I ask, what is the proper way of handling this situation? Any comments would be appreciated. Thanks.</p>\n\n<p>EDIT:</p>\n\n<p>Selcuk reassured me that I wrote something wrong so I dug into the manage.py shell and ran some requests manually on a <code>/abcd</code> url, and look what happened:</p>\n\n<pre><code>&gt;&gt;&gt; requests.get('http://lx-chmmutil02:8000/.../abcd/')\n&lt;Response [200]&gt;\n&gt;&gt;&gt; requests.get('http://lx-chmmutil02:8000/.../abcd/', params={\"foo\":\"bar\"})\n&lt;Response [200]&gt;\n&gt;&gt;&gt; requests.get('http://lx-chmmutil02:8000/.../abcd/', params={\"page\":\"False\"})\n&lt;Response [404]&gt;\n&gt;&gt;&gt; requests.get('http://lx-chmmutil02:8000/.../abcd/', params={\"boo\":\"True\"})\n&lt;Response [200]&gt;\n&gt;&gt;&gt; requests.get('http://lx-chmmutil02:8000/../abcd/', params={\"boo\":\"False\"})\n&lt;Response [200]&gt;\n</code></pre>\n\n<p>Any requests going to /abcd/ with parameters containing the word page dies immediately. Somewhere in a middleware or django itself, it is intercepting that key word and exploding.</p>\n\n<p><em>Is there something going on with the key word <code>page</code> or am I going insane?</em></p>\n\n<p>If I change my keyword to not include \"page\", it works.</p>\n\n<p>Some things I'm using:</p>\n\n<ul>\n<li>DRF's <code>ModelViewSet</code> for the view, and <code>volume_view = SomeViewSet.as_view({'get':'list'})</code>.</li>\n<li>DRF's <code>Serializer</code> class.</li>\n<li>DRF's <code>LimitOffsetPagination</code> class.</li>\n</ul>\n"}, {"tags": ["python", "list"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8474919"}, "edited": false, "score": 0, "creation_date": 1525303872, "post_id": 50144841, "comment_id": 87307981, "body": "Thank you! I ended up doing something very similar.                                                I think my mistake was honestly misunderstanding how to use  &quot;.extend&quot;"}], "tags": [], "owner": {"reputation": 294, "user_id": 5651419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ROKBW.jpg?s=128&g=1", "display_name": "What", "link": "https://stackoverflow.com/users/5651419/what"}, "is_accepted": false, "score": 1, "last_activity_date": 1525309004, "last_edit_date": 1525309004, "creation_date": 1525303067, "answer_id": 50144841, "question_id": 50144717, "link": "https://stackoverflow.com/questions/50144717/creating-a-list-from-elements-in-another-list-while-dividing-the-elements-into/50144841#50144841", "title": "Creating a list from elements in another list, while dividing the elements into subsequent lists in python", "body": "<p>This would work for your string:</p>\n\n<pre><code>#!/usr/bin/env python\n\ndata = 'a3buysi8byjs'\n\nif data[-1].isdigit():\n    data += \"1\"\n\nsublist = []\ntarget = []\nfor i in data:\n    if i.isdigit():\n        target.append(sublist)\n        sublist = []\n    else:\n        sublist.append(i)\n\n\nprint(target)\n</code></pre>\n\n<p>Would print:</p>\n\n<pre><code>[['a'], ['b', 'u', 'y', 's', 'i'], ['b', 'y', 'j', 's']]\n</code></pre>\n\n<p>Alternative using itertools.groupby:</p>\n\n<pre><code>[list(k) for i, k in itertools.groupby(data, lambda x: x.isdigit()) if not i]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 241, "user_id": 8698128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df4749e29099a5ee646b6238221a70a?s=128&d=identicon&r=PG&f=1", "display_name": "Sal Arora", "link": "https://stackoverflow.com/users/8698128/sal-arora"}, "is_accepted": false, "score": 1, "last_activity_date": 1525303736, "creation_date": 1525303736, "answer_id": 50144913, "question_id": 50144717, "link": "https://stackoverflow.com/questions/50144717/creating-a-list-from-elements-in-another-list-while-dividing-the-elements-into/50144913#50144913", "title": "Creating a list from elements in another list, while dividing the elements into subsequent lists in python", "body": "<p>I believe this should get you what you are looking for:</p>\n\n<pre><code>s =  'a3buysi8byjs5'\n\npartial = []\nfinal = []\nfor c in s:\n    if c.isdigit():\n        final.append(partial)\n        partial = []\n    else:\n        partial.append(c)\n\nif len(partial) &gt; 0:\n    final.append(partial)\n\nprint(final)\n</code></pre>\n\n<p>This should print out: [['a'], ['b', 'u', 'y', 's', 'i'], ['b', 'y', 'j', 's']]</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8474919"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525309004, "creation_date": 1525302046, "question_id": 50144717, "link": "https://stackoverflow.com/questions/50144717/creating-a-list-from-elements-in-another-list-while-dividing-the-elements-into", "title": "Creating a list from elements in another list, while dividing the elements into subsequent lists in python", "body": "<p>I'm sure this question has been asked (probably in much more eloquent ways), but I can't find an answer, thus I apologize if this is a duplicate. </p>\n\n<p>I am trying to iterate through a list and add each element that is not a number into another list. However, each time a number is encountered in the original list, I want a new list to be created within the secondary list. For example, if 'a3buysi8byjs' is the input, the output would be: [[a], [b,u,y,s,i], [b,y,j,s]].</p>\n\n<p>I have tried several things, and decided to simplify my code and start from scratch, which led to the following:</p>\n\n<pre><code>     for e in S_li: #going through initial list, all elements available\n         if e.isdigit() != True: # if it is an integer, create another list within poss \n             poss.extend(e) #if it is a letter add to the same list in poss.\n</code></pre>\n\n<p>*I also left my comments, because maybe that will help clarify my intent. </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "logging"], "comments": [{"owner": {"reputation": 1952, "user_id": 7402287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yBi84.jpg?s=128&g=1", "display_name": "securisec", "link": "https://stackoverflow.com/users/7402287/securisec"}, "reply_to_user": {"reputation": 9258, "user_id": 5665870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQBw0.png?s=128&g=1", "display_name": "Sphinx", "link": "https://stackoverflow.com/users/5665870/sphinx"}, "edited": false, "score": 0, "creation_date": 1525302151, "post_id": 50144628, "comment_id": 87307626, "body": "This I have considered @Sphinx, but this doesnt work because then it will print to stdout as a json schema"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 3, "creation_date": 1525302378, "post_id": 50144628, "comment_id": 87307668, "body": "What you want to do is create a custom <code>Formatter</code> that takes a <code>LogRecord</code> and JSON-encodes it (maybe preprocessing it first, of course). Then you create a stdout handler that uses the default formatter, and a file handler that uses your custom formatter. This isn&#39;t entirely trivial, but the <a href=\"https://docs.python.org/3/howto/logging.html#advanced-logging-tutorial\" rel=\"nofollow noreferrer\">Advanced Logging Tutorial</a> should get you started, and <a href=\"https://docs.python.org/3/howto/logging-cookbook.html#use-of-alternative-formatting-styles\" rel=\"nofollow noreferrer\">some sections of the Cookbook</a> have some relevant-ish sample code."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525302597, "post_id": 50144628, "comment_id": 87307710, "body": "There are also a variety of pre-made structured-logging libraries on PyPI. I don&#39;t know which ones are any good or which features they each have, but I wouldn&#39;t be surprised if there&#39;s one that does what you want with a bit of minor configuration instead of writing a bunch of code."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525302796, "post_id": 50144628, "comment_id": 87307753, "body": "One last thing: You can&#39;t just &quot;write JSON to a file&quot;. Well, you <i>can</i> (as long as your top-level texts are always objects or arrays), but most JSON-parsing code won&#39;t handle an arbitrary stream of JSON texts in a single file. You want to use something like <a href=\"http://jsonlines.org/\" rel=\"nofollow noreferrer\">JSON Lines</a>, or one of the two near-identical formats, which slightly restrict what&#39;s allowed in JSON encoding so you can guarantee exactly one JSON text ends up on each line of a text file."}, {"owner": {"reputation": 1952, "user_id": 7402287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yBi84.jpg?s=128&g=1", "display_name": "securisec", "link": "https://stackoverflow.com/users/7402287/securisec"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1525303266, "post_id": 50144628, "comment_id": 87307848, "body": "@abarnert I am exploring the advanced section of the cookbook at the moment. It seems that would be workable. Maybe. I am not sure how it will handle a big JSON object I am already logging, but here goes trying. Thanks!"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525304463, "post_id": 50144628, "comment_id": 87308091, "body": "@securisec Embedding a big JSON object inside another JSON object should just work, whether you store it as a dict value, or encode it to a JSON text and make it a string value. The second one will obviously be less human-readable, but I assume you&#39;re dumping to JSON because you want to process it with software, not read it in less."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525304511, "post_id": 50144628, "comment_id": 87308099, "body": "@securisec Meanwhile, if you get something working, and then you can condense it down to an example that would help other people, you should write and accept an answer to your own question."}, {"owner": {"reputation": 1952, "user_id": 7402287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yBi84.jpg?s=128&g=1", "display_name": "securisec", "link": "https://stackoverflow.com/users/7402287/securisec"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525304650, "post_id": 50144628, "comment_id": 87308129, "body": "Will do @abarnert. I am exploring your first answer regarding setting two formatters, but you are right on your third answer; it is being a pain to work with the output in JSON format."}], "answers": [{"comments": [{"owner": {"reputation": 1933, "user_id": 2140757, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/UeDxR.jpg?s=128&g=1", "display_name": "ahuigo", "link": "https://stackoverflow.com/users/2140757/ahuigo"}, "edited": false, "score": 1, "creation_date": 1604476092, "post_id": 50146869, "comment_id": 114355720, "body": "Unfortunately, the output data is not valid json data. <code>json.load(&quot;{&#39;time&#39;:&#39;2020-11-04 15:42:30,193&#39;, &#39;name&#39;: &#39;Jack\\&quot;s&#39;}&quot;)</code>"}, {"owner": {"reputation": 848, "user_id": 675834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b1285d442510c1f017dec5c2f2a65f2e?s=128&d=identicon&r=PG", "display_name": "overgroove", "link": "https://stackoverflow.com/users/675834/overgroove"}, "edited": false, "score": 0, "creation_date": 1616419059, "post_id": 50146869, "comment_id": 117988108, "body": "Be careful. Your solution will break if your message has a single quote."}], "tags": [], "owner": {"reputation": 1952, "user_id": 7402287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yBi84.jpg?s=128&g=1", "display_name": "securisec", "link": "https://stackoverflow.com/users/7402287/securisec"}, "is_accepted": true, "score": 7, "last_activity_date": 1525320975, "creation_date": 1525320975, "answer_id": 50146869, "question_id": 50144628, "link": "https://stackoverflow.com/questions/50144628/python-logging-into-file-as-a-dictionary-or-json/50146869#50146869", "title": "Python logging into file as a dictionary or JSON", "body": "<p>So based on @abarnert, i found this <a href=\"https://docs.python.org/2/howto/logging-cookbook.html\" rel=\"noreferrer\">Link</a> which provided a good path to making this concept work for the most part. The code as it stands is:</p>\n\n<pre><code>logger=logging.getLogger()\nlogger.setLevel(logging.DEBUG)\n\nfile_handler=logging.FileHandler('foo.log')\nstream_handler=logging.StreamHandler()\n\nstream_formatter=logging.Formatter(\n    '%(asctime)-15s %(levelname)-8s %(message)s')\nfile_formatter=logging.Formatter(\n    \"{'time':'%(asctime)s', 'name': '%(name)s', \\\n    'level': '%(levelname)s', 'message': '%(message)s'}\"\n)\n\nfile_handler.setFormatter(file_formatter)\nstream_handler.setFormatter(stream_formatter)\n\nlogger.addHandler(file_handler)\nlogger.addHandler(stream_handler)\n</code></pre>\n\n<p>Although it does not fully meet the requirement, it doesnt require any pre processing, and allows me to create two log handlers. </p>\n\n<p>Afterwards, i can use something like: </p>\n\n<pre><code>with open('foo.log') as f:\n    logs = f.read().splitlines()\nfor l in logs:\n    for key, value in eval(l):\n        do something ...\n</code></pre>\n\n<p>to pull <code>dict</code> objects instead of fighting with improperly formatted JSON to accomplish what i had set out to accomplish. </p>\n\n<p>Still am hoping for a more elegant solution. </p>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 7766657, "user_type": "registered", "profile_image": "https://graph.facebook.com/883079341833549/picture?type=large", "display_name": "Kobe Janssens", "link": "https://stackoverflow.com/users/7766657/kobe-janssens"}, "is_accepted": false, "score": 2, "last_activity_date": 1597663490, "last_edit_date": 1597663490, "creation_date": 1591718897, "answer_id": 62286960, "question_id": 50144628, "link": "https://stackoverflow.com/questions/50144628/python-logging-into-file-as-a-dictionary-or-json/62286960#62286960", "title": "Python logging into file as a dictionary or JSON", "body": "<p>With this code you can add the full traceback, timestamp and level to a json file of choice.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import json\nimport traceback\nfrom datetime import datetime\n\ndef addLogging(logDict:dict):\n    loggingsFile = 'loggings.json'\n\n    with open(loggingsFile) as f:\n        data = json.load(f)\n\n    data.append(logDict)\n\n    with open(loggingsFile, 'w') as f:\n        json.dump(data, f)\n\ndef currentTimeUTC():\n    return datetime.now().strftime('%d/%m/%Y %H:%M:%S')\n\ntry:\n    print(5 / 0)\nexcept ZeroDivisionError:\n    fullTraceback = str(traceback.format_exc())\n    addLogging({'timestamp': currentTimeUTC(), 'level': 'error', 'traceback': fullTraceback})\n</code></pre>\n<p>Output:</p>\n<pre><code>[\n    {\n        &quot;timestamp&quot;: &quot;09/06/2020 17:38:00&quot;,\n        &quot;level&quot;: &quot;error&quot;,\n        &quot;traceback&quot;: &quot;Traceback (most recent call last):\\n  File \\&quot;d:testFullTraceback.py\\&quot;, line 19, in &lt;module&gt;\\n    print(5/0)\\nZeroDivisionError: division by zero\\n&quot;\n    }\n]\n</code></pre>\n"}], "owner": {"reputation": 1952, "user_id": 7402287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yBi84.jpg?s=128&g=1", "display_name": "securisec", "link": "https://stackoverflow.com/users/7402287/securisec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22578, "favorite_count": 3, "accepted_answer_id": 50146869, "answer_count": 2, "score": 11, "last_activity_date": 1597663490, "creation_date": 1525301342, "last_edit_date": 1525575254, "question_id": 50144628, "link": "https://stackoverflow.com/questions/50144628/python-logging-into-file-as-a-dictionary-or-json", "title": "Python logging into file as a dictionary or JSON", "body": "<p>I am trying to set up logging where I can log in both stdout and on to a file. This i have accomplished using the following code: </p>\n\n<pre><code>logging.basicConfig(\n        level=logging.DEBUG, format='%(asctime)-15s %(levelname)-8s %(message)s',\n        datefmt='%a, %d %b %Y %H:%M:%S', handlers=[logging.FileHandler(path), logging.StreamHandler()])\n</code></pre>\n\n<p>The output of this something like this:</p>\n\n<pre><code>2018-05-02 18:43:33,295 DEBUG    Starting new HTTPS connection (1): google.com\n2018-05-02 18:43:33,385 DEBUG    https://google.com:443 \"GET / HTTP/1.1\" 301 220\n2018-05-02 18:43:33,389 DEBUG    Starting new HTTPS connection (1): www.google.com\n2018-05-02 18:43:33,490 DEBUG    https://www.google.com:443 \"GET / HTTP/1.1\" 200 None\n</code></pre>\n\n<p>What I am trying to accomplish is logging this output to a file not as it is printing to stdout, but as a dictionary or JSON object similar to something like this (while keeping the stdout as it is at the moment):</p>\n\n<p><code>[{'time': '2018-05-02 18:43:33,295', 'level': 'DEBUG', 'message': 'Starting new HTTPS connection (1): google.com'}, {...}, {...}]</code></p>\n\n<p>Is this doable? I understand that I can post process this log file after my process is finished, but I am looking for a more elegant solution because certain things i am logging are quite big objects themselves. </p>\n"}, {"tags": ["python", "gunicorn", "gevent"], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1525304243, "creation_date": 1525304243, "answer_id": 50144971, "question_id": 50144603, "link": "https://stackoverflow.com/questions/50144603/python-gevent-in-function-that-is-not-patchable/50144971#50144971", "title": "python gevent in function that is not patchable", "body": "<p>Yes, it makes perfect sense to use (real) threads or processes from within <code>gevent</code> for code that needs to be asynchronous but can't be monkeypatched by <code>gevent</code>.</p>\n\n<p>Of course it can be tricky to get right\u2014first, because you may have monkeypatched <code>threading</code>, and second, because you want your cooperative threads to be able to block on a pool or a pool result without blocking the whole main thread.</p>\n\n<p>But that's exactly what <a href=\"http://www.gevent.org/api/gevent.threadpool.html\" rel=\"nofollow noreferrer\"><code>gevent.threadpool</code></a> is for.</p>\n\n<p>If you would have used <code>concurrent.futures.ThreadPoolExecutor</code> in a non-<code>gevent</code> app, monkeypatch <code>threading</code> and then use <code>gevent.threadpool.ThreadPoolExecutor</code>.</p>\n\n<p>If you would have used <code>multiprocessing.dummy.Pool</code> in a non-<code>gevent</code> app, monkeypatch <code>threading</code> and then use <code>gevent.threadpool.ThreadPool</code>.</p>\n\n<p>Either way, methods like <code>map</code>, <code>submit</code>, <code>apply_async</code>, etc. work pretty much the way you'd expect. The <code>Future</code> and <code>AsyncResult</code> objects play nice with greenlets; you can <code>gevent.wait</code> things, or attach callbacks (which will run as greenlets), etc. Most of the time it just works like magic, and the rest of the time it's not too hard to figure out.</p>\n\n<hr>\n\n<p>Using processes instead of threads is doable, but not as nice. AFAIK, there's no wrappers for anything as complete as <code>multiprocessing.Process</code> or <code>multiprocessing.Pool</code>, and trying to use the normal <code>multiprocessing</code> just hangs. You can manually <a href=\"http://www.gevent.org/api/gevent.html#working-with-muliple-processes\" rel=\"nofollow noreferrer\"><code>fork</code></a> if you're not on Windows, but that's about all that's built in. If you really need multiprocessing, you may need to do some multi-layered thing, where your greenlets don't talk to a process, but instead talk to a thread that creates a pipe, forks, execs, and then proxies between the gevent world and the child process.</p>\n\n<p>If the calls are taking a long time because they're waiting on I/O from a backend service, or waiting on a subprocess, or doing GIL-releasing numpy work, I wouldn't bother trying to do <code>multiprocessing</code>. But if they're taking a long time because they're burning CPU\u2026 well, then you either need to get multiprocessing working, or go lower-level and just spin off a <code>subprocess.Popen([sys.executable, 'workerscript.py'])</code>.</p>\n"}], "owner": {"reputation": 111, "user_id": 4444993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f70b3525bf85b9729f14f0ec39f5501?s=128&d=identicon&r=PG", "display_name": "Raphael Philipe", "link": "https://stackoverflow.com/users/4444993/raphael-philipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525304243, "creation_date": 1525301102, "question_id": 50144603, "link": "https://stackoverflow.com/questions/50144603/python-gevent-in-function-that-is-not-patchable", "title": "python gevent in function that is not patchable", "body": "<p>I'm working in a REST service that is basically an wrapper to a library. I'm using flask and gunicorn. Basically each endpoint in the service maps to a different function in the library.</p>\n\n<p>It happens that some of the calls to the library can take a long time to return, and that is making my service run out of workers once the service starts receiving a few requests. Right now I'm using the default gunicorn workers (sync).</p>\n\n<p>I wanted to use gevent workers in order to be able to receive more requests, because not every endpoint takes that long to execute. However the function in the library does not use any of the patchable gevent functions, meaning that it won't cooperatively schedule to another green thread. </p>\n\n<p>I had this idea of using a pool of threads or processes to handle the calls to the library asynchronously, and then each green thread produced by gunicorn would sleep until the process is not finished. Does this idea make sense at all? </p>\n\n<p>Is it possible to use the multiprocessing.Process with gevent? and then have the join method to give up control to another green thread, and only return when the process is finished?</p>\n"}, {"tags": ["python", "machine-learning", "neural-network", "conv-neural-network", "pytorch"], "comments": [{"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525301080, "post_id": 50144597, "comment_id": 87307388, "body": "related: <a href=\"https://discuss.pytorch.org/t/if-we-combine-one-trainable-parameters-with-a-non-trainable-parameter-is-the-original-trainable-param-trainable/17388\" rel=\"nofollow noreferrer\">discuss.pytorch.org/t/&hellip;</a>"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525301087, "post_id": 50144597, "comment_id": 87307391, "body": "related: <a href=\"https://discuss.pytorch.org/t/trainable-variable-in-loss-function-and-matrix-multiplication/495\" rel=\"nofollow noreferrer\">discuss.pytorch.org/t/&hellip;</a>"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525893876, "post_id": 50144597, "comment_id": 87539336, "body": "perhaps useful, to delete attributes... <a href=\"https://discuss.pytorch.org/t/how-does-one-delete-layers-in-a-neural-network/17704\" rel=\"nofollow noreferrer\">discuss.pytorch.org/t/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525354409, "post_id": 50150075, "comment_id": 87330437, "body": "what I want to know is, if I update the result (after passing it through cross entropy) with an the optimizer class, if only the trainable params will change. I guess I can just try it and check if the values of the trainable thing changed or not after optimizer.step()"}, {"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "reply_to_user": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525360126, "post_id": 50150075, "comment_id": 87334470, "body": "So you want do fed data first through a trainable network and than later through a non trainable and your question is if the first network will be trained properly?"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525361205, "post_id": 50150075, "comment_id": 87335175, "body": "no. I want to combine two networks in any way I want with Op (say summation since its the example you suggested) and then I want to pass data through this new network but only train (WLOG) with respect to the trainable network. Semantically, the new network is just a placeholder, it has no real meaning expect as a way to pass data through the combined nets (and perhaps as a way to get gradients for the trainable net)."}, {"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "reply_to_user": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525362109, "post_id": 50150075, "comment_id": 87335738, "body": "Actually I don&#39;t think this should be a problem, but I haven&#39;t tried. If you&#39;re doubtful about it, you can try a simple dummy example with similar structure before - Good luck!"}], "tags": [], "owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "is_accepted": false, "score": 6, "last_activity_date": 1535041380, "last_edit_date": 1535041380, "creation_date": 1525335128, "answer_id": 50150075, "question_id": 50144597, "link": "https://stackoverflow.com/questions/50144597/if-we-combine-one-trainable-parameters-with-a-non-trainable-parameter-is-the-or/50150075#50150075", "title": "If we combine one trainable parameters with a non-trainable parameter, is the original trainable param trainable?", "body": "<p>I'm not sure if this is what you want to know.</p>\n\n<p>But when I understand you correct - you want to know if the results of operations with <em>non-trainable</em> and <em>trainable</em> variables are still <em>trainable</em>?</p>\n\n<p>If so, this is indeed the case, here is an example:</p>\n\n<pre><code>&gt;&gt;&gt; trainable = torch.ones(1, requires_grad=True)\n&gt;&gt;&gt; non_trainable = torch.ones(1, requires_grad=False)\n&gt;&gt;&gt; result = trainable + non_trainable\n&gt;&gt;&gt; result.requires_grad\nTrue\n</code></pre>\n\n<p>Maybe you might also find <code>torch.set_grad_enabled</code> useful, with some examples given here (PyTorch Migration Guide for version <code>0.4.0</code>):</p>\n\n<p><a href=\"https://pytorch.org/2018/04/22/0_4_0-migration-guide.html\" rel=\"nofollow noreferrer\">https://pytorch.org/2018/04/22/0_4_0-migration-guide.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525731204, "post_id": 50215456, "comment_id": 87463888, "body": "so we don&#39;t need to delete the attributes like <code>conv0.weight</code>? Thats what I was suggested on pytorch forum but seemed odd to me...I guess I just need to make sure the right variables are inserted in the computation tree for backwards computations to be done right, correct? What I had in mind was having 3 networks, 2 the real nets Im combining and the 3rd just as a place holder. The placeholder set to <code>eval()</code> and the untrained net also set to eval. But the other not set to eval. Then the placeholder net would hold the combination for the forward coputations to be done right."}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525742871, "post_id": 50215456, "comment_id": 87466561, "body": "the issue with your code is that your missing the crucial part that is not working my code, the <b>combining the networks</b>. If you try combining the params of one net to the params of another net...it just doesn&#39;t work for some reason."}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525743769, "post_id": 50215456, "comment_id": 87466725, "body": "I pasted my code that combines params if u want to see it...though the code isn\u2019t working...it says the parsms dont have the \u2018requires_grad\u2019 flag set to a true."}, {"owner": {"reputation": 1882, "user_id": 969289, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d412482e10f582b8bcf60bd40abe3a85?s=128&d=identicon&r=PG", "display_name": "ginge", "link": "https://stackoverflow.com/users/969289/ginge"}, "reply_to_user": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525768439, "post_id": 50215456, "comment_id": 87475702, "body": "@CharlieParker, just to be clear, you want to have three networks N1, N2, N3 and combine them to a network N4 by doing, for every layer i: L1 * L3 + L2 * L3? And you want the backprop to only affect the variables of N1?"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525796678, "post_id": 50215456, "comment_id": 87493680, "body": "Not exactly but that should be enough to solve my problem. Its more like i combine 2 params and want to backprop through net1"}, {"owner": {"reputation": 1882, "user_id": 969289, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d412482e10f582b8bcf60bd40abe3a85?s=128&d=identicon&r=PG", "display_name": "ginge", "link": "https://stackoverflow.com/users/969289/ginge"}, "reply_to_user": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1525960896, "post_id": 50215456, "comment_id": 87566057, "body": "I&#39;ve edited the main answer in response for your code"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1526082752, "post_id": 50215456, "comment_id": 87619781, "body": "hmm, why are you using inplace operations for combining the nets? I think that would yield the wrong gradients for the trainable net..."}], "tags": [], "owner": {"reputation": 1882, "user_id": 969289, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d412482e10f582b8bcf60bd40abe3a85?s=128&d=identicon&r=PG", "display_name": "ginge", "link": "https://stackoverflow.com/users/969289/ginge"}, "is_accepted": false, "score": 5, "last_activity_date": 1525960863, "last_edit_date": 1525960863, "creation_date": 1525699738, "answer_id": 50215456, "question_id": 50144597, "link": "https://stackoverflow.com/questions/50144597/if-we-combine-one-trainable-parameters-with-a-non-trainable-parameter-is-the-or/50215456#50215456", "title": "If we combine one trainable parameters with a non-trainable parameter, is the original trainable param trainable?", "body": "<p>Original answer below, here I address the added code you've uploaded.</p>\n\n<p>in your <code>combine_nets</code> functions you needlessly try to remove and set the attribute, when you can simply copy your required value like this:</p>\n\n<pre><code>def combine_nets(net_train, net_no_train, net_place_holder):\n    '''\n        Combine nets in a way train net is trainable\n    '''\n    params_train = net_no_train.named_parameters()\n    dict_params_place_holder = dict(net_place_holder.named_parameters())\n    dict_params_no_train = dict(net_train.named_parameters())\n    for name, param_train in params_train:\n        if name in dict_params_place_holder:\n            param_no_train = dict_params_no_train[name]\n            W_new = param_train + param_no_train \n            dict_params_no_train[name].data.copy_(W_new.data)\n    return net_place_holder\n</code></pre>\n\n<p>Due to other errors in the code you've supplied I couldn't make it run without further changes so I attach below an updated version of the code I've given you earlier:</p>\n\n<pre><code>import torch\nfrom torch import nn\nfrom torch.autograd import Variable\nimport torch.optim as optim\n\n\n# toy feed-forward net\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n\n        self.fc1 = nn.Linear(10, 5)\n        self.fc2 = nn.Linear(5, 5)\n        self.fc3 = nn.Linear(5, 1)\n\n    def forward(self, x):\n        x = self.fc1(x)\n        x = self.fc2(x)\n        x = self.fc3(x)\n        return x\n\ndef combine_nets(net_train, net_no_train, net_place_holder):\n    '''\n        Combine nets in a way train net is trainable\n    '''\n    params_train = net_no_train.named_parameters()\n    dict_params_place_holder = dict(net_place_holder.named_parameters())\n    dict_params_no_train = dict(net_train.named_parameters())\n    for name, param_train in params_train:\n        if name in dict_params_place_holder:\n            param_no_train = dict_params_no_train[name]\n            W_new = param_train + param_no_train\n            dict_params_no_train[name].data.copy_(W_new.data)\nreturn net_place_holder\n\n\n# define random data\nrandom_input1 = Variable(torch.randn(10,))\nrandom_target1 = Variable(torch.randn(1,))\nrandom_input2 = Variable(torch.rand(10,))\nrandom_target2 = Variable(torch.rand(1,))\nrandom_input3 = Variable(torch.randn(10,))\nrandom_target3 = Variable(torch.randn(1,))\n\n# define net\nnet1 = Net()\nnet_place_holder = Net()\nnet2 = Net()\n\n# train the net1\ncriterion = nn.MSELoss()\noptimizer = optim.SGD(net1.parameters(), lr=0.1)\nfor i in range(100):\n    net1.zero_grad()\n    output = net1(random_input1)\n    loss = criterion(output, random_target1)\n    loss.backward()\n    optimizer.step()\n\n# train the net2\ncriterion = nn.MSELoss()\noptimizer = optim.SGD(net2.parameters(), lr=0.1)\nfor i in range(100):\n    net2.zero_grad()\n    output = net2(random_input2)\n    loss = criterion(output, random_target2)\n    loss.backward()\n    optimizer.step()\n\n# train the net2\ncriterion = nn.MSELoss()\noptimizer = optim.SGD(net_place_holder.parameters(), lr=0.1)\nfor i in range(100):\n    net_place_holder.zero_grad()\n    output = net_place_holder(random_input3)\n    loss = criterion(output, random_target3)\n    loss.backward()\n    optimizer.step()\n\nprint('#'*50)\nprint('Weights before combining')\nprint('')\nprint('net1 fc2 weight after train:')\nprint(net1.fc3.weight)\nprint('net2 fc2 weight after train:')\nprint(net2.fc3.weight)\n\ncombine_nets(net1, net2, net_place_holder)\n\nprint('#'*50)\nprint('')\nprint('Weights after combining')\nprint('net1 fc2 weight after train:')\nprint(net1.fc3.weight)\nprint('net2 fc2 weight after train:')\nprint(net2.fc3.weight)\n\n\n# train the net\ncriterion = nn.MSELoss()\noptimizer1 = optim.SGD(net1.parameters(), lr=0.1)\nfor i in range(100):\n    net1.zero_grad()\n    net2.zero_grad()\n    output1 = net1(random_input3)\n    output2 = net2(random_input3)\n    loss1 = criterion(output1, random_target3)\n    loss2 = criterion(output2, random_target3)\n    loss = loss1 + loss2\n    loss.backward()\n    optimizer1.step()\n\nprint('#'*50)\nprint('Weights after further training')\nprint('')\nprint('net1 fc2 weight after freeze:')\nprint(net1.fc3.weight)\nprint('net2 fc2 weight after freeze:')\nprint(net2.fc3.weight)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 2, "creation_date": 1525983979, "post_id": 50270587, "comment_id": 87578540, "body": "why is using eval for any network bad/incorrect in my case? just curious."}, {"owner": {"reputation": 121, "user_id": 9768866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58978039eceb113da36a20837dd860b0?s=128&d=identicon&r=PG&f=1", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/9768866/ganesh"}, "reply_to_user": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1526017127, "post_id": 50270587, "comment_id": 87587143, "body": "Modules such as dropout or batchNormalization need to behave differently during training and evaluation. It is not enough to freeze the layers/network and getting the behaviour you want. It is like an additional mode that we need to use for specific modules during non-training."}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1526078660, "post_id": 50270587, "comment_id": 87618999, "body": "I&#39;ve only tried your first option because the second option is harder for me to do because the nets I&#39;m using have already been trained. So I&#39;m sort of have two nets that are &quot;fine tuning each other&quot;. I can&#39;t tell if its not working because the code has a bug or because perhaps the method I am using just doesn&#39;t work. Perhaps a good idea would be to make my new data set of size say, 1 and see if it can at least memorize one data point even with this funny training method."}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1526082509, "post_id": 50270587, "comment_id": 87619730, "body": "Ok, I definitively think the first suggestion (at least on my code) doesn&#39;t work cuz I just did W+0 and trained W (0 are the non-trainable params) on 1 example on cifar 10 and the net can&#39;t learn that 1 example. There must be something wrong..."}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1526085710, "post_id": 50270587, "comment_id": 87620234, "body": "note that only when I use the <code>combine_nets </code> code it doesn&#39;t work. When I train on the net directly it of course, memorizes the single example, as expected."}], "tags": [], "owner": {"reputation": 121, "user_id": 9768866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58978039eceb113da36a20837dd860b0?s=128&d=identicon&r=PG&f=1", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/9768866/ganesh"}, "is_accepted": false, "score": 7, "last_activity_date": 1526656208, "last_edit_date": 1526656208, "creation_date": 1525947445, "answer_id": 50270587, "question_id": 50144597, "link": "https://stackoverflow.com/questions/50144597/if-we-combine-one-trainable-parameters-with-a-non-trainable-parameter-is-the-or/50270587#50270587", "title": "If we combine one trainable parameters with a non-trainable parameter, is the original trainable param trainable?", "body": "<p>First, <strong>do not use <em>eval()</em></strong> mode for any network. Set <strong>requires_grad</strong> flag to <strong>false</strong> to make the parameters non-trainable for <strong>only</strong> the second network and train the placeholder network. </p>\n\n<p>If this doesn't work, you can try the following approach which I prefer.</p>\n\n<p>Instead of using multiple networks, you can use a single network and use a non-trainable layer as a parallel connection after every trainable layer before non-linearity.</p>\n\n<p>For example look at this image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9HChb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9HChb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Set requires_grad flag to false to make the parameters non-trainable. Do not use <code>eval()</code> and train the network. </p>\n\n<p>Combining outputs of the layers before non-linearity is important. Initialize the parameters of the parallel layer and choose the post-operation such that it gives the same result as when you combine the parameters.</p>\n"}], "owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2068, "favorite_count": 1, "answer_count": 3, "score": 11, "last_activity_date": 1535041380, "creation_date": 1525301068, "last_edit_date": 1526693753, "question_id": 50144597, "link": "https://stackoverflow.com/questions/50144597/if-we-combine-one-trainable-parameters-with-a-non-trainable-parameter-is-the-or", "title": "If we combine one trainable parameters with a non-trainable parameter, is the original trainable param trainable?", "body": "<p>I have two nets and I combine their parameters in some fancy way using only pytorch operations. I store the result in a third net which has its parameters set to <code>non-trainable</code>. Then I proceed and pass data through this new net. The new net is just a placeholder for:</p>\n\n<pre><code>placeholder_net.W = Op( not_trainable_net.W, trainable_net.W )\n</code></pre>\n\n<p>Then I pass data:</p>\n\n<pre><code>output = placeholder_net(input)\n</code></pre>\n\n<p>I am concerned that since the parameters of the placeholder net are set to <code>non-trainable</code> that it won\u2019t actually train the variable that it should train. Will this happen? Or what is the result when you combine a trainable param with and non-trainable param (and then set that where the param is not trainable)?</p>\n\n<hr>\n\n<p>Current solution:</p>\n\n<pre><code>del net3.conv0.weight\nnet3.conv0.weight = net.conv0.weight + net2.conv0.weight\n</code></pre>\n\n<hr>\n\n<pre><code>import torch\nfrom torch import nn\nimport torch.optim as optim\n\nimport torchvision\nimport torchvision.transforms as transforms\n\nfrom collections import OrderedDict\n\nimport copy\n\ndef dont_train(net):\n    '''\n    set training parameters to false.\n    '''\n    for param in net.parameters():\n        param.requires_grad = False\n    return net\n\ndef get_cifar10():\n    transform = transforms.Compose(\n        [transforms.ToTensor(),\n         transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5))])\n    trainset = torchvision.datasets.CIFAR10(root='./data', train=True, download=True, transform=transform)\n    trainloader = torch.utils.data.DataLoader(trainset, batch_size=4,shuffle=True, num_workers=2)\n    classes = ('plane', 'car', 'bird', 'cat','deer', 'dog', 'frog', 'horse', 'ship', 'truck')\n    return trainloader,classes\n\n\n\ndef combine_nets(net_train, net_no_train, net_place_holder):\n        '''\n            Combine nets in a way train net is trainable\n        '''\n        params_train = net_train.named_parameters()\n        dict_params_place_holder = dict(net_place_holder.named_parameters())\n        dict_params_no_train = dict(net_no_train.named_parameters())\n        for name, param_train in params_train:\n            if name in dict_params_place_holder:\n                layer_name, param_name = name.split('.')\n                param_no_train = dict_params_no_train[name]\n                ## get place holder layer\n                layer_place_holder = getattr(net_place_holder, layer_name)\n                delattr(layer_place_holder, param_name)\n                ## get new param\n                W_new = param_train + param_no_train  # notice addition is just chosen for the sake of an example\n                ## store param in placehoder net\n                setattr(layer_place_holder, param_name, W_new)\n        return net_place_holder\n\ndef combining_nets_lead_to_error():\n    '''\n    Intention is to only train the net with trainable params.\n    Placeholder rnet is a dummy net, it doesn't actually do anything except hold the combination of params and its the\n    net that does the forward pass on the data.\n    '''\n    device = torch.device(\"cuda\" if torch.cuda.is_available() else \"cpu\")\n    ''' create three musketeers '''\n    net_train = nn.Sequential(OrderedDict([\n          ('conv1', nn.Conv2d(1,20,5)),\n          ('relu1', nn.ReLU()),\n          ('conv2', nn.Conv2d(20,64,5)),\n          ('relu2', nn.ReLU())\n        ])).to(device)\n    net_no_train = copy.deepcopy(net_train).to(device)\n    net_place_holder = copy.deepcopy(net_train).to(device)\n    ''' prepare train, hyperparams '''\n    trainloader,classes = get_cifar10()\n    criterion = nn.CrossEntropyLoss()\n    optimizer = optim.SGD(net_train.parameters(), lr=0.001, momentum=0.9)\n    ''' train '''\n    net_train.train()\n    net_no_train.eval()\n    net_place_holder.eval()\n    for epoch in range(2):  # loop over the dataset multiple times\n        running_loss = 0.0\n        for i, (inputs, labels) in enumerate(trainloader, 0):\n            optimizer.zero_grad() # zero the parameter gradients\n            inputs, labels = inputs.to(device), labels.to(device)\n            # combine nets\n            net_place_holder = combine_nets(net_train,net_no_train,net_place_holder)\n            #\n            outputs = net_place_holder(inputs)\n            loss = criterion(outputs, labels)\n            loss.backward()\n            optimizer.step()\n            # print statistics\n            running_loss += loss.item()\n            if i % 2000 == 1999:  # print every 2000 mini-batches\n                print('[%d, %5d] loss: %.3f' %\n                      (epoch + 1, i + 1, running_loss / 2000))\n                running_loss = 0.0\n    ''' DONE '''\n    print('Done \\a')\n\nif __name__ == '__main__':\n    combining_nets_lead_to_error()\n</code></pre>\n"}, {"tags": ["python", "c++", "numpy", "scipy", "shared-libraries"], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1525302129, "creation_date": 1525301055, "last_edit_date": 1525302129, "question_id": 50144595, "link": "https://stackoverflow.com/questions/50144595/scipy-numpy-distutils-based-setup-py-ctypes-undefined-symbol", "title": "scipy + (numpy.distutils-based) setup.py + ctypes: undefined symbol", "body": "<h3>Intro</h3>\n\n<p>As a follow-up to my earlier question <a href=\"https://stackoverflow.com/questions/50139483/scipy-ctypes-build-config-how-to-load-lib\">here</a>, i still try to:</p>\n\n<ul>\n<li>add new functionality to one of scipy's modules (e.g. <code>scipy.optimize</code>)</li>\n<li>based on C++-code\n\n<ul>\n<li>which defines an interface-function to be called with <a href=\"https://docs.python.org/3/library/ctypes.html\" rel=\"nofollow noreferrer\">ctypes</a></li>\n</ul></li>\n<li>automatically setup through <code>setup.py</code> in <code>scipy/optimize</code></li>\n</ul>\n\n<h3>Code incorporation</h3>\n\n<p>To keep it simple, let's assume we got the following (dumb and) simple C++-code:</p>\n\n<pre><code>extern \"C\" void hallo()\n{\n    int a = 0;\n}\n</code></pre>\n\n<p>where we use the <code>extern</code> keyword to handle name-mangling.</p>\n\n<p>We introduce new files and folders in <code>scipy.optimize</code>:</p>\n\n<pre><code>scipy/optimize/__init__py\nscipy/optimize/lbfgsb/...\nscipy/optimize/lbfgsb.py\n...\nscipy/optimize/_mylib/README.md       # new\nscipy/optimize/_mylib/LICENSE         # new\nscipy/optimize/_mylib/src/debug.cpp   # new\nscipy/optimize/mylib.py               # new\n</code></pre>\n\n<h3>Setup preparation</h3>\n\n<p>We prepare the module-setup in <code>scipy/optimize/setup.py</code>:</p>\n\n<pre><code>from __future__ import division, print_function, absolute_import\n\nfrom os.path import join\n\nfrom scipy._build_utils import numpy_nodepr_api\n\ndef configuration(parent_package='',top_path=None):\n    from numpy.distutils.misc_util import Configuration\n    from numpy.distutils.system_info import get_info\n    config = Configuration('optimize',parent_package, top_path)\n\n    # MODIFICATION START\n    # OTHER EXTENSIONS OMITTED \n    # INSPIRED BY scipy.spatial: ckdtree/src &amp; setup.py\n\n    mylib_src = ['debug.cpp']\n    mylib_src = [join('_mylib', 'src', x) for x in mylib_src]\n\n    mylib_headers = []\n    mylib_headers = [join('_mylib', 'src', x) for x in mylib_headers]\n\n    mylib_dep = mylib_headers + mylib_src\n\n    config.add_extension('_mylib',\n                         sources=mylib_src,\n                         depends=mylib_dep,\n                         include_dirs=[join('_mylib', 'src')])\n    # MODIFICATION END    \n\n    return config\n\nif __name__ == '__main__':\n    from numpy.distutils.core import setup\n    setup(**configuration(top_path='').todict())\n</code></pre>\n\n<h3>Run scipy install</h3>\n\n<p>Installing scipy now (from base-dir) with:</p>\n\n<pre><code>python3 setup.py build_ext --inplace\n</code></pre>\n\n<p>works and we will see those shared-libraries in <code>scipy/optimize/</code>:</p>\n\n<pre><code>_lbfgsb.cpython-35m-x86_64-linux-gnu.so\n...\n_mylib.cpython-35m-x86_64-linux-gnu.so\n</code></pre>\n\n<h3>Let's try to use it / a look into scipy/optimize/mylib.py</h3>\n\n<p>As seen in the other <a href=\"https://stackoverflow.com/questions/50139483/scipy-ctypes-build-config-how-to-load-lib\">question</a>, we can get the lib with (we are in <code>scipy/optimize/mylib.py</code>) and get the function we want to use:</p>\n\n<pre><code>import scipy as scp\nimport numpy.ctypeslib as ctl\nlib = ctl.load_library('_mylib', scp.optimize.__file__)\nmyfunc = lib.hallo\n</code></pre>\n\n<p><strong>Now here is the problem:</strong> this fails with:</p>\n\n<pre><code>AttributeError: /.../_mylib.cpython-35m-x86_64-linux-gnu.so: undefined symbol: hallo\n</code></pre>\n\n<p>Trying it per hand:</p>\n\n<pre><code>import ctypes\nlib = ctypes.CDLL('full path to above so')\nmyfun = lib.hallo\n</code></pre>\n\n<p>fails too.</p>\n\n<p><strong>But</strong>, checking (on my linux OS): <code>nm --defined-only _mylib.cpython-35m-x86_64-linux-gnu.so</code> outputs:</p>\n\n<pre><code>...\n...\n0000000000000530 t hallo\n...\n</code></pre>\n\n<p>which should be ok. (Disclaimer: i absolutely miss any knowledge about C++ linking). <strong>Edit:</strong> maybe it's not okay. See later observation in regards to <code>t vs. T</code>!</p>\n\n<h3>Doing it manually: this works</h3>\n\n<p>Going to <code>scipy/optimize/_mylib/src</code>:</p>\n\n<pre><code>g++ -shared -fPIC debug.cpp -o mylib.so\n</code></pre>\n\n<p>followed by <code>nm --defined-only mylib.so</code> shows the same functions, but some <code>t</code> became <code>T</code>.</p>\n\n<pre><code>...\n...\n0000000000000600 T hallo\n...\n</code></pre>\n\n<p>Probably this is the reason, and there is some related general question <a href=\"https://stackoverflow.com/questions/37531846/nm-symbol-output-t-vs-t-in-a-shared-so-library\">here</a>.</p>\n\n<p>As mentioned, this works:</p>\n\n<pre><code># in src\nimport numpy.ctypeslib as ctl\nlib = ctl.load_library('mylib.so', '.')\nlib.hallo\n# &lt; FuncPtr object at 0x....\n</code></pre>\n\n<p>But what needs to be done in <code>setup.py</code> or my sources to make it work? </p>\n\n<p>During running scipy-install, output looks like:</p>\n\n<pre><code>building 'scipy.optimize._mylib' extension\ncompiling C++ sources\nC compiler: x86_64-linux-gnu-g++ -pthread -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC\n\ncreating build/temp.linux-x86_64-3.5/scipy/optimize/_mylib\ncreating build/temp.linux-x86_64-3.5/scipy/optimize/_mylib/src\ncompile options: '-Iscipy/optimize/_mylib/src -I/usr/local/lib/python3.5/dist-packages/numpy-1.15.0.dev0+e4d678a-py3.5-linux-x86_64.egg/numpy/core/include -I/usr/include/python3.5m -c'\nx86_64-linux-gnu-g++: scipy/optimize/_mylib/src/debug.cpp\nscipy/optimize/_mylib/src/debug.cpp: In function \u2018void hallo()\u2019:\nscipy/optimize/_mylib/src/debug.cpp:3:9: warning: unused variable \u2018a\u2019 [-Wunused-variable]\n     int a = 0;\n         ^\nx86_64-linux-gnu-g++ -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -Wl,-Bsymbolic-functions -Wl,-z,relro -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 build/temp.linux-x86_64-3.5/scipy/optimize/_mylib/src/debug.o -Lbuild/temp.linux-x86_64-3.5 -o scipy/optimize/_mylib.cpython-35m-x86_64-linux-gnu.so -Wl,--version-script=build/temp.linux-x86_64-3.5/link-version-scipy.optimize._mylib.map\n</code></pre>\n"}, {"tags": ["python", "multithreading", "python-3.x", "wxpython", "wxwidgets"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525302970, "post_id": 50144594, "comment_id": 87307786, "body": "As for why it dies, the timer uses the timer signal and python restricts signals to the main thread."}], "answers": [{"comments": [{"owner": {"reputation": 535, "user_id": 1376127, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d51fc8cd48379912609c691338f9f4c9?s=128&d=identicon&r=PG", "display_name": "jstrieb", "link": "https://stackoverflow.com/users/1376127/jstrieb"}, "edited": false, "score": 0, "creation_date": 1525308807, "post_id": 50144713, "comment_id": 87309006, "body": "I ended up using <code>multiprocessing</code> for running the fairly simple Timer GUI in a child process (mostly to avoid large code refactoring). I have tested on Windows and OS X, and the performance is consistent. Thanks for the speedy and comprehensive response!"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 535, "user_id": 1376127, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d51fc8cd48379912609c691338f9f4c9?s=128&d=identicon&r=PG", "display_name": "jstrieb", "link": "https://stackoverflow.com/users/1376127/jstrieb"}, "edited": false, "score": 0, "creation_date": 1525309051, "post_id": 50144713, "comment_id": 87309043, "body": "@jstrieb My main worry was OS X (the application-vs.-process distinction, GUI APIs that hide communication with a window server, sandboxing stuff, etc.); if it works for you there, you should be fine."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 5, "last_activity_date": 1525302007, "creation_date": 1525302007, "answer_id": 50144713, "question_id": 50144594, "link": "https://stackoverflow.com/questions/50144594/how-can-i-create-a-non-blocking-gui-with-cmd2-and-wxpython/50144713#50144713", "title": "How can I create a non-blocking GUI with cmd2 and wxPython?", "body": "<p>The docs have a section on <a href=\"https://cmd2.readthedocs.io/en/latest/integrating.html#integrating-cmd2-with-event-loops\" rel=\"noreferrer\">Integrating cmd2 with event loops</a>:</p>\n\n<blockquote>\n  <p>Many Python concurrency libraries involve or require an event loop which they are in control of such as <code>asyncio</code>, <code>gevent</code>, <code>Twisted</code>, etc.</p>\n</blockquote>\n\n<p>While this is specifically talking about networking-focused event loops, it's actually the same issue with GUI event loops like wx's.</p>\n\n<p>The tl;dr is that instead of calling <code>cmdloop()</code>, blocking the entire main thread until the interpreter exits, you just call <code>preloop()</code>, and then you repeatedly call <code>onecmd()</code> (or <code>onecmd_plus_hooks()</code> or <code>runcmd_plus_hooks()</code>, as appropriate) from a <code>wx</code> callback.</p>\n\n<p>In other words, you drive the <code>cmd2</code> event loop from the <code>wx</code> one, so the <code>wx</code> loop can just take over the thread.</p>\n\n<hr>\n\n<p><code>wx</code> also has a way of driving its event loop manually. See <a href=\"https://wxpython.org/Phoenix/docs/html/wx.EventLoopBase.html\" rel=\"noreferrer\"><code>wx.EventLoopBase</code></a> and related classes. (There's probably some good example code out there similar to the code in the <code>cmd2</code> docs, but you'd have to search for it.) The idea is pretty much the same: instead of running the <code>wx</code> loop and blocking the thread forever, you manually create a <code>wx.EventLoop</code> and <code>wx.EventLoopActivator</code>, and then you repeatedly call <code>while loop.Pending(): loop.Dispatch()</code> (and probably <code>app.ProcessIdle()</code>) from the <code>cmd2</code> event loop.</p>\n\n<p>In other words, you drive the <code>wx</code> event loop from the <code>cmd2</code> one, so the <code>cmd2</code> loop can just take over the thread.</p>\n\n<hr>\n\n<p>If neither of those work for you, you can probably use <a href=\"https://docs.python.org/3/library/multiprocessing.html\" rel=\"noreferrer\"><code>multiprocessing</code></a> instead of <code>threading</code>. That way, both event loops are running in the main thread\u2014but one of them is just running in the main thread of a child process.</p>\n\n<p>That can be a problem for GUI apps, so putting <code>wx</code> in the child process may not work (or, worse, may work on some platforms/setups but not others, or may work but mysteriously fail every so often\u2026), but <code>cmd2</code> presumably only needs to see stdin/stdout/tty, so it probably will work.</p>\n"}], "owner": {"reputation": 535, "user_id": 1376127, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d51fc8cd48379912609c691338f9f4c9?s=128&d=identicon&r=PG", "display_name": "jstrieb", "link": "https://stackoverflow.com/users/1376127/jstrieb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 50144713, "answer_count": 1, "score": 2, "last_activity_date": 1525302007, "creation_date": 1525301049, "last_edit_date": 1592644375, "question_id": 50144594, "link": "https://stackoverflow.com/questions/50144594/how-can-i-create-a-non-blocking-gui-with-cmd2-and-wxpython", "title": "How can I create a non-blocking GUI with cmd2 and wxPython?", "body": "<h3>How can I create non-blocking <code>wxPython</code> GUI windows from a <code>cmd2</code> interpreter command even though both the interpreter and <code>wx.App</code> must be run on the main thread?</h3>\n<hr />\n<p>I am creating a command-line interpreter in Python 3.x using the <code>cmd2</code> module. One command in my interpreter will allow me to create a &quot;non-blocking&quot; <code>wxPython</code> GUI window with a countdown timer that runs in a separate thread. It needs to run separately from the main interpreter thread because otherwise it will prevent entering additional commands while the timer runs.</p>\n<p>When I try to use the <code>wxTimer</code> object to allow my GUI to update its progress bar and check the remaining time, I get the following error:</p>\n<pre><code>wx._core.wxAssertionError: C++ assertion &quot;wxThread::IsMain()&quot; failed at ..\\..\\src\\common\\timerimpl.cpp(60) in wxTimerImpl::Start(): timer can only be started from the main thread\n</code></pre>\n<p>Any attempt to start the timer breaks the code. For example, the following simple code does not work:</p>\n<pre><code>import wx\nimport threading\nimport cmd2\n\nclass TimerFrame(wx.Frame):\n    def __init__(self, time):\n        super().__init__(None, title=str(time), size=(300, 300))\n        self.InitUI()\n\n    def InitUI(self):\n        self.timer = wx.Timer(self, 1)\n        self.timer.Start(100)\n        self.Bind(wx.EVT_TIMER, self.OnTimer, id=1)\n        self.Show()\n\n    def OnTimer(self, event):\n        print(&quot;Updating&quot;)\n\nclass Interpreter(cmd2.Cmd):\n    def __init__(self):\n        super().__init__()\n        self.app = wx.App()\n\n    def do_timer(self, _):\n        threading.Thread(target=self.createTimer, args=(self.app,)).start()\n\n    def createTimer(self, app):\n        TimerFrame(&quot;Window Title&quot;)\n        app.MainLoop()\n\nif __name__ == &quot;__main__&quot;:\n    Interpreter().cmdloop()\n</code></pre>\n<p>Note that commenting out the line containing <code>timer.Start(100)</code> allows windows to be created in separate threads successfully, but they lack the necessary <code>Timer</code> functionality.</p>\n<hr />\n<p>Other things I have tried that do not work:</p>\n<ul>\n<li>Creating the <code>wx.App</code> in the new thread instead of passing it (results in the same error but for the <code>MainLoop</code> rather than <code>Timer</code>)</li>\n<li>Creating the <code>wx.App</code> in the main thread and running its <code>MainLoop</code> there (blocks the command line from accepting further commands)</li>\n<li>Running the interpreter command loop in a separate thread (complains that the <code>cmdloop</code> must be run from the main thread)</li>\n</ul>\n"}, {"tags": ["python", "python-3.x", "csv"], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1525301458, "creation_date": 1525301458, "answer_id": 50144639, "question_id": 50144570, "link": "https://stackoverflow.com/questions/50144570/how-do-i-convert-a-dictionary-with-unequal-list-as-value-to-csv/50144639#50144639", "title": "How do i convert a dictionary with unequal list as value to csv", "body": "<p>You can sort your data via the trailing value after <code>Data</code> in the key, and then use <code>itertools.zip_longest</code>:</p>\n\n<pre><code>import re, csv, itertools\ndict_data = {'Data 2': ['spam', 'hello', 'howdy', 'foo'], 'Data 3': ['good morning'], 'Data 1': ['cool', 'fantastic']}\nsorted_result = sorted(dict_data.items(), key=lambda x:int(re.findall('\\d+$', x[0])[0]))\nwith open('filename1.csv', 'w') as f:\n   write = csv.writer(f)\n   write.writerows([[a for a, _ in sorted_result]]+list(itertools.zip_longest(*[b for _, b in sorted_result], fillvalue='')))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Data 1,Data 2,Data 3\ncool,spam,good morning\nfantastic,hello,\n,howdy,\n,foo,\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 7260773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbfaaa6ee8b5be1d615440cd3b8cad5?s=128&d=identicon&r=PG&f=1", "display_name": "Sherluck08", "link": "https://stackoverflow.com/users/7260773/sherluck08"}, "edited": false, "score": 0, "creation_date": 1525648797, "post_id": 50144651, "comment_id": 87427770, "body": "Worked well for me."}, {"owner": {"reputation": 1149, "user_id": 2480947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0fI4r.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2480947/nick"}, "edited": false, "score": 0, "creation_date": 1525691852, "post_id": 50144651, "comment_id": 87442645, "body": "Clear case of the right tool for the right job. Time to learn Pandas :)"}, {"owner": {"reputation": 43, "user_id": 7260773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbfaaa6ee8b5be1d615440cd3b8cad5?s=128&d=identicon&r=PG&f=1", "display_name": "Sherluck08", "link": "https://stackoverflow.com/users/7260773/sherluck08"}, "edited": false, "score": 0, "creation_date": 1525702082, "post_id": 50144651, "comment_id": 87449140, "body": "Yeah i think so :-)"}], "tags": [], "owner": {"reputation": 62, "user_id": 8886764, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/be3b8e890c033c3aecee7777349bd6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/8886764/marcel"}, "is_accepted": true, "score": 0, "last_activity_date": 1525301565, "creation_date": 1525301565, "answer_id": 50144651, "question_id": 50144570, "link": "https://stackoverflow.com/questions/50144570/how-do-i-convert-a-dictionary-with-unequal-list-as-value-to-csv/50144651#50144651", "title": "How do i convert a dictionary with unequal list as value to csv", "body": "<p>It might not be the best answer but I always convert the data I want to export as csv to a pandas dataframe. This solution also works well for unequal list values. </p>\n\n<pre><code>data1 = pd.DataFrame(dict_data[\"Data 1\"])\ndata2 = pd.DataFrame(dict_data[\"Data 2\"])\n\nmaster = pd.concat([data1, data2], axis=1) \nmaster.to_csv(\"file_name\", encoding='utf-8', index=False, header=None)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1149, "user_id": 2480947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0fI4r.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2480947/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1525654676, "last_edit_date": 1525654676, "creation_date": 1525550149, "answer_id": 50193502, "question_id": 50144570, "link": "https://stackoverflow.com/questions/50144570/how-do-i-convert-a-dictionary-with-unequal-list-as-value-to-csv/50193502#50193502", "title": "How do i convert a dictionary with unequal list as value to csv", "body": "<p>Your idea to transpose is a good approach for small data. Where things went wrong for you seems to have been the rows of data being of uneven length. It all works fine if you pad the short rows with empty strings before transposing:</p>\n\n<pre><code>import csv\n\ndict_data = {\n    \"Data 1\": [\"cool\", \"fantastic\"],\n    \"Data 2\": [\"spam\", \"hello\", \"howdy\", \"foo\"],\n    \"Data 3\": [\"good morning\"],\n}\n\n\ndef transpose(cols):\n    return map(lambda *row: list(row), *cols)\n\n\ndef padright(list_to_be_padded, normalised_length):\n    return list_to_be_padded + [''] * (normalised_length - len(list_to_be_padded))\n\n\nno_of_rows_in_csv = max(len(phrases) for phrases in dict_data.values())\n# fieldname is first column (pre-transpose)\n# all lists of phrases normalised to same length\noutput_data = [[fieldname] + padright(phrases, no_of_rows_in_csv)\n               for fieldname, phrases in dict_data.items()]\noutput_data = transpose(output_data)\n\n\nwith open('result.csv','w') as out_file:\n    writer = csv.writer(out_file,dialect = 'excel')\n    writer.writerows(output_data)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Data 2,Data 3,Data 1\nspam,good morning,cool\nhello,,fantastic\nhowdy,,\nfoo,,\n</code></pre>\n\n<p>Note: you might as well handle the field names/column headings (the original dict keys) as part of the transpose rather than deal with them separately.</p>\n\n<p>Final thing: Iterating over Python dictionaries does not return members in a defined order, which is why the <code>Data 2</code> column has appeared first in my results. If you want your final data columns in a certain order, then have a look at the Python class <code>OrderedDict</code> or, as another answer mentioned, you could sort the data by key before transposing.</p>\n"}], "owner": {"reputation": 43, "user_id": 7260773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbfaaa6ee8b5be1d615440cd3b8cad5?s=128&d=identicon&r=PG&f=1", "display_name": "Sherluck08", "link": "https://stackoverflow.com/users/7260773/sherluck08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "accepted_answer_id": 50144651, "answer_count": 3, "score": 1, "last_activity_date": 1525654676, "creation_date": 1525300862, "last_edit_date": 1525320913, "question_id": 50144570, "link": "https://stackoverflow.com/questions/50144570/how-do-i-convert-a-dictionary-with-unequal-list-as-value-to-csv", "title": "How do i convert a dictionary with unequal list as value to csv", "body": "<p>I have a dictionary with an unequal list as values like this</p>\n\n<pre><code>dict_data = {\n    \"Data 1\": [\"cool\", \"fantastic\"],\n    \"Data 2\": [\"spam\", \"hello\", \"howdy\", \"foo\"],\n    \"Data 3\": [\"good morning\"],\n}\n</code></pre>\n\n<p>I want something like this as output</p>\n\n<pre><code>Data 1     Data 2  Data 3\ncool       spam    good morning\nfantastic  hello\n           howdy\n           foo\n</code></pre>\n\n<p>I have tried this which I found on this forum</p>\n\n<pre><code>def transpose(cols):\n    return map(lambda *row: list(row), *cols)\n\nwith open('result.csv','w') as out_file:\n    writer = csv.writer(out_file,dialect = 'excel')\n    headers = dict_data.keys()\n    items = transpose(dict_data.values())\n    writer.writerow(headers)\n    writer.writerows(items)\n</code></pre>\n\n<p>But it only outputs the first row</p>\n\n<pre><code>Data 1     Data 2  Data 3\ncool       spam    good morning\n</code></pre>\n"}, {"tags": ["python", "html", "web-scraping", "rdf"], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 9732423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOZF2.jpg?s=128&g=1", "display_name": "Michal Bock", "link": "https://stackoverflow.com/users/9732423/michal-bock"}, "is_accepted": false, "score": 0, "last_activity_date": 1525302641, "creation_date": 1525302641, "answer_id": 50144792, "question_id": 50144517, "link": "https://stackoverflow.com/questions/50144517/python-how-can-i-extract-those-address-id-including-act-from-this-turtle-file/50144792#50144792", "title": "Python: How can I extract those Address ID including &#39;ACT&#39; from this turtle file?", "body": "<p>You can use regular expressions like this</p>\n\n<pre><code>import re\nimport requests\n\nurl = 'http://gnafld.net/address/?page=7&amp;per_page=10'\nresponse = requests.get(url)\nresponse.raise_for_status()\nresults = re.findall('\\\"Address ID: (GAACT[0-9]+)\\\"', response.text)\n</code></pre>\n\n<p>The results list will contain the ids. If you don't want the <code>GA</code> at the beginning of the id you can change the last line to.</p>\n\n<pre><code>results = re.findall('\\\"Address ID: GA(ACT[0-9]+)\\\"', response.text)\n</code></pre>\n\n<p>This looks for all non overlapping strings of the form <code>\"Address ID: GAACT[0-9]+\"</code>. The <code>[0-9]+</code> is looking for any string of numbers of length at least one. The string in parentheses is captured and returned as a result. Thats's why you get just the id (e.g. <code>GAACT714846020</code>) and not the whole string (e.g.<code>\"Address ID: GAACT714846020\"</code>). Moving the <code>GA</code> out of the parentheses removes it from the result.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 9729382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b9e6b44e5a89fbfde3c4295251334d4?s=128&d=identicon&r=PG&f=1", "display_name": "SpongeBob", "link": "https://stackoverflow.com/users/9729382/spongebob"}, "edited": false, "score": 0, "creation_date": 1526947200, "post_id": 50400622, "comment_id": 87929518, "body": "Thanks! It works. But any idea how can i save it to a SPARQL endpoint on Fuseki Server? And if I use g.serialize(&quot;my_data.rdf&quot;, format=&quot;pretty-xml&quot;), where can i find out the file &#39;my_data.rdf&#39;?"}, {"owner": {"reputation": 1835, "user_id": 6090953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/psAAO.jpg?s=128&g=1", "display_name": "Paul Brown", "link": "https://stackoverflow.com/users/6090953/paul-brown"}, "reply_to_user": {"reputation": 11, "user_id": 9729382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b9e6b44e5a89fbfde3c4295251334d4?s=128&d=identicon&r=PG&f=1", "display_name": "SpongeBob", "link": "https://stackoverflow.com/users/9729382/spongebob"}, "edited": false, "score": 0, "creation_date": 1526973438, "post_id": 50400622, "comment_id": 87936800, "body": "In the same directory as you ran your Python. You can put a whole file path there to specify where you want it. I haven&#39;t used Fuseki, but I&#39;m sure it must have some facility to invest and rdf file."}], "tags": [], "owner": {"reputation": 1835, "user_id": 6090953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/psAAO.jpg?s=128&g=1", "display_name": "Paul Brown", "link": "https://stackoverflow.com/users/6090953/paul-brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1526592409, "last_edit_date": 1526592409, "creation_date": 1526591788, "answer_id": 50400622, "question_id": 50144517, "link": "https://stackoverflow.com/questions/50144517/python-how-can-i-extract-those-address-id-including-act-from-this-turtle-file/50400622#50400622", "title": "Python: How can I extract those Address ID including &#39;ACT&#39; from this turtle file?", "body": "<p>There's a library for this called RDFLib, no BeautifulSoup or Regex required. (<code>pip install rdflib</code>) It's all about reading and querying RDF data, including turtle format.</p>\n\n<p>To get started:</p>\n\n<pre><code>from rdflib import Graph\n\ng = Graph()\ng.parse('http://gnafld.net/address/?page=7&amp;per_page=10')    \n</code></pre>\n\n<p>This will load that turtle data into something that can be queried. You can use SPARQL to query it, to get those addresses:</p>\n\n<pre><code>res = g.query(\"\"\"SELECT ?subject ?add \n              WHERE {\n                 ?subject a &lt;http://gnafld.net/def/gnaf#Address&gt;.\n                 ?subject rdfs:label ?add.\n              }\"\"\")\nfor row in res:\n    print(row.subject, row.add)\n</code></pre>\n\n<p>A SPARQL query can be used to access any of the data in their you need. You may also be able to use RDFLib to parse the data in the new links if it is also RDF.</p>\n\n<p>What I think you'll be wanting to do is:</p>\n\n<pre><code>for row in res:\n    g.parse(row.subject)\n</code></pre>\n\n<p>This will get all the data from those subjects into RDF format. From there you can save it in RDF as a file using:</p>\n\n<pre><code>g.serialize(\"my_data.rdf\", format=\"pretty-xml\")\n</code></pre>\n\n<p>Or carry on running queries with SPARQL.</p>\n"}], "owner": {"reputation": 11, "user_id": 9729382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b9e6b44e5a89fbfde3c4295251334d4?s=128&d=identicon&r=PG&f=1", "display_name": "SpongeBob", "link": "https://stackoverflow.com/users/9729382/spongebob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1526592409, "creation_date": 1525300440, "question_id": 50144517, "link": "https://stackoverflow.com/questions/50144517/python-how-can-i-extract-those-address-id-including-act-from-this-turtle-file", "title": "Python: How can I extract those Address ID including &#39;ACT&#39; from this turtle file?", "body": "<p>I am really new to Semantic Web and I want to extract those address id including 'ACT' from this webpage first and then save the info under the links to a RDF structure and then save them to a database for future use.</p>\n\n<p>Here are my code:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport pandas as pd\nimport numpy as np\nimport re\n\nurl='http://gnafld.net/address/?page=7&amp;per_page=10'\n\npage = requests.get(url)\n\nsoup = BeautifulSoup(page.text, 'html.parser')\n\nprint(soup)\n</code></pre>\n\n<p>After I run the code, I got the following answer:</p>\n\n<pre><code>@prefix ldp: &lt;http: ldp#=\"\" ns=\"\" www.w3.org=\"\"&gt; .\n@prefix rdf: &lt;http: 02=\"\" 1999=\"\" 22-rdf-syntax-ns#=\"\" www.w3.org=\"\"&gt; .\n@prefix rdfs: &lt;http: 01=\"\" 2000=\"\" rdf-schema#=\"\" www.w3.org=\"\"&gt; .\n@prefix reg: &lt;http: linked-data=\"\" purl.org=\"\" registry#=\"\"&gt; .\n@prefix xhv: &lt;https: 1999=\"\" vocab#=\"\" www.w3.org=\"\" xhtml=\"\"&gt; .\n@prefix xml: &lt;http: 1998=\"\" namespace=\"\" www.w3.org=\"\" xml=\"\"&gt; .\n@prefix xsd: &lt;http: 2001=\"\" www.w3.org=\"\" xmlschema#=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846009=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846009\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846010=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846010\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846013=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846013\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846014=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846014\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846015=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846015\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846016=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846016\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846017=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846017\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846018=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846018\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846019=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846019\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gaact714846020=\"\" gnafld.net=\"\"&gt; a &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; ;\n    rdfs:label \"Address ID: GAACT714846020\"^^xsd:string ;\n    reg:register &lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: address=\"\" gnafld.net=\"\"&gt;&lt;/http:&gt; a reg:Register ;\n    rdfs:label \"Address Register\"^^xsd:string ;\n    reg:containedItemClass &lt;http: def=\"\" gnaf#address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;http: ?per_page=\"10&amp;amp;page=7\" address=\"\" gnafld.net=\"\"&gt; a ldp:Page ;\n    ldp:pageOf &lt;http: address=\"\" gnafld.net=\"\"&gt;&lt;/http:&gt; ;\n    xhv:first &lt;http: ?per_page=\"10&amp;amp;page=1\" address=\"\" gnafld.net=\"\"&gt; ;\n    xhv:last &lt;http: ?per_page=\"10&amp;amp;page=1450001\" address=\"\" gnafld.net=\"\"&gt; ;\n    xhv:next &lt;http: ?per_page=\"10&amp;amp;page=8\" address=\"\" gnafld.net=\"\"&gt; ;\n    xhv:prev &lt;http: ?per_page=\"10&amp;amp;page=6\" address=\"\" gnafld.net=\"\"&gt; .\n\n&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/https:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;&lt;/http:&gt;\n</code></pre>\n\n<p>How can I extract those Address ID including 'ACT' from it? I know if I want to use Beautifulsoup, I need a html format. But it returns a turtle format. OR how can I change the turtle format to html format? (like change some parameters in requests() or Beautifulsoup()?) I am really stuck..Can anyone give me any idea? Thanks in advance</p>\n"}, {"tags": ["python", "big-o"], "comments": [{"owner": {"reputation": 497, "user_id": 8395547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e37a8ab3cf963809d26ef58dc53e81f?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/8395547/dan"}, "edited": false, "score": 0, "creation_date": 1525300509, "post_id": 50144472, "comment_id": 87307230, "body": "I think it would be O(1)*O(n) instead of adding however I believe you are correct with your statement that it remains O(n). (Although I&#39;m not great with big O notation so don&#39;t take my word for it :-)"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1525300584, "post_id": 50144472, "comment_id": 87307251, "body": "For all practical purposes your function is O(n) where n is the list lenght. Big-O notation is a bit fuzzy and it is on purpose - you don&#39;t need to be that precise here (like taking into account every statement in the body of the function). That said this is borderline off-topic, you may want to ask this kind of question at <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 11552, "user_id": 8112138, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b1ddf31abbf37d5fe71ad387e2772c?s=128&d=identicon&r=PG&f=1", "display_name": "Primusa", "link": "https://stackoverflow.com/users/8112138/primusa"}, "edited": false, "score": 1, "creation_date": 1525300616, "post_id": 50144472, "comment_id": 87307260, "body": "Big O notation is used to use to describe the time complexity in relation to the input. Here code that iterates though your input is run a constant number of times. The for loop is O(N), the while loop only runs that a constant number of times therefore O(N)"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 2, "creation_date": 1525362396, "post_id": 50144472, "comment_id": 87335922, "body": "@PauloScardine:  Noooo!  CodeReview is for exactly that: code reviews.  This is a question in complexity and foundations of computing."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1525362410, "post_id": 50144472, "comment_id": 87335932, "body": "Please check <a href=\"https://meta.stackexchange.com/questions/129598/which-computer-science-programming-stack-exchange-do-i-post-in\">&quot;Which site?&quot;</a> for general issues and <a href=\"https://codereview.meta.stackexchange.com/questions/5777/a-guide-to-code-review-for-stack-overflow-users/5778#5778\">&quot;Code Review or not?&quot;</a>"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1525380397, "post_id": 50144472, "comment_id": 87345211, "body": "@Prune sorry, English is not my native language and I thought he was asking for opinions - for me a question ended with &quot;Feedback?&quot; is the very definition of open-ended because in Portuguese it is the same as asking &quot;Opinions?&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5420081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZtQnZ.jpg?s=128&g=1", "display_name": "nemo", "link": "https://stackoverflow.com/users/5420081/nemo"}, "edited": false, "score": 0, "creation_date": 1525306512, "post_id": 50144533, "comment_id": 87308521, "body": "Thank you all ! As suggested I will move my question to the code review section!"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1525300583, "creation_date": 1525300583, "answer_id": 50144533, "question_id": 50144472, "link": "https://stackoverflow.com/questions/50144472/big-o-of-my-function/50144533#50144533", "title": "Big-O of my function", "body": "<p>Not quite.  First of all, <code>n</code> is not a fixed value, so <strong>O(n)</strong> is meaningless.  Let's assume a given value <code>M</code> for this, changing the first two lines:</p>\n\n<pre><code>def linear_example (l, M):\n    n = M\n</code></pre>\n\n<p>The code in the <code>for</code> loop does run in <strong>O(1)</strong> time, provided that each element <code>i</code> of <code>l</code> is of finite bounded print time.  However, the loop iterates <code>len(l)</code> times, so the loop complexity is <strong>O(len(l))</strong>.</p>\n\n<p>Now, that loop runs once <em>entirely</em> through for each value of <code>n</code> in the <code>while</code> loop, a total of <code>M</code> times.  Therefore, the complexity is the <em>product</em> of the loop complexities: <strong>O(M * len(l))</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 52627, "user_id": 1971805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YBbqr.jpg?s=128&g=1", "display_name": "TerryA", "link": "https://stackoverflow.com/users/1971805/terrya"}, "is_accepted": false, "score": 3, "last_activity_date": 1525300606, "creation_date": 1525300606, "answer_id": 50144537, "question_id": 50144472, "link": "https://stackoverflow.com/questions/50144472/big-o-of-my-function/50144537#50144537", "title": "Big-O of my function", "body": "<p>Think of a simple for-loop:</p>\n\n<pre><code>for i in l:\n    print(i)\n</code></pre>\n\n<p>This will be O(n) since you\u2019re iterating through the list for however many items exist in l. (Where n == len(l))</p>\n\n<p>Now we add a while loop which does the same thing ten times, so:</p>\n\n<p>n + n + ... + n (x10)</p>\n\n<p>And the complexity is O(10n). </p>\n\n<p>Since this is still a polynomial with degree one, we can simplify this down to O(n), yes. </p>\n"}], "owner": {"reputation": 1, "user_id": 5420081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZtQnZ.jpg?s=128&g=1", "display_name": "nemo", "link": "https://stackoverflow.com/users/5420081/nemo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525304279, "creation_date": 1525300142, "last_edit_date": 1525304279, "question_id": 50144472, "link": "https://stackoverflow.com/questions/50144472/big-o-of-my-function", "title": "Big-O of my function", "body": "<p>I am trying to understand Big-O notation so I was making my own example for a O(n) using a while loop since I find while loops a bit confusing to understand in Big O notation. I defined a function called linear_example that takes in a list , the example is is python: </p>\n\n<p>So my code is :</p>\n\n<pre><code>def linear_example (l):\n    n =10\n    while n&gt;1:\n        n -= 1\n        for i in l:\n            print(i)\n</code></pre>\n\n<p>My thought process is the code in the for loop runs in constant time O(1)\nand the code in the while loop runs in O(n) time .\nSo there for it would be O(1)+O(n) which would evaluate to O(n).</p>\n\n<p>Feedback?</p>\n"}, {"tags": ["python", "python-2.7", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9690328, "user_type": "registered", "profile_image": "https://graph.facebook.com/1018811778270334/picture?type=large", "display_name": "Simba Kapfumo", "link": "https://stackoverflow.com/users/9690328/simba-kapfumo"}, "edited": false, "score": 0, "creation_date": 1525333432, "post_id": 50145793, "comment_id": 87316864, "body": "Thank you . Did not have skimage , i guess i have to install the package. Just a quick question. How can i modify the code to select the maximum and the minimum  in a search window . If the difference is eg using the array x above lets say 2. Return the maximum value as 1 and minimum as 2  .. all the other values to 0. If the condition is not mate ,return an empty array (return all values as zeros )"}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 1, "last_activity_date": 1525354874, "last_edit_date": 1525354874, "creation_date": 1525311882, "answer_id": 50145793, "question_id": 50144430, "link": "https://stackoverflow.com/questions/50144430/how-to-use-a-search-window-in-numpy-and-retain-the-maximum-value-and-all-the-oth/50145793#50145793", "title": "How to use a search window in numpy and retain the maximum value and all the other values to zero", "body": "<p>Here is an approach using <code>skimage.util.view_as_blocks</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import skimage.util as su\n&gt;&gt;&gt; \n&gt;&gt;&gt; def split_axis(N, n):\n...     q, r = divmod(N, n)\n...     left = ((np.s_[:q*n], n),) if q else ()\n...     right = ((np.s_[q*n:], r),) if r else ()\n...     return (*left, *right)\n... \n&gt;&gt;&gt; def block_max(x, block, inplace=False):\n...     if not inplace:\n...         x = x.copy()\n...     xi, xj = x.shape\n...     bi, bj = block\n...     for ci, ri in split_axis(xi, bi):\n...         for cj, rj in split_axis(xj, bj):\n...             vab = su.view_as_blocks(x[ci, cj], (ri, rj))\n...             vab[vab &lt; vab.max(axis=(-1, -2), keepdims=True)] = 0\n...     return x\n... \n&gt;&gt;&gt; x = ([[1,2,3,4,5,6,7,8,9,10],\n...      [2,5,4,5,3,4,6,7,5,3],\n...      [3,3,4,5,6,7,3,4,5,8]])\n&gt;&gt;&gt; \n&gt;&gt;&gt; x = np.array(x)\n&gt;&gt;&gt; \n&gt;&gt;&gt; block_max(x, (2, 2))\narray([[ 0,  0,  0,  0,  0,  6,  0,  8,  0, 10],\n       [ 0,  5,  0,  5,  0,  0,  0,  0,  0,  0],\n       [ 3,  3,  0,  5,  0,  7,  0,  4,  0,  8]])\n</code></pre>\n\n<p>If you don't have <code>skimage</code>:</p>\n\n<pre><code>&gt;&gt;&gt; def view_as_blocks(x, blockshape):\n...     *xs, xi, xj = x.shape\n...     bi, bj = blockshape\n...     return np.ascontiguousarray(x).reshape(*xs, xi//bi, xj//bj, *blockshape)\n</code></pre>\n\n<p>Your updated question (untested):</p>\n\n<pre><code>&gt;&gt;&gt; def block_max(x, block):\n...     out = np.zeros_like(x)\n...     xi, xj = x.shape\n...     bi, bj = block\n...     for ci, ri in split_axis(xi, bi):\n...         for cj, rj in split_axis(xj, bj):\n...             vab = su.view_as_blocks(x[ci, cj], (ri, rj))\n...             oab = su.view_as_blocks(out[ci, cj], (ri, rj))\n...             vmx = vab.max(axis=(-1, -2), keepdims=True)\n...             vmn = vab.min(axis=(-1, -2), keepdims=True)\n...             cond = vmx - vmn &gt; 2\n...             oab[cond &amp; (vab == vmx)] == 1\n...             oab[cond &amp; (vab == vmn)] == 2\n...     return out\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9690328, "user_type": "registered", "profile_image": "https://graph.facebook.com/1018811778270334/picture?type=large", "display_name": "Simba Kapfumo", "link": "https://stackoverflow.com/users/9690328/simba-kapfumo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525354874, "creation_date": 1525299899, "last_edit_date": 1525310059, "question_id": 50144430, "link": "https://stackoverflow.com/questions/50144430/how-to-use-a-search-window-in-numpy-and-retain-the-maximum-value-and-all-the-oth", "title": "How to use a search window in numpy and retain the maximum value and all the other values to zero", "body": "<p>I have a two-dimensional array eg (101 rows and 100 columns). Now I want to create a search window or block of (3 rows x 3 columns) that will move around the array and determine the highest value, select it and retain all other values as zeros using python and numpy. For  example </p>\n\n<pre><code>x = ([[1,2,3,4,5,6,7,8,9,10],\n     [2,5,4,5,3,4,6,7,5,3],\n     [3,3,4,5,6,7,3,4,5,8]]\n</code></pre>\n\n<p>Using  a 2x2 search window x.somefunction for example starting from the top left will  give a result</p>\n\n<pre><code>Result = ([0,0...\n          [0,5... for the 1st iteration so the the whole result should look like this \n\n\nResult = ([[0,0,0,0,0,6,0,8,0,10],\n           [0,5,0,5,0,0,0,0,0,0],\n           [3,3,0,5,0,7,0,4,0,8]]\n</code></pre>\n\n<p>Notice that that the last row the search window had to change from a 2x2 array to a 2x1 because the search window is non-overlapping</p>\n\n<p>Your help will be greatly appreciated. \nThank you in advance</p>\n"}, {"tags": ["python", "arrays", "binary", "codec"], "comments": [{"owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "edited": false, "score": 0, "creation_date": 1525300280, "post_id": 50144414, "comment_id": 87307168, "body": "I think numpy should provide unsigned ints. I would try np.array(array).astype(np.uint8)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525300765, "post_id": 50144414, "comment_id": 87307296, "body": "&quot;I have a certain encryption in mind&quot; - are you writing your own crypto? <a href=\"https://crypto.stackexchange.com/a/43274/\">Please don&#39;t write your own crypto.</a>"}, {"owner": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "edited": false, "score": 0, "creation_date": 1525300839, "post_id": 50144414, "comment_id": 87307316, "body": "Hahah no... I wouldn&#39;t ever try that... trying to emulate something else"}], "answers": [{"comments": [{"owner": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "edited": false, "score": 0, "creation_date": 1525300410, "post_id": 50144497, "comment_id": 87307206, "body": "Wouldn&#39;t it be <code>256 - array[0]</code> ? Appreciate the quick response. Stuff like this makes me feel stupid hehe."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "edited": false, "score": 1, "creation_date": 1525300889, "post_id": 50144497, "comment_id": 87307335, "body": "@JonathanMay: No. If <code>array[0]</code> is initially <code>0</code>, then <code>256 - array[0]</code> is <code>256</code>, but the desired output is <code>255</code>."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "edited": false, "score": 0, "creation_date": 1525300985, "post_id": 50144497, "comment_id": 87307363, "body": "@JonathanMay: why don&#39;t you try it and see? <code>for i in range(256): print(&#39;{:08b} {:08b}&#39;.format(i, 255-i))</code>"}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "edited": false, "score": 0, "creation_date": 1525301133, "post_id": 50144497, "comment_id": 87307401, "body": "@JonathanMay: actually: <code>all([{&#39;0&#39;:&#39;1&#39;,&#39;1&#39;:&#39;0&#39;}[c] for c in f&#39;{i:08b}&#39;]==list(&#39;{:08b}&#39;.format(255-i)) for i in range(256))</code> == <code>True</code>"}, {"owner": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525301173, "post_id": 50144497, "comment_id": 87307412, "body": "@user2357112 But <code>~0</code> is -1. So <code>256 + ~0</code> is <code>255</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "edited": false, "score": 1, "creation_date": 1525301299, "post_id": 50144497, "comment_id": 87307441, "body": "@JonathanMay: <code>~0</code> gives <code>-1</code>, but this answer doesn&#39;t involve <code>~</code>."}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 1, "last_activity_date": 1525303172, "last_edit_date": 1525303172, "creation_date": 1525300290, "answer_id": 50144497, "question_id": 50144414, "link": "https://stackoverflow.com/questions/50144414/byte-array-in-python-only-accepts-unsigned-integers/50144497#50144497", "title": "Byte array in Python only accepts unsigned integers", "body": "<p>Use a different operation for bit flipping.</p>\n\n<p>E.g.:<sup>1</sup></p>\n\n<pre><code>array[i] = 255 - array[i]\n</code></pre>\n\n<p>or also:</p>\n\n<pre><code>array[i] = 255 ^ array[i]\n</code></pre>\n\n<p>will flip <strong>all</strong> (i.e.: 8) bits.</p>\n\n<hr>\n\n<p><sup>1</sup> the math behind this can be worked out from <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's complement</a> wikipedia page.</p>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525300533, "post_id": 50144507, "comment_id": 87307237, "body": "Not 256. 255. Subtracting from 256 changes the range from 0-255 to 1-256."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525300582, "post_id": 50144507, "comment_id": 87307250, "body": "Or if you&#39;re already working with the output of <code>~</code>, then you need to add it to 256, not subtract."}, {"owner": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525300628, "post_id": 50144507, "comment_id": 87307266, "body": "If you take a number, say <code>-12</code>. In binary, that&#39;s <code>11110100</code>. If you then convert <code>11110100</code> into an unsigned int, you get <code>244</code>. Did I go wrong anywhere there?"}], "tags": [], "owner": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "is_accepted": false, "score": -1, "last_activity_date": 1525301253, "last_edit_date": 1525301253, "creation_date": 1525300371, "answer_id": 50144507, "question_id": 50144414, "link": "https://stackoverflow.com/questions/50144414/byte-array-in-python-only-accepts-unsigned-integers/50144507#50144507", "title": "Byte array in Python only accepts unsigned integers", "body": "<p>The solution is actually remarkably simple after playing around with a binary calculator a little bit.</p>\n\n<p>Just subtract the magnitude of the SIGNED int from 256, to get the value of the UNSIGNED int with the same binary representation.</p>\n\n<p>So,</p>\n\n<p><code>-23</code> signed would be <code>233</code> unsigned.</p>\n\n<p>Hope this helps anyone else looking for a solution :)</p>\n\n<p>EDIT: For those saying answer is <code>255 - array[0]</code>. In this case I'm looking for a way to go from post NOT'd int to its unsigned counter part. So I've already performed the bitwise NOT on the integer, now I'm just getting it back to a form that can be inputted into the byte-array.</p>\n\n<p>So in the end it would look something like this:</p>\n\n<pre><code>tmp = ~array[0]\narray[0] = 256 + tmp\n</code></pre>\n\n<p>or</p>\n\n<pre><code>array[0] = 256 - abs(tmp)\n</code></pre>\n\n<p>This gets me the correct answer :)</p>\n"}], "owner": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1426, "favorite_count": 0, "accepted_answer_id": 50144497, "answer_count": 2, "score": 1, "last_activity_date": 1525303172, "creation_date": 1525299797, "question_id": 50144414, "link": "https://stackoverflow.com/questions/50144414/byte-array-in-python-only-accepts-unsigned-integers", "title": "Byte array in Python only accepts unsigned integers", "body": "<p>I'm working on audio codecs in Python (yikes) using byte arrays to edit individual byte data from an audio file.</p>\n\n<p>I have a certain encryption in mind that requires me to perform bit wise operations on single bytes stored in the byte-array.</p>\n\n<p>One of those operations is the <code>~</code> operator (bitwise NOT) which essentially reverses the bit (<code>b'0001</code> becomes <code>b'1110</code>).</p>\n\n<p>The problem is when you reference a single element of a byte array, it returns an int (does Python by default consider untyped 8 bit data integers?). Integers in Python are by default signed (I don't think unsigned integers even exist in Python). </p>\n\n<p>When you try to perform bit-wise NOT on a byte in the byte-array, you get the following error:</p>\n\n<pre><code>&gt;&gt;&gt; array[0] = ~array[0]\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nValueError: byte must be in range(0, 256)\n</code></pre>\n\n<p>This is because it expects an unsigned int between 0-255. How do I convert a signed int into an unsigned int such that the bits used to represent both values remain the same?</p>\n\n<p>Cheers</p>\n"}, {"tags": ["python", "machine-learning", "deep-learning", "classification", "tflearn"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9626874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24011639f582314ae614f239e3ab2b90?s=128&d=identicon&r=PG&f=1", "display_name": "stefanLopez", "link": "https://stackoverflow.com/users/9626874/stefanlopez"}, "is_accepted": false, "score": 0, "last_activity_date": 1530586788, "last_edit_date": 1530586788, "creation_date": 1530585017, "answer_id": 51145879, "question_id": 50144413, "link": "https://stackoverflow.com/questions/50144413/loading-frames-to-3d-cnn/51145879#51145879", "title": "Loading frames to 3D CNN", "body": "<p>The way I would do this is to create a numpy array of size m x n where m is the number of images you have for all classes and n is the number of pixel data points you have for each image. You will want to shuffle the classes beforehand so that there are not a bunch of the same class in a row. You don't want any one class over-represented in a given batch of your training data as that can throw off the weights of your CNN during training. From there you can feed mini-batches of the array you created to your CNN, making sure to reshape each row to your desired 2-D dimensions before training.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9165727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530586788, "creation_date": 1525299793, "question_id": 50144413, "link": "https://stackoverflow.com/questions/50144413/loading-frames-to-3d-cnn", "title": "Loading frames to 3D CNN", "body": "<p>I have an 3D Convolutional Neural Network in Python with TFLearn.</p>\n\n<p>Example code bellow:</p>\n\n<pre><code>def model_3d(self):\n    \"\"\"\n    This function will build our 3D Convolutional Neural Network\n    \"\"\"\n\n    #Layers\n    net = tflearn.input_data(shape=[None, 40, 80, 80, 3], name='InputLayer')\n    net = tflearn.layers.conv.conv_3d(net, 32,  filter_size=(3, 3, 3), activation='relu', name='Conv3D1')\n    net = tflearn.max_pool_3d(net, kernel_size=(1, 2, 2), strides=(1, 2, 2), name='MaxPool3D1')\n    net = tflearn.layers.conv.conv_3d(net, 32,   filter_size=(3, 3, 3), activation='relu', name='Conv3D2')\n    net = tflearn.max_pool_3d(net, kernel_size=(2, 2, 2), strides=(2, 2, 2), name='MaxPool3D2')\n    net = tflearn.layers.conv.conv_3d(net, 64,   filter_size=(3, 3, 3), activation='relu', name='Conv3D3')\n    net = tflearn.max_pool_3d(net, kernel_size=(2, 2, 2), strides=(2, 2, 2), name='MaxPool3D3')\n    net = tflearn.layers.conv.conv_3d(net, 128,   filter_size=(2, 2, 2), activation='relu', name='Conv3D5')\n    net = tflearn.max_pool_3d(net, kernel_size=(2, 2, 2), strides=(2, 2, 2), name='MaxPool3D4')\n    #FC Layers\n    net = tflearn.fully_connected(net, 1024, activation='relu', name='FC1')\n    net = tflearn.dropout(net, 0.5)\n    net = tflearn.fully_connected(net, self.n_classes, activation='softmax', name='FC3')\n    net = tflearn.regression(net, optimizer='adam', loss='categorical_crossentropy', learning_rate=1e-5)\n\n    return [net]\n</code></pre>\n\n<p>I'll use this model to learn and classify video. For this i wrote an algorithm that extract 40 frames per video and generates a folder with subfolders representing each class, a new dataset, basically.</p>\n\n<p>My point is. Which is the best way to load these frames to this model?\nShould i use mini-batch method with 40 examples (frames) or in case of 3D CNN, the input layer takes 40 images at a time from the dataset and learn from it?</p>\n\n<p>I need to know how this model can learn from a set of 40 frames, once each class subfolder have 40 images per video, so, to detail, if i have 50 videos in a class, i have 50*40 frames in that folder.</p>\n\n<p>I've searched a lot to solve this specific problem but nothing until now.</p>\n\n<p>Thanks for the support and attention!</p>\n"}, {"tags": ["python", "python-3.x", "user-interface", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 2049, "user_id": 218125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/89079fd10c0843d2387256670109d728?s=128&d=identicon&r=PG", "display_name": "Cypher", "link": "https://stackoverflow.com/users/218125/cypher"}, "is_accepted": false, "score": 0, "last_activity_date": 1525300559, "creation_date": 1525300559, "answer_id": 50144529, "question_id": 50144388, "link": "https://stackoverflow.com/questions/50144388/python-tkinter-what-does-tkinter-end-do/50144529#50144529", "title": "Python | tkinter: What does tkinter.END do?", "body": "<p>It's just a constant. </p>\n\n<p>The Python tkinter library is a wrapper around tk, so you'll want to reference the source documentation, which can be found at: <a href=\"http://www.tkdocs.com/tutorial/text.html#basics\" rel=\"nofollow noreferrer\">http://www.tkdocs.com/tutorial/text.html#basics</a>. </p>\n\n<p>For your question, see the section on Retrieving the Text. In their Python example, they don't even use the constant:</p>\n\n<pre><code>thetext = text.get('1.0', 'end')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 411, "user_id": 9255004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHGYw.png?s=128&g=1", "display_name": "Yabusa", "link": "https://stackoverflow.com/users/9255004/yabusa"}, "edited": false, "score": 0, "creation_date": 1525305959, "post_id": 50144534, "comment_id": 87308415, "body": "I just want to verify. So &#39;1.0&#39; is used as a starting point, and then END is used to set the stopping point? Almost like selecting the text, then setting it to data?"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 8, "last_activity_date": 1525300590, "creation_date": 1525300590, "answer_id": 50144534, "question_id": 50144388, "link": "https://stackoverflow.com/questions/50144388/python-tkinter-what-does-tkinter-end-do/50144534#50144534", "title": "Python | tkinter: What does tkinter.END do?", "body": "<p>It doesn't \"do\" anything. It is a constant, the literal string \"end\". In this context it represents the point immediately after the last character entered by the user. The function <code>get</code> on a text widget requires two values: a starting position and an ending position.</p>\n\n<p>Note: in the line <code>text.get('0.0', tkinter.END)</code>, <code>'0.0'</code> is invalid (though, tkinter gratiously accepts it, and treats it the same as <code>'1.0'</code>). Text indexes are of the form <em>line.character</em>. Lines start counting at 1, characters start at zero. So, the first character is <code>'1.0'</code>, not <code>'0.0'</code>.</p>\n"}], "owner": {"reputation": 411, "user_id": 9255004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHGYw.png?s=128&g=1", "display_name": "Yabusa", "link": "https://stackoverflow.com/users/9255004/yabusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8536, "favorite_count": 0, "accepted_answer_id": 50144534, "answer_count": 2, "score": 4, "last_activity_date": 1525300590, "creation_date": 1525299638, "question_id": 50144388, "link": "https://stackoverflow.com/questions/50144388/python-tkinter-what-does-tkinter-end-do", "title": "Python | tkinter: What does tkinter.END do?", "body": "<p>Learning python through a book, and tkinter.END is used in a block of code without being explained </p>\n\n<pre><code>import tkinter\n\ndef count(text, out_data):\n    \"\"\" Update out_data with the total number of As, Ts, Cs, and Gs found in text.\"\"\" \n\n    data = text.get('0.0', **tkinter.END**)\n    counts = {}\n    for char in 'ATCG':\n        counts[char] = data.count(char)\n    out_data.set('Num As: {0} Num Ts: {1} Num Cs: {2} Num Gs: {3}'.format(\n        counts['A'], counts['T'], counts['C'], counts['G']))\n...\n</code></pre>\n\n<p>I've looked online, and I only run across examples of it, never mentioning it's function.\nI tried <code>help(tkinter)</code> in a shell and got <code>END = 'end'</code> which wasn't very useful.\nIf more code is required, just let me know. Didn't want to post the entire code making you pointlessly read more for no reason.</p>\n"}, {"tags": ["python", "python-3.x", "python-import"], "comments": [{"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 3, "creation_date": 1525299691, "post_id": 50144366, "comment_id": 87306981, "body": "Mostly curious, why not just wrap the rest of the code in an <code>if</code> statement?"}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 1, "creation_date": 1525299731, "post_id": 50144366, "comment_id": 87306992, "body": "Alternatively, write two separate modules and import one or the other"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525299931, "post_id": 50144366, "comment_id": 87307057, "body": "You <i>could</i> do this, but\u2026 Write an import hook. Your hook can insert a <code>stop_import</code> callback into builtins that the module being imported can call. Or it can execute the module code statement by statement (ala runpy mode) and build a module manually out of the resulting namespace, which means it can handle a special exceptions (or any exception, if you prefer) as &quot;exit early&quot;. If that sounds impossible rather than a fun experiment, you probably don&#39;t want to do it."}, {"owner": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "reply_to_user": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1526397462, "post_id": 50144366, "comment_id": 87723753, "body": "@ChootsMagoots The reason I want to do this is because it&#39;s very quick to move a single &quot;exit&quot; line vertically to include or exclude code. Once I add an <code>if</code>, I have to deal with correct indentation."}], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 0, "last_activity_date": 1525300115, "last_edit_date": 1525300115, "creation_date": 1525299800, "answer_id": 50144416, "question_id": 50144366, "link": "https://stackoverflow.com/questions/50144366/exit-module-code-midway-through-import-but-treat-import-as-successful/50144416#50144416", "title": "Exit module code midway through import, but treat import as successful", "body": "<p>Unlike other languages, a <code>return</code> is not allowed at module level (i.e. outside a function).</p>\n\n<p>As you found out, raising an exception is not a good solution.</p>\n\n<p>Alternative solutions include:</p>\n\n<ul>\n<li><p>wrap the remaining code in an <code>if</code>.</p></li>\n<li><p>wrap the main code in a function, and use <code>return</code> to interrupt it at some point.</p></li>\n<li><p>wrap the main code in a <code>for</code>:</p></li>\n</ul>\n\n<p>&nbsp;</p>\n\n<pre><code>for _ in [0]:\n    always_executed()\n\n    if some_condition: break\n\n    sometimes_executed()\n\n    break\n</code></pre>\n\n<p>not the best readability (due to the <code>for</code> which is somewhat misleading).</p>\n\n<p>I would prefer a <code>main()</code> function or an <code>if:</code>.</p>\n"}], "owner": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525300115, "creation_date": 1525299540, "question_id": 50144366, "link": "https://stackoverflow.com/questions/50144366/exit-module-code-midway-through-import-but-treat-import-as-successful", "title": "Exit module code midway through import, but treat import as successful", "body": "<p>I have a module (which I wrote and can freely edit) that I am importing, and I want to be able to stop its execution part-way through while treating its import as successful. Unfortunately, if I, say, raise an exception during the import, then the module is not successfully imported and is not available. Is it possible to abort execution (without e.g., wrapping subsequent code in an <code>if ...:</code> block) simply by calling something similar to <code>sys.exit()</code>? <code>sys.exit()</code> does not work because it raises <code>SystemExit</code>, which makes the import fail.</p>\n"}, {"tags": ["python", "list", "csv", "if-statement"], "answers": [{"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": true, "score": 0, "last_activity_date": 1525300396, "creation_date": 1525300396, "answer_id": 50144511, "question_id": 50144359, "link": "https://stackoverflow.com/questions/50144359/reducing-column-values-in-csv-using-complex-if-then-statements/50144511#50144511", "title": "Reducing column values in CSV using complex If Then Statements", "body": "<p>Using pandas:</p>\n\n<pre><code>import pandas as pd\n\ndata = '''\\\nID,20180922,20180820,20180728,20180524,20180424,20180322,Winter,Summer,Annual\n1,10,2,4,4,4,4,0,0,0\n2,4,2,2,10,10,4,0,0,0\n3,10,2,4,4,2,4,0,0,0\n4,2,2,2,4,10,10,0,0,0\n5,10,4,4,2,10,10,0,0,0\n6,2,2,4,10,10,10,0,0,0\n7,10,10,2,4,4,10,0,0,0'''\n\ndf = pd.read_csv(pd.compat.StringIO(data)).set_index('ID')\n#df = pd.read_csv('path/to/file').set_index('ID')\n\ndf['Winter'] = df.iloc[:,3:7].apply(lambda x: 2 if 2 in x.values else x[0], axis=1)\ndf['Summer'] = df.iloc[:,:3].apply(lambda x: 2 if 2 in x.values else 10, axis=1)\n\ncols = ['Winter','Summer']\ndf['Annual'] = df[cols].apply(lambda x: 2 if 2 in x.values else 10, axis=1)\n\nprint(df)\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>    20180922  20180820  20180728  20180524  20180424  20180322  Winter  \\\nID                                                                       \n1         10         2         4         4         4         4       4   \n2          4         2         2        10        10         4      10   \n3         10         2         4         4         2         4       2   \n4          2         2         2         4        10        10       4   \n5         10         4         4         2        10        10       2   \n6          2         2         4        10        10        10      10   \n7         10        10         2         4         4        10       4   \n\n    Summer  Annual  \nID                  \n1        2       2  \n2        2       2  \n3        2       2  \n4        2       2  \n5       10       2  \n6        2       2  \n7        2       2  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1525300851, "creation_date": 1525300851, "answer_id": 50144568, "question_id": 50144359, "link": "https://stackoverflow.com/questions/50144359/reducing-column-values-in-csv-using-complex-if-then-statements/50144568#50144568", "title": "Reducing column values in CSV using complex If Then Statements", "body": "<p>You can check whether the 2 is in the winter months with:</p>\n\n<p><code>if '2' in [line[i] for i in range(4,7)]</code></p>\n\n<p>Also, you have a bunch of conditions that are the same except for the order. You can do:</p>\n\n<pre><code>winterlist = [line[i] for i in range(4,7)]\nwinterlist.sort()\n</code></pre>\n\n<p>Then you can just check <code>winterlist</code>, and you don't need different cases for the different orders.</p>\n\n<p>And in your summer code, changing <code>for row in table</code> to <code>for line in table</code> might fix the problem.</p>\n"}], "owner": {"reputation": 91, "user_id": 3566343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ae66db5e60a855f11e25c5b415005b?s=128&d=identicon&r=PG&f=1", "display_name": "Myco", "link": "https://stackoverflow.com/users/3566343/myco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 50144511, "answer_count": 2, "score": 0, "last_activity_date": 1525300851, "creation_date": 1525299492, "question_id": 50144359, "link": "https://stackoverflow.com/questions/50144359/reducing-column-values-in-csv-using-complex-if-then-statements", "title": "Reducing column values in CSV using complex If Then Statements", "body": "<p>I have a CSV file with an ID column, 6 month columns, 2 season columns, and 1 annual column. For example:</p>\n\n<pre><code>`[['ID', '20180922', '20180820', '20180728', '20180524', '20180424', '20180322', Winter, Summer, Annual], \n['1', '10', '2', '4', '4', '4', '4', '0', '0', '0'],\n['2', '4', '2', '2', '10', '10', '4', '0', '0', '0'],\n['3', '10', '2', '4', '4', '2', '4', '0', '0', '0'],\n['4', '2', '2', '2', '4', '10', '10', '0', '0', '0'],\n['5', '10', '4', '4', '2', '10', '10', '0', '0', '0'],\n['6', '2', '2', '4', '10', '10', '10', '0', '0', '0'],\n['7', '10', '10', '2', '4', '4', '10', '0', '0', '0']]`\n</code></pre>\n\n<p>The first three months (September, August, July) are Summer months and the next three months (May, April, March) are Winter months. The values within the table are crop codes. I'm trying to reduce the values into seasons and then annual. </p>\n\n<p>So for the Winter column:</p>\n\n<ul>\n<li>If there are any 2's in the winter months (May, Apr, Mar) then fill the Winter column with a 2</li>\n<li>Otherwise fill the Winter column with  whatever is in May</li>\n</ul>\n\n<p>For the Summer column:</p>\n\n<ul>\n<li>If there are any 2's in the summer months (Sept, Aug, Jul) then fill the Summer column with a 2</li>\n<li>Otherwise fill the Summer column with a 10</li>\n</ul>\n\n<p>For the Annual column:</p>\n\n<ul>\n<li>If there are 2's in either the Winter or Summer column, then fill Annual with 2</li>\n<li>Everything else is 10</li>\n</ul>\n\n<p>This is how I'm doing it now but I wanted to know if there was a cleaner way of doing this. Thanks</p>\n\n<pre><code>inputFileName = 'input.csv'\noutputFileName = 'output.csv'\n\nwith open(inputFileName, 'rb') as inFile, open(outputFileName, 'wb') as outfile:\n    r = csv.reader(inFile)\n    w = csv.writer(outfile)\n\n    table = list(r)\n\n    w.writerow(table[0])\n\n# Winter\nfor line in table:\n    if line[4] == '2' or line[5] == '2' or line[6] == '2':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], '2', line[8], line[9]))\n\n    elif line[4] == '4' and line[5] == '4' and line[6] == '10':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], '4', line[8], line[9]))\n\n    elif line[4] == '4' and line[5] == '10' and line[6] == '10':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], '4', line[8], line[9]))\n\n    elif line[4] == '10' and line[5] == '4' and line[6] == '10':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], '10', line[8], line[9]))\n\n    elif line[4] == '10' and line[5] == '10' and line[6] == '4':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], '10', line[8], line[9]))\n\n    elif line[4] == '10' and line[5] == '4' and line[6] == '4':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], '10', line[8], line[9]))\n\n    elif line[4] == '10' and line[5] == '10' and line[6] == '10':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], '10', line[8], line[9]))\n\n    elif line[4] == '4' and line[5] == '4' and line[6] == '4':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], '4', line[8], line[9]))\n\n\n# Summer\nfor row in table:\n    if line[1] == '2' or line[2] == '2' or line[3] == '2':\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], line[7], '2', line[9]))\n\n    else:\n        w.writerow((line[0], line[1], line[2], line[3], line[4], line[5], line[6], line[7], '10', line[9]))\n</code></pre>\n\n<p>Also, the Summer part of my code doesn't seem to run.</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9234724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YtCAa.jpg?s=128&g=1", "display_name": "Alan Baronio Menegotto", "link": "https://stackoverflow.com/users/9234724/alan-baronio-menegotto"}, "is_accepted": false, "score": 0, "last_activity_date": 1552600911, "creation_date": 1552600911, "answer_id": 55172665, "question_id": 50144314, "link": "https://stackoverflow.com/questions/50144314/keras-getting-different-values-shown-by-fit-generator-verbose-1-and-the-metri/55172665#55172665", "title": "Keras: Getting different values shown by fit_generator (verbose=1) and the metrics in the history object", "body": "<p>Even the metrics shown in verbose mode (val_loss, val_acc, etc...) has rounding and sometimes the rounding conflict with EarlyStopping or ModelCheckPoint callbacks behaviour.</p>\n\n<p>I think that this isn't really a problem, just a summary point of view. If you really need these numbers with all decimals places, the history is the right place to get it.</p>\n"}], "owner": {"reputation": 4072, "user_id": 9732470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7CB2.jpg?s=128&g=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/9732470/marcos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1552600911, "creation_date": 1525299224, "last_edit_date": 1525312401, "question_id": 50144314, "link": "https://stackoverflow.com/questions/50144314/keras-getting-different-values-shown-by-fit-generator-verbose-1-and-the-metri", "title": "Keras: Getting different values shown by fit_generator (verbose=1) and the metrics in the history object", "body": "<p>I'm new using Keras and I'm building a model to classify medical images. </p>\n\n<p>The dataset is very large and I am using fit_generator() function to optimize RAM space. </p>\n\n<p>When the model trains by batches, it shows statistics of each batch such as loss, precision, etc; and finally when it ends with all the batches at the end of the epoch, it gives me what I suppose is the average of these previous values, now the problem is: when I write a callback to save the training history, I get different values, close to those shown in the console but definitely different.<br>\n<strong>Could this be a floating point error or something like that?</strong></p>\n\n<p>This did not happen to me when I used the function fit () that showed me the same information as the one I got in the history object. </p>\n\n<p>I would appreciate any help on the subject, thank you for your time.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525299469, "post_id": 50144291, "comment_id": 87306906, "body": "Are you asking why all the numbers are crammed together in a single line, instead of each one on its own line? If so: the <code>write</code> method writes only exactly the characters you give it; it doesn&#39;t try to do anything smart. So you can either add a <code>&#39;\\n&#39;</code> to the end of what you <code>write</code>, or you can use <code>print</code> with an extra <code>file=f</code> argument if you want it to do the exact same thing to the file that it does to the screen."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525300261, "post_id": 50144291, "comment_id": 87307163, "body": "Your functions prompt for the operands. If you want the operands in the file, the function will have to do that for you. You could just return the string you build for printing. Or write a terse string, use it to then print a verbose string and return that terse string for the file. Or even put the file write in the function."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525300288, "post_id": 50144291, "comment_id": 87307170, "body": "As an aside, when you find yourself repeating code, there is usually a way to put it all into a simpler loop."}, {"owner": {"reputation": 23, "user_id": 9707325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158cbbedf6437c795be195045beaf13e?s=128&d=identicon&r=PG&f=1", "display_name": "user388968", "link": "https://stackoverflow.com/users/9707325/user388968"}, "edited": false, "score": 0, "creation_date": 1525300325, "post_id": 50144291, "comment_id": 87307183, "body": "@abarnet could you show me how that would be written? It gives me syntax error"}, {"owner": {"reputation": 23, "user_id": 9707325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158cbbedf6437c795be195045beaf13e?s=128&d=identicon&r=PG&f=1", "display_name": "user388968", "link": "https://stackoverflow.com/users/9707325/user388968"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525300350, "post_id": 50144291, "comment_id": 87307192, "body": "@tdelaney I&#39;ve no clue about none of that you said, I&#39;m on my first programming semester"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9707325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158cbbedf6437c795be195045beaf13e?s=128&d=identicon&r=PG&f=1", "display_name": "user388968", "link": "https://stackoverflow.com/users/9707325/user388968"}, "edited": false, "score": 0, "creation_date": 1525301581, "post_id": 50144552, "comment_id": 87307505, "body": "Thank you SO much, I can&#39;t believe all I had to do was that, but it makes SO much sense now, again, thanks sir!!!!"}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 1, "last_activity_date": 1525300754, "creation_date": 1525300754, "answer_id": 50144552, "question_id": 50144291, "link": "https://stackoverflow.com/questions/50144291/my-python-3-file-code-is-not-appending-nor-reading-right-to-a-file/50144552#50144552", "title": "My Python 3 file code is not appending nor reading right to a file", "body": "<p>You prompt for the operands in the <code>sum</code> and etc... functions. If you want those operands to appear in the result file, you either have to return them along with the answer, or do the write in the function itself. For example,</p>\n\n<pre><code>def add():\n    num1 = float(input(\"\\tEnter a number: \"))\n    num2 = float(input(\"\\tEnter a number: \"))\n\n    answer = num1 + num2\n    result = \"{} + {} = {}\".format(num1, num2, answer)\n    print(\"\\n\\t-&gt; The result of \" + result)\n    with open (\"myResultt.txt\",\"a\") as f:\n        f.write(result + \"\\n\")\n    return answer\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9707325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158cbbedf6437c795be195045beaf13e?s=128&d=identicon&r=PG&f=1", "display_name": "user388968", "link": "https://stackoverflow.com/users/9707325/user388968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 50144552, "answer_count": 1, "score": 2, "last_activity_date": 1525304694, "creation_date": 1525299121, "last_edit_date": 1525304694, "question_id": 50144291, "link": "https://stackoverflow.com/questions/50144291/my-python-3-file-code-is-not-appending-nor-reading-right-to-a-file", "title": "My Python 3 file code is not appending nor reading right to a file", "body": "<p>I did a calculator code which works perfectly fine, but I need to append the results on a text file and/or read from the text file. I've done most of it but I'm having some errors which I need help with\n-When I append the result, it just prints \"5.098.042.0...\" and it is supposed to be printing like this </p>\n\n<p>\"5 + 3 = 8</p>\n\n<p>7 * 3 =43...\"\n  It does show it in the code, but for some reason it just prints the result in the text\nPlease help, any suggestions to save work in the future or anything will be appreciated, thanks!</p>\n\n<pre><code>    def menu():\n            print(\"\\t1. Addition\")\n            print(\"\\t2. Substraction\")\n            print(\"\\t3. Multiplication\")\n            print(\"\\t4. Division\")\n            print(\"\\t5. Show\")\n            print(\"\\t6. Quit\")\n\n\n    def option(min, max, exi):\n            option= -1\n\n            menu() \n            option= int(input(\"\\n\\t-&gt; What would you like to calculate?: \")) \n            while (option &lt; min) or (option &gt; max):\n                    print(\"\\n\\t&gt;&gt;&gt; Error. Invalid option.\")\n                    menu() \n                    option= int(input(\"\\n\\t-&gt; What would you like to calculate?: \")) \n\n            return option\n\n\n    def add():\n            num1 = float(input(\"\\tEnter a number: \"))\n            num2 = float(input(\"\\tEnter a number: \"))\n\n            answer = num1 + num2\n            print(\"\\n\\t-&gt; The result of \" + str(num1) + \" + \" + str(num2) + \"= \", answer)\n            return answer\n\n\n    def subs():\n            num1 = float(input(\"\\tEnter a number: \"))\n            num2 = float(input(\"\\tEnter a number: \"))\n\n            answer = num1 - num2\n\n\n            print(\"\\n\\t-&gt; The result of \" + str(num1) + \" - \" + str(num2) + \"= \", answer)\n            return answer\n\n\n    def mult():\n            num1 = float(input(\"\\tFirst number: \"))\n            num2 = float(input(\"\\tSecond number: \"))\n\n            answer = num1 * num2\n\n            print(\"\\n\\t-&gt; The result of \" + str(num1) + \" * \" + str(num2) + \"= \", answer)\n            return answer\n\n    def div():\n            num1 = float(input(\"\\tFirst number: \"))\n            num2 = float(input(\"\\tSecond number: \"))\n\n            if num2 != 0:\n                    answer = num1 / num2\n\n                    print(\"\\n\\t-&gt; The result of \" + str(num1) + \" / \" + str(num2) + \"= \", answer)\n            else:\n                    print(\"\\n\\t&gt;&gt;&gt; Error. Division by zero.\")\n                    answer= \"Error. Division by zero.\"\n\n            return answer\n\n\n    def result(r):  \n            print(\"\\n\\t The last result was\" , r)\n\n\n    def ex():\n            print(\"Goodbye\")\n\n    def main():\n        solution = 0\n        op= -1\n\n        while op != 6:\n                op = option(0, 6, 0)    \n                if op == 1:\n                        solution = str(add())\n                        with open (\"myResultt.txt\",\"a\") as f:\n                            f.write(solution)\n\n                elif op == 2:\n                        solution = str(subs())\n                        with open (\"myResultt.txt\",\"a\") as f:\n                            f.write(solution)       \n                elif op == 3:\n                        solution = str(mult())\n                        with open (\"myResultt.txt\",\"a\") as f:\n                            f.write(solution)   \n                elif op == 4:\n                        solution = str(div())\n                        with open (\"myResultt.txt\",\"a\") as f:\n                            f.write(solution)\n                elif op == 5:\n                        with open (\"myResultt.txt\",\"r\") as f:\n                            for line in f:\n                                    print(line)\n                else:\n                    solution = ex()\n                    with open (\"myResultt.txt\",\"r\") as f:\n                            f.close()\n\n    main()\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525299235, "post_id": 50144283, "comment_id": 87306837, "body": "What is <code>res</code> ?"}, {"owner": {"reputation": 159, "user_id": 3968758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dceccb0bfdee19b2f0b3d640318edec?s=128&d=identicon&r=PG&f=1", "display_name": "ASML", "link": "https://stackoverflow.com/users/3968758/asml"}, "reply_to_user": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525299518, "post_id": 50144283, "comment_id": 87306925, "body": "Sorry, typo, <code>res</code> should be <code>dst</code>. Question updated."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1525301000, "post_id": 50144283, "comment_id": 87307368, "body": "A recent similar question: <a href=\"https://stackoverflow.com/questions/50112085/reoder-the-columns-of-each-row-of-a-numpy-array-based-on-another-numpy-array\">Reoder the columns of each row of a numpy array based on another numpy array</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "is_accepted": false, "score": 1, "last_activity_date": 1525299409, "creation_date": 1525299409, "answer_id": 50144339, "question_id": 50144283, "link": "https://stackoverflow.com/questions/50144283/python-mapping-between-two-arrays-with-an-index-array/50144339#50144339", "title": "Python: Mapping between two arrays with an index array", "body": "<p>You can try:</p>\n\n<pre><code>dst[idx[0, :], idx[1, :]] = src.flat\n\nIn [33]: src = np.random.randn(2, 3)\n\nIn [34]: src\nOut[34]: \narray([[ 0.68636938,  0.60275041,  1.26078727],\n       [ 1.17937849, -1.0369404 ,  0.42847611]])\n\nIn [35]: dst = np.zeros_like(src)\n\nIn [37]: idx = np.array([[0, 1, 0, 1, 0, 0], [1, 2, 0, 1, 2, 0]])\n\nIn [38]: dst[idx[0, :], idx[1, :]] = src.flat\n\nIn [39]: dst\nOut[39]: \narray([[ 0.42847611,  0.68636938, -1.0369404 ],\n       [ 0.        ,  1.17937849,  0.60275041]])\n</code></pre>\n\n<p>dst[0, 1] is src[0, 0], etc.</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 3968758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dceccb0bfdee19b2f0b3d640318edec?s=128&d=identicon&r=PG&f=1", "display_name": "ASML", "link": "https://stackoverflow.com/users/3968758/asml"}, "edited": false, "score": 0, "creation_date": 1525313257, "post_id": 50144383, "comment_id": 87309952, "body": "Thanks, exactly what I was looking for! Actually, it is quite possible in my case that indices may appear multiple times in idx (and others do not at all). In your version, the number appearing in dst would be the one corresponding to the last appearance of the index in idx, right? Is it possible to control this behavior based on a precedence array p, i.e., if an index appears twice copy the entry whose precedence in p is higher?  (if you are curious, this is for multi-view geometry in a renderer)"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "reply_to_user": {"reputation": 159, "user_id": 3968758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dceccb0bfdee19b2f0b3d640318edec?s=128&d=identicon&r=PG&f=1", "display_name": "ASML", "link": "https://stackoverflow.com/users/3968758/asml"}, "edited": false, "score": 0, "creation_date": 1525315238, "post_id": 50144383, "comment_id": 87310401, "body": "<a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html\" rel=\"nofollow noreferrer\">Officially</a>, <i>For advanced assignments, there is in general no guarantee for the iteration order. This means that if an element is set more than once, it is not possible to predict the final result.</i> I&#39;m not aware of a quick fix for the precedence. Why don&#39;t you make a new question, I think it is an interesting problem."}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 2, "last_activity_date": 1525301491, "last_edit_date": 1525301491, "creation_date": 1525299609, "answer_id": 50144383, "question_id": 50144283, "link": "https://stackoverflow.com/questions/50144283/python-mapping-between-two-arrays-with-an-index-array/50144383#50144383", "title": "Python: Mapping between two arrays with an index array", "body": "<p>Here is the canonical way of doing it:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; \n&gt;&gt;&gt; src = np.random.rand(4, 3)\n&gt;&gt;&gt; src\narray([[0.0309325 , 0.72261479, 0.98373595],\n       [0.06357406, 0.44763809, 0.45116039],\n       [0.63992938, 0.6445605 , 0.01267776],\n       [0.76084312, 0.61888759, 0.2138713 ]])\n&gt;&gt;&gt; \n&gt;&gt;&gt; idx = np.indices(src.shape).reshape(2, -1)\n&gt;&gt;&gt; np.random.shuffle(idx.T)\n&gt;&gt;&gt; idx\narray([[3, 3, 0, 1, 0, 3, 1, 1, 2, 2, 2, 0],\n       [1, 2, 2, 0, 1, 0, 1, 2, 2, 1, 0, 0]])\n&gt;&gt;&gt; \n&gt;&gt;&gt; dst = np.empty_like(src)\n&gt;&gt;&gt; dst[tuple(idx)] = src.ravel()\n&gt;&gt;&gt; dst\narray([[0.2138713 , 0.44763809, 0.98373595],\n       [0.06357406, 0.63992938, 0.6445605 ],\n       [0.61888759, 0.76084312, 0.01267776],\n       [0.45116039, 0.0309325 , 0.72261479]])\n</code></pre>\n\n<p>If you can't be sure that <code>idx</code> is a proper shuffle it's a bit safer to use <code>np.full</code> with a fill value that does not appear in <code>src</code> instead of <code>np.empty</code>.</p>\n\n<pre><code>&gt;&gt;&gt; dst = np.full_like(src, np.nan)\n&gt;&gt;&gt; dst[tuple(idx)] = src.ravel()\n&gt;&gt;&gt; \n&gt;&gt;&gt; dst\narray([[0.27020869, 0.71216066,        nan],\n       [0.63812283, 0.69151451, 0.65843901],\n       [       nan, 0.02406174, 0.47543061],\n       [0.05650845,        nan,        nan]])\n</code></pre>\n\n<p>If you spot the fill value in <code>dst</code>, something is wrong with <code>idx</code>.</p>\n"}], "owner": {"reputation": 159, "user_id": 3968758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dceccb0bfdee19b2f0b3d640318edec?s=128&d=identicon&r=PG&f=1", "display_name": "ASML", "link": "https://stackoverflow.com/users/3968758/asml"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 50144383, "answer_count": 2, "score": 2, "last_activity_date": 1525301491, "creation_date": 1525299078, "last_edit_date": 1525299530, "question_id": 50144283, "link": "https://stackoverflow.com/questions/50144283/python-mapping-between-two-arrays-with-an-index-array", "title": "Python: Mapping between two arrays with an index array", "body": "<p>I have a numpy array </p>\n\n<pre><code>src = np.random.rand(320,240)\n</code></pre>\n\n<p>and another numpy array <code>idx</code> of size (2 x (320*240)). Each column of <code>idx</code> indexes an entry in a result array <code>dst</code>, e.g., <code>idx[:,20] = [3,10]</code> references row 3, column 10 in <code>dst</code> and the assumption is that <code>20</code> corresponds to the flattened index of <code>src</code>, i.e., <code>idx</code> establishes a mapping between the entries of <code>src</code> and <code>dst</code>. Assuming <code>dst</code> is initialized with all zeros, how can I copy the entries in <code>src</code> to their destination in <code>dst</code> without a loop?</p>\n"}, {"tags": ["python", "pip", "virtualenv"], "comments": [{"owner": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 0, "creation_date": 1525319112, "post_id": 50144280, "comment_id": 87311359, "body": "Do you have <code>pip</code> installed (and working)? (And as an aside, how did you install Python originally?)"}, {"owner": {"reputation": 1291, "user_id": 6813490, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/suHzE.jpg?s=128&g=1", "display_name": "Zach Valenta", "link": "https://stackoverflow.com/users/6813490/zach-valenta"}, "edited": false, "score": 0, "creation_date": 1525458339, "post_id": 50144280, "comment_id": 87379320, "body": "Can you try to install via <code>python -m venv &lt;venvName&gt;</code> for (both Python 2 and 3) and include the result of that in your question?"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10113343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYGK2.png?s=128&g=1", "display_name": "gammaflyer", "link": "https://stackoverflow.com/users/10113343/gammaflyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1532136822, "last_edit_date": 1532136822, "creation_date": 1532135691, "answer_id": 51452006, "question_id": 50144280, "link": "https://stackoverflow.com/questions/50144280/unable-to-create-virtual-environment/51452006#51452006", "title": "Unable to create virtual environment", "body": "<p>I had a similar problem when trying to do this with Python3. Try this command:</p>\n\n<pre><code>sudo python3 -m &lt;your virtual env name&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6927987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 622, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532136822, "creation_date": 1525299059, "question_id": 50144280, "link": "https://stackoverflow.com/questions/50144280/unable-to-create-virtual-environment", "title": "Unable to create virtual environment", "body": "<p>I am unable to create virtual environment using both Python 2.x or Python 3.x. When I try create virtual environment I get error:</p>\n\n<pre><code>$ virtualenv my_env2                                                                                                                                                                                           [0:05:17] \u26a1[..........]\nRunning virtualenv with interpreter /usr/bin/python2\nNew python executable in /home/user/my_env2/bin/python2\nNot overwriting existing python script /home/user/my_env2/bin/python (you must use /home/user/my_env2/bin/python2)\nInstalling setuptools, pkg_resources, pip, wheel...\n  Complete output from command /home/lynx/my_env2/bin/python2 - setuptools pkg_resources pip wheel:\n  Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 7, in &lt;module&gt;\n  File \"/usr/share/python-wheels/pip-9.0.1-py2.py3-none-any.whl/pip/__init__.py\", line 31, in &lt;module&gt;\n  File \"/usr/share/python-wheels/pip-9.0.1-py2.py3-none-any.whl/pip/vcs/mercurial.py\", line 9, in &lt;module&gt;\n  File \"/usr/share/python-wheels/pip-9.0.1-py2.py3-none-any.whl/pip/download.py\", line 40, in &lt;module&gt;\nImportError: cannot import name requests\n----------------------------------------\n...Installing setuptools, pkg_resources, pip, wheel...done.\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 2375, in &lt;module&gt;\n    main()\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 724, in main\n    symlink=options.symlink)\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 992, in create_environment\n    download=download,\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 922, in install_wheel\n    call_subprocess(cmd, show_stdout=False, extra_env=env, stdin=SCRIPT)\n  File \"/usr/lib/python3/dist-packages/virtualenv.py\", line 817, in call_subprocess\n    % (cmd_desc, proc.returncode))\nOSError: Command /home/user/my_env2/bin/python2 - setuptools pkg_resources pip wheel failed with error code 1\n</code></pre>\n\n<p>The same error occurs for Python 3.x. Can you help me?</p>\n"}, {"tags": ["python", "subprocess", "windows-subsystem-for-linux"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1525299232, "post_id": 50144269, "comment_id": 87306835, "body": "In a way similar to however you would run it from the command line. Can you do that?"}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1525300348, "post_id": 50144269, "comment_id": 87307190, "body": "@martineau, I can run it from command line using <code>.&#47;name_of_program</code>. The issue is that the python interpretor is on windows"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1525300410, "post_id": 50144269, "comment_id": 87307207, "body": "Can you post the subprocess call? <code>subprocess.Popen(&quot;.&#47;name_of_program&quot;, shell=False)</code> should run it through Windows <code>CreateProcess</code>."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525300558, "post_id": 50144269, "comment_id": 87307244, "body": "If you can run it from the command line by just giving the name of the file, you should also be able to run it via <code>subprocess</code>\u2014which is what @tdelaney just said I believe."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1525300643, "post_id": 50144269, "comment_id": 87307268, "body": "I can run it from the bash that gets installed when the Linux subsytem for Windows is installed. I cannot run it from the normal windows command line as it expects .exe windows programs"}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525300755, "post_id": 50144269, "comment_id": 87307292, "body": "@tdelaney I have updated question to include a sample subprocess call"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525300958, "post_id": 50144269, "comment_id": 87307353, "body": "Oh, I get it. It needs to be run in the subsystem but python doesn&#39;t know how to do that. This is a perplexing problem. I don&#39;t use it myself so I probably shouldn&#39;t have chimed in! It may be something as easy as &quot;bash name_of_program&quot;."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525301284, "post_id": 50144269, "comment_id": 87307438, "body": "@tdelaney any input is appreciated :) maybe I should just run everything on my mac but I am trying to replicate the setup on my windows machine without installing ubuntu on it"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525301437, "post_id": 50144269, "comment_id": 87307471, "body": "What you are doing makes sense. You are ahead of the curve here I think. You could check out the latest dev python or write a bug about it. If you don&#39;t mind trying something with a 99% chance of failure, try <code>subprocess._mswindows = False</code> and see what happens. It may end in tears."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1525301624, "post_id": 50144269, "comment_id": 87307517, "body": "Microsoft says <code>wsl.exe command</code> <a href=\"https://docs.microsoft.com/en-us/windows/wsl/interop#run-linux-tools-from-a-windows-command-line\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/windows/wsl/&hellip;</a>."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1525301851, "post_id": 50144269, "comment_id": 87307576, "body": "using <code>wsl</code> works! if you add it as answer, I will accept. thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 1, "last_activity_date": 1525302226, "creation_date": 1525302226, "answer_id": 50144732, "question_id": 50144269, "link": "https://stackoverflow.com/questions/50144269/invoking-program-compiled-using-linux-subsytem-through-python-on-windows/50144732#50144732", "title": "Invoking program compiled using linux subsytem through python on windows", "body": "<p><code>subprocess</code> uses <code>CreateProcess</code> to run programs on Windows. If you use <code>shell=True</code> it adds <code>cmd.exe</code> to the front of your command so that it is run through Windows command interpreter instead of direct execution. You can play the same game with the <em>Windows Subsystem for Linux</em>. It uses <code>wsl.exe</code> much like <code>cmd.exe</code>. So, with <code>shell=False</code> (the default) you can</p>\n\n<pre><code>Popen(\"wsl.exe \" + \"my_command param1 param2\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Popen([\"wsl.exe\"] + [\"my_command\", \"param1\", \"param2\"])\n</code></pre>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 50144732, "answer_count": 1, "score": 2, "last_activity_date": 1541797112, "creation_date": 1525299028, "last_edit_date": 1541797112, "question_id": 50144269, "link": "https://stackoverflow.com/questions/50144269/invoking-program-compiled-using-linux-subsytem-through-python-on-windows", "title": "Invoking program compiled using linux subsytem through python on windows", "body": "<p>I have a program I compiled in the Linux subsystem introduced in Windows 10. How can I use the python subprocess command to invoke it? By default the subprocess command seems to use the windows shell and not the linux subsytem</p>\n\n<p>Here is a sample program (remember that while I am running it through a windows python anaconda interpretor), I do have linux subsytem installed</p>\n\n<pre><code>import subprocess\nsubprocess.Popen('ls', shell=False)\n</code></pre>\n\n<p>results in error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\rt\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2963, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-3-cf9f6642ea11&gt;\", line 1, in &lt;module&gt;\n    subprocess.Popen('ls', shell=False)\n  File \"C:\\Users\\rt\\Anaconda3\\lib\\subprocess.py\", line 709, in __init__\n    restore_signals, start_new_session)\n  File \"C:\\Users\\rt\\Anaconda3\\lib\\subprocess.py\", line 997, in _execute_child\n    startupinfo)\nFileNotFoundError: [WinError 2] The system cannot find the file specified\n</code></pre>\n"}, {"tags": ["python", "filter"], "owner": {"reputation": 31, "user_id": 9554577, "user_type": "registered", "profile_image": "https://graph.facebook.com/1681737048559069/picture?type=large", "display_name": "Aymen Trabelsi", "link": "https://stackoverflow.com/users/9554577/aymen-trabelsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1525299018, "creation_date": 1525299018, "question_id": 50144267, "link": "https://stackoverflow.com/questions/50144267/fcbf-method-for-feature-selection", "title": "FCBF method for feature selection", "body": "<p>i want to use Fast correlation based filter (FCBF) selection method to select the significant and non redundant variables among independent variables for classification . I found a python implementation of the method in github <a href=\"https://github.com/shiralkarprashant/FCBF\" rel=\"nofollow noreferrer\">https://github.com/shiralkarprashant/FCBF</a>.\ni followed the same steps to use the method but i got the following error :</p>\n\n<pre><code>C:\\Users\\HP&gt; python fcbf.py -h\n(null): can't open file 'fcbf.py': [Errno 2] No such file or directory\n\nC:\\Users\\HP&gt;cd C:\\Users\\HP\\Downloads\\FCBF-master\\FCBF-master\\src\n\nC:\\Users\\HP\\Downloads\\FCBF-master\\FCBF-master\\src&gt; python fcbf.py -h\n  File \"fcbf.py\", line 158\n    print \"Using minimum SU value as default threshold: {0}\".format(thresh)\n                                                           ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525299024, "post_id": 50144214, "comment_id": 87306765, "body": "The value of <code>sensors</code> is a array, whose first element is an array, and whose second element is <code>&quot;mailInfo&quot;: \u2026</code>. But that can&#39;t go inside a array, only inside an object."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525299064, "post_id": 50144214, "comment_id": 87306778, "body": "If you&#39;re writing JSON manually, it may help to use a nice syntax-highlighting editor. Most of the same editors that are good for source code (whether you like Atom or emacs) are also good for JSON."}], "answers": [{"comments": [{"owner": {"reputation": 2686, "user_id": 9705687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7dmz.jpg?s=128&g=1", "display_name": "bfris", "link": "https://stackoverflow.com/users/9705687/bfris"}, "edited": false, "score": 0, "creation_date": 1525303034, "post_id": 50144248, "comment_id": 87307809, "body": "Good answer. The clue for finding this error was in your log &quot; ValueError: Expecting , delimiter: line 10 column 11&quot;. This often happens with parens/brackets/braces errors -- Python barfs sometime after where the closing bracket should have been. Using a code editor that highlights parens, you can go backwards and make sure all of your parens/brackets/braces are close."}], "tags": [], "owner": {"reputation": 2890, "user_id": 4027688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87fcbc5d23f768c0aa1c7b0f716feafb?s=128&d=identicon&r=PG&f=1", "display_name": "bphi", "link": "https://stackoverflow.com/users/4027688/bphi"}, "is_accepted": true, "score": 1, "last_activity_date": 1525298893, "creation_date": 1525298893, "answer_id": 50144248, "question_id": 50144214, "link": "https://stackoverflow.com/questions/50144214/valueerror-expecting-delimiter-line-10-column-11-char-357/50144248#50144248", "title": "&quot;ValueError: Expecting , delimiter: line 10 column 11 (char 357)&quot;", "body": "<p>Your JSON is not valid because you are missing a <code>]</code> character. Replace this line</p>\n\n<pre><code>[[{\"name\":\"TEMP\"},{\"gpio\":\"4\"},{\"sensorType\":\"22\"},{\"temperatureLowLimit\":\"0\"},{\"temperatureHighLimit\":\"25\"},{\"temperatureThreshold\":\"5\"},{\"humidityLowLimit\":\"30\"},{\"humidityHighLimit\":\"60\"},{\"humidityThreshold\":\"10\"}],\n</code></pre>\n\n<p>with this</p>\n\n<pre><code>[[{\"name\":\"TEMP\"},{\"gpio\":\"4\"},{\"sensorType\":\"22\"},{\"temperatureLowLimit\":\"0\"},{\"temperatureHighLimit\":\"25\"},{\"temperatureThreshold\":\"5\"},{\"humidityLowLimit\":\"30\"},{\"humidityHighLimit\":\"60\"},{\"humidityThreshold\":\"10\"}]],\n</code></pre>\n\n<p>A useful tool for the future, and the one that I used to check your problem is <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">JSONlint</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 9732488, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WeJ6LJU4Dj0/AAAAAAAAAAI/AAAAAAAABbo/lhV0EATwl6Q/photo.jpg?sz=128", "display_name": "Pascal", "link": "https://stackoverflow.com/users/9732488/pascal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2451, "favorite_count": 0, "accepted_answer_id": 50144248, "answer_count": 1, "score": 0, "last_activity_date": 1525298893, "creation_date": 1525298710, "last_edit_date": 1592644375, "question_id": 50144214, "link": "https://stackoverflow.com/questions/50144214/valueerror-expecting-delimiter-line-10-column-11-char-357", "title": "&quot;ValueError: Expecting , delimiter: line 10 column 11 (char 357)&quot;", "body": "<p>Hey I've got a little problem. I want to make a weather station on a Raspberry Pi 3B (school project).</p>\n<p>Here's the log:</p>\n<pre><code>     Logger initialization started Check if directory for storing logs is writeable Directory is writeable Logger initialized \n02-05-18 23:45:41 INFO root DHT22logger execution started \n02-05-18 23:45:41 INFO Configurations.ConfigHandler ConfigHandler instantiation started \n02-05-18 23:45:41 INFO Configurations.ConfigHandler Instantiate ConfigReader 02-05-18 23:45:41 INFO Configurations.ConfigReader ConfigReader instantiation started \n02-05-18 23:45:41 INFO Configurations.ConfigReader Loading configurations from config.json \n02-05-18 23:45:41 ERROR Configurations.ConfigHandler Instantiation failed \n02-05-18 23:45:41 ERROR root Failed to get configurations: Traceback (most recent call last):   \nFile &quot;DHT22logger.py&quot;, line 58, in main\n    configurationHandler = ConfigHandler()   File &quot;/home/pi/DHT22-TemperatureLogger/Configurations/ConfigHandler.py&quot;, line 17, in __init__\n    self.configReader = ConfigReader()   File &quot;/home/pi/DHT22-TemperatureLogger/Configurations/ConfigReader.py&quot;, line 20, in __init__\n    self.configurations = json.loads(open(configurationFile).read())   File &quot;/usr/lib/python2.7/json/__init__.py&quot;, line 339, in loads\n    return _default_decoder.decode(s)   File &quot;/usr/lib/python2.7/json/decoder.py&quot;, line 364, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())   File &quot;/usr/lib/python2.7/json/decoder.py&quot;, line 380, in raw_decode\n    obj, end = self.scan_once(s, idx) ValueError: Expecting , delimiter: line 10 column 11 (char 357)\n</code></pre>\n<p>I can't find anything wring in the config file:</p>\n<pre><code>    {\n&quot;mysql&quot;:[{\n        &quot;host&quot;:&quot;localhost&quot;,\n        &quot;user&quot;:&quot;[username]&quot;,\n        &quot;password&quot;:&quot;[password]&quot;,\n        &quot;database&quot;:&quot;[database]&quot;\n        }],\n&quot;sensors&quot;:\n        [[{&quot;name&quot;:&quot;TEMP&quot;},{&quot;gpio&quot;:&quot;4&quot;},{&quot;sensorType&quot;:&quot;22&quot;},{&quot;temperatureLowLimit&quot;:&quot;0&quot;},{&quot;temperatureHighLimit&quot;:&quot;25&quot;},{&quot;temperatureThreshold&quot;:&quot;5&quot;},{&quot;humidityLowLimit&quot;:&quot;30&quot;},{&quot;humidityHighLimit&quot;:&quot;60&quot;},{&quot;humidityThreshold&quot;:&quot;10&quot;}],\n&quot;mailInfo&quot;:[{\n        &quot;senderaddress&quot;:&quot;[MAIL]@gmail.com&quot;,\n        &quot;receiveraddress&quot;:&quot;[MAIL]@gmail.com&quot;,\n        &quot;username&quot;:&quot;[USER]&quot;,\n        &quot;password&quot;:&quot;[PASSWORD]&quot;,\n        &quot;subjectmessage&quot;:&quot;Info von RasPi WeatherStation&quot;,\n        &quot;subjectwarning&quot;:&quot;Warnung von RasPi WeatherStation&quot;\n        }],\n&quot;sqlBackupDump&quot;:[{\n        &quot;backupDumpEnabled&quot;:&quot;y&quot;,\n        &quot;backupDay&quot;:&quot;3&quot;,\n        &quot;backupHour&quot;:&quot;17&quot;,\n        &quot;backupDumpPath&quot;:&quot;/home/pi/DHT22-TemperatureLogger/Backups/&quot;\n        }],\n&quot;weeklyAverages&quot;:[{\n        &quot;weeklyAverageSendingEnabled&quot;:&quot;y&quot;,\n        &quot;weekDayForSendingAverages&quot;:&quot;3&quot;,\n        &quot;hourOfTheDayForSendingAverages&quot;:&quot;16&quot;\n        }],\n&quot;useFahrenheits&quot;:&quot;n&quot;,\n&quot;mailSendingTimeoutInFullHours&quot;:&quot;1&quot;,\n&quot;adafruitPath&quot;:&quot;/home/pi/Adafruit_Python_DHT/examples/AdafruitDHT.py&quot;\n}\n</code></pre>\n<p>The part that the error indicates is the colon behind mailInfo.</p>\n<p>Btw. I am using a tutorial by jjpfin, which was made almost 3 years ago.\n<a href=\"http://www.instructables.com/id/Raspberry-PI-and-DHT22-temperature-and-humidity-lo/\" rel=\"nofollow noreferrer\">The Tutorial</a></p>\n<p>Many thanks in advance.</p>\n"}, {"tags": ["python", "haar-classifier"], "answers": [{"comments": [{"owner": {"reputation": 5189, "user_id": 5223757, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/FdOvO.png?s=128&g=1", "display_name": "wizzwizz4", "link": "https://stackoverflow.com/users/5223757/wizzwizz4"}, "edited": false, "score": 0, "creation_date": 1525299293, "post_id": 50144309, "comment_id": 87306855, "body": "You can solve the problem without deleting those files."}], "tags": [], "owner": {"reputation": 55, "user_id": 5179529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea701ad819dc30340ff77883f21fe3a?s=128&d=identicon&r=PG&f=1", "display_name": "km786", "link": "https://stackoverflow.com/users/5179529/km786"}, "is_accepted": false, "score": 0, "last_activity_date": 1525299209, "creation_date": 1525299209, "answer_id": 50144309, "question_id": 50144173, "link": "https://stackoverflow.com/questions/50144173/struct-error-unpack-requires-a-string-argument-of-length-12/50144309#50144309", "title": "struct.error: unpack requires a string argument of length 12", "body": "<p>I figured it out by going to the github page for the tutorial. Apparently, I had to delete any vec files that had a length of zero.</p>\n"}, {"tags": [], "owner": {"reputation": 5189, "user_id": 5223757, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/FdOvO.png?s=128&g=1", "display_name": "wizzwizz4", "link": "https://stackoverflow.com/users/5223757/wizzwizz4"}, "is_accepted": false, "score": 0, "last_activity_date": 1525299248, "creation_date": 1525299248, "answer_id": 50144315, "question_id": 50144173, "link": "https://stackoverflow.com/questions/50144173/struct-error-unpack-requires-a-string-argument-of-length-12/50144315#50144315", "title": "struct.error: unpack requires a string argument of length 12", "body": "<p>Your problem is this bit:</p>\n\n<pre><code>content[:12]\n</code></pre>\n\n<p>The string is not guaranteed to be 12 characters long; it could be fewer. Add a length check and handle it separately, or <code>try: except:</code> and give the user a saner error message like \"Invalid input in file ...\".</p>\n"}], "owner": {"reputation": 55, "user_id": 5179529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea701ad819dc30340ff77883f21fe3a?s=128&d=identicon&r=PG&f=1", "display_name": "km786", "link": "https://stackoverflow.com/users/5179529/km786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525299248, "creation_date": 1525298506, "question_id": 50144173, "link": "https://stackoverflow.com/questions/50144173/struct-error-unpack-requires-a-string-argument-of-length-12", "title": "struct.error: unpack requires a string argument of length 12", "body": "<p>I am trying to follow a tutorial from Coding Robin to create a HAAR classifier: <a href=\"http://coding-robin.de/2013/07/22/train-your-own-opencv-haar-classifier.html\" rel=\"nofollow noreferrer\">http://coding-robin.de/2013/07/22/train-your-own-opencv-haar-classifier.html</a>.</p>\n\n<p>I am at the part where I need to merge all the .vec files. I am trying to execute the python script given and I am getting the following error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"mergevec.py\", line 170, in &lt;module&gt;\nmerge_vec_files(vec_directory, output_filename)\nFile \"mergevec.py\", line 133, in merge_vec_files\nval = struct.unpack('&lt;iihh', content[:12])\nstruct.error: unpack requires a string argument of length 12\n</code></pre>\n\n<p>Here is the code from the python script:</p>\n\n<pre><code># Get the value for the first image size\nprev_image_size = 0\ntry:\n    with open(files[0], 'rb') as vecfile:\n        content = ''.join(str(line) for line in vecfile.readlines())\n        val = struct.unpack('&lt;iihh', content[:12])\n        prev_image_size = val[1]\nexcept IOError as e:\n    print('An IO error occured while processing the file: {0}'.format(f))\n    exception_response(e)\n\n\n# Get the total number of images\ntotal_num_images = 0\nfor f in files:\n    try:\n        with open(f, 'rb') as vecfile:  \n            content = ''.join(str(line) for line in vecfile.readlines())\n            val = struct.unpack('&lt;iihh', content[:12])\n            num_images = val[0]\n            image_size = val[1]\n            if image_size != prev_image_size:\n                err_msg = \"\"\"The image sizes in the .vec files differ. These values must be the same. \\n The image size of file {0}: {1}\\n \n                    The image size of previous files: {0}\"\"\".format(f, image_size, prev_image_size)\n                sys.exit(err_msg)\n\n            total_num_images += num_images\n    except IOError as e:\n        print('An IO error occured while processing the file: {0}'.format(f))\n        exception_response(e)\n</code></pre>\n\n<p>I tried looking through solutions, but can't find a solution that fits this specific problem. Any help will be appreciated.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "pandas", "dataframe", "add"], "answers": [{"comments": [{"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 0, "creation_date": 1525299494, "post_id": 50144200, "comment_id": 87306914, "body": "The OP asked to &quot;leave ID, and atext alone&quot;. Presumably, that means keep those columns from <code>a_df</code>. Your answer simply gets rid of those columns."}, {"owner": {"reputation": 597, "user_id": 8309998, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9jWLJ.png?s=128&g=1", "display_name": "profhoff", "link": "https://stackoverflow.com/users/8309998/profhoff"}, "edited": false, "score": 0, "creation_date": 1525299538, "post_id": 50144200, "comment_id": 87306937, "body": "right. it works, but forgets about my ID and atext. thank you for noting that."}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 0, "creation_date": 1525300924, "post_id": 50144200, "comment_id": 87307348, "body": "see the edit for adding additional columns after the fact"}], "tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": false, "score": 2, "last_activity_date": 1525300895, "last_edit_date": 1525300895, "creation_date": 1525298659, "answer_id": 50144200, "question_id": 50144168, "link": "https://stackoverflow.com/questions/50144168/add-selected-columns-from-two-pandas-dfs/50144200#50144200", "title": "add selected columns from two pandas dfs", "body": "<p>Use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.filter.html\" rel=\"nofollow noreferrer\"><code>filter</code></a>:</p>\n\n<pre><code>absum_df = a_df.filter(like='var').add(b_df.filter(like='var'))\n</code></pre>\n\n<p>If you want to keep additional columns as-is, use <code>concat</code> after summing:</p>\n\n<pre><code>absum_df = pd.concat([a_df[['ID', 'atext']], absum_df], axis=1)\n</code></pre>\n\n<p>Alternatively, instead of subselecting columns from <code>a_df</code>, you could instead just drop the columns in <code>absum_df</code>, if you want to add all columns from <code>a_df</code> not in <code>absum_df</code>:</p>\n\n<pre><code>absum_df = pd.concat([a_df.drop(absum_df.columns axis=1), absum_df], axis=1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 597, "user_id": 8309998, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9jWLJ.png?s=128&g=1", "display_name": "profhoff", "link": "https://stackoverflow.com/users/8309998/profhoff"}, "edited": false, "score": 0, "creation_date": 1525299799, "post_id": 50144328, "comment_id": 87307020, "body": "so this is something always driving me crazy in python - suppose the var columns have names var1, var2, var3, ...,varn. HOW do you tell python this in a shorthand without typing all of them one by one?  in the example above with &quot;var_columns&quot; is there a way to use some kind of shorthand instead of typing each column? sometimes there are HUNDREDS of cols labeled sequentially and it seems so inefficient to brute force type them!"}, {"owner": {"reputation": 597, "user_id": 8309998, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9jWLJ.png?s=128&g=1", "display_name": "profhoff", "link": "https://stackoverflow.com/users/8309998/profhoff"}, "edited": false, "score": 0, "creation_date": 1525299952, "post_id": 50144328, "comment_id": 87307067, "body": "In the example from @root, I was able to use the like=&quot;var&quot; and it perfectly summed all the corresponding &quot;var&quot; columns. But in the second example, I will have to type all the col names out."}, {"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "reply_to_user": {"reputation": 597, "user_id": 8309998, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9jWLJ.png?s=128&g=1", "display_name": "profhoff", "link": "https://stackoverflow.com/users/8309998/profhoff"}, "edited": false, "score": 0, "creation_date": 1525301035, "post_id": 50144328, "comment_id": 87307379, "body": "@profhoff I forgot to put the <code>format</code> in my code. See my edited version."}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 0, "creation_date": 1525301825, "post_id": 50144328, "comment_id": 87307567, "body": "Instead of using a list comprehension with string formatting to generate the columns, you can just do <code>var_columns = a_df.filter(like=&#39;var&#39;).columns</code>"}], "tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": true, "score": 1, "last_activity_date": 1525301054, "last_edit_date": 1525301054, "creation_date": 1525299321, "answer_id": 50144328, "question_id": 50144168, "link": "https://stackoverflow.com/questions/50144168/add-selected-columns-from-two-pandas-dfs/50144328#50144328", "title": "add selected columns from two pandas dfs", "body": "<p>You can subset a dataframe to particular columns: </p>\n\n<pre><code>var_columns = ['var-{}'.format(i) for i in range(1,26)]\nabsum_df=a_df[var_columns].add(b_df[var_columns])\n</code></pre>\n\n<p>Note that this will result in a dataframe with only the var columns. If you want a dataframe with the non-var columns from a_df, and the var columns being the sum of a_df and b_df, you can do</p>\n\n<pre><code>absum_df = a_df.copy()\nabsum_df[var_columns] = a_df[var_columns].add(b_df[var_columns])\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 8309998, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9jWLJ.png?s=128&g=1", "display_name": "profhoff", "link": "https://stackoverflow.com/users/8309998/profhoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "accepted_answer_id": 50144328, "answer_count": 2, "score": 1, "last_activity_date": 1525301054, "creation_date": 1525298448, "question_id": 50144168, "link": "https://stackoverflow.com/questions/50144168/add-selected-columns-from-two-pandas-dfs", "title": "add selected columns from two pandas dfs", "body": "<p>I have two pandas dataframes a_df and b_df.  a_df has columns ID, atext, and var1-var25, while b_df has columns ID, atext, and var1-var 25.</p>\n\n<p>I want to add ONLY the corresponding vars from a_df and b_df and leave ID, and atext alone. </p>\n\n<p>The code below adds ALL the corresponding columns. Is there a way to get it to add just the columns of interest?</p>\n\n<pre><code>absum_df=a_df.add(b_df)\n</code></pre>\n\n<p>What could I do to achieve this?</p>\n"}, {"tags": ["python", "parsing", "web-scraping", "beautifulsoup", "scraper"], "answers": [{"tags": [], "owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "is_accepted": true, "score": 2, "last_activity_date": 1525298601, "creation_date": 1525298601, "answer_id": 50144192, "question_id": 50144103, "link": "https://stackoverflow.com/questions/50144103/my-beautiful-soup-scraper-is-not-working-as-intended/50144192#50144192", "title": "My Beautiful Soup scraper is not working as intended", "body": "<p>Your web scraping code is working as intended. However, your request did not work. If you check the status code of your request, you can see that you get a 403 status.</p>\n\n<pre><code>r = requests.get('https://skinsalvationsf.com/2012/08/updated-comedogenic-ingredients-list/')\nprint(r.status_code) # 403\n</code></pre>\n\n<p>What happens is that the server does not allow a non-browser request. To make it work, you need to use a header while making the request. This header should be similar to what a browser would send:</p>\n\n<pre><code>headers = {\n    'User-Agent': ('Mozilla/5.0 (Windows NT 6.1; WOW64) '\n                   'AppleWebKit/537.36 (KHTML, like Gecko) '\n                   'Chrome/56.0.2924.76 Safari/537.36')\n}\n\nr = requests.get('https://skinsalvationsf.com/2012/08/updated-comedogenic-ingredients-list/', headers=headers)\n\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(r.text, 'html.parser')\nresults = soup.find_all('td', attrs={'valign':'top'})\nprint(len(results))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5728, "user_id": 7907591, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/0vpof.jpg?s=128&g=1", "display_name": "Morse", "link": "https://stackoverflow.com/users/7907591/morse"}, "is_accepted": false, "score": -1, "last_activity_date": 1525298687, "creation_date": 1525298687, "answer_id": 50144209, "question_id": 50144103, "link": "https://stackoverflow.com/questions/50144103/my-beautiful-soup-scraper-is-not-working-as-intended/50144209#50144209", "title": "My Beautiful Soup scraper is not working as intended", "body": "<p>Your soup request is forbidden.</p>\n\n<p>Hence you can not crawl it. Seems website is blocking scraping.</p>\n\n<pre><code>print(soup)\n\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;\n&lt;body bgcolor=\"white\"&gt;\n&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;\n&lt;hr/&gt;&lt;center&gt;nginx&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 6365890, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/31daf263132d23aa8360e371896fefc0?s=128&d=identicon&r=PG&f=1", "display_name": "pynewbee", "link": "https://stackoverflow.com/users/6365890/pynewbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 50144192, "answer_count": 2, "score": 1, "last_activity_date": 1535150816, "creation_date": 1525298063, "last_edit_date": 1535150816, "question_id": 50144103, "link": "https://stackoverflow.com/questions/50144103/my-beautiful-soup-scraper-is-not-working-as-intended", "title": "My Beautiful Soup scraper is not working as intended", "body": "<p>I am trying to pull the ingredients list from the following webpage:</p>\n\n<p><a href=\"https://skinsalvationsf.com/2012/08/updated-comedogenic-ingredients-list/\" rel=\"nofollow noreferrer\">https://skinsalvationsf.com/2012/08/updated-comedogenic-ingredients-list/</a></p>\n\n<p>So the first ingredient I want to pull would be Acetylated Lanolin, and the last ingredient would be Octyl Palmitate.</p>\n\n<p>Looking at the page source for this URL, I learn that the pattern for the ingredients list looks like this:</p>\n\n<pre><code>&lt;td valign=\"top\" width=\"33%\"&gt;Acetylated Lanolin &lt;sup&gt;5&lt;/sup&gt;&lt;/td&gt;\n</code></pre>\n\n<p>So I wrote some code to pull the list, and it is giving me zero results. Below is the code. </p>\n\n<pre><code>import requests\nr = requests.get('https://skinsalvationsf.com/2012/08/updated-comedogenic-ingredients-list/')\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(r.text, 'html.parser')\n\nresults = soup.find_all('td', attrs={'valign':'top'})\n</code></pre>\n\n<p>When I try <code>len(results)</code>, it gives me a zero. </p>\n\n<p>What am I doing wrong? Why am I not able to pull the list as intended? I am a beginner to web scrapers.</p>\n"}, {"tags": ["python", "ubuntu", "pip", "apt-get", "easy-install"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525298440, "post_id": 50144092, "comment_id": 87306559, "body": "Why are you trying to use <code>easy_install</code> to install <code>pip</code>? That hasn&#39;t been the right solution since around 2012 (except for people using Apple&#39;s pre-installed Python on 10.6-10.9). Even if you have a truly ancient version of Ubuntu."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1525298496, "post_id": 50144092, "comment_id": 87306583, "body": "<code>apt install python-pip</code> if you want to have <code>pip</code> for <code>python2</code>, or <code>apt install python3-pip</code> for <code>python3</code>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525298661, "post_id": 50144092, "comment_id": 87306630, "body": "If you&#39;re using your distro&#39;s Python, use their <code>pip</code> package. If you&#39;re using a different Python 2.7.9+/3.4+, use the bundled <code>ensurepip. If you really need to run Python 2.7.5 or 2.6 or 3.3 or something, use </code>get-pip.py` as explained <a href=\"https://pip.pypa.io/en/stable/installing/\" rel=\"nofollow noreferrer\">in the docs</a>."}, {"owner": {"reputation": 197, "user_id": 6498369, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0940eeee1b9093031291a16199eaf8ed?s=128&d=identicon&r=PG&f=1", "display_name": "MandyLB", "link": "https://stackoverflow.com/users/6498369/mandylb"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525298728, "post_id": 50144092, "comment_id": 87306655, "body": "@abarnert I tried running that first, but it spit back &quot;unable to locate package pip&quot;"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525298768, "post_id": 50144092, "comment_id": 87306669, "body": "@MandyLB You tried running <i>what</i> first?"}, {"owner": {"reputation": 197, "user_id": 6498369, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0940eeee1b9093031291a16199eaf8ed?s=128&d=identicon&r=PG&f=1", "display_name": "MandyLB", "link": "https://stackoverflow.com/users/6498369/mandylb"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525298825, "post_id": 50144092, "comment_id": 87306690, "body": "@abarnert sorry, was kinda replying to 2 comments, I had tried running <code>apt install python-pip</code> first"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525299153, "post_id": 50144092, "comment_id": 87306806, "body": "OK, first: what version of Python do you have? What version of Ubuntu? Is your Python the builtin Ubuntu Python? If not, is it the standard Ubuntu python2 (if you&#39;re using a new version that defaults to 3.x) or python3 (if not)? If not, where <i>did</i> you get Python from?"}, {"owner": {"reputation": 2686, "user_id": 9705687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7dmz.jpg?s=128&g=1", "display_name": "bfris", "link": "https://stackoverflow.com/users/9705687/bfris"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525303797, "post_id": 50144092, "comment_id": 87307965, "body": "To pile on to what @abarnert said, the Python version is important. Ubuntu uses Python 2.7 at the system level and you use python, pip etc. as commands If you need to use Python 3.x then you use python3, pip3, etc. as commands. To install pip3 use sudo apt install python3-pip. If you don&#39;t need the latest and greatest version of your package, you might be able to install from Ubuntu repostories as sudo apt install python3-&lt;package name&gt;. You can use tab autocomplete to get package name."}, {"owner": {"reputation": 197, "user_id": 6498369, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0940eeee1b9093031291a16199eaf8ed?s=128&d=identicon&r=PG&f=1", "display_name": "MandyLB", "link": "https://stackoverflow.com/users/6498369/mandylb"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525304302, "post_id": 50144092, "comment_id": 87308070, "body": "@abarnert it&#39;s ubuntu 18.04, like I mentioned in the initial post, it&#39;s being run from a flash drive (don&#39;t know if that matters). Python is the  one that was already on the system when ubuntu was installed, and it&#39;s python 2.7.15 that appears to be the default."}, {"owner": {"reputation": 421, "user_id": 301081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d05f289b446ba692dc515aea5cc81a9?s=128&d=identicon&r=PG", "display_name": "cnobile", "link": "https://stackoverflow.com/users/301081/cnobile"}, "edited": false, "score": 0, "creation_date": 1534441514, "post_id": 50144092, "comment_id": 90716934, "body": "If you would like to keep your version of pip upto date then <code>$ sudo easy_install pip</code> is correct."}], "owner": {"reputation": 197, "user_id": 6498369, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0940eeee1b9093031291a16199eaf8ed?s=128&d=identicon&r=PG&f=1", "display_name": "MandyLB", "link": "https://stackoverflow.com/users/6498369/mandylb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1694, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525298012, "creation_date": 1525298012, "question_id": 50144092, "link": "https://stackoverflow.com/questions/50144092/easy-install-not-working-on-ubuntu", "title": "easy_install not working on ubuntu", "body": "<p>I've created an Ubuntu desktop on a flash drive that I've booted via my Mac laptop. I'm trying to install pip, and am having no luck. I've installed the <code>setuptools</code> for python, and have updated <code>apt-get</code> and all that stuff, but when I go to run <code>sudo easy_install pip</code> it's not recognizing the <code>easy_install</code> command. Any help would be much appreciated, (especially since I'm using Ubuntu since I was never able to install pip and pygame and numpy to run properly on my Mac because of errors between python 2 and 3).</p>\n"}, {"tags": ["python", "regex"], "answers": [{"tags": [], "owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1525298575, "creation_date": 1525298575, "answer_id": 50144186, "question_id": 50144074, "link": "https://stackoverflow.com/questions/50144074/regex-combine-capturing-group-with-or-condition/50144186#50144186", "title": "regex: combine capturing group with OR condition", "body": "<p>You may use this code in Python with lookaheads:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"id_john, num847, id_000, num___\"\n&gt;&gt;&gt; print re.findall(r'(?:id_(?=[a-z]+\\b)|num(?=\\d+\\b))([a-z\\d]+)', s)\n['john', '847']\n</code></pre>\n\n<p><strong>RegEx Details:</strong></p>\n\n<ul>\n<li><code>(?:</code>: Start non-capture group\n\n<ul>\n<li><code>id_(?=[a-z]+\\b)</code>: Match <code>id_</code> with a lookahead assertion to make sure we have <code>[a-z]+</code> characters ahead followed by word boundary</li>\n<li><code>|</code>: OR</li>\n<li><code>num(?=\\d+\\b)</code>)([a-z\\d]+<code>: Match</code>num` with a lookahead assertion to make sure we have digits ahead followed by word boundary</li>\n</ul></li>\n<li><code>)</code>: End non-capture group</li>\n<li><code>([a-z\\d]+)</code>: Match 1+ characters with lowercase letters or digits</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 6681, "user_id": 3871924, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/w8UeP.png?s=128&g=1", "display_name": "agenis", "link": "https://stackoverflow.com/users/3871924/agenis"}, "edited": false, "score": 0, "creation_date": 1525298828, "post_id": 50144198, "comment_id": 87306693, "body": "thanks, i had indeed this first output when i tried and i was confused. thank you for the &quot;post treatment&quot;"}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 6681, "user_id": 3871924, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/w8UeP.png?s=128&g=1", "display_name": "agenis", "link": "https://stackoverflow.com/users/3871924/agenis"}, "edited": false, "score": 0, "creation_date": 1525299066, "post_id": 50144198, "comment_id": 87306779, "body": "@agenis: Added an explanation of the tricky groups arrangement ;)"}, {"owner": {"reputation": 6681, "user_id": 3871924, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/w8UeP.png?s=128&g=1", "display_name": "agenis", "link": "https://stackoverflow.com/users/3871924/agenis"}, "edited": false, "score": 0, "creation_date": 1525364883, "post_id": 50144198, "comment_id": 87337380, "body": "sorry, but still i don(t get it why this second emtpy group appears :-("}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 6681, "user_id": 3871924, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/w8UeP.png?s=128&g=1", "display_name": "agenis", "link": "https://stackoverflow.com/users/3871924/agenis"}, "edited": false, "score": 0, "creation_date": 1525364951, "post_id": 50144198, "comment_id": 87337437, "body": "Because there are two capture groups in the regular expression."}, {"owner": {"reputation": 6681, "user_id": 3871924, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/w8UeP.png?s=128&g=1", "display_name": "agenis", "link": "https://stackoverflow.com/users/3871924/agenis"}, "edited": false, "score": 0, "creation_date": 1525365015, "post_id": 50144198, "comment_id": 87337482, "body": "you mean like, the capturing process has some kind of &quot;precedence&quot; over the OR condition?"}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 6681, "user_id": 3871924, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/w8UeP.png?s=128&g=1", "display_name": "agenis", "link": "https://stackoverflow.com/users/3871924/agenis"}, "edited": false, "score": 0, "creation_date": 1525365105, "post_id": 50144198, "comment_id": 87337543, "body": "Yes. The OR condition does not matter. You are going to see tuples with a number of elements equal to the total number of capture groups."}, {"owner": {"reputation": 1598, "user_id": 2455169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce355d408f78eb29f928007f67b7131c?s=128&d=identicon&r=PG", "display_name": "ggaurav", "link": "https://stackoverflow.com/users/2455169/ggaurav"}, "edited": false, "score": 0, "creation_date": 1588593209, "post_id": 50144198, "comment_id": 108948368, "body": "This is great answer. A simple observation makes the regex so simple. Thanks!"}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 3, "last_activity_date": 1525299148, "last_edit_date": 1525299148, "creation_date": 1525298640, "answer_id": 50144198, "question_id": 50144074, "link": "https://stackoverflow.com/questions/50144074/regex-combine-capturing-group-with-or-condition/50144198#50144198", "title": "regex: combine capturing group with OR condition", "body": "<p>No need for lookaheads or complex patterns.</p>\n\n<p>Consider this:</p>\n\n<pre><code>&gt;&gt;&gt; re.findall('id_([a-z]+)|num([0-9]+)', s)\n[('john', ''), ('', '847')]\n</code></pre>\n\n<p>When the first pattern matches, the first group will contain the match, and the second group will be empty. When the second pattern matches, the first group is empty, and the second group contains the match.</p>\n\n<p>Since one of the two groups will always be empty, joining them couldn't hurt.</p>\n\n<pre><code>&gt;&gt;&gt; [a+b for a,b in re.findall('id_([a-z]+)|num([0-9]+)', s)]\n['john', '847']\n</code></pre>\n"}], "owner": {"reputation": 6681, "user_id": 3871924, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/w8UeP.png?s=128&g=1", "display_name": "agenis", "link": "https://stackoverflow.com/users/3871924/agenis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3412, "favorite_count": 1, "accepted_answer_id": 50144198, "answer_count": 2, "score": 2, "last_activity_date": 1525299148, "creation_date": 1525297954, "question_id": 50144074, "link": "https://stackoverflow.com/questions/50144074/regex-combine-capturing-group-with-or-condition", "title": "regex: combine capturing group with OR condition", "body": "<p>Let's say I have a string :</p>\n\n<pre><code>s = \"id_john, num847, id_000, num___\"\n</code></pre>\n\n<p>I know how to retrieve either of 2 patterns with <code>|</code>:</p>\n\n<pre><code>re.findall(\"id_[a-z]+|num[0-9]+\", s)\n#### ['id_john', 'num847'] # OK\n</code></pre>\n\n<p>I know how to capture a portion only of a match with parenthesis:</p>\n\n<pre><code>re.findall(\"id_([a-z]+)\", s)\n#### ['john']\n</code></pre>\n\n<p>But I fail when i try to combine those two features, this is my <strong>desired output</strong>:</p>\n\n<pre><code>#### ['john', '847']\n</code></pre>\n\n<p>Thanks for your help.. (I work with python)</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 3, "creation_date": 1525298764, "post_id": 50144072, "comment_id": 87306668, "body": "Can&#39;t you do <code>def foo(qry: Qry):</code>?"}, {"owner": {"reputation": 4488, "user_id": 2529619, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8fe42206cbd503e03319de38fa7fd36b?s=128&d=identicon&r=PG", "display_name": "ChaimG", "link": "https://stackoverflow.com/users/2529619/chaimg"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1525302386, "post_id": 50144072, "comment_id": 87307670, "body": "You are right, there was a typo. I meant to create a Qry (list) of another type of object. See the edit."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1525305744, "post_id": 50144072, "comment_id": 87308361, "body": "I don&#39;t think you can do this easily. You can do <code>from typing import TypeVar, List; T = TypeVar(&#39;T&#39;); class MyList(List[T]):...</code> (note the upper case) but AFAIK you can&#39;t enforce the generic constraint on e.g. append unless you override every method to add the annotation for the generic type T."}, {"owner": {"reputation": 358304, "user_id": 10661, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c2c732bbf13dc96670b210b3c0c1ead5?s=128&d=identicon&r=PG", "display_name": "S.Lott", "link": "https://stackoverflow.com/users/10661/s-lott"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1538827114, "post_id": 50144072, "comment_id": 92286350, "body": "@JaredSmith Please post your comment as the answer. It&#39;s correct."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "reply_to_user": {"reputation": 358304, "user_id": 10661, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c2c732bbf13dc96670b210b3c0c1ead5?s=128&d=identicon&r=PG", "display_name": "S.Lott", "link": "https://stackoverflow.com/users/10661/s-lott"}, "edited": false, "score": 0, "creation_date": 1538829793, "post_id": 50144072, "comment_id": 92287012, "body": "@S.Lott done and thank you."}], "answers": [{"comments": [{"owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 0, "creation_date": 1538835071, "post_id": 52679215, "comment_id": 92288342, "body": "Untrue mate, using <code>TypeVar</code> does enforce the constraint down the line. That&#39;s somewhat the point of Generics..."}, {"owner": {"reputation": 4488, "user_id": 2529619, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8fe42206cbd503e03319de38fa7fd36b?s=128&d=identicon&r=PG", "display_name": "ChaimG", "link": "https://stackoverflow.com/users/2529619/chaimg"}, "edited": false, "score": 0, "creation_date": 1553446523, "post_id": 52679215, "comment_id": 97378407, "body": "This does not yet work as intended (at least in PyCharm. In the <code>foo()</code> function, typing <code>qry.filter(a=1)[0].</code> does not bring up the attribute <code>a</code> as intended."}, {"owner": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "edited": false, "score": 0, "creation_date": 1593710465, "post_id": 52679215, "comment_id": 110882637, "body": "This can at least be used to produce Sphinx documentation just fine!"}], "tags": [], "owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "is_accepted": false, "score": 2, "last_activity_date": 1538835331, "last_edit_date": 1538835331, "creation_date": 1538829774, "answer_id": 52679215, "question_id": 50144072, "link": "https://stackoverflow.com/questions/50144072/type-hint-a-subclass-of-list/52679215#52679215", "title": "Type hint a subclass of list", "body": "<p>You can do this rather easily:</p>\n\n<pre><code>from typing import TypeVar, List\nT = TypeVar('T')\nclass MyList(List[T]): # note the upper case\n    pass\n</code></pre>\n"}], "owner": {"reputation": 4488, "user_id": 2529619, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8fe42206cbd503e03319de38fa7fd36b?s=128&d=identicon&r=PG", "display_name": "ChaimG", "link": "https://stackoverflow.com/users/2529619/chaimg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 860, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1538835331, "creation_date": 1525297947, "last_edit_date": 1525302688, "question_id": 50144072, "link": "https://stackoverflow.com/questions/50144072/type-hint-a-subclass-of-list", "title": "Type hint a subclass of list", "body": "<p>I use a class which subclasses the built-in list.</p>\n\n<pre><code>class Qry(list):\n    \"\"\"Stores a list indexable by attributes.\"\"\"\n\n    def filter(self, **kwargs):\n        \"\"\"Returns the items in Qry that has matching attributes.\n\n        Example:\n            obj.filter(portfolio='123', account='ABC').\n        \"\"\"\n\n        values = tuple(kwargs.values())\n\n        def is_match(item):\n            if tuple(getattr(item, y) for y in kwargs.keys()) == values:\n                return True\n            else:\n                return False\n\n        result = Qry([x for x in self if is_match(x)], keys=self._keys)\n\n        return result\n</code></pre>\n\n<p>Now I want to type hint:</p>\n\n<pre><code>class C:\n    a = 1\n\ndef foo(qry: Qry[C]):\n    \"\"\"Do stuff here.\"\"\"\n</code></pre>\n\n<p>How do you type hint a custom container class in python 3.5+?</p>\n"}, {"tags": ["python", "matplotlib", "axes"], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 1, "last_activity_date": 1525298839, "creation_date": 1525298839, "answer_id": 50144239, "question_id": 50144054, "link": "https://stackoverflow.com/questions/50144054/aligning-axes-of-different-plots-in-matplotlib/50144239#50144239", "title": "aligning axes of different plots in matplotlib", "body": "<p>I would recommend using the tools from <code>mpl_toolkits.axes_grid1</code>, namely <code>make_axes_locatable</code> to divide the center axes to leave room for the marginal axes. </p>\n\n<p>You should then also set the <code>margins</code> to 0 along the shared direction to have the ranges match up.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\n\nx = np.linspace(-10, 10, 1200)\ny = np.linspace(-20, 20, 1600)\nxv, yv = np.meshgrid(x, y)\nw = 3\nxpos = 0\nypos = 5\nz = np.exp(-((xv - xpos)**2 + (yv - ypos)**2) / w**2)\nxh = np.linspace(0, 2)\nyh = np.sin(xh)\n\nsumvertical = np.sum(z, 0)\nxvert = range(np.shape(z)[1])\n\nsumhoriz = np.sum(z, 1)\nyhoriz = range(np.shape(z)[0])\n\n\nfig, axCenter = plt.subplots(figsize=(8, 8))\nfig.subplots_adjust(.05,.1,.95,.95)\n\ndivider = make_axes_locatable(axCenter)\naxvert = divider.append_axes('right', size='30%', pad=0.5)\naxhoriz = divider.append_axes('top', size='20%', pad=0.25)\n\naxCenter.imshow(z, origin='lower', cmap='jet')\naxhoriz.plot(xvert, sumvertical)\naxvert.plot(sumhoriz, yhoriz)\n\naxhoriz.margins(x=0)\naxvert.margins(y=0)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Vsd5w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vsd5w.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 133, "user_id": 8394098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acdb89574ae2d841b36beeaba22915e?s=128&d=identicon&r=PG&f=1", "display_name": "zonzon510", "link": "https://stackoverflow.com/users/8394098/zonzon510"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1525298839, "creation_date": 1525297834, "last_edit_date": 1525298014, "question_id": 50144054, "link": "https://stackoverflow.com/questions/50144054/aligning-axes-of-different-plots-in-matplotlib", "title": "aligning axes of different plots in matplotlib", "body": "<p>I am trying to align these plots so the x axis of the top plot perfectly aligns with the x axis values of the imshow. I'm able to do this by setting the aspect to auto, but then my image is warped. is there a way to do this?</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nx = np.linspace(-10, 10, 1200)\ny = np.linspace(-20, 20, 1600)\nxv, yv = np.meshgrid(x, y)\nw = 3\nxpos = 0\nypos = 5\nz = np.exp(-((xv - xpos)**2 + (yv - ypos)**2) / w**2)\nxh = np.linspace(0, 2)\nyh = np.sin(xh)\n\nsumvertical = np.sum(z, 0)\nxvert = range(np.shape(z)[1])\n\nsumhoriz = np.sum(z, 1)\nyhoriz = range(np.shape(z)[0])\n\n# definitions for the axes\nleft, width = 0.1, 0.65\nbottom, height = 0.1, 0.65\nbottom_h = left_h = left + width + 0.02\n\nrect_scatter = [left, bottom, width, height]\nrect_x = [left, bottom_h, width, 0.2]\nrect_y = [left_h, bottom, 0.2, height]\n\nplt.figure(1, figsize=(8, 8))\n\naxCenter = plt.axes(rect_scatter)\naxhoriz = plt.axes(rect_x)\naxvert = plt.axes(rect_y)\n\naxCenter.imshow(z, origin='lower', cmap='jet') #aspect='auto')\naxhoriz.plot(xvert, sumvertical)\naxvert.plot(sumhoriz, yhoriz)\n\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/H8cgB.png\" alt=\"output\"></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1525297794, "post_id": 50144023, "comment_id": 87306362, "body": "How do you expect it to figure out that the string <code>&#39;x&#39;</code> is supposed to mean <code>foo.w</code> and the string <code>&#39;y&#39;</code> is supposed to mean <code>foo.z</code>?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 5, "creation_date": 1525297896, "post_id": 50144023, "comment_id": 87306406, "body": "I think you <i>might</i> be looking for <a href=\"https://docs.python.org/3/library/functions.html#getattr\" rel=\"nofollow noreferrer\"><code>getattr</code></a> here. But usually, when you&#39;re using <code>getattr</code>, it&#39;s a sign of <a href=\"https://meta.stackexchange.com/questions/66377/\">an XY problem</a>. Why do you want to <code>print sum(foo, &#39;x&#39;, &#39;y&#39;)</code> instead of <code>sum(foo.x, foo.y)</code> (or whatever you actually wanted) in the first place?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1525297900, "post_id": 50144023, "comment_id": 87306408, "body": "I think you mean <code>sum(f,&#39;w&#39;,&#39;z&#39;)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 2, "creation_date": 1525297964, "post_id": 50144068, "comment_id": 87306423, "body": "No no no no no. Use <a href=\"https://docs.python.org/3/library/functions.html#getattr\" rel=\"nofollow noreferrer\"><code>getattr</code></a>."}, {"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1525298049, "post_id": 50144068, "comment_id": 87306436, "body": "@Aran-Fey Is <code>__getattribute__</code> considered bad practice? I hadn&#39;t heard that it was."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1525298085, "post_id": 50144068, "comment_id": 87306452, "body": "Accessing any double underscore method directly is bad practise."}], "tags": [], "owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "is_accepted": false, "score": -2, "last_activity_date": 1525298000, "last_edit_date": 1525298000, "creation_date": 1525297944, "answer_id": 50144068, "question_id": 50144023, "link": "https://stackoverflow.com/questions/50144023/have-a-function-take-a-variable-name-of-an-object/50144068#50144068", "title": "Have a Function Take a Variable Name of an Object", "body": "<p>All (I think?) python objects have a built-in <code>__getattribute__</code> method. Use it like this:</p>\n\n<pre><code>def sum(obj,x,y):\n    return obj.__getattribute__(x)+obj.__getattribute__(y)\n</code></pre>\n\n<p>The method takes a string, and \"unpacks\" it to being a variable name.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1525298056, "answer_count": 1, "score": 0, "last_activity_date": 1525309117, "creation_date": 1525297638, "last_edit_date": 1525309117, "question_id": 50144023, "link": "https://stackoverflow.com/questions/50144023/have-a-function-take-a-variable-name-of-an-object", "closed_reason": "Duplicate", "title": "Have a Function Take a Variable Name of an Object", "body": "<p>If I have the following code:</p>\n\n<pre><code>class foo:\n    def __init__(self):\n        self.w = 5\n        self.z = 10\n\ndef sum(obj,x,y):\n    return obj.x+obj.y\n\nf = foo()\nprint sum(foo,'x','y')\n</code></pre>\n\n<p>How would I create a function that takes in two unkown variable names and returns the sum of those variables variables?</p>\n\n<p>In this case the example should print 15.\nEDIT:\nTypo for the last line it should say print sum(foo,'w','z')</p>\n"}, {"tags": ["python", "list"], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 0, "last_activity_date": 1525298254, "last_edit_date": 1525298254, "creation_date": 1525297897, "answer_id": 50144062, "question_id": 50144018, "link": "https://stackoverflow.com/questions/50144018/create-sublists-with-duplicate-list-elements/50144062#50144062", "title": "Create sublists with duplicate list elements", "body": "<p>Typical usecase for <a href=\"https://docs.python.org/3/library/itertools.html#itertools.groupby\" rel=\"nofollow noreferrer\"><code>itertools.groupby()</code></a>:</p>\n\n<pre><code>from itertools import groupby\n\nlistRaw = ['AKS/STB', 'SBHS/AME', 'SBJ/OAK', 'SBJ/ALS', 'AKS/OSMX', 'SBHS/ABNX', 'AKS/AKX']\n\ndef key(s):\n    return s.split('/')[0]\n\n[list(g) for k, g in groupby(sorted(listRaw, key=key), key=key)]\n# [['AKS/STB', 'AKS/OSMX', 'AKS/AKX'], ['SBHS/AME', 'SBHS/ABNX'], ['SBJ/OAK', 'SBJ/ALS']]\n</code></pre>\n\n<p>The <code>key()</code> function helps in extracting the sorting/grouping key: <code>key('AKS/STB')</code> == <code>'AKS'</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "is_accepted": false, "score": 0, "last_activity_date": 1525298077, "creation_date": 1525298077, "answer_id": 50144110, "question_id": 50144018, "link": "https://stackoverflow.com/questions/50144018/create-sublists-with-duplicate-list-elements/50144110#50144110", "title": "Create sublists with duplicate list elements", "body": "<p>Another way to do this would be to split each element and create a dictionary and then construct your desired output from that dictionary, e.g.:</p>\n\n<pre><code>In []:\nd = {}\nfor i in listRaw:\n    k, v = i.split('/')\n    d.setdefault(k, []).append(v)\n[['/'.join([k, v]) for v in d[k]] for k in d]\n\nOut[]:\n[['AKS/STB', 'AKS/OSMX', 'AKS/AKX'], ['SBHS/AME', 'SBHS/ABNX'], ['SBJ/OAK', 'SBJ/ALS']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 0, "last_activity_date": 1525298382, "creation_date": 1525298382, "answer_id": 50144159, "question_id": 50144018, "link": "https://stackoverflow.com/questions/50144018/create-sublists-with-duplicate-list-elements/50144159#50144159", "title": "Create sublists with duplicate list elements", "body": "<p>This is a typical usecase for itertools. But you could also consider storing the values in a dictionary:</p>\n\n<pre><code>from collections import defaultdict\n\nd = defaultdict(list)\nlistRaw = ['AKS/STB', 'SBHS/AME', 'SBJ/OAK', 'SBJ/ALS', 'AKS/OSMX', 'SBHS/ABNX', 'AKS/AKX']\n\nfor item in listRaw:\n    i,y = item.split('/')\n    d[i].append(y)\n\nprint(dict(d))\n\n# {'AKS': ['STB', 'OSMX', 'AKX'], 'SBHS': ['AME', 'ABNX'], 'SBJ': ['OAK', 'ALS']}\n</code></pre>\n\n<p>You can then access the values to <code>AKS</code> with a simple command as:</p>\n\n<pre><code>d['AKS'] # ['STB', 'OSMX', 'AKX']\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9316377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da6b70e3aaafc7478f03fda18e98c3c?s=128&d=identicon&r=PG&f=1", "display_name": "baptdub", "link": "https://stackoverflow.com/users/9316377/baptdub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 50144062, "answer_count": 3, "score": 2, "last_activity_date": 1525299954, "creation_date": 1525297614, "last_edit_date": 1525299954, "question_id": 50144018, "link": "https://stackoverflow.com/questions/50144018/create-sublists-with-duplicate-list-elements", "title": "Create sublists with duplicate list elements", "body": "<p>I'm new to Python and I'm trying to create sublists for list elements sharing the same base:</p>\n\n<pre><code>listRaw = ['AKS/STB', 'SBHS/AME', 'SBJ/OAK', 'SBJ/ALS', 'AKS/OSMX', 'SBHS/ABNX', 'AKS/AKX']\ndesiredOutput = [['AKS/STB', 'AKS/OSMX', 'AKS/AKX'], ['SBHS/AME', 'SBHS/ABNX'], ['SBJ/OAK', 'SBJ/ALS']]\n</code></pre>\n\n<p>I've tried to first isolate the base from each list element using: </p>\n\n<pre><code>def commonNumerator(self):\n    checkPosition = self.find('/')\n    commonNumerator = self[:checkPosition]\n    return commonNumerator\n\nlistRawModified = [commonNumerator(x) for x in listRaw]\nprint(listRawModified)\n</code></pre>\n\n<p>which gets me: </p>\n\n<pre><code>['AKS', 'SBHS', 'SBJ', 'SBJ', 'AKS', 'SBHS', 'AKS']\n</code></pre>\n\n<p>but from then I don't know how to proceed to get to the desired ouput.</p>\n\n<p>Can someone explain to me how to do it?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 2, "creation_date": 1525297700, "post_id": 50144010, "comment_id": 87306323, "body": "&quot;It goes bonkers&quot; helps no one. Describe the behavior in detail."}, {"owner": {"reputation": 3104, "user_id": 2558739, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ygAg7.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2558739/ben"}, "edited": false, "score": 1, "creation_date": 1525297832, "post_id": 50144010, "comment_id": 87306379, "body": "Hi, Matthew. How would you describe &#39;goes bonkers&#39;? Also, where do you define countList? (I&#39;m not familiar with Turtles, is countList specific to that?)"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1525299473, "post_id": 50144010, "comment_id": 87306909, "body": "What is countList? Did you try drawing just one triangle first?"}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1525299638, "post_id": 50144010, "comment_id": 87306962, "body": "Set a breakpoint and step through your code. That way you can pinpoint what you are doing and where it all goes wrong."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5373709, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-5VCqeCS4NkI/AAAAAAAAAAI/AAAAAAAAARw/XyiM0CToWmk/photo.jpg?sz=128", "display_name": "Matthew Webster", "link": "https://stackoverflow.com/users/5373709/matthew-webster"}, "edited": false, "score": 0, "creation_date": 1525377058, "post_id": 50144365, "comment_id": 87343607, "body": "thanks for the help that has put me back on the right path!"}], "tags": [], "owner": {"reputation": 152, "user_id": 5133239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9DKa.jpg?s=128&g=1", "display_name": "Isaiah Baker", "link": "https://stackoverflow.com/users/5133239/isaiah-baker"}, "is_accepted": false, "score": 0, "last_activity_date": 1525299536, "creation_date": 1525299536, "answer_id": 50144365, "question_id": 50144010, "link": "https://stackoverflow.com/questions/50144010/struggling-with-for-while-loops-in-python/50144365#50144365", "title": "Struggling with For/while Loops in python", "body": "<p>Here's some simple code that I think does something similar to what you want (Python 3.6.5):</p>\n\n<pre><code>import turtle\nalex = turtle.Turtle()\n\nlevels = int(input(\"How many triangles good sir?: \"))\n\nfor i in range(1, levels + 1):\n    alex.forward(20*i)\n    alex.left(120)\n    alex.forward(20*i)\n    alex.left(120)\n    alex.forward(20*i)\n    alex.left(120)\n\nturtle.mainloop()\n</code></pre>\n\n<p>For every iteration of the loop, I multiply the distance my turtle moves by <code>i</code>. The first triangle will have edges 20 (20*1) units long, the second will have edges 40 (20*2) units long, then 60 (20*3), and so forth.</p>\n\n<p>If I understood your question correctly, you should be able to work off of this example.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 9727556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa9634b5df8cf42aef08cb4756537a13?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Omondi", "link": "https://stackoverflow.com/users/9727556/victor-omondi"}, "is_accepted": true, "score": 0, "last_activity_date": 1525300607, "creation_date": 1525300607, "answer_id": 50144538, "question_id": 50144010, "link": "https://stackoverflow.com/questions/50144010/struggling-with-for-while-loops-in-python/50144538#50144538", "title": "Struggling with For/while Loops in python", "body": "<p>Here's how I've interpreted your question: <em>You want a user to input the number of triangles it should draw. The first triangle should have a length of 10, the second a length of 20 e.t.c.</em></p>\n\n<p>Looking at your code. The variable <strong>levels</strong> just stores the number of triangles that should be drawn. The variable <strong>triangles</strong> is what changes with each iteration of the loop. The variable <strong>countList</strong> has not been defined anywhere.</p>\n\n<p>The following is how the code changes in order to achieve the desired result:</p>\n\n<pre><code>from turtle import *\nlevels = int(input(\"how many triangles do you want? \"))\n\nfor triangles in range(1, levels + 1):\n    forward((triangles * 10) / 2)\n    left(120)\n    forward(triangles * 10)\n    left(120)\n    forward(triangles * 10)\n    left(120)\n    forward((triangles * 10) / 2)\n\nScreen().exitonclick()\n</code></pre>\n\n<p>Since <strong>triangles</strong> is what changes at every iteration of the loop, then that is what needs to be used to determine the size of the line that is to be drawn. Also, the <strong>if</strong> statement is unnecessary since what distinguishes the code for the first triangle from the others is the code:</p>\n\n<pre><code>goto(0,0)\n</code></pre>\n\n<p>This function call is also unnecessary since the turtle is initialised at point 0,0 and after drawing a complete triangle it'll end up at the same position.</p>\n\n<p>The <strong>Screen().exitonclick()</strong> is just there to ensure the window doesn't close immediately the loops terminates.</p>\n\n<p>With the user inputing 10 this is how the result looks like:\n<a href=\"https://i.stack.imgur.com/7UQC5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7UQC5.png\" alt=\"Screenshot\"></a> </p>\n"}], "owner": {"reputation": 55, "user_id": 5373709, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-5VCqeCS4NkI/AAAAAAAAAAI/AAAAAAAAARw/XyiM0CToWmk/photo.jpg?sz=128", "display_name": "Matthew Webster", "link": "https://stackoverflow.com/users/5373709/matthew-webster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "closed_date": 1525309968, "accepted_answer_id": 50144538, "answer_count": 2, "score": -3, "last_activity_date": 1525300607, "creation_date": 1525297571, "question_id": 50144010, "link": "https://stackoverflow.com/questions/50144010/struggling-with-for-while-loops-in-python", "closed_reason": "Not suitable for this site", "title": "Struggling with For/while Loops in python", "body": "<p>Big thanks to the community for the help given so far, but I have hit another stumbling block.</p>\n\n<p>I am trying to run a script that will draw a triangle and then repeat it a number of times as instructed by the input value each being bigger than the previous one, i.e if 4 is enter the first has sides 10, the second 20 and so on.</p>\n\n<p>When it is restricted to a set number of values I can achieve it. But when I use a for loop it goes bonkers.</p>\n\n<p>I am hoping the community can put me show me where I have gone wrong as there has to be a more elegant solution than what I have achieved.</p>\n\n<pre><code>from turtle import *\nlevels = int(input(\"how many triangles do you want? \"))\nfor triangles in range(1, levels + 1):\n    if countList == 1:\n        goto(0,0)\n        forward((levels*10)/2)\n        left(120)\n        forward(levels*10)\n        left(120)\n        forward(levels*10)\n        left(120)\n        forward((levels*10)/2)\n     else:            \n        forward((levels * 10) / 2)\n        left(120)\n        forward(levels * 10)\n        left(120)\n        forward(levels * 10)\n        left(120)\n        forward((levels * 10) / 2)\n        right(60)\n        forward(levels * 10)\n        right(120)\n        forward(levels * 10)\n        right(120)\n        forward(levels * 10)\n        right(120)\n        forward(levels * 10)\n        right(120)\n        forward((levels * 10)/2)\n</code></pre>\n\n<p>so any help would be great.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1525297577, "post_id": 50143994, "comment_id": 87306274, "body": "Open in Excel, or any other program?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1525302564, "post_id": 50143994, "comment_id": 87307702, "body": "On what OS/system?"}, {"owner": {"reputation": 357, "user_id": 9376540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67df096848bee2c49f9abb33bfffbda?s=128&d=identicon&r=PG&f=1", "display_name": "jabba", "link": "https://stackoverflow.com/users/9376540/jabba"}, "edited": false, "score": 0, "creation_date": 1561644303, "post_id": 50143994, "comment_id": 100140140, "body": "I&#39;ve posted answer to similar issue here: <a href=\"https://stackoverflow.com/a/56788021/9376540\">stackoverflow.com/a/56788021/9376540</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1525299123, "post_id": 50144194, "comment_id": 87306796, "body": "It may be OS dependent, but I think you can write to a file that&#39;s already open."}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1525299535, "post_id": 50144194, "comment_id": 87306934, "body": "@Evert at the company where I did my internship we always used this, never had issues"}, {"owner": {"reputation": 129, "user_id": 9646227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97bc11a18876c3ebf84c2803cebd42b?s=128&d=identicon&r=PG&f=1", "display_name": "superx", "link": "https://stackoverflow.com/users/9646227/superx"}, "edited": false, "score": 0, "creation_date": 1525299781, "post_id": 50144194, "comment_id": 87307012, "body": "@Nathan hmm can this try except code be within a while true loop and can if statements be within the Try code?  I was looking more in line with something like &#39;if file is open&#39; execute this else execute that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1525299825, "post_id": 50144194, "comment_id": 87307027, "body": "Open two Python interactive shells, open a file (in write-mode) in one, then open it in the other shell as well. No exceptions for me on MacOS."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1525299834, "post_id": 50144194, "comment_id": 87307030, "body": "It&#39;s quite possible for another process to open the file after the <code>a.close()</code> before <code>execute_different_set_of_actions()</code> can execute, so this is not foolproof\u2014even if you got away with it a lot somewhere your worked."}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "reply_to_user": {"reputation": 129, "user_id": 9646227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97bc11a18876c3ebf84c2803cebd42b?s=128&d=identicon&r=PG&f=1", "display_name": "superx", "link": "https://stackoverflow.com/users/9646227/superx"}, "edited": false, "score": 0, "creation_date": 1525300016, "post_id": 50144194, "comment_id": 87307089, "body": "@superx I don&#39;t understand what you mean, but the answer (in my experience) is that you probably can make it work. What exactly are you planning on using it for (seeing if someone has the file open, or if another program is using it)?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1525300148, "post_id": 50144194, "comment_id": 87307128, "body": "Yes you can be sure. If you can open it for writing <b>and keep it open</b>, then you can be certain that no other process also has it open for writing as well."}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1525300151, "post_id": 50144194, "comment_id": 87307129, "body": "@Evert I&#39;m not saying my answer is correct, but here <a href=\"https://stackoverflow.com/questions/6825994/check-if-a-file-is-open-in-python?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"check if a file is open in python\">stackoverflow.com/questions/6825994/&hellip;</a> somebody else used the same approach and got 29 upvotes"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1525300373, "post_id": 50144194, "comment_id": 87307197, "body": "Your code doesn&#39;t do what I am suggesting, so describing what it would do in relation to my previous comment as it&#39;s currently written isn&#39;t terribly relevant."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1525300769, "post_id": 50144194, "comment_id": 87307300, "body": "If the file can be opened without an exception, <i>then</i> the open file could be passed to <code>execute_certain_actions()</code> as an argument. However if you close the file and then call <code>execute_certain_actions()</code> it&#39;s possible for some other process to open the file before that can happen. Got it now?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1525301532, "post_id": 50144194, "comment_id": 87307496, "body": "Yeah, that&#39;s what I meant...except now your statement that &quot;This will not detect if the file is open by other processes!&quot; isn&#39;t quite right. While that&#39;s the most likely reason for not being able to open it, strictly-speaking it&#39;s not the only possibility."}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1525301680, "post_id": 50144194, "comment_id": 87307531, "body": "@martineau what I meant is that if another process (python script A) has opened it, it can still be opened. So I can still open it and write to it, but strictly speaking it is an open file."}, {"owner": {"reputation": 129, "user_id": 9646227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97bc11a18876c3ebf84c2803cebd42b?s=128&d=identicon&r=PG&f=1", "display_name": "superx", "link": "https://stackoverflow.com/users/9646227/superx"}, "edited": false, "score": 0, "creation_date": 1525301786, "post_id": 50144194, "comment_id": 87307557, "body": "@Nathan what I mean is if there is anything that allows me to find out if a file is open or close by using an if else statement.  Example: if excelfileA.isopen  run this code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1525302541, "post_id": 50144194, "comment_id": 87307698, "body": "@Nathan One comment to your suggested answer mentions that this only works under special circumstances. Hence it&#39;s not bullet-proof."}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 0, "creation_date": 1525323866, "post_id": 50144194, "comment_id": 87312711, "body": "@Evert but the fact that it is still so widely excepted, to me, suggests it is probably the best we have right now"}], "tags": [], "owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "is_accepted": false, "score": -2, "last_activity_date": 1525300843, "last_edit_date": 1525300843, "creation_date": 1525298628, "answer_id": 50144194, "question_id": 50143994, "link": "https://stackoverflow.com/questions/50143994/how-to-determine-if-an-excel-file-is-open-or-close/50144194#50144194", "title": "How to determine if an excel file is open or close?", "body": "<p><strong>This will not detect if the file is open by other processes!</strong></p>\n\n<pre><code>try:\n    a = open('example.xlsx','w')\n    print 'file is closed'\n    execute_certain_actions(a)\n    a.close()\nexcept IOError:\n    print 'file is open'\n    execute_different_set_of_actions()\n</code></pre>\n\n<p>This works because you cannot write to a file that is already open so the try statement will fail.</p>\n\n<p>If you really want to make sure the file is not being used by any process, go check out <a href=\"https://stackoverflow.com/questions/11114492/check-if-a-file-is-not-open-not-used-by-other-process-in-python?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this</a> question.</p>\n"}], "owner": {"reputation": 129, "user_id": 9646227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97bc11a18876c3ebf84c2803cebd42b?s=128&d=identicon&r=PG&f=1", "display_name": "superx", "link": "https://stackoverflow.com/users/9646227/superx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1574, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525300843, "creation_date": 1525297510, "last_edit_date": 1525298187, "question_id": 50143994, "link": "https://stackoverflow.com/questions/50143994/how-to-determine-if-an-excel-file-is-open-or-close", "title": "How to determine if an excel file is open or close?", "body": "<p>How do you check if an excel file is open or not?  If I can find out if it is closed, then I execute certain actions.  If it is not closed, then I execute a different set of actions instead.  </p>\n"}, {"tags": ["python", "pandas", "date", "jalali-calendar"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9573918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c2f57633bea2888ed046d84d20f8b2?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/9573918/a-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1525298466, "creation_date": 1525298466, "answer_id": 50144169, "question_id": 50143974, "link": "https://stackoverflow.com/questions/50143974/organizing-date-format-non-gregorian-calendar-python-3/50144169#50144169", "title": "Organizing date format (non-Gregorian calendar) - Python 3", "body": "<p>Immediately after posting this I found/thought of a solution myself, but instead of deleting the question I decided to post the answer in case someone else come to a similar problem. </p>\n\n<p>tl;dr - I just added a century option to <code>dateutil.parser</code>. I didnt know how to but I found <a href=\"https://stackoverflow.com/a/38577299/9573918\">this</a>.</p>\n\n<p>Here's my end code:</p>\n\n<pre><code>from khayyam import JalaliDate\nfrom dateutil.parser import parse, parserinfo\n\nclass MyParserInfo(parserinfo):\n    def convertyear(self, year, *args, **kwargs):\n        if year &lt; 100:\n            year += 1300\n        return year\n\nif __name__ == '__main__':\n    dt = parse(\"9.12.96\", MyParserInfo()).date()\n    a=JalaliDate(dt.year, dt.month, dt.day).todate()\n    print(dt)\n    print(a)\n\n#1396-09-12\n#2017-12-03\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9573918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c2f57633bea2888ed046d84d20f8b2?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/9573918/a-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525298466, "creation_date": 1525297411, "question_id": 50143974, "link": "https://stackoverflow.com/questions/50143974/organizing-date-format-non-gregorian-calendar-python-3", "title": "Organizing date format (non-Gregorian calendar) - Python 3", "body": "<p>I have a large sales database the first column of which is the purchase date. The problem is some of these dates are entered in <code>DD.MM.YY</code> format, some in <code>YY.MM.DD</code> and some in <code>YYYY/MM/DD</code>. I want to make them all to same format. What is the cleanest way I can do this?</p>\n\n<p>Note 1: I'm thinking of doing a series of <code>if</code>s but that would be a lot of conditions so I'm wondering if there is a cleaner shortcut.</p>\n\n<p>Note 2: An additional complication is that the dates are in Jalaali calender and not Gregorian. I have the function that will convert them to gregorian but I need to pass the correct <code>year, month, day</code> arguments to it; this is why I want to bring them all to a single format. But additionally, this means that if you offer some \"Gregorian-only\" solutions, like <code>dateutil.parser</code>, it might not work.</p>\n"}, {"tags": ["python", "roc"], "answers": [{"tags": [], "owner": {"reputation": 759, "user_id": 5128388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sZjbh.jpg?s=128&g=1", "display_name": "Mr. Wizard", "link": "https://stackoverflow.com/users/5128388/mr-wizard"}, "is_accepted": true, "score": 1, "last_activity_date": 1525299765, "last_edit_date": 1525299765, "creation_date": 1525298085, "answer_id": 50144111, "question_id": 50143946, "link": "https://stackoverflow.com/questions/50143946/plot-all-roc-curves-in-one-figure-using-kneighborsclassifier-with-different-k/50144111#50144111", "title": "Plot all ROC curves in one figure using KNeighborsClassifier with different k", "body": "<p>I figured out what was wrong, in case anyone will ever want to do this:</p>\n\n<pre><code>for k in k_range:\n    knn = KNeighborsClassifier(n_neighbors=k)\n    model = knn.fit(X_train, Y_train)\n    y_predict_proba = model.predict_proba(X_test).tolist()\n    probabilities = np.array(y_predict_proba)[:, 1]\n    fpr, tpr, _ = roc_curve(Y_test, probabilities)\n    roc_auc = auc(fpr, tpr)\n    color = ['blue', 'orange', 'red', 'green', 'coral',\n             'grey', 'indigo', 'gold', 'lime', 'olive',\n             'pink', 'navy', 'magenta', 'yellow', 'tomato',\n             'turquoise', 'yellowgreen', 'maroon', 'lightblue']\n    plt.plot(fpr, tpr, color=color[k - 1], lw=1, label='ROC (area = %f)' % roc_auc)\nplt.plot([0, 1], [0, 1], color='navy', lw=2, linestyle='--')\nplt.xlim([-0.05, 1.05])\nplt.ylim([-0.05, 1.05])\nplt.xlabel('False Positive Rate')\nplt.ylabel('True Positive Rate')\nplt.title('ROC Curve')\nplt.legend(loc=\"lower right\")\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 5128388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sZjbh.jpg?s=128&g=1", "display_name": "Mr. Wizard", "link": "https://stackoverflow.com/users/5128388/mr-wizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 792, "favorite_count": 0, "accepted_answer_id": 50144111, "answer_count": 1, "score": 1, "last_activity_date": 1525299765, "creation_date": 1525297249, "last_edit_date": 1525297549, "question_id": 50143946, "link": "https://stackoverflow.com/questions/50143946/plot-all-roc-curves-in-one-figure-using-kneighborsclassifier-with-different-k", "title": "Plot all ROC curves in one figure using KNeighborsClassifier with different k", "body": "<p>How can I plot multiple ROC curves using the algorithm KNeighborsClassifier? I want to plot a ROC curve for different k.</p>\n\n<p>This is what I have, but it will plot different figures, and I want to combine all of them</p>\n\n<pre><code>k_range = range(1, 20)\nfor k in k_range:\n    knn = KNeighborsClassifier(n_neighbors=k)\n    model = knn.fit(X_train, Y_train)\n    y_predict_proba = model.predict_proba(X_test).tolist()\n    probabilities = np.array(y_predict_proba)[:, 1]\n    fpr, tpr, _ = roc_curve(Y_test, probabilities)\n    # roc_auc = (auc(fpr, tpr))\n\n    plt.figure()\n    plt.plot(fpr, tpr, color='darkorange', lw=2)\n    plt.plot([0, 1], [0, 1], color='navy', lw=2, linestyle='--')\n    plt.xlim([-0.05, 1.05])\n    plt.ylim([-0.05, 1.05])\n    plt.xlabel('False Positive Rate')\n    plt.ylabel('True Positive Rate')\n    plt.title('ROC Curve')\n    plt.legend(loc=\"lower right\")\n    plt.show()\n</code></pre>\n"}, {"tags": ["python", "partial-application"], "comments": [{"owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1525297155, "post_id": 50143864, "comment_id": 87306110, "body": "@aran-fey it&#39;s not a duplicate.   I&#39;m asking about <b>partial classes</b>."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1525297189, "post_id": 50143864, "comment_id": 87306124, "body": "<code>functools.partial</code> can be used with any callable, be it a function or a method or a class or anything else."}, {"owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1525297217, "post_id": 50143864, "comment_id": 87306134, "body": "@Aran-Fey Unfortunately, the partial object doesn&#39;t respond to <code>issubclass</code>, so it&#39;s not a good solution."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1525297250, "post_id": 50143864, "comment_id": 87306149, "body": "Okay, I&#39;ll reopen. Please add the <code>issubclass</code> requirement to the question though."}, {"owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1525297281, "post_id": 50143864, "comment_id": 87306156, "body": "@aran-fey, martijn is right, it&#39;s a duplicate of <i>that</i> question."}, {"owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "reply_to_user": {"reputation": 377, "user_id": 9681287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7799965faee7bbb52fc129cf28ca2959?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn", "link": "https://stackoverflow.com/users/9681287/martijn"}, "edited": false, "score": 0, "creation_date": 1525297319, "post_id": 50143864, "comment_id": 87306170, "body": "@Martijn thank you!  You&#39;re practically an index of this site :D"}, {"owner": {"reputation": 377, "user_id": 9681287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7799965faee7bbb52fc129cf28ca2959?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn", "link": "https://stackoverflow.com/users/9681287/martijn"}, "edited": false, "score": 0, "creation_date": 1525297358, "post_id": 50143864, "comment_id": 87306197, "body": "No problem @NeilG :)"}], "owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 947, "favorite_count": 0, "closed_date": 1525297342, "answer_count": 0, "score": 2, "last_activity_date": 1529036507, "creation_date": 1525296803, "last_edit_date": 1529036507, "question_id": 50143864, "link": "https://stackoverflow.com/questions/50143864/is-there-a-nice-way-to-partially-bind-class-parameters-in-python", "closed_reason": "Duplicate", "title": "Is there a nice way to partially-bind class parameters in Python?", "body": "<p>Here's what I'm doing now:</p>\n\n<pre><code>@memoized\ndef reversed_matching(matching_cls):\n\n    class ReversedMatching(ReversedSequenceMatching):\n\n        def __init__(self, *args, **kwargs):\n            super().__init__(matching_cls, *args, **kwargs)\n\n    return ReversedMatching\n</code></pre>\n\n<p>I want to bind one argument of a class and return the \u201cpartial class\u201d. I can't use <a href=\"https://docs.python.org/3/library/functools.html#functools.partial\" rel=\"nofollow noreferrer\"><code>functools.partial</code></a> because that can't be used with <a href=\"https://docs.python.org/3/library/functions.html#isinstance\" rel=\"nofollow noreferrer\"><code>isinstance</code></a> and <a href=\"https://docs.python.org/3/library/functions.html#issubclass\" rel=\"nofollow noreferrer\"><code>issubclass</code></a> and the like. Is there a nicer way to write this?</p>\n"}, {"tags": ["python", "numpy", "machine-learning", "scikit-learn", "cross-validation"], "comments": [{"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525297075, "post_id": 50143825, "comment_id": 87306082, "body": "As a remark, please include your imports in the beginning of your code (KFold, multivariate_normal). Also, you could reduce the size of c4 and still have your bug: this would make the example more readable."}, {"owner": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "reply_to_user": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525297185, "post_id": 50143825, "comment_id": 87306122, "body": "Ok, thanks @P.Camilleri"}, {"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525297518, "post_id": 50143825, "comment_id": 87306252, "body": "You can also reduce the number of features (columns of c4)"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "edited": false, "score": 0, "creation_date": 1525296952, "post_id": 50143882, "comment_id": 87306013, "body": "Yup, its from scipy.stats import multivariate_normal"}, {"owner": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "edited": false, "score": 0, "creation_date": 1525297087, "post_id": 50143882, "comment_id": 87306088, "body": "The same thing as you can see, the first argument is mean and the second is covariance."}, {"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "reply_to_user": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "edited": false, "score": 0, "creation_date": 1525297177, "post_id": 50143882, "comment_id": 87306118, "body": "No, I think the first argument is the desired quantiles. Read the doc that I pointed you to"}, {"owner": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "edited": false, "score": 0, "creation_date": 1525297825, "post_id": 50143882, "comment_id": 87306376, "body": "I made this change:  v = multivariate_normal(X_train, X_train_mean, cov=X_train_cov)  But I got this error: TypeError: __call__() got multiple values for argument &#39;cov&#39;"}, {"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "reply_to_user": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "edited": false, "score": 0, "creation_date": 1525298063, "post_id": 50143882, "comment_id": 87306442, "body": "@MeqdadDarweesh see my edit. Make sure that X_train_cov is not singular."}, {"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "reply_to_user": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "edited": false, "score": 0, "creation_date": 1525298681, "post_id": 50143882, "comment_id": 87306639, "body": "@MeqdadDarweesh if it does, you can mark my answer as accepted by clicking the validation sign next to it. Appreciate it!"}], "tags": [], "owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "is_accepted": false, "score": 1, "last_activity_date": 1525298040, "last_edit_date": 1525298040, "creation_date": 1525296883, "answer_id": 50143882, "question_id": 50143825, "link": "https://stackoverflow.com/questions/50143825/reshaping-error-in-multivariate-normal-function-with-numpy-python/50143882#50143882", "title": "Reshaping error in multivariate normal function with Numpy - Python", "body": "<p>What is <code>multivariate_normal</code> ? If it is from <code>scipy.stats</code>, then per the doc you must do</p>\n\n<pre><code> multivariate_normal.pdf(X_test, np.mean(X_train, axis=0), X_train_cov)\n</code></pre>\n\n<p><a href=\"https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.multivariate_normal.html\" rel=\"nofollow noreferrer\">The doc is here.</a></p>\n"}, {"comments": [{"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525297827, "post_id": 50144045, "comment_id": 87306377, "body": "Have you tried your approach? It does not solve the error."}, {"owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "reply_to_user": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525297939, "post_id": 50144045, "comment_id": 87306416, "body": "I did... it did not give me an error. When I removed <code>axis=0</code>, I was able to reproduce the error that OP posted. Let me post a code snippet that works."}, {"owner": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "reply_to_user": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525298174, "post_id": 50144045, "comment_id": 87306477, "body": "This doesn&#39;t solve the error, but I made the change that @P.Camilleri talked about in his post. If I add X_train in the arguments, this error will appear: TypeError: __call__() got multiple values for argument &#39;cov&#39; and if I didn&#39;t add this argument, this error appears: numpy.linalg.linalg.LinAlgError: singular matrix"}, {"owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "edited": false, "score": 0, "creation_date": 1525298278, "post_id": 50144045, "comment_id": 87306507, "body": "From the same <code>multivariate_normal</code> documentation, it is valid to call it without the first argument <code>x</code> i.e. just with mean and variance. Read this: &lt;&lt; Alternatively, the object may be called (as a function) to fix the mean  and covariance parameters, returning a \u201cfrozen\u201d multivariate normal  random variable:  rv = multivariate_normal(mean=None, scale=1)&gt;&gt;. So that may or may not be the solution to your error. However, what I mentioned is most likely an error on your part. Are you sure you want a <code>30 x 30</code> covariance matrix and then a <code>1 x 1</code> scalar as mean. That does not make sense."}, {"owner": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "edited": false, "score": 0, "creation_date": 1525298733, "post_id": 50144045, "comment_id": 87306657, "body": "The data set is from the lecturer of M.L. course, it represents a text recognition values. but the last one with np.eye(30) works with me."}, {"owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "edited": false, "score": 0, "creation_date": 1525298807, "post_id": 50144045, "comment_id": 87306685, "body": "Adding <code>np.eye(30)</code> makes the matrix non-singular. However, you should add a small value such as <code>1e-3</code>. In addition, also pay attention as to why the matrix became singular in the first place."}], "tags": [], "owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "is_accepted": true, "score": 1, "last_activity_date": 1525298199, "last_edit_date": 1525298199, "creation_date": 1525297760, "answer_id": 50144045, "question_id": 50143825, "link": "https://stackoverflow.com/questions/50143825/reshaping-error-in-multivariate-normal-function-with-numpy-python/50144045#50144045", "title": "Reshaping error in multivariate normal function with Numpy - Python", "body": "<p>You are taking the mean of entire matrix <code>X_train</code> when you do <code>np.mean(X_train)</code>. What you should do is take mean across the sample axis i.e. if your features are across columns and different samples are across rows, then replace <code>np.mean(X_train)</code> by <code>np.mean(X_train, axis=0)</code>. This should solve the error.</p>\n\n<p>Including this line in the above code makes it work. Basically, <code>np.mean(c4[test_index], axis=0)</code> will given you a <code>1 x 30</code> mean vector instead of a scalar mean.</p>\n\n<pre><code>from scipy.stats import multivariate_normal as mvn\nv = mvn(np.mean(c4[test_index], axis=0), X_train_cov + np.eye(30))\n</code></pre>\n\n<p>I had to add an identity matrix because I was getting a singular matrix error. However, that has to do with how <code>c4</code> is defined and nothing to do with this code. Note that to avoid the singularity, you typically add a very small value on the diagonal and  not an identity matrix. This is just for illustration.</p>\n"}], "owner": {"reputation": 53, "user_id": 5604698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F8KV.jpg?s=128&g=1", "display_name": "Meqdad Dev", "link": "https://stackoverflow.com/users/5604698/meqdad-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 50144045, "answer_count": 2, "score": -1, "last_activity_date": 1525298199, "creation_date": 1525296626, "last_edit_date": 1525297388, "question_id": 50143825, "link": "https://stackoverflow.com/questions/50143825/reshaping-error-in-multivariate-normal-function-with-numpy-python", "title": "Reshaping error in multivariate normal function with Numpy - Python", "body": "<p>I have this data (c4), I want to use 4-fold cross validation testing on this matrix.\nThe way that I'm splitting the data is as follows:</p>\n\n<pre><code>from scipy.stats import multivariate_normal\nfrom sklearn.model_selection import KFold\nimport math\n\nc4 = np.array([\n[5,10,14,18,22,19,21,18,18,19,19,18,15,15,12,4,4,4,3,3,3,3,3,3,3,3,3,3,3,1],\n[6,9,11,12,10,10,13,16,18,21,20,19,8,5,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3],\n[4,8,12,17,18,21,21,21,17,16,15,13,7,8,8,7,7,4,4,4,3,3,3,3,4,4,3,3,3,2],\n[3,7,12,17,19,20,22,20,20,19,19,18,17,16,16,15,14,13,12,9,4,4,4,3,3,3,3,3,2,1],\n[2,5,8,10,10,11,11,10,13,17,19,20,22,22,20,16,15,15,13,11,8,3,3,3,3,3,3,3,2,1],\n[4,8,10,11,10,15,15,17,18,19,18,20,18,17,15,13,12,7,4,4,4,4,4,4,4,4,3,3,3,2],\n[2,8,12,15,18,20,19,20,21,21,23,19,19,16,16,16,14,12,10,7,7,7,7,6,3,3,3,3,2,1],\n[2,13,17,18,21,22,20,18,18,17,17,15,13,11,8,8,4,4,4,4,4,4,4,4,4,4,4,4,3,1],\n[6,6,9,14,15,18,20,20,22,20,16,16,15,11,8,8,8,5,4,4,4,4,4,4,4,5,5,5,5,4],\n[8,13,16,20,20,20,19,17,17,17,17,15,14,13,10,6,3,3,3,4,4,4,3,3,4,3,3,3,2,2],\n[5,9,17,18,19,18,17,16,14,13,12,12,11,10,4,4,4,3,3,3,3,3,3,3,4,4,3,3,3,3],\n[4,6,8,11,16,17,18,20,16,17,16,17,17,16,14,12,12,10,9,9,8,8,6,4,3,3,3,2,2,2] ])\n\nkf = KFold(n_splits=4)\n\nfor train_index, test_index in kf.split(c4):\n    X_train, X_test = c4[train_index], c4[test_index]\n    X_train_mean = np.mean(X_train)\n    X_train_cov = np.cov(X_train.T)\n    v = multivariate_normal(X_train_mean, X_train_cov)\n    res = v.pdf(X_test)\n    print (res)\n</code></pre>\n\n<p>but it didn't work with me, despite that the splitting loop works well with small sample of data.</p>\n\n<p>The error message that I got:</p>\n\n<blockquote>\n  <p>ValueError: cannot reshape array of size 900 into shape (1,1)</p>\n</blockquote>\n\n<p><strong>Note: the length of all rows is equal.</strong></p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "list", "recursion"], "comments": [{"owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "edited": false, "score": 1, "creation_date": 1525296521, "post_id": 50143769, "comment_id": 87305828, "body": "What is expected output and how does it differ from current output?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 3827096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d3d490baeb42f3fdde5b219e791bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Lithium", "link": "https://stackoverflow.com/users/3827096/lithium"}, "edited": false, "score": 0, "creation_date": 1525299143, "post_id": 50144022, "comment_id": 87306803, "body": "Hi Nathan, thanks so much for the answer! This works perfectly! I am relatively new to Python, and had a a bit of problem understanding why this is the case. This issue of the list being copied from the original link rather than the updated one - why this is the case? Is it related specifically to the application of a recursive function?"}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "reply_to_user": {"reputation": 15, "user_id": 3827096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d3d490baeb42f3fdde5b219e791bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Lithium", "link": "https://stackoverflow.com/users/3827096/lithium"}, "edited": false, "score": 0, "creation_date": 1525299792, "post_id": 50144022, "comment_id": 87307016, "body": "@Lithium What happens is that you append <code>path</code> to your list. Now, if you change <code>path</code>, the variable you added to your list also changes (try A = [0,0] B = A A.append(1) print B), you can read more about it here (<a href=\"http://henry.precheur.org/python/copy_list\" rel=\"nofollow noreferrer\">henry.precheur.org/python/copy_list</a>)"}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "reply_to_user": {"reputation": 15, "user_id": 3827096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d3d490baeb42f3fdde5b219e791bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Lithium", "link": "https://stackoverflow.com/users/3827096/lithium"}, "edited": false, "score": 0, "creation_date": 1525300368, "post_id": 50144022, "comment_id": 87307194, "body": "@Lithium btw, if your question is answered it is good practice to accept the answer, this indicates to others that no more help is needed."}, {"owner": {"reputation": 15, "user_id": 3827096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d3d490baeb42f3fdde5b219e791bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Lithium", "link": "https://stackoverflow.com/users/3827096/lithium"}, "edited": false, "score": 0, "creation_date": 1525381538, "post_id": 50144022, "comment_id": 87345656, "body": "Thanks so much! This makes perfect sense. Just accepted the answer."}], "tags": [], "owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "is_accepted": true, "score": 0, "last_activity_date": 1525297624, "creation_date": 1525297624, "answer_id": 50144022, "question_id": 50143769, "link": "https://stackoverflow.com/questions/50143769/issue-with-storing-values-to-a-list-in-a-recursive-function-in-python/50144022#50144022", "title": "Issue with storing values to a list in a recursive function in Python", "body": "<p>The problem is probably that when you append, you only append <code>path</code> I suspect you did something like this:</p>\n\n<pre><code># global \nall_lists = []\n\n# your functions\n...\ndef print_all_path(s, d, visited, path):\n    global results\n    visited[s[0]][s[1]] = True\n    path.append(grid[s[0]][s[1]])\n\n    if s == d:\n        results.append(path)\n        print(path)\n        all_lists.append(path)\n...\n</code></pre>\n\n<p>However, path is still linked to the original <code>path</code> variable.</p>\n\n<p>You can solve this by using:</p>\n\n<pre><code>all_lists.append(path + [])\n</code></pre>\n\n<p>This copies the list and removes the link</p>\n\n<p>So the overall program is now</p>\n\n<pre><code>import numpy as np\n\n#initialize a matrix\ngrid = np.arange(0, 1225).reshape((35,35))\nm = 10\nn = 5\n#starting point\ns = (0, 0)\n#target point\nd = (n, m)\nresults = []\nall_paths = []\n\n#a function to find the next step in the path\ndef next_step(x, y):\n    step = []\n    dx = [0, 1]\n    dy = [1, 0]\n\n    for i in range(2):\n        next_x = x + dx[i]\n        next_y = y + dy[i]\n        if next_x &gt;= 0 and next_x &lt;= n and next_y &gt;= 0 and next_y &lt;= m:\n            step.append((next_x, next_y))\n    return step\n\ndef print_all_path(s, d, visited, path):\n    global results\n    visited[s[0]][s[1]] = True\n    path.append(grid[s[0]][s[1]])\n\n    if s == d:\n        results.append(path)\n        all_paths.append(path + [])\n        #print(path)\n    else:\n        for step in next_step(s[0], s[1]):\n            if visited[step[0],step[1]] == False:\n                print_all_path(step, d, visited, path)\n    path.pop()\n    visited[s[0]][s[1]] = False\n\ndef print_path(s, d):\n    visited = np.zeros((35,35), dtype = bool)\n    path = []\n    print_all_path(s, d, visited, path)\n\n\nprint_path(s, d)\nprint all_paths\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3827096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d3d490baeb42f3fdde5b219e791bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Lithium", "link": "https://stackoverflow.com/users/3827096/lithium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 50144022, "answer_count": 1, "score": 0, "last_activity_date": 1525297624, "creation_date": 1525296380, "question_id": 50143769, "link": "https://stackoverflow.com/questions/50143769/issue-with-storing-values-to-a-list-in-a-recursive-function-in-python", "title": "Issue with storing values to a list in a recursive function in Python", "body": "<p>I am trying to write a Python function that stores all the paths between two points on a grid. <a href=\"https://stackoverflow.com/questions/16498066/finding-all-paths-between-2-points-on-a-square-matrix\">Here</a> is the original question and I am inspired by the answers and tried to create a similar version in Python.</p>\n\n<p>I was able to successfully print out all the paths found by applying a recursive function, but the problem was that when I needed them to be stored in a list, I got an list of empty list. I have tried using global variables and local variables as the list for storage, and they gave the same results. Could anyone please comment on my code below and suggest on where I did incorrectly?</p>\n\n<p>Many thanks!</p>\n\n<pre><code>import numpy as np\n\n#initialize a matrix\ngrid = np.arange(0, 1225).reshape((35,35))\nm = 10\nn = 5\n#starting point\ns = (0, 0)\n#target point\nd = (n, m)\nresults = []\n\n#a function to find the next step in the path\ndef next_step(x, y):\n    step = []\n    dx = [0, 1]\n    dy = [1, 0]\n\n    for i in range(2):\n        next_x = x + dx[i]\n        next_y = y + dy[i]\n        if next_x &gt;= 0 and next_x &lt;= n and next_y &gt;= 0 and next_y &lt;= m:\n            step.append((next_x, next_y))\n    return step\n\ndef print_all_path(s, d, visited, path):\n    global results\n    visited[s[0]][s[1]] = True\n    path.append(grid[s[0]][s[1]])\n\n    if s == d:\n        results.append(path)\n        print(path)\n    else:\n        for step in next_step(s[0], s[1]):\n            if visited[step[0],step[1]] == False:\n                print_all_path(step, d, visited, path)\n    path.pop()\n    visited[s[0]][s[1]] = False\n\ndef print_path(s, d):\n    visited = np.zeros((35,35), dtype = bool)\n    path = []\n    print_all_path(s, d, visited, path)\n\nprint_path(s, d)\n</code></pre>\n"}, {"tags": ["python", "api", "twitter", "tweepy"], "comments": [{"owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 0, "creation_date": 1525296480, "post_id": 50143764, "comment_id": 87305817, "body": "What is the problem?"}, {"owner": {"reputation": 35, "user_id": 9476189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abcd", "link": "https://stackoverflow.com/users/9476189/abcd"}, "reply_to_user": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 0, "creation_date": 1525296907, "post_id": 50143764, "comment_id": 87305994, "body": "@dfundako well the code above doesn&#39;t actually do anything since there&#39;s no connection to the Twitter API, I&#39;m not sure how to go on about it/open a stream without using api.search"}, {"owner": {"reputation": 35, "user_id": 9476189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abcd", "link": "https://stackoverflow.com/users/9476189/abcd"}, "reply_to_user": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 1, "creation_date": 1525296998, "post_id": 50143764, "comment_id": 87306040, "body": "basically this is what I want to do, but with Tweepy <a href=\"https://stackoverflow.com/questions/24725294/replying-to-users-who-tweets-your-account-using-twitter4j\" title=\"replying to users who tweets your account using twitter4j\">stackoverflow.com/questions/24725294/&hellip;</a>"}], "owner": {"reputation": 35, "user_id": 9476189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abcd", "link": "https://stackoverflow.com/users/9476189/abcd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525296349, "creation_date": 1525296349, "question_id": 50143764, "link": "https://stackoverflow.com/questions/50143764/replying-to-users-who-tweet-my-account-using-tweepy", "title": "Replying to users who tweet my account using Tweepy", "body": "<p>I want to reply to users who tweet me a specific keyword (only when they tweet me) using Tweepy but I'm not sure how to go on about it, most of the examples I've seen use api.search which isn't convenient in this situation:</p>\n\n<pre><code>def tweetIt():\n    text = tweet.status\n    sn = tweet.user.screen_name\n    reply_to = tweet.in_reply_to_screen_name\n\n        if reply_to == \"myuser\":\n             if text == \"@myuser keyword\":\n                 # reply to user with an image from a specific folder\n\ntweetIt()\n\ntime.sleep(90) # to keep it running\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "adaboost", "ensemble-learning"], "comments": [{"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1525296516, "post_id": 50143759, "comment_id": 87305827, "body": "You should try reducing the number of features.  This is clearly overfitting."}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1525296552, "post_id": 50143759, "comment_id": 87305843, "body": "also, check out <a href=\"https://stats.stackexchange.net\" rel=\"nofollow noreferrer\">stats.stackexchange.net</a> and <a href=\"https://datascience.stackexchange.com/\">datascience.stackexchange.com</a>"}, {"owner": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 0, "creation_date": 1525296554, "post_id": 50143759, "comment_id": 87305844, "body": "Did you try cross validation?"}, {"owner": {"reputation": 595, "user_id": 4685779, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206144474355537/picture?type=large", "display_name": "Javiss", "link": "https://stackoverflow.com/users/4685779/javiss"}, "reply_to_user": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1525296790, "post_id": 50143759, "comment_id": 87305957, "body": "The features I am using are OneHotEncoded Features ie. if a feature got 4 values, then OHE gives 4 new features (0 or 1 depending whether or not the sample contains that feature). At the beginning I had 12 Features. @ChootsMagoots"}, {"owner": {"reputation": 595, "user_id": 4685779, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206144474355537/picture?type=large", "display_name": "Javiss", "link": "https://stackoverflow.com/users/4685779/javiss"}, "reply_to_user": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 1, "creation_date": 1525296815, "post_id": 50143759, "comment_id": 87305965, "body": "Yes, it is 10 fold Cross Validation (10-CV) @HarisNadeem"}, {"owner": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 1, "creation_date": 1525297783, "post_id": 50143759, "comment_id": 87306359, "body": "Could you explain what type of data you are working on? For example text data or image data etc? Ensemble methods generally tend not to overfit (though there are most certainly cases and chances where it can happen)."}, {"owner": {"reputation": 595, "user_id": 4685779, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206144474355537/picture?type=large", "display_name": "Javiss", "link": "https://stackoverflow.com/users/4685779/javiss"}, "edited": false, "score": 0, "creation_date": 1525297866, "post_id": 50143759, "comment_id": 87306395, "body": "It is the heart disease dataset publicly available here: <a href=\"http://archive.ics.uci.edu/ml/datasets/heart+Disease\" rel=\"nofollow noreferrer\">archive.ics.uci.edu/ml/datasets/heart+Disease</a>  I preprocessed the dataset discarding those features which contains &gt;50% missing data. Those which contains &lt; 50% I imputed it using MICE <a href=\"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3074241/\" rel=\"nofollow noreferrer\">ncbi.nlm.nih.gov/pmc/articles/PMC3074241</a>,  Then I bagged numerical data into categorical data by gathering the values in equal ranges and then encoding features by OHE."}, {"owner": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 0, "creation_date": 1525299123, "post_id": 50143759, "comment_id": 87306795, "body": "Ok so I think I can answer one of your questions. Bagging leads to improvements for unstable procedures by reducing the variance from the data set, but since you grouped numerical data in equal ranges and turned it into categorical data, you have already significantly decreased the variance of your data set. Keep in mind, bagging can mildly degrade the performance of stable methods such as K-nearest neighbors."}, {"owner": {"reputation": 4314, "user_id": 5152563, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ca2290acd27712398ff5bf1d469129dd?s=128&d=identicon&r=PG", "display_name": "Quickbeam2k1", "link": "https://stackoverflow.com/users/5152563/quickbeam2k1"}, "edited": false, "score": 0, "creation_date": 1525339801, "post_id": 50143759, "comment_id": 87320773, "body": "another issue related to number of features: do all the one-hot encoded groups have the same number of data points? Approximately, you can punily have 22 data points per combination of one hot encoded values. How is the distribution of those combinations? It might be, the certain groups are too small (hence, they do not appear in the test set and an algorithm will fail to generalize well there)"}, {"owner": {"reputation": 595, "user_id": 4685779, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206144474355537/picture?type=large", "display_name": "Javiss", "link": "https://stackoverflow.com/users/4685779/javiss"}, "reply_to_user": {"reputation": 4314, "user_id": 5152563, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ca2290acd27712398ff5bf1d469129dd?s=128&d=identicon&r=PG", "display_name": "Quickbeam2k1", "link": "https://stackoverflow.com/users/5152563/quickbeam2k1"}, "edited": false, "score": 0, "creation_date": 1525342101, "post_id": 50143759, "comment_id": 87322332, "body": "See Edit @Quickbeam2k1  Can I also mixed Categorical and numerical data and then see the performance of the algorithms? I mean, keeping the age, cholesterol and so on as they were without bagging them into ranges, then normalize them and see if it also improves. I OHE the features since I believe for some algorithms, when they compute the distance it will be biased from a continuous feature and OHE feature, so I wanted to keep them &quot;standardized &quot; in the same encoding"}, {"owner": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 0, "creation_date": 1525476079, "post_id": 50143759, "comment_id": 87385742, "body": "So based on your new edits, let me answer what I can. As for the point: <i><code>Stated another way, some of the groups are TOO small and hence they do not appear in the test set and the algorithm will fail to generalize well.</code></i> That is a problem of the data set, sadly, that just means you need to find a better way to enrich your data. If you have bad data or data lacking information, it is almost impossible to create strong results or inferences no matter how powerful your data set is. In ML your data is your fuel... Bad data=bad fuel. No matter how powerful your engine is"}, {"owner": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 0, "creation_date": 1525476502, "post_id": 50143759, "comment_id": 87385830, "body": "<i><code>So I believe I need to discard some of the OHE Features. The thing is, which threshold should I consider to discard? I am thinking about discarding those features which percentage do not achieve 10% less than the proportional equal ratio of its values.</code></i> The problem with this approach is that you don&#39;t know how important those features are that you are discarding. For example, suppose there are only 4/100 cases where the chol level is super abnormal like 290 mg/dl. These would be a good indicator of heart disease in your ml but got discarded because they did not fit your threshhold of 10%"}, {"owner": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 0, "creation_date": 1525476572, "post_id": 50143759, "comment_id": 87385847, "body": "If you want to discard some of the OHE Features, that is not a bad idea but you do not want to use a threshold for that. Instead you want to use ML techniques known as <a href=\"https://en.wikipedia.org/wiki/Dimensionality_reduction#Kernel_PCA\" rel=\"nofollow noreferrer\">Dimensionality Reduction</a> specifically PCA. Though for your use case I would suggest using Kernel PCA as it seems to fit your data model more appropriately. I wont go into details of how PCA works but you can read it here: <a href=\"https://georgemdallas.wordpress.com/2013/10/30/principal-component-analysis-4-dummies-eigenvectors-eigenvalues-and-dimension-reduction/\" rel=\"nofollow noreferrer\">georgemdallas.wordpress.com/2013/10/30/&hellip;</a>"}, {"owner": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 0, "creation_date": 1525476799, "post_id": 50143759, "comment_id": 87385900, "body": "I was running out of space which was getting ridiculous. Please let me know if you have any other questions. And do use the <code>@</code> symbol with my username, otherwise I don&#39;t get notifications. I almost overlooked your edits had I not been browsing through questions."}], "owner": {"reputation": 595, "user_id": 4685779, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206144474355537/picture?type=large", "display_name": "Javiss", "link": "https://stackoverflow.com/users/4685779/javiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525341911, "creation_date": 1525296311, "last_edit_date": 1525341911, "question_id": 50143759, "link": "https://stackoverflow.com/questions/50143759/how-much-higher-accuracy-of-train-than-test-is-enough-to-consider-the-model-over", "title": "How much higher accuracy of train than test is enough to consider the model overfitted?", "body": "<p>Considering a dataset of 920 samples with 40 features in a binary classification problem. The dataset is the heart disease dataset publicly available here: archive.ics.uci.edu/ml/datasets/heart+Disease </p>\n\n<p>I preprocessed the dataset discarding those features which contains >50% missing data. Those which contains &lt; 50% I imputed it using MICE ncbi.nlm.nih.gov/pmc/articles/PMC3074241. Then I bagged numerical data into categorical data by gathering the values in equal ranges and then encoding features by OHE. The info about the dataset is the following: </p>\n\n<p><a href=\"https://i.stack.imgur.com/EwMdml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EwMdml.png\" alt=\"enter image description here\"></a></p>\n\n<p>The models considered are:\nLinear SVM, RBF SVM, Logistic Regression, KNN , Decision Tree , Random Forest</p>\n\n<p>I tuned the parameters using RandomSearchCV: </p>\n\n<pre><code>&gt; Model: SVC(C=0.1, cache_size=200, class_weight=None, coef0=0.0,\n  decision_function_shape='ovr', degree=3, gamma=0.1, kernel='linear',\n  max_iter=-1, probability=True, random_state=None, shrinking=True,\n  tol=0.001, verbose=False)\n\n&gt; Model: SVC(C=10000.0, cache_size=200, class_weight=None, coef0=0.0,\n  decision_function_shape='ovr', degree=3, gamma=0.0001, kernel='rbf',\n  max_iter=-1, probability=True, random_state=None, shrinking=True,\n  tol=0.001, verbose=False)\n\n&gt; Model: LogisticRegression(C=0.01, class_weight=None, dual=False, fit_intercept=True,intercept_scaling=1, max_iter=100, multi_class='ovr', n_jobs=1, penalty='l2', random_state=None, solver='liblinear', tol=0.0001, verbose=0, warm_start=False)\n\n&gt; Model: KNeighborsClassifier(algorithm='auto', leaf_size=30, metric='minkowski',\n           metric_params=None, n_jobs=1, n_neighbors=65, p=2,\n           weights='uniform')\n\n&gt; Model: DecisionTreeClassifier(class_weight=None, criterion='gini', max_depth=None,\n            max_features=None, max_leaf_nodes=10,\n            min_impurity_decrease=0.0, min_impurity_split=None,\n            min_samples_leaf=1, min_samples_split=2,\n            min_weight_fraction_leaf=0.0, presort=False, random_state=None,\n            splitter='random')\n\n&gt; Model: RandomForestClassifier(bootstrap=True, class_weight=None, criterion='gini',\n            max_depth=30, max_features='sqrt', max_leaf_nodes=None,\n            min_impurity_decrease=0.0, min_impurity_split=None,\n            min_samples_leaf=4, min_samples_split=2,\n            min_weight_fraction_leaf=0.0, n_estimators=400, n_jobs=1,\n            oob_score=False, random_state=None, verbose=0,\n            warm_start=False)\n</code></pre>\n\n<p>I got the following scores (mean +/- std) in a 10-CV: \n<a href=\"https://i.stack.imgur.com/7P0t1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7P0t1.png\" alt=\"enter image description here\"></a></p>\n\n<p>It surprises me that the training accuracy and F-score is higher (specially in random forest) than the test one. </p>\n\n<p>Besides I computed bagging algorithms by the same methodology (tuning the number of estimators with RandomSearchCV and having the base_estimator the previous models considered): </p>\n\n<pre><code>Model: BaggingClassifier(base_estimator=SVC(C=0.1, cache_size=200, class_weight=None, coef0=0.0,\n  decision_function_shape='ovr', degree=3, gamma=0.1, kernel='linear',\n  max_iter=-1, probability=True, random_state=None, shrinking=True,\n  tol=0.001, verbose=False),\n         bootstrap=True, bootstrap_features=False, max_features=1.0,\n         max_samples=1.0, n_estimators=200, n_jobs=1, oob_score=False,\n         random_state=36, verbose=0, warm_start=False)\n\nModel: BaggingClassifier(base_estimator=SVC(C=10000.0, cache_size=200, class_weight=None, coef0=0.0,\n  decision_function_shape='ovr', degree=3, gamma=0.0001, kernel='rbf',\n  max_iter=-1, probability=True, random_state=None, shrinking=True,\n  tol=0.001, verbose=False),\n         bootstrap=True, bootstrap_features=False, max_features=1.0,\n         max_samples=1.0, n_estimators=100, n_jobs=1, oob_score=False,\n         random_state=37, verbose=0, warm_start=False)\n\nModel: BaggingClassifier(base_estimator=LogisticRegression(C=0.01, class_weight=None, dual=False, fit_intercept=True,\n          intercept_scaling=1, max_iter=100, multi_class='ovr', n_jobs=1,\n          penalty='l2', random_state=None, solver='liblinear', tol=0.0001,\n          verbose=0, warm_start=False),\n         bootstrap=True, bootstrap_features=False, max_features=1.0,\n         max_samples=1.0, n_estimators=100, n_jobs=1, oob_score=False,\n         random_state=38, verbose=0, warm_start=False)\n\nModel: BaggingClassifier(base_estimator=KNeighborsClassifier(algorithm='auto', leaf_size=30, metric='minkowski',\n           metric_params=None, n_jobs=1, n_neighbors=65, p=2,\n           weights='uniform'),\n         bootstrap=True, bootstrap_features=False, max_features=1.0,\n         max_samples=1.0, n_estimators=100, n_jobs=1, oob_score=False,\n         random_state=38, verbose=0, warm_start=False)\n\nModel: BaggingClassifier(base_estimator=DecisionTreeClassifier(class_weight=None, criterion='gini', max_depth=None,\n            max_features=None, max_leaf_nodes=10,\n            min_impurity_decrease=0.0, min_impurity_split=None,\n            min_samples_leaf=1, min_samples_split=2,\n            min_weight_fraction_leaf=0.0, presort=False, random_state=None,\n            splitter='random'),\n         bootstrap=True, bootstrap_features=False, max_features=1.0,\n         max_samples=1.0, n_estimators=500, n_jobs=1, oob_score=False,\n         random_state=34, verbose=0, warm_start=False)\n\nModel: RandomForestClassifier(bootstrap=True, class_weight=None, criterion='gini',\n            max_depth=30, max_features='sqrt', max_leaf_nodes=None,\n            min_impurity_decrease=0.0, min_impurity_split=None,\n            min_samples_leaf=4, min_samples_split=2,\n            min_weight_fraction_leaf=0.0, n_estimators=400, n_jobs=1,\n            oob_score=False, random_state=None, verbose=0,\n            warm_start=False)\n</code></pre>\n\n<p>I got the following scores (mean +/- std) in a 10-CV: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Mi9tw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mi9tw.png\" alt=\"enter image description here\"></a></p>\n\n<p>It also surprises me that there is no so much improvement from single algorithms to bagged algorithms. </p>\n\n<p>On the other hand I also tried AdaBoost with Decision Tree and Logistic Regression (same tuning of n_estimators and learning rate with Random SearchCV: </p>\n\n<pre><code>Model: AdaBoostClassifier(algorithm='SAMME.R',\n          base_estimator=LogisticRegression(C=0.01, class_weight=None, dual=False, fit_intercept=True,\n          intercept_scaling=1, max_iter=100, multi_class='ovr', n_jobs=1,\n          penalty='l2', random_state=None, solver='liblinear', tol=0.0001,\n          verbose=0, warm_start=False),\n          learning_rate=10, n_estimators=600, random_state=38)\n\nModel: AdaBoostClassifier(algorithm='SAMME.R',\n          base_estimator=DecisionTreeClassifier(class_weight=None, criterion='gini', max_depth=None,\n            max_features=None, max_leaf_nodes=10,\n            min_impurity_decrease=0.0, min_impurity_split=None,\n            min_samples_leaf=1, min_samples_split=2,\n            min_weight_fraction_leaf=0.0, presort=False, random_state=None,\n            splitter='random'),\n          learning_rate=0.01, n_estimators=200, random_state=34)\n</code></pre>\n\n<p>I also got the following scores:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wL6SS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wL6SS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Reading about ensembles methods one may believe that its accuracy improves from single models, however for logistic regression even worsen (just a bit) but still, for Decision Trees it does not really improved that much &lt; 1%. </p>\n\n<p>What could have happened? Am I overfitting?</p>\n\n<p>EDIT: \nAs @Quickbeam2k1 pointed out, the one-hot-encoded groups DO NOT have the same number of data points. Stated another way, some of the groups are TOO small and hence they do not appear in the test set and the algorithm will fail to generalize well. See an example: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Fl6MS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fl6MS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Besides, the some of the features are very unbalanced, in some cases there is just a couple of samples per feature. So I believe I need to discard some of the OHE Features. The thing is, which threshold should I consider to discard? I am thinking about discarding those features which percentage do not achieve 10% less than the proportional equal ratio of its values. Meaning that, if a feature, say chest pain, got 4 values, then there is cp_1, cp_2, cp_3, cp_4. If one of this OHE values got less than 25% - 10% (because there is 4 values, equal ratio is 25% per each value) = 15%. If a feature then do not achieve 15% of the samples within this feature, then discard it. Is that a good approach?</p>\n\n<p>Furthermore, just as @HarisNadeem said, bagging algorithms aims to reduce variance of the data set. As I OneHotEncoded the features, I significantly reduced the dataset and thus it does not really improved the algorithms. </p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe", "conditional-statements"], "comments": [{"owner": {"reputation": 1212, "user_id": 9524896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OnAN.jpg?s=128&g=1", "display_name": "Haris Nadeem", "link": "https://stackoverflow.com/users/9524896/haris-nadeem"}, "edited": false, "score": 0, "creation_date": 1525296866, "post_id": 50143741, "comment_id": 87305983, "body": "Could you give more details of how the problem is structured? Because it seems you could use iloc and keep track of the last 0 in your streak column. Let us call it <code>zero_streak</code>. If the next entry is <code>yes</code> then just add +1 from the <code>zero_streak</code> index to current index. If <code>no</code> then set the new row for streak as 0 and update your <code>zero_streak</code> to the new index"}], "answers": [{"comments": [{"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1525297039, "post_id": 50143873, "comment_id": 87306061, "body": "mapping DrankCoffee to 0,1 can be easier with <code>== &#39;no&#39;</code>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 3, "last_activity_date": 1525296854, "creation_date": 1525296854, "answer_id": 50143873, "question_id": 50143741, "link": "https://stackoverflow.com/questions/50143741/python-pandas-create-column-that-acts-as-a-conditional-running-variable/50143873#50143873", "title": "Python Pandas: Create Column That Acts As A Conditional Running Variable", "body": "<p>You need firstly map you DrankCoffee to [0,1](Base on my understanding <code>yes</code> and <code>forgot</code> should be 0 and <code>no</code> is 1), then we just do <code>groupby</code> <code>cumsum</code> to create the group key , when there is <code>yes</code> we start a new round for count those evens</p>\n\n<pre><code>df.DrankCoffee.replace({'no':1,'forgot':0,'yes':0}).groupby((df.DrankCoffee=='yes').cumsum()).cumsum()\nOut[111]: \n0     1\n1     2\n2     2\n3     0\n4     1\n5     2\n6     3\n7     4\n8     5\n9     0\n10    1\nName: DrankCoffee, dtype: int64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 8133060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ddf5c56a850e0ac22f9f74110c879cb?s=128&d=identicon&r=PG&f=1", "display_name": "crowsnest", "link": "https://stackoverflow.com/users/8133060/crowsnest"}, "edited": false, "score": 0, "creation_date": 1525359806, "post_id": 50143892, "comment_id": 87334269, "body": "Thanks!! All of the responses are great, but I think this one was the easiest for me to understand the step by step process."}], "tags": [], "owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "is_accepted": true, "score": 4, "last_activity_date": 1525296944, "creation_date": 1525296944, "answer_id": 50143892, "question_id": 50143741, "link": "https://stackoverflow.com/questions/50143741/python-pandas-create-column-that-acts-as-a-conditional-running-variable/50143892#50143892", "title": "Python Pandas: Create Column That Acts As A Conditional Running Variable", "body": "<p>you can use <code>groupby.transform</code></p>\n\n<p>for each <code>streak</code>, what you're looking for is something like this:</p>\n\n<pre><code>def my_func(group):\n    return (group == 'no').cumsum()\n</code></pre>\n\n<p>you can divide the different streak with simple comparison and <code>cumsum</code></p>\n\n<pre><code>streak = (df['DrankCoffee'] == 'yes').cumsum()\n</code></pre>\n\n<blockquote>\n<pre><code>0     0\n1     0\n2     0\n3     1\n4     1\n5     1\n6     1\n7     1\n8     1\n9     2\n10    2\n</code></pre>\n</blockquote>\n\n<p>then apply the transform</p>\n\n<pre><code>df['Streak'] = df.groupby(streak)['DrankCoffee'].transform(my_func)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 2, "last_activity_date": 1525297344, "creation_date": 1525297344, "answer_id": 50143962, "question_id": 50143741, "link": "https://stackoverflow.com/questions/50143741/python-pandas-create-column-that-acts-as-a-conditional-running-variable/50143962#50143962", "title": "Python Pandas: Create Column That Acts As A Conditional Running Variable", "body": "<p>Use: </p>\n\n<pre><code>df['Streak'] = df.assign(streak=df['DrankCoffee'].eq('no'))\\\n                 .groupby(df['DrankCoffee'].eq('yes').cumsum())['streak'].cumsum().astype(int)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    Day DrankCoffee  Streak\n0     1          no       1\n1     2          no       2\n2     3      forgot       2\n3     4         yes       0\n4     5          no       1\n5     6          no       2\n6     7          no       3\n7     8          no       4\n8     9          no       5\n9    10         yes       0\n10   11          no       1\n</code></pre>\n\n<ol>\n<li>First, create streak increment when 'no' then True.</li>\n<li>Next, create streak when 'yes' start a new streak using cumsum().</li>\n<li>Lastly, use cumsum to count streak increment in streaks with\ncumsum().</li>\n</ol>\n"}], "owner": {"reputation": 59, "user_id": 8133060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ddf5c56a850e0ac22f9f74110c879cb?s=128&d=identicon&r=PG&f=1", "display_name": "crowsnest", "link": "https://stackoverflow.com/users/8133060/crowsnest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 50143892, "answer_count": 3, "score": 2, "last_activity_date": 1573662348, "creation_date": 1525296180, "last_edit_date": 1573662348, "question_id": 50143741, "link": "https://stackoverflow.com/questions/50143741/python-pandas-create-column-that-acts-as-a-conditional-running-variable", "title": "Python Pandas: Create Column That Acts As A Conditional Running Variable", "body": "<p>I'm trying to create a new dataframe column that acts as a running variable that resets to zero  or \"passes\" under certain conditions. Below is a simplified example of what I'm looking to accomplish. Let's say I'm trying to quit drinking coffee and I'm tracking the number of days in a row i've gone without drinking any. On days where I forgot to make note of whether I drank coffee, I put \"forgot\", and my tally does not get influenced.</p>\n\n<p>Below is how i'm currently accomplishing this, though I suspect there's a much more efficient way of going about it.</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>import pandas as pd\n\nDay = [1,2,3,4,5,6,7,8,9,10,11]  \nDrankCoffee = ['no','no','forgot','yes','no','no','no','no','no','yes','no']\n\ndf = pd.DataFrame(list(zip(Day,DrankCoffee)), columns=['Day','DrankCoffee'])\n\ndf['Streak'] = 0  \n\ns = 0\n\nfor (index,row) in df.iterrows():\n   if row['DrankCoffee'] == 'no':\n      s += 1\n   if row['DrankCoffee'] == 'yes':\n      s = 0\n   else:\n      pass\n\n   df.loc[index,'Streak'] = s\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/CIeAe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CIeAe.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "statistics", "analytics", "multiple-records"], "comments": [{"owner": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 1, "creation_date": 1525319989, "post_id": 50143697, "comment_id": 87311599, "body": "You should break each of your tasks down into smaller tasks, and research each of those. For example, for #1, you can group a particular set of rows based on one column&#39;s value using the method described <a href=\"https://stackoverflow.com/a/17071908/7315159\">here</a>. And then you can perform analysis on those rows as you like. You should also take a look at the <a href=\"https://pandas.pydata.org/pandas-docs/stable/\" rel=\"nofollow noreferrer\">Pandas docs</a>, which has tutorials on using dataframes."}], "owner": {"reputation": 33, "user_id": 9592843, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "REFER", "link": "https://stackoverflow.com/users/9592843/refer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525295932, "creation_date": 1525295932, "question_id": 50143697, "link": "https://stackoverflow.com/questions/50143697/analyzing-multiple-records-per-id-using-python", "title": "Analyzing Multiple Records per ID using Python", "body": "<p>I have a data frame that looks something like this: </p>\n\n<pre><code>ID   Date  Name    ColA    ColB    ColC    ColD     Column_Interest\n 1  09/12   Ann  String  String  String  String            OneThing\n 2  09/13  Pete  String  String  String  String            OneThing\n 2  09/13  Pete  String  String  String  String        AnotherThing\n 3  09/13   Ann  String  String  String  String            OneThing\n 3  09/13   Ann  String  String  String  String        AnotherThing\n 3  09/13   Ann  String  String  String  String          ThirdThing\n 4  09/12  Pete  String  String  String  String            OneThing\n</code></pre>\n\n<p>What I want to do:</p>\n\n<ol>\n<li>Create Descriptive Statistics by ID. So, for example, I'd like to know all of the 'Column_Interest' choices for 'ID' = 3. I can see that they selected Several Options when I view the data frame, but I cannot figure out how I should group that data for analysis. </li>\n<li>See the most frequent combinations. For example, for those ID's that have more than one row what are the most frequent combinations under 'Column_Interest'? I should note that I am not interested in the order of the selection.</li>\n</ol>\n"}, {"tags": ["javascript", "python", "flask", "jinja2"], "answers": [{"tags": [], "owner": {"reputation": 506, "user_id": 9601266, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TeFOWheyPa0/AAAAAAAAAAI/AAAAAAAAEOY/o2WKSdszQyA/photo.jpg?sz=128", "display_name": "Marcin Natanek", "link": "https://stackoverflow.com/users/9601266/marcin-natanek"}, "is_accepted": false, "score": 0, "last_activity_date": 1525296270, "creation_date": 1525296270, "answer_id": 50143751, "question_id": 50143672, "link": "https://stackoverflow.com/questions/50143672/passing-a-variable-from-jinja2-template-to-route-in-flask/50143751#50143751", "title": "Passing a variable from jinja2 template to route in Flask", "body": "<p>If you want to run such arbitrary logic without reloading page, you have to handle sending the AJAX request with JavaScript. Then, your Flask search handler (or ideally separate handler with GET method) should return some lightweight JSON with found articles data. After JavaScript receives the data back from Flask server, it should dynamically create DOM elements and populate it with received data.</p>\n\n<p>To make the code easier to understand I would always render the resulting table with JavaScript - this way you do not have to replicate the code within Flask's template.</p>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 0, "last_activity_date": 1525296438, "creation_date": 1525296438, "answer_id": 50143784, "question_id": 50143672, "link": "https://stackoverflow.com/questions/50143672/passing-a-variable-from-jinja2-template-to-route-in-flask/50143784#50143784", "title": "Passing a variable from jinja2 template to route in Flask", "body": "<p>You need to use <code>ajax</code> to power a dynamic page. First, create the search page, with <code>ajax</code> in the <code>script</code> section and another snippet of HTML in its own file with templating to display the results:</p>\n\n<p><code>search.html</code>:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;input type=\"text\" id=\"search\"&gt;\n  &lt;button type='button' id='search_button'&gt;Search&lt;/button&gt;\n  &lt;div id='place_for_results'&gt;&lt;/div&gt;\n  &lt;script&gt;\n     $(document).ready(function() {\n        $('#search_button').click(function(){\n            var query = $('#search').val();\n           $.ajax({\n            url: \"/search_result\",\n           type: \"get\",\n           data: {search:query},\n           success: function(response) {\n            $(\"#place_for_results\").html(response.results);\n            },\n          error: function(xhr) {\n           //Do Something to handle error\n          }\n         });\n        });\n     });\n  &lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><code>results.html</code>:</p>\n\n<pre><code>{%for result in results%}\n   &lt;div&gt;\n     {{result.val}}\n     &lt;span type=\"button\" id={{result.btn}}&gt;&lt;i style=\"color: red\" class=\"fas fa-heart\"&gt;&lt;/i&gt;&lt;/span&gt;\n  &lt;/div&gt;\n {%endfor%}\n</code></pre>\n\n<p>Then, in <code>app.py</code>, create the route to render <code>search.html</code> and another route, <code>/search_result</code> to receive the query:</p>\n\n<pre><code>from collections import namedtuple\n@app.route('/search', methods=['GET'])\ndef search():\n  return flask.render_template('search.html')\n\n@app.route('/search_result')\ndef search_for():\n   query = flask.request.args.get('search')\n   result = namedtuple('result', ['val', 'btn'])\n   vals = [(\"Article1\", 60), (\"Article2\", 50), (\"Article 3\", 40)]\n   #below is a very simple search algorithm to filter vals based on user input:\n   html = flask.render_template('results.html', results=[result(a, b) for a, b in vals if query.lower() in a.lower()])\n   return flask.jsonify({'results':html})\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6004404"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1869, "favorite_count": 1, "accepted_answer_id": 50143784, "answer_count": 2, "score": 0, "last_activity_date": 1525296438, "creation_date": 1525295757, "question_id": 50143672, "link": "https://stackoverflow.com/questions/50143672/passing-a-variable-from-jinja2-template-to-route-in-flask", "title": "Passing a variable from jinja2 template to route in Flask", "body": "<p>I have search form on my page, once you input something, i render the same template, but with the search results outputted as a list to the user. The user can click on the results he likes. If the user likes a result (by clicking on the like button), I want do pass this data back to my route, to do some reprocessing of the results. When the user clicks on a like, how can I pass a variable value from my template to my route without refreshing the whole page? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form class=\"form-container\" method=\"POST\" action=\"\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col-sm-12 form-group\"&gt;\r\n      &lt;input type=\"text\" name=\"input\" id=\"input\" autofocus placeholder=\"Type your query here!\" autocomplete=\"off\" /&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;input type=\"submit\" style=\"display:none\" /&gt;\r\n&lt;/form&gt;\r\n\r\n{% if output %}\r\n{% for result in output %}\r\n&lt;div&gt;\r\n{{result}}\r\n&lt;span type=\"button\" id={{tag_like_btn}}&gt;&lt;i style=\"color: red\" class=\"fas fa-heart\"&gt;&lt;/i&gt;&lt;/span&gt;\r\n&lt;/div&gt;\r\n{% endfor %}\r\n{% endif %}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>@irsystem.route('search', methods=['GET', 'POST'])\ndef search():\n    print (\"search\")\n    form = request.form\n    form_submitted = False\n    if request.method == 'POST':\n        print (\"Form submitted...\")\n        form_submitted = True\n        results = [(\"Article1\", 60), (\"Article2\", 50), (\"Article 3\", 40)]\n        return render_template('search.html', form=form, form_submitted_status=form_submitted, output=results)\n    return render_template('search.html', form=form)\n</code></pre>\n"}, {"tags": ["python", "list", "pandas", "csv"], "comments": [{"owner": {"reputation": 21, "user_id": 7590842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af140f9f9c548389adc11150f4e804e4?s=128&d=identicon&r=PG&f=1", "display_name": "user7590842", "link": "https://stackoverflow.com/users/7590842/user7590842"}, "edited": false, "score": 0, "creation_date": 1525297617, "post_id": 50143660, "comment_id": 87306289, "body": "import pandas as pd import csv  # Activate Spatial extension in arcpy; set up workspace arcpy.CheckOutExtension(&quot;Spatial&quot;) env.workspace=&quot;G:\\\\GLUE_Work\\\\Projects\\\\NSF\\\\DaneCountyTest&quot;  # Constrcut a dataframe by reading through the csv file using pandas df=pd.read_csv(&quot;G:\\\\GLUE_Work\\\\Projects\\\\NSF\\\\DaneCountyTest&zwnj;&#8203;\\\\AdjacencyTableDane&zwnj;&#8203;_cb.csv&quot;)  #sourcegrouped = df.groupby(&#39;src_GISJOI&#39;)[&#39;nbr_GISJOI&#39;].list() sourcegrouped = df.groupby(&#39;src_GISJOI&#39;).apply(lambda x: x[&#39;nbr_GISJOI&#39;]) print sourcegrouped"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7590842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af140f9f9c548389adc11150f4e804e4?s=128&d=identicon&r=PG&f=1", "display_name": "user7590842", "link": "https://stackoverflow.com/users/7590842/user7590842"}, "edited": false, "score": 0, "creation_date": 1525375096, "post_id": 50144115, "comment_id": 87342701, "body": "Thanks very much! That&#39;s exact what I want!"}], "tags": [], "owner": {"reputation": 99, "user_id": 9732423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOZF2.jpg?s=128&g=1", "display_name": "Michal Bock", "link": "https://stackoverflow.com/users/9732423/michal-bock"}, "is_accepted": true, "score": 0, "last_activity_date": 1525298096, "creation_date": 1525298096, "answer_id": 50144115, "question_id": 50143660, "link": "https://stackoverflow.com/questions/50143660/construct-a-list-for-each-source-records/50144115#50144115", "title": "Construct a list for each source records", "body": "<p>Here is a small snippet that does what you want only using the standard python libraries. I assumed that the neighbour relation is symmetric, so that if A is neighbour of B then also B is neighbour of A (If this is not the case then just remove the second line in the first for loop). </p>\n\n<p>I'm using <code>defaultdict</code>, what is a subclass of a normal python dictionary and behaves exactly like it except when you try to access a key that's not in the dictionary. In that case it instantiates the value of this key to be the default value, which you can set when you create the dictionary. In this case it's an empty set. That's why accessing <code>neighbours[row['source']]</code> will never throw <code>KeyError</code>.</p>\n\n<p>The rest of the code is pretty simple I just read the input file and for each id build a set of neighbouring ids. Afterwards, I write these to the output file.</p>\n\n<pre><code>import csv\nfrom collections import defaultdict\n\nneighbours = defaultdict(set)\n\nwith open('input.csv') as f:\n    reader = csv.DictReader(f)\n    for row in reader:\n        neighbours[row['source']].add(row['neighbour'])\n        neighbours[row['neighbour']].add(row['source'])\n\nwith open('output.csv', 'w') as f:\n    writer = csv.writer(f)\n    # Write the header\n    writer.writerow(['source', 'neighbours'])\n\n    # Write the data\n    for key, values in neighbours.items():\n        writer.writerow([key, ','.join(values)])\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7590842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af140f9f9c548389adc11150f4e804e4?s=128&d=identicon&r=PG&f=1", "display_name": "user7590842", "link": "https://stackoverflow.com/users/7590842/user7590842"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 50144115, "answer_count": 1, "score": -1, "last_activity_date": 1525298096, "creation_date": 1525295662, "question_id": 50143660, "link": "https://stackoverflow.com/questions/50143660/construct-a-list-for-each-source-records", "title": "Construct a list for each source records", "body": "<p>I here have a csv table containing two columns: \"Source_Polygon_ID\" and \"Neighbor_Polygon_ID\". I want to make a list containing a series of \"Neighbor_Polygon_ID\" as long as the item in the list share common \"Source_Polygon_ID\".</p>\n\n<p>Here is a sample of the csv table:\n<a href=\"https://i.stack.imgur.com/AnaGJ.png\" rel=\"nofollow noreferrer\">csv table with two columns</a></p>\n\n<p>Here is a sample result I would like to get:\n<a href=\"https://i.stack.imgur.com/kVj2U.png\" rel=\"nofollow noreferrer\">sample of processed result in csv format</a></p>\n\n<p>I have used pandas to read through the csv table and have used groupby function to sort \"Neighbor_Polygon_ID\" by their common \"Source_Polygon_ID\". However, this does not help me construct lists of \"Neighbor_Polygon_ID\" for each \"Source_Polygon_ID\". Any solutions? </p>\n"}, {"tags": ["python", "mysql", "sqlalchemy", "mysql-python"], "comments": [{"owner": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 1, "creation_date": 1525320132, "post_id": 50143656, "comment_id": 87311642, "body": "Do you get that error if you run a correct SQL file too? (i.e.: are you sure that <code>Commands out of sync...</code> is actually indicating an SQL error further down the stack?)"}, {"owner": {"reputation": 432, "user_id": 2296357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587c3dbbcd4fc138d6153987bf385d24?s=128&d=identicon&r=PG", "display_name": "djkern", "link": "https://stackoverflow.com/users/2296357/djkern"}, "edited": false, "score": 0, "creation_date": 1525321865, "post_id": 50143656, "comment_id": 87312107, "body": "I suspect that if you submitted these command separately, it would work, i.e. you have two DDL commands that you are submitting as one. Have you considered parsing the file, command-by-command, and submitting them in sequence?"}, {"owner": {"reputation": 404, "user_id": 113477, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0cec7047b8c7b8cd5d4ef177947f3526?s=128&d=identicon&r=PG", "display_name": "Paul Prescod", "link": "https://stackoverflow.com/users/113477/paul-prescod"}, "reply_to_user": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 0, "creation_date": 1525336976, "post_id": 50143656, "comment_id": 87318931, "body": "@NiayeshIsky : No error with correct file. Files that generate warnings have the same problem as those that generate errors. (e.g. DROP IF TABLE EXISTS for table that does not exist)"}, {"owner": {"reputation": 404, "user_id": 113477, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0cec7047b8c7b8cd5d4ef177947f3526?s=128&d=identicon&r=PG", "display_name": "Paul Prescod", "link": "https://stackoverflow.com/users/113477/paul-prescod"}, "reply_to_user": {"reputation": 432, "user_id": 2296357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587c3dbbcd4fc138d6153987bf385d24?s=128&d=identicon&r=PG", "display_name": "djkern", "link": "https://stackoverflow.com/users/2296357/djkern"}, "edited": false, "score": 0, "creation_date": 1525337089, "post_id": 50143656, "comment_id": 87319004, "body": "@djkern : Yes, the problem does not manifest for single-statement SQL files but parsing them is challenging (given the full complexity of the SQL grammar). There are other hacks which are less work: I could shell out to the mysql command line and then parse the errors in generates."}, {"owner": {"reputation": 404, "user_id": 113477, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0cec7047b8c7b8cd5d4ef177947f3526?s=128&d=identicon&r=PG", "display_name": "Paul Prescod", "link": "https://stackoverflow.com/users/113477/paul-prescod"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1525337114, "post_id": 50143656, "comment_id": 87319015, "body": "@IljaEveril&#228;: I added the traceback."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1525342600, "post_id": 50143656, "comment_id": 87322665, "body": "Here&#39;s the issue you&#39;re facing: <a href=\"https://github.com/PyMySQL/mysqlclient-python/issues/70\" rel=\"nofollow noreferrer\">github.com/PyMySQL/mysqlclient-python/issues/70</a>, though there&#39;s not much of a solution there. If you were <a href=\"http://docs.sqlalchemy.org/en/latest/core/connections.html#multiple-result-sets\" rel=\"nofollow noreferrer\">using a raw connection and cursor</a>, you could then call <code>cur.nextset()</code> to inspect the actual error that happened before executing <code>SHOW WARNINGS</code>."}, {"owner": {"reputation": 404, "user_id": 113477, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0cec7047b8c7b8cd5d4ef177947f3526?s=128&d=identicon&r=PG", "display_name": "Paul Prescod", "link": "https://stackoverflow.com/users/113477/paul-prescod"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1526084338, "post_id": 50143656, "comment_id": 87620043, "body": "@IljaEveril&#228; : For my specific use-case I seem to have worked around the problem by adding these lines:  from MySQLdb.cursors import BaseCursor  BaseCursor._defer_warnings = True  I&#39;m still working on getting access to the exception data but I can probably get at it through the logging infrastructure or something like that. SQL Alchemy logs the exception and then swallows it."}], "owner": {"reputation": 404, "user_id": 113477, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0cec7047b8c7b8cd5d4ef177947f3526?s=128&d=identicon&r=PG", "display_name": "Paul Prescod", "link": "https://stackoverflow.com/users/113477/paul-prescod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1565, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1525336904, "creation_date": 1525295647, "last_edit_date": 1525336904, "question_id": 50143656, "link": "https://stackoverflow.com/questions/50143656/execute-ddl-sql-files-with-sqlalchemy-and-get-good-error-messages", "title": "Execute DDL/SQL files with SqlAlchemy and get good error messages", "body": "<p>Consider a simple SQL file like this:</p>\n\n<p>dummy.sql:</p>\n\n<pre><code>DROP TABLE IF EXISTS blah;\n\nCREATE TABLE blah AS\nSELECT * \nFROM blahblah2;\n</code></pre>\n\n<p>I can run it from the command line and get a nice error message:</p>\n\n<pre><code>$ mysql -u ... -h ... ... &lt; /tmp/dummy.sql \nERROR 1146 (42S02) at line 3: Table 'yourdb.blahblah2' doesn't exist\n</code></pre>\n\n<p>Or I can run it from SQL Alchemy like this:</p>\n\n<pre><code>import sqlalchemy\n\nddl_sql = open(\"/tmp/dummy.sql\").read()\n\nconnect_string = \"mysql+mysqldb://.../\"\nengine = sqlalchemy.create_engine(connect_string)\n\nengine.execute(ddl_sql)\n</code></pre>\n\n<p>When I run it from SQL Alchemy I get a giant stack trace with the following underlying error:</p>\n\n<pre><code>\"Commands out of sync; you can't run this command now\"\n</code></pre>\n\n<p>How can I get the \"real error\" out of SQL Alchemy?</p>\n\n<p>(someone asked for the traceback, so here it is)</p>\n\n<pre><code> File \"lib/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1193, in _execute_context\n    context)\n  File \"lib/python3.6/site-packages/sqlalchemy/engine/default.py\", line 507, in do_execute\n    cursor.execute(statement, parameters)\n  File \"lib/python3.6/site-packages/MySQLdb/cursors.py\", line 252, in execute\n    self._warning_check()\n  File \"lib/python3.6/site-packages/MySQLdb/cursors.py\", line 148, in _warning_check\n    warnings = db.show_warnings()\n  File \"lib/python3.6/site-packages/MySQLdb/connections.py\", line 381, in show_warnings\n    self.query(\"SHOW WARNINGS\")\n  File \"lib/python3.6/site-packages/MySQLdb/connections.py\", line 277, in query\n    _mysql.connection.query(self, query)\n_mysql_exceptions.ProgrammingError: (2014, \"Commands out of sync; you can't run this command now\")\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/tmp/foo.py\", line 8, in &lt;module&gt;\n    engine.execute(ddl_sql)\n  File \"lib/python3.6/site-packages/sqlalchemy/engine/base.py\", line 2075, in execute\n    return connection.execute(statement, *multiparams, **params)\n  File \"lib/python3.6/site-packages/sqlalchemy/engine/base.py\", line 942, in execute\n    return self._execute_text(object, multiparams, params)\n  File \"lib/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1104, in _execute_text\n    statement, parameters\n  File \"lib/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1200, in _execute_context\n    context)\n  File \"lib/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1413, in _handle_dbapi_exception\n    exc_info\n  File \"lib/python3.6/site-packages/sqlalchemy/util/compat.py\", line 203, in raise_from_cause\n    reraise(type(exception), exception, tb=exc_tb, cause=cause)\n  File \"lib/python3.6/site-packages/sqlalchemy/util/compat.py\", line 186, in reraise\n    raise value.with_traceback(tb)\n  File \"lib/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1193, in _execute_context\n    context)\n  File \"lib/python3.6/site-packages/sqlalchemy/engine/default.py\", line 507, in do_execute\n    cursor.execute(statement, parameters)\n  File \"lib/python3.6/site-packages/MySQLdb/cursors.py\", line 252, in execute\n    self._warning_check()\n  File \"lib/python3.6/site-packages/MySQLdb/cursors.py\", line 148, in _warning_check\n    warnings = db.show_warnings()\n  File \"lib/python3.6/site-packages/MySQLdb/connections.py\", line 381, in show_warnings\n    self.query(\"SHOW WARNINGS\")\n  File \"lib/python3.6/site-packages/MySQLdb/connections.py\", line 277, in query\n    _mysql.connection.query(self, query)\nsqlalchemy.exc.ProgrammingError: (_mysql_exceptions.ProgrammingError) (2014, \"Commands out of sync; you can't run this command now\") [SQL: 'DROP TABLE IF EXISTS TMP_junk_delete;\\n\\nCREATE TABLE TMP_junk_delete AS\\nSELECT * \\nFROM goals;\\n\\nDROP TABLE IF EXISTS TMP_junk_delete;\\n\\nCREATE TABLE TMP_junk_delete AS\\nSELECT * \\nFROM goals;\\n\\nDROP TABLE IF EXISTS TMP_junk_delete;\\n'] (Background on this error at: http://sqlalche.me/e/f405)\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 2, "creation_date": 1525295687, "post_id": 50143638, "comment_id": 87305507, "body": "How big is your file? Just process each line sequentially?"}, {"owner": {"reputation": 13042, "user_id": 943340, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f7b5b9f0164c4854a8c9f148ddc97c8e?s=128&d=identicon&r=PG", "display_name": "Googlebot", "link": "https://stackoverflow.com/users/943340/googlebot"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1525295965, "post_id": 50143638, "comment_id": 87305598, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 It&#39;s quite big (millions of row). I tried <code>for</code> loop for each line, but I hoped to find a better solution performance wise."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1525296069, "post_id": 50143638, "comment_id": 87305651, "body": "It don&#39;t think it is reasonable to expect something builtin that could handle arbitrary file structures. You could chunk your file and run some multiprocessing code but that&#39;s about it."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525296334, "post_id": 50143638, "comment_id": 87305766, "body": "I&#39;d guess that the fastest solution will turn out to be reading a largish chunk into a Nx3 array, then doing something like <code>arr[arr[:,2]==1][:,:2]</code>, will turn out to be the fastest thing you can do without writing some Cython or C code to custom parse the lines."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525296390, "post_id": 50143638, "comment_id": 87305792, "body": "But meanwhile, looping ~10M times in Python instead of Numpy is slow\u2014but we&#39;re talking &quot;slow&quot; as in &quot;wastes dozens of milliseconds&quot;. That&#39;s a horrible bottleneck in some code that&#39;s applying a 50ns <code>+</code> to each element, but probably doesn&#39;t matter at all in some code that&#39;s reading off the disk. (Decoding bytes to text, on the other hand, <i>could</i> be relevant, so I&#39;d use binary mode.)"}], "answers": [{"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1525297048, "post_id": 50143862, "comment_id": 87306067, "body": "Since <code>genfromtxt</code> uses <code>readline</code>, and you have to read all the lines one way or other, I doubt if there&#39;s much time difference in various processing strategies.  It&#39;s the mix of delimiters that makes this double read attractive."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1525300850, "post_id": 50143862, "comment_id": 87307322, "body": "@hpaulj: You&#39;re right and <a href=\"https://stackoverflow.com/a/50144016/190597\">your parsing strategy</a> is much faster. Thanks for the correction."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 3, "last_activity_date": 1525300738, "last_edit_date": 1525300738, "creation_date": 1525296797, "answer_id": 50143862, "question_id": 50143638, "link": "https://stackoverflow.com/questions/50143638/how-to-turn-a-file-into-2d-numpy-array-conditionally/50143862#50143862", "title": "How to turn a file into 2D numpy array conditionally?", "body": "<p>A couple million rows of ints is probably not too big to load into a NumPy array all at once (depending on your computer's available RAM). So you might be able to generate the desired array by first loading the full numeric array, and then loading the boolean mask:</p>\n\n<pre><code>import numpy as np\ndata = np.genfromtxt('data', delimiter=',', usecols=[0,1], comments=':', dtype=int)\nmask = np.genfromtxt('data', delimiter=' ', usecols=[1], dtype=str) == 'true'\nresult = data[mask]\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>array([[2, 3],\n       [4, 2]])\n</code></pre>\n\n<p>I used two calls to <code>np.genfromtxt</code> to get around the problem of the data file having two different delimiters (i.e. commas and spaces).</p>\n\n<p><strike>Although loading the entire array may seem wasteful, it is much faster than parsing the file line-by-line (provided you have enough memory to do so.)</strike></p>\n\n<p>It turns out -- <a href=\"https://stackoverflow.com/questions/50143638/how-to-turn-a-file-into-2d-numpy-array-conditionally/50143862?noredirect=1#comment87306067_50143862\">thanks to hpaulj</a> for motivating me to test -- that a simple <code>for-loop</code> is much faster:</p>\n\n<p>For example, with this setup:</p>\n\n<pre><code>import numpy as np\n\ndef make_data(N=10**6):\n    data = np.random.randint(10, size=(N, 2))\n    mask = np.array(['true', 'false'])[np.random.randint(2, size=N)]\n    with open('data', 'w') as f:\n        for row, maski in zip(data, mask):\n            f.write('{},{}: {}\\n'.format(row[0], row[1], maski))\n\ndef using_genfromtxt():\n    data = np.genfromtxt('data', delimiter=',', usecols=[0,1], comments=':', dtype=int)\n    mask = np.genfromtxt('data', delimiter=' ', usecols=[1], dtype=str) == 'true'\n    result = data[mask]\n    return result\n\ndef using_readline():\n    \"\"\"\n    https://stackoverflow.com/a/50144016/190597 (hpaulj)\n    \"\"\"\n    def foo1(f):\n        for line in f:\n            x,y = line.split(':')\n            if y.strip()=='true':\n                yield x.split(',')\n    with open('data', 'r') as f:\n        return np.array(list(foo1(f)), dtype=int)\n\nmake_data()\n</code></pre>\n\n<p>we can use IPython to benchmark the speed of <code>using_genfromtxt</code> vs <code>using_readline</code>:</p>\n\n<pre><code>In [152]: %timeit using_genfromtxt()\n1 loop, best of 3: 8.8 s per loop\n\nIn [171]: %timeit using_readline()\n1 loop, best of 3: 861 ms per loop\n</code></pre>\n\n<p>So a simple <code>for-loop</code> is actually 10x faster.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 2, "last_activity_date": 1525298055, "last_edit_date": 1525298055, "creation_date": 1525297600, "answer_id": 50144016, "question_id": 50143638, "link": "https://stackoverflow.com/questions/50143638/how-to-turn-a-file-into-2d-numpy-array-conditionally/50144016#50144016", "title": "How to turn a file into 2D numpy array conditionally?", "body": "<p>Another approach, that handles both the mixed delimiters and the conditionality is to pass the file through a filter function. </p>\n\n<p>Define a generator that takes a file, or anything that iterates on lines, and returns a filtered set of strings:</p>\n\n<pre><code>def foo(f):\n    for line in f:\n        x,y = line.split(':')\n        if y.strip()=='true':\n            yield x\n</code></pre>\n\n<p>Using a text standin for a file:</p>\n\n<pre><code>In [55]: txt='''2,3: true\n    ...: 3,5: false\n    ...: 4,2: true\n    ...: 2,3: true\n    ...: 3,5: false\n    ...: 4,2: true'''\n</code></pre>\n\n<p>The generator returns strings as in:</p>\n\n<pre><code>In [56]: list(foo(txt.splitlines()))\nOut[56]: ['2,3', '4,2', '2,3', '4,2']\n</code></pre>\n\n<p><code>genfromtxt</code> readily turns such a feed into an array:</p>\n\n<pre><code>In [57]: np.genfromtxt(foo(txt.splitlines()),delimiter=',', dtype=int)\nOut[57]: \narray([[2, 3],\n       [4, 2],\n       [2, 3],\n       [4, 2]])\n</code></pre>\n\n<p><code>genfromtxt</code> iterates of a file in Python, so the use of <code>foo</code> shouldn't change its speed much.</p>\n\n<p><code>pandas</code> has a good csv reader, but the faster compiled version doesn't have as many bells and whistles as the Python one.</p>\n\n<hr>\n\n<p>Or I could skip <code>genfromtxt</code> entirely:</p>\n\n<pre><code>def foo1(f):\n    for line in f:\n        x,y = line.split(':')\n        if y.strip()=='true':\n            yield x.split(',')\n\nIn [63]: np.array(list(foo1(txt.splitlines())), dtype=int)\nOut[63]: \narray([[2, 3],\n       [4, 2],\n       [2, 3],\n       [4, 2]])\n</code></pre>\n\n<p>The file format, after selecting rows, is simple enough that <code>np.array</code> can handle it, and do the string to integer conversion directly.</p>\n"}], "owner": {"reputation": 13042, "user_id": 943340, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f7b5b9f0164c4854a8c9f148ddc97c8e?s=128&d=identicon&r=PG", "display_name": "Googlebot", "link": "https://stackoverflow.com/users/943340/googlebot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 50143862, "answer_count": 2, "score": 0, "last_activity_date": 1525300738, "creation_date": 1525295569, "question_id": 50143638, "link": "https://stackoverflow.com/questions/50143638/how-to-turn-a-file-into-2d-numpy-array-conditionally", "title": "How to turn a file into 2D numpy array conditionally?", "body": "<p>I have a file with the format of</p>\n\n<pre><code>2,3: true\n3,5: false\n4,2: true\n</code></pre>\n\n<p>How can I turn rows with <code>true</code> into a 2D numpy array of</p>\n\n<pre><code>[[2,3],[4,2]]\n</code></pre>\n\n<p>I tried <code>numpy.genfromtxt</code>, but how can I apply the condition and limit the read rows to the first two sets of digit?</p>\n"}, {"tags": ["python", "imap"], "answers": [{"tags": [], "owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1525447610, "creation_date": 1525447610, "answer_id": 50178354, "question_id": 50143599, "link": "https://stackoverflow.com/questions/50143599/how-do-i-know-the-from-of-an-email-using-imap/50178354#50178354", "title": "How do I know the &quot;From&quot; of an email? (Using IMAP)", "body": "<p>This is perhaps not obvious from the <a href=\"https://docs.python.org/2/library/email.message.html\" rel=\"nofollow noreferrer\">documentation</a> (assuming Python 2.7), but the email_message object acts like a <code>dict</code>, by implementing the <code>__getitem__</code> function.  Since you fetched and parsed the entirety of the message, you should be able to access it simply as:</p>\n\n<pre><code>email_message['from']\n</code></pre>\n\n<p>Note, this gives you a raw representation of the header, which is probably okay in a lot of cases.</p>\n\n<p>You may then want to use <a href=\"https://docs.python.org/2/library/email.util.html?highlight=parseaddr#email.utils.parseaddr\" rel=\"nofollow noreferrer\"><code>email.utils.parseaddr</code></a> to break it into constituent parts:</p>\n\n<pre><code>realname, addr = email.utils.parseaddr(email_message['from')).\n</code></pre>\n\n<p><code>email.utils.getaddresses</code> might be useful if you then parse To or Cc headers with more than one recipient.</p>\n\n<p>If you need to deal with internationalized headers in older versions of Python, <code>email.header.decode_header</code> and <a href=\"https://docs.python.org/2/library/email.header.html#email.header.make_header\" rel=\"nofollow noreferrer\"><code>email.header.make_header</code></a> can be used.</p>\n\n<p>In Python3.6, this has changed <a href=\"https://docs.python.org/3.6/library/email.message.html#email.message.EmailMessage\" rel=\"nofollow noreferrer\">significantly</a>, and should be more straightforward.</p>\n"}], "owner": {"reputation": 1, "user_id": 9732389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Na_BLl7OnxA/AAAAAAAAAAI/AAAAAAAAAJQ/8XPOmOuUJBU/photo.jpg?sz=128", "display_name": "Mr. David", "link": "https://stackoverflow.com/users/9732389/mr-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525447610, "creation_date": 1525295399, "question_id": 50143599, "link": "https://stackoverflow.com/questions/50143599/how-do-i-know-the-from-of-an-email-using-imap", "title": "How do I know the &quot;From&quot; of an email? (Using IMAP)", "body": "<p>In this case I am downloading plain text from an email with a criteria,<br>\nbut how do I know the @gmail.com adress who sent it. \nI am using Python 3.5.4</p>\n\n<pre><code>import imaplib\nimport email\n\nmail = imaplib.IMAP4_SSL('imap.gmail.com')\n#imaplib module implements connection based on IMAPv4 protocol\nmail.login('myemail', 'mypassword')\n\n\nmail.list() # Lists all labels in GMail\nmail.select('inbox') # Connected to inbox.\n\n\nresult, data = mail.uid('search', None, '(HEADER Subject \"[News]\")')\n#search and return uids instead\ni = len(data[0].split()) # data[0] is a space separate string\nfor x in range(i):\n   latest_email_uid = data[0].split()[x] # unique ids wrt label selected\n   result, email_data = mail.uid('fetch', latest_email_uid, '(RFC822)')\n   # fetch the email body (RFC822) for the given ID\n   raw_email = email_data[0][1]\n\n #From = email.utils.parseaddr(email_data['From'])\n #continue inside the same for loop as above\nraw_email_string = raw_email.decode('utf-8')\n# converts byte literal to string removing b''\nemail_message = email.message_from_string(raw_email_string)\n#this will loop through all the available multiparts in mail\nfor part in email_message.walk():\n if part.get_content_type() == \"text/plain\": # ignore attachments/html\n     enter code here`body = part.get_payload(decode=True)\n     save_string = str(\"Llave de amigo\" + str(x) + str(\"a\"))\n     # location on disk\n     myfile = open(save_string, 'a')\n     myfile.write(body.decode('utf-8'))\n     # body is again a byte literal\n     myfile.close()\n</code></pre>\n"}, {"tags": ["python", "bash", "shell", "scripting", "sh"], "comments": [{"owner": {"reputation": 23, "user_id": 9711435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9b817fe15beead2689f975c32a2cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhilesh", "link": "https://stackoverflow.com/users/9711435/nikhilesh"}, "edited": false, "score": 0, "creation_date": 1525353730, "post_id": 50143596, "comment_id": 87329954, "body": "<b>cut -d&#39; &#39; -f 2 ./outputfile.txt</b> worked and now i&#39;m able to print cities column."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9711435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9b817fe15beead2689f975c32a2cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhilesh", "link": "https://stackoverflow.com/users/9711435/nikhilesh"}, "edited": false, "score": 0, "creation_date": 1525295941, "post_id": 50143644, "comment_id": 87305588, "body": "Oh yeah they are separated by comma and space"}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "reply_to_user": {"reputation": 23, "user_id": 9711435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9b817fe15beead2689f975c32a2cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhilesh", "link": "https://stackoverflow.com/users/9711435/nikhilesh"}, "edited": false, "score": 0, "creation_date": 1525296291, "post_id": 50143644, "comment_id": 87305744, "body": "I updated my answer to better reflect what you&#39;re looking for and to present another approaches."}, {"owner": {"reputation": 23, "user_id": 9711435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9b817fe15beead2689f975c32a2cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhilesh", "link": "https://stackoverflow.com/users/9711435/nikhilesh"}, "edited": false, "score": 0, "creation_date": 1525297010, "post_id": 50143644, "comment_id": 87306046, "body": "Got this error <b>cities.sh: line 2: CITIES: command not found cities.sh: line 3: syntax error near unexpected token <code>(&#39; cities.sh: line 3: </code>with open(&#39;log.txt&#39;, &#39;r&#39;) as log_file:&#39;</b>"}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "reply_to_user": {"reputation": 23, "user_id": 9711435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9b817fe15beead2689f975c32a2cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhilesh", "link": "https://stackoverflow.com/users/9711435/nikhilesh"}, "edited": false, "score": 0, "creation_date": 1525329566, "post_id": 50143644, "comment_id": 87314942, "body": "Sorry for the confusion, I answered from the perspective of a python script rather than a shell script."}], "tags": [], "owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "is_accepted": false, "score": 0, "last_activity_date": 1525296222, "last_edit_date": 1525296222, "creation_date": 1525295584, "answer_id": 50143644, "question_id": 50143596, "link": "https://stackoverflow.com/questions/50143596/how-to-print-values-of-a-column-from-the-log-output/50143644#50143644", "title": "How to print values of a column from the log output", "body": "<p>Assuming that the values in each record are separated by a comma and a space, you can split the line up with <code>string</code>'s <code>split</code> method.  Just specify how you'd like to split the string and you're off to the races.</p>\n\n<pre><code>records = []\nwith open('log.txt', 'r') as log_file:\n    for line in log_file:\n        name, company, city, country = line.split(', ')\n        print(city)\n        records.append((name, company, city, country))\n</code></pre>\n\n<p>If your log file is formatted in a more complicated fashion, you could look into using some simple pattern matching, regular expressions, or a proper log parsing library.</p>\n\n<p>If you need to print out each of the unique city names rather than every one encountered, you could store them in a set:</p>\n\n<pre><code>cities = set()\nwith open('log.txt', 'r') as log_file:\n    for line in log_file:\n        name, company, city, country = line.split(', ')\n        print(city)\n        cities.add(city)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 9352100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d89976caa98975a39a82362e7b6df5a?s=128&d=identicon&r=PG&f=1", "display_name": "R.Liu", "link": "https://stackoverflow.com/users/9352100/r-liu"}, "is_accepted": true, "score": 0, "last_activity_date": 1525306568, "creation_date": 1525306568, "answer_id": 50145232, "question_id": 50143596, "link": "https://stackoverflow.com/questions/50143596/how-to-print-values-of-a-column-from-the-log-output/50145232#50145232", "title": "How to print values of a column from the log output", "body": "<p>you can achieve this with either a cut command or an awk command</p>\n\n<p>with cut</p>\n\n<pre><code>cat 1.txt | cut -d, -f3  \nCity\nNY\nDAll\nSydney\n</code></pre>\n\n<p>where -d tells the delimiter and -f tells which field you would like to extract.</p>\n\n<p>with awk</p>\n\n<pre><code>cat 1.txt | awk -F, '{print $3}'\nCity\nNY\nDAll\nSydney\n</code></pre>\n\n<p>-F specifies the delimiter as a comma.</p>\n"}], "owner": {"reputation": 23, "user_id": 9711435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9b817fe15beead2689f975c32a2cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhilesh", "link": "https://stackoverflow.com/users/9711435/nikhilesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "closed_date": 1525327983, "accepted_answer_id": 50145232, "answer_count": 2, "score": 0, "last_activity_date": 1525307007, "creation_date": 1525295381, "last_edit_date": 1592644375, "question_id": 50143596, "link": "https://stackoverflow.com/questions/50143596/how-to-print-values-of-a-column-from-the-log-output", "closed_reason": "Needs more focus", "title": "How to print values of a column from the log output", "body": "<p>I would like to get all values under a column. Here is the example of my log output</p>\n<blockquote>\n<p><strong>Name,   Company,  City,  Country</strong></p>\n<p><strong>Nik</strong>,     Apple,  <strong>NY</strong>,    USA</p>\n<p><strong>DAS</strong>,   Facebook,     <strong>DAll</strong>,  USA</p>\n<p><strong>John</strong>,   Twitter,   <strong>Sydney</strong>,  AUS</p>\n</blockquote>\n<p>I want to print all the city names</p>\n<p><strong>City</strong></p>\n<p>NY</p>\n<p>DALL</p>\n<p>Sydney</p>\n<p><strong>Name,   Company,  City,  Country</strong> row is headings. I need output of City</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 1, "creation_date": 1525294928, "post_id": 50143481, "comment_id": 87305182, "body": "Try not to share screenshots! Share an actual data sample and expected output. read: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or look around at other questions here on SO."}, {"owner": {"reputation": 1229, "user_id": 1175892, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/B761o.jpg?s=128&g=1", "display_name": "lv10", "link": "https://stackoverflow.com/users/1175892/lv10"}, "edited": false, "score": 0, "creation_date": 1525295654, "post_id": 50143481, "comment_id": 87305485, "body": "You are trying to do a conditional join/merge. As mentioned in this SO post: <a href=\"https://stackoverflow.com/questions/23508351/how-to-do-a-conditional-join-in-python-pandas?answertab=active#tab-top\" title=\"how to do a conditional join in python pandas\">stackoverflow.com/questions/23508351/&hellip;</a> , there are several ways to achieve this."}, {"owner": {"reputation": 155, "user_id": 3665906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d4355cc0bcbe8bc85c18f71ac0f5f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3665906", "link": "https://stackoverflow.com/users/3665906/user3665906"}, "edited": false, "score": 0, "creation_date": 1525566833, "post_id": 50143481, "comment_id": 87407421, "body": "Thanks but My question is totally different. In all of solutions in your suggested doc, join key is the same and there are different conditions. In my case, join key could be either field1 or field2."}], "owner": {"reputation": 155, "user_id": 3665906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d4355cc0bcbe8bc85c18f71ac0f5f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3665906", "link": "https://stackoverflow.com/users/3665906/user3665906"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525302939, "creation_date": 1525294755, "last_edit_date": 1525302939, "question_id": 50143481, "link": "https://stackoverflow.com/questions/50143481/join-based-on-more-than-1-column-in-a-pandas-dataframe", "title": "join based on more than 1 column in a pandas dataframe", "body": "<p>I have a data frames(df1) with two columns(e.g. A and A_NEW). A is supposed to be a default join key between df1 and another data frame (df2). I want to join df1 and df2 in a way that if there is no match between df1.A and df2.key, then join based on df1.A_NEW and and df2.key. Imagine following scenario:\n<a href=\"https://i.stack.imgur.com/hp0CB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hp0CB.png\" alt=\"enter image description here\"></a></p>\n\n<p>It means value of join attribute could be either in df1.A or df1.A_NEW but our priority is df1.A. If there is no match between df1.A and df2.key, then df1.A_NEW should be checked with df2.key.                          </p>\n\n<p>I appreciate if you could help me with inner join and left outer join scenarios.</p>\n"}, {"tags": ["python", "pandas", "slice"], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 8, "last_activity_date": 1525294945, "creation_date": 1525294945, "answer_id": 50143510, "question_id": 50143469, "link": "https://stackoverflow.com/questions/50143469/pandas-dataframe-select-multiple-discontinuous-columns-slices/50143510#50143510", "title": "Pandas Dataframe select multiple discontinuous columns/slices", "body": "<p>Use the <code>np.r_</code> indexer in conjunction with <code>iloc</code>, like this:</p>\n\n<pre><code>df.iloc[:, np.r_[0:32, 83]]\n</code></pre>\n\n<hr>\n\n<pre><code>np.r_[0:32, 83]\n\narray([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,\n       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 83])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 2, "last_activity_date": 1525295277, "creation_date": 1525295277, "answer_id": 50143572, "question_id": 50143469, "link": "https://stackoverflow.com/questions/50143469/pandas-dataframe-select-multiple-discontinuous-columns-slices/50143572#50143572", "title": "Pandas Dataframe select multiple discontinuous columns/slices", "body": "<p><code>np.r_</code> is an excellent answer. The other approach would be to construct it with list and range.</p>\n\n<p>Consider this example:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame([range(10)],range(10))\ncols = list(range(0,5))+[8]              # 0,1,2,3,4,8\ndf.iloc[:,cols]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1525297219, "post_id": 50143740, "comment_id": 87306136, "body": "This is slicing rows, but op wants columns"}, {"owner": {"reputation": 309, "user_id": 5543983, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2e4c039d37041442f27dfd62289afd03?s=128&d=identicon&r=PG&f=1", "display_name": "lignin", "link": "https://stackoverflow.com/users/5543983/lignin"}, "edited": false, "score": 1, "creation_date": 1525354211, "post_id": 50143740, "comment_id": 87330308, "body": "I definitely considered selecting 2 slices and concatenating, but thought there must be an easier way which was shown in the first answer."}], "tags": [], "owner": {"reputation": 116, "user_id": 9731601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "lishu luo", "link": "https://stackoverflow.com/users/9731601/lishu-luo"}, "is_accepted": false, "score": 0, "last_activity_date": 1525296178, "creation_date": 1525296178, "answer_id": 50143740, "question_id": 50143469, "link": "https://stackoverflow.com/questions/50143469/pandas-dataframe-select-multiple-discontinuous-columns-slices/50143740#50143740", "title": "Pandas Dataframe select multiple discontinuous columns/slices", "body": "<p>I am also interest in this problem. We can choose several separate lines or columns. But it seems slicing operation could be done only once on each axis. Like the following one.</p>\n\n<pre><code>new_df=df.iloc[[2,3,4],[3:4]]\n</code></pre>\n\n<p>Maybe we can slice first and then concatenate them together.</p>\n\n<pre><code>df1=df.iloc[[2:4],:]\ndf2=df.iloc[[8:10],:]\nnew_df=pd.concat([df1,df2],axis=0)\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 5543983, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2e4c039d37041442f27dfd62289afd03?s=128&d=identicon&r=PG&f=1", "display_name": "lignin", "link": "https://stackoverflow.com/users/5543983/lignin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1370, "favorite_count": 1, "accepted_answer_id": 50143510, "answer_count": 3, "score": 5, "last_activity_date": 1527060383, "creation_date": 1525294682, "last_edit_date": 1527060383, "question_id": 50143469, "link": "https://stackoverflow.com/questions/50143469/pandas-dataframe-select-multiple-discontinuous-columns-slices", "title": "Pandas Dataframe select multiple discontinuous columns/slices", "body": "<p>I have dataframe with >100 columns. I am trying to select the columns 0~32 and #83. It seems that 1 slice works fine with the code below.</p>\n\n<pre><code>df_new = df[df.columns[0:32]]\n</code></pre>\n\n<p>It does not work with 2 slices code below though. How do I fix the problem?</p>\n\n<pre><code>df_new = df[df.columns[0:32, 83]]\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1525295675, "post_id": 50143431, "comment_id": 87305502, "body": "Only improvement suggestion I have is to try to make the title describe the problem or question as distinctly and clearly as possible (someone else who wants to know if they have the same problem should be able to get a good idea of that from the title without needing to click through); hopefully the edit suffices. :)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525297730, "post_id": 50143431, "comment_id": 87306337, "body": "It&#39;s a bit annoying that all of the online examples for <code>os.walk</code> use confusingly different names for the five obvious variables, so many people get it mixed up the first time. It&#39;s the one you called <code>root</code> that you want to use in the <code>join</code>. (If it helps, <a href=\"https://docs.python.org/3/library/os.html#os.walk\" rel=\"nofollow noreferrer\">the examples in the official docs</a> have been pretty clean and easy to follow for a long time now; it&#39;s just all the SO answers, blogs, etc. that may still be confusing, so go to the docs first whenever you get thrown.)"}], "answers": [{"comments": [{"owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "edited": false, "score": 0, "creation_date": 1525294987, "post_id": 50143487, "comment_id": 87305208, "body": "You only need <code>os.path.join(root, file)</code>."}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1525295342, "last_edit_date": 1525295342, "creation_date": 1525294801, "answer_id": 50143487, "question_id": 50143431, "link": "https://stackoverflow.com/questions/50143431/generating-filenames-containing-intermediate-directories-with-os-walk/50143487#50143487", "title": "Generating filenames containing intermediate directories with os.walk()", "body": "<p>If you put <code>help(os.walk)</code> in a shell, you will see:</p>\n\n<blockquote>\n  <p>For each directory in the directory tree rooted at top (including top\n  itself, but excluding '.' and '..'), yields a 3-tuple</p>\n\n<pre><code>dirpath, dirnames, filenames\n</code></pre>\n  \n  <p>dirpath is a string, the path to the directory.  dirnames is a list of\n  the names of the subdirectories in dirpath (excluding '.' and '..').\n  filenames is a list of the names of the non-directory files in\n  dirpath. <strong>Note that the names in the lists are just names, with no path\n  components.</strong></p>\n</blockquote>\n\n<p>So you need:</p>\n\n<pre><code>os.path.join(root, file)\n</code></pre>\n\n<p>It's pretty annoying.</p>\n"}], "owner": {"reputation": 11, "user_id": 7942236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXp1L.jpg?s=128&g=1", "display_name": "Tristen Hicks", "link": "https://stackoverflow.com/users/7942236/tristen-hicks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525295444, "creation_date": 1525294522, "last_edit_date": 1525295444, "question_id": 50143431, "link": "https://stackoverflow.com/questions/50143431/generating-filenames-containing-intermediate-directories-with-os-walk", "title": "Generating filenames containing intermediate directories with os.walk()", "body": "<p>It's my first time working in Python, and I'm having a bit of trouble finding the intermediate directory path in the following segment of code:</p>\n\n<p>Currently, when passing a directory argument to 'stroll', the function seems to enter thePath, observing each subdirectory type, and descending if of type directory. The code isn't mine, and it seems that the nested for loop is iterating over a list of regular files, so the loop wouldn't know anything about the directory to which each element belongs.</p>\n\n<p>Current output is</p>\n\n<pre><code>../Sample_Cases_Asg2/output.txt\n../Sample_Cases_Asg2/file2\n../Sample_Cases_Asg2/file1\n../Sample_Cases_Asg2/output.txt\n../Sample_Cases_Asg2/file2\n../Sample_Cases_Asg2/file1\n../Sample_Cases_Asg2/output.txt\n../Sample_Cases_Asg2/file2\n../Sample_Cases_Asg2/file1\n../Sample_Cases_Asg2/output.txt\n../Sample_Cases_Asg2/file2\n../Sample_Cases_Asg2/file1\n</code></pre>\n\n<p>Desired output is</p>\n\n<pre><code>../Sample_Cases_Asg2/sample1/output.txt\n../Sample_Cases_Asg2/sample1/file2\n../Sample_Cases_Asg2/sample1/file1\n../Sample_Cases_Asg2/sample2/output.txt\n../Sample_Cases_Asg2/sample2/file2\n../Sample_Cases_Asg2/sample2/file1\n../Sample_Cases_Asg2/sample3output.txt\n../Sample_Cases_Asg2/sample3/file2\n../Sample_Cases_Asg2/sample3/file1\n../Sample_Cases_Asg2/sample3/output.txt\n../Sample_Cases_Asg2/sample3/file2\n../Sample_Cases_Asg2/sample3/file1\n</code></pre>\n\n<p>The implementation is</p>\n\n<pre><code>   def stroll(thePath):\n    deeper = []\n    for root, dirs, files in os.walk(thePath):\n            for file in files:\n                    print (os.path.join(thePath, file))\n</code></pre>\n\n<p>Additionally, I'm new to the community so any concise input on how to improve my question asking would be greatly appreciated.</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "selenium-chromedriver", "google-chrome-headless"], "answers": [{"comments": [{"owner": {"reputation": 1288, "user_id": 988738, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MVXAU.jpg?s=128&g=1", "display_name": "xbmono", "link": "https://stackoverflow.com/users/988738/xbmono"}, "edited": false, "score": 0, "creation_date": 1539293614, "post_id": 50148698, "comment_id": 92461162, "body": "We are using <code>ember exam</code> to run our tests and it stops completely because of this error. Is there any workaround to fix this"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 1288, "user_id": 988738, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MVXAU.jpg?s=128&g=1", "display_name": "xbmono", "link": "https://stackoverflow.com/users/988738/xbmono"}, "edited": false, "score": 0, "creation_date": 1539335291, "post_id": 50148698, "comment_id": 92473876, "body": "@xbmono Won&#39;t be able to comment on <code>ember exam</code> without the <i>relevant html</i>, <i>code trials</i> and <i>error stack trace</i>. However as per the documentation from <i>Chromium Team</i> the error <b>Lost UI shared context</b> looks harmless and is quite easily reproducible on <i>Windows10 OS</i> which is not a <b>blocker</b> issue."}, {"owner": {"reputation": 1288, "user_id": 988738, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MVXAU.jpg?s=128&g=1", "display_name": "xbmono", "link": "https://stackoverflow.com/users/988738/xbmono"}, "edited": false, "score": 0, "creation_date": 1539557911, "post_id": 50148698, "comment_id": 92533722, "body": "It may not be blocker in Win but we are using Debian and Jenkins Pipeline. All of our tests fail and stops because of this issue. We now have decided to temporarily disable tests which is not good"}, {"owner": {"reputation": 1288, "user_id": 988738, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MVXAU.jpg?s=128&g=1", "display_name": "xbmono", "link": "https://stackoverflow.com/users/988738/xbmono"}, "edited": false, "score": 0, "creation_date": 1539557980, "post_id": 50148698, "comment_id": 92533734, "body": "I have these settings: <code>module.exports\u00a0= {     &quot;test_page&quot;:\u00a0&quot;tests&#47;index.html?hidepassed&quot;,     &quot;disable_watching&quot;:\u00a0true,     &quot;parallel&quot;:\u00a06,     &quot;launch_in_ci&quot;: [         &quot;Chrome&quot;     ],     &quot;launch_in_dev&quot;: [         &quot;Chrome&quot;     ],     &quot;browser_start_timeout&quot;: 80,     &quot;browser_args&quot;: {         &quot;Chrome&quot;: [                 &#39;--no-sandbox&#39;,                 &#39;--disable-gpu&#39;,                 &#39;--headless&#39;,                 &#39;--window-size=1440,900&#39;             ]     } }; </code>"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 1288, "user_id": 988738, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MVXAU.jpg?s=128&g=1", "display_name": "xbmono", "link": "https://stackoverflow.com/users/988738/xbmono"}, "edited": false, "score": 0, "creation_date": 1539566811, "post_id": 50148698, "comment_id": 92535299, "body": "@xbmono As you are using <b>Debian</b>, <code>--disable-gpu</code> is not a desired parameter. See the discussion <a href=\"https://stackoverflow.com/questions/52719963/lost-ui-shared-context-error-running-protractor-tests-in-headless-chrome\">Lost UI Shared Context Error - Running protractor tests in headless chrome</a>"}, {"owner": {"reputation": 381, "user_id": 2090580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a314d273ca6d78f6401ad88f4fde945?s=128&d=identicon&r=PG", "display_name": "nights", "link": "https://stackoverflow.com/users/2090580/nights"}, "edited": false, "score": 0, "creation_date": 1550194931, "post_id": 50148698, "comment_id": 96189675, "body": "I&#39;m getting this without the --disable-gpu flag"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 9, "last_activity_date": 1525330561, "creation_date": 1525330561, "answer_id": 50148698, "question_id": 50143413, "link": "https://stackoverflow.com/questions/50143413/errorgpu-process-transport-factory-cc1007-lost-ui-shared-context-while-init/50148698#50148698", "title": "ERROR:gpu_process_transport_factory.cc(1007)-Lost UI shared context : while initializing Chrome browser through ChromeDriver in Headless mode", "body": "<p>When <strong>Headless Chrome</strong> was first released as <strong>GA (General Availability)</strong> by <em>Google Team</em> the article <a href=\"https://developers.google.com/web/updates/2017/04/headless-chrome\" rel=\"noreferrer\"><strong><code>Getting Started with Headless Chrome</code></strong></a> mentioned that :</p>\n\n<pre><code>--disable-gpu \\                # Temporarily needed if running on Windows.\n</code></pre>\n\n<p>A note was added as :</p>\n\n<blockquote>\n  <p>Right now, you'll also want to include the <code>--disable-gpu</code> flag if you're running on Windows.</p>\n</blockquote>\n\n<p>As per the discussion <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=737678\" rel=\"noreferrer\"><strong><code>Headless: make --disable-gpu flag unnecessary</code></strong></a> it was clear that :</p>\n\n<blockquote>\n  <p>The <code>--disable-gpu</code> flag is no longer necessary on <em>Linux</em> or <em>Mac OSX</em>. It will also become unnecessary on Windows as soon as the bug <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=729961\" rel=\"noreferrer\"><strong><code>SwiftShader fails an assert on Windows in headless mode</code></strong></a> is fixed.</p>\n</blockquote>\n\n<h2>What happened under the hood?</h2>\n\n<p>As per the discussion <a href=\"https://chromium-review.googlesource.com/c/chromium/src/+/522068\" rel=\"noreferrer\"><strong><code>headless: Switch from osmesa to SwiftShader</code></strong></a> as Google/Chromium team decided to ship <strong>SwiftShader</strong> with <strong>Chrome</strong> the team thought to start using it to render <em>GL content</em> in <em>Headless Mode</em>. This required a couple of changes as follows :</p>\n\n<ul>\n<li>Skip GPU data collection in <em>Headless Mode</em> since <strong>SwiftShader</strong> isn't considered a software implementation by that code which lead to a failure when we tried to retrieve information from the <strong>Window System</strong>.</li>\n<li>Only skip <em>GL initialization</em> in <em>InitializeStaticEGLInternal</em> if we intend to use <strong>osmesa</strong>. <strong>SwiftShader</strong> requires initialization like the other non-software implementations.</li>\n<li><strong>SwiftShader</strong> is currently not supported on <em>Mac OSX</em>, so the team decided to continue to use the <em>physical GPU</em> in <em>Headless Mode</em> on that platform (unlike on other platforms where everything is software rendered).</li>\n<li>So, to disable <strong>WebGL</strong> support in <em>Headless Mode</em> they decided to use <strong>--disable-gpu</strong> and <strong>--disable-software-rasterizer</strong></li>\n</ul>\n\n<p>The idea to <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=617551\" rel=\"noreferrer\"><strong><code>Support WebGL in headless</code></strong></a> is still under discussion but <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=729961\" rel=\"noreferrer\"><strong><code>SwiftShader fails an assert on Windows in headless mode</code></strong></a> with an error  as :</p>\n\n<pre><code>[0117/125830.649194:ERROR:gpu_process_transport_factory.cc(1043)] Lost UI shared context.\nDevTools listening on ws://127.0.0.1:37429/devtools/browser/1f0b2bf7-dfdd-44ac-9da7-f2659d352f0d\n</code></pre>\n\n<h2>Conclusion</h2>\n\n<p>This error doesn't impact your <code>@Test</code> and you can ignore the error for the time being.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10514599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/796eb359927b262e8c84142e770fbb48?s=128&d=identicon&r=PG", "display_name": "HalloFriend", "link": "https://stackoverflow.com/users/10514599/hallofriend"}, "is_accepted": false, "score": 0, "last_activity_date": 1539713509, "last_edit_date": 1539713509, "creation_date": 1539712395, "answer_id": 52841331, "question_id": 50143413, "link": "https://stackoverflow.com/questions/50143413/errorgpu-process-transport-factory-cc1007-lost-ui-shared-context-while-init/52841331#52841331", "title": "ERROR:gpu_process_transport_factory.cc(1007)-Lost UI shared context : while initializing Chrome browser through ChromeDriver in Headless mode", "body": "<p>I had the same problem. Try adding these flags to Chrome driver options:</p>\n\n<pre><code>options.add_arguments(\"--proxy-server='direct://'\");\noptions.add_arguments(\"--proxy-bypass-list=*\");\n</code></pre>\n\n<p><a href=\"https://sqa.stackexchange.com/questions/33778/chromedriver-in-headless-mode-doesnt-work-correctly-because-of-windows-user-pol\">See this link for more information.</a></p>\n"}], "owner": {"reputation": 61, "user_id": 3259863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7972b959d2e21c5c4dc89e4582051c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3259863", "link": "https://stackoverflow.com/users/3259863/user3259863"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17988, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1550266200, "creation_date": 1525294436, "last_edit_date": 1550266200, "question_id": 50143413, "link": "https://stackoverflow.com/questions/50143413/errorgpu-process-transport-factory-cc1007-lost-ui-shared-context-while-init", "title": "ERROR:gpu_process_transport_factory.cc(1007)-Lost UI shared context : while initializing Chrome browser through ChromeDriver in Headless mode", "body": "<p>I am getting this error when I attempt to run code on 2 of 3 computers:</p>\n\n<pre><code>[0502/155335.565:ERROR:gpu_process_transport_factory.cc(1007)] Lost UI shared context.\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nimport os\n\nchrome_options = Options()\nchrome_options.add_argument(\"--headless\")\nchrome_options.add_argument(\"--disable-gpu\")\nchrome_options.add_argument(\"--window-size=1920x1080\")\n\nchrome_driver = os.getcwd() + \"\\\\chromedriver.exe\"\nprint \"chrome driver:\" + chrome_driver\n\ndriver = webdriver.Chrome(chrome_options=chrome_options, \nexecutable_path=chrome_driver)\n\ndriver.get(\"http://www.google.com\")\n\nluck_button = driver.find_element_by_css_selector(\"[name=btnI\")\nluck_button.click()\n\ndriver.get_screenshot_as_file(\"capture.png\")\n</code></pre>\n\n<p>Now I have checked all of the systems, they are running windows 10 64-bit, google chrome 64 bit Version: 66.0.3359.139, python 2.7 32-bit, chromedriver.exe 32-bit, pycharm 2018.1.1</p>\n\n<p>funny thing is if I run this without the headless options then everything works. The browser pops up, the <code>I'm feeling lucky</code> button is pressed, and a screen shot is taken. Only if I add in the headless bit does this error occur.</p>\n\n<p>I am not sure what could be different on 1 system that would allow this to work when the other systems are running the same software.</p>\n"}, {"tags": ["python", "pandas", "pass-by-reference"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1525331298, "post_id": 50143400, "comment_id": 87315748, "body": "read this: <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/text/names.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 1, "last_activity_date": 1525294826, "creation_date": 1525294826, "answer_id": 50143496, "question_id": 50143400, "link": "https://stackoverflow.com/questions/50143400/reference-semantics-confusion-in-python/50143496#50143496", "title": "Reference semantics confusion in Python", "body": "<p>In your function, <code>Data1</code> and <code>Data2</code> are parameters, and therefore local variables. The fact that they happen to have the same name as your global variables is irrelevant (except in causing some extra confusion).</p>\n\n<p>If you want to change the global variables, do it like this:</p>\n\n<pre><code>def DropNan():\n    global Data1, Data2\n    Data1 = Data1.dropna()\n    Data2 = Data2.dropna()\n\nDropNan()\n</code></pre>\n\n<p>Or, if you want to take these two values as parameters, you almost certainly want to <em>return</em> two values:</p>\n\n<pre><code>def DropNan(d1, d2):\n    return d1.dropna(), d2.dropna()\n\nData1, Data2 = DropNan(Data1, Data2)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9571104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c2a8646fb9e9379931e2161abc5607a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/9571104/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 50143496, "answer_count": 1, "score": 0, "last_activity_date": 1555492411, "creation_date": 1525294387, "last_edit_date": 1555492411, "question_id": 50143400, "link": "https://stackoverflow.com/questions/50143400/reference-semantics-confusion-in-python", "title": "Reference semantics confusion in Python", "body": "<p>I'm trying to drop missing values from two Pandas dataframes:</p>\n\n<pre><code>Data1 = pd.read_csv(r\"C:\\Users\\Zihao\\Desktop\\New\\OBSTET.csv\")\n\nData2 = pd.read_csv(r\"C:\\Users\\Zihao\\Desktop\\New\\PRODUCTOS.csv\", index_col = 0)\n\ndef DropNan(Data1, Data2):\n    Data1 = Data1.dropna()\n    Data2 = Data2.dropna()\n</code></pre>\n\n<p>When I cal the method, it is not working (it doesn't drop the missing values). I wonder what caused this problem?</p>\n\n<p>My guess is that it related to reference semantics in Python I do not understand. Could someone explain?</p>\n"}, {"tags": ["python", "windows", "path", "python-idle"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525294493, "post_id": 50143360, "comment_id": 87305001, "body": "Doing <code>SET PYTHONPATH=whatever</code> on the command line only affects things you run later in the same command-line window. If you want to set an environment variable permanently, for all apps opened by Explorer or any command-line window or anywhere else, you need to use the Control Panel. The details are different on different versions of Windows, but I&#39;m sure there&#39;s a good answer on SuperUser that explains how to do it if you can&#39;t figure it out. (It&#39;s not as easy as it should be\u2014partly because every time Microsoft makes it &quot;easier&quot; they make all the existing answers/blogs/etc. wrong\u2026)"}, {"owner": {"reputation": 15, "user_id": 8434129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qIkD3.jpg?s=128&g=1", "display_name": "Sakyataksis", "link": "https://stackoverflow.com/users/8434129/sakyataksis"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525299260, "post_id": 50143360, "comment_id": 87306842, "body": "Thank you, abarnert. I&#39;m not sure that I even should be doing it on the command line. I can&#39;t decipher whether this is something I should do there or elsewhere. What is the way to get python to recognize a new path? It&#39;s so straightforward in MATLAB..."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525299526, "post_id": 50143360, "comment_id": 87306933, "body": "If you want to set an environment variable permanently, you need to use the Control Panel. If you don&#39;t know what that means, that&#39;s a question for a site like Super User, not Stack Overflow."}, {"owner": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 0, "creation_date": 1525320464, "post_id": 50143360, "comment_id": 87311745, "body": "You can also change directories in IDLE to the folder where your Python module is saved, using something like <a href=\"https://stackoverflow.com/a/15821215/7315159\">this</a>."}], "answers": [{"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": true, "score": 0, "last_activity_date": 1525323676, "creation_date": 1525323676, "answer_id": 50147245, "question_id": 50143360, "link": "https://stackoverflow.com/questions/50143360/idles-path-not-windows-path-how-do-i-edit-pythons-path-in-ms-windows-to-inc/50147245#50147245", "title": "IDLE&#39;s path, not Windows&#39; path: How do I edit Python&#39;s path in MS Windows to include a .py module?", "body": "<p>Do not put a python file in pythonxy/include, which is for C .h header files.</p>\n\n<p>pythonxy/scripts is for startup files and support files for startup files.  But this only works if pythonxy/scripts is on the system PATH.   The installer asks you if you want this.  But this in turn is problematic if you have more than one python version installed.</p>\n\n<p>On Windows, downloaded files and packages should generally go in pythonxy/Lib/site-packages.  If you use pip to get file xyz, this is where it will put it.  Then when you run pythonxy, import xyz should work.</p>\n\n<p>None of this has anything to do with IDLE.</p>\n"}], "owner": {"reputation": 15, "user_id": 8434129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qIkD3.jpg?s=128&g=1", "display_name": "Sakyataksis", "link": "https://stackoverflow.com/users/8434129/sakyataksis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "accepted_answer_id": 50147245, "answer_count": 1, "score": 0, "last_activity_date": 1525323676, "creation_date": 1525294217, "question_id": 50143360, "link": "https://stackoverflow.com/questions/50143360/idles-path-not-windows-path-how-do-i-edit-pythons-path-in-ms-windows-to-inc", "title": "IDLE&#39;s path, not Windows&#39; path: How do I edit Python&#39;s path in MS Windows to include a .py module?", "body": "<p>I don't think the other questions on stack overflow that sound like this are actually this question. (I did read several of them.)</p>\n\n<p>I downloaded a module, thinkbayes.py. When I'm in IDLE, typing \"from thinkbayes import pmf\" gives the following.</p>\n\n<p>Traceback (most recent call last):\n  File \"\", line 1, in \n    from thinkbayes import pmf\nModuleNotFoundError: No module named 'thinkbayes'</p>\n\n<p>I copied thinkbayes.py to many directories where python is installed, and that didn't help. So, I searched online for this and found recommendations like:</p>\n\n<p>SET SAVE=%PYTHONPATH%</p>\n\n<p>SET PYTHONPATH=.</p>\n\n<p>python scripts/doit.py</p>\n\n<p>SET PYTHONPATH=%SAVE%</p>\n\n<p>(in stack overflow)</p>\n\n<p>I tried that (and other recommendations) both in IDLE and in the Windows command-line interface. Neither one recognizes those commands. I changed directories to C: -- no improvement.</p>\n\n<p>What am I missing here that everyone else knows? To repeat, I'm trying to get a Python 3 installation to recognize a .py file that I've copied into the 'Scripts' directory, the 'include' directory, etc.</p>\n\n<p>Thanks,</p>\n\n<p>Sakyataksis</p>\n"}, {"tags": ["python", "sql", "django", "postgresql"], "comments": [{"owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 3, "creation_date": 1525294044, "post_id": 50143279, "comment_id": 87304783, "body": "No, don&#39;t make a new table per user."}, {"owner": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 1, "creation_date": 1525294045, "post_id": 50143279, "comment_id": 87304784, "body": "sounds like you are a bit out of the league here, I suggest reading up on this --&gt; <a href=\"https://en.wikipedia.org/wiki/Third_normal_form\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Third_normal_form</a>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1525294179, "post_id": 50143279, "comment_id": 87304852, "body": "How do you end up with one million rows of data for a single user?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1525294621, "post_id": 50143279, "comment_id": 87305054, "body": "If you&#39;re on that scale and have loads of users then perhaps it does make sense for each user to have their own table but, potentially, a) something could be very wrong with your approach or b) you need a different technology to scale to this."}, {"owner": {"reputation": 21, "user_id": 9732035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783531a0f48e566b0b3a083c2a698723?s=128&d=identicon&r=PG&f=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/9732035/gleb"}, "edited": false, "score": 0, "creation_date": 1525298442, "post_id": 50143279, "comment_id": 87306561, "body": "roganjosh, let me make it more clear. Every user has that many records in her Shopify stores. I am mostly interested in transactions. So you can imagine an average store having about 100 a day. If, say, I have 1000 users with 100k transactions, is it scalable enough to put everything (all transaction data) in a single table?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9732035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783531a0f48e566b0b3a083c2a698723?s=128&d=identicon&r=PG&f=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/9732035/gleb"}, "edited": false, "score": 0, "creation_date": 1525298961, "post_id": 50143657, "comment_id": 87306740, "body": "Thank you for your answer. But may we consider a more specific example: I have a user table which stores all user-related data, from every user I gather additional data to analyse (transactions). So I was thinking of creating a new table for every user and store there transactions data, the name of the table will be stored in table1 (where I keep info about my users) to locate it when needed. Should I keep transactions of all users in one table?"}, {"owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "reply_to_user": {"reputation": 21, "user_id": 9732035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783531a0f48e566b0b3a083c2a698723?s=128&d=identicon&r=PG&f=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/9732035/gleb"}, "edited": false, "score": 0, "creation_date": 1525301558, "post_id": 50143657, "comment_id": 87307499, "body": "@Gleb I don&#39;t want to add even more text to my answer, so I added a new answer with the concrete example you described."}], "tags": [], "owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "is_accepted": false, "score": 0, "last_activity_date": 1525295649, "creation_date": 1525295649, "answer_id": 50143657, "question_id": 50143279, "link": "https://stackoverflow.com/questions/50143279/django-postgresql-user-specific-table/50143657#50143657", "title": "Django + postgreSQL. user specific table", "body": "<p>I suggest you have one big table (<code>Table1</code>) for the data of all users (one column would indicate which user it belongs to). \nFor example, to store all the pages a user visited on one of your sites, you could use something like this:</p>\n\n<pre><code>Table1\n    pk   # maybe automatic id\n    user_id\n    datetime\n    page_url\n    query_string\n    some_session_data\n</code></pre>\n\n<p>If <code>Table1</code> gets too big (like you indicated that it may happen), you could create periodical backups with date ranges (maybe one backup file with data from a single month of <code>Table1</code> rows) and later delete the older data from <code>Table1</code>.</p>\n\n<pre><code>backup_table1_2018_01.sql\nbackup_table1_2018_02.sql\nbackup_table1_2018_03.sql\n</code></pre>\n\n<hr>\n\n<p>Furthermore, you could have a second table (<code>Table2</code>) that stores results of analysing the data from <code>Table1</code>. <code>Table2</code> would also have a column indicating which user it belongs to, and maybe even another column which indicates what date range it belongs to.</p>\n\n<p>Continuing with the example, you could create a ranking to see the most visited page for each user in a single month:</p>\n\n<pre><code>Table2\n    pk   # maybe automatic id\n    user_id\n    year\n    month\n    page_url\n    number_of_visits\n</code></pre>\n\n<p>After calculating the results for <code>Table2</code> you could remove the rows from <code>Table1</code> to save some space.</p>\n\n<hr>\n\n<p>This may be a silly/simple example, but I think it could be a valid approach for large amount of data. I hope it gives you some pointers to think about.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9732035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783531a0f48e566b0b3a083c2a698723?s=128&d=identicon&r=PG&f=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/9732035/gleb"}, "edited": false, "score": 0, "creation_date": 1525373641, "post_id": 50144645, "comment_id": 87341973, "body": "Thanks @Ralf. May the force to be with you)"}, {"owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "reply_to_user": {"reputation": 21, "user_id": 9732035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783531a0f48e566b0b3a083c2a698723?s=128&d=identicon&r=PG&f=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/9732035/gleb"}, "edited": false, "score": 0, "creation_date": 1525373725, "post_id": 50144645, "comment_id": 87342009, "body": "@Gleb +1 for the Star Wars reference (even though its still May 3rd in my timezone)"}], "tags": [], "owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "is_accepted": true, "score": 0, "last_activity_date": 1525301502, "creation_date": 1525301502, "answer_id": 50144645, "question_id": 50143279, "link": "https://stackoverflow.com/questions/50143279/django-postgresql-user-specific-table/50144645#50144645", "title": "Django + postgreSQL. user specific table", "body": "<p>@Gleb: you commented on my other answer:</p>\n\n<blockquote>\n  <p>But may we consider a more specific example: I have a user table which stores all user-related data, from every user I gather additional data to analyse (transactions). So I was thinking of creating a new table for every user and store there transactions data, the name of the table will be stored in table1 (where I keep info about my users) to locate it when needed. Should I keep transactions of all users in one table?</p>\n</blockquote>\n\n<p>So here goes a more concrete example.</p>\n\n<hr>\n\n<p>For starters, you have your <code>User</code> model (maybe even djangos default table) where you store attributes like names and email.</p>\n\n<pre><code>from django.contrib.auth.models import User\n</code></pre>\n\n<p>Second, you have transactions (I made up a few basic fields):</p>\n\n<pre><code>class Transaction(models.Model):\n    # default AutoField as pk\n    datetime = models.DateTimeField()\n    user_from = models.ForeignKey(User, related_name='transactions_from')\n    user_to = models.ForeignKey(User, related_name='transactions_to')\n    amount = models.IntegerField()\n</code></pre>\n\n<p>And third, you could have a monthly summary of transactions to sum up the received and sent amounts of each user:</p>\n\n<pre><code>class Summary(models.Model):\n    # default AutoField as pk\n    user = models.ForeignKey(User)\n    year = models.IntegerField()\n    month = models.IntegerField()\n    amount_sent = models.IntegerField()\n    amount_received = models.IntegerField()\n</code></pre>\n\n<hr>\n\n<p>Now, the <code>Transaction</code> model will have a lot of records (you say it could have millions per user), but the <code>Summary</code> model will only have one record per month per user, which is quite manageable.\nStill, I don't recommend using a separate model/table of transactions for each user.</p>\n\n<p>Once a month you could run a process that calculates the summaries for each user (or any other data analysis you wish to run) if you don't wish to update the <code>Summary</code> model instance each time a new transaction is made.</p>\n\n<p>Afterwards you are free to archive the old <code>Transactions</code> (maybe everything older than 3 months or a year).\nOnce a month you could run a process to export a given set of <code>Transaction</code> instances to a file (CSV, JSON or a SQL dump) and remove them from the <code>Transaction</code> model to keep the size of the table from expanding to much. You could obtain backup files per month for easier lookup if you ever need the <code>Transaction</code> data again:</p>\n\n<pre><code>backup_transaction_2018_01.sql\nbackup_transaction_2018_02.sql\nbackup_transaction_2018_03.sql\n</code></pre>\n\n<p>I hope this gives you a few ideas to think about.</p>\n"}], "owner": {"reputation": 21, "user_id": 9732035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/783531a0f48e566b0b3a083c2a698723?s=128&d=identicon&r=PG&f=1", "display_name": "Gleb", "link": "https://stackoverflow.com/users/9732035/gleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "closed_date": 1525332898, "accepted_answer_id": 50144645, "answer_count": 2, "score": 0, "last_activity_date": 1525301502, "creation_date": 1525293821, "question_id": 50143279, "link": "https://stackoverflow.com/questions/50143279/django-postgresql-user-specific-table", "closed_reason": "Needs more focus", "title": "Django + postgreSQL. user specific table", "body": "<p>I am currently working on a Django based service that will gather users' data from their Shopify shops and provide some insights. I use PostgreSQL as my DB server. The problem I am facing is whether it is more efficient to create a separate table for every particular user and store their data there or rather keep everything in one big table. Approximate data length - about 100k-1mln rows per user. Data is unrelated among users. Furthermore, I will need to store the user-specific results of my analysis. Any thoughts?</p>\n"}, {"tags": ["python", "function", "testing", "pytest"], "comments": [{"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1525293683, "post_id": 50143217, "comment_id": 87304622, "body": "It should be <code>@pytest.mark.parametrize(...)</code>."}, {"owner": {"reputation": 29, "user_id": 9605471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "A B", "link": "https://stackoverflow.com/users/9605471/a-b"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1525295554, "post_id": 50143217, "comment_id": 87305447, "body": "@hoefling Thanks. Getting the following error now: @pytest.mark.parametrize(&quot;number&quot;, [i for item in list]) E   TypeError: &#39;type&#39; object is not iterable"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 1, "creation_date": 1525295991, "post_id": 50143217, "comment_id": 87305614, "body": "That&#39;s because your code is wrong. <code>list</code> is a built-in class to create new empty lists (as in <code>x = list()</code>). In <code>List_of_Numbers</code>, you have created a new list, but it is only visible inside the function, so <code>[i for item in list]</code> will try to iterate the list class, which raises the error you get. Replace <code>[i for item in list]</code> with <code>range(1, 9)</code>. BTW, it is a bad practice to create lists named <code>list</code> because you overwrite the built-in <code>list</code> class. <code>numbers</code> would be a better name here."}, {"owner": {"reputation": 29, "user_id": 9605471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "A B", "link": "https://stackoverflow.com/users/9605471/a-b"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1525296420, "post_id": 50143217, "comment_id": 87305798, "body": "@hoefling Thank you ): I&#39;ve modified the code to your suggestion and it works, but I&#39;m left with the same root issue: how do I pass a list/array of strings as parameters to a Test Function? I&#39;ve used numbers above to simplify the example. They&#39;re dynamic strings. Appreciate it."}, {"owner": {"reputation": 29, "user_id": 9605471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "A B", "link": "https://stackoverflow.com/users/9605471/a-b"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1525297181, "post_id": 50143217, "comment_id": 87306119, "body": "The following works:  <code>import pytest @pytest.fixture def List_of_Numbers():     numbers = [&quot;One&quot;,&quot;Two&quot;,&quot;Three&quot;,&quot;Four&quot;,&quot;Five&quot;,&quot;Six&quot;,&quot;Seven&quot;,&quot;Eight&quot;]     return numbers      @pytest.mark.parametrize(&quot;number&quot;, [i for i in List_of_Numbers()]) def test_eval(number):     assert number == &quot;One&quot;</code>  Wondering if there is a more &#39;elegant&#39; solution. Thanks"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1525297657, "post_id": 50143217, "comment_id": 87306303, "body": "ah, I see - you want to parameterize a test using values returned by a fixture. No, unfortunately there is no way to do that, see <a href=\"https://github.com/pytest-dev/pytest/issues/349\" rel=\"nofollow noreferrer\">this issue</a>. Your code will work because you don&#39;t use <code>List_of_Numbers</code> as a fixture, you just call it as a usual function. Maybe you don&#39;t need it to be a fixture at all? Or if <code>List_of_numbers</code> is that simple, just declare a global <code>numbers</code> list in the script and use it for parametrizing."}], "answers": [{"tags": [], "owner": {"reputation": 1276, "user_id": 5592286, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206549768696733/picture?type=large", "display_name": "Max Voitko", "link": "https://stackoverflow.com/users/5592286/max-voitko"}, "is_accepted": false, "score": 1, "last_activity_date": 1550223344, "creation_date": 1550223344, "answer_id": 54706371, "question_id": 50143217, "link": "https://stackoverflow.com/questions/50143217/how-to-parameterize-test-function-pytest/54706371#54706371", "title": "How to Parameterize Test Function: Pytest?", "body": "<p>You have problem with the code:</p>\n\n<ol>\n<li>The fixture should be not <code>@pytest.parametrize</code>, but <code>@pytest.mark.parametrize</code>:</li>\n</ol>\n\n<pre><code>    @pytest.mark.parametrize(\"number\", [i for item in list])\n    def test_eval(number):\n        assert eval(number%2) == 0\n</code></pre>\n\n<ol start=\"2\">\n<li><p>You are trying to reach variable <code>list</code> defined in local scope of another function. Better not to use variable and function names reserved for built-in variables and functions in Python according to common sense and <a href=\"http://pep8.org\" rel=\"nofollow noreferrer\">PEP-8</a>.\nYou don't need extra fixture just for a list of numbers without any logic. I propose you to use a constant instead:</p>\n\n<p><code>TEST_NUMBERS = [1, 2, 3, 4, 5, 6, 7, 8]</code></p></li>\n</ol>\n\n<p>Putting it all together:</p>\n\n<pre><code>import pytest\n\n\nTEST_NUMBERS = [1, 2, 3, 4, 5, 6, 7, 8]\n\n\n@pytest.parametrize(\"number\", TEST_NUMBERS)\ndef test_eval(number):\n    assert eval(number % 2) == 0\n\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9605471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "A B", "link": "https://stackoverflow.com/users/9605471/a-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550223344, "creation_date": 1525293563, "last_edit_date": 1525296172, "question_id": 50143217, "link": "https://stackoverflow.com/questions/50143217/how-to-parameterize-test-function-pytest", "title": "How to Parameterize Test Function: Pytest?", "body": "<p>How do I pass a list of data, to a Test Function using Pytest? Each Test Case is pretty similar, except for this input parameter. I have tried the following but to no avail:</p>\n\n<pre><code>import pytest\n\n@pytest.fixture\ndef List_of_Numbers():\n    list = [1,2,3,4,5,6,7,8]\n\n\n@pytest.parametrize(\"number\", [i for item in list])\ndef test_eval(number):\n    assert eval(number%2) == 0\n</code></pre>\n\n<p><code>pytest</code> output:\n</p>\n\n<pre><code>==================================== ERRORS ====================================\n_________________________ ERROR collecting sample4.py __________________________\nsample4.py:8: in &lt;module&gt;\n@pytest.parametrize(\"number\", [i for item in list])\nE   AttributeError: module 'pytest' has no attribute 'parametrize'\n !!!!!!!!!!!!!!!!!!! Interrupted: 1 errors during collection !!!!!!!!!!!!!!!!!!!\n=========================== 1 error in 0.30 seconds ============================\n</code></pre>\n"}, {"tags": ["python", "windows", "pip", "macports", "easy-install"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1525294282, "post_id": 50143215, "comment_id": 87304906, "body": "Python runs on Windows."}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1525294487, "post_id": 50143215, "comment_id": 87304992, "body": "Might be worth checking out chocolatey as a package manager for windows.  You might have troubles with differences in directory structure but that could be worked around either by setting up the directory structure on the PC to match or by rewriting the app.  The libraries all look like they&#39;re windows-compatible."}, {"owner": {"reputation": 740, "user_id": 7315159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wLttyc9kcd4/AAAAAAAAAAI/AAAAAAAAAj4/ypMqEHWkiOM/photo.jpg?sz=128", "display_name": "Niayesh Isky", "link": "https://stackoverflow.com/users/7315159/niayesh-isky"}, "edited": false, "score": 0, "creation_date": 1525295158, "post_id": 50143215, "comment_id": 87305280, "body": "For this kind of work, as long as I don&#39;t need a GUI, I tend to use the <a href=\"https://docs.microsoft.com/en-us/windows/wsl/install-win10\" rel=\"nofollow noreferrer\">Windows Subsystem for Linux</a> (available in Windows 10 Anniversary Update and later). It provides almost every functionality of a Linux machine (with some exceptions, of course), and it&#39;s easy to run on Windows because it&#39;s built in. So if you&#39;re not doing anything graphical (and even if you are, there are X servers available), with WSL you can do things almost as you&#39;ve always done them, because Linux :)"}, {"owner": {"reputation": 1, "user_id": 9732269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33f33427aea01be57a212ecfe30884?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9732269/aaron"}, "edited": false, "score": 0, "creation_date": 1525296358, "post_id": 50143215, "comment_id": 87305778, "body": "Excellent, thanks for the suggestions.  I&#39;ll bring them up to our Python guy when we next speak.  Much appreciated."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9732269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33f33427aea01be57a212ecfe30884?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9732269/aaron"}, "edited": false, "score": 0, "creation_date": 1525359250, "post_id": 50154802, "comment_id": 87333918, "body": "Mainly for the money-saving.  We just purchased a new MacPro for another edit room, and don&#39;t really have it in the budget for a second one at the moment, but at the same time, they&#39;re eager to replace this 9 year old MacPro that I&#39;m on now (I know, a bit of a catch 22).    We&#39;ve already purchased a copy of Windows (which could of course be returned), but as far as the Linux idea, would Niayesh&#39;s idea above (running Windows Subsystem for Linux) allow effectively the same operability in a Windows environment?"}, {"owner": {"reputation": 321, "user_id": 5041452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5580f6cff5ca400a651b35a7d85a7a0c?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/5041452/craig"}, "reply_to_user": {"reputation": 1, "user_id": 9732269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33f33427aea01be57a212ecfe30884?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9732269/aaron"}, "edited": false, "score": 0, "creation_date": 1525446395, "post_id": 50154802, "comment_id": 87373185, "body": "Since you don&#39;t seem to be a Windows shop, I would think it would be simpler to just run Linux rather than Linux as a Windows subsystem.  Or buy a Mac Mini (maybe a refurb) and avoid the learning curves of new operating systems."}, {"owner": {"reputation": 1, "user_id": 9732269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33f33427aea01be57a212ecfe30884?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9732269/aaron"}, "edited": false, "score": 0, "creation_date": 1525552981, "post_id": 50154802, "comment_id": 87404866, "body": "So part of the backstory that I left out cause I didn&#39;t see it coming up: I&#39;m relatively new to the job (4 mos), and I&#39;m a PC guy through and through. I hate OSX. They knew this, and insisted on hiring me anyway, and at the first opportunity, told me to replace my [dying] Mac with this custom build, so I&#39;m the one who broke the news to them about the Python scripts, and get to solve the problem about how to run them. I&#39;m MUCH faster on Windows than on OSX. Even after years using OSX elsewhere it&#39;s just never been intuitive to me at all; the more I use it the more I dislike it. So there&#39;s that."}], "tags": [], "owner": {"reputation": 321, "user_id": 5041452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5580f6cff5ca400a651b35a7d85a7a0c?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/5041452/craig"}, "is_accepted": false, "score": 0, "last_activity_date": 1525349452, "creation_date": 1525349452, "answer_id": 50154802, "question_id": 50143215, "link": "https://stackoverflow.com/questions/50143215/small-mac-based-post-house-looking-to-run-a-windows-box-but-we-rely-on-some-pyt/50154802#50154802", "title": "Small Mac-based post house looking to run a Windows box, but we rely on some Python scripts", "body": "<p>If you \"don't need heavy lifting\", why upset your workflow this way?</p>\n\n<p>If you are determined to buy a PC, why not run Linux on it rather than Windows?  The setup process you described will be almost exactly the same on a Linux machine except for involving a different package manager instead of MacPorts.  </p>\n\n<p>Craig\nPS the Python modules you listed are all available via MacPorts.  It would simplify the software management process to install everything that way.</p>\n"}], "owner": {"reputation": 1, "user_id": 9732269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33f33427aea01be57a212ecfe30884?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9732269/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525349452, "creation_date": 1525293555, "question_id": 50143215, "link": "https://stackoverflow.com/questions/50143215/small-mac-based-post-house-looking-to-run-a-windows-box-but-we-rely-on-some-pyt", "title": "Small Mac-based post house looking to run a Windows box, but we rely on some Python scripts", "body": "<p>You can tell where this is going from the title..</p>\n\n<p>I work at a small post house, and to replace one of our older Mac Pros, we were looking at building a mid-range PC (doesn't need to do much heavy lifting - not worth the price of a new Mac Pro)..<br>\nThe problem is, we have a number of scripts that we use for footage transcoding and media management, and they were coded for our Mac-exclusive environment..\nThe basic procedure for setting up a new workstation is:</p>\n\n<p>Install pip using easy_install</p>\n\n<p>Use pip to install:</p>\n\n<p>youtube_dl</p>\n\n<p>pexpect</p>\n\n<p>parsedatetime</p>\n\n<p>XlsxWriter</p>\n\n<p>Install MacPorts..  Use MacPorts to install ffmpeg, lftp, and ImageMagick.  From there, install a couple custom in-house scripts (that rely mostly on the preceding dependencies and python 2.7 (via xcode). </p>\n\n<p>I'm NOT going to ask how to adapt this to PC, since that would be way outside the scope of a single question. My question is, without a strong python developer on-site (the custom scripts were written years ago by someone who's no longer with the company), is it even feasible to adapt the install scripts to a PC environment?  We have a freelance Python developer that we consult for minor script changes and he wasn't sure (his response was \"I would first double check to make sure some of the utilities can even run on windows. I\u2019m not 100% sure they can or not\").  Do any of the utilities jump out as something that would not be adaptable to a Windows environment?</p>\n\n<p>Thanks very much in advance - I know it's a rather broad question.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1525293777, "post_id": 50143212, "comment_id": 87304666, "body": "<code>root_dir = [d for d in os.listdir(os.curdir) if os.path.isdir(d)]</code> is a list comprehension, so what value do you intend it to take in <code>os.makedirs(os.path.join(root_dir,folder),exist_ok=True)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9731551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mike McNeil", "link": "https://stackoverflow.com/users/9731551/mike-mcneil"}, "edited": false, "score": 0, "creation_date": 1525295200, "post_id": 50143313, "comment_id": 87305305, "body": "I&#39;m trying to have the script go into each directory and create set of subdirs, then move the files in those directories into the newly created subdirectories."}, {"owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "reply_to_user": {"reputation": 1, "user_id": 9731551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mike McNeil", "link": "https://stackoverflow.com/users/9731551/mike-mcneil"}, "edited": false, "score": 0, "creation_date": 1525353297, "post_id": 50143313, "comment_id": 87329649, "body": "@MikeMcNeil See @Alex Hall&#39;s answer, that will go through each directory and create the sub-directories you&#39;ve indicated in your list. You also should also be aware that <code>os.chdir(root_dir)</code> should throw an error, as <code>root_dir</code> is a list."}, {"owner": {"reputation": 1, "user_id": 9731551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mike McNeil", "link": "https://stackoverflow.com/users/9731551/mike-mcneil"}, "edited": false, "score": 0, "creation_date": 1525375044, "post_id": 50143313, "comment_id": 87342677, "body": "Thanks @Tyler Marques. I modified the script using Alex Hall&#39;s suggestion and that portion now works. As for the os.chdir(root_dir) statement, how to I tell the script to &#39;cd into the list of folders stored in &#39;root_dir&#39; ?"}, {"owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "reply_to_user": {"reputation": 1, "user_id": 9731551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mike McNeil", "link": "https://stackoverflow.com/users/9731551/mike-mcneil"}, "edited": false, "score": 0, "creation_date": 1525376353, "post_id": 50143313, "comment_id": 87343274, "body": "You shouldn&#39;t need to cd into any of them. Rather you should navigate using the directory names. So your script would be run from the top level, and would look into the directories below and make changes as necessary."}], "tags": [], "owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "is_accepted": false, "score": 0, "last_activity_date": 1525294007, "creation_date": 1525294007, "answer_id": 50143313, "question_id": 50143212, "link": "https://stackoverflow.com/questions/50143212/how-do-access-a-list-of-directories-stored-in-a-variable-in-python/50143313#50143313", "title": "How do access a list of directories stored in a variable in Python", "body": "<p>Your issue comes from trying to use <code>root_dir</code> in the <code>.join()</code>. <code>root_dir</code> is a list, as list comprehension returns a list. You'll need to explain further what you're looking for in order for us to help.</p>\n"}, {"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 0, "last_activity_date": 1525294030, "creation_date": 1525294030, "answer_id": 50143321, "question_id": 50143212, "link": "https://stackoverflow.com/questions/50143212/how-do-access-a-list-of-directories-stored-in-a-variable-in-python/50143321#50143321", "title": "How do access a list of directories stored in a variable in Python", "body": "<p>It sounds like you want:</p>\n\n<pre><code>for root_folder in root_dir:\n    for folder in work_dir:\n        os.makedirs(os.path.join(root_folder, folder), exist_ok=True)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9731551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mike McNeil", "link": "https://stackoverflow.com/users/9731551/mike-mcneil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525294030, "creation_date": 1525293552, "question_id": 50143212, "link": "https://stackoverflow.com/questions/50143212/how-do-access-a-list-of-directories-stored-in-a-variable-in-python", "title": "How do access a list of directories stored in a variable in Python", "body": "<p>I'm totally new to python and I'm trying to get a script that I've cobbled together to work.  Basically, I have a directory with about 50 subdirectories. I'm trying to get my script to:\n1. store all of the subdir names in a list</p>\n\n<ol start=\"2\">\n<li><p>create a set of folders within each subdir (i.e. subdir/folder1, folder2, etc.)</p></li>\n<li><p>Go into each subdir and move files that are in the subdirs into the newly created folders within the subdirs (i.e. subdir/folder1/file1.ext, file2.ext)</p></li>\n</ol>\n\n<p>I get the following error when running my script:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./wsfonts.py\", line 20, in &lt;module&gt;\n    os.makedirs(os.path.join(root_dir,folder),exist_ok=True)\n   File \"/usr/lib/python3.5/posixpath.py\", line 89, in join\n     genericpath._check_arg_types('join', a, *p)\n      File \"/usr/lib/python3.5/genericpath.py\", line 143, in \n  _check_arg_types\n    (funcname, s.__class__.__name__)) from None\nTypeError: join() argument must be str or bytes, not 'list'\n</code></pre>\n\n<p>Here's a copy of the script:</p>\n\n<pre><code>#!/usr/bin/python3\n\n import os\n import shutil\n import sys\n import fnmatch\n\n  root_dir = [d for d in os.listdir(os.curdir) if os.path.isdir(d)]\n\n   work_dir = ['Blaster','Clash','Force','Lockup','PowerOFF','PowerON','Sign1','Spin','Stab','Swing']\n\n\n   for folder in work_dir:\n     os.makedirs(os.path.join(root_dir,folder),exist_ok=True)\n\n  os.chdir(root_dir)\n\nfor file in os.listdir('.'):\ndst = (work_dir)\nif fnmatch.fnmatch(file, 'blaster*'):\n      shutil.move(file, dst[0])\n\nif fnmatch.fnmatch(file, 'clash*'):\n shutil.move(file, dst[1])\n\nif fnmatch.fnmatch(file, 'force*'):\n shutil.move(file, dst[2])\n\nif fnmatch.fnmatch(file, 'lockup*'):\n shutil.move(file, dst[3])\n\nif fnmatch.fnmatch(file, 'p*w*off*'):\n shutil.move(file, dst[4])\n\nif fnmatch.fnmatch(file, 'p*w*on*'):\n shutil.move(file, dst[5])\n\nif fnmatch.fnmatch(file, 'combo*'):\n shutil.move(file, dst[6])\n\nif fnmatch.fnmatch(file, 'spin*'):\n shutil.move(file, dst[7])\n\nif fnmatch.fnmatch(file, 'stab*'):\n shutil.move(file, dst[8])\n\nif fnmatch.fnmatch(file, 'swing*'):\n shutil.move(file, dst[9])\n</code></pre>\n\n<p>Please forgive me if this post isn't formatted correctly, as it's my first time posting on Stackoverflow.  </p>\n\n<p>Kind regards,</p>\n\n<p>Mike</p>\n"}, {"tags": ["python", "bots", "weather", "groupme"], "answers": [{"comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 2, "creation_date": 1525294608, "post_id": 50143416, "comment_id": 87305047, "body": "I get the impression OP is not very familiar with <code>re</code>, so I would add that you need to do <code>if match:</code> since it&#39;s often going to be <code>None</code>."}], "tags": [], "owner": {"reputation": 457, "user_id": 3054246, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134982607/picture?type=large", "display_name": "nutic", "link": "https://stackoverflow.com/users/3054246/nutic"}, "is_accepted": true, "score": 1, "last_activity_date": 1525295174, "last_edit_date": 1525295174, "creation_date": 1525294442, "answer_id": 50143416, "question_id": 50143155, "link": "https://stackoverflow.com/questions/50143155/calling-function-with-passing-variable-from-json-message-request-in-groupme-bot/50143416#50143416", "title": "Calling function with passing variable from JSON message request in Groupme Bot", "body": "<p>You coud use regular expression for that but that's not so obvious.\nThe case you described is easily catched by</p>\n\n<pre><code>import re\n\ntext = \"Whats the weather in Austin this weekend\"\nmatch = re.search('[Ww]eather in (?P&lt;city&gt;\\w+)', text)\n\nif match:\n    print(match.groupdict())  #  {'city': 'Austin'}\nelse:\n    pass # the text does not contain \"weather in {CITY}\" pattern\n</code></pre>\n\n<p>But not all the cities have the name of one word. So the trick is to tell when does the city name end ands \"the rest of the sentence\" begins. You can rely for example that all words starting with capital letters are part of the city name</p>\n\n<pre><code>text2 = \"Whats the weather in New York this weekend\"\nmatch2 = re.search('[Ww]eather in (?P&lt;city&gt;([A-Z]\\w+\\W+)+)', text2)\n\nif match2:\n    print(match2.groupdict())  #  {'city': 'New York '}\nelse:\n    pass # the text does not contain \"weather in {CITY}\" pattern\n</code></pre>\n\n<p>But as it's a chat bot you're trying to create, well, how many people bother themselves to use capital letters and punctuation in chats?..</p>\n\n<p>So you would probably need to align with some predefined list of city names (it shouldn't be <em>that</em> big I suppose) after your captured what you suppose to be a city name.</p>\n"}], "owner": {"reputation": 61, "user_id": 1133403, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d96939832d13788da6873b45d9c7a4e9?s=128&d=identicon&r=PG", "display_name": "TPup", "link": "https://stackoverflow.com/users/1133403/tpup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 50143416, "answer_count": 1, "score": 0, "last_activity_date": 1525295174, "creation_date": 1525293278, "question_id": 50143155, "link": "https://stackoverflow.com/questions/50143155/calling-function-with-passing-variable-from-json-message-request-in-groupme-bot", "title": "Calling function with passing variable from JSON message request in Groupme Bot", "body": "<p>So in the GroupMe Bot I'm working on - I've gotten the bot to respond by passing messages with an if statement in the webhooks. </p>\n\n<pre><code>def webhook():\n\n# 'message' is an object that represents a single GroupMe message.\nmessage = request.get_json()\nspeaker = message['name'] \n\n\n# If hypefact! is spoken, return random fact\n# This code replies once and then calls another function that replies again\nif 'hypefact!' in message['text'].lower() and not sender_is_bot(message):\n    reply(speaker + ' - Here is your Hype Fact: ')\n    reply(fact_delivery())\n</code></pre>\n\n<p>Now below is the function for get_weather</p>\n\n<pre><code>def get_weather(city):\n\n## Bunch of stuff happens\n\nreply(weatherData['currently']['summary'] + ', ' + str(\n    weatherData['currently']['apparentTemperature']) + degree_sign + 'F. ' + weatherData['hourly'][\n          'summary'] + '\\n\\n' + weatherData['daily']['summary'])\n</code></pre>\n\n<p>If a phrase is \"in message['text']\" it will trigger an action because it is in the message.</p>\n\n<p>What if I was trying to get it to parse this message.</p>\n\n<p>\"Whats the weather in Austin this weekend\"</p>\n\n<p>The key part of that phrase is \"weather in Austin\"</p>\n\n<p>So I want to take the word after \"in\" and parse that to get_weather(city)</p>\n\n<p>Expected workflow: \nperson in chat says phrase with \"weather in {CITY}\" in the message\nbot triggers, filters city out of the string to call get_weather function</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1525293474, "post_id": 50143168, "comment_id": 87304537, "body": "Try <code>np.outer(d, a)</code> instead."}, {"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1525293644, "post_id": 50143168, "comment_id": 87304606, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 ok, but outer is restricted to division or multiplication between a and d. With broadcasting you could do the same for addition, for example."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1525294132, "post_id": 50143168, "comment_id": 87304833, "body": "There&#39;s also <code>np.add.outer(d, a)</code> and basically an <code>outer</code> for the basic arithmetic ufuncs."}, {"owner": {"reputation": 1103, "user_id": 5108333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KrNTC.png?s=128&g=1", "display_name": "A. Vieira", "link": "https://stackoverflow.com/users/5108333/a-vieira"}, "edited": false, "score": 0, "creation_date": 1525429238, "post_id": 50143168, "comment_id": 87362284, "body": "Thank you. This seems to answer. Indeed <code>a.shape</code> is <code>(5,)</code> which is not <code>(1,5)</code> as needed. I&#39;ll read more about it on the link you gave."}], "tags": [], "owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "is_accepted": true, "score": 3, "last_activity_date": 1525293541, "last_edit_date": 1525293541, "creation_date": 1525293335, "answer_id": 50143168, "question_id": 50143138, "link": "https://stackoverflow.com/questions/50143138/multiply-1d-arrays-ak-and-dj-into-a-matrix-mj-k/50143168#50143168", "title": "Multiply 1D arrays a[k] and d[j] into a matrix m[j,k]", "body": "<p>you need to use broadcasting:</p>\n\n<pre><code>a[None, :] * d[:, None]\n\n\nIn [2]: a = np.arange(5)\n\nIn [3]: d = np.arange(3)\n\nIn [4]: a[None, :] * d[:, None]\nOut[4]: \narray([[0, 0, 0, 0, 0],\n       [0, 1, 2, 3, 4],\n       [0, 2, 4, 6, 8]])\n</code></pre>\n\n<p>You can use np.newaxis instead of None, it does the same (np.newaxis is just an alias, with a more explicit name). What it does it to add an additional axis to <code>a</code> or <code>d</code>:</p>\n\n<pre><code>In [5]: a[None, :].shape\nOut[5]: (1, 5)\n</code></pre>\n\n<p>Broadcasting is a very efficient tool to perform operations on arrays in numpy, read more about it <a href=\"https://docs.scipy.org/doc/numpy-1.14.0/user/basics.broadcasting.html\" rel=\"nofollow noreferrer\">in the doc</a>.</p>\n\n<p>As a remark, <code>a * d[:, None]</code> would also work, but I find the first formulation to be more explicit.</p>\n"}, {"comments": [{"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525294763, "post_id": 50143448, "comment_id": 87305125, "body": "Avoid from <code>numpy import *.</code> It replaces built-in functions like <code>sum</code> and can cause headaches."}, {"owner": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525294833, "post_id": 50143448, "comment_id": 87305151, "body": "A flaw of this approach is that it creates new arrays for x and y, whereas x[:, None] is just a view on x, without memory overhead; for large arrays it might matter."}, {"owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "reply_to_user": {"reputation": 10450, "user_id": 2902280, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a91ff21ec8618a8fd6a12461e5fa40e?s=128&d=identicon&r=PG&f=1", "display_name": "P. Camilleri", "link": "https://stackoverflow.com/users/2902280/p-camilleri"}, "edited": false, "score": 0, "creation_date": 1525295005, "post_id": 50143448, "comment_id": 87305218, "body": "@P.Camilleri agree with first - bad habit... Sorry. Agree with the second too (as I stated, I like your approach). But your broadcast is a bit less readable for naive eyes, isn&#39;t it?"}], "tags": [], "owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "is_accepted": false, "score": 0, "last_activity_date": 1525294833, "last_edit_date": 1525294833, "creation_date": 1525294582, "answer_id": 50143448, "question_id": 50143138, "link": "https://stackoverflow.com/questions/50143138/multiply-1d-arrays-ak-and-dj-into-a-matrix-mj-k/50143448#50143448", "title": "Multiply 1D arrays a[k] and d[j] into a matrix m[j,k]", "body": "<p>I like the @P.Camilleri <a href=\"https://stackoverflow.com/a/50143168/1887559\">answer</a>. This one just for the sake of diversity...</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; x,y = np.random.random(5), np.random.random(3)      \n&gt;&gt;&gt; x\narray([0.5538738 , 0.31099761, 0.42709952, 0.28999541, 0.76811293])\n&gt;&gt;&gt; y\narray([0.80281963, 0.31063054, 0.20141215])\n\n&gt;&gt;&gt; np.array([x])*np.array([y]).T\narray([[0.44466076, 0.24967499, 0.34288388, 0.23281401, 0.61665614],\n       [0.17205012, 0.09660536, 0.13267015, 0.09008143, 0.23859933],\n       [0.11155691, 0.0626387 , 0.08602303, 0.0584086 , 0.15470727]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1525296124, "creation_date": 1525296124, "answer_id": 50143727, "question_id": 50143138, "link": "https://stackoverflow.com/questions/50143138/multiply-1d-arrays-ak-and-dj-into-a-matrix-mj-k/50143727#50143727", "title": "Multiply 1D arrays a[k] and d[j] into a matrix m[j,k]", "body": "<p>A few timings:</p>\n\n<pre><code>&gt;&gt;&gt; from timeit import timeit\n&gt;&gt;&gt; \n&gt;&gt;&gt; kwds = dict(globals=globals(), number=10000)\n&gt;&gt;&gt; \n&gt;&gt;&gt; a = np.random.random(100)\n&gt;&gt;&gt; d = np.random.random(60)\n&gt;&gt;&gt;\n&gt;&gt;&gt; timeit(\"d[:, None] * a\", **kwds)\n0.10106271505355835\n&gt;&gt;&gt; timeit(\"d[:, None] @ a[None]\", **kwds)\n0.08171644899994135\n&gt;&gt;&gt; timeit(\"np.dot(d[:, None], a[None])\", **kwds)\n0.08377223135903478\n&gt;&gt;&gt; timeit(\"d.reshape(-1, 1) * a\", **kwds)\n0.11084615904837847\n&gt;&gt;&gt; timeit(\"np.einsum('i,j-&gt;ij', d, a)\", **kwds)\n0.0618918058462441\n&gt;&gt;&gt; timeit(\"np.tensordot(d, a, ((),()))\", **kwds)\n0.23450013296678662\n&gt;&gt;&gt; timeit(\"np.c_[d] * a\", **kwds)\n0.19284361507743597\n&gt;&gt;&gt; timeit(\"np.multiply(*np.ix_(d, a))\", **kwds)\n0.16771024512127042\n&gt;&gt;&gt; timeit(\"np.multiply.outer(d, a)\", **kwds)\n0.09988314099609852\n&gt;&gt;&gt; timeit(\"np.outer(d, a)\", **kwds)\n0.11399263981729746\n</code></pre>\n\n<p><code>einsum</code> looks fastest.</p>\n"}], "owner": {"reputation": 1103, "user_id": 5108333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KrNTC.png?s=128&g=1", "display_name": "A. Vieira", "link": "https://stackoverflow.com/users/5108333/a-vieira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 50143168, "answer_count": 3, "score": 0, "last_activity_date": 1525296124, "creation_date": 1525293234, "question_id": 50143138, "link": "https://stackoverflow.com/questions/50143138/multiply-1d-arrays-ak-and-dj-into-a-matrix-mj-k", "title": "Multiply 1D arrays a[k] and d[j] into a matrix m[j,k]", "body": "<pre><code>&gt;&gt;&gt; import numpy as np\n</code></pre>\n\n<p>Suppose I have the following two arrays</p>\n\n<pre><code>&gt;&gt;&gt; a = np.array([a1,a2,a3,a4,a5])\n&gt;&gt;&gt; d = np.array([d1,d2,d3])\n</code></pre>\n\n<p>I'd like to know how to operate the two arrays in order to obtain a 5x3 matrix:</p>\n\n<pre><code>&gt;&gt;&gt; m\n   np.array([[a1*d1, a2*d1, a3*d1, a4*d1, a5*d1],\n             [a1*d2, a2*d2, a3*d2, a4*d2, a5*d2],\n             [a1*d3, a2*d3, a3*d3, a4*d3, a5*d3])\n&gt;&gt;&gt; m.shape\n   (3, 5)\n</code></pre>\n\n<p>I wasn't able to find an appropriate numpy function to achieve this. Even if the final matrix comes out transposed.</p>\n"}, {"tags": ["python", "python-3.x", "encoding"], "comments": [{"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1525293400, "post_id": 50143132, "comment_id": 87304503, "body": "when in doubt, try <code>latin1</code> or <code>iso-8859-1</code>"}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 1, "creation_date": 1525293467, "post_id": 50143132, "comment_id": 87304531, "body": "<code>cp1252</code> is also worth a shot"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1525293691, "post_id": 50143132, "comment_id": 87304624, "body": "Instead of guessing, you can also (1) go back to wherever you generated the file (e.g., export from Excel?) and look at what your settings are\u2014or just explicitly re-export as UTF-8, or (2) use <code>chardet</code> (and then verify that its output looks reasonable) to make a semi-educated guess instead of a random one."}, {"owner": {"reputation": 19, "user_id": 9260095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35215479eac7e45b164c927659b80e24?s=128&d=identicon&r=PG&f=1", "display_name": "sayalmondbutter", "link": "https://stackoverflow.com/users/9260095/sayalmondbutter"}, "reply_to_user": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1525293921, "post_id": 50143132, "comment_id": 87304721, "body": "@ChootsMagoots It&#39;s showing <code>line contains NULL byte</code> for  <code>latin1</code> and <code>iso-8859-1</code>. And for <code>cp1252</code> it&#39;s showing <code>UnicodeDecodeError: &#39;charmap&#39; codec can&#39;t decode byte 0x9d in position 55: character maps to &lt;undefined&gt;</code>"}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1525294246, "post_id": 50143132, "comment_id": 87304887, "body": "@abernert has a point, let&#39;s do more than guess.  How was the file generated?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525294256, "post_id": 50143132, "comment_id": 87304895, "body": "If you don&#39;t know how to test it yourself, run this and edit the results into your question: <code>with open(&lt;path to the file&gt;, &#39;rb&#39;) as f: print(next(f).hex())</code>"}, {"owner": {"reputation": 19, "user_id": 9260095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35215479eac7e45b164c927659b80e24?s=128&d=identicon&r=PG&f=1", "display_name": "sayalmondbutter", "link": "https://stackoverflow.com/users/9260095/sayalmondbutter"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525294274, "post_id": 50143132, "comment_id": 87304903, "body": "@abarnert I tried to open the file in sublime and save with encoding utf-8. Problem is then the file becomes unreadable and filled with messy numbers and letters."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525294315, "post_id": 50143132, "comment_id": 87304925, "body": "@sayalmondbutter When you open the file in Sublime, what encoding is Sublime using to open it? If it&#39;s the wrong one, that&#39;s just going to generate mojibake, and make it even <i>harder</i> to recover the file. But meanwhile, go back to how you originally created the file. How did you do that? What program, what settings, etc.? (And, of course, did it all look correct in that program?)"}, {"owner": {"reputation": 19, "user_id": 9260095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35215479eac7e45b164c927659b80e24?s=128&d=identicon&r=PG&f=1", "display_name": "sayalmondbutter", "link": "https://stackoverflow.com/users/9260095/sayalmondbutter"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1525294406, "post_id": 50143132, "comment_id": 87304963, "body": "The code @abarnert proposed resulted in invalid syntax. I got the file by just changing the extension .xlsx to .csv"}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1525294621, "post_id": 50143132, "comment_id": 87305053, "body": "did you change <code>&lt;path to file&gt;</code> to the path to the file and add new lines as appropriate?"}, {"owner": {"reputation": 19, "user_id": 9260095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35215479eac7e45b164c927659b80e24?s=128&d=identicon&r=PG&f=1", "display_name": "sayalmondbutter", "link": "https://stackoverflow.com/users/9260095/sayalmondbutter"}, "edited": false, "score": 0, "creation_date": 1525294661, "post_id": 50143132, "comment_id": 87305067, "body": "I got the file from someone else in the form of a spreadsheet."}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 3, "creation_date": 1525294684, "post_id": 50143132, "comment_id": 87305080, "body": "<code>I got the file by just changing the extension .xlsx to .csv</code> so, <b>it is not a text file</b>."}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 1, "creation_date": 1525294708, "post_id": 50143132, "comment_id": 87305098, "body": "Open the file with excel and export it as a .csv"}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1525294899, "post_id": 50143132, "comment_id": 87305174, "body": "As far as python is concerned, simply changing the extension literally does nothing.  You could achieve the same result by importing the original <code>.xlsx</code> file.  However, a .xlsx file is not a text file, and this will result in mojibake"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1525294997, "post_id": 50143132, "comment_id": 87305214, "body": "If you want to read a <code>.xlsx</code> file, you have to do one of two things: (1) use a Python library for <code>xlsx</code> files instead of the <code>csv</code> library, or (2) use Excel (or Google Sheets or LibreOffice or whatever) to open the file and export it as a <code>.csv</code> so your existing Python code can read it. It&#39;s not even a character set issue; the file format is just not even close to <code>.csv</code>."}], "owner": {"reputation": 19, "user_id": 9260095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35215479eac7e45b164c927659b80e24?s=128&d=identicon&r=PG&f=1", "display_name": "sayalmondbutter", "link": "https://stackoverflow.com/users/9260095/sayalmondbutter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1096, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551711556, "creation_date": 1525293206, "last_edit_date": 1551711556, "question_id": 50143132, "link": "https://stackoverflow.com/questions/50143132/utf-8-codec-cant-decode-byte-0x95-in-position-11-invalid-start-byte", "title": "&#39;utf-8&#39; codec can&#39;t decode byte 0x95 in position 11: invalid start byte", "body": "<p>I'm using python 3.6 and this is my code:</p>\n\n<pre><code>import csv\n\nwith open('data1.csv', newline='') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        print(row)\n</code></pre>\n\n<p>And then I got this:</p>\n\n<pre><code>runfile('/Users/rong/Desktop/untitled0.py', wdir='/Users/rong/Desktop')\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-18-a9ca6afc41f8&gt;\", line 1, in &lt;module&gt;\n    runfile('/Users/rong/Desktop/untitled0.py', wdir='/Users/rong/Desktop')\n\n  File \"/Users/rong/anaconda3/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py\", line 705, in runfile\n    execfile(filename, namespace)\n\n  File \"/Users/rong/anaconda3/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py\", line 102, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n\n  File \"/Users/rong/Desktop/untitled0.py\", line 15, in &lt;module&gt;\n    for row in reader:\n\n  File \"/Users/rong/anaconda3/lib/python3.6/codecs.py\", line 321, in decode\n    (result, consumed) = self._buffer_decode(data, self.errors, final)\n\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x95 in position 11: invalid start byte\n</code></pre>\n\n<p>I'm not sure which encoding should I use for 0x95, anyone helps plese?</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "evaluate", "tensorflow-estimator"], "comments": [{"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525293554, "post_id": 50143102, "comment_id": 87304566, "body": "Is it OK to use <code>predict</code> instead of <code>evaluate</code> for your case? You can then get the prediction first and decide whether you win or loss in your own way."}, {"owner": {"reputation": 43, "user_id": 5589768, "user_type": "registered", "profile_image": "https://graph.facebook.com/164017683951674/picture?type=large", "display_name": "Damien Frances", "link": "https://stackoverflow.com/users/5589768/damien-frances"}, "reply_to_user": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525293945, "post_id": 50143102, "comment_id": 87304734, "body": "I thought about it but if I haven&#39;t the label for each prediction it is a problem for me. I don&#39;t know the order of features so I can&#39;t match feature and label or I haven&#39;t seen how. An idea ? And I am worried about performance of program if I don&#39;t use optimized functions. Thanks for your help ! :)"}, {"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525294078, "post_id": 50143102, "comment_id": 87304799, "body": "Is there a reason why you don&#39;t know the order of features? You don&#39;t have to shuffle for evaluation or prediction, right?"}, {"owner": {"reputation": 43, "user_id": 5589768, "user_type": "registered", "profile_image": "https://graph.facebook.com/164017683951674/picture?type=large", "display_name": "Damien Frances", "link": "https://stackoverflow.com/users/5589768/damien-frances"}, "reply_to_user": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525294434, "post_id": 50143102, "comment_id": 87304969, "body": "Yeah I am agree with you but features are result of files concatenation. But if order of features is preserved during predict function it could work. Do you know if order of predicts is the same than order of features injected as input in predict function ?"}, {"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525294761, "post_id": 50143102, "comment_id": 87305123, "body": "Yes, it should be the same order if there is nothing extremely special in your code. Try it out yourself."}, {"owner": {"reputation": 43, "user_id": 5589768, "user_type": "registered", "profile_image": "https://graph.facebook.com/164017683951674/picture?type=large", "display_name": "Damien Frances", "link": "https://stackoverflow.com/users/5589768/damien-frances"}, "reply_to_user": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1525437612, "post_id": 50143102, "comment_id": 87367328, "body": "Your suggestion worked ! Thank you very much !"}], "owner": {"reputation": 43, "user_id": 5589768, "user_type": "registered", "profile_image": "https://graph.facebook.com/164017683951674/picture?type=large", "display_name": "Damien Frances", "link": "https://stackoverflow.com/users/5589768/damien-frances"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525293114, "creation_date": 1525293114, "question_id": 50143102, "link": "https://stackoverflow.com/questions/50143102/tensorflow-get-all-good-predicitions-from-an-estimator-evaluated", "title": "Tensorflow - get all good predicitions from an Estimator evaluated", "body": "<p>I will try to be understandable.</p>\n\n<p>I created a DNNClassifier estimator:</p>\n\n<pre><code>classifier = tf.estimator.DNNClassifier(\n    feature_columns=feature_column,\n    hidden_units=[10, 10],\n    n_classes=3)\n</code></pre>\n\n<p>I trained this model :</p>\n\n<pre><code>classifier.train(input_fn=lambda:train_input_fn(train_features, train_label, 1), steps=1000)\n</code></pre>\n\n<p><strong>It is here that I have a problem.</strong> I want to change a little my evaluate function. I explain :</p>\n\n<p>Target of my program is to know if my model is profitable or not.\nMy features / label are for example : </p>\n\n<p>| 2 | 1 | 6 | / | 2 |</p>\n\n<p>If evaluation is correct I win the value in features[label] (6 for our example). If not, I lost 1.</p>\n\n<p>So, problem is I don't care accuracy because it means nothing for me.</p>\n\n<p>Currently my evaluate function is :</p>\n\n<pre><code>def eval_input_fn(features, labels, batch_size):\n\"\"\"An input function for evaluation or prediction\"\"\"\nfeatures=dict(features)\nif labels is None:\n    # No labels, use only features.\n    inputs = features\nelse:\n    inputs = (features, labels)\n\n# Convert the inputs to a Dataset.\ndataset = tf.data.Dataset.from_tensor_slices(inputs)\n\n# Batch the examples\nassert batch_size is not None, \"batch_size must not be None\"\ndataset = dataset.batch(batch_size)\n\n# Return the dataset.\nreturn dataset\n</code></pre>\n\n<p>-</p>\n\n<pre><code>eval_result = classifier.evaluate(\n    input_fn=lambda:eval_input_fn(test_features, test_label,\n                                            1), steps=1000)\n</code></pre>\n\n<p>and result doesn't suit me : </p>\n\n<blockquote>\n  <p>INFO:tensorflow:Saving dict for global step 1000: accuracy = 0.555, average_loss = 0.96378326, global_step = 1000, loss = 0.96378326</p>\n</blockquote>\n\n<p>If it is possible I would like at each iteration on my dataset calculate gain or loss if predicition during evaluation is ok or not. I search for hooks but no result.. Or if is there a way to export all good predicitions after evaluate()?</p>\n\n<p>Have you an idea ?</p>\n\n<p>Thanks a lot for your help !</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1525293421, "creation_date": 1525293421, "answer_id": 50143194, "question_id": 50143092, "link": "https://stackoverflow.com/questions/50143092/single-line-calculate-a-sum-and-print-multiple-columns-pandas-dataframe/50143194#50143194", "title": "single line Calculate a sum and print multiple columns pandas dataframe", "body": "<p>Using <code>astype</code> in <code>pandas</code> </p>\n\n<pre><code>print(df['named'] + \" \" + ((df['my'].astype(float) - df['all'].astype(float))/df['headers'].astype(float)).astype(str))\n0                    top 4.01\n1    bottom 5.000000000000001\ndtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "is_accepted": true, "score": 2, "last_activity_date": 1525293617, "creation_date": 1525293617, "answer_id": 50143235, "question_id": 50143092, "link": "https://stackoverflow.com/questions/50143092/single-line-calculate-a-sum-and-print-multiple-columns-pandas-dataframe/50143235#50143235", "title": "single line Calculate a sum and print multiple columns pandas dataframe", "body": "<p>I believe <code>df.apply</code> will work here. </p>\n\n<pre><code>df['answer'] = df.apply(lambda x: x['my'] - (x['all']/x['headers']), 1)\nfor index, row in df.itterrows: print(row['name'] + \" - \" + row['answer'])\n</code></pre>\n\n<p>Not a one liner, but might give you an idea of how to utilize df.apply.</p>\n"}], "owner": {"reputation": 1378, "user_id": 6916973, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/JwzBl.jpg?s=128&g=1", "display_name": "johnnyb", "link": "https://stackoverflow.com/users/6916973/johnnyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 50143235, "answer_count": 2, "score": 0, "last_activity_date": 1525293617, "creation_date": 1525293051, "last_edit_date": 1525293231, "question_id": 50143092, "link": "https://stackoverflow.com/questions/50143092/single-line-calculate-a-sum-and-print-multiple-columns-pandas-dataframe", "title": "single line Calculate a sum and print multiple columns pandas dataframe", "body": "<p>I have a dataframe written like below</p>\n\n<pre><code>df = pd.read_csv(file, skiprows=1, names=['all','my','headers','named'])\n</code></pre>\n\n<p>from this point, how can i apply the following forumla df['my'] - df['all'] / df['headers'] and print the name from the data below, on a single line? </p>\n\n<p>example data:</p>\n\n<pre><code>all      my     headers    named\n10.1     50.2   10         top\n20.2     40.2   4          bottom\n</code></pre>\n\n<p>current attempts: </p>\n\n<pre><code>print(df['named'] + \" \" + str(  (df['my'].astype(float) - df['all'].astype(float))  /  df['headers'].astype(float)  ) \n</code></pre>\n\n<p>I am trying hard to do this in one single print statement with no additional variables or lines other than the single print statement provided. </p>\n\n<p>expected output:</p>\n\n<pre><code>top    1.01\nbottom 5.00\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "memory-management", "crash", "large-data"], "comments": [{"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1525293117, "post_id": 50142997, "comment_id": 87304371, "body": "Can you supply a sample of your code?  This would help to suggest methods to reduce memory footprint."}, {"owner": {"reputation": 611, "user_id": 3258925, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/P7XRi.jpg?s=128&g=1", "display_name": "nandhos", "link": "https://stackoverflow.com/users/3258925/nandhos"}, "reply_to_user": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1525293724, "post_id": 50142997, "comment_id": 87304638, "body": "@RagingRoosevelt Done!"}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 1, "creation_date": 1525294096, "post_id": 50142997, "comment_id": 87304809, "body": "One approach I&#39;ve used with data sets that are in the 4gb+ range (of course, on a system with a lot more memory) was to load only a very small amount of stuff into memory at once. For instance, do you need to load each of the <code>MessageData_data_k</code> variables at once? Can you instead load one, process it, load the next one into the same variable, process that one, etc? This stuff seems like it could likely be kept in a loop (which would also simplify your code). Maybe something like <code>for i in range(7): dms_var = tdms_file.group_channels(&#39;PXI-5105-Ch%s&#39; % i) ...</code> and then overwrite each iteration."}, {"owner": {"reputation": 611, "user_id": 3258925, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/P7XRi.jpg?s=128&g=1", "display_name": "nandhos", "link": "https://stackoverflow.com/users/3258925/nandhos"}, "reply_to_user": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1525310383, "post_id": 50142997, "comment_id": 87309320, "body": "@RagingRoosevelt Actually the consumption of memory is when I read the file &#39;tdms_file = TdmsFile(&quot;20180320_190351_060_PXI-5105.tdms&quot;)&#39; and not when define the channels with data &#39;MessageData_data_k&#39;"}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1525329512, "post_id": 50142997, "comment_id": 87314919, "body": "Right.  So rather than reading all of those files at once, can you read them one-at-a-time in, for instance, a for loop?  As you read one in, overwrite the previous value so as to release that memory.  It doesn&#39;t look like you&#39;re doing anything that requires they all be open at once.  You could do the <code>fig, ax = plt.subplots()</code> before the for loop and then do <code>ax.plot(MessageData_data)</code> each time you run through the loop."}, {"owner": {"reputation": 611, "user_id": 3258925, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/P7XRi.jpg?s=128&g=1", "display_name": "nandhos", "link": "https://stackoverflow.com/users/3258925/nandhos"}, "reply_to_user": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1526150404, "post_id": 50142997, "comment_id": 87634979, "body": "@RagingRoosevelt There is a way to use the SWAP instead of RAM?"}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1526242396, "post_id": 50142997, "comment_id": 87656211, "body": "I imagine swap wouldn&#39;t be any faster than just reading the file from disk (no performance benefit).  But no, I don&#39;t know how you&#39;d tell python to do that."}], "owner": {"reputation": 611, "user_id": 3258925, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/P7XRi.jpg?s=128&g=1", "display_name": "nandhos", "link": "https://stackoverflow.com/users/3258925/nandhos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 552, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1525356513, "creation_date": 1525292616, "last_edit_date": 1525356513, "question_id": 50142997, "link": "https://stackoverflow.com/questions/50142997/python-proper-way-to-read-large-dataset-without-crashing-memory", "title": "Python: Proper way to read large dataset without crashing memory", "body": "<p>I read a TDMS binary dataset generated by LabView using this <a href=\"https://stackoverflow.com/questions/44796977/reading-tdms-files-in-python-how-to-use-tdmsinfo-command?rq=1\">code</a>. The file is about 500 MB, so it's not so big as commented in another posted questions as <a href=\"https://stackoverflow.com/questions/39293731/python-handling-of-memory\">Q1</a> and <a href=\"https://stackoverflow.com/questions/24825522/python-pandas-read-csv-of-large-file-causes-memory-crash\">Q2</a>.</p>\n\n<p>My computer has a quadcore i7 processor and 8GB RAM memory, uses ubuntu 16.04 and run IPython Notebook (Python 2.7). </p>\n\n<p>I noticed, in the monitor system, everytime that I read the file (~500 MB), it is apparently stored in RAM memory. Data has 8 arrays of 3.3e7 points. When I tried to plot (using matplotlib) only one array, the memory consumption increase to about 1 GB more. So, imagine when I tried to plot the 8 arrays in one plot. I have to restart the kernel to clear from the RAM memory. But what if I need to plot every array? </p>\n\n<p>I experimented this before when read multiples astronomical images.</p>\n\n<p>I tried to found the answer for these looking in questions <a href=\"https://stackoverflow.com/questions/39293731/python-handling-of-memory\">Q1</a> and <a href=\"https://stackoverflow.com/questions/24825522/python-pandas-read-csv-of-large-file-causes-memory-crash\">Q2</a> but these answer are not resolved.</p>\n\n<p>So, the question is: How can I manage the memory for large datasets using python?</p>\n\n<p>Code Example:</p>\n\n<pre><code>%matplotlib nbagg \nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom nptdms import TdmsFile\n\ntdms_file = TdmsFile(\"20180320_190351_060_PXI-5105.tdms\")\nroot_object = tdms_file.object()\n\n# Iterate over all items in the properties dictionary and print them\nfor name, value in root_object.properties.items():\n    print(\"{0}: {1}\".format(name, value))\n\nTimestamp: 2018-03-20 19:03:51.060532343\nDigitizer: PXI-5105\nSamplingRate: 30000000\nPreTrigger: 0.05\nPostTrigger: 1.05\nTriggerSource: 4\nTriggerHigh: 0.95\nTriggerLow: -0.95\nOffset: 447.0\nLongitude: -46.7273776\nLatitude: -23.4832443\nGPS-Status: self survey not completed\n\ntdms_groups = tdms_file.groups()\nprint tdms_groups\n[u'PXI-5105-Ch0',\n u'PXI-5105-Ch1',\n u'PXI-5105-Ch2',\n u'PXI-5105-Ch3',\n u'PXI-5105-Ch4',\n u'PXI-5105-Ch5',\n u'PXI-5105-Ch6']\n\ndms_Variables_0 = tdms_file.group_channels(\"PXI-5105-Ch0\")\ndms_Variables_1 = tdms_file.group_channels(\"PXI-5105-Ch1\")\ndms_Variables_2 = tdms_file.group_channels(\"PXI-5105-Ch2\")\ndms_Variables_3 = tdms_file.group_channels(\"PXI-5105-Ch3\")\ndms_Variables_4 = tdms_file.group_channels(\"PXI-5105-Ch4\")\ndms_Variables_5 = tdms_file.group_channels(\"PXI-5105-Ch5\")\ndms_Variables_6 = tdms_file.group_channels(\"PXI-5105-Ch6\")\n\nMessageData_channel_0 = tdms_file.object('PXI-5105-Ch0', 'Frame_1')\nMessageData_channel_1 = tdms_file.object('PXI-5105-Ch1', 'Frame_1')\nMessageData_channel_2 = tdms_file.object('PXI-5105-Ch2', 'Frame_1')\nMessageData_channel_3 = tdms_file.object('PXI-5105-Ch3', 'Frame_1')\nMessageData_channel_4 = tdms_file.object('PXI-5105-Ch4', 'Frame_1')\nMessageData_channel_5 = tdms_file.object('PXI-5105-Ch5', 'Frame_1')\nMessageData_channel_6 = tdms_file.object('PXI-5105-Ch6', 'Frame_1')\n\n\n# Here the data arrays\nMessageData_data_0 = np.array(MessageData_channel_0.data)\nMessageData_data_1 = np.array(MessageData_channel_1.data)\nMessageData_data_2 = np.array(MessageData_channel_2.data)\nMessageData_data_3 = np.array(MessageData_channel_3.data)\nMessageData_data_4 = np.array(MessageData_channel_4.data)\nMessageData_data_5 = np.array(MessageData_channel_5.data)\nMessageData_data_6 = np.array(MessageData_channel_6.data)\n\n\n# Plot\nfig, ax = plt.subplots()\nax.plot(MessageData_data_1)\n</code></pre>\n"}, {"tags": ["python", "networkx"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1525293039, "post_id": 50142984, "comment_id": 87304330, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/on-topic\">On topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here. StackOverflow is not a design, coding, research, or tutorial service. Rather than a focused programming question, you seem to be asking for a tutorial and completion of your network design."}, {"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1525293210, "post_id": 50142984, "comment_id": 87304417, "body": "@Prune I don&#39;t think this is an inappropriate question - as I understand it, the question is basically &quot;how do I add an idea of time, or motion, to a graph in networkx&quot;?  I think the answer is to use <a href=\"http://avrilomics.blogspot.com/2015/09/finding-maximum-flow-in-network-using.html\" rel=\"nofollow noreferrer\">flows</a>, but I don&#39;t know enough about it to answer myself."}, {"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1525293297, "post_id": 50142984, "comment_id": 87304455, "body": "Perhaps the question should be clarified, however, to specifically &quot;how can I represent movement / temporal change in networkx&quot;, rather than &quot;how to I solve the entire problem statement&quot;."}, {"owner": {"reputation": 49, "user_id": 4387257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c753f4c0fd41d18ec6e29fcd5893365?s=128&d=identicon&r=PG&f=1", "display_name": "Jasher", "link": "https://stackoverflow.com/users/4387257/jasher"}, "edited": false, "score": 1, "creation_date": 1525293383, "post_id": 50142984, "comment_id": 87304494, "body": "Sorry if it&#39;s inappropriate.  Maybe my approach with networkx is wrong.  The problem is much like a &#39;towers of hanoi&#39; problem that is multi directional.  So maybe the better question is, how do you solve a multi-directional &#39;towers of hanoi&#39;?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 4, "creation_date": 1525293610, "post_id": 50142984, "comment_id": 87304592, "body": "@Jasher: &quot;appropriate&quot; depends on what you expect from us.  &quot;How would I build a model&quot; seems too broad to me.  If you need coding help, you haven&#39;t yet reached a level of detail I feel is appropriate to SO.  If you&#39;re looking for design help, I feel that this falls into the &quot;tutorial&quot; category that belongs elsewhere in StackExchange.  <b>However</b>, some extra clarification on your part might bring this into a more useful area for us."}], "owner": {"reputation": 49, "user_id": 4387257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c753f4c0fd41d18ec6e29fcd5893365?s=128&d=identicon&r=PG&f=1", "display_name": "Jasher", "link": "https://stackoverflow.com/users/4387257/jasher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1525292563, "creation_date": 1525292563, "question_id": 50142984, "link": "https://stackoverflow.com/questions/50142984/python-model-a-railroad-using-networkx", "title": "Python - Model a railroad using networkX", "body": "<p>I'm a railroader and would like to optimize train movements for # of trains moved in a 24 period.  I've begun reading documentation on networkX and pySim.   Let's say there are 5 trains that are eastbound and 3 that are westbound.  From West to East, these are the nodes: Desmet, Missoula, Bonner, McQuarrie, Clinton.  How would I build a model that would figure out the best way to move the 5 eastbound and 3 westbound trains assuming that the edges between nodes are 'single track' (i.e. this restricts trains to moving one at a time between nodes)?</p>\n\n<pre><code>import networkx as nx\ng = nx.Graph()\ng.add_edge('desmet','missoula',weight=1.5)\ng.add_edge('missoula','bonner',weight=1.5)\ng.add_edge('bonner','mcquarrie',weight=0.1)\ng.add_edge('mcquarrie','clinton',weight=0.1)\n\nprint nx.shortest_path(g, 'bonner', 'desmet')\n</code></pre>\n"}, {"tags": ["python", "jupyter-notebook", "text-mining", "lda"], "owner": {"reputation": 25, "user_id": 9730566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33dea639500a6b294acd58e0e24160d3?s=128&d=identicon&r=PG&f=1", "display_name": "pmwel", "link": "https://stackoverflow.com/users/9730566/pmwel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1525292498, "creation_date": 1525292498, "question_id": 50142961, "link": "https://stackoverflow.com/questions/50142961/valueerror-labels-not-contained-in-axis", "title": "ValueError: Labels not contained in axis?", "body": "<p>Complete beginner here!</p>\n\n<p>I'm following a jupyter notebook tutorial on text mining via LDA: </p>\n\n<p><a href=\"http://nbviewer.jupyter.org/github/sekhansen/text-mining-tutorial/blob/master/tutorial_notebook.ipynb\" rel=\"nofollow noreferrer\">http://nbviewer.jupyter.org/github/sekhansen/text-mining-tutorial/blob/master/tutorial_notebook.ipynb</a> </p>\n\n<p>In the tutorial, I have a .txt document with: </p>\n\n<pre><code>data.columns\nIndex(['president', 'speech', 'year'], dtype='object')\n</code></pre>\n\n<p>However, a few steps further, I try to switch the 'speech' column to the (estimated) topics found via LDA. This code is used in the tutorial: </p>\n\n<pre><code>data = data.drop('speech',1)\nfor i in range(ldaobj.K): data['T' + str(i)] = dt[:,i]\ndata.to_csv(\"final_output.csv\",index=False)\n</code></pre>\n\n<p>(I switched <code>xrange()</code> to <code>range()</code> given that I'm using Python 3)</p>\n\n<p>Now, when I run this, it gives me: </p>\n\n<pre><code>ValueError                                Traceback (most recent call last)\n&lt;ipython-input-31-45755ac70972&gt; in &lt;module&gt;()\n----&gt; 1 data = data.drop('speech',1)\n      2 for i in range(ldaobj.K): data['T' + str(i)] = dt[:,i]\n      3 data.to_csv(\"final_output.csv\",index=False)\n\n/anaconda3/lib/python3.6/site-packages/pandas/core/generic.py in drop(self, \nlabels, axis, index, columns, level, inplace, errors)\n   2528         for axis, labels in axes.items():\n   2529             if labels is not None:\n-&gt; 2530                 obj = obj._drop_axis(labels, axis, level=level, \nerrors=errors)\n   2531 \n   2532         if inplace:\n\n/anaconda3/lib/python3.6/site-packages/pandas/core/generic.py in \n_drop_axis(self, labels, axis, level, errors)\n   2560                 new_axis = axis.drop(labels, level=level, \nerrors=errors)\n   2561             else:\n-&gt; 2562                 new_axis = axis.drop(labels, errors=errors)\n   2563             dropped = self.reindex(**{axis_name: new_axis})\n   2564             try:\n\n/anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py in \ndrop(self, labels, errors)\n   3742             if errors != 'ignore':\n   3743                 raise ValueError('labels %s not contained in axis' \n%\n-&gt; 3744                                  labels[mask])\n   3745             indexer = indexer[~mask]\n   3746         return self.delete(indexer)\n\nValueError: labels ['speech'] not contained in axis\n</code></pre>\n\n<p>I was not sure if just the error was enough, so I posted everything just to be sure. </p>\n\n<p>Do any of you know why this error pops up? </p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 2, "creation_date": 1525292503, "post_id": 50142921, "comment_id": 87304058, "body": "The <code>with</code> statement is exception safe. Your alternate use is not."}, {"owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "reply_to_user": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1525292633, "post_id": 50142921, "comment_id": 87304124, "body": "good point @DanD. It&#39;s really only for testing that I want the other use case"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1525293181, "post_id": 50142921, "comment_id": 87304404, "body": "<code>with Context().enter() as context</code> will already raise an exception, since <code>Context().enter()</code> does not return a context manager. Is that not enough?"}, {"owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1525293987, "post_id": 50142921, "comment_id": 87304764, "body": "@user2357112 yes, you&#39;re absolutely right, that&#39;s definitely enough. I hadn&#39;t tried it in the <code>with</code> yet"}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 2, "last_activity_date": 1525293542, "last_edit_date": 1525293542, "creation_date": 1525292712, "answer_id": 50143024, "question_id": 50142921, "link": "https://stackoverflow.com/questions/50142921/prevent-method-from-being-called-twice-in-a-class-that-can-be-called-with-with/50143024#50143024", "title": "Prevent method from being called twice in a class that can be called with &quot;with&quot;", "body": "<p>You are close, however, you can simply raise an error if the contextmanager has already been called, after setting a flag using a decorator. The code below is written so that both <code>enter</code> and <code>__enter__</code> can return the separate variables (<code>True</code> and <code>self</code>) as intended originally and in keeping with the general idea of a contextmanager:</p>\n\n<pre><code>def control_manager(f):\n   def wrapper(cls):\n      if getattr(cls, 'flag'):\n        raise Exception(\"Already expended the context manager\")\n      setattr(cls, 'flag', True)\n      return f(cls)\n   return wrapper\n\nclass Context:\n   def __init__(self):\n     self.flag = False\n   @control_manager\n   def __enter__(self):\n     return self\n   def __exit__(self, *args):\n     pass\n   @control_manager\n   def enter(self):\n     return True\n   def exit(self):\n     #do something\n     pass\n\nwith Context() as f:\n v = f.enter()\n</code></pre>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>Traceback (most recent call last):\n        File \"\", line 2, in \n        File \"\", line 4, in wrapper\n      Exception: Already expended the context manager</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>However, it will work on the second test:</p>\n\n<pre><code>c = Context()\nv = c.enter()\nc.exit()\n</code></pre>\n\n<p>However, if you want to use <code>enter</code> as the main block for the contextmanager in the class, you can treat it as a <code>classmethod</code> with <code>contextlib.contextmanager</code>:</p>\n\n<pre><code>import contextlib\n\nclass Control:\n   flag = False\n   def __init__(self):\n     pass\n   def __enter__(self):\n     with Control.enter() as f:\n       v = f\n     return self\n   def __exit__(self, *args):\n     pass\n   @classmethod\n   @control_manager\n   @contextlib.contextmanager\n   def enter(cls):\n     yield True\n\n\nwith Control() as f:\n  pass\n#runs without exception\n\nwith Control.enter() as t:\n  pass\n</code></pre>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>Traceback (most recent call last):\n        File \"\", line 1, in \n        File \"\", line 4, in wrapper\n      Exception: Already expended the context manager</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 9673864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vh9yG.png?s=128&g=1", "display_name": "wouterio", "link": "https://stackoverflow.com/users/9673864/wouterio"}, "is_accepted": false, "score": 0, "last_activity_date": 1617211006, "creation_date": 1617211006, "answer_id": 66892361, "question_id": 50142921, "link": "https://stackoverflow.com/questions/50142921/prevent-method-from-being-called-twice-in-a-class-that-can-be-called-with-with/66892361#66892361", "title": "Prevent method from being called twice in a class that can be called with &quot;with&quot;", "body": "<p>I like @ehacinom's solution better than @Ajax1234's, because ehacinom's solution keeps the responsibility for the object's integrity within its own class. Ajax1234's solution takes that responsibility to another class, which is generally considered bad practice.</p>\n<p>But I would omit the additional <code>enter</code> and <code>exit</code> methods. These methods may only entice you to use the object outside a <code>with</code> block, which is not a good thing. If you really feel the need to use this object outside a <code>with</code> block, you probably need to reconsider your design.</p>\n<p>ehacinom also forgot the parameters for the <code>exit</code> method. So this would be how I'd implement the class:</p>\n<pre><code>class Context:\n\n    def __init__(self):\n        self.__running= False\n\n    def __enter__(self):\n        if not self.__running:\n            logger.info(&quot;Entering Context object&quot;)\n            # initialize things here\n            self.__running= True\n        else:\n            logger.info(&quot;Already entered Context object&quot;)\n        return self\n\n    def __exit__(self, exc_type, exc_val, exc_tb):\n        if self.__running:\n            logger.info(&quot;Exiting Context object&quot;)\n            # terminate things here\n            self.__running= False\n        else:\n            logger.info(&quot;Already exited Context object&quot;)\n</code></pre>\n"}], "owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1617211006, "creation_date": 1525292343, "question_id": 50142921, "link": "https://stackoverflow.com/questions/50142921/prevent-method-from-being-called-twice-in-a-class-that-can-be-called-with-with", "title": "Prevent method from being called twice in a class that can be called with &quot;with&quot;", "body": "<p>I'm writing a class that can be used with a <code>with</code> statement like so:</p>\n\n<pre><code>with Context() as context:\n    if context:\n        ...\n</code></pre>\n\n<p>The class has an <code>enter</code> function that should only be called once and returns a boolean. I want to prevent it from being called twice (eg <code>with Context().enter() as context</code>):</p>\n\n<pre><code>class Context(object):\n    def __init__(self):\n        self.ENTER_HAS_BEEN_CALLED = False\n\n    def __enter__(self):\n        return self.enter()\n\n    def __exit__(self):\n        self.exit()\n\n    def enter(self):\n        \"\"\"Do things once and only once\n        Returns boolean, not self\n        \"\"\"\n        if self.ENTER_HAS_BEEN_CALLED: \n            # not sure what to do here, return?\n            # call self.exit()?\n\n        self.ENTER_HAS_BEEN_CALLED = True\n\n        # do things that should only be done once\n        value = True # or False\n        return value\n\n    def exit(self):\n        pass\n</code></pre>\n\n<p>Is this the right way to prevent a function from being called twice? I want the return value, and also to allow this code to work:</p>\n\n<pre><code>context_manager = Context()\ncontext = context_manager.enter()\nif context: ...\ncontext_manager.exit()\n</code></pre>\n"}, {"tags": ["python", "int", "marshmallow"], "answers": [{"comments": [{"owner": {"reputation": 1207, "user_id": 1704282, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/74521b29996d85bfb60333d41efa23ae?s=128&d=identicon&r=PG", "display_name": "pelos", "link": "https://stackoverflow.com/users/1704282/pelos"}, "edited": false, "score": 0, "creation_date": 1525357495, "post_id": 50148026, "comment_id": 87332657, "body": "yes,  we found that only works from float to int,  and is been converted as soon it gets to the marshmallow.validate(dict),  we even try a custom validation on the field, but is already converted before getting to the validations per field =(,   I was thinking that strict means,  you can only and ONLY pass ints and nothing else."}, {"owner": {"reputation": 1755, "user_id": 1038007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea2290c08b1e545167a444c6634a3e19?s=128&d=identicon&r=PG", "display_name": "PoP", "link": "https://stackoverflow.com/users/1038007/pop"}, "reply_to_user": {"reputation": 1207, "user_id": 1704282, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/74521b29996d85bfb60333d41efa23ae?s=128&d=identicon&r=PG", "display_name": "pelos", "link": "https://stackoverflow.com/users/1704282/pelos"}, "edited": false, "score": 0, "creation_date": 1525358306, "post_id": 50148026, "comment_id": 87333263, "body": "I think what you said, was in fact the intended behavior. This looks like a bug to me. I&#39;ll open an issue for this on github."}, {"owner": {"reputation": 1207, "user_id": 1704282, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/74521b29996d85bfb60333d41efa23ae?s=128&d=identicon&r=PG", "display_name": "pelos", "link": "https://stackoverflow.com/users/1704282/pelos"}, "edited": false, "score": 0, "creation_date": 1525358660, "post_id": 50148026, "comment_id": 87333494, "body": "thanks, I appreciated,  I didn&#39;t know that was possible to report the bug like that.   =)"}, {"owner": {"reputation": 1755, "user_id": 1038007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea2290c08b1e545167a444c6634a3e19?s=128&d=identicon&r=PG", "display_name": "PoP", "link": "https://stackoverflow.com/users/1038007/pop"}, "reply_to_user": {"reputation": 1207, "user_id": 1704282, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/74521b29996d85bfb60333d41efa23ae?s=128&d=identicon&r=PG", "display_name": "pelos", "link": "https://stackoverflow.com/users/1704282/pelos"}, "edited": false, "score": 1, "creation_date": 1525373477, "post_id": 50148026, "comment_id": 87341892, "body": "@pelos: Looks like this is a known issue. If you are interested see <a href=\"https://github.com/marshmallow-code/marshmallow/pull/755\" rel=\"nofollow noreferrer\">github.com/marshmallow-code/marshmallow/pull/755</a>"}], "tags": [], "owner": {"reputation": 1755, "user_id": 1038007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea2290c08b1e545167a444c6634a3e19?s=128&d=identicon&r=PG", "display_name": "PoP", "link": "https://stackoverflow.com/users/1038007/pop"}, "is_accepted": false, "score": 6, "last_activity_date": 1569523001, "last_edit_date": 1569523001, "creation_date": 1525327675, "answer_id": 50148026, "question_id": 50142866, "link": "https://stackoverflow.com/questions/50142866/python-marshmallow-force-field-int-to-only-accept-int-and-not-strings/50148026#50148026", "title": "python marshmallow force field.int to only accept int and not strings", "body": "<p>Looking at <a href=\"https://github.com/marshmallow-code/marshmallow/blob/dev/marshmallow/fields.py#L668\" rel=\"nofollow noreferrer\">the code</a> I think it's not possible, and I'm surprised by that. I know there is a <em>strict</em> flag you can set, but it only operates in certain cases. Observe:</p>\n\n<pre><code>from marshmallow import *\nfrom  marshmallow.validate import Range\n\nclass MySchema(Schema):\n    number = fields.Integer(strict=True, required=True, validate=[Range(min=1, error=\"Value must be greater than 0\")])\n</code></pre>\n\n<p>It works in this case:</p>\n\n<pre><code>s = MySchema()\ns.dumps({'number': \"123.1\"})\n&gt;&gt;&gt; MarshalResult(data='{}', errors={'number': ['Not a valid integer.']})\n</code></pre>\n\n<p>But not in these case</p>\n\n<pre><code>s.dumps({'number': 123.1})\n&gt;&gt;&gt; MarshalResult(data='{\"number\": 123}', errors={})\n\ns.dumps({'number': \"123\"})\n&gt;&gt;&gt; MarshalResult(data='{\"number\": 123}', errors={})\n</code></pre>\n\n<p>Which I find inconsistent. Perhaps your best bet is writing either a <a href=\"https://marshmallow.readthedocs.io/en/latest/custom_fields.html#custom-fields\" rel=\"nofollow noreferrer\">custom field</a> or a different validator that validates the input before it's passed to your schema.</p>\n\n<p><strong>Update:</strong>\nLooks like the issue is fixed in recent versions of Marshmallow</p>\n"}, {"tags": [], "owner": {"reputation": 9148, "user_id": 488054, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be662083fa964081a855875d1744bcf6?s=128&d=identicon&r=PG", "display_name": "nbarraille", "link": "https://stackoverflow.com/users/488054/nbarraille"}, "is_accepted": false, "score": 3, "last_activity_date": 1568048553, "creation_date": 1568048553, "answer_id": 57858323, "question_id": 50142866, "link": "https://stackoverflow.com/questions/50142866/python-marshmallow-force-field-int-to-only-accept-int-and-not-strings/57858323#57858323", "title": "python marshmallow force field.int to only accept int and not strings", "body": "<p>If you read this now, setting <code>strict=True</code> on the field will work</p>\n"}], "owner": {"reputation": 1207, "user_id": 1704282, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/74521b29996d85bfb60333d41efa23ae?s=128&d=identicon&r=PG", "display_name": "pelos", "link": "https://stackoverflow.com/users/1704282/pelos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6434, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1569523001, "creation_date": 1525292145, "last_edit_date": 1525293186, "question_id": 50142866, "link": "https://stackoverflow.com/questions/50142866/python-marshmallow-force-field-int-to-only-accept-int-and-not-strings", "title": "python marshmallow force field.int to only accept int and not strings", "body": "<p>I have a marshmallow integer field, but very strange when I pass the data \nas {number:\"123\"}  also works,  as if was an integer,  I would assume that internally is making the conversion to int,  but don't want that  I want to force the user to use INT all the time so there is no confusion of what data types can accept,  is there a way or parameter for that?</p>\n\n<pre><code>number = fields.Integer(required=True,\n                        validate=Range(min=1, error=\"Value must be greater than 0\"))\n</code></pre>\n\n<p>thanks for the help guys.</p>\n"}, {"tags": ["python", "pyomo"], "answers": [{"comments": [{"owner": {"reputation": 835, "user_id": 4629624, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/218b21a18c900e28e458c815f9c04f5b?s=128&d=identicon&r=PG&f=1", "display_name": "V. Brunelle", "link": "https://stackoverflow.com/users/4629624/v-brunelle"}, "edited": false, "score": 0, "creation_date": 1525382077, "post_id": 50146514, "comment_id": 87345855, "body": "Sorry, I get the following message while trying with gurobi. <code>RuntimeError: Attempting to use an unavailable solver.  The SolverFactory was unable to create the solver &quot;gurobi&quot; and returned an UnknownSolver object.  This error is raised at the point where the UnknownSolver object was used as if it were valid (by calling method &quot;solve&quot;).  The original solver was created with the following parameters: \tsolver_io: direct \ttype: gurobi \t_args: () \toptions: {} </code>"}, {"owner": {"reputation": 1478, "user_id": 1557256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/WStyh.jpg?s=128&g=1", "display_name": "Qi Chen", "link": "https://stackoverflow.com/users/1557256/qi-chen"}, "reply_to_user": {"reputation": 835, "user_id": 4629624, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/218b21a18c900e28e458c815f9c04f5b?s=128&d=identicon&r=PG&f=1", "display_name": "V. Brunelle", "link": "https://stackoverflow.com/users/4629624/v-brunelle"}, "edited": false, "score": 0, "creation_date": 1525448446, "post_id": 50146514, "comment_id": 87374430, "body": "Are the gurobi python bindings installed for the python environment that you&#39;re using with Pyomo? How did you install Pyomo?"}, {"owner": {"reputation": 835, "user_id": 4629624, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/218b21a18c900e28e458c815f9c04f5b?s=128&d=identicon&r=PG&f=1", "display_name": "V. Brunelle", "link": "https://stackoverflow.com/users/4629624/v-brunelle"}, "edited": false, "score": 0, "creation_date": 1525448934, "post_id": 50146514, "comment_id": 87374707, "body": "Gurobi is installed. I installed Pyomo using Anaconda packages. Then, I ran command line <code>conda config --add channels http:&#47;&#47;conda.anaconda.org&#47;gurobi</code> and <code>conda install gurobi</code> on my Windows environnement cmd (following the indications of <a href=\"http://www.gurobi.com/downloads/get-anaconda\" rel=\"nofollow noreferrer\">gurobi.com/downloads/get-anaconda</a>). Are you suggesting that my Python Gurobi installation might be incomplete?"}, {"owner": {"reputation": 1478, "user_id": 1557256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/WStyh.jpg?s=128&g=1", "display_name": "Qi Chen", "link": "https://stackoverflow.com/users/1557256/qi-chen"}, "reply_to_user": {"reputation": 835, "user_id": 4629624, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/218b21a18c900e28e458c815f9c04f5b?s=128&d=identicon&r=PG&f=1", "display_name": "V. Brunelle", "link": "https://stackoverflow.com/users/4629624/v-brunelle"}, "edited": false, "score": 0, "creation_date": 1525463620, "post_id": 50146514, "comment_id": 87381729, "body": "I think that for some reason, Pyomo is not able to find your Gurobi installation. There might be a linking missing. What happens when you open a python terminal and try to <code>import gurobipy</code>?"}, {"owner": {"reputation": 835, "user_id": 4629624, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/218b21a18c900e28e458c815f9c04f5b?s=128&d=identicon&r=PG&f=1", "display_name": "V. Brunelle", "link": "https://stackoverflow.com/users/4629624/v-brunelle"}, "edited": false, "score": 0, "creation_date": 1525464884, "post_id": 50146514, "comment_id": 87382297, "body": "After pressing enter, it doesn&#39;t give me any error, but it doesn&#39;t tell me anything. I can input an other line. However, I still have the same issue while solving the problem. Can it be because another solver name must be provided (ex: &quot;PythonGurobi&quot;)? I also suspect my own installation of Python Gurobi. Let me try to find if it is really installed."}], "tags": [], "owner": {"reputation": 1478, "user_id": 1557256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/WStyh.jpg?s=128&g=1", "display_name": "Qi Chen", "link": "https://stackoverflow.com/users/1557256/qi-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1525318268, "creation_date": 1525318268, "answer_id": 50146514, "question_id": 50142846, "link": "https://stackoverflow.com/questions/50142846/how-to-change-pyomo-solver-interface/50146514#50146514", "title": "How to change Pyomo solver interface", "body": "<p>Try using <code>SolverFactory('gurobi', solver_io='direct')</code></p>\n"}, {"comments": [{"owner": {"reputation": 835, "user_id": 4629624, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/218b21a18c900e28e458c815f9c04f5b?s=128&d=identicon&r=PG&f=1", "display_name": "V. Brunelle", "link": "https://stackoverflow.com/users/4629624/v-brunelle"}, "edited": false, "score": 0, "creation_date": 1525801352, "post_id": 50237462, "comment_id": 87496069, "body": "Will both solutions produce the same result: direct solver will be used?"}, {"owner": {"reputation": 1336, "user_id": 6749874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOf6N.png?s=128&g=1", "display_name": "jsiirola", "link": "https://stackoverflow.com/users/6749874/jsiirola"}, "reply_to_user": {"reputation": 835, "user_id": 4629624, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/218b21a18c900e28e458c815f9c04f5b?s=128&d=identicon&r=PG&f=1", "display_name": "V. Brunelle", "link": "https://stackoverflow.com/users/4629624/v-brunelle"}, "edited": false, "score": 1, "creation_date": 1525805211, "post_id": 50237462, "comment_id": 87498107, "body": "Yes. Both routes return a <code>pyomo.solvers.plugins.solvers.gurobi_direct.GurobiDirect</code> object."}], "tags": [], "owner": {"reputation": 1336, "user_id": 6749874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOf6N.png?s=128&g=1", "display_name": "jsiirola", "link": "https://stackoverflow.com/users/6749874/jsiirola"}, "is_accepted": true, "score": 1, "last_activity_date": 1525793939, "creation_date": 1525793939, "answer_id": 50237462, "question_id": 50142846, "link": "https://stackoverflow.com/questions/50142846/how-to-change-pyomo-solver-interface/50237462#50237462", "title": "How to change Pyomo solver interface", "body": "<p>You can either create the direct solver explicitly:</p>\n\n<pre><code>from pyomo.environ import SolverFactory\nsolver = SolverFactory('gurobi_direct')\n</code></pre>\n\n<p>or with using the \"<code>python</code>\" IO option to the Gurobi \"metasolver\":</p>\n\n<pre><code>solver = SolverFactory('gurobi', solver_io='python')\n</code></pre>\n"}], "owner": {"reputation": 835, "user_id": 4629624, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/218b21a18c900e28e458c815f9c04f5b?s=128&d=identicon&r=PG&f=1", "display_name": "V. Brunelle", "link": "https://stackoverflow.com/users/4629624/v-brunelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 1, "accepted_answer_id": 50237462, "answer_count": 2, "score": 1, "last_activity_date": 1525794281, "creation_date": 1525292045, "last_edit_date": 1525794281, "question_id": 50142846, "link": "https://stackoverflow.com/questions/50142846/how-to-change-pyomo-solver-interface", "title": "How to change Pyomo solver interface", "body": "<p>Using Pyomo, instead of creating a file that is to be sent to the solver, I want to start using the Python interface of solvers that are compatible (i.e. CPLEX or GUROBI). What is the default solver interface when not specified, and how can someone specify the wanted solver interface within this code?:</p>\n\n<pre><code>opt = SolverFactory('gurobi')\nresults = opt.solve(model, options= solverOptions)\n</code></pre>\n"}, {"tags": ["php", "python", "regex", "parameters"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 2, "creation_date": 1525292631, "post_id": 50142835, "comment_id": 87304122, "body": "Code smells and SQL injection. I can <b>very easily</b> login as any user in your system."}, {"owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 2, "creation_date": 1525292791, "post_id": 50142835, "comment_id": 87304212, "body": "I told this is for DVWA! @ctwheels"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525292992, "post_id": 50142835, "comment_id": 87304305, "body": "Well this one takes the medal cause my username is <code>&#39; or 1=1;</code>"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525293156, "post_id": 50142835, "comment_id": 87304390, "body": "What happens when you do <code>var_dump($_POST);</code>? Also, instead of escaping all the <code>&quot;</code> in your HTML code, just use a <a href=\"http://php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc\" rel=\"nofollow noreferrer\">heredoc</a> or <a href=\"http://php.net/manual/en/language.types.string.php#language.types.string.syntax.nowdoc\" rel=\"nofollow noreferrer\">nowdoc</a>."}, {"owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 1, "creation_date": 1525294183, "post_id": 50142835, "comment_id": 87304856, "body": "Do you know what is DVWA? I doubt you understand my question @ctwheels"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525295300, "post_id": 50142835, "comment_id": 87305336, "body": "Yes I understand that you want to get variables that the user <i>posts</i> from the form to the server. I\u2019m telling you to <code>var_dump</code> the <code>$_POST</code> variable"}, {"owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525295937, "post_id": 50142835, "comment_id": 87305587, "body": "As I said, <code>login.php</code> is not my code. I just wrote the python script. In my script, I can open <code>login.php</code>, but I don&#39;t know how can I use <code>var_dump</code> in my script. @ctwheels"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525297677, "post_id": 50142835, "comment_id": 87306311, "body": "It\u2019s not clear what the relationship is between both scripts and how you expect to get the value of variables by simply reading the file in as a text file. You can\u2019t read in values of variables if they\u2019re not set and they\u2019re not set if the script doesn\u2019t execute. Please clarify your intent and logic."}, {"owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525327822, "post_id": 50142835, "comment_id": 87314201, "body": "I told my intent in the last three lines. Just tell me how to get &#39;session_token&#39; from <code>$_SESSION[ &#39;session_token&#39; ]</code>. In fact, suppose that I have <code>ABC[&#39;DEF&#39;]</code>. I just wanna get the text &#39;DEF&#39;. @ctwheels"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525342133, "post_id": 50142835, "comment_id": 87322362, "body": "sorry, it\u2019s not clear... Are you parsing this text to get all <i>variable names</i> in plaintext format, or, in the case of superglobal variables like <code>$_POST</code>, to get the array key instead of the variable name with the array key? If so, which variables do you consider <i>superglobal</i>? I\u2019m assuming only the variables outlined in PHP\u2019s <a href=\"http://php.net/manual/en/language.variables.superglobals.php\" rel=\"nofollow noreferrer\">superglobal variables</a> documentation page: <code>GLOBALS</code>, <code>SERVER</code>, <code>GET</code>, <code>POST</code>, <code>FILES</code>, <code>COOKIE</code>, <code>SESSION</code>, <code>REQUEST</code>, and <code>ENV</code>? It\u2019s not clear in your question if you consider other superglobals"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525358445, "post_id": 50142835, "comment_id": 87333359, "body": "P.S. No I didn&#39;t understand your question because <b>it&#39;s not clear</b>, hence why I needed to ask many more to get proper details in order to better assist you."}, {"owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525454530, "post_id": 50142835, "comment_id": 87377446, "body": "I want to get all variable names @ctwheels"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525458043, "post_id": 50142835, "comment_id": 87379180, "body": "Can you add the expected output to your question? That way I get a clear understanding of exactly what you expect. At the moment it&#39;s unclear <b>exactly</b> what you anticipate as the result."}, {"owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525458858, "post_id": 50142835, "comment_id": 87379600, "body": "I edited @ctwheels"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525459873, "post_id": 50142835, "comment_id": 87380099, "body": "Does <code>(\\$\\w+)(?:\\[[^&#39;&quot;]*[&#39;&quot;]([^&#39;&quot;]*))?</code> work for you? If the second capture group is set, use that value, otherwise the result is in the first capture group."}, {"owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525462455, "post_id": 50142835, "comment_id": 87381208, "body": "No, the result is something like this: <code>$_POST[ &#39;Login</code> and so forth. @ctwheels"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525462609, "post_id": 50142835, "comment_id": 87381280, "body": "No, that&#39;s the match. You need to grab the <b>capture group</b> as I specified in my last comment."}, {"owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525468193, "post_id": 50142835, "comment_id": 87383608, "body": "This is better: <code>(\\$\\w+)(?:\\[[^\\&#39;&quot;]*[\\&#39;&quot;][^\\&#39;&quot;]*[\\&#39;&quot;][^\\&#39;&quot;]*\\])?</code> @ctwheels"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1525468369, "post_id": 50142835, "comment_id": 87383668, "body": "It was fine the way I had it, just use <code>r\u201d\u201d\u201d</code>"}], "owner": {"reputation": 69, "user_id": 3080024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f3cd11dff47fc3c655de71ce6bae92f?s=128&d=identicon&r=PG&f=1", "display_name": "ThisIsMe", "link": "https://stackoverflow.com/users/3080024/thisisme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525458822, "creation_date": 1525292014, "last_edit_date": 1525458822, "question_id": 50142835, "link": "https://stackoverflow.com/questions/50142835/how-to-get-php-superglobal-variables-inputs", "title": "How to get PHP superglobal variables inputs?", "body": "<p>Consider the following <code>login.php</code> which is for <a href=\"http://www.dvwa.co.uk/\" rel=\"nofollow noreferrer\">DVWA</a>:</p>\n\n<pre><code>&lt;?php\n\ndefine( 'DVWA_WEB_PAGE_TO_ROOT', '' );\nrequire_once DVWA_WEB_PAGE_TO_ROOT . 'dvwa/includes/dvwaPage.inc.php';\n\ndvwaPageStartup( array( 'phpids' ) );\n\ndvwaDatabaseConnect();\n\nif( isset( $_POST[ 'Login' ] ) ) {\n    // Anti-CSRF\n    checkToken( $_REQUEST[ 'user_token' ], $_SESSION[ 'session_token' ], 'login.php' );\n\n    $user = $_POST[ 'username' ];\n    $user = stripslashes( $user );\n    $user = ((isset($GLOBALS[\"___mysqli_ston\"]) &amp;&amp; is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_real_escape_string($GLOBALS[\"___mysqli_ston\"],  $user ) : ((trigger_error(\"[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\", E_USER_ERROR)) ? \"\" : \"\"));\n\n    $pass = $_POST[ 'password' ];\n    $pass = stripslashes( $pass );\n    $pass = ((isset($GLOBALS[\"___mysqli_ston\"]) &amp;&amp; is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_real_escape_string($GLOBALS[\"___mysqli_ston\"],  $pass ) : ((trigger_error(\"[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\", E_USER_ERROR)) ? \"\" : \"\"));\n    $pass = md5( $pass );\n\n    $query = (\"SELECT table_schema, table_name, create_time\n                FROM information_schema.tables\n                WHERE table_schema='{$_DVWA['db_database']}' AND table_name='users'\n                LIMIT 1\");\n    $result = @mysqli_query($GLOBALS[\"___mysqli_ston\"],  $query );\n    if( mysqli_num_rows( $result ) != 1 ) {\n        dvwaMessagePush( \"First time using DVWA.&lt;br /&gt;Need to run 'setup.php'.\" );\n        dvwaRedirect( DVWA_WEB_PAGE_TO_ROOT . 'setup.php' );\n    }\n\n    $query  = \"SELECT * FROM `users` WHERE user='$user' AND password='$pass';\";\n    $result = @mysqli_query($GLOBALS[\"___mysqli_ston\"],  $query ) or die( '&lt;pre&gt;' . ((is_object($GLOBALS[\"___mysqli_ston\"])) ? mysqli_error($GLOBALS[\"___mysqli_ston\"]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . '.&lt;br /&gt;Try &lt;a href=\"setup.php\"&gt;installing again&lt;/a&gt;.&lt;/pre&gt;' );\n    if( $result &amp;&amp; mysqli_num_rows( $result ) == 1 ) {    // Login Successful...\n        dvwaMessagePush( \"You have logged in as '{$user}'\" );\n        dvwaLogin( $user );\n        dvwaRedirect( DVWA_WEB_PAGE_TO_ROOT . 'index.php' );\n    }\n\n    // Login failed\n    dvwaMessagePush( 'Login failed' );\n    dvwaRedirect( 'login.php' );\n}\n\n$messagesHtml = messagesPopAllToHtml();\n\nHeader( 'Cache-Control: no-cache, must-revalidate');    // HTTP/1.1\nHeader( 'Content-Type: text/html;charset=utf-8' );      // TODO- proper XHTML headers...\nHeader( 'Expires: Tue, 23 Jun 2009 12:00:00 GMT' );     // Date in the past\n\n// Anti-CSRF\ngenerateSessionToken();\n\necho \"\n&lt;!DOCTYPE html PUBLIC \\\"-//W3C//DTD XHTML 1.0 Strict//EN\\\" \\\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\\\"&gt;\n\n&lt;html xmlns=\\\"http://www.w3.org/1999/xhtml\\\"&gt;\n\n    &lt;head&gt;\n\n        &lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=UTF-8\\\" /&gt;\n\n        &lt;title&gt;Login :: Damn Vulnerable Web Application (DVWA) v\" . dvwaVersionGet() . \"&lt;/title&gt;\n\n        &lt;link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\" . DVWA_WEB_PAGE_TO_ROOT . \"dvwa/css/login.css\\\" /&gt;\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n    &lt;div id=\\\"wrapper\\\"&gt;\n\n    &lt;div id=\\\"header\\\"&gt;\n\n    &lt;br /&gt;\n\n    &lt;p&gt;&lt;img src=\\\"\" . DVWA_WEB_PAGE_TO_ROOT . \"dvwa/images/login_logo.png\\\" /&gt;&lt;/p&gt;\n\n    &lt;br /&gt;\n\n    &lt;/div&gt; &lt;!--&lt;div id=\\\"header\\\"&gt;--&gt;\n\n    &lt;div id=\\\"content\\\"&gt;\n\n    &lt;form action=\\\"login.php\\\" method=\\\"post\\\"&gt;\n\n    &lt;fieldset&gt;\n\n            &lt;label for=\\\"user\\\"&gt;Username&lt;/label&gt; &lt;input type=\\\"text\\\" class=\\\"loginInput\\\" size=\\\"20\\\" name=\\\"username\\\"&gt;&lt;br /&gt;\n\n\n            &lt;label for=\\\"pass\\\"&gt;Password&lt;/label&gt; &lt;input type=\\\"password\\\" class=\\\"loginInput\\\" AUTOCOMPLETE=\\\"off\\\" size=\\\"20\\\" name=\\\"password\\\"&gt;&lt;br /&gt;\n\n            &lt;br /&gt;\n\n            &lt;p class=\\\"submit\\\"&gt;&lt;input type=\\\"submit\\\" value=\\\"Login\\\" name=\\\"Login\\\"&gt;&lt;/p&gt;\n\n    &lt;/fieldset&gt;\n\n    \" . tokenField() . \"\n\n    &lt;/form&gt;\n\n    &lt;br /&gt;\n\n    {$messagesHtml}\n\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n\n    &lt;!-- &lt;img src=\\\"\" . DVWA_WEB_PAGE_TO_ROOT . \"dvwa/images/RandomStorm.png\\\" /&gt; --&gt;\n    &lt;/div &gt; &lt;!--&lt;div id=\\\"content\\\"&gt;--&gt;\n\n    &lt;div id=\\\"footer\\\"&gt;\n\n    &lt;p&gt;\" . dvwaExternalLinkUrlGet( 'http://www.dvwa.co.uk/', 'Damn Vulnerable Web Application (DVWA)' ) . \"&lt;/p&gt;\n\n    &lt;/div&gt; &lt;!--&lt;div id=\\\"footer\\\"&gt; --&gt;\n\n    &lt;/div&gt; &lt;!--&lt;div id=\\\"wrapper\\\"&gt; --&gt;\n\n    &lt;/body&gt;\n\n&lt;/html&gt;\";\n\n?&gt;\n</code></pre>\n\n<p>I want to get all parameters which <strong>user</strong> sends them to the server, for instance when user enters his/her username and password, he/she sends these two parameters: 'username' and 'password'. I wrote a simple python script which gives me all variables in the <code>login.php</code>:</p>\n\n<pre><code>import re\n\ntextfile = open('login.php', 'r')\nfiletext = textfile.read()\ntextfile.close()\nmatches = re.findall(\"\\$[A-Za-z0-9-_'\\\"\\[\\] ]+\", filetext)\nprint(\"\\n\".join(list(set(matches))))\n</code></pre>\n\n<p>The output of this script is:</p>\n\n<pre><code>$user \n$_DVWA['db_database']\n$user' AND password\n$query  \n$messagesHtml\n$GLOBALS[\"___mysqli_ston\"]\n$messagesHtml \n$user\n$___mysqli_res \n$pass'\n$query \n$_REQUEST[ 'user_token' ]\n$result \n$_POST[ 'username' ]\n$_SESSION[ 'session_token' ]\n$_POST[ 'Login' ] \n$_POST[ 'password' ]\n$pass\n</code></pre>\n\n<p>But actually, I do not need all of them. For instance in the <code>$_POST[ 'password' ]</code>, I just want to get 'password' and in the <code>$_SESSION[ 'session_token' ]</code>, I just want to get 'session_token'. In fact, I want to get all client-side parameters (Suppose that I have ABC['DEF']. I just wanna get the text 'DEF'). I don't know how to do this.</p>\n"}, {"tags": ["python", "terminal", "visual-studio-code"], "comments": [{"owner": {"reputation": 9571, "user_id": 236574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8600d16ba667cc8d7f00ddc9f254340?s=128&d=identicon&r=PG", "display_name": "Brett Cannon", "link": "https://stackoverflow.com/users/236574/brett-cannon"}, "edited": false, "score": 0, "creation_date": 1525376841, "post_id": 50142832, "comment_id": 87343495, "body": "What do you mean by &quot;anaconda Python console&quot;? Do you mean the REPL from Python or IPython from the integrated terminal in VS Code?"}, {"owner": {"reputation": 1673, "user_id": 657147, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93fed470320337292c6bad0654f43cb6?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/657147/fred"}, "reply_to_user": {"reputation": 9571, "user_id": 236574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8600d16ba667cc8d7f00ddc9f254340?s=128&d=identicon&r=PG", "display_name": "Brett Cannon", "link": "https://stackoverflow.com/users/236574/brett-cannon"}, "edited": false, "score": 0, "creation_date": 1525381243, "post_id": 50142832, "comment_id": 87345542, "body": "Please see updated question.  I am new so not sure what you mean. Hope above helps.  Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 9571, "user_id": 236574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8600d16ba667cc8d7f00ddc9f254340?s=128&d=identicon&r=PG", "display_name": "Brett Cannon", "link": "https://stackoverflow.com/users/236574/brett-cannon"}, "is_accepted": false, "score": 0, "last_activity_date": 1525548070, "creation_date": 1525548070, "answer_id": 50193208, "question_id": 50142832, "link": "https://stackoverflow.com/questions/50142832/how-do-i-cycle-to-previous-command-in-vscode-python-terminal/50193208#50193208", "title": "How do I cycle to previous command in VSCode Python Terminal", "body": "<p>Neither the Python extension or VS Code play any part in that. Instead, it has to do with what Anaconda provides with their Python interpreters (i.e. they must not be including <code>readline</code>).</p>\n\n<p>I would give <code>ipython</code> a try and see if that does what you are after.</p>\n"}], "owner": {"reputation": 1673, "user_id": 657147, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93fed470320337292c6bad0654f43cb6?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/657147/fred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 494, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525548070, "creation_date": 1525292009, "last_edit_date": 1525471142, "question_id": 50142832, "link": "https://stackoverflow.com/questions/50142832/how-do-i-cycle-to-previous-command-in-vscode-python-terminal", "title": "How do I cycle to previous command in VSCode Python Terminal", "body": "<p>In the integrated Power Shell terminal in VSCode in Windows 10, I can type a command, and then re-type it again at the prompt by pressing the up arrow key.</p>\n\n<p>How do I get the same behavior in the integrated anaconda Python console?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/38545014/vscode-terminal-previous-commands\">This</a> is a related question, though not applicable to the Python console.</p>\n\n<p>Here are the steps to replicate the issue:</p>\n\n<ol>\n<li>Launch Anaconda Navigator, and select vscode</li>\n<li>Open <code>.py</code> file in vscode</li>\n<li>Run file <code>ctrl + shift +F</code></li>\n<li>Go to terminal.  At prompt enter <code>python</code></li>\n</ol>\n\n<blockquote>\n  <p>PS C:\\Users\\Fred\\Desktop\\pandas> python\n  Python 3.6.5 |Anaconda, Inc.| (default, Mar 29 2018, 13:32:41) [MSC v.1900 64 bit (AMD64)] on win32\n  Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.<br>\n  >>></p>\n</blockquote>\n\n<ol start=\"5\">\n<li>At python prompt enter <code>2+2</code> + enter</li>\n<li>At python prompt enter up <code>up arrow</code>.  Nthing happens.  Expected to get last command <code>2+2</code>.</li>\n</ol>\n"}, {"tags": ["python", "arrays", "comparison", "inequality"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 4, "creation_date": 1525292053, "post_id": 50142829, "comment_id": 87303834, "body": "So what does it mean for one array to be &quot;greater&quot; than another array? Your question is very vague. Can you show us an example, two input arrays and the result of the comparison?"}, {"owner": {"reputation": 13722, "user_id": 5325862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cF7Mi.png?s=128&g=1", "display_name": "camille", "link": "https://stackoverflow.com/users/5325862/camille"}, "edited": false, "score": 0, "creation_date": 1525292571, "post_id": 50142829, "comment_id": 87304091, "body": "In order to post a question folks can help you with, you should include some data to work with, and some of the &quot;almost everything&quot; that you&#39;ve tried that failed to work"}, {"owner": {"reputation": 1, "user_id": 6360454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bf3c8bf3ff62fdda3c9f9dc53311a3?s=128&d=identicon&r=PG&f=1", "display_name": "shining2014", "link": "https://stackoverflow.com/users/6360454/shining2014"}, "edited": false, "score": 0, "creation_date": 1525297188, "post_id": 50142829, "comment_id": 87306123, "body": "for example a = [1, 2, 3], b= [4, 5, 6], then b is greater than a (what i meant)"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 9213258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785741d74d7e9cfc982abbdcaeca9979?s=128&d=identicon&r=PG", "display_name": "Jibbril", "link": "https://stackoverflow.com/users/9213258/jibbril"}, "is_accepted": false, "score": 1, "last_activity_date": 1525292877, "creation_date": 1525292877, "answer_id": 50143053, "question_id": 50142829, "link": "https://stackoverflow.com/questions/50142829/how-to-compare-two-arrays-for-inequality-in-python-greater-for-example/50143053#50143053", "title": "how to compare two arrays for inequality in python? (greater for example)", "body": "<p>Not quite sure what you mean but if you're simply looking to check whether two arrays (in python they're called lists) are identical it can be done like this:</p>\n\n<pre><code>lst_1 = [1,2,3]\nlst_2 = [1,2,3]\n\nif lst_1 == lst_2:\n    print(\"They were the same!\")\nelse:\n    print(\"They weren't the same!\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6360454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bf3c8bf3ff62fdda3c9f9dc53311a3?s=128&d=identicon&r=PG&f=1", "display_name": "shining2014", "link": "https://stackoverflow.com/users/6360454/shining2014"}, "edited": false, "score": 0, "creation_date": 1525297323, "post_id": 50143127, "comment_id": 87306174, "body": "yepp, but i&#39;m looking whether there is a ready function or library for that"}, {"owner": {"reputation": 133, "user_id": 986454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SM6ao.png?s=128&g=1", "display_name": "Thirsty_Crow", "link": "https://stackoverflow.com/users/986454/thirsty-crow"}, "reply_to_user": {"reputation": 1, "user_id": 6360454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bf3c8bf3ff62fdda3c9f9dc53311a3?s=128&d=identicon&r=PG&f=1", "display_name": "shining2014", "link": "https://stackoverflow.com/users/6360454/shining2014"}, "edited": false, "score": 0, "creation_date": 1525303831, "post_id": 50143127, "comment_id": 87307975, "body": "If you could convert your data into a Pandas Dataframe, then you could use this: <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.equals.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>  If you want to take the numpy path, then use this: <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.logic.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy-1.13.0/reference/routines.logic.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 1, "user_id": 6360454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bf3c8bf3ff62fdda3c9f9dc53311a3?s=128&d=identicon&r=PG&f=1", "display_name": "shining2014", "link": "https://stackoverflow.com/users/6360454/shining2014"}, "edited": false, "score": 0, "creation_date": 1525427963, "post_id": 50143127, "comment_id": 87361544, "body": "Yepp it worked, thanks man!"}], "tags": [], "owner": {"reputation": 133, "user_id": 986454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SM6ao.png?s=128&g=1", "display_name": "Thirsty_Crow", "link": "https://stackoverflow.com/users/986454/thirsty-crow"}, "is_accepted": true, "score": 0, "last_activity_date": 1525293194, "creation_date": 1525293194, "answer_id": 50143127, "question_id": 50142829, "link": "https://stackoverflow.com/questions/50142829/how-to-compare-two-arrays-for-inequality-in-python-greater-for-example/50143127#50143127", "title": "how to compare two arrays for inequality in python? (greater for example)", "body": "<p>Doing a straightaway comparision wont work(and probably wouldn't make sense either).</p>\n\n<p>For Example following outputs <em>True</em>:</p>\n\n<pre><code>arr1 = [1, 4, 5]\narr2 = [2, 3, 4]\nprint(arr1 &gt; arr2)\n</code></pre>\n\n<p>You could however try something like this:</p>\n\n<pre><code>arr1 = [1, 2, 3]\narr2 = [2, 3, 4]\n\ncount = 0\nfor i in range(len(arr1)):\n    if(arr1[i] &lt; arr2[i]):\n        count += 1\n\nif(count == len(arr1)):\n    print(\"Greater for sure\")\nelse:\n    print(\"unsure\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6360454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bf3c8bf3ff62fdda3c9f9dc53311a3?s=128&d=identicon&r=PG&f=1", "display_name": "shining2014", "link": "https://stackoverflow.com/users/6360454/shining2014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5283, "favorite_count": 0, "closed_date": 1525340977, "accepted_answer_id": 50143127, "answer_count": 2, "score": -1, "last_activity_date": 1525297484, "creation_date": 1525291991, "last_edit_date": 1525297484, "question_id": 50142829, "link": "https://stackoverflow.com/questions/50142829/how-to-compare-two-arrays-for-inequality-in-python-greater-for-example", "closed_reason": "Needs details or clarity", "title": "how to compare two arrays for inequality in python? (greater for example)", "body": "<p>does anybody know how to do comparison between two arrays in python? I almost tried everything but didn't work out. Could some body help?\nwhat i mean is that for all the elements one array/list is greater in same shape for both arrays;</p>\n\n<p>(<code>a = numpy.array([[1, 2, 3]]\nb = numpy.array([[4, 5, 6]]))</code></p>\n\n<p>then b is greater than a</p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 8541, "user_id": 8366499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z9t89.jpg?s=128&g=1", "display_name": "divibisan", "link": "https://stackoverflow.com/users/8366499/divibisan"}, "edited": false, "score": 0, "creation_date": 1525293227, "post_id": 50142776, "comment_id": 87304427, "body": "What is going wrong? Are you getting errors? Is it performing in ways you don&#39;t expect? If so, how do you expect it to work? People here love to help, but you&#39;ve got to give us enough information to figure out what&#39;s wrong."}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1525298547, "post_id": 50142776, "comment_id": 87306597, "body": "<code>GRAV =+ 1</code> and <code>GRAV =-2</code> set your variable to the constant values 1 and -2, respectively.  You probably want <code>+=</code>, <code>-=</code> here."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1525303547, "post_id": 50142776, "comment_id": 87307896, "body": "What does &quot;isn&#39;t working&quot; mean? Does the program crash? Is the gravity too strong? Too weak? Something else?"}, {"owner": {"reputation": 11, "user_id": 9732155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6awu.jpg?s=128&g=1", "display_name": "Rauligio", "link": "https://stackoverflow.com/users/9732155/rauligio"}, "edited": false, "score": 0, "creation_date": 1528126187, "post_id": 50142776, "comment_id": 88377721, "body": "The program runs, but the sprite that i nicknamed &quot;dude&quot; does not fall, nor ascends, nor moves left/right. Sorry for the lack of info, I am quite new to this website"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9732155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6awu.jpg?s=128&g=1", "display_name": "Rauligio", "link": "https://stackoverflow.com/users/9732155/rauligio"}, "edited": false, "score": 0, "creation_date": 1529980922, "post_id": 50144108, "comment_id": 89060378, "body": "question for future refrence: does the return dude in c.find_overlapping(*c.bbox(floor)) return true/false? I might try codeacademy again, as I don&#39;t understand half of a trillionth of python, and that isn&#39;t including all the plugins (pygame, time, etc.). Thanks"}, {"owner": {"reputation": 11, "user_id": 9732155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6awu.jpg?s=128&g=1", "display_name": "Rauligio", "link": "https://stackoverflow.com/users/9732155/rauligio"}, "edited": false, "score": 0, "creation_date": 1529981159, "post_id": 50144108, "comment_id": 89060442, "body": "return dude in c.find_overlapping(c.bbox(floor))"}, {"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "reply_to_user": {"reputation": 11, "user_id": 9732155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6awu.jpg?s=128&g=1", "display_name": "Rauligio", "link": "https://stackoverflow.com/users/9732155/rauligio"}, "edited": false, "score": 0, "creation_date": 1530039705, "post_id": 50144108, "comment_id": 89090594, "body": "Yes, @Rauligio, the key operation is <code>in</code> which returns a boolean -- that boolean result is then returned as the value of the function."}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1525298074, "creation_date": 1525298074, "answer_id": 50144108, "question_id": 50142776, "link": "https://stackoverflow.com/questions/50142776/grav-variable-not-working/50144108#50144108", "title": "GRAV variable not working?", "body": "<p>I don't believe this is a one line fix as there are multiple problems with your code that have to do with tkinter and not necessary your gravity issue:</p>\n\n<ul>\n<li><p>What is <code>self.rect.colliderect()</code>, a PyGame artifact?</p></li>\n<li><p><code>c.bind_all('&lt;key&gt;', move_dude)</code> should probably use <code>&lt;Key&gt;</code></p></li>\n<li><p><code>move_dude()</code> seems to be an inner function to avoid declaring\n<code>Q_PRESSED</code> global.</p></li>\n<li><p>There's no call to <code>mainloop()</code>.</p></li>\n</ul>\n\n<p>My minimal rework of your code to demonstrate the movement I believe you were trying to achieve:</p>\n\n<pre><code>from tkinter import *\n\nHEIGHT = 500\nWIDTH = 800\nGRAVITY = 0\n\ndef is_collided_with(dude, floor):\n    return dude in c.find_overlapping(*c.bbox(floor))\n\ndef move_dude(event):\n    global GRAVITY\n\n    if is_collided_with(dude_id, floor_id):\n        GRAVITY = 0\n    else:\n        GRAVITY += 1\n\n    if event.keysym == 'q':\n        exit()\n\n    if event.keysym == 'Left':\n        c.move(dude_id, -10, GRAVITY)\n    elif event.keysym == 'Right':\n        c.move(dude_id, 10, GRAVITY)\n\n# to make the window\nwindow = Tk()\nwindow.title(\"jumpy jump\")\n\nc = Canvas(window, width=WIDTH, height=HEIGHT, bg='white')\nc.pack()\n\n# to create the sprite\ndude_id = c.create_rectangle(0, 30, 15, 100, outline='green', fill='green')\nc.move(dude_id, WIDTH / 2, HEIGHT / 2)\n\nfloor_id = c.create_rectangle(0, 485, 800, 500, fill='black')\n\nc.bind_all('&lt;Key&gt;', move_dude)\n\nwindow.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9732155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6awu.jpg?s=128&g=1", "display_name": "Rauligio", "link": "https://stackoverflow.com/users/9732155/rauligio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525303634, "creation_date": 1525291792, "last_edit_date": 1525303634, "question_id": 50142776, "link": "https://stackoverflow.com/questions/50142776/grav-variable-not-working", "title": "GRAV variable not working?", "body": "<p>this program isn't working, and I have tried to change whatever seemed wrong to me. I am trying to simply make a game where gravity works, and do not know if I need to change everything, or just two quote marks to two apostrophes </p>\n\n<pre><code>from tkinter import *\nHEIGHT = 500\nWIDTH = 800\nGRAV = 0\nQ_PRESSED = False\n# to make the window\nwindow = Tk()\nwindow.title(\"jumpy jump\")\nc = Canvas(window, width=WIDTH, height=HEIGHT, bg='white')\nc.pack()\n# to create the sprite\ndude_id = c.create_rectangle(0, 30, 15, 100, outline='limegreen', \nfill='limegreen')\ndude_id2 = c.create_rectangle(45, 30, 60, 100, outline='limegreen', \nfill='limegreen')\ndude_id3 = c.create_oval(0, 0, 60, 60, outline='limegreen', \nfill='limegreen')\ndef is_collided_with(dude, floor):\n    return self.rect.colliderect(dude.rect)\nMID_X = WIDTH / 2\nMID_Y = HEIGHT / 2\nc.move(dude_id, MID_X, MID_Y)\nc.move(dude_id2, MID_X, MID_Y)\nc.move(dude_id3, MID_X, MID_Y)\nfloor_id = c.create_rectangle(0, 485, 800, 500, fill='black')\nwhile Q_PRESSED != False:\n    if not dude.is_collided_with(floor):\n        GRAV =+ 1\n        c.move(dude_id, 0, GRAV)\n        c.move(dude_id2, 0, GRAV)\n        c.move(dude_id3, 0, GRAV)\n    if dude.is_collided_with(floor):\n    GRAV =-2\n    # to move\n    def move_dude(event):\n        if event.keysym == 'q':\n            Q_PRESSED = True\n        if event.keysym == 'Left':\n            c.move(dude_id, -10, GRAV)\n            c.move(dude_id2, -10, GRAV)\n            c.move(dude_id3, -10, GRAV)\n        if event.keysym == 'Right':\n            c.move(dude_id, 10, GRAV)\n            c.move(dude_id2, 10, GRAV)\n            c.move(dude_id3, 10, GRAV)\n    c.bind_all('&lt;key&gt;', move_dude)\n</code></pre>\n\n<p>I have had some help with a book, for the binding key stuff, but it was made for kids or beginners, as I am quite new to python. Any help will be great!</p>\n"}, {"tags": ["python", "csv", "save", "biopython"], "answers": [{"tags": [], "owner": {"reputation": 1047, "user_id": 7812314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rrz02.jpg?s=128&g=1", "display_name": "dportman", "link": "https://stackoverflow.com/users/7812314/dportman"}, "is_accepted": false, "score": 0, "last_activity_date": 1525291976, "creation_date": 1525291976, "answer_id": 50142825, "question_id": 50142768, "link": "https://stackoverflow.com/questions/50142768/saving-cvs-file-in-python/50142825#50142825", "title": "saving cvs file in python", "body": "<p>You should definitely use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html\" rel=\"nofollow noreferrer\">pandas</a> to manipulate csv files.</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame(columns = ['np_count', 'p_count', 'neg_count', 'pos_count'], data =[np_count, p_count, neg_count, pos_count])\ndf.to_csv('output.csv')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9732170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9bf43ae45db2e8f882fe6244544a09f?s=128&d=identicon&r=PG&f=1", "display_name": "Wade ", "link": "https://stackoverflow.com/users/9732170/wade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525291976, "creation_date": 1525291770, "question_id": 50142768, "link": "https://stackoverflow.com/questions/50142768/saving-cvs-file-in-python", "title": "saving cvs file in python", "body": "<p>I am having trouble saving my data into a csv file. I am trying to separate the amino acids in this gene into four groups non polar (np), polar (p), negative (neg), and positive (pos). I have figured out how to count all the single amino acids and save them into a cvs file, but cannot figure out how to save the data from the four groups in the same way as with the single amino acids. </p>\n\n<p>Here is the code for the single amino acids saving into the csv:</p>\n\n<pre><code>from Bio import Entrez, SeqIO\n\nEntrez.email = \"\"\n\nhandle = Entrez.efetch(db=\"nucleotide\", id=\"KT191142\", rettype=\"gb\", retmode=\"text\")\nrecord = SeqIO.read(handle, \"genbank\")\nhandle.close()\n\nprotein_seq = record.seq.translate()\nprint(protein_seq)\n\ndef count_aa(seq, csv_file):\n\naa_dict = {} # dictionary to store amino acid counts\n\nfor aa in seq:\n\n    if aa in aa_dict:\n        aa_dict[aa] += 1 # increment the count of an amino acid by 1\n    else:\n        aa_dict[aa] = 1 # set the count of an amino acid to 1\n\nwith open(csv_file, \"w\") as file:\n\n    aa_list=sorted(aa_dict.keys())\n\n    file.write(\"amino_acid,count\\n\")\n\n    for aa in aa_list:\n        line = str(aa) + ',' + str(aa_dict[aa]) + '\\n'\n\n        file.write(line)\n\ncount_aa(protein_seq, \"ebola_aa_count2.csv\")`\n</code></pre>\n\n<p>I want to save this new code into a csv file just like in this previous code, here is the new code:</p>\n\n<pre><code>import re\n\nhandle = Entrez.efetch(db=\"nucleotide\", id=\"KT191142\", rettype=\"gb\", retmode=\"text\")\nrecords = SeqIO.read(handle, \"genbank\")\nhandle.close()\n\nprotein_seq = records.seq.translate()\nprint(protein_seq)\n\nnp_count = 0\np_count = 0\nneg_count = 0\npos_count = 0\n\nfor aa in protein_seq:\n    match_np = re.search(r\"G|A|V|C|P|L|I|M|W|F\", str(aa))\n    match_p = re.search(r\"S|T|Y|N|Q\", str(aa))\n    match_neg = re.search(r\"D|E\", str(aa))\n    match_pos = re.search(r\"K|R|H\", str(aa))\n    if match_np:\n        np_count += 1\n    if match_p:\n        p_count += 1\n    if match_neg:\n        neg_count += 1\n    if match_pos:\n        pos_count += 1\n\nhandle.close()\nprint(np_count, p_count, neg_count, pos_count)\n</code></pre>\n\n<p>Thanks for your help in advance!</p>\n"}, {"tags": ["python", "django", "django-urls"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1525291908, "post_id": 50142765, "comment_id": 87303761, "body": "Where is the view? Are you passing anything called &quot;question&quot; to the template? Does it have an id?"}, {"owner": {"reputation": 13, "user_id": 8815246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2060d6faec84987a19a0c383980b024e?s=128&d=identicon&r=PG&f=1", "display_name": "mbanerjeepalmer", "link": "https://stackoverflow.com/users/8815246/mbanerjeepalmer"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1525292216, "post_id": 50142765, "comment_id": 87303913, "body": "Sorry - added the whole <code>polls&#47;views.py</code> now. I believe (although am not certain) that it does at line 37 <code>return HttpResponseRedirect(reverse(&#39;polls:results&#39;, args=(question.id,)))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8815246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2060d6faec84987a19a0c383980b024e?s=128&d=identicon&r=PG&f=1", "display_name": "mbanerjeepalmer", "link": "https://stackoverflow.com/users/8815246/mbanerjeepalmer"}, "edited": false, "score": 0, "creation_date": 1525293359, "post_id": 50143079, "comment_id": 87304480, "body": "Ah that&#39;s so frustrating - I didn&#39;t think to look there but it&#39;s obvious in retrospect. Thanks so much."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1525292970, "creation_date": 1525292970, "answer_id": 50143079, "question_id": 50142765, "link": "https://stackoverflow.com/questions/50142765/noreversematch-error-in-django-tutorial-argument-not-being-picked-up/50143079#50143079", "title": "NoReverseMatch error in Django tutorial: argument not being picked up", "body": "<p>Wow, this one took me a while to spot. You have a typo in the last line of your results function. This:</p>\n\n<pre><code>return render(request, 'polls/results.html', {question:question})\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>return render(request, 'polls/results.html', {\"question\": question})\n</code></pre>\n\n<p>with quotes around the first <code>question</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 8815246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2060d6faec84987a19a0c383980b024e?s=128&d=identicon&r=PG&f=1", "display_name": "mbanerjeepalmer", "link": "https://stackoverflow.com/users/8815246/mbanerjeepalmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 50143079, "answer_count": 1, "score": 1, "last_activity_date": 1525293060, "creation_date": 1525291761, "last_edit_date": 1525293060, "question_id": 50142765, "link": "https://stackoverflow.com/questions/50142765/noreversematch-error-in-django-tutorial-argument-not-being-picked-up", "title": "NoReverseMatch error in Django tutorial: argument not being picked up", "body": "<p>I'm hitting the following error when going through the Django tutorial: \n<code>Reverse for 'detail' with arguments '('',)' not found. 1 pattern(s) tried: ['polls\\\\/(?P&lt;question_id&gt;[0-9]+)\\\\/$']</code>  </p>\n\n<p>From <a href=\"https://stackoverflow.com/questions/38390177/what-is-a-noreversematch-error-and-how-do-i-fix-it\">this answer</a> it seems like the problem is that the argument is not being passed through on line 9 of <code>results.html</code>. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/36021919/noreversematch-at-polls-1-vote-when-following-djangos-official-tutorial\">This answer</a> suggests that it should be <code>question.id</code> but that's what I have. So I'm not sure where to go next on this. part  following error. When I remove line 9 (which includes this link) from the  template. Help appreciated. Apologies if this has already been asked before - I feel like I've looked everywhere.</p>\n\n<p>Hopefully this is all the relevant code. (After this went wrong a couple of times I copied and pasted everything from the tutorial to guard against typos.)</p>\n\n<p><strong>Traceback</strong></p>\n\n<pre><code>Environment:\n\n\nRequest Method: GET\nRequest URL: http://127.0.0.1:8000/polls/1/results/\n\nDjango Version: 2.0.3\nPython Version: 3.6.4\nInstalled Applications:\n['django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'polls.apps.PollsConfig']\nInstalled Middleware:\n['django.middleware.security.SecurityMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware']\n\n\nTemplate error:\nIn template C:\\Users\\User\\Dropbox\\Personal\\Projects\\Python\\Django\\django-tut\\mysite\\polls\\templates\\polls\\results.html, error at line 8\n   Reverse for 'detail' with arguments '('',)' not found. 1 pattern(s) tried: ['polls\\\\/(?P&lt;question_id&gt;[0-9]+)\\\\/$']\n   1 : &lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;\n   2 : \n   3 : &lt;ul&gt;\n   4 : {% for choice in question.choice_set.all %}\n   5 :     &lt;li&gt;{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}&lt;/li&gt;\n   6 : {% endfor %}\n   7 : &lt;/ul&gt;\n   8 : &lt;a href=\" {% url 'polls:detail' question.id %} \"&gt;Vote again?&lt;/a&gt;\n   9 : \n\nTraceback:\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\core\\handlers\\exception.py\" in inner\n  35.             response = get_response(request)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\core\\handlers\\base.py\" in _get_response\n  128.                 response = self.process_exception_by_middleware(e, request)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\core\\handlers\\base.py\" in _get_response\n  126.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)\n\nFile \"C:\\Users\\User\\Dropbox\\Personal\\Projects\\Python\\Django\\django-tut\\mysite\\polls\\views.py\" in results\n  19.     return render(request, 'polls/results.html', {question:question})\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\shortcuts.py\" in render\n  36.     content = loader.render_to_string(template_name, context, request, using=using)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\template\\loader.py\" in render_to_string\n  62.     return template.render(context, request)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\template\\backends\\django.py\" in render\n  61.             return self.template.render(context)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\template\\base.py\" in render\n  175.                     return self._render(context)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\template\\base.py\" in _render\n  167.         return self.nodelist.render(context)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\template\\base.py\" in render\n  943.                 bit = node.render_annotated(context)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  910.             return self.render(context)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\template\\defaulttags.py\" in render\n  447.             url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\urls\\base.py\" in reverse\n  88.     return iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs))\n\nFile \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\site-packages\\django\\urls\\resolvers.py\" in _reverse_with_prefix\n  632.         raise NoReverseMatch(msg)\n\nException Type: NoReverseMatch at /polls/1/results/\nException Value: Reverse for 'detail' with arguments '('',)' not found. 1 pattern(s) tried: ['polls\\\\/(?P&lt;question_id&gt;[0-9]+)\\\\/$']\n</code></pre>\n\n<p><strong>polls/urls.py</strong></p>\n\n<pre><code>from django.urls import path\n\nfrom . import views\n\napp_name = 'polls'\nurlpatterns = [\n    path('', views.index, name='index'),\n    path('&lt;int:question_id&gt;/', views.detail, name='detail'),\n    path('&lt;int:question_id&gt;/results/', views.results, name='results'),\n    path('&lt;int:question_id&gt;/vote/', views.vote, name='vote'),\n]\n</code></pre>\n\n<p><strong>mysite/urls.py</strong></p>\n\n<pre><code>from django.urls import include, path\nfrom django.contrib import admin\n\nurlpatterns = [\n    path('polls/', include('polls.urls')),\n    path('admin/', admin.site.urls),\n    #path('&lt;int:question_id&gt;/', views.detail, name='detail'),\n]\n</code></pre>\n\n<p><strong>polls/results</strong></p>\n\n<pre><code>    &lt;h1&gt;{{ question.question_text }}&lt;/h1&gt;\n\n    &lt;ul&gt;\n    {% for choice in question.choice_set.all %}\n        &lt;li&gt;{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n    &lt;a href=\"{% url 'polls:detail' question.id %}\"&gt;Vote again?&lt;/a&gt;\n</code></pre>\n\n<p><strong>polls/views.py</strong></p>\n\n<pre><code>from django.shortcuts import get_object_or_404, render\nfrom django.http import HttpResponseRedirect, HttpResponse\nfrom django.urls import reverse\n\nfrom .models import Choice, Question\n\n\ndef index(request):\n    latest_question_list = Question.objects.order_by('-pub_date')[:5]\n    context = {'latest_question_list': latest_question_list}\n    return render(request, 'polls/index.html', context)\n\ndef detail(request, question_id):\n    question = get_object_or_404(Question, pk=question_id)\n    return render(request, 'polls/detail.html', {'question':question})\n\ndef results(request, question_id):\n    question = get_object_or_404(Question, pk=question_id)\n    return render(request, 'polls/results.html', {question:question})\n\ndef vote(request, question_id):\n    question = get_object_or_404(Question, pk=question_id)\n    try:\n        selected_choice = question.choice_set.get(pk=request.POST['choice'])\n    except (KeyError, Choice.DoesNotExist):\n        # Redisplay the question voting form.\n        return render(request, 'polls/detail.html', {\n            'question': question,\n            'error_message': \"You didn't select a choice.\",\n        })\n    else:\n        selected_choice.votes += 1\n        selected_choice.save()\n        # Always return an HttpResponseRedirect after successfully dealing\n        # with POST data. This prevents data from being posted twice if a\n        # user hits the Back button.\n        return HttpResponseRedirect(reverse('polls:results', args=(question.id,)))\n</code></pre>\n"}, {"tags": ["python", "screen-scraping"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9732167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nicol&#225;s Salvatore", "link": "https://stackoverflow.com/users/9732167/nicol%c3%a1s-salvatore"}, "edited": false, "score": 0, "creation_date": 1525346875, "post_id": 50142989, "comment_id": 87325293, "body": "So if this is the code &lt;form name=&quot;form1&quot; method=&quot;POST&quot; action=&quot;/home.asp&quot;&gt; then my url is <a href=\"https://nextelloc.nextelinternational.com/home.asp\" rel=\"nofollow noreferrer\">nextelloc.nextelinternational.com/home.asp</a> ?"}], "tags": [], "owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "is_accepted": false, "score": 0, "last_activity_date": 1525292574, "creation_date": 1525292574, "answer_id": 50142989, "question_id": 50142729, "link": "https://stackoverflow.com/questions/50142729/python-requests-login-errno-10600/50142989#50142989", "title": "Python requests login Errno 10600", "body": "<p>There is a good chance this will not work, as I believe the url you are using for <code>login_url</code> is not the actual url for their login service. You should inspect their login page, and see where the form actually sends credentials, then try that url. </p>\n\n<p>Sorry I cannot help more, this is a fairly specialized issue related to the website you are using and not a python question per-say. </p>\n"}], "owner": {"reputation": 11, "user_id": 9732167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Nicol&#225;s Salvatore", "link": "https://stackoverflow.com/users/9732167/nicol%c3%a1s-salvatore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525292574, "creation_date": 1525291612, "last_edit_date": 1525292010, "question_id": 50142729, "link": "https://stackoverflow.com/questions/50142729/python-requests-login-errno-10600", "title": "Python requests login Errno 10600", "body": "<p>I'm trying to log in to a website for scraping but get</p>\n\n<blockquote>\n  <p>Errno 10060, failed to establish a new connection.</p>\n</blockquote>\n\n<pre><code>import requests\n\nsession = requests.session()\n\nlogin_url = \"https://nextelloc.nextelinternational.com\"\nurl = \"https://nextelloc.nextelinternational.com/default.asp?sec=vehiculos_listado\"\n\ndatos = {\"usu\": \"xxxx\", \"password\": \"xxxx\"}\n\nresult = session.post(login_url, data = datos)\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "regression"], "comments": [{"owner": {"reputation": 3, "user_id": 5733720, "user_type": "registered", "profile_image": "https://graph.facebook.com/841972949298975/picture?type=large", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5733720/john-doe"}, "reply_to_user": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 0, "creation_date": 1525341616, "post_id": 50142692, "comment_id": 87321977, "body": "@blue-phoenox its just a typo."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5733720, "user_type": "registered", "profile_image": "https://graph.facebook.com/841972949298975/picture?type=large", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5733720/john-doe"}, "edited": false, "score": 0, "creation_date": 1525341673, "post_id": 50143355, "comment_id": 87322031, "body": "So <code>initializer  = None</code> is not constant initializer and it is neccesay to put shape in tf.get_variable every time i will use tf,get_variable?"}], "tags": [], "owner": {"reputation": 116, "user_id": 9731601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "lishu luo", "link": "https://stackoverflow.com/users/9731601/lishu-luo"}, "is_accepted": false, "score": 0, "last_activity_date": 1525294208, "creation_date": 1525294208, "answer_id": 50143355, "question_id": 50142692, "link": "https://stackoverflow.com/questions/50142692/no-need-to-specify-shape-if-using-constant-initializer/50143355#50143355", "title": "No need to specify shape if using constant initializer?", "body": "<p>You should set shapes to initialize these variables. Take logistic regression as an example.</p>\n\n<pre><code>import tensorflow as tf\nx=tf.placeholder(shape=[None,5],dtype=tf.float32,name='input')\ny_=tf.placeholder(shape=[None,1],dtype=tf.float32,name='label')\n\nw=tf.Variable(tf.random_normal([5,1]),name='weights')\nb=tf.Variable(tf.zeros([1]),name='bias')\ny_pred=tf.nn.softmax(tf.matmul(x,w)+b)\n\ncross_entropy=tf.reduce_mean(-tf.reduce_sum(y_*tf.log(y),reduction_indices=[1]))\n\n\ntrain_op=tf.train.AdamOptimizer(0.001).minimize(cross_entropy)\n\nwith tf.Session() as sess:\n    sess.run(tf.global_variables_initializer())\n    tf.global_variables_initializer().run()\n    for epoch in range(1000):\n        _, loss = sess.run([train_op, cross_entropy], feed_dict={x: [X_train[i]], y: [y_train[i]]})\n        if (epoch % 50 == 0):\n            print('Epoch: {0}, total loss={1}'.format(epoch + 1, loss))\n</code></pre>\n\n<p>If you use constant to initialize like the following, you don't need to set shape.</p>\n\n<pre><code>a=tf.get_variable(\"my_variable\", dtype=tf.int32,initializer=tf.constant([2, 3]))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5733720, "user_type": "registered", "profile_image": "https://graph.facebook.com/841972949298975/picture?type=large", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5733720/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525341584, "creation_date": 1525291498, "last_edit_date": 1525341584, "question_id": 50142692, "link": "https://stackoverflow.com/questions/50142692/no-need-to-specify-shape-if-using-constant-initializer", "title": "No need to specify shape if using constant initializer?", "body": "<p>Trying to create linear regression model with tensorflow. Now im on the step when i should create variables for weights and bias:</p>\n\n<pre><code>w = tf.get_variable('weights', shape = None, initializer = None)\nb = tf.get_variable('bias', shape = None, initializer = None)\n</code></pre>\n\n<p>From Stanford course CS20si i read that \"No need to specify shape if \nusing constant initialize\". But this part of code raises:</p>\n\n<p><code>ValueError: Shape of a new variable (weights) must be fully defined, but instead was &lt;unknown&gt;.</code></p>\n\n<p>Does it mean that i should put shapes for these variables? I think that i loose something. Any suggestions?</p>\n"}, {"tags": ["python", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 2292, "user_id": 1995258, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wd5ST.png?s=128&g=1", "display_name": "makkasi", "link": "https://stackoverflow.com/users/1995258/makkasi"}, "edited": false, "score": 0, "creation_date": 1525505051, "post_id": 50186618, "comment_id": 87390387, "body": "Thank you. That is what I though. It&#39;s bad that there is no way. It would be as easy as to specify separator column called &#39;id&#39; and it will work in 80%of the cases. Really sad that there is no option. I am good in pure sql and this is big stoper for me."}, {"owner": {"reputation": 1454, "user_id": 5245893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JVjQ.png?s=128&g=1", "display_name": "Mikhail Berlinkov", "link": "https://stackoverflow.com/users/5245893/mikhail-berlinkov"}, "reply_to_user": {"reputation": 2292, "user_id": 1995258, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wd5ST.png?s=128&g=1", "display_name": "makkasi", "link": "https://stackoverflow.com/users/1995258/makkasi"}, "edited": false, "score": 0, "creation_date": 1525516461, "post_id": 50186618, "comment_id": 87393612, "body": "You&#39;re welcome. There is an option of using pure sql but you should do mapping to your models explicitly. Although, I think it is a huge overhead anyway. Try out orm-syntax, it looks quite similar to sql and it is extensively documented."}], "tags": [], "owner": {"reputation": 1454, "user_id": 5245893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JVjQ.png?s=128&g=1", "display_name": "Mikhail Berlinkov", "link": "https://stackoverflow.com/users/5245893/mikhail-berlinkov"}, "is_accepted": true, "score": 13, "last_activity_date": 1525503074, "creation_date": 1525503074, "answer_id": 50186618, "question_id": 50142629, "link": "https://stackoverflow.com/questions/50142629/sqlalchemy-select-from-two-tables-with-null-left-join-returns-empty-result/50186618#50186618", "title": "SQLAlchemy select from two tables with null LEFT JOIN returns empty result", "body": "<p>The problem is that your tables have columns with the same names. SqlAlchemy after executing your query tries to match resulting columns by names (not by positions) and choose some matching which fits (in this case SA matched columns of table2 with fields of Table1 and vice versa). There is a way to specify matching with <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.TextClause.columns\" rel=\"noreferrer\">.columns() method</a> but I would suggest you to consider using <a href=\"http://docs.sqlalchemy.org/en/latest/orm/tutorial.html#querying\" rel=\"noreferrer\">orm-functions</a> of SqlAlchemy instead whenever possible unless you have strong reasons against it.</p>\n"}], "owner": {"reputation": 2292, "user_id": 1995258, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wd5ST.png?s=128&g=1", "display_name": "makkasi", "link": "https://stackoverflow.com/users/1995258/makkasi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1695, "favorite_count": 0, "accepted_answer_id": 50186618, "answer_count": 1, "score": 6, "last_activity_date": 1525503074, "creation_date": 1525291261, "last_edit_date": 1525325714, "question_id": 50142629, "link": "https://stackoverflow.com/questions/50142629/sqlalchemy-select-from-two-tables-with-null-left-join-returns-empty-result", "title": "SQLAlchemy select from two tables with null LEFT JOIN returns empty result", "body": "<p>I have two sql tables. \nTable 1 (id, name) and Table 2 with (id, name, table1_id)</p>\n\n<pre><code> sql = text('SELECT t1.*, t2.* FROM table1 t1 '\n               'LEFT JOIN table2 t2 ON t1.id=t2.table1_id ')\nquery = db.session.query(Table1, Table2).from_statement(sql).params()\ntable1_table2_tuple_list = query.all()\n</code></pre>\n\n<p>If the result of the sql query is </p>\n\n<pre><code>67, 'some name', 1, 'some name in table 2', 67\n</code></pre>\n\n<p>Then everything is OK and I have <code>[(&lt;Table1&gt;, &lt;Table2&gt;)]</code>  for table1_table2_tuple_list </p>\n\n<p>But \nIf the result of the sql query is: (also all other code is for this result)</p>\n\n<pre><code>67, 'some name', Null, Null, Null\n</code></pre>\n\n<p>Then instead of receiving <code>[(&lt;Table1&gt;, None)]</code> \nI receive <code>[(None, None)]</code></p>\n\n<p>If I change my code a little bit:</p>\n\n<pre><code>sql = text('SELECT t1.*, t2.id, t2.name,t1.id FROM table1 t1 '\n               'LEFT JOIN table2 t2 ON t1.id=t2.table1_id ')\nquery = db.session.query(Table1, Table2, Table1.id).from_statement(sql).params()\ntable1_table2_tuple_list = query.all()\n</code></pre>\n\n<p>Then I receive:</p>\n\n<pre><code>[&lt;Table1&gt;, &lt;Table2&gt;, 1]\n</code></pre>\n\n<p>But in this case I'm not even sure if this is correct because I match two columns from the sql to model Table2 that has three columns. Not sure at all why this is working, but everything seems on place. Still is not what I want, because I don't want to return to this query and to specify again and again new columns if there are such for Table2</p>\n\n<p>What I need is a way to select from two tables with pure sql , and to match the result to my models. Also I want to have result even in the cases when one of the tables doesn't have value in it's result columns. Hope I am clear. My goal is to receive </p>\n\n<pre><code>[(&lt;Table1&gt;, None)]\n</code></pre>\n\n<p>when the query is for all colums (<code>SELECT t1.*, t2.*</code>) and there is LEFT JOIN with null added.</p>\n"}, {"tags": ["python", "tensorflow", "amazon-ec2", "ssh", "anaconda"], "answers": [{"comments": [{"owner": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "edited": false, "score": 0, "creation_date": 1525291864, "post_id": 50142728, "comment_id": 87303741, "body": "I&#39;ll try it. Can you share your understanding on how the POSIX command nohup works in this situation? Also, what kind of results it yields when you relogin over ssh?"}, {"owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "reply_to_user": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "edited": false, "score": 0, "creation_date": 1525292027, "post_id": 50142728, "comment_id": 87303823, "body": "To be perfectly honest, I am not certain how this command works. I am no expert on this topic, I was just hoping to provide you with a solution to your problem. I can say that when I re-login, I was able to see the process running, and monitor its output via the nohup.out file created by the command."}, {"owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "reply_to_user": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "edited": false, "score": 0, "creation_date": 1525292145, "post_id": 50142728, "comment_id": 87303874, "body": "Use <code>man nohup</code> to find out more. Also <code>&amp;</code> runs the command in a subshell, without the shell waiting for a return of 0. See <code>man bash</code>"}, {"owner": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "edited": false, "score": 0, "creation_date": 1525292302, "post_id": 50142728, "comment_id": 87303943, "body": "Thanks! I&#39;ll try this out and leave the thread open, in case someone that knows comes along."}], "tags": [], "owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "is_accepted": true, "score": 1, "last_activity_date": 1525291606, "creation_date": 1525291606, "answer_id": 50142728, "question_id": 50142626, "link": "https://stackoverflow.com/questions/50142626/leave-a-tensorflow-anaconda-venv-script-running-on-ec2-instance/50142728#50142728", "title": "Leave a tensorflow (anaconda venv) script running on EC2 instance", "body": "<p>Have you tried using <code>nohup {your command} &amp;</code>? </p>\n\n<p>This has previously worked for me.</p>\n"}], "owner": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 50142728, "answer_count": 1, "score": 0, "last_activity_date": 1525291606, "creation_date": 1525291253, "question_id": 50142626, "link": "https://stackoverflow.com/questions/50142626/leave-a-tensorflow-anaconda-venv-script-running-on-ec2-instance", "title": "Leave a tensorflow (anaconda venv) script running on EC2 instance", "body": "<p>I'm trying to leave a script running on an EC2 instance after I close the SSH client. The script is running on an activated tensorflow_p36 virtual anaconda environment.</p>\n\n<p>I have tried to use <code>screen</code> and <code>tmux</code> but to no avail ( I issue these commands when the venv is active). I get a <code>ModuleNotFoundError: No module named 'tensorflow'</code> even though when I try <code>conda env list</code> I see that I'm using the <code>tensorflow_p36</code> environment.</p>\n\n<p>Do you have any ideas?</p>\n"}, {"tags": ["python", "bokeh", "stacked-chart"], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 6480215, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d8e1516b86b03bb68c18a2cb158626e0?s=128&d=identicon&r=PG&f=1", "display_name": "machump", "link": "https://stackoverflow.com/users/6480215/machump"}, "is_accepted": true, "score": 1, "last_activity_date": 1525294659, "last_edit_date": 1525294659, "creation_date": 1525293959, "answer_id": 50143304, "question_id": 50142618, "link": "https://stackoverflow.com/questions/50142618/bokeh-12-0-15-stacked-grouped-bars/50143304#50143304", "title": "Bokeh 12.0.15- stacked grouped bars", "body": "<p>this works</p>\n\n<pre><code>from bokeh.core.properties import value\nfrom bokeh.io import show, output_file, curdoc\nfrom bokeh.models import ColumnDataSource, HoverTool, FactorRange\nfrom bokeh.plotting import figure\n\n\nyears = [\"2015\", \"2016\", \"2017\"]\ncolors = [\"#c9d9d3\", \"#718dbf\", \"#e84d60\"]\n\ndata = {'factors' : [(\"2017\",\"jan\"),(\"2017\",\"feb\"),(\"2018\",\"jan\")],\n        'Tammy'   : [2, 1, 4],\n        'Jim'   : [5, 3, 4],\n        'Mike'   : [3, 2, 4]}\n\nusers=['Tammy','Jim','Mike']\n\nsource = ColumnDataSource(data=data)\n\np = figure(x_range=FactorRange(*factors), plot_height=350, )\n\np.vbar_stack(users, x='factors', width=0.9, source=source, color=colors)\n\np.y_range.start = 0\np.x_range.range_padding = 0.1\np.xgrid.grid_line_color = None\np.axis.minor_tick_line_color = None\np.outline_line_color = None\np.legend.location = \"top_left\"\np.legend.orientation = \"horizontal\"\n\ncurdoc().add_root(p)\n</code></pre>\n\n<p>Thanks for listening to me broadcasting for the past hour.</p>\n"}], "owner": {"reputation": 1009, "user_id": 6480215, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d8e1516b86b03bb68c18a2cb158626e0?s=128&d=identicon&r=PG&f=1", "display_name": "machump", "link": "https://stackoverflow.com/users/6480215/machump"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 50143304, "answer_count": 1, "score": 0, "last_activity_date": 1525294659, "creation_date": 1525291237, "last_edit_date": 1525293169, "question_id": 50142618, "link": "https://stackoverflow.com/questions/50142618/bokeh-12-0-15-stacked-grouped-bars", "title": "Bokeh 12.0.15- stacked grouped bars", "body": "<p>Is there a way to create stacked-grouped bar charts in the current version of bokeh? </p>\n\n<p>Currently I'm attempting to create a list of tupled groupings to pass as an x-axis:</p>\n\n<p>i.e.</p>\n\n<pre><code>from bokeh.io import show, output_file, curdoc\nfrom bokeh.models import ColumnDataSource, HoverTool, FactorRange\nfrom bokeh.plotting import figure\n\nfactors = [\n    (\"2017\",\"jan\"),(\"2017\",\"feb\"),(\"2017\",\"mar\"),\n    (\"2018\",'jan'),(\"2018\",\"feb\"),(\"2018\",\"mar\")\n    ]\ndata = {'factors' : factors,\n        'Tammy'   : [2, 1, 4, 3, 2, 4],\n        'Jim'   : [5, 3, 4, 2, 4, 6],\n        'Mike'   : [3, 2, 4, 4, 5, 3]}\n\nusers=['Tammy','Jim','Mike']\n\nsource = ColumnDataSource(data=data)\n\np = figure(x_range=FactorRange(*factors), plot_height=350)\n\np.vbar_stack(users, x=factors, width=0.9)\n\ncurdoc().add_root(p)\n</code></pre>\n\n<p>It's not working all that great currently..</p>\n\n<p><code>Keyword argument sequences for broadcasting must be the same length as stackers</code></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 2, "creation_date": 1525291245, "post_id": 50142603, "comment_id": 87303457, "body": "I&#39;m confused as to what you are saying."}, {"owner": {"reputation": 1646, "user_id": 9655255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GFPJb.jpg?s=128&g=1", "display_name": "TwistedSim", "link": "https://stackoverflow.com/users/9655255/twistedsim"}, "edited": false, "score": 0, "creation_date": 1525291252, "post_id": 50142603, "comment_id": 87303461, "body": "What do you mean doesn&#39;t work? You don&#39;t just print in this statement, you also call the function <code>simpson()</code>. Also, <code>x</code> and <code>f</code> ARE empty array since you define them that way."}, {"owner": {"reputation": 26221, "user_id": 7294647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QFLgL.jpg?s=128&g=1", "display_name": "Jacob G.", "link": "https://stackoverflow.com/users/7294647/jacob-g"}, "edited": false, "score": 2, "creation_date": 1525291282, "post_id": 50142603, "comment_id": 87303482, "body": "The print function doesn&#39;t change it, but rather the fact that you&#39;re actually calling <code>simpsons</code>."}, {"owner": {"reputation": 107, "user_id": 9679438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd6a87ec3fda744c67d355ece26f29a?s=128&d=identicon&r=PG&f=1", "display_name": "Layla", "link": "https://stackoverflow.com/users/9679438/layla"}, "edited": false, "score": 0, "creation_date": 1525291541, "post_id": 50142603, "comment_id": 87303601, "body": "I see now. I just put y=simpsons(x,f) (to call the function) and it worked without doing anything else.  I thought that just using return makes the code run without calling it later.Or I am also kind of suprised that the code worked without using y but by just calling it and assinging it just some random value (in this case y)"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1525291825, "post_id": 50142603, "comment_id": 87303723, "body": "<code>return</code> simply tells python to exit the function after its been called. In fact, the function could be called millions of times and the return would happen millions of times."}], "answers": [{"comments": [{"owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "reply_to_user": {"reputation": 107, "user_id": 9679438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd6a87ec3fda744c67d355ece26f29a?s=128&d=identicon&r=PG&f=1", "display_name": "Layla", "link": "https://stackoverflow.com/users/9679438/layla"}, "edited": false, "score": 0, "creation_date": 1525292205, "post_id": 50142670, "comment_id": 87303908, "body": "@user37487 Glad I could help! If you think mine was the best answer, please flag it as the answer. It allows me to better help other people. Thanks!"}], "tags": [], "owner": {"reputation": 514, "user_id": 6883026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfe273cbcd682c85546939a6db076bdd?s=128&d=identicon&r=PG&f=1", "display_name": "TMarks", "link": "https://stackoverflow.com/users/6883026/tmarks"}, "is_accepted": true, "score": 1, "last_activity_date": 1525291382, "creation_date": 1525291382, "answer_id": 50142670, "question_id": 50142603, "link": "https://stackoverflow.com/questions/50142603/why-python-code-doesnt-work-without-print-functions/50142670#50142670", "title": "why python code doesnt work without print-functions", "body": "<p>If you don't use the print function, all you are doing is defining the function and the lists will stay empty. You must call the function and return x and f in order for you to see their values.</p>\n\n<p>You are essentially giving the computer instructions on how to do something, but you aren't telling it to go through those steps.</p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 9679438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd6a87ec3fda744c67d355ece26f29a?s=128&d=identicon&r=PG&f=1", "display_name": "Layla", "link": "https://stackoverflow.com/users/9679438/layla"}, "edited": false, "score": 0, "creation_date": 1525291842, "post_id": 50142686, "comment_id": 87303730, "body": "well thanks for your help"}], "tags": [], "owner": {"reputation": 1646, "user_id": 9655255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GFPJb.jpg?s=128&g=1", "display_name": "TwistedSim", "link": "https://stackoverflow.com/users/9655255/twistedsim"}, "is_accepted": false, "score": 0, "last_activity_date": 1525291748, "last_edit_date": 1525291748, "creation_date": 1525291446, "answer_id": 50142686, "question_id": 50142603, "link": "https://stackoverflow.com/questions/50142603/why-python-code-doesnt-work-without-print-functions/50142686#50142686", "title": "why python code doesnt work without print-functions", "body": "<p>The print function have nothing to do with your problem :) ! The array you provide are defined empty: <code>x=[]; f=[]</code>. You just called your function in the print statement.</p>\n\n<p>Also, You should not use your function like this <code>simpsons(x,f)</code> if you want to return <code>x</code> and <code>f</code>. You don't need to pass them to the function beforehand, the lists <code>x</code> and <code>f</code> will be create inside the function. </p>\n\n<p>Finally, , using a context manager with the keyword <code>with</code> is also a good practice with file in python. This will deal with the closing of the file. </p>\n\n<pre><code>def simpsons(filename):\n    with open(filename, 'r') as file:\n        for line in file:\n            y = line.split()\n            x.append(float(y[0]))\n            f.append(float(y[1]))\n    return x,f\nx,f = simpsons('cd.txt')\n\nprint(x, f)\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 9679438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd6a87ec3fda744c67d355ece26f29a?s=128&d=identicon&r=PG&f=1", "display_name": "Layla", "link": "https://stackoverflow.com/users/9679438/layla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "closed_date": 1525309936, "accepted_answer_id": 50142670, "answer_count": 2, "score": 0, "last_activity_date": 1525291748, "creation_date": 1525291178, "question_id": 50142603, "link": "https://stackoverflow.com/questions/50142603/why-python-code-doesnt-work-without-print-functions", "closed_reason": "Needs details or clarity", "title": "why python code doesnt work without print-functions", "body": "<p>I have a code like</p>\n\n<pre><code>file=open(\"cd.txt\",\"r\")\nx=[]\nf=[]\ndef simpsons(x,f):\n    for line in file:\n        y=line.split()\n        x.append(float(y[0]))\n        f.append(float(y[1]))\n    return(x,f)\nprint(simpsons(x,f))\n</code></pre>\n\n<p>the problem is when I dont write \"print(simpsons(x,f))\" it takes x and f as an empty array I didnt understand. Why print functions changes it ? </p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "keras"], "answers": [{"tags": [], "owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "is_accepted": true, "score": 0, "last_activity_date": 1525291851, "last_edit_date": 1525291851, "creation_date": 1525291245, "answer_id": 50142624, "question_id": 50142583, "link": "https://stackoverflow.com/questions/50142583/output-of-an-intermediate-layer-in-keras-passing-as-input-a-directoryiterator/50142624#50142624", "title": "Output of an intermediate layer in keras passing as input a DirectoryIterator", "body": "<pre><code>desiredOutputs = model.get_layer('layer_name').outputs #or model.layers[n].outputs\npartialModel = Model(model.inputs,desiredOutputs)\n</code></pre>\n\n<p>Then use <code>partialModel</code> to <code>fit</code> or <code>predict</code> with the directory iterator. </p>\n"}], "owner": {"reputation": 2123, "user_id": 8093922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k8uM4.jpg?s=128&g=1", "display_name": "Hemerson Tacon", "link": "https://stackoverflow.com/users/8093922/hemerson-tacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 50142624, "answer_count": 1, "score": 0, "last_activity_date": 1525291851, "creation_date": 1525291086, "question_id": 50142583, "link": "https://stackoverflow.com/questions/50142583/output-of-an-intermediate-layer-in-keras-passing-as-input-a-directoryiterator", "title": "Output of an intermediate layer in keras passing as input a DirectoryIterator", "body": "<p>Is there a way to get the output of a intermediate layer in Keras passing a DirectoryIterator as input?</p>\n\n<p>I've already read the <a href=\"https://keras.io/getting-started/faq/#how-can-i-obtain-the-output-of-an-intermediate-layer\" rel=\"nofollow noreferrer\">documentation of Keras related to this</a> and <a href=\"https://stackoverflow.com/questions/43452353/obtaining-output-of-an-intermediate-layer-in-tensorflow-keras\">this question</a> but as far as I undertood, those approaches use single samples as input.</p>\n\n<p>I want to do this because it is more simple than read sample by sample and less computationally expensive than put everything on memory.</p>\n\n<p>I'm using TensorFlow as backend.</p>\n"}, {"tags": ["python", "pandas", "csv", "numpy"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 2, "creation_date": 1525291418, "post_id": 50142569, "comment_id": 87303536, "body": "<code>pd.read_csv(file, header=None, index_col=False, sep=&#39;\\t&#39;)</code>, you don&#39;t need the <code>names</code> param either."}], "answers": [{"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 11, "last_activity_date": 1525291241, "creation_date": 1525291241, "answer_id": 50142621, "question_id": 50142569, "link": "https://stackoverflow.com/questions/50142569/pandas-read-data-without-header-or-index/50142621#50142621", "title": "Pandas read data without header or index", "body": "<p>You might want      <code>index_col=False</code></p>\n\n<pre><code>df = pd.read_csv(file,delimiter='\\t', \n                 header=None, \n                 index_col=False) \n</code></pre>\n\n<p>From the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"noreferrer\">Docs</a>,</p>\n\n<blockquote>\n  <p>If you have a malformed file with delimiters at the end of each line,\n  you might consider index_col=False to force pandas to <em>not</em> use the\n  first column as the index</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 3, "last_activity_date": 1525291508, "creation_date": 1525291508, "answer_id": 50142695, "question_id": 50142569, "link": "https://stackoverflow.com/questions/50142569/pandas-read-data-without-header-or-index/50142695#50142695", "title": "Pandas read data without header or index", "body": "<p>Why fuss over <code>read_csv</code>? Use <code>np.loadtxt</code>:</p>\n\n<pre><code>pd.DataFrame(np.loadtxt(file, dtype=int))\n\n   0   1   2   3   4   5   6   7   8   9   10  11  12\n0   0   0   1   1   1   0   1   1   0   1   1   1   1\n1   0   1   1   0   1   0   1   1   0   1   0   0   1\n2   0   0   1   1   0   0   1   1   1   0   1   1   1\n3   0   1   1   1   1   1   1   1   1   1   1   1   2\n4   0   1   1   1   0   1   1   1   1   1   1   1   1\n5   0   0   0   1   1   1   0   1   0   0   0   1   1\n6   0   0   0   0   1   1   0   0   1   0   1   0   2\n7   0   1   1   0   1   1   1   1   0   1   1   1   1\n8   0   0   1   0   0   0   0   0   0   1   1   0   1\n9   0   1   1   1   0   1   1   0   0   0   0   1   1\n</code></pre>\n\n<p>The default delimiter is whitespace, and no headers/indexes are read in by default. Column types are also not inferred, since the <code>dtype</code> is specified to be <code>int</code>. All in all, this is a very succinct and powerful alternative. </p>\n"}], "owner": {"reputation": 81, "user_id": 9629035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f01a5576a652b129f5df7cf9b82397?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u0430\u0441\u0438\u043b\u0438\u0439 \u041c\u0430\u0441\u043e\u0432", "link": "https://stackoverflow.com/users/9629035/%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d0%b8%d0%b9-%d0%9c%d0%b0%d1%81%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18765, "favorite_count": 0, "accepted_answer_id": 50142695, "answer_count": 2, "score": 5, "last_activity_date": 1525371396, "creation_date": 1525291038, "last_edit_date": 1525371396, "question_id": 50142569, "link": "https://stackoverflow.com/questions/50142569/pandas-read-data-without-header-or-index", "title": "Pandas read data without header or index", "body": "<p>Here is the <strong>.csv</strong> file :</p>\n\n<pre><code>0   0   1   1   1   0   1   1   0   1   1   1   1\n0   1   1   0   1   0   1   1   0   1   0   0   1\n0   0   1   1   0   0   1   1   1   0   1   1   1\n0   1   1   1   1   1   1   1   1   1   1   1   2\n0   1   1   1   0   1   1   1   1   1   1   1   1\n0   0   0   1   1   1   0   1   0   0   0   1   1\n0   0   0   0   1   1   0   0   1   0   1   0   2\n0   1   1   0   1   1   1   1   0   1   1   1   1\n0   0   1   0   0   0   0   0   0   1   1   0   1\n0   1   1   1   0   1   1   0   0   0   0   1   1\n</code></pre>\n\n<p>where the first column must be indices like <code>(0,1,2,3,4 ...)</code> but due to some reasons they are zeros. Is there any way to make them normal when reading the csv file with pandas.read_csv ? </p>\n\n<p>i use </p>\n\n<pre><code>df = pd.read_csv(file,delimiter='\\t',header=None,names=[1,2,3,4,5,6,7,8,9,10,11,12]) \n</code></pre>\n\n<p>and getting something like:</p>\n\n<pre><code>    1   2   3   4   5   6   7   8   9   10  11  12\n0   0   1   1   1   0   1   1   0   1   1   1   1\n0   1   1   0   1   0   1   1   0   1   0   0   1\n0   0   1   1   0   0   1   1   1   0   1   1   1\n0   1   1   1   1   1   1   1   1   1   1   1   2\n0   1   1   1   0   1   1   1   1   1   1   1   1\n0   0   0   1   1   1   0   1   0   0   0   1   1\n0   0   0   0   1   1   0   0   1   0   1   0   2\n0   1   1   0   1   1   1   1   0   1   1   1   1\n0   0   1   0   0   0   0   0   0   1   1   0   1\n0   1   1   1   0   1   1   0   0   0   0   1   1\n</code></pre>\n\n<p>and it's nearly i need, but first column (indices) is still zeros. Can pandas for example ignore this first column of zeros and automatically generate new indices to get this: </p>\n\n<pre><code>  0 1 2 3 4 5 6 7 8 9 10 11 12\n0 0 1 0 1 1 0 0 0 1 1  1  0  1\n1 0 1 0 1 1 0 0 0 1 1  1  1  2\n2 0 1 1 1 0 0 1 1 1 1  1  1  2\n</code></pre>\n"}, {"tags": ["python", "graph", "report", "allure", "python-behave"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9392951, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jake", "link": "https://stackoverflow.com/users/9392951/jake"}, "edited": false, "score": 0, "creation_date": 1525301524, "post_id": 50143515, "comment_id": 87307492, "body": "this is my interpretation of your answer: copy <code>history.json</code> and <code>history-trend.json</code> from  /tmp/2582868701970402783/allure-report/history  to /path/to/dir/webpagebuilder/{reports} and execute <code>allure serve &#47;path&#47;to&#47;dir&#47;webpagebuilder&#47;{reports}</code>  is this correct? it didnt fix it :( the trend json files is not empty either, i dont understand why its not being applied as a graph whereas duration.json and severity.json are. <a href=\"https://i.stack.imgur.com/80TJj.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/80TJj.png</a>"}, {"owner": {"reputation": 57, "user_id": 9392951, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jake", "link": "https://stackoverflow.com/users/9392951/jake"}, "edited": false, "score": 1, "creation_date": 1525304297, "post_id": 50143515, "comment_id": 87308068, "body": "I found a way to populate it! by copying the history folder itself and not only the 2 json files :)"}], "tags": [], "owner": {"reputation": 46, "user_id": 7593507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a3d9f5ec1519a7436831cbea000ae?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Poleschuk", "link": "https://stackoverflow.com/users/7593507/alexander-poleschuk"}, "is_accepted": true, "score": 3, "last_activity_date": 1525294972, "creation_date": 1525294972, "answer_id": 50143515, "question_id": 50142556, "link": "https://stackoverflow.com/questions/50142556/allure-framework-graphs-not-showing/50143515#50143515", "title": "Allure Framework Graph&#39;s not showing", "body": "<p>All TREND graphs works either with CI or if you took care of transfering history.json file to a new report build.</p>\n\n<p>In other words - there are two files under ..\\allure-report\\history folder, called history.json and history-trend.json, that are created first time you build a report. \nIn order to make it work w/o CI you should copy these files from your PREVIOUS report to allure-results folder BEFORE you build a next one.</p>\n"}], "owner": {"reputation": 57, "user_id": 9392951, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jake", "link": "https://stackoverflow.com/users/9392951/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1390, "favorite_count": 0, "accepted_answer_id": 50143515, "answer_count": 1, "score": 1, "last_activity_date": 1614190676, "creation_date": 1525290974, "question_id": 50142556, "link": "https://stackoverflow.com/questions/50142556/allure-framework-graphs-not-showing", "title": "Allure Framework Graph&#39;s not showing", "body": "<p>I am trying to fill up my allure reports with the graphs but only the defaults are being shown (Severity and Duration).</p>\n\n<p>I looked at the allure-reports/widgets, and the json files are there but it still not showing on the webpage.</p>\n\n<p><a href=\"https://i.stack.imgur.com/80TJj.png\" rel=\"nofollow noreferrer\">graph for categories trend missing</a></p>\n\n<p>btw, the Trend section on the Overview is empty as well.</p>\n\n<p>I am using allure 2.5.0 with python-behave</p>\n"}]