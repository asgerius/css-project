[{"tags": ["python", "cookies", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "edited": false, "score": 0, "creation_date": 1454547251, "post_id": 35190161, "comment_id": 58098404, "body": "code only answers are usually flagged as &quot;low quality&quot; then deleted."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "edited": false, "score": 0, "creation_date": 1454547378, "post_id": 35190161, "comment_id": 58098451, "body": "meh im a piece of garbage that posts low quality answers on low quality questions rather than flagging the OP or editing the OP"}, {"owner": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "edited": false, "score": 0, "creation_date": 1454547770, "post_id": 35190161, "comment_id": 58098591, "body": "All I know is your answer popped up in the &quot;low quality&quot; queue."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "edited": false, "score": 0, "creation_date": 1454547830, "post_id": 35190161, "comment_id": 58098611, "body": "meh if its deleted so be it ... Ive already invested more time than this question really merits :P"}, {"owner": {"reputation": 10326, "user_id": 2822004, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ec7196aaa220767879f125eab493f7a2?s=128&d=identicon&r=PG&f=1", "display_name": "tumultous_rooster", "link": "https://stackoverflow.com/users/2822004/tumultous-rooster"}, "edited": false, "score": 2, "creation_date": 1454547873, "post_id": 35190161, "comment_id": 58098627, "body": "Why not just add a bit to it so it survives? You&#39;ve come so far already with that whopping 46.5k reputation... :)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1454544160, "creation_date": 1454544160, "answer_id": 35190161, "question_id": 35190125, "link": "https://stackoverflow.com/questions/35190125/python-requests-recontruct-cookie-information-from-the-browser/35190161#35190161", "title": "Python requests recontruct cookie information from the browser", "body": "<pre><code>data = dict(s.split(\"=\") for s in my_cookie_string.split(\";\"))\n</code></pre>\n\n<p>I guess ... maybe?</p>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1454544160, "creation_date": 1454543995, "question_id": 35190125, "link": "https://stackoverflow.com/questions/35190125/python-requests-recontruct-cookie-information-from-the-browser", "title": "Python requests recontruct cookie information from the browser", "body": "<p>I have to make a http requests using my cookie information as the current web application does not have a api exposed for me to get the data.</p>\n\n<p>MCHALLENGE=CHALLENGE_DONE; ipServerp_grandslam2e_80=82712748.20480.0000; __ca=P0-361438119-1454365384599; s_getNewRepeat=1454365384951-New; s_lv=1454365384953; s_vnum=1456808400955%26vn%3D1; s_cc=true; s_fid=24C5BAE937778C2F-2319CF2297558C5F; s_sq=%5B%5BB%5D%5D; MSESSION=nrtLGo9j+11CNQliPTsj3GnXW7YGEl7RmO2DZLHF6EvgoerYioMu162++fUVZFKRuXo8ntcJdwEg7qijbLecxyKDxN4QWUUPppPXnF+wP+JcDsJG6djuQ2DkOUOUOzPvP9pU4ZXEiWRDJsH8Vlk2Zg442aE2eyyJ0fV7K02cweLbKF0D/sDBu919tc6+0Y4TjV0yxCDeyFuk+if2TNworWjaMass6HIQvGGWx2kNPf7jPe+dRjfdK+6DDtdWQNawgloC4bt5EEte5a2mkzY6O6+vC5pjEHjnT3EFAtxLsabQExX2Ab7hcjUz/tXkqqRwJh2X2cvtpD8utpDobniyfhToxfg++eblfy0QzgTvwefgJGqAcrcxyKEf6btl3mjzpT/qtElFiJCo0SvN3cai5/Vf6+/7DZD89aEV0uEvQp95IUcSuDlSTbfoTjt6sX9h2D+jHr2tDGcXueSrN029c2JQZ7v9CLFXbecHtdrSKWfM6MYLv7QsjKFIUmCT0prmdOZmZ+rTWFiUKXRGNC2BA6kR4165UjeY0BQXa6XOrfmMJux9LaUKIym4OvlltH+5S+5KQPtzvjP96mBVWqdNPZokReQY5QxZ3ztGR/tyh4+fnLTQyXhRBH/jLmqNdZoCwhRFJfHj9qqgi3J0dcKAIMiGj06XrrqeN4zF/kQ2qCw7c1UL9DQ70qHP65ggM4FgfKkX0WHLJrwandi9K8iYavGE4YkENfLb0CFXOtFN1ekdBlaikAdez2WEs/TMjY1Ei9x9pYI7ht+3exUb0wWhIgwVv1myWAhkUGPIL1PS7mi+A6tWMPpidl4zlTAvY/YJdZJOQW7gD7uI+AAz4ucm3A7VBdtfOe/PRlylHg9+xOJjIqmVKa1e4zzM/yvOSpYu9AL8Qkxe4Bvn7GHq+94ZXG8rC+4410/DLns+16dDoOBI6G/nOBjavVe3X+qgcvvFi8K8GDp/xdBXz9eUDEzPcrRuU28y7ccKPmvakmRPwutjQDdNA0iP8KoJtrVrpih9EP5P1l+NpNJHnLn/CW9RSsDJuMLfMuelaEO7eVL+q91t3HG0pebZ/utYMyHxLI1fCEpXDdYC8IBObaNCJylFRL80l59GviefcYdfMQjSWemhVvEBelGl77zNx+7FdZs/wtLVCOxaDaif2TdW6LO5hvTIHeXOsdKtMykitBXYXtecZJbyLHW3kBGDiOT2qDyhiWIIWspvQZaNHuj9PSzWPIq7/tDTxdQ4+qskd+LDWGcB2LinFt0j/LOpsTjZRZ80RaVQloFAigaMJkp8Q3VPFJksbkMofBcYmC8dFlSQCW65pn4fypsLDb5HibroD0pshQeaaid1AZ8iVZlwdBMlk27LGU8TtGhfEAwtNeQbA32knTSixq3jAIq/+ysZ1+pitn+GzmtLFjqBMBANfiFWQAQiYIjaED6c3wHtkzoBVAx3MYrb+keNIeNc1+744cfNx+wTTwAzelKvhVT3CgECccXze1UKbUQZ; JSessionID=zjPJWyLMspYZgQz02B42FnDv3QCPv1v57wLR768kCrrd48Dtm21F!-223451482; CTICookie=a9a17649-55b7-475a-81df-06f715b50695=true&amp;1eb9e01a-2ff7-405b-b319-ae2b839ecee8=true&amp;f4052f95-9686-4aac-a959-50e6a2e2b8dd=true; SiteminderUserInfo=SiteminderUserId=p7c&amp;SiteminderUserGUID=45ec3b6f-6378-480c-8c5b-2be29cbbc9fd; DRUM_BT1=R:43|i:7917|e:529; DRUM_BT=R:43|g:aecc35e8-9ce2-4f21-8957-944f5bd4334e</p>\n\n<p>Here is the cookie string thats been passed.</p>\n\n<p>How can I reconstruct the same information using Python dictionary to be passed using python requests module.</p>\n"}, {"tags": ["python", "apache-spark", "dataframe", "pyspark", "apache-spark-sql"], "answers": [{"comments": [{"owner": {"reputation": 6132, "user_id": 372496, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/lim2b.jpg?s=128&g=1", "display_name": "Ganesh Krishnan", "link": "https://stackoverflow.com/users/372496/ganesh-krishnan"}, "edited": false, "score": 0, "creation_date": 1513513517, "post_id": 35190355, "comment_id": 82674178, "body": "Note that after Spark 2.0 the correct command would be words = df.select(&quot;Word&quot;).distinct().rdd.flatMap(lambda x: x).collect()"}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 5, "last_activity_date": 1513513560, "last_edit_date": 1513513560, "creation_date": 1454545417, "answer_id": 35190355, "question_id": 35190109, "link": "https://stackoverflow.com/questions/35190109/pyspark-split-filter-dataframe-by-columns-values/35190355#35190355", "title": "PySpark - Split/Filter DataFrame by column&#39;s values", "body": "<p>It won't be efficient but you can map with filter over the list of unique values:</p>\n\n<pre><code>words = df.select(\"Word\").distinct().flatMap(lambda x: x).collect()\ndfs = [df.where(df[\"Word\"] == word) for word in words]\n</code></pre>\n\n<p>Post Spark 2.0</p>\n\n<pre><code>words = df.select(\"Word\").distinct().rdd.flatMap(lambda x: x).collect()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 5774335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aacc6bd9bc112b35c1da4c27f8f53c0e?s=128&d=identicon&r=PG&f=1", "display_name": "JustinCase", "link": "https://stackoverflow.com/users/5774335/justincase"}, "is_accepted": false, "score": 1, "last_activity_date": 1503562523, "creation_date": 1503562523, "answer_id": 45856370, "question_id": 35190109, "link": "https://stackoverflow.com/questions/35190109/pyspark-split-filter-dataframe-by-columns-values/45856370#45856370", "title": "PySpark - Split/Filter DataFrame by column&#39;s values", "body": "<p>In addition to what zero323 said, I would might add</p>\n\n<pre><code>word.persist()\n</code></pre>\n\n<p>before the creation of the dfs, so the \"words\" dataframe won't need to be transformed each time when you will have an action on each of your \"dfs\"</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2523485"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11236, "favorite_count": 1, "accepted_answer_id": 35190355, "answer_count": 2, "score": 4, "last_activity_date": 1546797140, "creation_date": 1454543902, "last_edit_date": 1546797140, "question_id": 35190109, "link": "https://stackoverflow.com/questions/35190109/pyspark-split-filter-dataframe-by-columns-values", "title": "PySpark - Split/Filter DataFrame by column&#39;s values", "body": "<p>I have a DataFrame similar to this example:</p>\n\n<pre><code>Timestamp | Word | Count\n\n30/12/2015 | example_1 | 3\n\n29/12/2015 | example_2 | 1\n\n28/12/2015 | example_2 | 9\n\n27/12/2015 | example_3 | 7\n\n... | ... | ...\n</code></pre>\n\n<p>and i want to split this data frame by 'word' column's values to obtain a \"list\" of DataFrame (to plot some figures in a next step). For example:</p>\n\n<p><strong>DF1</strong></p>\n\n<pre><code>Timestamp | Word | Count\n\n30/12/2015 | example_1 | 3\n</code></pre>\n\n<p><strong>DF2</strong></p>\n\n<pre><code>Timestamp | Word | Count\n\n29/12/2015 | example_2 | 1\n\n28/12/2015 | example_2 | 9\n</code></pre>\n\n<p><strong>DF3</strong></p>\n\n<pre><code>Timestamp | Word | Count\n\n27/12/2015 | example_3 | 7\n</code></pre>\n\n<p>Is there a way to do this with PySpark (1.6)?</p>\n"}, {"tags": ["python", "http", "ssh", "python-requests"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454544044, "post_id": 35190088, "comment_id": 58097363, "body": "your import does not match your code ... this question really doesnt make sense ... it works fine in my ssh terminal (and ever ssh terminal I have ever tried)"}, {"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 0, "creation_date": 1454544102, "post_id": 35190088, "comment_id": 58097377, "body": "Are you in enterprise network?"}, {"owner": {"reputation": 2362, "user_id": 1459901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Uc6uH.jpg?s=128&g=1", "display_name": "Cisplatin", "link": "https://stackoverflow.com/users/1459901/cisplatin"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1454544184, "post_id": 35190088, "comment_id": 58097419, "body": "@JoranBeasley Fixed; the code I was testing with was correct."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454544407, "post_id": 35190088, "comment_id": 58097491, "body": "see <a href=\"http://stackoverflow.com/questions/10588644/how-can-i-see-the-entire-http-request-thats-being-sent-by-my-python-application\" title=\"how can i see the entire http request thats being sent by my python application\">stackoverflow.com/questions/10588644/&hellip;</a> ... you might be able to see some extra debug info about what is going on"}, {"owner": {"reputation": 2362, "user_id": 1459901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Uc6uH.jpg?s=128&g=1", "display_name": "Cisplatin", "link": "https://stackoverflow.com/users/1459901/cisplatin"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454544573, "post_id": 35190088, "comment_id": 58097544, "body": "@JoranBeasley added the results to the question."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1454544723, "post_id": 35190088, "comment_id": 58097580, "body": "is this a virtualbox? or a physical machine? I would likely blame the network configuration (ie firewall/proxy/or VM network adapter)"}, {"owner": {"reputation": 3567, "user_id": 4116239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksElS.png?s=128&g=1", "display_name": "Kevin J. Chase", "link": "https://stackoverflow.com/users/4116239/kevin-j-chase"}, "edited": false, "score": 0, "creation_date": 1454556736, "post_id": 35190088, "comment_id": 58100977, "body": "What evidence do you have that you can fetch that URL from the remote machine at all?  From the command line of your ssh-destination, can you <code>wget</code> or <code>curl</code> that URL?  Can you <code>telnet www.google.com 443</code> (or port <code>80</code>, for that matter)?  Can you <code>ping www.google.com</code>?  Run through all your usual network-troubleshooting tricks <i>from the host you&#39;ve <code>ssh</code>ed into</i>."}], "answers": [{"comments": [{"owner": {"reputation": 2362, "user_id": 1459901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Uc6uH.jpg?s=128&g=1", "display_name": "Cisplatin", "link": "https://stackoverflow.com/users/1459901/cisplatin"}, "edited": false, "score": 0, "creation_date": 1454544057, "post_id": 35190121, "comment_id": 58097367, "body": "I was using urlllib2 before and was having the same error, not sure this will work."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454544065, "post_id": 35190121, "comment_id": 58097369, "body": "why do you think this will work if requests wont? @felixbade"}, {"owner": {"reputation": 762, "user_id": 1470028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cPQyc.png?s=128&g=1", "display_name": "felixbade", "link": "https://stackoverflow.com/users/1470028/felixbade"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454544208, "post_id": 35190121, "comment_id": 58097429, "body": "@JoranBeasley ahh, I thought there was just a typo in the code"}], "tags": [], "owner": {"reputation": 762, "user_id": 1470028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cPQyc.png?s=128&g=1", "display_name": "felixbade", "link": "https://stackoverflow.com/users/1470028/felixbade"}, "is_accepted": false, "score": 1, "last_activity_date": 1454543976, "creation_date": 1454543976, "answer_id": 35190121, "question_id": 35190088, "link": "https://stackoverflow.com/questions/35190088/how-to-send-http-request-in-ssh/35190121#35190121", "title": "How to send HTTP request in SSH?", "body": "<p>Try this (assuming you are using python3):</p>\n\n<pre><code>from urllib.request import urlopen\nr = urlopen('https://www.google.com').read()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2047, "user_id": 124764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b141ea84f47445e24cbfc6e34d30de54?s=128&d=identicon&r=PG", "display_name": "Zada Zorg", "link": "https://stackoverflow.com/users/124764/zada-zorg"}, "is_accepted": true, "score": 2, "last_activity_date": 1454545926, "creation_date": 1454545926, "answer_id": 35190431, "question_id": 35190088, "link": "https://stackoverflow.com/questions/35190088/how-to-send-http-request-in-ssh/35190431#35190431", "title": "How to send HTTP request in SSH?", "body": "<p>First, check that you have ability to reach URL using some system-wide tool, like curl: <code>curl -I \"https://www.google.com\"</code>. In case, you will have not timeout error, and got success response, my answer is not for you :)</p>\n\n<p>You code can run forever, just because there is not timeout defined for socket connections. And if for some reason your system is not able to read from socket (at low level), you have to wait for long time.</p>\n\n<p><a href=\"http://docs.python-requests.org/en/latest/user/quickstart/#timeouts\" rel=\"nofollow\">http://docs.python-requests.org/en/latest/user/quickstart/#timeouts</a></p>\n"}], "owner": {"reputation": 2362, "user_id": 1459901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Uc6uH.jpg?s=128&g=1", "display_name": "Cisplatin", "link": "https://stackoverflow.com/users/1459901/cisplatin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2666, "favorite_count": 1, "accepted_answer_id": 35190431, "answer_count": 2, "score": 4, "last_activity_date": 1454545926, "creation_date": 1454543782, "last_edit_date": 1454544559, "question_id": 35190088, "link": "https://stackoverflow.com/questions/35190088/how-to-send-http-request-in-ssh", "title": "How to send HTTP request in SSH?", "body": "<p>I'm trying to make a simple HTTP request in Python in an SSH terminal:</p>\n\n<pre><code>from requests import get\nr = get(\"https://www.google.com\")\n</code></pre>\n\n<p>However, this command just stalls to infinity. This does not happen when not in SSH.</p>\n\n<p>Is there any way to send the request such that it goes through?</p>\n\n<p>Thanks ahead of time.</p>\n\n<p><strong>EDIT:</strong> Running the logging in Joran's link yields only the following line:</p>\n\n<pre><code>INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.google.com\n</code></pre>\n"}, {"tags": ["python", "pandas", "statistics", "statistics-bootstrap"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1454545943, "post_id": 35190040, "comment_id": 58098006, "body": "Short answer: you&#39;ll do this in a groupby/apply operation. For now, you should post ~20 sample record and the expected output for the dataset."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1454547297, "post_id": 35190040, "comment_id": 58098425, "body": "For approach 1, <code>df = df.append(temp, ignore_index = True)</code> is very slow. You are best collecting the rows in a list and then appending all at once.  For approach 3, what is the difference in timing if you had a dummy <code>bstrp_std</code>/<code>bstrp_avg</code> functions (i.e. they just return a constant). This would allow you to judge the extra computational burden of these steps, which I believe is substantial."}, {"owner": {"reputation": 73, "user_id": 5633551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf6c6f8592b2055d291a66f01000fbb?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/5633551/eddie"}, "edited": false, "score": 0, "creation_date": 1454547743, "post_id": 35190040, "comment_id": 58098581, "body": "Paul, thanks for your response - I&#39;ve edited to include the input and outputs.  The groupby/apply approach finally gave me some results after around 4 hours processing.  Alexander,  you are right that the bootstrapping takes a significant amount of time, but even without these functions (just np.std and np.mean), it still takes 20 minutes or so."}], "owner": {"reputation": 73, "user_id": 5633551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf6c6f8592b2055d291a66f01000fbb?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/5633551/eddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1454609932, "creation_date": 1454543499, "last_edit_date": 1454609932, "question_id": 35190040, "link": "https://stackoverflow.com/questions/35190040/what-is-the-most-efficient-way-to-iteratively-calculate-aggregations-statistics", "title": "What is the most efficient way to iteratively calculate aggregations/statistics for each row in a pandas dataframe using only earlier rows?", "body": "<p>I'm doing an analysis that requires me to calculate summary statistics and bootstrapped confidence intervals for every record in a dataset of 12 million records based only on records that share a value for the location_id, hour, day columns and whose created_at timestamp (called here two_hour_buckets) is &lt; the timestamp of the record for which to calculate the statistic.</p>\n\n<p>I've tried a few different approaches, but have struggled to find one that returns the desired calculations in a reasonable amount of time.  Any suggestions for a more efficient approach would be greatly appreciated!</p>\n\n<p>Here is the bootstrapping function I wrote:</p>\n\n<pre><code>def bstrp_std(data):\n    '95th percentile highest bootstrapped std estimate'\n    n = len(data)\n    boot = np.random.choice(data, size = (1000, n))\n    stat = np.sort(np.std(boot,1))\n    return(stat[950])\n\ndef bstrp_avg(data):\n    '95th percentile highest bootstrapped mean estimate'\n    n = len(data)\n    boot = np.random.choice(data, size = (1000, n))\n    stat = np.sort(np.mean(boot,1))\n    return(stat[950])\n</code></pre>\n\n<p><strong>Approaches I've attempted:</strong></p>\n\n<p><strong>Iterating through dataframe with .iterrows()</strong>\nWAY too slow</p>\n\n<pre><code>for n, i in enumerate(clean.iterrows()):\n    if n&lt;1:\n        df = clean[(clean['location_id']==i[1][1]) \n                   &amp; (clean['day']==i[1][8]) \n                   &amp; (clean['hour']==i[1][9]) \n                   &amp; (clean['two_hour_buckets_x'] &lt; i[1][0])].copy()\n\n        df = df.groupby(['location_id', 'day', 'hour'])['outgoing_payment_amount'].agg({'std_bstp':lambda x: bstrp_std(x),\n                                                                                        'mean_bstp': lambda x: bstrp_avg(x),\n                                                                                       'mean': np.mean,\n                                                                                       'std': np.std, \n                                                                                        'sample_size':np.size}).reset_index()\n        df['two_hour_buckets'] = i[1][0]\n\n    else:\n        temp = clean[(clean['location_id']==i[1][1]) \n                     &amp; (clean['day']==i[1][8]) \n                     &amp; (clean['hour']==i[1][9]) \n                     &amp; (clean['two_hour_buckets_x'] &lt; i[1][0])].copy()\n\n        temp = temp.groupby(['location_id', 'day', 'hour'])['outgoing_payment_amount'].agg({'std_bstp':lambda x: bstrp_std(x),\n                                                                                        'mean_bstp': lambda x: bstrp_avg(x),\n                                                                                       'mean': np.mean,\n                                                                                       'std': np.std, \n                                                                                        'sample_size':np.size}).reset_index()\n        temp['two_hour_buckets'] = i[1][0]\n        df = df.append(temp, ignore_index = True)\n</code></pre>\n\n<p><strong>Applying a function straight to the dataframe</strong>\nAlso too slow</p>\n\n<pre><code>def brstrp_big(table):\n    array = clean[(clean['location_id']==table['location_id']) \n                   &amp; (clean['day']==table['day']) \n                   &amp; (clean['hour']==table['hour']) \n                   &amp; (clean['two_hour_buckets_x'] &lt; table['two_hour_buckets_x'])]['outgoing_payment_amount']\n    if len(array) &lt; 2:\n        return 0\n    else:\n        n = len(array)\n        boot = np.random.choice(array, size = (1000, n))\n        stat = np.sort(np.std(boot,1))\n        return(stat[950])\n\nclean['bstd_std'] = clean.apply(brstrp_big, axis = 1)\n</code></pre>\n\n<p><strong>Merging copy of dataframe, then filtering rows where the timestamp of joined rows are &lt; timestamp of original rows with same location_id, hour, day, then performing groupby aggregations</strong>\nVery slow, and the first operation generates 365m rows, though seems like the best attempt yet</p>\n\n<pre><code>eeee = clean1.merge(clean2, how='left', on = (['location_id', 'day', 'hour']), copy=False)\neeee = eeee[eeee['two_hour_buckets_x_x'] &gt; eeee['two_hour_buckets_x_y']].copy()\neeee = eeee.groupby(['location_id', 'two_hour_buckets_x_x'])['outgoing_payment_amount']\n\neeee = eeee.agg({'mean': np.mean,\n                 'std': np.std, \n                 'sample_size':np.size,\n                 'std_bstp':lambda x: bstrp_std(x),\n                 'mean_bstp': lambda x: bstrp_avg(x)}).reset_index()\n</code></pre>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>      two_hour_buckets_x  location_id       day  hour  outgoing_payment_amount\n2000          1434650400           59  Thursday    10                     0.00\n2001          1434657600           59  Thursday    12                     0.00\n2002          1434664800           59  Thursday    14                     0.00\n2003          1434672000           59  Thursday    16                  1017.46\n2004          1434679200           59  Thursday    18                     0.00\n2005          1434686400           59  Thursday    20                     0.00\n2006          1434693600           59  Thursday    22                     0.00\n2007          1434700800           59    Friday     0                     0.00\n2008          1434708000           59    Friday     2                     0.00\n2009          1434715200           59    Friday     4                     0.00\n2010          1434722400           59    Friday     6                     0.00\n2011          1434729600           59    Friday     8                     0.00\n2012          1434736800           59    Friday    10                     0.00\n2013          1434744000           59    Friday    12                     0.00\n2014          1434751200           59    Friday    14                     0.00\n2015          1434758400           59    Friday    16                   528.22\n2016          1434765600           59    Friday    18                   865.96\n2017          1434772800           59    Friday    20                     0.00\n2018          1434780000           59    Friday    22                     0.00\n2019          1434787200           59  Saturday     0                     0.00\n</code></pre>\n\n<p><strong>Desired Output</strong></p>\n\n<pre><code>      location_id  two_hour_buckets_x_x  sample_size    std_bstp         std  \\\n2000           59            1435255200           24  476.922804  350.986069   \n2001           59            1435262400           24  696.152358  449.504956   \n2002           59            1435269600           24  487.779153  383.545528   \n2003           59            1435276800           24  489.020190  401.858948   \n2004           59            1435284000           24  670.082177  535.158428   \n2005           59            1435291200           24  297.647022  183.711731   \n2006           59            1435298400           24    0.000000    0.000000   \n2007           59            1435305600           24    0.000000    0.000000   \n2008           59            1435312800           24    0.000000    0.000000   \n2009           59            1435320000           24    0.000000    0.000000   \n2010           59            1435327200           24    0.000000    0.000000   \n2011           59            1435334400           24  115.976509   71.582255   \n2012           59            1435341600           24  336.998549  251.685526   \n2013           59            1435348800           24  495.415309  384.295034   \n2014           59            1435356000           25  276.204290  221.158691   \n2015           59            1435363200           25  646.605050  465.187672   \n2016           59            1435370400           25  606.740824  501.532447   \n2017           59            1435377600           25  207.046545  153.245775   \n2018           59            1435384800           25    0.000000    0.000000   \n2019           59            1435392000           25    0.000000    0.000000   \n\n       mean_bstp        mean  \n2000  276.157500  150.517500  \n2001  302.775000  142.515000  \n2002  342.689167  197.455000  \n2003  382.813333  246.694167  \n2004  459.903333  290.807500  \n2005  112.500000   37.500000  \n2006    0.000000    0.000000  \n2007    0.000000    0.000000  \n2008    0.000000    0.000000  \n2009    0.000000    0.000000  \n2010    0.000000    0.000000  \n2011   43.835000   14.611667  \n2012  183.258333   95.989167  \n2013  333.573333  192.307500  \n2014  176.465600  102.017600  \n2015  411.064000  247.736800  \n2016  466.547200  290.933600  \n2017  105.095200   51.756000  \n2018    0.000000    0.000000  \n2019    0.000000    0.000000\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1454543381, "post_id": 35189975, "comment_id": 58097125, "body": "And it isn&#39;t necessary to wrap every single string with <code>str()</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5874163"}, "edited": false, "score": 0, "creation_date": 1454544983, "post_id": 35189975, "comment_id": 58097683, "body": "@JohnHoward thank you very much for this, but there is a problem. When I get the strings <code>22:30</code> it will converts to 12 hours time but the minutes will change. I don&#39;t want to get the minutes from the current time. I want to get the minutes when I split the strings to get it to join with the other strings that I converted from 24 hours to 12 hours. Please change the code."}], "tags": [], "owner": {"reputation": 49728, "user_id": 374797, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7a7c59685abf968ca5ef37f79668ec93?s=128&d=identicon&r=PG&f=1", "display_name": "John Howard", "link": "https://stackoverflow.com/users/374797/john-howard"}, "is_accepted": true, "score": 0, "last_activity_date": 1454543159, "creation_date": 1454543159, "answer_id": 35189975, "question_id": 35189941, "link": "https://stackoverflow.com/questions/35189941/split-the-strings-in-two-parts/35189975#35189975", "title": "Split the strings in two parts", "body": "<p>Your problem comes from the end of your last line. When you use split it is returning a list of two strings. Since you are only interested in the second (index 1) you can specify this by adding [1] after the split function.</p>\n\n<pre><code>converts_time = time.strftime(\"%I\").lstrip('0') + str(\":\") + str(stop_time.split(\":\")[0]) + time.strftime(\"%p\")\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5874163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 35189975, "answer_count": 1, "score": 1, "last_activity_date": 1454543159, "creation_date": 1454542965, "question_id": 35189941, "link": "https://stackoverflow.com/questions/35189941/split-the-strings-in-two-parts", "title": "Split the strings in two parts", "body": "<p>I need some help with my code, I am writing the code as I want to create the variable to get the strings that will converts the time from 24 hours to 12 hours. Then I want to split the strings to get the minute after the <code>:</code>.</p>\n\n<p>Example:</p>\n\n<p>When my strings shows as:</p>\n\n<pre><code>22:30\n22:30\n22:40\n23:05\n23:00\n23:00\n23:00\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>10:30 PM\n10:30 PM\n10:40 PM\n11:05 PM\n11:00 PM\n11:00 PM\n11:00 PM\n</code></pre>\n\n<p>So when I try this:</p>\n\n<pre><code>stop_time = str(stop_date[1])\n\nconverts_time = time.strptime(stop_time, \"%H:%M\")\nconverts_time = time.strftime(\"%I\").lstrip('0') + str(\":\") + str(stop_time.split(\":\")) + time.strftime(\"%p\")\n</code></pre>\n\n<p>I will get this:</p>\n\n<pre><code>10:['22', '30'] PM\n10:['22', '30'] PM\n10:['22', '40'] PM\n10:['23', '05'] PM\n10:['23', '00'] PM\n10:['23', '00'] PM\n10:['23', '00'] PM\n</code></pre>\n\n<p>I want to use the lstrip method to remove the <code>0</code> when my current time show in PM and I don't wish to use the lstrip when my current time show in AM. As you can see that I am using stop_time.split method, I want to converts the hours from 24 to 12 hours then I want to split the strings after the <code>:</code> to get the minute for each string to make it show like: 10:30 PM, 10:40 PM...etc so I can use that variable to compare with the other variable to see if the time is less than.</p>\n\n<p>Can you please show me an example how I can converts the time from 24 hours to 12 hours, then split the strings after the <code>:</code> to get the minute with the <code>AM</code> or <code>PM</code>?</p>\n"}, {"tags": ["jquery", "python", "ajax", "django", "forms"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4462748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abf9527a3ff761117e642fa2bf85f7c?s=128&d=identicon&r=PG&f=1", "display_name": "mark4284", "link": "https://stackoverflow.com/users/4462748/mark4284"}, "edited": false, "score": 0, "creation_date": 1454546129, "post_id": 35190309, "comment_id": 58098067, "body": "no, that&#39;s not what I need. so in our code above, what if you pass from jquery to django this: list_of_ids = [1,2,3,4]  in django, it&#39;ll show up as this: request.POST: &#39;list_of_ids[]&#39; : [1,2,3,4]  now, I want to clean that by passing that on to the form  however, it doesn&#39;t recognize list_of_ids[] as list_of_ids but instead returns list_of_ids: [], an empty list  so my question is how do I clean that list of ids?"}, {"owner": {"reputation": 64, "user_id": 4678030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30e1fe7f045316073ac0d76f0252c204?s=128&d=identicon&r=PG&f=1", "display_name": "miao.wang", "link": "https://stackoverflow.com/users/4678030/miao-wang"}, "reply_to_user": {"reputation": 21, "user_id": 4462748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abf9527a3ff761117e642fa2bf85f7c?s=128&d=identicon&r=PG&f=1", "display_name": "mark4284", "link": "https://stackoverflow.com/users/4462748/mark4284"}, "edited": false, "score": 0, "creation_date": 1454552635, "post_id": 35190309, "comment_id": 58099909, "body": "if your familiar with pdb: &#39;import pdb; pdb.set_trace()&#39; before &#39;if form.is_valid()&#39; to check whether you have got cleaned_data. It seems your form is not valid."}, {"owner": {"reputation": 21, "user_id": 4462748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abf9527a3ff761117e642fa2bf85f7c?s=128&d=identicon&r=PG&f=1", "display_name": "mark4284", "link": "https://stackoverflow.com/users/4462748/mark4284"}, "edited": false, "score": 0, "creation_date": 1454569501, "post_id": 35190309, "comment_id": 58105727, "body": "it is cleaned, it just drops the list_of_ids[] since it doesn&#39;t recognize that i&#39;m trying to refer to list_of_ids  regardless, I want to catch an array of integers from a json object and pass it to forms such that it cleans it for me"}, {"owner": {"reputation": 64, "user_id": 4678030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30e1fe7f045316073ac0d76f0252c204?s=128&d=identicon&r=PG&f=1", "display_name": "miao.wang", "link": "https://stackoverflow.com/users/4678030/miao-wang"}, "reply_to_user": {"reputation": 21, "user_id": 4462748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abf9527a3ff761117e642fa2bf85f7c?s=128&d=identicon&r=PG&f=1", "display_name": "mark4284", "link": "https://stackoverflow.com/users/4462748/mark4284"}, "edited": false, "score": 0, "creation_date": 1454606510, "post_id": 35190309, "comment_id": 58130302, "body": "I am wondering maybe there are some type error, or why it drops the list_of_ids. Also, is it list_of_ids, or list_of_ids[] ?"}, {"owner": {"reputation": 21, "user_id": 4462748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abf9527a3ff761117e642fa2bf85f7c?s=128&d=identicon&r=PG&f=1", "display_name": "mark4284", "link": "https://stackoverflow.com/users/4462748/mark4284"}, "edited": false, "score": 0, "creation_date": 1454606836, "post_id": 35190309, "comment_id": 58130521, "body": "from jquery to django, the data are as follows: {   name : ______,   list_of_ids[] : [ <b>,</b>,<b>,</b>], }  Django receives them as &#39;name&#39;, and &#39;list_of_ids[]&#39;"}], "tags": [], "owner": {"reputation": 64, "user_id": 4678030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30e1fe7f045316073ac0d76f0252c204?s=128&d=identicon&r=PG&f=1", "display_name": "miao.wang", "link": "https://stackoverflow.com/users/4678030/miao-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1454545214, "creation_date": 1454545214, "answer_id": 35190309, "question_id": 35189930, "link": "https://stackoverflow.com/questions/35189930/django-passing-data-via-ajax-to-views-and-then-into-forms-for-cleaning/35190309#35190309", "title": "django: passing data via ajax to views, and then into forms for cleaning", "body": "<p>It seems you already use 'form', then what I did is:\nviews.py:</p>\n\n<pre><code>if request.method == \"POST\":\n    form = MyForm(request.POST)\n    ***do something ***\nelse:\n    form = MyForm()  # this is an empty form\nreturn render(request, 'my**.html',{'form':form})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4462748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abf9527a3ff761117e642fa2bf85f7c?s=128&d=identicon&r=PG&f=1", "display_name": "mark4284", "link": "https://stackoverflow.com/users/4462748/mark4284"}, "is_accepted": true, "score": 0, "last_activity_date": 1454615277, "creation_date": 1454615277, "answer_id": 35210273, "question_id": 35189930, "link": "https://stackoverflow.com/questions/35189930/django-passing-data-via-ajax-to-views-and-then-into-forms-for-cleaning/35210273#35210273", "title": "django: passing data via ajax to views, and then into forms for cleaning", "body": "<p>uh, this is really dumb, but the solution is basically this:</p>\n\n<pre><code>$.ajaxSettings.traditional = true;\n</code></pre>\n\n<p>Add that piece of code in the javascript PRIOR to calling your post request.\nWhat this does is it goes back to vanilla flavor jquery where a list_of_ids[] goes back to just being list_of_ids, and from there, passing request.POST in the form cleans the data as expected.</p>\n"}], "owner": {"reputation": 21, "user_id": 4462748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4abf9527a3ff761117e642fa2bf85f7c?s=128&d=identicon&r=PG&f=1", "display_name": "mark4284", "link": "https://stackoverflow.com/users/4462748/mark4284"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "accepted_answer_id": 35210273, "answer_count": 2, "score": 0, "last_activity_date": 1454615277, "creation_date": 1454542933, "last_edit_date": 1454613916, "question_id": 35189930, "link": "https://stackoverflow.com/questions/35189930/django-passing-data-via-ajax-to-views-and-then-into-forms-for-cleaning", "title": "django: passing data via ajax to views, and then into forms for cleaning", "body": "<p>Ok, here's what I understand so far:\nI can pass data from jquery to django as a json format as such:\nAJAX Data: {'name' : 'flag', list_of_ids : [12,32,12,32]}</p>\n\n<p>Django's request.POST data: {'name' : 'flag', 'list_of_ids[]' : [12,32,12,32]}</p>\n\n<p>now, to access the list in django, you'd do this: request.POST.getlist('list_of_ids')</p>\n\n<p>Now, suppose i want to clean that input of list_of_ids[].</p>\n\n<p>SO I create a forms.py with name = forms.CharField(), and list_of_ids = forms.ModelMultipleChoiceField(queryset=ObjectModel.objects.all(), required=False)</p>\n\n<p>the returned \"cleaned\" data happens to be: {'name' : 'flag', 'list_of_ids' : []}</p>\n\n<p>Now my question is, how can I make forms.py work with this such that it actually takes in list_of_ids[], and outputs a cleaned_data of list_of_ids?\nIs this possible to do? </p>\n\n<p><strong>EDIT</strong>\nHere's my class form:</p>\n\n<pre><code>class ModelForm(form.Form):\n    name = form.CharField()\n    relation = forms.ModelMultipleChoiceField(queryset=ForeignObjects.objects.all(), required=False)\n</code></pre>\n\n<p>And then here's views.py atm:</p>\n\n<pre><code>def test_view(request):\n    form = ModelForm(request.POST)\n    if form.is_valid():\n        #do stuff\n    #do stuff\n</code></pre>\n\n<p>and here's the ajax call:\n    \n        $.ajax({\n            url: '/test_url/',\n            type: 'POST',\n            data: {\n                name : 'test',\n                list_of_ids: [12,32,41]\n            }\n        })\n    </p>\n\n<p>Ok, as explained, from javascript to django, it will be this kind of data:</p>\n\n<pre><code>{\n    'name' : 'test',\n    'list_of_ids[]' : [12,32,41]\n}\n</code></pre>\n\n<p>this is what django sees. so accessing list_of_ids[] would be request.POST.getlist('list_of_ids[]').\nNow, if I pass this to the form, django does not catch list_of_ids[] but instead maps list_of_ids as an empty list. How do I catch this in forms? would it need to be a list of objects? (I've tried this)</p>\n"}, {"tags": ["python", "tkinter", "tk"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1454543150, "post_id": 35189899, "comment_id": 58097036, "body": "What is <code>MyApp.mainloop</code>? Call <code>root.mainloop()</code>."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1454543879, "post_id": 35189899, "comment_id": 58097308, "body": "You need to boil it down to the minimal example that makes it fail."}], "answers": [{"tags": [], "owner": {"reputation": 15679, "user_id": 369450, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5cf82bfcd75a3bd40deaad83f7657c59?s=128&d=identicon&r=PG&f=1", "display_name": "All Workers Are Essential", "link": "https://stackoverflow.com/users/369450/all-workers-are-essential"}, "is_accepted": true, "score": 2, "last_activity_date": 1454554587, "creation_date": 1454554587, "answer_id": 35191669, "question_id": 35189899, "link": "https://stackoverflow.com/questions/35189899/how-to-implement-indeterminate-progressbar-in-tkinter/35191669#35191669", "title": "How to implement indeterminate Progressbar in Tkinter?", "body": "<p>The problem is that <code>self.read_file()</code> and <code>self.spellcheck()</code> are blocking which prevents Tkinter from updating your progress bar in its main loop. A simple way to solve this is to do your processing in a separate thread, and periodically check to see if the thread finished its work.</p>\n\n<pre><code>import threading\n\nclass MyApp(ttk.Frame):\n    def __init__(self, master):\n        ttk.Frame.__init__(self, master)\n        fname = 'test.txt'\n        self.build_ui()\n        self.process_file(fname)\n\n    def process_file(self, fname):\n        self.show_progress(True)\n\n        # Start thread to process file.\n        self.thread = threading.Thread(target=self.process_file_worker, args=(fname,))\n        self.thread.daemon = True # Allow the program to terminate without waiting for the thread to finish.\n        self.thread.start()\n\n        # Start checking the thread.\n        self.process_file_check()\n\n    def process_file_check(self):\n        if self.thread.is_alive():\n            # Thread is still running, check thread again in 10 milliseconds.\n            self.after(10, self.process_file_check)\n\n        else:\n            # Thread finished, handle processed results.\n            # Do something with `self.fdata`.\n            self.show_progress(False)\n\n    def process_file_worker(self, fname):\n        # This is run inside the thread.\n        fdata = self.read_file(fname)\n        fdata = self.spellcheck(fdata)\n        self.fdata = fdata\n\n    def show_progress(self, start):\n        if start:\n            self.prog_win = tk.Toplevel()\n            self.prog_win.title('Working...')\n            self.prog_win.resizable(0, 0)\n            self.progress_bar = ttk.Progressbar(self.prog_win,\n                                                orient=tk.HORIZONTAL,\n                                                mode='indeterminate',\n                                                takefocus=True)\n            self.progress_bar.grid()\n            self.progress_bar.start()\n        else:\n            self.progress_bar.stop()\n            self.prog_win.destroy()\n\n\nroot = tk.Tk()\nroot.update()\ngui = MyApp(root)\ngui.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 5031, "user_id": 1984680, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/4SJZF.jpg?s=128&g=1", "display_name": "minerals", "link": "https://stackoverflow.com/users/1984680/minerals"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2317, "favorite_count": 0, "accepted_answer_id": 35191669, "answer_count": 1, "score": 1, "last_activity_date": 1454554587, "creation_date": 1454542812, "last_edit_date": 1454546036, "question_id": 35189899, "link": "https://stackoverflow.com/questions/35189899/how-to-implement-indeterminate-progressbar-in-tkinter", "title": "How to implement indeterminate Progressbar in Tkinter?", "body": "<p>My application has some time-consuming background processes to be run occasionally. I want to show that the application is working using a simple <strong>indeterminate</strong> <code>ttk.Progressbar</code>.\nHowever, my implementation only shows static progress bar.</p>\n\n<p>Anyway, here is how I implemented it.</p>\n\n<pre><code>class MyApp(ttk.Frame):\n    def __init__(self, master):\n        ttk.Frame.__init__(self, master)\n        fname = 'test.txt'\n        self.build_ui()\n        self.process_file(fname)\n\n    def process_file(self, fname):\n        self.show_progress(True)\n        fdata = self.read_file(fname)\n        fdata = self.spellcheck(fdata)\n        self.show_progress(False)\n        return fdata\n\n    def show_progress(self, start)\n        if start:\n            self.prog_win = tk.Toplevel()\n            self.prog_win.title('Working...')\n            self.prog_win.resizable(0, 0)\n            self.progress_bar = ttk.Progressbar(self.prog_win,\n                                                orient=tk.HORIZONTAL,\n                                                mode='indeterminate',\n                                                takefocus=True)\n            self.progress_bar.grid()\n            self.progress_bar.start()\n        else:\n            self.progress_bar.stop()\n            self.prog_win.destroy()\n\n\nroot = tk.Tk()\nroot.update()\ngui = MyApp(root)\ngui.mainloop()\n</code></pre>\n\n<p>The code above does not work as intended. The <code>Progressbar</code> appears static, it does not move and just hangs there forever. I tried to use threading but if I start <code>show_progress</code> in a separate <code>Thread</code> it always gets executed after the processing has been done.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "python-3.x", "operators", "time-complexity", "modulo"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1454543237, "post_id": 35189851, "comment_id": 58097075, "body": "As that post explains, the modulo operator on fixed-length integers is a single machine instruction, O(1).  Is your algorithm some other use of modulo?"}, {"owner": {"reputation": 762, "user_id": 1470028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cPQyc.png?s=128&g=1", "display_name": "felixbade", "link": "https://stackoverflow.com/users/1470028/felixbade"}, "edited": false, "score": 1, "creation_date": 1454544817, "post_id": 35189851, "comment_id": 58097608, "body": "Python supports arbitrarily long integers, it should slow down eventually"}], "answers": [{"tags": [], "owner": {"reputation": 1381, "user_id": 5750172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Emt03.jpg?s=128&g=1", "display_name": "thodnev", "link": "https://stackoverflow.com/users/5750172/thodnev"}, "is_accepted": false, "score": 2, "last_activity_date": 1454546670, "last_edit_date": 1454546670, "creation_date": 1454545500, "answer_id": 35190370, "question_id": 35189851, "link": "https://stackoverflow.com/questions/35189851/time-complexity-of-modulo-operator-in-python/35190370#35190370", "title": "Time complexity of modulo operator in Python", "body": "<p>It's not that easy to determine, because if we speak about integer math, cpython uses different optimizations(for example for integers not exceeding the machine word it may be O(1) and for others it may be other). So there are two ways: first is looking into cpython sources and the second is measuring performance(for example with timeit) and then building extrapolation curve based on experimental points. The second method is better, because you would get an exact result, rather than a guess. For simple purposes, building a plot of experimental points should be enough, and if you want more, you may also use some regression analysis methods(like least-squares polynomial fitting).</p>\n\n<p>Here's source of int implementation in cpython (look for long_divrem and x_divrem routines): <a href=\"https://hg.python.org/cpython/file/tip/Objects/longobject.c\" rel=\"nofollow\">https://hg.python.org/cpython/file/tip/Objects/longobject.c</a></p>\n\n<p>Added: \nFor unsigned int modulo its used algorithm from Knuth's book, which is O(MN) where M+1 is number of machine words in the quotient and N is number of machine words in remainder.\nFor signed it's used own implementation</p>\n"}, {"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 3, "creation_date": 1454589194, "post_id": 35190489, "comment_id": 58118088, "body": "you might mean <code>log n</code> (the number of digits in the number), not <code>n</code> here (assuming <code>n % m</code> expression) i.e., <code>O(log m log n)</code> time complexity."}, {"owner": {"reputation": 1833, "user_id": 1064565, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/78fccb87609688340853e58676c0a7e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/1064565/jamie"}, "edited": false, "score": 0, "creation_date": 1551811592, "post_id": 35190489, "comment_id": 96774114, "body": "Yes, jfs is correct according to this answer: <a href=\"https://stackoverflow.com/a/18200092/1064565\">stackoverflow.com/a/18200092/1064565</a>"}], "tags": [], "owner": {"reputation": 10318, "user_id": 224574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a316666f495f55def1c7a7babe1f1?s=128&d=identicon&r=PG", "display_name": "casevh", "link": "https://stackoverflow.com/users/224574/casevh"}, "is_accepted": false, "score": 1, "last_activity_date": 1454546241, "creation_date": 1454546241, "answer_id": 35190489, "question_id": 35189851, "link": "https://stackoverflow.com/questions/35189851/time-complexity-of-modulo-operator-in-python/35190489#35190489", "title": "Time complexity of modulo operator in Python", "body": "<p>For large integers, Python division (and modulo) use an O(n^2) algorithm. Multiplication uses the Karatsuba multiplication which is O(n^1.585) but division uses basic \"grade-school\" division.</p>\n"}], "owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5644, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1603598734, "creation_date": 1454542523, "last_edit_date": 1492085955, "question_id": 35189851, "link": "https://stackoverflow.com/questions/35189851/time-complexity-of-modulo-operator-in-python", "title": "Time complexity of modulo operator in Python", "body": "<p>I am trying to determine the time complexity of an algorithm that I have, but I need first to know the time complexity of the % (modulo) operator in Python.</p>\n\n<p>According to <a href=\"https://math.stackexchange.com/questions/132487/what-is-the-runtime-of-a-modulus-operation\">this post</a> on <a href=\"http://math.stackexchange.com\">http://math.stackexchange.com</a>, its time complexity could be something similar to <code>O(log m log n)</code>, and in some specific cases it could also be optimised to be constant, but I would like to know if someone really knows the time complexity of <code>%</code>, so that I can determine correctly the overall time complexity of my algorithm. </p>\n\n<p>Of course I am aware that the complexity could change from implementation to implementation, but I am interested only in the standard implementation.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1454542819, "post_id": 35189831, "comment_id": 58096899, "body": "Please explain what you mean by &quot;tabular format&quot;.  How do you expect the output to appear?  Why is standard Python formatting not working for you?  You got exactly what you asked for: each row is a list of strings.  Did you want something like the input format, but with a colour appended to the end?"}, {"owner": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1454700927, "post_id": 35189831, "comment_id": 58178828, "body": "yes,I intend to do the same.and when I am trying to save the print result in a file,the format is getting distorted."}], "answers": [{"comments": [{"owner": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "edited": false, "score": 0, "creation_date": 1454700981, "post_id": 35189919, "comment_id": 58178864, "body": "I tried csv.writer option.But the issue I am facing is the result isnt getting stored in the file.."}, {"owner": {"reputation": 49728, "user_id": 374797, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7a7c59685abf968ca5ef37f79668ec93?s=128&d=identicon&r=PG&f=1", "display_name": "John Howard", "link": "https://stackoverflow.com/users/374797/john-howard"}, "reply_to_user": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "edited": false, "score": 0, "creation_date": 1454701061, "post_id": 35189919, "comment_id": 58178903, "body": "Well I&#39;m not sure what your new code looks like, but in your current code `    h = open(&quot;test.txt&quot;, &quot;w&quot;)` opens the file to write but you never actually write anything to it."}, {"owner": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "edited": false, "score": 0, "creation_date": 1454701205, "post_id": 35189919, "comment_id": 58178984, "body": "I have added my current edit to the main query/program."}, {"owner": {"reputation": 49728, "user_id": 374797, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7a7c59685abf968ca5ef37f79668ec93?s=128&d=identicon&r=PG&f=1", "display_name": "John Howard", "link": "https://stackoverflow.com/users/374797/john-howard"}, "reply_to_user": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "edited": false, "score": 0, "creation_date": 1454701557, "post_id": 35189919, "comment_id": 58179182, "body": "Take a look at the docs I linked in my answer. When you create a csv.writer object it doesn&#39;t actually write stuff until you call writerow. So in your case spamwriter.writerow(row)."}, {"owner": {"reputation": 49728, "user_id": 374797, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7a7c59685abf968ca5ef37f79668ec93?s=128&d=identicon&r=PG&f=1", "display_name": "John Howard", "link": "https://stackoverflow.com/users/374797/john-howard"}, "reply_to_user": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "edited": false, "score": 0, "creation_date": 1454701585, "post_id": 35189919, "comment_id": 58179194, "body": "Also watch out you are creating a csv.writer each time in your for-loop, it should be made outside then have it write a row each iteration."}, {"owner": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "edited": false, "score": 0, "creation_date": 1454701950, "post_id": 35189919, "comment_id": 58179380, "body": "HI,I tried to edit it,but still no table is saved in file.I will edit the main query to show you how my program looks now."}, {"owner": {"reputation": 49728, "user_id": 374797, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7a7c59685abf968ca5ef37f79668ec93?s=128&d=identicon&r=PG&f=1", "display_name": "John Howard", "link": "https://stackoverflow.com/users/374797/john-howard"}, "reply_to_user": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "edited": false, "score": 0, "creation_date": 1454702638, "post_id": 35189919, "comment_id": 58179716, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/102743/discussion-between-john-howard-and-shome\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 49728, "user_id": 374797, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7a7c59685abf968ca5ef37f79668ec93?s=128&d=identicon&r=PG&f=1", "display_name": "John Howard", "link": "https://stackoverflow.com/users/374797/john-howard"}, "is_accepted": false, "score": 1, "last_activity_date": 1454702634, "last_edit_date": 1454702634, "creation_date": 1454542887, "answer_id": 35189919, "question_id": 35189831, "link": "https://stackoverflow.com/questions/35189831/saving-output-result-in-tabular-format-in-same-file-or-different-file/35189919#35189919", "title": "Saving output result in tabular format in same file or different file", "body": "<p>Use the <a href=\"https://docs.python.org/2/library/csv.html#csv.writer\" rel=\"nofollow\">csv.writer</a> method. It works similar to the <code>csv.reader</code> method you used earlier in your code in that you can specify a delimiter, in this case <code>'\\t'</code>, meaning a tab. This will split each item by a tab when you write it.</p>\n\n<p>This is assuming you are trying to write to a csv file. If not, and you are only trying to print, you can try this:</p>\n\n<pre><code>'\\t'.join(row)\n</code></pre>\n\n<p>EDIT:</p>\n\n<pre><code>with open('karyotype.zeamays1.txt', 'r') as f:\n    reader = csv.reader(f,delimiter='\\t')\n    csvfile=open('lvg.csv','wb')\n    spamwriter=csv.writer(csvfile,delimiter='\\t',quotechar='|',quoting=csv.QUOTE_MINIMAL)\n    for row in reader:\n        lines=[]\n        colors=open(\"colours_bar.txt\",\"r\")\n        lines=colors.read().split()\n        color_me=random.choice(lines)\n        row.append(color_me)\n        spamwriter.writerow(row)\n</code></pre>\n"}], "owner": {"reputation": 1110, "user_id": 5653423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fae09c3723ebb231b5d849574161b612?s=128&d=identicon&r=PG&f=1", "display_name": "shome", "link": "https://stackoverflow.com/users/5653423/shome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1454702634, "creation_date": 1454542403, "last_edit_date": 1454701993, "question_id": 35189831, "link": "https://stackoverflow.com/questions/35189831/saving-output-result-in-tabular-format-in-same-file-or-different-file", "title": "Saving output result in tabular format in same file or different file", "body": "<p>I am trying to save the output of this program into a file, but I am getting errors while doing the same.</p>\n\n<pre><code>import csv\nimport random\n\nwith open('karyotype.zeamays1.txt', 'r') as f:\n    reader = csv.reader(f, delimiter='\\t')\n    for row in reader:\n        lines = []\n        colors = open(\"colours_bar.txt\", \"r\")\n        lines = colors.read().split()\n        color_me = random.choice(lines)\n        row.append(color_me)\n        h = open(\"test.txt\", \"w\")\n        print row \n</code></pre>\n\n<p>The input files are as following :</p>\n\n<p>karyotype.zeamays1.txt</p>\n\n<pre><code>    chr -   b73_chr1    B73-Chr1    0   301354135   \n    chr -   b73_chr2    B73-Chr2    0   237068873   \n    chr -   b73_chr3    B73-Chr3    0   232140174   \n    chr -   b73_chr4    B73-Chr4    0   241473504   \n    chr -   b73_chr5    B73-Chr5    0   217872852   \n    chr -   w22_chr1    W22-Chr1    0   301354135\n</code></pre>\n\n<p>colours_bar.txt</p>\n\n<pre><code>    black\n    dred \n    dpred\n    vdgreen \n    pgreen\n    vvdpgreen\n</code></pre>\n\n<p>When I print the rows,I get result as following : </p>\n\n<pre><code>['chr', '-', 'b73_chr1', 'B73-Chr1', '0', '301354135', '', 'black']\n['chr', '-', 'b73_chr2', 'B73-Chr2', '0', '237068873', '', 'vdgreen']\n['chr', '-', 'b73_chr3', 'B73-Chr3', '0', '232140174', '', 'vdpurple']\n['chr', '-', 'b73_chr4', 'B73-Chr4', '0', '241473504', '', 'vdgreen']\n['chr', '-', 'b73_chr5', 'B73-Chr5', '0', '217872852', '', 'vdppurple']\n</code></pre>\n\n<p>How to save this result into file in tabular format ?</p>\n\n<p>EDIT after the comments :</p>\n\n<pre><code>with open('karyotype.zeamays1.txt', 'r') as f:\n    reader = csv.reader(f,delimiter='\\t')\n    for row in reader:\n        lines=[]\n        colors=open(\"colours_bar.txt\",\"r\")\n        lines=colors.read().split()\n        color_me=random.choice(lines)\n        row.append(color_me)\n\n    csvfile=open('lvg.csv','wb')\n    spamwriter=csv.writer(csvfile,delimiter='\\t',quotechar='|',quoting=csv.QUOTE_MINIMAL)\n    spamwriter.writerow(row)\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "edited": false, "score": 1, "creation_date": 1454542815, "post_id": 35189778, "comment_id": 58096895, "body": "Can you give a sample of data ? It seems to works on my test (?)"}], "answers": [{"tags": [], "owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "is_accepted": true, "score": 1, "last_activity_date": 1454544846, "last_edit_date": 1454544846, "creation_date": 1454543233, "answer_id": 35189991, "question_id": 35189778, "link": "https://stackoverflow.com/questions/35189778/conditional-filtering-in-a-numpy-matrix/35189991#35189991", "title": "conditional filtering in a numpy matrix", "body": "<p>Don't you have an other error in your workflow ? It seems to work in my test :</p>\n\n<pre><code>data = np.random.randint(1, 23, (22136, 27))\ndata.shape\n# (22136,27)\nres = data[data[..., 5] == 1]\nres.shape\n# (1001, 27)\nres\n#array([[21, 10, 18, ..., 10, 12, 20],\n#       [ 7, 20, 12, ..., 10, 13,  7],\n#       [ 1, 12,  4, ...,  6, 19, 19],\n#       ..., \n#       [ 8, 10, 18, ...,  4, 15,  8],\n#       [ 1, 13,  4, ..., 22, 13, 21],\n#       [11,  3, 18, ..., 18, 10,  5]])\n</code></pre>\n\n<p>Or given your other example :</p>\n\n<pre><code>mat = np.array([[1,2,3,4,5,6],\n               [1,2,3,4,5,6],\n               [1,2,3,4,5,6],\n               [1,1,1,0,0,0],\n               [1,2,3,4,5,6],\n               [1,2,3,4,5,6]])\n\nmat[mat[:, 2] == 1]\n# array([[1, 1, 1, 0, 0, 0]])\n</code></pre>\n\n<p>Or maybe it is not what you are looking for ?</p>\n\n<p>I also guess you can avoid this kind of error by using a different notation (there is some details on the <a href=\"http://docs.scipy.org/doc/numpy/reference/arrays.indexing.html\" rel=\"nofollow\">numpy documentation about indexing/slicing</a> ) :</p>\n\n<pre><code>In [20]: mat = np.array([[1,2,3,4,5,6], ['a','b','c','d','e'], [1,2,3,4,5,6]])\n\nIn [22]: mat[2,:]\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-322-142bfc45a932&gt;\", line 1, in &lt;module&gt;\n    mat[2,:]\n\nIndexError: too many indices for array\n\nIn [23]: mat[2,...]\nOut[23]: array([1, 2, 3, 4, 5, 6], dtype=object)\n</code></pre>\n"}], "owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1275, "favorite_count": 0, "accepted_answer_id": 35189991, "answer_count": 1, "score": -1, "last_activity_date": 1454544846, "creation_date": 1454542167, "last_edit_date": 1454543904, "question_id": 35189778, "link": "https://stackoverflow.com/questions/35189778/conditional-filtering-in-a-numpy-matrix", "title": "conditional filtering in a numpy matrix", "body": "<p>I have such a matrix:</p>\n\n<pre><code>[[1,2,3,4,5,6]\n ['a','b','c','d','e']\n [1,2,3,4,5,6]\n [1,2,3,4,5,6]\n [1,2,3,4,5,6]\n [1,1,1,0,0,0]\n [1,2,3,4,5,6]]\n</code></pre>\n\n<p>And I want to make this query: <code>pos_data = data[data[:, 5] == 1]</code></p>\n\n<p>But I get this error: </p>\n\n<blockquote>\n  <p>IndexError: too many indices for array</p>\n</blockquote>\n\n<p>How can I achieve to do that?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1454542225, "post_id": 35189733, "comment_id": 58096671, "body": "I know the OP used <code>str</code> as a variable name, but you should change it in an answer."}], "tags": [], "owner": {"reputation": 49728, "user_id": 374797, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7a7c59685abf968ca5ef37f79668ec93?s=128&d=identicon&r=PG&f=1", "display_name": "John Howard", "link": "https://stackoverflow.com/users/374797/john-howard"}, "is_accepted": false, "score": 2, "last_activity_date": 1454542399, "last_edit_date": 1454542399, "creation_date": 1454541929, "answer_id": 35189733, "question_id": 35189709, "link": "https://stackoverflow.com/questions/35189709/swapping-string-case-in-python/35189733#35189733", "title": "Swapping string case in Python", "body": "<p>Strings are immutable. What this means is that when you use the function <code>s.upper()</code>, it is not setting that letter in <code>str</code> to be uppercase, it simply returns that letter in uppercase. </p>\n\n<p>Here is some code that works:</p>\n\n<pre><code>def main():\n    oldStr = input()\n    newStr = \"\"\n    for s in oldStr:\n        if s.islower():\n            newStr+=s.upper()\n        elif s.isupper():\n            newStr+=s.lower()\n    print(newStr)\n</code></pre>\n\n<p>Notice now that we are creating a new string and simply adding the letters at each point in the forloop as opposed to changing those letters in <code>str</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1726, "user_id": 1429658, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fecbd8a5bea71e1103c82bcc4eb16237?s=128&d=identicon&r=PG", "display_name": "Litty", "link": "https://stackoverflow.com/users/1429658/litty"}, "is_accepted": false, "score": 0, "last_activity_date": 1454542068, "creation_date": 1454542068, "answer_id": 35189764, "question_id": 35189709, "link": "https://stackoverflow.com/questions/35189709/swapping-string-case-in-python/35189764#35189764", "title": "Swapping string case in Python", "body": "<p>You are running each character through <code>lower()</code> and <code>upper()</code>, but these functions do not <em>change</em> the character.</p>\n\n<p>Instead, they <strong>return</strong> the modified version of the character. The original character <code>s</code> will stay as it is.</p>\n\n<p>You should build a new string based off the <em>return values</em> of <code>lower()</code> and <code>upper()</code>, and return that string.</p>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1454542233, "post_id": 35189775, "comment_id": 58096674, "body": "I know the OP used <code>str</code> as a variable name, but you should change it in an answer."}, {"owner": {"reputation": 1843, "user_id": 5735244, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bac1d4079529a13fed01b08d8503086e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeus", "link": "https://stackoverflow.com/users/5735244/zeus"}, "edited": false, "score": 0, "creation_date": 1454543044, "post_id": 35189775, "comment_id": 58096983, "body": "@Brian got the str part. Could you explain the code a little more."}, {"owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "reply_to_user": {"reputation": 1843, "user_id": 5735244, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bac1d4079529a13fed01b08d8503086e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeus", "link": "https://stackoverflow.com/users/5735244/zeus"}, "edited": false, "score": 0, "creation_date": 1454593694, "post_id": 35189775, "comment_id": 58121087, "body": "@Zeus updated with explanation - hope that helps!"}], "tags": [], "owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "is_accepted": true, "score": 4, "last_activity_date": 1454593674, "last_edit_date": 1454593674, "creation_date": 1454542152, "answer_id": 35189775, "question_id": 35189709, "link": "https://stackoverflow.com/questions/35189709/swapping-string-case-in-python/35189775#35189775", "title": "Swapping string case in Python", "body": "<p>As a generator expression:</p>\n\n<pre><code>mystr = \"SimPLE\"\nprint(\"\".join(c.upper() if c.islower() else c.lower() for c in mystr))\n</code></pre>\n\n<p>The breakdown of the above is:</p>\n\n<pre><code>c.upper() if c.islower() else c.lower()\n</code></pre>\n\n<p>is an conditional expression that will convert a character from upper to lower case and vice versa.</p>\n\n<p>Then,</p>\n\n<pre><code>(... for c in mystr)\n</code></pre>\n\n<p>is a generator expression, which is somewhat like a list that is generated on-the-fly.</p>\n\n<p>Finally:</p>\n\n<pre><code>\".join(...)\n</code></pre>\n\n<p>will join any sequence of strings together with nothing (\"\") between them.</p>\n"}, {"comments": [{"owner": {"reputation": 1843, "user_id": 5735244, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bac1d4079529a13fed01b08d8503086e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeus", "link": "https://stackoverflow.com/users/5735244/zeus"}, "edited": false, "score": 0, "creation_date": 1454542477, "post_id": 35189776, "comment_id": 58096769, "body": "Could you explain the code a bit, as stated earlier, I&#39;ve a Java background and is generally used to more verbose code."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1454542479, "post_id": 35189776, "comment_id": 58096770, "body": "I know the OP used <code>str</code> as a variable name, but you should change it in an answer."}, {"owner": {"reputation": 1843, "user_id": 5735244, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bac1d4079529a13fed01b08d8503086e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeus", "link": "https://stackoverflow.com/users/5735244/zeus"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1454542530, "post_id": 35189776, "comment_id": 58096796, "body": "@TigerhawkT3 why can&#39;t I use the name str? Is it some pythonic convention?"}, {"owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "reply_to_user": {"reputation": 1843, "user_id": 5735244, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bac1d4079529a13fed01b08d8503086e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeus", "link": "https://stackoverflow.com/users/5735244/zeus"}, "edited": false, "score": 0, "creation_date": 1454542910, "post_id": 35189776, "comment_id": 58096933, "body": "@Zeus - see my answer (@Brian) above."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 3, "last_activity_date": 1454542920, "last_edit_date": 1454542920, "creation_date": 1454542155, "answer_id": 35189776, "question_id": 35189709, "link": "https://stackoverflow.com/questions/35189709/swapping-string-case-in-python/35189776#35189776", "title": "Swapping string case in Python", "body": "<p>Do this in one fell swoop with a string join on a list comprehension of individual characters:</p>\n\n<pre><code>outstr = ''.join([s.upper() if s.islower() else s.lower() for s in oldStr])\nprint(outstr)\n</code></pre>\n\n<p>Input &amp; Output:</p>\n\n<pre><code>sIMple\nSimPLE\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1454542341, "post_id": 35189786, "comment_id": 58096714, "body": "The <code>main()</code> call does not need to be on a new line."}, {"owner": {"reputation": 381, "user_id": 5821474, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7bcb43b6307c04cb8f43b1fe0fd687ee?s=128&d=identicon&r=PG&f=1", "display_name": "Null Spark", "link": "https://stackoverflow.com/users/5821474/null-spark"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1454542460, "post_id": 35189786, "comment_id": 58096761, "body": "It doesn&#39;t? Whenever I don&#39;t put stuff on a new line, all it does is error. Also when I don&#39;t indent."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1454542852, "post_id": 35189786, "comment_id": 58096910, "body": "See <a href=\"https://docs.python.org/3/reference/simple_stmts.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.python.org/3/reference/compound_stmts.html\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 381, "user_id": 5821474, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7bcb43b6307c04cb8f43b1fe0fd687ee?s=128&d=identicon&r=PG&f=1", "display_name": "Null Spark", "link": "https://stackoverflow.com/users/5821474/null-spark"}, "is_accepted": false, "score": 0, "last_activity_date": 1454542206, "creation_date": 1454542206, "answer_id": 35189786, "question_id": 35189709, "link": "https://stackoverflow.com/questions/35189709/swapping-string-case-in-python/35189786#35189786", "title": "Swapping string case in Python", "body": "<p>1) you need to put the <code>main()</code> call on  new line, as python relies on whitespace heavily for program structure</p>\n\n<p>2) s is a temporary variable created for the purpose of the for statement. It doesn't actually reference the character in the string</p>\n\n<p>Essentially what is going on is that <code>s</code> has the same value as the character in the string, but it <strong>IS NOT ACTUALLY</strong> the character in the string.</p>\n"}], "owner": {"reputation": 1843, "user_id": 5735244, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bac1d4079529a13fed01b08d8503086e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeus", "link": "https://stackoverflow.com/users/5735244/zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1916, "favorite_count": 0, "closed_date": 1454542451, "accepted_answer_id": 35189775, "answer_count": 5, "score": 3, "last_activity_date": 1618323983, "creation_date": 1454541821, "last_edit_date": 1454542488, "question_id": 35189709, "link": "https://stackoverflow.com/questions/35189709/swapping-string-case-in-python", "closed_reason": "Duplicate", "title": "Swapping string case in Python", "body": "<p>I'm rank new in Python, thus the question,</p>\n\n<p>I'm trying to solve a simple problem, where the program takes in a simple string and swaps all the cases. Thus if we enter</p>\n\n<pre><code>SimPLE\n</code></pre>\n\n<p>We should get</p>\n\n<pre><code>sIMple\n</code></pre>\n\n<p>This is my code</p>\n\n<pre><code>def main():\n    oldStr = input()\n    for s in oldStr:\n        if s.islower():\n            s.upper()\n        elif s.isupper():\n            s.lower()\n    print(oldStr)\nif __name__ == \"__main__\" : main()\n</code></pre>\n\n<p>It just returns the same string. Any help appreciated.</p>\n"}, {"tags": ["python", "bash", "stdin", "watch"], "comments": [{"owner": {"reputation": 686, "user_id": 2277221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89cc7076b6e53b6d512b61ba2acd59eb?s=128&d=identicon&r=PG", "display_name": "TNW", "link": "https://stackoverflow.com/users/2277221/tnw"}, "edited": false, "score": 1, "creation_date": 1454541215, "post_id": 35189535, "comment_id": 58096323, "body": "So did you try this? If it doesn&#39;t work, you probably hit problem with buffering - <a href=\"http://unix.stackexchange.com/questions/25372/turn-off-buffering-in-pipe\">have a look</a>"}, {"owner": {"reputation": 185, "user_id": 3475659, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/756b76fe0b9736ed2bea1cafd211f0b3?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Zipher", "link": "https://stackoverflow.com/users/3475659/rory-zipher"}, "reply_to_user": {"reputation": 686, "user_id": 2277221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89cc7076b6e53b6d512b61ba2acd59eb?s=128&d=identicon&r=PG", "display_name": "TNW", "link": "https://stackoverflow.com/users/2277221/tnw"}, "edited": false, "score": 0, "creation_date": 1454541422, "post_id": 35189535, "comment_id": 58096385, "body": "It reads the file, but if I update the file the changes are not reflected in the pythons stdin/stdout."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1454541500, "post_id": 35189535, "comment_id": 58096421, "body": "<code>tail -f file</code> will keep emitting data appended to the file. Updates appended to the file work... are you doing it some other way?"}, {"owner": {"reputation": 686, "user_id": 2277221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89cc7076b6e53b6d512b61ba2acd59eb?s=128&d=identicon&r=PG", "display_name": "TNW", "link": "https://stackoverflow.com/users/2277221/tnw"}, "edited": false, "score": 0, "creation_date": 1454541545, "post_id": 35189535, "comment_id": 58096433, "body": "@RoryZipher Tail will only follow if file is <b>appended</b> to, not changed. So not what would you do with say, vim. Try <code>echo &quot;stuff&quot; &gt;&gt; file</code> to test it."}, {"owner": {"reputation": 185, "user_id": 3475659, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/756b76fe0b9736ed2bea1cafd211f0b3?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Zipher", "link": "https://stackoverflow.com/users/3475659/rory-zipher"}, "edited": false, "score": 0, "creation_date": 1454541673, "post_id": 35189535, "comment_id": 58096473, "body": "Yes, I&#39;m appending the file. for example if the file contained &quot;hello&quot;, then i run the command, append the file on the next line with &quot;world&quot; and save it it&#39;s not shown in the stdin/stdout of the currently executing process."}, {"owner": {"reputation": 686, "user_id": 2277221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89cc7076b6e53b6d512b61ba2acd59eb?s=128&d=identicon&r=PG", "display_name": "TNW", "link": "https://stackoverflow.com/users/2277221/tnw"}, "edited": false, "score": 0, "creation_date": 1454541771, "post_id": 35189535, "comment_id": 58096503, "body": "So probably the buffering issue, cause it&#39;s working perfectly for me just as you provide it. Mind that by appending I mean that file has to be opened with <code>O_APPEND</code> in <code>open</code> params."}, {"owner": {"reputation": 185, "user_id": 3475659, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/756b76fe0b9736ed2bea1cafd211f0b3?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Zipher", "link": "https://stackoverflow.com/users/3475659/rory-zipher"}, "edited": false, "score": 0, "creation_date": 1454542149, "post_id": 35189535, "comment_id": 58096647, "body": "Yes, I think you are right. Doing <code>echo &quot;something else&quot; &gt;&gt; file</code> works fine, but if I use an external editor and save it then it seems to ignore it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1454542253, "post_id": 35189535, "comment_id": 58096683, "body": "The editor might be creating a new file instead of overwriting the original file. Try using <code>tail -F -f file</code>. This will reopen the file if it gets renamed."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1454542379, "post_id": 35189535, "comment_id": 58096732, "body": "@Barmar is right, editors tend to write to a temporary file then overwrite the existing file on save."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1454542462, "post_id": 35189535, "comment_id": 58096763, "body": "@tdelaney That wouldn&#39;t cause this problem. I&#39;m suggesting they write to a temporary file and rename it to the original filename. This is how Emacs works by default, although it has customization variables that change it."}, {"owner": {"reputation": 185, "user_id": 3475659, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/756b76fe0b9736ed2bea1cafd211f0b3?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Zipher", "link": "https://stackoverflow.com/users/3475659/rory-zipher"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1454542610, "post_id": 35189535, "comment_id": 58096827, "body": "@Barmar: Yes that works, but with one caveat... I need to insert a line break for it to read the appended text, otherwise it won&#39;t update. Not a big deal, as I could include a line break. If you want to put your comment as an answer I&#39;ll gladly accept it - thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1454543679, "post_id": 35189927, "comment_id": 58097227, "body": "This didn&#39;t work on my linux mint and I&#39;m a bit surprised that <code>tail</code> even accepted both <code>-F</code> and <code>-f</code>, which tells it to follow by name and file descriptor. But <code>tail -f F file | python input.py</code> &quot;worked&quot; - Did you mean just <code>tail -F file | python input.py</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1454543926, "post_id": 35189927, "comment_id": 58097322, "body": "I misread the documentation, I thought <code>-F</code> modified the behavior of <code>-f</code>, rather than being an alternative."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1454543907, "last_edit_date": 1454543907, "creation_date": 1454542916, "answer_id": 35189927, "question_id": 35189535, "link": "https://stackoverflow.com/questions/35189535/python-to-read-stdin-from-other-source-continously/35189927#35189927", "title": "Python to read stdin from other source continously", "body": "<p>Use the <code>-F</code> option to <code>tail</code> to make it reopen the file if it gets renamed or deleted and a new file is created with the original name. Some editors write the file this way, and logfile rotation scripts also usually work this way (they rename the original file to <code>filename.1</code>, and create a new log file).</p>\n\n<pre><code>$ tail -F file | python input.py\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 3475659, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/756b76fe0b9736ed2bea1cafd211f0b3?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Zipher", "link": "https://stackoverflow.com/users/3475659/rory-zipher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 35189927, "answer_count": 1, "score": 1, "last_activity_date": 1454543907, "creation_date": 1454540861, "question_id": 35189535, "link": "https://stackoverflow.com/questions/35189535/python-to-read-stdin-from-other-source-continously", "title": "Python to read stdin from other source continously", "body": "<p>Is it possible to allow Python to read from stdin from another source such as a file continually? Basically I'm trying to allow my script to use stdin to echo input and I'd like to use a file or external source to interact with it (while remaining open). </p>\n\n<p>An example might be (input.py):</p>\n\n<pre><code>#!/usr/bin/python\n\nimport sys\n\nline = sys.stdin.readline()\n\nwhile line:\n    print line,\n    line = sys.stdin.readline()\n</code></pre>\n\n<p>Executing this directly I can continuously enter text and it echos back while the script remains alive. If you want to use an external source though such as a file or input from bash then the script exits immediately after receiving input:</p>\n\n<pre><code>$ echo \"hello\" | python input.py\nhello\n$\n</code></pre>\n\n<p>Ultimately what I'd like to do is:</p>\n\n<pre><code>$ tail -f file | python input.py\n</code></pre>\n\n<p>Then if the file updates have input.py echo back anything that is added to file while remaining open. Maybe I'm approaching this the wrong way or I'm simply clueless, but is there a way to do it?</p>\n"}, {"tags": ["python", "ipython", "timing"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 4, "creation_date": 1454541116, "post_id": 35189516, "comment_id": 58096274, "body": "That&#39;s bizarre. Does the same thing happen in the regular interactive interpreter?"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 3, "creation_date": 1454541319, "post_id": 35189516, "comment_id": 58096359, "body": "lists know their size. once it&#39;s in a list, len(thelist) is O(1)"}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "reply_to_user": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 0, "creation_date": 1454541423, "post_id": 35189516, "comment_id": 58096386, "body": "@ChadS. For lists to know their size they have to calculate it at some point. I think that caching happens at first call to <code>len()</code>."}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 5, "creation_date": 1454541483, "post_id": 35189516, "comment_id": 58096415, "body": "No. they just have to keep track of when items are inserted and removed. It doesn&#39;t calculate it when you call len."}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "reply_to_user": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 0, "creation_date": 1454541516, "post_id": 35189516, "comment_id": 58096425, "body": "@ChadS. That would be insanely inefficient. And a huge waste if you never call <code>len()</code>."}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 5, "creation_date": 1454541565, "post_id": 35189516, "comment_id": 58096440, "body": "No it wouldn&#39;t, and knowing the len() of the list is needed for nearly ANY list operation."}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "reply_to_user": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 0, "creation_date": 1454541612, "post_id": 35189516, "comment_id": 58096456, "body": "@ChadS. Dude, it would. I know that people nowadays think that simple addition costs nothing but it does if you modify list all the time. Plus for what other operation needs it?"}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "edited": false, "score": 0, "creation_date": 1454541638, "post_id": 35189516, "comment_id": 58096463, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/102530/discussion-between-chad-s-and-freakish\">continue this discussion in chat</a>."}, {"owner": {"reputation": 37636, "user_id": 101999, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ab9e16b1296c16bc63f02f6dff5e3dc6?s=128&d=identicon&r=PG", "display_name": "Thanatos", "link": "https://stackoverflow.com/users/101999/thanatos"}, "edited": false, "score": 1, "creation_date": 1454541640, "post_id": 35189516, "comment_id": 58096464, "body": "At this point, I&#39;ve read the source code for Python 2.7. <code>list</code> knows its size intrinsically. The implementation of <code>len</code> for <code>list</code> is very simple. :-/ Unfortunately, it doesn&#39;t match the behavior I&#39;m seeing."}, {"owner": {"reputation": 12970, "user_id": 85170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xIbjh.jpg?s=128&g=1", "display_name": "CookieOfFortune", "link": "https://stackoverflow.com/users/85170/cookieoffortune"}, "edited": false, "score": 0, "creation_date": 1454962281, "post_id": 35189516, "comment_id": 58268346, "body": "Do you happen to be running in an IDE like Spyder?"}], "answers": [{"tags": [], "owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "is_accepted": false, "score": 2, "last_activity_date": 1454617180, "creation_date": 1454617180, "answer_id": 35210829, "question_id": 35189516, "link": "https://stackoverflow.com/questions/35189516/why-is-lena-list-object-so-slow/35210829#35210829", "title": "Why is len(&lt;a list object&gt;) so slow?", "body": "<p>I will summarize the comments to your question to the answer.</p>\n\n<p>As everyone said (and you pointed it out), Python's <code>list</code> object knows its size and it <a href=\"https://svn.python.org/projects/python/trunk/Objects/listobject.c\" rel=\"nofollow\">returns just the stored number</a>:</p>\n\n<pre><code>static Py_ssize_t\nlist_length(PyListObject *a)\n{\n    return Py_SIZE(a);\n}\n</code></pre>\n\n<p>Where <code>Py_SIZE</code> <a href=\"https://docs.python.org/3.5/c-api/structures.html#c.Py_SIZE\" rel=\"nofollow\">is defined</a>:</p>\n\n<blockquote>\n  <p>Py_SIZE(o)</p>\n  \n  <p>This macro is used to access the ob_size member of a Python object. It expands to:\n  <code>(((PyVarObject*)(o))-&gt;ob_size)</code></p>\n</blockquote>\n\n<p>So I can conclude it should not do any calculations. The only suspected is the object you trying to convert to list. But if you swear it is really <code>list</code> without any fake objects simulating its method with some lazy calculations - it is not it.</p>\n\n<p>So I assume that all <code>timeit</code> methods are really showing exact time spent to call <code>len</code> function.</p>\n\n<p>And the only time-wasting process is.. <strong>Garbage Collector</strong>. At the end of your measurements it discovers that noone uses such large piece of data and starts releasing the memory. Sure, it takes some seconds.</p>\n"}], "owner": {"reputation": 37636, "user_id": 101999, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ab9e16b1296c16bc63f02f6dff5e3dc6?s=128&d=identicon&r=PG", "display_name": "Thanatos", "link": "https://stackoverflow.com/users/101999/thanatos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1319, "favorite_count": 0, "answer_count": 1, "score": 12, "last_activity_date": 1454617180, "creation_date": 1454540774, "last_edit_date": 1454545135, "question_id": 35189516, "link": "https://stackoverflow.com/questions/35189516/why-is-lena-list-object-so-slow", "title": "Why is len(&lt;a list object&gt;) so slow?", "body": "<p>I'm running the following code in an <code>ipython</code> session:</p>\n\n<pre><code># This call is slow, but that is expected. (It loads 3 GB of data.)\nIn [3]: arc, arc_sub, upls, go = foo_mod.ready_set()\n\n# This call is also slow, as `upls` is huge.\nIn [4]: upls = list(upls)\n\n# This call is slow in meatspace, but `%timeit` doesn't notice!\nIn [5]: %timeit -n1 -r1 len(upls)\n1 loops, best of 1: 954 ns per loop\n</code></pre>\n\n<p><code>%timeit</code> is straight-up lying here. With or without the <code>%timeit</code>, the command takes upwards of 10s to actually run. Only the first time, however; subsequent calls to <code>len</code> are quick.</p>\n\n<p>Even <code>time.time()</code> sings a similar tune:</p>\n\n<pre><code>In [5]: import time\n\nIn [6]: s = time.time(); len_ = len(upls); e = time.time()\n\nIn [7]: e - s\nOut[7]: 7.104873657226562e-05\n</code></pre>\n\n<p>But it took <em>seconds</em> in the real world for <code>In [6]</code> to actually complete. I just don't seem to be able to capture where the actual time is being spent!</p>\n\n<p>There's nothing terribly unusual about the list, aside from it's huge: it's a real <code>list</code>; it holds ~\u00bc billion <code>bson.ObjectId</code> objects. (Prior to the <code>list()</code> call, it's a <code>set</code> object; <em>that</em> call is also slow, but that makes sense; <code>list(&lt;set instance&gt;)</code> is O(<em>n</em>), and my set is huge.)</p>\n\n<p><strong>Edit re GC</strong></p>\n\n<p>If I run <code>gc.set_debug(gc.DEBUG_STATS)</code> just prior to <code>ready_set</code>, which itself is a slow call, I see tons of GC cycles. This is expected. gen3 grows:</p>\n\n<pre><code>gc: objects in each generation: 702 701 3289802\ngc: done, 0.0000s elapsed.\ngc: collecting generation 0...\ngc: objects in each generation: 702 1402 3289802\ngc: done, 0.0000s elapsed.\ngc: collecting generation 0...\ngc: objects in each generation: 702 2103 3289802\n</code></pre>\n\n<p>Unfortunately the console outputs make this runtime of this impossibly slow. If I instead delay the <code>gc.set_debug</code> call until just after <code>ready_set</code>, I don't see <em>any</em> GC cycles, but <code>gc.get_count()</code> claims the generations are tiny:</p>\n\n<pre><code>In [6]: gc.get_count()\nOut[6]: (43, 1, 193)\n\nIn [7]: len(upls)\nOut[7]: 125636395\n</code></pre>\n\n<p>(but why/how is <code>get_count</code> less objects than what's in the list?; they're definitely all unique, since they just went through a <code>set</code>\u2026) The fact that involving <code>gc</code> in the code makes <code>len</code> speedy leads me to believe I'm paused for a collect-the-world.</p>\n\n<p>(Versions, just in case:</p>\n\n<pre><code>Python 2.7.6 (default, Mar 22 2014, 22:59:56)\nIPython 3.2.0 -- An enhanced Interactive Python.\n</code></pre>\n\n<p>)</p>\n"}, {"tags": ["python", "networking", "tcp"], "comments": [{"owner": {"reputation": 1350, "user_id": 4413370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWSa5.jpg?s=128&g=1", "display_name": "Jorge Torres", "link": "https://stackoverflow.com/users/4413370/jorge-torres"}, "edited": false, "score": 0, "creation_date": 1454653816, "post_id": 35189480, "comment_id": 58150077, "body": "Can you help us with some more information if possible? For instance How does it get stuck? Does it run? Does it fail with an error code? It runs but does nothing?"}], "answers": [{"comments": [{"owner": {"reputation": 430, "user_id": 5415499, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8c773d1ecc8e3999474b5c6f152c2047?s=128&d=identicon&r=PG&f=1", "display_name": "Aboogie", "link": "https://stackoverflow.com/users/5415499/aboogie"}, "edited": false, "score": 0, "creation_date": 1455215205, "post_id": 35217942, "comment_id": 58401438, "body": "Hi, how can I put ssl wrappers on the socket? I have looked around but haven&#39;t really found useful code."}, {"owner": {"reputation": 2126, "user_id": 208930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/934ebefe1d8383fd2b58ff2aa3cb6456?s=128&d=identicon&r=PG", "display_name": "Cahit", "link": "https://stackoverflow.com/users/208930/cahit"}, "reply_to_user": {"reputation": 430, "user_id": 5415499, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8c773d1ecc8e3999474b5c6f152c2047?s=128&d=identicon&r=PG&f=1", "display_name": "Aboogie", "link": "https://stackoverflow.com/users/5415499/aboogie"}, "edited": false, "score": 0, "creation_date": 1455215585, "post_id": 35217942, "comment_id": 58401689, "body": "@Aboogie - did you try using <code>ssl.SSLSocket</code>? I haven&#39;t tried this before, but check out this SO question: <a href=\"http://stackoverflow.com/questions/26851034/opening-a-ssl-socket-connection-in-python\" title=\"opening a ssl socket connection in python\">stackoverflow.com/questions/26851034/&hellip;</a>"}, {"owner": {"reputation": 430, "user_id": 5415499, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8c773d1ecc8e3999474b5c6f152c2047?s=128&d=identicon&r=PG&f=1", "display_name": "Aboogie", "link": "https://stackoverflow.com/users/5415499/aboogie"}, "edited": false, "score": 0, "creation_date": 1455231728, "post_id": 35217942, "comment_id": 58410850, "body": "Ok ill check it out and ill let you know. I am essentially trying to code it in java to send it to my intel edison which I am coding in python. I did it the regular socketing with ssl but now it is being securely required."}], "tags": [], "owner": {"reputation": 2126, "user_id": 208930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/934ebefe1d8383fd2b58ff2aa3cb6456?s=128&d=identicon&r=PG", "display_name": "Cahit", "link": "https://stackoverflow.com/users/208930/cahit"}, "is_accepted": true, "score": 1, "last_activity_date": 1454654992, "creation_date": 1454654992, "answer_id": 35217942, "question_id": 35189480, "link": "https://stackoverflow.com/questions/35189480/audio-over-python-tcp-error/35217942#35217942", "title": "audio over python tcp error", "body": "<p>Not sure why you go to the trouble of using <code>scipy</code> and <code>numpy</code> for this, since you can just use the <code>array</code> module to create binary arrays that will hold the wave file. Can you adapt and use the simple client/server example below?</p>\n\n<p>(Note: I've copy/pasted a small Windows sound file called 'tada.wav' to the same folder to use with the test scripts.)</p>\n\n<p>Code for the server script:</p>\n\n<pre><code>import socket\n\nHOST = ''                 # Symbolic name meaning all available interfaces\nPORT = 50007              # Arbitrary non-privileged port\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.bind((HOST, PORT))\ns.listen(1)\nprint('Listening...')\nconn, addr = s.accept()\nprint('Connected by', addr)\noutfile = open(\"newfile.wav\", 'ab')\nwhile True:\n    data = conn.recv(1024)\n    if not data: break\n    outfile.write(data)\nconn.close()\noutfile.close()\nprint (\"Completed.\")\n</code></pre>\n\n<p>Code for the client:</p>\n\n<pre><code>from array import array\nfrom os import stat\nimport socket\n\narr = array('B') # create binary array to hold the wave file\nresult = stat(\"tada.wav\")  # sample file is in the same folder\nf = open(\"tada.wav\", 'rb')\narr.fromfile(f, result.st_size) # using file size as the array length\nprint(\"Length of data: \" + str(len(arr)))\n\nHOST = 'localhost'\nPORT = 50007\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.connect((HOST, PORT))\ns.send(arr)\nprint('Finished sending...')\ns.close()\nprint('done.')\n</code></pre>\n\n<p>This works for me (though only tested by running both on localhost) and I end up with a second wave file that's an exact copy of the one sent by the client through the socket.</p>\n"}], "owner": {"reputation": 430, "user_id": 5415499, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8c773d1ecc8e3999474b5c6f152c2047?s=128&d=identicon&r=PG&f=1", "display_name": "Aboogie", "link": "https://stackoverflow.com/users/5415499/aboogie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 35217942, "answer_count": 1, "score": 1, "last_activity_date": 1454654992, "creation_date": 1454540614, "question_id": 35189480, "link": "https://stackoverflow.com/questions/35189480/audio-over-python-tcp-error", "title": "audio over python tcp error", "body": "<p>I am writing a simple python tcp code to send over a wav file however I seem to be getting stuck. can someone explain why my code is not working correctly?</p>\n\n<p>Server Code </p>\n\n<pre><code>import socket, time\nimport scipy.io.wavfile\nimport numpy as np\n\ndef Main():\nhost = ''\nport = 3333\nMAX = 65535\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.bind((host,port))\n\ns.listen(1)\nprint \"Listening on port...\" + str(port)\nc, addr = s.accept()\nprint \"Connection from: \" + str(addr)\nwavFile = np.array([],dtype='int16')\ni = 0\nwhile True:\n    data = c.recvfrom(MAX)\n    if not data:\n        break\n    # print ++i\n    # wavfile = np.append(wavfile,data)\n    print data\ntimestr = time.strftime(\"%y%m%d-%h%m%s\")\nprint timestr\n# wavF = open(timestr + \".wav\", \"rw+\")\nscipy.io.wavfile.write(timestr + \".wav\",44100, data)\nc.close()\n\nif __name__ == '__main__':\n    Main()\n</code></pre>\n\n<p>Client Code </p>\n\n<pre><code>host, port = \"\", 3333\n\nimport sys , socket\nimport scipy.io.wavfile\n\n# create a tcp/ip socket\nsock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n# connect the socket to the port where the server is listening\nserver_address = (host, port)\nprint &gt;&gt;sys.stderr, 'connecting to %s port %s' % server_address\n\ninput_data = scipy.io.wavfile.read('Voice 005.wav',)\naudio = input_data[1]\nsock.connect(server_address)\nprint 'have connected'\ntry:\n    # send data\n   sock.sendall(audio)\n   print  \"sent\" + str(audio)\n   sock.close()\nexcept:\n    print('something failed sending data')\nfinally:\n    print &gt;&gt;sys.stderr, 'closing socket'\n    print \"done sending\"\n    sock.close()\n</code></pre>\n\n<p>Please help someone, I want to send an audio file to my embedded device with tcp since it crucial data to be processed on the embedded device. </p>\n"}, {"tags": ["python", "google-app-engine", "memory-leaks", "google-cloud-storage"], "comments": [{"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 1, "creation_date": 1454541726, "post_id": 35189446, "comment_id": 58096493, "body": "<code>&quot;Clearly, then, there is a memory leak&quot;</code> - not necessarily. The app&#39;s baseline memory usage (with all the code loaded) may be higher that the one seen at startup. 128M is not that much, the default for backend instances these days is B2/256M. Peaks of parallel processed requests matter, too. Also see <a href=\"http://stackoverflow.com/questions/32981118/how-does-app-engine-python-manage-memory-across-requests-exceeded-soft-privat\" title=\"how does app engine python manage memory across requests exceeded soft privat\">stackoverflow.com/questions/32981118/&hellip;</a>,  <a href=\"http://stackoverflow.com/questions/31853703/google-app-engine-db-query-memory-usage\" title=\"google app engine db query memory usage\">stackoverflow.com/questions/31853703/&hellip;</a>,  <a href=\"http://stackoverflow.com/questions/33036334/memory-leak-in-google-ndb-library\" title=\"memory leak in google ndb library\">stackoverflow.com/questions/33036334/&hellip;</a>"}, {"owner": {"reputation": 5596, "user_id": 996249, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e2ffc46d5022b2f42019155791c6fed3?s=128&d=identicon&r=PG", "display_name": "nmagerko", "link": "https://stackoverflow.com/users/996249/nmagerko"}, "reply_to_user": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1454541877, "post_id": 35189446, "comment_id": 58096551, "body": "I think that could constitute as an answer! Very interesting how Google&#39;s B2 instance has half the memory..."}, {"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1454542078, "post_id": 35189446, "comment_id": 58096625, "body": "how are you using the deferred task(s)? one at a time or pile a lot of them? Are their executions overlapping?"}, {"owner": {"reputation": 5596, "user_id": 996249, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e2ffc46d5022b2f42019155791c6fed3?s=128&d=identicon&r=PG", "display_name": "nmagerko", "link": "https://stackoverflow.com/users/996249/nmagerko"}, "reply_to_user": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1454542372, "post_id": 35189446, "comment_id": 58096728, "body": "They are running one after another. I just halved the amount of data we are processing with each call, and the memory errors disappeared (so your implied solution is correct)"}, {"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1454556925, "post_id": 35189446, "comment_id": 58101043, "body": "Sounds like now there&#39;s enough time for the garbage collector to keep up with the work. Had the same problem trying to keep up with processing peaks of uploads, I only had to pace the activity a bit."}], "answers": [{"tags": [], "owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "is_accepted": true, "score": 2, "last_activity_date": 1454558926, "last_edit_date": 1495541738, "creation_date": 1454558926, "answer_id": 35192334, "question_id": 35189446, "link": "https://stackoverflow.com/questions/35189446/app-engine-deferred-tracking-down-memory-leaks/35192334#35192334", "title": "App Engine Deferred: Tracking Down Memory Leaks", "body": "<p>The symptom described  isn't <em>necessarily</em> an indication of an application memory leak. Potential alternate explanations include:</p>\n\n<ul>\n<li>the app's baseline memory footprint (which for the scripting-language sandboxes like python can be bigger than the footprint at the instance startup time, see <a href=\"https://stackoverflow.com/questions/34268508/memory-usage-differs-greatly-and-strangely-between-frontend-and-backend/34269395#34269395\">Memory usage differs greatly (and strangely) between frontend and backend</a>) may be too high for the <a href=\"https://cloud.google.com/appengine/docs/python/modules/#Python_Instance_scaling_and_class\" rel=\"nofollow noreferrer\">instance class</a> configured for the app/module. To fix - <a href=\"https://cloud.google.com/appengine/docs/python/config/appconfig#scaling_and_instance_types\" rel=\"nofollow noreferrer\">chose a higher memory instance class</a> (which, as a side effect, also means a faster class instance). Alternatively, if the rate of instance killing due to exceeding memory limits is tolerable, just let GAE recycle the instances :)</li>\n<li>peaks of activity, especially if multi-threaded request handling is enabled, means higher memory consumption and also potential overloading of the memory garbage collector. Limiting the number of requests performed in parallel, adding (higher) delays in lower priority deferred task processing and other similar measures reducing the average request processing rate per instance can help give the garbage collector a chance to cleanup leftovers from requests. Scalability should not be harmed (with <a href=\"https://cloud.google.com/appengine/docs/python/scaling#scaling_dynamic_instances\" rel=\"nofollow noreferrer\">dynamic scaling</a>) as other instances would be started to help with the activity peak.</li>\n</ul>\n\n<p>Related Q&amp;As:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32981118/how-does-app-engine-python-manage-memory-across-requests-exceeded-soft-privat\">How does app engine (python) manage memory across requests (Exceeded soft private memory limit)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31853703/google-app-engine-db-query-memory-usage\">Google App Engine DB Query Memory Usage</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33036334/memory-leak-in-google-ndb-library\">Memory leak in Google ndb library</a></li>\n</ul>\n"}], "owner": {"reputation": 5596, "user_id": 996249, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e2ffc46d5022b2f42019155791c6fed3?s=128&d=identicon&r=PG", "display_name": "nmagerko", "link": "https://stackoverflow.com/users/996249/nmagerko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 0, "accepted_answer_id": 35192334, "answer_count": 1, "score": 1, "last_activity_date": 1454558926, "creation_date": 1454540466, "question_id": 35189446, "link": "https://stackoverflow.com/questions/35189446/app-engine-deferred-tracking-down-memory-leaks", "title": "App Engine Deferred: Tracking Down Memory Leaks", "body": "<p>We have an App Engine application that writes many files of a relatively large size to Google Cloud Store. These files are CSVs that are dynamically created, so we use Python's <code>StringIO.StringIO</code> as a buffer and <code>csv.writer</code> as the interface for writing to that buffer.</p>\n\n<p>In general, our process looks like this:</p>\n\n<pre><code># imports as needed\n# (gcs is the Google Cloud Store client)\n\nbuffer = StringIO.StringIO()\nwriter = csv.writer(buffer)\n\n# ...\n# write some rows\n# ...\n\ndata = file_buffer.getdata()\nfilename = 'someFilename.csv'\n\ntry:\n    with gcs.open(filename, content_type='text/csv', mode='w') as file_stream:\n        file_stream.write(data)\n        file_stream.close()\n\nexcept Exception, e:\n    # handle exception\nfinally:\n    file_buffer.close()\n</code></pre>\n\n<p>As we understand it, the <code>csv.writer</code> does not need to be closed itself. Rather, only the <code>buffer</code> above and the <code>file_stream</code> need be closed. </p>\n\n<hr />\n\n<p>We run the above process in a <code>deferred</code>, invoked by App Engine's task queue. Ultimately, we get the following error after a few invocations of our task:</p>\n\n<blockquote>\n  <p>Exceeded soft private memory limit of 128 MB with 142 MB after servicing 11 requests total</p>\n</blockquote>\n\n<p>Clearly, then, there is a memory leak in our application. However, if the above code is correct (which we admit may not be the case), then our only other idea is that some large amount of memory is being held through the servicing of our requests (as the error message suggests).</p>\n\n<p>Thus, we are wondering if some entities are kept by App Engine during the execution of a <code>deferred</code>. We should also note that our CSVs are ultimately written successfully, despite these error messages.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 4, "creation_date": 1454540718, "post_id": 35189438, "comment_id": 58096105, "body": "Have you tried anything yourself?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1454540817, "post_id": 35189438, "comment_id": 58096156, "body": "&quot;It&#39;s supposed to rely on list and set comprehension.&quot; - bad task, then. Comprehensions can be useful, but they&#39;re the wrong tool for an operation like this. The natural comprehension-based solutions for this take quadratic time."}, {"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 0, "creation_date": 1454540953, "post_id": 35189438, "comment_id": 58096214, "body": "This is probably a homework problem for the &quot;comprehensions&quot; section of a python course."}, {"owner": {"reputation": 59, "user_id": 5879779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f81c010428ce6a68355c3595e42eded?s=128&d=identicon&r=PG&f=1", "display_name": "M. Paczek", "link": "https://stackoverflow.com/users/5879779/m-paczek"}, "edited": false, "score": 1, "creation_date": 1454540984, "post_id": 35189438, "comment_id": 58096225, "body": "Paul Rooney, my original thought was to use a map and key structure like I would use if programming in java and iterate through the list to sum to the correct key, but the restriction of using for loops significantly hampers my options. I also contemplated using Joran Beasley&#39;s answer, but was wondering if there was any way to do this that doesn&#39;t use quadratic time."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454540997, "post_id": 35189438, "comment_id": 58096228, "body": "in which case it is a bad homework problem(or even worse interview problem...)... there are many places where comprehensions make lots of sense ... this is not a senario like that"}, {"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 0, "creation_date": 1454541095, "post_id": 35189438, "comment_id": 58096265, "body": "@M.Paczek, in less restrictive languages where assignment was an expression rather than a statement, doing so would be possible (but ugly). However, that is not the case in python (to prevent mistakes like <code>if x = 1:pass</code>)"}, {"owner": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 0, "creation_date": 1454541747, "post_id": 35189438, "comment_id": 58096496, "body": "I hate these &quot;code golf&quot; questions."}], "answers": [{"comments": [{"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 2, "creation_date": 1454540814, "post_id": 35189509, "comment_id": 58096155, "body": "You could use a direct set comprehensoin (<code>{x[0]...}</code>) instead of a generator expression and the <code>set</code> builtin."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 4, "last_activity_date": 1454541246, "last_edit_date": 1454541246, "creation_date": 1454540762, "answer_id": 35189509, "question_id": 35189438, "link": "https://stackoverflow.com/questions/35189438/how-to-sum-up-a-list-of-tuples-having-the-same-first-element/35189509#35189509", "title": "How to sum up a list of tuples having the same first element?", "body": "<pre><code>my_set = {x[0] for x in my_tuples}\nmy_sums = [(i,sum(x[1] for x in my_tuples if x[0] == i)) for i in my_set]\n</code></pre>\n\n<p>I guess. ... those requirements are not very good for this problem (this solution will be slow ...)</p>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1454544652, "last_edit_date": 1454544652, "creation_date": 1454542304, "answer_id": 35189809, "question_id": 35189438, "link": "https://stackoverflow.com/questions/35189438/how-to-sum-up-a-list-of-tuples-having-the-same-first-element/35189809#35189809", "title": "How to sum up a list of tuples having the same first element?", "body": "<p>If you are using python2, you can use map to behave like <code>izip_longest</code> and get the index of where the groups end:</p>\n\n<pre><code>def sums(l):\n    st = set()\n    inds = [st.add(a) or ind for ind, (a, b) in enumerate(l) if a not in st]\n    return [(l[i][0], sum(sub[1] for sub in l[i:j])) for i, j in map(None, inds, inds[1:])]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>In [10]: print(sums(l))\n[(1, 12), (2, 14), (3, 8)]\n</code></pre>\n\n<p>for python 2 or 3 you can just use enumerate and check the index:</p>\n\n<pre><code>def sums(l):\n    st = set()\n    inds = [st.add(a) or ind for ind, (a, b) in enumerate(l) if a not in st]\n    return [(l[j][0], sum(sub[1] for sub in (l[j:inds[i]] if i &lt; len(inds) else l[inds[-1]:])))\n            for i, j in enumerate(inds, 1)]\n</code></pre>\n\n<p>same output:</p>\n\n<pre><code>In [12]: print(sums(l))\n[(1, 12), (2, 14), (3, 8)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1790, "user_id": 2651381, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xKYO3.jpg?s=128&g=1", "display_name": "Tim Martin", "link": "https://stackoverflow.com/users/2651381/tim-martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1454544119, "creation_date": 1454544119, "answer_id": 35190151, "question_id": 35189438, "link": "https://stackoverflow.com/questions/35189438/how-to-sum-up-a-list-of-tuples-having-the-same-first-element/35190151#35190151", "title": "How to sum up a list of tuples having the same first element?", "body": "<p>If you can use dictionaries the following should work</p>\n\n<pre><code>x = [(1,3), (1, 2), (1, 7), (2, 4), (2, 10), (3, 8)]\nd = {}\n[d.__setitem__(first, d.get(first, 0) + second) for first, second in x]\nprint(list(d.items()))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": false, "score": 0, "last_activity_date": 1454548228, "creation_date": 1454548228, "answer_id": 35190785, "question_id": 35189438, "link": "https://stackoverflow.com/questions/35189438/how-to-sum-up-a-list-of-tuples-having-the-same-first-element/35190785#35190785", "title": "How to sum up a list of tuples having the same first element?", "body": "<p>This is pretty straightforward, but it's definitely O(n**2), so keep your input data small:</p>\n\n<pre><code>data = (\n    (1,3),\n    (1,2),\n    (1,7),\n    (2,4),\n    (2,10),\n    (3,8),\n)\n\nd = { k:v for k,v in data }\nd2 = [(t1,sum( v for k,v in data if k == t1 )) for t1 in d.keys() ]\nprint(d2)\n</code></pre>\n\n<p>Output is </p>\n\n<pre><code>[(1, 12), (2, 14), (3, 8)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4893, "user_id": 2335020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ql0vj.png?s=128&g=1", "display_name": "576i", "link": "https://stackoverflow.com/users/2335020/576i"}, "is_accepted": false, "score": 0, "last_activity_date": 1526677449, "last_edit_date": 1526677449, "creation_date": 1526673215, "answer_id": 50418408, "question_id": 35189438, "link": "https://stackoverflow.com/questions/35189438/how-to-sum-up-a-list-of-tuples-having-the-same-first-element/50418408#50418408", "title": "How to sum up a list of tuples having the same first element?", "body": "<p>I'd use a defaultdict</p>\n\n<pre><code>from collections import defaultdict\n\nx = [(1,3), (1, 2), (1, 7), (2, 4), (2, 10), (3, 8)]\n\nd = defaultdict(int)\n\nfor k, v in x:\n    d[k] += v\n\nprint(list(d.items()))\n</code></pre>\n\n<p>if you need a one-liner (lambda inline function) using itertools</p>\n\n<pre><code>from itertools import groupby\n\nmyfunc = lambda tu : [(k, sum(v2[1] for v2 in v)) for k, v in groupby(tu, lambda x: x[0])])\n\nprint(myfunc(x))\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5879779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f81c010428ce6a68355c3595e42eded?s=128&d=identicon&r=PG&f=1", "display_name": "M. Paczek", "link": "https://stackoverflow.com/users/5879779/m-paczek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2462, "favorite_count": 0, "accepted_answer_id": 35189509, "answer_count": 5, "score": 3, "last_activity_date": 1526677449, "creation_date": 1454540442, "last_edit_date": 1495540347, "question_id": 35189438, "link": "https://stackoverflow.com/questions/35189438/how-to-sum-up-a-list-of-tuples-having-the-same-first-element", "title": "How to sum up a list of tuples having the same first element?", "body": "<p>I have a list of tuples, for example:</p>\n\n<pre><code>    (1,3)\n    (1,2)\n    (1,7)\n    (2,4)\n    (2,10)\n    (3,8)\n</code></pre>\n\n<p>I need to be able to sum up the second values based upon what the first value is, getting this result for the example list:</p>\n\n<pre><code>    (1,12)\n    (2,14)\n    (3,8)\n</code></pre>\n\n<p>This question is very similar in nature to <a href=\"https://stackoverflow.com/questions/25740726/how-to-aggregate-elements-of-a-list-of-tuples-if-the-tuples-have-the-same-first\">this one,</a> however, my solution may not use any imports or for loops, and all answers to that question use one or the other. It's supposed to rely on list and set comprehension.</p>\n"}, {"tags": ["python", "networkx", "canopy"], "comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1454542580, "post_id": 35189406, "comment_id": 58096813, "body": "Can you give an example input and an example of your desired output?  What your code does right now is just look for components that are connected by edges (regardless of their sign).  Do you want to take the subnetworks made up of just the positive and just the negative edges and then find their components?"}, {"owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1454619884, "post_id": 35189406, "comment_id": 58138346, "body": "let me explain, i want to find Positive links,Negative links,Reciprocated links from any network dataset like(<a href=\"https://snap.stanford.edu/data/email-Enron.html\" rel=\"nofollow noreferrer\">snap.stanford.edu/data/email-Enron.html</a>)"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1454620334, "post_id": 35189406, "comment_id": 58138604, "body": "It would be much clearer if you could give a minimal example: <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>.  Saying you want to find positive links is different from saying you want to find a positive subnetwork.  Can you give a specific small example?"}, {"owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1454621052, "post_id": 35189406, "comment_id": 58138987, "body": "sir actually i am trying to upload here one image for explaining my problem but i am not able to upload this ."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 1, "creation_date": 1454667889, "post_id": 35189406, "comment_id": 58157454, "body": "Please let me know whether my answer addresses your problem or not.  (and if it does please &quot;accept&quot; the answer - you should also do this on your previous question on deleting nodes from networks)"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1455032293, "post_id": 35212367, "comment_id": 58302036, "body": "if network list has not a weight then what conditions are apply  .like if i have a network dataset in text file  which contain only edgelist  then here i can&#39;t apply  (w[&#39;weight&#39;]&gt;0) condition . then what i do here"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1455047139, "post_id": 35212367, "comment_id": 58311826, "body": "I do not understand.  Please give a clear example of your input and what the output you want is."}], "tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1454628473, "last_edit_date": 1454628473, "creation_date": 1454622845, "answer_id": 35212367, "question_id": 35189406, "link": "https://stackoverflow.com/questions/35189406/how-to-extract-positive-and-negative-subnetworks-from-a-singed-network/35212367#35212367", "title": "How to extract positive and negative subnetworks from a singed network", "body": "<p>I think what you're after is to create the network made up of just negative edges and the network made up of just positive edges.</p>\n\n<p>If so, here is some code to do that (<strong>edited</strong> to account for the fact that <code>add_edges_from</code> can handle weighted edges - I had misread the documentation):</p>\n\n<pre><code>G=nx.Graph()\nG.add_edges_from([(1,3),(2,4),(3,5),(4,6)], weight = 1)\nG.add_edges_from([(1,2),(2,3),(3,4),(4,5)], weight = -1)\n\npos_edges = [(u,v,w) for (u,v,w) in G.edges(data=True) if w['weight']&gt;0]\nneg_edges = [(u,v,w) for (u,v,w) in G.edges(data=True) if w['weight']&lt;0]\n\nHpos = nx.Graph()\nHneg = nx.Graph()\n\nHpos.add_edges_from(pos_edges)\nHneg.add_edges_from(neg_edges)\n\nHneg.edges(data=True)\n&gt; [(1, 2, {'weight': -1}),\n (2, 3, {'weight': -1}),\n (3, 4, {'weight': -1}),\n (4, 5, {'weight': -1})]\nHpos.edges(data=True)\n&gt; [(1, 3, {'weight': 1}),\n (2, 4, {'weight': 1}),\n (3, 5, {'weight': 1}),\n (4, 6, {'weight': 1})]\n</code></pre>\n\n<p>Please let me know if this is what you're after.  I have to go now so I can't give detailed explanation, but if you have some comments on what does/does not make sense, I will respond later.</p>\n"}], "owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1454628473, "creation_date": 1454540311, "last_edit_date": 1454546185, "question_id": 35189406, "link": "https://stackoverflow.com/questions/35189406/how-to-extract-positive-and-negative-subnetworks-from-a-singed-network", "title": "How to extract positive and negative subnetworks from a singed network", "body": "<p>With this code I found the list of all subgraphs, and then trying the extracting all positive and negative subnetworks but   did not find   any logic for this, can anyone help me </p>\n\n<pre><code>import networkx as nx\nfrom networkx.algorithms.components.connected import connected_components\nimport matplotlib.pyplot as plt\nG = nx.read_edgelist('/home/suman/Desktop/dataset/CA-GrQc.txt', create_using = None, nodetype=int,edgetype=int) \nH=nx.connected_component_subgraphs(G)\nfor i in H:\n    print list(i)  \npos=nx.spring_layout(G) \nnx.draw(G,pos=pos)\nnx.draw_networkx_labels(G,pos=pos)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454543724, "post_id": 35189322, "comment_id": 58097251, "body": "Can&#39;t you just the two images, and check for differences? Or check if your <i>arrows</i> are filled with white or not? You don&#39;t need to detect polygons, just find connected components."}, {"owner": {"reputation": 21, "user_id": 3697254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e673b0733e01da172608cdd823c47ab5?s=128&d=identicon&r=PG&f=1", "display_name": "absolutely_dumb", "link": "https://stackoverflow.com/users/3697254/absolutely-dumb"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454545485, "post_id": 35189322, "comment_id": 58097869, "body": "Background can vary in color as well, so checking if they are filled with white is pointless. And I don&#39;t quite understand what do you mean by &#39;connected components&#39;."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454545697, "post_id": 35189322, "comment_id": 58097929, "body": "1) you should then post some image of filled and non filled forms, as well as <i>empty</i> forms. 2) Regarding connected components, you should study a little about this, since they are quite important in image processing."}, {"owner": {"reputation": 21, "user_id": 3697254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e673b0733e01da172608cdd823c47ab5?s=128&d=identicon&r=PG&f=1", "display_name": "absolutely_dumb", "link": "https://stackoverflow.com/users/3697254/absolutely-dumb"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454547819, "post_id": 35189322, "comment_id": 58098606, "body": "Tried to get a difference mask of empty and filled forms (added to the initial post) and it worked pretty well, thank you. But I still need to count those arrows, would appreciate any suggestions. Image processing (as well as graph theory) is Greek to me, just started learning :)"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454548306, "post_id": 35189322, "comment_id": 58098773, "body": "Start playing with <code>findContours</code> or <code>connectedComponents</code>. You&#39;ll be able to find (and count) the white blobs. Then just group them (it&#39;ll be useful if you have a fixed layout for the forms) and you can get your result."}, {"owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "edited": false, "score": 0, "creation_date": 1454562519, "post_id": 35189322, "comment_id": 58102843, "body": "Including the images to your source code might help us providing an answer ..."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 13695193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467d75faceb625db86c1d1438a3e37d0?s=128&d=identicon&r=PG&f=1", "display_name": "dungeoneering", "link": "https://stackoverflow.com/users/13695193/dungeoneering"}, "is_accepted": false, "score": 1, "last_activity_date": 1591806639, "creation_date": 1591806639, "answer_id": 62308534, "question_id": 35189322, "link": "https://stackoverflow.com/questions/35189322/opencv-polygon-detection-methods/62308534#62308534", "title": "OpenCV polygon detection methods", "body": "<p>The task is pretty easy if you do image segmentation with connectedComponents and then characterize the blobs found. This is one possible approach:</p>\n\n<pre><code>    import cv2\n    import numpy as np\n    import matplotlib.pyplot as plt \n\n    img = cv2.imread('test2.png')\n    # Convert image to grayscale and get threshold image or mask:\n    g = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n    th, im_th = cv2.threshold(g, 220, 250, cv2.THRESH_BINARY_INV)\n    # Opening, just to have delimited edges and make sure to separate each component:\n    kernel = cv2.getStructuringElement(cv2.MORPH_RECT,(2,2))\n    im_th2 = cv2.morphologyEx(im_th, cv2.MORPH_OPEN, kernel)\n    # Connected Components segmentation:\n    maxLabels, labels = cv2.connectedComponents(im_th2)\n    plt.imshow(labels)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uVzEn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uVzEn.png\" alt=\"image segmented\"></a></p>\n\n<p>As you can see, those components <em>filled</em> will be bigger in size (number of pixels) than the ones <em>not filled</em>, so you can get the size of each component and see if is filled or not. For example: You can get the maximum value of blob sizes, and make a threshold, since, as observed, those not filled will have less than half the size of those filled:</p>\n\n<pre><code>   # Get size of blobs: First value is always \"empty\" space, 0 on the mask, so discard it \n   sizes = np.array([len(labels[labels==i]) for i in range(1,maxLabels)])\n   # Threshold with minimum value:\n   thSizes = np.max(sizes)/2\n</code></pre>\n\n<p>You can count the number of <em>filled</em> components or do other desired operations from here:</p>\n\n<pre><code>   n_blobs = len(sizes[sizes&gt;thSizes])\n   print('There are ' + str(n_blobs) + ' fields filled.')\n   &gt;&gt;&gt;There are 6 fields filled.\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3697254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e673b0733e01da172608cdd823c47ab5?s=128&d=identicon&r=PG&f=1", "display_name": "absolutely_dumb", "link": "https://stackoverflow.com/users/3697254/absolutely-dumb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1591806639, "creation_date": 1454539925, "last_edit_date": 1454547481, "question_id": 35189322, "link": "https://stackoverflow.com/questions/35189322/opencv-polygon-detection-methods", "title": "OpenCV polygon detection methods", "body": "<p>So I have a digital form with fields like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/lNSo3.png\" alt=\"\"></p>\n\n<p>The problem is that people fill these fields in many different ways: different colors</p>\n\n<p><img src=\"https://i.stack.imgur.com/dC8xI.png\" alt=\"\"></p>\n\n<p>gradients and so on. So the only thing that remains consistent is the shape of the field.</p>\n\n<p>How do I detect all such shapes and make sure that they are <em>filled</em>.\nTried template matching but it doesn't work consistently on images with gradients or with images of low contrast where thresholding doesn't help much, and now I'm stuck.</p>\n\n<p>I use OpenCV 3.1 along with Python 2.7.</p>\n\n<p><strong>EDIT:</strong> Tried to do it this way. It seems to provide results that are much more convenient for further processing but I'm still confused about next step.</p>\n\n<pre><code>import cv2\n\nbase_img = cv2.imread(\"form_base.png\", 0)\nform_img = cv2.imread(\"test2.png\", 0)\nret,thresh1 = cv2.threshold(base_img,244,255,cv2.THRESH_BINARY)\nret,thresh2 = cv2.threshold(form_img,244,255,cv2.THRESH_BINARY)\n\nres = thresh1 - thresh2\n\ncv2.imwrite(\"test_output.png\", res)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/45FXT.png\" rel=\"nofollow noreferrer\">That's what I got</a></p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "nearest-neighbor", "knn"], "answers": [{"comments": [{"owner": {"reputation": 1156, "user_id": 3114663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/1KtSe.png?s=128&g=1", "display_name": "sau", "link": "https://stackoverflow.com/users/3114663/sau"}, "edited": false, "score": 0, "creation_date": 1483007895, "post_id": 35190477, "comment_id": 69957611, "body": "will this tree be loaded in driver memory or executor memory? I am trying to use annoy tree on spark. Tress size is 3 GB on disk (I actually save the tree on hdfs) . Now when I try to find the nearest neighbors I just load the tree and get results in a loop for every query."}, {"owner": {"reputation": 451, "user_id": 5361356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/de50d7741c4f96b210bc85cfd73ed00c?s=128&d=identicon&r=PG&f=1", "display_name": "user48135", "link": "https://stackoverflow.com/users/5361356/user48135"}, "edited": false, "score": 0, "creation_date": 1520235072, "post_id": 35190477, "comment_id": 85215743, "body": "Hi Sau, the tree size is big, I am not sure if you have used the code above succesuffly?"}, {"owner": {"reputation": 143, "user_id": 7438644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3eaef00a5c2ae3b6f79fdd566cbd436?s=128&d=identicon&r=PG&f=1", "display_name": "abdkumar", "link": "https://stackoverflow.com/users/7438644/abdkumar"}, "edited": false, "score": 0, "creation_date": 1593139372, "post_id": 35190477, "comment_id": 110681888, "body": "How to create AnnoyIndex on spark data frame [ID: int, features: vectors] and build model ?"}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 7, "last_activity_date": 1455040032, "last_edit_date": 1455040032, "creation_date": 1454546184, "answer_id": 35190477, "question_id": 35189312, "link": "https://stackoverflow.com/questions/35189312/broadcast-annoy-object-in-spark-for-nearest-neighbors/35190477#35190477", "title": "Broadcast Annoy object in Spark (for nearest neighbors)?", "body": "<p>I've never used Annoy but I am pretty sure that the package description explains what is going on here:</p>\n\n<blockquote>\n  <p>It also creates large read-only file-based data structures that are mmapped into memory so that many processes may share the same data.</p>\n</blockquote>\n\n<p>Since it is using memory mapped indexes when you serialize it and pass it to the workers all data is lost on the way. </p>\n\n<p>Try something like this instead: </p>\n\n<pre><code>from pyspark import SparkFiles\n\nt.save(\"index.ann\")\nsc.addPyFile(\"index.ann\")\n\ndef find_neighbors(iter):\n    t = AnnoyIndex(f)\n    t.load(SparkFiles.get(\"index.ann\"))\n    return (t.get_nns_by_vector(vector=x[1], n=5) for x in iter)\n\nsparkvectors.mapPartitions(find_neighbors).first()\n## [0, 13, 12, 6, 4]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50, "user_id": 4903453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-y-ivC-BvUjQ/AAAAAAAAAAI/AAAAAAAALic/q9vL1VA5pGw/photo.jpg?sz=128", "display_name": "Monit Gehlot", "link": "https://stackoverflow.com/users/4903453/monit-gehlot"}, "edited": false, "score": 1, "creation_date": 1599114615, "post_id": 48083388, "comment_id": 112674078, "body": "Do you have an explanation of why it behaves like that? Do all imports need to be within functions that are being called by mapPartitions?"}], "tags": [], "owner": {"reputation": 1539, "user_id": 653755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43695697a8bf1db28035b1924148f8ce?s=128&d=identicon&r=PG&f=1", "display_name": "joe", "link": "https://stackoverflow.com/users/653755/joe"}, "is_accepted": false, "score": 3, "last_activity_date": 1515005241, "creation_date": 1515005241, "answer_id": 48083388, "question_id": 35189312, "link": "https://stackoverflow.com/questions/35189312/broadcast-annoy-object-in-spark-for-nearest-neighbors/48083388#48083388", "title": "Broadcast Annoy object in Spark (for nearest neighbors)?", "body": "<p>Just in case anyone else is following along here like I was, you'll need to import Annoy in the <code>mapPartitions</code> function, else you'll still get pickling errors. Here's my completed example based on the above:</p>\n\n<pre><code>from annoy import AnnoyIndex\n\nfrom pyspark import SparkFiles\nfrom pyspark import SparkContext\nfrom pyspark import SparkConf\n\nimport random\nrandom.seed(42)\n\nf = 1024\nt = AnnoyIndex(f)\nallvectors = []\nfor i in range(100):\n    v = [random.gauss(0, 1) for z in range(f)]\n    t.add_item(i, v)\n    allvectors.append((i, v))\n\nt.build(10)\nt.save(\"index.ann\")\n\ndef find_neighbors(i):\n    from annoy import AnnoyIndex\n    ai = AnnoyIndex(f)\n    ai.load(SparkFiles.get(\"index.ann\"))\n    return (ai.get_nns_by_vector(vector=x[1], n=5) for x in i)\n\nwith SparkContext(conf=SparkConf().setAppName(\"myannoy\")) as sc:\n  sc.addFile(\"index.ann\")\n  sparkvectors = sc.parallelize(allvectors)\n  sparkvectors.mapPartitions(find_neighbors).first()\n</code></pre>\n"}], "owner": {"reputation": 1818, "user_id": 3210583, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/kZJXf.png?s=128&g=1", "display_name": "xenocyon", "link": "https://stackoverflow.com/users/3210583/xenocyon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2440, "favorite_count": 3, "accepted_answer_id": 35190477, "answer_count": 2, "score": 4, "last_activity_date": 1515005241, "creation_date": 1454539861, "last_edit_date": 1592644375, "question_id": 35189312, "link": "https://stackoverflow.com/questions/35189312/broadcast-annoy-object-in-spark-for-nearest-neighbors", "title": "Broadcast Annoy object in Spark (for nearest neighbors)?", "body": "<p>As Spark's mllib doesn't have nearest-neighbors functionality, I'm trying to use <a href=\"https://github.com/spotify/annoy\" rel=\"nofollow noreferrer\">Annoy</a> for approximate Nearest Neighbors. I try to broadcast the Annoy object and pass it to workers; however, it does not operate as expected.</p>\n<p>Below is code for reproducibility (to be run in PySpark). The problem is highlighted in the difference seen when using Annoy with vs without Spark.</p>\n<pre><code>from annoy import AnnoyIndex\nimport random\nrandom.seed(42)\n\nf = 40\nt = AnnoyIndex(f)  # Length of item vector that will be indexed\nallvectors = []\nfor i in xrange(20):\n    v = [random.gauss(0, 1) for z in xrange(f)]\n    t.add_item(i, v)\n    allvectors.append((i, v))\nt.build(10) # 10 trees\n\n# Use Annoy with Spark\nsparkvectors = sc.parallelize(allvectors)\nbct = sc.broadcast(t)\nx = sparkvectors.map(lambda x: bct.value.get_nns_by_vector(vector=x[1], n=5))\nprint &quot;Five closest neighbors for first vector with Spark:&quot;,\nprint x.first()\n\n# Use Annoy without Spark\nprint &quot;Five closest neighbors for first vector without Spark:&quot;,\nprint(t.get_nns_by_vector(vector=allvectors[0][1], n=5))\n</code></pre>\n<p>Output seen:</p>\n<blockquote>\n<p>Five closest neighbors for first vector with Spark: None</p>\n<p>Five closest neighbors for first vector without Spark: [0, 13, 12, 6, 4]</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x", "random"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 6, "creation_date": 1454539551, "post_id": 35189234, "comment_id": 58095653, "body": "How are you setting <code>mapSeed</code>? Can you show some example output?"}, {"owner": {"reputation": 127, "user_id": 4831464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628f48c946181ba59a67ea5d53e689ad?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t stop forking", "link": "https://stackoverflow.com/users/4831464/dont-stop-forking"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1454540289, "post_id": 35189234, "comment_id": 58095935, "body": "<code>mapseed</code> is a sha1 hash of a user inputted string"}, {"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1454540748, "post_id": 35189234, "comment_id": 58096120, "body": "How <i>exactly</i> are you setting <code>mapSeed</code>? Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "is_accepted": false, "score": 0, "last_activity_date": 1454540440, "creation_date": 1454540440, "answer_id": 35189437, "question_id": 35189234, "link": "https://stackoverflow.com/questions/35189234/pythons-random-seed-does-not-work-when-seeded-with-a-hash/35189437#35189437", "title": "Pythons random.seed does not work when seeded with a hash", "body": "<p>Assuming that the seed remains constant during all executions, it will never change. Look at this:</p>\n\n<pre><code>>>> import random\n>>> r = random.Random()\n>>> r.seed(515)\n>>> r.random()\n0.1646746342919\n>>> r.random()\n0.9567223584846931\n>>> r.seed(515)\n>>> r.random()\n0.1646746342919\n>>> r.random()\n0.9567223584846931\n</code></pre>\n\n<p>However, since you develop your seed from a user inputted string, the value will not remain constant. Since the value that is returned by the <code>Random</code> object will not have a different value somewhere, you can't rely on it to be constant.</p>\n\n<p>If you want the output to be constant, <em>the seed can not change.</em></p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 5531289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8232747a0b8c83a985cf21bcba9c65ce?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Sanchez", "link": "https://stackoverflow.com/users/5531289/vladimir-sanchez"}, "is_accepted": false, "score": -1, "last_activity_date": 1454541265, "creation_date": 1454541265, "answer_id": 35189599, "question_id": 35189234, "link": "https://stackoverflow.com/questions/35189234/pythons-random-seed-does-not-work-when-seeded-with-a-hash/35189599#35189599", "title": "Pythons random.seed does not work when seeded with a hash", "body": "<p>One very important concept regarding \"random numbers\" is that are not actually  random, they are dependent of:\n1) Algorithm used to generate the \"random\" sequence of numbers\n2) The seed for the algorithm</p>\n\n<p>The same seed will generate the same sequence of random numbers. Why? Because if you can have the same stream of random numbers you can actually test changes in your code using the very same stream of random numbers and check if the final output of your code is caused by changes in your code instead of occurrences of different random stream of numbers. This is very common in simulation processes (queues, traffic simulations, etc.).\nSo, same seed = same stream of random numbers.\nChange the seed to have different streams of random number,</p>\n\n<p>I hope it helps. </p>\n"}, {"tags": [], "owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "is_accepted": true, "score": 1, "last_activity_date": 1454541480, "creation_date": 1454541480, "answer_id": 35189636, "question_id": 35189234, "link": "https://stackoverflow.com/questions/35189234/pythons-random-seed-does-not-work-when-seeded-with-a-hash/35189636#35189636", "title": "Pythons random.seed does not work when seeded with a hash", "body": "<p><code>mapSeed</code>, as the line <code>print(mapSeed)</code>, shows, is not a string, but an SHA1 HASH object. When you pass this to <code>random.seed</code>, it likely uses the (randomized) <code>hash()</code> of the object, hence the different results.</p>\n\n<p>You need to extract the digest from the hash object before passing it to <code>random.seed</code>:</p>\n\n<pre><code>rnd.seed(mapSeed.digest())\n</code></pre>\n\n<p>(You can also just used the user input directly; there's no benefit to doing an SHA1 hash over it first)</p>\n"}], "owner": {"reputation": 127, "user_id": 4831464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628f48c946181ba59a67ea5d53e689ad?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t stop forking", "link": "https://stackoverflow.com/users/4831464/dont-stop-forking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 35189636, "answer_count": 3, "score": -3, "last_activity_date": 1454541550, "creation_date": 1454539454, "last_edit_date": 1454541550, "question_id": 35189234, "link": "https://stackoverflow.com/questions/35189234/pythons-random-seed-does-not-work-when-seeded-with-a-hash", "title": "Pythons random.seed does not work when seeded with a hash", "body": "<p>I am trying to seed an instance of pythons random. However when I run the code below it generates a different answer each time even if user input stays the same.</p>\n\n<pre><code>import random\nimport hashlib\n\nmapSeed = hashlib.sha1(input(\"Enter seed: \").encode('utf-8'))\nrnd = random.Random()\nrnd.seed(mapSeed)\nprint(mapSeed)\nprint(rnd.random())\n</code></pre>\n"}, {"tags": ["python", "heatmap", "bokeh"], "comments": [{"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 1, "creation_date": 1454540105, "post_id": 35189203, "comment_id": 58095864, "body": "I can only guess you have an installation problem. <code>bokeh._legacy_charts</code> was removed and does not exist in Bokeh version <code>0.11</code> Perhaps try removing completely and re-installing."}, {"owner": {"reputation": 71, "user_id": 5880352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ce2768f5ff68ab34522dffd6a7eb49e?s=128&d=identicon&r=PG&f=1", "display_name": "ktx", "link": "https://stackoverflow.com/users/5880352/ktx"}, "reply_to_user": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 0, "creation_date": 1454601360, "post_id": 35189203, "comment_id": 58126816, "body": "@bigreddot you&#39;re right; my mistake on copy&amp;paste to SO. I posted the whole code with the example data creation and error from python3."}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 1, "creation_date": 1454610037, "post_id": 35189203, "comment_id": 58132509, "body": "HI @ktx your exact code works for me on <code>0.11.1</code> release candidate. We will release <code>0.11.1</code> later today, so you can try that. But I still think maybe it is possibly an installation problem. The codebase has re-arranged some, and maybe pip does not delete all old files in <code>site-packages</code>?  It&#39;s probably worth making sure everything Bokeh-related is deleted from your <code>site-packages</code> and trying again. If that fixes, please file a GH issue to we can look into our release packaging."}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 5683126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0540706d3c97d0bee99cbbc155c2a8?s=128&d=identicon&r=PG&f=1", "display_name": "Carson", "link": "https://stackoverflow.com/users/5683126/carson"}, "is_accepted": false, "score": 2, "last_activity_date": 1454542575, "creation_date": 1454542575, "answer_id": 35189860, "question_id": 35189203, "link": "https://stackoverflow.com/questions/35189203/bokeh-heatmap-usage/35189860#35189860", "title": "Bokeh heatmap usage", "body": "<p>bigreddot is right. If you have 0.11, you shouldn't have <code>legacy_charts</code>. Once you properly update Bokeh, this should work:</p>\n\n<pre><code>from bokeh.charts import HeatMap, output_file, show\nimport pandas as pd\n\noutput_file('test.html')\n\nhm = HeatMap(z, x='date', y='hour',  values='i', stat='count')\n\nshow(hm)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/T7l57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T7l57.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5880352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ce2768f5ff68ab34522dffd6a7eb49e?s=128&d=identicon&r=PG&f=1", "display_name": "ktx", "link": "https://stackoverflow.com/users/5880352/ktx"}, "is_accepted": false, "score": 1, "last_activity_date": 1454664527, "creation_date": 1454664527, "answer_id": 35220503, "question_id": 35189203, "link": "https://stackoverflow.com/questions/35189203/bokeh-heatmap-usage/35220503#35220503", "title": "Bokeh heatmap usage", "body": "<ol>\n<li>On bigreddot pointers I reinstalled bokeh, didn't work even then. I got several times errors in pip3 (some bug on the linux distribution level).</li>\n<li>Then the python3-pip package, pandas and few others got purged.</li>\n<li>Afterwards <code>rm -rf ~/.local/lib/python*</code> was executed to cleanup the user-install direcotries.</li>\n<li>Then <code>get-pip.py</code> got downloaded.</li>\n<li>I reinstalled pip3 (+ <code>ln -s ~/.local/bin/pip3 ~/bin</code>) and reinstalled bokeh &amp; pandas from the PyPi repositories.</li>\n</ol>\n\n<p>Now everything works nicely. Thank you bigreddot for pointing in the right direction.</p>\n"}], "owner": {"reputation": 71, "user_id": 5880352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ce2768f5ff68ab34522dffd6a7eb49e?s=128&d=identicon&r=PG&f=1", "display_name": "ktx", "link": "https://stackoverflow.com/users/5880352/ktx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2325, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1454664527, "creation_date": 1454539336, "last_edit_date": 1454592194, "question_id": 35189203, "link": "https://stackoverflow.com/questions/35189203/bokeh-heatmap-usage", "title": "Bokeh heatmap usage", "body": "<p>I have an array of certain events with time stamp and want to create a heatmap:</p>\n\n<ul>\n<li>x axis should represent the date, f.e. '2016-02-03',</li>\n<li>y axis should represent the hour of occurrence, f.e. 13 (if 13:32),</li>\n<li>the color should depend on the count of occurred event.</li>\n</ul>\n\n<p>My data (as pandas dataframe <code>z.head()</code>):</p>\n\n<pre><code>         date hour  i\n0  2016-01-15   13  1\n1  2016-01-15   13  1\n2  2016-01-15   12  1\n3  2016-01-15   10  1\n4  2016-01-15   10  1\n</code></pre>\n\n<p>My failed attempt:</p>\n\n<pre><code>from bokeh._legacy_charts import HeatMap, output_file, show\nhm = HeatMap(z.head(), x='date', y='hour', values='i', stat='count')\n</code></pre>\n\n<p>And the exception:</p>\n\n<pre><code>AttributeError                            Traceback (most recent call last)\n&lt;ipython-input-98-83c7e9319496&gt; in &lt;module&gt;()\n----&gt; 1 hm = HeatMap(z.head(), x='date', y='hour', values='i', stat='count')\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/builders/heatmap_builder.py in HeatMap(data, x, y, values, stat, xgrid, ygrid, hover_tool, hover_text, **kw)\n     90     kw['values'] = values\n     91     kw['stat'] = stat\n---&gt; 92     chart = create_and_build(HeatMapBuilder, data, xgrid=xgrid, ygrid=ygrid, **kw)\n     93 \n     94     if hover_tool:\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/builder.py in create_and_build(builder_class, *data, **kws)\n     65     chart_kws = { k:v for k,v in kws.items() if k not in builder_props}\n     66     chart = Chart(**chart_kws)\n---&gt; 67     chart.add_builder(builder)\n     68     chart.start_plot()\n     69 \n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/chart.py in add_builder(self, builder)\n    150     def add_builder(self, builder):\n    151         self._builders.append(builder)\n--&gt; 152         builder.create(self)\n    153 \n    154     def add_ranges(self, dim, range):\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/builder.\n    510         # call methods that allow customized setup by subc\n    511         self.setup()\n--&gt; 512         self.process_data()\n    513 \n    514         # create and add renderers to chart\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/builders\n    169         # color by the values selection\n    170         self.attributes['color'].setup(data=self._data.sou\n--&gt; 171                                        columns=self.values\n    172         self.attributes['color'].add_bin_labels(self._data\n    173 \n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/attribut\n    187 \n    188         if self.columns is not None and self.data is not N\n--&gt; 189             self.attr_map = self._create_attr_map(self.dat\n    190 \n    191     def update_data(self, data):\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/attribut\n    158         \"\"\"Creates map between unique values and available\n    159 \n--&gt; 160         self._generate_items(df, columns)\n    161         iterable = self._setup_iterable()\n    162 \n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/attribut\n    230 \n    231                 self.bins = Bins(source=ColumnDataSource(d\n--&gt; 232                                  bin_count=len(self.iterab\n    233 \n    234                 if self.sort:\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/stats.py\n    309         properties['source'] = source\n    310 \n--&gt; 311         super(Bins, self).__init__(**properties)\n    312 \n    313     def _get_stat(self):\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/stats.py\n     54 \n     55         super(Stat, self).__init__(**properties)\n---&gt; 56         self._refresh()\n     57 \n     58     def _refresh(self):\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/stats.py\n     60         if self.get_data() is not None:\n     61             self.update()\n---&gt; 62             self.calculate()\n     63 \n     64     def set_data(self, data, column=None):\n\n/home/user/.local/lib/python3.4/site-packages/bokeh/charts/stats.py\n    342         if self.source is not None:\n    343             # add bin column to data source\n--&gt; 344             self.source.add(binned.tolist(), name=self.bin\n    345             df = self.source.to_df()\n    346         else:\n\nAttributeError: 'Categorical' object has no attribute 'tolist'\n</code></pre>\n\n<p>Bokeh is in the version 0.11, installed with pip3.\nWhat am I doing wrong? Thank you.</p>\n\n<h2>UPDATED:</h2>\n\n<ul>\n<li>My bad on the legacy_charts (copied wrong line).</li>\n<li>I have reinstalled bokeh <code>pip3 install --user --force-reinstall --upgrade bokeh</code>. Still no joy.</li>\n</ul>\n\n<p>The whole code:</p>\n\n<pre><code>import pandas as pd\nfrom bokeh.charts import HeatMap, output_file, show\n\nz = pd.DataFrame()\nz['date'] = ['2016-01-15', '2016-01-13', '2016-01-11', '2016-01-14', '2016-01-15']\nz['hour'] = [12, 10, 11, 3, 0]\nz['i'] = [1, 1, 1, 1, 1]\n\noutput_file('/tmp/test.html')\nhm = HeatMap(z, x='date', y='hour', stat='count')\nshow(hm)\n</code></pre>\n\n<p>And running using python3:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"so.py\", line 10, in &lt;module&gt;\n    hm = HeatMap(z, x='date', y='hour', stat='count')\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/builders/heatmap_builder.py\", line 92, in HeatMap\n    chart = create_and_build(HeatMapBuilder, data, xgrid=xgrid, ygrid=ygrid, **kw)\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/builder.py\", line 67, in create_and_build\n    chart.add_builder(builder)\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/chart.py\", line 152, in add_builder\n    builder.create(self)\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/builder.py\", line 512, in create\n    self.process_data()\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/builders/heatmap_builder.py\", line 171, in process_data\n    columns=self.values.selection)\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/attributes.py\", line 189, in setup\n    self.attr_map = self._create_attr_map(self.data.to_df(), self.columns)\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/attributes.py\", line 160, in _create_attr_map\n    self._generate_items(df, columns)\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/attributes.py\", line 232, in _generate_items\n    bin_count=len(self.iterable), aggregate=False)\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/stats.py\", line 311, in __init__\n    super(Bins, self).__init__(**properties)\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/stats.py\", line 56, in __init__\n    self._refresh()\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/stats.py\", line 62, in _refresh\n    self.calculate()\n  File \"/home/ktx/.local/lib/python3.4/site-packages/bokeh/charts/stats.py\", line 344, in calculate\n    self.source.add(binned.tolist(), name=self.bin_column)\nAttributeError: 'Categorical' object has no attribute 'tolist'\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "scipy", "differential-equations", "odeint"], "answers": [{"tags": [], "owner": {"reputation": 3805, "user_id": 4165552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18b32c5e142791fca01cbf252f663ac?s=128&d=identicon&r=PG&f=1", "display_name": "pptaszni", "link": "https://stackoverflow.com/users/4165552/pptaszni"}, "is_accepted": false, "score": 0, "last_activity_date": 1454678022, "last_edit_date": 1495542662, "creation_date": 1454678022, "answer_id": 35225173, "question_id": 35189160, "link": "https://stackoverflow.com/questions/35189160/controlling-output-limits-in-scipys-odeint/35225173#35225173", "title": "Controlling output limits in Scipy&#39;s ODEINT", "body": "<p>Please first look at my <a href=\"https://stackoverflow.com/questions/34943780/problems-with-a-function-and-odeint-in-python/35153556#35153556\">other answer</a> that I posted recently.</p>\n\n<p>What you want do do is to add a saturation constraint to your ODE. There are a few possibilities to achieve this behavior, however I recommend this one:</p>\n\n<pre><code># calculate dy[1]\ny1 = y[1]\nif dy[1] &lt; 0 and y1 &lt;= 0.1 # or 0.0, depends on accuracy you wish to maintain\n    y1 = 0\n    dy1 = 0 # this prevents your variable from going further down\nelse\n    # normal routine\n</code></pre>\n\n<p>Let me know, if it suits you.</p>\n\n<p>Best regards.</p>\n"}], "owner": {"reputation": 177, "user_id": 4119822, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ededd233e28b6e749452c87a793f11e6?s=128&d=identicon&r=PG&f=1", "display_name": "Oniow", "link": "https://stackoverflow.com/users/4119822/oniow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1287, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1454678022, "creation_date": 1454539124, "last_edit_date": 1454618988, "question_id": 35189160, "link": "https://stackoverflow.com/questions/35189160/controlling-output-limits-in-scipys-odeint", "title": "Controlling output limits in Scipy&#39;s ODEINT", "body": "<p>I have the following simplified pseudocode setup which involves a system of ODEs, which I attempt to solve with scipy's odeint.</p>\n\n<pre><code>from scipy.integrate import odeint\n\ndef diff_func(y, time, parms):\n\n    # Do stuff with parms that depends upon y and t.\n    new_parms = other_funcs(y,time, parms)\n\n    # Now calculate derivatives\n    dy1_dt = dy1_func(y, new_parms)\n    dy2_dt = dy2_func(y, new_parms)\n\n# Setup up initial conditions\ny_0 = [y_1_0, y_2_0]\ntime = np.linspace(0, 1000, 1000)\nparms = list_o_constants\n\n# Solve diffeq\nyout, info = odeint(diff_func, y_0, time, args=(parms,), full_output=True)\n</code></pre>\n\n<p>Depending upon the inputs I give it, I can lead to nonsensical results - or crashes. I have narrowed down the problem to the <code>y</code> inputs go negative occasionally, since one of them is temperature - it leads to all kinds of issues. The reason why it is going negative in the first place is unclear, and might be a stability issue.</p>\n\n<p>I have attempted to change the diff function to include a check like:</p>\n\n<pre><code>def diff_func(y, time, parms):\n    if y[1] &lt;= 0.1:\n        y[1] = 0.1\n</code></pre>\n\n<p>This seems to work okay, I am still testing it. But, I wanted to ask if: this is going to cause problems down the line, and if there is a better way to force odeint to only allow positive outputs (i.e., change step size if a negative is found).</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "gtk3"], "comments": [{"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 0, "creation_date": 1454541701, "post_id": 35189065, "comment_id": 58096486, "body": "What is your error? What isn&#39;t working?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5880314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9355655e759d3dee83713bc15ff0842b?s=128&d=identicon&r=PG&f=1", "display_name": "shiner spy", "link": "https://stackoverflow.com/users/5880314/shiner-spy"}, "edited": false, "score": 0, "creation_date": 1454584704, "post_id": 35196746, "comment_id": 58115265, "body": "actually i try it but i got this problem : /usr/bin/python3.4 /home/muhammad/PycharmProjects/PyGtk/inputs.py Traceback (most recent call last):   File &quot;/home/muhammad/PycharmProjects/PyGtk/inputs.py&quot;, line 57, in function     encoded_string = base64.b64encode(string)   File &quot;/usr/lib/python3.4/base64.py&quot;, line 62, in b64encode     encoded = binascii.b2a_base64(s)[:-1] TypeError: &#39;str&#39; does not support the buffer interface"}, {"owner": {"reputation": 1, "user_id": 5880314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9355655e759d3dee83713bc15ff0842b?s=128&d=identicon&r=PG&f=1", "display_name": "shiner spy", "link": "https://stackoverflow.com/users/5880314/shiner-spy"}, "edited": false, "score": 0, "creation_date": 1454584792, "post_id": 35196746, "comment_id": 58115320, "body": "[++++++] then here my code :     def function (self, widget):         string = self.password.get_text()         encoded_string = base64.b64encode(string)         self.label.set_text(encoded_string)"}, {"owner": {"reputation": 3724, "user_id": 2263652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eX05O.jpg?s=128&g=1", "display_name": "B8vrede", "link": "https://stackoverflow.com/users/2263652/b8vrede"}, "reply_to_user": {"reputation": 1, "user_id": 5880314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9355655e759d3dee83713bc15ff0842b?s=128&d=identicon&r=PG&f=1", "display_name": "shiner spy", "link": "https://stackoverflow.com/users/5880314/shiner-spy"}, "edited": false, "score": 0, "creation_date": 1454585019, "post_id": 35196746, "comment_id": 58115455, "body": "Oh I didn&#39;t realize that you were on python 3.4, I tested the code on 2.7 which worked fine :) Let me check this for you."}, {"owner": {"reputation": 3724, "user_id": 2263652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eX05O.jpg?s=128&g=1", "display_name": "B8vrede", "link": "https://stackoverflow.com/users/2263652/b8vrede"}, "reply_to_user": {"reputation": 1, "user_id": 5880314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9355655e759d3dee83713bc15ff0842b?s=128&d=identicon&r=PG&f=1", "display_name": "shiner spy", "link": "https://stackoverflow.com/users/5880314/shiner-spy"}, "edited": false, "score": 0, "creation_date": 1454585283, "post_id": 35196746, "comment_id": 58115600, "body": "I just added a extra line to the answer, it turns out that in 3.+ you need to encode the string first to get the byte string. <a href=\"http://stackoverflow.com/questions/7585435/best-way-to-convert-string-to-bytes-in-python-3\" title=\"best way to convert string to bytes in python 3\">stackoverflow.com/questions/7585435/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3724, "user_id": 2263652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eX05O.jpg?s=128&g=1", "display_name": "B8vrede", "link": "https://stackoverflow.com/users/2263652/b8vrede"}, "is_accepted": false, "score": 0, "last_activity_date": 1454584949, "last_edit_date": 1454584949, "creation_date": 1454576873, "answer_id": 35196746, "question_id": 35189065, "link": "https://stackoverflow.com/questions/35189065/how-to-set-encoded-base-64-result-on-gtk-label-or-gtk-entry/35196746#35196746", "title": "How to set encoded base 64 result on Gtk.Label or Gtk.Entry?", "body": "<p>Assuming you want to encode the value of the password field you were pretty close, the only thing you forgot was to get the value of the password field and put it into the encode like this:</p>\n\n<pre><code>def function (self, widget):\n    # Get the value from the input field\n    string = self.password.get_text()\n\n    # Turn the string into bytes\n    byte_string = string.encode('utf-8')\n\n    # Encode the string\n    encoded_string = base64.b64encode(byte_string )\n\n    # Set the label text\n    self.label.set_text(encoded_string)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5880314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9355655e759d3dee83713bc15ff0842b?s=128&d=identicon&r=PG&f=1", "display_name": "shiner spy", "link": "https://stackoverflow.com/users/5880314/shiner-spy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1454602660, "creation_date": 1454538740, "last_edit_date": 1454538866, "question_id": 35189065, "link": "https://stackoverflow.com/questions/35189065/how-to-set-encoded-base-64-result-on-gtk-label-or-gtk-entry", "title": "How to set encoded base 64 result on Gtk.Label or Gtk.Entry?", "body": "<p>I want to use <code>base 64</code> and print the encode result into <code>Gtk.Label</code>, this is my code so far: </p>\n\n<pre><code>from gi.repository import Gtk\n\nimport base64\n\nclass classInputs(Gtk.Window):\n    def __init__(self):\n\n        Gtk.Window.__init__(self, title=\"Inputs try window\")\n        self.set_border_width(10)\n        self.set_size_request(200,100)\n\n        # Layout\n        vertical_box = Gtk.Box(orientation = Gtk.Orientation.VERTICAL, spacing = 8)\n        self.add(vertical_box)\n\n        #userName input\n        self.username = Gtk.Entry()\n        self.username.set_text(\"\")\n        vertical_box.pack_start(self.username, True, True, 0)\n\n        #Password input\n        self.password = Gtk.Entry()\n        self.password.set_text(\"aaaaaaaaaaa\")\n        self.password.set_visibility(False)\n        vertical_box.pack_start(self.password, True, True, 0)\n\n        #create login botton here\n        self.button = Gtk.Button(label=\"click me to login\")\n        self.button.connect(\"clicked\", self.function)\n        vertical_box.pack_start(self.button, True, True, 0)\n\n        #create label\n        self.label= Gtk.Label()\n        vertical_box.pack_start(self.label, True, True, 0)\n\n    #function of the button here bech ki tenzel 3al button y7ot lencode fel input 1\n    def function (self, widget):\n        self.label.set_text(base64.b64encode(b'data to be encoded'))\n\nshinerghost = classInputs()\nshinerghost.connect(\"delete-event\",Gtk.main_quit)\nshinerghost.show_all()\nGtk.main()\n</code></pre>\n\n<p>Any ideas on how I can achieve that?</p>\n"}, {"tags": ["python", "html", "xpath", "xhtml", "lxml"], "answers": [{"tags": [], "owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "is_accepted": true, "score": 1, "last_activity_date": 1454546359, "creation_date": 1454546359, "answer_id": 35190510, "question_id": 35188998, "link": "https://stackoverflow.com/questions/35188998/delineating-divs-of-large-chunks-of-text-with-xpath-or-other/35190510#35190510", "title": "Delineating divs of large chunks of text with XPath (or other)", "body": "<blockquote>\n  <p><em>\"... resulting in an array of Python lxml XPath objects, from which relative XPaths can then be performed. Perhaps this knowledge is a starting point for grabbing all text in between each heading?\"</em></p>\n</blockquote>\n\n<p>Sure (if I understand this correctly), at this point the task is straightforward using <code>following-sibling</code> axis in the relative XPath :</p>\n\n<pre><code>following-sibling::div\n</code></pre>\n"}], "owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 35190510, "answer_count": 1, "score": 0, "last_activity_date": 1454546359, "creation_date": 1454538481, "question_id": 35188998, "link": "https://stackoverflow.com/questions/35188998/delineating-divs-of-large-chunks-of-text-with-xpath-or-other", "title": "Delineating divs of large chunks of text with XPath (or other)", "body": "<p>Given a page such as <a href=\"http://jobs.kelkoo.co.uk/\" rel=\"nofollow noreferrer\">this</a>, with two jobs (we'll ignore 'Open applications' for now) fully described one after the other, I'm looking for a reliable way of extracting the individual job specs. The first goal is to extract the specs, and then hopefully wrap them in some enclosing HTML tags so that they render in a browser when saved as a HTML file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4voEe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4voEe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Obviously if I knew in advance that the class name for the top level div were called \"jobitem\", I could run a simple XPath like <code>//div[@class='jobitem']</code></p>\n\n<p>There will be several such sites though (with widely differing designs, but <strong>all with full job specs listed one after the other</strong>), and my program won't have the luxury of such class name knowledge in advance. One thing my program <strong>will</strong> know: the absolute and relative position of the job headings (<code>&lt;h2&gt;</code>, <code>&lt;h3&gt;</code> etc.). In other words, I'll be running a query like the following:</p>\n\n<pre><code>//*[self::h2 or self::h3 or self::h4][contains(., 'Country Manager')]\n</code></pre>\n\n<p>... resulting in an array of Python <a href=\"http://lxml.de/\" rel=\"nofollow noreferrer\">lxml</a> XPath objects, from which relative XPaths can then be performed. Perhaps this knowledge is a starting point for grabbing all text in between each heading? </p>\n"}, {"tags": ["python", "pygame", "collision"], "comments": [{"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1454539058, "post_id": 35188980, "comment_id": 58095437, "body": "If you&#39;re going for a tile based approach like pokemon, you could just have a grid and check that there is no item in the grid, otherwise, why not just use the rectangle of your characters image? :P"}], "answers": [{"tags": [], "owner": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "is_accepted": false, "score": 1, "last_activity_date": 1454539392, "last_edit_date": 1454539392, "creation_date": 1454539090, "answer_id": 35189152, "question_id": 35188980, "link": "https://stackoverflow.com/questions/35188980/python-pygame-collisions-side-of-rectangle/35189152#35189152", "title": "python pygame collisions side of Rectangle", "body": "<p>Rather than use a rectangle for the main character (which involves a lot of explicit boundary checking), use a <a href=\"http://www.pygame.org/docs/ref/sprite.html\" rel=\"nofollow\">sprite</a> instead. The sprite class includes collision detection, as well as tons of other useful functions.</p>\n\n<p>It may not seem initially worth the effort of refactoring, but as your game grows you will be happy you did it.</p>\n"}], "owner": {"reputation": 133, "user_id": 5775507, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/1098356683/picture?type=large", "display_name": "MeHow", "link": "https://stackoverflow.com/users/5775507/mehow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454544764, "creation_date": 1454538388, "last_edit_date": 1454544764, "question_id": 35188980, "link": "https://stackoverflow.com/questions/35188980/python-pygame-collisions-side-of-rectangle", "title": "python pygame collisions side of Rectangle", "body": "<p>At this moment I use 4 different rectangles for the collision\nlike it can be seen in the photo</p>\n\n<p><img src=\"https://i.stack.imgur.com/prIvH.png\" alt=\"enter image description here\"></p>\n\n<p>this is a part of my code that I use</p>\n\n<pre><code>    mainCharacterCoordinatesLeft = pygame.Rect((x,y+27),(1,5))\n    mainCharacterCoordinatesRight = pygame.Rect((x+28,y+27),(1,5))\n    mainCharacterCoordinatesTop = pygame.Rect((x+2,y+20),(26,5))\n    mainCharacterCoordinatesBottom = pygame.Rect((x+2,y+27),(26,7))\n\n\n    if (keys_pressed[pygame.K_LEFT] and not any(mainCharacterCoordinatesLeft.colliderect(treeCoordinates) for treeCoordinates in treeCoordinates) and not mainCharacterCoordinatesLeft.colliderect(crossCoordinates) and not mainCharacterCoordinatesLeft.colliderect(leftborder) and not mainCharacterCoordinatesLeft.colliderect(wellCoordinates) and not mainCharacterCoordinatesLeft.colliderect(trainCoordinates) and not mainCharacterCoordinatesLeft.colliderect(graveyardCoordinates)):\n        mainCharacterImage=pygame.image.load(mainCharacterLeft[counter])\n        counter = (counter + 1) % len(mainCharacterLeft)\n        x -= 2\n        CameraX -= 2\n\n    if (keys_pressed[pygame.K_RIGHT] and not any(mainCharacterCoordinatesRight.colliderect(treeCoordinates) for treeCoordinates in treeCoordinates) and not mainCharacterCoordinatesRight.colliderect(crossCoordinates) and not mainCharacterCoordinatesRight.colliderect(rightborder) and not mainCharacterCoordinatesRight.colliderect(wellCoordinates) and not mainCharacterCoordinatesRight.colliderect(trainCoordinates) and not mainCharacterCoordinatesRight.colliderect(graveyardCoordinates)):\n        mainCharacterImage=pygame.image.load(mainCharacterRight[counter])\n        counter = (counter + 1) % len(mainCharacterRight)\n        x += 2\n        CameraX += 2\n\n    if (keys_pressed[pygame.K_UP] and not any(mainCharacterCoordinatesTop.colliderect(treeCoordinates) for treeCoordinates in treeCoordinates) and not mainCharacterCoordinatesTop.colliderect(crossCoordinates) and not mainCharacterCoordinatesTop.colliderect(topborder) and not mainCharacterCoordinatesTop.colliderect(wellCoordinates) and not mainCharacterCoordinatesTop.colliderect(trainCoordinates) and not mainCharacterCoordinatesTop.colliderect(graveyardCoordinates)):\n        mainCharacterImage=pygame.image.load(mainCharacterBack[counter])\n        counter = (counter + 1) % len(mainCharacterBack)\n        y -= 2\n        CameraY -= 2\n\n    if (keys_pressed[pygame.K_DOWN] and not any(mainCharacterCoordinatesBottom.colliderect(treeCoordinates) for treeCoordinates in treeCoordinates) and not mainCharacterCoordinatesBottom.colliderect(crossCoordinates) and not mainCharacterCoordinatesBottom.colliderect(bottomborder) and not mainCharacterCoordinatesBottom.colliderect(wellCoordinates)and not mainCharacterCoordinatesBottom.colliderect(trainCoordinates) and not mainCharacterCoordinatesBottom.colliderect(graveyardCoordinates)):\n        mainCharacterImage=pygame.image.load(mainCharacterFront[counter])\n        counter = (counter + 1) % len(mainCharacterFront)\n        y += 2\n        CameraY += 2\n</code></pre>\n\n<p>Is it possible to have just one rectangle for the maincharacter and tell the program just to check each of the side of the rectangle??</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5644812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b667d452c45a8b07fdc6e274bb54d7?s=128&d=identicon&r=PG&f=1", "display_name": "Gubbins", "link": "https://stackoverflow.com/users/5644812/gubbins"}, "edited": false, "score": 0, "creation_date": 1454538551, "post_id": 35188974, "comment_id": 58095213, "body": "Thank you so much! I knew it would be sometime simple, I just didn&#39;t see it, new to Linux."}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "reply_to_user": {"reputation": 7, "user_id": 5644812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b667d452c45a8b07fdc6e274bb54d7?s=128&d=identicon&r=PG&f=1", "display_name": "Gubbins", "link": "https://stackoverflow.com/users/5644812/gubbins"}, "edited": false, "score": 0, "creation_date": 1454538641, "post_id": 35188974, "comment_id": 58095251, "body": "Would you mind marking it as the correct answer?"}, {"owner": {"reputation": 7, "user_id": 5644812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b667d452c45a8b07fdc6e274bb54d7?s=128&d=identicon&r=PG&f=1", "display_name": "Gubbins", "link": "https://stackoverflow.com/users/5644812/gubbins"}, "edited": false, "score": 0, "creation_date": 1454538721, "post_id": 35188974, "comment_id": 58095282, "body": "Have to wait 6 more minutes till I can mark it as correct!"}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": true, "score": 1, "last_activity_date": 1454538380, "creation_date": 1454538380, "answer_id": 35188974, "question_id": 35188932, "link": "https://stackoverflow.com/questions/35188932/valueerror-invalid-literal-for-int-with-base-10-20/35188974#35188974", "title": "ValueError: invalid literal for int() with base 10: &#39;20,&#39;", "body": "<p>Bash does not require commas between arguments to commands.  Change your script call to </p>\n\n<pre><code>python portscanner.py -H 10.50.60.125 -p 20 1750\n</code></pre>\n\n<p>Notice, no comma after <code>20</code>.</p>\n"}], "owner": {"reputation": 7, "user_id": 5644812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b667d452c45a8b07fdc6e274bb54d7?s=128&d=identicon&r=PG&f=1", "display_name": "Gubbins", "link": "https://stackoverflow.com/users/5644812/gubbins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "closed_date": 1454539076, "accepted_answer_id": 35188974, "answer_count": 1, "score": -2, "last_activity_date": 1454538380, "creation_date": 1454538210, "last_edit_date": 1454538344, "question_id": 35188932, "link": "https://stackoverflow.com/questions/35188932/valueerror-invalid-literal-for-int-with-base-10-20", "closed_reason": "Not suitable for this site", "title": "ValueError: invalid literal for int() with base 10: &#39;20,&#39;", "body": "<p>I am currently working through the book \"Violent Python by TJ. O\u2019Connor\" since its a fun way for me to learn, however as I try to copy the code from the book I get the error.</p>\n\n<pre><code>[+] Scan Results for: 10.50.60.125\nTraceback (most recent call last):\n  File \"portscanner.py\", line 52, in &lt;module&gt;\n    main()\n  File \"portscanner.py\", line 50, in main\n    portScan(tgtHost, tgtPorts)\n  File \"portscanner.py\", line 35, in portScan\n    t = Thread(target=connScan, arg=(tgtHost, int(tgtPort)))\nValueError: invalid literal for int() with base 10: '20,'\n</code></pre>\n\n<p>My inputs for running the code is </p>\n\n<blockquote>\n  <p>python portscanner.py -H 10.50.60.125 -p 20, 1750</p>\n</blockquote>\n\n<p>Code: </p>\n\n<pre><code>import optparse\nimport socket\nfrom socket import *\nfrom threading import *\n\nscreenLock = Semaphore(value=1)\ndef connScan(tgtHost, tgtPort):\n    try:\n        connSkt = socket(AF_INET, SOCK_STREAM)\n        connSkt.connect((tgtHost, tgtPort))\n        connSkt.send('ViolentPython\\r\\n')\n        results = connSkt.recv(100)\n        screenLock.acquire()\n        print '[+]%d/tcp open'% tgtPort\n        print '[+] ' + str(results)\n    except:\n        screenLock.acquire()\n        print '[-]%d/tcp closed'% tgtPort\n    finally:\n        screenLock.release()\n        connSkt.close()\ndef portScan(tgtHost, tgtPorts):\n    try:\n        tgtIP = gethostbyname(tgtHost)\n    except:\n        print \"[-] Cannot resolve '%s': Unknown host\" %tgtHost\n        return\n    try:\n        tgtName = gethostbyaddr(tgtIP)\n        print '\\n[+] Scan Results for: ' + tgtName[0]\n    except:\n        print '\\n[+] Scan Results for: ' + tgtIP\n    setdefaulttimeout(1)\n    for tgtPort in tgtPorts:\n        t = Thread(target=connScan, arg=(tgtHost, int(tgtPort)))\n        t.start()\ndef main():\n    parser = optparse.OptionParser('usage%prog '+\\\n        '-H &lt;target host&gt; -p &lt;target port&gt;')\n    parser.add_option('-H', dest='tgtHost', type='string', \\\n        help='specify target host')\n    parser.add_option('-p', dest='tgtPort', type='string', \\\n        help='specify target port[s] separated by comma')\n    (options, args) = parser.parse_args()\n    tgtHost = options.tgtHost\n    tgtPorts = str(options.tgtPort).split(', ')\n    if (tgtHost == None) | (tgtPorts[0] == None):\n        print parser.usage\n        exit(0)\n    portScan(tgtHost, tgtPorts)\nif __name__ == \"__main__\":\n        main()\n</code></pre>\n\n<p>I am running </p>\n\n<blockquote>\n  <p>Python 2.7.11 | Anaconda 2.4.1 (64-bit)</p>\n</blockquote>\n\n<p>I've tried scanning the code for a long time now and googled for quite a while, apologies if the fix is glaringly obvious. </p>\n\n<p>Thanks. </p>\n"}, {"tags": ["python", "loops"], "comments": [{"owner": {"reputation": 1415, "user_id": 2314391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7e52c232ca81d0d7bf28f2609e15d1?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/2314391/will"}, "edited": false, "score": 0, "creation_date": 1454538780, "post_id": 35188871, "comment_id": 58095316, "body": "What do you wan to do with the second loop? I&#39;m not sure it would be necessary specifically? Do you just want to extract that text?"}], "answers": [{"comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1454539379, "post_id": 35188937, "comment_id": 58095573, "body": "your <code>break</code> not work for the outer for loop. It processes all lines after <code>this is the end</code>"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1454539441, "post_id": 35188937, "comment_id": 58095602, "body": "@haifzhan: it wasn&#39;t meant to."}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1454539823, "post_id": 35188937, "comment_id": 58095771, "body": "can you please double check that, it is not only processing lines between <code>beginning</code> and <code>end</code>"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1454540271, "post_id": 35188937, "comment_id": 58095923, "body": "@haifzhan: it will read every line in the file. I did that on purpose just in case there were multiple blocks in the file"}], "tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 0, "last_activity_date": 1454538227, "creation_date": 1454538227, "answer_id": 35188937, "question_id": 35188871, "link": "https://stackoverflow.com/questions/35188871/working-on-a-section-within-a-text-file-in-python/35188937#35188937", "title": "working on a section within a text file in Python", "body": "<pre><code>with open('path/to/input') as infile:\n    for line in infile:\n        if not line.startswith(\"this is the beginning.\"): continue\n        for line in infile:\n            if line.startswith(\"this is the end.\"): break\n            # do whatever you want to do for those specific lines\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 2, "last_activity_date": 1454538923, "creation_date": 1454538923, "answer_id": 35189104, "question_id": 35188871, "link": "https://stackoverflow.com/questions/35188871/working-on-a-section-within-a-text-file-in-python/35189104#35189104", "title": "working on a section within a text file in Python", "body": "<p>You can use two boolean flags mark the beginning and ending.</p>\n\n<p>cat sample.csv      </p>\n\n<pre><code>Hello my name is jason\ni am 25 and make 30,000 a year.\nthis is the beginning.\nxxxxxxxxxxxxx\nxxxxxxxxxxxxx\nxxxxxxxxxxxxx\nxxxxxxxxxxxxx\nthis is the end\nthank you for reading my story.\n</code></pre>\n\n<p>cat test.py        </p>\n\n<pre><code>BEGINNING = \"this is the beginning\"\nENDING = \"this is the end\"\n\nwith open(\"sample.csv\", \"r\") as inputs:\n    start_parsing, end_parsing = False, False\n    for line in inputs:\n        if BEGINNING in line.strip():\n            start_parsing = True\n            continue\n        elif ENDING in line:\n            end_parsing = True\n\n        if start_parsing and not end_parsing:\n            # do your work here...\n            print(line.strip())\n</code></pre>\n\n<p>python test.py        </p>\n\n<pre><code>xxxxxxxxxxxxx\nxxxxxxxxxxxxx\nxxxxxxxxxxxxx\nxxxxxxxxxxxxx\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 5096037, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2912c4b26f09d94493b24e1af4583714?s=128&d=identicon&r=PG&f=1", "display_name": "user283559", "link": "https://stackoverflow.com/users/5096037/user283559"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1454538923, "creation_date": 1454537947, "question_id": 35188871, "link": "https://stackoverflow.com/questions/35188871/working-on-a-section-within-a-text-file-in-python", "title": "working on a section within a text file in Python", "body": "<p>I am working on text files in Python and i am having difficulties in looping just a section of the text file, for example if i had a file like this:</p>\n\n<pre><code>     Hello my name is jason\n     i am 25 and make 30,000 a year.\n     this is the beginning.\n     xxxxxxxxxxxxx\n     xxxxxxxxxxxxx\n     xxxxxxxxxxxxx\n     xxxxxxxxxxxxx\n     this is the end\n     thank you for reading my story.\n</code></pre>\n\n<p>Now i wanted to compute the section in between this is the beginning and this is the end, whilst being in a while loop.\nSo the code is </p>\n\n<pre><code>    while loop line != \"\":\n       line = file.readline()\n        if(line.find(\"beginning\"):\n            for line in range(line.find(\"beginning\"), line.find(\"end\"))\n</code></pre>\n\n<p>Now this obviously did not work but i was wondering if there is any suggestion on how i could possibly loop the lines in between those 2 sentences whilst still remaining in the overall loop?</p>\n"}, {"tags": ["python", "api", "salt-stack"], "comments": [{"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1454543709, "post_id": 35188865, "comment_id": 58097242, "body": "Pillar data is static data owned and distributed by the master.  It cannot be changed by a minion/client"}, {"owner": {"reputation": 1880, "user_id": 798549, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1719127747f65b82d73637f9006590de?s=128&d=identicon&r=PG", "display_name": "Matt Joyce", "link": "https://stackoverflow.com/users/798549/matt-joyce"}, "edited": false, "score": 0, "creation_date": 1477322525, "post_id": 35188865, "comment_id": 67707361, "body": "I really hate that this is called as a function and not as it&#39;s own method.  If anyone finds a method for this I&#39;d love to see it posted."}], "answers": [{"tags": [], "owner": {"reputation": 2400, "user_id": 425050, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5d3f6894c5dbedb1e0e4dd94fe6b9b7d?s=128&d=identicon&r=PG", "display_name": "mafrosis", "link": "https://stackoverflow.com/users/425050/mafrosis"}, "is_accepted": false, "score": 1, "last_activity_date": 1454664337, "creation_date": 1454664337, "answer_id": 35220436, "question_id": 35188865, "link": "https://stackoverflow.com/questions/35188865/getting-and-setting-pillar-values-with-saltstack-python-api/35220436#35220436", "title": "Getting and setting pillar values with saltstack python api", "body": "<p>You can't set pillar values from the API, however you can write grains:</p>\n\n<pre><code># setting a minion's grain\nclient = salt.client.LocalClient()\nclient.cmd('minion_01', 'grains.setval', ('hostname', 'minion_01.example.com'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 3961625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48198985b27cec44338876c6894b4816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Palkens", "link": "https://stackoverflow.com/users/3961625/jack-palkens"}, "is_accepted": true, "score": 1, "last_activity_date": 1454776449, "creation_date": 1454776449, "answer_id": 35243441, "question_id": 35188865, "link": "https://stackoverflow.com/questions/35188865/getting-and-setting-pillar-values-with-saltstack-python-api/35243441#35243441", "title": "Getting and setting pillar values with saltstack python api", "body": "<p>Thank you both donkopotamus and mafrosis. You both added valuable information.</p>\n\n<p>In this case, in order to modify the pillar variables, I will have to modify the variables in the static salt script files. Then I will be able to use them on the salt minions.</p>\n"}], "owner": {"reputation": 311, "user_id": 3961625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48198985b27cec44338876c6894b4816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Palkens", "link": "https://stackoverflow.com/users/3961625/jack-palkens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1747, "favorite_count": 1, "accepted_answer_id": 35243441, "answer_count": 2, "score": 2, "last_activity_date": 1454776449, "creation_date": 1454537922, "last_edit_date": 1454701733, "question_id": 35188865, "link": "https://stackoverflow.com/questions/35188865/getting-and-setting-pillar-values-with-saltstack-python-api", "title": "Getting and setting pillar values with saltstack python api", "body": "<p>I am writing some code that integrates with saltstack. I have been able to get the pillar values into a dictionary by using the following:</p>\n\n<pre><code>import salt.client\ncaller = salt.client.Caller()\ndata = caller.function('pillar.items')\n</code></pre>\n\n<p>However, I have had a hard time finding a way to set the data once I change it in python.</p>\n\n<p>Do you know of a way to set specific pillar values via the saltstack python api?</p>\n"}, {"tags": ["python", "graph", "connected-components"], "comments": [{"owner": {"reputation": 2245, "user_id": 1885713, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/356b2c290d867c0dc7f3e776e89937fb?s=128&d=identicon&r=PG", "display_name": "Yannis P.", "link": "https://stackoverflow.com/users/1885713/yannis-p"}, "edited": false, "score": 0, "creation_date": 1454539278, "post_id": 35188840, "comment_id": 58095537, "body": "Nice question. How is graph-theory and connected components related though?"}, {"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "reply_to_user": {"reputation": 2245, "user_id": 1885713, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/356b2c290d867c0dc7f3e776e89937fb?s=128&d=identicon&r=PG", "display_name": "Yannis P.", "link": "https://stackoverflow.com/users/1885713/yannis-p"}, "edited": false, "score": 0, "creation_date": 1454539541, "post_id": 35188840, "comment_id": 58095642, "body": "Thanks. Got an idea from here <a href=\"http://stackoverflow.com/questions/33264676/pandas-combining-rows-based-on-dates\">Pandas combining rows based on dates</a> but do not know how to implement it without using Pandas"}], "answers": [{"comments": [{"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1454609503, "post_id": 35192466, "comment_id": 58132168, "body": "WOW! Thank you so much for your great answer. Actually I have implemented the simple approach and was just curious to see how the connected components approach works. Thanks for comparing the timing. I would love to see the connected component approach."}, {"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1454609604, "post_id": 35192466, "comment_id": 58132231, "body": "I am new to SO and do not have enough score to up-vote your answer. Sorry about that!"}, {"owner": {"reputation": 1879, "user_id": 1695866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d44a90f9a75078775b62fdc03a361c5?s=128&d=identicon&r=PG", "display_name": "svohara", "link": "https://stackoverflow.com/users/1695866/svohara"}, "reply_to_user": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1454970359, "post_id": 35192466, "comment_id": 58272583, "body": "I updated my answer to show the slower morphological method applied to a 1D raster representing the time intervals. If you think this sufficiently answers the question, please mark it as accepted."}], "tags": [], "owner": {"reputation": 1879, "user_id": 1695866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d44a90f9a75078775b62fdc03a361c5?s=128&d=identicon&r=PG", "display_name": "svohara", "link": "https://stackoverflow.com/users/1695866/svohara"}, "is_accepted": true, "score": 1, "last_activity_date": 1454970285, "last_edit_date": 1454970285, "creation_date": 1454559733, "answer_id": 35192466, "question_id": 35188840, "link": "https://stackoverflow.com/questions/35188840/how-to-combine-records-based-on-date-using-python-connected-components/35192466#35192466", "title": "How to combine records based on date using python connected components?", "body": "<p>I thought about your question, and I originally wrote a routine that would map the date intervals into a 1D binary array, where each entry in the array is a day, and consecutive days are consecutive entries. With this data structure, you can perform dilation and erosion to fill in small gaps, thus merging the intervals, and then map the consolidated intervals back into date ranges. Thus we use standard raster connected components logic to solve your problem, as per your idea (a graph-based connected components could work as well...)</p>\n\n<p>This works fine, and I can post the code if you are really interested, but then I wondered what the advantages are of the former apporach over the simple routine of just iterating through the (pre-sorted) date ranges and merging the next into the current if the gap is small.</p>\n\n<p>Here is the code for the simple routine, and it takes about 120 micro seconds to run using the sample data. If you expand the sample data by repeating it 10,000 times, this routine takes about 1 sec on my computer.</p>\n\n<p>When I timed the morphology based solution, it was about 2x slower. It might work better under certain circumstances, but I would suggest we try simple first, and see if there's a real problem that requires a different algorithmic approach.</p>\n\n<pre><code>from datetime import datetime\nfrom datetime import timedelta\nimport numpy as np\n</code></pre>\n\n<p>The sample data provided in the question:</p>\n\n<pre><code>SAMPLE_DATA = [['1', '08/01/2011', '08/31/2011'],\n               ['1', '09/01/2011', '09/30/2011'],\n               ['1', '11/01/2011', '11/30/2011'],\n               ['1', '12/01/2011', '12/31/2011'],\n               ['1', '01/01/2012', '01/31/2012'],\n               ['1', '03/01/2012', '03/31/2012'],\n               ['2', '11/11/2011', '11/30/2011'],\n               ['2', '12/11/2011', '12/31/2011'],\n               ['2', '01/11/2014', '01/31/2014'],\n               ['2', '03/11/2014', '03/31/2014']]\n</code></pre>\n\n<p>The simple approach:</p>\n\n<pre><code>def simple_method(in_data=SAMPLE_DATA, person='1', fill_gap_days=31, printit=False):\n    date_format_str = \"%m/%d/%Y\"\n    dat = np.array(in_data)\n    dat = dat[dat[:, 0] == person, 1:]  # just this person's data\n    # assume date intervals are already sorted by start date\n    new_intervals = []\n    cur_start = None\n    cur_end = None\n    gap_days = timedelta(days=fill_gap_days)\n    for (s_str, e_str) in dat:\n        dt_start = datetime.strptime(s_str, date_format_str)\n        dt_end = datetime.strptime(e_str, date_format_str)\n        if cur_end is None:\n            cur_start = dt_start\n            cur_end = dt_end\n            continue\n        else:\n            if cur_end + gap_days &gt;= dt_start:\n                # merge, keep existing cur_start, extend cur_end\n                cur_end = dt_end\n            else:\n                # new interval, save previous and reset current to this\n                new_intervals.append((cur_start, cur_end))\n                cur_start = dt_start\n                cur_end = dt_end\n    # make sure final interval is saved\n    new_intervals.append((cur_start, cur_end))\n\n    if printit:\n        print_it(person, new_intervals, date_format_str)\n\n    return new_intervals\n</code></pre>\n\n<p>And here's the simple pretty printing function to print the ranges.</p>\n\n<pre><code>def print_it(person, consolidated_ranges, fmt):\n    for (s, e) in consolidated_ranges:\n        print(person, s.strftime(fmt), e.strftime(fmt))\n</code></pre>\n\n<p>Running in ipython as follows. Note that printing the result can be turned off for timing the computation.</p>\n\n<pre><code>In [10]: _ = simple_method(printit=True)\n1 08/01/2011 09/30/2011\n1 11/01/2011 03/31/2012\n</code></pre>\n\n<p>Running in ipython with %timeit macro:</p>\n\n<pre><code>In [8]: %timeit simple_method(in_data=SAMPLE_DATA)\n10000 loops, best of 3: 118 \u00b5s per loop\n\nIn [9]: %timeit simple_method(in_data=SAMPLE_DATA*10000)\n1 loops, best of 3: 1.06 s per loop\n</code></pre>\n\n<p>[EDIT 8 Feb 2016: To make a long answer longer...]\nAs I prefaced in my response, I did create a morphological / 1D connected components version and in my timing it was about 2x slower. But for the sake of completeness, I'll show the morphological method, and maybe others will have insight on if there's a big area for speed-up left somewhere in it.</p>\n\n<pre><code>#using same imports as previous code with one more\nimport calendar as cal\n\ndef make_occupancy_array(start_year, end_year):\n    \"\"\"\n    Represents the time between the start and end years, inclusively, as a 1-D array\n    of 'pixels', where each pixel corresponds to a day. Consecutive days are thus\n    mapped to consecutive pixels. We can perform morphology on this 1D array to\n    close small gaps between date ranges.\n    \"\"\"\n    years_days = [(yr, 366 if cal.isleap(yr) else 365) for yr in range(start_year, end_year+1)]\n    YD = np.array(years_days)  # like [ (2011, 365), (2012, 366), ... ] in ndarray form\n    total_num_days = YD[:, 1].sum()\n    occupancy = np.zeros((total_num_days,), dtype='int')\n    return YD, occupancy\n</code></pre>\n\n<p>With the occupancy array to represent the time intervals, we need two functions to map from dates to positions in the array and the inverse.</p>\n\n<pre><code>def map_date_to_position(dt, YD):\n    \"\"\"\n    Maps the datetime value to a position in the occupancy array\n    \"\"\"\n    # the start position is the offset to day 1 in the dt1,year,\n    # plus the day of year - 1 for dt1 (day of year is 1-based indexed)\n    yr = dt.year\n    assert yr in YD[:, 0]  # guard...YD should include all years for this person's dates\n    position = YD[YD[:, 0] &lt; yr, 1].sum()  # the sum of the days in year before this year\n    position += dt.timetuple().tm_yday - 1\n    return position\n\n\ndef map_position_to_date(pos, YD):\n    \"\"\"\n    Inverse of map_date_to_position, this maps a position in the\n    occupancy array back to a datetime value\n    \"\"\"\n    yr_offsets = np.cumsum(YD[:, 1])\n    day_offsets = yr_offsets - pos\n    idx = np.flatnonzero(day_offsets &gt; 0)[0]\n    year = YD[idx, 0]\n    day_of_year = pos if idx == 0 else pos - yr_offsets[idx-1]\n    # construct datetime as first of year plus day offset in year\n    dt = datetime.strptime(str(year), \"%Y\")\n    dt += timedelta(days=int(day_of_year)+1)\n    return dt\n</code></pre>\n\n<p>The following function fills the relevant part of the occupancy array given start and end dates (inclusive) and optionally extends the end of the range by a gap-filling margin (like 1-sided dilation).</p>\n\n<pre><code>def set_occupancy(dt1, dt2, YD, occupancy, fill_gap_days=0):\n    \"\"\"\n    For a date range starting dt1 and ending, inclusively, dt2,\n    sets the corresponding 'pixels' in occupancy vector to 1.\n    If fill_gap_days &gt; 0, then the end 'pixel' is extended\n    (dilated) by this many positions, so that we can fill\n    the gaps between intervals that are close to each other.\n    \"\"\"\n    pos1 = map_date_to_position(dt1, YD)\n    pos2 = map_date_to_position(dt2, YD) + fill_gap_days\n    occupancy[pos1:pos2] = 1\n</code></pre>\n\n<p>Once we have the consolidated intervals in the occupancy array, we need to read them back out into date intervals, optionally performing 1-sided erosion if we'd previously done gap filling.</p>\n\n<pre><code>def get_occupancy_intervals(OCC, fill_gap_days=0):\n    \"\"\"\n    Find the runs in the OCC array corresponding\n    to the 'dilated' consecutive positions, and then\n    'erode' back to the correct end dates by subtracting\n    the fill_gap_days.\n    \"\"\"\n    starts = np.flatnonzero(np.diff(OCC) &gt; 0)  # where runs of nonzeros start\n    ends = np.flatnonzero(np.diff(OCC) &lt; 0)  # where runs of nonzeros end\n    ends -= fill_gap_days  # erode back to original length prior to dilation\n    return [(s, e) for (s, e) in zip(starts, ends)]\n</code></pre>\n\n<p>Putting it all together...</p>\n\n<pre><code>def morphology_method(in_data=SAMPLE_DATA, person='1', fill_gap_days=31, printit=False):\n    date_format_str = \"%m/%d/%Y\"\n    dat = np.array(in_data)\n    dat = dat[dat[:, 0] == person, 1:]  # just this person's data\n\n    # for the intervals of this person, get starting and ending years\n    # we assume the data is already sorted\n    #start_year = datetime.strptime(dat[0, 0], date_format_str)\n    #end_year = datetime.strptime(dat[-1, 1], date_format_str)\n    start_times = [datetime.strptime(d, date_format_str) for d in dat[:, 0]]\n    end_times = [datetime.strptime(d, date_format_str) for d in dat[:, 1]]\n    start_year = start_times[0].year\n    end_year = end_times[-1].year\n\n    # create the occupancy array, dilated so that each interval\n    # is extended by fill_gap_days to 'fill in' the small gaps\n    # between intervals\n    YD, OCC = make_occupancy_array(start_year, end_year)\n    for (s, e) in zip(start_times, end_times):\n        set_occupancy(s, e, YD, OCC, fill_gap_days)\n\n    # return the intervals from OCC after having filled gaps,\n    # and trim end dates back to original position.\n    consolidated_pos = get_occupancy_intervals(OCC, fill_gap_days)\n\n    # map positions back to date-times\n    consolidated_ranges = [(map_position_to_date(s, YD), map_position_to_date(e, YD)) for\n                           (s, e) in consolidated_pos]\n\n    if printit:\n        print_it(person, consolidated_ranges, date_format_str)\n\n    return consolidated_ranges\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1454608761, "post_id": 35193894, "comment_id": 58131747, "body": "Thanks @RootTwo for your answer. I have implemented mine the same way as yours. I just wanted to see if there is a way ti implement it using connected components.. BTW thank you!"}, {"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1454609279, "post_id": 35193894, "comment_id": 58132034, "body": "I am new to SO and do not have enough score to up-vote your answer. Sorry about that!"}], "tags": [], "owner": {"reputation": 3765, "user_id": 5828883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/146cf80315cf243c6e1d6bc64cfdb454?s=128&d=identicon&r=PG", "display_name": "RootTwo", "link": "https://stackoverflow.com/users/5828883/roottwo"}, "is_accepted": false, "score": 0, "last_activity_date": 1455003765, "last_edit_date": 1455003765, "creation_date": 1454566937, "answer_id": 35193894, "question_id": 35188840, "link": "https://stackoverflow.com/questions/35188840/how-to-combine-records-based-on-date-using-python-connected-components/35193894#35193894", "title": "How to combine records based on date using python connected components?", "body": "<p>09/30/2011 + 32 days = 11/01/2011, so your example doesn't work.  You probably meant 31 days or less.</p>\n\n<p>When working with dates in python, you can use datetime and timedelta from the datetime module.  Use strptime and strftime to convert from/to strings like '09/01/2011'.</p>\n\n<p>I prefer to convert everything to datetime's at the beginning, do all the date related processing, then convert back to date strings at the end if needed.</p>\n\n<pre><code>from datetime import datetime, timedelta\n\nPERSON_ID = 0\nSTART_DATE = 1\nEND_DATE = 2\n\ndef consolidate(records, maxgap=timedelta(days=31)):\n    consolidated = []\n    consolidated_start = records[0][START_DATE]\n    consolidated_end = records[0][END_DATE]\n\n    for person_id, start_date, end_date in records:\n\n        if start_date &lt;= consolidated_end + maxgap:\n            consolidated_end = end_date\n\n        else:\n            consolidated.append([person_id, consolidated_start, consolidated_end])\n            consolidated_start = start_date\n            consolidated_end = end_date\n\n    else:\n        consolidated.append([person_id, consolidated_start, consolidated_end])\n\n    return consolidated\n\n\nfmt = \"%m/%d/%Y\"\n\nrecords = [[id, datetime.strptime(start, fmt), datetime.strptime(end, fmt)] for id, start, end in person_records]\n\nrecords = consolidate(records)\n\nrecords = [[id, start.strftime(fmt), end.strftime(fmt)] for id, start, end in records]\n</code></pre>\n\n<p>EDIT: Here's a version of <code>consolidate()</code> using connected_components:</p>\n\n<pre><code>import numpy as np\nfrom scipy.sparse.csgraph import connected_components\n\ndef consolidate(records, maxgap=32):\n    person_id = records[0][0]\n\n    dates = np.array([[rec[1].date(), rec[2].date()] for rec in records], dtype='datetime64')\n    start_dates, end_dates = dates.T\n\n    gaps = start_dates[1:] - end_dates[:-1]\n\n    conns = np.diagflat(gaps &lt; np.timedelta64(maxgap, 'D'), 1)\n\n    num_comps, comps = connected_components(conns)\n\n    return [[person_id, \n             min(start_dates[comps==i]).astype(datetime),\n             max(end_dates[comps==i]).astype(datetime)\n            ] for i in range(num_comps)\n           ]\n</code></pre>\n"}], "owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 35192466, "answer_count": 2, "score": 1, "last_activity_date": 1455003765, "creation_date": 1454537808, "question_id": 35188840, "link": "https://stackoverflow.com/questions/35188840/how-to-combine-records-based-on-date-using-python-connected-components", "title": "How to combine records based on date using python connected components?", "body": "<p>I have a list of records (person_id, start_date, end_date) as follows:</p>\n\n<pre><code>person_records = [['1', '08/01/2011', '08/31/2011'],\n                 ['1', '09/01/2011', '09/30/2011'],\n                 ['1', '11/01/2011', '11/30/2011'],\n                 ['1', '12/01/2011', '12/31/2011'],\n                 ['1', '01/01/2012', '01/31/2012'],\n                 ['1', '03/01/2012', '03/31/2012']]\n</code></pre>\n\n<p>The records for each person are sorted in an ascending order of start_date. The periods are consolidated by combining the records based on the dates and recording  the start_date of the first period as the start date and the end_date of the last period as the end date. BUT, If the time between the end of one period and the start of the next is 32 days or less, we should treat this as continuous period. Otherwise, we treat this as two periods:</p>\n\n<pre><code>consolidated_person_records = [['1', '08/01/2011', '09/30/2011'],\n                               ['1', '11/01/2011', '03/31/2012']]\n</code></pre>\n\n<p>Is there any way to do this using the python connected components?</p>\n"}, {"tags": ["python", "excel", "vba"], "answers": [{"tags": [], "owner": {"reputation": 7729, "user_id": 4718350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-CxgNhC_5nUE/AAAAAAAAAAI/AAAAAAAAP78/9FTapxcd2dY/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/4718350/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1454538235, "creation_date": 1454538235, "answer_id": 35188940, "question_id": 35188839, "link": "https://stackoverflow.com/questions/35188839/epoch-time-python-and-excel/35188940#35188940", "title": "Epoch time python and excel", "body": "<p>The correct answer is 42058, so there's something wrong w/the excel macro.</p>\n\n<p>My guess is that excel is counting both the start and end date as a day, when really you're only interested in the time <em>between</em> those dates.</p>\n\n<p>It's like saying how many days between today and tomorrow. You could say one, which is what python is doing, or you could say 3 (today, the day between, and tomorrow) which is what I'm guessing your excel macro is doing.</p>\n"}, {"tags": [], "owner": {"reputation": 675, "user_id": 3450049, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/eae5b71f962f720ef0524924e18a6c75?s=128&d=identicon&r=PG&f=1", "display_name": "user3450049", "link": "https://stackoverflow.com/users/3450049/user3450049"}, "is_accepted": false, "score": 0, "last_activity_date": 1516769984, "creation_date": 1516769984, "answer_id": 48415109, "question_id": 35188839, "link": "https://stackoverflow.com/questions/35188839/epoch-time-python-and-excel/48415109#48415109", "title": "Epoch time python and excel", "body": "<p>This is an old thread, but since it came up in google, I wanted to put in an answer. The off-by-two problem is explained like this:</p>\n\n<ol>\n<li><p>One day because 1900-01-01 is day #1, not day #0.  In Excel, if you convert 1900/1/1 into a number, it gives the answer 1, not 0. In python:\n<code>print((datetime.date(1900,1,1)-datetime.date(1900,1,1)).days)</code>  = 0.</p></li>\n<li><p>Another day because Excel implemented a bug in Lotus 1-2-3 for backwards compatibility. Apparently, Lotus 1-2-3 incorrectly assumed that 1900 was a leap year. \n<a href=\"https://support.microsoft.com/en-us/help/214326/excel-incorrectly-assumes-that-the-year-1900-is-a-leap-year\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/help/214326/excel-incorrectly-assumes-that-the-year-1900-is-a-leap-year</a></p></li>\n</ol>\n"}], "owner": {"reputation": 73, "user_id": 5880304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3999764520da67f51628967b97b37127?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Ngo", "link": "https://stackoverflow.com/users/5880304/jon-ngo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 35188940, "answer_count": 2, "score": 0, "last_activity_date": 1516769984, "creation_date": 1454537806, "last_edit_date": 1531161705, "question_id": 35188839, "link": "https://stackoverflow.com/questions/35188839/epoch-time-python-and-excel", "title": "Epoch time python and excel", "body": "<p>I am trying to automate some data processing on an excel file and in the data processing file I use a macro that I guess converts the date column from \"mm/dd/yyyy\" into the days since January 1, 1900 as per excel convention. So when I try to do a similar thing in Python 2.7.4. It seems to be 2 days off. For example, 2/25/2015 becomes 42060 when done by the excel macro. When I run this code:</p>\n\n<pre><code>import datetime\n\ngotDay = datetime.date(2015,2,25)\nepoch = datetime.date(1900,1,1)\n\nprint((gotDay-epoch).days)\n</code></pre>\n\n<p>I get 42058.</p>\n\n<p>I could totally just add 2 to everything in Python, but I was wondering why this happens.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "arrays"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1454538030, "post_id": 35188820, "comment_id": 58094952, "body": "Can&#39;t you use <code>if posY in chestY and posX in chestX:  It&#39;s already used</code>?"}, {"owner": {"reputation": 165, "user_id": 4338327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaf7c1c8ef9bb90854e3f5fca6fe476?s=128&d=identicon&r=PG&f=1", "display_name": "DanTheDJ1", "link": "https://stackoverflow.com/users/4338327/danthedj1"}, "reply_to_user": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1454538257, "post_id": 35188820, "comment_id": 58095058, "body": "Dayum, guess I was looking to global. That helps. Thanks a lot. Maybe when I generate the bandits as well (in a different function) I will just use a for loops to feed the items back out of the chestLocations array and split X and Y back up."}, {"owner": {"reputation": 165, "user_id": 4338327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaf7c1c8ef9bb90854e3f5fca6fe476?s=128&d=identicon&r=PG&f=1", "display_name": "DanTheDJ1", "link": "https://stackoverflow.com/users/4338327/danthedj1"}, "reply_to_user": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1454538412, "post_id": 35188820, "comment_id": 58095145, "body": "Just tried and it doesn&#39;t work, because it is checking for the Y and X axis on their own, instead of together - so the max chests it can create is 8. Need to check the array together to check the posY and posX as one item."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 4338327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaf7c1c8ef9bb90854e3f5fca6fe476?s=128&d=identicon&r=PG&f=1", "display_name": "DanTheDJ1", "link": "https://stackoverflow.com/users/4338327/danthedj1"}, "edited": false, "score": 0, "creation_date": 1454538582, "post_id": 35188975, "comment_id": 58095219, "body": "Thank you a lot. How would I go about doing the same thing for making the bandits, checking existing chest locations?"}], "tags": [], "owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "is_accepted": false, "score": 1, "last_activity_date": 1454539153, "last_edit_date": 1454539153, "creation_date": 1454538382, "answer_id": 35188975, "question_id": 35188820, "link": "https://stackoverflow.com/questions/35188820/python-check-for-multiple-items-in-2d-array/35188975#35188975", "title": "Python - check for multiple items in 2d array", "body": "<p>Use the stdlib:</p>\n\n<pre><code>import random\nfrom itertools import product\n\nnum_bandits = 5\nnum_chests = 10\n\nall_locns = list(product(range(0,8), range(1,9)))\nchest_locns = random.sample(all_locns, num_chests)\n\nunused_locns = [loc for loc in all_locns if loc not in chest_locns]\nbandit_locns = random.sample(unused_locns, num_bandits)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 4338327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaf7c1c8ef9bb90854e3f5fca6fe476?s=128&d=identicon&r=PG&f=1", "display_name": "DanTheDJ1", "link": "https://stackoverflow.com/users/4338327/danthedj1"}, "edited": false, "score": 0, "creation_date": 1454539032, "post_id": 35189033, "comment_id": 58095429, "body": "For some reason it still only makes a maximum of 8 chests - 1 per Y"}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 0, "last_activity_date": 1454538600, "creation_date": 1454538600, "answer_id": 35189033, "question_id": 35188820, "link": "https://stackoverflow.com/questions/35188820/python-check-for-multiple-items-in-2d-array/35189033#35189033", "title": "Python - check for multiple items in 2d array", "body": "<p>Try:</p>\n\n<pre><code>index = 0\nwhile posX in chestX[index:]:\n    position = chestX[index:].index(posX)\n    if posY == chestY[index + position]:\n        #Can't be used.  (maybe say used = True)\n        break\n    index += position + 1\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 4338327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaf7c1c8ef9bb90854e3f5fca6fe476?s=128&d=identicon&r=PG&f=1", "display_name": "DanTheDJ1", "link": "https://stackoverflow.com/users/4338327/danthedj1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1454539153, "creation_date": 1454537719, "question_id": 35188820, "link": "https://stackoverflow.com/questions/35188820/python-check-for-multiple-items-in-2d-array", "title": "Python - check for multiple items in 2d array", "body": "<p>I have looked around but cannot find anybody asking what I'm trying to do:</p>\n\n<p>Let me give you a bit of background:</p>\n\n<p>I am making an game in python where the player moves around the grid searching for treasure chests, and I am trying to randomly generate 10 chest locations in a 8x8 grid.</p>\n\n<p>My grid was created by doing the following:</p>\n\n<pre><code>grid = []\n</code></pre>\n\n<p>I then fill the grid with 'subgrids'</p>\n\n<p>Because my game is based around a grid design, this allowed me to separate the individual rows.</p>\n\n<pre><code>for i in range(8):\n    grid.append([])\n</code></pre>\n\n<p>This makes me 8 empty lists inside the main 'grid' list.</p>\n\n<p>What I am trying to do next is randomly generate the chest locations, and map them to another list called 'chestLocations', which also uses 10 subgrids (one for each unique chest location) . This is so I can create Y and X variables, which are relative to the grid list.</p>\n\n<p>Here is my GenerateChestLocations() function:</p>\n\n<pre><code>def GenerateChestLocations():\nglobal chestY\nglobal chestX\ncounter = 10\n\nchestY = []\nchestX = []\n\nwhile counter &gt; 0:\n\n    posY = random.randint(0,7)\n    posX = random.randint(1,8)\n\n    value = GetValue(posY,posX)\n\n    if value == gridChar:\n        pass\n    elif value == playerChar:\n        continue\n\n    chestY.append(posY)\n    chestX.append(posX)\n    counter -= 1\n\nfor a in range(len(chestY)):\n    chestLocations[a].append(chestY[a])\n    visitedChests[a].append(chestY[a])\nfor i in range(len(chestX)):\n    chestLocations[i].append(chestX[i])\n    visitedChests[i].append(chestX[i])\n\nfor subItem in range(len(visitedChests)):\n    visitedChests[subItem].append(0)\n\nreturn\n</code></pre>\n\n<p>(BTW, the variables used in this are defined at the start of my program, and are as follows:)</p>\n\n<p>The GetValue() function just returns the value of the grid item for those Y and X coordinates.</p>\n\n<p>visitedChests is another grid, which needs to be an exact duplicate of chestLocations, but with an extra item in each 'subgrid' to hold the number of times that the user has landed on the chest.</p>\n\n<p>My problem is I cannot workout how to detect whether the randomly generated posY and posX integers are already existing in the chestLocations list.</p>\n\n<p>How do I create detection so if it already finds an item with the same coordinates, it will just 'continue' to run the whole while loop again?</p>\n\n<p>Thanks for reading btw ;)</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 2, "creation_date": 1454538687, "post_id": 35188790, "comment_id": 58095273, "body": "have you tried anything so far?"}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 2, "creation_date": 1454539232, "post_id": 35188790, "comment_id": 58095511, "body": "It&#39;s not very clear what the general case of what you&#39;re trying to do should be. Do the sublists always have only two items? What would the result be for <code>[[A, B], [B, C], [C, A]]</code>? What about <code>[[A, A], [B, C]]</code>? Or <code>[[A, B], [C, D], [A, B]]</code>?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1454540452, "post_id": 35188790, "comment_id": 58096008, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your code and accurately describe the problem."}, {"owner": {"reputation": 3, "user_id": 5880285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5cb049f9ba468f679e5eb906748a26?s=128&d=identicon&r=PG&f=1", "display_name": "user5880285", "link": "https://stackoverflow.com/users/5880285/user5880285"}, "edited": false, "score": 0, "creation_date": 1454540533, "post_id": 35188790, "comment_id": 58096035, "body": "Yes, the sublists in this case are always two items. For my purposes the cases you proposed would never occur. An item could only occur a maximum of two times throughout the entire list."}, {"owner": {"reputation": 3, "user_id": 5880285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5cb049f9ba468f679e5eb906748a26?s=128&d=identicon&r=PG&f=1", "display_name": "user5880285", "link": "https://stackoverflow.com/users/5880285/user5880285"}, "edited": false, "score": 0, "creation_date": 1454540862, "post_id": 35188790, "comment_id": 58096179, "body": "Sorry, having trouble posting what I&#39;ve tried with correct formatting."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5880285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5cb049f9ba468f679e5eb906748a26?s=128&d=identicon&r=PG&f=1", "display_name": "user5880285", "link": "https://stackoverflow.com/users/5880285/user5880285"}, "edited": false, "score": 0, "creation_date": 1454599127, "post_id": 35189852, "comment_id": 58125132, "body": "Thank you Copperfield! This is exactly what I needed. Also helped me learn the syntax better."}], "tags": [], "owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "is_accepted": true, "score": 0, "last_activity_date": 1454542528, "creation_date": 1454542528, "answer_id": 35189852, "question_id": 35188790, "link": "https://stackoverflow.com/questions/35188790/combining-nested-lists-and-removing-duplicates/35189852#35189852", "title": "Combining nested lists and removing duplicates", "body": "<p>you need a double loop, the first one to take one element (sublist) from the list, and the second one to check the presence of its the elements in the rest of the sublist</p>\n\n<p>this should do the trick</p>\n\n<pre><code>&gt;&gt;&gt; my_currentlist = [[\"A\",\"B\"],[\"C\",\"D\"],[\"B\",\"E\"]]\n&gt;&gt;&gt; my_desiredlist = []\n&gt;&gt;&gt; while my_currentlist:\n        a,b = my_currentlist.pop(0)\n        for i,temp in enumerate(my_currentlist):\n            if a in temp:\n                temp.remove(a)\n                a = temp[0]\n                my_currentlist.pop(i)\n                break\n            elif b in temp:\n                temp.remove(b)\n                b = temp[0]\n                my_currentlist.pop(i)\n                break\n        my_desiredlist.append( [a,b] )\n\n&gt;&gt;&gt; my_desiredlist\n[['A', 'E'], ['C', 'D']]\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5880285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5cb049f9ba468f679e5eb906748a26?s=128&d=identicon&r=PG&f=1", "display_name": "user5880285", "link": "https://stackoverflow.com/users/5880285/user5880285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 35189852, "answer_count": 1, "score": -4, "last_activity_date": 1454599066, "creation_date": 1454537576, "last_edit_date": 1454599066, "question_id": 35188790, "link": "https://stackoverflow.com/questions/35188790/combining-nested-lists-and-removing-duplicates", "title": "Combining nested lists and removing duplicates", "body": "<p>Hoping to get some help on a newbie question. I want to sort through a bunch of sublists and if any items inside of the sublists appear twice, remove them, and merge the values in their respective lists into a new sublist. </p>\n\n<p>As an example:</p>\n\n<pre><code>my_currentlist = [[A,B],[C,D],[B,E]]\nmy_desiredlist = [[A,E],[C,D]]\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>My failed attempt (sorry, new to python):</p>\n\n<pre><code>for i in range(len(items)):\n    j=i+1\n    for j in range(len(items)):\n        if items[i][0]==items[j][0]:\n            items.remove(items[i])\n            items.remove(items[j])\n            items.append([items[i][1], items[j][1]])\n        elif items[i][0]==items[j][1]:\n            items.remove(items[i])\n            items.remove(items[j])\n            items.append([items[i][1], items[j][0]])\n        elif items[i][1]==items[j][0]:\n            items.remove(items[i])\n            items.remove(items[j])\n            items.append([items[i][0], items[j][1]])\n        elif items[i][1]==items[j][1]:\n            items.remove(items[i])\n            items.remove(items[j])\n            items.append([items[i][0], items[j][0]])    \n</code></pre>\n"}, {"tags": ["python", "numpy", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1454537974, "post_id": 35188766, "comment_id": 58094924, "body": "For image (imshow) you have to have equidistant steps in X and Y."}, {"owner": {"reputation": 967, "user_id": 4555765, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/607e0c47616dba32d110b693c84d4fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/4555765/lin"}, "reply_to_user": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1454538468, "post_id": 35188766, "comment_id": 58095168, "body": "@SeverinPappadeux lets by hypotesis create 2 scenarios:  1. My actual scenario, is there any function able to plot an image based on that?  2. I can extract the data, build a new table based on min/max values and filling it with NaNs where data isn&#39;t found. Is there any function that can be used to convert this format to another one that is easily parsable by matplotlib?  In fact im trying to avoid any kind of for iteraction over this data source.  Any hint is welcome."}, {"owner": {"reputation": 11644, "user_id": 3079571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ec26e49807e82fa4bbbe0083ef16e7?s=128&d=identicon&r=PG&f=1", "display_name": "M4rtini", "link": "https://stackoverflow.com/users/3079571/m4rtini"}, "edited": false, "score": 1, "creation_date": 1454538673, "post_id": 35188766, "comment_id": 58095265, "body": "<a href=\"http://stackoverflow.com/questions/27004422/contour-imshow-plot-for-irregular-x-y-z-data\" title=\"contour imshow plot for irregular x y z data\">stackoverflow.com/questions/27004422/&hellip;</a>"}, {"owner": {"reputation": 967, "user_id": 4555765, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/607e0c47616dba32d110b693c84d4fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/4555765/lin"}, "reply_to_user": {"reputation": 11644, "user_id": 3079571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ec26e49807e82fa4bbbe0083ef16e7?s=128&d=identicon&r=PG&f=1", "display_name": "M4rtini", "link": "https://stackoverflow.com/users/3079571/m4rtini"}, "edited": false, "score": 0, "creation_date": 1454538822, "post_id": 35188766, "comment_id": 58095332, "body": "@M4rtini thank you for the link, but I want to avoid to plot gradients. I just want to see the information that I want (right now ;-), no kind of interpolation cannot be used in this case."}, {"owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 1, "creation_date": 1454541776, "post_id": 35188766, "comment_id": 58096505, "body": "Would matplotlib.pyplot.scatter work? You can adjust the size or colour of each point based on the value <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.scatter\" rel=\"nofollow noreferrer\">matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.scatter</a>"}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 0, "creation_date": 1454543070, "post_id": 35188766, "comment_id": 58096993, "body": "There are many ways to convert your dataframe to something imshow-compatible. What is the expected output of the function you are looking for when applied to your sample data?"}, {"owner": {"reputation": 967, "user_id": 4555765, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/607e0c47616dba32d110b693c84d4fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/4555765/lin"}, "edited": false, "score": 0, "creation_date": 1454600054, "post_id": 35188766, "comment_id": 58125839, "body": "I expect a image on the output, not a plot. I&#39;m evaluating values over a sensor mesh."}, {"owner": {"reputation": 967, "user_id": 4555765, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/607e0c47616dba32d110b693c84d4fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/4555765/lin"}, "edited": false, "score": 0, "creation_date": 1454600430, "post_id": 35188766, "comment_id": 58126106, "body": "Something like this: <a href=\"http://matplotlib.org/1.5.1/examples/pylab_examples/colorbar_tick_labelling_demo.html\" rel=\"nofollow noreferrer\">matplotlib.org/1.5.1/examples/pylab_examples/&hellip;</a> but with real data (not gausian noise). My two main issues is: Data formating, often functions require a two dimensional x,y array and the possibility of non regularized data. To the first issue, I&#39;m looking if there is a functions that convert what I have, to the second issue is how to insert a non regularized data to a function (but I can try regularize it"}], "answers": [{"tags": [], "owner": {"reputation": 2412, "user_id": 566035, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5221617fa468fca3c288903a7e23bc8?s=128&d=identicon&r=PG&f=1", "display_name": "otterb", "link": "https://stackoverflow.com/users/566035/otterb"}, "is_accepted": false, "score": -1, "last_activity_date": 1454542766, "last_edit_date": 1454542766, "creation_date": 1454542208, "answer_id": 35189787, "question_id": 35188766, "link": "https://stackoverflow.com/questions/35188766/function-to-plot-a-data-source-probably-not-regularized-in-format-x-y-value-us/35189787#35189787", "title": "Function to plot a data source (probably not regularized) in format x,y,value using python matplotlib", "body": "<p><a href=\"https://i.stack.imgur.com/BJPQQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BJPQQ.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>from __future__ import division\nfrom mpl_toolkits.mplot3d.axes3d import Axes3D\nfrom pylab import *\n\nbuf = '''64 4   2743\n64  8   3531\n64  16  4543\n64  32  5222\n64  64  5730\n128 4   2778\n128 8   3500\n128 16  4657'''\ndata = np.array([map(int, l.split('\\t')) for l in buf.splitlines()])\nx = data[:,0]\ny = data[:,1]\nz = data[:,2]\n\n\nclf()\nax = subplot(projection='3d')\nc = (z/z.max()*256)\n# ex1\nax.scatter(x,y,z,c=cm.jet(c), marker='s')\nax.view_init(0,0)\ndraw()\n</code></pre>\n\n<p>Axes3D takes (x,y,z) input so you can get away with no interpolation and no iteration. Is this overkill? Actually just normal 2d scatter with color should also be enough... If you use square marker 's' and do <code>axis('off')</code>, it becomes more similar to <code>imshow</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 967, "user_id": 4555765, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/607e0c47616dba32d110b693c84d4fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/4555765/lin"}, "edited": false, "score": 0, "creation_date": 1454600516, "post_id": 35191933, "comment_id": 58126183, "body": "no imshow isn&#39;t hard requirement, but looks like it was the right way to do it. I&#39;m really looking for directions, from there I can walk. I just don&#39;t want to code a lot of stuff and discover that there is a python function that does everything I did (and better ) :-)"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "reply_to_user": {"reputation": 967, "user_id": 4555765, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/607e0c47616dba32d110b693c84d4fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/4555765/lin"}, "edited": false, "score": 0, "creation_date": 1454601243, "post_id": 35191933, "comment_id": 58126709, "body": "@Lin Well, I would try code I proposed, then look at <code>pcolor</code> or <code>pcolormesh</code> (<code>pcolormesh</code> is better, IMHO). As far as I know, three mentioned functions together with, maybe,  <code>contourf()</code> are the only game in town, unless you&#39;re willing to go to 3D."}, {"owner": {"reputation": 967, "user_id": 4555765, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/607e0c47616dba32d110b693c84d4fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/4555765/lin"}, "edited": false, "score": 0, "creation_date": 1454603656, "post_id": 35191933, "comment_id": 58128387, "body": "After looking to pcolormesh() looks like the right way to go.  And no, no 3d."}], "tags": [], "owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "is_accepted": true, "score": 1, "last_activity_date": 1454556358, "last_edit_date": 1495539913, "creation_date": 1454556358, "answer_id": 35191933, "question_id": 35188766, "link": "https://stackoverflow.com/questions/35188766/function-to-plot-a-data-source-probably-not-regularized-in-format-x-y-value-us/35191933#35191933", "title": "Function to plot a data source (probably not regularized) in format x,y,value using python matplotlib", "body": "<blockquote>\n  <p>But let's suppose that I have some data like</p>\n</blockquote>\n\n<p>Ok, second dataset could be easily fit into image array. Basically, if you use <code>log2(x)</code> and <code>log2(y)</code> instead of <code>x</code> and <code>y</code>, it fits easily into image. So fill image with data and use log scales.</p>\n\n<p>Something along the line (untested code!)</p>\n\n<pre><code>x = ...\ny = ...\nv = ...\n\nxmin = x[0]\nxmax = x[-1]\nymin = y[0]\nymax = y[-1]\n\nnx = len(x.unique())\nny = len(y.unique())\n\nimg = np.zero((nx, ny))\nfor ix in range(0, nx):\n    for iy in range(0, ny):\n        v_idx = ix*ny + iy\n        img[ix, iy] = v[v_idx]\n\nplt.imshow(img, extent=[xmin, xmax, ymin, ymax], cmap=plt.cm.Reds, interpolation='none')\nplt.xscale('log')\nplt.yscale('log')\n\nplt.show()\n</code></pre>\n\n<p>UPDATE</p>\n\n<p>BTW, is using <code>imshow()</code> a hard requirement? You might want to take a look at <code>pcolormesh()</code></p>\n\n<p>UPDATE II</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21166679/when-to-use-imshow-over-pcolormesh\">When to use imshow over pcolormesh?</a></p>\n"}], "owner": {"reputation": 967, "user_id": 4555765, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/607e0c47616dba32d110b693c84d4fc8?s=128&d=identicon&r=PG&f=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/4555765/lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 35191933, "answer_count": 2, "score": 1, "last_activity_date": 1454616146, "creation_date": 1454537489, "last_edit_date": 1495542662, "question_id": 35188766, "link": "https://stackoverflow.com/questions/35188766/function-to-plot-a-data-source-probably-not-regularized-in-format-x-y-value-us", "title": "Function to plot a data source (probably not regularized) in format x,y,value using python matplotlib", "body": "<p>I have a pandas data frame that looks like:</p>\n\n<pre><code>X,Y,VAL\n3,1,1221.231\n3,3,121.2\n3,4,4354.2\n3,...,...\n3,1200,12.1\n...\n5,1,756.3\n5,2,12.01\n5,...,...\n...,...,...\n123,110,23.1\n123,1119,65.9\n</code></pre>\n\n<p>Note that x,y values are in the first and second column, different from what pyplot imshow expects (a multi dimensional array).</p>\n\n<p>We have in the first n lines all Y values to the first X coordinate an the after that cames the second X value and all Y values related to that line,  the thing goes on until it encounters the latest line. The dots here represents that data continues in more rows.</p>\n\n<p>The values on third column it goes the measured quantity over the map.</p>\n\n<p>I have tried to iterate over or build a mesh using the method \"unique\" from pandas library to built the coordinates, but the non regularity of source turned thing complicated</p>\n\n<p>IS there any functions able to process this in something \"graphable\" in imshow or convert it to another kind of table/matrix?</p>\n\n<p>Using one of the proposed solutions isn't viable because the coloring can't be interpolated. My source mesh isn't so sparse, but unfortunately I can't garantee that is regular. (but it can be in some cases).</p>\n\n<p>But let's suppose that I have some data like</p>\n\n<pre><code>x         y      value\n\n   64        4     2743\n   64        8     3531\n   64       16     4543\n   64       32     5222\n   64       64     5730\n  128        4     2778\n  128        8     3500\n  128       16     4657\n</code></pre>\n\n<p>Is there any function able to convert this table to imshow compatible? (line/column based on x/y values) or I need to iterate over it ?</p>\n\n<p>After try the proposed solution, I came to a optimization issue, also Iwas not able to create the v_mesh on attempt to use pcolormesh. It can be seen here <a href=\"https://stackoverflow.com/questions/35209504/optimizing-non-regularized-data-reading-to-image\">Optimizing non regularized data reading to image</a> as another question.</p>\n"}, {"tags": ["python", "python-2.7", "docstring"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1454537238, "post_id": 35188674, "comment_id": 58094554, "body": "<code>__init__</code> shouldn&#39;t return anything and is unlikely to ever get assigned, so it doesn&#39;t matter what you put. If your method doesn&#39;t <code>return</code>, you can remove the <code>:return:</code> entry, as it will always be <code>None</code>. In fact I usually document the class itself rather than <code>__init__</code>, which generally doesn&#39;t need its own docstring."}], "answers": [{"comments": [{"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 1, "creation_date": 1454538935, "post_id": 35188722, "comment_id": 58095377, "body": "I understand that, my question is regarding the <i>docstring</i> for the <code>__init__</code> method, not the return value itself."}, {"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "reply_to_user": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 1, "creation_date": 1454539333, "post_id": 35188722, "comment_id": 58095551, "body": "@JosepValls Thus, because all <code>__init__</code> methods return <code>None</code>, no docss about return type are required."}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 0, "last_activity_date": 1454537317, "creation_date": 1454537317, "answer_id": 35188722, "question_id": 35188674, "link": "https://stackoverflow.com/questions/35188674/return-type-for-init-in-docstrings/35188722#35188722", "title": "Return type for __init__ in docstrings", "body": "<p>The <code>__init__</code> method should return <code>None</code>.  If you try to return anything else, Python will raise an error when the object is instantiated.  Note: If you don't explicitly tell Python what a function should return, it returns None.  Because of this, I have never needed to use the return statement in any of my <code>__init__</code> methods.</p>\n"}, {"tags": [], "owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "is_accepted": true, "score": 1, "last_activity_date": 1463425879, "creation_date": 1463425879, "answer_id": 37261460, "question_id": 35188674, "link": "https://stackoverflow.com/questions/35188674/return-type-for-init-in-docstrings/37261460#37261460", "title": "Return type for __init__ in docstrings", "body": "<p>(The answer to the question credit should go to @ppperry)</p>\n\n<p>Because all <code>__init__</code> methods return <code>None</code>, no docstrings about return type are required.</p>\n"}], "owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "accepted_answer_id": 37261460, "answer_count": 2, "score": 1, "last_activity_date": 1463425879, "creation_date": 1454537097, "question_id": 35188674, "link": "https://stackoverflow.com/questions/35188674/return-type-for-init-in-docstrings", "title": "Return type for __init__ in docstrings", "body": "<p>I've recently started using PyCharm and it support type hinting for Python 2.x using docstrings which I'd like to start using.\nWhat should be the <code>:return:</code> value for the <code>__init__</code> method of a class <code>Foo</code>?\nI can't find an answer to wether it should be <code>Foo</code>, <code>None</code>, nothing, or remove the attribute that PyCharm is creating in the docstring template for me?</p>\n"}, {"tags": ["python", "calculus"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1454537343, "post_id": 35188619, "comment_id": 58094602, "body": "Could you provide a better problem description than <i>&quot;got myself a little lost&quot;</i>?"}, {"owner": {"reputation": 11, "user_id": 5880233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6294ff924a7cd1bef11fc2ca6d01ee7?s=128&d=identicon&r=PG&f=1", "display_name": "runnerrunner", "link": "https://stackoverflow.com/users/5880233/runnerrunner"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1454537612, "post_id": 35188619, "comment_id": 58094742, "body": "You mean the paragraph description just above that quote?"}, {"owner": {"reputation": 2029, "user_id": 986924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e9ec0190fc31b4fdc73ae52fd919bd0?s=128&d=identicon&r=PG", "display_name": "Ben Graham", "link": "https://stackoverflow.com/users/986924/ben-graham"}, "edited": false, "score": 0, "creation_date": 1454538308, "post_id": 35188619, "comment_id": 58095084, "body": "&quot;I am getting just one number back. and can&#39;t generate the incremental list&quot;\u2014what are you expecting the output of <code>dfdxsin</code> to be? A list or a number?"}, {"owner": {"reputation": 11, "user_id": 5880233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6294ff924a7cd1bef11fc2ca6d01ee7?s=128&d=identicon&r=PG&f=1", "display_name": "runnerrunner", "link": "https://stackoverflow.com/users/5880233/runnerrunner"}, "edited": false, "score": 0, "creation_date": 1454538467, "post_id": 35188619, "comment_id": 58095166, "body": "I would like for it to be a list.  2500 outputs of cos x between 0-25 with .01 increments."}, {"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 0, "creation_date": 1454542004, "post_id": 35188619, "comment_id": 58096599, "body": "Some sample inputs and expected outputs might be helpful for clarifying what you&#39;re trying to achieve."}], "answers": [{"tags": [], "owner": {"reputation": 7729, "user_id": 4718350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-CxgNhC_5nUE/AAAAAAAAAAI/AAAAAAAAP78/9FTapxcd2dY/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/4718350/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1454539795, "creation_date": 1454539795, "answer_id": 35189302, "question_id": 35188619, "link": "https://stackoverflow.com/questions/35188619/creating-incremental-values-for-central-difference/35189302#35189302", "title": "creating incremental values for central difference", "body": "<p>You're just incrementing the float 0.0 by each value you get back. You're going to want to create a list, and append, not add to it.</p>\n\n<pre><code>dfdx = []\n\nfor i in np.arange(0,25,.01):\n    dfdx.append((f(a+h)+i)-f((a-h)+i)/(2*h))\nreturn dfdx\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5880233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6294ff924a7cd1bef11fc2ca6d01ee7?s=128&d=identicon&r=PG&f=1", "display_name": "runnerrunner", "link": "https://stackoverflow.com/users/5880233/runnerrunner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1454541969, "creation_date": 1454536882, "last_edit_date": 1454541969, "question_id": 35188619, "link": "https://stackoverflow.com/questions/35188619/creating-incremental-values-for-central-difference", "title": "creating incremental values for central difference", "body": "<p>The first part of the code works fine and prints off values for <code>sin</code> in increments of <code>.01</code> radians.  Between <code>0-25</code> (degrees) that is 2500 values. The second part of the code is trying to evaluate <code>sin(x)</code> using the central difference method, while applying the same incremental steps.</p>\n\n<p>This second part returns just one number. It doesn't generate the incremental list.  This is my first attempt trying to code a differential; what am I doing wrong?</p>\n\n<pre><code>#1 evaluation of sin\n\nimport numpy as np\nimport math\ndef sin(x):\n    return math.sin(math.radians(x))\n\nfor i in np.arange(0, 25, .01): \n    print sin(i) \n\n#Evaluation of sin(x) using CDM, which would yield cos\n\ndef dfdxsin(f, a, b, n):\n    h=float(b-a)/n\n    dfdx=0.0\n    for i in np.arange(0,25,.01):\n        dfdx += (f(a+h)+i)-f((a-h)+i)/(2*h)\n    return dfdx\n\ndef f(x):\n    return math.sin(math.radians(x))\n\nprint dfdxsin(f,0,25,2500)\n</code></pre>\n"}, {"tags": ["python", "url", "flask"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 56, "last_activity_date": 1533048162, "last_edit_date": 1533048162, "creation_date": 1454539755, "answer_id": 35189294, "question_id": 35188540, "link": "https://stackoverflow.com/questions/35188540/get-a-variable-from-the-url-in-a-flask-route/35189294#35189294", "title": "Get a variable from the URL in a Flask route", "body": "<p>This is answered in the <a href=\"http://flask.pocoo.org/docs/latest/quickstart/#variable-rules\" rel=\"noreferrer\">quickstart</a> of the docs.</p>\n\n<p>You want a variable URL, which you create by adding <code>&lt;name&gt;</code> placeholders in the URL and accepting corresponding <code>name</code> arguments in the view function.</p>\n\n<pre><code>@app.route('/landingpage&lt;id&gt;')  # /landingpageA\ndef landing_page(id):\n    ...\n</code></pre>\n\n<p>More typically the parts of a URL are separated with <code>/</code>.</p>\n\n<pre><code>@app.route('/landingpage/&lt;id&gt;')  # /landingpage/A\ndef landing_page(id):\n    ...\n</code></pre>\n\n<p>Use <code>url_for</code> to generate the URLs to the pages.</p>\n\n<pre><code>url_for('landing_page', id='A')\n# /landingpage/A\n</code></pre>\n\n<p>You could also pass the value as part of the query string, and <a href=\"http://flask.pocoo.org/docs/latest/quickstart/#the-request-object\" rel=\"noreferrer\">get it from the request</a>, although if it's always required it's better to use the variable like above.</p>\n\n<pre><code>from flask import request\n\n@app.route('/landingpage')\ndef landing_page():\n    id = request.args['id']\n    ...\n\n# /landingpage?id=A\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 13742665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/00HxK.jpg?s=128&g=1", "display_name": "perymerdeka", "link": "https://stackoverflow.com/users/13742665/perymerdeka"}, "is_accepted": false, "score": 2, "last_activity_date": 1599788954, "creation_date": 1599788954, "answer_id": 63839730, "question_id": 35188540, "link": "https://stackoverflow.com/questions/35188540/get-a-variable-from-the-url-in-a-flask-route/63839730#63839730", "title": "Get a variable from the URL in a Flask route", "body": "<p>like this  the example</p>\n<pre class=\"lang-py prettyprint-override\"><code>@app.route('/profile/&lt;username&gt;')\ndef lihat_profile(username):\n    return &quot;welcome to profile page %s&quot; % username\n</code></pre>\n"}], "owner": {"reputation": 470, "user_id": 4001343, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CKRki.png?s=128&g=1", "display_name": "Ben J.", "link": "https://stackoverflow.com/users/4001343/ben-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51533, "favorite_count": 10, "accepted_answer_id": 35189294, "answer_count": 2, "score": 21, "last_activity_date": 1599788954, "creation_date": 1454536579, "last_edit_date": 1454539965, "question_id": 35188540, "link": "https://stackoverflow.com/questions/35188540/get-a-variable-from-the-url-in-a-flask-route", "title": "Get a variable from the URL in a Flask route", "body": "<p>I have a number of URLs that start with <code>landingpage</code> and end with a unique id.  I need to be able to get the id from the URL, so that I can pass some data from another system to my Flask app.  How can I get this value?</p>\n\n<pre><code>http://localhost/landingpageA\nhttp://localhost/landingpageB\nhttp://localhost/landingpageC\n</code></pre>\n"}, {"tags": ["python", "enumerate"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 12, "creation_date": 1454536867, "post_id": 35188524, "comment_id": 58094363, "body": "&quot;I receive the correct answer but see a significant reduction in speed&quot; - never compare the performance of correct code and uselessly wrong code. You can do anything in constant time if you&#39;re okay with the results being uselessly wrong."}], "answers": [{"tags": [], "owner": {"reputation": 3582, "user_id": 3795615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7fca2d8ef13cf1cb8c6152f358cf5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Strikeskids", "link": "https://stackoverflow.com/users/3795615/strikeskids"}, "is_accepted": false, "score": 0, "last_activity_date": 1454536822, "creation_date": 1454536822, "answer_id": 35188605, "question_id": 35188524, "link": "https://stackoverflow.com/questions/35188524/reuse-of-python-object-created-by-enumerate/35188605#35188605", "title": "Reuse of Python object created by enumerate", "body": "<p>The reason you are seeing a significant reduction in speed (by your terminology) is that your second, correct version is actually computing the values you are looking for.</p>\n\n<p>Because enumerate produces a generator, once you consume its values, you cannot produce them again. The second version you have presented is the correct way of using enumerate.</p>\n\n<p>Side not, I'm not sure how your code is working at all. You are calling a list, a non-callable object</p>\n\n<pre><code>listA_indices([...])\n</code></pre>\n\n<p>Maybe, you meant to do</p>\n\n<pre><code>listA_indices += [...] \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": true, "score": 2, "last_activity_date": 1454537709, "last_edit_date": 1454537709, "creation_date": 1454536833, "answer_id": 35188609, "question_id": 35188524, "link": "https://stackoverflow.com/questions/35188524/reuse-of-python-object-created-by-enumerate/35188609#35188609", "title": "Reuse of Python object created by enumerate", "body": "<p><a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow\"><code>enumerate</code></a> returns an iterator which can only be iterated once. So once it is exhausted, which is the case after you iterate it in the list comprehension of the first for loop iteration, it will not yield any more items.</p>\n\n<p>If you want to keep the information, you will have to actually store that data in memory, for example as a list:</p>\n\n<pre><code>enum_listA = list(enumerate(listA))\n</code></pre>\n\n<p>Note that this effectively duplicates the information in the list and adds the indexes, so this is wasting a lot of extra memory and might not end up being more efficient than recreating the enumerate object over and over.</p>\n\n<p>The performance difference you are seeing however comes from the fact that after the first loop iteration, the enumerator is empty, so the list comprehension no longer runs for subsequent iterations.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 5880221, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-x-iMDD0otr8/AAAAAAAAAAI/AAAAAAAAADg/BqJZXcoV4v8/photo.jpg?sz=128", "display_name": "Jeremy Bowers", "link": "https://stackoverflow.com/users/5880221/jeremy-bowers"}, "edited": false, "score": 0, "creation_date": 1454678232, "post_id": 35188693, "comment_id": 58164528, "body": "Thanks for the suggestion. I implemented this approach and it looks to be working quite well (I&#39;m still fairly new to structured lists, so it has not typically been my default approach)."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1454538075, "last_edit_date": 1454538075, "creation_date": 1454537173, "answer_id": 35188693, "question_id": 35188524, "link": "https://stackoverflow.com/questions/35188524/reuse-of-python-object-created-by-enumerate/35188693#35188693", "title": "Reuse of Python object created by enumerate", "body": "<p>use a <code>dict</code> and a <code>set</code> and your code will run a lot more efficiently:</p>\n\n<pre><code>from collections import defaultdict\n\nst = set(map(tuple, listA_set))\nd = defaultdict(list)\n\nfor i, ele in enumerate(map(tuple,listA)):\n    if ele in st:\n        d[ele].append(i)\n\nprint(list(d.items()))\n\nprint(list(d.values()))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[((3, 4, 5), [1]), ((6, 7, 8), [2]), ((1, 2, 3), [0, 3])]\n[[1], [2], [0, 3]]\n</code></pre>\n\n<p>If you want to maintain the order first seen:</p>\n\n<pre><code>from collections import  OrderedDict\nd = OrderedDict()\n\nfor i, ele in enumerate(map(tuple, listA)):\n    if ele in st:\n        d.setdefault(ele, []).append(i)\n\nprint(list(d.items()))\n\nprint(list(d.values()))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[((1, 2, 3), [0, 3]), ((3, 4, 5), [1]), ((6, 7, 8), [2])]\n[[0, 3], [1], [2]]\n</code></pre>\n\n<p>Whatever way you use enumerate, your complexity is still quadratic, this will be considerably faster than your own approach.</p>\n\n<p>Some timings on a random data set:</p>\n\n<pre><code>In [27]: from random import randint\n\nIn [28]: listA_set = [[randint(1,20) for _ in range(10)] for _ in range(2000)]\n\nIn [29]: listA = [[randint(1,20) for _ in range(10)] for _ in range(3000)]\n\nIn [30]: %%timeit\nlistA_indices = []\nfor i in listA_set:\n    listA_indices.append([j[0] for j in enumerate(listA) if j[1] == i])\n   ....: \n1 loops, best of 3: 696 ms per loop\n\nIn [31]: %%timeit\nst = set(map(tuple, listA_set))\nfrom collections import  OrderedDict\nd = OrderedDict()\nfor i, ele in enumerate(map(tuple,listA)):\n    if ele in st:\n        d.setdefault(ele, []).append(i)\n   ....: \n1000 loops, best of 3: 1.49 ms per loop\n</code></pre>\n\n<p><code>~400</code>  times faster.</p>\n"}], "owner": {"reputation": 23, "user_id": 5880221, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-x-iMDD0otr8/AAAAAAAAAAI/AAAAAAAAADg/BqJZXcoV4v8/photo.jpg?sz=128", "display_name": "Jeremy Bowers", "link": "https://stackoverflow.com/users/5880221/jeremy-bowers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 35188609, "answer_count": 3, "score": 2, "last_activity_date": 1454538075, "creation_date": 1454536529, "question_id": 35188524, "link": "https://stackoverflow.com/questions/35188524/reuse-of-python-object-created-by-enumerate", "title": "Reuse of Python object created by enumerate", "body": "<p>I have a list of lists that I am searching through to find the indices of duplicates. </p>\n\n<pre><code>listA = [[1,2,3],[3,4,5],[6,7,8],[1,2,3]]\nlistA_set = [[1,2,3],[3,4,5],[6,7,8]]\nenum_listA = enumerate(listA)\nlistA_indices = []\nfor i in listA_set:\n    listA_indices([j[0] for j in enum_listA if j[1] == i])\n</code></pre>\n\n<p>The intended outcome is:</p>\n\n<pre><code>listA_indices = [[0,3],[1],[2]]\n</code></pre>\n\n<p>But instead I am getting:</p>\n\n<pre><code>listA_indices = [[0,3],[],[]]\n</code></pre>\n\n<p>If I include the enumerate within the in-line for loop (see example below), I receive the correct answer but see a significant reduction in speed. How can I perform this task without losing the enumerate information stored in enum_listA?</p>\n\n<pre><code>for i in listA_set:\n    listA_indices([j[0] for j in enumerate(listA) if j[1] == i])\n</code></pre>\n"}, {"tags": ["python", "opengl", "build", "anaconda"], "comments": [{"owner": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 0, "creation_date": 1454537727, "post_id": 35188384, "comment_id": 58094804, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/25114792/how-can-i-import-opengl-in-anaconda-python\">How can i import OpenGL in anaconda python?</a>"}, {"owner": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 0, "creation_date": 1454537770, "post_id": 35188384, "comment_id": 58094819, "body": "Does listing <code>pyopengl</code> as a dependency not work for you?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5224720"}, "reply_to_user": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 0, "creation_date": 1454538926, "post_id": 35188384, "comment_id": 58095373, "body": "I get an error saying that it cannot find <code>libGL.so</code> after listing <code>pyopengl</code>..."}, {"owner": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 0, "creation_date": 1454549888, "post_id": 35188384, "comment_id": 58099190, "body": "What OS are you testing this on? There is the <code>vispy</code> package which depends on certain implementations of OpenGL and I know I&#39;ve used it via Anaconda on Linux, Mac, and Windows. Your system at least has to support OpenGL."}, {"owner": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 0, "creation_date": 1454551600, "post_id": 35188384, "comment_id": 58099642, "body": "Someone can correct me if I&#39;m wrong, but <code>libGL.so</code> usually comes from from the video driver on the system. If you don&#39;t have any video driver installed or if the system didn&#39;t come with one then you need to install one."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5224720"}, "reply_to_user": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 0, "creation_date": 1454578765, "post_id": 35188384, "comment_id": 58111055, "body": "It looks like compiling the <code>Mesa</code> package would help. Can anyone confirm this?"}], "owner": {"user_type": "does_not_exist", "display_name": "user5224720"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1454539441, "creation_date": 1454536012, "last_edit_date": 1454539441, "question_id": 35188384, "link": "https://stackoverflow.com/questions/35188384/include-opengl-into-anaconda-environment", "title": "Include OpenGL into Anaconda environment?", "body": "<p>One of the package in my <code>Anaconda</code> environment requires <code>OpenGL</code>, and since we are aiming to generate a general cross-platform recipe, using explicit dependency on <code>OpenGL</code> is not favourable. Is there a way to include <code>OpenGL</code> as a recipe, or otherwise, to be installed in an <code>Anaconda</code> environment?</p>\n\n<p>Edit: install <code>pyopengl</code> will not solve as the package requires the library <code>libGL.so</code> but it cannot find...</p>\n"}, {"tags": ["python", "xpath"], "comments": [{"owner": {"reputation": 4620, "user_id": 850366, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BrDYT.jpg?s=128&g=1", "display_name": "Dmytro Pastovenskyi", "link": "https://stackoverflow.com/users/850366/dmytro-pastovenskyi"}, "edited": false, "score": 4, "creation_date": 1454537540, "post_id": 35188361, "comment_id": 58094705, "body": "Have you read this one? <a href=\"http://stackoverflow.com/questions/2420705/how-do-i-return-for-an-empty-nodes-text-in-xpath\" title=\"how do i return for an empty nodes text in xpath\">stackoverflow.com/questions/2420705/&hellip;</a>"}, {"owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "reply_to_user": {"reputation": 4620, "user_id": 850366, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BrDYT.jpg?s=128&g=1", "display_name": "Dmytro Pastovenskyi", "link": "https://stackoverflow.com/users/850366/dmytro-pastovenskyi"}, "edited": false, "score": 0, "creation_date": 1454538022, "post_id": 35188361, "comment_id": 58094949, "body": "The shared link is helpful. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1454548660, "creation_date": 1454548660, "answer_id": 35190841, "question_id": 35188361, "link": "https://stackoverflow.com/questions/35188361/xpath-keep-a-place-for-empty-node-value/35190841#35190841", "title": "Xpath keep a place for empty node value", "body": "<p>If you are using <code>lxml.html</code> - loop over the <code>td</code> elements found and get the <code>text_content()</code>:</p>\n\n<pre><code>from lxml.html import fromstring\n\ndata = \"\"\"\n&lt;tr&gt;\n     &lt;td&gt;a&lt;/td&gt;\n     &lt;td&gt;a&lt;/td&gt;\n     &lt;td&gt;b&lt;/td&gt;\n     &lt;td&gt;&lt;/td&gt;\n     &lt;td&gt;b&lt;/td&gt;\n&lt;/tr&gt;\"\"\"\n\ntree = fromstring(data)\n\nfor td in tree.xpath(\".//td\"):\n    print(td.text_content())\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>a\na\nb\n\nb\n</code></pre>\n"}], "owner": {"reputation": 1378, "user_id": 2088027, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8c24609f6a55a23ab0ddf5ac13f8bff?s=128&d=identicon&r=PG", "display_name": "kevin", "link": "https://stackoverflow.com/users/2088027/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "closed_date": 1454612016, "accepted_answer_id": 35190841, "answer_count": 1, "score": 1, "last_activity_date": 1454548660, "creation_date": 1454535938, "question_id": 35188361, "link": "https://stackoverflow.com/questions/35188361/xpath-keep-a-place-for-empty-node-value", "closed_reason": "Duplicate", "title": "Xpath keep a place for empty node value", "body": "<p>I try to extract values from this:</p>\n\n<pre><code>&lt;tr&gt;\n     &lt;td&gt;a&lt;/td&gt;\n     &lt;td&gt;a&lt;/td&gt;\n     &lt;td&gt;b&lt;/td&gt;\n     &lt;td&gt;&lt;/td&gt;\n     &lt;td&gt;b&lt;/td&gt; \n&lt;/tr&gt;\n</code></pre>\n\n<p>//td/text() returns:</p>\n\n<pre><code>a\na\nb\nb\n</code></pre>\n\n<p>How can I get the following output?</p>\n\n<pre><code>a\na\nb\n\nb\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1454536080, "post_id": 35188342, "comment_id": 58093943, "body": "You have to convert the input to <code>float</code> first. Also, don&#39;t redefine the name of the function."}, {"owner": {"reputation": 3, "user_id": 5880201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE6ON.jpg?s=128&g=1", "display_name": "TheSwune", "link": "https://stackoverflow.com/users/5880201/theswune"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1454536127, "post_id": 35188342, "comment_id": 58093968, "body": "@tobias_k how do I do that"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454536236, "post_id": 35188342, "comment_id": 58094032, "body": "There are quite a few things wrong here. You haven&#39;t defined MPG anywhere, and you haven&#39;t called the function anywhere."}], "answers": [{"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 3, "last_activity_date": 1454536307, "creation_date": 1454536307, "answer_id": 35188472, "question_id": 35188342, "link": "https://stackoverflow.com/questions/35188342/simple-gas-mileage/35188472#35188472", "title": "Simple Gas Mileage", "body": "<p>Currently, the user input you get from <code>raw_input</code> is just a string. You have to convert those strings to floating point numbers, using the <code>float</code> bultin function. Also, I'd suggest changing your function so that it takes input parameters instead of using the global values. And you have to call the function properly.</p>\n\n<p>Try this:</p>\n\n<pre><code>def efficiency(dist, gas):\n    return dist/gas\n\ndist_traveled = raw_input (\"How far did your car travel? (In miles?) \")\ngas_consumed = raw_input (\"How much gas did you use? (In gallons)\")\n\nMPG = efficiency(float(dist_traveled), float(gas_consumed))\nprint MPG\n</code></pre>\n\n<p>You might also want to handle incorrect user input, i.e. when the user enters something that can not be parsed as a floating point number, e.g. using a <code>try/except</code> block and a loop.</p>\n"}, {"tags": [], "owner": {"reputation": 7729, "user_id": 4718350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-CxgNhC_5nUE/AAAAAAAAAAI/AAAAAAAAP78/9FTapxcd2dY/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/4718350/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1454537852, "creation_date": 1454537852, "answer_id": 35188849, "question_id": 35188342, "link": "https://stackoverflow.com/questions/35188342/simple-gas-mileage/35188849#35188849", "title": "Simple Gas Mileage", "body": "<pre><code>def efficiency():\n    dist_traveled = float(raw_input (\"How far did your car travel? (In miles?) \"))\n    gas_consumed = float(raw_input (\"How much gas did you use? (In gallons)\"))\n    return dist_traveled/gas_consumed\nprint \"%.2f\" % efficiency()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5880201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uE6ON.jpg?s=128&g=1", "display_name": "TheSwune", "link": "https://stackoverflow.com/users/5880201/theswune"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544608792, "creation_date": 1454535877, "question_id": 35188342, "link": "https://stackoverflow.com/questions/35188342/simple-gas-mileage", "title": "Simple Gas Mileage", "body": "<p>I am new to python and am trying to make what should be a relatively simple function.  By entering how far you have driven and how many gallons of gas you used, it will calculate your MPG.  Really it is just a division problem.  What I have so far is this:</p>\n\n<pre><code>dist_traveled = raw_input (\"How far did your car travel? (In miles?) \")\ngas_consumed = raw_input (\"How much gas did you use? (In gallons)\")\ndef efficiency():\n    efficiency = dist_traveled/gas_consumed\n    return efficiency\nefficiency = MPG\nprint MPG\n</code></pre>\n\n<p>what I can't get it to do is actually divide.  I am using python 2.7.5   can someone help/walk me through this?  thanks</p>\n"}, {"tags": ["python", "c++", "c", "arrays", "bit-manipulation"], "comments": [{"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 5, "creation_date": 1454536409, "post_id": 35188340, "comment_id": 58094121, "body": "Do you want your homework solved in python, c or c++? Or maybe you just want all three?"}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 1, "creation_date": 1454536682, "post_id": 35188340, "comment_id": 58094262, "body": "All you need is a decorator that redirects accesses, that way you don&#39;t have to shuffle the data at all. That said, for larger data structures, you can first rotate tiles of N by N bits by their center and then rotate them around the data structure&#39;s center. Similarly to the bit order inversion that first swaps high and low half and then inverts these."}, {"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1454536764, "post_id": 35188340, "comment_id": 58094301, "body": "@4386427 Thanks for the offer, but this is not homework related."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 2, "creation_date": 1454536893, "post_id": 35188340, "comment_id": 58094383, "body": "Too bad you are only allowed to add five tags. TO narrow down your question, you should add C#, Fortran, Algol and OcamML and any other PL you ever heard about."}, {"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "reply_to_user": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1454537160, "post_id": 35188340, "comment_id": 58094520, "body": "@Ulrich Eckhardt So for clarification, i do want to access bits, and not bytes. I cant se how one would do that efficiently with a python decorator..."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1454537234, "post_id": 35188340, "comment_id": 58094553, "body": "@user5880052 - ok - not homework then - well, if you are looking for an easy-to-use and high performance language with good bit-operations then <code>c</code> is a good choice. Also, <code>c++</code> is just as good when used correctly. To my limited knowledge <code>python</code> will not be able to perform as well but I&#39;m not an expert in that area. Just do a google for bitwise operators in <code>c</code> or <code>c++</code>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1454537478, "post_id": 35188340, "comment_id": 58094666, "body": "@4386427: As Python does not limit the size of an integer like the other languages, It would be the most simple language to use actually. Not the fastest, though. But it is not clear what OP actually wants and adding that much language tags makes it too broad."}, {"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1454537583, "post_id": 35188340, "comment_id": 58094723, "body": "@Olaf Thanks, but C[++] or Python would be sufficient. If you care to explain how one would do it in the languarge of your choice, i would even try to understand whats going there..."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1454537622, "post_id": 35188340, "comment_id": 58094746, "body": "@Olaf - I&#39;m sure your right - I&#39;ve seen examples of <code>python</code> code doing amazing stuff in a few lines but I assumed performance was the issue. Once again my disclaimer: I&#39;m not a <code>python</code>expert so I could be wrong :) And most certainly agree to your comment about the question being unclear."}, {"owner": {"reputation": 727, "user_id": 5825717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRVsi.jpg?s=128&g=1", "display_name": "RobClucas", "link": "https://stackoverflow.com/users/5825717/robclucas"}, "edited": false, "score": 0, "creation_date": 1454537655, "post_id": 35188340, "comment_id": 58094762, "body": "Will it always be 8 bit elements? Or are you looking for something more general, maybe 16, 32, and 64 bits as well? And will the  number of columns and rows always be the same?"}, {"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "reply_to_user": {"reputation": 727, "user_id": 5825717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRVsi.jpg?s=128&g=1", "display_name": "RobClucas", "link": "https://stackoverflow.com/users/5825717/robclucas"}, "edited": false, "score": 0, "creation_date": 1454538007, "post_id": 35188340, "comment_id": 58094941, "body": "@nabla for the example i picked a byte sized data type, the real use case would propably break down the problem in chunks of 64x64."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "edited": false, "score": 0, "creation_date": 1454544615, "post_id": 35188886, "comment_id": 58097553, "body": "Thanks for the link, kind of what i looked for, works great. Also pointed me in the direction of &quot;8x8 bit matrix transposition&quot;, which is the keyword i was looking for."}], "tags": [], "owner": {"reputation": 1228, "user_id": 4023418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2b157cf12258cebc22300af22dad977?s=128&d=identicon&r=PG", "display_name": "hiandbaii", "link": "https://stackoverflow.com/users/4023418/hiandbaii"}, "is_accepted": true, "score": 0, "last_activity_date": 1454538039, "creation_date": 1454538039, "answer_id": 35188886, "question_id": 35188340, "link": "https://stackoverflow.com/questions/35188340/efficient-vector-bit-data-rotation-rearrangement-in-memory-e-g-in-python/35188886#35188886", "title": "Efficient Vector Bit-Data &quot;Rotation&quot; / &quot;Rearrangement&quot; in Memory [e.g. in Python, Numpy]", "body": "<p>I suggest looking at the source provided <a href=\"http://programming.sirrida.de/calcperm.php\" rel=\"nofollow\">here</a></p>\n\n<p>In particular, calcperm.cpp. This is a simple bit permutation problem.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "edited": false, "score": 0, "creation_date": 1454544960, "post_id": 35189950, "comment_id": 58097673, "body": "Thanks nabla, for the detailed example. Looks faster than my original version. If you are interested in a more theoretical aproach finding fastest possible solutions (using SSE and AVX features), calculated from the number of cpu instructions, check out @haiandbaii &#39;s answer or search for &quot;8x8 bit matrix inversion&quot;."}], "tags": [], "owner": {"reputation": 727, "user_id": 5825717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRVsi.jpg?s=128&g=1", "display_name": "RobClucas", "link": "https://stackoverflow.com/users/5825717/robclucas"}, "is_accepted": false, "score": 0, "last_activity_date": 1454542987, "creation_date": 1454542987, "answer_id": 35189950, "question_id": 35188340, "link": "https://stackoverflow.com/questions/35188340/efficient-vector-bit-data-rotation-rearrangement-in-memory-e-g-in-python/35189950#35189950", "title": "Efficient Vector Bit-Data &quot;Rotation&quot; / &quot;Rearrangement&quot; in Memory [e.g. in Python, Numpy]", "body": "<p>Here is a solution if the rotation is for a square number of rows and columns, and then it just does a transpose of the bits.</p>\n\n<p>I used 8 bit elements as in the question. Also, bit 7 is the leftmost bit, while bit 0 is the rightmost bit. I'll refer to the bits in columns and rows in the following format (simply because this is how I could most quickly print the bits -- as a result the indexing is trickier than in the best case, but it can be modified appropriately):</p>\n\n<pre><code>    | col : 7 6 5 4 3 2 1 0\n--------------------------\nrow:| 0     0 1 1 1 1 1 1 1\n    | 1     0 0 1 0 0 1 1 1 \n    | 2     0 0 0 0 0 1 0 0\n    | 3     0 0 0 0 1 0 0 1\n    | 4     0 0 0 0 1 1 0 0\n    | 5     0 1 1 0 0 1 0 0\n    | 6     1 1 0 0 1 0 0 0\n    | 7     1 0 0 1 0 1 1 0\n</code></pre>\n\n<p>Then I defined the following struct to wrap the 8 bit elements, and perform the bit manipulation and printing:</p>\n\n<pre><code>struct Element {\n    Element(uint8_t E) : e(E) {}\n\n    // Just for convienience\n    static constexpr int size = 8;\n    uint8_t e;\n\n    // Get a bit from the element\n    inline uint8_t get(uint8_t i) {\n        return (e &gt;&gt; i &amp; 0x01);\n    }\n\n    // Flip a bit in the element\n    inline void flip(uint8_t i) {\n        e ^= (0x01 &lt;&lt; i);\n    }\n\n    // Just for convienience\n    void print() {\n        std::cout &lt;&lt; std::bitset&lt;8&gt;(e) &lt;&lt; \"\\n\";\n    }\n};\n</code></pre>\n\n<p>As well as the following function to flip bits in two <code>Element</code>s -- note that you only need to flip the bits if they are not the same since the elements are binary.</p>\n\n<pre><code>inline void swap(Element&amp; a, Element&amp; b, int a_offset, int b_offset) {\n    if (a.get(a_offset) != b.get(b_offset)) {\n        a.flip(a_offset); b.flip(b_offset);\n    }\n}\n</code></pre>\n\n<p>Then it's just a matter of looping through the elements in the upper triangle (above the diagonal), and swapping them with the elements in the lower triangle (below the diagonal) as follows:</p>\n\n<pre><code>int main() {\n  std::vector&lt;Element&gt; array = { 127, 39, 4, 9, 12, 100, 200, 150 };\n\n  for (auto&amp; a : array) a.print(); std::cout &lt;&lt; \"\\n\"; // Before\n\n  // Do the swapping\n  for (size_t row = 0; row &lt; array.size(); ++row) {\n    for (size_t col = Element::size - 1 - row; col &gt;= 1; --col) {\n      swap(array[row], array[Element::size - col], col - 1, Element::size - 1 - row);\n    }\n  }\n\n  for (auto&amp; a : array) a.print(); // After\n}  \n</code></pre>\n\n<p>Which produces the transformation as in the question : see the <a href=\"http://coliru.stacked-crooked.com/a/8dade58f1b921cf6\" rel=\"nofollow\">live demo</a> which shows the input and output. Compiling with <code>-O3</code> ran in about 1.1 microseconds (just the transformation, not including the printing). </p>\n\n<p>You can also pretty easily change the transformation to be a 90 degree right or left rotation, just by modifying the indexing. </p>\n"}, {"tags": [], "owner": {"reputation": 97126, "user_id": 4593267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EEyLy.jpg?s=128&g=1", "display_name": "chqrlie", "link": "https://stackoverflow.com/users/4593267/chqrlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1454544438, "creation_date": 1454544438, "answer_id": 35190196, "question_id": 35188340, "link": "https://stackoverflow.com/questions/35188340/efficient-vector-bit-data-rotation-rearrangement-in-memory-e-g-in-python/35190196#35190196", "title": "Efficient Vector Bit-Data &quot;Rotation&quot; / &quot;Rearrangement&quot; in Memory [e.g. in Python, Numpy]", "body": "<p>Here is a simple implementation in C for the 8x8 case:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\ntypedef unsigned char byte;\n\nvoid dump(const char *name, const byte *p, int size) {\n    int len = printf(\"%s =&gt; ['\", name) - 1;\n    for (int i = 0; i &lt; size; i++) {\n        for (int j = 0; j &lt; 8; j++) {\n            putchar('0' + ((p[i] &gt;&gt; (7 - j)) &amp; 1));\n        }\n        if (i &lt; 7) {\n            printf(\"',\\n%*s'\", len, \"\");\n        }\n    }\n    printf(\"']\\n\");\n}\n\nint main(int argc, char **argv) {\n    byte original[8], rotated[8];\n    int repeat = 1;\n\n    if (argc &gt; 1)\n        repeat = atoi(argv[1]);\n\n    for (int i = 0; i &lt; 8; i++) {\n        original[i] = rand() &amp; 255;\n    }\n    for (int r = 0; r &lt; repeat; r++) {\n        /*-------- this is the core of the rotation --------*/\n        for (int i = 0; i &lt; 8; i++) {\n            rotated[i] = 0;\n        }\n        for (int i = 0; i &lt; 8; i++) {\n            for (int j = 0; j &lt; 8; j++) {\n                rotated[j] |= ((original[i] &gt;&gt; (7 - j)) &amp; 1) &lt;&lt; (7 - i);\n            }\n        }\n        /*-------- end of the rotation code --------*/\n    }\n    if (repeat == 1) {\n        dump(\"original\", original, 8);\n        dump(\"rotated\", rotated, 8);\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Run it without an argument for a sample random test:</p>\n\n<pre><code>chqrlie@mac ~/dev/stackoverflow &gt; ./rot8x8\noriginal =&gt; ['10100111',\n             '11110001',\n             '11011001',\n             '00101010',\n             '10000010',\n             '11001000',\n             '11011000',\n             '11111110']\nrotated =&gt; ['11101111',\n            '01100111',\n            '11010001',\n            '01100011',\n            '00110111',\n            '10000001',\n            '10011001',\n            '11100000']\n</code></pre>\n\n<p>Run it with a numeric argument for timing:</p>\n\n<pre><code>chqrlie@mac ~/dev/stackoverflow &gt; time ./rot8x8 20000000\nreal    0m0.986s\nuser    0m0.976s\nsys     0m0.004s\n</code></pre>\n\n<p>On a MacbookPro, with <code>clang -O3</code>, this naive program performs a single rotation takes <strong>less than 50ns</strong>, <strong>400 times faster</strong> than your Numpy example.  I'm sure there are faster methods, but this is already significantly better.</p>\n"}], "owner": {"reputation": 31, "user_id": 5880052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0daefcb49e5c0adf3c0e4802744017fd?s=128&d=identicon&r=PG&f=1", "display_name": "user5880052", "link": "https://stackoverflow.com/users/5880052/user5880052"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "closed_date": 1454578538, "accepted_answer_id": 35188886, "answer_count": 3, "score": 1, "last_activity_date": 1454544438, "creation_date": 1454535866, "last_edit_date": 1454536410, "question_id": 35188340, "link": "https://stackoverflow.com/questions/35188340/efficient-vector-bit-data-rotation-rearrangement-in-memory-e-g-in-python", "closed_reason": "Needs more focus", "title": "Efficient Vector Bit-Data &quot;Rotation&quot; / &quot;Rearrangement&quot; in Memory [e.g. in Python, Numpy]", "body": "<p>How does one efficiently convert from an 8 element long array of e.g. uint8s into a its \"rotated\" counterpart, were e.g. the original 8bits of the first element are spread across all vector elements as the MSB, and the second last element spread across the second MSB, and so on: Working and slow example:</p>\n\n<pre><code>import numpy as np\n\noriginal = np.random.randint(0, 255, 8).astypye(np.uint8) # some random example vector\n[np.binary_repr(i, width=8) for i in original]            # original data\n=&gt;['01111111',\n   '00100111',\n   '01110111',\n   '00100010',\n   '00111101',\n   '10010000',\n   '10000100',\n   '10101000']\n\nrotated = np.packbits(np.unpackbits(original).reshape(-1,8).T) # &lt;= SLOW ROTATION\n[np.binary_repr(i, width=8) for i in rotated]                  # this is should be the result\n=&gt;['00000111',                                                 # what where rows originally\n   '10100000',                                                 # are now columns\n   '11111001',\n   '10101100',\n   '10001001',\n   '11101010',\n   '11110000',\n   '11101000']\n</code></pre>\n\n<p>So in the end, I want to reorder the layout how BITS are \"filed\" into the RAM. As you can see I got a working example in Numpy, it is not super slow (here ~ 21 \u00b5s), however I would like to do this excercise with data structures in the order of ~2k * 1 mio bits. Therefore the usage of the numpy or C bool dtype is to wasteful (factor 8 overhead).</p>\n\n<p>Any C bit shuffling magic or SSE instructions or general answers are welcome!</p>\n"}, {"tags": ["python", "opencv", "machine-learning", "computer-vision", "svm"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454543529, "post_id": 35188334, "comment_id": 58097166, "body": "Your features vector can be whatever you want. You can concatenate SIFT descriptors, color information, etc... You can compute feature on color on the color image and compute SIFT on grayscale, etc... In older OpenCV version there were SIFT variants for color images (like Opponent SIFT), I don&#39;t know if they are still available in newer versions"}, {"owner": {"reputation": 305, "user_id": 3305492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e15fb97270bf2e34d0662f9abdf8d08?s=128&d=identicon&r=PG&f=1", "display_name": "jonilyn2730", "link": "https://stackoverflow.com/users/3305492/jonilyn2730"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454557790, "post_id": 35188334, "comment_id": 58101342, "body": "Hi Miki. Thanks for the response. I am still trying solving the project. My current approach is this: I have created a codebook has gray-scaled features on it. Then, I have also created a separate file for color. Now I am stuck on how to merge these features to make SVM learn since both have different shapes (size). May I ask if this approach is correct? Or is there any easier approach? Thanks."}, {"owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "edited": false, "score": 0, "creation_date": 1454562353, "post_id": 35188334, "comment_id": 58102789, "body": "Classifiers do not mind whether the features come from gray scale, color or whatever. Each feature is just one column in a table. Mix them as you want. - Might help if you give a piece of sample code to better understand your problem."}], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 3305492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e15fb97270bf2e34d0662f9abdf8d08?s=128&d=identicon&r=PG&f=1", "display_name": "jonilyn2730", "link": "https://stackoverflow.com/users/3305492/jonilyn2730"}, "is_accepted": true, "score": 0, "last_activity_date": 1455170775, "creation_date": 1455170775, "answer_id": 35331966, "question_id": 35188334, "link": "https://stackoverflow.com/questions/35188334/color-and-feature-classification-opencv/35331966#35331966", "title": "Color and feature classification opencv", "body": "<p>I found a project similar to the problem in this paper titled <a href=\"http://cvgl.stanford.edu/teaching/cs231a_winter1415/prev/projects/CS231AFinalProjectReport.pdf\" rel=\"nofollow\">Leveraging Computer Vision Priciples for Image-Based Shoe</a>.</p>\n\n<p>They have utilized different approaches to detect and compare the image color with its shape and texture. I will try their recommended algorithm in opencv and see if this works for the project.. :) </p>\n"}], "owner": {"reputation": 305, "user_id": 3305492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e15fb97270bf2e34d0662f9abdf8d08?s=128&d=identicon&r=PG&f=1", "display_name": "jonilyn2730", "link": "https://stackoverflow.com/users/3305492/jonilyn2730"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3583, "favorite_count": 2, "accepted_answer_id": 35331966, "answer_count": 1, "score": 1, "last_activity_date": 1455170775, "creation_date": 1454535850, "last_edit_date": 1455170469, "question_id": 35188334, "link": "https://stackoverflow.com/questions/35188334/color-and-feature-classification-opencv", "title": "Color and feature classification opencv", "body": "<p>I am new to machine learning and currently working on a project. The project is about classifying images based on feature and color attributes. </p>\n\n<p>I have tried classifying images through feature extraction based on the example given in the <a href=\"https://books.google.com.ph/books?id=9uVOCwAAQBAJ&amp;pg=PA213&amp;dq=svm+opencv+python+by+example&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwi04IjGx9zKAhXHG5QKHaXDAcYQ6AEIGjAA#v=onepage&amp;q=svm%20opencv%20python%20by%20example&amp;f=false\" rel=\"nofollow\">OpenCV with Python by Example book</a> (the Dense extractor SIFT descriptor technique to generate a codebook and train SVM to classify the extracted feature) but I haven't tried yet combining both feature and color attributes since the images sampled were gray-scaled during feature extraction. </p>\n\n<p>My questions are:</p>\n\n<ul>\n<li>Is the same technique would apply if I include color, that is, I will create a feature map (gray-scaled; shape attribute) and color histogram map and train SVM for both attributes?</li>\n<li>Or is there a way that SIFT can compute both shape and color attributes in OpenCV?</li>\n</ul>\n"}, {"tags": ["python", "html", "flask", "bokeh", "flask-socketio"], "comments": [{"owner": {"reputation": 815, "user_id": 3261772, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ccccb9d49cda38ba4ab9811f50dc0143?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid K", "link": "https://stackoverflow.com/users/3261772/hamid-k"}, "reply_to_user": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 0, "creation_date": 1454537796, "post_id": 35188305, "comment_id": 58094835, "body": "to get my new data, I can send a request to an executable (data server) running on my machine (e.g. using Command prompt:  dataserver.exe localhost foo [name of my executable followed by my machine name and variable name]). I am new to JS and AJAX requests, can you provide any link to a tutorial which has this type of request, or any similar type of work."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 3716731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5762ab993e86df07404e08adfac3efb6?s=128&d=identicon&r=PG&f=1", "display_name": "gdunstone", "link": "https://stackoverflow.com/users/3716731/gdunstone"}, "is_accepted": false, "score": 0, "last_activity_date": 1454541056, "creation_date": 1454541056, "answer_id": 35189575, "question_id": 35188305, "link": "https://stackoverflow.com/questions/35188305/streaming-live-data-in-html5-graphs-and-tables/35189575#35189575", "title": "Streaming live data in HTML5 graphs and tables", "body": "<p>If you are already using d3.js (which I think if you are using bokeh you are) using the d3 timer is more optimal that using setInterval as it doesn't continue to run if the graph is not visible because it uses requestAnimationFrame.\nHowever, setInterval is easier to read in my opinion.</p>\n\n<pre><code>function getData(){\n    $.get( \"ajax/test.html\", function( data ) {\n      $( \".result\" ).html( data );\n    });\n}\n\nvar getDataCallback = function() {\n    return function() {\n        getData();\n        d3.timer(getDataCallback(), 1000);\n        return true;\n    }\n};\n\nd3.timer(getDataCallback(), 10000);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 815, "user_id": 3261772, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ccccb9d49cda38ba4ab9811f50dc0143?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid K", "link": "https://stackoverflow.com/users/3261772/hamid-k"}, "edited": false, "score": 0, "creation_date": 1454602388, "post_id": 35204805, "comment_id": 58127561, "body": "Thanks a lot for your valuable reply."}, {"owner": {"reputation": 815, "user_id": 3261772, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ccccb9d49cda38ba4ab9811f50dc0143?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid K", "link": "https://stackoverflow.com/users/3261772/hamid-k"}, "edited": false, "score": 0, "creation_date": 1454615493, "post_id": 35204805, "comment_id": 58135812, "body": "Do you have any example of implementing WebSocket to the flask webserver to establish the connection for data values? If I use flask-socketio is going to meet my needs?"}, {"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "reply_to_user": {"reputation": 815, "user_id": 3261772, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ccccb9d49cda38ba4ab9811f50dc0143?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid K", "link": "https://stackoverflow.com/users/3261772/hamid-k"}, "edited": false, "score": 1, "creation_date": 1454616215, "post_id": 35204805, "comment_id": 58136222, "body": "Take a look at the example app in the Flask-SocketIO repository: <a href=\"https://github.com/miguelgrinberg/Flask-SocketIO/tree/master/example\" rel=\"nofollow noreferrer\">github.com/miguelgrinberg/Flask-SocketIO/tree/master/example</a>&zwnj;&#8203;. In this app you can see how a client can send a message to the server, or viceversa. This works with HTTP requests (long polling) or WebSocket."}], "tags": [], "owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "is_accepted": true, "score": 2, "last_activity_date": 1454599209, "creation_date": 1454599209, "answer_id": 35204805, "question_id": 35188305, "link": "https://stackoverflow.com/questions/35188305/streaming-live-data-in-html5-graphs-and-tables/35204805#35204805", "title": "Streaming live data in HTML5 graphs and tables", "body": "<p>You really are asking two questions in one. Really, you have two problems here. First, you need a mechanism to periodically give the client access to updated data for your tables and charts. Second, you need the client to incorporate those updates into the page.</p>\n\n<p>For the first problem, you have basically two options. The most traditional one is to send Ajax requests (i.e. requests that run in the background of the page) to the server on a regular interval. The alternative is to enhance your server with WebSocket, then the client can establish a permanent connection and whenever the server has new data it can push it to the client. Which option to use largely depends on your needs. If the frequency of updates is not too high, I would probably use background HTTP requests and not worry about adding Socket.IO to the mix, which has its own challenges. On the other side, if you need sort of a live, constantly updating page, then maybe WebSocket is a good idea.</p>\n\n<p>Once the client has new data, you have to deal with the second problem. The way you deal with that is specific to the tables and charts that you are using. You basically need to write Javascript code that passes these new values that were received from the server into these components, so that the page is updated. Unfortunately there is no automatic way to cause an update. You can obviously throw the current page away and rebuild it from scratch with the new data, but that is not going to look nice, so you should probably find what kind of Javascript APIs these components expose to receive updates.</p>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 815, "user_id": 3261772, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ccccb9d49cda38ba4ab9811f50dc0143?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid K", "link": "https://stackoverflow.com/users/3261772/hamid-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1615, "favorite_count": 0, "closed_date": 1455743797, "accepted_answer_id": 35204805, "answer_count": 2, "score": 0, "last_activity_date": 1454599209, "creation_date": 1454535720, "question_id": 35188305, "link": "https://stackoverflow.com/questions/35188305/streaming-live-data-in-html5-graphs-and-tables", "closed_reason": "Needs more focus", "title": "Streaming live data in HTML5 graphs and tables", "body": "<p>I have developed a python web application using flask microframework.  I have some interactive plots generated by Bokeh and some HTML5 tables.  My question is how I can update my table and graph data on fly? </p>\n\n<p>Should I use threading class and set the timer and then re run my code every couple of seconds and feed updated data entries to the table and graphs? </p>\n\n<p>I also investigated flask-socketIO, but all I found is for sending and receiving Messages, Is there a way to use flask-socketIO for this purpose?</p>\n\n<p>I also worked a little bit with Bokeh-server, should I go that direction? does it mean I need to run two servers? my flask web server and bokeh-server?</p>\n\n<p>I am new to this kind of work. I appreciate if you can explain in detail what I need to do.</p>\n"}, {"tags": ["python", "django", "oauth-2.0"], "comments": [{"owner": {"reputation": 2029, "user_id": 986924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e9ec0190fc31b4fdc73ae52fd919bd0?s=128&d=identicon&r=PG", "display_name": "Ben Graham", "link": "https://stackoverflow.com/users/986924/ben-graham"}, "edited": false, "score": 0, "creation_date": 1454537986, "post_id": 35188286, "comment_id": 58094932, "body": "Does the <code>invalid_client</code> error come from the authorising party or from code on your machine? If the latter, dive into the source and check what conditions raise it; otherwise you could try logging the outgoing request bodies to a file and diff the working and non-working ones."}], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 347815, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41e43070f5959fe1c7ef3eef9717847e?s=128&d=identicon&r=PG", "display_name": "katahdin", "link": "https://stackoverflow.com/users/347815/katahdin"}, "is_accepted": true, "score": 0, "last_activity_date": 1456323570, "creation_date": 1456323570, "answer_id": 35604646, "question_id": 35188286, "link": "https://stackoverflow.com/questions/35188286/requests-oauthlib-oauth2session-succeeds-as-scrips-fails-from-webserver/35604646#35604646", "title": "requests_oauthlib.OAuth2Session succeeds as scrips, fails from webserver", "body": "<p>It turned out that this <a href=\"https://github.com/requests/requests-oauthlib/issues/223\" rel=\"nofollow\">was an issue with <code>requests_oauthlib</code></a>. When I applied the patch <a href=\"https://github.com/requests/requests-oauthlib/issues/211\" rel=\"nofollow\">given here</a>, the error was resolved. This is also fixed in the current master branch.</p>\n"}], "owner": {"reputation": 359, "user_id": 347815, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41e43070f5959fe1c7ef3eef9717847e?s=128&d=identicon&r=PG", "display_name": "katahdin", "link": "https://stackoverflow.com/users/347815/katahdin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 35604646, "answer_count": 1, "score": 0, "last_activity_date": 1456323570, "creation_date": 1454535666, "last_edit_date": 1495540241, "question_id": 35188286, "link": "https://stackoverflow.com/questions/35188286/requests-oauthlib-oauth2session-succeeds-as-scrips-fails-from-webserver", "title": "requests_oauthlib.OAuth2Session succeeds as scrips, fails from webserver", "body": "<p>I followed the examples <a href=\"https://stackoverflow.com/questions/16521486/tutorial-for-using-requests-oauth2\">here</a>, and created a working script that successfully authenticates with Oauth2 and pulls data from a web API. However, when this code runs in a celery task as part of a Django app it fails with a <code>invalid_client</code> error. The code snipit follows.</p>\n\n<pre><code>app_client = BackendApplicationClient(client_id=config.CLIENT_ID)\n\nheaders = {\n    \"Host\": \"api.sitescout.com\",\n    \"Authorization\": config.AUTHORIZATION_HEADER,\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n    \"Accept\": \"application/json\"\n}\n\ntoken_params = {\"grant_type\": \"client_credentials\"}\n\nclient = OAuth2Session(client_id=config.CLIENT_ID, client=app_client) \n</code></pre>\n\n<p>Is there something I should be doing differently to set up the connection from withing a running web application?</p>\n"}, {"tags": ["python", "user-interface", "wxpython"], "comments": [{"owner": {"reputation": 952, "user_id": 5504760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4aed7e450059c1791a5a723feda1cb6?s=128&d=identicon&r=PG&f=1", "display_name": "tjohnson", "link": "https://stackoverflow.com/users/5504760/tjohnson"}, "edited": false, "score": 0, "creation_date": 1454536840, "post_id": 35188282, "comment_id": 58094350, "body": "I&#39;m not sure how the values are being input into your program. If they&#39;re being entered into textboxes, you can intercept keypress events and get the values from them without waiting for a button to be pressed."}], "answers": [{"comments": [{"owner": {"reputation": 765, "user_id": 4893421, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/940968279257885/picture?type=large", "display_name": "kaihami", "link": "https://stackoverflow.com/users/4893421/kaihami"}, "edited": false, "score": 0, "creation_date": 1454782477, "post_id": 35229531, "comment_id": 58203141, "body": "Great tip I haven&#39;t tested yet but for sure it will work =] Thanks a lot"}], "tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": false, "score": 0, "last_activity_date": 1454691436, "creation_date": 1454691436, "answer_id": 35229531, "question_id": 35188282, "link": "https://stackoverflow.com/questions/35188282/default-values-from-wxpython-notebook/35229531#35229531", "title": "Default values from wxPython notebook", "body": "<p>When you create the UI, you can keep the default config in a variable. A dictionary would probably work. Then when you create the tabs, you can pass them a dictionary. Alternatively, you could just save the defaults to a config file and then use Python to read it and load it into the UI. Python can parse csv, json, xml and whatnot right out of the box after all.</p>\n"}], "owner": {"reputation": 765, "user_id": 4893421, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/940968279257885/picture?type=large", "display_name": "kaihami", "link": "https://stackoverflow.com/users/4893421/kaihami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454691436, "creation_date": 1454535650, "question_id": 35188282, "link": "https://stackoverflow.com/questions/35188282/default-values-from-wxpython-notebook", "title": "Default values from wxPython notebook", "body": "<p>I'm really sorry if this question sounds really simple but I couldn't figure out the solution yet...</p>\n\n<p>I'm using wxPython in order to create a GUI. I've used wx.Notebook, and created some tabs, all default configuration are located in the last tab.</p>\n\n<p>My question is, how can I get these default values from the last tab and use it?!? I tried \"pub\" (wx.lib.pubsub), but I only get these default values after an event (e.g. button click). Also there is/are any magic to get these values after user modification without a button click?</p>\n\n<p>Thanks all,</p>\n\n<p>Regards, </p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 5, "creation_date": 1454535665, "post_id": 35188257, "comment_id": 58093726, "body": "You already have a loop. All you have to do is keep a running total, how do you think you could add such a thing to that loop?"}, {"owner": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 0, "creation_date": 1454535951, "post_id": 35188257, "comment_id": 58093866, "body": "Hint : may be a variable that can add up the values as you see them"}, {"owner": {"reputation": 2245, "user_id": 1885713, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/356b2c290d867c0dc7f3e776e89937fb?s=128&d=identicon&r=PG", "display_name": "Yannis P.", "link": "https://stackoverflow.com/users/1885713/yannis-p"}, "edited": false, "score": 0, "creation_date": 1454536664, "post_id": 35188257, "comment_id": 58094247, "body": "Can you have a list or dict of groceries and loop through them?"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1454558598, "post_id": 35188257, "comment_id": 58101624, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/29189978/computing-shopping-list-total-using-dictionaries\">Computing shopping-list total using dictionaries</a>"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1454558691, "post_id": 35188257, "comment_id": 58101658, "body": "Actually, <a href=\"http://stackoverflow.com/q/19547281\">Loop through 2 dictionaries</a> might be better. And then there&#39;s <a href=\"http://stackoverflow.com/q/29189978\">Computing shopping list total using dictionaries</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1906, "user_id": 525913, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c5d86731876da6288c36bd1e58eeb9ac?s=128&d=identicon&r=PG", "display_name": "ViennaMike", "link": "https://stackoverflow.com/users/525913/viennamike"}, "edited": false, "score": 0, "creation_date": 1454538773, "post_id": 35188752, "comment_id": 58095312, "body": "Typo: drop the &#39;s&#39; at the end of stocks, but yes."}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": true, "score": 3, "last_activity_date": 1454538824, "last_edit_date": 1454538824, "creation_date": 1454537442, "answer_id": 35188752, "question_id": 35188257, "link": "https://stackoverflow.com/questions/35188257/determine-cost-of-items-in-one-dictionary-based-on-prices-in-another/35188752#35188752", "title": "Determine cost of items in one dictionary based on prices in another", "body": "<p><code>sum(prices[key] * stock[key] for key in prices)</code></p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 5072579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8055796384ad39ed6c6f7952a0518182?s=128&d=identicon&r=PG&f=1", "display_name": "Lloyd Kirk", "link": "https://stackoverflow.com/users/5072579/lloyd-kirk"}, "is_accepted": false, "score": 1, "last_activity_date": 1454537896, "creation_date": 1454537896, "answer_id": 35188860, "question_id": 35188257, "link": "https://stackoverflow.com/questions/35188257/determine-cost-of-items-in-one-dictionary-based-on-prices-in-another/35188860#35188860", "title": "Determine cost of items in one dictionary based on prices in another", "body": "<p>Assuming you mean the total of all items in stock, you can store the totals data in a structure that will be easy to key off of later, providing ease of manipulation:</p>\n\n<pre><code>totals = {k:(stock[k] * prices[k]) for k in prices if k in stock}\n\nIn [12]: sum(totals.values())\nOut[12]: 129.0\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 5495971, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a76dbd4e51cd88b441bc86f44040a32?s=128&d=identicon&r=PG&f=1", "display_name": "rez", "link": "https://stackoverflow.com/users/5495971/rez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 0, "accepted_answer_id": 35188752, "answer_count": 2, "score": 4, "last_activity_date": 1454558636, "creation_date": 1454535533, "last_edit_date": 1454558636, "question_id": 35188257, "link": "https://stackoverflow.com/questions/35188257/determine-cost-of-items-in-one-dictionary-based-on-prices-in-another", "title": "Determine cost of items in one dictionary based on prices in another", "body": "<p>Here I have a program that gives a total price of individual groceries by multiplying price and stock. But what should I use to find the total price of all groceries combined?     </p>\n\n<pre><code>total = 0\nprices = {\n    \"banana\" : 4,\n    \"apple\" : 2,\n    \"orange\" : 1.5,\n    \"pear\" : 3\n}\n\nstock = {\n    \"banana\" : 9,\n    \"apple\" : 0,\n    \"orange\" : 18,\n    \"pear\" : 22\n}\n\nfor i in prices:\n    print (i.title())\n    print (\"Price:\", prices[i])\n    print (\"Stock:\", stock[i])\n    print (\"=================\")\n\nfor key in prices:\n    print(key.title() + \" Total Price:\" , prices[key]*stock[key])\n</code></pre>\n"}, {"tags": ["python", "database", "class"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 2, "creation_date": 1454535681, "post_id": 35188240, "comment_id": 58093730, "body": "A class with <code>running</code>, <code>starting</code>, and <code>stopping</code> as member variables makes sense to me over a dictionary"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1454536151, "post_id": 35188240, "comment_id": 58093981, "body": "At first I agreed with your premise, but now that I look at it, I&#39;m not sure what the problem is..."}, {"owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "edited": false, "score": 0, "creation_date": 1454536250, "post_id": 35188240, "comment_id": 58094039, "body": "It might be worth cross-slicing this; have <code>RunningSim</code>, <code>StartingSim</code>, <code>StoppingSim</code> each with their own <code>var1</code>, <code>var2</code> ... <code>varN</code>. Then a new type would be a new subclass of <code>Simulation</code>, ie <code>class PausedSim(Simulation):</code>. Can you tell us a bit more about the <i>actual</i> problem you are trying to solve?"}, {"owner": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 0, "creation_date": 1454538046, "post_id": 35188240, "comment_id": 58094959, "body": "Similar to what cricket_007 said, you could use a <code>namedtuple</code> as a light weight solution where you would have a dictionary where each &quot;key&quot; maps to a namedtuple instance (or another dictionary) for each type."}, {"owner": {"reputation": 5095, "user_id": 2022518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9366c006da5aca3fa94f7be13677042d?s=128&d=identicon&r=PG", "display_name": "LetMeSOThat4U", "link": "https://stackoverflow.com/users/2022518/letmesothat4u"}, "edited": false, "score": 0, "creation_date": 1454538351, "post_id": 35188240, "comment_id": 58095110, "body": "It&#39;s not clear what actual problem you are trying to solve here, so it&#39;s hard to tell which would be more pythonic. What I think is that you might want to aim for more maintainable rather and less dependent on particular input vector (in the sense: modifying the code depending on changing the input data). Given such constraints I can only guess that a truth table where var1, var2 .. varN would be columns might be the best option. Again, since I do not know the problem TB solved that&#39;s just speculation."}, {"owner": {"reputation": 73, "user_id": 5759013, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154009676004610/picture?type=large", "display_name": "heimdall116", "link": "https://stackoverflow.com/users/5759013/heimdall116"}, "edited": false, "score": 0, "creation_date": 1454539739, "post_id": 35188240, "comment_id": 58095738, "body": "Thanks guys.  Provided some clarification on the actual project."}], "answers": [{"tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": false, "score": 0, "last_activity_date": 1454550246, "creation_date": 1454550246, "answer_id": 35191052, "question_id": 35188240, "link": "https://stackoverflow.com/questions/35188240/most-pythonic-way-to-assign-several-values-based-on-single-input/35191052#35191052", "title": "Most pythonic way to assign several values based on single input", "body": "<p>How about this? You would create a separate function for each scenario (keeping related data together). The cost would be either making your scenario parameters global (shown here), or perhaps putting them into a dictionary or making them properties of a simple object:</p>\n\n<pre><code>def _build_sim_running():\n    global var1, var2, ... varN\n    var1 = 1\n    var2 = math.pi\n    # ...\n    varN = 'this'\n\ndef _build_sim_starting():\n    global var1, var2, ... varN\n    var1 = 2\n    var2 = 7.0/9\n    # ...\n    varN = 'is an'\n\ndef _build_sim_stopping():\n   global var1, var2, ... varN\n   var1 = 3\n   var2 = 1e-6\n   # ...\n   varN = 'example'\n\nSimulation_builder = {\n    'startup': _build_sim_starting,\n    'shutdown': _build_sim_shutdown,\n    'running': _build_sim_running,\n}\n\ndef build_simulation(type='running'):\n    fn = Simulation_builder[type]\n    fn()\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5759013, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154009676004610/picture?type=large", "display_name": "heimdall116", "link": "https://stackoverflow.com/users/5759013/heimdall116"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1454550246, "creation_date": 1454535470, "last_edit_date": 1454540089, "question_id": 35188240, "link": "https://stackoverflow.com/questions/35188240/most-pythonic-way-to-assign-several-values-based-on-single-input", "title": "Most pythonic way to assign several values based on single input", "body": "<p>I need to assign several variables based on a single user input.  My code has organically evolved into the following structure, and I'd like to upgrade to something more pythonic.</p>\n\n<pre><code>def build_simulation(type='running'):\n  var1 = {'running': 1,       'starting': 2,       'stopping': 3}\n  var2 = {'running': math.pi, 'starting': 7/9,     'stopping': 1e-6}\n  varN = {'running': 'this',  'starting': 'is an', 'stopping': 'example'}\n\n  return other_function(var1[type])+var2[type], text+varN[type]\n</code></pre>\n\n<p>My simulation could end up having <em>several</em> types, and other users may want to add their own types (or variables) later on.  Can anyone suggest a highly pythonic way to set this up for posterity?</p>\n\n<p>So far I have considered building a giant matrix (numpy?  pandas?), or since I've recently discovered the joy of OOP, possibly doing something clever with a Class.</p>\n\n<p>Edit: clarification was requested on the project.  I am generating input decks for an iterative fortran code, where my main() would have the form:</p>\n\n<pre><code>build sim1 from scratch, type='startup'\nrun sim1\nbuild sim2 from sim1 results, type='running'\nrun sim2\nbuild sim3 from sim2 results, type='shutdown'\nrun sim3\nbuild sim4 from sim3 results, type='startup'\nrun sim4\nbuild sim5 from sim4 results, type='Accident Scenario 1'\n</code></pre>\n\n<p>So the goal is to put all the 'type' information in one place so that if other users want to add more, it's all in one spot in the code and it's easy to make the addition.  I also want to use a general method that will make it easy to add additional functionality later as the simulation becomes more complex.</p>\n"}, {"tags": ["python", "django", "django-views", "console.log"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1454535273, "post_id": 35188163, "comment_id": 58093507, "body": "Well, it&#39;s possible that your <code>poBox</code> is just empty string, so <code>print &#39;&#39;</code> wouldn&#39;t show anything. You need to add something more obvious like <code>print &#39;poBox is %s&#39; % poBox</code>."}, {"owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "edited": false, "score": 0, "creation_date": 1454535304, "post_id": 35188163, "comment_id": 58093524, "body": "<code>poBox = request.POST.get(&quot;poBox&quot;,&quot;&quot;)</code> sets the variable <code>poBox</code> to an empty string if the key <code>&#39;poBox&#39;</code> doesn&#39;t exist in the <code>request.POST</code> dictionary, so you are probably just printing an empty string"}, {"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1454535358, "post_id": 35188163, "comment_id": 58093554, "body": "Using a more developed development environment will help you <i>much</i> more than a console ever would"}, {"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 0, "creation_date": 1454535369, "post_id": 35188163, "comment_id": 58093558, "body": "how are you sending the data into the view ? Also, what do you get if you do <code>print request.POST.copy()</code> ?"}, {"owner": {"reputation": 434, "user_id": 4942349, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e3c1639c5f3e04c1ebd60094e42eb59?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Kennedy", "link": "https://stackoverflow.com/users/4942349/jon-kennedy"}, "edited": false, "score": 0, "creation_date": 1454536831, "post_id": 35188163, "comment_id": 58094341, "body": "poBox is not empty.  That item actually works with data.  I was just using it as an example.  I&#39;m passing the data into the view using...                       &lt;form name=&quot;myForm&quot; action=&quot;../../myOtherPage/&quot; method=&quot;post&quot;&gt;"}, {"owner": {"reputation": 434, "user_id": 4942349, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e3c1639c5f3e04c1ebd60094e42eb59?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Kennedy", "link": "https://stackoverflow.com/users/4942349/jon-kennedy"}, "edited": false, "score": 0, "creation_date": 1454538056, "post_id": 35188163, "comment_id": 58094964, "body": "So, yeah.  Turns out &#39;print variableName&#39; does work.  I was looking for the printout in the console.  The data was being printed to the terminal."}], "answers": [{"tags": [], "owner": {"reputation": 1086, "user_id": 1060162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S7uFc.jpg?s=128&g=1", "display_name": "Luca Bezerra", "link": "https://stackoverflow.com/users/1060162/luca-bezerra"}, "is_accepted": false, "score": 3, "last_activity_date": 1454536098, "creation_date": 1454536098, "answer_id": 35188409, "question_id": 35188163, "link": "https://stackoverflow.com/questions/35188163/how-do-i-print-to-cosole-from-views-py/35188409#35188409", "title": "How do I print to cosole from views.py?", "body": "<p>Have you tried using the <a href=\"https://pypi.python.org/pypi/ipdb\" rel=\"nofollow\">ipdb</a>? It's a very nice debugger, with which, after installing, all you need to do is write <code>import ipdb; ipdb.set_trace()</code> right before the line(s) you want to inspect (like adding a breakpoint), and it will pause the execution when the code gets to that line, allowing you to type python instructions into the server's terminal, such as <code>print &lt;variable_name&gt;</code>.</p>\n\n<p>While in the console, you can type in <code>s</code> to step into the next step, <code>n</code> to go to the next instruction and <code>c</code> to continue running the code up until the next breakpoint.</p>\n\n<p>Just remember to remove that line after using it, so your code can run normally.</p>\n"}], "owner": {"reputation": 434, "user_id": 4942349, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e3c1639c5f3e04c1ebd60094e42eb59?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Kennedy", "link": "https://stackoverflow.com/users/4942349/jon-kennedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1663, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454536098, "creation_date": 1454535197, "question_id": 35188163, "link": "https://stackoverflow.com/questions/35188163/how-do-i-print-to-cosole-from-views-py", "title": "How do I print to cosole from views.py?", "body": "<p>I'm using django/python and want to print the value of the variables I'm using.<br>\n'Print vairableName' and 'console.log(variableName)' don't work.\nWhat is the easiest way to view the contents of a variable in the views.py file?</p>\n\n<pre><code>poBox = request.POST.get(\"poBox\",\"\")\nprint poBox\n</code></pre>\n\n<p>Nothing shows up.  Please help.<br>\nI want to view the contents of poBox.<br></p>\n"}, {"tags": ["android", "python", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 5836912, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CqbW2.jpg?s=128&g=1", "display_name": "Steve Hostetler", "link": "https://stackoverflow.com/users/5836912/steve-hostetler"}, "edited": false, "score": 0, "creation_date": 1454606015, "post_id": 35191569, "comment_id": 58129984, "body": "doesn&#39;t work. Getting an &#39;ObjectProperty&#39; is not defined error."}, {"owner": {"reputation": 2513, "user_id": 4725625, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YwH49.png?s=128&g=1", "display_name": "Kwarrtz", "link": "https://stackoverflow.com/users/4725625/kwarrtz"}, "reply_to_user": {"reputation": 164, "user_id": 5836912, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CqbW2.jpg?s=128&g=1", "display_name": "Steve Hostetler", "link": "https://stackoverflow.com/users/5836912/steve-hostetler"}, "edited": false, "score": 0, "creation_date": 1454618377, "post_id": 35191569, "comment_id": 58137491, "body": "@SteveHostetler, add <code>ObjectProperty</code> to your import list. (e.g. <code>from kivy.properties import ObjectProperty</code>)"}], "tags": [], "owner": {"reputation": 2513, "user_id": 4725625, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YwH49.png?s=128&g=1", "display_name": "Kwarrtz", "link": "https://stackoverflow.com/users/4725625/kwarrtz"}, "is_accepted": false, "score": 1, "last_activity_date": 1463802574, "last_edit_date": 1463802574, "creation_date": 1454553959, "answer_id": 35191569, "question_id": 35188127, "link": "https://stackoverflow.com/questions/35188127/keyerror-in-kivy-layout-language/35191569#35191569", "title": "Keyerror in Kivy Layout Language", "body": "<p>The suggested way for doing element linking goes something like this.</p>\n\n<p>KV:</p>\n\n<pre><code>&lt;MainScreen&gt;:\n    widgetscreen: wdscreen\n    FloatLayout:\n        id : wdscreen\n        ...\n</code></pre>\n\n<p>Python:</p>\n\n<pre><code>from kivy.properties import ObjectProperty # don't forget to add the import\n\nclass MainScreen(Screen):\n\n    widgetscreen = ObjectProperty(None)\n    ....\n</code></pre>\n\n<p>Let's take a look at what's happening here. First, in the Python code, we create a class attribute of <code>MainScreen</code>, <code>widgetscreen</code>, which defaults to <code>None</code>. Then, in our KV file, we set that attribute of <code>MainScreen</code> to <code>wdscreen</code>. In KV lang, ids work like variables, so when we set <code>widgetscreen</code> to <code>wdscreen</code>, we're actually setting it to the FloatLayout we defined with id <code>wdscreen</code>. At  runtime, kivy will fill in our Python attribute with the appropriate widget.</p>\n\n<p>With that, you should be able to access <code>widgetscreen</code> from within <code>MainScreen</code> as <code>self.widgetscreen</code>. You don't even need to use <code>ids</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 2513, "user_id": 4725625, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YwH49.png?s=128&g=1", "display_name": "Kwarrtz", "link": "https://stackoverflow.com/users/4725625/kwarrtz"}, "edited": false, "score": 0, "creation_date": 1454618467, "post_id": 35209488, "comment_id": 58137541, "body": "This does solve the issue, however it is usually considered unidiomatic. For most purposes, use of the <code>ids</code> attribute is discouraged."}], "tags": [], "owner": {"reputation": 164, "user_id": 5836912, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CqbW2.jpg?s=128&g=1", "display_name": "Steve Hostetler", "link": "https://stackoverflow.com/users/5836912/steve-hostetler"}, "is_accepted": true, "score": 1, "last_activity_date": 1454612789, "creation_date": 1454612789, "answer_id": 35209488, "question_id": 35188127, "link": "https://stackoverflow.com/questions/35188127/keyerror-in-kivy-layout-language/35209488#35209488", "title": "Keyerror in Kivy Layout Language", "body": "<p>This fixed my problem.</p>\n\n<p>in the python from my original post:</p>\n\n<pre><code>from kivy.clock import mainthread\n</code></pre>\n\n<p>and...</p>\n\n<pre><code>class MainScreen(Screen):\n    @mainthread\n    def on_enter(self):\n</code></pre>\n\n<p>Nothing was wrong with the id reference. The issue was the kv file was loading after the id was referenced. <code>@mainthread</code> makes <code>def on_enter()</code> wait for the kv file to load.  </p>\n"}], "owner": {"reputation": 164, "user_id": 5836912, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CqbW2.jpg?s=128&g=1", "display_name": "Steve Hostetler", "link": "https://stackoverflow.com/users/5836912/steve-hostetler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1290, "favorite_count": 0, "accepted_answer_id": 35209488, "answer_count": 2, "score": 0, "last_activity_date": 1463802574, "creation_date": 1454535094, "question_id": 35188127, "link": "https://stackoverflow.com/questions/35188127/keyerror-in-kivy-layout-language", "title": "Keyerror in Kivy Layout Language", "body": "<p>I'm new to the kivy framework, and I don't think I am correctly understanding how id references between the kv file and the python work. When I coded this in pure python, it worked as expected, but I'm trying to learn to use the layout language. I have Dynamically generated scatter widgets, and I need to add them to a layout.</p>\n\n<p>In the python.</p>\n\n<pre><code>class MainScreen(Screen):\n    def on_enter(self):\n\n        for index in xrange(numberOfWords):\n                genColor = [255, 0, 0]\n                shuffle(genColor)\n                newWordWidget = WordWidget(genColor)\n                if newWordWidget.label.color[0] == 255 and  newWordWidget.label.text != 'red': newWordWidget.trash = True\n                if newWordWidget.label.color[1] == 255 and  newWordWidget.label.text != 'green': newWordWidget.trash = True\n                if newWordWidget.label.color[2] == 255 and  newWordWidget.label.text != 'blue': newWordWidget.trash = True\n                print(\"Trash:\" + str(newWordWidget.trash))\n                newWordWidget.scatter.pos = randint(0, Window.size[0]), randint(0, Window.size[1])\n                self.ids.widgetscreen.add_widget(newWordWidget.scatter)\n</code></pre>\n\n<p>the kv file:</p>\n\n<pre><code>&lt;FloatLayout&gt;:\nScreenManagement:\n    MainScreen:\n&lt;MainScreen&gt;:\n    FloatLayout:\n        id: widgetscreen\n        canvas:\n            Color:\n                rgba: 1, 1, 1, 1\n            Rectangle:\n                pos: self.pos\n                size: self.size\n</code></pre>\n\n<p>I'm getting a keyerror on the line: id: widgetscreen.</p>\n"}, {"tags": ["python", "graph", "shortest-path", "breadth-first-search"], "comments": [{"owner": {"reputation": 2549, "user_id": 5765298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d109e4a14d083bccf645ffd660672e61?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett R", "link": "https://stackoverflow.com/users/5765298/garrett-r"}, "edited": false, "score": 2, "creation_date": 1454535072, "post_id": 35188066, "comment_id": 58093396, "body": "how exactly does it fail? syntax, runtime, time limit exceeded?"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1454535248, "post_id": 35188066, "comment_id": 58093497, "body": "Why do the size of the test cases prevent debugging?"}, {"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1454535264, "post_id": 35188066, "comment_id": 58093504, "body": "How can we know what&#39;s wrong without seeing the test cases?"}, {"owner": {"reputation": 773, "user_id": 5407287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49bdb5440d34f0cb4b0ad6c117e8a04e?s=128&d=identicon&r=PG&f=1", "display_name": "LivingRobot", "link": "https://stackoverflow.com/users/5407287/livingrobot"}, "edited": false, "score": 0, "creation_date": 1454535276, "post_id": 35188066, "comment_id": 58093510, "body": "The answer I get is wrong. There must be a logic error somewhere, but I can&#39;t figure out where it is. I&#39;ve tried creating smaller graphs with cycles, a root that accesses every node, but all of those seem to work fine."}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454535728, "post_id": 35188066, "comment_id": 58093755, "body": "Very few people are going to read through all your question and all your code. If you want to increase your chances of getting an answer, I suggest you add a simple example that demonstrates the problem"}, {"owner": {"reputation": 773, "user_id": 5407287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49bdb5440d34f0cb4b0ad6c117e8a04e?s=128&d=identicon&r=PG&f=1", "display_name": "LivingRobot", "link": "https://stackoverflow.com/users/5407287/livingrobot"}, "edited": false, "score": 0, "creation_date": 1454536784, "post_id": 35188066, "comment_id": 58094314, "body": "The problem is that the test case that fails is huge. It has 70 nodes and 1988 edges and is correct for many of the nodes, but incorrect for others and I have no idea what the problem is. Sorry for the ambiguity, but I&#39;m not quite sure how to phrase the problem, when I&#39;m not even sure what the problem is myself."}], "answers": [{"comments": [{"owner": {"reputation": 773, "user_id": 5407287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49bdb5440d34f0cb4b0ad6c117e8a04e?s=128&d=identicon&r=PG&f=1", "display_name": "LivingRobot", "link": "https://stackoverflow.com/users/5407287/livingrobot"}, "edited": false, "score": 0, "creation_date": 1454563012, "post_id": 35189457, "comment_id": 58103013, "body": "Awesome. Thanks so much."}], "tags": [], "owner": {"reputation": 5183, "user_id": 3155195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96fb82a06f0a269039e913211ac44fcd?s=128&d=identicon&r=PG&f=1", "display_name": "zehnpaard", "link": "https://stackoverflow.com/users/3155195/zehnpaard"}, "is_accepted": true, "score": 1, "last_activity_date": 1454540509, "creation_date": 1454540509, "answer_id": 35189457, "question_id": 35188066, "link": "https://stackoverflow.com/questions/35188066/programming-a-bfs-shortest-path-in-python/35189457#35189457", "title": "Programming a BFS - Shortest Path - in Python", "body": "<p><strong>Edit: the original 'problem' condition I identified was wrong, corrected now</strong> </p>\n\n<p>There's a problem with how you set <code>counter</code> and <code>levels</code>.</p>\n\n<p>Assuming <code>R</code> is the root node, <code>A</code>, <code>B</code> and <code>C</code> are other nodes, your code is currently having an issue when</p>\n\n<pre><code>R &lt;-&gt; A\nA &lt;-&gt; B\nR &lt;-&gt; B\nB &lt;-&gt; C\n</code></pre>\n\n<p>And the relationships are evaluated in that order.  It thinks the shortest path from R to C is R -> A -> B -> C rather than R -> B -> C.</p>\n\n<p>You can reproduce the issue by reordering your example input set:</p>\n\n<blockquote>\n  <p>1<br>\n  5 8<br>\n  1 2<br>\n  1 3  # Moved this and<br>\n  1 4  # this up<br>\n  3 4<br>\n  4 5<br>\n  5 2<br>\n  2 4<br>\n  2 3<br>\n  3  </p>\n</blockquote>\n\n<p>This changes your output such that the distance of the <code>5</code> node becomes 18 not 12.</p>\n\n<p>I <em>think</em> the solution is to just put the <code>levels[v] = counter</code> inside the conditional block, i.e.</p>\n\n<pre><code>for v in nbrsList:\n    if v not in fringe and v not in marked:\n        levels[v] = counter\n        distances[v] = 6*counter\n        fringe += [v]\n</code></pre>\n"}], "owner": {"reputation": 773, "user_id": 5407287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/49bdb5440d34f0cb4b0ad6c117e8a04e?s=128&d=identicon&r=PG&f=1", "display_name": "LivingRobot", "link": "https://stackoverflow.com/users/5407287/livingrobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1137, "favorite_count": 0, "accepted_answer_id": 35189457, "answer_count": 1, "score": -1, "last_activity_date": 1454540509, "creation_date": 1454534900, "last_edit_date": 1454536487, "question_id": 35188066, "link": "https://stackoverflow.com/questions/35188066/programming-a-bfs-shortest-path-in-python", "title": "Programming a BFS - Shortest Path - in Python", "body": "<p>I'm new to Python and am trying to write a BFS to return a shortest path of a graph. The length of each edge is 6. </p>\n\n<p>Note: This is a problem on HackerRank.</p>\n\n<p>My code works for 3 out of 6 of the testcases, but fails the other 3. I have no idea why and can't really debug as the testcases are too big.</p>\n\n<p>My code is :</p>\n\n<pre><code># Enter your code here. Read input from STDIN. Print output to STDOUT    \n\ndef shortestPath():\n    testCases = int(raw_input())\n\n    for a in range(testCases):\n        nodes,edges = raw_input().strip().split(' ')\n        numNodes,edges = [int(nodes), int(edges)]\n\n        edgeList = []\n\n        # input data\n        for b in range(edges):\n            a,b = raw_input().strip().split(' ')\n            a,b = [int(a), int(b)]\n            edgeList += [[a,b]]\n        root = int(raw_input())\n\n        marked = [] # what I've checked\n        fringe = [root] # things to check\n        distances = {} # what to return\n        levels = {root: 0} # the level of each element\n        counter = 1\n\n        # do the BFS\n        while fringe != []:\n            node = fringe[0]\n            fringe.remove(node)\n            marked += [node]\n            if counter &gt; levels[node] + 1:\n                counter = levels[node] + 1\n            nbrsList = Nbrs(node, edgeList)\n            for v in nbrsList:\n                levels[v] = counter\n                if v not in fringe and v not in marked:\n                    distances[v] = 6*counter\n                    fringe += [v]\n            counter += 1\n\n        listOfNodes = nodeList(edgeList, numNodes)\n\n        for node in listOfNodes:\n            if node != root:\n                if node in distances:\n                    print distances[node],\n                else:\n                    print -1,  \n        print \"\"\n    print \"\"\n\ndef nodeList(edges, numNodes):\n    nodes = []\n    for edge in edges:\n        for element in edge:\n            if element not in nodes:\n                nodes += [element]\n    nodes.sort()\n\n    for x in range(1,numNodes+1):\n        if x not in nodes:\n            nodes += [x]\n    nodes.sort()\n    return nodes\n\n\ndef Nbrs(node, edges):\n    tempList = []\n    for edge in edges:\n        if node in edge:\n            for element in edge:\n                if element != node:\n                    tempList += [element]\n    return tempList\n</code></pre>\n\n<p>For example, I used the test case of:</p>\n\n<blockquote>\n  <p>1<br>\n  5 8<br>\n  1 2<br>\n  3 4<br>\n  4 5<br>\n  5 2<br>\n  2 4<br>\n  2 3<br>\n  1 3<br>\n  1 4<br>\n  3  </p>\n</blockquote>\n\n<p>where the first line is the number of testcases, the second line is number of nodes, number of edges, the remaining n-1 lines are edges, and the last line is the root.</p>\n\n<p>This works perfectly well. I try and change it to everything I can think of and it seems to work. Yet with the site's testcase of 70 nodes and 1988 edges, my answer is too high for many of the nodes.</p>\n\n<p>Any and all help would be greatly appreciated.</p>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["python", "arrays", "list", "numpy", "pandas"], "comments": [{"owner": {"reputation": 17712, "user_id": 3006737, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/14b6a3de9f9c17458ca7bd80b0dc9548?s=128&d=identicon&r=PG&f=1", "display_name": "Yahya Uddin", "link": "https://stackoverflow.com/users/3006737/yahya-uddin"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454534935, "post_id": 35187998, "comment_id": 58093322, "body": "I&#39;m not sure what a mask is"}], "answers": [{"comments": [{"owner": {"reputation": 17712, "user_id": 3006737, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/14b6a3de9f9c17458ca7bd80b0dc9548?s=128&d=identicon&r=PG&f=1", "display_name": "Yahya Uddin", "link": "https://stackoverflow.com/users/3006737/yahya-uddin"}, "edited": false, "score": 0, "creation_date": 1454534872, "post_id": 35188043, "comment_id": 58093284, "body": "The column indexes are not named! They are imported from a CSV and are accessed by index number"}], "tags": [], "owner": {"reputation": 221, "user_id": 3737529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2712e5192e011ce96327eecc64da3e5e?s=128&d=identicon&r=PG&f=1", "display_name": "komaromy", "link": "https://stackoverflow.com/users/3737529/komaromy"}, "is_accepted": false, "score": 0, "last_activity_date": 1454534970, "last_edit_date": 1454534970, "creation_date": 1454534833, "answer_id": 35188043, "question_id": 35187998, "link": "https://stackoverflow.com/questions/35187998/how-do-i-filter-a-panda-dataframe-based-on-a-simple-criteria-in-python/35188043#35188043", "title": "How do I filter a Panda dataframe based on a simple criteria in Python?", "body": "<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'a': [0, 0, 2, 1], 'b': [10, 5, 5, 2], 'c': [15, 16, 92, 2]})\nzero_rows = df[df.iloc[:, 0] == 0]\n</code></pre>\n\n<p>To index by the column name instead:  </p>\n\n<pre><code>zero_rows = df[df['a'] == 0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "is_accepted": true, "score": 3, "last_activity_date": 1454535251, "creation_date": 1454535251, "answer_id": 35188179, "question_id": 35187998, "link": "https://stackoverflow.com/questions/35187998/how-do-i-filter-a-panda-dataframe-based-on-a-simple-criteria-in-python/35188179#35188179", "title": "How do I filter a Panda dataframe based on a simple criteria in Python?", "body": "<p>Just use the index of the column, like so:</p>\n\n<pre><code>In [3]: df = DataFrame([[0,1,2], [0,2,3], [1,2,3]])\n\nIn [4]: df\nOut[4]:\n   0  1  2\n0  0  1  2\n1  0  2  3\n2  1  2  3\n\nIn [5]: df[0]\nOut[5]:\n0    0\n1    0\n2    1\nName: 0, dtype: int64\n\nIn [6]: df[df[0]==0]\nOut[6]:\n   0  1  2\n0  0  1  2\n1  0  2  3\n</code></pre>\n"}], "owner": {"reputation": 17712, "user_id": 3006737, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/14b6a3de9f9c17458ca7bd80b0dc9548?s=128&d=identicon&r=PG&f=1", "display_name": "Yahya Uddin", "link": "https://stackoverflow.com/users/3006737/yahya-uddin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 35188179, "answer_count": 2, "score": 0, "last_activity_date": 1454535251, "creation_date": 1454534610, "question_id": 35187998, "link": "https://stackoverflow.com/questions/35187998/how-do-i-filter-a-panda-dataframe-based-on-a-simple-criteria-in-python", "title": "How do I filter a Panda dataframe based on a simple criteria in Python?", "body": "<p>Simple Question!</p>\n\n<p>I have a Panda Dataframe.</p>\n\n<p>How do I create a new array (dataframe, numpy array or list) that selects all the data on the original dataframe with the value \"0\" on the first column.</p>\n\n<p>For example If I had:</p>\n\n<pre><code>0, 10, 15\n0, 5, 16\n2, 5, 9\n1, 2, 2\n</code></pre>\n\n<p>I will have a new filtered list:</p>\n\n<pre><code>0, 10, 15\n0, 5, 16 \n</code></pre>\n"}, {"tags": ["python", "api", "rest", "flask"], "comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1454534733, "post_id": 35187988, "comment_id": 58093209, "body": "I assume your <code>return</code> is actually indented..."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1454534871, "post_id": 35187988, "comment_id": 58093282, "body": "what do you find in your apache (error) logs?"}, {"owner": {"reputation": 1, "user_id": 5880084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74bfc5eea69738dba8a8aa10df16a65c?s=128&d=identicon&r=PG&f=1", "display_name": "loadthecode", "link": "https://stackoverflow.com/users/5880084/loadthecode"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1454534881, "post_id": 35187988, "comment_id": 58093292, "body": "In my python file, it is indented properly."}, {"owner": {"reputation": 1, "user_id": 5880084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74bfc5eea69738dba8a8aa10df16a65c?s=128&d=identicon&r=PG&f=1", "display_name": "loadthecode", "link": "https://stackoverflow.com/users/5880084/loadthecode"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1454535215, "post_id": 35187988, "comment_id": 58093479, "body": "Under the log section, in cpanel, the Error Log is empty."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1454535653, "post_id": 35187988, "comment_id": 58093717, "body": "Try creating a super simple script that just echoes - like <a href=\"https://gist.github.com/waynew/3db08ae053b9e9940ae5\" rel=\"nofollow noreferrer\">this one</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1292, "user_id": 3342969, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/38bd00e268ca77b819a45b73d2a09cba?s=128&d=identicon&r=PG&f=1", "display_name": "Ejaz", "link": "https://stackoverflow.com/users/3342969/ejaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1464930987, "creation_date": 1464930987, "answer_id": 37606426, "question_id": 35187988, "link": "https://stackoverflow.com/questions/35187988/deploying-flask-rest-api-using-shared-hosting/37606426#37606426", "title": "Deploying Flask Rest API using Shared Hosting", "body": "<p>Not sure if you got the solution, but for records-</p>\n\n<p>if you have your virtual environment set, then you will have to add these lines in your <code>restapplication.py</code> to point to the <code>site-packages</code>, so that your code can access <code>Flask</code> library.</p>\n\n<pre><code>import os\nimport sys\nsys.path.insert(0, '/home/username/public_html/cgi-bin/myenv/lib/python2.6/site-packages')\n</code></pre>\n\n<p>Rest everything looks okay.</p>\n\n<p>Maybe you can check the file permissions of the <code>.cgi</code> file and <code>.py</code> file. The file permissions should be <strong>755</strong>.</p>\n\n<p>refer : <a href=\"http://www.comfycoder.com/home/how_to_deploy_a_flask_app_in_apache_shared_hosting\" rel=\"nofollow\">http://www.comfycoder.com/home/how_to_deploy_a_flask_app_in_apache_shared_hosting</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5880084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74bfc5eea69738dba8a8aa10df16a65c?s=128&d=identicon&r=PG&f=1", "display_name": "loadthecode", "link": "https://stackoverflow.com/users/5880084/loadthecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1015, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464930987, "creation_date": 1454534599, "last_edit_date": 1495540367, "question_id": 35187988, "link": "https://stackoverflow.com/questions/35187988/deploying-flask-rest-api-using-shared-hosting", "title": "Deploying Flask Rest API using Shared Hosting", "body": "<p>I'm having trouble deploying my REST API and keep getting a 500 Internal Server Error. I've gone through several possible solutions and guides to fix this problem, including those below:</p>\n\n<p><a href=\"http://flask.pocoo.org/docs/0.10/deploying/cgi/\" rel=\"nofollow noreferrer\">http://flask.pocoo.org/docs/0.10/deploying/cgi/</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/18259435/deploy-flask-application-on-11-shared-hosting-with-cgi\">Deploy flask application on 1&amp;1 shared hosting (with CGI)</a></p>\n\n<p>and was following this guide:</p>\n\n<p><a href=\"http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask\" rel=\"nofollow noreferrer\">http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask</a></p>\n\n<p>Here is my code:</p>\n\n<p>restapplication.py</p>\n\n<pre><code>#!/home/myusername/public_html/todo-api/flask/bin/python\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    return \"Hello, World!\"\n</code></pre>\n\n<p>run.cgi</p>\n\n<pre><code>#!/home/myusername/public_html/todo-api/flask/bin/python\n\nimport cgitb; cgitb.enable()\nfrom wsgiref.handlers import CGIHandler\nfrom restapplication import app\n\nCGIHandler().run(app)\n</code></pre>\n\n<p>.htaccess (stored at /home/myusername/public_html/)</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteRule ^(.*)$ /home/myusername/public_html/todo-api/flask/run.cgi/$1            [L]\n</code></pre>\n\n<p>I appreciate all the help I can get.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1454957169, "post_id": 35188568, "comment_id": 58265439, "body": "This is a solid approach."}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": true, "score": 2, "last_activity_date": 1454536686, "creation_date": 1454536686, "answer_id": 35188568, "question_id": 35187963, "link": "https://stackoverflow.com/questions/35187963/python-pandas-melt-groups-of-initial-columns-into-multiple-target-columns/35188568#35188568", "title": "Python Pandas Melt Groups of Initial Columns Into Multiple Target Columns", "body": "<p>This should work for your example, if your columns follow the pattern in your example data frame:</p>\n\n<pre><code>pd.concat((pd.DataFrame({'des':df.iloc[:,i], \n                         'interval':df.iloc[:,i+3]}) \n             for i in range(3)))\n</code></pre>\n\n<p>If the pairs are different, you can use this pattern, but iterate through a list </p>\n\n<pre><code>tuples = [(0,3),(1,4),(2,5)]\n\npd.concat((pd.DataFrame({'des':df.iloc[:,i], \n                          'interval':df.iloc[:,j]}) \n             for i,j in tuples))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "is_accepted": false, "score": 0, "last_activity_date": 1454539122, "creation_date": 1454539122, "answer_id": 35189159, "question_id": 35187963, "link": "https://stackoverflow.com/questions/35187963/python-pandas-melt-groups-of-initial-columns-into-multiple-target-columns/35189159#35189159", "title": "Python Pandas Melt Groups of Initial Columns Into Multiple Target Columns", "body": "<p>I guess I found an ugly way to do that!</p>\n\n<pre><code>In [12]: pd.DataFrame(\n             data={'desc': df.values[..., 0:3].ravel(),\n                   'interval':df.values[..., 3:6].ravel()},\n             index = pd.np.ravel([[i]*3 for i in df.index]))\nOut[12]: \n    desc interval\naaa    a      ##1\naaa    b      ##2\naaa    c      ##3\nbbb    d      ##4\nbbb    e      ##5\nbbb    f      ##6\nccc    g      ##7\nccc    h      ##8\nccc    i      ##9\n</code></pre>\n\n<p>But i'm pretty sure there is more elegant way using some other functions like <code>pandas.MultiIndex</code> (to group your interval1, interval2 and interval3 columns in an \"interval\" levels) and/or <code>pandas.melt</code> (or maybe the <code>stack</code>\u00a0method)</p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 4195021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c971a31e188070d1bced728d4579f0?s=128&d=identicon&r=PG&f=1", "display_name": "kcdgkn", "link": "https://stackoverflow.com/users/4195021/kcdgkn"}, "is_accepted": false, "score": 2, "last_activity_date": 1521026936, "creation_date": 1521026936, "answer_id": 49276625, "question_id": 35187963, "link": "https://stackoverflow.com/questions/35187963/python-pandas-melt-groups-of-initial-columns-into-multiple-target-columns/49276625#49276625", "title": "Python Pandas Melt Groups of Initial Columns Into Multiple Target Columns", "body": "<p>I know this has been answered already, but:</p>\n\n<pre><code>&gt;&gt;&gt; df\n      des1 des2 des3 interval1 interval2 interval3\nvalue                                             \naaa      a    b    c       ##1       ##2       ##3\nbbb      d    e    f       ##4       ##5       ##6\nccc      g    h    i       ##7       ##8       ##9\n\n&gt;&gt;&gt; pd.wide_to_long(df.reset_index(), ['des', 'interval'], i='value', j='id')\n         des interval\nvalue id             \naaa   1    a      ##1\nbbb   1    d      ##4\nccc   1    g      ##7\naaa   2    b      ##2\nbbb   2    e      ##5\nccc   2    h      ##8\naaa   3    c      ##3\nbbb   3    f      ##6\nccc   3    i      ##9\n</code></pre>\n\n<p>Then just use <code>.reset_index(level=1, drop=True)</code> if you want to get rid of the id column.</p>\n"}], "owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1684, "favorite_count": 1, "accepted_answer_id": 35188568, "answer_count": 3, "score": 2, "last_activity_date": 1521026936, "creation_date": 1454534488, "last_edit_date": 1495539946, "question_id": 35187963, "link": "https://stackoverflow.com/questions/35187963/python-pandas-melt-groups-of-initial-columns-into-multiple-target-columns", "title": "Python Pandas Melt Groups of Initial Columns Into Multiple Target Columns", "body": "<p>I have a need to melt groups of initial columns into multiple target columns in a dataset that is not normalized well.  Here is an example (from this question <a href=\"https://stackoverflow.com/questions/32105368/pandas-dataframe-reshaping-stacking-of-multiple-value-variables-into-seperate-co\">pandas dataframe reshaping/stacking of multiple value variables into seperate columns</a>):</p>\n\n<pre><code>         des1 des2 des3 interval1 interval2 interval3\nvalue   \naaa       a    b    c     ##1         ##2       ##3\nbbb       d    e    f     ##4         ##5       ##6\nccc       g    h    i     ##7         ##8       ##9\n</code></pre>\n\n<p>I am trying to melt this into something like this orientation:</p>\n\n<pre><code>         des      interval\nvalue   \naaa       a         ##1\naaa       b         ##2\naaa       c         ##3\nbbb       d         ##4\nbbb       e         ##5\nbbb       f         ##6\nccc       g         ##7\nccc       h         ##8\nccc       i         ##9\n</code></pre>\n\n<p>I was hoping to use melt instead of stack to avoid manually subsetting a lot of data.  Here is what I have started out with thus far:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport fnmatch\n\ncolumn_list = list(df_initial.columns.values)\n\nquestion_sources = [c for c in fnmatch.filter(column_list, \"measure*question*source\")]     \nquestion_ranks = [c for c in fnmatch.filter(column_list, \"measure*rank\")]\nquestion_targets = [c for c in fnmatch.filter(column_list, \"measure*targeted\")]\nquestion_statuses = [c for c in fnmatch.filter(column_list, \"measure*status\")]\n\nplace = [c for c in fnmatch.filter(column_list, \"place\")]\nmeasure_statuses = [c for c in fnmatch.filter(column_list, \"measureInfo_status\")]\n\nstarter_list = place + measure_statuses\n\ndf_gpro_melt_1 = (pd.melt(df_initial, id_vars=starter_list,      \n                    value_vars=question_sources, var_name=\"question_sources\", \n                    value_name=\"question_sources_values\"))      \n</code></pre>\n\n<p>Is it possible to melt groups of initial columns into multiple target columns?  Any advice is much appreciated. </p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454534290, "post_id": 35187883, "comment_id": 58092977, "body": "run it through a dom parser. most dom parsers are picky and will barf if the html is malformed."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1454534317, "post_id": 35187883, "comment_id": 58092989, "body": "Just read the document character for character, when you encounter a <code>&lt;</code>, start \u201clistening\u201d until you see the end of the tag name (a space or a <code>&gt;</code>). Then put that name on a stack. If you encounter a tag name that starts with a <code>&#47;</code>, then you want to remove the top element from the stack. If the top element didn\u2019t have the same name, then the document was malformed. Finally, note that HTML (as a subset of SGML) does not require closing tags, only XHTML (as a subset of XML) does. So you cannot use this for arbitrary HTML documents."}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1454534396, "post_id": 35187883, "comment_id": 58093032, "body": "What makes you think a stack is the right tool?  I&#39;m not saying it isn&#39;t, but you seem pretty sure for someone who has no idea how to start."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1454534454, "post_id": 35187883, "comment_id": 58093063, "body": "@ScottHunter It sounds to me as if OP wanted to apply the stack idea on a HTML/XML structure, as an exercise. That sounds totally fine to me."}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "reply_to_user": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1454534606, "post_id": 35187883, "comment_id": 58093148, "body": "@poke: I didn&#39;t say it wasn&#39;t, but explaining <i>why</i> is a useful precursor to figuring out <i>how</i>."}], "answers": [{"tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": false, "score": 4, "last_activity_date": 1454534665, "creation_date": 1454534665, "answer_id": 35188008, "question_id": 35187883, "link": "https://stackoverflow.com/questions/35187883/check-an-html-document-for-proper-opening-and-closing-tags/35188008#35188008", "title": "Check an HTML document for proper opening and closing tags", "body": "<p>If you want to approach the problem this way, think about what you did before:</p>\n\n<p>You used a stack to keep track of <code>(</code>, <code>[</code>, or <code>{</code>.</p>\n\n<p>What's the difference between <code>(</code> and <code>&lt;html&gt;</code>? One of these is just a collection of characters. So change your code - instead of reading a single character and placing that on the stack, read the <em>tag</em> and place that on the stack instead.</p>\n\n<p>You may also want to decide if you want to ensure that you've got some valid(ish) HTML - i.e. what happens if you encounter <code>&lt;&lt;html&gt;</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 190, "user_id": 4314686, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--FaPZrwa3_c/AAAAAAAAAAI/AAAAAAAAAEU/C5dmz6jEK84/photo.jpg?sz=128", "display_name": "Marc LaQuay", "link": "https://stackoverflow.com/users/4314686/marc-laquay"}, "edited": false, "score": 0, "creation_date": 1542460277, "post_id": 48382519, "comment_id": 93580877, "body": "Thank you, but <code>for w in text.split():</code> should be <code>for w in y.split():</code>"}], "tags": [], "owner": {"reputation": 41, "user_id": 9215077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a147e3c66a13a367c6b0af24a094340b?s=128&d=identicon&r=PG&f=1", "display_name": "J.Michael", "link": "https://stackoverflow.com/users/9215077/j-michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1516627096, "creation_date": 1516627096, "answer_id": 48382519, "question_id": 35187883, "link": "https://stackoverflow.com/questions/35187883/check-an-html-document-for-proper-opening-and-closing-tags/48382519#48382519", "title": "Check an HTML document for proper opening and closing tags", "body": "<pre><code>#Old interesting question:use usual stack for pop, push, and peek \n#inserted space for each \"&gt;x\" and \"x&lt;\" where x is any char, \nimport re\ntext='''&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;\nExample\n&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Hello, world&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;''' \ndef check_html_balance(text):\n    s=Stack()\n    x=text.replace('&lt;', ' &lt;'); y=x.replace('&gt;', '&gt; ')\n    a=[w for w in y.split() if re.search('&lt;\\S+&gt;',w)]\n    b=[w for w in a if \"/\" not in w]\n    c=[w for w in a if \"/\"  in w]\n    for w in text.split():\n        if w in b:\n            s.push(w)\n        elif not s.is_empty() and (w in c) and (w.replace('/','')==s.peek()):                               \n            s.pop()\n    return s.is_empty()\ncheck_html_balance(text)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9215077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a147e3c66a13a367c6b0af24a094340b?s=128&d=identicon&r=PG&f=1", "display_name": "J.Michael", "link": "https://stackoverflow.com/users/9215077/j-michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1516765392, "last_edit_date": 1516765392, "creation_date": 1516723991, "answer_id": 48406210, "question_id": 35187883, "link": "https://stackoverflow.com/questions/35187883/check-an-html-document-for-proper-opening-and-closing-tags/48406210#48406210", "title": "Check an HTML document for proper opening and closing tags", "body": "<pre><code>    # A second, shorter solution without replacing \"x&lt;\" by \"x &lt;\"...  \n    text='''&lt;html&gt;\n    &lt;head&gt;\n    &lt;title&gt;\n    Example\n    &lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;h1&gt;Hello, world&lt;/h1&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;''' \n    import re\n    def check_balance(text):\n    L=re.split('(&lt;[^&gt;]*&gt;)', text)[1::2]\n    s=Stack()\n    for word in L:\n        if ('/' not in word):\n            s.push(word)\n        elif not s.is_empty() and (word.replace('/','')==s.peek()):                               \n            s.pop()\n    return s.is_empty()\ncheck_balance(text)    \n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5484465, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0964cd5ce9a093fb423ccc5df6495b6f?s=128&d=identicon&r=PG&f=1", "display_name": "djmistaspot", "link": "https://stackoverflow.com/users/5484465/djmistaspot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1924, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1516765392, "creation_date": 1454534183, "question_id": 35187883, "link": "https://stackoverflow.com/questions/35187883/check-an-html-document-for-proper-opening-and-closing-tags", "title": "Check an HTML document for proper opening and closing tags", "body": "<p>I have been learning about stacks (which I created a class for) in Python lately and I learned that you can use them to check if parentheses are balanced, which is each opening symbol has a corresponding closing symbol and the pairs of parentheses are properly nested.</p>\n\n<p>Now I am trying to use a stack to do the same but with HTML. So for example, my program would take the following document-</p>\n\n<pre><code>&lt;html&gt; \n   &lt;head&gt;\n     &lt;title&gt;\n        Example\n     &lt;/title&gt;\n   &lt;/head&gt;\n\n   &lt;body&gt;\n      &lt;h1&gt;Hello, world&lt;/h1&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and check it to make sure that it has proper opening and closing tags. </p>\n\n<p>I just don't even have an idea on where to start and I'm very confused. Any help is appreciated.</p>\n"}, {"tags": ["python", "pandas", "duplicates", "dataframe"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1454534159, "post_id": 35187830, "comment_id": 58092895, "body": "don&#39;t you want <code>df[(df[col1].isin(cond1)) &amp; (df[col2].isin(cond2))].reset_index(drop=True)</code>?"}, {"owner": {"reputation": 938, "user_id": 1964692, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/dBSCt.jpg?s=128&g=1", "display_name": "Korean_Of_the_Mountain", "link": "https://stackoverflow.com/users/1964692/korean-of-the-mountain"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1454535230, "post_id": 35187830, "comment_id": 58093487, "body": "<code>cond1</code> is never a list so I didn&#39;t use <code>isin</code> before. In any case, I tried using <code>isin</code> for both conditions and I still get same result."}], "answers": [{"comments": [{"owner": {"reputation": 938, "user_id": 1964692, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/dBSCt.jpg?s=128&g=1", "display_name": "Korean_Of_the_Mountain", "link": "https://stackoverflow.com/users/1964692/korean-of-the-mountain"}, "edited": false, "score": 0, "creation_date": 1454537910, "post_id": 35188277, "comment_id": 58094885, "body": "Hmm I&#39;m not sure how this answers my question. I can see that you&#39;re changing the values of certain rows using <code>ix</code>, but I don&#39;t see how that helps me."}, {"owner": {"reputation": 11191, "user_id": 5224926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f280a3c82415bdba68680536e277e19b?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/5224926/randy"}, "reply_to_user": {"reputation": 938, "user_id": 1964692, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/dBSCt.jpg?s=128&g=1", "display_name": "Korean_Of_the_Mountain", "link": "https://stackoverflow.com/users/1964692/korean-of-the-mountain"}, "edited": false, "score": 0, "creation_date": 1454545229, "post_id": 35188277, "comment_id": 58097771, "body": "It&#39;s not changing any values; it&#39;s selecting them. I just happened to pick 5 again. See edit in a sec."}], "tags": [], "owner": {"reputation": 11191, "user_id": 5224926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f280a3c82415bdba68680536e277e19b?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/5224926/randy"}, "is_accepted": false, "score": 0, "last_activity_date": 1454545793, "last_edit_date": 1454545793, "creation_date": 1454535629, "answer_id": 35188277, "question_id": 35187830, "link": "https://stackoverflow.com/questions/35187830/python-pandas-dataframe-is-not-including-all-duplicates/35188277#35188277", "title": "Python Pandas dataframe is not including all duplicates", "body": "<p>Since you're dropping the index anyway, you can just set the index to be the column you're interested in and use <code>.ix</code> indexing:</p>\n\n<pre><code>In [28]: df = pd.DataFrame(np.arange(25).reshape(5,5))\n\nIn [29]: df\nOut[29]:\n    0   1   2   3   4\n0   0   1   2   3   4\n1   5   6   7   8   9\n2  10  11  12  13  14\n3  15  16  17  18  19\n4  20  21  22  23  24\n\nIn [30]: df.set_index(4, drop=False).ix[[4,4,19,4,24]].reset_index(drop=True)\nOut[30]:\n    0   1   2   3   4\n0   0   1   2   3   4\n1   0   1   2   3   4\n2  15  16  17  18  19\n3   0   1   2   3   4\n4  20  21  22  23  24\n</code></pre>\n\n<p>EDIT: Your current method just finds each distinct col1/col2 pair. If you want to filter on multiple columns, just do it twice, once for each column:</p>\n\n<pre><code>In [98]: df.set_index(1, drop=False).ix[[1, 6, 16]].set_index(4, drop=False).ix[[4,4,4,4,4,4,4,4,19,9]].reset_index(drop=True)\nOut[98]:\n    0   1   2   3   4\n0   0   1   2   3   4\n1   0   1   2   3   4\n2   0   1   2   3   4\n3   0   1   2   3   4\n4   0   1   2   3   4\n5   0   1   2   3   4\n6   0   1   2   3   4\n7   0   1   2   3   4\n8  15  16  17  18  19\n9   5   6   7   8   9\n</code></pre>\n"}], "owner": {"reputation": 938, "user_id": 1964692, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/dBSCt.jpg?s=128&g=1", "display_name": "Korean_Of_the_Mountain", "link": "https://stackoverflow.com/users/1964692/korean-of-the-mountain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454545793, "creation_date": 1454534003, "last_edit_date": 1454537875, "question_id": 35187830, "link": "https://stackoverflow.com/questions/35187830/python-pandas-dataframe-is-not-including-all-duplicates", "title": "Python Pandas dataframe is not including all duplicates", "body": "<p>I'm basically trying to create a Pandas dataframe (<code>CQUAD_mech_loads</code>) that is a subset of a larger dataframe (<code>CQUAD_Mech</code>). This subset dataframe is essentially created by filtering based on two conditions. There are <strong>NO</strong> duplicates in the larger dataframe (<code>CQUAD_Mech</code>). </p>\n\n<p>The problem is that my subset dataframe doesn't include the duplicate ID's in the <code>ELM</code> column. It does, however, include duplicates in the <code>LC</code> column.</p>\n\n<p><code>CQUAD_ELM</code> is a list containing four ID's (<code>[387522, 387522, 387506, 387507]</code>). I have duplicate ID's of <code>387522</code>. Right now, <code>CQUAD_mech_loads</code> is a dataframe with only three rows for the three unique IDs. I want that fourth duplicate ID in there as well.</p>\n\n<p>The code:</p>\n\n<pre><code>def get_df(df, col1, cond1, col2='', cond2=0):\n        return df[(df[col1] == cond1) &amp; (df[col2].isin(cond2))].reset_index(drop=True)\n\nCQUAD_mech_loads = get_df(CQUAD_Mech,'LC', LC, 'ELM', CQUAD_ELM)\n</code></pre>\n\n<p>The output (where is the other line for <code>387522</code>?):</p>\n\n<pre><code>       LC     ELM        FX         FY        FXY       \n0    3113  387506         0          0          0       \n1    3113  387507         0          0          0       \n2    3113  387522         0          0          0  \n</code></pre>\n"}, {"tags": ["python", "postgresql", "sqlalchemy", "temp-tables"], "answers": [{"tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": false, "score": 0, "last_activity_date": 1454538776, "creation_date": 1454538776, "answer_id": 35189075, "question_id": 35187823, "link": "https://stackoverflow.com/questions/35187823/why-do-multiple-connections-from-the-same-sqlalchemy-engine-produce-different-in/35189075#35189075", "title": "Why do multiple connections from the same sqlalchemy engine produce different info?", "body": "<p>Well, this doesn't answer the <em>why</em> but it it is how to accomplish what I want.</p>\n\n<p>Rather than:</p>\n\n<pre><code>pg_conn = engine.raw_connection()\n\nwith pg_conn.cursor() as cursor:\n</code></pre>\n\n<p>Just replace it with:</p>\n\n<pre><code>with conn.connection.cursor() as cursor:\n</code></pre>\n\n<p>The SQLAlchemy connection object <a href=\"http://docs.sqlalchemy.org/en/latest/core/connections.html#sqlalchemy.engine.Connection.connection\" rel=\"nofollow\">exposes its underlying DBAPI connection</a> via the <code>.connection</code> property. And whatever magic involved there does the right thing.</p>\n"}, {"comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1454601854, "post_id": 35203129, "comment_id": 58127155, "body": "Nice. I wasn&#39;t even aware that <code>.create_all(conn)</code> was a thing. Works like a charm, and likely with less magic ;)"}, {"owner": {"reputation": 15476, "user_id": 1104979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/289c98242aae94f44939bf6544f70ebc?s=128&d=identicon&r=PG", "display_name": "Nick Barnes", "link": "https://stackoverflow.com/users/1104979/nick-barnes"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1454624557, "post_id": 35203129, "comment_id": 58140790, "body": "@Wayne: <code>create_all()</code> will accept anything <a href=\"http://docs.sqlalchemy.org/en/latest/core/connections.html#sqlalchemy.engine.Connectable\" rel=\"nofollow noreferrer\"><code>Connectable</code></a>. I&#39;d imagine that this applies to most things which need a database connection."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1489595398, "post_id": 35203129, "comment_id": 72743265, "body": "interesting point of fact - I stumbled across this again with the exact same problem. Future me: You&#39;ll probably have forgotten by now, but you need to use <code>conn = engine.connect(); pg_conn = conn.connection</code> to get at the raw connection, so you can do <code>metadata.create_all(conn)</code> and then use the raw connection later."}], "tags": [], "owner": {"reputation": 15476, "user_id": 1104979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/289c98242aae94f44939bf6544f70ebc?s=128&d=identicon&r=PG", "display_name": "Nick Barnes", "link": "https://stackoverflow.com/users/1104979/nick-barnes"}, "is_accepted": true, "score": 3, "last_activity_date": 1454594664, "creation_date": 1454594664, "answer_id": 35203129, "question_id": 35187823, "link": "https://stackoverflow.com/questions/35187823/why-do-multiple-connections-from-the-same-sqlalchemy-engine-produce-different-in/35203129#35203129", "title": "Why do multiple connections from the same sqlalchemy engine produce different info?", "body": "<p>The first thing to note is that temporary tables are only visible to the connection which created them.</p>\n\n<p>The second is that an <code>Engine</code> doesn't encapsulate a single connection; it manages a <a href=\"http://docs.sqlalchemy.org/en/latest/core/pooling.html\" rel=\"nofollow\">connection <em>pool</em></a>.</p>\n\n<p>Finally, the <a href=\"http://docs.sqlalchemy.org/en/latest/core/connections.html\" rel=\"nofollow\">documentation</a> points out that operations performed directly on an <code>Engine</code> (<code>engine.execute(\"select ...\")</code> in their example) will internally acquire and release their own connections.</p>\n\n<p>With all of this in mind, it's clear what's going on in your example:</p>\n\n<ul>\n<li><code>conn = engine.connect()</code> acquires Connection #1 from the pool.</li>\n<li><code>metadata.create_all(engine)</code> implicitly acquires Connection #2 (as #1 is still \"in use\" from the engine's perspective), uses it to create the table, and releases it back to the pool.</li>\n<li><code>pg_conn = engine.raw_connection()</code> acquires #2 again, so the <code>COPY</code> executed via this object can still see the table.</li>\n<li><code>conn</code> is still using #1, and nothing you do via this object will be able to see your temp table.</li>\n</ul>\n\n<p>In your second case:</p>\n\n<ul>\n<li><code>metadata.create_all(engine)</code> implicitly acquires/uses/releases Connection #1.</li>\n<li><code>conn = engine.connect()</code> acquires #1 and holds it.</li>\n<li><code>pg_conn = engine.raw_connection()</code> acquires #2, and the <code>COPY</code> fails to find the temp table.</li>\n</ul>\n\n<p>The moral of the story: if you're doing something which relies on the connection state, you'd better be sure which connection you're using. Running commands directly on the <code>engine</code> is fine for standalone operations, but for anything involving temp tables, you should acquire one connection and stick with it through every step (including the table creation, which I suggest you change to <code>metadata.create_all(conn)</code>).</p>\n"}], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2517, "favorite_count": 3, "accepted_answer_id": 35203129, "answer_count": 2, "score": 2, "last_activity_date": 1454594664, "creation_date": 1454533987, "last_edit_date": 1454534381, "question_id": 35187823, "link": "https://stackoverflow.com/questions/35187823/why-do-multiple-connections-from-the-same-sqlalchemy-engine-produce-different-in", "title": "Why do multiple connections from the same sqlalchemy engine produce different info?", "body": "<p>I'm using PostgreSQL 9.3, and SQLAlchemy 1.0.11</p>\n\n<p>I have code that looks like this:</p>\n\n<pre><code>import sqlalchemy as sa\n\nengine = sa.create_engine('postgresql+psycopg2://me@myhost/mydb')\nconn = engine.connect()\n\nmetadata = sa.MetaData()\n\n# Real table has more columns\nmytable = sa.Table(\n    'my_temp_table', metadata,\n    sa.Column('id', sa.Integer, primary_key=True),\n    sa.Column('something', sa.String(200)),\n    prefixes=['TEMPORARY'],\n)\n\nmetadata.create_all(engine)\n\npg_conn = engine.raw_connection()\nwith pg_conn.cursor() as cursor:\n    cursor.copy_expert('''COPY my_temp_table (id, something)\n                          FROM STDIN WITH CSV''',\n                       open('somecsvfile', 'r'))\n</code></pre>\n\n<p>Now this works just fine - <code>cursor.rowcount</code> reports the expected number of rows inserted. I can even run <code>cursor.execute('SELECT count(*) FROM my_temp_table'); print(cursor.fetchone())</code> and it will display the same #. The problem is when I try to run a query from SQLAlchemy's connection, e.g</p>\n\n<pre><code>    result = conn.execute(sa.text('SELECT count(*) FROM my_temp_table'))\n</code></pre>\n\n<p>It doesn't matter where I put that. I've tried several places:</p>\n\n<ul>\n<li>inside the with block</li>\n<li>outside the with block</li>\n<li>after a <code>cursor.close()</code></li>\n<li>after a <code>pg_conn.close()</code></li>\n</ul>\n\n<p>Nothing seems to work - no matter where I run the query from, it barfs with:</p>\n\n<pre><code>sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation \"my_temp_table\" does not exist\n</code></pre>\n\n<p>The funny thing is that if I wrap that code in a <code>try/except</code> then I can do <code>cursor.execute(...)</code> in the except block successfully.</p>\n\n<p>Actually, now that I'm writing this out, it appears that using the sqlalchemy connection <em>anywhere</em> fails to see that those tables exists.</p>\n\n<p>So what gives? Why doesn't my SQLAlchemy connection see these tables, but the postgres (<code>engine.raw_connection()</code>) does?</p>\n\n<h2>Edit:</h2>\n\n<p>To further the mystery - if I create the the connection <em>after</em> the <code>metadata.create_all(engine)</code>, it works! Well, sort of.</p>\n\n<p>I can select from the tables, but then when I get the <code>engine.raw_connection()</code> it fails on <code>.copy_expert</code> because it can't find the table.</p>\n"}, {"tags": ["python", "raspberry-pi", "kivy", "touchscreen"], "comments": [{"owner": {"reputation": 1255, "user_id": 3873440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ySfS.jpg?s=128&g=1", "display_name": "goCards", "link": "https://stackoverflow.com/users/3873440/gocards"}, "edited": false, "score": 0, "creation_date": 1454535427, "post_id": 35187749, "comment_id": 58093593, "body": "do you have any python code?"}, {"owner": {"reputation": 151, "user_id": 5671854, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02b761d06c2d070cde52c8f1c765dda2?s=128&d=identicon&r=PG&f=1", "display_name": "AvS", "link": "https://stackoverflow.com/users/5671854/avs"}, "reply_to_user": {"reputation": 1255, "user_id": 3873440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ySfS.jpg?s=128&g=1", "display_name": "goCards", "link": "https://stackoverflow.com/users/3873440/gocards"}, "edited": false, "score": 0, "creation_date": 1454537948, "post_id": 35187749, "comment_id": 58094914, "body": "The issue is code independent. Any program / code generates this icon when a key is pressed"}, {"owner": {"reputation": 1255, "user_id": 3873440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ySfS.jpg?s=128&g=1", "display_name": "goCards", "link": "https://stackoverflow.com/users/3873440/gocards"}, "edited": false, "score": 0, "creation_date": 1454541089, "post_id": 35187749, "comment_id": 58096264, "body": "how did kivy app launch?"}, {"owner": {"reputation": 151, "user_id": 5671854, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02b761d06c2d070cde52c8f1c765dda2?s=128&d=identicon&r=PG&f=1", "display_name": "AvS", "link": "https://stackoverflow.com/users/5671854/avs"}, "reply_to_user": {"reputation": 1255, "user_id": 3873440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ySfS.jpg?s=128&g=1", "display_name": "goCards", "link": "https://stackoverflow.com/users/3873440/gocards"}, "edited": false, "score": 0, "creation_date": 1454571025, "post_id": 35187749, "comment_id": 58106499, "body": "Command line is : python test.kv --size=800x480. After that there is no error message on the screen. It seams kivy launch properly. When I remove line &quot;%(name)s = probesysfs,provider=hidinput&quot; from config.ini the icon is not present but keyyboard is also disabled ;)"}, {"owner": {"reputation": 10298, "user_id": 2484720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/A5sYr.jpg?s=128&g=1", "display_name": "Woody Pride", "link": "https://stackoverflow.com/users/2484720/woody-pride"}, "edited": false, "score": 0, "creation_date": 1454608931, "post_id": 35187749, "comment_id": 58131826, "body": "is that the 3.5 touch screen?"}, {"owner": {"reputation": 151, "user_id": 5671854, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02b761d06c2d070cde52c8f1c765dda2?s=128&d=identicon&r=PG&f=1", "display_name": "AvS", "link": "https://stackoverflow.com/users/5671854/avs"}, "edited": false, "score": 0, "creation_date": 1454616279, "post_id": 35187749, "comment_id": 58136257, "body": "It&#39;s 7&#39;&#39; touch screen"}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 5671854, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02b761d06c2d070cde52c8f1c765dda2?s=128&d=identicon&r=PG&f=1", "display_name": "AvS", "link": "https://stackoverflow.com/users/5671854/avs"}, "is_accepted": false, "score": 3, "last_activity_date": 1454608097, "creation_date": 1454608097, "answer_id": 35208059, "question_id": 35187749, "link": "https://stackoverflow.com/questions/35187749/icon-stays-after-keypress-in-kivy/35208059#35208059", "title": "Icon stays after keypress in Kivy", "body": "<p><strong>Solution #1</strong></p>\n\n<p>.kivy\\config.ini</p>\n\n<pre><code>[modules]\ntouchring = scale=0.3,alpha=0.7,show_cursor=1\n</code></pre>\n\n<p>when I remove it there is no icon on the screen and keyboard and touchscren is working. I hope this will solve this issue.</p>\n\n<p><strong>Solution #2</strong></p>\n\n<p>I can also leave :</p>\n\n<pre><code>[modules]\ntouchring = scale=0.3,alpha=0.7\n</code></pre>\n\n<p>So there is only touchring without coursor.</p>\n"}], "owner": {"reputation": 151, "user_id": 5671854, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02b761d06c2d070cde52c8f1c765dda2?s=128&d=identicon&r=PG&f=1", "display_name": "AvS", "link": "https://stackoverflow.com/users/5671854/avs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1454608097, "creation_date": 1454533753, "question_id": 35187749, "link": "https://stackoverflow.com/questions/35187749/icon-stays-after-keypress-in-kivy", "title": "Icon stays after keypress in Kivy", "body": "<p>After keypress there is round blue icon on the screen and it stays forever...\n(screen shot attached).\nTouchscreen is working correctly - there is no icon after I press the screen. The problem appears when I use USBKeyboard attached to raspberry.\nThis icon can't be moved.</p>\n\n<p>Any idea what is wrong ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/NA5tJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NA5tJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>My configuration :\nKivyPie + RaspberryPi v2 + OfficialTouchScreen</p>\n\n<p>config.ini :</p>\n\n<pre><code>[input]\nmtdev_%(name)s = probesysfs,provider=mtdev\n%(name)s = probesysfs,provider=hidinput\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 6, "creation_date": 1454533864, "post_id": 35187748, "comment_id": 58092724, "body": "<code>return</code> causes a function to immediately terminate, and no statements appearing after it will execute. Did you intend to use <code>yield</code> instead?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5690367"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1454534176, "post_id": 35187748, "comment_id": 58092906, "body": "when I replace &#39;return&#39; by &#39;yield&#39; I get the following &lt;generator object random_teams at 0x00000000190EFA68&gt;"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 1, "creation_date": 1454534261, "post_id": 35187748, "comment_id": 58092964, "body": "What are you expecting the output of <code>random_teams</code> to be?  A list?  A generator?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454534312, "post_id": 35187748, "comment_id": 58092985, "body": "You need to call <code>list(random_teams(...)</code> or iterate over, <code>for samp in random_teams(...</code>....<a href=\"http://stackoverflow.com/questions/231767/what-does-the-yield-keyword-do-in-python\" title=\"what does the yield keyword do in python\">stackoverflow.com/questions/231767/&hellip;</a>, there are also easier ways.  <code>[l[:i] for i in Z]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8220, "user_id": 2605604, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/9RN4n.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2605604/simon"}, "is_accepted": false, "score": 0, "last_activity_date": 1454536837, "creation_date": 1454536837, "answer_id": 35188611, "question_id": 35187748, "link": "https://stackoverflow.com/questions/35187748/python-function-does-not-iterate-over-my-input-list/35188611#35188611", "title": "PYTHON Function does not iterate over my input list", "body": "<p>Something like this will work:</p>\n\n<pre><code>from random import shuffle\n\n#Assuming X and Y each to be a list of students\n\ndef random_teams(X,Y,Z):\n    #call your student() function here, and return 2 lists, X and Y\n    #X,Y = student(X,Y)\n\n    allStudents = X + Y\n    numStudents = sum(Z)\n\n    assert len(allStudents) == numStudents, \"Mismatch in number of students\"\n\n    shuffle(allStudents) # remove this line if you dont want random ordering\n\n    groups = []\n\n    for size in Z:\n        tempGroup = []\n        for i in range(size):\n            tempGroup.append(allStudents.pop())\n        groups.append(tempGroup)\n\n\nrandom_teams([\"mary\", \"john\", \"jason\"],[\"ali\", \"simon\",\"jane\",\"james\"],[1,3,3])\n</code></pre>\n\n<p>That will give the following as output:</p>\n\n<pre><code>[['jason'], ['james', 'simon', 'john'], ['mary', 'ali', 'jane']]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5690367"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454536837, "creation_date": 1454533750, "question_id": 35187748, "link": "https://stackoverflow.com/questions/35187748/python-function-does-not-iterate-over-my-input-list", "title": "PYTHON Function does not iterate over my input list", "body": "<p>I want my function to divide a random list of students into groups according to a given size (Z). Student(X,Y) is a function that removes all students in group X that are also in group Y, but that is unimportant for this question.</p>\n\n<p>A given input can be random_teams(S,T,[6,5,4])\nWith this function I want to create groups of size 6, 5 and 4. Thus I want to iterate over this list. Nevertheless, it only returns a list with 6 elements, and does not give me a list with the remaining 5 and 4.</p>\n\n<pre><code>def random_teams(X,Y,Z):\n    l = random.sample(student(X,Y), len(student(X,Y)))\n    for i in Z:\n        return l[:i]\n        l = l[i:]\n</code></pre>\n"}, {"tags": ["python", "pyqt"], "comments": [{"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 1, "creation_date": 1454540983, "post_id": 35187729, "comment_id": 58096223, "body": "<code>print self.filed(&quot;roll&quot;)</code> has a typo in it (it should be &quot;<b>field</b>&quot; not &quot;filed&quot;). Does that same typo exist in your code?"}, {"owner": {"reputation": 341, "user_id": 5508917, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8b0baf25a3f83e5ef2510ab656b32b60?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroj82", "link": "https://stackoverflow.com/users/5508917/jeroj82"}, "reply_to_user": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 0, "creation_date": 1454614680, "post_id": 35187729, "comment_id": 58135333, "body": "No, just a typo in post."}], "answers": [{"tags": [], "owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "is_accepted": false, "score": 2, "last_activity_date": 1454628234, "creation_date": 1454628234, "answer_id": 35213646, "question_id": 35187729, "link": "https://stackoverflow.com/questions/35187729/pyqt5-double-spin-box-returning-none-value/35213646#35213646", "title": "PyQt5 double spin box returning none value", "body": "<p>The <code>QWizardPage</code> class only has internal knowledge of a few widget types. When registering a widget it does not know about, you need to specify the property for reading the value, along with the signal that is emitted when a value is changed, as a string.</p>\n\n<p>For <code>QDoubleSpinBox</code> this would be:</p>\n\n<pre><code>page.registerField(\"roll\", forms[1][1], \"value\", \"valueChanged\")\n</code></pre>\n\n<p>The list of widget types <code>QWizardPage</code> knows about is listed in the c++ documentation <a href=\"http://doc.qt.io/qt-5/qwizardpage.html#registerField\" rel=\"nofollow\">here</a>.</p>\n\n<p>You can also register this information globally using a method of <code>QWizard</code>, so that you don't have to specify it each time you call <code>registerField()</code>. To do this, call:</p>\n\n<pre><code>my_wizard.setDefaultProperty(\"QDoubleSpinBox\", \"value\", \"valueChanged\")\n</code></pre>\n\n<p>Note: This is a method of the wizard, not the page.</p>\n"}], "owner": {"reputation": 341, "user_id": 5508917, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8b0baf25a3f83e5ef2510ab656b32b60?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroj82", "link": "https://stackoverflow.com/users/5508917/jeroj82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454628276, "creation_date": 1454533684, "last_edit_date": 1454628276, "question_id": 35187729, "link": "https://stackoverflow.com/questions/35187729/pyqt5-double-spin-box-returning-none-value", "title": "PyQt5 double spin box returning none value", "body": "<p>I have this: (there are class methods, which inherience from QWizard)</p>\n\n<pre><code>def getForms(self):\n    return [\n        (\n            QtWidgets.QLabel(\"Name\"),\n            QtWidgets.QLineEdit()\n        ),\n        (\n            QtWidgets.QLabel(\"Roll\"),\n            QtWidgets.QDoubleSpinBox()\n        )\n    ]\n\ndef registerFields(self, page, forms):\n    page.registerField(\"name*\", forms[0][1])\n    page.registerField(\"roll\", forms[1][1])\n</code></pre>\n\n<p>And in other place in code</p>\n\n<pre><code>id = self.currentId()\n    if id == 1:\n        print self.field(\"name\") # this rightly give me a name from LineEdit\n        print self.field(\"roll\") # but this give me just None, why?\n</code></pre>\n\n<p>When I changed </p>\n\n<pre><code>QtWidgets.QDoubleSpinBox()\n</code></pre>\n\n<p>to </p>\n\n<pre><code>QtWidgets.QSpinBox()\n</code></pre>\n\n<p>Line:</p>\n\n<pre><code>print self.field(\"roll\")\n</code></pre>\n\n<p>works fine.</p>\n\n<p>Why do I get None instead double value? </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've just noticed that when I'm trying make 'roll' field as a mandatory.</p>\n\n<pre><code>page.registerField(\"roll*\", forms[1][1])\n</code></pre>\n\n<p>And I fill this 'spinbox' in program, I can not click 'next' (next is disabled). I have spinbox in my form in program. I can set the value there. But this looks like this field is not connected with QWizard(?)?</p>\n"}, {"tags": ["python", "python-2.7", "sharepoint", "urllib2", "office365"], "comments": [{"owner": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1454792959, "post_id": 35187724, "comment_id": 58206773, "body": "<a href=\"http://stackoverflow.com/questions/3334809/python-urllib2-how-to-send-cookie-with-urlopen-request\" title=\"python urllib2 how to send cookie with urlopen request\">stackoverflow.com/questions/3334809/&hellip;</a>  morten-jensen answer."}], "answers": [{"comments": [{"owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 2, "creation_date": 1454954375, "post_id": 35275115, "comment_id": 58263912, "body": "This is brilliant, one question though, is there any way to employ this where I can hand the good authentication back to the SharePoint module?"}, {"owner": {"reputation": 52004, "user_id": 1375553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a94s0.jpg?s=128&g=1", "display_name": "Vadim Gremyachev", "link": "https://stackoverflow.com/users/1375553/vadim-gremyachev"}, "reply_to_user": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 0, "creation_date": 1454964175, "post_id": 35275115, "comment_id": 58269408, "body": "If I understood the question properly, you would like to pass auth context to <a href=\"https://github.com/ox-it/python-sharepoint\" rel=\"nofollow noreferrer\">SharePoint module</a>, that&#39;s doable, but we we need to introduce a handler to pass with cookie to request. Note: the specified module consumes SharePoint Web Services API which Microsoft marked as <a href=\"https://msdn.microsoft.com/en-us/library/office/jj164060.aspx#DeprecatedAPIs\" rel=\"nofollow noreferrer\">deprecated</a>"}, {"owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 0, "creation_date": 1454964769, "post_id": 35275115, "comment_id": 58269735, "body": "Yes, that is correct.  While client does give me access wonderfully, I have no idea how to use it to check out and edit files.  While the SharePoint module has &quot;limited support&quot; at least I would have a starting point.  If we could jury-rig SharePoint module to use your client for authentication, that would be ideal, even if it is deprecated. However, now we&#39;re getting out of the scope of this question :)"}, {"owner": {"reputation": 3239, "user_id": 577001, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bba6946e152d9901aae85811078822bf?s=128&d=identicon&r=PG", "display_name": "IsaacS", "link": "https://stackoverflow.com/users/577001/isaacs"}, "edited": false, "score": 2, "creation_date": 1509840930, "post_id": 35275115, "comment_id": 81183887, "body": "Sample code here is outdated but <a href=\"https://github.com/vgrem/Office365-REST-Python-Client/issues/54\" rel=\"nofollow noreferrer\">its repo has an updated readme</a>."}], "tags": [], "owner": {"reputation": 52004, "user_id": 1375553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a94s0.jpg?s=128&g=1", "display_name": "Vadim Gremyachev", "link": "https://stackoverflow.com/users/1375553/vadim-gremyachev"}, "is_accepted": true, "score": 10, "last_activity_date": 1454951791, "last_edit_date": 1454951791, "creation_date": 1454950860, "answer_id": 35275115, "question_id": 35187724, "link": "https://stackoverflow.com/questions/35187724/remote-authentication-in-sharepoint-online/35275115#35275115", "title": "Remote Authentication in SharePoint Online", "body": "<p>According to <a href=\"https://msdn.microsoft.com/en-us/library/office/hh147177(v=office.14).aspx\" rel=\"noreferrer\">Remote Authentication in SharePoint Online Using Claims-Based Authentication</a> and <a href=\"https://support.office.com/en-us/article/SharePoint-Online-authentication-77965e8d-48ad-47bd-a656-57f17d6d1cc7\" rel=\"noreferrer\">SharePoint Online authentication</a> articles :</p>\n\n<blockquote>\n  <p>The Federation Authentication (FedAuth) cookie is for each top level\n  site in SharePoint Online such as the root site, the MySite, the Admin\n  site, and the Public site. The root Federation Authentication (rtFA)\n  cookie is used across all of SharePoint Online. When a user visits a\n  new top level site or another company\u2019s page, the rtFA cookie is used\n  to authenticate them silently without a prompt.</p>\n</blockquote>\n\n<p>To summarize, to acquire authentication cookies the request needs to be sent to the following endpoint:</p>\n\n<pre><code>url: https://tenant.sharepoint.com/_forms/default.aspx?wa=wsignin1.0  \nmethod: POST\ndata: security token\n</code></pre>\n\n<p>Once the request is validated the response will contain authentication cookies (<code>FedAuth</code> and <code>rtFa</code>) in the HTTP header as explained in the article that you mentioned. </p>\n\n<h2>SharePoint Online REST client for Python</h2>\n\n<p>As a proof of concept the <a href=\"https://github.com/vgrem/SharePointOnline-REST-Python-Client\" rel=\"noreferrer\">SharePoint Online REST client for Python</a> has been released which shows how to:</p>\n\n<ul>\n<li>perform remote authentication in SharePoint Online</li>\n<li>perform basic CRUD operations against SharePoint resources such as\nWeb, List or List Item using REST API</li>\n</ul>\n\n<p><strong>Implementation details</strong>: </p>\n\n<ul>\n<li><a href=\"https://github.com/vgrem/SharePointOnline-REST-Python-Client/blob/master/client/AuthenticationContext.py\" rel=\"noreferrer\"><code>AuthenticationContext.py</code> class</a> contains the <em>SharePoint\nOnline remote authentication flow</em> implementation, in particular the\n<code>acquireAuthenticationCookie</code> function demonstrates how to handle\nauthentication cookies</li>\n<li><a href=\"https://github.com/vgrem/SharePointOnline-REST-Python-Client/blob/master/client/ClientRequest.py\" rel=\"noreferrer\"><code>ClientRequest.py</code> class</a> shows how to consume SharePoint Online REST API</li>\n</ul>\n\n<p><strong>Examples</strong></p>\n\n<p>The example shows how to read Web client object properties:</p>\n\n<pre><code>from client.AuthenticationContext import AuthenticationContext\nfrom client.ClientRequest import ClientRequest\n\nurl = \"https://contoso.sharepoint.com/\"\nusername = \"jdoe@contoso.onmicrosoft.com\"\npassword = \"password\"\n\n\nctxAuth = AuthenticationContext(url)\nif ctxAuth.acquireTokenForUser(username, password):\n  request = ClientRequest(url,ctxAuth)\n  requestUrl = \"/_api/web/\"   #Web resource endpoint\n  data = request.executeQuery(requestUrl=requestUrl)\n\n  webTitle = data['d']['Title']\n  print \"Web title: {0}\".format(webTitle)\n\nelse:\n  print ctxAuth.getLastErrorMessage()\n</code></pre>\n\n<p>More examples could be found under <a href=\"https://github.com/vgrem/SharePointOnline-REST-Python-Client/tree/master/examples\" rel=\"noreferrer\">examples</a> folder of GitHub repository</p>\n"}], "owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12610, "favorite_count": 4, "accepted_answer_id": 35275115, "answer_count": 1, "score": 10, "last_activity_date": 1454951791, "creation_date": 1454533676, "last_edit_date": 1454697753, "question_id": 35187724, "link": "https://stackoverflow.com/questions/35187724/remote-authentication-in-sharepoint-online", "title": "Remote Authentication in SharePoint Online", "body": "<p>I am attempting to write a script with <a href=\"https://pypi.python.org/pypi/sharepoint/0.3.2\" rel=\"noreferrer\">SharePoint</a> package to access files on my company's SharePoint.  The tutorial states </p>\n\n<blockquote>\n  <p>First, you need to create a <code>SharePointSite</code> object. We\u2019ll assume you\u2019re using basic auth; if you\u2019re not, you\u2019ll need to create an appropriate <code>urllib2</code> Opener yourself.</p>\n</blockquote>\n\n<p>However, after several attempts, I've concluded that basic auth is not sufficient.  While researching how to try to make it work, I came upon <a href=\"http://allthatjs.com/2012/03/28/remote-authentication-in-sharepoint-online/\" rel=\"noreferrer\">this article</a> which gives a good overview of the general scheme of authentication.  What I'm struggling with is implementing this in Python.  </p>\n\n<p>I've managed to hijack the basic auth in the SharePoint module.  To do this, I took the XML message in the linked article and used it to replace the XML generated by the SharePoint module.  After making a few other changes, I now recieve a token as described in Step 2 of the linked article.</p>\n\n<p>Now, in Step 3, I need to send that token to SharePoint with a POST.  The below is a sample of what it should look like:</p>\n\n<pre><code>POST http://yourdomain.sharepoint.com/_forms/default.aspx?wa=wsignin1.0 HTTP/1.1\nHost: yourdomain.sharepoint.com\nUser-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)\nContent-Length: [calculate]\n\nt=EwBgAk6hB....abbreviated\n</code></pre>\n\n<p>I currently use the following code to generate my POST.  With the guidance from a few other questions, I've omitted the <code>content-length</code> header since that should be automatically calculated.  I was unsure of where to put the token, so I just shoved it in <code>data</code>.</p>\n\n<pre><code>headers = {\n    'Host': 'mydomain.sharepoint.com',\n    'Connection': 'keep-alive',\n    'User-Agent': 'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)'\n}\n\ndata = {'t':'{}'.format(token[2:])}\ndata = urlencode(data) \n\npostURL = \"https://mydomain.sharepoint.com/_forms/default.aspx?wa=wsignin1.0\"   \nreq = Request(postURL, data, headers) \nresponse = urlopen(req)\n</code></pre>\n\n<p>However, this produces the following error message:</p>\n\n<pre><code>urllib2.HTTPError: HTTP Error 302: The HTTP server returned a redirect error that would lead to an infinite loop.\nThe last 30x error message was:\nFound\n</code></pre>\n\n<p>How do I generate a POST which will correctly return the authentication cookies I need?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 0, "creation_date": 1454533995, "post_id": 35187723, "comment_id": 58092795, "body": "No, you should never modify third party packages. If you do that, you can not upgrade without breaking functionality. Can you be more elaborate on what you are looking to achieve? May be there are configurable options to do that."}, {"owner": {"reputation": 1075, "user_id": 1352932, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3b1ed1b8d18f1fee723f1ff434b96a4c?s=128&d=identicon&r=PG", "display_name": "caliph", "link": "https://stackoverflow.com/users/1352932/caliph"}, "reply_to_user": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 0, "creation_date": 1454534474, "post_id": 35187723, "comment_id": 58093069, "body": "Unfortunately its not configurable, and there are no classes involved. Its a simple view in the package and I added some lines of code: changed sorting, added a date for a file to be shown, etc..."}, {"owner": {"reputation": 366, "user_id": 5709142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dac6c268b4f70c3d995951497aff1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Yaaaaaaaaaaay", "link": "https://stackoverflow.com/users/5709142/yaaaaaaaaaaay"}, "edited": false, "score": 0, "creation_date": 1454534562, "post_id": 35187723, "comment_id": 58093122, "body": "so if its only a simple views than why do you need it install as a package? Just copy &amp; paste &amp; modify and that its"}], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 2722512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/906958a3a6a8558d34cad5eb00f2f484?s=128&d=identicon&r=PG", "display_name": "onlythefinestwilldo", "link": "https://stackoverflow.com/users/2722512/onlythefinestwilldo"}, "is_accepted": false, "score": 1, "last_activity_date": 1454537818, "creation_date": 1454537818, "answer_id": 35188842, "question_id": 35187723, "link": "https://stackoverflow.com/questions/35187723/django-need-to-modify-view-in-installed-package/35188842#35188842", "title": "django: need to modify view in installed package", "body": "<p>It won't do you any good modifying the package.  Instead, you should subclass the view and override the methods you need to behave differently.</p>\n\n<pre><code>from ckeditor_uploader import ImageUploadView\n\nclass MyCustomView(ImageUploadView):\n    def post(self, request, **kwargs):\n        # do something different here,\n        # then hand things over to \n        # the original parent\n        return super(MyCustomView, self).post(request, **kwargs)\n</code></pre>\n"}], "owner": {"reputation": 1075, "user_id": 1352932, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3b1ed1b8d18f1fee723f1ff434b96a4c?s=128&d=identicon&r=PG", "display_name": "caliph", "link": "https://stackoverflow.com/users/1352932/caliph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454537818, "creation_date": 1454533675, "question_id": 35187723, "link": "https://stackoverflow.com/questions/35187723/django-need-to-modify-view-in-installed-package", "title": "django: need to modify view in installed package", "body": "<p>I am using ckeditor in my django project.\nI did some code customizing in the view of the package (in ckeditor_uploader).</p>\n\n<p>If I deploy now to the production server I need to include the changes that I did in the package (located in lib/site-packages...).</p>\n\n<p>What would be a good way?</p>\n\n<p>I am seeing only this option:\na) use an editor to modify the installed package on the production server.</p>\n\n<p>Are there any other option that allow me to keep the changed code in my actual project (that is stored and deployed via github) ?</p>\n"}, {"tags": ["python", "json", "django", "postgresql"], "comments": [{"owner": {"reputation": 681, "user_id": 829105, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3623b7e183ecd5b50a8e2838e5b2ae17?s=128&d=identicon&r=PG", "display_name": "Daviddd", "link": "https://stackoverflow.com/users/829105/daviddd"}, "edited": false, "score": 0, "creation_date": 1472200010, "post_id": 35187721, "comment_id": 65666527, "body": "default should be a callable. More information: <a href=\"http://stackoverflow.com/questions/35483301/django-1-9-jsonfield-update-behavior\" title=\"django 1 9 jsonfield update behavior\">stackoverflow.com/questions/35483301/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 14803812, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Gjy5xSmXPco/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnkAPADJjXdupbJ3Sa7_u7Fu1JQUg/s96-c/photo.jpg?sz=128", "display_name": "souheil toumi", "link": "https://stackoverflow.com/users/14803812/souheil-toumi"}, "edited": false, "score": 0, "creation_date": 1614679596, "post_id": 35187721, "comment_id": 117454054, "body": "any updates on using jsonb_object_keys from postgres to get Keys ?"}], "answers": [{"tags": [], "owner": {"reputation": 1064, "user_id": 4117381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/br0Y9.jpg?s=128&g=1", "display_name": "Ahmed Hosny", "link": "https://stackoverflow.com/users/4117381/ahmed-hosny"}, "is_accepted": false, "score": 2, "last_activity_date": 1454540561, "creation_date": 1454540561, "answer_id": 35189468, "question_id": 35187721, "link": "https://stackoverflow.com/questions/35187721/postgres-9-4-django-1-9-get-all-json-keys/35189468#35189468", "title": "Postgres 9.4 Django 1.9 get all json keys", "body": "<p>I'll suggest the following</p>\n\n<pre><code>list_of_keys = []\nfor obj in File.objects.all().values_list('metadata', flat=True)\n   list_of_keys = list_of_keys + obj.keys()\n</code></pre>\n\n<p>Now you will have a list of keys, then you can do </p>\n\n<pre><code>set = {}\nmap(set.__setitem__, list_of_keys, [])\nunique_keys = set.keys()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7602238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hMTwTvTfF8I/AAAAAAAAAAI/AAAAAAAAAD0/hbkQ4HsvVCE/photo.jpg?sz=128", "display_name": "Aleksandr Usov", "link": "https://stackoverflow.com/users/7602238/aleksandr-usov"}, "is_accepted": false, "score": 5, "last_activity_date": 1545470172, "creation_date": 1545470172, "answer_id": 53894414, "question_id": 35187721, "link": "https://stackoverflow.com/questions/35187721/postgres-9-4-django-1-9-get-all-json-keys/53894414#53894414", "title": "Postgres 9.4 Django 1.9 get all json keys", "body": "<p>You can use Func() expression (<a href=\"https://docs.djangoproject.com/en/2.1/ref/models/expressions/#func-expressions\" rel=\"noreferrer\">docs</a>) of django to use Postgres function <code>jsonb_object_keys</code>(<a href=\"https://www.postgresql.org/docs/9.5/functions-json.html\" rel=\"noreferrer\">docs</a>)</p>\n\n<pre><code>class JsonKeys(Func):\n    function = 'jsonb_object_keys'\n</code></pre>\n\n<p>Now you can write</p>\n\n<pre><code>File.objects.all().annotate(metadata_keys=JsonKeys('metadata')\n</code></pre>\n"}], "owner": {"reputation": 1687, "user_id": 1008577, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RcZIU.jpg?s=128&g=1", "display_name": "Eoin Murray", "link": "https://stackoverflow.com/users/1008577/eoin-murray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 986, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1614679596, "creation_date": 1454533673, "question_id": 35187721, "link": "https://stackoverflow.com/questions/35187721/postgres-9-4-django-1-9-get-all-json-keys", "title": "Postgres 9.4 Django 1.9 get all json keys", "body": "<p>I have a JSONField in a django model like so:</p>\n\n<pre><code>from django.db import models\nfrom django.contrib.postgres.fields import JSONField\n\nclass File(models.Model):\n    metadata = JSONField(null=True, blank=True, default={})\n</code></pre>\n\n<p>The metadata can be filled with whatever a user likes.</p>\n\n<p>I would like to be able to list all of the unique metadata keys in use by all of the File objects.</p>\n\n<p>Is there a way to do this using django, and postgres, aggregation?</p>\n"}, {"tags": ["python", "python-2.7", "opencv"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454543215, "post_id": 35187626, "comment_id": 58097066, "body": "usually this is done with a &quot;dilate&quot; or &quot;close&quot; morphological operation, but you should show some image to make this clear."}, {"owner": {"reputation": 11, "user_id": 4122774, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001597256973/picture?type=large", "display_name": "Harm", "link": "https://stackoverflow.com/users/4122774/harm"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1454614651, "post_id": 35187626, "comment_id": 58135314, "body": "@Miki dilate works great, thanks"}], "owner": {"reputation": 11, "user_id": 4122774, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001597256973/picture?type=large", "display_name": "Harm", "link": "https://stackoverflow.com/users/4122774/harm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1454534757, "creation_date": 1454533354, "last_edit_date": 1454534757, "question_id": 35187626, "link": "https://stackoverflow.com/questions/35187626/improve-coverage-of-backgroundsubtractormog2-and-findcontours", "title": "Improve coverage of BackgroundSubtractorMOG2 and findContours", "body": "<p>I'm trying to track players on a soccer field, using a fixed camera. BackgroundSubtractorMOG2 and findContours result in a lot of small contours detected. How can I alter the results of BackgroundSubtractorMOG2 / findContours so one shape (a player) results in one contour I can track ?</p>\n\n<p>This is the code I used:</p>\n\n<pre><code>import numpy as np\nimport cv2\n\ncap = cv2.VideoCapture(\"images/Keeper.mov\")\nhistory = 30   # or whatever you want it to be\naccelerate = 5\n\nkernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE,(3,3))\n        fgbg = cv2.BackgroundSubtractorMOG2()\n\nwhile(1):\n    for i in (1, accelerate):\n        ret, frame = cap.read()\n\n    fgmask = fgbg.apply(frame, learningRate=1.0/history)\n\n    fgmask = cv2.morphologyEx(fgmask, cv2.MORPH_OPEN, kernel)\n    cv2.imshow('frame',fgmask)\n\n    h, w = fgmask.shape[:2]\n\n    contours0, hierarchy = cv2.findContours( fgmask.copy(),\n                       cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\n    contours = [cv2.approxPolyDP(cnt, 3, True) for cnt in contours0]\n\n    vis = np.zeros((h, w, 3), np.uint8)\n    levels = 17\n    cv2.drawContours( vis, contours, (-1, 3)[levels &lt;= 0],\n                      (128,255,255),-1, cv2.CV_AA, hierarchy, abs(levels) )\n    cv2.imshow('contours', vis)\n\n    k = cv2.waitKey(30) &amp; 0xff\n    if k == 27:\n        break\n\ncap.release()\ncv2.destroyAllWindows()\n</code></pre>\n"}, {"tags": ["python", "wxpython", "wxwidgets"], "comments": [{"owner": {"reputation": 952, "user_id": 5504760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4aed7e450059c1791a5a723feda1cb6?s=128&d=identicon&r=PG&f=1", "display_name": "tjohnson", "link": "https://stackoverflow.com/users/5504760/tjohnson"}, "edited": false, "score": 0, "creation_date": 1454723358, "post_id": 35187592, "comment_id": 58187345, "body": "Unfortunately, I don&#39;t think this is possible using the <code>FoldPanelBar</code> class. If you catch the <code>EVT_CAPTIONBAR</code> event and <code>print self.pnl.GetSize()</code>, it is always a constant value, meaning that the <code>FoldPanelBar</code> never resizes. You could probably use <code>wxCollapsiblePane</code> instead, but you wouldn&#39;t be able to customize its appearance."}, {"owner": {"reputation": 2797, "user_id": 2683116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da38465539fbdc8c9ecedee61c140392?s=128&d=identicon&r=PG&f=1", "display_name": "nepix32", "link": "https://stackoverflow.com/users/2683116/nepix32"}, "edited": false, "score": 0, "creation_date": 1454752900, "post_id": 35187592, "comment_id": 58193570, "body": "Duplicate, see <a href=\"https://groups.google.com/forum/#!topic/wxpython-users/tzjhIIttjH4\" rel=\"nofollow noreferrer\">the parallel post in wxpython-users</a>"}, {"owner": {"reputation": 24873, "user_id": 94169, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/55d09dc53dbea9c5bbd578b4d9ee397e?s=128&d=identicon&r=PG", "display_name": "softwarematter", "link": "https://stackoverflow.com/users/94169/softwarematter"}, "edited": false, "score": 0, "creation_date": 1454755431, "post_id": 35187592, "comment_id": 58194235, "body": "But there is no resolution yet. Seems like it doesn&#39;t support scrollbars :("}], "answers": [{"comments": [{"owner": {"reputation": 24873, "user_id": 94169, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/55d09dc53dbea9c5bbd578b4d9ee397e?s=128&d=identicon&r=PG", "display_name": "softwarematter", "link": "https://stackoverflow.com/users/94169/softwarematter"}, "edited": false, "score": 0, "creation_date": 1455170652, "post_id": 35324413, "comment_id": 58371645, "body": "Thank you, that fixed it. When I pass in a size, scroll bar appears even if there are very few items. But that serves the purpose. Thanks again!"}, {"owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "reply_to_user": {"reputation": 24873, "user_id": 94169, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/55d09dc53dbea9c5bbd578b4d9ee397e?s=128&d=identicon&r=PG", "display_name": "softwarematter", "link": "https://stackoverflow.com/users/94169/softwarematter"}, "edited": false, "score": 0, "creation_date": 1455200998, "post_id": 35324413, "comment_id": 58391153, "body": "No problem. Glad I could help"}], "tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": true, "score": 1, "last_activity_date": 1455133156, "creation_date": 1455133156, "answer_id": 35324413, "question_id": 35187592, "link": "https://stackoverflow.com/questions/35187592/scrollbars-are-not-appearing-on-expanding-foldpanelbar-in-wxpython/35324413#35324413", "title": "Scrollbars are not appearing on expanding FoldPanelBar in wxPython", "body": "<p>Don't use the <code>FoldPanelBar</code>'s default size. For some reason, it seems to make the widget behave in a dumb manner. If you specify a size, the scrollbars appear correctly.</p>\n\n<pre><code>import wx\nimport wx.lib.agw.foldpanelbar as fpb\nimport wx.lib.scrolledpanel as scrolled\n\nclass MyPanel(scrolled.ScrolledPanel):\n\n    def __init__(self, parent):\n        scrolled.ScrolledPanel.__init__(self, parent=parent,\n                                        size=parent.GetSize(),\n                                        style = wx.ALL|wx.EXPAND)\n        #self.SetAutoLayout(1)\n        self.SetupScrolling()\n        self.boxSizer = wx.BoxSizer(wx.VERTICAL)\n        csStyle = fpb.CaptionBarStyle()\n        csStyle.SetFirstColour(wx.Colour(190, 190, 190, 255))\n        csStyle.SetSecondColour(wx.Colour(167, 232, 146, 255))\n        csStyle.SetCaptionFont(wx.Font(9, wx.DEFAULT, wx.NORMAL, wx.BOLD))\n\n        m_pnl = fpb.FoldPanelBar(self, wx.ID_ANY, wx.DefaultPosition, (600,800),\n                            fpb.FPB_VERTICAL)\n\n        item = m_pnl.AddFoldPanel(\"Set 1\", collapsed=True, cbstyle=csStyle)\n\n        self.listContainer = wx.ListCtrl(item, style=wx.LC_REPORT)\n        self.listContainer.InsertColumn(0, 'Column1', width=250)\n        self.listContainer.InsertColumn(1, 'Column2', width=150)\n        self.listContainer.InsertColumn(2, 'Column3')\n\n        m_pnl.AddFoldPanelWindow(item, self.listContainer)\n        btnAutoFix = wx.Button(item, wx.ID_ANY, \"Go\", size=(50,-1))\n        m_pnl.AddFoldPanelWindow(item, btnAutoFix)\n        self.boxSizer.Add(m_pnl)\n\n\n        item = m_pnl.AddFoldPanel(\"Set 2\", collapsed=True, cbstyle=csStyle)\n        self.listContainer2 = wx.ListCtrl(item, style=wx.LC_REPORT)\n        self.listContainer2.InsertColumn(0, 'Column1', width=250)\n        self.listContainer2.InsertColumn(1, 'Column2', width=150)\n        self.listContainer2.InsertColumn(2, 'Column3')\n\n        m_pnl.AddFoldPanelWindow(item, self.listContainer2)\n\n        self.pnl = m_pnl\n        self.SetSizer(self.boxSizer)\n\nclass MainFrame(wx.Frame):\n\n    def __init__(self):\n        wx.Frame.__init__(self, None, title='Test')\n        panel = MyPanel(self)\n        self.Show()\n\n\nif __name__ == '__main__':\n    app = wx.App(False)\n    frame = MainFrame()\n    app.MainLoop()\n</code></pre>\n\n<p>You might consider <a href=\"http://trac.wxwidgets.org/\" rel=\"nofollow\">submitting a bug</a> for this to the wxPython project.</p>\n"}], "owner": {"reputation": 24873, "user_id": 94169, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/55d09dc53dbea9c5bbd578b4d9ee397e?s=128&d=identicon&r=PG", "display_name": "softwarematter", "link": "https://stackoverflow.com/users/94169/softwarematter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 2, "accepted_answer_id": 35324413, "answer_count": 1, "score": 5, "last_activity_date": 1455133156, "creation_date": 1454533212, "question_id": 35187592, "link": "https://stackoverflow.com/questions/35187592/scrollbars-are-not-appearing-on-expanding-foldpanelbar-in-wxpython", "title": "Scrollbars are not appearing on expanding FoldPanelBar in wxPython", "body": "<p>When the fold panels expand, it goes outside of the frame and scroll bars are not appearing. I tried using a ScrolledPanel, but did not help. Any idea what I am missing here?</p>\n\n<pre><code>import wx\nfrom wx.lib import scrolledpanel\nimport wx.lib.agw.foldpanelbar as fpb\nimport wx.lib.scrolledpanel as sp\n\nclass MyPanel(sp.ScrolledPanel):\n\n    def __init__(self, parent):\n        sp.ScrolledPanel.__init__(self, parent=parent, size=parent.GetSize(), style = wx.ALL|wx.EXPAND)\n        #self.SetAutoLayout(1)\n        self.SetupScrolling()\n        ##self.boxSizer = wx.BoxSizer(wx.VERTICAL)###\n        csStyle = fpb.CaptionBarStyle()\n        csStyle.SetFirstColour(wx.Colour(190, 190, 190, 255))\n        csStyle.SetSecondColour(wx.Colour(167, 232, 146, 255))\n        csStyle.SetCaptionFont(wx.Font(9, wx.DEFAULT, wx.NORMAL, wx.BOLD))\n\n        m_pnl = fpb.FoldPanelBar(self, wx.ID_ANY, wx.DefaultPosition, wx.DefaultSize,\n                            fpb.FPB_VERTICAL)\n\n        item = m_pnl.AddFoldPanel(\"Set 1\", collapsed=True, cbstyle=csStyle)\n\n        self.listContainer = wx.ListCtrl(item, style=wx.LC_REPORT)\n        self.listContainer.InsertColumn(0, 'Column1', width=250)\n        self.listContainer.InsertColumn(1, 'Column2', width=150)\n        self.listContainer.InsertColumn(2, 'Column3')\n\n        m_pnl.AddFoldPanelWindow(item, self.listContainer)\n        btnAutoFix = wx.Button(item, wx.ID_ANY, \"Go\", size=(50,-1))\n        m_pnl.AddFoldPanelWindow(item, btnAutoFix)\n        ###self.boxSizer.Add(m_pnl)##\n\n\n        item = m_pnl.AddFoldPanel(\"Set 2\", collapsed=True, cbstyle=csStyle)\n        self.listContainer2 = wx.ListCtrl(item, style=wx.LC_REPORT)\n        self.listContainer2.InsertColumn(0, 'Column1', width=250)\n        self.listContainer2.InsertColumn(1, 'Column2', width=150)\n        self.listContainer2.InsertColumn(2, 'Column3')\n\n        m_pnl.AddFoldPanelWindow(item, self.listContainer2)\n\n        self.pnl = m_pnl\n        ##self.SetSizer(self.boxSizer)###\n\nif __name__ == '__main__':\n    app = wx.App(False)\n    frame = wx.Frame(None, size=(650, 400), style=wx.DEFAULT_FRAME_STYLE)\n    panel = MyPanel(frame)\n    # Add sizer information for the scrolled panel\n    szmain = wx.BoxSizer(wx.VERTICAL)\n    szmain.Add(panel.pnl, 1, wx.EXPAND|wx.ALL, 4)\n    panel.SetSizer(szmain)\n    frame.Show()\n    app.MainLoop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "encryption"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1454533077, "post_id": 35187496, "comment_id": 58092275, "body": "&quot;a bit of trouble&quot; is useless information. <b>HOW</b> is this code not working?"}, {"owner": {"reputation": 5943, "user_id": 2674553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r41zt.jpg?s=128&g=1", "display_name": "ste-fu", "link": "https://stackoverflow.com/users/2674553/ste-fu"}, "edited": false, "score": 0, "creation_date": 1454533193, "post_id": 35187496, "comment_id": 58092346, "body": "What is the exception or unexpected output you are getting?"}, {"owner": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "edited": false, "score": 0, "creation_date": 1454533351, "post_id": 35187496, "comment_id": 58092440, "body": "There is no code to run yet. The decryption code in alphapinDecode(codedPin) is not yet written, as I need help reversing the encryption done in alphapinEncode(pin). I need help taking the first steps, thanks!"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1454534130, "post_id": 35187496, "comment_id": 58092878, "body": "<i>&quot;I need help taking the first steps&quot;</i> - then you&#39;re in the wrong place, SO is neither a code-writing nor tutorial service."}, {"owner": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1454534438, "post_id": 35187496, "comment_id": 58093056, "body": "@jonrsharpe but I see many other posts simply asking for code without presenting work. How should I go about asking my question?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1454534532, "post_id": 35187496, "comment_id": 58093108, "body": "And hopefully they&#39;re all getting downvoted too. Take the <a href=\"https://stackoverflow.com/tour\">tour</a>, see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "edited": false, "score": 0, "creation_date": 1454534651, "post_id": 35187496, "comment_id": 58093177, "body": "i don&#39;t think it&#39;s possible to reverse a modulo....i stand to be corrected though take a look at this <code>1 % 100</code>,  <code>101 % 100</code> and <code>201 % 100</code> equal 1"}, {"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 0, "creation_date": 1454534688, "post_id": 35187496, "comment_id": 58093193, "body": "Didn&#39;t you write the encryption portion? I&#39;d just take the general approach of reversing what you did there."}, {"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 0, "creation_date": 1454534825, "post_id": 35187496, "comment_id": 58093258, "body": "I also don&#39;t believe you can reverse a modulo but you know that all your numbers are between 0-100 so you can loop over them and plug them back into your encode and if it matches the last two digits of your encoded string then add it to your decoded string and remove the last two from the encoded string"}, {"owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "reply_to_user": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 1, "creation_date": 1454535571, "post_id": 35187496, "comment_id": 58093665, "body": "@SirParselot this is just a division with remainder so it&#39;s quite easy to reverse, as <code>x == (x &#47;&#47; y) * y + (x % y)</code> (in this case with y=5)"}, {"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "reply_to_user": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "edited": false, "score": 0, "creation_date": 1454591010, "post_id": 35187496, "comment_id": 58119294, "body": "@mata Ah thanks for correcting me"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "edited": false, "score": 0, "creation_date": 1454535478, "post_id": 35188119, "comment_id": 58093620, "body": "Thank you for your reply! I am reading through it now. To clear up the spec issue, the encryption function will only return strings that are even in length (vowel-consonant pairs), and the decryption function is supposed to work with those strings specifically."}, {"owner": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "edited": false, "score": 0, "creation_date": 1454537599, "post_id": 35188119, "comment_id": 58094735, "body": "When I take 2 characters at a time, should they be those at the front or back? Should I then subtract them from codedPin as part of a loop?"}], "tags": [], "owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "is_accepted": true, "score": 5, "last_activity_date": 1454535067, "creation_date": 1454535067, "answer_id": 35188119, "question_id": 35187496, "link": "https://stackoverflow.com/questions/35187496/decrypting-a-string-into-a-number/35188119#35188119", "title": "Decrypting a string into a number", "body": "<p>Problem with your spec: What happens when the string to be decoded is not even in length?</p>\n\n<p>Ignoring that case, your approach should resemble this:</p>\n\n<ol>\n<li><p>Split the <code>codedPin</code> into groups of 2, or take 2 characters at a time from the input. Keep these values so we can decode the current group of 2.</p></li>\n<li><p>Reverse the algorithm you used to cypher the pins. Many comments are saying you cannot reverse a modulo operation - which may be true in the generic case, but since we are only dealing with positive integers, we can certainly reverse the value. Here's a hint: find the <code>index</code> of each character in the original <code>CONSONANTS</code> and <code>VOWELS</code> string to give yourself a number to start from. If you get stuck with the math, try manually decoding one of the examples on a piece of paper by hand. Pay close attention to the relationship between the index of the characters and the original PIN number.</p></li>\n<li><p>Store the values for each pair of numbers until the end of the string has been reached.</p></li>\n<li><p>Return or output the complete value.</p></li>\n</ol>\n\n<p>I will not code the answer for you because I believe it would be best for you to come up with something on your own. Take these steps as a pointer and start to code! See what you come up with and come back, and you will have some code that you can use to ask an actual question.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "edited": false, "score": 0, "creation_date": 1454538754, "post_id": 35188881, "comment_id": 58095302, "body": "Thanks! What does n refer to?"}, {"owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "edited": false, "score": 0, "creation_date": 1454538771, "post_id": 35188881, "comment_id": 58095309, "body": "nice :) I had something similar: <code>functools.reduce(lambda a, b: 100 * a + b, (VOWELS.index(codedPin[i+1]) + 5 * CONSONANTS.index(codedPin[i]) for i in range(0, len(codedPin), 2)))</code>"}, {"owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "edited": false, "score": 0, "creation_date": 1454539026, "post_id": 35188881, "comment_id": 58095421, "body": "@jimhark, nah, I don&#39;t think it&#39;s more helpful then yours :)"}, {"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "reply_to_user": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "edited": false, "score": 0, "creation_date": 1454539259, "post_id": 35188881, "comment_id": 58095525, "body": "@Zed, part of what made this interesting to me was trying to make it a one-liner. Turns out the best I could as a one-liner is pretty ugly. But it works. You could take it apart. Rewrite it so it returns just &#39;n&#39; to see what it is. See the individual pieces. Maybe in a couple days I&#39;ll come back with a more reasonable version with a &#39;for&#39; loop. Admittedly &#39;*100**(len(c)/2-i-1)&#39; is a bit of a hack. Good luck."}, {"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "reply_to_user": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "edited": false, "score": 0, "creation_date": 1454539383, "post_id": 35188881, "comment_id": 58095576, "body": "@mata, yeah, they&#39;re both pretty rough. I&#39;ll probably post a proper version in a couple days, multiple lines, real variable names and maybe even comments."}, {"owner": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "edited": false, "score": 0, "creation_date": 1454539470, "post_id": 35188881, "comment_id": 58095611, "body": "@jimhark Understood. Thanks for showing me this approach; I&#39;ll pick it apart and play with it for a while."}, {"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "reply_to_user": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "edited": false, "score": 0, "creation_date": 1454540751, "post_id": 35188881, "comment_id": 58096122, "body": "@Zed, latest version got rid of n and the &#39;*100**(len(c)/2-i-1)&#39; hack."}], "tags": [], "owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "is_accepted": false, "score": 1, "last_activity_date": 1454702875, "last_edit_date": 1454702875, "creation_date": 1454538012, "answer_id": 35188881, "question_id": 35187496, "link": "https://stackoverflow.com/questions/35187496/decrypting-a-string-into-a-number/35188881#35188881", "title": "Decrypting a string into a number", "body": "<p>That's an interesting problem. I think this works:</p>\n\n<pre><code>pin = 123456789\nc = alphapinEncode(pin)\nc\n'begomariwu'\n\nsum([n*100**(len(c)/2-i-1) for i,n in enumerate([CONSONANTS.index(p[0])*5 + VOWELS.index(p[1]) for p in [c[i:i+2] for i in range(0, len(c), 2)]])])\n123456789\n</code></pre>\n\n<p>Or, with thanks to @mata for suggesting reduce, this improved one-line version:</p>\n\n<pre><code>reduce(lambda a,b:100*a + b, [CONSONANTS.index(consonant)*5 + VOWELS.index(vowel) for consonant, vowel in [c[i:i+2] for i in range(0, len(c), 2)]], 0)\n</code></pre>\n\n<p>Now to get serious. One-liners can make for interesting puzzles, but real code should be readable. Here's my real answer:</p>\n\n<pre><code>def alphapinDecode(codedPin):\n    pin = 0\n    pairs = [codedPin[i:i+2] for i in range(0, len(codedPin), 2)]\n\n    for consonant, vowel in pairs:\n        pin = pin*100 + CONSONANTS.index(consonant)*5 + VOWELS.index(vowel)\n\n    return pin\n</code></pre>\n\n<p>I think this is reasonably clear without comments. As always, good variable names help a lot.</p>\n\n<p>Your implementation of alphapinEncode is good, but still I rewrote it mostly with style changes, but also to use divmod: </p>\n\n<pre><code>def alphapinEncode(pin):\n    codedPin = ''\n\n    while 0 &lt; pin:\n        pin, current_digits = divmod(pin, 100)\n        codedPin = (\n            CONSONANTS[current_digits // 5] +\n            VOWELS[current_digits % 5] +\n            codedPin\n        )\n\n    return codedPin\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 5880039, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kiHXy.jpg?s=128&g=1", "display_name": "natexyz", "link": "https://stackoverflow.com/users/5880039/natexyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 35188119, "answer_count": 2, "score": -1, "last_activity_date": 1463069927, "creation_date": 1454532871, "last_edit_date": 1463069927, "question_id": 35187496, "link": "https://stackoverflow.com/questions/35187496/decrypting-a-string-into-a-number", "title": "Decrypting a string into a number", "body": "<p>Last week, I was assigned to encrypt numeric PINs into pronounceable strings (made up of vowel-consonant pairs). This went well.</p>\n\n<p>This week, I've been assigned to <em>decrypt</em> the strings my function produced back into their original PIN form. I'm trying to reverse-engineer my code, but I don't know where to start.</p>\n\n<p>Global variables:</p>\n\n<pre><code>CONSONANTS = \"bcdfghjklmnpqrstvwyz\" \nVOWELS = \"aeiou\" \n</code></pre>\n\n<p>Encryption code:</p>\n\n<pre><code>def alphapinEncode(pin):\n    '''(num) -&gt; string\n    Takes user input (pin) and converts it into a pronounceable string.\n    Returns the string (codedPin)\n\n    Examples:\n    &gt;&gt;&gt; alphainEncode(4327)\n    'lohi'\n    &gt;&gt;&gt; alphainEncode(3463470)\n    'bomejusa'\n    '''\n\n    codedPin = \"\"\n\n    while pin &gt; 0:\n        last_two_digits = pin % 100\n        codedPin = VOWELS[last_two_digits % 5] + codedPin\n        codedPin = CONSONANTS[last_two_digits // 5] + codedPin\n        pin = pin // 100\n\n    return codedPin\n</code></pre>\n\n<p>Decryption code:</p>\n\n<pre><code>def alphapinDecode(codedPin):\n    '''(string) -&gt; num\n    DOCSTRING PLACEHOLDER\n    '''\n\n    #This while loop checks validity of input string (string).\n    testPin = codedPin\n    while len(testPin) &gt; 0:\n        if testPin[-1] in VOWELS and testPin[-2] in CONSONANTS:\n            testPin = testPin[:-2]\n        else:\n            print (\"Your string is incorrectly formatted. Please use consonant-vowel pairs.\")\n            return None\n\n    #Decryption code goes here!\n\n    return #pin\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 3, "last_activity_date": 1454535652, "creation_date": 1454535652, "answer_id": 35188284, "question_id": 35187444, "link": "https://stackoverflow.com/questions/35187444/pandas-aggregate-based-on-start-end-date/35188284#35188284", "title": "pandas: Aggregate based on start/end date", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.stack.html\" rel=\"nofollow\"><code>stack</code></a> and <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.resample.html\" rel=\"nofollow\"><code>resample</code></a>:</p>\n\n<pre><code>import pandas as pd\n\ntest_frame = pd.DataFrame([['A','t1',2009,2014],\n                       ['A','t1',2010,2015],\n                       ['B','t1',2007,2009],\n                       ['B','t2',2008,2011]],\n                      columns = ['id','type','first_year','last_year'])\n\nprint test_frame\n  id type  first_year  last_year\n0  A   t1        2009       2014\n1  A   t1        2010       2015\n2  B   t1        2007       2009\n3  B   t2        2008       2011\n\n#stack df, drop and rename column year\ntest_frame = test_frame.set_index(['id','type'], append=True).stack().reset_index(level=[1,2,3])\ntest_frame = test_frame.drop('level_3', axis=1).rename(columns={0:'year'})\n#convert year to datetime\ntest_frame['year'] = pd.to_datetime(test_frame['year'], format=\"%Y\")\nprint test_frame\n  id type       year\n0  A   t1 2009-01-01\n0  A   t1 2014-01-01\n1  A   t1 2010-01-01\n1  A   t1 2015-01-01\n2  B   t1 2007-01-01\n2  B   t1 2009-01-01\n3  B   t2 2008-01-01\n3  B   t2 2011-01-01\n</code></pre>\n\n\n\n<pre><code>#resample and fill missing data \nout_frame = test_frame.groupby(test_frame.index).apply(lambda x: x.set_index('year').resample('1AS', how='first',fill_method='ffill')).reset_index(level=1)\nprint out_frame\n        year id type\n0 2009-01-01  A   t1\n0 2010-01-01  A   t1\n0 2011-01-01  A   t1\n0 2012-01-01  A   t1\n0 2013-01-01  A   t1\n0 2014-01-01  A   t1\n1 2010-01-01  A   t1\n1 2011-01-01  A   t1\n1 2012-01-01  A   t1\n1 2013-01-01  A   t1\n1 2014-01-01  A   t1\n1 2015-01-01  A   t1\n2 2007-01-01  B   t1\n2 2008-01-01  B   t1\n2 2009-01-01  B   t1\n3 2008-01-01  B   t2\n3 2009-01-01  B   t2\n3 2010-01-01  B   t2\n3 2011-01-01  B   t2\n\n#convert to year\nout_frame['year'] = out_frame['year'].dt.year\n</code></pre>\n\n\n\n<pre><code>output1 = out_frame.groupby(['id','year', 'type'])['year'].count().reset_index(name='count')\nprint output1\n   id  year type  count\n0   A  2009   t1      1\n1   A  2010   t1      2\n2   A  2011   t1      2\n3   A  2012   t1      2\n4   A  2013   t1      2\n5   A  2014   t1      2\n6   A  2015   t1      1\n7   B  2007   t1      1\n8   B  2008   t1      1\n9   B  2008   t2      1\n10  B  2009   t1      1\n11  B  2009   t2      1\n12  B  2010   t2      1\n13  B  2011   t2      1\n</code></pre>\n\n\n\n<pre><code>output2 = out_frame.groupby(['id','year'])['year'].count().reset_index(name='count')\nprint output2\n   id  year  count\n0   A  2009      1\n1   A  2010      2\n2   A  2011      2\n3   A  2012      2\n4   A  2013      2\n5   A  2014      2\n6   A  2015      1\n7   B  2007      1\n8   B  2008      2\n9   B  2009      2\n10  B  2010      1\n11  B  2011      1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1415, "user_id": 2314391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7e52c232ca81d0d7bf28f2609e15d1?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/2314391/will"}, "is_accepted": false, "score": 0, "last_activity_date": 1454538447, "last_edit_date": 1454538447, "creation_date": 1454538046, "answer_id": 35188887, "question_id": 35187444, "link": "https://stackoverflow.com/questions/35187444/pandas-aggregate-based-on-start-end-date/35188887#35188887", "title": "pandas: Aggregate based on start/end date", "body": "<p>My answer is based on expanding the year columns using a PeriodIndex. Then taking this period range and <em>stacking</em> (rotating) it so that it creates multi-level index.</p>\n\n<pre><code>def expand_period(row):\n   \"Creates a series from first to last year and appends it to the row\"\n   p = pd.period_range(row[\"first_year\"], row[\"last_year\"], freq=\"A\")\n   return row.append(p.to_series()).drop([\"first_year\",\"last_year\"])\n\n#original data frame\ntf = pd.DataFrame([['A','t1',2009,2014],\n                   ['A','t1',2010,2015],\n                   ['B','t1',2007,2009],\n                   ['B','t2',2008,2011]],\n                  columns = ['id','type','first_year','last_year'])\n\n#Drop the year columns but replace them with expanded series\ntfexpanded = tf.apply(expand_period, 1).set_index([\"id\",\"type\"])\n#Rotate the axis so that you have a 3 level index\ntfindexed = tfexpanded.stack()\n#This is not necessary but improves readability when watching the output\ntfindexed[:] = 1\n#Group-By as you did before\nanswer = tfindexed.groupby(level=[0,1,2]).count()\n</code></pre>\n\n<p>Of course, the whole thing can be simplified using lambdas and chained methods.</p>\n"}], "owner": {"reputation": 88, "user_id": 2373727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0c3c889eda2e81c50c2fb8d6199bf1?s=128&d=identicon&r=PG", "display_name": "davidkunio", "link": "https://stackoverflow.com/users/2373727/davidkunio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1106, "favorite_count": 2, "accepted_answer_id": 35188284, "answer_count": 2, "score": 3, "last_activity_date": 1454538447, "creation_date": 1454532692, "question_id": 35187444, "link": "https://stackoverflow.com/questions/35187444/pandas-aggregate-based-on-start-end-date", "title": "pandas: Aggregate based on start/end date", "body": "<p>It is actually a de-aggregation because I have a dataset structured this way:</p>\n\n<pre><code>id  type   first_year   last_year\nA   t1     2009         2014\nA   t1     2010         2015\nB   t1     2007         2009\nB   t2     2008         2011\n</code></pre>\n\n<p>But I need to aggregate by id/year and have overlapping start/end entries. </p>\n\n<p>Data is in a pandas data frame like so:</p>\n\n<pre><code>test_frame = pd.DataFrame([['A','t1',2009,2014],\n                       ['A','t1',2010,2015],\n                       ['B','t1',2007,2009],\n                       ['B','t2',2008,2011]],\n                      columns = ['id','type','first_year','last_year'])\n</code></pre>\n\n<p>I'm hoping to get data returned in a few different ways: </p>\n\n<pre><code>id  year  count\nA   2009  1\nA   2010  2\nA   2011  2\n...\nB   2007  1\nB   2008  2\nB   2009  1 \n</code></pre>\n\n<p>And perhaps like this:</p>\n\n<pre><code>id  year  type    count\nA   2009  t1      1\nA   2010  t1      2\nA   2011  t1      2\n...\nB   2007  t1      1\nB   2008  t1      1\nB   2008  t2      1\nB   2009  t2      1\nB   2010  t2      1\n</code></pre>\n\n<p>This basically works for the 1st method, but as you can imagine it is pretty slow using itertuples for a large dataset.  Any more pandas-ic way? </p>\n\n<pre><code>out_frame = pd.DataFrame(columns = ['id','type','year'])\nfor rows in test_frame.itertuples():\n    for year in range(int(rows[3]),int(rows[4])):\n        d2 = pd.DataFrame({'id': [rows[1]],'year': [year]},columns = ['id','year'])\n        out_frame = out_frame.append(d2)\noutput1 = out_frame.groupby(['id','year'])['year'].count()\noutput1\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy", "relationship"], "comments": [{"owner": {"reputation": 5095, "user_id": 2022518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9366c006da5aca3fa94f7be13677042d?s=128&d=identicon&r=PG", "display_name": "LetMeSOThat4U", "link": "https://stackoverflow.com/users/2022518/letmesothat4u"}, "edited": false, "score": 1, "creation_date": 1454536967, "post_id": 35187401, "comment_id": 58094419, "body": "<a href=\"http://docs.sqlalchemy.org/en/latest/orm/self_referential.html\" rel=\"nofollow noreferrer\">docs.sqlalchemy.org/en/latest/orm/self_referential.html</a> ?"}, {"owner": {"reputation": 2432, "user_id": 1139131, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c9d5ca0838f355d80360c341122d04b?s=128&d=identicon&r=PG&f=1", "display_name": "Colton Allen", "link": "https://stackoverflow.com/users/1139131/colton-allen"}, "reply_to_user": {"reputation": 5095, "user_id": 2022518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9366c006da5aca3fa94f7be13677042d?s=128&d=identicon&r=PG", "display_name": "LetMeSOThat4U", "link": "https://stackoverflow.com/users/2022518/letmesothat4u"}, "edited": false, "score": 0, "creation_date": 1454537437, "post_id": 35187401, "comment_id": 58094648, "body": "@LetMeSOThat4U Perfect.  Exactly what I was looking for.  Strange that I didn&#39;t come across it while I was googling for half the day haha."}, {"owner": {"reputation": 5095, "user_id": 2022518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9366c006da5aca3fa94f7be13677042d?s=128&d=identicon&r=PG", "display_name": "LetMeSOThat4U", "link": "https://stackoverflow.com/users/2022518/letmesothat4u"}, "edited": false, "score": 0, "creation_date": 1454603033, "post_id": 35187401, "comment_id": 58127997, "body": "I have an impression that Google nowadays overfits search to personal data, making it miss &quot;global optimum&quot; if you get my drift. If google fails me, I often do searches on a very different computer (like windows when my personal machine is linux, etc)"}], "owner": {"reputation": 2432, "user_id": 1139131, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c9d5ca0838f355d80360c341122d04b?s=128&d=identicon&r=PG&f=1", "display_name": "Colton Allen", "link": "https://stackoverflow.com/users/1139131/colton-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1454532571, "creation_date": 1454532571, "question_id": 35187401, "link": "https://stackoverflow.com/questions/35187401/handling-self-referential-backref", "title": "Handling self-referential backref", "body": "<p>How do I setup a self-referential relationship scheme such that I can get the parent and the children with one or more <code>relationship</code> columns?  I'd like to be able to lazy load the parent model and all the child models.</p>\n\n<p>The model setup:</p>\n\n<pre><code>class Test(Model):\n    order = Column(Integer)\n\n    parent_id = Column(Integer, ForeignKey('test.id'))\n    parent = relationship('Test', foreign_keys=[parent_id], uselist=False)\n    children = relationship(\n        'Test', order_by='Test.order',\n        collection_class=ordering_list('order', count_from=1))\n</code></pre>\n"}, {"tags": ["python", "django", "email"], "comments": [{"owner": {"reputation": 3147, "user_id": 3500094, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/60e56d19071e326c8ff64bd50719d4b8?s=128&d=identicon&r=PG", "display_name": "souldeux", "link": "https://stackoverflow.com/users/3500094/souldeux"}, "edited": false, "score": 0, "creation_date": 1454533498, "post_id": 35187398, "comment_id": 58092525, "body": "Do you have EMAIL_HOST, EMAIL_PORT, and all of that good stuff defined in your settings.py?"}, {"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1454533508, "post_id": 35187398, "comment_id": 58092534, "body": "When you say &quot;server log&quot; do you mean apache etc or django&#39;s logging? if its not the latter, you should set that up and look there"}, {"owner": {"reputation": 323, "user_id": 4501444, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh5.googleusercontent.com/-c5kR7hi1rBM/AAAAAAAAAAI/AAAAAAAAAAA/_cHIyrwaqA4/photo.jpg?sz=128", "display_name": "acs254", "link": "https://stackoverflow.com/users/4501444/acs254"}, "edited": false, "score": 0, "creation_date": 1454537800, "post_id": 35187398, "comment_id": 58094837, "body": "I have EMAIL_HOST and everything defined in settings. I actually have other functions in this app that send emails perfectly. And to answer the second question, I was referring to an apache server error log. I&#39;ll set up a Django log and see if that&#39;s explanatory."}, {"owner": {"reputation": 323, "user_id": 4501444, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh5.googleusercontent.com/-c5kR7hi1rBM/AAAAAAAAAAI/AAAAAAAAAAA/_cHIyrwaqA4/photo.jpg?sz=128", "display_name": "acs254", "link": "https://stackoverflow.com/users/4501444/acs254"}, "edited": false, "score": 0, "creation_date": 1454557947, "post_id": 35187398, "comment_id": 58101398, "body": "When I harcode the email addresses into the function, it works fine. When I try to use the variable &quot;from_email,&quot; that&#39;s when I get the server error."}], "owner": {"reputation": 323, "user_id": 4501444, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh5.googleusercontent.com/-c5kR7hi1rBM/AAAAAAAAAAI/AAAAAAAAAAA/_cHIyrwaqA4/photo.jpg?sz=128", "display_name": "acs254", "link": "https://stackoverflow.com/users/4501444/acs254"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1454532562, "creation_date": 1454532562, "question_id": 35187398, "link": "https://stackoverflow.com/questions/35187398/django-core-email-causing-server-error-500", "title": "Django.Core.Email Causing Server Error (500)", "body": "<p>I would like to send a confirmation email to customers when they create and pay for a new subscription, but my Django email function is causing a server error (500). The server's error log does not give any details, but I have isolated the error to the <code>subscription.send_subscription_email()</code> function in views.py.</p>\n\n<p>Am I missing something in <code>send_subscription_email()</code>?</p>\n\n<p>models.py</p>\n\n<pre><code>import decimal\nimport datetime\nimport hashlib\nimport random\nimport re\nfrom django.conf import settings\nfrom django.core.mail import EmailMultiAlternatives\nfrom django.template import RequestContext, TemplateDoesNotExist\nfrom django.template.loader import render_to_string\nfrom django.utils import six\nfrom django.dispatch import Signal, receiver\nfrom django.utils import timezone\nfrom datetime import datetime, timedelta\nfrom django.db import models\nfrom django.utils.translation import ugettext_lazy as _\nfrom django.core.exceptions import ValidationError\nfrom django.contrib.contenttypes.models import ContentType\nfrom django.contrib.contenttypes import generic\nfrom decimal import *\nfrom django.utils.encoding import python_2_unicode_compatible\n\nclass Subscription(StripeObject):\n\n    sub_user        = models.ForeignKey(Customer)\n    creation_date   = models.DateTimeField(auto_now_add=True)\n    delivery_date   = models.DateTimeField(blank=True, null=True)\n    last_update     = models.DateTimeField(auto_now=True)\n    checked_out     = models.NullBooleanField(blank=True, null=True, default=False, verbose_name=_('checked out'))\n    weekly_plan     = models.CharField(_('plan'), max_length=150, blank=True, null=True)\n    weekly_amt      = models.PositiveSmallIntegerField(blank=True, null=True, default=0)\n    price           = models.PositiveSmallIntegerField(blank=True, null=True, default=0)\n    apartment       = models.CharField(_('apartment'), max_length=150, blank=True, null=True)\n\ndef send_subscription_email(self):\n    ctx_dict = {}\n    ctx_dict.update({\n        'user': self.sub_user,\n        'apartment': self.apartment,\n        'first_delivery_date': self.delivery_date,\n        'weekly_plan': self.weekly_plan,\n    })\n    subject = render_to_string('templates/subject.txt', ctx_dict)\n    from_email = 'xxx@xxxxx.com'\n    message_txt = render_to_string('templates/subscription_success_email.txt',ctx_dict)\n    email_message = EmailMultiAlternatives(subject,message_txt,from_email,[self.sub_user.email])\n    email_message.send()\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code> if request.method == \"POST\":\n                form = SubscriptionPaymentForm(request.POST)\n                if form.is_valid():\n                        token = stripe.Token.create(\n                                card = {\n                                  \"number\": form.cleaned_data['number'],\n                                  \"exp_month\": form.cleaned_data['expiration'].month,\n                                  \"exp_year\": form.cleaned_data['expiration'].year,\n                                  \"cvc\": form.cleaned_data['cvc'],\n                                  \"address_line1\": form.cleaned_data['address']\n                                },\n                        )\n                        c = stripe.Customer.retrieve(customer.stripe_id)\n                        c.sources.create(source=token.id)\n                        try:\n                                subscription = c.subscriptions.retrieve(subscription.stripe_id)\n                                subscription.plan = subscription.weekly_plan\n                                subscription.save()\n                        except:\n                                sub = c.subscriptions.create(plan=subscription.weekly_plan)\n                                subscription.stripe_id = sub.id\n                                subscription.save()\n                                subscription.send_subscription_email()\n                        subscription.checked_out = True\n                        subscription.status = \"Paid\"\n                        subscription.save()\n                        return HttpResponseRedirect('/profile/')\n</code></pre>\n\n<p>subscription_success_email.txt</p>\n\n<pre><code>{% load i18n %}\n\nDear Customer,\n\nThank you for creating your first subscription! Just to confirm, your weekly deliveries will be sent to {{ apartment }}, and your first delivery will arrive on {{ first_delivery_date }}. After that, you'll receive deliveries every Monday until you cancel your subscription. Currently, you have selected the option {{ weekly_plan }}, but you can upgrade or downgrade at any time. We'll be sure to notify you once your first delivery arrives.\n\nIf anything looks incorrect, please email us at info@gather-food.us or update your subscription at http://www.gather.kitchen/profile/.\n\nEnjoy!\nAddison\n</code></pre>\n"}, {"tags": ["python", "pygame", "pydev"], "owner": {"reputation": 634, "user_id": 5181021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SAxcC.jpg?s=128&g=1", "display_name": "ayanokouji", "link": "https://stackoverflow.com/users/5181021/ayanokouji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1454532561, "creation_date": 1454532561, "question_id": 35187397, "link": "https://stackoverflow.com/questions/35187397/export-pydev-pygame-project-as-exe", "title": "Export PyDev Pygame project as .exe?", "body": "<p>I'm currently using PyDev to build my python game right now, and I just finished; but I still have one more thing to do: Export as an executable. </p>\n\n<p>Right now, I have a folder called 'resources' that stores all my game music, sounds, and images. There is also 'Game.py' which is a game I created with pygame.</p>\n\n<p>My question is: How would I export the whole workspace - 'resources' and 'Game.py' -  as a .exe? Py2exe and PyInstaller don't seem to be working.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1755, "user_id": 301807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1592f5324a6c2db9fcfc6045af36e669?s=128&d=identicon&r=PG", "display_name": "dtanders", "link": "https://stackoverflow.com/users/301807/dtanders"}, "edited": false, "score": 3, "creation_date": 1454532606, "post_id": 35187355, "comment_id": 58091987, "body": "I think you&#39;re approaching this from the wrong direction. If your test is expecting a certain order but you&#39;re not explicitly sorting anything or using an OrderedDict, your test is wrong."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1454533219, "post_id": 35187355, "comment_id": 58092359, "body": "Note that in 3.3 and up hash randomisation (and therefore dict order randomisation) is the default - <a href=\"https://docs.python.org/3/whatsnew/3.3.html\" rel=\"nofollow noreferrer\">docs.python.org/3/whatsnew/3.3.html</a>"}, {"owner": {"reputation": 1373, "user_id": 871914, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23f389411056ead7bc39c8e71fa26c5a?s=128&d=identicon&r=PG", "display_name": "Eli Stevens", "link": "https://stackoverflow.com/users/871914/eli-stevens"}, "edited": false, "score": 0, "creation_date": 1454533265, "post_id": 35187355, "comment_id": 58092393, "body": "I&#39;ve already tried wrapping all of the iteration points I can find with <code>sorted</code>, but the problem persists. I&#39;m trying to determine conclusively if the issue is dict iteration or not, without having to make a ton of edits to my code."}, {"owner": {"reputation": 2029, "user_id": 986924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e9ec0190fc31b4fdc73ae52fd919bd0?s=128&d=identicon&r=PG", "display_name": "Ben Graham", "link": "https://stackoverflow.com/users/986924/ben-graham"}, "reply_to_user": {"reputation": 1755, "user_id": 301807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1592f5324a6c2db9fcfc6045af36e669?s=128&d=identicon&r=PG", "display_name": "dtanders", "link": "https://stackoverflow.com/users/301807/dtanders"}, "edited": false, "score": 0, "creation_date": 1454538775, "post_id": 35187355, "comment_id": 58095313, "body": "Agree with @dtanders, it sounds like your tests are overzealous. Consider what you actually want to test in the output, rather than throwing <code>sorted</code> around until the problem disappears. For example, if you just want to see that the expected and actual outputs have the same items, compare sets instead of lists."}], "answers": [{"tags": [], "owner": {"reputation": 4261, "user_id": 767760, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a60efd2e2f1d33289d6dd55c9e8cd18e?s=128&d=identicon&r=PG", "display_name": "S4M", "link": "https://stackoverflow.com/users/767760/s4m"}, "is_accepted": false, "score": 0, "last_activity_date": 1454532744, "creation_date": 1454532744, "answer_id": 35187459, "question_id": 35187355, "link": "https://stackoverflow.com/questions/35187355/forcing-randomized-dict-iteration-order/35187459#35187459", "title": "Forcing randomized dict iteration order", "body": "<p>If you have to use a <code>dict</code> (and can't use an <code>OrderedDict</code> as @Oscar Loper is suggesting), use <code>sorted(your_dict.keys())</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1373, "user_id": 871914, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23f389411056ead7bc39c8e71fa26c5a?s=128&d=identicon&r=PG", "display_name": "Eli Stevens", "link": "https://stackoverflow.com/users/871914/eli-stevens"}, "is_accepted": true, "score": 0, "last_activity_date": 1454533826, "creation_date": 1454533826, "answer_id": 35187773, "question_id": 35187355, "link": "https://stackoverflow.com/questions/35187355/forcing-randomized-dict-iteration-order/35187773#35187773", "title": "Forcing randomized dict iteration order", "body": "<p>Python 2.7.3 (among others) supports hash randomization (off by default in the 2.x series at least), which can be turned on via <code>env PYTHONHASHSEED=random</code> or the <code>-R</code> CLI argument. </p>\n\n<p>Thanks @jonrsharpe for pointing out that such exists.</p>\n\n<p>See: <a href=\"https://mail.python.org/pipermail/python-dev/2012-April/118676.html\" rel=\"nofollow\">https://mail.python.org/pipermail/python-dev/2012-April/118676.html</a></p>\n"}], "owner": {"reputation": 1373, "user_id": 871914, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23f389411056ead7bc39c8e71fa26c5a?s=128&d=identicon&r=PG", "display_name": "Eli Stevens", "link": "https://stackoverflow.com/users/871914/eli-stevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 2, "accepted_answer_id": 35187773, "answer_count": 2, "score": 2, "last_activity_date": 1454533826, "creation_date": 1454532367, "question_id": 35187355, "link": "https://stackoverflow.com/questions/35187355/forcing-randomized-dict-iteration-order", "title": "Forcing randomized dict iteration order", "body": "<p>I have a fairly complex set of data (dict of keys-to-list-of-dicts of etc.) that passes through a fairly complex set of transformation functions to arrive at a final structure.</p>\n\n<p>Very rarely during testing, the unit tests I have fail with an error due to one of the lists coming back with the items in an unexpected order. </p>\n\n<p>I believe this is due to iterating over a dict without sorting the keys, but I cannot find a case where that happens by code review, and trying to inspect the intermediate values is difficult because the failures only happen on our CI server.</p>\n\n<p>Is it possible to instruct python to randomize the order of all dict iteration? I'm pretty sure that doing so would make it easy to debug locally (or rule out my hunch entirely).</p>\n\n<p>I'm open to doing hacky things like messing with the metaclass of dict or w/e, just for local testing. I cannot easily do things like \"manually wrap all dicts with this function call\" since I've already tried similar with <code>sorted</code> and it didn't fix things.</p>\n"}, {"tags": ["python", "django", "admin", "models"], "comments": [{"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454532541, "post_id": 35187219, "comment_id": 58091943, "body": "You may find this helpful: <a href=\"http://www.ibm.com/developerworks/library/os-django-admin/#N10260\" rel=\"nofollow noreferrer\">Deeper modifications: Adding row-level permissions</a>"}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454535405, "post_id": 35187219, "comment_id": 58093580, "body": "You were almost there. Just place those <code>has_change_permission</code> and <code>has_delete_permission</code> inside your <code>ProblemasAdmin</code> and remove the <code>Checker</code> class, which is not really needed. And remember to handle the case <code>obj=None</code> or you will get errors!"}, {"owner": {"reputation": 27, "user_id": 3858799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/625746632/picture?type=large", "display_name": "Rodolfo Jos&#233; Miquilarena", "link": "https://stackoverflow.com/users/3858799/rodolfo-jos%c3%a9-miquilarena"}, "reply_to_user": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454537305, "post_id": 35187219, "comment_id": 58094589, "body": "Hi, i edited my question again. However now it gives a type error which i find weird since i am validating the case where i am not in a table (obj=None) ): , i am reading the link you gave me, thanks!"}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454537799, "post_id": 35187219, "comment_id": 58094836, "body": "<code>obj</code> is an optional argument. See <a href=\"https://docs.djangoproject.com/en/1.9/ref/contrib/admin/#django.contrib.admin.ModelAdmin.has_change_permission\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/ref/contrib/admin/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454532666, "post_id": 35187396, "comment_id": 58092025, "body": "Nitpick: <code>obj</code> may be <code>None</code>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454532702, "post_id": 35187396, "comment_id": 58092051, "body": "I saw that ... but im not sure under what circumstances it would be none ... so I figure the logic is easier with just one condition also ..."}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454532964, "post_id": 35187396, "comment_id": 58092214, "body": "It can be <code>None</code> when rendering the changelist (i.e. the list of questions), and in other occasions that I can&#39;t remember"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454535015, "post_id": 35187396, "comment_id": 58093365, "body": "@RodolfoJos&#233;Miquilarena put your model in the original question along with what you tried ..."}, {"owner": {"reputation": 27, "user_id": 3858799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/625746632/picture?type=large", "display_name": "Rodolfo Jos&#233; Miquilarena", "link": "https://stackoverflow.com/users/3858799/rodolfo-jos%c3%a9-miquilarena"}, "edited": false, "score": 0, "creation_date": 1454535057, "post_id": 35187396, "comment_id": 58093389, "body": "Thanks for your help!, however i don&#39;t know what to do with this, i mean how do i call for it in my ProblemModelAdmin?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454535200, "post_id": 35187396, "comment_id": 58093470, "body": "this is your <code>ProblemModelAdmin</code> I just called it <code>QuestionModelAdmin</code> cause I had no idea what you named your models ... see my previous comment..."}, {"owner": {"reputation": 27, "user_id": 3858799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/625746632/picture?type=large", "display_name": "Rodolfo Jos&#233; Miquilarena", "link": "https://stackoverflow.com/users/3858799/rodolfo-jos%c3%a9-miquilarena"}, "edited": false, "score": 0, "creation_date": 1454535717, "post_id": 35187396, "comment_id": 58093750, "body": "i edited my question , however i am quite stuck on how to return the class properly."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454535908, "post_id": 35187396, "comment_id": 58093838, "body": "I have a meeting I will look at it again when I get back"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454537619, "post_id": 35187396, "comment_id": 58094744, "body": "your <code>ProblemasAdmin</code> looks right try putting a print statement in the functions to make sure they are getting called ..."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454537676, "post_id": 35187396, "comment_id": 58094773, "body": "oh change it to <code>def has_change_permission(self,request,obj=None):</code> in both functions"}, {"owner": {"reputation": 27, "user_id": 3858799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/625746632/picture?type=large", "display_name": "Rodolfo Jos&#233; Miquilarena", "link": "https://stackoverflow.com/users/3858799/rodolfo-jos%c3%a9-miquilarena"}, "edited": false, "score": 0, "creation_date": 1454538153, "post_id": 35187396, "comment_id": 58095018, "body": "Hi i just edited again , it is not giving the error, but it still let common staff users erase entries that are from other users."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1454538243, "post_id": 35187396, "comment_id": 58095051, "body": "try adding some print statements ... or use breakpoints ... the only reason a user can erase is if that returns true"}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "reply_to_user": {"reputation": 27, "user_id": 3858799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/625746632/picture?type=large", "display_name": "Rodolfo Jos&#233; Miquilarena", "link": "https://stackoverflow.com/users/3858799/rodolfo-jos%c3%a9-miquilarena"}, "edited": false, "score": 1, "creation_date": 1454538495, "post_id": 35187396, "comment_id": 58095185, "body": "@RodolfoJos&#233;Miquilarena: in <code>save_model</code> you&#39;re using <code>obj.added_by</code>, while in <code>has_*_permission</code> you&#39;re using <code>obj.owner</code>"}, {"owner": {"reputation": 27, "user_id": 3858799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/625746632/picture?type=large", "display_name": "Rodolfo Jos&#233; Miquilarena", "link": "https://stackoverflow.com/users/3858799/rodolfo-jos%c3%a9-miquilarena"}, "edited": false, "score": 0, "creation_date": 1454543293, "post_id": 35187396, "comment_id": 58097096, "body": "hello i managed to solve the issues i had adding the field &#39;User&#39; and other things ill edit with my progress! now a common user can&#39;t directly delete, but he can still delete in cascade queryset, do you have any suggestions on that? thanks!"}, {"owner": {"reputation": 27, "user_id": 3858799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/625746632/picture?type=large", "display_name": "Rodolfo Jos&#233; Miquilarena", "link": "https://stackoverflow.com/users/3858799/rodolfo-jos%c3%a9-miquilarena"}, "edited": false, "score": 0, "creation_date": 1454563871, "post_id": 35187396, "comment_id": 58103325, "body": "I solved the issue, thank you so much for all your help"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1454537687, "last_edit_date": 1454537687, "creation_date": 1454532556, "answer_id": 35187396, "question_id": 35187219, "link": "https://stackoverflow.com/questions/35187219/django-admin-site-users-model-limitations/35187396#35187396", "title": "Django admin site users model limitations", "body": "<pre><code>@register(QuestionModel)\nclass QuestionModelAdmin(ModelAdmin):\n     def has_change_permission(self,request,obj=None):\n         return request.user == obj.owner\n     def has_delete_permission(self,request,obj=None):\n         return request.user == obj.owner\n</code></pre>\n\n<p>I think should work</p>\n"}], "owner": {"reputation": 27, "user_id": 3858799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/625746632/picture?type=large", "display_name": "Rodolfo Jos&#233; Miquilarena", "link": "https://stackoverflow.com/users/3858799/rodolfo-jos%c3%a9-miquilarena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1454564006, "creation_date": 1454531913, "last_edit_date": 1454564006, "question_id": 35187219, "link": "https://stackoverflow.com/questions/35187219/django-admin-site-users-model-limitations", "title": "Django admin site users model limitations", "body": "<p>i am really new to Django, but since i am doing a fairly easy app i was suggested by a friend to use only the admin site which is fast and easy, i am almost done with my project, but i need one thing i don't seem to find anywhere.</p>\n\n<p>My model is about adding programming problems, however i need to have a field that identifies which user added it and that only that user and the super users can erase or change the problem he just added. </p>\n\n<p>Of course adding the field is quite simple, however how do i recognize who is adding the problem? and how to validate only him and the super users can change or delete that said problem?. I believe this is the most challenging phase of this project, can you help me?.</p>\n\n<p>Thanks in advance :)!</p>\n\n<p>EDIT: this is what i tried after the answer i just got recently, but i am quite stuck :/</p>\n\n<p>EDIT2: this is now how it looks, but it gives my a type error and brings down the whole adminsite with this : </p>\n\n<p>\"has_change_permission() takes exactly 3 arguments (2 given)\"</p>\n\n<p>EDIT3: now i have changed the code but it still let regular staff users to erase delete entries, and sadly now it gives the error in EDIT 2 when i try to modify the content of the entry.</p>\n\n<p>EDIT4: Finally thanks to your help i could make it impossible for a common user to delete directly on the database, however the default delete by queryset still works for them, what can i do?</p>\n\n<p>EDIT5: Thanks for all the help you gave me today, now it works and it is wonderful! i leave the code so someone else with this same issue can just do it, i had to do such a long research to get rid of the \"delete_element\" from django's admin the one that is setted as default.</p>\n\n<pre><code>from django.contrib import admin\n\nfrom .models import Problemas\n# Register your models here.\nfrom django.contrib.admin.actions import delete_selected as delete_selected_\n\n\ndef delete_selected(modeladmin,request,queryset):\n    for obj in queryset:\n        if (obj.User==request.user.username or request.user.is_superuser):\n            obj.delete()\n\n\n\nclass ProblemasAdmin(admin.ModelAdmin):\n    list_display = ('Juez', 'Nombre', 'Categoria','Dificultad','URL','User')\n    list_filter = ('Juez','Categoria','Dificultad','User')\n    search_fields = ['Nombre']\n    readonly_fields = ('User',)\n    list_per_page = 20\n    actions = [delete_selected]\n\n    def save_model(self, request, obj, form, change):\n        if (obj.User==\"\"):\n            obj.User = request.user.username\n        obj.save()\n\n\n    def delete_model(self,request,obj):\n        for o in obj.all():\n            if (o.User==request.user.username or request.user.is_superuser):\n                o.delete()\n\n    def has_change_permission(self,request,obj=None):\n        return obj==None or request.user.username == obj.User or request.user.is_superuser\n    def has_delete_permission(self,request,obj=None):\n        return obj==None or request.user.username == obj.User or request.user.is_superuser\n\nadmin.site.register(Problemas,ProblemasAdmin)\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 1, "creation_date": 1454531851, "post_id": 35187168, "comment_id": 58091531, "body": "You shouldn&#39;t do this in models.py, you should separate logic and data as much as you can. Do you use a form or something to save a card number?"}, {"owner": {"reputation": 366, "user_id": 5709142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dac6c268b4f70c3d995951497aff1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Yaaaaaaaaaaay", "link": "https://stackoverflow.com/users/5709142/yaaaaaaaaaaay"}, "edited": false, "score": 1, "creation_date": 1454532130, "post_id": 35187168, "comment_id": 58091710, "body": "You may modify save() method or set a model validation (if you are using a form) for checking the status."}, {"owner": {"reputation": 11620, "user_id": 386221, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f91ca8acbec85001364d635c044dee9?s=128&d=identicon&r=PG", "display_name": "Derek Kwok", "link": "https://stackoverflow.com/users/386221/derek-kwok"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 1, "creation_date": 1454532787, "post_id": 35187168, "comment_id": 58092099, "body": "@Shang Wang It&#39;s not really logic though- the database schema should correctly model the data. Just as you would want to ensure certain columns are unique in a regular database (e.g. user&#39;s email), in Felicio&#39;s case, card_number should be unique where status is False. With the constraint, it guarantees that the database will never have identical card_number where status is False."}, {"owner": {"reputation": 146, "user_id": 2800413, "user_type": "registered", "profile_image": "https://graph.facebook.com/1402980896/picture?type=large", "display_name": "Fel&#237;cio", "link": "https://stackoverflow.com/users/2800413/fel%c3%adcio"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1454584263, "post_id": 35187168, "comment_id": 58115000, "body": "@ShangWang Yup, form it is. I&#39;ll try Derek&#39;s solutions and report afterwards."}, {"owner": {"reputation": 146, "user_id": 2800413, "user_type": "registered", "profile_image": "https://graph.facebook.com/1402980896/picture?type=large", "display_name": "Fel&#237;cio", "link": "https://stackoverflow.com/users/2800413/fel%c3%adcio"}, "edited": false, "score": 1, "creation_date": 1454584570, "post_id": 35187168, "comment_id": 58115192, "body": "Yup, Derek&#39;s solution meets the restriction I needed. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 11620, "user_id": 386221, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f91ca8acbec85001364d635c044dee9?s=128&d=identicon&r=PG", "display_name": "Derek Kwok", "link": "https://stackoverflow.com/users/386221/derek-kwok"}, "is_accepted": true, "score": 3, "last_activity_date": 1454532348, "creation_date": 1454532348, "answer_id": 35187350, "question_id": 35187168, "link": "https://stackoverflow.com/questions/35187168/django-postgres-conditional-constrain/35187350#35187350", "title": "django postgres conditional constrain", "body": "<p>Django doesn't support defining conditional constraints in models.py, however you can create a migration to add such a constraint. </p>\n\n<p>Start by creating an empty migration</p>\n\n<pre><code>./manage.py makemigrations appname --empty\n</code></pre>\n\n<p>This will create an empty migration file. Next, you'll want to add your custom constraint to the migration</p>\n\n<pre><code>class Migration(migrations.Migration):\n\n    ... \n\n    operations = [\n        migrations.RunSQL('create unique index card_number_ind on cards (card_number) where (status is false)'),\n    ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1694, "user_id": 2282638, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/mMfpw.jpg?s=128&g=1", "display_name": "Sandeep Balagopal", "link": "https://stackoverflow.com/users/2282638/sandeep-balagopal"}, "edited": false, "score": 0, "creation_date": 1606385763, "post_id": 64252557, "comment_id": 114950437, "body": "is it available for non unique cases ? Like i want to make a field required when a certain value is there in another field."}, {"owner": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "reply_to_user": {"reputation": 1694, "user_id": 2282638, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/mMfpw.jpg?s=128&g=1", "display_name": "Sandeep Balagopal", "link": "https://stackoverflow.com/users/2282638/sandeep-balagopal"}, "edited": false, "score": 1, "creation_date": 1606406090, "post_id": 64252557, "comment_id": 114959557, "body": "@SandeepBalagopal Yes, you can create complex constraints as well.  You also may be interested in django -pgtriggers."}], "tags": [], "owner": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "is_accepted": false, "score": 2, "last_activity_date": 1602106055, "creation_date": 1602106055, "answer_id": 64252557, "question_id": 35187168, "link": "https://stackoverflow.com/questions/35187168/django-postgres-conditional-constrain/64252557#64252557", "title": "django postgres conditional constrain", "body": "<p>Starting in <a href=\"https://docs.djangoproject.com/en/2.2/ref/models/constraints/\" rel=\"nofollow noreferrer\">Django 2.2</a> there is now a <code>UniqueConstraint</code> declaration available that has a <code>condition</code> option.</p>\n<p><strong>condition</strong></p>\n<p><strong>UniqueConstraint.condition</strong></p>\n<p>A <strong>Q</strong> object that specifies the condition you want the constraint to enforce.</p>\n<p>For example:</p>\n<pre><code>UniqueConstraint(fields=['user'], condition=Q(status='DRAFT'), name='unique_draft_user')\n</code></pre>\n<p>ensures that each user only has one draft.</p>\n"}], "owner": {"reputation": 146, "user_id": 2800413, "user_type": "registered", "profile_image": "https://graph.facebook.com/1402980896/picture?type=large", "display_name": "Fel&#237;cio", "link": "https://stackoverflow.com/users/2800413/fel%c3%adcio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 1, "accepted_answer_id": 35187350, "answer_count": 2, "score": 4, "last_activity_date": 1602106055, "creation_date": 1454531699, "question_id": 35187168, "link": "https://stackoverflow.com/questions/35187168/django-postgres-conditional-constrain", "title": "django postgres conditional constrain", "body": "<p>I'm trying to set a conditional unique constrain to one of my model field (column on db perspective) with respect to another boolean field but can't find a way to do it.  </p>\n\n<p>I'm creating a web management tool, to aid/control custumers atendance, based on numbered cards while they are still on the store.\nMy main objective is to <strong>prevent my user to save</strong> an card number <strong>while</strong> this number is still active (aka <strong>boolean field)</strong> with another custumer.<br>\nSomething like this on models.py:  </p>\n\n<pre><code>    class Cards(models.Model):\n         card_number = models.PositiveIntegerField(\"\"\"{{RESTRICTION NEEDED}}\"\"\")\n         card_date = models.DateTimeField(auto_now=False, auto_now_add=True)\n         custumer = models.ForeignKey(Customer)\n         status = models.BooleanField(default=False)\n</code></pre>\n\n<p>maybe something like this would work directly on postgres, didn't tried yet</p>\n\n<pre><code>CREATE UNIQUE INDEX card_number_ind ON Cards (card_number) WHERE (status is False);\n</code></pre>\n\n<p>Any chance to do it directly with Django? I mean set a conditional unique constrain with respect to a boolean field (status) on Django?</p>\n\n<p>TIA<br>\nObs.This is my first question ever on stackoverflow, feel free to criticize on style.</p>\n"}, {"tags": ["python", "dictionary", "subtraction"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 1, "creation_date": 1454531759, "post_id": 35187165, "comment_id": 58091467, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11277432/how-to-remove-a-key-from-a-dictionary\">How to remove a key from a dictionary?</a>"}, {"owner": {"reputation": 975, "user_id": 5310300, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/afaecaec20bab728939bbd9bc5538635?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/5310300/lucas"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1454531896, "post_id": 35187165, "comment_id": 58091553, "body": "No @Code-Apprendice, that post does not answer my question. I don&#39;t want to remove keys from a dict, but to subtract key-value pairs."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1454531938, "post_id": 35187165, "comment_id": 58091577, "body": "@Lucas:  Isn&#39;t that just semantics?  Removing the key removes the value."}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 0, "creation_date": 1454532007, "post_id": 35187165, "comment_id": 58091626, "body": "@Lucas try <code>difference</code> in set."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1454532032, "post_id": 35187165, "comment_id": 58091647, "body": "@Lucas How is removing a key different than subtracting key-value pairs? What do you mean by &quot;subtract key-value&quot;? Apparently your question is not entirely clear. Please add more details so that we can understand what you want to do."}, {"owner": {"reputation": 975, "user_id": 5310300, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/afaecaec20bab728939bbd9bc5538635?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/5310300/lucas"}, "reply_to_user": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1454532156, "post_id": 35187165, "comment_id": 58091718, "body": "Hi @Steven Rumbalski, the problem is that some keys are duplicates but with different values, so when I remove the keys in the way you say, I will remove key-value pairs that have same keys but different values. I don&#39;t want that."}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1454532229, "post_id": 35187165, "comment_id": 58091779, "body": "@viakondratiuk That isn&#39;t quite what is asked for.  In your link, what is wanted is to find the difference between the values for each key.  Here Lucas wants to remove every duplicate key."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1454532282, "post_id": 35187165, "comment_id": 58091811, "body": "@Lucas:  Are your values integers?  If so, your collections can be <code>collections.Counter</code> a subclass of dict.  <code>collections.Counter</code> has a <code>subtract</code> method."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 2, "creation_date": 1454532474, "post_id": 35187165, "comment_id": 58091908, "body": "@Lucas:  Your question would be well served with a small example of what you are asking for."}, {"owner": {"reputation": 975, "user_id": 5310300, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/afaecaec20bab728939bbd9bc5538635?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/5310300/lucas"}, "edited": false, "score": 0, "creation_date": 1454532751, "post_id": 35187165, "comment_id": 58092083, "body": "I just edited the post. I hope it is clearer this time."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1454532866, "post_id": 35187165, "comment_id": 58092152, "body": "@Lucas: If <code>A = {&#39;x&#39;:10, &#39;y&#39;:5, &#39;z&#39;:1}</code> and <code>B = {&#39;x&#39;:10, &#39;y&#39;:3}</code> should the result be <code>{&#39;y&#39;:2, &#39;z&#39;:1}</code> or <code>{&#39;y&#39;:5, &#39;z&#39;:1}</code>?"}, {"owner": {"reputation": 1415, "user_id": 2314391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7e52c232ca81d0d7bf28f2609e15d1?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/2314391/will"}, "edited": false, "score": 7, "creation_date": 1454533301, "post_id": 35187165, "comment_id": 58092415, "body": "@Lucas: how can k:v pairs from B be in A and then A also have duplicated keys with different values? A key can only appear once in a dictionary?"}, {"owner": {"reputation": 975, "user_id": 5310300, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/afaecaec20bab728939bbd9bc5538635?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/5310300/lucas"}, "reply_to_user": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1454534152, "post_id": 35187165, "comment_id": 58092893, "body": "@Steven Rumbalsky and the others. I just added an example in the edited post. Thank you and the others for your feedback."}, {"owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "edited": false, "score": 6, "creation_date": 1454534342, "post_id": 35187165, "comment_id": 58093002, "body": "<code>A = {&#39;10&#39;:1, &#39;11&#39;:1, &#39;12&#39;:1, &#39;10&#39;:2, &#39;11&#39;:2, &#39;11&#39;:3}</code> is not possible. If you do this at the python prompt, you will get something like <code>{&#39;11&#39;: 3, &#39;10&#39;: 2, &#39;12&#39;: 1}</code> for A."}, {"owner": {"reputation": 6185, "user_id": 2996101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2f6dc29829d698cb1f763a6da99bb48?s=128&d=identicon&r=PG", "display_name": "raratiru", "link": "https://stackoverflow.com/users/2996101/raratiru"}, "edited": false, "score": 0, "creation_date": 1481667608, "post_id": 35187165, "comment_id": 69467398, "body": "@Lucas Why not accepting the answer that gave the solution?"}], "answers": [{"tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 1, "last_activity_date": 1454532276, "last_edit_date": 1454532276, "creation_date": 1454532096, "answer_id": 35187279, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries/35187279#35187279", "title": "Python. How to subtract 2 dictionaries", "body": "<pre><code>result = A.copy()\n[result.pop(key) for key in B if B[key] == A[key]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 1, "creation_date": 1454532732, "post_id": 35187281, "comment_id": 58092065, "body": "This is the most logical/readable, and probably fastest, and it easily tweakable whether the values have to be equal (or just keys being equal) as well."}], "tags": [], "owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "is_accepted": false, "score": 33, "last_activity_date": 1562092754, "last_edit_date": 1562092754, "creation_date": 1454532109, "answer_id": 35187281, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries/35187281#35187281", "title": "Python. How to subtract 2 dictionaries", "body": "<p>To get items in A that are not in B, based just on key:</p>\n\n<pre><code>C = {k:v for k,v in A.items() if k not in B}\n</code></pre>\n\n<p>To get items in A that are not in B, based on key and value:</p>\n\n<pre><code>C = {k:v for k,v in A.items() if k not in B or v != B[k]}\n</code></pre>\n\n<p>To update A in place (as in <code>A -= B</code>) do:</p>\n\n<pre><code>from collections import deque\nconsume = deque(maxlen=0).extend\nconsume(A.pop(key, None) for key in B)\n</code></pre>\n\n<p>(Unlike using map() with <code>A.pop</code>, calling <code>A.pop</code> with a None default will not break if a key from B is not present in A. Also, unlike using <code>all</code>, this iterator consumer will iterate over all values, regardless of truthiness of the popped values.)</p>\n"}, {"comments": [{"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 9, "creation_date": 1454532594, "post_id": 35187308, "comment_id": 58091976, "body": "This won&#39;t work when any of the values is not hashable."}, {"owner": {"reputation": 462, "user_id": 428806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/795a3eaf17f4577481022f237cc61b74?s=128&d=identicon&r=PG", "display_name": "Joshua Stafford", "link": "https://stackoverflow.com/users/428806/joshua-stafford"}, "edited": false, "score": 0, "creation_date": 1519839917, "post_id": 35187308, "comment_id": 85076095, "body": "When would the values not be hashable?"}, {"owner": {"reputation": 5935, "user_id": 893324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b24d4de5ae7afebfee98aa85e8a960e?s=128&d=identicon&r=PG", "display_name": "Brien", "link": "https://stackoverflow.com/users/893324/brien"}, "edited": false, "score": 0, "creation_date": 1519859644, "post_id": 35187308, "comment_id": 85085740, "body": "Simply put, it&#39;s just when it isn&#39;t <a href=\"https://docs.python.org/2/glossary.html#term-hashable\" rel=\"nofollow noreferrer\">hashable</a>.  Builtin unhashables are lists and dicts.  It&#39;s why, for example, you can&#39;t have a list as a dict key."}, {"owner": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "reply_to_user": {"reputation": 462, "user_id": 428806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/795a3eaf17f4577481022f237cc61b74?s=128&d=identicon&r=PG", "display_name": "Joshua Stafford", "link": "https://stackoverflow.com/users/428806/joshua-stafford"}, "edited": false, "score": 3, "creation_date": 1526522436, "post_id": 35187308, "comment_id": 87780440, "body": "@HuckIt If you store a list in a dict, you&#39;ll have problems"}, {"owner": {"reputation": 12379, "user_id": 512155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d9e7cb33c7af34026a521a786ada19b?s=128&d=identicon&r=PG", "display_name": "jan groth", "link": "https://stackoverflow.com/users/512155/jan-groth"}, "edited": false, "score": 1, "creation_date": 1583304341, "post_id": 35187308, "comment_id": 107066157, "body": "<i>If you store a list in a dict, you&#39;ll have problems</i> -&gt; that&#39;s pretty common in dicts derived from JSON."}], "tags": [], "owner": {"reputation": 5935, "user_id": 893324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b24d4de5ae7afebfee98aa85e8a960e?s=128&d=identicon&r=PG", "display_name": "Brien", "link": "https://stackoverflow.com/users/893324/brien"}, "is_accepted": false, "score": 16, "last_activity_date": 1454532193, "creation_date": 1454532193, "answer_id": 35187308, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries/35187308#35187308", "title": "Python. How to subtract 2 dictionaries", "body": "<p>An easy, intuitive way to do this is</p>\n\n<pre><code>dict(set(a.items()) - set(b.items()))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1454533456, "post_id": 35187566, "comment_id": 58092506, "body": "This is different than @brien&#39;s answer.  This considers keys only whereas the other answer considers key-value pairs.  They will give different answers."}, {"owner": {"reputation": 138, "user_id": 1541488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5DK00.jpg?s=128&g=1", "display_name": "robert arles", "link": "https://stackoverflow.com/users/1541488/robert-arles"}, "reply_to_user": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1454535081, "post_id": 35187566, "comment_id": 58093399, "body": "@StevenRumbalski: Yes! True. I should have pointed that out, and will clarify it in my answer.  I was working from the OPs stated presumption that all of the existing key/val pairs from b are in a. So B is a subset."}], "tags": [], "owner": {"reputation": 138, "user_id": 1541488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5DK00.jpg?s=128&g=1", "display_name": "robert arles", "link": "https://stackoverflow.com/users/1541488/robert-arles"}, "is_accepted": false, "score": 3, "last_activity_date": 1454540908, "last_edit_date": 1454540908, "creation_date": 1454533123, "answer_id": 35187566, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries/35187566#35187566", "title": "Python. How to subtract 2 dictionaries", "body": "<p>Another way of using the efficiency of sets. This <em>might</em> be more multipurpose than the answer by <a href=\"https://stackoverflow.com/a/35187308/5827958\">@brien</a>. His answer is very nice and concise, so I upvoted it.</p>\n\n<pre><code>diffKeys = set(a.keys()) - set(b.keys())\nc = dict()\nfor key in diffKeys:\n  c[key] = a.get(key)\n</code></pre>\n\n<p>EDIT: There is the assumption here, based on the OP's question, that dict B is a subset of dict A, that the key/val pairs in B are in A.  The above code will have unexpected results if you are not working strictly with a key/val subset. Thanks to Steven for pointing this out in his comment.</p>\n"}, {"comments": [{"owner": {"reputation": 1049, "user_id": 2540487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57b209c190cf45e21379fcf63c1aa1c5?s=128&d=identicon&r=PG", "display_name": "mpb", "link": "https://stackoverflow.com/users/2540487/mpb"}, "edited": false, "score": 1, "creation_date": 1515636084, "post_id": 48180351, "comment_id": 83378809, "body": "At least in Python 3, <code>map</code> does not seem to work as described by Monty   After running <code>map( A.pop, B )</code>, A is unchanged.  (Perhaps because in Python 3, <code>map</code> returns an iterator.)"}, {"owner": {"reputation": 178, "user_id": 4564946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-90bwyiMkKDI/AAAAAAAAAAI/AAAAAAAABD8/1SQO-kriBA0/photo.jpg?sz=128", "display_name": "Monty Montemayor", "link": "https://stackoverflow.com/users/4564946/monty-montemayor"}, "reply_to_user": {"reputation": 1049, "user_id": 2540487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57b209c190cf45e21379fcf63c1aa1c5?s=128&d=identicon&r=PG", "display_name": "mpb", "link": "https://stackoverflow.com/users/2540487/mpb"}, "edited": false, "score": 2, "creation_date": 1516832245, "post_id": 48180351, "comment_id": 83856365, "body": "@mpb, good catch!  have to put it inside all() or something so to consume the iterator. Works for Python 2 and 3"}, {"owner": {"reputation": 462, "user_id": 428806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/795a3eaf17f4577481022f237cc61b74?s=128&d=identicon&r=PG", "display_name": "Joshua Stafford", "link": "https://stackoverflow.com/users/428806/joshua-stafford"}, "edited": false, "score": 1, "creation_date": 1519839952, "post_id": 48180351, "comment_id": 85076111, "body": "This did not work for me since all() returns a bool.  Did I miss something?"}, {"owner": {"reputation": 178, "user_id": 4564946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-90bwyiMkKDI/AAAAAAAAAAI/AAAAAAAABD8/1SQO-kriBA0/photo.jpg?sz=128", "display_name": "Monty Montemayor", "link": "https://stackoverflow.com/users/4564946/monty-montemayor"}, "edited": false, "score": 0, "creation_date": 1519846153, "post_id": 48180351, "comment_id": 85079298, "body": "what version of python do you have?  btw, why downvote, if I can still help you?"}, {"owner": {"reputation": 462, "user_id": 428806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/795a3eaf17f4577481022f237cc61b74?s=128&d=identicon&r=PG", "display_name": "Joshua Stafford", "link": "https://stackoverflow.com/users/428806/joshua-stafford"}, "edited": false, "score": 0, "creation_date": 1530369536, "post_id": 48180351, "comment_id": 89217923, "body": "Sorry this is months after the fact, but I downvoted because &quot;it did not work&quot;.  If I made the mistake, I&#39;m happy to turn that frown upside down.  I&#39;m using Python 3."}, {"owner": {"reputation": 912, "user_id": 1163020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2a15c70fa6664fb5b21346233904809?s=128&d=identicon&r=PG", "display_name": "Orez", "link": "https://stackoverflow.com/users/1163020/orez"}, "edited": false, "score": 4, "creation_date": 1531166507, "post_id": 48180351, "comment_id": 89485290, "body": "I&#39;d avoid using <code>map</code> just for its side effect, and avoid using <code>all</code> to force evaluation. If any of your values are falsey <code>all</code> will stop popping values from A prematurely! In general there&#39;s nothing wrong with an imperative for-loop, and in this case PaulMcG&#39;s non-mutative comprehension answer seems like the best solution."}, {"owner": {"reputation": 12866, "user_id": 110488, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/21369d30fe2c6c976ffe735f2fd0ee91?s=128&d=identicon&r=PG", "display_name": "Chen Levy", "link": "https://stackoverflow.com/users/110488/chen-levy"}, "edited": false, "score": 0, "creation_date": 1609789806, "post_id": 48180351, "comment_id": 115927436, "body": "If you need to consume an iterator use <a href=\"https://stackoverflow.com/a/21210673\"><code>collection.deque()</code></a> not <code>all()</code> since <code>all</code> will stop if one of the keys in B is falsy."}], "tags": [], "owner": {"reputation": 178, "user_id": 4564946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-90bwyiMkKDI/AAAAAAAAAAI/AAAAAAAABD8/1SQO-kriBA0/photo.jpg?sz=128", "display_name": "Monty Montemayor", "link": "https://stackoverflow.com/users/4564946/monty-montemayor"}, "is_accepted": true, "score": 9, "last_activity_date": 1516832327, "last_edit_date": 1516832327, "creation_date": 1515558778, "answer_id": 48180351, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries/48180351#48180351", "title": "Python. How to subtract 2 dictionaries", "body": "<pre><code>A = {'10':1, '11':1, '12':1, '10':2, '11':2, '11':3}\nB = {'11':1, '11':2}\n</code></pre>\n\n<p>You can't have duplicate keys in Python. If you run the above, it will get reduced to:</p>\n\n<pre><code>A={'11': 3, '10': 2, '12': 1}\nB={'11': 2}\n</code></pre>\n\n<p>But to answer you question, to do A - B (based on dict keys):</p>\n\n<pre><code>all(map( A.pop, B))   # use all() so it works for Python 2 and 3.\nprint A # {'10': 2, '12': 1}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 245, "user_id": 3195195, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zmqyV.jpg?s=128&g=1", "display_name": "jeffry copps", "link": "https://stackoverflow.com/users/3195195/jeffry-copps"}, "edited": false, "score": 0, "creation_date": 1544780228, "post_id": 53351566, "comment_id": 94405087, "body": "TypeError: unsupported operand type(s) for -: &#39;list&#39; and &#39;list&#39;. You need to make it a list."}, {"owner": {"reputation": 11, "user_id": 6553327, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SYuha4oBeUg/AAAAAAAAAAI/AAAAAAAAEkU/Jk3jEjHEaGk/photo.jpg?sz=128", "display_name": "Rupin Talreja", "link": "https://stackoverflow.com/users/6553327/rupin-talreja"}, "reply_to_user": {"reputation": 245, "user_id": 3195195, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zmqyV.jpg?s=128&g=1", "display_name": "jeffry copps", "link": "https://stackoverflow.com/users/3195195/jeffry-copps"}, "edited": false, "score": 0, "creation_date": 1548161264, "post_id": 53351566, "comment_id": 95436781, "body": "@jeffrycopps &gt;&gt;&gt; a = {&#39;f&#39;:5,&#39;g&#39;:6,&#39;c&#39;:7,&#39;d&#39;:4} &gt;&gt;&gt; b = {&#39;f&#39;:5,&#39;g&#39;:6,&#39;d&#39;:4} &gt;&gt;&gt; c = {k:a[k] for k in a.keys() - b.keys()} &gt;&gt;&gt; c {&#39;c&#39;: 7}"}, {"owner": {"reputation": 245, "user_id": 3195195, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zmqyV.jpg?s=128&g=1", "display_name": "jeffry copps", "link": "https://stackoverflow.com/users/3195195/jeffry-copps"}, "edited": false, "score": 0, "creation_date": 1548175769, "post_id": 53351566, "comment_id": 95445890, "body": "Try running your code on 2.7. It would fail. Btw, the question doesn&#39;t say Python3."}, {"owner": {"reputation": 11, "user_id": 6553327, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SYuha4oBeUg/AAAAAAAAAAI/AAAAAAAAEkU/Jk3jEjHEaGk/photo.jpg?sz=128", "display_name": "Rupin Talreja", "link": "https://stackoverflow.com/users/6553327/rupin-talreja"}, "reply_to_user": {"reputation": 245, "user_id": 3195195, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zmqyV.jpg?s=128&g=1", "display_name": "jeffry copps", "link": "https://stackoverflow.com/users/3195195/jeffry-copps"}, "edited": false, "score": 0, "creation_date": 1600641532, "post_id": 53351566, "comment_id": 113143811, "body": "you are correct Python 2 cannot subtract list but can subtract sets so c = {k:a[k] for k in list(set(a.keys())-set(b.keys()))}"}], "tags": [], "owner": {"reputation": 11, "user_id": 6553327, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SYuha4oBeUg/AAAAAAAAAAI/AAAAAAAAEkU/Jk3jEjHEaGk/photo.jpg?sz=128", "display_name": "Rupin Talreja", "link": "https://stackoverflow.com/users/6553327/rupin-talreja"}, "is_accepted": false, "score": -1, "last_activity_date": 1600643886, "last_edit_date": 1600643886, "creation_date": 1542460193, "answer_id": 53351566, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries/53351566#53351566", "title": "Python. How to subtract 2 dictionaries", "body": "<p>Based on only keys assuming A is a superset of B or B is a subset of A:</p>\n<p>Python 3: c = {k:a[k] for k in a.keys() - b.keys()}</p>\n<p>Python 2: c = {k:a[k] for k in list(set(a.keys())-set(b.keys()))}</p>\n<p>Based on keys and can be used to update a in place as well @PaulMcG answer</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 1284621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feaac48f6ac0a38b1458b94495f960fd?s=128&d=identicon&r=PG", "display_name": "slavos1", "link": "https://stackoverflow.com/users/1284621/slavos1"}, "is_accepted": false, "score": 2, "last_activity_date": 1543326507, "creation_date": 1543326507, "answer_id": 53501189, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries/53501189#53501189", "title": "Python. How to subtract 2 dictionaries", "body": "<p>Since I can not (yet) comment: the accepted <a href=\"https://stackoverflow.com/a/48180351/1284621\">answer</a> will fail if there are some keys in B not present in A.</p>\n\n<p>Using dict.pop with a default would circumvent it (borrowed from <a href=\"https://stackoverflow.com/q/11277432/1284621\">How to remove a key from a Python dictionary?</a>):</p>\n\n<pre><code>all(A.pop(k, None) for k in B)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>tuple(A.pop(k, None) for k in B)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 14718000, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MPmPJm0tB7k/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnf-aEPp_d1JDrRAZd1iRpBJhjUCw/s96-c/photo.jpg?sz=128", "display_name": "Emeka Okafor", "link": "https://stackoverflow.com/users/14718000/emeka-okafor"}, "is_accepted": false, "score": 0, "last_activity_date": 1606462336, "creation_date": 1606462336, "answer_id": 65033532, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries/65033532#65033532", "title": "Python. How to subtract 2 dictionaries", "body": "<p>For subtracting the dictionaries, you could do :</p>\n<p>A.subtract(B)</p>\n<p>Note: This will give you negative values in a situation where B has keys that A does not.</p>\n"}], "owner": {"reputation": 975, "user_id": 5310300, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/afaecaec20bab728939bbd9bc5538635?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/5310300/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29675, "favorite_count": 1, "accepted_answer_id": 48180351, "answer_count": 8, "score": 7, "last_activity_date": 1606462336, "creation_date": 1454531691, "last_edit_date": 1454533861, "question_id": 35187165, "link": "https://stackoverflow.com/questions/35187165/python-how-to-subtract-2-dictionaries", "title": "Python. How to subtract 2 dictionaries", "body": "<p>I have 2 dictionaries, A and B. A has 700000 key-value pairs and B has 560000 key-values pairs. All key-value pairs from B are present in A, but some keys in A are duplicates with different values and some have duplicated values but unique keys. I would like to subtract B from A, so I can get the remaining 140000 key-value pairs. When I subtract key-value pairs based on key identity, I remove lets say 150000 key-value pairs because of the repeated keys. I want to subtract key-value pairs based on the identity of BOTH key AND value for each key-value pair, so I get 140000. Any suggestion would be welcome.</p>\n\n<p>This is an example:</p>\n\n<pre><code>A = {'10':1, '11':1, '12':1, '10':2, '11':2, '11':3}\nB = {'11':1, '11':2}\n</code></pre>\n\n<p>I DO want to get: \n    A-B = {'10':1, '12':1, '10':2, '11':3}</p>\n\n<p>I DO NOT want to get:</p>\n\n<p>a) When based on keys:</p>\n\n<pre><code>{'10':1, '12':1, '10':2}\n</code></pre>\n\n<p>or</p>\n\n<p>b) When based on values:</p>\n\n<pre><code>{'11':3}\n</code></pre>\n"}, {"tags": ["python", "macos", "csv", "pandas", "encoding"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454531822, "post_id": 35187164, "comment_id": 58091510, "body": "whichever encoding you want, just make sure it&#39;s the <b>SAME</b> encoding on both sides."}, {"owner": {"reputation": 505, "user_id": 3225904, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1b0e448c61aa34a459794ce58699ce31?s=128&d=identicon&r=PG", "display_name": "Pedro Carvalho", "link": "https://stackoverflow.com/users/3225904/pedro-carvalho"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454532044, "post_id": 35187164, "comment_id": 58091662, "body": "Right but I want to know what the encoding actually <i>is</i>, because I need to be able to read those characters from the file and I don&#39;t seem to be able to."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454532076, "post_id": 35187164, "comment_id": 58091681, "body": "start with the basics: assume utf8"}, {"owner": {"reputation": 505, "user_id": 3225904, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1b0e448c61aa34a459794ce58699ce31?s=128&d=identicon&r=PG", "display_name": "Pedro Carvalho", "link": "https://stackoverflow.com/users/3225904/pedro-carvalho"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454532286, "post_id": 35187164, "comment_id": 58091813, "body": "I&#39;ve assumed utf8, various parts of iso-8859, and cp860 (the document is in Portuguese) to no avail."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454532352, "post_id": 35187164, "comment_id": 58091851, "body": "win-1252? it&#39;s extremely hard to reliably detect char encodings, because any given file could be completely valid in multiple charsets, yet have totally different renderings."}, {"owner": {"reputation": 505, "user_id": 3225904, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1b0e448c61aa34a459794ce58699ce31?s=128&d=identicon&r=PG", "display_name": "Pedro Carvalho", "link": "https://stackoverflow.com/users/3225904/pedro-carvalho"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454532496, "post_id": 35187164, "comment_id": 58091916, "body": "It&#39;s really just a regular mac os file, using the mac ways of accenting things (e.g. option+e then vowel for an acute accent)."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1454532539, "post_id": 35187164, "comment_id": 58091941, "body": "Have you tried chardet? It&#39;s a python module that tries to detect encoding. <a href=\"https://pypi.python.org/pypi/chardet\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/chardet</a>"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1454532543, "post_id": 35187164, "comment_id": 58091945, "body": "relevant? <a href=\"https://discussions.apple.com/thread/146874?start=0&amp;tstart=0\" rel=\"nofollow noreferrer\">discussions.apple.com/thread/146874?start=0&amp;tstart=0</a>"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1454532733, "post_id": 35187164, "comment_id": 58092066, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/436220/python-is-there-a-way-to-determine-the-encoding-of-text-file\">Python: Is there a way to determine the encoding of text file?</a>"}], "owner": {"reputation": 505, "user_id": 3225904, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1b0e448c61aa34a459794ce58699ce31?s=128&d=identicon&r=PG", "display_name": "Pedro Carvalho", "link": "https://stackoverflow.com/users/3225904/pedro-carvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1454531688, "creation_date": 1454531688, "question_id": 35187164, "link": "https://stackoverflow.com/questions/35187164/accent-mac-encoding", "title": "Accent Mac encoding", "body": "<p>I have a CSV file with various accented entries and other symbols. When I open it with Mac's TextEdit, they show nicely, but when I open it with Excel or on Python using pandas, the different characters get all messed up.</p>\n\n<p>As an example, <code>4\u00ba Centen\u00e1rio</code> becomes <code>4\u00bc Centenrio</code>.</p>\n\n<p>What's the encoding I should use (on pandas specifically) to read these special characters properly?</p>\n"}, {"tags": ["javascript", "python", "google-app-engine", "google-cloud-datastore", "app-engine-ndb"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454531560, "post_id": 35186990, "comment_id": 58091342, "body": "How are you getting the key into your javascript in the first place?"}, {"owner": {"reputation": 1023, "user_id": 1869059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/NZLXd.png?s=128&g=1", "display_name": "Ri&#235;l", "link": "https://stackoverflow.com/users/1869059/ri%c3%abl"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454531805, "post_id": 35186990, "comment_id": 58091490, "body": "I fetch it with REST from the Google Datastore. It is saved there as a JSON-blob object, that I decode and parse. This object contains the key strings as a reference but I cannot use those directly."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454532065, "post_id": 35186990, "comment_id": 58091677, "body": "But the <a href=\"https://cloud.google.com/datastore/docs/apis/v1beta2/key\" rel=\"nofollow noreferrer\">datastore JSON API</a> should give you the decoded key already."}, {"owner": {"reputation": 1023, "user_id": 1869059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/NZLXd.png?s=128&g=1", "display_name": "Ri&#235;l", "link": "https://stackoverflow.com/users/1869059/ri%c3%abl"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454532330, "post_id": 35186990, "comment_id": 58091838, "body": "Not really, not in this case. What I actually get from the datastore is a stringified, binairy version of this.  I have no control about what is saved in there because it is a different application storing this, I can only read data. (When I base64 decode that key, I can recognize the entity, but the ID has strange characters)  [   {     &quot;not_applicable&quot;: false,     &quot;key&quot;: &quot;aghlfmFoLXdibxxxxxxxxxxxVlc3Rpb24YgICAgPjChAoM&quot;,     &quot;given_score&quot;: 0   },   {     &quot;not_applicable&quot;: true,     &quot;key&quot;: &quot;aghlfmFoLXdibxxxxxxxxxxxxlc3Rpb24YgICAgIDkkQoM&quot;,     &quot;given_score&quot;: 0   },  etc"}, {"owner": {"reputation": 1023, "user_id": 1869059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/NZLXd.png?s=128&g=1", "display_name": "Ri&#235;l", "link": "https://stackoverflow.com/users/1869059/ri%c3%abl"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454532488, "post_id": 35186990, "comment_id": 58091913, "body": "I actually get this when I decode:  &quot;je~pb-wbmrQuestion\u0f21\u224c\u4000&quot;  I know e~pb-wbm and Question (the path and the entity)"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1454532996, "post_id": 35186990, "comment_id": 58092235, "body": "Well, that decoded string is actually a serialized representation of the Protocol Buffer class that defines the key (Google uses protobufs internally for almost everything). You won&#39;t easily be able to extract the data using JS, without finding a whole load of third-party libraries. Better to get the application that&#39;s providing this data to send it in a more easily decoded form."}, {"owner": {"reputation": 1023, "user_id": 1869059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/NZLXd.png?s=128&g=1", "display_name": "Ri&#235;l", "link": "https://stackoverflow.com/users/1869059/ri%c3%abl"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454533839, "post_id": 35186990, "comment_id": 58092712, "body": "It is always good to know when to stop trying ;)"}], "answers": [{"tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": false, "score": 1, "last_activity_date": 1454545236, "creation_date": 1454545236, "answer_id": 35190313, "question_id": 35186990, "link": "https://stackoverflow.com/questions/35186990/ndb-key-do-this-with-javascript/35190313#35190313", "title": "ndb.key() -&gt; do this with Javascript", "body": "<p>Short answer, no.  Longer answer, not without a lot of work.\n@danielroseman explains it well in his comments.</p>\n\n<p>Normally, keys should stay on the server since they are only useful to ndb.  You can pass around the <code>id = key.id()</code> value for constructing a new key with <code>new_key = ndb.Key(Model, id)</code>.</p>\n\n<p>If you must pass the key around, use <code>safe_key = key.urlsafe()</code> and reconstruct it using <code>ndb.Key(urlsafe=safe_key)</code>.</p>\n"}], "owner": {"reputation": 1023, "user_id": 1869059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/NZLXd.png?s=128&g=1", "display_name": "Ri&#235;l", "link": "https://stackoverflow.com/users/1869059/ri%c3%abl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474761270, "creation_date": 1454531075, "last_edit_date": 1474761270, "question_id": 35186990, "link": "https://stackoverflow.com/questions/35186990/ndb-key-do-this-with-javascript", "title": "ndb.key() -&gt; do this with Javascript", "body": "<p>In my applicatoin I get keys that are constructed in a Python system, writing to Google Datastore.</p>\n\n<p>To match the data, I need the ID's of these items, and they are in the 'key' string.</p>\n\n<p>I cannot do key.id() since I do not have Python, I need to 'decode' it manually using JavaScript / Google Apps Script.</p>\n\n<p>Is this possible?</p>\n\n<pre><code>key = Key(urlsafe=url_string)\nkind_string = key.kind()\nident = key.id()\n</code></pre>\n"}, {"tags": ["python", "pandas", "decorator", "datetimeindex"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 3, "creation_date": 1454531865, "post_id": 35186965, "comment_id": 58091536, "body": "Why not just create your own?"}], "answers": [{"tags": [], "owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "is_accepted": false, "score": 2, "last_activity_date": 1454532058, "creation_date": 1454532058, "answer_id": 35187273, "question_id": 35186965, "link": "https://stackoverflow.com/questions/35186965/asserting-that-pandas-dataframe-has-a-datetime-index-through-decorator/35187273#35187273", "title": "Asserting that pandas dataframe has a datetime index through decorator", "body": "<p>Here's one, somewhat patterned off of <a href=\"https://github.com/TomAugspurger/engarde/blob/master/engarde/decorators.py\" rel=\"nofollow\"><code>engarde</code></a></p>\n\n<pre><code>In [84]: def has_datetimeindex(func):\n    ...:     @wraps(func)\n    ...:     def wrapper(df, *args, **kwargs):\n    ...:         assert isinstance(df.index, pd.DatetimeIndex)\n    ...:         return func(df, *args, **kwargs)\n    ...:     return wrapper\n\nIn [85]: @has_datetimeindex\n    ...: def f(df):\n    ...:     return df + 1\n\nIn [86]: df = pd.DataFrame({'a':[1,2,3]})\n\nIn [87]: f(df)\n---------------------------------------------------------------------------\nAssertionError                            Traceback (most recent call last)\n&lt;ipython-input-87-ce83b19059ea&gt; in &lt;module&gt;()\n----&gt; 1 f(df)\n\n&lt;ipython-input-84-1ecf9973e7d5&gt; in wrapper(df, *args, **kwargs)\n      2     @wraps(func)\n      3     def wrapper(df, *args, **kwargs):\n----&gt; 4         assert isinstance(df.index, pd.DatetimeIndex)\n      5         return func(df, *args, **kwargs)\n      6     return wrapper\n\nAssertionError: \n\nIn [88]: df = pd.DataFrame({'a':[1,2,3]}, index=pd.date_range('2014-1-1', periods=3))\n\nIn [89]: f(df)\nOut[89]: \n            a\n2014-01-01  2\n2014-01-02  3\n2014-01-03  4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454532131, "post_id": 35187274, "comment_id": 58091711, "body": "And there was me half way through mine ;)"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454532161, "post_id": 35187274, "comment_id": 58091729, "body": "I don&#39;t believe you. No way I wrote something faster than you. :-)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454532200, "post_id": 35187274, "comment_id": 58091758, "body": "lol, if you saw me type you would not find it hard to believe :)"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1454532247, "post_id": 35187274, "comment_id": 58091794, "body": "That makes it all the more impressive, then, even if true."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 4, "last_activity_date": 1454532069, "creation_date": 1454532069, "answer_id": 35187274, "question_id": 35186965, "link": "https://stackoverflow.com/questions/35186965/asserting-that-pandas-dataframe-has-a-datetime-index-through-decorator/35187274#35187274", "title": "Asserting that pandas dataframe has a datetime index through decorator", "body": "<p>As @PadraicCunningham writes, it is not too hard to create one using <a href=\"https://docs.python.org/2/library/functools.html\" rel=\"nofollow\"><code>functools.wraps</code></a>:</p>\n\n<pre><code>import functools\n\ndef assert_index_datetime(f):\n    @functools.wraps(f)\n    def wrapper(df):\n        assert df.index.dtype == pd.to_datetime(['2013']).dtype\n        return f(df)\n    return wrapper\n\n@assert_index_datetime\ndef fn(df):\n    pass\n\ndf = pd.DataFrame({'a': [1]}, index=pd.to_datetime(['2013']))\nfn(df)\n</code></pre>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "accepted_answer_id": 35187274, "answer_count": 2, "score": 4, "last_activity_date": 1454532069, "creation_date": 1454531005, "last_edit_date": 1454531212, "question_id": 35186965, "link": "https://stackoverflow.com/questions/35186965/asserting-that-pandas-dataframe-has-a-datetime-index-through-decorator", "title": "Asserting that pandas dataframe has a datetime index through decorator", "body": "<p>How can I add a decorator stating that the incoming pandas dataframe argument to a function has a datetime index?</p>\n\n<p>I have looked at the packages engarde and validada, but not found anything yet. I could do this check inside the function, but would prefer a decorator.</p>\n"}, {"tags": ["python", "command-line-arguments"], "comments": [{"owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1454531166, "post_id": 35186964, "comment_id": 58091038, "body": "Make each command its own argument?"}, {"owner": {"reputation": 2353, "user_id": 4253620, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100000126215976/picture?type=large", "display_name": "Ela", "link": "https://stackoverflow.com/users/4253620/ela"}, "reply_to_user": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1454532918, "post_id": 35186964, "comment_id": 58092184, "body": "Would that have to be a flag?"}], "answers": [{"comments": [{"owner": {"reputation": 2353, "user_id": 4253620, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100000126215976/picture?type=large", "display_name": "Ela", "link": "https://stackoverflow.com/users/4253620/ela"}, "edited": false, "score": 0, "creation_date": 1454533497, "post_id": 35187562, "comment_id": 58092524, "body": "Then if someone passes &#39;command1&#39; then <code>args.command=command1</code>?"}, {"owner": {"reputation": 2353, "user_id": 4253620, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100000126215976/picture?type=large", "display_name": "Ela", "link": "https://stackoverflow.com/users/4253620/ela"}, "edited": false, "score": 0, "creation_date": 1454534222, "post_id": 35187562, "comment_id": 58092944, "body": "When I use this method I get the command format from help:  program.py [&lt;my flags&gt;] {command1,command2} ... [other_arg], however when I&#39;m trying to run <code>program.py command1 arg</code> it says error: unrecognized arguments: arg"}, {"owner": {"reputation": 2353, "user_id": 4253620, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100000126215976/picture?type=large", "display_name": "Ela", "link": "https://stackoverflow.com/users/4253620/ela"}, "edited": false, "score": 0, "creation_date": 1454534369, "post_id": 35187562, "comment_id": 58093018, "body": "also the &quot;command&quot; is not listed as a positional argument but instead at the end as &quot;command&quot;"}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "reply_to_user": {"reputation": 2353, "user_id": 4253620, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100000126215976/picture?type=large", "display_name": "Ela", "link": "https://stackoverflow.com/users/4253620/ela"}, "edited": false, "score": 0, "creation_date": 1454534487, "post_id": 35187562, "comment_id": 58093085, "body": "@Ela: Yes to your first comment.  Each subparser needs to have its own set of positional arguments added separately; see the documentation for examples."}], "tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": false, "score": 2, "last_activity_date": 1454533105, "creation_date": 1454533105, "answer_id": 35187562, "question_id": 35186964, "link": "https://stackoverflow.com/questions/35186964/specifying-command-to-run-with-argsparse/35187562#35187562", "title": "Specifying command to run with argsparse", "body": "<p>In order for each command to have its own help message, <code>command</code> needs to be a <a href=\"https://docs.python.org/2.7/library/argparse.html#sub-commands\" rel=\"nofollow\">subcommand</a> rather than a positional argument:</p>\n\n<pre><code>command = parser.add_subparsers(title='command', dest='command')\ncommand.add_parser('command1', help='Foo all your bars')\ncommand.add_parser('command2', help='Bar all your foos')\n</code></pre>\n"}], "owner": {"reputation": 2353, "user_id": 4253620, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100000126215976/picture?type=large", "display_name": "Ela", "link": "https://stackoverflow.com/users/4253620/ela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454533926, "creation_date": 1454531004, "last_edit_date": 1454533926, "question_id": 35186964, "link": "https://stackoverflow.com/questions/35186964/specifying-command-to-run-with-argsparse", "title": "Specifying command to run with argsparse", "body": "<p>I am writing a python program which has different behavior, i.e. it calls different function, for different [command] argument. These commands can be chosen from a list of specified commands. Currently I have:</p>\n\n<pre><code>parser.add_argument(\"command\", choices=[\"command1\", \"command2\"])\n</code></pre>\n\n<p>However this means I can't specify help message for each different commands and it seems a bit hacky. Is there a correct way of doing this, which would allow me to specify help for each command?</p>\n\n<p>EDIT: How can I insure that the command is the first argument?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 1, "creation_date": 1454532055, "post_id": 35186938, "comment_id": 58091669, "body": "How did you move the models (and the migrations) exactly? You know: the name of the tables created by Django are in the format &quot;app_model&quot;. If you changed the app name, then the table names that Django expects have changed too."}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 0, "creation_date": 1454532426, "post_id": 35186938, "comment_id": 58091882, "body": "By the way: a full traceback is not always useful, but posting it doesn&#39;t hurt either ;)"}, {"owner": {"reputation": 233, "user_id": 697504, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f0035ae8adac7eced9bbc375182fc064?s=128&d=identicon&r=PG&f=1", "display_name": "sofly", "link": "https://stackoverflow.com/users/697504/sofly"}, "edited": false, "score": 0, "creation_date": 1454533791, "post_id": 35186938, "comment_id": 58092686, "body": "Could you please add your <code>models.py</code> code for us to look at? It could easily be a broken relationship causing this error."}, {"owner": {"reputation": 3452, "user_id": 1389575, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a8dfb2e5435628fd11d77bc63889a8c0?s=128&d=identicon&r=PG", "display_name": "Rupert", "link": "https://stackoverflow.com/users/1389575/rupert"}, "reply_to_user": {"reputation": 233, "user_id": 697504, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f0035ae8adac7eced9bbc375182fc064?s=128&d=identicon&r=PG&f=1", "display_name": "sofly", "link": "https://stackoverflow.com/users/697504/sofly"}, "edited": false, "score": 0, "creation_date": 1454534015, "post_id": 35186938, "comment_id": 58092811, "body": "@SoFLy I have put all the models in their own file in a directory"}, {"owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "edited": false, "score": 0, "creation_date": 1454535044, "post_id": 35186938, "comment_id": 58093378, "body": "Django is particular about naming and structure. If you have moved all your models into a models directory things are not going to work. Models need to live in someapp/models.py not anywhere else."}], "answers": [{"comments": [{"owner": {"reputation": 3452, "user_id": 1389575, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a8dfb2e5435628fd11d77bc63889a8c0?s=128&d=identicon&r=PG", "display_name": "Rupert", "link": "https://stackoverflow.com/users/1389575/rupert"}, "edited": false, "score": 0, "creation_date": 1454534445, "post_id": 35187856, "comment_id": 58093059, "body": "I changed my database table names in the code with the meta function.  The issue is something to do with it thinks State has been deleted or something.  I&#39;m not sure -  Does the db track the migrations also? could it be stored int hat?"}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "reply_to_user": {"reputation": 3452, "user_id": 1389575, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a8dfb2e5435628fd11d77bc63889a8c0?s=128&d=identicon&r=PG", "display_name": "Rupert", "link": "https://stackoverflow.com/users/1389575/rupert"}, "edited": false, "score": 0, "creation_date": 1454534584, "post_id": 35187856, "comment_id": 58093133, "body": "@JeremyLewallen: I don&#39;t know what &quot;State&quot; is, however yes: migrations are tracked in the db (that&#39;s how Django knows if they already run)"}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "reply_to_user": {"reputation": 3452, "user_id": 1389575, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a8dfb2e5435628fd11d77bc63889a8c0?s=128&d=identicon&r=PG", "display_name": "Rupert", "link": "https://stackoverflow.com/users/1389575/rupert"}, "edited": false, "score": 0, "creation_date": 1454534956, "post_id": 35187856, "comment_id": 58093331, "body": "@JeremyLewallen: those <code>Field defines a relation with model ...</code> errors are about related fields (many to many). <code>AlterModelTable</code> will take care of them"}], "tags": [], "owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "is_accepted": false, "score": 5, "last_activity_date": 1454534495, "last_edit_date": 1454534495, "creation_date": 1454534098, "answer_id": 35187856, "question_id": 35186938, "link": "https://stackoverflow.com/questions/35186938/django-errors-when-making-migrations-after-renaming-apps/35187856#35187856", "title": "Django errors when making migrations after renaming apps", "body": "<p>You have renamed your apps without renaming your tables.</p>\n\n<p>Django constructs the table name for your models as <code>&lt;app-name&gt;_&lt;model-name&gt;</code>. By changing the name of the apps, you have changed the table name. Django is now looking for tables that do not exist. It's also complaining about migrations, because applied migrations are recorded in the database and they hold a reference to the app name.</p>\n\n<p>You should <a href=\"https://docs.djangoproject.com/en/1.9/ref/django-admin/#cmdoption-makemigrations--empty\" rel=\"noreferrer\">create a migration manually</a> to take care of these changes:</p>\n\n<ol>\n<li><p>Renaming of tables. You can use <a href=\"https://docs.djangoproject.com/en/1.9/ref/migration-operations/#altermodeltable\" rel=\"noreferrer\"><code>AlterModelTable</code></a> for that.</p>\n\n<pre><code>class Migration(migrations.Migration):\n    # ...\n    operations = [\n        AlterModelTable('&lt;old-app-name&gt;_modelname', '&lt;new-app-name&gt;_modelname'),\n        # ...\n    ]\n</code></pre></li>\n<li><p>Renaming of migrations. You have to use the <a href=\"https://github.com/django/django/blob/a0ce4c09ff516af52718885120c2231404515428/django/db/migrations/recorder.py#L26\" rel=\"noreferrer\"><code>MigrationRecorder.Migration</code></a> model for that.</p>\n\n<pre><code>def rename_migrations_forwards(apps, schema_editor):\n    MigrationRecorder.Migration.objects.filter(app='&lt;old-app-name&gt;').update(app='&lt;new-app-name&gt;')\n\ndef rename_migrations_reverse(apps, schema_editor):\n    MigrationRecorder.Migration.objects.filter(app='&lt;new-app-name&gt;').update(app='&lt;old-app-name&gt;')\n\nclass Migration(migrations.Migration):\n    # ...\n    operations = [\n        # ...\n        migrations.RunPython(\n            rename_migrations_forwards,\n            rename_migrations_reverse,\n        ),\n    ]\n</code></pre></li>\n</ol>\n\n<p>You can skip the renaming of tables if you override <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/options/#db-table\" rel=\"noreferrer\"><code>db_table</code></a> in your model meta. You can't skip the renaming of migrations however.</p>\n"}], "owner": {"reputation": 3452, "user_id": 1389575, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a8dfb2e5435628fd11d77bc63889a8c0?s=128&d=identicon&r=PG", "display_name": "Rupert", "link": "https://stackoverflow.com/users/1389575/rupert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1454534845, "creation_date": 1454530914, "last_edit_date": 1454534845, "question_id": 35186938, "link": "https://stackoverflow.com/questions/35186938/django-errors-when-making-migrations-after-renaming-apps", "title": "Django errors when making migrations after renaming apps", "body": "<p>I am working on a Django project and I am encountering errors in the architecture.</p>\n\n<p>I am trying to setup the models in its own package. However, my application keeps giving me errors.</p>\n\n<p>Everything worked until I moved the models into their own package and made a file for each class.</p>\n\n<p>Now whenever I try to run <code>makemigrations</code>, I get this error:</p>\n\n<pre><code> ValueError: Unhandled pending operations for models:\n  model.state (referred to by fields: testadmin.Member.state, testadmin.Organization.state)\n</code></pre>\n\n<p>I added the models app into the migration command and it somewhat worked -- <code>python ./manage.py makemigrations models</code>. However, now I have this new error. For some reason migrations is not recognizing the <code>State</code> model.</p>\n\n<pre><code>SystemCheckError: System check identified some issues: ERRORS:\nmodels.Member.state: (fields.E300) Field defines a relation with model 'State', which is either not installed, or is abstract.\nmodels.Organization.state: (fields.E300) Field defines a relation with model 'State', which is either not installed, or is abstract\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1454530984, "post_id": 35186891, "comment_id": 58090916, "body": "What do you mean by &gt;formatted like &quot;now&quot;"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1454531066, "post_id": 35186891, "comment_id": 58090976, "body": "Welcome to StackOverflow. It will be easier to help you if the question is updated with an example of the desired output and the eventual Exception or error you got. See the help center in order to learn how to ask a great question."}], "answers": [{"tags": [], "owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "is_accepted": true, "score": -1, "last_activity_date": 1454531117, "creation_date": 1454531117, "answer_id": 35187003, "question_id": 35186891, "link": "https://stackoverflow.com/questions/35186891/edit-time-format-from-to-sources-similar/35187003#35187003", "title": "Edit time format from to sources similar", "body": "<pre><code>ctime = os.path.getctime(r\"C:\\Users\\harila\\file.txt\")\nfiletime = strftime(\"%d %b %Y %H:%M:%S\", localtime(ctime))\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4738424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfd01299a2f33e616a2b9ebdb0b63bd?s=128&d=identicon&r=PG", "display_name": "Harila", "link": "https://stackoverflow.com/users/4738424/harila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 35187003, "answer_count": 1, "score": -1, "last_activity_date": 1454531117, "creation_date": 1454530785, "question_id": 35186891, "link": "https://stackoverflow.com/questions/35186891/edit-time-format-from-to-sources-similar", "title": "Edit time format from to sources similar", "body": "<p>Trying to edit the time format in \"filetime\" as in \"now\". Gets error on everything i try. How can i get \"filetime\" to be formatted like \"now\"?</p>\n\n<pre><code>from time import gmtime, strftime, localtime\nimport time\nimport os\n\nnow = strftime (\"%d %b %Y %H:%M:%S\", localtime())\nprint (now)\n\nfiletime = time.ctime(os.path.getctime (r\"C:\\Users\\harila\\file.txt\"))\nprint (filetime)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pdb"], "comments": [{"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 1, "creation_date": 1454531784, "post_id": 35186841, "comment_id": 58091480, "body": "Looks like <code>pdb</code> has a problem with stdout not being &quot;normal&quot; when you invoke it. If you move the line that replaces standard stdout above the <code>set_trace</code> it works fine. Same if you use <code>contextlib.redirect_stdout</code> instead of manually assigning it, which is probably what you should be doing in the first place.."}, {"owner": {"reputation": 446, "user_id": 306262, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/900653adb87beaa8fd0a5eb50f6ac74b?s=128&d=identicon&r=PG", "display_name": "AdamC", "link": "https://stackoverflow.com/users/306262/adamc"}, "reply_to_user": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1454532803, "post_id": 35186841, "comment_id": 58092109, "body": "I actually got the error originally using contextlib.redirect_stdout -- replaced it just to try to make the issue clearer. I&#39;ll add it to the description above."}, {"owner": {"reputation": 446, "user_id": 306262, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/900653adb87beaa8fd0a5eb50f6ac74b?s=128&d=identicon&r=PG", "display_name": "AdamC", "link": "https://stackoverflow.com/users/306262/adamc"}, "reply_to_user": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1454533146, "post_id": 35186841, "comment_id": 58092324, "body": "Unfortunately, I needed pdb <b>inside</b> the with statement."}], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 306262, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/900653adb87beaa8fd0a5eb50f6ac74b?s=128&d=identicon&r=PG", "display_name": "AdamC", "link": "https://stackoverflow.com/users/306262/adamc"}, "edited": false, "score": 0, "creation_date": 1454679381, "post_id": 35187609, "comment_id": 58165333, "body": "Thanks! Makes me wonder why Pdb doesn&#39;t just do that itself. But it did indeed resolve my issue."}], "tags": [], "owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "is_accepted": false, "score": 5, "last_activity_date": 1454533294, "creation_date": 1454533294, "answer_id": 35187609, "question_id": 35186841, "link": "https://stackoverflow.com/questions/35186841/why-does-this-test-crash-when-pdb-set-trace-is-called/35187609#35187609", "title": "Why does this test crash when pdb.set_trace() is called?", "body": "<p>You need to give <code>pdb</code> the original <code>stdout</code>:</p>\n\n<pre><code>pdb.Pdb(stdout=sys.__stdout__).set_trace()\n</code></pre>\n"}], "owner": {"reputation": 446, "user_id": 306262, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/900653adb87beaa8fd0a5eb50f6ac74b?s=128&d=identicon&r=PG", "display_name": "AdamC", "link": "https://stackoverflow.com/users/306262/adamc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1454533294, "creation_date": 1454530603, "last_edit_date": 1454532944, "question_id": 35186841, "link": "https://stackoverflow.com/questions/35186841/why-does-this-test-crash-when-pdb-set-trace-is-called", "title": "Why does this test crash when pdb.set_trace() is called?", "body": "<p>Simple unittest below.</p>\n\n<p>If I run it (e.g., python -m unittest module_name) without 'test' as an argument, it passes. If I run it with 'test' as an argument, I get \"TypeError: bad argument type for built-in operation\". Why?</p>\n\n<pre><code>from io import StringIO\nimport sys\nfrom unittest import TestCase\n\nclass TestSimple(TestCase):\n    def test_simple(self):\n        old_stdout = sys.stdout\n        buf = StringIO()\n        try:\n            sys.stdout = buf\n            print('hi')\n        finally:\n            import pdb\n            if 'test' in sys.argv:\n                pdb.set_trace()\n            sys.stdout = old_stdout\n</code></pre>\n\n<p>contextlib.redirect_stdout version:</p>\n\n<pre><code>from contextlib import redirect_stdout\nfrom io import StringIO\nimport pdb\nimport sys\nfrom unittest import TestCase\n\nclass TestSimple(TestCase):\n    def test_simple(self):\n        buf = StringIO()\n        with redirect_stdout(buf):\n            print('hi')\n            pdb.set_trace()\n        print('finis')\n</code></pre>\n\n<p>Thanks in advance.</p>\n\n<p><strong>Edit:</strong>\nThe original program was tested in Python 3.4 in both Debian and Windows 7.</p>\n\n<p>Something similar (using environment flags instead of a command line argument) appears to hang in Python 2, but pressing c allows it to finish, so I'm guessing it might just be that pdb's UI has been redirected.But the Python 3 version has the behavior initial described (crashes), although a colleague tested on 3.4 on Mac OS and saw the \"hang\" behavior.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1454530659, "post_id": 35186798, "comment_id": 58090719, "body": "I&#39;m voting to close this question as off-topic because this is neither a code-writing nor tutorial service"}, {"owner": {"reputation": 1287, "user_id": 828727, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/023b284e303248a0ff40e2265178ac47?s=128&d=identicon&r=PG", "display_name": "k9b", "link": "https://stackoverflow.com/users/828727/k9b"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1454531571, "post_id": 35186798, "comment_id": 58091353, "body": "I&#39;m sorry if you feel that way. I&#39;ve proposed an algorithm that I thought of. Feel free to tell me if its legitimate or not. I dont need you to write me code or tell the another solution."}, {"owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 1, "creation_date": 1454531763, "post_id": 35186798, "comment_id": 58091470, "body": "Got an algorithm? Ok, give us code, or even pseudo-code. Reading the site help couldn&#39;t hurt <a href=\"http://stackoverflow.com/help/dont-ask\">stackoverflow.com/help/dont-ask</a>"}, {"owner": {"reputation": 1287, "user_id": 828727, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/023b284e303248a0ff40e2265178ac47?s=128&d=identicon&r=PG", "display_name": "k9b", "link": "https://stackoverflow.com/users/828727/k9b"}, "edited": false, "score": 0, "creation_date": 1454531830, "post_id": 35186798, "comment_id": 58091522, "body": "Ive considered recurring down to the left side until it hits a number, go to its parent and then go to its right side and evaluate. But what if the right node has children of itself?"}], "answers": [{"comments": [{"owner": {"reputation": 1287, "user_id": 828727, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/023b284e303248a0ff40e2265178ac47?s=128&d=identicon&r=PG", "display_name": "k9b", "link": "https://stackoverflow.com/users/828727/k9b"}, "edited": false, "score": 0, "creation_date": 1454531712, "post_id": 35186904, "comment_id": 58091436, "body": "Thank you very much for your prompt reply. This is exactly what I was thinking but did not quite know how to implement thanks. I am assuming, node.payload refers to the value of the node, and .compute just performs the node.payload operation on the right and left. Thanks for the answer!"}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "reply_to_user": {"reputation": 1287, "user_id": 828727, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/023b284e303248a0ff40e2265178ac47?s=128&d=identicon&r=PG", "display_name": "k9b", "link": "https://stackoverflow.com/users/828727/k9b"}, "edited": false, "score": 0, "creation_date": 1454534506, "post_id": 35186904, "comment_id": 58093101, "body": "Yes, you understood correctly: <code>.payload</code> is expected to be an object that knows how to calculate itself. Probably you&#39;ll need two wide classes: for operations and for constants. Note that constants could as well use <code>.compute()</code> to return the value, just not requiring any arguments. Unary operators, such as unary minus, could expect the left node to be <code>None</code>. In general, the <code>evaluate</code> and <code>.compute</code> functions can be seen as the same thing: <code>.compute(node)</code> could pick <code>.left</code> and <code>.right</code> if it needs them."}], "tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": true, "score": 3, "last_activity_date": 1454530823, "creation_date": 1454530823, "answer_id": 35186904, "question_id": 35186798, "link": "https://stackoverflow.com/questions/35186798/evaluating-a-parse-tree-in-python/35186904#35186904", "title": "Evaluating a parse tree in python", "body": "<p>You could do the obvious thing: calculate each argument and then apply the operation.</p>\n\n<pre><code>def evaluate(node):\n  if node.payload.isOperation():\n    return node.payload.compute(evaluate(node.left), evaluate(node.right))\n  else:  # it's a constant\n    return node.payload.asNumber()\n</code></pre>\n"}], "owner": {"reputation": 1287, "user_id": 828727, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/023b284e303248a0ff40e2265178ac47?s=128&d=identicon&r=PG", "display_name": "k9b", "link": "https://stackoverflow.com/users/828727/k9b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 35186904, "answer_count": 1, "score": -3, "last_activity_date": 1454530823, "creation_date": 1454530455, "question_id": 35186798, "link": "https://stackoverflow.com/questions/35186798/evaluating-a-parse-tree-in-python", "title": "Evaluating a parse tree in python", "body": "<p>So here is an example Tree</p>\n\n<pre><code>            *\n        +       -\n      7   3   5   2\n</code></pre>\n\n<p>This should evaluate to 30. (10 * 3).</p>\n\n<p>But what is the best way to recur over this tree?\nIve considered recurring down to the left side until it hits a number, go to its parent and then go to its right side and evaluate. But what if the right node has children of itself? I guess I could evaluate that node by the same formula, but I am confused on how to implement this! Any help would be appreciated.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1454530573, "post_id": 35186791, "comment_id": 58090672, "body": "What is the output of <code>print(a)</code>? <code>print(type(a))</code>? What about <code>writer.writerow(a)</code> instead of <code>writer.writerows(a)</code>?"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "reply_to_user": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1454530664, "post_id": 35186791, "comment_id": 58090724, "body": "writer.writerow(a) _csv.Error: sequence expected"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "reply_to_user": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1454530694, "post_id": 35186791, "comment_id": 58090743, "body": "print output copy and pasted:  Major Critical Critical Critical Critical Critical Major Critical Critical Critical Critical"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "reply_to_user": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1454531730, "post_id": 35186791, "comment_id": 58091451, "body": "hmm not sure why I got downvoted"}], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1454531047, "post_id": 35186946, "comment_id": 58090965, "body": "This did put it to a csv!  I was going to append to a csv with data already in it."}, {"owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1454531136, "post_id": 35186946, "comment_id": 58091022, "body": "To append, <code>with open(&#39;mycsvfile.csv&#39;, &#39;ab&#39;) as f:</code>"}, {"owner": {"reputation": 6805, "user_id": 405303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OQiiL.png?s=128&g=1", "display_name": "Jon Kiparsky", "link": "https://stackoverflow.com/users/405303/jon-kiparsky"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1454531234, "post_id": 35186946, "comment_id": 58091088, "body": "@Eddwinn To do that, you&#39;re going to have to ingest the existing csv and modify the data, then rewrite it to the output file."}, {"owner": {"reputation": 6805, "user_id": 405303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OQiiL.png?s=128&g=1", "display_name": "Jon Kiparsky", "link": "https://stackoverflow.com/users/405303/jon-kiparsky"}, "reply_to_user": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1454531329, "post_id": 35186946, "comment_id": 58091163, "body": "@J&#233;r&#244;me - since the goal is to modify existing data, appending is probably not the right thing."}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1454531339, "post_id": 35186946, "comment_id": 58091171, "body": "Hmm Ill most likely be asking another question in a few hours but I have the base to get going I think."}, {"owner": {"reputation": 6805, "user_id": 405303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OQiiL.png?s=128&g=1", "display_name": "Jon Kiparsky", "link": "https://stackoverflow.com/users/405303/jon-kiparsky"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1454531453, "post_id": 35186946, "comment_id": 58091253, "body": "@Eddwinn glad I was able to get you unstuck - have fun!"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1454531485, "post_id": 35186946, "comment_id": 58091279, "body": "Thank you guys for you advice and answers. Much appreciated!"}, {"owner": {"reputation": 1415, "user_id": 2314391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7e52c232ca81d0d7bf28f2609e15d1?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/2314391/will"}, "edited": false, "score": 0, "creation_date": 1454531525, "post_id": 35186946, "comment_id": 58091309, "body": "@JonKiparsky curiously, if a = &quot;Critical&quot; then that is actually iterable. In Py3 I don&#39;t get this error... (although I agree your answer is correct of course)"}, {"owner": {"reputation": 6805, "user_id": 405303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OQiiL.png?s=128&g=1", "display_name": "Jon Kiparsky", "link": "https://stackoverflow.com/users/405303/jon-kiparsky"}, "reply_to_user": {"reputation": 1415, "user_id": 2314391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7e52c232ca81d0d7bf28f2609e15d1?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/2314391/will"}, "edited": false, "score": 0, "creation_date": 1454531644, "post_id": 35186946, "comment_id": 58091394, "body": "@Will Yes, &quot;Critical&quot; is iterable, but the failure occurs when it tries to call writerow(&#39;C&#39;) and finds that &#39;C&#39; is not a sequence."}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1454531779, "post_id": 35186946, "comment_id": 58091476, "body": "The script is pulling data from a table on the internet, and transforming it into a csv"}, {"owner": {"reputation": 1415, "user_id": 2314391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7e52c232ca81d0d7bf28f2609e15d1?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/2314391/will"}, "edited": false, "score": 0, "creation_date": 1454531871, "post_id": 35186946, "comment_id": 58091539, "body": "@JonKiparsky That&#39;s what I thought, but Py3 runs no error : cvs.writer(f).writerows(&quot;Critical&quot;)"}], "tags": [], "owner": {"reputation": 6805, "user_id": 405303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OQiiL.png?s=128&g=1", "display_name": "Jon Kiparsky", "link": "https://stackoverflow.com/users/405303/jon-kiparsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1454530936, "creation_date": 1454530936, "answer_id": 35186946, "question_id": 35186791, "link": "https://stackoverflow.com/questions/35186791/writerows-output-to-a-csv-file/35186946#35186946", "title": "writerows output to a csv file", "body": "<p><code>writer.writerows()</code> expects an iterable, for example a list, which it can convert into a set of rows. Since this conversion requires an iterable, we're talking about something like a list of lists.\n<code>writer.writerow()</code> expects an iterable, which it can convert into a row - that is, a list of values. If you want to just write this value as a single column in a one-column csv, you could do</p>\n\n<pre><code>writer.writerow([a])\n</code></pre>\n\n<p>But if you want it included with other data, you're going to have to produce that list of values:</p>\n\n<pre><code>data.append(a)\nwriter.writerow(data)\n</code></pre>\n\n<p>(<code>data</code> here is some existing list of values that you've already assembled)</p>\n"}], "owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6084, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454531241, "creation_date": 1454530440, "last_edit_date": 1454531241, "question_id": 35186791, "link": "https://stackoverflow.com/questions/35186791/writerows-output-to-a-csv-file", "title": "writerows output to a csv file", "body": "<p>I am currently printing data from a rest api.  It is able to print fine, but I want to save the output to a column on a csv.  I get the error </p>\n\n<pre><code>TypeError: writerows() argument must be iterable    \n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>with open('mycsvfile.csv', 'wb') as f:\n    for issue in jira.search_issues('project in (FITQA, UXSCIENCE, '\n        'FITSW, FIT) AND status = Resolved AND environment ~ \"TC*\" '\n        'ORDER BY created DESC', maxResults=100):\n            a = issue.fields.priority\n            print a\n            writer = csv.writer(f)\n            writer.writerows(a)\n</code></pre>\n"}, {"tags": ["python", "linux", "django", "nginx", "uwsgi"], "comments": [{"owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 1, "creation_date": 1454531761, "post_id": 35186742, "comment_id": 58091468, "body": "It&#39;s not really the answer to your problem but I would personally recommend gunicorn instead of uwsgi. The 1200 (yes, I counted) uwsgi commandline parameters are just a mess"}, {"owner": {"reputation": 4639, "user_id": 3986708, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/g0JCF.jpg?s=128&g=1", "display_name": "hgiesel", "link": "https://stackoverflow.com/users/3986708/hgiesel"}, "reply_to_user": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1454532915, "post_id": 35186742, "comment_id": 58092182, "body": "Already got it running with <code>gunicorn</code>, wow that was incredibly fast. Thanks for your recommendation! However if someone knows an answer to this mystery, I&#39;d still like to hear it."}, {"owner": {"reputation": 15995, "user_id": 1783237, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a608cef53714ed07dfb108efdddba4eb?s=128&d=identicon&r=PG", "display_name": "GwynBleidD", "link": "https://stackoverflow.com/users/1783237/gwynbleidd"}, "reply_to_user": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1454535764, "post_id": 35186742, "comment_id": 58093770, "body": "@Wolph uWSGI is totally different than gunicorn. uWSGI is not only an wsgi server, it can do lot more (psgi, php, cgi, routing, serving static files and so on, and so on). It also contains managing of running uWSGI instances, that&#39;s why it contains so much options. But when using as normal wsgi server, you will need small fraction of them."}, {"owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "reply_to_user": {"reputation": 15995, "user_id": 1783237, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a608cef53714ed07dfb108efdddba4eb?s=128&d=identicon&r=PG", "display_name": "GwynBleidD", "link": "https://stackoverflow.com/users/1783237/gwynbleidd"}, "edited": false, "score": 0, "creation_date": 1454536693, "post_id": 35186742, "comment_id": 58094274, "body": "@GwynBleidD: true, but if he&#39;s running Django than it&#39;s a regular Python install in which case Gunicorn is definitely an easier option that works quite well :)"}], "answers": [{"comments": [{"owner": {"reputation": 4639, "user_id": 3986708, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/g0JCF.jpg?s=128&g=1", "display_name": "hgiesel", "link": "https://stackoverflow.com/users/3986708/hgiesel"}, "edited": false, "score": 1, "creation_date": 1454541203, "post_id": 35188273, "comment_id": 58096315, "body": "I had several instances of <code>uwsgi</code> installed. The executable <code>uwsgi_python3</code> did the trick for me."}], "tags": [], "owner": {"reputation": 15995, "user_id": 1783237, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a608cef53714ed07dfb108efdddba4eb?s=128&d=identicon&r=PG", "display_name": "GwynBleidD", "link": "https://stackoverflow.com/users/1783237/gwynbleidd"}, "is_accepted": true, "score": 2, "last_activity_date": 1454535618, "creation_date": 1454535618, "answer_id": 35188273, "question_id": 35186742, "link": "https://stackoverflow.com/questions/35186742/uwsgi-doesnt-recognize-http-nor-wsgi-file-options/35188273#35188273", "title": "uWSGI doesn&#39;t recognize --http nor --wsgi-file options", "body": "<p>uWSGI installed from debian packages doesn't have any built-in plugins, and for that parameters to work, you will need:</p>\n\n<ul>\n<li>http plugin for <code>--http</code> parameter</li>\n<li>python plugin for <code>--module</code> (or any wsgi related) parameter</li>\n</ul>\n\n<p>You can fix this in 2 ways: installing all required plugins (<code>uwsgi-plugins-all</code> package will install all available plugins on debian) and loading them explicitly (<code>--plugin http</code> and <code>--plugin python</code>) or by replacing uWSGI by fully featured one (<code>sudo pip install uwsgi</code> will do that). Second solution will tie your uWSGI up to certain python version, for first one, you can just load another python plugin (<code>python3</code> for example).</p>\n"}], "owner": {"reputation": 4639, "user_id": 3986708, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/g0JCF.jpg?s=128&g=1", "display_name": "hgiesel", "link": "https://stackoverflow.com/users/3986708/hgiesel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2688, "favorite_count": 0, "accepted_answer_id": 35188273, "answer_count": 1, "score": 1, "last_activity_date": 1454535618, "creation_date": 1454530241, "last_edit_date": 1454535342, "question_id": 35186742, "link": "https://stackoverflow.com/questions/35186742/uwsgi-doesnt-recognize-http-nor-wsgi-file-options", "title": "uWSGI doesn&#39;t recognize --http nor --wsgi-file options", "body": "<p>I'm trying to setup a webserver with <code>nginx</code>, <code>uwsgi</code> and <code>django</code>.\n<code>nginx</code> works and it serves the files in <code>/srv</code> just like I intended to. However I can't get <code>uwsgi</code> to work properly. My biggest problem is that I used <a href=\"http://uwsgi-docs.readthedocs.org/en/latest/tutorials/Django_and_nginx.html\" rel=\"nofollow\">this tutorial</a> and they don't seem to use the version of <code>uwsgi</code> that I use.</p>\n\n<p>At one point they call <code>uwsgi --http :8000 --wsgi-file test.py</code>, but my <code>uwsgi</code> has neither the <code>--http</code> long option, nor <code>--wsgi-file</code> long option. <code>uwsgi --version</code> prints <code>2.0.7-debian</code>.</p>\n\n<p>What can I call instead of <code>--wsgi-file</code>?</p>\n\n<p>UPDATE:</p>\n\n<p>This works fine, i.e. I can see my website on localhost on port 8000:</p>\n\n<pre><code>python3 manage.py runserver 0.0.0.0:8000\n</code></pre>\n\n<p>However this does not:</p>\n\n<pre><code>uwsgi --http :8000 --module django_test.wsgi\n</code></pre>\n\n<p>It will complain, that it doesn't know the long option <code>--http</code> as well as the long option <code>--module</code>. It all seems to boil down to uwsgi, which on my machine just doesn't behave as it does everywhere else.</p>\n"}, {"tags": ["python", "sockets"], "comments": [{"owner": {"reputation": 7099, "user_id": 1475548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/09sbK.jpg?s=128&g=1", "display_name": "Octopus", "link": "https://stackoverflow.com/users/1475548/octopus"}, "edited": false, "score": 1, "creation_date": 1454531002, "post_id": 35186725, "comment_id": 58090929, "body": "Would it be helpful if you accepted the connection but immediately closed it?"}, {"owner": {"reputation": 2072, "user_id": 5022451, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10152973656318137/picture?type=large", "display_name": "b_pcakes", "link": "https://stackoverflow.com/users/5022451/b-pcakes"}, "reply_to_user": {"reputation": 7099, "user_id": 1475548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/09sbK.jpg?s=128&g=1", "display_name": "Octopus", "link": "https://stackoverflow.com/users/1475548/octopus"}, "edited": false, "score": 0, "creation_date": 1454531755, "post_id": 35186725, "comment_id": 58091464, "body": "I would like to make it so that once the connection limit is reached, further connections do not fail immediately, since there is the chance that another client will disconnect before the timeout is reached."}, {"owner": {"reputation": 7099, "user_id": 1475548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/09sbK.jpg?s=128&g=1", "display_name": "Octopus", "link": "https://stackoverflow.com/users/1475548/octopus"}, "edited": false, "score": 0, "creation_date": 1454535501, "post_id": 35186725, "comment_id": 58093635, "body": "Your select.select statement has essentially accepted the connection. Consider putting that statement inside a conditional based on the number of connections currently being served."}], "answers": [{"comments": [{"owner": {"reputation": 2072, "user_id": 5022451, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10152973656318137/picture?type=large", "display_name": "b_pcakes", "link": "https://stackoverflow.com/users/5022451/b-pcakes"}, "edited": false, "score": 0, "creation_date": 1454545632, "post_id": 35190128, "comment_id": 58097906, "body": "does the number i pass to <code>listen</code> not affect this at all? if so, what is the point of passing a number to <code>listen</code>?"}, {"owner": {"reputation": 2072, "user_id": 5022451, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10152973656318137/picture?type=large", "display_name": "b_pcakes", "link": "https://stackoverflow.com/users/5022451/b-pcakes"}, "edited": false, "score": 0, "creation_date": 1454547025, "post_id": 35190128, "comment_id": 58098332, "body": "Also, what is socket.SOL_SOCKET? I couldn&#39;t find documentation on it"}, {"owner": {"reputation": 479, "user_id": 3925866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53213d89194a23cf5681fd6e35d4c982?s=128&d=identicon&r=PG", "display_name": "Leo Antunes", "link": "https://stackoverflow.com/users/3925866/leo-antunes"}, "reply_to_user": {"reputation": 2072, "user_id": 5022451, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10152973656318137/picture?type=large", "display_name": "b_pcakes", "link": "https://stackoverflow.com/users/5022451/b-pcakes"}, "edited": false, "score": 1, "creation_date": 1454567395, "post_id": 35190128, "comment_id": 58104740, "body": "The manpage to <code>listen()</code> answers your question: &quot;If a connection request arrives when the queue is full, the client <b>may</b> receive an  error with an indication of ECONNREFUSED or, <b>if the underlying protocol supports retransmission, the request may be ignored</b> so that a later reattempt at connection succeeds.&quot; Since you&#39;re probably using TCP, and TCP supports retransmission, we&#39;re in the second case and have to explicitly reject new connections (which actually kind of defeats a nice feature of TCP)."}, {"owner": {"reputation": 479, "user_id": 3925866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53213d89194a23cf5681fd6e35d4c982?s=128&d=identicon&r=PG", "display_name": "Leo Antunes", "link": "https://stackoverflow.com/users/3925866/leo-antunes"}, "reply_to_user": {"reputation": 2072, "user_id": 5022451, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10152973656318137/picture?type=large", "display_name": "b_pcakes", "link": "https://stackoverflow.com/users/5022451/b-pcakes"}, "edited": false, "score": 0, "creation_date": 1454567407, "post_id": 35190128, "comment_id": 58104747, "body": "As for <code>SOL_SOCKET</code>, it only means you&#39;re changing options at the socket API level. You could, for instance, be changing options at the TCP level, for a specific socket. (again from the manpage ;) )"}, {"owner": {"reputation": 479, "user_id": 3925866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53213d89194a23cf5681fd6e35d4c982?s=128&d=identicon&r=PG", "display_name": "Leo Antunes", "link": "https://stackoverflow.com/users/3925866/leo-antunes"}, "reply_to_user": {"reputation": 2072, "user_id": 5022451, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10152973656318137/picture?type=large", "display_name": "b_pcakes", "link": "https://stackoverflow.com/users/5022451/b-pcakes"}, "edited": false, "score": 0, "creation_date": 1454699189, "post_id": 35190128, "comment_id": 58177847, "body": "@SimonZhu, did that answer your questions? Solve your problem?"}], "tags": [], "owner": {"reputation": 479, "user_id": 3925866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53213d89194a23cf5681fd6e35d4c982?s=128&d=identicon&r=PG", "display_name": "Leo Antunes", "link": "https://stackoverflow.com/users/3925866/leo-antunes"}, "is_accepted": true, "score": 2, "last_activity_date": 1454567636, "last_edit_date": 1454567636, "creation_date": 1454544010, "answer_id": 35190128, "question_id": 35186725, "link": "https://stackoverflow.com/questions/35186725/how-to-limit-the-number-of-connections-to-a-socket-and-trigger-timeout-on-client/35190128#35190128", "title": "How to limit the number of connections to a socket and trigger timeout on client (Python)", "body": "<p>I believe there might be a slight misunderstanding of <code>select()</code> at play here. According to the manpage, <code>select()</code> returns file descriptors that are \"ready for some class of IO operation\", where ready means \"it is possible to perform a corresponding IO operation without blocking\".\nThe corresponding IO operation on a listening socket is <code>accept()</code>, which can only be performed without blocking if the OS already made the full TCP handshake for you, otherwise you might block waiting for the client's final ACK, for instance.</p>\n\n<p>This means that as long as the listening socket is open, connections will be accepted by the OS, even if not being handled by the application.\nIf you want to reject connections after a set number, you have basically two options:</p>\n\n<ul>\n<li>simply accept and close directly after accepting.</li>\n<li>close the listening socket upon reaching the limit and reopen when done.</li>\n</ul>\n\n<p>The second option is more convoluted and requires use of the <code>SO_REUSEADDR</code> option, which might not be the right thing in your case. It might also not work on all OSs, though it does seem to work reliably on Linux.</p>\n\n<p>Here's a quick sketch of the second solution (since the first is pretty straightforward).</p>\n\n<pre><code>def get_listening_socket():\n    sock = socket.socket()\n    sock.setblocking(0)\n    sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    sock.bind(('0.0.0.0', 5555))\n    sock.listen(0)\n    return sock\n\nsock = get_listening_socket()\n\nLIMIT = 1\nconns = {sock}\nwhile True:\n    readable, writable, exceptional = select.select(conns, [], [])\n    if sock in readable: # new connection on the listening socket\n        conn, caddr = sock.accept()\n        conns.add(conn)\n        if len(conns) &gt; LIMIT: # \"&gt;\" because \"sock\" is also in there\n            conns.remove(sock)\n            sock.close()\n    else: # reading from an established connection\n        for c in readable:\n            buf = c.recv(4096)\n            if not buf:\n                conns.remove(c)\n                sock = get_listening_socket()\n                conns.add(sock)\n            else:\n                print(\"received: %s\" % buf)\n</code></pre>\n\n<p>You may, however, want to rethink <em>why</em> you'd want to do this in the first place. If it's only about saving some memory on the server, than you might be over-optimizing and should be looking into syn-cookies instead.</p>\n"}], "owner": {"reputation": 2072, "user_id": 5022451, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10152973656318137/picture?type=large", "display_name": "b_pcakes", "link": "https://stackoverflow.com/users/5022451/b-pcakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5723, "favorite_count": 1, "accepted_answer_id": 35190128, "answer_count": 1, "score": 4, "last_activity_date": 1454567636, "creation_date": 1454530195, "question_id": 35186725, "link": "https://stackoverflow.com/questions/35186725/how-to-limit-the-number-of-connections-to-a-socket-and-trigger-timeout-on-client", "title": "How to limit the number of connections to a socket and trigger timeout on client (Python)", "body": "<p>How can I set a limit on the number of connections that a server socket can accept at once? I want to be able to set a max number of connections, and then once that limit is reached, any further attempts from clients to connect will result in a timeout. So far, I have tried something like this for the server:</p>\n\n<pre><code>sock = socket.socket()\nsock.setblocking(0)\nsock.bind(address)\nsock.listen(0)\n\nconnections = []\n\nwhile True:\n    readable, writable, exceptional = select.select([sock], [], [])\n\n    if readable and len(connections) &lt; MAX_CONNECTIONS:\n        connection, client_address = s.accept()\n        connections.append(connection)\n        # Process connection asynchronously\n</code></pre>\n\n<p>and for the client:</p>\n\n<pre><code>try:\n    sock = socket.create_connection(self.address, timeout=TIMEOUT)\n    sock.settimeout(None)\n    print \"Established connection.\"\nexcept socket.error as err:\n    print &gt;&gt; sys.stderr, \"Socket connection error: \" + str(err)\n    sys.exit(1)\n\n# If connection successful, do stuff\n</code></pre>\n\n<p>Because of the structure of the rest of the program, I have chosen to use a non-blocking socket on the server and I do not wish to change this. Right now, the clients are able to connect to the server, even after the limit is reached and the server stops accepting them. How do I solve this? Thanks.</p>\n"}, {"tags": ["python", "linux", "windows", "batch-file"], "comments": [{"owner": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1454530294, "post_id": 35186560, "comment_id": 58090505, "body": "<a href=\"http://www.w3schools.com/tags/ref_urlencode.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/ref_urlencode.asp</a>"}, {"owner": {"reputation": 11858, "user_id": 1417694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adedbee0609fe9349993fedfd446acdc?s=128&d=identicon&r=PG", "display_name": "Squashman", "link": "https://stackoverflow.com/users/1417694/squashman"}, "edited": false, "score": 0, "creation_date": 1454531377, "post_id": 35186560, "comment_id": 58091194, "body": "This is a no brainer if you just step back and think about it.  Do a Google search for <b>C#</b> and then look at the url that Google kicks back in your browser."}, {"owner": {"reputation": 3277, "user_id": 5022761, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Y2ZPP.png?s=128&g=1", "display_name": "Dennis van Gils", "link": "https://stackoverflow.com/users/5022761/dennis-van-gils"}, "reply_to_user": {"reputation": 11858, "user_id": 1417694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adedbee0609fe9349993fedfd446acdc?s=128&d=identicon&r=PG", "display_name": "Squashman", "link": "https://stackoverflow.com/users/1417694/squashman"}, "edited": false, "score": 2, "creation_date": 1454533400, "post_id": 35186560, "comment_id": 58092471, "body": "@Squashman I think he wants to encode <b>all</b> special characters, and doing that manually would take forever"}, {"owner": {"reputation": 98, "user_id": 5879690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtfYK.jpg?s=128&g=1", "display_name": "RobP2", "link": "https://stackoverflow.com/users/5879690/robp2"}, "edited": false, "score": 1, "creation_date": 1454533499, "post_id": 35186560, "comment_id": 58092526, "body": "Dennis is correct. I know how to find a character encoding manually.  npocmaka nailed it and I accepted his answer."}], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 5879690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtfYK.jpg?s=128&g=1", "display_name": "RobP2", "link": "https://stackoverflow.com/users/5879690/robp2"}, "edited": false, "score": 0, "creation_date": 1454533716, "post_id": 35186784, "comment_id": 58092643, "body": "That is a pretty good solution, but I had to mark npocmaka&#39;s solution as accepted because it is really more what I am looking for.  I don&#39;t want to install python."}], "tags": [], "owner": {"reputation": 1158, "user_id": 5847255, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xZLyp.jpg?s=128&g=1", "display_name": "Justin Pavatte", "link": "https://stackoverflow.com/users/5847255/justin-pavatte"}, "is_accepted": false, "score": 8, "last_activity_date": 1454530391, "creation_date": 1454530391, "answer_id": 35186784, "question_id": 35186560, "link": "https://stackoverflow.com/questions/35186560/url-encode-in-windows-batch-script/35186784#35186784", "title": "URL Encode in Windows Batch Script", "body": "<p>I don't think there is a good way to do that directly in a Windows bat script.  Python is a great solution for some heavier things like that, and it is cross platform which is always nice.  Since you are in Windows, you could probably write a powershell script to do it.  However, here is a Python 3 script I wrote which I think does what you are looking for.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nimport subprocess\nimport urllib.parse\n\nbrowser = sys.argv[1]\nbrowserParms = sys.argv[2]\n\nqueryString = \" \".join(sys.argv[3:])\nqueryString = urllib.parse.quote(queryString)\nurl = \"https://www.google.com/#q=\" + queryString\n\nsubprocess.Popen([browser, browserParms, url])\n\nsys.exit()\n</code></pre>\n\n<p>Here is a native script for Linux where you can set up your specifics.  You could do something very similar in a windows batch file. I named it goog (with no extension because that would be too much to type :) )</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\npython3 /home/justin/Dropbox/MyFiles/Programs/CrossPlatform/Python3/GoogleSearch.py \"firefox\" \"-new-window\" \"$@\"\n</code></pre>\n\n<p>Make sure your native script location is in $PATH.  Execute like this from Terminal or Run A Command.</p>\n\n<pre><code>goog i like turtles\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 98, "user_id": 5879690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtfYK.jpg?s=128&g=1", "display_name": "RobP2", "link": "https://stackoverflow.com/users/5879690/robp2"}, "edited": false, "score": 0, "creation_date": 1454533212, "post_id": 35187347, "comment_id": 58092354, "body": "VERY nice! That is exactly what I was looking for."}], "tags": [], "owner": {"reputation": 51388, "user_id": 388389, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/zK42B.png?s=128&g=1", "display_name": "npocmaka", "link": "https://stackoverflow.com/users/388389/npocmaka"}, "is_accepted": true, "score": 10, "last_activity_date": 1454532337, "creation_date": 1454532337, "answer_id": 35187347, "question_id": 35186560, "link": "https://stackoverflow.com/questions/35186560/url-encode-in-windows-batch-script/35187347#35187347", "title": "URL Encode in Windows Batch Script", "body": "<p>Without installing any external tools:</p>\n\n<pre><code>@echo off\nsetlocal\n\n\nset \"string=gibberish+?blahblah@\"\n\n\n:: Define simple macros to support JavaScript within batch\nset \"beginJS=mshta \"javascript:code(close(new ActiveXObject('Scripting.FileSystemObject').GetStandardStream(1).Write(\"\nset \"endJS=)));\"\"\n\n\n\n:: FOR /F does not need pipe\nfor /f %%N in (\n  '%beginJS% encodeURIComponent(\"%string%\") %endJS%'\n) do set encoded=%%N\necho %string% -^&gt; %encoded%\n</code></pre>\n"}], "owner": {"reputation": 98, "user_id": 5879690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtfYK.jpg?s=128&g=1", "display_name": "RobP2", "link": "https://stackoverflow.com/users/5879690/robp2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4952, "favorite_count": 2, "accepted_answer_id": 35187347, "answer_count": 2, "score": 7, "last_activity_date": 1456848939, "creation_date": 1454529726, "last_edit_date": 1456848939, "question_id": 35186560, "link": "https://stackoverflow.com/questions/35186560/url-encode-in-windows-batch-script", "title": "URL Encode in Windows Batch Script", "body": "<p>I have a Windows batch script that I use to do quick Google searches.  However, I can't figure out how to generically encode special characters.  Like if I try to search for C#, the pound sign breaks it.  Here is my code:</p>\n\n<pre><code>SET q=\"https://www.google.com/#q=%*\"\nSET q=%q: =+%\nchrm %q%\n</code></pre>\n"}, {"tags": ["python", "tkinter", "ttk"], "comments": [{"owner": {"reputation": 7264, "user_id": 3134251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/053ef2ca2163afe33977f37371043067?s=128&d=identicon&r=PG&f=1", "display_name": "Lafexlos", "link": "https://stackoverflow.com/users/3134251/lafexlos"}, "edited": false, "score": 1, "creation_date": 1454530875, "post_id": 35186527, "comment_id": 58090848, "body": "have you checked <code>widget.winfo_height()</code> and <code>widget.winfo_width()</code>?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1454532732, "post_id": 35186527, "comment_id": 58092064, "body": "This looks like a duplicate of <a href=\"http://stackoverflow.com/q/3352918/7432\">stackoverflow.com/q/3352918/7432</a>"}, {"owner": {"reputation": 5031, "user_id": 1984680, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/4SJZF.jpg?s=128&g=1", "display_name": "minerals", "link": "https://stackoverflow.com/users/1984680/minerals"}, "edited": false, "score": 0, "creation_date": 1454535890, "post_id": 35186527, "comment_id": 58093829, "body": "Thing is, Toplevel window returns the resolution of my monitor 1600x900 but appears to be small enough to contain the message cause this is the default behaviour. If I attempt to set it via geometry the pop-up window will become 1600x900 in size."}, {"owner": {"reputation": 5031, "user_id": 1984680, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/4SJZF.jpg?s=128&g=1", "display_name": "minerals", "link": "https://stackoverflow.com/users/1984680/minerals"}, "edited": false, "score": 0, "creation_date": 1454536104, "post_id": 35186527, "comment_id": 58093958, "body": "actually the example in the answer link above works, hmm"}], "owner": {"reputation": 5031, "user_id": 1984680, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/4SJZF.jpg?s=128&g=1", "display_name": "minerals", "link": "https://stackoverflow.com/users/1984680/minerals"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "closed_date": 1454536362, "answer_count": 0, "score": 1, "last_activity_date": 1454529633, "creation_date": 1454529633, "question_id": 35186527, "link": "https://stackoverflow.com/questions/35186527/how-to-get-the-size-of-tk-toplevel-widget-in-tkinter", "closed_reason": "Duplicate", "title": "How to get the size of tk.Toplevel widget in Tkinter?", "body": "<p>I am creating a pop-up window using <strong>Tkinter</strong>.</p>\n\n<pre><code>def show_warning(self, msg):\n    self.warning = tk.Toplevel()\n    self.centrify_widget(self.warning)\n    self.warning.title('Warning!')\n    self.warn.resizable(0, 0)\n    self.warnFr = ttk.Frame(self.warning, borderwidth=2, relief='groove')\n    self.warnFr.grid()\n    ttk.Label(self.warnFr, font='TkDefaultFont 11', text=msg).grid()\n    ttk.Button(self.warnFr, text='OK', command=self.warning.destroy).grid()\n</code></pre>\n\n<p>I want this pop-up window to appear <em>centrified</em> according to the application position.</p>\n\n<pre><code>def centrify_widget(self, widget):\n    rwidth = self.winfo_screenwidth()\n    rheight = self.winfo_screenheight()\n    x, y = (rwidth/2) - (widget.width/2), (rheight/2) - (widget.height/2)\n    widget.geometry('%dx%d+%d+%d' % (widget.width, widget.height, x, y))\n</code></pre>\n\n<p>The code above won't work because <code>tk.Toplevel</code> does not have <em>width</em> or <em>height</em> attributes. </p>\n\n<p>So, how do I <em>centrify</em> the pop-up window when I do not know its <strong>height</strong> and <strong>width</strong>?</p>\n\n<p>I can't hardcode it because my <code>show_warning</code> function accepts <code>msg</code> of different length and if I explicitly give <strong>height</strong> and <strong>width</strong> the window geometry will be broken like below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Riqie.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Riqie.png\" alt=\"enter image description here\"></a> </p>\n"}, {"tags": ["python", "terminal", "pip", "homebrew"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454530476, "post_id": 35186526, "comment_id": 58090609, "body": "Do yourself a favour, download get-pip.py <a href=\"https://bootstrap.pypa.io/get-pip.py\" rel=\"nofollow noreferrer\">bootstrap.pypa.io/get-pip.py</a> and install it with python get-pip.py"}, {"owner": {"reputation": 385, "user_id": 1269733, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-Ist2Bg9xUic/AAAAAAAAAAI/AAAAAAAAACk/e1l8AhRYGfI/photo.jpg?sz=128", "display_name": "Nic Aguirre", "link": "https://stackoverflow.com/users/1269733/nic-aguirre"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454531230, "post_id": 35186526, "comment_id": 58091084, "body": "I downloaded that to my desktop, cd&#39;d there and ran python get-pip.py... I get this output:   Requirement already up-to-date: pip in /Library/Python/2.7/site-packages/pip-8.0.2-py2.7.egg Collecting setuptools   Downloading setuptools-19.7-py2.py3-none-any.whl (472kB)     100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 475kB 960kB/s Installing collected packages: setuptools Successfully installed setuptools-19.7   now when I run &#39;pip&#39; I still get the same error (command not found)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454531292, "post_id": 35186526, "comment_id": 58091139, "body": "what does <code>which -a pip</code> output?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454531811, "post_id": 35186526, "comment_id": 58091498, "body": "what about <code>&#47;usr&#47;bin&#47;python -m pip</code>  and  <code>&#47;usr&#47;local&#47;bin&#47;python -m pip</code>"}, {"owner": {"reputation": 385, "user_id": 1269733, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-Ist2Bg9xUic/AAAAAAAAAAI/AAAAAAAAACk/e1l8AhRYGfI/photo.jpg?sz=128", "display_name": "Nic Aguirre", "link": "https://stackoverflow.com/users/1269733/nic-aguirre"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454532160, "post_id": 35186526, "comment_id": 58091727, "body": "I don&#39;t understand -- are those commands? When I attempt to run the first one, I get  Usage:   /usr/bin/python -m pip &lt;command&gt; [options]  Followed by instructions...  It doesn&#39;t appear to accept any parameters to the command. When I run /usr/bin/python -m pip -v     It gives me the same output as with /usr/bin/python -m pip"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454532225, "post_id": 35186526, "comment_id": 58091774, "body": "then it means pip is working, you could run  <code>&#47;usr&#47;local&#47;bin&#47;python -m pip install requests</code> and it would work"}, {"owner": {"reputation": 385, "user_id": 1269733, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-Ist2Bg9xUic/AAAAAAAAAAI/AAAAAAAAACk/e1l8AhRYGfI/photo.jpg?sz=128", "display_name": "Nic Aguirre", "link": "https://stackoverflow.com/users/1269733/nic-aguirre"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454532290, "post_id": 35186526, "comment_id": 58091815, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/102517/discussion-between-naguirre-and-padraic-cunningham\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 6599, "user_id": 456550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5cd11130b5f8c988a54b663bad96cd68?s=128&d=identicon&r=PG", "display_name": "Christian Long", "link": "https://stackoverflow.com/users/456550/christian-long"}, "edited": false, "score": 0, "creation_date": 1502937425, "post_id": 35615175, "comment_id": 78409050, "body": "If brew complains about dependencies, you might have to do <code>brew uninstall --ignore-dependencies --force python &amp;&amp; brew install python</code>. It&#39;s ok to ignore dependencies, because you&#39;re reinstalling right away. You might also have to relink: <code>brew unlink python &amp;&amp; brew link python</code>"}], "tags": [], "owner": {"reputation": 101, "user_id": 2284908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d88387be35d41e85045a687b89489a5?s=128&d=identicon&r=PG", "display_name": "Damian Manda", "link": "https://stackoverflow.com/users/2284908/damian-manda"}, "is_accepted": false, "score": 10, "last_activity_date": 1456355692, "creation_date": 1456355692, "answer_id": 35615175, "question_id": 35186526, "link": "https://stackoverflow.com/questions/35186526/running-pip-gives-command-not-found-after-successful-python-homebrew-install/35615175#35615175", "title": "Running `pip` gives &#39;command not found&#39; after successful Python homebrew install", "body": "<h2>My Background</h2>\n\n<p>I had this same problem, and I think it may have arisen after upgrading to OSX 10.11 (El Capitan).  When trying to run pip, I got <code>-bash: pip: command not found</code>  I also tried <code>python -m pip</code> which did not work either (<code>no module found</code>).  Trying to unlink and relink python through Homebrew did not work.</p>\n\n<h2>The Fix</h2>\n\n<p>I was able to fix the problem by completely uninstalling and reinstalling python via Homebrew.</p>\n\n<pre><code>brew uninstall python &amp;&amp; brew install python\n</code></pre>\n\n<p>If you want to remove older versions of python too, use</p>\n\n<pre><code>brew uninstall --force python &amp;&amp; brew install python\n</code></pre>\n\n<p>None of my existing pip installs were affected, and are all still listed when I run <code>pip freeze</code>.  After the reinstall, the binary is now symlinked to <code>/usr/local/bin/pip</code>, which did not exist before.  Strangely, the actual binary in <code>/usr/local/Cellar/python/2.7.11/bin/pip</code> did not exist before the reinstall either.</p>\n"}, {"tags": [], "owner": {"reputation": 1654, "user_id": 566185, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/22b28cb0f2f033dca8dc933813ac390e?s=128&d=identicon&r=PG", "display_name": "Steve Hollasch", "link": "https://stackoverflow.com/users/566185/steve-hollasch"}, "is_accepted": false, "score": 10, "last_activity_date": 1512691479, "creation_date": 1512691479, "answer_id": 47705800, "question_id": 35186526, "link": "https://stackoverflow.com/questions/35186526/running-pip-gives-command-not-found-after-successful-python-homebrew-install/47705800#47705800", "title": "Running `pip` gives &#39;command not found&#39; after successful Python homebrew install", "body": "<p>I ran into this problem myself on OS X. In my case, I finally did a listing of /usr/local/bin, and found that I had links from <code>pip2</code>, <code>pip2.7</code>, <code>pip3</code>, and <code>pip3.6</code>. What I lacked was a link from just <code>pip</code>. I don't know if this is just part of a new standard, or if I was missing something that would select one of the two, or if having both Python 2 and Python 3 installed meant that I didn't get a simple <code>pip</code> command. Either way, running <code>brew doctor</code> didn't reveal or solve any issues.</p>\n\n<p>In this case, just running <code>pip3</code> or <code>pip2</code> (instead of <code>pip</code>) seemed to do the trick for me. In my case, I ran <code>pip3</code> and everything installed and ran as expected.</p>\n"}], "owner": {"reputation": 385, "user_id": 1269733, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-Ist2Bg9xUic/AAAAAAAAAAI/AAAAAAAAACk/e1l8AhRYGfI/photo.jpg?sz=128", "display_name": "Nic Aguirre", "link": "https://stackoverflow.com/users/1269733/nic-aguirre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13377, "favorite_count": 0, "answer_count": 2, "score": 15, "last_activity_date": 1512691479, "creation_date": 1454529626, "question_id": 35186526, "link": "https://stackoverflow.com/questions/35186526/running-pip-gives-command-not-found-after-successful-python-homebrew-install", "title": "Running `pip` gives &#39;command not found&#39; after successful Python homebrew install", "body": "<p>To preface, I am very bad with the terminal, please be patient with me.</p>\n\n<p>when I run <code>pip</code> I get:\n    <code>zsh: command not found: pip</code></p>\n\n<p>I have installed Python 2.7.11 with brew, which should allow pip to work\nWhen I run <code>echo $PATH</code> I get</p>\n\n<pre><code>/usr/local/sbin /Users/Nicolas/.composer/vendor/bin /Library/Frameworks/Python.framework/Versions/3.4/bin /usr/local/bin /usr/bin /bin /usr/sbin /sbin\n</code></pre>\n\n<p>I notice that /usr/local/bin/ is in there, which I understand is where brew executables are linked to</p>\n\n<p>when I run <code>which -a python</code> I get</p>\n\n<pre><code>/usr/local/bin/python\n/usr/bin/python\n</code></pre>\n\n<p>So-- two Python installs. I'm guessing one is the native OSX one and one is the homebrew install.\nWhen I run <code>which python</code> I get</p>\n\n<pre><code>/usr/local/bin/python\n</code></pre>\n\n<p>So this is the python that gets run when python is called, right?\nWhen I run <code>ls -l $(which python)</code> I get</p>\n\n<pre><code>lrwxr-xr-x  1 Nicolas  admin  34 Feb  3 14:26 /usr/local/bin/python -&gt; ../Cellar/python/2.7.11/bin/python\n</code></pre>\n\n<p>I think this is where the problem is; I notice that there is a /python/2.7.11/libexec folder...</p>\n\n<p>I have also tried <code>brew unlink python &amp;&amp; brew link python</code> to no avail</p>\n\n<p>when I try <code>brew list python | grep pip</code> I get a very long list of results</p>\n\n<p>This is probably the most important one</p>\n\n<pre><code>/usr/local/Cellar/python/2.7.11/libexec/pip/pip/__init__.py\n</code></pre>\n\n<p>I don't know how to proceed from here... I think it has to do with pip being in <code>python/2.7.11/libexec</code> instead of <code>python/2.7.11/bin</code></p>\n\n<p>I am not familiar with most of this stuff; my understanding of terminal is very limited. I am not sure how to proceed from here. Any and all help is appreciated, thanks.</p>\n"}, {"tags": ["python", "ubuntu", "pip", "virtualenv"], "comments": [{"owner": {"reputation": 5095, "user_id": 2022518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9366c006da5aca3fa94f7be13677042d?s=128&d=identicon&r=PG", "display_name": "LetMeSOThat4U", "link": "https://stackoverflow.com/users/2022518/letmesothat4u"}, "edited": false, "score": 0, "creation_date": 1454541080, "post_id": 35186522, "comment_id": 58096259, "body": "Seems like an obscure bug. Anyway, I&#39;d try installing package &quot;certifi&quot; first to eliminate nagging suspicion it&#39;s just (maybe) lack of proper CA certs. P.S. this message &quot;A true SSLContext object is not available.&quot; suggests there <i>might</i> be something wrong with your openssl installation anyway."}, {"owner": {"reputation": 3120, "user_id": 690447, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/92cc4c893341e296413fd934665f7e11?s=128&d=identicon&r=PG", "display_name": "Juan Ayala", "link": "https://stackoverflow.com/users/690447/juan-ayala"}, "reply_to_user": {"reputation": 5095, "user_id": 2022518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9366c006da5aca3fa94f7be13677042d?s=128&d=identicon&r=PG", "display_name": "LetMeSOThat4U", "link": "https://stackoverflow.com/users/2022518/letmesothat4u"}, "edited": false, "score": 0, "creation_date": 1454690984, "post_id": 35186522, "comment_id": 58173384, "body": "Eh, I gave up. Since I&#39;m using the python version installed by Ubuntu, I looked in the package index and installed python-virtualenv &amp; python-pip via apt-get. They are not the latest versions, but they work."}], "owner": {"reputation": 3120, "user_id": 690447, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/92cc4c893341e296413fd934665f7e11?s=128&d=identicon&r=PG", "display_name": "Juan Ayala", "link": "https://stackoverflow.com/users/690447/juan-ayala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 812, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1454529619, "creation_date": 1454529619, "question_id": 35186522, "link": "https://stackoverflow.com/questions/35186522/python-virtualenv-ssl-error-under-root-user", "title": "Python virtualenv SSL error under root user", "body": "<p>On Ubuntu 14.04, I install python, pip, setuptools, virtualenv (as root).</p>\n\n<p>As a regular user, I run</p>\n\n<pre><code>$ pip list\napt-xapian-index (0.45)\nchardet (2.0.1)\npip (8.0.2)\npython-apt (0.9.3.5ubuntu2)\npython-debian (0.1.21-nmu2ubuntu2)\nrequests (2.2.1)\nsetuptools (19.7)\nsix (1.5.2)\nssh-import-id (3.21)\nurllib3 (1.7.1)\nvirtualenv (14.0.5)\n/usr/local/lib/python2.7/dist-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:315: SNIMissingWarning: An HTTPS request has been made, but the SNI (Subject Name Indication) extension to TLS is not available on this platform. This may cause the server to present an incorrect TLS certificate, which can cause validation failures. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#snimissingwarning.\n  SNIMissingWarning\n/usr/local/lib/python2.7/dist-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:120: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\n</code></pre>\n\n<p>And then I can create a virtualenv</p>\n\n<pre><code>$ virtualenv fooenv\n</code></pre>\n\n<p>And everything is right with the world! The problem comes about that if I switch to root user and try to create a virtual environment</p>\n\n<pre><code>$ sudo su -\n$ virtualenv fooenv\nNew python executable in /root/fooenv/bin/python\nInstalling setuptools, pip, wheel...\n  Complete output from command /root/fooenv/bin/python -c \"import sys, pip; sys...d\\\"] + sys.argv[1:]))\" setuptools pip wheel:\n  Collecting setuptools\n/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/_vendor/requests/packages/urllib3/util/ssl_.py:315: SNIMissingWarning: An HTTPS request has been made, but the SNI (Subject Name Indication) extension to TLS is not available on this platform. This may cause the server to present an incorrect TLS certificate, which can cause validation failures. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#snimissingwarning.\n/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/_vendor/requests/packages/urllib3/util/ssl_.py:120: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\nException:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/basecommand.py\", line 209, in main\n    status = self.run(options, args)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/commands/install.py\", line 299, in run\n    requirement_set.prepare_files(finder)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/req/req_set.py\", line 359, in prepare_files\n    ignore_dependencies=self.ignore_dependencies))\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/req/req_set.py\", line 576, in _prepare_file\n    session=self.session, hashes=hashes)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/download.py\", line 809, in unpack_url\n    hashes=hashes\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/download.py\", line 648, in unpack_http_url\n    hashes)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/download.py\", line 841, in _download_http_url\n    stream=True,\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/_vendor/requests/sessions.py\", line 480, in get\n    return self.request('GET', url, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/download.py\", line 377, in request\n    return super(PipSession, self).request(method, url, *args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/_vendor/requests/sessions.py\", line 468, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/_vendor/requests/sessions.py\", line 576, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/_vendor/cachecontrol/adapter.py\", line 46, in send\n    resp = super(CacheControlAdapter, self).send(request, **kw)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv_support/pip-8.0.2-py2.py3-none-any.whl/pip/_vendor/requests/adapters.py\", line 447, in send\n    raise SSLError(e, request=request)\nSSLError: [Errno 185090050] _ssl.c:344: error:0B084002:x509 certificate routines:X509_load_cert_crl_file:system lib\n----------------------------------------\n...Installing setuptools, pip, wheel...done.\nTraceback (most recent call last):\n  File \"/usr/local/bin/virtualenv\", line 11, in &lt;module&gt;\n    sys.exit(main())\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 703, in main\n    symlink=options.symlink)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 904, in create_environment\n    download=download,\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 861, in install_wheel\n    call_subprocess(cmd, show_stdout=False, extra_env=env)\n  File \"/usr/local/lib/python2.7/dist-packages/virtualenv.py\", line 781, in call_subprocess\n    % (cmd_desc, proc.returncode))\nOSError: Command /root/fooenv/bin/python -c \"import sys, pip; sys...d\\\"] + sys.argv[1:]))\" setuptools pip wheel failed with error code 2\n</code></pre>\n\n<p>So what gives? Why can my regular user create a virtualenv, but not my root user?</p>\n"}, {"tags": ["python", "excel", "pandas", "xlsx"], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1454532830, "post_id": 35187057, "comment_id": 58092125, "body": "Probably a dumb question, but If I am already defining a sheet using the writer for another metric, (e.g. Sheet X), how would I write the string to that sheet?"}, {"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "reply_to_user": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1454533610, "post_id": 35187057, "comment_id": 58092589, "body": "<code>sheet = writer.sheets[&#39;x&#39;]; sheet.write_string(...)</code>"}, {"owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1454536054, "post_id": 35187057, "comment_id": 58093929, "body": "I tried it and my df is empty but the code is printing the cols of the data frame with no data under it. Any thoughts on what to do?"}, {"owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1454536921, "post_id": 35187057, "comment_id": 58094394, "body": "I also tried the follow and am getting an error stating &#39;NoneType&#39; object has no attribute &#39;group&#39;. Any ideas?   import pandas as pd  df = pd.DataFrame([[]])  if df.empty:     print (&#39;Empty&#39;)  import xlsxwriter writer = pd.ExcelWriter(&#39;Blerg.xlsx&#39;, engine = &#39;xlsxwriter&#39;)      if df.empty:     sheet = writer.book.add_worksheet(&#39;All the things&#39;)     sheet.write_string(&#39;a1&#39;, &#39;Nothing Here&#39;)"}, {"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "reply_to_user": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "edited": false, "score": 0, "creation_date": 1454550577, "post_id": 35187057, "comment_id": 58099383, "body": "<code>&#39;a1&#39; </code> should be <code>&#39;A1&#39;</code>"}], "tags": [], "owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "is_accepted": true, "score": 1, "last_activity_date": 1454550584, "last_edit_date": 1454550584, "creation_date": 1454531314, "answer_id": 35187057, "question_id": 35186507, "link": "https://stackoverflow.com/questions/35186507/how-to-print-nothing-here-to-excel-if-df-or-groupby-is-blank/35187057#35187057", "title": "How to print &quot;Nothing here&quot; to excel if df or groupby is blank?", "body": "<p>You can get the underlying xlsxwriter workbook to write custom output to the file.  More examples in the xlsxwriter <a href=\"http://xlsxwriter.readthedocs.org/working_with_pandas.html\" rel=\"nofollow\">docs</a></p>\n\n<pre><code>if metric.empty:\n    sheet = writer.book.add_worksheet('y')\n    sheet.write_string('A1', 'Nothing here')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "is_accepted": false, "score": 0, "last_activity_date": 1454580275, "creation_date": 1454580275, "answer_id": 35197950, "question_id": 35186507, "link": "https://stackoverflow.com/questions/35186507/how-to-print-nothing-here-to-excel-if-df-or-groupby-is-blank/35197950#35197950", "title": "How to print &quot;Nothing here&quot; to excel if df or groupby is blank?", "body": "<p>One possible solution would be to add a conditional format to highlight cells with no data.</p>\n\n<p>See the following example of using <a href=\"http://xlsxwriter.readthedocs.org/example_pandas_conditional.html#ex-pandas-conditional\" rel=\"nofollow\">XlsxWriter with Pandas and conditional formatting</a>.</p>\n"}], "owner": {"reputation": 229, "user_id": 5787188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh4.googleusercontent.com/-XI2PAUN2i1o/AAAAAAAAAAI/AAAAAAAACAc/s6FI0cP5Njw/photo.jpg?sz=128", "display_name": "DataNoob", "link": "https://stackoverflow.com/users/5787188/datanoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 35187057, "answer_count": 2, "score": 0, "last_activity_date": 1454580275, "creation_date": 1454529555, "question_id": 35186507, "link": "https://stackoverflow.com/questions/35186507/how-to-print-nothing-here-to-excel-if-df-or-groupby-is-blank", "title": "How to print &quot;Nothing here&quot; to excel if df or groupby is blank?", "body": "<p>I am calculating some metrics and printing them to excel using </p>\n\n<pre><code>  writer = pd.ExcelWriter('File.xlxs', engine = 'xlsxwriter')\n  'metric'.to_excel(writer, sheetname = 'x')\n</code></pre>\n\n<p>Sometimes my metrics will be blank (e.g. the filter has filtered everything out). Is there a way to print to excel that would let me print \"Nothing here\" if the metric was blank using the xlsxwriter method?</p>\n"}, {"tags": ["python", "sum", "probability"], "comments": [{"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 1, "creation_date": 1454529775, "post_id": 35186457, "comment_id": 58090189, "body": "<code>randomFunction</code> will always raise a SyntaxError, as there are unbalanced parentheses. Therefore, all your probabilities reduce to 0"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1454530029, "post_id": 35186457, "comment_id": 58090335, "body": "I bet the <a href=\"https://en.wikipedia.org/wiki/Binomial_distribution\" rel=\"nofollow noreferrer\">binomial distribution</a> has something to do with this."}], "answers": [{"tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": true, "score": 1, "last_activity_date": 1454530230, "creation_date": 1454530230, "answer_id": 35186738, "question_id": 35186457, "link": "https://stackoverflow.com/questions/35186457/probability-that-the-function-returns-a-specific-value/35186738#35186738", "title": "Probability that the function returns a specific value", "body": "<p>(1) In order for <code>randomFunction(25)</code> to return 4, it has to generate four <code>1</code>s aside from equal numbers of <code>1</code>s and <code>-1</code>s.</p>\n\n<p>If it's going to generate 25 numbers in total, then it'll need to get equal numbers of <code>1</code>s and <code>-1</code>s out of 25-4=21 remaining numbers. This is mathematically impossible. Therefore, the answer is this is 0</p>\n\n<p>(2) Let's use the same logic: you'll need fourteen <code>1</code>s and eleven <code>-1</code>s. Now, there are <code>2^25</code> possible ways of generating a list of 25 <code>1</code>s and <code>-1</code>s in <code>randomFunction</code>; and you need 11 of those 25 to be a specific number (though it doesn't really matter which 11 numbers). There are therefore <code>25choose11</code> ways of getting these 11 numbers. Super! So now, all you need to compute is <code>25choose11 / 2^25</code></p>\n\n<p>(3) Same logic as before: you now need 3000 <code>1</code>s and <code>3000</code> <code>-1</code>s. So, compute <code>6000choose3000 / 2^6000</code></p>\n"}], "owner": {"reputation": 511, "user_id": 5627695, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/865752a9a53c50582e58857109394032?s=128&d=identicon&r=PG&f=1", "display_name": "E. Otero", "link": "https://stackoverflow.com/users/5627695/e-otero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 35186738, "answer_count": 1, "score": -2, "last_activity_date": 1454530230, "creation_date": 1454529386, "question_id": 35186457, "link": "https://stackoverflow.com/questions/35186457/probability-that-the-function-returns-a-specific-value", "title": "Probability that the function returns a specific value", "body": "<p>I am having trouble understanding a way to find a mathematical expression for the following probability values that are requested.  I was given a Python function, defined as:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def randomFunction(n):\n    return sum([random.choice([-1,1] for _ in range(n)])\n</code></pre>\n\n<p>It is then requested to find to find the probability values that:</p>\n\n<ol>\n<li>randomFunction(25) will return 4</li>\n<li>randomFunction(25) will return 3</li>\n<li>randomFunction(6000) will return 0 (accurate \"analytic estimate,\" not based on simulation results)</li>\n</ol>\n\n<p>I created a monte carlo simulation for all three probabilities in order to be able to double check my work; however, I am unsure of how to tackle this problem mathematically.</p>\n\n<p>I imagine that the third question will require Stirling's approximation, due to it being worded as an \"analytic estimate.\"  I think the disconnect is occurring with how I find the number of successes in order to determine the probability.  Lastly, I was able to solve the first one, through reasoning, that it would be a probability of 0.0, due to the fact that an even number cannot be sum when adding and/or subtracting by \u00b11 for an odd amount of times.</p>\n\n<p>I feel like this is a very elementary problem; however, I seem to missing how to approach the question.  Any help/direction would be greatly appreciated!</p>\n\n<p>My simulation is below, in case anyone was interested:\n</p>\n\n<pre><code>import random\n\n# Initialize Counters\ncount4 = 0\ncount3 = 0\ncount0 = 0\n\n# Function that \ndef randomFunction(n):\n    return sum([random.choice([-1,1]) for _ in range(n)])\n\n### Simulation for Sum 4 ###\nfor x in range(10**4):\n    if randomFunction(25) == 4:\n        count4 += 1\n\nprint \"Sum 4 Count: \",count4\nprint \"P(Sum 4): \",float(count4)/10**4\n############################\n\n### Simulation for Sum 3 ###\nfor x in range(10**4):\n    if randomFunction(25) == 3:\n        count3+=1\n\nprint \"Sum 3 Count: \",count3\nprint \"P(Sum 3): \",float(count3)/10**4\n############################\n\n### Simulation for Sum 0 ###\nfor x in range(10**4):\n    if randomFunction(6000) == 0:\n        count0+=1\n    if x%1000==0: # Progress update every 10%\n        print str((float(x)/10**4)*100)+\"%\"\n\nprint \"Sum 0 Count: \",count0\nprint \"P(Sum 0): \",float(count0)/10**4\n############################\n</code></pre>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 181, "user_id": 5658989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baa23e60815e22c46d844691b84677f5?s=128&d=identicon&r=PG&f=1", "display_name": "Koebmand STO", "link": "https://stackoverflow.com/users/5658989/koebmand-sto"}, "edited": false, "score": 0, "creation_date": 1454529652, "post_id": 35186450, "comment_id": 58090118, "body": "Might want to read how open() works. <a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#open</a> - also what SirParselot says."}, {"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 1, "creation_date": 1454529681, "post_id": 35186450, "comment_id": 58090134, "body": "Your second for loop, which has a call a write call in it, is outside the with statement which closes the file once you jump out of it"}, {"owner": {"reputation": 936, "user_id": 1694699, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/67158e2d17ce71988c8384329d84e579?s=128&d=identicon&r=PG", "display_name": "ofnowhere", "link": "https://stackoverflow.com/users/1694699/ofnowhere"}, "edited": false, "score": 0, "creation_date": 1454530236, "post_id": 35186450, "comment_id": 58090470, "body": "You are trying to write to file after opening it in the read mode."}, {"owner": {"reputation": 13359, "user_id": 489590, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e16b3d117fa188c4dbdafb8dc27a4df0?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/489590/brian-cain"}, "edited": false, "score": 1, "creation_date": 1454530240, "post_id": 35186450, "comment_id": 58090474, "body": "Has it been edited since?  Both <code>for</code> loops appear inside the <code>with</code> statement block (but the file is opened as <code>r+</code>)."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454530704, "post_id": 35186450, "comment_id": 58090751, "body": "@bartekshadowm post the code as it is when you get the error, right now you would not get any error related to the file being closed."}, {"owner": {"reputation": 441, "user_id": 5512815, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee65808e0f50ecb5ffb305f82d787fa2?s=128&d=identicon&r=PG&f=1", "display_name": "Knight", "link": "https://stackoverflow.com/users/5512815/knight"}, "edited": false, "score": 0, "creation_date": 1454530710, "post_id": 35186450, "comment_id": 58090754, "body": "Yes but still I cant erase my file. It just adds sorted values into file."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454531133, "post_id": 35186450, "comment_id": 58091021, "body": "@bartekshadow, <code>f.truncate(f.seek(0))</code>, open with <code>r+</code>, indent the for loop inside the with block and it will work fine"}], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1454530262, "post_id": 35186690, "comment_id": 58090490, "body": "No you don&#39;t have to open twice, you can use r+ with truncate as the OP is doing in their own code"}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454530394, "post_id": 35186690, "comment_id": 58090563, "body": "@PadraicCunningham Well, this is a simple solution (not to mention correct). No need for <code>truncate</code> or <code>r+</code>. Maybe someone else will find it useful."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1454530535, "post_id": 35186690, "comment_id": 58090645, "body": "You said you need to open it twice, you don&#39;t so that is misinformation, the only thing wrong in the OP&#39;s code is indentation"}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1454530629, "post_id": 35186690, "comment_id": 58090700, "body": "@PadraicCunningham err no, OP has to seek to 0 before he can call <code>truncate</code>."}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 1, "creation_date": 1454532735, "post_id": 35186690, "comment_id": 58092068, "body": "Beware that in Python 3, <a href=\"http://stackoverflow.com/a/34884040/789671\">strange things can happen</a> when you mix read and write mode operations on text-mode files."}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "reply_to_user": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1454533734, "post_id": 35186690, "comment_id": 58092651, "body": "@glibdud &quot;I feel that the first approach is better, and you\u2019re less likely to shoot yourself in the foot.\u201d."}], "tags": [], "owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "is_accepted": true, "score": 2, "last_activity_date": 1454531122, "last_edit_date": 1454531122, "creation_date": 1454530069, "answer_id": 35186690, "question_id": 35186450, "link": "https://stackoverflow.com/questions/35186450/python-file-read-and-write/35186690#35186690", "title": "Python file read and write", "body": "<p>The file remains open only <strong>inside</strong> the <code>with</code> block. After that, Python will automatically close it. You need to open it a second time, using a second <code>with</code> block.</p>\n\n<pre><code>def Sort():\n    scores = []\n    with open(\"results.txt\") as x:\n        # x is open only inside this block!\n        for linia in x:\n            name, score=linia.split(' ')\n            score = int(score)\n            scores.append((name, score))\n        scores.sort(key=lambda sc: sc[1])\n\n    with open(\"results.txt\", \"w\") as x:\n        # open it a second time, this time with `w`\n        for name, score in scores:\n            x.write(name + ' ' + str(score))\n\nSort()\n</code></pre>\n\n<hr>\n\n<p>This can also be done using just a single file open. In this case, you open the file in a dual read/write mode (r+) and use <code>truncate</code> to erase the previous file contents.</p>\n\n<pre><code>def Sort():\n    scores = []\n    with open(\"results.txt\", \"r+\") as x:\n        for linia in x:\n            name, score = linia.split(' ')\n            score = int(score)\n            scores.append((name, score))\n        scores.sort(key=lambda sc: sc[1])\n\n        # Go to beginning of file\n        x.seek(0)\n\n        # http://devdocs.io/python~3.5/library/io#io.IOBase.truncate\n        # If no position is specified to truncate, \n        # then it resizes to current position\n\n        x.truncate()\n        # note that x.truncate(0) does **not** work,\n        # without an accompanying call to `seek`.\n        # a number of control characters are inserted\n        # for reasons unknown to me.\n\n        for name, score in scores:\n            x.write(name + ' ' + str(score) + '\\n')\n</code></pre>\n\n<p>However, personally, I feel that the first approach is better, and you\u2019re less likely to shoot yourself in the foot.</p>\n"}], "owner": {"reputation": 441, "user_id": 5512815, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee65808e0f50ecb5ffb305f82d787fa2?s=128&d=identicon&r=PG&f=1", "display_name": "Knight", "link": "https://stackoverflow.com/users/5512815/knight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 35186690, "answer_count": 1, "score": 0, "last_activity_date": 1454531122, "creation_date": 1454529362, "last_edit_date": 1454531046, "question_id": 35186450, "link": "https://stackoverflow.com/questions/35186450/python-file-read-and-write", "title": "Python file read and write", "body": "<p>I have file with scores:</p>\n\n<pre><code>Foo 12\nBar 44\n</code></pre>\n\n<p>I try to sort it, erase it and than write sorted scores into it.\nBut I get error:</p>\n\n<p>ValueError: I/O operation on closed file</p>\n\n<p>Here is my function:</p>\n\n<pre><code>def Sort():\nscores = []\nwith open(\"results.txt\") as x:\n    for linia in x:\n        name,score=linia.split(' ')\n        score=int(score)\n        scores.append((name,score))\n    scores.sort(key=lambda sc: sc[1])\nx.truncate()\nfor name, score in scores:\n    x.write(name+' '+str(score))\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1454529408, "post_id": 35186420, "comment_id": 58089997, "body": "If you want functional, why not <code>map</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1454529418, "post_id": 35186446, "comment_id": 58090007, "body": "What if processing is not encapsulated into a function? Can I have &quot;global&quot; <code>for filename</code>?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1454529822, "post_id": 35186446, "comment_id": 58090216, "body": "@Dims That&#39;s a different question."}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1454680745, "post_id": 35186446, "comment_id": 58166310, "body": "@chepner not a different; I am just asking not to stuck to single-liners"}], "tags": [], "owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "is_accepted": true, "score": 6, "last_activity_date": 1454529812, "last_edit_date": 1454529812, "creation_date": 1454529338, "answer_id": 35186446, "question_id": 35186420, "link": "https://stackoverflow.com/questions/35186420/functional-way-to-create-new-list-by-processing-elements-of-another-list/35186446#35186446", "title": "Functional way to create new list by processing elements of another list?", "body": "<blockquote>\n  <p>What is the simplest way of creating one list from another?</p>\n</blockquote>\n\n<p>Use a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>:</p>\n\n<pre><code>ans = [myreadfunction(filename) for filename in filenames]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 4, "last_activity_date": 1454529416, "creation_date": 1454529416, "answer_id": 35186464, "question_id": 35186420, "link": "https://stackoverflow.com/questions/35186420/functional-way-to-create-new-list-by-processing-elements-of-another-list/35186464#35186464", "title": "Functional way to create new list by processing elements of another list?", "body": "<p>If you want functional use <a href=\"https://docs.python.org/3.5/library/functions.html#map\" rel=\"nofollow\"><code>map</code></a>:</p>\n\n<pre><code>ans = list(map(myreadfunction,filenames))\n</code></pre>\n"}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 35186446, "answer_count": 2, "score": 2, "last_activity_date": 1454529812, "creation_date": 1454529226, "question_id": 35186420, "link": "https://stackoverflow.com/questions/35186420/functional-way-to-create-new-list-by-processing-elements-of-another-list", "title": "Functional way to create new list by processing elements of another list?", "body": "<p>What is the simplest way of creating one list from another? </p>\n\n<p>Suppose I have a list of filenames and wish to create correspondent list of objects</p>\n\n<pre><code>ans = []\n  for filename in filenames:\n    ans.append( myreadfunction(filename) )\n</code></pre>\n\n<p>Is there more \"functional\" way?</p>\n"}, {"tags": ["python", "django", "openshift"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454529624, "post_id": 35186417, "comment_id": 58090106, "body": "I&#39;m not sure what that <code>wsgi</code> folder is for. Why don&#39;t you just import from <code>myproject.app1...</code>? In any case, assuming this is in production, can you post your wsgi.py file?"}, {"owner": {"reputation": 6813, "user_id": 1924325, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/88f9a0debb4ccf2449af3f535799d863?s=128&d=identicon&r=PG", "display_name": "fat fantasma", "link": "https://stackoverflow.com/users/1924325/fat-fantasma"}, "edited": false, "score": 0, "creation_date": 1454534958, "post_id": 35186417, "comment_id": 58093333, "body": "Make sure you know what python thinks is your current working directory then make your import path from there."}, {"owner": {"reputation": 419, "user_id": 3768542, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9jS7K.jpg?s=128&g=1", "display_name": "C&#233;dric", "link": "https://stackoverflow.com/users/3768542/c%c3%a9dric"}, "edited": false, "score": 0, "creation_date": 1454537349, "post_id": 35186417, "comment_id": 58094606, "body": "Assuming you mean the content of the wsgi.py in the myproject folder, I will post its contents :) And when I try to import from myproject... I just get an unresolved reference error..."}, {"owner": {"reputation": 1064, "user_id": 4117381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/br0Y9.jpg?s=128&g=1", "display_name": "Ahmed Hosny", "link": "https://stackoverflow.com/users/4117381/ahmed-hosny"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1454542142, "post_id": 35186417, "comment_id": 58096644, "body": "I think @DanielRoseman mean is to import as <code>from app1.models import PrivateClient</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1974, "user_id": 2026022, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d7532c0340f0ba617add19146b06b549?s=128&d=identicon&r=PG", "display_name": "Lucas03", "link": "https://stackoverflow.com/users/2026022/lucas03"}, "is_accepted": false, "score": 0, "last_activity_date": 1457475029, "creation_date": 1457475029, "answer_id": 35879024, "question_id": 35186417, "link": "https://stackoverflow.com/questions/35186417/importerror-at-no-module-named-wsgi-in-django/35879024#35879024", "title": "ImportError at / No module named &#39;wsgi&#39; in django", "body": "<p>Just use what @ahmed-hosny mentioned in comments:<br>\n<code>from app1.models import PrivateClient</code><br>\nPlease always reply to comments, answer your question (if nobody else did) and mark it as answered. Thanks.</p>\n"}], "owner": {"reputation": 419, "user_id": 3768542, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9jS7K.jpg?s=128&g=1", "display_name": "C&#233;dric", "link": "https://stackoverflow.com/users/3768542/c%c3%a9dric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 704, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1457475029, "creation_date": 1454529220, "last_edit_date": 1454537415, "question_id": 35186417, "link": "https://stackoverflow.com/questions/35186417/importerror-at-no-module-named-wsgi-in-django", "title": "ImportError at / No module named &#39;wsgi&#39; in django", "body": "<p>Well, as the title says I'm constantly getting the above error when trying to import a class from another app. </p>\n\n<p>My file structure looks like this (I am on openshift btw):</p>\n\n<pre><code>- openshiftappname\n    - .openshift\n    - data\n    - libs\n    - wsgi\n        - myproject\n            - myproject\n            - app1\n                models.py (file with class to import)\n            - app2\n                forms.py (file with import)\n            manage.py\n        - static\n        __init__.py\n        application\n    setup.py\n</code></pre>\n\n<p>My import looks like this:</p>\n\n<pre><code>from wsgi.myproject.app1.models import PrivateClient\n</code></pre>\n\n<p>I've also tried:</p>\n\n<pre><code>from ..app1.models import PrivateClient\nfrom ..app1 import PrivateClient\n</code></pre>\n\n<p>but both these statements give me the error:\n\"ValueError at /\nattempted relative import beyond top-level package\"</p>\n\n<p>contents of wsgi/myproject/myproject/wsgi.py:</p>\n\n<pre><code>import os\n\nfrom django.core.wsgi import get_wsgi_application\n\n# GETTING-STARTED: change 'myproject' to your project name:\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"myproject.settings\")\n\napplication = get_wsgi_application()\n</code></pre>\n\n<p>Note that both apps are added to the installed_apps in the settings file</p>\n\n<p>What should I do? I have no clue why I'm getting this error and I was unable to find a solution on the web after extensive searching. Thanks in advance!</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1454535181, "post_id": 35186401, "comment_id": 58093456, "body": "Do you write code to do export or is there an admin interface?"}, {"owner": {"reputation": 727, "user_id": 2590063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/VVSTx.jpg?s=128&g=1", "display_name": "Juan Carlos Asuncion", "link": "https://stackoverflow.com/users/2590063/juan-carlos-asuncion"}, "reply_to_user": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1454535451, "post_id": 35186401, "comment_id": 58093606, "body": "There is an admin interface"}], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 3467079, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ErrV8.jpg?s=128&g=1", "display_name": "Fermin Arellano", "link": "https://stackoverflow.com/users/3467079/fermin-arellano"}, "is_accepted": true, "score": 2, "last_activity_date": 1458936664, "last_edit_date": 1592644375, "creation_date": 1458936664, "answer_id": 36227268, "question_id": 35186401, "link": "https://stackoverflow.com/questions/35186401/django-django-import-export-change-file-name/36227268#36227268", "title": "Django: django-import-export, change file name", "body": "<p>I did the following using Django Admin:</p>\n<h1>admin.py</h1>\n<pre><code>from import_export.admin import ImportExportActionModelAdmin\n\nclass MyModelAdmin(ImportExportActionModelAdmin):\n    # ...\n    #Your configs and code\n    def get_export_filename(self, file_format):\n        filename = &quot;%s.%s&quot; % (&quot;your_custom_filename&quot;,\n                             file_format.get_extension())\n        return filename\n</code></pre>\n<p>The original code is in Import-Export source code, specifically in /import_export/admin.py in class ExportMixin. Since ImportExportActionModelAdmin inherits this class, we are basically overwriting the method.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 13644821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d43d42de96ce8c21dd17cb2b623d2a7?s=128&d=identicon&r=PG&f=1", "display_name": "B_MoSsen", "link": "https://stackoverflow.com/users/13644821/b-mossen"}, "is_accepted": false, "score": 0, "last_activity_date": 1597060492, "creation_date": 1597060492, "answer_id": 63339676, "question_id": 35186401, "link": "https://stackoverflow.com/questions/35186401/django-django-import-export-change-file-name/63339676#63339676", "title": "Django: django-import-export, change file name", "body": "<p>in your admin.py :</p>\n<pre><code>def get_export_filename(self, request, queryset, file_format):\n    filename = &quot;%s.%s&quot; % (&quot;R\u00e9alisations de vente&quot;,\n                          file_format.get_extension())\n    return filename\n</code></pre>\n"}], "owner": {"reputation": 727, "user_id": 2590063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/VVSTx.jpg?s=128&g=1", "display_name": "Juan Carlos Asuncion", "link": "https://stackoverflow.com/users/2590063/juan-carlos-asuncion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1084, "favorite_count": 0, "accepted_answer_id": 36227268, "answer_count": 2, "score": 2, "last_activity_date": 1597060492, "creation_date": 1454529164, "question_id": 35186401, "link": "https://stackoverflow.com/questions/35186401/django-django-import-export-change-file-name", "title": "Django: django-import-export, change file name", "body": "<p>I would like to request assistance in this matter</p>\n\n<p>I am using <a href=\"https://github.com/django-import-export/django-import-export\" rel=\"nofollow\">django-import-export</a> to export my data to excel and I would like to change the export file name.</p>\n\n<p>I tried to search but no related solution came up.</p>\n\n<p>So, is it possible to change the file name? If so, where? Or at least some way to say that this file came from a readable source(I am naming my model like this: rep, appdata, etc. so if I export the info it wouldn't be comprehensible by the users(is it bad?))</p>\n\n<p>Tried <code>verbose_name = u'your-fancy-class-name'</code> but the file name I exported is still named by the model class itself (appdata, rep, etc.)</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "math"], "comments": [{"owner": {"reputation": 2752, "user_id": 2015911, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BaMzg.jpg?s=128&g=1", "display_name": "BlueMoon93", "link": "https://stackoverflow.com/users/2015911/bluemoon93"}, "edited": false, "score": 0, "creation_date": 1454529314, "post_id": 35186400, "comment_id": 58089916, "body": "Do the values on the array affect the result? If it was an array of <code>[0, 0, 0, 0, 0]</code> would it be the same as <code>[0, 1, 2, 3, 4]</code>?"}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1454529416, "post_id": 35186400, "comment_id": 58090005, "body": "Have you tried anything yet? If the values of the array, but the length matters, have you tried dividing the array in half and then finding the step&#39;s needed to go from 0 to 1?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1454529421, "post_id": 35186400, "comment_id": 58090010, "body": "What&#39;s the logic behind your increasing? is there any specific interval?"}, {"owner": {"reputation": 175, "user_id": 5715373, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ab091a91772fbb07410547739b73b23?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/5715373/nix"}, "edited": false, "score": 0, "creation_date": 1454530438, "post_id": 35186400, "comment_id": 58090586, "body": "No, values are irrelevant. While iterating through array, depending on current position in the array, I need a value to go up and down in an arc."}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1454530663, "post_id": 35186400, "comment_id": 58090723, "body": "<code>y = x</code> or <code>y = 0</code> work if the values are irrelevant. Take a step back rather, there is the movement through the array and the computation, which of the two gives you problems?"}, {"owner": {"reputation": 3870, "user_id": 2336725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a0b96a26cf233d752469445595f872?s=128&d=identicon&r=PG", "display_name": "Teepeemm", "link": "https://stackoverflow.com/users/2336725/teepeemm"}, "edited": false, "score": 0, "creation_date": 1454532863, "post_id": 35186400, "comment_id": 58092149, "body": "&quot;every approach to this&quot; is far to broad. <code>sin</code> is fine for this.  But what do you mean by &quot;defined length of an arc&quot;?  The arc length of the <code>sin</code> curve isn&#39;t algebraically computable, as I recall."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 5715373, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ab091a91772fbb07410547739b73b23?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/5715373/nix"}, "edited": false, "score": 0, "creation_date": 1454530267, "post_id": 35186480, "comment_id": 58090493, "body": "array = [0,1,2,3,4,5,6]  for x, val in enumerate(array):     y = math.sin( x*math.pi / (len(array)-1) )     print x, y  For some reason this gives me: 0 0.0;  1 0.5;  2 0.866025403784;  3 1.0;  4 0.866025403784;  5 0.5;  6 1.22464679915e-16;"}, {"owner": {"reputation": 2752, "user_id": 2015911, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BaMzg.jpg?s=128&g=1", "display_name": "BlueMoon93", "link": "https://stackoverflow.com/users/2015911/bluemoon93"}, "reply_to_user": {"reputation": 175, "user_id": 5715373, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ab091a91772fbb07410547739b73b23?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/5715373/nix"}, "edited": false, "score": 0, "creation_date": 1454530572, "post_id": 35186480, "comment_id": 58090671, "body": "How is <code>math.sin(3) = 1</code>? My small java (don&#39;t have python in this laptop) program prints <code>[0.0, 0.49, 0.86, 1.0, 0.86, 0.49, 0.0]</code>"}, {"owner": {"reputation": 2752, "user_id": 2015911, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BaMzg.jpg?s=128&g=1", "display_name": "BlueMoon93", "link": "https://stackoverflow.com/users/2015911/bluemoon93"}, "reply_to_user": {"reputation": 175, "user_id": 5715373, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ab091a91772fbb07410547739b73b23?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/5715373/nix"}, "edited": false, "score": 0, "creation_date": 1454530610, "post_id": 35186480, "comment_id": 58090690, "body": "My code btw is <code>for(int i=0; i&lt;7; i++){ System.out.println(Math.sin( i*Math.PI &#47; (7-1) )); }</code>"}, {"owner": {"reputation": 175, "user_id": 5715373, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ab091a91772fbb07410547739b73b23?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/5715373/nix"}, "edited": false, "score": 0, "creation_date": 1454530984, "post_id": 35186480, "comment_id": 58090917, "body": "Well, Weird. <code>for x, val in enumerate(array):     a = x*math.pi     b = (len(array)-1)     y = math.sin( a &#47; b )     print x, a, b, y</code>  Prints:  <code>0 0.0 6 0.0 1 3.14159265359 6 0.5 2 6.28318530718 6 0.866025403784 3 9.42477796077 6 1.0 4 12.5663706144 6 0.866025403784 5 15.7079632679 6 0.5 6 18.8495559215 6 1.22464679915e-16</code>"}, {"owner": {"reputation": 2752, "user_id": 2015911, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BaMzg.jpg?s=128&g=1", "display_name": "BlueMoon93", "link": "https://stackoverflow.com/users/2015911/bluemoon93"}, "reply_to_user": {"reputation": 175, "user_id": 5715373, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ab091a91772fbb07410547739b73b23?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/5715373/nix"}, "edited": false, "score": 0, "creation_date": 1454531295, "post_id": 35186480, "comment_id": 58091142, "body": "Ah, i misred you answer, sorry. The values are correct! If your issue is <code>1.22464679915e-16</code>, that value is extremely close to <code>0</code>. It gets like that because PI is an infinite number, and you lose precision when calculating its <code>sin</code>"}], "tags": [], "owner": {"reputation": 2752, "user_id": 2015911, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BaMzg.jpg?s=128&g=1", "display_name": "BlueMoon93", "link": "https://stackoverflow.com/users/2015911/bluemoon93"}, "is_accepted": true, "score": 1, "last_activity_date": 1454529468, "creation_date": 1454529468, "answer_id": 35186480, "question_id": 35186400, "link": "https://stackoverflow.com/questions/35186400/making-sin-arc-with-exact-length/35186480#35186480", "title": "Making sin &#39;arc&#39; with exact length", "body": "<p>If the values in the array are irrelevant, then the output should be <code>sin( currentPositionOfArray*PI / (lengthOfArray-1) )</code>. In this case, however, make sure the array's length is <code>&gt; 1</code>.</p>\n\n<p>This means that for your array <code>[0, 1, 2, 3, 4, 5, 6]</code>, you get the sin of <code>[0, PI/6, PI/3, PI/2, 2PI/3, 5PI/6, PI]</code>, which is <code>[0, 0.3, 0.7, 1, 0.7, 0.3, 0]</code></p>\n"}, {"comments": [{"owner": {"reputation": 2752, "user_id": 2015911, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BaMzg.jpg?s=128&g=1", "display_name": "BlueMoon93", "link": "https://stackoverflow.com/users/2015911/bluemoon93"}, "edited": false, "score": 0, "creation_date": 1454530945, "post_id": 35186645, "comment_id": 58090886, "body": "You assume eventually <code>x=n</code>, so <code>n=arrayLength-1</code>"}, {"owner": {"reputation": 21073, "user_id": 3088138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114f33fdece969de35d41038fb0eeb46?s=128&d=identicon&r=PG&f=1", "display_name": "Lutz Lehmann", "link": "https://stackoverflow.com/users/3088138/lutz-lehmann"}, "reply_to_user": {"reputation": 2752, "user_id": 2015911, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BaMzg.jpg?s=128&g=1", "display_name": "BlueMoon93", "link": "https://stackoverflow.com/users/2015911/bluemoon93"}, "edited": false, "score": 0, "creation_date": 1454531057, "post_id": 35186645, "comment_id": 58090969, "body": "No, not exactly that, <code>n=arrayLength-1</code>"}, {"owner": {"reputation": 2752, "user_id": 2015911, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BaMzg.jpg?s=128&g=1", "display_name": "BlueMoon93", "link": "https://stackoverflow.com/users/2015911/bluemoon93"}, "edited": false, "score": 0, "creation_date": 1454531130, "post_id": 35186645, "comment_id": 58091015, "body": "Typo, my bad. Maybe describe <code>n</code> in your answer"}], "tags": [], "owner": {"reputation": 21073, "user_id": 3088138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114f33fdece969de35d41038fb0eeb46?s=128&d=identicon&r=PG&f=1", "display_name": "Lutz Lehmann", "link": "https://stackoverflow.com/users/3088138/lutz-lehmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1454531024, "last_edit_date": 1454531024, "creation_date": 1454529958, "answer_id": 35186645, "question_id": 35186400, "link": "https://stackoverflow.com/questions/35186400/making-sin-arc-with-exact-length/35186645#35186645", "title": "Making sin &#39;arc&#39; with exact length", "body": "<p>Or you could use</p>\n\n<pre><code>y = (x*(6-x))/9\n</code></pre>\n\n<p>or generally for a segment from 0 to n</p>\n\n<pre><code>y = (4*x*(n-x))/(n**2)\n</code></pre>\n\n<p>Taking the square of that gives a start from and end to velocity zero.</p>\n"}], "owner": {"reputation": 175, "user_id": 5715373, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ab091a91772fbb07410547739b73b23?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/5715373/nix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 35186480, "answer_count": 2, "score": 2, "last_activity_date": 1454531024, "creation_date": 1454529162, "last_edit_date": 1454530250, "question_id": 35186400, "link": "https://stackoverflow.com/questions/35186400/making-sin-arc-with-exact-length", "title": "Making sin &#39;arc&#39; with exact length", "body": "<p>I have a relatively simple question which I don't even know how to formulate to google it...</p>\n\n<p>Say, I have an array of variable length, for example:</p>\n\n<pre><code>[0, 1, 2, 3, 4, 5, 6]\n</code></pre>\n\n<p>While iterating through such a loop, I want to recieve values:</p>\n\n<pre><code>[0, 1,   2,   3,   4,   5, 6]\n[0, 0.3, 0.7, 1, 0.7, 0.3, 0]\n</code></pre>\n\n<p>So basically, I need value from 0 to 1, going up until it hits the middle, and then going down. Either something simple, or with ease-in ease-out, I don't really care much. So it can be either sin with defined length of an arc, or just some other hack... Interested in every approach to this.</p>\n\n<p>I'm talking about the id of a for loop.</p>\n\n<pre><code>for x in range(0,6):\n y = ?\n</code></pre>\n\n<p>Thanks!</p>\n\n<p>EDIT:\nValues ARE irrelevant!</p>\n"}, {"tags": ["python", "database", "sqlite", "command-line"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1454529315, "post_id": 35186382, "comment_id": 58089919, "body": "This isn&#39;t really a Python problem, see e.g. <a href=\"http://www.davidbaumgold.com/tutorials/command-line/\" rel=\"nofollow noreferrer\">davidbaumgold.com/tutorials/command-line</a>"}, {"owner": {"reputation": 1, "user_id": 5876863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ea0512af96dcf3849ec162f23eee76?s=128&d=identicon&r=PG&f=1", "display_name": "R.K. GUPTA", "link": "https://stackoverflow.com/users/5876863/r-k-gupta"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1454529631, "post_id": 35186382, "comment_id": 58090110, "body": "can you please ans it i&#39;m in a hurry (its 1:30 right now in india) @jonrsharpe"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1454530409, "post_id": 35186382, "comment_id": 58090574, "body": "You appear to have confused your deadlines with other people&#39;s problems."}], "answers": [{"tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": true, "score": 0, "last_activity_date": 1454531552, "creation_date": 1454531552, "answer_id": 35187130, "question_id": 35186382, "link": "https://stackoverflow.com/questions/35186382/how-to-run-python-script-making-a-file/35187130#35187130", "title": "How to run Python script making a file", "body": "<p>You have to specify a file for the output to go with the <code>-o</code> option.  For example, <code>python script.py -o MYOUTFILE</code></p>\n"}], "owner": {"reputation": 1, "user_id": 5876863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ea0512af96dcf3849ec162f23eee76?s=128&d=identicon&r=PG&f=1", "display_name": "R.K. GUPTA", "link": "https://stackoverflow.com/users/5876863/r-k-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 35187130, "answer_count": 1, "score": -3, "last_activity_date": 1460029521, "creation_date": 1454529115, "last_edit_date": 1460029521, "question_id": 35186382, "link": "https://stackoverflow.com/questions/35186382/how-to-run-python-script-making-a-file", "title": "How to run Python script making a file", "body": "<pre><code>   #!/usr/bin/env python3\n\n    # Script to convert HTML files provided by The Online Plain Text English\n    # Dictionary (http://www.mso.anu.edu.au/~ralph/OPTED/) into SQLite          database\n\n    import sys\n    import sqlite3\n    from argparse import ArgumentParser, FileType\n     from bs4 import BeautifulSoup\n\n   def parse_args():\n    parser = ArgumentParser(\"Create database from HTML dictionary pages\")\n    parser.add_argument(\"files\", metavar=\"file\", nargs=\"+\",  type=FileType(\"rb\"))\n    parser.add_argument(\"--out\", \"-o\", required=True)\n    return parser.parse_args()\n\n   def create_tables(conn):\n  conn.execute(\"DROP TABLE IF EXISTS words\")\n  conn.execute(\"CREATE TABLE words (id integer primary key, word text,               description text)\")\nconn.commit()\n\ndef words(handle):\ndoc = BeautifulSoup(handle)\nfor p in doc.find_all(\"p\"):\n    if len(p.contents) == 4:\n        word = p.contents[0].string.lower()\n        definition = p.contents[3].lstrip(\") \").replace(\"\\n\", \" \")\n        yield word, definition\n\ndef insert_words(conn, iter):\n  conn.executemany(\"INSERT INTO words VALUES (NULL, ?, ?)\", iter)\n\ndef main():\nargs = parse_args()\ndb = sqlite3.connect(args.out)\ncreate_tables(db)\nfor handle in args.files:\n    print(\"Processing \\\"{}\\\"\".format(handle.name), file=sys.stderr)\n    insert_words(db, words(handle))\n    db.commit()\ndb.close()\n\nif __name__ == \"__main__\":\nmain()\n</code></pre>\n\n<p>i tried python my_script.py</p>\n\n<p>but it shows this:</p>\n\n<p>usage: Create database from HTML dictionary pages [-h] --out OUT\n                                                  file [file ...]\nCreate database from HTML dictionary pages: error: the following arguments are r\nequired: file, --out/-o</p>\n\n<p>i dont use python. i just want to run this script and sorry for bad presentation of code I am new at this.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "edited": false, "score": 0, "creation_date": 1454529366, "post_id": 35186372, "comment_id": 58089965, "body": "Can you add the JSON file (or subset of) that you are using?  And the expected output?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1454529425, "post_id": 35186372, "comment_id": 58090016, "body": "What you want to do is unclear. You say &quot;but then I have &#39;subkeys&#39;(?)&quot;, what do you want to happen? Example input and output might be useful..."}, {"owner": {"reputation": 1415, "user_id": 2314391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7e52c232ca81d0d7bf28f2609e15d1?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/2314391/will"}, "edited": false, "score": 0, "creation_date": 1454530543, "post_id": 35186372, "comment_id": 58090649, "body": "I know this is unrelated to the question but take a look at item.get() syntax, it will save you a try/except"}, {"owner": {"reputation": 1124, "user_id": 359340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c1ea7e6c3947492455be6f3897996dd?s=128&d=identicon&r=PG", "display_name": "Kal Zekdor", "link": "https://stackoverflow.com/users/359340/kal-zekdor"}, "edited": false, "score": 0, "creation_date": 1454531124, "post_id": 35186372, "comment_id": 58091011, "body": "If you&#39;re dealing with JSON in Python, I highly recommend the fantastic Requests library: <a href=\"http://docs.python-requests.org\" rel=\"nofollow noreferrer\">docs.python-requests.org</a> Makes a lot of the worries regarding JSON interpretation moot."}, {"owner": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "edited": false, "score": 0, "creation_date": 1454933978, "post_id": 35186372, "comment_id": 58250179, "body": "See my comment below - in that example, I&#39;d expect to see &quot;nailed_it1&quot; and &quot;nailed_it2&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "edited": false, "score": 0, "creation_date": 1454933835, "post_id": 35186764, "comment_id": 58250099, "body": "This doesn&#39;t seem to work for me:KEYS_TO_EXPORT = [&quot;channel.title&quot;] item = {&quot;id&quot;: 1, &quot;channel&quot;: {id: &quot;channelid1&quot;, &quot;title&quot;: &quot;nailed_it1&quot;}, &quot;id&quot;: 2, &quot;channel&quot;: {id: &quot;channelid2&quot;, &quot;title&quot;: &quot;nailed_it2&quot;}} this_row = [] for export_key in KEYS_TO_EXPORT:     try:         value = item         for key in export_key.split(&quot;.&quot;):             value = value[key]         this_row.append(str(value).encode(&#39;utf-8&#39;))         print this_row     except KeyError:         this_row.append(&quot;&quot;)"}, {"owner": {"reputation": 427, "user_id": 3303982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87afc9ae4918bf7c60d269acef10f6e2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Sherman", "link": "https://stackoverflow.com/users/3303982/alex-sherman"}, "reply_to_user": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "edited": false, "score": 0, "creation_date": 1454955474, "post_id": 35186764, "comment_id": 58264495, "body": "If you expect it to print &quot;nailed_it1&quot; and &quot;nailed_it2&quot;, it certainly cannot. The dictionary you pass it is malformed, all the keys in a dictionary must be unique. It&#39;s not possible to have two values for a single key, so the second value you define for the key is what gets used which is why this only prints &quot;nailed_it2&quot;."}, {"owner": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "edited": false, "score": 0, "creation_date": 1455056362, "post_id": 35186764, "comment_id": 58317030, "body": "please see amended example; you&#39;re right that my original example wasn&#39;t great."}, {"owner": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "edited": false, "score": 0, "creation_date": 1455707077, "post_id": 35186764, "comment_id": 58606241, "body": "The edit is fantastic (need a few indentation changes, but this solution definitely works!). Thanks!"}], "tags": [], "owner": {"reputation": 427, "user_id": 3303982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87afc9ae4918bf7c60d269acef10f6e2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Sherman", "link": "https://stackoverflow.com/users/3303982/alex-sherman"}, "is_accepted": true, "score": 2, "last_activity_date": 1455215880, "last_edit_date": 1455215880, "creation_date": 1454530326, "answer_id": 35186764, "question_id": 35186372, "link": "https://stackoverflow.com/questions/35186372/how-do-i-serialise-json-keys-in-a-python-list/35186764#35186764", "title": "How do I serialise JSON keys in a Python list?", "body": "<p>Consider something like this, you can specify a subkey using \".\" to delimit your keys. Here's an example:</p>\n\n<pre><code>KEYS_TO_EXPORT = [\"id\", \"dateTime\", \"title\", \"channel.title\"]\nitem = {\"id\": 1, \"channel\": {\"title\": \"nailed_it\"}}\nthis_row = []\nfor export_key in KEYS_TO_EXPORT:\n    try:\n        value = item\n        for key in export_key.split(\".\"):\n            value = value[key]\n        this_row.append(str(value).encode('utf-8'))\n    except KeyError:\n        this_row.append(\"\")\n</code></pre>\n\n<p><strong>Edit to work with list:</strong></p>\n\n<p>This solution can easily be extended to work with a list of items as per the edit to the original question as follows. Also I switched to using <code>.get</code> like Will suggested in the comments.</p>\n\n<pre><code>KEYS_TO_PRINT = [\"id\", \"channel.title\"]\nmy_data = {\"items\": [\n    {\"id\": 1, \"channel\": {\"channelid\": \"channelid1\", \"title\": \"nailed_it1\"}},\n    {\"id\": 2, \"channel\": {\"channelid\": \"channelid2\", \"title\": \"nailed_it2\"}},\n    {\"id\": 3}\n]}\nthis_row = []\n\nfor item in my_data[\"items\"]:\n    for export_key in KEYS_TO_PRINT:\n        value = item\n        for key in export_key.split(\".\"):\n            value = value.get(key)\n            if value == None: break\n        this_row.append(str(value).encode('utf-8') if value != None else \"\")\nprint this_row\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 35186764, "answer_count": 1, "score": 1, "last_activity_date": 1455215880, "creation_date": 1454529077, "last_edit_date": 1455057243, "question_id": 35186372, "link": "https://stackoverflow.com/questions/35186372/how-do-i-serialise-json-keys-in-a-python-list", "title": "How do I serialise JSON keys in a Python list?", "body": "<p>I want to iterate through a JSON file using Python and print the a set of keys.</p>\n\n<p>For example:</p>\n\n<pre><code>import json\n\nKEYS_TO_PRINT = [\"id\", \"channel.title\"]\nmy_data = {\"items\": [{\"id\": 1, \"channel\": {\"channelid\": \"channelid1\", \"title\": \"nailed_it1\"}}, {\"id\": 2, \"channel\": {\"channelid\": \"channelid2\", \"title\": \"nailed_it2\"}}]}\nthis_row = []\n\nfor item in my_data[\"items\"]:\n    for key in KEYS_TO_PRINT:\n        try:\n            if \".\" in key:\n                split_up = key.split(\".\")\n                print item[split_up[0]][split_up[1]]\n            else:\n                print item[key]\n        except KeyError:\n            print \"Oops\"\n</code></pre>\n\n<p>However, it's pretty ugly. Is there a neater way?</p>\n"}, {"tags": ["python", "matplotlib", "lambda"], "answers": [{"tags": [], "owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "is_accepted": true, "score": 3, "last_activity_date": 1454529447, "creation_date": 1454529447, "answer_id": 35186473, "question_id": 35186337, "link": "https://stackoverflow.com/questions/35186337/plotting-a-lambda-with-embedded-if-statement-in-python-using-pyplot/35186473#35186473", "title": "Plotting a lambda with embedded if statement in Python using pyplot", "body": "<p>You cannot convert an array to <code>bool</code> if it contains more than one element:</p>\n\n<pre><code>In [21]: bool(np.array([1]))\nOut[21]: True\n\nIn [22]: bool(np.array([1, 2]))\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-22-5ba97928842c&gt; in &lt;module&gt;()\n----&gt; 1 bool(np.array([1, 2]))\n\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n</code></pre>\n\n<p>You, probably, want to apply <code>test</code> function for each element in the array:</p>\n\n<pre><code>In [23]: plt.plot(xpts, [test(x) for x in xpts])\nOut[23]: [&lt;matplotlib.lines.Line2D at 0x7fa560efeeb8&gt;]\n</code></pre>\n\n<p>You may also create vectorized version of your function and apply it to the array, without list comprehension:</p>\n\n<pre><code>In [24]: test_v = np.vectorize(test)\n\nIn [25]: plt.plot(xpts, test_v(xpts))\nOut[25]: [&lt;matplotlib.lines.Line2D at 0x7fa560f19080&gt;]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2549, "user_id": 5765298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d109e4a14d083bccf645ffd660672e61?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett R", "link": "https://stackoverflow.com/users/5765298/garrett-r"}, "is_accepted": false, "score": 3, "last_activity_date": 1454529764, "creation_date": 1454529764, "answer_id": 35186572, "question_id": 35186337, "link": "https://stackoverflow.com/questions/35186337/plotting-a-lambda-with-embedded-if-statement-in-python-using-pyplot/35186572#35186572", "title": "Plotting a lambda with embedded if statement in Python using pyplot", "body": "<p>Python lists will not allow you to perform comparisons to a list.  So you can't for instance, do range(10) > 10.  Instead, you can convert the input to a numpy array and perform the range checking.  T</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nxpts = np.linspace(0, 100, 1000)\ntest = lambda x: (np.array(x) &lt;= 66)*.5 + .5\nprint xpts, test(xpts)\nplt.plot(xpts, test(xpts))\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8113, "favorite_count": 1, "accepted_answer_id": 35186473, "answer_count": 2, "score": 3, "last_activity_date": 1454555233, "creation_date": 1454528970, "last_edit_date": 1454555233, "question_id": 35186337, "link": "https://stackoverflow.com/questions/35186337/plotting-a-lambda-with-embedded-if-statement-in-python-using-pyplot", "title": "Plotting a lambda with embedded if statement in Python using pyplot", "body": "<p>I want to do something like this:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nxpts = np.linspace(0, 100, 1000)\ntest = lambda x: 0.5 if x &gt; 66 else 1.0\nplt.plot(xpts, test(xpts))\n</code></pre>\n\n<p>but I get the error: </p>\n\n<blockquote>\n  <p>ValueError: The truth value of an array with more than one element is\n  ambiguous. Use a.any() or a.all()</p>\n</blockquote>\n\n<p>On the other hand, I am able to do:</p>\n\n<pre><code>print(test(50), test(70))\n</code></pre>\n\n<blockquote>\n  <p>1.0 0.5</p>\n</blockquote>\n\n<p>Why is this happening and is there a solution?</p>\n"}, {"tags": ["python", "eclipse"], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 5827877, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wqzDdabwlCo/AAAAAAAAAAI/AAAAAAAABBw/HNa6rjk29wY/photo.jpg?sz=128", "display_name": "Jack Bahou", "link": "https://stackoverflow.com/users/5827877/jack-bahou"}, "is_accepted": false, "score": 1, "last_activity_date": 1455561601, "creation_date": 1455561601, "answer_id": 35416707, "question_id": 35186324, "link": "https://stackoverflow.com/questions/35186324/rpc-error-when-using-jnpr-junos-utils-config-load-command/35416707#35416707", "title": "RPC Error when using jnpr.junos.utils.config Load command", "body": "<p>Found that I was using an outdated version of junos.eznc.  Running <code>pip install -U junos-eznc</code> updated me to junos.eznc 1.3.1.  After doing this, my script worked properly.</p>\n"}], "owner": {"reputation": 37, "user_id": 5827877, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wqzDdabwlCo/AAAAAAAAAAI/AAAAAAAABBw/HNa6rjk29wY/photo.jpg?sz=128", "display_name": "Jack Bahou", "link": "https://stackoverflow.com/users/5827877/jack-bahou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455561601, "creation_date": 1454528914, "last_edit_date": 1454694847, "question_id": 35186324, "link": "https://stackoverflow.com/questions/35186324/rpc-error-when-using-jnpr-junos-utils-config-load-command", "title": "RPC Error when using jnpr.junos.utils.config Load command", "body": "<p>still rather new to Python. I've been referencing a few blogs regarding the jnpr.junos packages.  Specifically from Jeremy Schulman (<a href=\"http://forums.juniper.net/t5/Automation/Python-for-Non-Programmers-Part-2/bc-p/277682\" rel=\"nofollow\">http://forums.juniper.net/t5/Automation/Python-for-Non-Programmers-Part-2/bc-p/277682</a>).  I'm simply trying to make sure I have the commands right.  I'm just attempting to pass simple commands to my SRX cluster.  I'm attempting to pass the following to an SRX650 cluster.</p>\n\n<pre><code>&gt;&gt;&gt; from jnpr.junos.utils.config import Config\n&gt;&gt;&gt; from jnpr.junos import Device\n&gt;&gt;&gt; dev = Device(host='devip',user='myuser',password='mypwd')\n&gt;&gt;&gt; dev.open()\nDevice(devip)\n&gt;&gt;&gt; cu = Config(dev)\n&gt;&gt;&gt; cu\njnpr.junos.utils.Config(devip)\n&gt;&gt;&gt; set_cmd = 'set system login message \"Hello Admin!\"'\n&gt;&gt;&gt; cu.load(set_cmd,format='set')\n\nWarning (from warnings module):\nFile \"C:\\Python27\\lib\\site-packages\\junos_eznc-1.0.0-                py2.7.egg\\jnpr\\junos\\utils\\config.py\", line 273\nif any([e.find('[error-severity=\"error\"]') for e in rerrs]):\nFutureWarning: The behavior of this method will change in future versions.     Use specific 'len(elem)' or 'elem is not None' test instead.\n\nTraceback (most recent call last):\nFile \"&lt;pyshell#8&gt;\", line 1, in &lt;module&gt;\ncu.load(set_cmd,format='set')\nFile \"C:\\Python27\\lib\\site-packages\\junos_eznc-1.0.0-   py2.7.egg\\jnpr\\junos\\utils\\config.py\", line 296, in load\nreturn try_load(rpc_contents, rpc_xattrs)\nFile \"C:\\Python27\\lib\\site-packages\\junos_eznc-1.0.0-py2.7.egg\\jnpr\\junos\\utils\\config.py\", line 274, in try_load\nraise err\nRpcError\n</code></pre>\n\n<p>I've done quite a bit of searching and can't seem to find anything as to why this RPC error is popping up.  I've confirmed that the syntax is correct and read through the jnpr.junos documentation for Junos EZ.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1454529303, "post_id": 35186291, "comment_id": 58089911, "body": "you want <code>df = df.loc[df[&#39;registrant_phone&#39;].str.startswith(&#39;1&#39;)]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 5428633, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-HoB-YwLKiz0/AAAAAAAAAAI/AAAAAAAAGC4/bfiV7lGMROA/photo.jpg?sz=128", "display_name": "Mxracer888", "link": "https://stackoverflow.com/users/5428633/mxracer888"}, "edited": false, "score": 0, "creation_date": 1454531091, "post_id": 35186529, "comment_id": 58090994, "body": "That worked. Well...with a few modifications, it needed a &#39;s&#39; at the end to make it &#39;startswith&#39; and it flipped and kept everything I didn&#39;t want, but I took out the ~ and it worked. What is the ~ saying? is that just another way of saying &#39;is not&#39;? I guess my real problem was the &#39;object&#39; part, from what I was reading &#39;object&#39; was Pandas&#39; version of str, but apparently not quite. Thanks for the help!"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 319, "user_id": 5428633, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-HoB-YwLKiz0/AAAAAAAAAAI/AAAAAAAAGC4/bfiV7lGMROA/photo.jpg?sz=128", "display_name": "Mxracer888", "link": "https://stackoverflow.com/users/5428633/mxracer888"}, "edited": false, "score": 1, "creation_date": 1454531361, "post_id": 35186529, "comment_id": 58091185, "body": "You&#39;re very welcome. <code>~</code> is indeed negation in <code>numpy-ish</code>."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 23, "last_activity_date": 1505757579, "last_edit_date": 1505757579, "creation_date": 1454529645, "answer_id": 35186529, "question_id": 35186291, "link": "https://stackoverflow.com/questions/35186291/how-do-i-delete-rows-not-starting-with-x-in-pandas-or-keep-rows-starting-with/35186529#35186529", "title": "How do I delete rows not starting with &#39;x&#39; in Pandas or keep rows starting with &#39;x&#39;", "body": "<p>I am a bit confused by your question. In any case, if you have a DataFrame <code>df</code> with a column <code>'c'</code>, and you would like to remove the items starting with <code>1</code>, then the safest way would be to use something like:</p>\n\n<pre><code>df = df[~df['c'].astype(str).str.startswith('1')]\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 5428633, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-HoB-YwLKiz0/AAAAAAAAAAI/AAAAAAAAGC4/bfiV7lGMROA/photo.jpg?sz=128", "display_name": "Mxracer888", "link": "https://stackoverflow.com/users/5428633/mxracer888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13787, "favorite_count": 0, "accepted_answer_id": 35186529, "answer_count": 1, "score": 10, "last_activity_date": 1505757579, "creation_date": 1454528821, "question_id": 35186291, "link": "https://stackoverflow.com/questions/35186291/how-do-i-delete-rows-not-starting-with-x-in-pandas-or-keep-rows-starting-with", "title": "How do I delete rows not starting with &#39;x&#39; in Pandas or keep rows starting with &#39;x&#39;", "body": "<p>I have been at this all morning and have slowly pieced things together. But for the life of me I can not figure out how to use the .str.startswith() function in Pandas. </p>\n\n<p>My XLSX spreadsheet is as follows</p>\n\n<pre><code>1 Name, Registration Date, Phone number\n2 John Doe, 2015-11-20T19:54:45Z, 1.1112223333\n3 Jane Doe, 2015-11-20T20:44:26Z, 65.1112223333\netc...\n</code></pre>\n\n<p>So I am importing it as a data frame, cleaning the header so that there are no spaces and such, then I want to delete any rows not starting with '1.' (or keep rows that start with '1.') and delete all others. So in this short example, delete the entire 'Jane Doe' entry since her phone number starts with '65.'</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_excel('testingpanda.xlsx', sheetname = 'Export 1')\ndef colHeaderCleaner():\n    cols = df.columns\n    cols = cols.map(lambda x: x.replace(' ', '_') if isinstance(x, (str, unicode)) else x)\n    df.columns = cols\n    df.columns = [x.lower() for x in df.columns]\n\ncolHeaderCleaner()\n\n#by default it sets the values in 'registrant_phone' as float64, so this is fixing that...\ndf['registrant_phone'] = df['registrant_phone'].astype('object')\n</code></pre>\n\n<p>The closest I have gotten, and by that I mean the only line I have been able to execute without annoying tracebacks and other errors is:</p>\n\n<pre><code>df['registrant_phone'] = df['registrant_phone'].str.startswith('1')\n</code></pre>\n\n<p>But all that does is convert all phone values to 'NaN', it maintains all of the rows and everything as shown below:</p>\n\n<pre><code>print df\n[output] name, registration_date, phone_number\n[output] John Doe, 2015-11-20T19:54:45Z, NaN\n[output] Jane Doe, 2015-11-20T20:44:26Z, NaN\n</code></pre>\n\n<p>I have searched far too many places to even try to list, I have tried different versions of df.drop and just can't seem to figure anything out. Where do I go from here?</p>\n"}]