[{"tags": ["python", "doc", "python-docx"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553731213, "post_id": 55388245, "comment_id": 97498272, "body": "If you are crafty enough you could read the .xml that created the .docx and use that. That&#39;s all the creators or <code>python-docx</code> did after all..."}, {"owner": {"reputation": 204, "user_id": 10499589, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M2gNYjVVW_M/AAAAAAAAAAI/AAAAAAAAAAc/AhR50CaZBlw/photo.jpg?sz=128", "display_name": "Agust&#237;n Dorado", "link": "https://stackoverflow.com/users/10499589/agust%c3%adn-dorado"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553731444, "post_id": 55388245, "comment_id": 97498326, "body": "@Reedinationer That&#39;s a really road... But thanks for the advice, I&#39;ll try if It turns out necessary."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553731841, "post_id": 55388245, "comment_id": 97498431, "body": "Just to clarify though, you are interested in footnotes, and not footers right?"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553731944, "post_id": 55388245, "comment_id": 97498460, "body": "Maybe you could use the <code>FOOTNOTE_TEXT</code> like on <a href=\"https://python-docx.readthedocs.io/en/latest/api/enum/WdBuiltinStyle.html?highlight=footnote\" rel=\"nofollow noreferrer\">python-docx.readthedocs.io/en/latest/api/enum/&hellip;</a>?"}, {"owner": {"reputation": 204, "user_id": 10499589, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M2gNYjVVW_M/AAAAAAAAAAI/AAAAAAAAAAc/AhR50CaZBlw/photo.jpg?sz=128", "display_name": "Agust&#237;n Dorado", "link": "https://stackoverflow.com/users/10499589/agust%c3%adn-dorado"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553746079, "post_id": 55388245, "comment_id": 97501282, "body": "@Reedinationer Yes I want the footnotes not the footer. it seems to me that what FOOTNOTE_TEXT do is changing the style of the footnotes instead of manipulating the content."}], "answers": [{"comments": [{"owner": {"reputation": 19772, "user_id": 1902513, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dde51d04370847170ede2450660334ac?s=128&d=identicon&r=PG", "display_name": "scanny", "link": "https://stackoverflow.com/users/1902513/scanny"}, "edited": false, "score": 0, "creation_date": 1553976091, "post_id": 55391362, "comment_id": 97587788, "body": "Note that support for headers and footers was recently added. Not footnotes yet though."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 19772, "user_id": 1902513, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dde51d04370847170ede2450660334ac?s=128&d=identicon&r=PG", "display_name": "scanny", "link": "https://stackoverflow.com/users/1902513/scanny"}, "edited": false, "score": 0, "creation_date": 1554053966, "post_id": 55391362, "comment_id": 97602701, "body": "@scanny yes headers and footers have been added (I\u2019m not sure if they are finished yet though). Footnotes are still backlogged though. The developer said in the google conversation I linked that he had them all at the same priority though, so they may come out soon (sooner still if OP helps out!)."}, {"owner": {"reputation": 7899, "user_id": 693542, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/837c9289090b0b7d3043a8782b23ebc8?s=128&d=identicon&r=PG", "display_name": "Indigenuity", "link": "https://stackoverflow.com/users/693542/indigenuity"}, "edited": false, "score": 0, "creation_date": 1586479597, "post_id": 55391362, "comment_id": 108150308, "body": "A rare gem of an answer to an obscure question.  Well-researched and with links."}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 2, "last_activity_date": 1553754428, "creation_date": 1553754428, "answer_id": 55391362, "question_id": 55388245, "link": "https://stackoverflow.com/questions/55388245/is-there-a-workaround-for-adding-microsoft-word-footnotes-dynamically-in-python/55391362#55391362", "title": "Is there a workaround for adding Microsoft Word footnotes dynamically in Python?", "body": "<p>From the <code>python-docx</code> documentation (<a href=\"https://python-docx.readthedocs.io/en/latest/user/documents.html\" rel=\"nofollow noreferrer\">https://python-docx.readthedocs.io/en/latest/user/documents.html</a>):</p>\n\n<blockquote>\n  <p>The feature set is still being built out, so you can\u2019t add or change things like headers or footnotes yet</p>\n</blockquote>\n\n<p>However you can locate them with the xml structure as discussed at <a href=\"https://github.com/python-openxml/python-docx/issues/1\" rel=\"nofollow noreferrer\">https://github.com/python-openxml/python-docx/issues/1</a></p>\n\n<p>Or perhaps a better solution is shown at <a href=\"https://stackoverflow.com/questions/38795791/python-is-there-a-way-i-can-add-a-footnote-to-word-document/38923927#38923927\">Python: Is there a way I can add a footnote to word document?</a></p>\n\n<p>If I understand this solution he is suggesting to essentially create a template with your desired footnote on it, and then load that into python. This wouldn't be \"dynamic\" though so is likely not what you're looking for either.</p>\n\n<p>It looks like in 2014 one of the developers of <code>python-docx</code> had a conversation at <a href=\"https://groups.google.com/forum/#!topic/python-docx/4iQoFG2X03I\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/python-docx/4iQoFG2X03I</a> where he says he wouldn't work on the project for a few months. Maybe you could try to contact him there or through the main <code>docx</code> site and help him build out the module (so you don't have to tackle all the xml handling on your own). Otherwise you will have to find another solution (you mentioned Node.js, but I have no knowledge of it so I cannot help there). Best of luck!</p>\n"}], "owner": {"reputation": 204, "user_id": 10499589, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M2gNYjVVW_M/AAAAAAAAAAI/AAAAAAAAAAc/AhR50CaZBlw/photo.jpg?sz=128", "display_name": "Agust&#237;n Dorado", "link": "https://stackoverflow.com/users/10499589/agust%c3%adn-dorado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "accepted_answer_id": 55391362, "answer_count": 1, "score": 0, "last_activity_date": 1553754428, "creation_date": 1553731136, "question_id": 55388245, "link": "https://stackoverflow.com/questions/55388245/is-there-a-workaround-for-adding-microsoft-word-footnotes-dynamically-in-python", "title": "Is there a workaround for adding Microsoft Word footnotes dynamically in Python?", "body": "<p>Currently I'm using Python Flask to build an application to generate a formatted document from data stored in sql database. My idea was to detect the footnotes marks in the text and render footnotes on the run:</p>\n\n<pre><code>text = ''' This is a sample text {{footnotes:Yes it is!}} It's just that. '''\nfootnote = text[text.find(\"{{footnotes:\")+12:text.find(\"}}\")]\n</code></pre>\n\n<p>However, it seems that python-docx does not offer footnotes manipulation at this very moment.Are there any other packages in Python (or node.js, preferably not for the application would be made from scratch all over again) to add footnotes to .doc file?</p>\n\n<p>Is it a viable route to first make the document Markdown and then somehow convert it into .docx with footnotes properties?</p>\n"}, {"tags": ["python", "datetime", "arcgis", "arcpy"], "comments": [{"owner": {"reputation": 1121, "user_id": 8436879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S27clNYYHpw/AAAAAAAAAAI/AAAAAAAAAoI/hpFBDvvGOAw/photo.jpg?sz=128", "display_name": "Ayoub Benayache", "link": "https://stackoverflow.com/users/8436879/ayoub-benayache"}, "edited": false, "score": 1, "creation_date": 1553731045, "post_id": 55388199, "comment_id": 97498246, "body": "remove one of datetime"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553731718, "post_id": 55388222, "comment_id": 97498408, "body": "i did that before i got this error  AttributeError: &#39;DataFrame&#39; object has no attribute &#39;allah1__27&#39;"}, {"owner": {"reputation": 2335, "user_id": 6657098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571d38df0ecf7797079379672cb75612?s=128&d=identicon&r=PG&f=1", "display_name": "cullzie", "link": "https://stackoverflow.com/users/6657098/cullzie"}, "reply_to_user": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553732039, "post_id": 55388222, "comment_id": 97498479, "body": "Then the DataFrame object you are passing to <code>add_join_key</code> does not have that column present. It is probably linked to this df <code>weath_df</code> since the <code>test_df</code> has the column you are specifying."}, {"owner": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553732506, "post_id": 55388222, "comment_id": 97498591, "body": "how can i fix it"}, {"owner": {"reputation": 2335, "user_id": 6657098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571d38df0ecf7797079379672cb75612?s=128&d=identicon&r=PG&f=1", "display_name": "cullzie", "link": "https://stackoverflow.com/users/6657098/cullzie"}, "reply_to_user": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553732692, "post_id": 55388222, "comment_id": 97498623, "body": "Create another question. This is unrelated to what your problem was here"}, {"owner": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553733435, "post_id": 55388222, "comment_id": 97498775, "body": "i did here&#39;s the link <a href=\"https://stackoverflow.com/questions/55388516/attributeerror-dataframe-object-has-no-attribute-allah1-27\" title=\"attributeerror dataframe object has no attribute allah1 27\">stackoverflow.com/questions/55388516/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2335, "user_id": 6657098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571d38df0ecf7797079379672cb75612?s=128&d=identicon&r=PG&f=1", "display_name": "cullzie", "link": "https://stackoverflow.com/users/6657098/cullzie"}, "is_accepted": false, "score": 0, "last_activity_date": 1553731006, "creation_date": 1553731006, "answer_id": 55388222, "question_id": 55388199, "link": "https://stackoverflow.com/questions/55388199/datetime-datetime-has-no-attribute-datetime-in-python/55388222#55388222", "title": "&#39;datetime.datetime&#39; has no attribute &#39;datetime&#39; in python", "body": "<p>You have imported datetime twice at the top of your script with the last import taking precedence:</p>\n\n<pre><code>import datetime\nfrom datetime import datetime, timedelta\n</code></pre>\n\n<p>Therefore you should be calling:</p>\n\n<pre><code>datetime.isoformat\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553731522, "post_id": 55388232, "comment_id": 97498355, "body": "@reedinarioner i did that already, but I don&#39;t know what are you meaning by that &quot;exact same name&quot;"}, {"owner": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553732070, "post_id": 55388232, "comment_id": 97498490, "body": "@reedinarioner i did what you say i import datetime only and i get  AttributeError: module &#39;datetime&#39; has no attribute &#39;isoformat&#39;"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553732136, "post_id": 55388232, "comment_id": 97498501, "body": "Right. If you&#39;ve renamed it then it would be <code>datet.isoformat</code>. After renaming it you have to use the new name to access it"}, {"owner": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "edited": false, "score": 0, "creation_date": 1553732666, "post_id": 55388232, "comment_id": 97498620, "body": "still the same <code>def add_join_key(df):     df[&#39;join_key&#39;] = df.allah1__27.map(int).map(str)+df.timestamp.map(datet.isofo&zwnj;&#8203;rmat)     df = df.set_index(&#39;join_key&#39;)     return df</code> <code>AttributeError: &#39;DataFrame&#39; object has no attribute &#39;allah1__27&#39;</code>"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1553731669, "last_edit_date": 1553731669, "creation_date": 1553731068, "answer_id": 55388232, "question_id": 55388199, "link": "https://stackoverflow.com/questions/55388199/datetime-datetime-has-no-attribute-datetime-in-python/55388232#55388232", "title": "&#39;datetime.datetime&#39; has no attribute &#39;datetime&#39; in python", "body": "<p>You should not <code>import datetime</code> and also <code>from datetime import datetime</code>. Best practice would be to just <code>import datetime</code> and then if you want the deeper module call <code>datetime.datetime</code> otherwise you are creating two things with the <strong>exact same name</strong>...obviously this would lead to confusion. If you really want to import both then rename one like</p>\n\n<pre><code>import datetime\nfrom datetime import datetime as datet\n</code></pre>\n\n<p>Now you can refer to one as <code>datetime</code> and the other as <code>datet</code> instead of having <strong>both</strong> of them refer to the same name \"<code>datetime</code>\"</p>\n"}], "owner": {"reputation": 133, "user_id": 10701477, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aNhJV364jjU/AAAAAAAAAAI/AAAAAAAAAB4/2A8B_nfyfyo/photo.jpg?sz=128", "display_name": "Maram Mubarak", "link": "https://stackoverflow.com/users/10701477/maram-mubarak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 747, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1553816088, "creation_date": 1553730826, "last_edit_date": 1553816088, "question_id": 55388199, "link": "https://stackoverflow.com/questions/55388199/datetime-datetime-has-no-attribute-datetime-in-python", "title": "&#39;datetime.datetime&#39; has no attribute &#39;datetime&#39; in python", "body": "<p>hi i have long code maybe if you wanna check it out tell me, so im trying to solve this and I'm pretty sure the code is right but it keeps getting me the same error, i try everything to solve it but its the same i checked if the attribute missing but its there i don't know what i have done wrong\nthis is my code</p>\n\n<pre><code>import pandas as pd\nimport geopandas as gpd\nimport time\nimport pickle\nimport os\nimport numpy as np\nimport xgboost\nimport pytz\nimport arcgis\n#\n#plotting\n#'''\nfrom IPython.display import HTML, display\nimport datashader as ds\nfrom datashader import transfer_functions as tf\nfrom datashader.colors import colormap_select, Greys9, Hot, viridis, inferno\n#'''\n\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\nfrom matplotlib.ticker import NullFormatter\nimport matplotlib as mpl\nmpl.rc('xtick', color='k')\nmpl.rc('ytick', color='k')\n%matplotlib inline\n#'''\nimport datetime\nfrom pandas import Series\nfrom datetime import datetime, timedelta\nimport time\nfrom datetime import datetime, date, time, timedelta\n\n\npredTimest = pd.date_range('01/06/2017', periods=7*24, freq='H',tz='US/Mountain')\npredTimest\nn [28]:\n\n\npredTimest\n\n\nOut[28]:\nDatetimeIndex(['2017-01-06 00:00:00-07:00', '2017-01-06 01:00:00-07:00',\n               '2017-01-06 02:00:00-07:00', '2017-01-06 03:00:00-07:00',\n               '2017-01-06 04:00:00-07:00', '2017-01-06 05:00:00-07:00',\n               '2017-01-06 06:00:00-07:00', '2017-01-06 07:00:00-07:00',\n               '2017-01-06 08:00:00-07:00', '2017-01-06 09:00:00-07:00',\n               ...\n               '2017-01-12 14:00:00-07:00', '2017-01-12 15:00:00-07:00',\n               '2017-01-12 16:00:00-07:00', '2017-01-12 17:00:00-07:00',\n               '2017-01-12 18:00:00-07:00', '2017-01-12 19:00:00-07:00',\n               '2017-01-12 20:00:00-07:00', '2017-01-12 21:00:00-07:00',\n               '2017-01-12 22:00:00-07:00', '2017-01-12 23:00:00-07:00'],\n              dtype='datetime64[ns, US/Mountain]', length=168, freq='H')\nprediction_time = predTimest[15]\ntest_df = shapefile.copy()\ntest_df['timestamp'] = prediction_time\ntest_df['allah1__27'] = shapefile.allah1__27.astype('int64')\ntest_df['hour'] = prediction_time.hour\ntest_df['weekday'] = prediction_time.weekday()\ntest_df['month'] = prediction_time.month\ndef add_join_key(df):\n    df['join_key'] = df.allah1__27.map(int).map(str)+df.timestamp.map(datetime.datetime.isoformat)\n    df = df.set_index('join_key')\n    return df\nweath_df = wdf.loc[prediction_time]\ntest_df = add_join_key(test_df)\nweath_df = add_join_key(weath_df.reset_index())\n</code></pre>\n\n<p>and it give me this error</p>\n\n<pre><code>---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-65-4714b1ff587e&gt; in &lt;module&gt;\n----&gt; 1 test_df = add_join_key(test_df)\n      2 weath_df = add_join_key(weath_df.reset_index())\n\n&lt;ipython-input-63-1a4e6a6f2c07&gt; in add_join_key(df)\n      1 def add_join_key(df):\n----&gt; 2     df['join_key'] = df.allah1__27.map(int).map(str)+df.timestamp.map(datetime.datetime.isoformat)\n      3     df = df.set_index('join_key')\n      4     return df\n\nAttributeError: type object 'datetime.datetime' has no attribute 'datetime'\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "edited": false, "score": 0, "creation_date": 1553730800, "post_id": 55388183, "comment_id": 97498187, "body": "What did you call <code>pop</code> on?"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553730836, "post_id": 55388183, "comment_id": 97498196, "body": "What have you tried so far?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11040244"}, "reply_to_user": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "edited": false, "score": 0, "creation_date": 1553730932, "post_id": 55388183, "comment_id": 97498213, "body": "@wbadart stuffs.pop(1), but it wont access that list"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1553731512, "post_id": 55388183, "comment_id": 97498352, "body": "<code>del stuffs[&#39;car&#39;][0]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 2, "creation_date": 1553731196, "post_id": 55388211, "comment_id": 97498268, "body": "This will delete an entire key, he only wants the first index of the value indexed by the key to be removed"}, {"owner": {"reputation": 93, "user_id": 11001270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86uC5.jpg?s=128&g=1", "display_name": "EngineersBox", "link": "https://stackoverflow.com/users/11001270/engineersbox"}, "reply_to_user": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 1, "creation_date": 1553731467, "post_id": 55388211, "comment_id": 97498331, "body": "@Recessive You are totally right, misinterpreted it. Even still, just the syntax of pop would be helpful for him I guess, considering it takes different arguments from what he had tried."}], "tags": [], "owner": {"reputation": 93, "user_id": 11001270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86uC5.jpg?s=128&g=1", "display_name": "EngineersBox", "link": "https://stackoverflow.com/users/11001270/engineersbox"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730912, "creation_date": 1553730912, "answer_id": 55388211, "question_id": 55388183, "link": "https://stackoverflow.com/questions/55388183/how-to-access-a-dicts-values-and-delete-them/55388211#55388211", "title": "How to access a dict&#39;s values and delete them?", "body": "<p>You were almost there.</p>\n\n<p>Use either:</p>\n\n<pre><code>del dict[key]\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>dict.pop(key, value)\n</code></pre>\n\n<p>The second will remove but also leave the item available as a return</p>\n"}, {"tags": [], "owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "is_accepted": false, "score": 4, "last_activity_date": 1553730921, "creation_date": 1553730921, "answer_id": 55388215, "question_id": 55388183, "link": "https://stackoverflow.com/questions/55388183/how-to-access-a-dicts-values-and-delete-them/55388215#55388215", "title": "How to access a dict&#39;s values and delete them?", "body": "<p>You can create a new dictionary where you skip the first element using <code>[1:]</code></p>\n\n<pre><code>stuffs = {'car':['bmw','porsche','benz'], 'fruits':['banana','apple']}\nstuffs_new = {k:v[1:] for k,v in stuffs.items()}\n# {'car': ['porsche', 'benz'], 'fruits': ['apple']}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1553731485, "post_id": 55388233, "comment_id": 97498336, "body": "Do not use list-comprehensions for side-effects."}, {"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1553731630, "post_id": 55388233, "comment_id": 97498383, "body": "@juanpa.arrivillaga what do you mean side-effects?"}, {"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1553731803, "post_id": 55388233, "comment_id": 97498423, "body": "You are building a useless list with that list comprehension. This is not good practice at all; list comprehensions are not substitutes for <code>for</code> loops."}, {"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "reply_to_user": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1553732355, "post_id": 55388233, "comment_id": 97498550, "body": "@Tomothy32 Just to be clear so anyone who sees this understands why it is bad practice, can you elaborate?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1553733380, "post_id": 55388233, "comment_id": 97498762, "body": "Read the link Timothy32 provided. In addition, list comprehensions are functional programming constructs, they signal &quot;this is a mapping/filtering operation&quot;, people don&#39;t expect side effects for that. If you want to write imperative code, then use the imperative constructs"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1553733535, "post_id": 55388233, "comment_id": 97498798, "body": "&quot;This will store all the values from 0 -&gt; 9823498&quot; no, it won&#39;t. It create a list of all <code>None</code> objects with a length of <code>9823498</code>. <code>print</code> to s a function purely for a side effect, printing to stdout. It returns <code>None</code>"}], "tags": [], "owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "is_accepted": true, "score": 1, "last_activity_date": 1553733594, "last_edit_date": 1553733594, "creation_date": 1553731075, "answer_id": 55388233, "question_id": 55388183, "link": "https://stackoverflow.com/questions/55388183/how-to-access-a-dicts-values-and-delete-them/55388233#55388233", "title": "How to access a dict&#39;s values and delete them?", "body": "<p>An easy way of doing this is to use a for loop and iterate over each item in you're dictionary, and pop the first element:</p>\n\n<pre><code>dictionary = {'car':['bmw','porsche','benz'], 'fruits':['banana','apple']}\nfor key in dictionary:\n    dictionary[key].pop(0)\n</code></pre>\n\n<p><s>Or, as a list comprehension</p>\n\n<pre><code>dictionary = {'car':['bmw','porsche','benz'], 'fruits':['banana','apple']}\n[dictionary[i].pop(0) for i in dictionary]\n</code></pre>\n\n<p></s>\nThese pieces of code reference the dictionary at each of it's keys (<code>'car'</code> and <code>'fruits'</code>) and then proceeds to use <code>pop</code> on the values indexed by these keys.</p>\n\n<p>Edit:</p>\n\n<p>Don't use a list comprehension if you don't intend to store the list. In the case where you are iterating over large values, you could run into memory errors due to storing a whole load of useless values. Such as in this case:</p>\n\n<p><code>[print(i) for i in range(9823498)]</code></p>\n\n<p>This will store 9823498 <code>None</code> values*, where as a for loop would not. but still achieve the same thing.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11040244"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 55388233, "answer_count": 3, "score": 0, "last_activity_date": 1553733764, "creation_date": 1553730689, "last_edit_date": 1553733764, "question_id": 55388183, "link": "https://stackoverflow.com/questions/55388183/how-to-access-a-dicts-values-and-delete-them", "title": "How to access a dict&#39;s values and delete them?", "body": "<p>I have a Python dict <code>stuffs</code> with keys and values(list);</p>\n\n<pre><code>{'car':['bmw','porsche','benz'] 'fruits':['banana','apple']}\n</code></pre>\n\n<p>And I would like delete first value from cars: <code>bmw</code> and first value from fruits: <code>banana</code></p>\n\n<p>How can I access and delete them please? I have tried <code>.pop(index)</code>, but it doesn't work...</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 717, "user_id": 1832728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JIsZk.png?s=128&g=1", "display_name": "Juan C. Rold&#225;n", "link": "https://stackoverflow.com/users/1832728/juan-c-rold%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1553731508, "post_id": 55388179, "comment_id": 97498350, "body": "Hi! I&#39;m not able to reproduce your problem, since in the <code>pattern.sub</code> line you are referencing the undefined variable <code>s</code> at the end of the method. Also, is there any reason not to use a variable <code>abbreviationsDict</code> instead of a function?"}, {"owner": {"reputation": 1234, "user_id": 6168154, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1698329503713356/picture?type=large", "display_name": "Peter.k", "link": "https://stackoverflow.com/users/6168154/peter-k"}, "reply_to_user": {"reputation": 717, "user_id": 1832728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JIsZk.png?s=128&g=1", "display_name": "Juan C. Rold&#225;n", "link": "https://stackoverflow.com/users/1832728/juan-c-rold%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1553731803, "post_id": 55388179, "comment_id": 97498425, "body": "It doesn&#39;t matter if it&#39;s a function or variable. I&#39;ve assigned &quot;s&quot;."}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1553731998, "post_id": 55388179, "comment_id": 97498472, "body": "<code>lambda x: abbreviationsDict()[x.group(1).lower()] + &#39; &#39;</code>"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1553732442, "post_id": 55388179, "comment_id": 97498574, "body": "I also <a href=\"https://stackoverflow.com/a/55388379/3832970\">suggest a pattern improvement</a>, as replacing any non-word char with a space does not look good."}], "answers": [{"tags": [], "owner": {"reputation": 717, "user_id": 1832728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JIsZk.png?s=128&g=1", "display_name": "Juan C. Rold&#225;n", "link": "https://stackoverflow.com/users/1832728/juan-c-rold%c3%a1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1553732223, "creation_date": 1553732223, "answer_id": 55388374, "question_id": 55388179, "link": "https://stackoverflow.com/questions/55388179/how-to-overcome-problem-with-regex-flag-settings-python/55388374#55388374", "title": "How to overcome problem with regex flag settings (Python)?", "body": "<p>While you can use <code>re.I</code> to make your parser case insensitive, the matches of your regex are returned with the original case. Thus, you will need to change</p>\n\n<pre><code>abbreviationsDict()[x.group(1)]\n</code></pre>\n\n<p>to</p>\n\n<pre><code>abbreviationsDict()[x.group(1).lower()]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1234, "user_id": 6168154, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1698329503713356/picture?type=large", "display_name": "Peter.k", "link": "https://stackoverflow.com/users/6168154/peter-k"}, "edited": false, "score": 1, "creation_date": 1553776349, "post_id": 55388379, "comment_id": 97515502, "body": "Thanks for these corrections it&#39;s really helpful. That&#39;s what I wanted to avoid lowercase the output."}], "tags": [], "owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1553732251, "creation_date": 1553732251, "answer_id": 55388379, "question_id": 55388179, "link": "https://stackoverflow.com/questions/55388179/how-to-overcome-problem-with-regex-flag-settings-python/55388379#55388379", "title": "How to overcome problem with regex flag settings (Python)?", "body": "<p>Since the keys in the dictionary are lowercase you should turn the matches to lower case:</p>\n\n<pre><code>s = pattern.sub(lambda x: abbreviationsDict()[x.group(1).lower()] + ' ', s)\n                                                        ^^^^^^^^ \n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/gJYqRJ\" rel=\"nofollow noreferrer\">Python demo</a>:</p>\n\n<pre><code>import re\ndef abbreviationsDict():\n    return {'ref.': 'reference', 'ref:': 'reference', 'approx.': 'approximately', 'no.': '', 'nos.': ''}\npattern = re.compile(r'\\b({})(?!\\w)'.format('|'.join(re.escape(key) for key in abbreviationsDict().keys())), flags=re.I)\ns = \"Variation of Condition on planning application Ref: CB/15/03633/FULL dated 30/11/2015: Condition 9\"\ns = pattern.sub(lambda x: abbreviationsDict()[x.group(1).lower()], s)\nprint(s)\n# =&gt; Variation of Condition on planning application reference CB/15/03633/FULL dated 30/11/2015: Condition 9\n</code></pre>\n\n<p>Note that the <code>\\W</code> at the end of your pattern consumed any non-word char and you replaced it with a space. I suggest turning <code>\\W</code> into a <code>(?!\\w)</code> <em>unambiguous trailing word boundary</em> and discard appending <code>\" \"</code> in the lambda expression.</p>\n"}], "owner": {"reputation": 1234, "user_id": 6168154, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1698329503713356/picture?type=large", "display_name": "Peter.k", "link": "https://stackoverflow.com/users/6168154/peter-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 55388379, "answer_count": 2, "score": 1, "last_activity_date": 1553732251, "creation_date": 1553730652, "last_edit_date": 1553731741, "question_id": 55388179, "link": "https://stackoverflow.com/questions/55388179/how-to-overcome-problem-with-regex-flag-settings-python", "title": "How to overcome problem with regex flag settings (Python)?", "body": "<p>I use the following code for multiple replace words in string:</p>\n\n<pre><code>pattern = re.compile(r'\\b(' + '|'.join(re.escape(key) for key in abbreviationsDict().keys()) + r')\\W', flags=re.I)\n        s = pattern.sub(lambda x: abbreviationsDict()[x.group(1)] + ' ', s)\n</code></pre>\n\n<p>The function with dictionary is:</p>\n\n<pre><code>def abbreviationsDict():\n    return {'ref.': 'reference', 'ref:': 'reference', 'approx.': 'approximately', 'no.': '', 'nos.': ''}\n</code></pre>\n\n<p>And for the sentence <code>s = \"Variation of Condition on planning application Ref: CB/15/03633/FULL dated 30/11/2015: Condition 9\"</code> I get an error :</p>\n\n<pre><code>   s = pattern.sub(lambda x: abbreviationsDict()[x.group(1)] + ' ', s)\n\nKeyError: 'Ref:'\n</code></pre>\n\n<p>It works when I lowercase <code>s</code> variable but I get lowercase results. What I'm doing wrong with this flag so it's doesn't work as needed?</p>\n"}, {"tags": ["python", "image", "keras", "layer"], "answers": [{"tags": [], "owner": {"reputation": 592, "user_id": 6467456, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-goIk-re0x6I/AAAAAAAAAAI/AAAAAAAAABQ/SnsVZ2SlKtQ/photo.jpg?sz=128", "display_name": "yann", "link": "https://stackoverflow.com/users/6467456/yann"}, "is_accepted": true, "score": 0, "last_activity_date": 1553737118, "creation_date": 1553737118, "answer_id": 55388941, "question_id": 55388163, "link": "https://stackoverflow.com/questions/55388163/create-a-layer-that-add-a-zero-channel-to-my-tensor/55388941#55388941", "title": "Create a layer that add a zero-channel to my tensor", "body": "<p>Try to replace <code>K.int_shape</code> with <code>K.shape</code> to get the symbolic shape of a tensor or variable rather than an integer shape.</p>\n"}], "owner": {"reputation": 55, "user_id": 10951599, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ubNnWLAK6dE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNDxULE3RT8Dowkm6raQyC9uxyDKw/mo/photo.jpg?sz=128", "display_name": "Adakor", "link": "https://stackoverflow.com/users/10951599/adakor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 55388941, "answer_count": 1, "score": 1, "last_activity_date": 1553737118, "creation_date": 1553730570, "question_id": 55388163, "link": "https://stackoverflow.com/questions/55388163/create-a-layer-that-add-a-zero-channel-to-my-tensor", "title": "Create a layer that add a zero-channel to my tensor", "body": "<p>I am working on DCSCN (a neural network for image super-rez) and I want to evaluate uncertainty according to Alex Kendall and Yarin Gal method in \"What Uncertainties Do We Need in Bayesian Deep Learning for Computer Vision?\" using Keras.</p>\n\n<p>For this, I need a layer that take a tensor of shape (?,n,m,3) and return a tensor of (?,n,m,4) with (?,n,m,-1) with zeros.</p>\n\n<p>I tried this function :</p>\n\n<pre><code>def AddChan(**kwargs):\n\n    def layer(x):\n        input_shape = K.int_shape(x)\n        output_shape = (input_shape[0], input_shape[1],input_shape[2],1)\n        z = K.zeros(output_shape)\n        res = K.concatenate([x, z], axis=-1)\n        return res\n    return Lambda(layer, **kwargs)\n</code></pre>\n\n<p>which raise : </p>\n\n<pre><code>Expected int32, got None of type '_Message' instead.\n</code></pre>\n\n<p>I think that's because <code>input_shape[0]</code> is dynamic but i don't see another way to get what I want.</p>\n\n<p>Does anyone have an idea ?</p>\n\n<p>Thank you !</p>\n"}, {"tags": ["python", "python-3.x", "pep"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1553730599, "post_id": 55388150, "comment_id": 97498137, "body": "For longer examples, you want to use a dictionary"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1553733800, "post_id": 55388150, "comment_id": 97498851, "body": "This code is perfectly fine and pythonic. Yes, if it got too long youight use a <code>dict</code> but this is the best way at this scale IMO"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1553734524, "post_id": 55388150, "comment_id": 97499016, "body": "@roganjosh ...where &quot;longer&quot; is like 3+."}], "answers": [{"comments": [{"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1553731360, "post_id": 55388206, "comment_id": 97498299, "body": "You are one a roll. Nice one +1"}], "tags": [], "owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "is_accepted": true, "score": 5, "last_activity_date": 1553730875, "creation_date": 1553730875, "answer_id": 55388206, "question_id": 55388150, "link": "https://stackoverflow.com/questions/55388150/pythonic-way-to-structure-if-statement-for-changing-variable-values/55388206#55388206", "title": "Pythonic way to structure if statement for changing variable values?", "body": "<p>You want to use a dictionary for this:</p>\n\n<pre><code>x = 3 # Then try with 4\n\noutcome_dict = {1: \"some string\", 2: \"another string\", 3: \"yet another string\"}\n\nmy_var = outcome_dict.get(x)\n\nif my_var is None:\n    raise Exception(\"arg x must be 1, 2 or 3\")\n\nprint(my_var)\n</code></pre>\n\n<p>The <code>dict.get()</code> method will return <code>None</code> if the key is not found. In this example, all of the outcomes need to be manually typed in <code>outcome_dict</code> but in practice, dictionaries are easy to create for thousands of key: value pairs in a single line of code e.g. <em>dictionary comprehensions</em> or just regular <code>for</code> loops.</p>\n"}, {"comments": [{"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1553733750, "post_id": 55388313, "comment_id": 97498842, "body": "I like the brevity of this approach as well. +1 It might just be me though, but shouldn&#39;t you have <code>except KeyError</code> according to PEP8?"}, {"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "reply_to_user": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1553734098, "post_id": 55388313, "comment_id": 97498922, "body": "@Jab: of course you can. Personal style though. Thnx for the upvote"}], "tags": [], "owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "is_accepted": false, "score": 1, "last_activity_date": 1553731696, "creation_date": 1553731696, "answer_id": 55388313, "question_id": 55388150, "link": "https://stackoverflow.com/questions/55388150/pythonic-way-to-structure-if-statement-for-changing-variable-values/55388313#55388313", "title": "Pythonic way to structure if statement for changing variable values?", "body": "<p>In addition to @roganjosh's solution, you can also try using <code>try</code> and <code>except</code>. </p>\n\n<pre><code>dict_values = {1: \"some string\", 2: \"another string\", 3: \"yet another string\"}\n\n# Using for x = 3\nx = 3\n\ntry:\n    print (outcome_dict[x])\nexcept:\n    print (\"arg x must be 1, 2 or 3\")\n# yet another string\n</code></pre>\n\n<hr>\n\n<pre><code># Using for x = 4\nx = 4\n\ntry:\n    print (outcome_dict[x])\nexcept:\n    print (\"arg x must be 1, 2 or 3\")\n# arg x must be 1, 2 or 3\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9445923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eca4be23f3bb8661cf5c91ed013fc8ae?s=128&d=identicon&r=PG&f=1", "display_name": "John Muir", "link": "https://stackoverflow.com/users/9445923/john-muir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 55388206, "answer_count": 2, "score": 0, "last_activity_date": 1553731696, "creation_date": 1553730503, "last_edit_date": 1553731101, "question_id": 55388150, "link": "https://stackoverflow.com/questions/55388150/pythonic-way-to-structure-if-statement-for-changing-variable-values", "title": "Pythonic way to structure if statement for changing variable values?", "body": "<p>As title says, what's the pythonic way to write the following code?</p>\n\n<pre><code>if x == 1:\n    myvar = \"a string\"\nelif x == 2:\n    myvar = \"another string\"\nelif x == 3:\n    myvar = \"yet another string\"\nelse:\n    raise Exception(\"arg x must be 1, 2 or 3\")\n</code></pre>\n\n<p>It seems a bit clumsy to do the above, and for longer examples, much more time consuming and messy.</p>\n"}, {"tags": ["python", "oop", "self"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 4, "creation_date": 1553730528, "post_id": 55388145, "comment_id": 97498117, "body": "please copy paste your code so people with screen reader can access it, and everybody can copy/paste it into our own editors..."}], "answers": [{"tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 1, "last_activity_date": 1553730865, "creation_date": 1553730865, "answer_id": 55388201, "question_id": 55388145, "link": "https://stackoverflow.com/questions/55388145/how-do-i-know-when-to-put-an-argument-after-self/55388201#55388201", "title": "How do I know when to put an argument after self?", "body": "<p>Simply put you include an argument after <code>self</code> when your method needs additional information to be executed and that information is located outside the object, else you would be able to access it via <code>self.attribute</code></p>\n"}, {"tags": [], "owner": {"reputation": 3885, "user_id": 652528, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a580420b66f89e76e1fb9a368f785b3f?s=128&d=identicon&r=PG", "display_name": "geckos", "link": "https://stackoverflow.com/users/652528/geckos"}, "is_accepted": true, "score": 1, "last_activity_date": 1553731498, "last_edit_date": 1553731498, "creation_date": 1553731038, "answer_id": 55388227, "question_id": 55388145, "link": "https://stackoverflow.com/questions/55388145/how-do-i-know-when-to-put-an-argument-after-self/55388227#55388227", "title": "How do I know when to put an argument after self?", "body": "<p>Think about an object as an state container. The only way to change its inner state is by calling a method. start, stop and accelerate change the state based on the previous state, they depend on nothing else to work since everything they need is already contained or deducible the the car state. Now, you you want to change a gear you want to change it by something else, by some another gear, so your method need to receive the missing parts.</p>\n\n<p>Think about method as they were messages, because is about that that OOP is about, sending messages to objects. If you say to a car to start, stop or accelerate the message is complete by itself. Now if you say, change your gear you have to provide a new gear with the message so that the message makes sense band it can change its gear by the one that you provided. </p>\n\n<p>In Python the first argument of a method is the object it self. This is the state container. This is replaced by the object by the interpreter when you call <code>object.method(arg)</code>, becomes <code>object.method(object, arg)</code>. You can name it anyway you want but self is a established convention</p>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 39, "user_id": 11151085, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VTeCe-bhQjE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcELPSFf3GpLxYemvPdGl3cZqc50w/mo/photo.jpg?sz=128", "display_name": "Amandeep Pasricha", "link": "https://stackoverflow.com/users/11151085/amandeep-pasricha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 1, "accepted_answer_id": 55388227, "answer_count": 2, "score": 0, "last_activity_date": 1553731498, "creation_date": 1553730413, "question_id": 55388145, "link": "https://stackoverflow.com/questions/55388145/how-do-i-know-when-to-put-an-argument-after-self", "title": "How do I know when to put an argument after self?", "body": "<p>Let's consider that you are creating a NFS game. for that we should have a car. Car can have attributes like \"color\", \"company\", \"speed_limit\" etc. and methods like \"change_gear\", \"start\", \"accelarate\", \"move\" etc.\n<a href=\"https://i.stack.imgur.com/mwQcQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mwQcQ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>So in this example, why did they put an argument after self for the last function (gear_type after self in the change_gear function), but not the other ones?</strong></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1121, "user_id": 8436879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S27clNYYHpw/AAAAAAAAAAI/AAAAAAAAAoI/hpFBDvvGOAw/photo.jpg?sz=128", "display_name": "Ayoub Benayache", "link": "https://stackoverflow.com/users/8436879/ayoub-benayache"}, "edited": false, "score": 0, "creation_date": 1553730426, "post_id": 55388136, "comment_id": 97498083, "body": "we dont do that here you need to learn about your task, dont wait others do it for you"}, {"owner": {"reputation": 97, "user_id": 11262634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e18f223ef474a691f610616507e71d?s=128&d=identicon&r=PG&f=1", "display_name": "KButler", "link": "https://stackoverflow.com/users/11262634/kbutler"}, "reply_to_user": {"reputation": 1121, "user_id": 8436879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S27clNYYHpw/AAAAAAAAAAI/AAAAAAAAAoI/hpFBDvvGOAw/photo.jpg?sz=128", "display_name": "Ayoub Benayache", "link": "https://stackoverflow.com/users/8436879/ayoub-benayache"}, "edited": false, "score": 0, "creation_date": 1553730681, "post_id": 55388136, "comment_id": 97498155, "body": "fair enough. I am just having a hard time getting started with this one."}], "answers": [{"tags": [], "owner": {"reputation": 195, "user_id": 1612802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7476577bec75b5bd59507e36969dbf1e?s=128&d=identicon&r=PG", "display_name": "Walter Schweitzer", "link": "https://stackoverflow.com/users/1612802/walter-schweitzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730807, "creation_date": 1553730807, "answer_id": 55388197, "question_id": 55388136, "link": "https://stackoverflow.com/questions/55388136/input-hourminutesecond/55388197#55388197", "title": "Input hour:minute:second", "body": "<p>Here's the core of your problem.  You can handle the validation:</p>\n\n<pre><code>hour = 14\nminute = 7\nsecond = 28\n\nprint('{:d}:{:02d}:{:02d}'.format(hour, minute, second))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2361, "user_id": 1887559, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yrM45.jpg?s=128&g=1", "display_name": "rth", "link": "https://stackoverflow.com/users/1887559/rth"}, "is_accepted": false, "score": 1, "last_activity_date": 1554335244, "last_edit_date": 1554335244, "creation_date": 1553731581, "answer_id": 55388296, "question_id": 55388136, "link": "https://stackoverflow.com/questions/55388136/input-hourminutesecond/55388296#55388296", "title": "Input hour:minute:second", "body": "<p>Well you need to learn about <code>split</code></p>\n\n<pre><code>x =\"12:32:34\"\ny = [int(t) for x.split(\":\")]\n</code></pre>\n\n<p>then you can check the length of y and if it isn't 3 complain about the format. Also, It is nice to get <code>y</code> definition in try-except block, so if <code>int</code> convergence fails you can print out some error message.</p>\n\n<p>Good luck </p>\n"}], "owner": {"reputation": 97, "user_id": 11262634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e18f223ef474a691f610616507e71d?s=128&d=identicon&r=PG&f=1", "display_name": "KButler", "link": "https://stackoverflow.com/users/11262634/kbutler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1554335244, "creation_date": 1553730344, "last_edit_date": 1553732125, "question_id": 55388136, "link": "https://stackoverflow.com/questions/55388136/input-hourminutesecond", "title": "Input hour:minute:second", "body": "<p>I need to input hour(1-23)(requires a colon input)minute(0-59)(colon input required)second(0-59). error message needs to be printed if the numbers are invalid, also if the colon is not between the hour and minute, and minute and second.<br>\nWhen a correct time is input the time should be displayed as ex: <code>14:07:28</code><br>\nthen ex: Time with colons removed: <code>140728</code>\nHere is what I have done:</p>\n\n<pre><code>   time = input(\"Enter time [hh:mm:ss]:\")\n       if time[0:2] not in 0-23:\n           print(\"Invalid hour\")\n       elif time[2] != ':':\n           print(\"Must separate hour, minute and second with colons\")\n       elif time[3:5] not in 0-59:\n           print(\"invalid minute input\")\n       elif time[5] != ':':\n           print(\"Must separate hour, minute and second with colons\")\n       elif time[6:8] not in 0-59:\n           print(\"Invalid second input\")\n       else:\n           print(time[0:2,3:5,6:8])\n</code></pre>\n\n<p>this is the error message i get:\nTraceback (most recent call last):\n  File \"C:/Python Projects/Lab10CSC121/Lab10P3.py\", line 2, in \n    if time[0:2] not in 0-23:\nTypeError: argument of type 'int' is not iterable</p>\n"}, {"tags": ["python", "logging", "python-logging"], "comments": [{"owner": {"reputation": 2335, "user_id": 6657098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571d38df0ecf7797079379672cb75612?s=128&d=identicon&r=PG&f=1", "display_name": "cullzie", "link": "https://stackoverflow.com/users/6657098/cullzie"}, "edited": false, "score": 0, "creation_date": 1553730639, "post_id": 55388130, "comment_id": 97498148, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47888855/python3-add-logging-level\">Python3 add logging level</a>"}], "answers": [{"comments": [{"owner": {"reputation": 750, "user_id": 11163122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq3vi.png?s=128&g=1", "display_name": "Intrastellar Explorer", "link": "https://stackoverflow.com/users/11163122/intrastellar-explorer"}, "edited": false, "score": 0, "creation_date": 1553734373, "post_id": 55388181, "comment_id": 97498997, "body": "Can you make up an example when you would want to use something between <code>DEBUG</code> and <code>INFO</code>?  Why wouldn&#39;t you just use <code>DEBUG</code>?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 750, "user_id": 11163122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq3vi.png?s=128&g=1", "display_name": "Intrastellar Explorer", "link": "https://stackoverflow.com/users/11163122/intrastellar-explorer"}, "edited": false, "score": 1, "creation_date": 1553734907, "post_id": 55388181, "comment_id": 97499098, "body": "For when DEBUG is too verbose and INFO is not verbose enough? Actually happens to me a lot, to be honest.."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 2, "last_activity_date": 1553730679, "creation_date": 1553730679, "answer_id": 55388181, "question_id": 55388130, "link": "https://stackoverflow.com/questions/55388130/python-logging-setlevel-what-does-integer-input-mean/55388181#55388181", "title": "Python logging setLevel what does integer input mean?", "body": "<blockquote>\n  <p>What does 15 mean in context of logging? Does it mean it's almost DEBUG?</p>\n</blockquote>\n\n<p>It means something higher than DEBUG (10) yet lower than INFO (20).</p>\n\n<blockquote>\n  <p>Why not just use INFO level?</p>\n</blockquote>\n\n<p>In stdlib logging it's possible to <a href=\"https://docs.python.org/3/howto/logging.html#custom-levels\" rel=\"nofollow noreferrer\">add your own custom levels</a>.  See <a href=\"https://docs.python.org/3/library/logging.html#logging.addLevelName\" rel=\"nofollow noreferrer\"><code>logging.addLevelName</code></a> for example. In practice, it's not uncommon for third party code to use a TRACE level (5) for sub-DEBUG logging.</p>\n\n<p>It's likely that something in the program you're looking at has added a level between DEBUG and INFO when configuring logging.</p>\n"}], "owner": {"reputation": 750, "user_id": 11163122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq3vi.png?s=128&g=1", "display_name": "Intrastellar Explorer", "link": "https://stackoverflow.com/users/11163122/intrastellar-explorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 55388181, "answer_count": 1, "score": 2, "last_activity_date": 1553736624, "creation_date": 1553730290, "last_edit_date": 1553736624, "question_id": 55388130, "link": "https://stackoverflow.com/questions/55388130/python-logging-setlevel-what-does-integer-input-mean", "title": "Python logging setLevel what does integer input mean?", "body": "<p>Take a look at this link: <a href=\"https://docs.python.org/3/library/logging.html#levels\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/logging.html#levels</a></p>\n\n<p>They talk about logging levels where <code>DEBUG</code> has a numeric value of <code>10</code>, <code>INFO</code> has a numeric value of <code>20</code>.</p>\n\n<p>I am looking at a program where <code>handler.setLevel(level=15)</code> was used.  Obviously, this is a custom logging level.  How to add one is discussed in this answer: <a href=\"https://stackoverflow.com/questions/47888855/python3-add-logging-level\">Python3 add logging level</a></p>\n\n<p>I found the <code>logging</code> documentation to be inadequate in answering these questions:</p>\n\n<ul>\n<li>What does <code>15</code> mean in context of logging?</li>\n<li>Does it mean it's almost <code>DEBUG</code>?  Why not just use <code>INFO</code> level?</li>\n</ul>\n"}, {"tags": ["java", "python"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 9772608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb3b18b3f9bb0967ed073fd630915a1?s=128&d=identicon&r=PG&f=1", "display_name": "dcu", "link": "https://stackoverflow.com/users/9772608/dcu"}, "edited": false, "score": 0, "creation_date": 1553777658, "post_id": 55388712, "comment_id": 97516444, "body": "This still does not add the output from python to line in Java. line is still null. ouput from python script is printed on console. ** This is what I am looking for Process exit value:220 value is : null**"}, {"owner": {"reputation": 1325, "user_id": 2292264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e93c8491e067073e4fcd5c33ad1eac8?s=128&d=identicon&r=PG", "display_name": "Gro", "link": "https://stackoverflow.com/users/2292264/gro"}, "reply_to_user": {"reputation": 177, "user_id": 9772608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb3b18b3f9bb0967ed073fd630915a1?s=128&d=identicon&r=PG&f=1", "display_name": "dcu", "link": "https://stackoverflow.com/users/9772608/dcu"}, "edited": false, "score": 0, "creation_date": 1553806338, "post_id": 55388712, "comment_id": 97533877, "body": "As when creating ProcessBuilder you have used inheritIO(), the IO of child process is merged with Parent process. Also, your waitFor() call was at incorrect place. I have updated my solution, hope this is what you are looking for."}, {"owner": {"reputation": 177, "user_id": 9772608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb3b18b3f9bb0967ed073fd630915a1?s=128&d=identicon&r=PG&f=1", "display_name": "dcu", "link": "https://stackoverflow.com/users/9772608/dcu"}, "edited": false, "score": 0, "creation_date": 1553821217, "post_id": 55388712, "comment_id": 97538339, "body": "Thank you for the correction. This works as expected now."}], "tags": [], "owner": {"reputation": 1325, "user_id": 2292264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e93c8491e067073e4fcd5c33ad1eac8?s=128&d=identicon&r=PG", "display_name": "Gro", "link": "https://stackoverflow.com/users/2292264/gro"}, "is_accepted": true, "score": 4, "last_activity_date": 1553860799, "last_edit_date": 1553860799, "creation_date": 1553735117, "answer_id": 55388712, "question_id": 55388121, "link": "https://stackoverflow.com/questions/55388121/how-to-return-value-from-python-script-to-java-using-processbuilder/55388712#55388712", "title": "How to return value from Python script to Java using ProcessBuilder?", "body": "<p>When you spawn a process from another process, they can only (mostly rather) communicate through their input and output streams. Thus you cannot expect the return value from main33() in python to reach Java, it will end its life within Python runtime environment only. In case you need to send something back to Java process you need to write that to print(). </p>\n\n<p>Modified both of your python and java code snippets.</p>\n\n<pre><code>import sys\ndef main33():\n    print(\"This is what I am looking for\")\n\nif __name__ == '__main__':\n    globals()[sys.argv[1]]()\n    #should be 0 for successful exit\n    #however just to demostrate that this value will reach Java in exit code\n    sys.exit(220)\n</code></pre>\n\n<pre><code>public static void main(String[] args) throws Exception {       \n        String filePath = \"D:\\\\test\\\\test.py\";      \n        ProcessBuilder pb = new ProcessBuilder()\n            .command(\"python\", \"-u\", filePath, \"main33\");        \n        Process p = pb.start(); \n        BufferedReader in = new BufferedReader(\n            new InputStreamReader(p.getInputStream()));\n        StringBuilder buffer = new StringBuilder();     \n        String line = null;\n        while ((line = in.readLine()) != null){           \n            buffer.append(line);\n        }\n        int exitCode = p.waitFor();\n        System.out.println(\"Value is: \"+buffer.toString());                \n        System.out.println(\"Process exit value:\"+exitCode);        \n        in.close();\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": false, "score": 0, "last_activity_date": 1553736056, "creation_date": 1553736056, "answer_id": 55388831, "question_id": 55388121, "link": "https://stackoverflow.com/questions/55388121/how-to-return-value-from-python-script-to-java-using-processbuilder/55388831#55388831", "title": "How to return value from Python script to Java using ProcessBuilder?", "body": "<p>You're overusing the variable <code>line</code>. It can't be both the current line of output <em>and</em> all the lines seen so far. Add a second variable to keep track of the accumulated output.</p>\n\n<pre><code>String line;\nStringBuilder output = new StringBuilder();\n\nwhile ((line = in.readLine()) != null) {\n    output.append(line);\n          .append('\\n');\n}\n\nSystem.out.println(\"value is : \" + output);\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 9772608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb3b18b3f9bb0967ed073fd630915a1?s=128&d=identicon&r=PG&f=1", "display_name": "dcu", "link": "https://stackoverflow.com/users/9772608/dcu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2554, "favorite_count": 0, "accepted_answer_id": 55388712, "answer_count": 2, "score": 2, "last_activity_date": 1553860799, "creation_date": 1553730151, "last_edit_date": 1553736159, "question_id": 55388121, "link": "https://stackoverflow.com/questions/55388121/how-to-return-value-from-python-script-to-java-using-processbuilder", "title": "How to return value from Python script to Java using ProcessBuilder?", "body": "<p>I am trying to get return value from python script into Java using ProcessBuilder. I am expecting the value \"This is what I am looking for\" in Java. Can anyone point me as to what is wrong in below logic?</p>\n\n<p>I am using python3 and looking to have this done using java standard libraries.</p>\n\n<p>test.py code</p>\n\n<pre><code>import sys\n\ndef main33():\n    return \"This is what I am looking for\"\n\n\nif __name__ == '__main__':\n    globals()[sys.argv[1]]()\n</code></pre>\n\n<p>Java code</p>\n\n<pre><code>String filePath = \"D:\\\\test\\\\test.py\";\n\nProcessBuilder pb = new ProcessBuilder().inheritIO().command(\"python\", \"-u\", filePath, \"main33\");\n\nProcess p = pb.start();\nint exitCode = p.waitFor();\n\nBufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\nString line = \"\";\n\nline = in.readLine();\nwhile ((line = in.readLine()) != null){\n    line = line + line;\n}\n\nSystem.out.println(\"Process exit value:\"+exitCode);\nSystem.out.println(\"value is : \"+line);\nin.close();\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Process exit value:0\nvalue is : null\n</code></pre>\n"}, {"tags": ["python", "postgresql", "psycopg2"], "comments": [{"owner": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "edited": false, "score": 0, "creation_date": 1553729931, "post_id": 55387993, "comment_id": 97497966, "body": "<code>for val, desc in zip(row, cur.description) ... print(&quot;row[{0}]={1}&quot;.format(desc, val))</code>"}, {"owner": {"reputation": 1772, "user_id": 2421817, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GFWOi.jpg?s=128&g=1", "display_name": "kerwei", "link": "https://stackoverflow.com/users/2421817/kerwei"}, "edited": false, "score": 0, "creation_date": 1553740139, "post_id": 55387993, "comment_id": 97500133, "body": "What&#39;s the output you get from <code>print(config: %s&#39;, config[&quot;configone&quot;])</code>?"}, {"owner": {"reputation": 155, "user_id": 7942834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff7dd4522f2cccd43cfd94b2057fa66?s=128&d=identicon&r=PG&f=1", "display_name": "user7942834", "link": "https://stackoverflow.com/users/7942834/user7942834"}, "reply_to_user": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "edited": false, "score": 0, "creation_date": 1553743749, "post_id": 55387993, "comment_id": 97500825, "body": "@MFisherKDX, I don&#39;t see the output that I want here, all this does is print the description <code>row[Column(name=&#39;Value&#39;, type_code=25, display_size=None, internal_size=-1, precision=None, scale=None, null_ok=None)]</code> followed by the value that I already got by printing row[0] which is the entire dict"}, {"owner": {"reputation": 155, "user_id": 7942834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff7dd4522f2cccd43cfd94b2057fa66?s=128&d=identicon&r=PG&f=1", "display_name": "user7942834", "link": "https://stackoverflow.com/users/7942834/user7942834"}, "reply_to_user": {"reputation": 1772, "user_id": 2421817, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GFWOi.jpg?s=128&g=1", "display_name": "kerwei", "link": "https://stackoverflow.com/users/2421817/kerwei"}, "edited": false, "score": 0, "creation_date": 1553743853, "post_id": 55387993, "comment_id": 97500843, "body": "@kerwei, I get <code>Arguments: (TypeError(&#39;tuple indices must be integers or slices, not str&#39;,),)</code> from <code>print(config: %s&#39;, config[&quot;configone&quot;])</code>"}, {"owner": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "edited": false, "score": 0, "creation_date": 1553747005, "post_id": 55387993, "comment_id": 97501475, "body": "It prints the description of the column and the value at that column. Your comment is missing the value. What is the output of <code>print(row[0])</code>? The statement: <code>print(config: %s&#39;, config[&quot;configone&quot;])</code> is not even valid syntax. You are missing a single quote: &#39;."}, {"owner": {"reputation": 155, "user_id": 7942834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff7dd4522f2cccd43cfd94b2057fa66?s=128&d=identicon&r=PG&f=1", "display_name": "user7942834", "link": "https://stackoverflow.com/users/7942834/user7942834"}, "reply_to_user": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "edited": false, "score": 0, "creation_date": 1553749787, "post_id": 55387993, "comment_id": 97502149, "body": "@MFisherKDX I fixed the code in original question. When I tried <code>for val, desc in zip(row, cur.description) ... print(&quot;row[{0}]={1}&quot;.format(desc, val))</code>, it did print the description and the entire list_config along with it. I am trying to print just list_config. configone.region"}, {"owner": {"reputation": 1772, "user_id": 2421817, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GFWOi.jpg?s=128&g=1", "display_name": "kerwei", "link": "https://stackoverflow.com/users/2421817/kerwei"}, "edited": false, "score": 0, "creation_date": 1553752011, "post_id": 55387993, "comment_id": 97502797, "body": "I suppose your Value column is set up as the CHAR datatype? The cursor is returning exactly just that - a string with json-like structure. You will need to parse this string separately to unpack the values. Otherwise, you can maybe use the array data type but it looks complicated to me, in my opinion."}, {"owner": {"reputation": 1772, "user_id": 2421817, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GFWOi.jpg?s=128&g=1", "display_name": "kerwei", "link": "https://stackoverflow.com/users/2421817/kerwei"}, "edited": false, "score": 0, "creation_date": 1553752169, "post_id": 55387993, "comment_id": 97502848, "body": "I would think that it&#39;s better to redesign your table, if you require more modular queries like above. Unpack your original list_config value and store them in separate columns. It&#39;s so much easier to query that way and you get the benefit of indexing as well, if one of the fields is heavily queried"}], "owner": {"reputation": 155, "user_id": 7942834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff7dd4522f2cccd43cfd94b2057fa66?s=128&d=identicon&r=PG&f=1", "display_name": "user7942834", "link": "https://stackoverflow.com/users/7942834/user7942834"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553753167, "creation_date": 1553729024, "last_edit_date": 1553753167, "question_id": 55387993, "link": "https://stackoverflow.com/questions/55387993/using-psycopg2-to-get-a-value-in-table-with-key-value", "title": "Using psycopg2 to get a value in table with Key Value", "body": "<p>I am trying to use <code>psycopg2</code> to read <code>Postgres</code>.</p>\n\n<p>I am reading from a database table called deployment and trying to handle a Value from a table with three fields id, Key and Value.</p>\n\n<p>One of the keys is <code>LIST_CONFIG</code> and it has the Value as following:</p>\n\n<pre><code>    list_config: {     \n             \"configone\":{\n                \"disk_size\":100,\"machine_type\":\"large\",\"region\":\"us-west-1\"},\n             \"configtwo\":{\n                \"projectname\":\"project\",\"zone\":\"us-east1-b\"}\n             }\n</code></pre>\n\n<p>I am trying to get region for <code>list_config.configone.region</code> (which is us-west-1)</p>\n\n<p>I get the above <code>list_config</code> by running the following code:</p>\n\n<pre><code>    import psycopg2\n    conn = psycopg2.connect(host=\"localhost\",database=database, user=user, password=password)\n    cur = conn.cursor()\n    cur.execute(\"SELECT \\\"Value\\\" FROM deployment WHERE (\\\"Key\\\" = 'LIST_CONFIG')\")\n    row = cur.fetchone()\n    print(row[0])\n</code></pre>\n\n<p>I am not able to get the <code>list_config.configone.region</code> even after doing the following:</p>\n\n<pre><code>    row = cur.fetchone()\n    config = row[0]\n    print('config: %s', config[\"configone\"])\n</code></pre>\n\n<p>I got the error \n<code>Arguments: (TypeError('string indices must be integers',),)</code></p>\n\n<p>I also tried the following</p>\n\n<pre><code>    row = cur.fetchone()\n    config=row[0]\n    args=namedtuple('row',config.keys()).*config.values())\n    print('args: %s', args)\n</code></pre>\n\n<p>This gave the error <code>Arguments: (AttributeError(\"'str' object has no attribute 'keys'\",),)</code></p>\n\n<p>Is there a way to use cursor_factory=DictCursor which would return a dict instead of Tuple?</p>\n\n<p>++ Editing with solution - Following is what what worked for me in the end++</p>\n\n<p>I found out eventually that row is a tuple and row[0] is a string. Hence I used json.loads on row[0] to convert it to a json object. Then I was able to print the region</p>\n\n<pre><code>    row = cur.fetchone()\n    config_json = json.loads(row[0])\n    region = config_json['configone']['region']\n    print('Region: %s', region)\n</code></pre>\n"}, {"tags": ["java", "python", "scipy", "wav"], "comments": [{"owner": {"reputation": 717, "user_id": 1832728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JIsZk.png?s=128&g=1", "display_name": "Juan C. Rold&#225;n", "link": "https://stackoverflow.com/users/1832728/juan-c-rold%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1553729375, "post_id": 55387983, "comment_id": 97497821, "body": "Can you link to one of the files generated by your Java code?"}, {"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 0, "creation_date": 1553729461, "post_id": 55387983, "comment_id": 97497845, "body": "I&#39;m not entirely sure this will work, but just as a suggestion, try putting your wav file through the following: <code>ffmpeg -i &quot;orig.wav&quot; -f wav -bitexact -acodec pcm_s16le -ar 22050 -ac 1 &quot;ffmpeg.wav&quot;</code>, then try running the python script on it again. Also, try creating a wav file with ffmpeg to see if that runs. This is just to rule out the possibility of a faulty install."}, {"owner": {"reputation": 13, "user_id": 10568153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16190d28c0c5e7a39e424af01a4853e2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew A.", "link": "https://stackoverflow.com/users/10568153/andrew-a"}, "edited": false, "score": 0, "creation_date": 1553729585, "post_id": 55387983, "comment_id": 97497868, "body": "Here is a dropbox link. I hope that works. <a href=\"https://www.dropbox.com/s/leolwqmimiriqab/output1.WAV?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/leolwqmimiriqab/output1.WAV?dl=0</a>"}, {"owner": {"reputation": 13, "user_id": 10568153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16190d28c0c5e7a39e424af01a4853e2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew A.", "link": "https://stackoverflow.com/users/10568153/andrew-a"}, "edited": false, "score": 0, "creation_date": 1553730269, "post_id": 55387983, "comment_id": 97498041, "body": "Using ffmpeg allowed the code to run. What does it do exactly? I will read into it tomorrow when I have time again. However, if you are willing to put it in your own words that would help."}, {"owner": {"reputation": 13, "user_id": 10568153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16190d28c0c5e7a39e424af01a4853e2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew A.", "link": "https://stackoverflow.com/users/10568153/andrew-a"}, "edited": false, "score": 0, "creation_date": 1553788704, "post_id": 55387983, "comment_id": 97524647, "body": "I just needed close statements. ffmpeg made sure there were the amount of frames that the header information stated there would be."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10568153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16190d28c0c5e7a39e424af01a4853e2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew A.", "link": "https://stackoverflow.com/users/10568153/andrew-a"}, "edited": false, "score": 0, "creation_date": 1553731591, "post_id": 55388189, "comment_id": 97498372, "body": "I will try using the more generic wav file reader. However, 3417927 is the number of frames that the original has as well. At least according to the methods that the java wav file class has."}, {"owner": {"reputation": 717, "user_id": 1832728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JIsZk.png?s=128&g=1", "display_name": "Juan C. Rold&#225;n", "link": "https://stackoverflow.com/users/1832728/juan-c-rold%c3%a1n"}, "reply_to_user": {"reputation": 13, "user_id": 10568153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16190d28c0c5e7a39e424af01a4853e2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew A.", "link": "https://stackoverflow.com/users/10568153/andrew-a"}, "edited": false, "score": 0, "creation_date": 1553735988, "post_id": 55388189, "comment_id": 97499336, "body": "@AndrewA. right, since <code>wave</code> counts the number of frames from the stream, not from the headers. I checked that wavfile works when adding a zero-padding of 3726 bytes to the file you provided, but I don&#39;t know where is the error in the Java code."}, {"owner": {"reputation": 13, "user_id": 10568153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16190d28c0c5e7a39e424af01a4853e2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew A.", "link": "https://stackoverflow.com/users/10568153/andrew-a"}, "edited": false, "score": 0, "creation_date": 1553788535, "post_id": 55388189, "comment_id": 97524552, "body": "It was my lack of close statements. Other classes that I use don&#39;t require them so I forgot to add them in this method. This created an unfinished .wav file that didn&#39;t match the header data. Thank you, your information helped me confirm the closing issue."}], "tags": [], "owner": {"reputation": 717, "user_id": 1832728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JIsZk.png?s=128&g=1", "display_name": "Juan C. Rold&#225;n", "link": "https://stackoverflow.com/users/1832728/juan-c-rold%c3%a1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730742, "creation_date": 1553730742, "answer_id": 55388189, "question_id": 55387983, "link": "https://stackoverflow.com/questions/55387983/resolving-valueerror-unexpected-end-of-file-from-scipy-wavfile-read/55388189#55388189", "title": "Resolving &#39;ValueError: Unexpected end of file.&#39; from scipy/wavfile/read", "body": "<p>It seems that you got incorrect data in the <a href=\"http://soundfile.sapp.org/doc/WaveFormat/\" rel=\"nofollow noreferrer\">head of wav file</a>. I'm pretty sure that the number of frames in the file is smaller than the actual one.</p>\n\n<p>You can either try to find the source of the error in the Java code, or use a Python library that is more resilient to header errors, such as the built-in library <code>wave</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; import wave\n&gt;&gt;&gt; track = wave.open('output1.WAV', 'r')\n&gt;&gt;&gt; track.getnframes()\n3417927\n&gt;&gt;&gt; track.readframes(10)\nb'\\x00\\x00\\x00\\x00\\xff\\xff\\x01\\x00\\x01\\x00\\xfe\\xff\\x01\\x00\\x00\\x00\\xff\\xff\\x01\\x00'\n</code></pre>\n\n<p>And don't forget to do <code>track.close()</code> or to use a <a href=\"https://docs.python.org/2.5/whatsnew/pep-343.html\" rel=\"nofollow noreferrer\">with statement</a> to avoid memory leaks.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10568153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16190d28c0c5e7a39e424af01a4853e2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew A.", "link": "https://stackoverflow.com/users/10568153/andrew-a"}, "edited": false, "score": 0, "creation_date": 1553788643, "post_id": 55388835, "comment_id": 97524608, "body": "That is absolutely the issue. The python program can now run the wav files without having to use any third party software. Thank you for the input and link."}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 0, "last_activity_date": 1553736076, "creation_date": 1553736076, "answer_id": 55388835, "question_id": 55387983, "link": "https://stackoverflow.com/questions/55387983/resolving-valueerror-unexpected-end-of-file-from-scipy-wavfile-read/55388835#55388835", "title": "Resolving &#39;ValueError: Unexpected end of file.&#39; from scipy/wavfile/read", "body": "<p>Your Java code never calls the <code>close()</code> method for <code>wavFiles[j]</code>.  According to <a href=\"http://www.labbookpages.co.uk/audio/javaWavFiles.html\" rel=\"nofollow noreferrer\">http://www.labbookpages.co.uk/audio/javaWavFiles.html</a>, the <code>close()</code> method \"<em>must</em> be called once all samples have been written using the writeFrames methods. If not called, the wav file may be incomplete.\"</p>\n"}], "owner": {"reputation": 13, "user_id": 10568153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16190d28c0c5e7a39e424af01a4853e2?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew A.", "link": "https://stackoverflow.com/users/10568153/andrew-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "accepted_answer_id": 55388835, "answer_count": 2, "score": 1, "last_activity_date": 1553736076, "creation_date": 1553728984, "last_edit_date": 1553729860, "question_id": 55387983, "link": "https://stackoverflow.com/questions/55387983/resolving-valueerror-unexpected-end-of-file-from-scipy-wavfile-read", "title": "Resolving &#39;ValueError: Unexpected end of file.&#39; from scipy/wavfile/read", "body": "<p>I am splitting a stereo wav file in Java using iterative methods with the Java WavFile class. When I use a python to read the resulting mono wav file and out put the sample rate and data using the read method from scipy.io.wavfile I get an error:</p>\n\n<p>'Value Error: Unexpected end of File.'</p>\n\n<p>I do not get this error with other mono wav files I try, only those I have made with Java. Looking at other forum posts I know that it must have to do with how I am setting up the header information for the files, however, after trying altercations and reading API docs to ensure that my usage is correct, I am at a loss.</p>\n\n<p>My Java Code</p>\n\n<pre><code>try {\n            WavFile srcFile = WavFile.openWavFile(this.audioFile);\n\n            long numFrames = srcFile.getNumFrames();\n            long sampleRate = srcFile.getSampleRate(); \n            int channels = 2;\n            int bitRate = 16;\n\n\n            File[] files = new File[channels];\n            WavFile[] wavFiles = new WavFile[channels];\n\n            for (int i = 1; i &lt; channels + 1; i++) {\n                //Populates File Array\n                files[i - 1] = new File(\"output\" + i + \".WAV\");\n                wavFiles[i - 1] = WavFile.newWavFile(files[i - 1], 1, numFrames, bitRate, sampleRate);\n            }\n\n            int bufferLength = Math.toIntExact(numFrames);\n\n            int[][] buffer = new int[channels][bufferLength];\n\n            long frameCounter = 0;\n\n            while (frameCounter &lt; numFrames){\n                srcFile.readFrames(buffer,bufferLength);\n\n                for (int j = 0; j&lt;channels;j++){\n                    wavFiles[j].writeFrames(buffer[j],bufferLength);\n                }\n\n                frameCounter += bufferLength;\n            }\n\n        } catch (Exception ex) {\n            System.out.println(\"WavFile failed to open source file: \" + ex);\n        }\n</code></pre>\n\n<p>The simple python code that extracts data from the wav file</p>\n\n<pre><code>import scipy.io.wavfile as wav\n\nfs, data = wav.read(file)\n\nwav.close()\n</code></pre>\n\n<p>From my understanding the python code should have no problem reading the wav file no matter its source.</p>\n"}, {"tags": ["python", "pandas", "lambda"], "answers": [{"tags": [], "owner": {"reputation": 609, "user_id": 7428855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d69eda281124da2adb70ac90cb80b91?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/7428855/ian"}, "is_accepted": false, "score": 0, "last_activity_date": 1553741539, "creation_date": 1553741539, "answer_id": 55389485, "question_id": 55387966, "link": "https://stackoverflow.com/questions/55387966/reindexing-only-valid-with-uniquely-valued-index-objects-error-when-providing/55389485#55389485", "title": "&quot;Reindexing only valid with uniquely valued Index objects&quot; error when providing list of lambda functions to pandas&#39; pivot_table method?", "body": "<p>According to the <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.pivot_table.html\" rel=\"nofollow noreferrer\">doc of pivot_table</a>: When you provide a list of functions to aggregate, the columns will be  hierarchical, and the top level are the function names (inferred from the function objects themselves). With two <code>lambda</code> functions, the two names will be the same. And that's where your problem come from.</p>\n\n<p>Well I would be OK using <code>def</code> to give the function a name. But if you really want to use <code>lambda</code>, maybe using <code>groupby</code> and <code>agg</code> instead:</p>\n\n<pre><code>new_df = df.groupby(id_col).agg([('half-mean',lambda x:np.mean(x[:len(x)//2])),('half-std',lambda x:np.std(x[:len(x)//2]))])\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11269138, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hP5dt4NnD58/AAAAAAAAAAI/AAAAAAAAJK0/_qLmRm3LENY/photo.jpg?sz=128", "display_name": "onewland", "link": "https://stackoverflow.com/users/11269138/onewland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553741539, "creation_date": 1553728914, "question_id": 55387966, "link": "https://stackoverflow.com/questions/55387966/reindexing-only-valid-with-uniquely-valued-index-objects-error-when-providing", "title": "&quot;Reindexing only valid with uniquely valued Index objects&quot; error when providing list of lambda functions to pandas&#39; pivot_table method?", "body": "<p>I have been using pandas.pivot_table to aggregate over my dataframes by giving the aggfunc param a list of functions (<code>[np.mean, np.std]</code> for example). Now I want to wrap those functions so that they only operate on the first half of a provided column, doing something like:</p>\n\n<pre><code>new_df = pd.pivot_table(df, values=feature_cols, index=id_cols, aggfunc=[lambda x: np.mean(x[:len(x)//2]), lambda y: np.std(y[:len(y)//2])])\n</code></pre>\n\n<p>Which spits out the error:</p>\n\n<pre><code>pandas.core.indexes.base.InvalidIndexError: Reindexing only valid with uniquely valued Index objects\n</code></pre>\n\n<p>However, <code>new_df = pd.pivot_table(df, values=feature_cols, index=id_cols, aggfunc=[np.mean,np.std])</code> works just fine. </p>\n\n<p>I believe I may be misunderstanding how <code>pivot_table</code> passes the array-like to the aggregate functions or how lambdas work in general. </p>\n\n<p>Would like to either fix this or learn about a better way to wrap functions in python. I do not want to use a <code>def</code> defined function for every function in the list I need to use.</p>\n"}, {"tags": ["python", "python-3.x", "list"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6906964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8664d431969c70c35ed936f576586c58?s=128&d=identicon&r=PG&f=1", "display_name": "Wan-Hew Tran", "link": "https://stackoverflow.com/users/6906964/wan-hew-tran"}, "edited": false, "score": 1, "creation_date": 1553729396, "post_id": 55387974, "comment_id": 97497827, "body": "Thanks for the speedy reply. Can you explain why the result isn&#39;t a tuple even though you put it in brackets?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 2, "creation_date": 1553729463, "post_id": 55387974, "comment_id": 97497846, "body": "@w it returns <code>a</code> if max(a) &gt; max(b) else it returns<code>b</code>. A tuple is create by <code>(a,)</code> -  see <a href=\"https://stackoverflow.com/questions/394809/does-python-have-a-ternary-conditional-operator\">ternary operator</a>"}], "tags": [], "owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "is_accepted": false, "score": 9, "last_activity_date": 1553728957, "creation_date": 1553728957, "answer_id": 55387974, "question_id": 55387960, "link": "https://stackoverflow.com/questions/55387960/choosing-list-with-the-largest-value/55387974#55387974", "title": "Choosing list with the largest value", "body": "<p>How about using the following without any for loop. Just compare the <code>max</code> of lists</p>\n\n<pre><code>a = [1,2,3,9]\nb = [4,5,6,7,8]\nans = (a if max(a) &gt; max(b) else b)\n# [1, 2, 3, 9]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6805, "user_id": 405303, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OQiiL.png?s=128&g=1", "display_name": "Jon Kiparsky", "link": "https://stackoverflow.com/users/405303/jon-kiparsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1553805779, "last_edit_date": 1553805779, "creation_date": 1553729322, "answer_id": 55388036, "question_id": 55387960, "link": "https://stackoverflow.com/questions/55387960/choosing-list-with-the-largest-value/55388036#55388036", "title": "Choosing list with the largest value", "body": "<p>This would work</p>\n\n<pre><code>max([a,b], key=max)\n</code></pre>\n\n<p>The trick here is to know that the <code>max</code> function can be applied to objects which do not have a natural numerical interpretation, using a <code>key</code> function. </p>\n"}, {"tags": [], "owner": {"reputation": 2199, "user_id": 3243159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xnyiu.jpg?s=128&g=1", "display_name": "Jurgen Strydom", "link": "https://stackoverflow.com/users/3243159/jurgen-strydom"}, "is_accepted": false, "score": 0, "last_activity_date": 1553729362, "creation_date": 1553729362, "answer_id": 55388038, "question_id": 55387960, "link": "https://stackoverflow.com/questions/55387960/choosing-list-with-the-largest-value/55388038#55388038", "title": "Choosing list with the largest value", "body": "<p>I would recommend numpy or pandas but your solution looks good to be honest. </p>\n\n<p>Here is a numpy example (typing on phone so not tested) </p>\n\n<pre><code>npa = np.array(a) \nnpb = np.array(b)\n\nmax_array = None\ntotal_max = 0  # or -np.inf if you want to deal with negative numbers too\nfor k in [npa, npb]:\n    if k.max() &gt; total_max:\n         max_array = k\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 2, "creation_date": 1553729500, "post_id": 55388045, "comment_id": 97497853, "body": "No need for those square brackets, <code>max(a, b, key=max)</code> works as well."}, {"owner": {"reputation": 43, "user_id": 6906964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8664d431969c70c35ed936f576586c58?s=128&d=identicon&r=PG&f=1", "display_name": "Wan-Hew Tran", "link": "https://stackoverflow.com/users/6906964/wan-hew-tran"}, "edited": false, "score": 0, "creation_date": 1553730524, "post_id": 55388045, "comment_id": 97498115, "body": "This solution works for multiple lists, hence why I&#39;m choosing it as the answer but the answer by Bazingaa is faster for two lists."}], "tags": [], "owner": {"reputation": 24329, "user_id": 5237560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CO92P.png?s=128&g=1", "display_name": "Alain T.", "link": "https://stackoverflow.com/users/5237560/alain-t"}, "is_accepted": true, "score": 3, "last_activity_date": 1553729427, "creation_date": 1553729427, "answer_id": 55388045, "question_id": 55387960, "link": "https://stackoverflow.com/questions/55387960/choosing-list-with-the-largest-value/55388045#55388045", "title": "Choosing list with the largest value", "body": "<p>The max function allows you to specify a key.  You can supply the two lists as a list of lists to max() and use max as the key function.  This will give yout the result with a very compact statement:</p>\n\n<pre><code>a = [1,2,3,9]\nb = [4,5,6,7,8]\nresult = max([a,b],key=max)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6906964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8664d431969c70c35ed936f576586c58?s=128&d=identicon&r=PG&f=1", "display_name": "Wan-Hew Tran", "link": "https://stackoverflow.com/users/6906964/wan-hew-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 2, "accepted_answer_id": 55388045, "answer_count": 4, "score": 4, "last_activity_date": 1553805779, "creation_date": 1553728880, "last_edit_date": 1553729882, "question_id": 55387960, "link": "https://stackoverflow.com/questions/55387960/choosing-list-with-the-largest-value", "title": "Choosing list with the largest value", "body": "<p>I have two lists of numbers and I want a function to return the list with the largest number i.e with two lists <code>[1,2,3,9]</code> and <code>[4,5,6,7,8]</code>, the function should return <code>[1,2,3,9]</code>.</p>\n\n<p>I know for a fact that this works:</p>\n\n<pre><code>a = [1,2,3,9]\nb = [4,5,6,7,8]\nans = [_ for _ in [a,b] if max(_) == max((max(a),max(b)))][0]\n</code></pre>\n\n<p>I know that there is:</p>\n\n<pre><code>a = [1,2,3,9]\nb = [4,5,6,7,8]\nif max(a)&gt;max(b):\n    ans = a\nelse:\n    ans = b\n</code></pre>\n\n<p>But is there a more efficient one or two line solution?</p>\n"}, {"tags": ["python", "python-3.x", "treeview", "gtk", "pygobject"], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 11041672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb3d2b44852e1fa6167089f8d5e162f9?s=128&d=identicon&r=PG&f=1", "display_name": "RandomUser", "link": "https://stackoverflow.com/users/11041672/randomuser"}, "is_accepted": true, "score": 2, "last_activity_date": 1553772467, "creation_date": 1553772467, "answer_id": 55396465, "question_id": 55387959, "link": "https://stackoverflow.com/questions/55387959/always-visible-and-sticky-columns-in-gtk-treeview/55396465#55396465", "title": "Always visible and sticky columns in Gtk.TreeView", "body": "<p>There are atleast two changes needed:</p>\n\n<ol>\n<li><p>To keep the column a normal size with a long string, set the <code>ellipsize</code> property of the <code>GtkCellRendererText</code>. It should be a <code>PangoEllipsizeMode</code>.</p></li>\n<li><p>To make the two right colums stick to the end, expand the first column to take all remaining space by setting the <code>expand</code> property to <code>True</code>.</p></li>\n</ol>\n\n<p>Your column creation with these changes:</p>\n\n<pre><code>col_a = Gtk.TreeViewColumn('str',\n                           Gtk.CellRendererText(single_paragraph_mode=True,\n                                                ellipsize=Pango.EllipsizeMode.END),\n                           text=0)\ncol_a.set_expand(True)\n</code></pre>\n\n<p>Don't think you need <code>single-paragraph-mode</code>, never used that before.</p>\n"}, {"tags": [], "owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "is_accepted": false, "score": 2, "last_activity_date": 1553774681, "last_edit_date": 1553774681, "creation_date": 1553774331, "answer_id": 55397089, "question_id": 55387959, "link": "https://stackoverflow.com/questions/55387959/always-visible-and-sticky-columns-in-gtk-treeview/55397089#55397089", "title": "Always visible and sticky columns in Gtk.TreeView", "body": "<p>Besides the answer provided by @RandomUser, you could also use a fixed size column. Example:</p>\n\n<pre><code>col_a.set_fixed_width(150)\n</code></pre>\n\n<p>Adding set_expand will provide a different action yet:</p>\n\n<pre><code>col_a.set_expand(True)\n</code></pre>\n"}], "owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 55396465, "answer_count": 2, "score": 1, "last_activity_date": 1553774681, "creation_date": 1553728879, "last_edit_date": 1553768198, "question_id": 55387959, "link": "https://stackoverflow.com/questions/55387959/always-visible-and-sticky-columns-in-gtk-treeview", "title": "Always visible and sticky columns in Gtk.TreeView", "body": "<p>I have this <code>Gtk.TreeView</code> with 3 columns embeded into a <code>Gtk.Paned</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XbcTP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XbcTP.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I resize the window (or fill in more rows with longer text in the first column) the last two columns shouldn't disappear.</p>\n\n<p>I want to have the last two columns <strong>always visible</strong> and <strong>sticky to the right</strong> side without loosing the left columns.</p>\n\n<p>After clicking the button to add a very long string the first column should not grow. Kind of this (quick &amp; dirty manipulated screenshot):</p>\n\n<h2>How it should look like</h2>\n\n<p><a href=\"https://i.stack.imgur.com/JX5VB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JX5VB.png\" alt=\"enter image description here\"></a></p>\n\n<h2>But how it looks (but shouldn't)</h2>\n\n<p><a href=\"https://i.stack.imgur.com/kR3Gr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kR3Gr.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't see a way in the docu to implement this. In that example code below the <code>Gtk.TreeView</code> is embeded into a <code>Gtk.ScrolledWindow</code> to allow a vertical scrollbar.</p>\n\n<pre><code>#!/usr/bin/env python3\nimport gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk\nfrom gi.repository import GLib\n\nclass TreeView(Gtk.TreeView):\n    def __init__(self):\n        # model\n        self.model = Gtk.ListStore.new([str, int, int])\n        for i in range(1, 6):\n            self.model.append([('text {} '.format(i))*i, i*10, i])\n\n        # view\n        Gtk.TreeView.__init__(self, self.model)\n\n        col_a = Gtk.TreeViewColumn('str',\n                                   Gtk.CellRendererText(single_paragraph_mode=True),\n                                   text=0)\n        col_b = Gtk.TreeViewColumn('int',\n                                   Gtk.CellRendererText(),\n                                   text=1)\n        col_c = Gtk.TreeViewColumn('int',\n                                   Gtk.CellRendererText(),\n                                   text=2)\n        self.append_column(col_a)\n        self.append_column(col_b)\n        self.append_column(col_c)\n\n        # scrollable\n        self.scroll = Gtk.ScrolledWindow()\n        self.scroll.add(self)\n        self.scroll.set_policy(hscrollbar_policy=Gtk.PolicyType.NEVER,\n                               vscrollbar_policy=Gtk.PolicyType.AUTOMATIC)\n\n    def on_button(self, event):\n        self.model.append(['long text '*20, 0, 0])\n\nclass Window(Gtk.Window):\n    def __init__(self):\n        Gtk.Window.__init__(self, title='Mein Gtk-Fenster')\n        #self.set_default_size(100, 120)\n\n        # tree &amp; button\n        self.view = TreeView()\n        self.btn = Gtk.Button('add long row')\n        self.btn.connect('clicked', self.view.on_button)\n\n        # layout\n        #box = Gtk.VBox()\n        #box.pack_start(self.btn, False, False, 10)\n        #box.pack_start(self.view.scroll, True, True, 10)\n        #self.add(box)\n\n        self.paned = Gtk.Paned.new(orientation=Gtk.Orientation.HORIZONTAL)\n        self.paned.pack1(self.view.scroll)\n        self.paned.pack2(self.btn)\n        self.add(self.paned)\n\n        self.connect('destroy', Gtk.main_quit)\n        self.show_all()\n\nif __name__ == '__main__':\n    win = Window()\n    Gtk.main()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1426, "user_id": 2958943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9559f8b107f4af95690be52a1481999?s=128&d=identicon&r=PG&f=1", "display_name": "bubble", "link": "https://stackoverflow.com/users/2958943/bubble"}, "edited": false, "score": 0, "creation_date": 1553731038, "post_id": 55387954, "comment_id": 97498243, "body": "Did you consider using Pandas package?; this problem could be easily done with it. just using groupby by two columns: <code>Id</code> and by <code>pd.cut(df.Time, bins=pd.np.arange(10)&#47;10)</code>."}, {"owner": {"reputation": 143, "user_id": 6239923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8jxfKD4nyHw/AAAAAAAAAAI/AAAAAAAAA_4/-4p64veEWL8/photo.jpg?sz=128", "display_name": "SDM1212", "link": "https://stackoverflow.com/users/6239923/sdm1212"}, "reply_to_user": {"reputation": 1426, "user_id": 2958943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9559f8b107f4af95690be52a1481999?s=128&d=identicon&r=PG&f=1", "display_name": "bubble", "link": "https://stackoverflow.com/users/2958943/bubble"}, "edited": false, "score": 0, "creation_date": 1553731844, "post_id": 55387954, "comment_id": 97498433, "body": "I am a python novice and I could use a bit more help.  Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 6239923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8jxfKD4nyHw/AAAAAAAAAAI/AAAAAAAAA_4/-4p64veEWL8/photo.jpg?sz=128", "display_name": "SDM1212", "link": "https://stackoverflow.com/users/6239923/sdm1212"}, "edited": false, "score": 1, "creation_date": 1553780474, "post_id": 55389880, "comment_id": 97518390, "body": "I see what you mean.  Thank you for the help!"}], "tags": [], "owner": {"reputation": 1772, "user_id": 2421817, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GFWOi.jpg?s=128&g=1", "display_name": "kerwei", "link": "https://stackoverflow.com/users/2421817/kerwei"}, "is_accepted": true, "score": 1, "last_activity_date": 1553744907, "creation_date": 1553744907, "answer_id": 55389880, "question_id": 55387954, "link": "https://stackoverflow.com/questions/55387954/method-to-normalize-the-number-of-samples-rows/55389880#55389880", "title": "Method to normalize the number of samples (rows)", "body": "<p>I think there's a misconception regarding your expected output. The numbers that you have appear to suggest that you are pivoting the Time bins along the rows, shown in the steps below. However, at the same time, the column names suggest that you are also pivoting the bin dimension, against each of the X, Y variable along the columns - though you provided no numbers for those.</p>\n\n<p>Here are the steps leading to the output having Time bins residing on the rows.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\n&gt;&gt;&gt;df\n   Id  Time   X1   Y1   X2   Y2   X3   Y3\n0   A  0.08  427  351  427  351  427  353\n1   A  0.15  384  365  384  365  384  367\n2   A  0.24  125  190  196  404  196  406\n3   A  0.39  468  342  468  342  398  375\n4   A  0.47  171  457  171  457  171  460\n5   A  0.53    1  343    1  343    1  345\n6   A  0.66  139  328  139  328  139  330\n7   B  0.04  152  179  152  181  150  183\n8   B  0.19   74   75  123  400  123  404\n9   B  0.26  117   99  117  104  116  105\n10  B  0.39  156  125  156  131   71  209\n11  B  0.47  187  147  189  155  187  157\n12  B  0.03  272  340  278  361  249  442\n13  B  0.14  272  351  275  354  250  420\n14  C  0.26  279  347  279  347  266  384\n15  C  0.37  271  337  283  348  258  377\n\n# This is the base operation that you're looking for to produce the output in your example\ndf = df.groupby(['Id', pd.cut(df['Time'], np.arange(0, 1.0, 0.1))]).mean()\n&gt;&gt;&gt;df\n                Time     X1     Y1     X2     Y2     X3     Y3\nId Time\nA  (0.0, 0.1]  0.080  427.0  351.0  427.0  351.0  427.0  353.0\n   (0.1, 0.2]  0.150  384.0  365.0  384.0  365.0  384.0  367.0\n   (0.2, 0.3]  0.240  125.0  190.0  196.0  404.0  196.0  406.0\n   (0.3, 0.4]  0.390  468.0  342.0  468.0  342.0  398.0  375.0\n   (0.4, 0.5]  0.470  171.0  457.0  171.0  457.0  171.0  460.0\n   (0.5, 0.6]  0.530    1.0  343.0    1.0  343.0    1.0  345.0\n   (0.6, 0.7]  0.660  139.0  328.0  139.0  328.0  139.0  330.0\n   (0.7, 0.8]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.8, 0.9]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\nB  (0.0, 0.1]  0.035  212.0  259.5  215.0  271.0  199.5  312.5\n   (0.1, 0.2]  0.165  173.0  213.0  199.0  377.0  186.5  412.0\n   (0.2, 0.3]  0.260  117.0   99.0  117.0  104.0  116.0  105.0\n   (0.3, 0.4]  0.390  156.0  125.0  156.0  131.0   71.0  209.0\n   (0.4, 0.5]  0.470  187.0  147.0  189.0  155.0  187.0  157.0\n   (0.5, 0.6]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.6, 0.7]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.7, 0.8]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.8, 0.9]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\nC  (0.0, 0.1]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.1, 0.2]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.2, 0.3]  0.260  279.0  347.0  279.0  347.0  266.0  384.0\n   (0.3, 0.4]  0.370  271.0  337.0  283.0  348.0  258.0  377.0\n   (0.4, 0.5]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.5, 0.6]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.6, 0.7]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.7, 0.8]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n   (0.8, 0.9]    NaN    NaN    NaN    NaN    NaN    NaN    NaN\n\n\"\"\"\nThe rest are just cosmetics\n\"\"\"\n# Drop the original Time column\ndf.drop('Time', axis=1, inplace=True)\n# Reset the index\ndf.reset_index(inplace=True)\n# Add a numerical label for the Time bins\ndf['TimeNo'] = (df.index % 9) + 1\n# Rearrange the columns\ndf = df.iloc[:,[0,1,8]].join(df.iloc[:,2:8])\n# Drop the NaN rows\ndf = df.loc[np.sum(df.iloc[:,3:], axis=1)&gt;0]\n\n&gt;&gt;&gt;df\n   Id        Time  TimeNo     X1     Y1     X2     Y2     X3     Y3\n0   A  (0.0, 0.1]       1  427.0  351.0  427.0  351.0  427.0  353.0\n1   A  (0.1, 0.2]       2  384.0  365.0  384.0  365.0  384.0  367.0\n2   A  (0.2, 0.3]       3  125.0  190.0  196.0  404.0  196.0  406.0\n3   A  (0.3, 0.4]       4  468.0  342.0  468.0  342.0  398.0  375.0\n4   A  (0.4, 0.5]       5  171.0  457.0  171.0  457.0  171.0  460.0\n5   A  (0.5, 0.6]       6    1.0  343.0    1.0  343.0    1.0  345.0\n6   A  (0.6, 0.7]       7  139.0  328.0  139.0  328.0  139.0  330.0\n9   B  (0.0, 0.1]       1  212.0  259.5  215.0  271.0  199.5  312.5\n10  B  (0.1, 0.2]       2  173.0  213.0  199.0  377.0  186.5  412.0\n11  B  (0.2, 0.3]       3  117.0   99.0  117.0  104.0  116.0  105.0\n12  B  (0.3, 0.4]       4  156.0  125.0  156.0  131.0   71.0  209.0\n13  B  (0.4, 0.5]       5  187.0  147.0  189.0  155.0  187.0  157.0\n20  C  (0.2, 0.3]       3  279.0  347.0  279.0  347.0  266.0  384.0\n21  C  (0.3, 0.4]       4  271.0  337.0  283.0  348.0  258.0  377.0\n</code></pre>\n\n<p>As you can see, with this output format, you wouldn't need to place your Time bin in the columns.    </p>\n"}], "owner": {"reputation": 143, "user_id": 6239923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8jxfKD4nyHw/AAAAAAAAAAI/AAAAAAAAA_4/-4p64veEWL8/photo.jpg?sz=128", "display_name": "SDM1212", "link": "https://stackoverflow.com/users/6239923/sdm1212"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 55389880, "answer_count": 1, "score": 1, "last_activity_date": 1553744907, "creation_date": 1553728863, "question_id": 55387954, "link": "https://stackoverflow.com/questions/55387954/method-to-normalize-the-number-of-samples-rows", "title": "Method to normalize the number of samples (rows)", "body": "<p>I am seeking a Python based solution that will group on the ID and find the mean of the data in different time Ranges.</p>\n\n<pre><code>Input Data\n\nId  Time    X1  Y1  X2  Y2  X3  Y3\nA   0.08    427 351 427 351 427 353\nA   0.15    384 365 384 365 384 367\nA   0.24    125 190 196 404 196 406\nA   0.39    468 342 468 342 398 375\nA   0.47    171 457 171 457 171 460\nA   0.53    1   343 1   343 1   345\nA   0.66    139 328 139 328 139 330\nB   0.04    152 179 152 181 150 183\nB   0.19    74  75  123 400 123 404\nB   0.26    117 99  117 104 116 105\nB   0.39    156 125 156 131 71  209\nB   0.47    187 147 189 155 187 157\nB   0.03    272 340 278 361 249 442\nB   0.14    272 351 275 354 250 420\nC   0.26    279 347 279 347 266 384\nC   0.37    271 337 283 348 258 377\n\n\n</code></pre>\n\n<p>Group on the ID and for find the Mean for X1,Y1,Y2,Y2,X3,Y3 in a range bases on the Frame.</p>\n\n<p>The Mean of all X,y values for a Grouped ID would be calculated for Frames in the following ranges.  If there are no x,y values in that range return NaN</p>\n\n<pre><code>1 = (Time &lt;= .1)\n2 = (.1 &lt;= Time &lt;= .2)\n3 = (.2 &lt;= Time &lt;= .3)\n4 = (.3 &lt;= Time &lt;= .4)\n5 = (.4 &lt;= Time &lt;= .5)\n6 = (.5 &lt;= Time &lt;= .6)\n7 = (.6 &lt;= Time &lt;= .7)\n8 = (.7 &lt;= Time &lt;= .8)\n9 = (.8 &lt;= Time &lt;= .9)\n\n\nId  1X1 1Y1 1X2 1Y2 1X3 1Y3  ... 9X3    9Y3  \nA   427 351 427 351 427 353\nA   384 365 384 365 384 367\nA   125 190 196 404 196 406\nA   468 342 468 342 398 375\nA   171 457 171 457 171 460\nA   1   343 1   343 1   345\nA   139 328 139 328 139 330\nB   152 179 152 181 150 183\nB   74  75  123 400 123 404\nB   117 99  117 104 116 105\nB   156 125 156 131 71  209\nB   187 147 189 155 187 157\nB   272 340 278 361 249 442\nB   272 351 275 354 250 420\nC   279 347 279 347 266 384\nC   271 337 283 348 258 377\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 0, "creation_date": 1553729745, "post_id": 55387990, "comment_id": 97497912, "body": "I think the function definition should be <code>def merge(l1, l2, res=[]):</code>, as res should always be initiated as <code>[]</code>"}, {"owner": {"reputation": 1150, "user_id": 10892923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cKb2X7nE9wU/AAAAAAAAAAI/AAAAAAAAALE/Yn197PTnL-o/photo.jpg?sz=128", "display_name": "Alice", "link": "https://stackoverflow.com/users/10892923/alice"}, "reply_to_user": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 0, "creation_date": 1553729994, "post_id": 55387990, "comment_id": 97497979, "body": "no, res = [] will shadow in recursive cases @Recessive"}, {"owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "reply_to_user": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 0, "creation_date": 1553730034, "post_id": 55387990, "comment_id": 97497984, "body": "@Recessive I forgot that part, but added the <i>functionality</i> now. However, default mutable arguments doesn&#39;t really behave as you&#39;d like to. You can <a href=\"https://docs.python-guide.org/writing/gotchas/#mutable-default-arguments\" rel=\"nofollow noreferrer\">read more here</a> on why it&#39;s a bad idea."}, {"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 0, "creation_date": 1553730721, "post_id": 55387990, "comment_id": 97498173, "body": "Ahh yes, I forgot about that. You&#39;re right, I&#39;ve made that mistake before when writing recursive functions."}], "tags": [], "owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "is_accepted": true, "score": 2, "last_activity_date": 1553729977, "last_edit_date": 1553729977, "creation_date": 1553729011, "answer_id": 55387990, "question_id": 55387951, "link": "https://stackoverflow.com/questions/55387951/place-a-static-variable-which-returned-as-a-respond-within-a-recursive-block/55387990#55387990", "title": "Place a static variable which returned as a respond within a recursive block", "body": "<p>You could throw in <code>res</code> as a parameter into the function. Since it's mutable it should also get passed by reference and won't take up any more memory (other than the recursion itself).</p>\n\n<p>Or you could wrap it in a class and access it with <code>self.res</code>, however that would serve the same logic as passing on the variable in the recursion as below.</p>\n\n<pre><code>def merge(l1, l2, res=None):\n    \"\"\"\n    :type l1:List\n    :rtype res: List[int]\n    \"\"\"\n    # Default parameter, read more here on why not to initialise as list\n    # https://docs.python-guide.org/writing/gotchas/#mutable-default-arguments\n    if res is None:\n        res = []\n    #Base\n    #Case1: Both are empty Case2 and Case3: One of them is empty\n    if len(l1) * len(l2) == 0:\n        res = l1 + l2 \n        return res\n    #Case 4    \n    if len(l1) = 1 and len(l2) = 1:\n        if l1[0] &lt;= l2[0]:\n            res.append(l1.pop(0)) #decrement \n        else:\n            res.append(l2.pop(0))\n        return res\n\n    #Recur Case\n    if len(l1) &gt; 1 and len(l2) &gt; 1:\n        return merge(l1, l2, res)\n</code></pre>\n"}], "owner": {"reputation": 1150, "user_id": 10892923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cKb2X7nE9wU/AAAAAAAAAAI/AAAAAAAAALE/Yn197PTnL-o/photo.jpg?sz=128", "display_name": "Alice", "link": "https://stackoverflow.com/users/10892923/alice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 55387990, "answer_count": 1, "score": 0, "last_activity_date": 1553729977, "creation_date": 1553728850, "question_id": 55387951, "link": "https://stackoverflow.com/questions/55387951/place-a-static-variable-which-returned-as-a-respond-within-a-recursive-block", "title": "Place a static variable which returned as a respond within a recursive block", "body": "<p>I wrote such a recursive solution to merge two sorted list</p>\n\n<pre><code>res = []\ndef merge(l1, l2):\n    \"\"\"\n    :type l1:List\n    :rtype res: List[int]\n    \"\"\"\n    #Base\n    #Case1: Both are empty Case2 and Case3: One of them is empty\n    if len(l1) * len(l2) == 0:\n        res = l1 + l2 \n        return res\n    #Case 4    \n    if len(l1) = 1 and len(l2) = 1:\n        if l1[0] &lt;= l2[0]:\n            res.append(l1.pop(0)) #decrement \n        else:\n            res.append(l2.pop(0))\n        return res\n\n    #Recur Case\n    if len(l1) &gt; 1 and len(l2) &gt; 1:\n        return merge(l1, l2)\n</code></pre>\n\n<p>The problem I concern is that the static variable <code>res</code> should be defined outside of the function module. In this case,  I might forget to copy <code>res=[]</code> when reuse it in other place. module <code>merge</code> is not independent in a 100% way.</p>\n\n<p>So I place it inside like </p>\n\n<pre><code>def merge(l1, l2):\n    \"\"\"\n    :type l1:List\n    :rtype res: List[int]\n    \"\"\"\n    global res\n    try:\n        print(res)\n    except NameError:\n        res = []\n...\n</code></pre>\n\n<p>The solution is cumbersome,<br>\nHow could solve the problem in a succinct way?</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "numpy-ndarray", "dot-product"], "comments": [{"owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 1, "creation_date": 1553728978, "post_id": 55387916, "comment_id": 97497714, "body": "What are the shapes of x,w,and b? What are those of D, w1, and w2?"}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "reply_to_user": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 0, "creation_date": 1553729309, "post_id": 55387916, "comment_id": 97497799, "body": "b = int; D = 2D array of x*13; w1 = int; w2 = int"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1553731427, "post_id": 55387916, "comment_id": 97498320, "body": "<code>[:]</code> does nothing."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "edited": false, "score": 0, "creation_date": 1553731546, "post_id": 55387916, "comment_id": 97498359, "body": "You are correct; I have edited it out of the post. Had no impact on problem."}, {"owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 0, "creation_date": 1553731555, "post_id": 55387916, "comment_id": 97498363, "body": "I mean what are the number of columns and the number of rows? For example, if <code>a=np.array([[5,6,7],[-1,9,2]])</code>, then <code>a</code> has the shape of <code>(2,3)</code>, i.e., 2 rows and 3 columns. You can get the shape by <code>a.shape</code>."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1553731610, "post_id": 55387916, "comment_id": 97498377, "body": "For <code>A.dot(B)</code> the last dimension of <code>A</code> has to match the 2nd to the last of <code>B</code>.  That&#39;s consistent with the usual &#39;scan across rows, and down columns&#39; when taking a matrix product.  With <code>matmul&#47;@</code> is it possible to take &#39;batches` of dot products, where batches are the initial dimensions of 3d (and higher) arrays.  There&#39;s also an <code>einsum</code> that&#39;s even more flexible with regards to dot products."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "edited": false, "score": 0, "creation_date": 1553731679, "post_id": 55387916, "comment_id": 97498394, "body": "Shape of D is (426, 14)"}, {"owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 0, "creation_date": 1553731860, "post_id": 55387916, "comment_id": 97498439, "body": "Then, <code>x.shape</code> is <code>(2,426)</code>. Assuming <code>w1</code> and <code>w2</code> are just scalers, <code>w.shape</code> is <code>(2,)</code>. Then, isn&#39;t the correct order <code>np.dot(w,x)</code>, instead of <code>np.dot(x,w)</code>? I&#39;m not sure about the underlying mathematical formulation, but maybe it&#39;d be worth checking the correct order."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1553731936, "post_id": 55387916, "comment_id": 97498457, "body": "@hpaulj I think that I am essentially missing a Dimension for x."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1553732111, "post_id": 55387916, "comment_id": 97498498, "body": "The error indicates that <code>x</code> has (2, 426) shape, and <code>w</code> (2,).  <code>x.T</code> would pair those correctly, so would <code>np.dot(w, x)</code>, resulting in a (426,) array."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "reply_to_user": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 0, "creation_date": 1553732139, "post_id": 55387916, "comment_id": 97498503, "body": "@norio The dotproduct is commutative; ie np.dot(a,b)==np.dot(b,a). Also note that the intention is not align the shapes by using the correct amount of dimensions for x."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1553733219, "post_id": 55387916, "comment_id": 97498733, "body": "@hpaulj You are correct. You fixed it. Apparently I misunderstood the Wikipedia entry about dotproducts, as it mentiones commutative properties."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "reply_to_user": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 0, "creation_date": 1553733320, "post_id": 55387916, "comment_id": 97498754, "body": "@norio You were right. Apparently np.dot(a,b)!=np.dot(b,a), or at least not here. Switching the input fixed it."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "edited": false, "score": 0, "creation_date": 1553733492, "post_id": 55387916, "comment_id": 97498783, "body": "Can someone explain why the other two example methods worked despite being ordered the other way around ?"}, {"owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 1, "creation_date": 1553734167, "post_id": 55387916, "comment_id": 97498936, "body": "In the second example, <code>x.shape</code> is <code>(2,)</code>. It is not any more a matrix but a vector. In the first example, you need to review the shape of <code>D</code> that you passed to the function <code>p</code>. Maybe it happened to be <code>(2,something)</code>."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "edited": false, "score": 0, "creation_date": 1553734808, "post_id": 55387916, "comment_id": 97499076, "body": "I just read the Wikipedia article again, but to me it seems like a and b should always be interchangeable. Wolframalpha also says that. <a href=\"http://mathworld.wolfram.com/DotProduct.html\" rel=\"nofollow noreferrer\">mathworld.wolfram.com/DotProduct.html</a> D was always the same array."}, {"owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 1, "creation_date": 1553735026, "post_id": 55387916, "comment_id": 97499127, "body": "If <code>x</code> and <code>y</code> are both vectors of real-valued elements, then <code>x dot y = y dot x</code>. However, in your case, one of them is a matrix and the other is a vector. You can still use <code>np.dot</code> to do such a matrix-vector multiplication, but now you need to be careful about the order -- one order is valid, but the operation is not defined for the other order -- unless the matrix is square. Please take a look at matrix-matrix multiplication, and reduce it to matrix-vector multiplication, and then to vector-vector multiplication. The last one is the dot product you looked up in wikipedia and wolfram."}], "owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553731505, "creation_date": 1553728592, "last_edit_date": 1553731505, "question_id": 55387916, "link": "https://stackoverflow.com/questions/55387916/taking-the-dotproduct-a-2d-array", "title": "Taking the dotproduct a 2D array", "body": "<p>I want to take the dotproduct for a sigmoid function.</p>\n\n<pre><code>import numpy as np\n\n\ndef sigmoid(x):\n    sigm = 1 / (1 + np.exp(-x))\n    return sigm\n\n\ndef p(D, w, b):\n    prob=sigmoid(np.dot(D[:,7],w)+b)\n    return prob\n</code></pre>\n\n<p>Works</p>\n\n<pre><code>    x = np.array([D[0,7], D[0,9]])\n    w = np.array([w1, w2])\n    prob=sigmoid(np.dot(x[:],w)+b)\n</code></pre>\n\n<p>also works, however </p>\n\n<pre><code>    x = np.array([D[:,7], D[:,9]])\n    w = np.array([w1, w2])\n    prob=sigmoid(np.dot(x,w)+b)\n</code></pre>\n\n<p>does NOT work.\nIt throws a dimensional alignment error.</p>\n\n<pre><code>ValueError: shapes (2,426) and (2,) not aligned: 426 (dim 1) != 2 (dim 0)\n</code></pre>\n\n<p>I guess I could use a loop to iterate the first array position, but maybe Python3 has a way to do this more elegantly.\nHow can I format the array correctly so it gets accepted as input for the numpy.dot() function ?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 2, "creation_date": 1553728687, "post_id": 55387899, "comment_id": 97497631, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/952914/how-to-make-a-flat-list-out-of-list-of-lists\">How to make a flat list out of list of lists?</a>"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "edited": false, "score": 0, "creation_date": 1553728774, "post_id": 55387899, "comment_id": 97497659, "body": "@Bazingaa isn&#39;t that the same solution OP attempted and mentioned  in the post that didn&#39;t work?"}, {"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1553728811, "post_id": 55387899, "comment_id": 97497668, "body": "@davedwards: There are over 10 answers in the duplicate. Read and try them all"}, {"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1553728868, "post_id": 55387899, "comment_id": 97497683, "body": "@davedwards: 53 answers to be specific"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1553728889, "post_id": 55387899, "comment_id": 97497692, "body": "great, many options, thanks"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1553729416, "post_id": 55387899, "comment_id": 97497832, "body": "@dev-ops your desired result is not a valid list, either it has an extra sublist as it&#39;s first list and is missing a starting left bracket <code>[</code>, or it should be a list of 4 strings and needs the extra right bracket removed at <code>+GROWTH&#39;],</code>. <b><i>TL;DR</i></b> How many elements (and sublists) should the result list contain?"}, {"owner": {"reputation": 57, "user_id": 11248280, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFV2sC1NeR0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfemjeSKBqL80-D7vXPWVjLnpmjKg/mo/photo.jpg?sz=128", "display_name": "Dev Ops", "link": "https://stackoverflow.com/users/11248280/dev-ops"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1553730131, "post_id": 55387899, "comment_id": 97498004, "body": "@davedwards i have updated my original post to remove the <code>]</code> in the desired result."}], "answers": [{"tags": [], "owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "is_accepted": true, "score": 1, "last_activity_date": 1553729218, "creation_date": 1553729218, "answer_id": 55388018, "question_id": 55387899, "link": "https://stackoverflow.com/questions/55387899/combining-multiple-lists-into-one-list-in-python/55388018#55388018", "title": "combining multiple lists into one list in python", "body": "<p>With a simple recursive method you can handle any level of nesting:</p>\n\n<pre><code>def flat(l):\n    if isinstance(l, list):\n        result = []\n        for i in l:\n            result = result + flat(i)\n        return result\n    else:\n        return [l]\n\n&gt;&gt;&gt; flat(list_of_lists)\n['2019-03-27-16:08:21 Now:(87.0866) Epoch:(1553728101) 45(secs)ago ItemID:(51141)', '2019-03-20-16:09:21 7d:(87.2040) Epoch:(1553123361) 604785(secs)ago ItemID:(51141)', 'Interval:(1m) Diff:(-0.1174) Now_[less-than]_Past(7d) GPM:(0.00008153) +GROWTH', 'OK: Date:[2021-04-07 10:43:10.037075] Days.Until:[741.773648417]']\n</code></pre>\n\n<p>Another example:</p>\n\n<pre><code>&gt;&gt;&gt; flat([1,2,[3,[4,5]],6,[7,8]])\n[1, 2, 3, 4, 5, 6, 7, 8]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24329, "user_id": 5237560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CO92P.png?s=128&g=1", "display_name": "Alain T.", "link": "https://stackoverflow.com/users/5237560/alain-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730409, "last_edit_date": 1553730409, "creation_date": 1553729758, "answer_id": 55388085, "question_id": 55387899, "link": "https://stackoverflow.com/questions/55387899/combining-multiple-lists-into-one-list-in-python/55388085#55388085", "title": "combining multiple lists into one list in python", "body": "<p>Because some of the items in your list contains lists and others don't, the simple flatten options cannot be used directly.  I would suggest creating a function that will flatten the list of lists recursively (including items that are lists themselves):</p>\n\n<pre><code>def flatten(aList):\n    if not isinstance(aList,list): return [aList]\n    return [ item for subList in aList for item in flatten(subList)] \n\nflattened_list = flatten(list_of_lists)\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 11248280, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFV2sC1NeR0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfemjeSKBqL80-D7vXPWVjLnpmjKg/mo/photo.jpg?sz=128", "display_name": "Dev Ops", "link": "https://stackoverflow.com/users/11248280/dev-ops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 55388018, "answer_count": 2, "score": 1, "last_activity_date": 1553730409, "creation_date": 1553728521, "last_edit_date": 1553729885, "question_id": 55387899, "link": "https://stackoverflow.com/questions/55387899/combining-multiple-lists-into-one-list-in-python", "title": "combining multiple lists into one list in python", "body": "<p>I have a list that contains other lists:</p>\n\n<pre><code>list_of_lists = [[['2019-03-27-16:08:21 Now:(87.0866) Epoch:(1553728101) 45(secs)ago ItemID:(51141)', '2019-03-20-16:09:21 7d:(87.2040) Epoch:(1553123361) 604785(secs)ago ItemID:(51141)', 'Interval:(1m) Diff:(-0.1174) Now_[less-than]_Past(7d) GPM:(0.00008153) +GROWTH'], 'OK: Date:[2021-04-07 10:43:10.037075] Days.Until:[741.773648417]']]\n</code></pre>\n\n<p>How do I merge these lists into one list so that it looks like this:</p>\n\n<pre><code>['2019-03-27-16:08:21 Now:(87.0866) Epoch:(1553728101) 45(secs)ago ItemID:(51141)', '2019-03-20-16:09:21 7d:(87.2040) Epoch:(1553123361) 604785(secs)ago ItemID:(51141)', 'Interval:(1m) Diff:(-0.1174) Now_[less-than]_Past(7d) GPM:(0.00008153) +GROWTH', 'OK: Date:[2021-04-07 10:43:10.037075] Days.Until:[741.773648417]']\n\n</code></pre>\n\n<p>I've found some code online but it doesn't do what I want:</p>\n\n<pre><code>flattened_list = [y for x in list_of_lists for y in x]\n</code></pre>\n\n<p>I also would prefer a solution that does not involve having to <code>pip install</code> any modules that isn't part of the default python package.</p>\n"}, {"tags": ["python", "pandas", "numpy", "aggregate", "pandas-groupby"], "answers": [{"tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 2, "last_activity_date": 1553728977, "creation_date": 1553728977, "answer_id": 55387980, "question_id": 55387882, "link": "https://stackoverflow.com/questions/55387882/python-pandas-ratio-of-values-in-group-to-group-total-for-each-group/55387980#55387980", "title": "Python Pandas Ratio of values in group to group total for each group", "body": "<p>You can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.transform.html\" rel=\"nofollow noreferrer\">transform</a> here:</p>\n\n<pre><code>In [11]: df.groupby(\"Injury_Time\")[\"Count\"].transform(\"sum\")\nOut[11]:\n0    40\n1    40\n2    40\n3    40\n4    50\n5    50\n6    50\n7    50\nName: Count, dtype: int64\n\nIn [12]: df[\"Count\"] / df.groupby(\"Injury_Time\")[\"Count\"].transform(\"sum\")\nOut[12]:\n0    0.100\n1    0.300\n2    0.475\n3    0.125\n4    0.560\n5    0.200\n6    0.040\n7    0.200\nName: Count, dtype: float64\n</code></pre>\n\n<p><em>See <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html#transformation\" rel=\"nofollow noreferrer\">split-apply-combine section</a> of the docs.</em></p>\n"}], "owner": {"reputation": 445, "user_id": 9296990, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dc468e3e5ffb875693abe69e5f379f97?s=128&d=identicon&r=PG&f=1", "display_name": "mrsquid", "link": "https://stackoverflow.com/users/9296990/mrsquid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 55387980, "answer_count": 1, "score": 1, "last_activity_date": 1553728977, "creation_date": 1553728375, "question_id": 55387882, "link": "https://stackoverflow.com/questions/55387882/python-pandas-ratio-of-values-in-group-to-group-total-for-each-group", "title": "Python Pandas Ratio of values in group to group total for each group", "body": "<p>I want to find the ratio of the counts of values in a group to the total values in the group while also keeping the other columns. I used a group by to transform my matrix into one similar to the example below. I grouped by the injury time and then the incident type to find the count of each incident per month.</p>\n\n<p>Instead of count though, I want it to be the count/total count of incident for the month.</p>\n\n<p>For example if there is a data frame that looks like this.</p>\n\n<pre><code> Injury_Time       Incident_Type     Count\n 2017-01           Slip              4\n 2017-01           Concussion        12 \n 2017-01           Struck by         19\n 2017-01           Exposure          5\n 2017-02           Slip              28\n 2017-02           Concussion        10\n 2017-02           Struck by         2\n 2017-02           Exposure          10\n ...               ...               ...\n</code></pre>\n\n<p>Instead I want the data frame to look like this.</p>\n\n<pre><code> Injury_Time       Incident_Type     Count\n 2017-01           Slip              0.1\n 2017-01           Concussion        0.3 \n 2017-01           Struck by         0.475\n 2017-01           Exposure          0.125\n 2017-02           Slip              0.56\n 2017-02           Concussion        0.2\n 2017-02           Struck by         0.04\n 2017-02           Exposure          0.2\n ...               ...               ...\n</code></pre>\n\n<p>For example for the first Slip incident on 2017-01. It would be calculated as 4/40 = 0.1 since the group total is (4 + 12 + 19 + 5 = 40). For the second group value of slip it would be 28/50 since (28 + 10 + 2 + 10 = 50), so the first value is 28/50 = 0.56. The same will be done for each value in each group as well. </p>\n\n<p>Is there a good method of doing this for each group in the data frame?</p>\n\n<p>Here is the code for creating the example data frame.</p>\n\n<pre><code>df = pd.DataFrame([[\"2017-01\", \"Slip\", 4], [\"2017-01\", \"Concussion\", 12], [\"2017-01\", \"Struck by\", 19], [\"2017-01\", \"Exposure\", 5], [\"2017-02\", \"Slip\", 28], [\"2017-02\", \"Concussion\", 10], [\"2017-02\", \"Struck by\", 2], [\"2017-02\", \"Exposure\", 10]], columns=[\"Injury_Time\", \"Incident_Type\", \"Count\"])\n</code></pre>\n\n<p>Please let me know if you have any questions.</p>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["python", "pandas", "csv", "path", "jupyter"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1553728628, "post_id": 55387881, "comment_id": 97497613, "body": "notepad++ opens <code>mnist_train.csv</code> wheras pandas opens <code>&#39;oecd_bli_2015.csv&#39;</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "edited": false, "score": 0, "creation_date": 1553810946, "post_id": 55388026, "comment_id": 97535620, "body": "Thanks for the advice. I think I found the error, it seems to be the csv file. I have attached a link to an image showing the content of two csv files to the bottom of the first post. However, I wonder why one csv file can be read with the above code and the other not? Both files have commas for separation and the file which does not work has text in many entries...  I would be happy if you (or someone else) could also answer that question."}, {"owner": {"reputation": 1378, "user_id": 2778405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/704439289/picture?type=large", "display_name": "Jamie Marshall", "link": "https://stackoverflow.com/users/2778405/jamie-marshall"}, "reply_to_user": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "edited": false, "score": 0, "creation_date": 1553811688, "post_id": 55388026, "comment_id": 97535847, "body": "@StefanJ, please don&#39;t link to resources, post them in the question.  Linked resources can decay and thus make your post unusable by other readers.  Please refer to the rules for posting questions on stack exchange."}, {"owner": {"reputation": 1378, "user_id": 2778405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/704439289/picture?type=large", "display_name": "Jamie Marshall", "link": "https://stackoverflow.com/users/2778405/jamie-marshall"}, "reply_to_user": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "edited": false, "score": 0, "creation_date": 1553811715, "post_id": 55388026, "comment_id": 97535858, "body": "@StefanJ As far as  your question goes, if it was a case of an illegal file read, you wouldn&#39;t be throwing a <code>FileNotFoundError</code>.  Is that still the error your getting?"}, {"owner": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "edited": false, "score": 0, "creation_date": 1553872420, "post_id": 55388026, "comment_id": 97560113, "body": "The code from my question reproduces still the FileNotFoundError (with csv-file oecd_bli_2015)."}, {"owner": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "edited": false, "score": 0, "creation_date": 1553872589, "post_id": 55388026, "comment_id": 97560209, "body": "If I use the code of @Burhan Khalid I only get an SyntaxError. If I change the code to the following, I get again the same FileNotFoundError as with Method1: pd.read_csv(r&#39;C:\\\\Program Files (x86)\\\\Hobby\\\\Geron_Geld\\\\oecd_bli_2015.csv&#39;) If I try this code with the other csv file (mnist_train) everything works as it should. Therefore I thought that it might be"}, {"owner": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "edited": false, "score": 0, "creation_date": 1553872609, "post_id": 55388026, "comment_id": 97560219, "body": "By the way, I could only insert the picture as a link because I get a message not to be allowed to post pictures because I am a new member... Is there a way to avoid this?"}, {"owner": {"reputation": 1378, "user_id": 2778405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/704439289/picture?type=large", "display_name": "Jamie Marshall", "link": "https://stackoverflow.com/users/2778405/jamie-marshall"}, "reply_to_user": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "edited": false, "score": 0, "creation_date": 1553877692, "post_id": 55388026, "comment_id": 97563068, "body": "@StefanJ this is easily troubleshot by using the <code>os</code> library.  I would look through that if I were you and try to figure out if there is something in there that can help you confirm the existence and validity of your <code>FullFileName</code>."}], "tags": [], "owner": {"reputation": 1378, "user_id": 2778405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/704439289/picture?type=large", "display_name": "Jamie Marshall", "link": "https://stackoverflow.com/users/2778405/jamie-marshall"}, "is_accepted": false, "score": -1, "last_activity_date": 1553729271, "creation_date": 1553729271, "answer_id": 55388026, "question_id": 55387881, "link": "https://stackoverflow.com/questions/55387881/filenotfounderror-during-importing-a-csv-file-using-pandas-jupyter-notebook-and/55388026#55388026", "title": "FileNotFoundError during importing a csv file using pandas, Jupyter notebook and Windows7", "body": "<p>I don't think you are actually changing the working directory the way you think you are.</p>\n\n<p>try this to see what your actual directory is:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.getcwd()\n</code></pre>\n\n<p>Your working dir in python is determined by where you execute the python interpreter, it doesn't necessarily have any connection to operation shell commands like <code>cd</code>.</p>\n\n<p>Check out the <code>os</code> module for everything you need to change the directory within the interpreter context.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "edited": false, "score": 0, "creation_date": 1553872993, "post_id": 55407800, "comment_id": 97560448, "body": "Thank you very much for your answer. If I use your code exactly as you wrote it I get a SyntaxError. Therefore I changed the code as follows: pd.read_csv(r&#39;C:\\\\Program Files (x86)\\\\Hobby\\\\Geron_Geld\\\\oecd_bli_2015.csv&#39;) Then I get the same FileNotFoundError as my code above. If I use the other csv file (mnist_train) everything works as it should. Therefore I thought that there might be a difference between the files, even if the image shows only data which is separated by comma..."}, {"owner": {"reputation": 1378, "user_id": 2778405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/704439289/picture?type=large", "display_name": "Jamie Marshall", "link": "https://stackoverflow.com/users/2778405/jamie-marshall"}, "edited": false, "score": 0, "creation_date": 1553877564, "post_id": 55407800, "comment_id": 97563000, "body": "@Burhan Khalid and I are actually giving you same answer, i&#39;m just trying to lead there instead of tell you outright.  The reason you&#39;re getting the syntax error with his syntax is because of the <code>r</code>.  I&#39;d look up <code>r</code> strings and do some research to proceed further with this answer."}], "tags": [], "owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "is_accepted": false, "score": 0, "last_activity_date": 1553880863, "last_edit_date": 1553880863, "creation_date": 1553812183, "answer_id": 55407800, "question_id": 55387881, "link": "https://stackoverflow.com/questions/55387881/filenotfounderror-during-importing-a-csv-file-using-pandas-jupyter-notebook-and/55407800#55407800", "title": "FileNotFoundError during importing a csv file using pandas, Jupyter notebook and Windows7", "body": "<p>You need to give the full path to the file, like this:</p>\n\n<pre><code>pd.read_csv(r'C:\\Program Files (x86)\\Hobby\\Geron_Geld\\oecd_bli_2015.csv')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11269036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8f442fd67cbf22270c98bcb28b9bb5?s=128&d=identicon&r=PG&f=1", "display_name": "StefanJ", "link": "https://stackoverflow.com/users/11269036/stefanj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1038, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553880863, "creation_date": 1553728369, "last_edit_date": 1553810197, "question_id": 55387881, "link": "https://stackoverflow.com/questions/55387881/filenotfounderror-during-importing-a-csv-file-using-pandas-jupyter-notebook-and", "title": "FileNotFoundError during importing a csv file using pandas, Jupyter notebook and Windows7", "body": "<p>I try to learn programming and currently fail to read a csv-file into a Jupyter notebook. This is what my code looks like and the response to it:</p>\n\n<pre><code>In [1]: import pandas as pd\n\nIn [2]: pwd\n\nOut [2]: 'C:\\\\Users\\\\Stefan'\n\nIn [3]: cd C:\\\\Program Files (x86)\\\\Hobby\\\\Geron_Geld\n\nIn [4]: pwd\n\nOut [4]: 'C:\\\\Program Files (x86)\\\\Hobby\\\\Geron_Geld'\n\nIn [5]: pd.read_csv('oecd_bli_2015.csv')\n</code></pre>\n\n<p>And this is the response:</p>\n\n<pre><code>---------------------------------------------------------------------------\nFileNotFoundError                         Traceback (most recent call last)\n&lt;ipython-input-7-daa5a9ab604d&gt; in &lt;module&gt;\n----&gt; 1 pd.read_csv('oecd_bli_2015.csv')\n\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in parser_f(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, escapechar, comment, encoding, dialect, tupleize_cols, error_bad_lines, warn_bad_lines, skipfooter, doublequote, delim_whitespace, low_memory, memory_map, float_precision)\n    676                     skip_blank_lines=skip_blank_lines)\n    677 \n--&gt; 678         return _read(filepath_or_buffer, kwds)\n    679 \n    680     parser_f.__name__ = name\n\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in _read(filepath_or_buffer, kwds)\n    438 \n    439     # Create the parser.\n--&gt; 440     parser = TextFileReader(filepath_or_buffer, **kwds)\n    441 \n    442     if chunksize or iterator:\n\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in __init__(self, f, engine, **kwds)\n    785             self.options['has_index_names'] = kwds['has_index_names']\n    786 \n--&gt; 787         self._make_engine(self.engine)\n    788 \n    789     def close(self):\n\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in _make_engine(self, engine)\n   1012     def _make_engine(self, engine='c'):\n   1013         if engine == 'c':\n-&gt; 1014             self._engine = CParserWrapper(self.f, **self.options)\n   1015         else:\n   1016             if engine == 'python':\n\n~\\Anaconda3\\lib\\site-packages\\pandas\\io\\parsers.py in __init__(self, src, **kwds)\n   1706         kwds['usecols'] = self.usecols\n   1707 \n-&gt; 1708         self._reader = parsers.TextReader(src, **kwds)\n   1709 \n   1710         passed_names = self.names is None\n\npandas\\_libs\\parsers.pyx in pandas._libs.parsers.TextReader.__cinit__()\n\npandas\\_libs\\parsers.pyx in pandas._libs.parsers.TextReader._setup_parser_source()\n\nFileNotFoundError: File b'oecd_bli_2015.csv' does not exist\n</code></pre>\n\n<h1>============================================</h1>\n\n<ul>\n<li><p>I already tried to use several parameters for pd.read_csv.</p></li>\n<li><p>The folder and the file exist and also the file format is correct.</p></li>\n<li><p>I also watched several Youtube videos about the normal procedure for this and tried all variants I found, none worked</p></li>\n<li><p>The following code (from another task I tried to do) works if Notepad++ is used for programming:</p></li>\n</ul>\n\n<p><code>\ntraining_data_file = open(\"C:\\Program Files (x86)\\Hobby\\Picture recognition\\mnist_train.csv\", 'r')\ntraining_data_list = training_data_file.readlines()\ntraining_data_file.close()\n</code></p>\n\n<p>If I use the same code in the Jupyter notebook the file will not be found again. However, I would like to practice with Jupyter notebooks/generally with programming.</p>\n\n<p>It would be great if someone could please give me a hint why I can't find a way to display a csv file in a Jupyter notebook so that i can work with its data afterwards... Thank you</p>\n\n<p>(My OS is Windows7)</p>\n\n<p><a href=\"https://i.stack.imgur.com/yy37Y.jpg\" rel=\"nofollow noreferrer\">Image with both opened csv files</a></p>\n"}, {"tags": ["python", "pandas", "date"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553728629, "post_id": 55387880, "comment_id": 97497614, "body": "Are you looking for a <code>pandas</code> specific solution? I&#39;m sure you could accomplish this through the <code>datetime</code> module if not"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553729101, "post_id": 55387880, "comment_id": 97497752, "body": "What is the expected output here? Your title and the question contents don&#39;t quite match up."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1553730121, "post_id": 55387880, "comment_id": 97498001, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46154788/number-to-date-conversion-using-pandas-in-python\">Number to Date Conversion using Pandas in Python?</a>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553730168, "post_id": 55387880, "comment_id": 97498015, "body": "That&#39;s a <i>speculative</i> dupe because I&#39;m not sure the exact date formats translate between the libraries (turning a numerical input to a date format)"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1553730694, "post_id": 55387880, "comment_id": 97498164, "body": "Your title says &quot;MM/DD/YYY&quot;. You don&#39;t really want a 3-digit year, do you? (If your requirements permit it, consider using ISO-8601 format &quot;YYYY-MM-DD&quot;. <a href=\"https://xkcd.com/1179/\" rel=\"nofollow noreferrer\">xkcd.com/1179</a>)"}, {"owner": {"reputation": 57, "user_id": 11252319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307c105b9a3b288d4d0718f1639342d9?s=128&d=identicon&r=PG&f=1", "display_name": "JollyKinG", "link": "https://stackoverflow.com/users/11252319/jollyking"}, "edited": false, "score": 0, "creation_date": 1553731317, "post_id": 55387880, "comment_id": 97498290, "body": "Sorry, it is meant to be MM/DD/YYYY (typo)"}], "answers": [{"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553728868, "post_id": 55387926, "comment_id": 97497684, "body": "That only does half the job. Now you have a datetime object, not a formatted string"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553728987, "post_id": 55387926, "comment_id": 97497717, "body": "Well actually, the question is unclear. The title reads as though they want a string at the end from <code>strftime</code> basically"}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553729003, "post_id": 55387926, "comment_id": 97497724, "body": "I didn&#39;t see the OP saying he wants a string. He says he wants dates formatted as MM/DD/YYYY."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553729119, "post_id": 55387926, "comment_id": 97497762, "body": "It&#39;s implied in the title but I&#39;ve asked for clarification."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553729262, "post_id": 55387926, "comment_id": 97497792, "body": "To your edit: and the output of your answer would not be such an output. The <code>format</code> argument to <code>to_datetime</code> is to tell pandas how to parse it <i>out</i> of a string and to a datetime object. It won&#39;t print or write back out in the specified format if you leave it with just this step."}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553729350, "post_id": 55387926, "comment_id": 97497806, "body": "No. It will format the <code>datetime</code> column using <code>format</code>. I do that all the time here."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553730217, "post_id": 55387926, "comment_id": 97498026, "body": "Back at my PC instead of phone so I can see better. I think we&#39;ve both gone off-course; it looks like <a href=\"https://stackoverflow.com/a/46155069/4799172\">this issue</a>"}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1553730319, "post_id": 55387926, "comment_id": 97498053, "body": "I agree. The workbook is probably using another format and the columns weren&#39;t converted to a <code>datetime</code> object yet."}], "tags": [], "owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "is_accepted": false, "score": 0, "last_activity_date": 1553728686, "creation_date": 1553728686, "answer_id": 55387926, "question_id": 55387880, "link": "https://stackoverflow.com/questions/55387880/formatting-date-to-mm-dd-yyy-from-xlsb-file/55387926#55387926", "title": "Formatting Date To MM/DD/YYY From xlsb File", "body": "<p>Supposing your date column is 'Date', the command would be something like this:</p>\n\n<pre><code>dataset['Date'] = pd.to_datetime(dataset['Date'], format='%m/%d/%Y')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 109, "user_id": 7376918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ny9rjBj_XJE/AAAAAAAAAAI/AAAAAAAAADY/oblL_T9dxjE/photo.jpg?sz=128", "display_name": "Vitor Bianchi Lanzetta", "link": "https://stackoverflow.com/users/7376918/vitor-bianchi-lanzetta"}, "is_accepted": false, "score": 0, "last_activity_date": 1611640709, "creation_date": 1611640709, "answer_id": 65896546, "question_id": 55387880, "link": "https://stackoverflow.com/questions/55387880/formatting-date-to-mm-dd-yyy-from-xlsb-file/65896546#65896546", "title": "Formatting Date To MM/DD/YYY From xlsb File", "body": "<p>I had a similar issue which I was able to overcome due to <a href=\"https://stackoverflow.com/a/31359287/7376918\">this answer</a>.</p>\n<p>Try the function  <code>datetime.fromordinal</code> from the <code>datetime</code> module as follows:</p>\n<pre><code>from datetime import datetime\n\n\n# for integers\ndef convert_int_date(ordinal_date):\n    date_time = datetime.fromordinal(\n        datetime(1900, 1, 1).toordinal() + ordinal_date - 2\n    )\n    return date_time\n\ndataset[&quot;StartDate&quot;] = dataset[&quot;StartDate&quot;].astype(int).apply(convert_int_date)\n</code></pre>\n<p>You can then format your date as you please.</p>\n<pre><code>dataset[&quot;StartDate&quot;] = dataset[&quot;StartDate&quot;].dt.strftime(&quot;%m/%d/%Y&quot;)\n</code></pre>\n<p>In my particular case, every date was given by an integer. Hours, minutes and seconds were not taken into account. If you do need to take those into account (or if you have a floating number as a date) try the following:</p>\n<pre><code># for floats\ndef convert_float_date(ordinal_date):\n    hours, r = divmod(ordinal_date, 1)\n    minutes, r = divmod(r*60, 1)\n    seconds = r*60\n\n    date_time = datetime.fromordinal(\n        datetime(1900, 1, 1).toordinal() + ordinal_date - 2\n    )\n    datetime = date_time.replace(hour=hours, minute=minutes, second=seconds)\n    return date_time\n\ndataset[&quot;StartDate&quot;] = dataset[&quot;StartDate&quot;].astype(float).apply(convert_float_date)\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/31359287/7376918\">Credits</a></p>\n"}], "owner": {"reputation": 57, "user_id": 11252319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307c105b9a3b288d4d0718f1639342d9?s=128&d=identicon&r=PG&f=1", "display_name": "JollyKinG", "link": "https://stackoverflow.com/users/11252319/jollyking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1169, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1611640709, "creation_date": 1553728368, "last_edit_date": 1553730310, "question_id": 55387880, "link": "https://stackoverflow.com/questions/55387880/formatting-date-to-mm-dd-yyy-from-xlsb-file", "title": "Formatting Date To MM/DD/YYY From xlsb File", "body": "<p>I have a .xlsb file that I want to use pandas and analyse. I have found how to use pyxlsb to open the file and create another dataset. However, the problem now is that the time formats have changed into a different number format (e.g 41256). </p>\n\n<p>The code I'm using at the moment is:</p>\n\n<pre><code>dataset = []\n\nwith open_xlsb(file) as wb: #opening an xlsb file workbook\n    with wb.get_sheet(1) as sheet1:\n        for row in sheet1.rows():\n            dataset.append([item.v for item in row])\n\ndataset= pd.DataFrame(dataset[1:], columns=dataset[0])\n</code></pre>\n\n<p>I have already tried the convert_date as follows:</p>\n\n<pre><code>convert_date(dataset)\n</code></pre>\n\n<p>I have also tried the to_datetime function, but unsure if I used it correctly. For reference, the dataset I am using has dates in multiple columns and rows so I'm looking for a way to covert all of them into the right format, whilst ignoring any errors. </p>\n\n<p>EDIT: So I don't have a single column with \"Date\", rather I have multiple columns, such as StartDate, EndDate, Last Updated and a few others. The result I want to see is if I go to a column, e.g dataset.columns['StartDate'], I want to get a date value, such as 15/03/2019, as opposed to 42156. </p>\n\n<p>Any help would be much appreciated!</p>\n"}, {"tags": ["python", "pip", "upgrade"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 1, "creation_date": 1553790086, "post_id": 55387879, "comment_id": 97525434, "body": "Don&#39;t fiddle with <code>&#47;usr&#47;bin</code> and <code>&#47;usr&#47;lib</code> \u2014 you&#39;re risking breaking your system Python. Just put <code>&#47;usr&#47;local&#47;bin</code> before <code>&#47;usr&#47;bin</code> in your <code>$PATH</code>."}, {"owner": {"reputation": 1712, "user_id": 2194137, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/b7a39cc3a9fd0fe633f22da43c2cf25b?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/2194137/jason"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1553807200, "post_id": 55387879, "comment_id": 97534252, "body": "Ok I am just playing with a docker container."}], "answers": [{"tags": [], "owner": {"reputation": 411, "user_id": 1124621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2eb2ba2aad44a47862434d7d4c765ac?s=128&d=identicon&r=PG", "display_name": "Depau", "link": "https://stackoverflow.com/users/1124621/depau"}, "is_accepted": false, "score": 5, "last_activity_date": 1553730632, "last_edit_date": 1553730632, "creation_date": 1553729856, "answer_id": 55388092, "question_id": 55387879, "link": "https://stackoverflow.com/questions/55387879/installing-pip-in-usr-bin-instead-of-usr-local-bin/55388092#55388092", "title": "Installing pip in /usr/bin instead of /usr/local/bin", "body": "<p>In general, running <code>pip</code> as root is <strong>never</strong> a good idea. You're installing files to your root that are not tracked by your distribution's package manager.</p>\n\n<p>This may not sound that bad, but in general it is, because you're cluttering your system with files that may clash with others and that you're likely going to have a hard time removing.</p>\n\n<p>Pip is doing the right thing installing itself system-wide into <code>/usr/local</code>. The general convention is that stuff outside of your own directory, of <code>/etc</code>, <code>/var</code> and <code>local</code> system directories is tracked by the package manager.</p>\n\n<p>The package manager will overwrite files outside of these directories without asking. <code>local</code> counterparts of system directories are there to give you the opportunity to install stuff system-wide without it being messed with. However, most of the times, there are better ways of doing it.</p>\n\n<p>For example, the best way with Python is using <code>virtualenv</code>s. They give you an isolated environment that you can activate and install stuff into, including an up-to-date version of pip.</p>\n\n<p>You also can run it as a user (without sudo), but you will have to add its <code>bin</code> directory to your <code>$PATH</code>.</p>\n\n<p>It's best if you leave <code>/usr/bin/pip</code> alone, otherwise bad things may happen.</p>\n\n<p>To answer your question, if you really can't live without having it in <code>/usr/bin</code> or a virtualenv, I'm sad to tell you there is no such documented option for pip. However you have two options:</p>\n\n<ol>\n<li>Remove your distro's pip package, then symlink <code>/usr/bin/pip</code> to <code>/usr/local/bin/pip</code>. That will work but it will still be technically installed in <code>/usr/local</code>. Also, any other program that depends on your distro's <code>pip</code> package will have to be removed.</li>\n<li>(very bad) Download pip's sources, then install it with <code>sudo python setup.py install --prefix=/usr</code>. This will place it in <code>/usr/bin</code>, but you should feel really bad for having done it.</li>\n</ol>\n\n<p>I really can't stress enough how bad this practice is, though.</p>\n"}], "owner": {"reputation": 1712, "user_id": 2194137, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/b7a39cc3a9fd0fe633f22da43c2cf25b?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/2194137/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7261, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553730632, "creation_date": 1553728363, "question_id": 55387879, "link": "https://stackoverflow.com/questions/55387879/installing-pip-in-usr-bin-instead-of-usr-local-bin", "title": "Installing pip in /usr/bin instead of /usr/local/bin", "body": "<p>So I am trying to upgrade pip. Currently pip is present in /usr/bin but when I upgrade pip using: \u201cpip install --upgrade pip\u201d, it upgrades pip into /usr/local/bin and not /usr/bin. Is there anyway to keep the pip installation in /usr/bin and all the pip libraries in /usr/lib or /usr/lib64, etc ? </p>\n"}, {"tags": ["python", "html", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "edited": false, "score": 0, "creation_date": 1553809679, "post_id": 55387873, "comment_id": 97535179, "body": "your example fails for me because the arrays have different length, please <a href=\"https://stackoverflow.com/a/20159305/2327328\">see here</a> about making a good pandas question"}, {"owner": {"reputation": 13, "user_id": 6802101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2f8a3b1e0d0a7b3c761d09ad81bca0?s=128&d=identicon&r=PG&f=1", "display_name": "jpv5", "link": "https://stackoverflow.com/users/6802101/jpv5"}, "reply_to_user": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "edited": false, "score": 0, "creation_date": 1556637926, "post_id": 55387873, "comment_id": 98501943, "body": "Apologies for the late response, something came up -- appreciate the response. You&#39;re correct in that the array were different lengths, was supposed to include blank cells in each array, to sum up to 3 per date. I have edited my question and would appreciate any assistance."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6802101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2f8a3b1e0d0a7b3c761d09ad81bca0?s=128&d=identicon&r=PG&f=1", "display_name": "jpv5", "link": "https://stackoverflow.com/users/6802101/jpv5"}, "edited": false, "score": 0, "creation_date": 1557153538, "post_id": 55928209, "comment_id": 98660237, "body": "Appreciate the quick response, and your solution. However, I edited my original question as I believe I wasn&#39;t clear enough. I would like to keep all columns of the dataframe in html, I do not want to filter out only data pertaining to today, but highlight data pertaining to today. Thanks!"}], "tags": [], "owner": {"reputation": 21981, "user_id": 2327328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/S9zSI.jpg?s=128&g=1", "display_name": "philshem", "link": "https://stackoverflow.com/users/2327328/philshem"}, "is_accepted": false, "score": 0, "last_activity_date": 1556655924, "creation_date": 1556655924, "answer_id": 55928209, "question_id": 55387873, "link": "https://stackoverflow.com/questions/55387873/python-pandas-dataframe-to-html-highlight-entire-column-based-on-header-value/55928209#55928209", "title": "Python pandas dataframe to html -- highlight entire column based on header value", "body": "<p>Note that it's not a great practice to keep data as the column name. In this case, that means the date record. It also makes the code much more complicated.</p>\n\n<p>Try this code snippet -- I've added comments along the way.</p>\n\n<pre><code>import pandas as pd\n\n# note that I've replaced '' with None\nd = {'2019-04-30': ['Bob', None, 'Joe'], '2019-03-26': ['Abel', None, None], '2019-03-27': [None, None, None], '2019-03-28': [None, 'Bob', None], '2019-03-29': ['Richard', 'Joe', 'Fred']}\n\n# load items of dictionary as dataframe, don't use dates as column names, assign column names\ndf = pd.DataFrame(data=d.items(), columns = ['date','name_list'])\n\n# convert string to datetime\n# it's better to compare datetimes directly, and forces the type to datetime, in case of dirty data\n# also using pandas datetime instead of the standard python library\ndf.date = pd.to_datetime(df.date)\n\n# this is your filter or 'where' clause, to keep only records that match today\ndf = df.loc[df['date'] == pd.to_datetime('today')]\n\n#\u00a0unpack list as individual rows, see https://stackoverflow.com/a/12681217/2327328\ndf = pd.concat([pd.Series(row['date'], row['name_list'])              \n                for _, row in df.iterrows()]).reset_index()\n\n\n# display as html\nprint (df.to_html())\n</code></pre>\n\n<p>Provides as an output:</p>\n\n<pre><code>&lt;table border=\"1\" class=\"dataframe\"&gt;\n  &lt;thead&gt;\n    &lt;tr style=\"text-align: right;\"&gt;\n      &lt;th&gt;&lt;/th&gt;\n      &lt;th&gt;index&lt;/th&gt;\n      &lt;th&gt;0&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;th&gt;0&lt;/th&gt;\n      &lt;td&gt;Bob&lt;/td&gt;\n      &lt;td&gt;2019-04-30&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;th&gt;1&lt;/th&gt;\n      &lt;td&gt;None&lt;/td&gt;\n      &lt;td&gt;2019-04-30&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;th&gt;2&lt;/th&gt;\n      &lt;td&gt;Joe&lt;/td&gt;\n      &lt;td&gt;2019-04-30&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>which looks displays this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b3BtF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b3BtF.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 6802101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2f8a3b1e0d0a7b3c761d09ad81bca0?s=128&d=identicon&r=PG&f=1", "display_name": "jpv5", "link": "https://stackoverflow.com/users/6802101/jpv5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1557183187, "creation_date": 1553728317, "last_edit_date": 1557183187, "question_id": 55387873, "link": "https://stackoverflow.com/questions/55387873/python-pandas-dataframe-to-html-highlight-entire-column-based-on-header-value", "title": "Python pandas dataframe to html -- highlight entire column based on header value", "body": "<p>I have a dataframe (pulled from a dictionary) that contains the weekdays of the current week as column headers, filled with people names within the rows</p>\n\n<p>I.e.</p>\n\n<pre><code>dict = {'2019-03-25': ['Bob', '', 'Joe'], '2019-03-26': ['Abel', '', ''], '2019-03-27': ['', '', ''], '2019-03-28': ['', 'Bob', ''], '2019-03-29': ['Richard', 'Joe', 'Fred']}\n\ndf = pd.DataFrame(data=dict)\n\ncurrentdate = datetime.datetime.today().strftime('%Y-%m-%d')\n</code></pre>\n\n<p>I would like to highlight all of the cells in the entire column where column header = currentdate and then convert this to html</p>\n\n<p>I looked elsewhere, and believe this is a unique scenario, as all I could find online was related to highlighting based on the values of the cells themselves, e.g. value is greater or less than or contains specific text, but nothing related to the value within the column header itself. </p>\n\n<p>EDIT: \nBasically I have a calendar in excel, which I pull into a dataframe then convert it to HTML and send it out as an email. Below is the result I've gotten to (minus the highlights). I would like to create an if statement for formatting the html, so that it highlights the column yellow when header == current date.</p>\n\n<p><a href=\"https://i.stack.imgur.com/STDen.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/STDen.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "mapbox", "plotly-dash"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 11265629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uXd57.jpg?s=128&g=1", "display_name": "The Weckness", "link": "https://stackoverflow.com/users/11265629/the-weckness"}, "is_accepted": false, "score": 0, "last_activity_date": 1553743140, "creation_date": 1553743140, "answer_id": 55389652, "question_id": 55387872, "link": "https://stackoverflow.com/questions/55387872/plotly-dash-mapbox-map-wont-zoom-after-reload/55389652#55389652", "title": "Plotly dash mapbox map won&#39;t zoom after reload", "body": "<p>This issue has come up only recently - i have essentially the same problem that renders my app useless for the moment. See <a href=\"https://community.plot.ly/t/mapbox-zoom-stops-working-once-figure-data-is-updated/21296\" rel=\"nofollow noreferrer\">this entry</a> in the community that provides a workaround - if you can live with a clunky replacement for your mouse wheel.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8581523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/814fdb303f53f4a61381b6a078dd7e67?s=128&d=identicon&r=PG&f=1", "display_name": "dataNbeer", "link": "https://stackoverflow.com/users/8581523/datanbeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1553779419, "creation_date": 1553779419, "answer_id": 55398752, "question_id": 55387872, "link": "https://stackoverflow.com/questions/55387872/plotly-dash-mapbox-map-wont-zoom-after-reload/55398752#55398752", "title": "Plotly dash mapbox map won&#39;t zoom after reload", "body": "<p>Thanks, had seen that, and while it's better than nothing, its is not really an acceptable workaround.  Is there any way to alert mapbox to this issue? This is a major breakage.   </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11269127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b6dcbc69193858af7d2803e0ae1c0c?s=128&d=identicon&r=PG&f=1", "display_name": "user47389", "link": "https://stackoverflow.com/users/11269127/user47389"}, "is_accepted": false, "score": 0, "last_activity_date": 1554392229, "creation_date": 1554392229, "answer_id": 55519916, "question_id": 55387872, "link": "https://stackoverflow.com/questions/55387872/plotly-dash-mapbox-map-wont-zoom-after-reload/55519916#55519916", "title": "Plotly dash mapbox map won&#39;t zoom after reload", "body": "<p>I figured it out, thanks to the thread <a href=\"https://community.plot.ly/t/mapbox-zoom-stops-working-once-figure-data-is-updated/21296\" rel=\"nofollow noreferrer\">here</a>. Trick is to modify the config. Here's a working example:</p>\n\n<pre><code>import dash\nimport dash_core_components as dcc\nimport dash_html_components as html\n\nfrom dash.dependencies import Input, Output, State\nimport plotly.graph_objs as go\n\nexternal_stylesheets = ['https://codepen.io/chriddyp/pen/bWLwgP.css']\n\napp = dash.Dash(__name__, external_stylesheets=external_stylesheets)\n\napp.layout = html.Div([\n    html.Button('Update Graph',id='get'),\n    html.P(\"On first load, zoom works fine. After reloading, zoom doesn't work anymore.\"),\n    dcc.Graph(id='map')\n])\n\n@app.callback(\n    [Output('map', 'figure'),\n     Output('map', 'config'),\n     ],\n    [Input('get', 'n_clicks')])\ndef update_map_callback(n_clicks):\n    map_figure = {\n        'data': [\n            go.Scattermapbox(\n                lat=[32],\n                lon=[-110],\n                mode='markers',\n                marker=dict(\n                    size=4\n                )\n            )\n        ],\n        'layout': go.Layout(\n            autosize=True,\n            hovermode='closest',\n            mapbox=dict(\n                accesstoken='pk.eyJ1IjoidG9kZGthcmluIiwiYSI6Ik1aSndibmcifQ.hwkbjcZevafx2ApulodXaw',\n                center=dict(\n                    lat=40,\n                    lon=-100\n                ),\n                zoom=2\n            )\n        )}\n\n    map_config = dict(scrollZoom = True)\n\n    return map_figure, map_config\n\nif __name__ == '__main__':\n    app.run_server(debug=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11333234, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YKQ10zs8fjs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOSEloyFh8J4Fs8qPHNOdjRytJfw/mo/photo.jpg?sz=128", "display_name": "Flow", "link": "https://stackoverflow.com/users/11333234/flow"}, "is_accepted": false, "score": 0, "last_activity_date": 1554797401, "creation_date": 1554797401, "answer_id": 55587963, "question_id": 55387872, "link": "https://stackoverflow.com/questions/55387872/plotly-dash-mapbox-map-wont-zoom-after-reload/55587963#55587963", "title": "Plotly dash mapbox map won&#39;t zoom after reload", "body": "<p>Similar to @user47389 answer the code modification that worked best for me was setting <code>scrollZoom = True</code> explicitly when I defined the graph object in the first place </p>\n\n<pre><code>dcc.Graph(id='graph', config={'scrollZoom': True})\n</code></pre>\n\n<p>Following the solution found <a href=\"https://community.plot.ly/t/solved-scattermapbox-zoom-not-working-after-updating-input-dropdown-dcc/20728/4\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 11269127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b6dcbc69193858af7d2803e0ae1c0c?s=128&d=identicon&r=PG&f=1", "display_name": "user47389", "link": "https://stackoverflow.com/users/11269127/user47389"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1253, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1554797401, "creation_date": 1553728317, "question_id": 55387872, "link": "https://stackoverflow.com/questions/55387872/plotly-dash-mapbox-map-wont-zoom-after-reload", "title": "Plotly dash mapbox map won&#39;t zoom after reload", "body": "<p>I'd like to make a map with the ability to zoom (e.g. using the scroll-wheel). This works at first, but once the map is reloaded, zoom functionality stops working.</p>\n\n<p>Another solution would be to have +/- zoom tools show up on the map.</p>\n\n<p>Here's a minimal script that reproduces the issue.</p>\n\n<pre><code>import dash\nimport dash_core_components as dcc\nimport dash_html_components as html\nimport pandas as pd\n\nfrom dash.dependencies import Input, Output, State\nimport plotly.graph_objs as go\n\nexternal_stylesheets = ['https://codepen.io/chriddyp/pen/bWLwgP.css']\n\napp = dash.Dash(__name__, external_stylesheets=external_stylesheets)\n\ndf = pd.read_csv('https://raw.githubusercontent.com/plotly/datasets/master/2011_february_us_airport_traffic.csv')\n\napp.layout = html.Div([\n    html.Button('Update Graph',id='get'),\n    html.P(\"On first load, zoom works fine. After reloading, zoom doesn't work anymore.\"),\n    dcc.Graph(id='map')\n])\n\n@app.callback(\n    Output('map', 'figure'),\n    [Input('get', 'n_clicks')])\ndef update_map_callback(n_clicks):\n    return {\n        'data': [\n            go.Scattermapbox(\n                lat=df['lat'],\n                lon=df['long'],\n                mode='markers',\n                marker=dict(\n                    size=4\n                )\n            )\n        ],\n        'layout': go.Layout(\n            autosize=True,\n            hovermode='closest',\n            mapbox=dict(\n                accesstoken='enter-your-mapbox-key-here',\n                center=dict(\n                    lat=40,\n                    lon=-100\n                ),\n                zoom=2\n            )\n        )}\n\nif __name__ == '__main__':\n    app.run_server(debug=True)\n</code></pre>\n\n<p>When the page first pops up, one can zoom in and out on the map. I'd expect after pressing the 'update graph' button, the zooming should still work. However, when one presses the 'Update graph' button, the zoom level on the map becomes fixed.</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7", "jython", "jython-2.7"], "owner": {"reputation": 37, "user_id": 9968765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69SWV_rKiKk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0UC1qvmYN1odIukctBLH_mu4BUig/mo/photo.jpg?sz=128", "display_name": "Kumar", "link": "https://stackoverflow.com/users/9968765/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553728450, "creation_date": 1553728059, "last_edit_date": 1553728450, "question_id": 55387832, "link": "https://stackoverflow.com/questions/55387832/how-to-parse-response-json-from-two-different-api-calls-but-has-same-dictionary", "title": "how to parse response json from two different api calls ,but has same dictionary names with different values in a nested for loop", "body": "<p>I want to parse response json from two different api calls ,but has same dictionary names with different values in a nested for loop</p>\n\n<p>I was able to get from the first api call, but failing on second api call with same dict as issues in both call but the key values are different.</p>\n\n<pre><code>def classtest(self):\n    apione = \"http://jira.com/rest/1\"\n    headers = {\n        'content-type': \"application/json\",\n              } \n    requestglobal = requests.request(\"GET\", apione, headers=headers)\n    responseglobal = requestglobal.text\n    responseglobal = json.loads(responseglobal)\n    for i in responseglobal['issues']:\n         issue1 = i[key]\n         print(issue1)\n         apitwo = \"https://jira.com/rest/2\" + str(issue1)\n         requesttwo = requests.request(\"GET\", apitwo, headers=headers)\n         responsetwo = requesttwo.text\n         responsetwo = json.loads(responsetwo)\n         for i in responsetwo['issues']:\n               issue2 = i[key] + str(issue1)\n               print(issue2)\n               apitthree = \"https://jira.com/rest/3\" + str(issue1) + str(issue3)\n               requestthree = requests.request(\"GET\", apitthree, headers=headers)\n               responsethree = requestthree.text\n               responsethree = json.loads(responsetthree)\n               for i in responsethree['issues']:\n                     issue3 = i[key] + str(issue2) \n                     print(issue3)\n               print(\"something from thirdloop\")\n         print(\"something from second loop\") \n    print (\"something from first for loop\")\n</code></pre>\n\n<p>I want all the issues from all three api calls.</p>\n"}, {"tags": ["python", "c++", "visual-studio", "embed"], "comments": [{"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "edited": false, "score": 0, "creation_date": 1553729076, "post_id": 55387775, "comment_id": 97497748, "body": "The error means that it is not able to find library code for the used functions like <code>Py_Initialize</code>, i.e. it is not able to find <code>python36.lib</code> (or maybe python36.lib doesn&#39;t have the functions). One thing that is odd is that you are referring to python 2.x docs, but try to embed python 3.6"}, {"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "edited": false, "score": 0, "creation_date": 1553729197, "post_id": 55387775, "comment_id": 97497776, "body": "Nevermind, the <a href=\"https://docs.python.org/3/extending/embedding.html\" rel=\"nofollow noreferrer\">3.x version</a> looks similar. So how did you add python36.lib to the project? You need to add it to &quot;link additional libraries&quot; section in the project settings."}, {"owner": {"reputation": 453, "user_id": 7428707, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vcI9j.jpg?s=128&g=1", "display_name": "Kanmani", "link": "https://stackoverflow.com/users/7428707/kanmani"}, "edited": false, "score": 0, "creation_date": 1553749257, "post_id": 55387775, "comment_id": 97501999, "body": "not the op, but I have the same problem. I linked the python36.lib file and still the build is not successful. Is there anything else I should check ?"}], "owner": {"reputation": 49, "user_id": 8276872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d46fe3344e779842246709012c8f4e31?s=128&d=identicon&r=PG&f=1", "display_name": "MineII CrafterII", "link": "https://stackoverflow.com/users/8276872/mineii-crafterii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1102, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1553762716, "creation_date": 1553727707, "last_edit_date": 1553762716, "question_id": 55387775, "link": "https://stackoverflow.com/questions/55387775/embed-python-in-c-in-visual-studio", "title": "Embed Python in C++ in Visual Studio", "body": "<p>This may be a duplicate idk. I searched for answers and none helped me.\nIm trying to embed Python in C++ in Visual Studio 2017. My Goal is to run this: </p>\n\n<pre><code>#include &lt;Python.h&gt;\n\nint\nmain()\n{\n  Py_Initialize();\n  PyRun_SimpleString(\"from time import time,ctime\\n\"\n                     \"print 'Today is',ctime(time())\\n\");\n  Py_Finalize();\n  return 0;\n}\n</code></pre>\n\n<p>What im doing is:<br>\ninstall the nuget paket \"python-embed\" for the project<br>\ni add ...\\packages\\python-embed.3.6.1.1\\lib\\native\\include to additional includes<br>\ni add ...\\packages\\python-embed.3.6.1.1\\lib\\native\\libs\\python36.lib to additional dependencies<br>\ncopy the code above, build <strike>and run</strike><br></p>\n\n<p>i get the following errors:<br>\n1>PYxC.obj : error LNK2001: unresolved external symbol __imp__Py_Initialize<br>\n1>PYxC.obj : error LNK2001: unresolved external symbol __imp__PyRun_SimpleStringFlags<br>\n1>PYxC.obj : error LNK2001: unresolved external symbol __imp__Py_Finalize<br>\n1>C:\\Users\\Windows\\source\\repos\\PYxC\\Release\\PYxC.exe : fatal error LNK1120: 3 unresolved external</p>\n\n<p>can somebody please explain to sombebody with a low iq how to embed python in c++ in visual studio 2017 as in the code above or as in this <a href=\"https://docs.python.org/2/extending/embedding.html#very-high-level-embedding\" rel=\"nofollow noreferrer\">https://docs.python.org/2/extending/embedding.html#very-high-level-embedding</a></p>\n"}, {"tags": ["python", "jupyter-notebook"], "comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 4, "creation_date": 1553727787, "post_id": 55387755, "comment_id": 97497354, "body": "It means just what it says. <code>c</code> isn&#39;t defined. It&#39;s defined inside your <code>taxes</code> function, but not outside of it."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 4, "creation_date": 1553727793, "post_id": 55387755, "comment_id": 97497356, "body": "Because <code>c</code> only exists within the scope of the function, not in the global scope where you try to access it. Although you return the value stored against c, the <i>name</i> is not accessible outside of the function."}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 4, "creation_date": 1553727817, "post_id": 55387755, "comment_id": 97497360, "body": "By the way, do not put in a link to an image of your code. Copy your code into the question."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 3, "creation_date": 1553727834, "post_id": 55387755, "comment_id": 97497364, "body": "Also, please do not post images of code. There is no reason you couldn&#39;t copy the code into the question."}, {"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 4, "creation_date": 1553727841, "post_id": 55387755, "comment_id": 97497372, "body": "You can fix this by simply changing the line <code>taxes(x)</code> to <code>c = taxes(x)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 6470761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8827ceb9db2719001d5a5e9c62402729?s=128&d=identicon&r=PG&f=1", "display_name": "Paras jain", "link": "https://stackoverflow.com/users/6470761/paras-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1554800829, "creation_date": 1554800829, "answer_id": 55589019, "question_id": 55387755, "link": "https://stackoverflow.com/questions/55387755/nameerror-name-c-is-not-defined/55589019#55589019", "title": "NameError: name &#39;C&#39; is not defined", "body": "<p>Here c is not defined because c is a local variable that can be assessed only inside taxes function.</p>\n\n<p>You can try the below code :</p>\n\n<pre><code>c = taxes(x)\n</code></pre>\n\n<p>In this way, you assign the value 1000 or whatever your function return to c. And your code won't give an error</p>\n"}], "owner": {"reputation": 1, "user_id": 11269089, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218968186499108/picture?type=large", "display_name": "Ivo Juric", "link": "https://stackoverflow.com/users/11269089/ivo-juric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1838, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1578071415, "creation_date": 1553727613, "last_edit_date": 1578071415, "question_id": 55387755, "link": "https://stackoverflow.com/questions/55387755/nameerror-name-c-is-not-defined", "title": "NameError: name &#39;C&#39; is not defined", "body": "<p>Can anyone tell me, why C is not defined?\nI expect an output in the end for C.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bOTQh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bOTQh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1887, "user_id": 3999025, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f179f4542183c3253e22896da1a813be?s=128&d=identicon&r=PG&f=1", "display_name": "Yu Zhang", "link": "https://stackoverflow.com/users/3999025/yu-zhang"}, "edited": false, "score": 0, "creation_date": 1553727775, "post_id": 55387730, "comment_id": 97497352, "body": "Are you worried about racing condition?"}, {"owner": {"reputation": 16300, "user_id": 11015427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JsY7F.jpg?s=128&g=1", "display_name": "gmds", "link": "https://stackoverflow.com/users/11015427/gmds"}, "edited": false, "score": 0, "creation_date": 1553728838, "post_id": 55387730, "comment_id": 97497677, "body": "Do you mean that <code>session_id</code> has to be the same across all instances, or that each instance should have a persistent <code>session_id</code>?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1553732448, "post_id": 55387730, "comment_id": 97498577, "body": "You&#39;re not setting class attributes, you&#39;re setting instance attributes, and yes, that&#39;s the way to do that."}, {"owner": {"reputation": 240, "user_id": 10138038, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156567480546779/picture?type=large", "display_name": "Adam Williamson", "link": "https://stackoverflow.com/users/10138038/adam-williamson"}, "edited": false, "score": 0, "creation_date": 1553732922, "post_id": 55387730, "comment_id": 97498677, "body": "Thank you for the quick responses. Apologies about the wording, I am new to Python classes. I want the session_id to stay the same within each instance."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1553734844, "post_id": 55387730, "comment_id": 97499084, "body": "Adam: Not too big of a deal...in fact it&#39;s a fairly common mistake. One thing a little unusual about Python is that its classes are <a href=\"https://stackoverflow.com/questions/245192/what-are-first-class-objects\">first-class objects</a> and can be assigned to variables and be passed around just like any other object (and can have their own attributes separate those of any instances of them that get created). A pretty useful feature, IMO."}], "answers": [{"tags": [], "owner": {"reputation": 6802, "user_id": 9609843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ceb913f05e91861333b367e0379a8e?s=128&d=identicon&r=PG&f=1", "display_name": "sanyassh", "link": "https://stackoverflow.com/users/9609843/sanyassh"}, "is_accepted": true, "score": 2, "last_activity_date": 1553727875, "creation_date": 1553727875, "answer_id": 55387808, "question_id": 55387730, "link": "https://stackoverflow.com/questions/55387730/how-to-correctly-set-class-attributes-from-methods-that-need-to-be-persistent/55387808#55387808", "title": "How to correctly set class attributes from methods that need to be persistent?", "body": "<p>Tre preferred way is to set <code>session_id</code> only once in <code>__init__</code> method so after initialization it stays persistent during the whole lifetime of the object. And just not change it after initialization.</p>\n\n<p>Something like this:</p>\n\n<pre><code>import random\n\nclass classTest():\n    def __init__(self):\n        self.session_id = random.randrange(0,1000)\n\n    def use_session_id(self):\n        print(self.session_id)\n\n    def use_session_id_again(self):\n        print(self.session_id)\n\ntest = classTest()  # session_id is set here\ntest.use_session_id()  # will print session id\ntest.use_session_id_again()  # will print the same session id\n</code></pre>\n"}], "owner": {"reputation": 240, "user_id": 10138038, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156567480546779/picture?type=large", "display_name": "Adam Williamson", "link": "https://stackoverflow.com/users/10138038/adam-williamson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55387808, "answer_count": 1, "score": 0, "last_activity_date": 1553732205, "creation_date": 1553727433, "last_edit_date": 1553732205, "question_id": 55387730, "link": "https://stackoverflow.com/questions/55387730/how-to-correctly-set-class-attributes-from-methods-that-need-to-be-persistent", "title": "How to correctly set class attributes from methods that need to be persistent?", "body": "<p>I am building a class that has a number of methods to request different data from the same website. The catch is the session_id needs to stay persistent across all instance methods. </p>\n\n<p>I have written some mock code below and was wondering if this is the correct way to go about it or have I got it all wrong?  </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import random\n\nclass classTest():\n    def __init__(self):\n        self.session_id = None\n\n    def set_session_id(self):\n        if self.session_id == None:\n            self.session_id = random.randrange(0,1000)\n        return self.session_id\n\n    def use_session_id(self):\n        return self.set_session_id()\n\n    def use_session_id_again(self):\n        return self.set_session_id()\n</code></pre>\n\n<p>In the above example I mocked the session_id with a random number and when I test the two different methods I get persistent results, which means it is working great... but is this the correct way to achieve this? Can anyone advise on a better / proper way to do this?</p>\n"}, {"tags": ["python", "beautifulsoup", "urllib", "findall"], "comments": [{"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 1, "creation_date": 1553728677, "post_id": 55387710, "comment_id": 97497629, "body": "I think you just got unlucky. Look at the page source. You&#39;ll notice for &quot;product&quot; there is a rogue space after the name: <code>class=&quot;product &quot;</code>, which means you are referencing a class that doesn&#39;t exist. If you do Ctr+F for <code>class=&quot;product&quot;</code>, you&#39;ll find 0 results, but for <code>class=&quot;product &quot;</code>, you&#39;ll find 54."}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "edited": false, "score": 1, "creation_date": 1553742144, "post_id": 55387710, "comment_id": 97500533, "body": "Please don&#39;t post pictures of code. Use the snippet tool via <a href=\"https://stackoverflow.com/posts/55387710/edit\">edit</a> to include html and for python code, insert, select code and press Ctrl + K."}, {"owner": {"reputation": 1964, "user_id": 2123706, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7f9f8aacaafd903d700846efd805bd55?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/2123706/alex"}, "edited": false, "score": 0, "creation_date": 1553765604, "post_id": 55387710, "comment_id": 97508776, "body": "noted. Removed pictures of code"}], "answers": [{"comments": [{"owner": {"reputation": 1964, "user_id": 2123706, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7f9f8aacaafd903d700846efd805bd55?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/2123706/alex"}, "edited": false, "score": 0, "creation_date": 1553815788, "post_id": 55393239, "comment_id": 97537079, "body": "Unfortunately, I am having issues installing selenium:  WebDriverException: Message: &#39;geckodriver&#39; executable needs to be in PATH. Hoping once I solve that, I can accept your answer"}, {"owner": {"reputation": 2227, "user_id": 2437141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PmnfV.jpg?s=128&g=1", "display_name": "Maaz", "link": "https://stackoverflow.com/users/2437141/maaz"}, "reply_to_user": {"reputation": 1964, "user_id": 2123706, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7f9f8aacaafd903d700846efd805bd55?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/2123706/alex"}, "edited": false, "score": 0, "creation_date": 1553845552, "post_id": 55393239, "comment_id": 97544646, "body": "You can check here for this: <a href=\"https://stackoverflow.com/questions/40208051/selenium-using-python-geckodriver-executable-needs-to-be-in-path\" title=\"selenium using python geckodriver executable needs to be in path\">stackoverflow.com/questions/40208051/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2227, "user_id": 2437141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PmnfV.jpg?s=128&g=1", "display_name": "Maaz", "link": "https://stackoverflow.com/users/2437141/maaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1553762415, "creation_date": 1553762415, "answer_id": 55393239, "question_id": 55387710, "link": "https://stackoverflow.com/questions/55387710/soup-findall-returning-empty-list/55393239#55393239", "title": "soup.findAll returning empty list", "body": "<p>The page content is loaded with javascript, so you can't just use <code>BeautifulSoup</code> to parse it. You have to use another module like <code>selenium</code> to simulate javacript execution.</p>\n\n<p>Here is an exemple:</p>\n\n<pre><code>from bs4 import BeautifulSoup as soup\nfrom selenium import webdriver\n\nurl='https://www.sainsburys.co.uk/webapp/wcs/stores/servlet/SearchDisplayView?catalogId=10123&amp;langId=44&amp;storeId=10151&amp;krypto=70KutR16JmLgr7Ka%2F385RFXrzDpOkSqx%2FRC3DnlU09%2BYcw0pR5cfIfC0kOlQywiD%2BTEe7ppq8ENXglbpqA8sDUtif1h3ZjrEoQkV29%2B90iqljHi2gm2T%2BDZHH2%2FCNeKB%2BkVglbz%2BNx1bKsSfE5L6SVtckHxg%2FM%2F%2FVieWp8vgaJTan0k1WrPjCrVuDs5WnbRN#langId=44&amp;storeId=10151&amp;catalogId=10123&amp;categoryId=&amp;parent_category_rn=&amp;top_category=&amp;pageSize=60&amp;orderBy=RELEVANCE&amp;searchTerm=milk&amp;beginIndex=0&amp;hideFilters=true&amp;categoryFacetId1='\n\ndriver = webdriver.Firefox()\ndriver.get(url)\n\npage = driver.page_source\npage_soup = soup(page,'html.parser')\n\ncontainers = page_soup.findAll(\"div\",{\"class\":\"product\"})\nprint(containers)\nprint(len(containers))\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>[\n&lt;div class=\"product \"&gt; ...\n...,\n&lt;div class=\"product hl-product hookLogic highlighted straplineRow\" ...    \n]\n\n64\n</code></pre>\n"}], "owner": {"reputation": 1964, "user_id": 2123706, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7f9f8aacaafd903d700846efd805bd55?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/2123706/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1410, "favorite_count": 0, "accepted_answer_id": 55393239, "answer_count": 1, "score": 1, "last_activity_date": 1553765576, "creation_date": 1553727310, "last_edit_date": 1553765576, "question_id": 55387710, "link": "https://stackoverflow.com/questions/55387710/soup-findall-returning-empty-list", "title": "soup.findAll returning empty list", "body": "<p>I am trying to scrape with soup and am obtaining an empty set when I call findAll</p>\n\n<pre><code>from urllib.request import urlopen as uReq\nfrom bs4 import BeautifulSoup as soup\n\nmy_url='https://www.sainsburys.co.uk/webapp/wcs/stores/servlet/SearchDisplayView?catalogId=10123&amp;langId=44&amp;storeId=10151&amp;krypto=70KutR16JmLgr7Ka%2F385RFXrzDpOkSqx%2FRC3DnlU09%2BYcw0pR5cfIfC0kOlQywiD%2BTEe7ppq8ENXglbpqA8sDUtif1h3ZjrEoQkV29%2B90iqljHi2gm2T%2BDZHH2%2FCNeKB%2BkVglbz%2BNx1bKsSfE5L6SVtckHxg%2FM%2F%2FVieWp8vgaJTan0k1WrPjCrVuDs5WnbRN#langId=44&amp;storeId=10151&amp;catalogId=10123&amp;categoryId=&amp;parent_category_rn=&amp;top_category=&amp;pageSize=60&amp;orderBy=RELEVANCE&amp;searchTerm=milk&amp;beginIndex=0&amp;hideFilters=true&amp;categoryFacetId1='\n\nuClient = uReq(my_url)\npage_html = uClient.read()\nuClient.close()\n\npage_soup = soup(page_html,'html.parser')\n\ncontainers = page_soup.findAll(\"div\",{\"class\":\"product\"}) \ncontainers\n</code></pre>\n\n<p>I also got empty datasets from these articles:\n <a href=\"https://stackoverflow.com/questions/43940822/findall-returning-empty-for-html\">findAll returning empty for html</a></p>\n\n<p>and <a href=\"https://stackoverflow.com/questions/47141049/beautifulsoup-find-all-returns-no-data\">BeautifulSoup find_all() returns no data</a></p>\n\n<p>Can anyone offer any help?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553727410, "post_id": 55387699, "comment_id": 97497233, "body": "I think what you want is an <code>&amp;</code> instead of <code>|</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "reply_to_user": {"reputation": 49, "user_id": 4646458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2ca7c0015065fa2b9208681aee15cc?s=128&d=identicon&r=PG&f=1", "display_name": "MakeItFun", "link": "https://stackoverflow.com/users/4646458/makeitfun"}, "edited": false, "score": 0, "creation_date": 1553728439, "post_id": 55387771, "comment_id": 97497564, "body": "Yes, this logic will filter on both name and surname. Do you want the second parameter (name or lastname) to be excluded from the search if it&#39;s omitted, but use both parameters if both are given? I think you need to expand your examples of what you provide and what you expect in your original question to make it a bit more clearer."}, {"owner": {"reputation": 49, "user_id": 4646458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2ca7c0015065fa2b9208681aee15cc?s=128&d=identicon&r=PG&f=1", "display_name": "MakeItFun", "link": "https://stackoverflow.com/users/4646458/makeitfun"}, "edited": false, "score": 0, "creation_date": 1553728924, "post_id": 55387771, "comment_id": 97497699, "body": "Yes, sorry, I will edit to add more examples. Basically what I want is something like &quot;join&quot; both name and surname attributes, so when I search &quot;John&quot; it shows me &quot;John Doe&quot; and &quot;John Smith&quot;, and when i search &quot;John Doe&quot; it shows me only the &quot;John Doe&quot; profile."}, {"owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "reply_to_user": {"reputation": 49, "user_id": 4646458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2ca7c0015065fa2b9208681aee15cc?s=128&d=identicon&r=PG&f=1", "display_name": "MakeItFun", "link": "https://stackoverflow.com/users/4646458/makeitfun"}, "edited": false, "score": 1, "creation_date": 1553731335, "post_id": 55387771, "comment_id": 97498293, "body": "@MakeItFun I understand, I have updated my answer now. It&#39;s now instead a function that applies the filters which you can try"}, {"owner": {"reputation": 49, "user_id": 4646458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2ca7c0015065fa2b9208681aee15cc?s=128&d=identicon&r=PG&f=1", "display_name": "MakeItFun", "link": "https://stackoverflow.com/users/4646458/makeitfun"}, "edited": false, "score": 0, "creation_date": 1553769615, "post_id": 55387771, "comment_id": 97511305, "body": "It works! Thank you. So &#39;qs&#39; only store distinct profiles for every iteration? I don&#39;t get how it really works"}, {"owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "reply_to_user": {"reputation": 49, "user_id": 4646458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2ca7c0015065fa2b9208681aee15cc?s=128&d=identicon&r=PG&f=1", "display_name": "MakeItFun", "link": "https://stackoverflow.com/users/4646458/makeitfun"}, "edited": false, "score": 0, "creation_date": 1553778837, "post_id": 55387771, "comment_id": 97517213, "body": "Basically the function splits the name into parts based on spaces and then filters for each part. So if we enter <b>John Doe</b>, on the first iteration it will  filter out everyone with <b>John</b> in their first or last name. On the next iteration it will filter on the first result, removing everyone who doesn&#39;t have <b>Doe</b> in the first or last name."}], "tags": [], "owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "is_accepted": false, "score": 1, "last_activity_date": 1553731298, "last_edit_date": 1553731298, "creation_date": 1553727698, "answer_id": 55387771, "question_id": 55387699, "link": "https://stackoverflow.com/questions/55387699/searching-name-and-surname-in-django/55387771#55387771", "title": "Searching name and surname in Django", "body": "<p>This is a modified copy/paste from <a href=\"https://stackoverflow.com/a/17361729/10400050\">this answer</a>.</p>\n\n<p>I tried to come up with various ways, but they all required counting rows after each query which would make it really time consuming. Instead, the best way seem to be to split up the text by spaces and apply filters to it:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def get_profiles(text):\n    qs = Profile.objects.all()\n    for term in text.split():\n        qs = qs.filter( Q(name__icontains = term) | Q(surname__icontains = term))\n    return qs\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "is_accepted": false, "score": 3, "last_activity_date": 1553742531, "creation_date": 1553742531, "answer_id": 55389587, "question_id": 55387699, "link": "https://stackoverflow.com/questions/55387699/searching-name-and-surname-in-django/55389587#55389587", "title": "Searching name and surname in Django", "body": "<p>Try this,</p>\n\n<pre><code>from django.db.models import Value as V\nfrom django.db.models.functions import Concat\n\ntext = \"John Doe\"\nProfile.objects.annotate(full_name=Concat('name', V(' '), 'surname')).filter(full_name__icontains=text)</code></pre>\n\n<h2>Reference</h2>\n\n<ol>\n<li><a href=\"https://docs.djangoproject.com/en/dev/ref/models/database-functions/#concat\" rel=\"nofollow noreferrer\"><strong><code>Concat</code></strong> DB fucntion</a><br></li>\n<li><a href=\"https://stackoverflow.com/questions/32559106/django-queryset-filter-after-a-concatenation-of-two-columns\">Django queryset filter after a concatenation of two columns</a>\n\n<hr></li>\n</ol>\n\n<p><strong>Django shell output</strong></p>\n\n<pre><code>In [14]: from django.db.models import Value as V                                                                                                                                                                   \n\nIn [15]: from django.db.models.functions import Concat                                                                                                                                                             \n\nIn [16]: text = \"John Doe\"                                                                                                                                                                                         \n\nIn [17]: Profile.objects.annotate(full_name=Concat('name', V(' '), 'surname')).filter(full_name__icontains=text)                                                                                                   \nOut[17]: &lt;QuerySet [&lt;Profile: John Doe&gt;]&gt;\n\nIn [18]: text = \"john\"                                                                                                                                                                                             \n\nIn [19]: Profile.objects.annotate(full_name=Concat('name', V(' '), 'surname')).filter(full_name__icontains=text)                                                                                                   \nOut[19]: &lt;QuerySet [&lt;Profile: John Doe&gt;, &lt;Profile: John Smith&gt;]&gt;\n\nIn [20]: text=\"smith\"                                                                                                                                                                                              \n\nIn [21]: Profile.objects.annotate(full_name=Concat('name', V(' '), 'surname')).filter(full_name__icontains=text)                                                                                                   \nOut[21]: &lt;QuerySet [&lt;Profile: John Smith&gt;]&gt;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 4646458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2ca7c0015065fa2b9208681aee15cc?s=128&d=identicon&r=PG&f=1", "display_name": "MakeItFun", "link": "https://stackoverflow.com/users/4646458/makeitfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1553742531, "creation_date": 1553727257, "last_edit_date": 1553729025, "question_id": 55387699, "link": "https://stackoverflow.com/questions/55387699/searching-name-and-surname-in-django", "title": "Searching name and surname in Django", "body": "<p>I have this model on Django:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Profile(models.Model):\n  name = models.CharField(max_length=50, blank = False)\n  surname = models.CharField(max_length=100, blank = False)\n  ...\n</code></pre>\n\n<p>For example, I have 2 profiles in the db:</p>\n\n<ul>\n<li>John Doe</li>\n<li>John Smith</li>\n</ul>\n\n<p>I want to do a form search, that searches in both name and surname attributes.</p>\n\n<p>I tried:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>Q(name__icontains=text) | Q(surname__icontains=text)\n</code></pre>\n\n<p>But this doesn't work, for example if I search \"John Doe\" it returns both of them.</p>\n\n<p><strong>Edit</strong>:\nBasically what I want is something like \"joining\" both name and surname attributes to search in, so when I search \"John\" it shows me \"John Doe\" and \"John Smith\", and when i search \"John Doe\" it shows me only the \"John Doe\" profile.</p>\n"}, {"tags": ["python", "python-3.x", "dictionary", "tkinter"], "comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1553727648, "post_id": 55387693, "comment_id": 97497309, "body": "I assume you know your emailadress used for you other account... if so you can send request to SO."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1553730136, "post_id": 55387693, "comment_id": 97498005, "body": "Why are you even using <code>vars</code> here? <b>You should not use dynamically created variables</b>. Use a <i>container</i>, like a <code>dict</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1553730258, "post_id": 55387693, "comment_id": 97498037, "body": "Note, <code>vars()</code> either returns the global namespace, i.e. <code>globals()</code> or the local namespace (if in a function), i.e. <code>locals()</code>. Modifications to <code>globals()</code> dictionaries will actually affect the global namespace, modifications to <code>locals()</code> <b>will not actually affect the local namespace</b>, and if you created your &quot;variables&quot; in the global scope, then try to access them using <code>vars()</code> in a function, they will fail. Don&#39;t use dynamic variables. <b>Use a dict</b>. You are already <i>using</i> dicts, just ones that don&#39;t work how you want them to."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11269077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sean Preston", "link": "https://stackoverflow.com/users/11269077/sean-preston"}, "edited": false, "score": 0, "creation_date": 1553727918, "post_id": 55387764, "comment_id": 97497397, "body": "Thanks for the reply mate. I am at school right now and my Digital Technologies class is about to end, so I will give this a shot when I get home. Thanks again"}, {"owner": {"reputation": 35, "user_id": 11269077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sean Preston", "link": "https://stackoverflow.com/users/11269077/sean-preston"}, "edited": false, "score": 0, "creation_date": 1554062151, "post_id": 55387764, "comment_id": 97604906, "body": "Sorry to get back to you so late, had a bit of a hectic weekend. Have marked as &quot;answered&quot;. Thanks again for the response (:"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1553727668, "creation_date": 1553727668, "answer_id": 55387764, "question_id": 55387693, "link": "https://stackoverflow.com/questions/55387693/cannot-reference-variable-created-with-vars-from-a-dictionary/55387764#55387764", "title": "Cannot reference variable created with &quot;vars()[]&quot; from a dictionary", "body": "<blockquote>\n  <p>I'm at a loss as to what to do at this point.</p>\n</blockquote>\n\n<p>The first thing to do is stop using <code>vars()</code> to create dynamic variables. That is almost never a good idea as it makes your code needlessly complex, hard to write, and hard to debug.</p>\n\n<p>Instead, use a dictionary if you want to reference individual items by name. It would look something like this:</p>\n\n<pre><code>labels = {}\nfor item in comic_books:\n    key= \"{} Stock\".format(item)\n    labels[key] = Label(main, text=item+\":\")\n    labels[key].grid(column=1, row=itteration, padx=5)\n    ...\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11269077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sean Preston", "link": "https://stackoverflow.com/users/11269077/sean-preston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 55387764, "answer_count": 1, "score": 1, "last_activity_date": 1553751696, "creation_date": 1553727219, "last_edit_date": 1553751696, "question_id": 55387693, "link": "https://stackoverflow.com/questions/55387693/cannot-reference-variable-created-with-vars-from-a-dictionary", "title": "Cannot reference variable created with &quot;vars()[]&quot; from a dictionary", "body": "<p>I am tasked with creating in inventory management system for a comic book store as a school python assessment. I currently have a dictionary that has the names of the comics and the stock values of these comics imported from a CSV file;</p>\n\n<pre><code>comic_books =  {}\n\nwith open('data.csv', 'r+',  newline='') as csvfile:\n    csvreader = csv.reader(csvfile)\n    for row in csvreader:\n        comic_books[row[0]] = int(row[1])\n</code></pre>\n\n<p>One of the programs requirements is to ensure the user can see the stock of all comics at once. To do this, I simply created two label widgets for each key in my dictionary using the <code>vars()</code> function (alongside some formatting to ensure things like spaces in the comic names didn't cause conflicts);</p>\n\n<pre><code>itteration = 2\n\nfor item in comic_books:\n\n    vars()[item.replace(\" \", \"\") + \"Stock\"] = Label(main, text=item+\":\")\n    vars()[item.replace(\" \", \"\") + \"Stock\"].grid(column=1, row=itteration, padx=5)\n\n    vars()[item.replace(\" \", \"\") + \"StockAmount\"] = Label(main, text=comic_books[item])\n    vars()[item.replace(\" \", \"\") + \"StockAmount\"].grid(column=2, row=itteration, padx=5)\n    itteration += 1\n</code></pre>\n\n<p>I eventually got below result, which works as expected:</p>\n\n<p><img src=\"https://i.imgur.com/VEwfHut.png\" alt=\"image\"></p>\n\n<p>Basically, my problem is that I am tying to refer to one of these variables later in my code (specifically, this is part of the code that runs when the user sells a comic, in order to update the labels with the new values);</p>\n\n<pre><code>for item in comic_books:\n                vars()[item.replace(\" \", \"\") + \"StockAmount\"].config(text=comic_books[item])\n</code></pre>\n\n<p>This is not working, and whenever the program tries to run the line above, I get this error:</p>\n\n<pre><code>  File \"C:\\Users\\XXX\\Desktop\\pythonAsessment2\\test.py\", line 114, in sellProcess\n    vars()[item.replace(\" \", \"\") + \"Stock\"].config(text=comic_books[item])\nKeyError: 'Comic2Stock'\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 3, "creation_date": 1553727247, "post_id": 55387677, "comment_id": 97497181, "body": "<code>str(todays_date)[0:5]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 10992592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d17f363c7930d420ffe5a74c7c3a91b6?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas Graffman", "link": "https://stackoverflow.com/users/10992592/jonas-graffman"}, "edited": false, "score": 1, "creation_date": 1553728626, "post_id": 55387716, "comment_id": 97497612, "body": "Great! Thanks a lot!"}], "tags": [], "owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "is_accepted": true, "score": 3, "last_activity_date": 1553727354, "creation_date": 1553727354, "answer_id": 55387716, "question_id": 55387677, "link": "https://stackoverflow.com/questions/55387677/printing-part-of-an-integer/55387716#55387716", "title": "Printing part of an integer", "body": "<p>You're almost there:</p>\n\n<pre><code>todays_date = '20190327'\nprint(todays_date[0:5])\n</code></pre>\n\n<p>You just needed to ensure <code>todays_date</code> was a string. Putting quotes around this does that. Alternatively, if you would still like to use <code>todays_date</code> as an integer, you can convert it to a string just for the print statement:</p>\n\n<pre><code>todays_date = 20190327\nprint(str(todays_date)[0:5])\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 10992592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d17f363c7930d420ffe5a74c7c3a91b6?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas Graffman", "link": "https://stackoverflow.com/users/10992592/jonas-graffman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 55387716, "answer_count": 1, "score": 0, "last_activity_date": 1553727354, "creation_date": 1553727162, "question_id": 55387677, "link": "https://stackoverflow.com/questions/55387677/printing-part-of-an-integer", "title": "Printing part of an integer", "body": "<p>I have a quick question.</p>\n\n<p>I just want to print parts of an integer. For example, my integer is today's date: 20190327 \n...and I would like to print the \"03\" part.</p>\n\n<p>Is this even possible with integers?</p>\n\n<p>I would like to do something similar to this:</p>\n\n<pre><code>todays_date = 20190327\nprint(todays_date[0:5])\n</code></pre>\n\n<p>But this doesn't work.\nIs there a simple solution?\nThanks!</p>\n"}, {"tags": ["python", "dictionary", "tuples"], "answers": [{"comments": [{"owner": {"reputation": 481, "user_id": 9329610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dd3eacb1390de2bd6b4bb7cfde70042?s=128&d=identicon&r=PG&f=1", "display_name": "claudiadast", "link": "https://stackoverflow.com/users/9329610/claudiadast"}, "edited": false, "score": 0, "creation_date": 1553729117, "post_id": 55387893, "comment_id": 97497760, "body": "This seems fine to me! If I want the output to be the matching tuples instead of the key, how would I do that?"}, {"owner": {"reputation": 605, "user_id": 736221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0639c670fd8e17cd7823be225de7750b?s=128&d=identicon&r=PG", "display_name": "grahamlyons", "link": "https://stackoverflow.com/users/736221/grahamlyons"}, "reply_to_user": {"reputation": 481, "user_id": 9329610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dd3eacb1390de2bd6b4bb7cfde70042?s=128&d=identicon&r=PG&f=1", "display_name": "claudiadast", "link": "https://stackoverflow.com/users/9329610/claudiadast"}, "edited": false, "score": 0, "creation_date": 1553730598, "post_id": 55387893, "comment_id": 97498136, "body": "Change the item which is stored in the resulting list; this line <code>k for k, v in d.items()</code> becomes <code>v for k, v in d.items()</code> (or indeed <code>v for _, v in d.items()</code>, because <code>k</code> isn&#39;t used)."}, {"owner": {"reputation": 605, "user_id": 736221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0639c670fd8e17cd7823be225de7750b?s=128&d=identicon&r=PG", "display_name": "grahamlyons", "link": "https://stackoverflow.com/users/736221/grahamlyons"}, "reply_to_user": {"reputation": 481, "user_id": 9329610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dd3eacb1390de2bd6b4bb7cfde70042?s=128&d=identicon&r=PG&f=1", "display_name": "claudiadast", "link": "https://stackoverflow.com/users/9329610/claudiadast"}, "edited": false, "score": 0, "creation_date": 1553730825, "post_id": 55387893, "comment_id": 97498193, "body": "Oh wait, that returns all the tuples for the matching keys."}, {"owner": {"reputation": 605, "user_id": 736221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0639c670fd8e17cd7823be225de7750b?s=128&d=identicon&r=PG", "display_name": "grahamlyons", "link": "https://stackoverflow.com/users/736221/grahamlyons"}, "reply_to_user": {"reputation": 481, "user_id": 9329610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dd3eacb1390de2bd6b4bb7cfde70042?s=128&d=identicon&r=PG&f=1", "display_name": "claudiadast", "link": "https://stackoverflow.com/users/9329610/claudiadast"}, "edited": false, "score": 1, "creation_date": 1553731477, "post_id": 55387893, "comment_id": 97498333, "body": "You can go over the list and use the keys to pull out the lists of tuples and then do the same logic on them that&#39;s inside the <code>any()</code> function: <code>[(i, j) for k in [k for k, v in d.items() if any((i, j) for i, j in v for x, y in v if i != x and j == y)] for i, j in d[k] for x, y in d[k] if i != x and j == y]</code>. It&#39;s really starting to take shape now! A terrible shape."}, {"owner": {"reputation": 481, "user_id": 9329610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dd3eacb1390de2bd6b4bb7cfde70042?s=128&d=identicon&r=PG&f=1", "display_name": "claudiadast", "link": "https://stackoverflow.com/users/9329610/claudiadast"}, "edited": false, "score": 0, "creation_date": 1553789972, "post_id": 55387893, "comment_id": 97525358, "body": "Alright, I tried that, and have noticed that I&#39;m getting duplicates in the result, so I tried set-ifying the result but keep getting errors like <code>unhashable type &#39;list&#39;</code>"}, {"owner": {"reputation": 605, "user_id": 736221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0639c670fd8e17cd7823be225de7750b?s=128&d=identicon&r=PG", "display_name": "grahamlyons", "link": "https://stackoverflow.com/users/736221/grahamlyons"}, "reply_to_user": {"reputation": 481, "user_id": 9329610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dd3eacb1390de2bd6b4bb7cfde70042?s=128&d=identicon&r=PG&f=1", "display_name": "claudiadast", "link": "https://stackoverflow.com/users/9329610/claudiadast"}, "edited": false, "score": 0, "creation_date": 1553793617, "post_id": 55387893, "comment_id": 97527501, "body": "<code>set</code> uses hash tables underneath so all the elements need to be hashable. To be hashable they have to be immutable and <code>list</code> can be modified. Have you tried this solution: <a href=\"https://stackoverflow.com/a/55388030/736221\">stackoverflow.com/a/55388030/736221</a>"}], "tags": [], "owner": {"reputation": 605, "user_id": 736221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0639c670fd8e17cd7823be225de7750b?s=128&d=identicon&r=PG", "display_name": "grahamlyons", "link": "https://stackoverflow.com/users/736221/grahamlyons"}, "is_accepted": false, "score": 1, "last_activity_date": 1553728478, "creation_date": 1553728478, "answer_id": 55387893, "question_id": 55387676, "link": "https://stackoverflow.com/questions/55387676/how-to-identify-partial-tuple-matches-in-a-list-of-tuples/55387893#55387893", "title": "How to identify partial tuple matches in a list of tuples", "body": "<p>Would a convoluted list-comprehension be of interest to you?</p>\n\n<pre><code>[\n  k for k, v in d.items()\n  if any(\n    (i, j)\n    for i, j in v\n    for x, y in v\n    if i != x and j == y\n  )\n]\n&gt;&gt;&gt; ['ENSG00000186092']\n</code></pre>\n\n<ol>\n<li>Loops over the dictionary</li>\n<li>Loops over the list of tuples for each key</li>\n<li>For each tuple, loops through the same list and checks to see that the first entries don't match but the second do</li>\n<li>If there are any found then record that key from step 2.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "is_accepted": false, "score": 0, "last_activity_date": 1553728948, "creation_date": 1553728948, "answer_id": 55387972, "question_id": 55387676, "link": "https://stackoverflow.com/questions/55387676/how-to-identify-partial-tuple-matches-in-a-list-of-tuples/55387972#55387972", "title": "How to identify partial tuple matches in a list of tuples", "body": "<p>Being very verbose:</p>\n\n<pre><code>d = {\n    \"ENSG00000186092\": [\n        (\"ENST00000641515\", \"3\"),\n        (\"ENST00000641515\", \"1\"),\n        (\"ENST00000641515\", \"2\"),\n        (\"ENST00000335137\", \"1\"),\n    ],\n    \"ENSG00000284662\": [(\"ENST00000332831\", \"1\")],\n    \"ENSG00000284733\": [(\"ENST00000426406\", \"1\")],\n}\n\ndef has_duplicates(list_of_tuples):\n    seen = set()\n    for _, value in list_of_tuples:\n        if value in seen:\n            return True\n        seen.add(value)\n    return False\n\ndupes = [key for key, value in d.items() if has_duplicates(value)]\n\nprint(dupes)\n</code></pre>\n\n<p>The <code>has_duplicates</code> function takes a value from your dictionary. It returns True if any of the tuples in that value have the same second value.</p>\n\n<p>The list comprehension at the return gives you all the keys were <code>has_duplicates</code> is True.</p>\n"}, {"tags": [], "owner": {"reputation": 12519, "user_id": 423926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65539c07af4918433a89bcb298d75ca7?s=128&d=identicon&r=PG", "display_name": "mujjiga", "link": "https://stackoverflow.com/users/423926/mujjiga"}, "is_accepted": false, "score": 1, "last_activity_date": 1553729676, "last_edit_date": 1553729676, "creation_date": 1553729299, "answer_id": 55388030, "question_id": 55387676, "link": "https://stackoverflow.com/questions/55387676/how-to-identify-partial-tuple-matches-in-a-list-of-tuples/55388030#55388030", "title": "How to identify partial tuple matches in a list of tuples", "body": "<pre><code>d = {'ENSG00000186092': [('ENST00000641515', '3'),\n                        ('ENST00000641515', '1'),\n                        ('ENST00000641515', '2'),\n                        ('ENST00000335137', '1')],\n    'ENSG00000284662': [('ENST00000332831', '1')],\n    'ENSG00000284733': [('ENST00000426406', '1')]}\n\nfor k, a in d.items():\n    a_s = sorted(a, key=lambda x: (x[1], x[0]))\n    for i in range(len(a_s)-1):\n        if a_s[i][1] == a_s[i+1][1] and a_s[i][0] != a_s[i+1][0]:\n            print (k, a_s[i], a_s[i+1])\n</code></pre>\n\n<ul>\n<li>Sort the tuples by second element then by first element of the tuples so that the tuples come together by second element and then by first element</li>\n<li>Check the condition between current tuple and next tuple in the sorted list and print them if condition is met</li>\n<li><strong>Time Complexity</strong> if <code>d</code> has <code>k</code> items and list size is 'n' then it is <code>O(k*nlogn)</code> [<code>k</code> for outer loop and <code>nlogn</code> for sorting]</li>\n</ul>\n"}], "owner": {"reputation": 481, "user_id": 9329610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dd3eacb1390de2bd6b4bb7cfde70042?s=128&d=identicon&r=PG&f=1", "display_name": "claudiadast", "link": "https://stackoverflow.com/users/9329610/claudiadast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1553729676, "creation_date": 1553727143, "last_edit_date": 1553727559, "question_id": 55387676, "link": "https://stackoverflow.com/questions/55387676/how-to-identify-partial-tuple-matches-in-a-list-of-tuples", "title": "How to identify partial tuple matches in a list of tuples", "body": "<p>If I have a dictionary consisting of a list of tuples like so:</p>\n\n<pre><code>d = {'ENSG00000186092': [('ENST00000641515', '3'),\n                        ('ENST00000641515', '1'),\n                        ('ENST00000641515', '2'),\n                        ('ENST00000335137', '1')],\n    'ENSG00000284662': [('ENST00000332831', '1')],\n    'ENSG00000284733': [('ENST00000426406', '1')]}\n</code></pre>\n\n<p>How can I identify if, for each key, there are tuples whereby the first element of the tuples don't match but the second elements do?</p>\n\n<p>For instance, in the above example, we would only see one \"hit\", and that'd be for the key <code>ENSG00000186092</code> because of:</p>\n\n<pre><code>('ENST00000641515', '1')\n('ENST00000335137', '1')\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6120, "user_id": 9214517, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uHHGLaUqJK4/AAAAAAAAAAI/AAAAAAAAAAA/EMWzo-f2N9c/photo.jpg?sz=128", "display_name": "adrtam", "link": "https://stackoverflow.com/users/9214517/adrtam"}, "edited": false, "score": 0, "creation_date": 1553727074, "post_id": 55387645, "comment_id": 97497121, "body": "do you mutate a list while you are traversing it"}, {"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1553727099, "post_id": 55387645, "comment_id": 97497130, "body": "There&#39;s no guarantee of safety here - you&#39;re still modifying the list while you&#39;re traversing it."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1553727142, "post_id": 55387645, "comment_id": 97497143, "body": "BAD idea- that it works is a sideeffect of your list getten shortend while iterating."}], "answers": [{"tags": [], "owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "is_accepted": false, "score": 1, "last_activity_date": 1553727594, "last_edit_date": 1553727594, "creation_date": 1553727373, "answer_id": 55387720, "question_id": 55387645, "link": "https://stackoverflow.com/questions/55387645/can-someone-explain-why-this-for-loop-works-correctly/55387720#55387720", "title": "Can someone explain why this for loop works correctly?", "body": "<p>There is no reason to actually remove the value if it's not <code>13</code>, you can just skip over it.</p>\n\n<pre><code>def sum13(nums):\n    i = 0\n    skip = False\n    for elem in nums:\n        if elem != 13 and not skip:\n            i = i + elem\n        else:\n            if skip:\n                skip = False # Stop skipping\n            else:\n                skip = True\n    return i\n</code></pre>\n\n<p>Then <code>sum13([5, 13, 2, 1])</code> will return <code>6</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1553727694, "creation_date": 1553727694, "answer_id": 55387769, "question_id": 55387645, "link": "https://stackoverflow.com/questions/55387645/can-someone-explain-why-this-for-loop-works-correctly/55387769#55387769", "title": "Can someone explain why this for loop works correctly?", "body": "<p>The better way to do this is to make <code>nums</code> an explicit iterator, and use <code>next</code> to consume a value from it (the next value that should be skipped) when you find a <code>13</code>.</p>\n\n<pre><code>def sum13(nums):\n    BLACKLIST_NUMBER = 13\n    total = 0\n    iter_nums = iter(nums)\n\n    for num in iter_nums:\n        if num == BLACKLIST_NUMBER:\n            next(iter_nums, None)  # the None assures safety if 13 is the last number in sequence\n        else:\n            total += num\n\n    return total\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11269083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d104062682caa1ca29a3a82a63711532?s=128&d=identicon&r=PG&f=1", "display_name": "datakhalipha", "link": "https://stackoverflow.com/users/11269083/datakhalipha"}, "edited": false, "score": 0, "creation_date": 1553728823, "post_id": 55387776, "comment_id": 97497670, "body": "That explains why I could never get the 2 to print, thank you I am new to development and python as you can see. I am impressed by the speed of the responses on stack overflow."}, {"owner": {"reputation": 3, "user_id": 11269083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d104062682caa1ca29a3a82a63711532?s=128&d=identicon&r=PG&f=1", "display_name": "datakhalipha", "link": "https://stackoverflow.com/users/11269083/datakhalipha"}, "edited": false, "score": 0, "creation_date": 1553728887, "post_id": 55387776, "comment_id": 97497690, "body": "I will remember to not to modify the list from here on out. Really appreciate the help!"}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1553728215, "last_edit_date": 1553728215, "creation_date": 1553727708, "answer_id": 55387776, "question_id": 55387645, "link": "https://stackoverflow.com/questions/55387645/can-someone-explain-why-this-for-loop-works-correctly/55387776#55387776", "title": "Can someone explain why this for loop works correctly?", "body": "<p>Your code \"works\" because you shorten the list and so 2 is never been \"seen\" by your loop. Do not modify the list you iterate over.</p>\n\n<p>What happens is you loop over <code>[5, 13, 2]</code>:</p>\n\n<pre><code>1st value is 5, 5 is not 13 so it is added\n2nd value is 13 and not added, you delete 13 from your list - it becomes [5,2]\n3rd value ... is no longer there, list is only 2 long, loop never looks at 2\n</code></pre>\n\n<p>It is a common misconception, see f.e. my <a href=\"https://stackoverflow.com/questions/55346748/for-loop-exits-when-exception-occurs-even-with-continue-statement/55346898#55346898\">answer</a> from 2 days ago.</p>\n\n<hr>\n\n<p>You can remember if you need to skip a number:</p>\n\n<pre><code>def sum13(l):\n    skip=False\n    s = 0\n    for i in l:\n        if i==13:\n            skip = True\n        elif skip:\n            skip = False\n        else:\n            s += i\n    return s\n\n\n\nprint(sum13([5, 13, 2, 21]))  # 26\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11269083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d104062682caa1ca29a3a82a63711532?s=128&d=identicon&r=PG&f=1", "display_name": "datakhalipha", "link": "https://stackoverflow.com/users/11269083/datakhalipha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1553727932, "accepted_answer_id": 55387769, "answer_count": 3, "score": -1, "last_activity_date": 1553728215, "creation_date": 1553726902, "last_edit_date": 1553727003, "question_id": 55387645, "link": "https://stackoverflow.com/questions/55387645/can-someone-explain-why-this-for-loop-works-correctly", "closed_reason": "Duplicate", "title": "Can someone explain why this for loop works correctly?", "body": "<p>I created a for loop that calculates the sum of a list with the exception of the integer 13 and the integer that comes after it. My loop works but I do not know why, can anyone help explain?</p>\n\n<p>I have tried to print various parts of the loop to understand what it is doing. It successfully omits the 13 from the sum but I don't understand why the 2 is also getting skipped. </p>\n\n<pre><code>    nums = [5, 13, 2]\n\n    def sum13(nums):\n        i = 0\n        for elem in nums:\n            if elem != 13:\n                i = i + elem\n            else:\n                nums.remove(elem)\n        return i\n</code></pre>\n"}, {"tags": ["python", "pandas", "split"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1553727237, "post_id": 55387638, "comment_id": 97497177, "body": "Its a dupe, try df[&#39;col&#39;].str.split(&#39;;&#39;).str[0]"}], "answers": [{"tags": [], "owner": {"reputation": 4399, "user_id": 8605685, "user_type": "registered", "profile_image": "https://graph.facebook.com/1617447244946495/picture?type=large", "display_name": "Matthew Salvatore Viglione", "link": "https://stackoverflow.com/users/8605685/matthew-salvatore-viglione"}, "is_accepted": true, "score": 1, "last_activity_date": 1553727077, "creation_date": 1553727077, "answer_id": 55387666, "question_id": 55387638, "link": "https://stackoverflow.com/questions/55387638/how-to-split-text-only-until-the-first-split-in-a-dataframe/55387666#55387666", "title": "How to split text only until the first split in a dataframe?", "body": "<p>You could extract your first column just as you are already doing, and then split on the semicolon and take the first element of the result. </p>\n\n<pre><code>first_tag = col.split(';')[0]\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11145136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qyiGK.jpg?s=128&g=1", "display_name": "Vaibhav Saxena", "link": "https://stackoverflow.com/users/11145136/vaibhav-saxena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1553727268, "accepted_answer_id": 55387666, "answer_count": 1, "score": 0, "last_activity_date": 1584573755, "creation_date": 1553726848, "last_edit_date": 1584573755, "question_id": 55387638, "link": "https://stackoverflow.com/questions/55387638/how-to-split-text-only-until-the-first-split-in-a-dataframe", "closed_reason": "Duplicate", "title": "How to split text only until the first split in a dataframe?", "body": "<p>I have a data-set in which there are two columns: <code>Industry Classifications</code> and <code>Stock Tickers</code>. A company has multiple tags in its <code>Industry Classification</code> column separated by a <code>;</code> delimiter. I want to select only the first tag.</p>\n\n<pre><code>import pandas as pd\ntraining = pd.read_excel('Training Data.xlsx')\n</code></pre>\n\n<p>Current file structure: (This is sample of the column)</p>\n\n<pre><code>Industry Classifications\nBeauty Care Products (Primary); Consumer Staples (Primary); Hair Care Products (Primary);\n\nCatalog Flowers, Gifts and Novelties (Primary); Catalog Hobbies, Games and Toy Retail (Primary);\n\nInformation Technology (Primary); Internet Software and Services (Primary);\nCasualty (Primary); Financials (Primary); Fire and Marine Insurance (Primary); \n\nCommercial and Professional Services (Primary); Commercial Services and Supplies (Primary); \n\nBanks (Primary); Banks (Primary); Diversified Banks (Primary); Financials (Primary); \n\nApplication Software (Primary); Information Technology (Primary); Software (Primary);\n\nCommercial and Professional Services (Primary); Consulting Services (Primary); Industrials (Primary);\n\nBanks (Primary); Banks (Primary); Financials (Primary); National and State Commercial Banks (Primary); \n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>Industry Classifications\n\nBeauty Care Products (Primary)\n\nCatalog Flowers\n\nInformation Technology (Primary)\n\nCasualty (Primary)\n\nCommercial and Professional Services (Primary) \n\nBanks (Primary); Banks (Primary)\n\nApplication Software (Primary)\n\nCommercial and Professional Services (Primary)\n\nBanks (Primary); Banks (Primary)\n</code></pre>\n"}, {"tags": ["python", "dataframe"], "comments": [{"owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "edited": false, "score": 0, "creation_date": 1553734375, "post_id": 55387604, "comment_id": 97498998, "body": "Please use a WHERE clause for  month.  &#39;SELECT &quot;Movie ID&quot;, Date, Gross FROM daily WHERE DATEPART(month, Date) = 10&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 1772, "user_id": 2421817, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GFWOi.jpg?s=128&g=1", "display_name": "kerwei", "link": "https://stackoverflow.com/users/2421817/kerwei"}, "is_accepted": true, "score": 1, "last_activity_date": 1553739050, "creation_date": 1553739050, "answer_id": 55389178, "question_id": 55387604, "link": "https://stackoverflow.com/questions/55387604/how-can-i-get-the-data-from-only-october-in-my-dataframe/55389178#55389178", "title": "How can I get the data from only October in my dataframe?", "body": "<p>Here's one way to do it with list comprehension, assuming that your <em>Date</em> column is already in <code>DateTime</code> format</p>\n\n<p><code>df_oct = pd.DataFrame([df.iloc[i] for i, x in enumerate(df.Date) if x.month == 10])</code></p>\n"}], "owner": {"reputation": 5, "user_id": 11064204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bab9e199ffbc79a27409c1c3dfc081d?s=128&d=identicon&r=PG&f=1", "display_name": "T. Kessels", "link": "https://stackoverflow.com/users/11064204/t-kessels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 55389178, "answer_count": 1, "score": 0, "last_activity_date": 1553739050, "creation_date": 1553726696, "last_edit_date": 1553732649, "question_id": 55387604, "link": "https://stackoverflow.com/questions/55387604/how-can-i-get-the-data-from-only-october-in-my-dataframe", "title": "How can I get the data from only October in my dataframe?", "body": "<p>Hello I have a dataframe over multiple years of data. But I only want the data from October. I tried this via a query but this would not help. here is my code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>query_1 = 'SELECT \"Movie ID\", Date, Gross FROM daily'\n\nquery_2 = 'SELECT \"Movie ID\", Genre FROM movies'\n\ncur = conn.cursor()\n\ncur.execute(query_1)\n\nDaily_gross = pd.read_sql_query(query_1, conn)\n\nMovies = pd.read_sql_query(query_2, conn)\n\ndf_q1 = pd.merge(Daily_gross, Movies)\n\ndf_q1_Horror = df_q1[df_q1.Genre == 'Horror']\n\ndf_q1_Horror\n</code></pre>\n"}, {"tags": ["python", "openpyxl", "libreoffice-calc"], "comments": [{"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1553771804, "post_id": 55387587, "comment_id": 97512694, "body": "When writing formulae it&#39;s always worth looking at the XML source because the various programs employ lots of magic such as translations in the GUI."}], "answers": [{"comments": [{"owner": {"reputation": 1238, "user_id": 553596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75aa7b74c7fea29f67d27bca6716453?s=128&d=identicon&r=PG", "display_name": "moggi", "link": "https://stackoverflow.com/users/553596/moggi"}, "edited": false, "score": 0, "creation_date": 1553800571, "post_id": 55388194, "comment_id": 97531167, "body": "You are mixing display formula representation and OOXML file format representation. According to section 18.17.2.3 of the OOXML spec the separator between a sheet name and the A1 reference part has to be &#39;!&#39;. Apparently, Excel also handles the non-standard &#39;.&#39; separator character. There are a few cases where the display formula and the file format formulas differ and you need to handle them when you create files yourself."}], "tags": [], "owner": {"reputation": 36, "user_id": 5754960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eab0d2d7443a156549fc1060b497127?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Gilgen", "link": "https://stackoverflow.com/users/5754960/joseph-gilgen"}, "is_accepted": false, "score": 1, "last_activity_date": 1553730763, "creation_date": 1553730763, "answer_id": 55388194, "question_id": 55387587, "link": "https://stackoverflow.com/questions/55387587/how-to-prevent-closing-parenthesis-from-being-appended-to-my-formula-in-openpyxl/55388194#55388194", "title": "How to prevent closing parenthesis from being appended to my formula in openpyxl", "body": "<p>So the issue actually had nothing to do with openpyxl. But was with LibreOffice.</p>\n\n<p>I looked into the generated xml files, and found that value was exactly as expected. The issue is that LibreOffice Calc references another sheet as <code>sheet2.A1</code> and Microsoft Excel references it as <code>sheet2!A1</code>. I suppose that since the sheet was being saved as a <code>.xlsx</code> it makes sense to use the Excel format.</p>\n\n<p>The file now opens correctly in Microsoft Excel and LibreOffice Calc after updating the string from\n<code>\"=VLOOKUP(A{}, $'lookup_table'.A1:B3, 2, 0) - B{}\".format(i + 1, i + 1)</code></p>\n\n<p>to</p>\n\n<p><code>\"=VLOOKUP(A{}, 'lookup_table'!A1:B3, 2, 0) - B{}\".format(i + 1, i + 1)</code></p>\n"}], "owner": {"reputation": 36, "user_id": 5754960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eab0d2d7443a156549fc1060b497127?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Gilgen", "link": "https://stackoverflow.com/users/5754960/joseph-gilgen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553730841, "creation_date": 1553726604, "last_edit_date": 1553730841, "question_id": 55387587, "link": "https://stackoverflow.com/questions/55387587/how-to-prevent-closing-parenthesis-from-being-appended-to-my-formula-in-openpyxl", "title": "How to prevent closing parenthesis from being appended to my formula in openpyxl", "body": "<p>I am trying to provide a link that will download an autogenerated spreadsheet, and am attempting to use openpyxl to create the spreadsheet. It is almost working, except for one small detail: when I try to use a formula as the value of the cell, there is a closing parenthesis appended to the end in the saved spreadsheet. This results in a #NAME? error.</p>\n\n<p>Namely, I use something like this as the value</p>\n\n<p><code>\"=VLOOKUP(A{}, $'lookup_table'.A1:B3, 2, 0) - B{}\".format(i + 1, i + 1)</code></p>\n\n<p>and the resulting value in the spreadsheet is something like (I open it with LibreOffice Calc)</p>\n\n<p><code>=VLOOKUP(A1, $'lookup_table'.A1:B3, 2, 0) - B1)</code></p>\n\n<p>Notice the extra parenthesis after the B1.</p>\n\n<p>I have dug around the internet for a solution, but have kept coming up empty. Any guidance on how to make this format correctly?</p>\n\n<p>minimal code example</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from openpyxl import Workbook\n\nwb = Workbook()\nws = wb.active\n\nws1 = wb.create_sheet(title=\"lookup_table\")\nlookup_table = {\"one\": 1, \"two\": 2, \"three\": 3}\nfor row, (key, value) in enumerate(lookup_table.items()):\n    ws1.cell(column=1, row=row + 1, value=key)\n    ws1.cell(column=2, row=row + 1, value=value)\n\nfor i, value in enumerate([\"one\", \"two\", \"three\"]):\n    ws.cell(column=1, row=i + 1, value=value)\n    ws.cell(column=2, row=i + 1, value=lookup_table[value])\n    ws.cell(\n        column=3,\n        row=i + 1,\n        value=\"=VLOOKUP(A{}, $'lookup_table'.A1:B3, 2, 0) - B{}\".format(i + 1, i + 1),\n    )\n\n\nwb.save(\"test.xlsx\")\n</code></pre>\n"}, {"tags": ["python", "dbscan"], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 11256286, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20Ks29jXiqU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJo94FpID65gMoGKj5tvPI-fjYFg/mo/photo.jpg?sz=128", "display_name": "PM Hui", "link": "https://stackoverflow.com/users/11256286/pm-hui"}, "is_accepted": false, "score": 1, "last_activity_date": 1553726796, "creation_date": 1553726796, "answer_id": 55387627, "question_id": 55387566, "link": "https://stackoverflow.com/questions/55387566/dbscan-eps-incorrect-behaviour/55387627#55387627", "title": "DBSCAN eps incorrect behaviour", "body": "<p>To point out why they are in the same cluster, let me give you a high-level explanation of what DBSCAN does.</p>\n\n<ol>\n<li>Construct a graph by connecting data points</li>\n<li>Measure size of each connected component</li>\n<li>Discard the components smaller than a threshold, which in <code>sklearn</code> is the <code>min_sample</code> parameter.</li>\n</ol>\n\n<p><code>esp</code> controls the maximum distance for which you connect two data points. For your dataset, with the notation of [a-b] denoting connections, you have:</p>\n\n<p>[9-11], [11-13], [13-14], [14-15]</p>\n\n<p>So these points are all in the same component, and the component is larger than your <code>min_sample</code> parameter, so it is considered a valid cluster.</p>\n"}, {"tags": [], "owner": {"reputation": 4399, "user_id": 8605685, "user_type": "registered", "profile_image": "https://graph.facebook.com/1617447244946495/picture?type=large", "display_name": "Matthew Salvatore Viglione", "link": "https://stackoverflow.com/users/8605685/matthew-salvatore-viglione"}, "is_accepted": false, "score": 1, "last_activity_date": 1553726815, "creation_date": 1553726815, "answer_id": 55387632, "question_id": 55387566, "link": "https://stackoverflow.com/questions/55387566/dbscan-eps-incorrect-behaviour/55387632#55387632", "title": "DBSCAN eps incorrect behaviour", "body": "<p>This is because the points chain together. 15 is less than <code>eps</code> from 14, so it is included in that cluster. </p>\n\n<p>You can see the behavior here: </p>\n\n<pre><code>X=np.array([1,9,11,13,14,15,17,19]).reshape(-1, 1)\ndb=DBSCAN(eps=3, min_samples=1).fit(X)\n\nprint(db.labels_)\n</code></pre>\n\n<p>gives: <code>[0 1 1 1 1 1 1 1]</code></p>\n"}, {"tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": true, "score": 1, "last_activity_date": 1553736036, "creation_date": 1553736036, "answer_id": 55388827, "question_id": 55387566, "link": "https://stackoverflow.com/questions/55387566/dbscan-eps-incorrect-behaviour/55388827#55388827", "title": "DBSCAN eps incorrect behaviour", "body": "<p>A neighborhood is not the same thing as a cluster.</p>\n\n<p>The cluster is the <strong>union of many neighborhoods</strong>. Epsilon is the maximum distance from the center of one neighborhood; but if you merge multiple neighborhoods the distances can become arbitrarily large if your data is <em>dense</em>.</p>\n\n<p>But the description of the parameter in sklearn is also wrong, not just misleading. When the triangle inequality holds, points in the same neighborhood <em>can</em> be two epsilon apart (and more if you don't use a metric).</p>\n"}], "owner": {"reputation": 7571, "user_id": 891814, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf47dc9d0b1227557450c15c3826c67b?s=128&d=identicon&r=PG", "display_name": "Ofek Ron", "link": "https://stackoverflow.com/users/891814/ofek-ron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55388827, "answer_count": 3, "score": 0, "last_activity_date": 1553736036, "creation_date": 1553726415, "last_edit_date": 1553735864, "question_id": 55387566, "link": "https://stackoverflow.com/questions/55387566/dbscan-eps-incorrect-behaviour", "title": "DBSCAN eps incorrect behaviour", "body": "<pre><code>from sklearn.cluster import DBSCAN\nimport numpy as np\nX=np.array([1,9,11,13,14,15,19]).reshape(-1, 1)\ndb=DBSCAN(eps=3, min_samples=1).fit(X)\nprint(db.labels_)\n</code></pre>\n\n<p>prints:</p>\n\n<blockquote>\n  <p>[0 1 1 1 1 1 2]</p>\n</blockquote>\n\n<p>while doc says :</p>\n\n<blockquote>\n<pre><code>eps : float, optional\n    The maximum distance between two samples for them to be considered\n    as in the same neighborhood.\n</code></pre>\n</blockquote>\n\n<p>Here 9 and 15 are in the same cluster while euclidiean distance between them is 6 which is >3</p>\n\n<p>What am i missing?</p>\n"}, {"tags": ["python", "python-3.x", "cmd", "terraform"], "comments": [{"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1553726062, "post_id": 55387476, "comment_id": 97496816, "body": "why don&#39;t you start but showing what you have tried, this would be fairly easy using subprocess and os"}, {"owner": {"reputation": 10314, "user_id": 807797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4072657366a6ad674347c2a216318623?s=128&d=identicon&r=PG", "display_name": "CodeMed", "link": "https://stackoverflow.com/users/807797/codemed"}, "reply_to_user": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1553726421, "post_id": 55387476, "comment_id": 97496925, "body": "@d_kennetz I added something simple.  The reason I did not include it at first is because it is so little.  I would like help understanding how to approach this simple building block so that I can build from it.  What do you suggest?"}, {"owner": {"reputation": 10314, "user_id": 807797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4072657366a6ad674347c2a216318623?s=128&d=identicon&r=PG", "display_name": "CodeMed", "link": "https://stackoverflow.com/users/807797/codemed"}, "reply_to_user": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1553727249, "post_id": 55387476, "comment_id": 97497182, "body": "@downvoters  Post a link to what you think the answer is or a suggestion of how to improve the question.  No drive by shootings."}], "answers": [{"comments": [{"owner": {"reputation": 10314, "user_id": 807797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4072657366a6ad674347c2a216318623?s=128&d=identicon&r=PG", "display_name": "CodeMed", "link": "https://stackoverflow.com/users/807797/codemed"}, "edited": false, "score": 0, "creation_date": 1553727197, "post_id": 55387580, "comment_id": 97497157, "body": "Terraform is an executable.  However, the code you are suggesting just hangs indefinitely without giving any output to interpret what is happening."}, {"owner": {"reputation": 1205, "user_id": 2846068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHfXv.jpg?s=128&g=1", "display_name": "MasterAler", "link": "https://stackoverflow.com/users/2846068/masteraler"}, "reply_to_user": {"reputation": 10314, "user_id": 807797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4072657366a6ad674347c2a216318623?s=128&d=identicon&r=PG", "display_name": "CodeMed", "link": "https://stackoverflow.com/users/807797/codemed"}, "edited": false, "score": 0, "creation_date": 1553730300, "post_id": 55387580, "comment_id": 97498047, "body": "@CodeMed, could be so. Much depends on how the program works. Did you try with <code>print()</code> to check if it hangs on <code>wait()</code> or somewhere later? Options are: trying &#39;shell=True&#39;, using subprocess asynchronously (i.e. without waiting it to finish), also the program may not be writing anythong to stdout (sample&#39;s trying to get it). I&#39;m afraid method of trial and error is most of the job here."}, {"owner": {"reputation": 10314, "user_id": 807797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4072657366a6ad674347c2a216318623?s=128&d=identicon&r=PG", "display_name": "CodeMed", "link": "https://stackoverflow.com/users/807797/codemed"}, "edited": false, "score": 0, "creation_date": 1553730991, "post_id": 55387580, "comment_id": 97498233, "body": "The following prints out the in-process results <code>subprocess.run(&quot;terraform apply -auto-approve&quot;, shell=True, check=True)</code>.  And the program runs successfully.  But then how do I pipe the output into some sort of processing so that I can extract the output variables?  But so that I can still see the running output in the command line to be able to understand what is happening?"}, {"owner": {"reputation": 1205, "user_id": 2846068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHfXv.jpg?s=128&g=1", "display_name": "MasterAler", "link": "https://stackoverflow.com/users/2846068/masteraler"}, "reply_to_user": {"reputation": 10314, "user_id": 807797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4072657366a6ad674347c2a216318623?s=128&d=identicon&r=PG", "display_name": "CodeMed", "link": "https://stackoverflow.com/users/807797/codemed"}, "edited": false, "score": 0, "creation_date": 1553815597, "post_id": 55387580, "comment_id": 97537021, "body": "@CodeMed, instead of using <code>shell=True</code> you could just print the output yourself in Python code (or/and use it somehow). Not totally sure about detais but <code>run()</code> should also support stdout redirect. Thus, communicating should work. Something like &quot;reading output until program terminated&quot;. Cannot also point to an asynchronous recipe, but only because I&#39;d have to Google for it myself =) Hope, you don&#39;t use waiting anymore, do you?"}], "tags": [], "owner": {"reputation": 1205, "user_id": 2846068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHfXv.jpg?s=128&g=1", "display_name": "MasterAler", "link": "https://stackoverflow.com/users/2846068/masteraler"}, "is_accepted": false, "score": 1, "last_activity_date": 1553726511, "creation_date": 1553726511, "answer_id": 55387580, "question_id": 55387476, "link": "https://stackoverflow.com/questions/55387476/execute-windows-shell-command-and-process-output-variables/55387580#55387580", "title": "Execute windows shell command and process output variables", "body": "<p>Not sure about your output, but subprocess could definitely make the trick.</p>\n\n<p>Try something like:</p>\n\n<pre><code>command = 'terraform apply -auto-approve'\nTARGET_DIR = 'E:\\Target\\Directory'\nsubprocess_handle = subprocess.Popen(shlex.split(command), cwd=TARGET_DIR, shell=False, stdout=subprocess.PIPE)\nsubprocess_handle.wait()\n\nresult = subprocess_handle.communicate()[0]\nprint(result)\n</code></pre>\n\n<p>Worked for me once, just play around with params.</p>\n\n<p>UPD: Here I assume that \"terraform\" is an executable.</p>\n"}], "owner": {"reputation": 10314, "user_id": 807797, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4072657366a6ad674347c2a216318623?s=128&d=identicon&r=PG", "display_name": "CodeMed", "link": "https://stackoverflow.com/users/807797/codemed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1553726511, "creation_date": 1553725877, "last_edit_date": 1553726357, "question_id": 55387476, "link": "https://stackoverflow.com/questions/55387476/execute-windows-shell-command-and-process-output-variables", "title": "Execute windows shell command and process output variables", "body": "<p>In Python 3.7 running on Windows, what specific syntax is required to:   </p>\n\n<pre><code>1. Navigate to a directory containing a terraform program  \n2. Execute \"terraform apply -auto-approve\" in that target directory  \n3. Extract the resulting output variables into a form usable in python  \n</code></pre>\n\n<p>The output variables might take the form:  </p>\n\n<pre><code>security_group_id_nodes = sg-xxxxxxxxxx  \nvpc_id_myvpc = vpc-xxxxxxxxxxxxx   \n</code></pre>\n\n<p>Want to be using windows cmd style commands here, NOT powershell.  </p>\n\n<p>My first failed newbie attempt is:  </p>\n\n<pre><code>import os\n\nos.chdir('C:\\\\path\\\\to\\\\terraform\\\\code')\n\nfrom subprocess import check_output\ncheck_output(\"terraform apply -auto-approve\", shell=True).decode()\n</code></pre>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 6802, "user_id": 9609843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ceb913f05e91861333b367e0379a8e?s=128&d=identicon&r=PG&f=1", "display_name": "sanyassh", "link": "https://stackoverflow.com/users/9609843/sanyassh"}, "edited": false, "score": 1, "creation_date": 1553726144, "post_id": 55387447, "comment_id": 97496840, "body": "Can&#39;t reproduce your issue, thread2 is printing as well when thread1 is blocked on input. What is your environment? It may be the matter. I tested your code example on Ubuntu with system interpreter."}], "owner": {"reputation": 349, "user_id": 2251371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ccde39368fc4c2dc5168c1b41b8eb7ae?s=128&d=identicon&r=PG", "display_name": "sdmello", "link": "https://stackoverflow.com/users/2251371/sdmello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553726698, "creation_date": 1553725764, "last_edit_date": 1553726698, "question_id": 55387447, "link": "https://stackoverflow.com/questions/55387447/python-input-call-blocks-other-threads-from-printing-to-console", "title": "Python input() call blocks other threads from printing to console", "body": "<p>Thread1: Just blocks on user-input, and then adds the input to a queue before going back to blocking.\nThread2: Prints to console.</p>\n\n<p>I don't see Thread2 outputs unless I enter something on the console. i.e unblock thread1. Is there a way to output to console while also blocking on input in another thread?</p>\n\n<pre><code>import threading\nimport time\n\ndef reader():\n    while(1):\n        text=input()\ndef writer():\n    while(1):\n        time.sleep(1)\n        print(\"Thread 2\")\n\nt1 = threading.Thread(target=reader)\nt2 = threading.Thread(target=writer)\n\nt1.start()\nt2.start()\n\nwhile(1):\n    #Do nothing\n    time.sleep(1)\n</code></pre>\n\n<p>Environment: Windows, WPy 3.6.7</p>\n"}, {"tags": ["python", "plot"], "comments": [{"owner": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "edited": false, "score": 2, "creation_date": 1553726118, "post_id": 55387424, "comment_id": 97496830, "body": "What have you tried so far?"}, {"owner": {"reputation": 955, "user_id": 6194143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1cd7ace9bb0ff64c8d1d0fccd7818a?s=128&d=identicon&r=PG&f=1", "display_name": "Tacratis", "link": "https://stackoverflow.com/users/6194143/tacratis"}, "edited": false, "score": 0, "creation_date": 1553726248, "post_id": 55387424, "comment_id": 97496869, "body": "can you use matplotlib/seaborn?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 11268920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867ffbb70dced8df74338f8d18691c2c?s=128&d=identicon&r=PG&f=1", "display_name": "Phani", "link": "https://stackoverflow.com/users/11268920/phani"}, "edited": false, "score": 0, "creation_date": 1553794372, "post_id": 55387736, "comment_id": 97527915, "body": "Hi Yu, Thanks for the quick response. For quick reference i have shown TYPE A, B, C but i have many of these types and its a random. There may be hundreds of types. I cannot put all these into lists."}], "tags": [], "owner": {"reputation": 1887, "user_id": 3999025, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f179f4542183c3253e22896da1a813be?s=128&d=identicon&r=PG&f=1", "display_name": "Yu Zhang", "link": "https://stackoverflow.com/users/3999025/yu-zhang"}, "is_accepted": false, "score": 1, "last_activity_date": 1553727479, "creation_date": 1553727479, "answer_id": 55387736, "question_id": 55387424, "link": "https://stackoverflow.com/questions/55387424/python-line-chart/55387736#55387736", "title": "Python Line chart", "body": "<pre><code>import matplotlib.pyplot as plot\n\ntimestamp_list = ['0:15:00','0:30:00','0:45:00','1:00:00','1:15:00','1:30:00','1:45:00','2:00:00']\na_list = [5.3718, 3.4776, 5.6616, 0.1638, 5.2206, 2.6544, 0.2982, 0.1638]\nb_list = [6.8376, .03402, 0.3276, 0.168, 0.252, 6.0858, 0.336, 0.2394]\nc_list = [0.1638, 0.3276, 0.336, 0.336, 0.168, 0.2394, 0.3402, 0.3318]\n\nplot.plot(timestamp_list, a_list)\nplot.plot(timestamp_list, b_list)\nplot.plot(timestamp_list, c_list)\nplot.xlabel('Time')\nplot.show()\n</code></pre>\n\n<p>Basically, I am using <code>matplotlib</code> as the plotting module, you can use <code>pip</code> to install it if you have not installed it already.</p>\n\n<p>As all of your three types are sharing the same timestamp, so that all we need to do is to put type a, b, c values into their own lists and call <code>pyplot</code> to do the plot for you. </p>\n"}], "owner": {"reputation": 9, "user_id": 11268920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867ffbb70dced8df74338f8d18691c2c?s=128&d=identicon&r=PG&f=1", "display_name": "Phani", "link": "https://stackoverflow.com/users/11268920/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553727479, "creation_date": 1553725624, "last_edit_date": 1553726103, "question_id": 55387424, "link": "https://stackoverflow.com/questions/55387424/python-line-chart", "title": "Python Line chart", "body": "<p>I have a dataframe with three columns. I did a group by on two columns and calculated mean. I reset the index after mean. Now i would like to plot on the graph.</p>\n\n<p>My columns are</p>\n\n<pre><code>Type    Time        Value\nA   0:15:00     5.3718\n    0:30:00     3.4776\n    0:45:00     5.6616\n    1:00:00     0.1638\n    1:15:00     5.2206\n    1:30:00     2.6544\n    1:45:00     0.2982\n    2:00:00     0.1638\nB   0:15:00     6.8376\n    0:30:00     0.3402\n    0:45:00     0.3276\n    1:00:00     0.168\n    1:15:00     0.252\n    1:30:00     6.0858\n    1:45:00     0.336\n    2:00:00     0.2394\nC   0:15:00     0.1638\n    0:30:00     0.3276\n    0:45:00     0.336\n    1:00:00     0.336\n    1:15:00     0.168\n    1:30:00     0.2394\n    1:45:00     0.3402\n    2:00:00     0.3318\n</code></pre>\n\n<p>Time on X axis, value on y axis for each type. Please help me.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 1, "creation_date": 1553725626, "post_id": 55387406, "comment_id": 97496673, "body": "try \\d+(?=\\/\\d+) <a href=\"https://regex101.com/r/e4dZdS/1\" rel=\"nofollow noreferrer\">Demo</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "is_accepted": true, "score": 3, "last_activity_date": 1553725665, "creation_date": 1553725665, "answer_id": 55387433, "question_id": 55387406, "link": "https://stackoverflow.com/questions/55387406/write-a-regex-to-extract-number-before/55387433#55387433", "title": "Write a Regex to extract number before &#39;/&#39;", "body": "<p>Use a lookahead to match on the <code>/</code>, like this:</p>\n\n<pre><code>\\d+(?=/)\n</code></pre>\n\n<p>You may need to escape the / if your implementation uses it as its delimiter.</p>\n\n<p>Live example: <a href=\"https://regex101.com/r/xdT4vq/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/xdT4vq/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1553725999, "post_id": 55387480, "comment_id": 97496797, "body": "This assumes that there&#39;s no other <code>&#47;</code> without numbers. For example, on &quot;He/she got 10/19 questions right.&quot;, it will fail."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1553726399, "post_id": 55387480, "comment_id": 97496915, "body": "@Jos So will yours if you give it <code>On 05&#47;05&#47;2019 someone will score 9&#47;8 points.</code> But at least yours will only catch numbers that are followed by <code>&#47;</code> . Added some more logic - should fix it."}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 1, "last_activity_date": 1553726371, "last_edit_date": 1553726371, "creation_date": 1553725893, "answer_id": 55387480, "question_id": 55387406, "link": "https://stackoverflow.com/questions/55387406/write-a-regex-to-extract-number-before/55387480#55387480", "title": "Write a Regex to extract number before &#39;/&#39;", "body": "<p>You can still use <code>str.split()</code> if you carefully construct logic around it:</p>\n\n<pre><code>t = \"He got 10/19 questions right.\"\nt2 = \"He/she got 10/19 questions right\"\n\n\nfor q in [t,t2]:\n\n\n    # split whole string at spaces\n    # split each part at / \n    # only keep parts that contain / but not at 1st position and only consists\n    # out of numbers elsewise\n    numbers = [x.split(\"/\") for x in q.split() \n               if \"/\" in x and all(c in \"0123456789/\" for c in x)\n              and not x.startswith(\"/\")]\n    if numbers:\n        print(numbers[0][0])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>10\n10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 5343377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1205de54a9891cd740ddcbf6b069a746?s=128&d=identicon&r=PG&f=1", "display_name": "lange", "link": "https://stackoverflow.com/users/5343377/lange"}, "is_accepted": false, "score": 0, "last_activity_date": 1553726120, "creation_date": 1553726120, "answer_id": 55387522, "question_id": 55387406, "link": "https://stackoverflow.com/questions/55387406/write-a-regex-to-extract-number-before/55387522#55387522", "title": "Write a Regex to extract number before &#39;/&#39;", "body": "<pre><code>res = re.search('(\\d+)/\\d+', r'He got 10/19 questions right.')\nres.groups()\n('10',)\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10597469"}, "is_accepted": false, "score": 1, "last_activity_date": 1553726537, "last_edit_date": 1553726537, "creation_date": 1553726225, "answer_id": 55387536, "question_id": 55387406, "link": "https://stackoverflow.com/questions/55387406/write-a-regex-to-extract-number-before/55387536#55387536", "title": "Write a Regex to extract number before &#39;/&#39;", "body": "<pre><code>import re\nmyString = \"He got 10/19 questions right.\"\noldnumber = re.findall('[0-9]+/', myString)  #find one or more digits followed by a slash.\nnewNumber = oldnumber[0].replace(\"/\",\"\")  #get rid of the slash.\n\nprint(newNumber)\n&gt;&gt;&gt;10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 10649176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e719a8cb0b51121e04bdc92851d187e?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Yarahmadian", "link": "https://stackoverflow.com/users/10649176/ryan-yarahmadian"}, "is_accepted": false, "score": 0, "last_activity_date": 1553731402, "creation_date": 1553731402, "answer_id": 55388274, "question_id": 55387406, "link": "https://stackoverflow.com/questions/55387406/write-a-regex-to-extract-number-before/55388274#55388274", "title": "Write a Regex to extract number before &#39;/&#39;", "body": "<p>Find all numbers before the forward-slash and exclude the forward-slash by using start-stop parentheses.</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; myString = 'He got 10/19 questions right.'\n&gt;&gt;&gt; stringNumber = re.findall('([0-9]+)/', myString)\n&gt;&gt;&gt; stringNumber\n['10']\n</code></pre>\n\n<p>This returns all numbers ended with a forward-slash, but in a list of strings. if you want integers, you should <code>map</code> your list with <code>int</code>, then make a <code>list</code> again.</p>\n\n<pre><code>&gt;&gt;&gt; intNumber = list(map(int, stringNumber))\n&gt;&gt;&gt; intNumber\n[10]\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 10939484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J0IhDFZllwQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzm4Ty9kxi-y6SjrwzG0pkPvX2Q/mo/photo.jpg?sz=128", "display_name": "user10939484", "link": "https://stackoverflow.com/users/10939484/user10939484"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "accepted_answer_id": 55387433, "answer_count": 5, "score": 0, "last_activity_date": 1553731402, "creation_date": 1553725551, "question_id": 55387406, "link": "https://stackoverflow.com/questions/55387406/write-a-regex-to-extract-number-before", "title": "Write a Regex to extract number before &#39;/&#39;", "body": "<p>I don't want to use string split because I have numbers 1-99, and a column of string that contain '#/#' somewhere in the text. </p>\n\n<p>How can I write a regex to extract the number 10 in the following example:</p>\n\n<pre><code>He got 10/19 questions right.\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3412649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f531306e7be249b924ecaaa2e91f7?s=128&d=identicon&r=PG&f=1", "display_name": "user3412649", "link": "https://stackoverflow.com/users/3412649/user3412649"}, "edited": false, "score": 0, "creation_date": 1553738298, "post_id": 55387602, "comment_id": 97499774, "body": "Also figured instead of doing lex sort this can be solved in this way too using your earlier reference <code>&gt;&gt;&gt; sorted([a2[ind] for ind in range(len(a1)) if a1[ind] &gt; 35], key=lambda value: np.where(a2 == value))</code>"}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "reply_to_user": {"reputation": 11, "user_id": 3412649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f531306e7be249b924ecaaa2e91f7?s=128&d=identicon&r=PG&f=1", "display_name": "user3412649", "link": "https://stackoverflow.com/users/3412649/user3412649"}, "edited": false, "score": 0, "creation_date": 1553738437, "post_id": 55387602, "comment_id": 97499807, "body": "@user3412649 you can replace it with <code>np.nan_to_num(sorted([a2[ind] if a1[ind] &gt; 35 else np.nan for ind in range(len(a1))], key=lambda value: np.where(r[1] == value)))</code> This will return either <code>a2[ind]</code> or <code>np.nan</code> if it doesn&#39;t exist. Then we can use <code>np.nan_to_num</code> to convert <code>np.nan</code> values to <code>0</code>. Outputs <code>array([ 1.5615,  0.    ,  0.    ,  0.    , -2.3144,  3.9871,  0.    ,         0.    ])</code>"}], "tags": [], "owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "is_accepted": true, "score": 0, "last_activity_date": 1553726682, "creation_date": 1553726682, "answer_id": 55387602, "question_id": 55387398, "link": "https://stackoverflow.com/questions/55387398/how-to-extract-data-from-only-one-column-in-numpy-array-based-on-specific-value/55387602#55387602", "title": "How to extract data from only one column in numpy array based on specific value from sorted value of columns", "body": "<p>Instead of accessing the values in <code>r[0]</code> you can instead do something like this:</p>\n\n<pre><code>&gt;&gt;&gt; sorted([a2[ind] for ind in range(len(a1)) if a1[ind] &gt; 35], key=lambda \nvalue: np.where(r[1] == value))\n[-2.3144, 3.9871, 1.5615]\n</code></pre>\n\n<p>This will check the values at the indices and then sort by where the index is in <code>r[1]</code></p>\n"}], "owner": {"reputation": 11, "user_id": 3412649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f531306e7be249b924ecaaa2e91f7?s=128&d=identicon&r=PG&f=1", "display_name": "user3412649", "link": "https://stackoverflow.com/users/3412649/user3412649"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 55387602, "answer_count": 1, "score": 0, "last_activity_date": 1553726682, "creation_date": 1553725505, "question_id": 55387398, "link": "https://stackoverflow.com/questions/55387398/how-to-extract-data-from-only-one-column-in-numpy-array-based-on-specific-value", "title": "How to extract data from only one column in numpy array based on specific value from sorted value of columns", "body": "<p>I am sorting an array comprising of two columns in ascending order and then based on value greater than  x in first column, trying to extract data for values > x from 2nd column in another variable. </p>\n\n<p>Able to sort and find the values greater than x in column 1 but not able to extract corresponding values from column for values > x.</p>\n\n<pre><code>a1 = np.array([130,4,8,0,87,45,24,22])\na2 = np.array([1.5615, 0.4601, 0.4374, 0.0000, 3.9871, -2.3144, -0.3456, 1.5684])\n\nind = np.lexsort((a2,a1)) \n\n[(a1[i],a2[i]) for i in ind]\n\nr = np.array([a1[ind],a2[ind]])\nr1 = sorted(x for x in r[0] if x &gt;= 35)\nprint(r1)\n</code></pre>\n\n<p>expect a3 = [-2.3144   3.9871   1.5615] for values in a2 based on x>35 in a1 [45, 87,130]</p>\n"}, {"tags": ["python", "pandas", "csv", "dataframe"], "comments": [{"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 1, "creation_date": 1553725656, "post_id": 55387383, "comment_id": 97496684, "body": "How do you know which ones are old/new?"}, {"owner": {"reputation": 578, "user_id": 5574096, "user_type": "registered", "accept_rate": 95, "profile_image": "https://lh6.googleusercontent.com/-Xw175kf09Q8/AAAAAAAAAAI/AAAAAAAAABE/YjqiBMUVaWw/photo.jpg?sz=128", "display_name": "Fogarasi Norbert", "link": "https://stackoverflow.com/users/5574096/fogarasi-norbert"}, "reply_to_user": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1553725795, "post_id": 55387383, "comment_id": 97496731, "body": "By the index, which is the date (e.g <code>1980-12-12</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 2335, "user_id": 6657098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571d38df0ecf7797079379672cb75612?s=128&d=identicon&r=PG&f=1", "display_name": "cullzie", "link": "https://stackoverflow.com/users/6657098/cullzie"}, "edited": false, "score": 0, "creation_date": 1554443844, "post_id": 55388007, "comment_id": 97761593, "body": "@FogarasiNorbert Did this help at all?"}, {"owner": {"reputation": 325, "user_id": 5047931, "user_type": "registered", "profile_image": "https://graph.facebook.com/951598091528374/picture?type=large", "display_name": "nimishxotwod", "link": "https://stackoverflow.com/users/5047931/nimishxotwod"}, "edited": false, "score": 0, "creation_date": 1583729075, "post_id": 55388007, "comment_id": 107201634, "body": "this doesnt work with mode =&#39;a&#39; , instead use mode=&#39;w&#39;.Since, in append mode it will repeat the entries originally irrespective of repetition"}], "tags": [], "owner": {"reputation": 2335, "user_id": 6657098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571d38df0ecf7797079379672cb75612?s=128&d=identicon&r=PG&f=1", "display_name": "cullzie", "link": "https://stackoverflow.com/users/6657098/cullzie"}, "is_accepted": false, "score": 0, "last_activity_date": 1553729574, "last_edit_date": 1553729574, "creation_date": 1553729147, "answer_id": 55388007, "question_id": 55387383, "link": "https://stackoverflow.com/questions/55387383/append-only-new-values-to-csv-from-dataframe-in-python/55388007#55388007", "title": "Append only new values to CSV from DataFrame in Python", "body": "<p>You can just re-read your csv file after writing it and drop any duplicates before appending the newly fetched data. </p>\n\n<p>The following code was working for me:</p>\n\n<pre><code>import pandas as pd\n\n# Creating original csv\ncolumns = ['Date','High','Low','Open','Close','Volume','Adj Close']\noriginal_rows = [[\"1980-12-12\",0.515625,0.5133928656578064,0.5133928656578064,0.5133928656578064,117258400.0,0.02300705946981907], [\"1980-12-15\",0.4888392984867096,0.4866071343421936,0.4888392984867096,0.4866071343421936,43971200.0,0.02180669829249382\n]]\ndf_original = pd.DataFrame(columns=columns, data=original_rows)\ndf_original.to_csv('AAPL.CSV', mode='w', index=False)\n\n# Fetching the new data\nrows_updated = [[\"1980-12-12\",0.515625,0.5133928656578064,0.5133928656578064,0.5133928656578064,117258400.0,0.02300705946981907], [\"1980-12-15\",0.4888392984867096,0.4866071343421936,0.4888392984867096,0.4866071343421936,43971200.0,0.02180669829249382\n], [\"1980-12-16\",0.453125,0.4508928656578064,0.453125,0.4508928656578064,26432000.0,0.02020619809627533]]\ndf_updated = pd.DataFrame(columns=columns, data=rows_updated)\n\n# Read in current csv values\ncurrent_csv_data = pd.read_csv('AAPL.CSV')\n\n# Drop duplicates and append only new data\nnew_entries = pd.concat([current_csv_data, df_updated]).drop_duplicates(subset='Date', keep=False)\nnew_entries.to_csv('AAPL.CSV', mode='a', header=False, index=False)\n</code></pre>\n"}], "owner": {"reputation": 578, "user_id": 5574096, "user_type": "registered", "accept_rate": 95, "profile_image": "https://lh6.googleusercontent.com/-Xw175kf09Q8/AAAAAAAAAAI/AAAAAAAAABE/YjqiBMUVaWw/photo.jpg?sz=128", "display_name": "Fogarasi Norbert", "link": "https://stackoverflow.com/users/5574096/fogarasi-norbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553729574, "creation_date": 1553725414, "question_id": 55387383, "link": "https://stackoverflow.com/questions/55387383/append-only-new-values-to-csv-from-dataframe-in-python", "title": "Append only new values to CSV from DataFrame in Python", "body": "<p>Let's suppose I have a CSV file which looks like this:</p>\n\n<pre><code>Date,High,Low,Open,Close,Volume,Adj Close\n1980-12-12,0.515625,0.5133928656578064,0.5133928656578064,0.5133928656578064,117258400.0,0.02300705946981907\n1980-12-15,0.4888392984867096,0.4866071343421936,0.4888392984867096,0.4866071343421936,43971200.0,0.02180669829249382\n1980-12-16,0.453125,0.4508928656578064,0.453125,0.4508928656578064,26432000.0,0.02020619809627533\n</code></pre>\n\n<p>I have also a <code>Pandas DataFrame</code> which has exactly the same values but also the new entries. My goal is to append to the CSV file only the new values.</p>\n\n<p>I tried like this, but unfortunately this append not only the new entries, but the old ones also:</p>\n\n<pre><code>df.to_csv('{}/{}'.format(FOLDER, 'AAPL.CSV'), mode='a', header=False)\n</code></pre>\n"}, {"tags": ["python", "numpy", "scipy", "statistics", "binning"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 5586573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c4897b980cc6afbe084725998f2ce74e?s=128&d=identicon&r=PG&f=1", "display_name": "HM14", "link": "https://stackoverflow.com/users/5586573/hm14"}, "edited": false, "score": 0, "creation_date": 1554102988, "post_id": 55387976, "comment_id": 97613860, "body": "I think I must be doing something wrong. I am getting a weird number for the mean of the first bin. I have edited my question above to include the code with your updated answer. I am getting a mean of 83 for the first bin which can&#39;t be because the max value for obs is 17 and the max value for abs_error is 13. so I don&#39;t see how the means in any of the bins could exceed this. Can you tell what I am doing wrong?"}, {"owner": {"reputation": 605, "user_id": 5586573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c4897b980cc6afbe084725998f2ce74e?s=128&d=identicon&r=PG&f=1", "display_name": "HM14", "link": "https://stackoverflow.com/users/5586573/hm14"}, "edited": false, "score": 0, "creation_date": 1554104845, "post_id": 55387976, "comment_id": 97614703, "body": "Ignore my previous comment. Turns out I had some nans in the array screwing up the results. I masked the arrays for where there are nans and this seemed to fix my issue. However, if I get nans on the upper part of my array does that mean there is no count in those bins? for example I get mn=[ nan 3.18577858 2.82887524 ......1.57512014 1.53094066 1.7965252  1.98050336 2.29916244 3.06640482 4.66769505 3.16787195  nan    nan  nan  nan  nan] and for bincount(idx)=[   0  157  458  677  855  920  979  .......     4    2    2    0    0    0    0    0 3133]"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "reply_to_user": {"reputation": 605, "user_id": 5586573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c4897b980cc6afbe084725998f2ce74e?s=128&d=identicon&r=PG&f=1", "display_name": "HM14", "link": "https://stackoverflow.com/users/5586573/hm14"}, "edited": false, "score": 0, "creation_date": 1554107869, "post_id": 55387976, "comment_id": 97616121, "body": "@HM14 Yep, the mean of an empty bin is undefined, so <code>NaN</code> is the appropriate answer. Technically, what happens is a <code>0 &#47; 0</code> where the first zero is the sum and the second zero is the element count."}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 1, "last_activity_date": 1553728966, "creation_date": 1553728966, "answer_id": 55387976, "question_id": 55387371, "link": "https://stackoverflow.com/questions/55387371/binning-data-and-calculating-mae-for-each-bin-in-python/55387976#55387976", "title": "Binning data and calculating MAE for each bin in Python", "body": "<p>If your bins are all the same size you can use floor division to obtain bin indices from <code>Obs</code>, in your example.</p>\n\n<pre><code>idx = (Obs // 1).astype(int)\n</code></pre>\n\n<p>If not use <code>np.digitize</code> instead.</p>\n\n<pre><code>idx = np.digitize(Obs, bin_boundaries)\n</code></pre>\n\n<p>Once you have indices use them with <code>np.bincount</code> to obtain the means.</p>\n\n<pre><code>mn = np.bincount(idx, abs_error) / np.bincount(idx)\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 5586573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c4897b980cc6afbe084725998f2ce74e?s=128&d=identicon&r=PG&f=1", "display_name": "HM14", "link": "https://stackoverflow.com/users/5586573/hm14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 55387976, "answer_count": 1, "score": 0, "last_activity_date": 1554102643, "creation_date": 1553725368, "last_edit_date": 1554102643, "question_id": 55387371, "link": "https://stackoverflow.com/questions/55387371/binning-data-and-calculating-mae-for-each-bin-in-python", "title": "Binning data and calculating MAE for each bin in Python", "body": "<p>I have two arrays:</p>\n\n<pre><code>Obs=([])\nabs_error=([])\n</code></pre>\n\n<p>I want to use Obs to define the bins. For example, Where Obs is 1 to 2, bin abs_error into bin#1. Then where Obs is 2 to 3, bin abs_error into bin#2. etc. </p>\n\n<p>Once I have my binned abs_error (which was binned by Obs) I want to calculate the mean of each bin and then plot the mean of each bin on the y-axis vs the bins on the x-axis.</p>\n\n<p>How do I go about binning the abs_error by bins defined by the Obs? And how do I calculate the mean of each bin once this is done?</p>\n\n<p>Right now I have:</p>\n\n<pre><code>abs_error=np.array([2.214033842086792 2.65031099319458 2.021354913711548 ... 2.831442356109619 1.9227538108825684 0.19358205795288086])\nobs=np.array([3.3399999141693115 1.440000057220459 1.2799999713897705 ... 5.78000020980835 6.050000190734863 7.75])\nbin_boundaries=np.array([0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0])\n\nidx = np.digitize(obs, bin_boundaries)\nmn_ = np.bincount(idx,abs_error) / np.bincount(idx)\nprint mn\n\n[83.09254473  3.18577858  2.82887524  2.78532805  2.43264693  1.96835116 1.77645996  1.66138196  1.5972414   1.57512014  1.53094066  1.7965252 1.98050336  2.29916244  3.06640482  4.66769505  3.16787195]\n</code></pre>\n\n<p>I can't print the whole arrays because they are very big.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "edited": false, "score": 2, "creation_date": 1553727050, "post_id": 55387396, "comment_id": 97497113, "body": "Thanks. Note for others using this question, note that the last line&#39;s string formatting for labeling the columns will only work in python 3.6+, if still using python 2.7 need to use <code>&#39;x{}{}.format((1+i&#47;&#47;len(x)), (1+i%len(x)))&#39;</code>."}, {"owner": {"reputation": 6415, "user_id": 6792743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc0a5e4d9ff9645a9deca067ced1d60?s=128&d=identicon&r=PG&f=1", "display_name": "perl", "link": "https://stackoverflow.com/users/6792743/perl"}, "edited": false, "score": 0, "creation_date": 1553727222, "post_id": 55387396, "comment_id": 97497168, "body": "Sorry, you&#39;re right, I missed that requirement. Updated my answer with <code>lim</code> variable that sets this limit. We basically need to take the first <code>lim</code> rows in the apply with <code>.iloc[:lim]</code>"}, {"owner": {"reputation": 6415, "user_id": 6792743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc0a5e4d9ff9645a9deca067ced1d60?s=128&d=identicon&r=PG&f=1", "display_name": "perl", "link": "https://stackoverflow.com/users/6792743/perl"}, "reply_to_user": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "edited": false, "score": 0, "creation_date": 1553727475, "post_id": 55387396, "comment_id": 97497249, "body": "@lampShadesDrifter: And thanks, it&#39;s a very good point about the f-strings in python 3.6"}, {"owner": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "edited": false, "score": 0, "creation_date": 1553739465, "post_id": 55387396, "comment_id": 97499998, "body": "Oddly, this code does not seem to be working for me (using python 2.7) a test dataframe made to be like the that in the original question. Getting column labels: <code>x11 x12 x13 x14 x15 x16 x17 x18 x19</code>. I think the last line in the given code should be something like: <code>x.columns = [f&#39;x{1+i&#47;&#47;len(df.columns)}{1+i%len(df.columns)}&#39; for i in x.columns]</code>. That then gave me the results shown in this answer."}, {"owner": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "edited": false, "score": 0, "creation_date": 1553739494, "post_id": 55387396, "comment_id": 97500003, "body": "Looking at the code and looking at the stats on my actual use case data, I don&#39;t this this answer actually works for the requirement that the max limit may be a value greater than the amount of groupable rows (which I realize now was not explicit in the original question and really illustrated the best in the example case). Note, my actual use case has rows with ~33 columns each that are trying to combine (~7 individual rows per combination)."}, {"owner": {"reputation": 6415, "user_id": 6792743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc0a5e4d9ff9645a9deca067ced1d60?s=128&d=identicon&r=PG&f=1", "display_name": "perl", "link": "https://stackoverflow.com/users/6792743/perl"}, "edited": false, "score": 0, "creation_date": 1553754356, "post_id": 55387396, "comment_id": 97503562, "body": "That&#39;s right, please see the updated version. It fixes the column names and allows the <code>lim</code> to exceed the number of grouped rows found in the dataset (tested with 5 on the test data)"}], "tags": [], "owner": {"reputation": 6415, "user_id": 6792743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc0a5e4d9ff9645a9deca067ced1d60?s=128&d=identicon&r=PG&f=1", "display_name": "perl", "link": "https://stackoverflow.com/users/6792743/perl"}, "is_accepted": true, "score": 3, "last_activity_date": 1553753997, "last_edit_date": 1553753997, "creation_date": 1553725490, "answer_id": 55387396, "question_id": 55387317, "link": "https://stackoverflow.com/questions/55387317/how-to-join-multiple-rows-in-single-pandas-dataframe-by-common-key-column-fixed/55387396#55387396", "title": "How to join multiple rows in single pandas dataframe by common key column (fixed length limit)?", "body": "<p>Using <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\"><code>groupby</code></a> and then <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ravel.html\" rel=\"nofollow noreferrer\"><code>ravel</code></a> to flatten all values inside a group:</p>\n\n<pre><code>lim = 5\n\ndf = df.set_index('key')\nk = len(df.columns)\n\nx = df.groupby(level=0).apply(\n    lambda z: z.iloc[:lim].values.ravel().tolist() +\n    [np.nan]*(lim*k-z.size))\n\nx = pd.DataFrame(x.tolist(), x.index)\n\nx.columns = [f'x{1+i//k}{1+i%k}' for i in x.columns]\n\nprint(x)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    x11 x12 x13  x21  x22  x23  x31  x32  x33  x41  x42  x43  x51  x52  x53\nkey                                                                        \n1    a1  a2  a3   b1   b2   b3  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n2    c1  c2  c3  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n3    d1  d2  d3   e1   e2   e3   f1   f2   f3   g1   g2   g3  NaN  NaN  NaN\n</code></pre>\n"}], "owner": {"reputation": 2985, "user_id": 8236733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/40e76c497aa9e70c5bebe1ec8288400e?s=128&d=identicon&r=PG&f=1", "display_name": "lampShadesDrifter", "link": "https://stackoverflow.com/users/8236733/lampshadesdrifter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 55387396, "answer_count": 1, "score": 0, "last_activity_date": 1553753997, "creation_date": 1553725005, "last_edit_date": 1553737813, "question_id": 55387317, "link": "https://stackoverflow.com/questions/55387317/how-to-join-multiple-rows-in-single-pandas-dataframe-by-common-key-column-fixed", "title": "How to join multiple rows in single pandas dataframe by common key column (fixed length limit)?", "body": "<p>How can you join multiple rows in single pandas dataframe by common key column where we let there be a fixed length limit for any combined row of rows (as the number of rows with a given common key in this case is variable)?</p>\n\n<p>Have a dataframe of a form like...</p>\n\n<pre><code>key x1 x2 x3\n-------------\n1   a1 a2 a3\n1   b1 b2 b3\n2   c1 c2 c3\n3   d1 d2 d3\n3   e1 e2 e3\n3   f1 f2 f3\n3   g1 g2 g3\n....\n</code></pre>\n\n<p>and would like to change it to something like</p>\n\n<pre><code>key x11 x12 x13 x21 x22 x23 x31 x32 x33\n-------------\n1   a1  a2  a3  b1  b2  b3  NA  NA  NA\n2   c1  c2  c3  NA  NA  NA  NA  NA  NA\n3   d1  d2  d3  e1  e2  e3  f1  f2  f3\n....\n</code></pre>\n\n<p>where column xjk is the kth feature of the jth row having the same key as the other rows grouped in this same row up to (in this case is manually set to...) 3 per group (but may want to change later and <strong>may be a value greater than the amount of groupable rows</strong> (eg. 5 here) in which case it should just fill with NAs). Notice that when there are less than the max limit of individual original rows to group we fill the values with NA and when there are too many rows we group only up to the max limit of rows and drop the rest from the dataframe. Also note that sometimes an individual row may have missing values. </p>\n\n<p>Any suggestions on how this could be done?</p>\n"}, {"tags": ["python", "sockets", "email", "networking"], "comments": [{"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 3, "creation_date": 1553724956, "post_id": 55387280, "comment_id": 97496466, "body": "The mail server at <code>smtp.o2.ie</code> is most likely rejecting your message because you are not authenticated / permitted to use the relay."}, {"owner": {"reputation": 31, "user_id": 11268997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5dCC.jpg?s=128&g=1", "display_name": "soccerstar2005", "link": "https://stackoverflow.com/users/11268997/soccerstar2005"}, "reply_to_user": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 0, "creation_date": 1553728176, "post_id": 55387280, "comment_id": 97497486, "body": "Yeah that&#39;s what I was figuring. I created my own Domain so I use the localhost, and I feel like I am close.  b&#39;220 LAPTOP-692TUOC4 ESMTP\\r\\n&#39; b&#39;250 Hello.\\r\\n&#39; b&#39;250 OK\\r\\n&#39; b&#39;250 OK\\r\\n&#39; b&#39;354 OK, send.\\r\\n&#39; b&#39;250 Queued (0.015 seconds)\\r\\n&#39; b&#39;221 goodbye\\r\\n&#39; Mail sent I am getting this in the command line, but no email to my address."}, {"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 1, "creation_date": 1553728425, "post_id": 55387280, "comment_id": 97497555, "body": "You also can&#39;t <i>just create your own domain</i> :) Setting up a mail server is actually quite a bit of work to get other server to actually accept mail from your host. It&#39;s likely that the message is still just sitting in the local queue. SSH to the host and run <code>postqueue -p</code> It&#39;s even more likely that your ISP blocks SMPT port 25, so if you try to run this from your home, you won&#39;t be able to relay anything. You will most likely need a cloud VPS which will allows SMTP connections."}, {"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 1, "creation_date": 1553728676, "post_id": 55387280, "comment_id": 97497628, "body": "You should really just look into use an SMTP library, because your methods here will not support authentication or encryption. All libraries that you find will support both basic authentication, which will allow you to actually access the relay, in addition to providing support for SSL."}, {"owner": {"reputation": 31, "user_id": 11268997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5dCC.jpg?s=128&g=1", "display_name": "soccerstar2005", "link": "https://stackoverflow.com/users/11268997/soccerstar2005"}, "reply_to_user": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 0, "creation_date": 1553735390, "post_id": 55387280, "comment_id": 97499213, "body": "Okay thank you for your help! I will look into what you suggested!"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11268997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5dCC.jpg?s=128&g=1", "display_name": "soccerstar2005", "link": "https://stackoverflow.com/users/11268997/soccerstar2005"}, "edited": false, "score": 0, "creation_date": 1553728415, "post_id": 55387375, "comment_id": 97497548, "body": "I do not want to use the smtp library.  Instead of using smtp.o2.ie, I created my own domain. I feeel like I am close...receiving this response; b&#39;220 LAPTOP-692TUOC4 ESMTP\\r\\n&#39; b&#39;250 Hello.\\r\\n&#39; b&#39;250 OK\\r\\n&#39; b&#39;250 OK\\r\\n&#39; b&#39;354 OK, send.\\r\\n&#39; b&#39;250 Queued (0.015 seconds)\\r\\n&#39; b&#39;221 goodbye\\r\\n&#39; Mail sent But I&#39;m not getting any response to my actual email address I placed as my receiver."}], "tags": [], "owner": {"reputation": 83, "user_id": 7090786, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uFqGt.png?s=128&g=1", "display_name": "Smilez", "link": "https://stackoverflow.com/users/7090786/smilez"}, "is_accepted": false, "score": 0, "last_activity_date": 1553725386, "creation_date": 1553725386, "answer_id": 55387375, "question_id": 55387280, "link": "https://stackoverflow.com/questions/55387280/python-cant-figure-out-why-i-am-getting-this-error-when-trying-to-send-a-mess/55387375#55387375", "title": "PYTHON - Can&#39;t figure out why I am getting this error when trying to send a message to an email address. b&#39;550 5.7.1 Relaying not allowed:", "body": "<p>It is possible that the program does not have permission to use the email addresses to send the message. Something similar happened to me when i was using i different package to send emails via Python.Check <a href=\"https://www.youtube.com/watch?v=gzv183G9Vew\" rel=\"nofollow noreferrer\">this link</a> For sending emails using python another way.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 11268997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5dCC.jpg?s=128&g=1", "display_name": "soccerstar2005", "link": "https://stackoverflow.com/users/11268997/soccerstar2005"}, "edited": false, "score": 0, "creation_date": 1553740424, "post_id": 55389337, "comment_id": 97500188, "body": "And for the server, I used one from my ISP with port 25."}], "tags": [], "owner": {"reputation": 31, "user_id": 11268997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5dCC.jpg?s=128&g=1", "display_name": "soccerstar2005", "link": "https://stackoverflow.com/users/11268997/soccerstar2005"}, "is_accepted": false, "score": 0, "last_activity_date": 1553740393, "creation_date": 1553740393, "answer_id": 55389337, "question_id": 55387280, "link": "https://stackoverflow.com/questions/55387280/python-cant-figure-out-why-i-am-getting-this-error-when-trying-to-send-a-mess/55389337#55389337", "title": "PYTHON - Can&#39;t figure out why I am getting this error when trying to send a message to an email address. b&#39;550 5.7.1 Relaying not allowed:", "body": "<p>I made a fix -- Instead of using google, yahoo etc...I used an email address linked to the ISP I use and was able to successfully send the message to the email. EX -> Exampleuser@chart.net. Thanks for the help!</p>\n"}], "owner": {"reputation": 31, "user_id": 11268997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5dCC.jpg?s=128&g=1", "display_name": "soccerstar2005", "link": "https://stackoverflow.com/users/11268997/soccerstar2005"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1553740393, "creation_date": 1553724845, "question_id": 55387280, "link": "https://stackoverflow.com/questions/55387280/python-cant-figure-out-why-i-am-getting-this-error-when-trying-to-send-a-mess", "title": "PYTHON - Can&#39;t figure out why I am getting this error when trying to send a message to an email address. b&#39;550 5.7.1 Relaying not allowed:", "body": "<p>I'm trying to send an email from one email address to another using sockets in python. How do I fix this issue that I am having? </p>\n\n<p>I tried Disabling the firewall, trying other servers, and trying different ports. </p>\n\n<pre><code>from socket import *\nmsg = \"\\r\\n I love computer networks!\"\nendmsg=\"\\r\\n.\\r\\n\"\nmailfrom = \"MAIL FROM:&lt;*********@gmail.com&gt;\\r\\n\"\nrcptto=\"RCPT TO:&lt;*********@gmail.com&gt;\\r\\n\"\ndata = \"DATA\\r\\n\"\nquitmsg=\"QUIT\\r\\n\"\nsubject = \"Subject: Computer Networks SMTP Programming project Test\\r\\n\"\n\n\n#choose a mail server\nmailserver=\"smtp.o2.ie\"\nport=25\nconnectaddress=(mailserver,port)\n</code></pre>\n\n<p>We are supposed to get the msg that we defined in the rcptto email. Instead we are getting this -> b'250 2.5.0 Address Ok.\\r\\n'\nb'550 5.7.1 Relaying not allowed:</p>\n"}, {"tags": ["python", "linux", "python-3.x", "logging", "gnu-screen"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 7639540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b7c2ebc52b662d31c0dfea2ce43287?s=128&d=identicon&r=PG&f=1", "display_name": "Buzzet", "link": "https://stackoverflow.com/users/7639540/buzzet"}, "edited": false, "score": 0, "creation_date": 1553726263, "post_id": 55387330, "comment_id": 97496873, "body": "that seems good. Can I run multiple scrips in paralell and different output files with this?"}, {"owner": {"reputation": 527, "user_id": 6444610, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f5300333c137087b7a297eb66b36e92?s=128&d=identicon&r=PG&f=1", "display_name": "B.C", "link": "https://stackoverflow.com/users/6444610/b-c"}, "reply_to_user": {"reputation": 483, "user_id": 7639540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b7c2ebc52b662d31c0dfea2ce43287?s=128&d=identicon&r=PG&f=1", "display_name": "Buzzet", "link": "https://stackoverflow.com/users/7639540/buzzet"}, "edited": false, "score": 0, "creation_date": 1553727322, "post_id": 55387330, "comment_id": 97497211, "body": "Yes, this should be possible. However, you will need to be careful not to mess up your <code>nohup.out</code> file if you stick to the default as it will just append the output to the file so you could end up with a mess."}], "tags": [], "owner": {"reputation": 527, "user_id": 6444610, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f5300333c137087b7a297eb66b36e92?s=128&d=identicon&r=PG&f=1", "display_name": "B.C", "link": "https://stackoverflow.com/users/6444610/b-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1558604764, "last_edit_date": 1558604764, "creation_date": 1553725087, "answer_id": 55387330, "question_id": 55387261, "link": "https://stackoverflow.com/questions/55387261/log-when-python-script-failed/55387330#55387330", "title": "Log when python script failed", "body": "<p>You can use <code>nohup</code> and <code>&amp;</code> to run your python command in the background. The default output will log any printed outputs (including the error that terminates your script) in a nohup.out file.  You can specify the file output in Bash using <code>&gt;</code></p>\n\n<p>For example </p>\n\n<pre><code>nohup python my_python_script.py &gt; my_output_log &amp;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 8982025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bd8ee4fb73772dc2e89eaa4378ab08?s=128&d=identicon&r=PG&f=1", "display_name": "exiz", "link": "https://stackoverflow.com/users/8982025/exiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1553725750, "creation_date": 1553725750, "answer_id": 55387444, "question_id": 55387261, "link": "https://stackoverflow.com/questions/55387261/log-when-python-script-failed/55387444#55387444", "title": "Log when python script failed", "body": "<p>I had a very similar problem and I did something like this</p>\n\n<pre><code>import logging\nlogging.basicConfig(filename = os.path.join(script_path, 'error.log'), level = logging.ERROR)\ntry:\n    # some dangerous code here\nexcept Exception as e:\n    logging.exception(str(e))\n    # Now you can kill your script, etc\n</code></pre>\n\n<p>This is going to generate a file 'error.log' with the info of the crash</p>\n"}], "owner": {"reputation": 483, "user_id": 7639540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b7c2ebc52b662d31c0dfea2ce43287?s=128&d=identicon&r=PG&f=1", "display_name": "Buzzet", "link": "https://stackoverflow.com/users/7639540/buzzet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2976, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1558604764, "creation_date": 1553724779, "last_edit_date": 1553765742, "question_id": 55387261, "link": "https://stackoverflow.com/questions/55387261/log-when-python-script-failed", "title": "Log when python script failed", "body": "<p>I am running a rather complex python script through a screen session on my server. Sometimes, after some hours, it crashes and I can\u2019t figure out why. Since the script runs in screen, I don\u2019t get access to the error when the scrips crashes. Is there any way to extract that info through logging or a simple pipe?</p>\n"}, {"tags": ["python", "excel", "pandas"], "comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1553725756, "post_id": 55387244, "comment_id": 97496715, "body": "You should post the rest of the columns as well, we can check if there are <code>keycolumns</code> which we can use to simply combine the data."}, {"owner": {"reputation": 45, "user_id": 10718074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b266cdbb70178e109a605cc70cd966cf?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Moncadea", "link": "https://stackoverflow.com/users/10718074/danny-moncadea"}, "reply_to_user": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1553778354, "post_id": 55387244, "comment_id": 97516881, "body": "can&#39;t really post the raw data as it&#39;s sensitive (and spans 8000 rows and 40 columns) but i&#39;ll add an arbitrary key to my post"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10718074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b266cdbb70178e109a605cc70cd966cf?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Moncadea", "link": "https://stackoverflow.com/users/10718074/danny-moncadea"}, "edited": false, "score": 0, "creation_date": 1553777959, "post_id": 55387547, "comment_id": 97516643, "body": "hey, thanks for the reply!  unfortunately, i&#39;m getting a TypeError when applying the lambda function: TypeError: &#39;str&#39; object cannot be interpreted as an integer.   The debug menu points to <code>df_combined[&#39;col&#39;] = df_combined.apply(lambda x: x[&#39;col2&#39;].replace(x[&#39;col1&#39;], &#39;&#39;), axis=1)</code> as the source of the error..  As for a key, I do have keys associated with both versions that i&#39;m comparing. I&#39;ll update my original post"}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "reply_to_user": {"reputation": 45, "user_id": 10718074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b266cdbb70178e109a605cc70cd966cf?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Moncadea", "link": "https://stackoverflow.com/users/10718074/danny-moncadea"}, "edited": false, "score": 0, "creation_date": 1553778823, "post_id": 55387547, "comment_id": 97517206, "body": "Is one of the columns you try to replace with an <code>integer</code>? For example is your <code>col1</code> an integer? @DannyMoncadea"}, {"owner": {"reputation": 45, "user_id": 10718074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b266cdbb70178e109a605cc70cd966cf?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Moncadea", "link": "https://stackoverflow.com/users/10718074/danny-moncadea"}, "edited": false, "score": 0, "creation_date": 1553783579, "post_id": 55387547, "comment_id": 97520862, "body": "No, they&#39;re not integers they&#39;re all strings. In fact I tried it once with my data set and once again with the sample data i posted and it brought up the same error"}], "tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": false, "score": 0, "last_activity_date": 1553726314, "creation_date": 1553726314, "answer_id": 55387547, "question_id": 55387244, "link": "https://stackoverflow.com/questions/55387244/finding-difference-between-strings-in-two-dataframes-lists-output-difference/55387547#55387547", "title": "Finding Difference Between Strings in Two Dataframes/Lists, Output Difference", "body": "<p>You can use <code>Dataframe.apply</code> with a <code>lambda</code> function:</p>\n\n<pre><code>print(dfA, '\\n')\nprint(dfB)\n\n    col1\n0    cat\n1    dog\n2  mouse\n3  child \n\n          col2\n0       bigcat\n1     smalldog\n2    hugemouse\n3  normalchild\n</code></pre>\n\n<p>Combine the dataframe with <code>pd.concat</code>:</p>\n\n<pre><code>df_combined = pd.concat([dfA, dfB], axis=1)\nprint(df_combined)\n    col1         col2\n0    cat       bigcat\n1    dog     smalldog\n2  mouse    hugemouse\n3  child  normalchild\n</code></pre>\n\n<p>Use <code>.apply</code> with <code>replace</code></p>\n\n<pre><code>df_combined['col'] = df_combined.apply(lambda x: x['col2'].replace(x['col1'], ''), axis=1)\n\nprint(df_combined)\n    col1         col2     col\n0    cat       bigcat     big\n1    dog     smalldog   small\n2  mouse    hugemouse    huge\n3  child  normalchild  normal\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 10718074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b266cdbb70178e109a605cc70cd966cf?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Moncadea", "link": "https://stackoverflow.com/users/10718074/danny-moncadea"}, "edited": false, "score": 0, "creation_date": 1553777265, "post_id": 55394192, "comment_id": 97516154, "body": "unfortunately that doesn&#39;t seem to work :(  so my data set isn&#39;t strictly a string with added characters at the end, and this function doesn&#39;t seem to account for that and only looks at length from the end"}], "tags": [], "owner": {"reputation": 7484, "user_id": 6774472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KcAPv.png?s=128&g=1", "display_name": "Error 1004", "link": "https://stackoverflow.com/users/6774472/error-1004"}, "is_accepted": false, "score": 0, "last_activity_date": 1553765460, "creation_date": 1553765460, "answer_id": 55394192, "question_id": 55387244, "link": "https://stackoverflow.com/questions/55387244/finding-difference-between-strings-in-two-dataframes-lists-output-difference/55394192#55394192", "title": "Finding Difference Between Strings in Two Dataframes/Lists, Output Difference", "body": "<p>You could try the below formula:</p>\n\n<pre><code>=IF(FIND(A2,B2)&gt;1,LEFT(B2,FIND(A2,B2)-1),IF(FIND(B2,B2)=1,RIGHT(B2,LEN(B2)-LEN(A2))))\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10718074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b266cdbb70178e109a605cc70cd966cf?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Moncadea", "link": "https://stackoverflow.com/users/10718074/danny-moncadea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553778304, "creation_date": 1553724675, "last_edit_date": 1553778304, "question_id": 55387244, "link": "https://stackoverflow.com/questions/55387244/finding-difference-between-strings-in-two-dataframes-lists-output-difference", "title": "Finding Difference Between Strings in Two Dataframes/Lists, Output Difference", "body": "<p>So I have an excel sheet and I am trying to analyse the difference between two versions.\nSpecifically, I have two columns; A and B. \nI imported into python and using pandas I made both A and B their own dataframes (respectively called dfA and dfB). Here they have the following:</p>\n\n<p><code>key   dfA          dfB\n 1     cat         bigcat\n 2     dog         smalldog\n 3     mouse       hugemouse\n 4     child       normalchild</code></p>\n\n<p>I am trying to output a third column containing the string difference between the two dataframes, so essentially a third dataframe/column:</p>\n\n<pre><code>ABdifference\nbig\nsmall\nhuge\nnormal\n</code></pre>\n\n<p>I've looked into using the difflib library however I don't think it'll produce the results in a readable format</p>\n\n<p>I'll paste the code of what I have so far, but it's really not much as I haven't coded in some time and I thought it'd be easier than I thought...</p>\n\n<pre><code>import pandas as pd\nfrom pandas import ExcelWriter\nimport difflib\n\ndf = pd.read_excel('somesheet.xlsx', sheet_name='Diff')\n\nfirst= df['A']\nsecond = df['B']\n</code></pre>\n\n<p>i'm not married to the idea of using pandas and dataframes, i just assumed it was the best way to go about excel data.</p>\n\n<p>If anyone could assist in anyway it would be hugely appreciated!</p>\n\n<p>Cheers</p>\n"}, {"tags": ["python", "python-3.x", "oop", "tkinter"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11093202"}, "edited": false, "score": 0, "creation_date": 1553746252, "post_id": 55387233, "comment_id": 97501316, "body": "&quot; I just don&#39;t know how to target the correct label widget at the end&quot;. Could you please explain what you mean by this? I Get everything else, just this statement is a little confusing. Also, what is fallout? Is it a game? I am a noob at gaming so forgive me for this question."}], "answers": [{"tags": [], "owner": {"reputation": 1885, "user_id": 5319738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f84315d92eb583e0744ab6990ca65b?s=128&d=identicon&r=PG&f=1", "display_name": "Kamal", "link": "https://stackoverflow.com/users/5319738/kamal"}, "is_accepted": false, "score": 0, "last_activity_date": 1553751075, "creation_date": 1553751075, "answer_id": 55390738, "question_id": 55387233, "link": "https://stackoverflow.com/questions/55387233/how-to-get-the-name-of-an-instance-to-affect-a-tkinter-label/55390738#55390738", "title": "How to get the name of an instance to affect a tkinter label", "body": "<p>If I understood you correctly, you want to change the health label related to the <code>Raider</code> object passed to <code>Shoot</code> method.</p>\n\n<p>Here is a solution which can work, but I am not sure if this is a suggested way of going as you have to be very careful.</p>\n\n<pre><code>def Shoot(self, win):\n    Damage = 0\n    for i in range(1,4):\n        Difference = PlrWeapon[i] - self.Armour[i]\n        if Difference &gt;= 0:\n            Damage = Damage + Difference\n    self.Health = self.Health - Damage\n    if self.Health &lt;= 0:\n        self.Alive = False\n    win.nametowidget('.health{}'.format(self.Name)).config(text=self.Health)\n\nEnemy1Name = Label(Root, text=Enemy1.Name, name='name'+Enemy1.Name)\nEnemy1Name.grid(row=0, column=0)\nEnemy1Health = Label(Root, text=Enemy1.Health, name='health'+Enemy1.Name)\nEnemy1Health.grid(row=0, column=1)\n\nEnemy2Name = Label(Root, text=Enemy2.Name, name='name'+Enemy2.Name)\nEnemy2Name.grid(row=1, column=0)\nEnemy2Health = Label(Root, text=Enemy2.Health, name='health'+Enemy2.Name)\nEnemy2Health.grid(row=1, column=1)\n</code></pre>\n\n<p>The widgets are stored as a tree structure by tkinter, where your <code>Tk()</code> window is root represented by <code>.</code>. Then its children will be presented as <code>.unique_widget1_id</code> and children of widget1 like <code>.unique_widget1_id.unique_widget2_id</code>. By default, tkinter creates ids like <code>.140343920750152</code> which can be seen through <code>widget.__str__()</code> method.</p>\n\n<p>But you can add user-defined names to widgets when creating them as shown in this solution(Please be sure that every widget have a unique name to avoid issues. If you create two widgets with same name then it will create only first widget and second one will be just a reference to the same widget). Then you can call <code>nametowidget()</code> method on any widget/window and provide relative/absolute path to get widget object(and perform operations on widget).</p>\n\n<p>Let me know if you have questions.</p>\n\n<p>PS: Widget name can not start from upper-case letter.</p>\n"}], "owner": {"reputation": 59, "user_id": 8979240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2446a254107e6c7b4e58c671773613eb?s=128&d=identicon&r=PG&f=1", "display_name": "Rees K", "link": "https://stackoverflow.com/users/8979240/rees-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553751075, "creation_date": 1553724594, "last_edit_date": 1553737491, "question_id": 55387233, "link": "https://stackoverflow.com/questions/55387233/how-to-get-the-name-of-an-instance-to-affect-a-tkinter-label", "title": "How to get the name of an instance to affect a tkinter label", "body": "<p>I'd like to be able to call a subroutine with an instance of a class passed to it and then use a string of the name of the instance to affect which tkinter label is updated.</p>\n\n<p>I know this is an oddly specific and convoluted way of asking something that's probably quite simple but I'm bad at articulating what I need into google.</p>\n\n<p>I'm making a fallout inspired game and I'd like to let the player choose an enemy to shoot at and update their health meter. So far I have all the maths behind the shooting subroutine down, I just don't know how to target the correct label widget at the end</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from tkinter import *\nRoot = Tk()\n\nPlrWeapon = [\"Pipe Revolver Rifle\",6,5,0]\n\nclass Raider:\n    Species = \"Human\"\n    def __init__(self, Name, Level, MaxHealth, Health, Alive, Unique, Weapon, Armour):\n        self.Name = Name\n        self.Level = Level\n        self.MaxHealth = MaxHealth\n        self.Health = Health\n        self.Alive = Alive\n        self.Unique = Unique\n        self.Weapon = Weapon\n        self.Armour = Armour\n\ndef Shoot(self):\n    Damage = 0\n    for i in range(1,4):\n        Difference = PlrWeapon[i] - self.Armour[i]\n        if Difference &gt;= 0:\n            Damage = Damage + Difference\n    self.Health = self.Health - Damage\n    if self.Health &lt;= 0:\n        self.Alive = False\n\nEnemy1 = Raider(\"Tessa\",\n                5,\n                50,\n                50,\n                True,\n                False,\n                [\"Pipe Pistol\",3,2,0],\n                [\"Armourless\",0,0,0])\n\nEnemy2 = Raider(\"Bobby\",\n                5,\n                50,\n                50,\n                True,\n                False,\n                [\"Pipe Rifle\",5,4,0],\n                [\"Leather\",2,3,1])\n\nShoot(Enemy1)\n\nEnemy1Name = Label(Root, text=Enemy1.Name)\nEnemy1Name.grid(row=0, column=0)\nEnemy1Health = Label(Root, text=Enemy1.Health)\nEnemy1Health.grid(row=0, column=1)\n\nEnemy2Name = Label(Root, text=Enemy2.Name)\nEnemy2Name.grid(row=1, column=0)\nEnemy2Health = Label(Root, text=Enemy2.Health)\nEnemy2Health.grid(row=1, column=1)\n\nRoot.mainloop()\n</code></pre>\n\n<p>ideally at the end of the <code>Shoot()</code> routine there would be a part that acted like this</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def Shoot(self):\n    Damage = 0\n    for i in range(1,4):\n        Difference = PlrWeapon[i] - self.Armour[i]\n        if Difference &gt;= 0:\n            Damage = Damage + Difference\n    self.Health = self.Health - Damage\n    if self.Health &lt;= 0:\n        self.Alive = False\n\n    ## start of wishful thinking ##\n\n    str(self)+\"Health\".config(text=self.Health)\n</code></pre>\n\n<p>If you understand what I'm trying to communicate and have a solution I would really appreciate the help. Thanks.</p>\n"}, {"tags": ["python", "input", "keyboard", "pywin32", "simulate"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553728466, "post_id": 55387230, "comment_id": 97497572, "body": "I&#39;m not an expert on these things, but I think they would be accomplished through <code>win32gui</code>, <code>win32con</code> modules right? I know you can find handles for windows like <code>hwnd = win32gui.FindWindow(None, &#39;GTA V&#39;)</code> or something similar, and would imagine that once you have the window handle you could just send keys to it? IDK I&#39;ve never done it before"}, {"owner": {"reputation": 472, "user_id": 10039400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf83aeeace9af37befa7eb0ed7ce7fd?s=128&d=identicon&r=PG&f=1", "display_name": "DJSchaffner", "link": "https://stackoverflow.com/users/10039400/djschaffner"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553735635, "post_id": 55387230, "comment_id": 97499270, "body": "Well that&#39;s my problem. I technically got it working the way you said but since GTA V in this case for example expects direct input , it just ignores the keystrokes that are being sent to it via <code>postMessage(hwnd, WM_KEYDOWN, wparam, lparam)</code> Thus i am looking for a way to simulate direct input, which it expects"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553742436, "post_id": 55387230, "comment_id": 97500589, "body": "Oh I see so this is the same problem I ran into trying to do a project. I&#39;ll try (again) to solve it for the both of us :)"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553753302, "post_id": 55387230, "comment_id": 97503192, "body": "So you are saying that the game requires scan codes like shown at <a href=\"https://stackoverflow.com/questions/14489013/simulate-python-keypresses-for-controlling-a-game\" title=\"simulate python keypresses for controlling a game\">stackoverflow.com/questions/14489013/&hellip;</a> and you have already implemented a solution like this that works for an <i>active</i> window and just need to figure a method to send them to an inactive window?"}, {"owner": {"reputation": 472, "user_id": 10039400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf83aeeace9af37befa7eb0ed7ce7fd?s=128&d=identicon&r=PG&f=1", "display_name": "DJSchaffner", "link": "https://stackoverflow.com/users/10039400/djschaffner"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553774566, "post_id": 55387230, "comment_id": 97514384, "body": "Thats correct. I&#39;d like to send those direct inputs to a specific window. Appreciate your help!"}], "answers": [{"comments": [{"owner": {"reputation": 472, "user_id": 10039400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf83aeeace9af37befa7eb0ed7ce7fd?s=128&d=identicon&r=PG&f=1", "display_name": "DJSchaffner", "link": "https://stackoverflow.com/users/10039400/djschaffner"}, "edited": false, "score": 0, "creation_date": 1553823801, "post_id": 55405852, "comment_id": 97538918, "body": "Mh yes, maybe there is no way to do it. However thats a good workaround you found, unfortunately i believe it&#39;s not practical to use because a VM is just too slow for such a game, especially since i would want to actually play when the bot is not active :D Have an upvote"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 472, "user_id": 10039400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf83aeeace9af37befa7eb0ed7ce7fd?s=128&d=identicon&r=PG&f=1", "display_name": "DJSchaffner", "link": "https://stackoverflow.com/users/10039400/djschaffner"}, "edited": false, "score": 0, "creation_date": 1553835353, "post_id": 55405852, "comment_id": 97541296, "body": "@DJSchaffner I&#39;ll take it :)"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 2, "last_activity_date": 1553802761, "creation_date": 1553802761, "answer_id": 55405852, "question_id": 55387230, "link": "https://stackoverflow.com/questions/55387230/how-would-i-go-about-simulating-direct-input-to-an-inactive-window/55405852#55405852", "title": "How would i go about simulating direct input to an inactive window?", "body": "<p>As far as I can tell you cannot do this. A workaround (found at <a href=\"https://www.reddit.com/r/Python/comments/5wpxtt/automation_in_inactiveunfocused_window/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/Python/comments/5wpxtt/automation_in_inactiveunfocused_window/</a>) would be</p>\n\n<ul>\n<li>get a VM on your machine</li>\n<li>load the game and your script onto the VM</li>\n<li>run game and have your script interact with active window (on VM)</li>\n<li>minimize the VM window of your main machine</li>\n</ul>\n"}], "owner": {"reputation": 472, "user_id": 10039400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf83aeeace9af37befa7eb0ed7ce7fd?s=128&d=identicon&r=PG&f=1", "display_name": "DJSchaffner", "link": "https://stackoverflow.com/users/10039400/djschaffner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1553802761, "creation_date": 1553724586, "question_id": 55387230, "link": "https://stackoverflow.com/questions/55387230/how-would-i-go-about-simulating-direct-input-to-an-inactive-window", "title": "How would i go about simulating direct input to an inactive window?", "body": "<p>I want to send direct input to a (possibly) inactive window in python.\nSo far i have found a <a href=\"https://stackoverflow.com/questions/14489013/simulate-python-keypresses-for-controlling-a-game\">solution</a> to send direct input via ctypes and i have a solution to simulate input to a window, which doesn't work with some games as the one i am testing with (GTA V) is using direct input, using <code>postMessage()</code>via <a href=\"https://pypi.org/project/pywin32/\" rel=\"nofollow noreferrer\">py32win</a>.</p>\n\n<p>So how would i now go about simulating those direct inputs while the target window is possibly not active? Is this even possible?</p>\n\n<p>I would think it should be, because AutoHotkey for example can manage to send direct in such a case.</p>\n\n<p>If you would like to experiment yourself i can provide the postMessage() version, otherwise i would like to keep the question code-free.</p>\n"}, {"tags": ["python", "for-loop", "python-requests"], "comments": [{"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1553724591, "post_id": 55387227, "comment_id": 97496354, "body": "Please read <a href=\"https://meta.stackoverflow.com/q/326569/354577\">Under what circumstances may I add &quot;urgent&quot; or other similar phrases to my question, in order to obtain faster answers?</a> (TL;DR: It&#39;s never okay.)"}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 2, "creation_date": 1553726112, "post_id": 55387227, "comment_id": 97496829, "body": "Rohit, please read the link I put in my first comment. You can&#39;t come here and demand that we help you urgently. It&#39;s not how things work. Daniel&#39;s edit to remove that from your title probably saved you from a ton of downvotes. Commenting that you need help every 5 minutes is just going to annoy people. We know you need help; that&#39;s why you asked a question."}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 1, "creation_date": 1553726388, "post_id": 55387227, "comment_id": 97496910, "body": "Now, if you want help with your code it needs to accurately reflect your problem. The code you&#39;ve posted will generate an <code>IndentationError</code>. Please <a href=\"https://stackoverflow.com/posts/55387227/edit\">edit</a> your question and fix it. We&#39;re not going to guess which errors are relevant and which aren&#39;t. The easiest way to share code is to paste it into your question, then select it and click the <code>{}</code> button or press Ctrl+K. This will indent the whole block by four spaces so it&#39;s correctly formatted."}, {"owner": {"reputation": 11, "user_id": 11268945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9be98b5480a0d42b5f095e18fdfcf1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Chaurasia", "link": "https://stackoverflow.com/users/11268945/rohit-chaurasia"}, "reply_to_user": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 1, "creation_date": 1553726429, "post_id": 55387227, "comment_id": 97496932, "body": "Thanks for the advice @Chris, I will keep it in mind and apologizes to act unprofessionally from my side."}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1553774306, "post_id": 55387227, "comment_id": 97514236, "body": "Okay, thanks for updating the question. This looks much better. It might be clear to somebody who knows Numpy, but unfortunately I don&#39;t. What is <code>splitting_gurl</code>? What are <code>Brand_check</code> and <code>Manufacturer_check</code>? What is <code>webaddresses</code>? If you can add a small amount of code to show that the question will be even more clear. Ideally, we&#39;d like a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 11, "user_id": 11268945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9be98b5480a0d42b5f095e18fdfcf1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Chaurasia", "link": "https://stackoverflow.com/users/11268945/rohit-chaurasia"}, "reply_to_user": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1553843533, "post_id": 55387227, "comment_id": 97543806, "body": "webaddresses :- It is a dataframe consisting of URL&#39;s which I am extracting using automated google search splitting_gurl- In this I have split all the URL present in webaddresses and have saved in their respective rows   e.g - Suppose the given web address is saved at row number 1 :-<a href=\"https://stackoverflow.com/questions\">stackoverflow.com/questions</a> In splitting_gurl it will be at the same place i.e row 1 but will have multiple columns consisting of words -&quot;https&quot; , &quot;stackoverflow&quot;, &quot;com&quot; , &quot;questions&quot; EVery word will be in different column, so that I can compare it with the Brand_check(which consists of brand name)"}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1553861878, "post_id": 55387227, "comment_id": 97553436, "body": "I&#39;m still not totally clear what&#39;s going on, but what happens if you wrap <code>row[[j]]</code> in a call to <code>str()</code> in that line?"}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1553862241, "post_id": 55387227, "comment_id": 97553649, "body": "Or maybe with <a href=\"http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.astype.html\" rel=\"nofollow noreferrer\"><code>.astype(str)</code></a>?"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11268945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9be98b5480a0d42b5f095e18fdfcf1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Chaurasia", "link": "https://stackoverflow.com/users/11268945/rohit-chaurasia"}, "is_accepted": true, "score": 0, "last_activity_date": 1559652084, "creation_date": 1559652084, "answer_id": 56444112, "question_id": 55387227, "link": "https://stackoverflow.com/questions/55387227/trying-to-compare-text-using-for-loop/56444112#56444112", "title": "Trying to compare text using for loop", "body": "<p>We can use Fuzzywuzzy package in python , it compares the words on the basis of levenstein distance and penalizes it for either of the actions i.e Insertion of the alphabet ,deletion or replacement.</p>\n"}], "owner": {"reputation": 11, "user_id": 11268945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9be98b5480a0d42b5f095e18fdfcf1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Chaurasia", "link": "https://stackoverflow.com/users/11268945/rohit-chaurasia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 56444112, "answer_count": 1, "score": 1, "last_activity_date": 1559652084, "creation_date": 1553724560, "last_edit_date": 1553842879, "question_id": 55387227, "link": "https://stackoverflow.com/questions/55387227/trying-to-compare-text-using-for-loop", "title": "Trying to compare text using for loop", "body": "<p>I have various Brands URL in a dataframe which I have got using automated google search,I have split these URL into words and trying to compare the brand name and the manufacturer name with the URL to check if is correct or not(AS most companies have URL either based on their Brand name or their manufacturing company name)</p>\n\n<pre><code>try: \n              from googlesearch import search \nexcept ImportError: \n              print(\"No module named 'google' found\") \n\n\nfor i in search(Brand.get_attribute(\"innerHTML\"), tld=\"com\", num=15, stop=1, pause=2): \n    webaddresses.append(i)\n\nfor i in search(Manufacturer.get_attribute(\"innerHTML\"), tld=\"com\", num=15, stop=1, pause=2): \n    webaddresses.append(i)\n\nfor i in search(Brand.get_attribute(\"innerHTML\") and Manufacturer.get_attribute(\"innerHTML\"), tld=\"com\", num=15, stop=1, pause=2): \n    webaddresses.append(i)\n\nfor i in search(Brand.get_attribute(\"innerHTML\") and Manufacturer.get_attribute(\"innerHTML\") and \"Beverage\", tld=\"com\", num=15, stop=1, pause=2): \n    webaddresses.append(i)\n\nwebaddresses = pd.DataFrame(webaddresses)\nwebaddresses.rename(columns = {list(webaddresses)[0]:'URL'}, inplace=True)\n\nsplitting_gurl = webaddresses['URL'].str.split(r'[.\\:/?=\\-&amp;]+', expand = True)\n\n\n\n\nfor i in range(len(splitting_gurl.index)):\n    row = splitting_gurl.loc[[i]]    \n    for j in range (0,5):\n        if row[[j]] == str(Brand_check) or row[[j]] == str(Manufacturer_check):\n            a=webaddresses.loc[[i]]\n            print(a)\n</code></pre>\n\n<p>Following is the Error:-</p>\n\n<pre><code> File \"&lt;ipython-input-124-0b002229b2b7&gt;\", line 4, in &lt;module&gt;\nif row[[j]] == str(Brand_check) or row[[j]] == str(Manufacturer_check):\n\nFile \"C:\\Users\\Anaconda3\\lib\\site-packages\\pandas\\core\\generic.py\", line 1576, in __nonzero__\n.format(self.__class__.__name__))\n\nValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().\n</code></pre>\n\n<p>I just want my For  Loop and IF statement to run and compare the words.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1553726849, "post_id": 55387207, "comment_id": 97497054, "body": "You can try debuggin yourself by printing at several points index values and some key text which refers to... lets say print statement 1, 2 or 3, etc. This way you see the actual loopings your script is making. Also &quot;&#39;Joe&#39;s Bar&#39;&quot; is not possible to be a dict value because &#39;s is not possible. This should be &quot;&#39;Joe&#39;s Bar&quot; or...."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11268873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0387cab415b89e6463fb56a9c25ae329?s=128&d=identicon&r=PG&f=1", "display_name": "kilshaw", "link": "https://stackoverflow.com/users/11268873/kilshaw"}, "edited": false, "score": 0, "creation_date": 1553799114, "post_id": 55387621, "comment_id": 97530323, "body": "The JSON was a bit more nested and complex with additional outer objects and arrays that I didn&#39;t include in my example but what you provided is similar to what I tried earlier. My fear was losing the referential integrity when I start splitting key value pairs up like that when I start using real database keys instead of the default ones provided in the example."}], "tags": [], "owner": {"reputation": 467, "user_id": 3621944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iV4LY.jpg?s=128&g=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/3621944/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1553726769, "creation_date": 1553726769, "answer_id": 55387621, "question_id": 55387207, "link": "https://stackoverflow.com/questions/55387207/python-to-unpack-key-value-pairs-from-various-layers-of-a-dict-list-dict-struc/55387621#55387621", "title": "Python to unpack key value pairs from various layers of a dict, list, dict structure into separate JSON arrays nested within JSON object", "body": "<p>Try something like this (decision based on your original structure):</p>\n\n<pre><code>fields = []\nvalues = []\n\nfor str in struct_s[\"inserts\"][0][\"fields\"]:\n   for k,v in str.items():\n      fields.append(k)\n      values.append(v)\n\nstruct_n = {\"table\": \"name\"}\nstruct_n[\"inserts\"] = [{\"fields\":fields,\"values\":values}]\n\nprint (struct_n)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>{'table': 'name', 'inserts': [{'fields': ['id', 'name'], 'values': [1, 'National Monument']}]}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 11268873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0387cab415b89e6463fb56a9c25ae329?s=128&d=identicon&r=PG&f=1", "display_name": "kilshaw", "link": "https://stackoverflow.com/users/11268873/kilshaw"}, "edited": false, "score": 0, "creation_date": 1553799469, "post_id": 55387652, "comment_id": 97530538, "body": "This works with the provided dict structure but I have a dictionary containing lists of dictionaries that contain the individual key value pairs so it requires the triple nested for loop I provided as an answer above. This is similar to one path I had explored before hammering out the TNFL."}], "tags": [], "owner": {"reputation": 1, "user_id": 2428041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13be3fa38860c65e5c9a390e65534cc?s=128&d=identicon&r=PG", "display_name": "user2428041", "link": "https://stackoverflow.com/users/2428041/user2428041"}, "is_accepted": false, "score": 0, "last_activity_date": 1553726958, "creation_date": 1553726958, "answer_id": 55387652, "question_id": 55387207, "link": "https://stackoverflow.com/questions/55387207/python-to-unpack-key-value-pairs-from-various-layers-of-a-dict-list-dict-struc/55387652#55387652", "title": "Python to unpack key value pairs from various layers of a dict, list, dict structure into separate JSON arrays nested within JSON object", "body": "<p>Hi I'm not sure if you looking for something like that</p>\n\n<pre><code>nameList = [ {'id': 1, 'name': 'National Monument'}, {'id': 1, 'name': 'Joe\\'s Bar'} ]\ninserts = [None] * len(nameList)\ni = 0\nfor d in nameList:\n    inserts[i] = {\"fields\" : [],\"values\" : []}\n    for k, v in d.items():\n        inserts[i][\"values\"].append(v)\n        inserts[i][\"fields\"].append(k)\n    i+=1   \n\nresult = {\"table\": \"name\"}\nresult[\"inserts\"] = inserts\n\nprint(result)\n</code></pre>\n\n<p>OutPut</p>\n\n<pre><code>{'table': 'name', 'inserts': [{'fields': ['id', 'name'], 'values':[1, 'National Monument']}, {'fields': ['id', 'name'], 'values': [1, \"Joe's Bar\"]}]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11268873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0387cab415b89e6463fb56a9c25ae329?s=128&d=identicon&r=PG&f=1", "display_name": "kilshaw", "link": "https://stackoverflow.com/users/11268873/kilshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1553791035, "last_edit_date": 1553791035, "creation_date": 1553782517, "answer_id": 55399795, "question_id": 55387207, "link": "https://stackoverflow.com/questions/55387207/python-to-unpack-key-value-pairs-from-various-layers-of-a-dict-list-dict-struc/55399795#55399795", "title": "Python to unpack key value pairs from various layers of a dict, list, dict structure into separate JSON arrays nested within JSON object", "body": "<p>Consulted with someone in my organization with a bit more experience than me and came up with this: </p>\n\n<pre><code>constJSON = []\ni = 0     \nfor k, v in dictNorm.iteritems():\n   constJSON.append({\"table\":k, \"inserts\":[]})\n   if v:\n        for d in v:\n            flds = list(d.keys())\n            constJSON[i][\"inserts\"].append({\n                         \"fields\": flds,\n                         \"values\": [d[f] for f in flds]\n            })\n        i += 1\n</code></pre>\n\n<p>Output (partial as this is a large string that iterates over multiple lists of dict structures representing source db tables and columns or tuples).   </p>\n\n<pre><code>[{'table': 'place_nm', 'inserts': [{'fields': ['id', 'name'], 'values': [1, u'National Monument']}, ...\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11268873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0387cab415b89e6463fb56a9c25ae329?s=128&d=identicon&r=PG&f=1", "display_name": "kilshaw", "link": "https://stackoverflow.com/users/11268873/kilshaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1553801896, "creation_date": 1553724417, "last_edit_date": 1592644375, "question_id": 55387207, "link": "https://stackoverflow.com/questions/55387207/python-to-unpack-key-value-pairs-from-various-layers-of-a-dict-list-dict-struc", "title": "Python to unpack key value pairs from various layers of a dict, list, dict structure into separate JSON arrays nested within JSON object", "body": "<p>Scenario:</p>\n<p>I need to extract keys and values from a list of python dictionary structures (constructed in previous steps) into respective 'fields' and 'values' JSON arrays nested in JSON object(s).</p>\n<p>This is part of a complex JSON string I am producing where I have multiple for loop iterators nested within iterators but this key value pair is the center of of lollipop and the part I am stuck on and I have no idea how to break out the keys and values into respective arrays. Below is the portion I was able to get returned but this is just returning the individual dict structures in a single 'fields' array:</p>\n<pre><code>&quot;table&quot;: &quot;name&quot;, \n&quot;inserts&quot;: [\n    {\n        &quot;fields&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;name&quot;: &quot;National Monument&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n<p>I am ham-fisting around with several approaches to try and break this out and below is just one of many failed attempts:</p>\n<pre><code>nameList = [ {'id': 1, 'name': 'National Monument'}, {'id': 1, 'name': &quot;Joe's Bar&quot;} ]\n\nresult = []\ni = 0\nfor d in nameList:\n    for k, v in d.items():\n        result[i][&quot;inserts&quot;].append({&quot;fields&quot;:k})\n        result[i][&quot;inserts&quot;].append({&quot;values&quot;:v})\n    i += 1\n\npprint(result)\n</code></pre>\n<h1>produces error 'IndexError: list index out of range'</h1>\n<p>This is what I need returned (please disregard any non valid JSON and focus on just the distillation of key value pairs into separate JSON arrays).</p>\n<pre><code>&quot;table&quot;: &quot;name&quot;,\n&quot;inserts&quot;: [\n    {\n        &quot;fields&quot;: [\n            &quot;id&quot;,\n            &quot;name&quot;\n        ],\n        &quot;values&quot;: [\n            1,\n            &quot;National Monument&quot;\n        ]\n    }\n]\n</code></pre>\n"}, {"tags": ["python", "kivy", "kivy-language"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1553725503, "last_edit_date": 1553725503, "creation_date": 1553725062, "answer_id": 55387327, "question_id": 55387198, "link": "https://stackoverflow.com/questions/55387198/passing-arguments-to-url-object/55387327#55387327", "title": "Passing arguments to URL object", "body": "<p>One solution is to use <code>functools.partial()</code>:</p>\n\n<pre><code>from functools import partial\n\n# ...\n\ndef generate_images(sensor_id):\n    req = UrlRequest(URL, on_success=partial(url_success, sensor_id))\n\n# ...\n\ndef url_success(sensor_id, req, result):\n    print(sensor_id, req, result)\n</code></pre>\n\n<p>Another solution is to use a <code>lambda</code> functions:</p>\n\n<pre><code>def generate_images(sensor_id):\n    req = UrlRequest(URL, on_success= lambda req, result, sensor_id=sensor_id : url_success(req, result, sensor_id))\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6061588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dc13e42d30746bd0cea4ff1748e217?s=128&d=identicon&r=PG&f=1", "display_name": "Ferris Armstrong", "link": "https://stackoverflow.com/users/6061588/ferris-armstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55387327, "answer_count": 1, "score": 2, "last_activity_date": 1553733277, "creation_date": 1553724364, "question_id": 55387198, "link": "https://stackoverflow.com/questions/55387198/passing-arguments-to-url-object", "title": "Passing arguments to URL object", "body": "<p>Using the URL object in kivy, <a href=\"https://kivy.org/doc/stable/api-kivy.network.urlrequest.html\" rel=\"nofollow noreferrer\">https://kivy.org/doc/stable/api-kivy.network.urlrequest.html</a>, if I wanted to change the on_success function to take in another parameter, how would I pass the value to it?</p>\n\n<pre><code>def generate_images(sensor_id):\n    req = UrlRequest(URL, on_success=url_success)\n</code></pre>\n\n<p>And then in the on_success having something like this</p>\n\n<pre><code>def url_success(req, result, sensor_id):\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1553724741, "post_id": 55387195, "comment_id": 97496397, "body": "I see your regex the same as <code>^0?\\.[0-9][3-9]\\d{9,11}$</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1353, "user_id": 3682157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f0fba83e4788bb33bb49f87611266fe2?s=128&d=identicon&r=PG&f=1", "display_name": "user3682157", "link": "https://stackoverflow.com/users/3682157/user3682157"}, "edited": false, "score": 0, "creation_date": 1553725392, "post_id": 55387302, "comment_id": 97496604, "body": "thank you for your response!  Apologies, but I am confused at the last sentence - why would it not match .01 if it matches everything greater than .03 and less than 1?"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "reply_to_user": {"reputation": 1353, "user_id": 3682157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f0fba83e4788bb33bb49f87611266fe2?s=128&d=identicon&r=PG&f=1", "display_name": "user3682157", "link": "https://stackoverflow.com/users/3682157/user3682157"}, "edited": false, "score": 0, "creation_date": 1553725534, "post_id": 55387302, "comment_id": 97496640, "body": "Because <code>\\.\\d[3-9]</code> is not optional, so it won&#39;t match <code>0.1</code> because that string fails the <code>[3-9]</code> character."}], "tags": [], "owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "is_accepted": false, "score": 1, "last_activity_date": 1553724941, "creation_date": 1553724941, "answer_id": 55387302, "question_id": 55387195, "link": "https://stackoverflow.com/questions/55387195/regex-find-numbers-greater-than-specific-value-with-varying-decimal-lengths/55387302#55387302", "title": "Regex: find numbers greater than specific value (with varying decimal lengths)", "body": "<p>You can use an asterisk to denote zero or more of a digit:</p>\n\n<pre><code>^(?:0?\\.\\d[3-9]\\d*)$\n</code></pre>\n\n<p>This has the added benefit of matching exactly <code>0.03</code> or something with (say) 100 decimal places.</p>\n\n<p>If you want to be strict about the decimal places, you can use brace syntax, which matches any repetitions between 9 and 15 digits:</p>\n\n<pre><code>^(?:0?\\.\\d[3-9]\\d{9,15})$\n</code></pre>\n\n<p>Note that, as written, this regex doesn't match anything greater than or equal to 0.03--it matches anything greater than or equal to 0.03 and less than 1, and it doesn't match, say, 0.1, which is greater than 0.03. To match anything greater than 0.03, best to skip regex entirely and parse the number.</p>\n"}, {"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1553725066, "creation_date": 1553725066, "answer_id": 55387328, "question_id": 55387195, "link": "https://stackoverflow.com/questions/55387195/regex-find-numbers-greater-than-specific-value-with-varying-decimal-lengths/55387328#55387328", "title": "Regex: find numbers greater than specific value (with varying decimal lengths)", "body": "<p>You should simply parse your data as <code>float</code>: </p>\n\n<p>From your pattern you seem to have the numbers already seperated very well - why use regex at all? You numbers fill the whole line or aren't matched at all ( <code>r\"^........$\"</code> so essentially you have:</p>\n\n<pre><code>t = \"\"\"0.0000002\n0.4\n0.04\n0.004\n24544.23354\nAlso Bad\"\"\"\n</code></pre>\n\n<p>Simply split into lines and check each line as float</p>\n\n<pre><code># splits the string into a list of lines\nfor line in (x.strip() for x in t.split(\"\\n\")):\n    try:\n        if float(line) &gt;= 0.03:\n            print(line)\n        else: \n            print(\"Not ok:\",line)\n    except:\n        print(\"Not ok:\",line)\n</code></pre>\n\n<p>Output:        </p>\n\n<pre><code>Not ok: 0.0000002\n0.4\n0.04\nNot ok: 0.004\n24544.23354\nNot ok: Also Bad\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730273, "last_edit_date": 1553730273, "creation_date": 1553729928, "answer_id": 55388096, "question_id": 55387195, "link": "https://stackoverflow.com/questions/55387195/regex-find-numbers-greater-than-specific-value-with-varying-decimal-lengths/55388096#55388096", "title": "Regex: find numbers greater than specific value (with varying decimal lengths)", "body": "<p>Here you go:    0.030000000  -  0.999999999999999  </p>\n\n<p><em><strong>Greater than or equal to .03 and less than 1.0<br>\nat 9-15 decimal places</strong></em></p>\n\n<pre><code>0?\\.(?:03\\d{7,13}|0[4-9]\\d{7,13}|[1-9]\\d{8,14})\n</code></pre>\n\n<p>Expanded  </p>\n\n<pre><code> #  0.030000000  -  0.999999999999999\n 0?\n \\.\n (?:\n      03 \\d{7,13} \n   |  0 [4-9] \\d{7,13} \n   |  [1-9] \\d{8,14} \n )\n</code></pre>\n\n<p>Note - this was machine generated, there could be some overlap.<br>\nExample:  <code>0?\\.(?:0[3-9]\\d{7,13}|[1-9]\\d{8,14})</code></p>\n"}], "owner": {"reputation": 1353, "user_id": 3682157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f0fba83e4788bb33bb49f87611266fe2?s=128&d=identicon&r=PG&f=1", "display_name": "user3682157", "link": "https://stackoverflow.com/users/3682157/user3682157"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1553730273, "creation_date": 1553724352, "question_id": 55387195, "link": "https://stackoverflow.com/questions/55387195/regex-find-numbers-greater-than-specific-value-with-varying-decimal-lengths", "title": "Regex: find numbers greater than specific value (with varying decimal lengths)", "body": "<p>I am trying to regex find all values in a list that are greater than or equal to .03.  The tricky part is that my values have between 9 and 15 decimal places.</p>\n\n<p>My current code works somewhat but is unwieldy - any advice much appreciated:</p>\n\n<pre><code>^(?:0?\\.[0-9][3-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]|0?\\.[0-9][3-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]|0?\\.[0-9][3-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9])$\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "edited": false, "score": 0, "creation_date": 1553724498, "post_id": 55387187, "comment_id": 97496332, "body": "you can pass a dict. For example: <code>TestCase(**Your_DICT)</code> and like this you&#39;ll unpack tyour dict and use it&#39;s kyes &amp; values inside your class as arguments."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1553725191, "post_id": 55387187, "comment_id": 97496533, "body": "In general, you create a class/object that wraps all related parameters. <a href=\"https://refactoring.guru/smells/long-parameter-list\" rel=\"nofollow noreferrer\">refactoring.guru/smells/long-parameter-list</a>"}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 11256286, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20Ks29jXiqU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJo94FpID65gMoGKj5tvPI-fjYFg/mo/photo.jpg?sz=128", "display_name": "PM Hui", "link": "https://stackoverflow.com/users/11256286/pm-hui"}, "is_accepted": false, "score": 1, "last_activity_date": 1553726040, "creation_date": 1553726040, "answer_id": 55387509, "question_id": 55387187, "link": "https://stackoverflow.com/questions/55387187/avoid-passing-too-many-arguments/55387509#55387509", "title": "Avoid passing too many arguments", "body": "<p>Write a class, put in the parameters at <code>__init__</code>, and use <code>self</code>.</p>\n\n<pre><code>class TestCase:\n    def __init__(self, test_name, op_type, run_mode, benchmark_func):\n        self._test_name = test_name\n        self._op_type = op_type\n        self._run_mode = run_mode\n        self._benchmark_func = benchmark_func\n        # bunch of initiation code follows\n\n    # another function, the long list of arguments doesn't look \n    # good to me  \n    def run_test(self, op_args, idk_what_this_is=\"c2\"):\n        # access self._XX for the fields\n</code></pre>\n\n<p>A few notes:</p>\n\n<ol>\n<li>Be careful with naming conventions. Use lowercase with underscore for functions/methods.</li>\n<li>If you are doing conventional testing, consider existing frameworks like <code>nose</code>. There are lots of code pattern that you don't need to rewrite by doing so.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1610, "user_id": 8385666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjF6v.jpg?s=128&g=1", "display_name": "andnik", "link": "https://stackoverflow.com/users/8385666/andnik"}, "is_accepted": true, "score": 0, "last_activity_date": 1553726659, "creation_date": 1553726659, "answer_id": 55387597, "question_id": 55387187, "link": "https://stackoverflow.com/questions/55387187/avoid-passing-too-many-arguments/55387597#55387597", "title": "Avoid passing too many arguments", "body": "<p>If you are interested about how to use * and ** notations look at the example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def f(a, *args, **kwargs):\n     print(\"a: %s, args: %s, kwargs: %s\" % (a,args, kwargs))\n\nf(1, 2, 3, 4, b=5, c=6, d=7)\n# output: A: 1, args: (2, 3, 4), kwargs: {'b': 5, 'c': 6, 'd': 7}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/36901/what-does-double-star-asterisk-and-star-asterisk-do-for-parameters\">What does ** (double star/asterisk) and * (star/asterisk) do for parameters?</a> contains a good explanation on this things.</p>\n\n<p>As for your code if you don't want to pass all your arguments one by one, you can use **kwargs for all your variables:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># definition\ndef TestCase(**kwargs):\n    # all those arguments are unchanged before passing to \n    # \"add_tester\"\n     ...\n\n    # another function, the long list of arguments doesn't look \n    # good to me  \n    add_tester(\"c2\", kwargs)\n\n# Call TestCase\nTestCase(test_name='mm', op_type='MM', input_shapes=input_shapes, op_args={'trans_a': trans_a, 'trans_b': trans_b}, run_mode=run_mode)\n</code></pre>\n\n<p>But you will need to refer to your arguments as <code>kwargs['test_name'], kwargs['op_type'], ...</code> and your arguments become optional, whoever calls your method will not see what actual arguments are expected.</p>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 3129642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c28e7702c1eaf1bd1b24736af3c1738c?s=128&d=identicon&r=PG&f=1", "display_name": "user222216", "link": "https://stackoverflow.com/users/3129642/user222216"}, "is_accepted": false, "score": -1, "last_activity_date": 1553820464, "creation_date": 1553820464, "answer_id": 55408974, "question_id": 55387187, "link": "https://stackoverflow.com/questions/55387187/avoid-passing-too-many-arguments/55408974#55408974", "title": "Avoid passing too many arguments", "body": "<p>You can use global variables. Global variables are the one that are defined and declared outside a function and we need to use them inside a function.  GeeksforGeeks has some examples: <a href=\"https://www.geeksforgeeks.org/global-local-variables-python/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/global-local-variables-python/</a>\nThere's also the config file. The canonical way to share information across modules within a single program is to create a special module (often called config or cfg). Just import the config module in all modules of your application; the module then becomes available as a global name. See python faq's: <a href=\"https://docs.python.org/3/faq/programming.html#how-do-i-share-global-variables-across-modules\" rel=\"nofollow noreferrer\">https://docs.python.org/3/faq/programming.html#how-do-i-share-global-variables-across-modules</a></p>\n"}], "owner": {"reputation": 909, "user_id": 4056023, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b1c6f7f93c7bbe423eabdb69beea5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Zack", "link": "https://stackoverflow.com/users/4056023/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "accepted_answer_id": 55387597, "answer_count": 3, "score": 2, "last_activity_date": 1553820464, "creation_date": 1553724330, "question_id": 55387187, "link": "https://stackoverflow.com/questions/55387187/avoid-passing-too-many-arguments", "title": "Avoid passing too many arguments", "body": "<p>I have the following code where I need to pass all the arguments from one function to another. I want to know a way avoid the long list of arguments. I only \"know\" there is \"*\" and \"**\" in python, but I have never used them before. </p>\n\n<pre><code># definition\n    def TestCase(test_name, op_type, input_shapes, op_args, run_mode):\n        # all those arguments are unchanged before passing to \n        # \"add_tester\"\n         ...\n\n        # another function, the long list of arguments doesn't look \n        # good to me  \n        add_tester(\"c2\", test_name, input_shapes, op_args, run_mode, benchmark_func)\n\n# Call TestCase\nTestCase(\ntest_name='mm',\nop_type='MM',\ninput_shapes=input_shapes,\nop_args={'trans_a': trans_a, 'trans_b': trans_b},\nrun_mode=run_mode)\n</code></pre>\n"}, {"tags": ["python", "pandas", "timecodes"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 10105937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c52b6c45e0ea4a88df733c270f53ecb?s=128&d=identicon&r=PG&f=1", "display_name": "syntheso", "link": "https://stackoverflow.com/users/10105937/syntheso"}, "edited": false, "score": 0, "creation_date": 1553727270, "post_id": 55387344, "comment_id": 97497191, "body": "This gave me AttributeError: &#39;Timestamp&#39; object has no attribute &#39;iloc&#39;"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "reply_to_user": {"reputation": 385, "user_id": 10105937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c52b6c45e0ea4a88df733c270f53ecb?s=128&d=identicon&r=PG&f=1", "display_name": "syntheso", "link": "https://stackoverflow.com/users/10105937/syntheso"}, "edited": false, "score": 0, "creation_date": 1553728186, "post_id": 55387344, "comment_id": 97497488, "body": "@syntheso Do you have a DataFrame, as in your example, or a <code>Series</code>. If <code>f</code> is a Series then it should be <code>(f-f.iloc[0]).dt.total_seconds()*1000</code>"}], "tags": [], "owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "is_accepted": false, "score": 0, "last_activity_date": 1553725143, "creation_date": 1553725143, "answer_id": 55387344, "question_id": 55387173, "link": "https://stackoverflow.com/questions/55387173/series-of-timecodes-to-difference-between-each-timecode-and-the-first-timecode/55387344#55387344", "title": "Series of timecodes to difference between each timecode and the first timecode", "body": "<p>Subtracting two <code>TimeStamps</code> gives you a <code>Timedelta</code> which you can convert to a float with <code>.dt.total_seconds()</code>. Use <code>.iloc[0]</code> to subtract the first element from the entire <code>Series</code>.</p>\n\n<pre><code>(f[0]-f[0].iloc[0]).dt.total_seconds()*1000\n                                      # because milliseconds\n\n#1    0.000000e+00\n#2    3.199227e+10\n#3    1.896396e+10\n#Name: 0, dtype: float64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1413, "user_id": 9324678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc1a660ca0bb094fb848c3800b0003d?s=128&d=identicon&r=PG&f=1", "display_name": "Rich Andrews", "link": "https://stackoverflow.com/users/9324678/rich-andrews"}, "is_accepted": false, "score": 0, "last_activity_date": 1553747594, "last_edit_date": 1553747594, "creation_date": 1553725219, "answer_id": 55387354, "question_id": 55387173, "link": "https://stackoverflow.com/questions/55387173/series-of-timecodes-to-difference-between-each-timecode-and-the-first-timecode/55387354#55387354", "title": "Series of timecodes to difference between each timecode and the first timecode", "body": "<p>Go after this using DataFrame operations so that Pandas does the work. <code>total_delta_time_ms</code> shows the millisecond difference between the first value and each subsequent value.  <code>row_delta_time_ms</code> shows the milliseconds between each row.</p>\n\n<pre><code>import pandas as pd\nfrom pandas import Timestamp\nimport numpy as np\nimport time\n\ns = {1: Timestamp('1970-01-28 05:28:52.235000'),\n 2: Timestamp('1971-02-02 12:13:23.230000'),\n 3: Timestamp('1970-09-04 17:14:53.120000')}\n\nf = pd.DataFrame().from_dict(s, columns=[\"start_time\"], orient='index')\nf[\"first_time\"] = f[\"start_time\"].values[0]\nf[\"end_time\"] = f[\"start_time\"].shift(1)\n\nf[\"total_delta_time\"] = f[\"start_time\"] - f[\"first_time\"]\nf[\"total_delta_time_ms\"] = f[\"total_delta_time\"].astype(np.int64) // 10**9\n\nf[\"row_delta_time\"] = f[\"start_time\"] - f[\"end_time\"]\nf[\"row_delta_time_ms\"] = f[\"row_delta_time\"].astype(np.int64) // 10**9\n\nprint(f[[\"total_delta_time\", \"total_delta_time_ms\"]])\n\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 10105937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c52b6c45e0ea4a88df733c270f53ecb?s=128&d=identicon&r=PG&f=1", "display_name": "syntheso", "link": "https://stackoverflow.com/users/10105937/syntheso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1553747594, "creation_date": 1553724268, "last_edit_date": 1553724910, "question_id": 55387173, "link": "https://stackoverflow.com/questions/55387173/series-of-timecodes-to-difference-between-each-timecode-and-the-first-timecode", "title": "Series of timecodes to difference between each timecode and the first timecode", "body": "<p>How can I get the ms from the first timecode until each subsequent timecode in a series?</p>\n\n<pre><code>import pandas as pd\n\ns = {1: pd.Timestamp('1970-01-28 05:28:52.235000'),\n     2: pd.Timestamp('1971-02-02 12:13:23.230000'),\n     3: pd.Timestamp('1970-09-04 17:14:53.120000')}\n\nf = pd.DataFrame().from_dict(s, orient='index')\n</code></pre>\n\n<p>I have absolutely no idea how to do this and have tried googling without much luck.</p>\n"}, {"tags": ["python", "dictionary", "set", "dictview"], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1553725439, "post_id": 55387347, "comment_id": 97496617, "body": "I&#39;ll note: There <i>is</i> a type inconsistency for <code>set</code>/<code>frozenset</code>, where <code>frozenset OP set</code> produces as <code>frozenset</code> and <code>set OP frozenset</code> produces a <code>set</code>. They wanted <code>frozenset</code> and <code>set</code> to be fully interoperable more than they cared about consistent types (by contrast, <code>tuple</code> and <code>list</code> don&#39;t combine this way, because they&#39;re considered a bit more different in meaning). C&#39;est la vie."}, {"owner": {"reputation": 3691, "user_id": 1808989, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3884a2f2ee43a4681967493905dcc20c?s=128&d=identicon&r=PG", "display_name": "Andrew Sun", "link": "https://stackoverflow.com/users/1808989/andrew-sun"}, "edited": false, "score": 0, "creation_date": 1553815789, "post_id": 55387347, "comment_id": 97537080, "body": "Ah, having dict views be more flexible sounds reasonable. As for set, it was confusing since the Python docs seemed to suggest that the methods were equivalent to the operators."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 3691, "user_id": 1808989, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3884a2f2ee43a4681967493905dcc20c?s=128&d=identicon&r=PG", "display_name": "Andrew Sun", "link": "https://stackoverflow.com/users/1808989/andrew-sun"}, "edited": false, "score": 1, "creation_date": 1553819491, "post_id": 55387347, "comment_id": 97537944, "body": "@AndrewSun: You just need to scroll down below the individual operator/method descriptions: &quot;Note, the non-operator versions of <code>union()</code>, <code>intersection()</code>, <code>difference()</code>, and <code>symmetric_difference()</code>, <code>issubset()</code>, and <code>issuperset()</code> methods will accept any iterable as an argument. In contrast, their operator based counterparts require their arguments to be sets. This precludes error-prone constructions like <code>set(&#39;abc&#39;) &amp; &#39;cbs&#39;</code> in favor of the more readable <code>set(&#39;abc&#39;).intersection(&#39;cbs&#39;)</code>.&quot;"}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 3, "last_activity_date": 1553726005, "last_edit_date": 1553726005, "creation_date": 1553725149, "answer_id": 55387347, "question_id": 55387172, "link": "https://stackoverflow.com/questions/55387172/why-does-dict-unioned-with-dict-keys-return-a-set/55387347#55387347", "title": "Why does dict unioned with dict.keys() return a set?", "body": "<p>Dictionary views are \"set-like\", but unlike <code>set</code>, they don't have the (type flexible) named methods (like <code>.union</code> as in your example), they just have operator overloads which remain type-flexible (since the named methods don't exist).</p>\n\n<p>Being type flexible, they work with <em>any</em> iterable as the other operand, and <code>dict</code>s are iterables of their keys (<code>list({'a': 1, 'b': 2})</code> is <code>['a', 'b']</code>), so the values are ignored in the view operation. It's not that <code>dict</code>s are specially accepted here, they're just being treated like any other iterable (you could <code>|</code> a dictionary view with a <code>dict</code>, <code>list</code>, <code>tuple</code>, <code>range</code>, generator, or file-like object, and they'd all work, assuming hashable contents, and produce a <code>set</code> as the result).</p>\n\n<p>It's not as bad for views to be more flexible because they're not intended to preserve their own type after the operation, they're expected to produce <code>set</code> outputs. <code>set</code>'s out-of-place operators are more strict because they don't want to implicitly give precedence to the type of the left or right hand side when determining the type of the output (they don't want <code>set OP nonset</code> to leave any doubt as to whether the result is of type <code>set</code> or <code>nonset</code>, and they don't want to make it possible for <code>nonset OP set</code> to behave differently). Since dictionary views aren't preserving types anyway, they decided to go with a more liberal design for their operator overloads; the result of <code>view OP nonview</code> and <code>nonview OP view</code> is consistent, and it's always a <code>set</code>.</p>\n\n<p>The documented reason for supporting these specific operations is <a href=\"https://docs.python.org/3/library/stdtypes.html#dictionary-view-objects\" rel=\"nofollow noreferrer\">to match the features of <code>collections.abc.Set</code></a>:</p>\n\n<blockquote>\n  <p>For set-like views, all of the operations defined for the abstract base class <a href=\"https://docs.python.org/3/library/collections.abc.html#collections.abc.Set\" rel=\"nofollow noreferrer\"><code>collections.abc.Set</code></a> are available (for example, <code>==</code>, <code>&lt;</code>, or <code>^</code>).</p>\n</blockquote>\n\n<p>and <a href=\"https://stackoverflow.com/q/53094334/364696\">for some reason, <code>collections.abc.Set</code> doesn't require any of the named methods (aside from <code>isdisjoint</code>)</a>, only the operator overloads.</p>\n\n<p>Note: I'm not agreeing with this (I'd have preferred the views only have their operators work with other views and with <code>set</code>/<code>frozenset</code>, and that the views have the named methods as well for consistency), but it's too late to change, so it is how it is.</p>\n\n<p>As for the <code>set</code> methods being type flexible, that was more of an intentional choice. Operators don't give a strong impression that one of the operands is more important, while methods necessarily do (the thing you called it on is obviously more important than the arguments). So the methods accept arbitrary iterables (and in fact, can accept more than one iterable, as in <code>{1, 2, 3}.union(range(5), range(10, 15))</code>) and return the type of the object they were called on, while the operators insist that the types agree to avoid surprises.</p>\n"}], "owner": {"reputation": 3691, "user_id": 1808989, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3884a2f2ee43a4681967493905dcc20c?s=128&d=identicon&r=PG", "display_name": "Andrew Sun", "link": "https://stackoverflow.com/users/1808989/andrew-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "accepted_answer_id": 55387347, "answer_count": 1, "score": 4, "last_activity_date": 1553726005, "creation_date": 1553724264, "last_edit_date": 1553725731, "question_id": 55387172, "link": "https://stackoverflow.com/questions/55387172/why-does-dict-unioned-with-dict-keys-return-a-set", "title": "Why does dict unioned with dict.keys() return a set?", "body": "<p>As I originally expected, the union of a <code>dict</code> and a <code>set</code> gives <code>TypeError</code>:</p>\n\n<pre><code>&gt;&gt;&gt; {1:2} | {3}\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unsupported operand type(s) for |: 'dict' and 'set'\n</code></pre>\n\n<p>However, surprisingly, the union of a <code>dict</code> and <code>dict.keys()</code> returns a <code>set</code>:</p>\n\n<pre><code>&gt;&gt;&gt; {1:2} | {3:4}.keys()\n{1, 3}\n</code></pre>\n\n<p><code>set.union(dict)</code> also has this behavior:</p>\n\n<pre><code>&gt;&gt;&gt; {3}.union({1:2})\n{1, 3}\n</code></pre>\n\n<p>But <code>set | dict</code> does not, and behaves just like <code>dict | set</code>:</p>\n\n<pre><code>&gt;&gt;&gt; {3} | {1:2}\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unsupported operand type(s) for |: 'set' and 'dict'\n</code></pre>\n\n<p>What's going on here? Why is taking the union of a dict and set allowed in some cases, but not in others, and why does it return a set of the keys in the cases where it is allowed?</p>\n"}, {"tags": ["python", "forms", "if-statement"], "comments": [{"owner": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "edited": false, "score": 0, "creation_date": 1553726929, "post_id": 55387170, "comment_id": 97497077, "body": "Please take a moment to review the following how-to resources: <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/mcve\">Complete Examples</a>."}, {"owner": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "edited": false, "score": 0, "creation_date": 1553726978, "post_id": 55387170, "comment_id": 97497092, "body": "If you&#39;re looking for a code review, you may try <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a>"}], "owner": {"reputation": 61, "user_id": 7422068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0cb6c786881bb71e77f7be9bc94f902?s=128&d=identicon&r=PG&f=1", "display_name": "fg2210", "link": "https://stackoverflow.com/users/7422068/fg2210"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553724259, "creation_date": 1553724259, "question_id": 55387170, "link": "https://stackoverflow.com/questions/55387170/checking-if-all-info-exists-in-one-record", "title": "Checking if all info exists in one record", "body": "<p>I am currently making an appointment scheduler. I am looking to execute an if statement if the doctor is available at the selected time and date. The code I currently have is as follows:</p>\n\n<pre><code>def book():\n    form = BookAppointment(request.form)\n    if request.method == 'POST' and form.validate():\n        appointment_date = form.appointment_date.data\n        appointment_time = form.appointment_time.data\n        appointment_patient_id = form.appointment_patient_id.data\n        appointment_doctor_id = form.appointment_doctor_id.data\n        appointment_centre_id = form.appointment_centre_id.data\n        username = session.get('username', None)\n\n        # Create cursor\n        cur = mysql.connection.cursor()\n\n        find_doctor = cur.execute(\"SELECT * FROM doctors WHERE doctor_id =%s\", [appointment_doctor_id])\n        find_date = cur.execute(\"SELECT * FROM appointments WHERE appointment_date =%s\", [appointment_date])\n        find_time = cur.execute(\"SELECT * FROM appointments WHERE appointment_time =%s\", [appointment_time])\n        msg = cur.fetchone()\n\n        # Execute query\n        cur.execute(\"INSERT INTO appointments(appointment_date, appointment_time, patient_id, doctor_id, centre_id, patient_username) VALUES(%s, %s, %s, %s, %s, %s)\", (appointment_date, appointment_time, appointment_patient_id, appointment_doctor_id, appointment_centre_id, username))\n\n        if find_doctor == 0 and find_date == 0 and find_time == 0:\n            if appointment_date.weekday() == 0 or appointment_date.weekday() == 1 or appointment_date.weekday() == 2 or appointment_date.weekday() == 3 or appointment_date.weekday() == 4:\n                # Commit to DB\n                mysql.connection.commit()\n\n                # Close connection\n                cur.close()\n\n                flash('Appointment made successfully!', 'success')\n                return redirect(url_for('book'))\n\n            else:\n                error = 'Sorry, appointments cannot be made for a Saturday/Sunday'\n                return render_template('/patient/bookappointment.html', error=error, form=form)\n        else:\n            flash('Appointment unavailable, please select another date or time', 'danger')\n            return redirect(url_for('book'))\n    return render_template('/patient/bookappointment.html', form=form)\n</code></pre>\n\n<p>So I want an appointment to be made if there is currently no appointment scheduled with the same doctor at the same date and time. Thanks</p>\n"}, {"tags": ["python", "python-2.7", "dictionary", "set", "list-comprehension"], "answers": [{"tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": false, "score": 2, "last_activity_date": 1553726422, "last_edit_date": 1553726422, "creation_date": 1553724379, "answer_id": 55387202, "question_id": 55387108, "link": "https://stackoverflow.com/questions/55387108/how-to-create-a-dictionary-to-reverse-lookup-list-items-that-each-have-sets/55387202#55387202", "title": "How to create a dictionary to reverse lookup list items that each have sets?", "body": "<p>A straightforward looping solution using <code>collections.defaultdict</code></p>\n\n<pre><code>from collections import defaultdict\nd = defaultdict(set)\nfor k,v in series.items():\n    for prop in v:\n        d[prop].add(k)\nprint(d)\n#defaultdict(set,\n#            {'black': {'test2', 'test3'},\n#             'blue': {'test1', 'test2'},\n#             'green': {'test3'},\n#             'orange': {'test1'},\n#             'red': {'test2'},\n#             'yellow': {'test1', 'test3'}})\n</code></pre>\n\n<hr>\n\n<p>Another approach using <code>pandas</code></p>\n\n<p>First convert <code>series</code> into a DataFrame:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({k: list(v) for k, v in series.items()})\nprint(df)\n#    test1  test2   test3\n#0    blue   blue   black\n#1  orange  black   green\n#2  yellow    red  yellow\n</code></pre>\n\n<p>Next <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.melt.html\" rel=\"nofollow noreferrer\"><code>melt</code></a> the DataFrame, <code>groupby</code> the <code>value</code> and use <code>set</code> as the aggregate function:</p>\n\n<pre><code>print(pd.melt(df).groupby(\"value\", as_index=True).agg(set))\n#              variable\n#value                 \n#black   {test3, test2}\n#blue    {test1, test2}\n#green          {test3}\n#orange         {test1}\n#red            {test2}\n#yellow  {test1, test3}\n</code></pre>\n\n<p>Finally to go back to a dictionary, call <code>to_records()</code> and apply the <code>dict</code> constructor:</p>\n\n<pre><code>print(dict(pd.melt(df).groupby(\"value\", as_index=True).agg(set).to_records()))\n#{'black': {'test2', 'test3'},\n# 'blue': {'test1', 'test2'},\n# 'green': {'test3'},\n# 'orange': {'test1'},\n# 'red': {'test2'},\n# 'yellow': {'test1', 'test3'}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1553729659, "last_edit_date": 1553729659, "creation_date": 1553727391, "answer_id": 55387726, "question_id": 55387108, "link": "https://stackoverflow.com/questions/55387108/how-to-create-a-dictionary-to-reverse-lookup-list-items-that-each-have-sets/55387726#55387726", "title": "How to create a dictionary to reverse lookup list items that each have sets?", "body": "<p>Here's an alternative that creates a regular dictionary:</p>\n\n<pre><code>series = {\n    'test1': {'yellow', 'blue', 'orange'},\n    'test2': {'blue', 'red', 'black'},\n    'test3': {'yellow', 'green', 'black'},\n}\n\nresult = {}\nfor name, props in series.items():\n    for prop in props:\n        result.setdefault(prop, set()).add(name)\n\nfrom pprint import pprint\npprint(result)\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{'black': set(['test2', 'test3']),\n 'blue': set(['test1', 'test2']),\n 'green': set(['test3']),\n 'orange': set(['test1']),\n 'red': set(['test2']),\n 'yellow': set(['test1', 'test3'])}\n</code></pre>\n\n<p>Another alternative to get same result:</p>\n\n<pre><code>from itertools import chain\n\nproperties = set(chain.from_iterable(series.values()))  # All possible.\nresult = {prop: {name for name, props in series.items() if prop in props}\n                    for prop in properties}\n\nfrom pprint import pprint\npprint(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9302, "user_id": 8300135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eaa9ded8087b3af42dd463c95696733?s=128&d=identicon&r=PG&f=1", "display_name": "SpghttCd", "link": "https://stackoverflow.com/users/8300135/spghttcd"}, "is_accepted": false, "score": 0, "last_activity_date": 1553728522, "creation_date": 1553728522, "answer_id": 55387900, "question_id": 55387108, "link": "https://stackoverflow.com/questions/55387108/how-to-create-a-dictionary-to-reverse-lookup-list-items-that-each-have-sets/55387900#55387900", "title": "How to create a dictionary to reverse lookup list items that each have sets?", "body": "<p>Do you already have a set or any iterable containing all properties, e.g. <code>all_props</code>?<br>\nThen your reverse dict could be created with</p>\n\n<pre><code>rev_series = {p: {k for k, v in series.items() if p in v} for p in all_props}\n</code></pre>\n\n<p>If not:</p>\n\n<pre><code>all_props = set()\nfor s in series.values():\n    all_props = all_props.union(s)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24329, "user_id": 5237560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CO92P.png?s=128&g=1", "display_name": "Alain T.", "link": "https://stackoverflow.com/users/5237560/alain-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1553731837, "last_edit_date": 1553731837, "creation_date": 1553731513, "answer_id": 55388293, "question_id": 55387108, "link": "https://stackoverflow.com/questions/55387108/how-to-create-a-dictionary-to-reverse-lookup-list-items-that-each-have-sets/55388293#55388293", "title": "How to create a dictionary to reverse lookup list items that each have sets?", "body": "<p>Build a set of all the available colors. Then, for each color create a set of the series entries that contain that color:</p>\n\n<pre><code>colors = set( color for colors in series.values() for color in colors ) \nresult = { color:set(test for test in series if color in series[test]) for color in colors }\nprint(result)\n# {'green': {'test3'}, 'red': {'test2'}, 'black': {'test2', 'test3'}, 'yellow': {'test1', 'test3'}, 'orange': {'test1'}, 'blue': {'test1', 'test2'}}\n</code></pre>\n"}], "owner": {"reputation": 36033, "user_id": 115751, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/FkIiK.png?s=128&g=1", "display_name": "WilliamKF", "link": "https://stackoverflow.com/users/115751/williamkf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1553731837, "creation_date": 1553723911, "last_edit_date": 1553724253, "question_id": 55387108, "link": "https://stackoverflow.com/questions/55387108/how-to-create-a-dictionary-to-reverse-lookup-list-items-that-each-have-sets", "title": "How to create a dictionary to reverse lookup list items that each have sets?", "body": "<p>I have test names in a list like this in Python v2.7:</p>\n\n<pre><code>all_tests = ['test1', 'test2', 'test3', ..., 'testN']\n</code></pre>\n\n<p>And for each test name, I can lookup a set of properties that the test has:</p>\n\n<pre><code>series['test'] = {'prop1', 'prop2', 'prop3', ..., 'propN'}\n</code></pre>\n\n<p>E.g.,</p>\n\n<pre><code>series['test1'] = {'yellow', 'blue', 'orange'}\nseries['test2'] = {'blue', 'red', 'black'}\nseries['test3'] = {'yellow', 'green', 'black'}\n</code></pre>\n\n<p>Now, I wish to reverse the direction and create a dictionary from properties to the set of tests that have that property.</p>\n\n<p>So for the above example three tests, I'd like to create this dictionary:</p>\n\n<pre><code>result = {\n          'yellow': {'test1', 'test3'},\n          'blue':   {'test1', 'test2'},\n          'orange': {'test1'},\n          'red':    {'test2'},\n          'black':  {'test2', 'test3'}\n          'green':  {'test3'}\n}\n</code></pre>\n\n<p>I imagine there is a way with list comprehension to build the dictionary, but I'm unclear how to do so.  I'm thinking something along these lines:</p>\n\n<pre><code>tuple( series[test], test ) for test in all_tests\n</code></pre>\n\n<p>But don't know how to put that into the result dictionary and have the set of dictionary values for each key, keep getting added to.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "reply_to_user": {"reputation": 55, "user_id": 11259805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rVMGie9pomg/AAAAAAAAAAI/AAAAAAAACeE/RhKNPIKXnkE/photo.jpg?sz=128", "display_name": "eda", "link": "https://stackoverflow.com/users/11259805/eda"}, "edited": false, "score": 0, "creation_date": 1553724911, "post_id": 55387178, "comment_id": 97496453, "body": "Oh really? I&#39;ll add what I used for <code>l1</code> and <code>l2</code> and the output."}, {"owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "reply_to_user": {"reputation": 55, "user_id": 11259805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rVMGie9pomg/AAAAAAAAAAI/AAAAAAAACeE/RhKNPIKXnkE/photo.jpg?sz=128", "display_name": "eda", "link": "https://stackoverflow.com/users/11259805/eda"}, "edited": false, "score": 0, "creation_date": 1553725156, "post_id": 55387178, "comment_id": 97496523, "body": "@eda added inputs and outputs"}], "tags": [], "owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "is_accepted": true, "score": 0, "last_activity_date": 1553725144, "last_edit_date": 1553725144, "creation_date": 1553724283, "answer_id": 55387178, "question_id": 55387016, "link": "https://stackoverflow.com/questions/55387016/spam-filtering-remove-stopwords/55387178#55387178", "title": "spam filtering: remove stopwords", "body": "<p>You should probably convert <code>l2</code> to a <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">regex</a> and <code>re.sub</code> each string in <code>l1</code> using it. Something like:</p>\n\n<pre><code>import re\n\nl1 = [['ham', 'And how you will do that, princess? :)'],\n      ['spam',\n       'Urgent! Please call 09061213237 from landline. \\xc2\\xa35000 cash or a luxury 4* Canary Islands Holiday await collection.....']]\n\nl2 = ['a', ' able', ' about', ' across', ' after', ' all', ' almost', ' also', ' am', ' among', ' an', ' and', ' any']\n\nstop_re = re.compile(\n    r'(\\s+|\\b)({})\\b'.format(r'|'.join(word.strip() for word in l2)),\n    re.IGNORECASE)\ncleaned = [[stop_re.sub('', part).strip() for part in sublist] for sublist in l1]\n\n# cleaned ==&gt;\n#     [['ham', 'how you will do that, princess? :)'],\n#      ['spam',\n#       'Urgent! Please call 09061213237 from landline. \\xc2\\xa35000 cash or luxury 4* Canary Islands Holiday await collection.....']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 11259805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rVMGie9pomg/AAAAAAAAAAI/AAAAAAAACeE/RhKNPIKXnkE/photo.jpg?sz=128", "display_name": "eda", "link": "https://stackoverflow.com/users/11259805/eda"}, "edited": false, "score": 0, "creation_date": 1553724931, "post_id": 55387218, "comment_id": 97496458, "body": "I want to remove only the stopwords that exist in l2."}, {"owner": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "reply_to_user": {"reputation": 55, "user_id": 11259805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rVMGie9pomg/AAAAAAAAAAI/AAAAAAAACeE/RhKNPIKXnkE/photo.jpg?sz=128", "display_name": "eda", "link": "https://stackoverflow.com/users/11259805/eda"}, "edited": false, "score": 0, "creation_date": 1553725105, "post_id": 55387218, "comment_id": 97496508, "body": "@eda I edited my answer and included a custom stopword list as well. Hope it helps."}], "tags": [], "owner": {"reputation": 23213, "user_id": 7131757, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wvEUE.jpg?s=128&g=1", "display_name": "Giorgos Myrianthous", "link": "https://stackoverflow.com/users/7131757/giorgos-myrianthous"}, "is_accepted": false, "score": 3, "last_activity_date": 1553725082, "last_edit_date": 1553725082, "creation_date": 1553724507, "answer_id": 55387218, "question_id": 55387016, "link": "https://stackoverflow.com/questions/55387016/spam-filtering-remove-stopwords/55387218#55387218", "title": "spam filtering: remove stopwords", "body": "<p>If you don't want to re-invent the wheel, you can use <code>nltk</code> to tokenise your text and remove stopwords: </p>\n\n<pre><code>import nltk\ndata = [['ham', 'And how you will do that, princess? :)'], ['spam', 'Urgent! Please call 09061213237 from landline. \u00a35000 cash or a luxury 4* Canary Islands Holiday await collection']]\n\nfor text in (label_text[1] for label_text in data): \n    filtered_tokens = [token for token in nltk.word_tokenize(text) if token.lower() not in nltk.corpus.stopwords.words('english')]\n    print(filtered_tokens)\n</code></pre>\n\n<p>And the output should be: </p>\n\n<pre><code>&gt;&gt;&gt; [',', 'princess', '?', ':', ')']\n&gt;&gt;&gt; ['Urgent', '!', 'Please', 'call', '09061213237', 'landline', '.', '\u00a35000', 'cash', 'luxury', '4*', 'Canary', 'Islands', 'Holiday', 'await', 'collection']\n</code></pre>\n\n<p>If you still want to use your own list of stopwords the following should do the trick for you: </p>\n\n<pre><code>import nltk\n\ndata = [['ham', 'And how you will do that, princess? :)'], ['spam', 'Urgent! Please call 09061213237 from landline. \u00a35000 cash or a luxury 4* Canary Islands Holiday await collection']]\nstopwords = ['a', 'able', 'about', 'across', 'after', 'all', 'almost', 'also', 'am', 'among', 'an', 'and', 'any' ]\n\nfor text in (label_text[1] for label_text in data): \n    filtered_tokens = [token for token in nltk.word_tokenize(text) if token.lower() not in stopwords]\n    print(filtered_tokens)\n\n&gt;&gt;&gt; ['how', 'you', 'will', 'do', 'that', ',', 'princess', '?', ':', ')']\n&gt;&gt;&gt; ['Urgent', '!', 'Please', 'call', '09061213237', 'from', 'landline', '.', '\u00a35000', 'cash', 'or', 'luxury', '4*', 'Canary', 'Islands', 'Holiday', 'await', 'collection']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "is_accepted": false, "score": 0, "last_activity_date": 1553726147, "creation_date": 1553726147, "answer_id": 55387525, "question_id": 55387016, "link": "https://stackoverflow.com/questions/55387016/spam-filtering-remove-stopwords/55387525#55387525", "title": "spam filtering: remove stopwords", "body": "<p>One of the problems here is that you iterate over <code>l2</code> for every word in <code>l1</code> when you're doing <code>if j in l2</code> (time complexity if <code>O(n)</code>), which makes it quite slow.\nSince you are only interested in which words are in <code>l2</code> you could convert it to a set, which has a time complexity if <code>O(1)</code> for accessing items in it.\nIt also appears that <code>l2</code> has spaces in each word that will make it harder to track.</p>\n\n<p>One bug that also appears (that is quite common when deleting things from lists while iterating) is that when you delete an item from a list when iterating forward, it will actually offset the list and you'll skip the check on the next item in the list. This can easily be fixed by reversing the iteration of the list you're deleting from.</p>\n\n<pre><code># Strip the spaces in l2 by using strip() on each element, and convert it to a set\nl2 = set(map(lambda x: x.strip(), l2))\n\nfor i in l1:\n    i[1] = i[1].lower()\n    i[1] = i[1].split()\n    # Reverse so it won't skip words on iteration\n    for j in reversed(i[1]):\n        if j in l2:\n            i[1].remove(j)\n    # Put back the strings again\n    i[1] = ' '.join(i[1])\n</code></pre>\n\n<p>The previous solution had the time complexity of <code>O(m*n)</code> where m was the total amount of words to be checked, and n was the number of stopwords.\nThis solution should have the time complexity of <code>O(m)</code> only.</p>\n"}], "owner": {"reputation": 55, "user_id": 11259805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rVMGie9pomg/AAAAAAAAAAI/AAAAAAAACeE/RhKNPIKXnkE/photo.jpg?sz=128", "display_name": "eda", "link": "https://stackoverflow.com/users/11259805/eda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 55387178, "answer_count": 3, "score": 4, "last_activity_date": 1553726147, "creation_date": 1553723420, "question_id": 55387016, "link": "https://stackoverflow.com/questions/55387016/spam-filtering-remove-stopwords", "title": "spam filtering: remove stopwords", "body": "<p>I have created two lists: l1 is my major list and l2 is the list containing certain stopwords. I intend to remove the stopwords in l2 from the second nested list in l1. However, it seems that the code is not efficient and only one stopword is removed while the rest of them remain in l1.\nThis is what l1 looks like:</p>\n\n<pre><code>[['ham', 'And how you will do that, princess? :)'], ['spam', 'Urgent! Please call 09061213237 from landline. \u00a35000 cash or a luxury 4* Canary Islands Holiday await collection.....]],...]\n</code></pre>\n\n<p>This is what l2 looks like: </p>\n\n<pre><code>['a', ' able', ' about', ' across', ' after', ' all', ' almost', ' also', ' am', ' among', ' an', ' and', ' any',....]\n</code></pre>\n\n<p>This is what I have tried:</p>\n\n<pre><code>for i in l1:\n   i[1] = i[1].lower()\n   i[1] = i[1].split()\n   for j in i[1]:\n      if j in l2:\n         i[1].remove(j)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11268855, "user_type": "registered", "profile_image": "https://graph.facebook.com/2323294134404288/picture?type=large", "display_name": "J.a. Martin", "link": "https://stackoverflow.com/users/11268855/j-a-martin"}, "edited": false, "score": 0, "creation_date": 1553814920, "post_id": 55387215, "comment_id": 97536851, "body": "That works well, thank you, but I am still having the issue of it labeling the line number for the highlight portion. The output should list the line number at the beginning example: 1:     --&gt;Rocket&lt;--"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 33, "user_id": 11268855, "user_type": "registered", "profile_image": "https://graph.facebook.com/2323294134404288/picture?type=large", "display_name": "J.a. Martin", "link": "https://stackoverflow.com/users/11268855/j-a-martin"}, "edited": false, "score": 0, "creation_date": 1553846181, "post_id": 55387215, "comment_id": 97544895, "body": "@j.a.martin use enumerate to enumerate the lines before excluding what does not match - see edit."}, {"owner": {"reputation": 33, "user_id": 11268855, "user_type": "registered", "profile_image": "https://graph.facebook.com/2323294134404288/picture?type=large", "display_name": "J.a. Martin", "link": "https://stackoverflow.com/users/11268855/j-a-martin"}, "edited": false, "score": 0, "creation_date": 1553894286, "post_id": 55387215, "comment_id": 97570307, "body": "Thank you so much for your help. I really appreciate it. I hope to be able to answer the questions sometime in the future."}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 1, "last_activity_date": 1553846251, "last_edit_date": 1553846251, "creation_date": 1553724498, "answer_id": 55387215, "question_id": 55386983, "link": "https://stackoverflow.com/questions/55386983/trouble-with-counting-and-highlights/55387215#55387215", "title": "Trouble with counting and highlights", "body": "<p>If you iterate lines from a file, each line ends with a newline <code>'\\n'</code>. </p>\n\n<p>If you prepend <code>'--&gt;'</code> and append <code>'&lt;--'</code>, the <code>'&lt;--'</code> is added <em>after</em> the newline character. You could change your code, remove the \\n and add &lt;-- .. but it can be done far easier:</p>\n\n<ul>\n<li>replace text with <a href=\"https://docs.python.org/3.3/library/stdtypes.html#str.replace\" rel=\"nofollow noreferrer\">str.replace(\"replace what\",\"replace with what\")</a></li>\n<li><a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\">enumerate (iterable, start)</a> your lines</li>\n<li>use <a href=\"https://docs.python.org/3/tutorial/inputoutput.html#formatted-string-literals\" rel=\"nofollow noreferrer\">f-string formatting</a></li>\n<li>count using <a href=\"https://docs.python.org/3.3/library/stdtypes.html#str.count\" rel=\"nofollow noreferrer\">str.count()</a></li>\n</ul>\n\n<p><em>Create file:</em></p>\n\n<pre><code>with open(\"k.txt\",\"w\") as f:\n    f.write(\"\"\"I heart Rocket!\nRocket, Rocket, Rocket.\nDon't say it.\nRocket, Rocket, Rocket!\n\n\n\n\n\nRocket!!!\"\"\")\n</code></pre>\n\n<p><em>Process file:</em></p>\n\n<pre><code>with open(\"k.txt\") as f:\n\n    # read all text\n    text = f.read()\n\n    # replace Rocket with --&gt;Rocket&lt;-- and store as text2\n    text2 = text.replace(\"Rocket\",\"--&gt;Rocket&lt;--\")\n\n    # split at \\n, enumerate result starting at 1, remove any line \n    # that does not contain Rocket, join with \\n\n    text3 = text2.split(\"\\n\")\n    text4 = [f\"{row:2d} {x}\" for row,x in enumerate(text3,1) if \"Rocket\" in x]\n    text5 = \"\\n\".join(text4)\n\n    # Count rockets and print replaced text\n    print(text.count(\"Rocket\")) \n    print(text3)\n    print(text4)\n    print(text5)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code># the rocket count\n8  \n\n# text3: all lines\n['I heart --&gt;Rocket&lt;--!', '--&gt;Rocket&lt;--, --&gt;Rocket&lt;--, --&gt;Rocket&lt;--.', \"Don't say it.\", \n'--&gt;Rocket&lt;--, --&gt;Rocket&lt;--, --&gt;Rocket&lt;--!', '', '', '', '', '', '--&gt;Rocket&lt;--!!!']\n\n# text4: with enumeration of line number \n[' 1 I heart --&gt;Rocket&lt;--!', ' 2 --&gt;Rocket&lt;--, --&gt;Rocket&lt;--, --&gt;Rocket&lt;--.', \n ' 4 --&gt;Rocket&lt;--, --&gt;Rocket&lt;--, --&gt;Rocket&lt;--!', '10 --&gt;Rocket&lt;--!!!']\n\n # joined together again \n 1 I heart --&gt;Rocket&lt;--!\n 2 --&gt;Rocket&lt;--, --&gt;Rocket&lt;--, --&gt;Rocket&lt;--.\n 4 --&gt;Rocket&lt;--, --&gt;Rocket&lt;--, --&gt;Rocket&lt;--!\n10 --&gt;Rocket&lt;--!!!\n</code></pre>\n\n<hr>\n\n<p>If you want to confuse yourself you can do it as 4-liner:</p>\n\n<pre><code>with open(\"k.txt\") as f:\n    text = \"\\n\".join( \n        [f\"{row:2d} {x}\" for row,x \n         in enumerate( f.read().replace(\"Rocket\",\"--&gt;Rocket&lt;--\").split(\"\\n\"),1) \n         if \"Rocket\" in x])\n    print(text.count(\"Rocket\")) \n    print(text)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11268855, "user_type": "registered", "profile_image": "https://graph.facebook.com/2323294134404288/picture?type=large", "display_name": "J.a. Martin", "link": "https://stackoverflow.com/users/11268855/j-a-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 55387215, "answer_count": 1, "score": 1, "last_activity_date": 1553846251, "creation_date": 1553723287, "last_edit_date": 1553724850, "question_id": 55386983, "link": "https://stackoverflow.com/questions/55386983/trouble-with-counting-and-highlights", "title": "Trouble with counting and highlights", "body": "<p>I am trying to create two functions. One uses two arguments, a filename, and a keyword. It needs to highlight the word and return the highlighted word or words with the line number. </p>\n\n<p>The second function counts the number of times a specific word occurs in a file. Once again this one uses two arguments a filename and a keyword.</p>\n\n<p>This one is called highlight. It needs to look at each line, find the keyword, then returns the line number with the keyword highlighted bracketed by '-->' on the left and '&lt;--\" on the right.</p>\n\n<pre><code>def highlight(filename, keyword):\n    inpt = open(filename, \"r\")\n    for line in inpt:\n        if re.match(keyword, line):\n            print ('--&gt;',line,'&lt;--')\n</code></pre>\n\n<p>This function uses a filename and keyword and counts the number of times a specific word occurs in a file, then returns the count.</p>\n\n<pre><code>def count_word(filename, keyword):\n    fname = (filename)\n    word= (keyword)\n    count = 0\n    with open(fname, 'r') as in_file:\n        for line in in_file:\n            words = line.split()\n            for i in words:\n                if(i==word):\n                    count=count+1\n                print (count)\n</code></pre>\n\n<p>Am I going in completely the wrong direction? Am I close at all?</p>\n\n<p>The text file reads:</p>\n\n<pre><code>I heart Rocket!\nRocket, Rocket, Rocket.\nDon't say it.\nRocket, Rocket, Rocket!\n\n\n\n\n\nRocket!!!\n</code></pre>\n\n<p>Right now I am getting:</p>\n\n<pre><code>highlight:\nprinted:\n--&gt; Rocket, Rocket, Rocket.\n &lt;--\n--&gt; Rocket, Rocket, Rocket!\n &lt;--\n--&gt; Rocket!!!\n &lt;--\n\nexpected:\n1:   I heart --&gt;Rocket&lt;--!\n2:   --&gt;Rocket&lt;--, --&gt;Rocket&lt;--, --&gt;Rocket&lt;--.\n4:   --&gt;Rocket&lt;--, --&gt;Rocket&lt;--, --&gt;Rocket&lt;--!\n10:  --&gt;Rocket&lt;--!!!\n\n\ncount_word:\n\nprinted:\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\nexpected:\n8\n</code></pre>\n"}, {"tags": ["python", "json", "python-3.x"], "comments": [{"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 1, "creation_date": 1553723815, "post_id": 55386975, "comment_id": 97496066, "body": "You can <code>open</code> a file and use <code>json.dump(obj, fp)</code> to store your obj&#39;s json representation to that file"}, {"owner": {"reputation": 1, "user_id": 11145259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SPXBL.png?s=128&g=1", "display_name": "PanicKk", "link": "https://stackoverflow.com/users/11145259/panickk"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553723875, "post_id": 55386975, "comment_id": 97496094, "body": "Can you show me an example using the code above?^^"}, {"owner": {"reputation": 1, "user_id": 11145259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SPXBL.png?s=128&g=1", "display_name": "PanicKk", "link": "https://stackoverflow.com/users/11145259/panickk"}, "reply_to_user": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553724495, "post_id": 55386975, "comment_id": 97496331, "body": "Ummm... this is taking long xD. Do you have a discord? If you do add me Pan!cKk#6666 and lets talk there! \ud83d\ude0a"}, {"owner": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "edited": false, "score": 0, "creation_date": 1553736516, "post_id": 55386975, "comment_id": 97499439, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12309269/how-do-i-write-json-data-to-a-file\">How do I write JSON data to a file?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11145259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SPXBL.png?s=128&g=1", "display_name": "PanicKk", "link": "https://stackoverflow.com/users/11145259/panickk"}, "edited": false, "score": 0, "creation_date": 1553724278, "post_id": 55387117, "comment_id": 97496247, "body": "Thanks! What i wanna do now is that when i run the random.choice command to make the code skip what it has chosed if it is already stored in... example: myfile.txt"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "reply_to_user": {"reputation": 1, "user_id": 11145259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SPXBL.png?s=128&g=1", "display_name": "PanicKk", "link": "https://stackoverflow.com/users/11145259/panickk"}, "edited": false, "score": 0, "creation_date": 1553724530, "post_id": 55387117, "comment_id": 97496338, "body": "@PanicKk I&#39;ve updated my answer to read a <code>json</code> file into an <code>object</code>"}, {"owner": {"reputation": 1, "user_id": 11145259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SPXBL.png?s=128&g=1", "display_name": "PanicKk", "link": "https://stackoverflow.com/users/11145259/panickk"}, "edited": false, "score": 0, "creation_date": 1553725268, "post_id": 55387117, "comment_id": 97496562, "body": "I got it! Now it reads and gets stored in the file but when i re run it, it just updates it, it doesn&#39;t add a new line with the new choice! How to make it store it all not update that one!?"}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "reply_to_user": {"reputation": 1, "user_id": 11145259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SPXBL.png?s=128&g=1", "display_name": "PanicKk", "link": "https://stackoverflow.com/users/11145259/panickk"}, "edited": false, "score": 0, "creation_date": 1553728047, "post_id": 55387117, "comment_id": 97497439, "body": "@PanicKk when you load the json modify it (e.g., add the choice) and then write the modified object back to disk."}], "tags": [], "owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "is_accepted": false, "score": 0, "last_activity_date": 1553724493, "last_edit_date": 1553724493, "creation_date": 1553723972, "answer_id": 55387117, "question_id": 55386975, "link": "https://stackoverflow.com/questions/55386975/python-stroing-data-with-json/55387117#55387117", "title": "Python stroing data with JSON", "body": "<p>You can do something like this</p>\n\n<pre><code>import json\nmyObj = {'prop1': 130, 'prop2': \"bob\"}\nwith open('myfile.txt', 'w') as fp:\n    json.dump(myObj, fp)\n</code></pre>\n\n<p><strong>EDIT</strong>: That will save <code>myObj</code> to <code>myfile.txt</code> in json format.</p>\n\n<p><strong>UPDATE</strong>: If you want to read the json you can do it as follows:</p>\n\n<pre><code>with open('myfile.txt') as fp:\n    myObj = json.load(fp)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11145259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SPXBL.png?s=128&g=1", "display_name": "PanicKk", "link": "https://stackoverflow.com/users/11145259/panickk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553724493, "creation_date": 1553723269, "last_edit_date": 1553723574, "question_id": 55386975, "link": "https://stackoverflow.com/questions/55386975/python-stroing-data-with-json", "title": "Python stroing data with JSON", "body": "<p>I'm doing a python \"project\" for my class! Like I want to make the computer choose random students who to sit with and where! Well... I know how to do it my self, but i want to make it automated with JSON. Uhm.. like when i run the command and then the computer randomly chooses two students and I want to store that choice with JSON, so when i run the command again to check for the other students it wont try to choose the ones that have been already chosen before and that are stored in JSON file.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import random\n\n#whotositwith\nnames1 = ('')\nnames2 = ('')\nwhotositwith = (random.choice(names1) + \" - \" + random.choice(names2))\nbankcouple = whotositwith\n\n#wheretosit\nbanka = '1'\nnxenesit_numer = ('')\nwheretosit = (\"Nx\u00ebn\u00ebsit num\u00ebr \" + random.choice(nxenesit_numer) + \" n\u00eb bank\u00ebn e \" + banka)\nbanka = wheretosit\nprint(bankcouple)\n</code></pre>\n\n<p>Don't mind the language, it is not fully in English! :)</p>\n"}, {"tags": ["python", "web-scraping", "request"], "comments": [{"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1553723831, "post_id": 55386974, "comment_id": 97496073, "body": "Souldn&#39;t the URL be <code>http:&#47;&#47;armstrade.sipri.org&#47;armstrade&#47;html&#47;export_values.php</code>?"}, {"owner": {"reputation": 13, "user_id": 11268936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K23YtaxO4eQ/AAAAAAAAAAI/AAAAAAAAAAc/r5bp1xAL2lE/photo.jpg?sz=128", "display_name": "Xyt", "link": "https://stackoverflow.com/users/11268936/xyt"}, "reply_to_user": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1553728245, "post_id": 55386974, "comment_id": 97497511, "body": "when I open the page from the official website of SIPRI, the link is  <a href=\"http://armstrade.sipri.org/armstrade/page/values.php\" rel=\"nofollow noreferrer\">armstrade.sipri.org/armstrade/page/values.php</a>, it will change to the one you indicated if I actually submit a form and show the data on screen"}, {"owner": {"reputation": 13, "user_id": 11268936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K23YtaxO4eQ/AAAAAAAAAAI/AAAAAAAAAAc/r5bp1xAL2lE/photo.jpg?sz=128", "display_name": "Xyt", "link": "https://stackoverflow.com/users/11268936/xyt"}, "reply_to_user": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1553782183, "post_id": 55386974, "comment_id": 97519703, "body": "I guess you&#39;re right and this is the essential part that prevents me from getting the right result. Thanks!!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11268936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K23YtaxO4eQ/AAAAAAAAAAI/AAAAAAAAAAc/r5bp1xAL2lE/photo.jpg?sz=128", "display_name": "Xyt", "link": "https://stackoverflow.com/users/11268936/xyt"}, "edited": false, "score": 0, "creation_date": 1553728592, "post_id": 55387015, "comment_id": 97497599, "body": "I tried both POST and REQUEST actually, get the same result. Thanks"}], "tags": [], "owner": {"reputation": 2646, "user_id": 6308685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73d4e8cd4bfec537fda6e26c9ea2d430?s=128&d=identicon&r=PG&f=1", "display_name": "alex067", "link": "https://stackoverflow.com/users/6308685/alex067"}, "is_accepted": false, "score": 0, "last_activity_date": 1553723415, "creation_date": 1553723415, "answer_id": 55387015, "question_id": 55386974, "link": "https://stackoverflow.com/questions/55386974/scrape-a-php-webpage-that-needs-a-submitted-form/55387015#55387015", "title": "Scrape a php webpage that needs a submitted form", "body": "<p>Try using a GET request instead of a POST request, as you are not inputting any values, rather you are requesting some data from the client. </p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 11268936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K23YtaxO4eQ/AAAAAAAAAAI/AAAAAAAAAAc/r5bp1xAL2lE/photo.jpg?sz=128", "display_name": "Xyt", "link": "https://stackoverflow.com/users/11268936/xyt"}, "edited": false, "score": 0, "creation_date": 1553728741, "post_id": 55387166, "comment_id": 97497652, "body": "I don&#39;t think so, the content I have gives me nothing but the original page where you could submit your form. Did you verify your result?"}], "tags": [], "owner": {"reputation": 39, "user_id": 3805427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HdKqA.jpg?s=128&g=1", "display_name": "Kashem Ali", "link": "https://stackoverflow.com/users/3805427/kashem-ali"}, "is_accepted": false, "score": -1, "last_activity_date": 1553724241, "creation_date": 1553724241, "answer_id": 55387166, "question_id": 55386974, "link": "https://stackoverflow.com/questions/55386974/scrape-a-php-webpage-that-needs-a-submitted-form/55387166#55387166", "title": "Scrape a php webpage that needs a submitted form", "body": "<p>Your script working very good. page.content hold all response data. Thanks.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import requests\r\nsubmit_value={'country_code':'ALG','low_year':'2010','high_year':'2018','import_or_export':'import','summarize':'country','filetype':'html','Action':'Download'}\r\npage = requests.post(url='http://armstrade.sipri.org/armstrade/page/values.php',data=submit_value)\r\nprint(page.content)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 11268936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K23YtaxO4eQ/AAAAAAAAAAI/AAAAAAAAAAc/r5bp1xAL2lE/photo.jpg?sz=128", "display_name": "Xyt", "link": "https://stackoverflow.com/users/11268936/xyt"}, "edited": false, "score": 0, "creation_date": 1553728567, "post_id": 55387277, "comment_id": 97497595, "body": "Thanks for the response, I ran your code but the &#39;sample.hmtl&#39; file actually states: &lt;!-- body --&gt; \t&lt;p class=&quot;page404&quot;&gt;Page not found&lt;/p&gt;  did you verify your file?"}, {"owner": {"reputation": 1205, "user_id": 2846068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHfXv.jpg?s=128&g=1", "display_name": "MasterAler", "link": "https://stackoverflow.com/users/2846068/masteraler"}, "reply_to_user": {"reputation": 13, "user_id": 11268936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K23YtaxO4eQ/AAAAAAAAAAI/AAAAAAAAAAc/r5bp1xAL2lE/photo.jpg?sz=128", "display_name": "Xyt", "link": "https://stackoverflow.com/users/11268936/xyt"}, "edited": false, "score": 0, "creation_date": 1553731964, "post_id": 55387277, "comment_id": 97498466, "body": "@Xyt, I did. There was a typo, fixed my answer -- it is <code>html&#47;export_values.php</code>"}, {"owner": {"reputation": 403, "user_id": 4006874, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/V3bNk.jpg?s=128&g=1", "display_name": "Trung NT Nguyen", "link": "https://stackoverflow.com/users/4006874/trung-nt-nguyen"}, "edited": false, "score": 0, "creation_date": 1553742691, "post_id": 55387277, "comment_id": 97500636, "body": "This is right solution. I run by self and can get output html."}, {"owner": {"reputation": 13, "user_id": 11268936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K23YtaxO4eQ/AAAAAAAAAAI/AAAAAAAAAAc/r5bp1xAL2lE/photo.jpg?sz=128", "display_name": "Xyt", "link": "https://stackoverflow.com/users/11268936/xyt"}, "edited": false, "score": 0, "creation_date": 1553782124, "post_id": 55387277, "comment_id": 97519651, "body": "Thanks! I re-ran and get the output."}], "tags": [], "owner": {"reputation": 1205, "user_id": 2846068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHfXv.jpg?s=128&g=1", "display_name": "MasterAler", "link": "https://stackoverflow.com/users/2846068/masteraler"}, "is_accepted": true, "score": 0, "last_activity_date": 1553732382, "last_edit_date": 1553732382, "creation_date": 1553724837, "answer_id": 55387277, "question_id": 55386974, "link": "https://stackoverflow.com/questions/55386974/scrape-a-php-webpage-that-needs-a-submitted-form/55387277#55387277", "title": "Scrape a php webpage that needs a submitted form", "body": "<p>You are already almost there. Check requests &amp; responses (ex., in Network tab of Chrome's tools)</p>\n\n<pre><code>submit_value={'country_code':'ALG','low_year':'2010','high_year':'2018','import_or_export':'import','summarize':'country','filetype':'html','Action':'Download'}\nresponse = requests.post(url='http://armstrade.sipri.org/armstrade/html/export_values.php',data=submit_value)\nwith open(\"/tmp/sample.hmtl\", \"w\") as f:\n    f.write(response.text)\n</code></pre>\n\n<p>Worked just fine!</p>\n\n<p><strong>UPD:</strong>\n(Decided to highlight due to typo in my answer)</p>\n\n<ol>\n<li>It is <strong>html/export_values</strong>.php, request should go there</li>\n<li><code>response.text</code> contains data (it could be <code>response.content</code> as well, just bytes there)</li>\n</ol>\n"}], "owner": {"reputation": 13, "user_id": 11268936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K23YtaxO4eQ/AAAAAAAAAAI/AAAAAAAAAAc/r5bp1xAL2lE/photo.jpg?sz=128", "display_name": "Xyt", "link": "https://stackoverflow.com/users/11268936/xyt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 55387277, "answer_count": 3, "score": 1, "last_activity_date": 1553732382, "creation_date": 1553723266, "last_edit_date": 1553723418, "question_id": 55386974, "link": "https://stackoverflow.com/questions/55386974/scrape-a-php-webpage-that-needs-a-submitted-form", "title": "Scrape a php webpage that needs a submitted form", "body": "<p>Here is the link- <a href=\"http://armstrade.sipri.org/armstrade/page/values.php\" rel=\"nofollow noreferrer\">http://armstrade.sipri.org/armstrade/page/values.php</a></p>\n\n<p>I'm trying to write a Python code to automatically download these CSV files for each state in the drop down menu. The code I have is as following:</p>\n\n<pre><code>submit_value={'country_code':'ALG','low_year':'2010','high_year':'2018','import_or_export':'import','summarize':'country','filetype':'html','Action':'Download'}\npage = requests.post(url='http://armstrade.sipri.org/armstrade/page/values.php',data=submit_value)\n</code></pre>\n\n<p>However, this does not give me anything new. Rather, the content I have in page.text is exactly the same as the original HTML page. This suggests that all those parameters (year range, country code, etc...) are not submitted to the page.</p>\n\n<p>Any idea how could I get this done? Much appreciated!!</p>\n"}, {"tags": ["python", "json", "python-3.x"], "comments": [{"owner": {"reputation": 1766, "user_id": 2490859, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/77lCZ.jpg?s=128&g=1", "display_name": "Saad Abdullah", "link": "https://stackoverflow.com/users/2490859/saad-abdullah"}, "edited": false, "score": 0, "creation_date": 1553723576, "post_id": 55386958, "comment_id": 97495960, "body": "I dont know what you are exactly looking for. But based on dynamic new_url_input. You can use inline lambda method first line inside forloop. something like this... new_url = get_new_url_input()"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11204574"}, "edited": false, "score": 0, "creation_date": 1553725335, "post_id": 55387055, "comment_id": 97496587, "body": "This wont work for me because I want to take the input first so even when doing this placing the <code>new_url_input</code> somewhere doesn&#39;t run until it gets to the For loop I want to ask the question get the input and use it later in/for the For loop ."}, {"owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "edited": false, "score": 0, "creation_date": 1553727960, "post_id": 55387055, "comment_id": 97497412, "body": "@Unknown Check out my edit for something I think will help."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11204574"}, "edited": false, "score": 0, "creation_date": 1553728708, "post_id": 55387055, "comment_id": 97497637, "body": "Thanks but when I run it I get this error <code>new_url = new_url_inputs[number]   IndexError: list index out of range</code>"}, {"owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "edited": false, "score": 0, "creation_date": 1553796377, "post_id": 55387055, "comment_id": 97528928, "body": "Because you must have more screen shots than entered URLs, so catch the exception and deal with it however you want."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11204574"}, "edited": false, "score": 0, "creation_date": 1553810125, "post_id": 55387055, "comment_id": 97535321, "body": "Sorry I don&#39;t understand how to deal with this yet still very new to Python."}], "tags": [], "owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "is_accepted": true, "score": 1, "last_activity_date": 1553727932, "last_edit_date": 1553727932, "creation_date": 1553723582, "answer_id": 55387055, "question_id": 55386958, "link": "https://stackoverflow.com/questions/55386958/loop-a-variable-for-input-field-inside-for-statement-in-python/55387055#55387055", "title": "Loop a Variable For Input Field Inside For Statement In Python", "body": "<p>When you call <code>input()</code> it returns a string and in the loop you're just assigning that string to a new variable. You'll need to call <code>input()</code> again in some way, even if it's wrapping it in a function, for example using <code>lambda</code> as below...</p>\n\n<pre><code>new_url_input = lambda: input(\"Please enter new URL (press return to stop): \").strip()\n\n# ...other code...\n\nfor number, screen_shot in enumerate(screen_shots):\n    new_url = new_url_input()\n</code></pre>\n\n<hr>\n\n<p>EDIT: Now that I understand what you're saying (the instructions on the input prompt helped), I think this is what you're trying to do...</p>\n\n<pre><code>new_url_inputs = []\ninput_prompt = 'Please enter new URL (press return to stop): '\nnew_url_input = input(input_prompt).strip()\nwhile new_url_input:\n    new_url_inputs.append(new_url_input)\n    new_url_input = input(input_prompt).strip()\n\n# ...other code...\n\nfor number, screen_short in enumerate(screen_shots):\n    new_url = new_url_inputs[number]\n    # ...etc...\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11204574"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 55387055, "answer_count": 1, "score": 2, "last_activity_date": 1553727932, "creation_date": 1553723172, "question_id": 55386958, "link": "https://stackoverflow.com/questions/55386958/loop-a-variable-for-input-field-inside-for-statement-in-python", "title": "Loop a Variable For Input Field Inside For Statement In Python", "body": "<p>I want to show the users another input field but it doesn't work unless I do this inside the For loop for <code>new_url</code> <code>new_url = input(\"Please enter new URL for a screenshot (press return to stop): \").strip()</code> but I want to move the input field to somewhere outside of the For loop so I tried doing this for the input field like <code>new_url = new_url_input</code> and take the <code>new_url_input</code> varable and add it somewhere else in my code like <code>new_url_input = input(\"Please enter new URL for a screenshot (press return to stop): \").strip()</code> but when I do this it only displays the code once but it should work like when the user presses enter it show another input field. Please see this <a href=\"https://stackoverflow.com/a/55169845/11204574\">question/answer</a> for more information about my topic.</p>\n\n<p>Original Code:</p>\n\n<pre><code># Load the data\nfile_name = file_name = path/to/json/file\nwith open(file_name) as fh:\n    full_data = json.load(fh)\n\n# Dig into the data to find the screenshots\nscreen_shots = full_data['tabs'][0]['views'][1]['screenshots']\n\n# Loop over each screen shot, updating each one\nfor number, screen_shot in enumerate(screen_shots):\n    new_url = input(\"Please enter new URL (press return to stop): \").strip()\n\n    if new_url:\n        screen_shot.update({\"url\": new_url, \"fullSizeURL\": new_url})\n    else:\n        break\n\n# Remove all entries which we did not update\nscreen_shots = screen_shots[:number]\n\n# Save the data\nwith open(file_name, 'w') as fh:\n    json.dump(full_data, fh, indent=4)\n</code></pre>\n\n<p>Example of how I want it to work/look:</p>\n\n<pre><code>new_url_input = input(\"Please enter new URL (press return to stop): \").strip()\n\n# Load the data\nfile_name = path/to/json/file\nwith open(file_name) as fh:\n    full_data = json.load(fh)\n\n# Dig into the data to find the screenshots\nscreen_shots = full_data['tabs'][0]['views'][1]['screenshots']\n\n# Loop over each screen shot, updating each one\nfor number, screen_shot in enumerate(screen_shots):\n    new_url = new_url_input\n\n    if new_url:\n        screen_shot.update({\"url\": new_url, \"fullSizeURL\": new_url})\n    else:\n        break\n\n # Remove all entries which we did not update\n screen_shots = screen_shots[:number]\n\n # Save the data\n with open(file_name, 'w') as fh:\n     json.dump(full_data, fh, indent=4)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 8982025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bd8ee4fb73772dc2e89eaa4378ab08?s=128&d=identicon&r=PG&f=1", "display_name": "exiz", "link": "https://stackoverflow.com/users/8982025/exiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1553725338, "last_edit_date": 1553725338, "creation_date": 1553724478, "answer_id": 55387211, "question_id": 55386954, "link": "https://stackoverflow.com/questions/55386954/how-can-i-enter-data-into-database-by-pressing-the-button-with-using-python/55387211#55387211", "title": "How can I enter data into database by pressing the button with using python?", "body": "<pre><code>import mysql.connector\nconnector = mysql.connector.connect(host=\"host\", user=\"user\", passwd=\"password\", database=\"DB\")\ncnx = connector.cursor()\ncnx.execute(\"INSERT INTO ... VALUES (%s)\", ('data'))\n# Or execute a query just as always\n#cnx.execute(\"INSERT INTO ... VALUES (...)\")\nconnector.commit()\n# If \"SELECT * FROM ...\" use next line to get the data\n#result = cnx.fetchall()\ncnx.close()\nconnector.close()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11268895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e9e774ef8075df0a60df9491d32dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Haidar", "link": "https://stackoverflow.com/users/11268895/haidar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1553725338, "creation_date": 1553723156, "question_id": 55386954, "link": "https://stackoverflow.com/questions/55386954/how-can-i-enter-data-into-database-by-pressing-the-button-with-using-python", "title": "How can I enter data into database by pressing the button with using python?", "body": "<p>I'm setting up a project by using python language to take feedback from customers by pressing the button, my question about the code to enter the data into the database?</p>\n"}, {"tags": ["python", "mysql", "sql", "syntax"], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 4675403, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10152761302844067/picture?type=large", "display_name": "Martik", "link": "https://stackoverflow.com/users/4675403/martik"}, "edited": false, "score": 0, "creation_date": 1553723895, "post_id": 55387079, "comment_id": 97496102, "body": "Thank you! That is a good valid point. I will change that. But I dont&#39; think that&#39;s the cause for my error."}, {"owner": {"reputation": 12630, "user_id": 5247279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dcea97f3268621cecd89b0805434412?s=128&d=identicon&r=PG", "display_name": "Bernd Buffen", "link": "https://stackoverflow.com/users/5247279/bernd-buffen"}, "reply_to_user": {"reputation": 409, "user_id": 4675403, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10152761302844067/picture?type=large", "display_name": "Martik", "link": "https://stackoverflow.com/users/4675403/martik"}, "edited": false, "score": 0, "creation_date": 1553724012, "post_id": 55387079, "comment_id": 97496147, "body": "if it not or not only your error. please output the generated query and post it"}], "tags": [], "owner": {"reputation": 12630, "user_id": 5247279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dcea97f3268621cecd89b0805434412?s=128&d=identicon&r=PG", "display_name": "Bernd Buffen", "link": "https://stackoverflow.com/users/5247279/bernd-buffen"}, "is_accepted": false, "score": 0, "last_activity_date": 1553723748, "creation_date": 1553723748, "answer_id": 55387079, "question_id": 55386938, "link": "https://stackoverflow.com/questions/55386938/dynamic-table-for-insert-syntax-sql-python/55387079#55387079", "title": "Dynamic table for Insert Syntax SQL - Python", "body": "<p>You use reserved keywords as fieldname timestamp. You can only use it if you\nput it in backticks like:</p>\n\n<pre><code> insert_stmt = (\"INSERT INTO %s (system, value1, value2, `timestamp`) \"\"VALUES (%s, %s, %s, %s)\")\ndata = (table, system, value1, value2, timestamp)\n</code></pre>\n\n<p>But make your live easier! Dont use KEYWORDS as fieldname !!!</p>\n"}], "owner": {"reputation": 409, "user_id": 4675403, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10152761302844067/picture?type=large", "display_name": "Martik", "link": "https://stackoverflow.com/users/4675403/martik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "closed_date": 1553724944, "answer_count": 1, "score": 0, "last_activity_date": 1553723840, "creation_date": 1553723089, "last_edit_date": 1553723840, "question_id": 55386938, "link": "https://stackoverflow.com/questions/55386938/dynamic-table-for-insert-syntax-sql-python", "closed_reason": "Duplicate", "title": "Dynamic table for Insert Syntax SQL - Python", "body": "<p>I would like to have the SQL SYNTAX INSERT code to be dynamic for which table to insert data into. When I try the code below I get SYNTAX error, probably due to that it adds '-marks around the table. How can I solve this?</p>\n\n<pre><code>system=str(event['system'])\nvalue1=str(event['value1'])\nvalue2=str(event['value2'])\ntimestamp=str(event['timestamp'])\ntable=str('table1')    \n\ninsert_stmt = (\"INSERT INTO %s (system, value1, value2, timestamp) \"\"VALUES (%s, %s, %s, %s)\")\ndata = (table, system, value1, value2, timestamp)\ncur.execute(insert_stmt, data)\nconn.commit()\n</code></pre>\n\n<p>My Error:</p>\n\n<blockquote>\n  <p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''table1' (system, value1, value2, timestamp) VALUES ('qwerty', '1', '1',' at line 1\\\")\", \"errorType\": \"ProgrammingError\",</p>\n</blockquote>\n"}, {"tags": ["python", "fonts", "python-imaging-library", "arabic"], "comments": [{"owner": {"reputation": 4512, "user_id": 1042788, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ebaa5ae46777ff96e08207bf5ad2af5?s=128&d=identicon&r=PG", "display_name": "djangodude", "link": "https://stackoverflow.com/users/1042788/djangodude"}, "edited": false, "score": 0, "creation_date": 1553734128, "post_id": 55386932, "comment_id": 97498930, "body": "You could try inserting the <a href=\"https://en.wikipedia.org/wiki/Zero-width_non-joiner\" rel=\"nofollow noreferrer\">ZWNJ</a> character (<code>\\u200C</code>) in between the normally-joined characters that you wish to separate, <a href=\"https://jsfiddle.net/93gsone1/\" rel=\"nofollow noreferrer\">like this</a>"}, {"owner": {"reputation": 979, "user_id": 8265036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fae3911192c6ab9149a436dcad5657a?s=128&d=identicon&r=PG", "display_name": "Farhood ET", "link": "https://stackoverflow.com/users/8265036/farhood-et"}, "reply_to_user": {"reputation": 4512, "user_id": 1042788, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ebaa5ae46777ff96e08207bf5ad2af5?s=128&d=identicon&r=PG", "display_name": "djangodude", "link": "https://stackoverflow.com/users/1042788/djangodude"}, "edited": false, "score": 0, "creation_date": 1553756394, "post_id": 55386932, "comment_id": 97504329, "body": "@djangodude yeah I could, but I don&#39;t like to do that, since It will make my image size bigger."}, {"owner": {"reputation": 4512, "user_id": 1042788, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ebaa5ae46777ff96e08207bf5ad2af5?s=128&d=identicon&r=PG", "display_name": "djangodude", "link": "https://stackoverflow.com/users/1042788/djangodude"}, "edited": false, "score": 0, "creation_date": 1553779494, "post_id": 55386932, "comment_id": 97517679, "body": "OK maybe I don&#39;t understand what you want to do. Do you want to display the position-sensitive forms (initial, medial, final), just unconnected? That will be harder to do, maybe not even possible without some font editing."}, {"owner": {"reputation": 979, "user_id": 8265036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fae3911192c6ab9149a436dcad5657a?s=128&d=identicon&r=PG", "display_name": "Farhood ET", "link": "https://stackoverflow.com/users/8265036/farhood-et"}, "reply_to_user": {"reputation": 4512, "user_id": 1042788, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ebaa5ae46777ff96e08207bf5ad2af5?s=128&d=identicon&r=PG", "display_name": "djangodude", "link": "https://stackoverflow.com/users/1042788/djangodude"}, "edited": false, "score": 0, "creation_date": 1553779678, "post_id": 55386932, "comment_id": 97517822, "body": "@djangodude yeah I want to show all characters in their unconnected format. I wish it would be simpler than that tbh. lol."}, {"owner": {"reputation": 4512, "user_id": 1042788, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ebaa5ae46777ff96e08207bf5ad2af5?s=128&d=identicon&r=PG", "display_name": "djangodude", "link": "https://stackoverflow.com/users/1042788/djangodude"}, "edited": false, "score": 0, "creation_date": 1553782854, "post_id": 55386932, "comment_id": 97520265, "body": "I put an answer that might help, but this is definitely not &quot;simple&quot; :-)"}], "answers": [{"comments": [{"owner": {"reputation": 979, "user_id": 8265036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fae3911192c6ab9149a436dcad5657a?s=128&d=identicon&r=PG", "display_name": "Farhood ET", "link": "https://stackoverflow.com/users/8265036/farhood-et"}, "edited": false, "score": 0, "creation_date": 1553783781, "post_id": 55399930, "comment_id": 97521024, "body": "Oh thanks. This is very well written. Well damn me! It&#39;s too much of a hassle, and is probably not worth it. I should probably inject &quot;half-space&quot; character alongside each character."}], "tags": [], "owner": {"reputation": 4512, "user_id": 1042788, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ebaa5ae46777ff96e08207bf5ad2af5?s=128&d=identicon&r=PG", "display_name": "djangodude", "link": "https://stackoverflow.com/users/1042788/djangodude"}, "is_accepted": true, "score": 2, "last_activity_date": 1553782817, "creation_date": 1553782817, "answer_id": 55399930, "question_id": 55386932, "link": "https://stackoverflow.com/questions/55386932/how-to-force-arabic-characters-to-be-seperate/55399930#55399930", "title": "How to force arabic characters to be seperate?", "body": "<p>What you're describing <em>might</em> be possible with <em>some</em> fonts that support Arabic, specifically, those that encode the position-sensitive forms in the <a href=\"https://www.unicode.org/charts/PDF/UFE70.pdf\" rel=\"nofollow noreferrer\">Arabic Presentation Forms-B</a> Block of Unicode. You would need to map your input text character codes into the correct positional variant. So for the example characters <em>seen</em> and <em>lam</em> as you described, U+0633 <code>\u0633\u200e</code> and U+0644 <code>\u0644\u200e</code>, you want the initial form of U+0633, which is U+FEB3 <code>\ufeb3\u200e\u200e</code>, and the final form of U+0644, which is U+FEDE <code>\ufede</code>, putting those together (separated by a regular space): <code>\ufeb3\u200c \ufede\u200c</code>.</p>\n\n<p>There is a useful chart showing the positional forms at <a href=\"https://en.wikipedia.org/wiki/Arabic_script_in_Unicode#Contextual_forms\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Arabic_script_in_Unicode#Contextual_forms</a>.</p>\n\n<p>But, <strong>important</strong> to understand:</p>\n\n<ul>\n<li><p>not all fonts that contain Arabic have the Presentation Forms encoded (many fonts do not)</p></li>\n<li><p>not all Arabic codes have an equivalent in the Presentation Forms range (most of the basic ones do, but there are some extended Arabic characters for other languages that do not have Presentation Forms).</p></li>\n<li><p>you are responsible for processing your input text (in the U+06xx range) into the correct presentation form (U+FExx range) codes based on the word/group context, which can be tricky. That job normally falls to an OpenType Layout engine, but it also performs the joining. So you're basically overriding that logic.</p></li>\n</ul>\n"}], "owner": {"reputation": 979, "user_id": 8265036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fae3911192c6ab9149a436dcad5657a?s=128&d=identicon&r=PG", "display_name": "Farhood ET", "link": "https://stackoverflow.com/users/8265036/farhood-et"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 55399930, "answer_count": 1, "score": 2, "last_activity_date": 1553782817, "creation_date": 1553723054, "question_id": 55386932, "link": "https://stackoverflow.com/questions/55386932/how-to-force-arabic-characters-to-be-seperate", "title": "How to force arabic characters to be seperate?", "body": "<p>I'm trying to type a set of arabic characters without space on an image using pillow. The problem I'm currently having is that some arabic characters when get next to each other, appear differently when they are seperate.((e.g. <code>\u0633</code> and \u200d<code>\u0644</code> will be \u200d<code>\u0633\u0644</code> when put next to each other.) I'm trying to somehow force my font settings to always seperate all characters without injection of any other characters, what should I do?</p>\n\n<p>Here is a snippet of my code:</p>\n\n<pre><code>#font is an arabic font, and font_path is pointing to that location.\n        font = ImageFont.truetype(\n            font=font_path, size=size,\n            layout_engine=ImageFont.LAYOUT_RAQM)\n\n        h, w = font.getsize(text, direction='rtl')\n        offset = font.getoffset(text)\n        H, W = int(1.5 * h), int(1.5 * w)\n        imgSize = H, W\n        img = Image.new(mode='1', size=imgSize, color=0)\n        draw = ImageDraw.Draw(img)\n        pos = ((H-h)/2, (W-w)/2)\n        draw.text(pos, text, fill=255, font=font,\n                  direction='rtl', align='center')\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1853, "user_id": 1818327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8c2c998ca9459d54c56d0e2730da8df8?s=128&d=identicon&r=PG", "display_name": "QuantumLicht", "link": "https://stackoverflow.com/users/1818327/quantumlicht"}, "edited": false, "score": 1, "creation_date": 1553723281, "post_id": 55386915, "comment_id": 97495842, "body": "Hello welcome to stackoverflow. Can you please paste a sample of the code you have tried?"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1553723405, "post_id": 55386915, "comment_id": 97495890, "body": "Are you looking for <code>np.cumsum([lose,lose,tie,tie,win,tie])</code>?"}, {"owner": {"reputation": 151, "user_id": 11038946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a53c52bb4afc6fd78dd28b7399319a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/11038946/mark"}, "edited": false, "score": 0, "creation_date": 1553723558, "post_id": 55386915, "comment_id": 97495950, "body": "Thanks, I edited my question with code. The only reason I didn&#39;t before was because i don&#39;t really have anything."}], "answers": [{"comments": [{"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1553724002, "post_id": 55387048, "comment_id": 97496143, "body": "might be useful to explain the nested <code>np.where()</code> as Forextrader is a new user."}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 2, "last_activity_date": 1553724130, "last_edit_date": 1553724130, "creation_date": 1553723556, "answer_id": 55387048, "question_id": 55386915, "link": "https://stackoverflow.com/questions/55386915/how-to-create-win-lose-counter-updating-numpy-array/55387048#55387048", "title": "How to create win/lose counter updating numpy array", "body": "<p>Use np.where with cumsum. <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html?highlight=where#numpy-where\" rel=\"nofollow noreferrer\">np.where</a> (cond[, x, y]) returns element from x and y based on condition. Since there are three strings to be mapped, this code uses a nest np.where </p>\n\n<pre><code>result = np.cumsum(np.where(a == 'lose', -1, np.where(a == 'win', 1, 0)))\n\narray([-1, -2, -2, -2, -1, -1])\n</code></pre>\n\n<p>You can also use np.vectorize,</p>\n\n<pre><code>d = {'win':1, 'lose':-1, 'tie':0}\nnp.cumsum(np.vectorize(d.get)(a))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3811, "user_id": 6351322, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wai3S.png?s=128&g=1", "display_name": "guijob", "link": "https://stackoverflow.com/users/6351322/guijob"}, "is_accepted": false, "score": 0, "last_activity_date": 1553724036, "creation_date": 1553724036, "answer_id": 55387134, "question_id": 55386915, "link": "https://stackoverflow.com/questions/55386915/how-to-create-win-lose-counter-updating-numpy-array/55387134#55387134", "title": "How to create win/lose counter updating numpy array", "body": "<p>Here's an approach using <code>map</code> and <code>reduce</code>:</p>\n\n<pre><code>resp = list(functools.reduce(lambda x, y: x + [x[-1] + y], \n            map(mapper, arr), \n            [0]))\nresp.pop(0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 589, "user_id": 7623655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0c35cea1baf410727643201e2bf0c9?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Samson", "link": "https://stackoverflow.com/users/7623655/olivier-samson"}, "is_accepted": false, "score": 0, "last_activity_date": 1553728915, "creation_date": 1553728915, "answer_id": 55387968, "question_id": 55386915, "link": "https://stackoverflow.com/questions/55386915/how-to-create-win-lose-counter-updating-numpy-array/55387968#55387968", "title": "How to create win/lose counter updating numpy array", "body": "<p>Ok so, just for fun, I wanted to see if I could achieve this only with list comprehension (so this could work on a simple list too). Behold the result :</p>\n\n<pre><code>&gt;&gt; x = [\"win\",\"lose\",\"win\",\"win\",\"tie\",\"tie\",\"lose\"]\n&gt;&gt; results = [[sum([1 if it==\"win\" else 0 if it==\"tie\" else -1 for i,it in enumerate(x)][:y])\n      if y &gt; 0 else 0][0] + [1 if it==\"win\" else 0 if it==\"tie\" else -1][0] for y,it in enumerate(x)]\n&gt;&gt; results\noutput : [1, 0, 1, 2, 2, 2, 1]\n</code></pre>\n\n<p>This was fun to do, any ideas on how to optimize this?</p>\n"}, {"tags": [], "owner": {"reputation": 6415, "user_id": 6792743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc0a5e4d9ff9645a9deca067ced1d60?s=128&d=identicon&r=PG&f=1", "display_name": "perl", "link": "https://stackoverflow.com/users/6792743/perl"}, "is_accepted": false, "score": 0, "last_activity_date": 1553731092, "creation_date": 1553731092, "answer_id": 55388237, "question_id": 55386915, "link": "https://stackoverflow.com/questions/55386915/how-to-create-win-lose-counter-updating-numpy-array/55388237#55388237", "title": "How to create win/lose counter updating numpy array", "body": "<p>A shorter alternative:</p>\n\n<pre><code>np.cumsum(1*(x=='win')-(x=='lose'))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>array([-1, -2, -2, -2, -1, -1])\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 11038946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a53c52bb4afc6fd78dd28b7399319a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/11038946/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 55387048, "answer_count": 4, "score": 2, "last_activity_date": 1553731092, "creation_date": 1553722966, "last_edit_date": 1553723689, "question_id": 55386915, "link": "https://stackoverflow.com/questions/55386915/how-to-create-win-lose-counter-updating-numpy-array", "title": "How to create win/lose counter updating numpy array", "body": "<p>Essentially what I am trying to do is create a numpy array based on if else conditions that determines the outcome of win, lose, or tie and will update array like so: </p>\n\n<p>Example:</p>\n\n<pre><code>array(['lose','lose','tie','tie','win','tie'])\n</code></pre>\n\n<p>Would produce numpy array: </p>\n\n<pre><code>[-1,-2,-2,-2,-1,-1] \n</code></pre>\n\n<p>Where <code>lose = -1</code>, <code>win = +1</code>, and <code>tie = 0</code> (do nothing) </p>\n\n<p>I have tried a few things such as <code>np.count_nonzero(conditions)</code> but cannot quite figure this out. Can anyone help?</p>\n\n<pre><code>def game_session(num_games=100):\nvalues = rand.randint(1,7, 2*num_games)\nrolls_array = values.reshape((num_games,2))\nfor i in rolls_array:\n    sum2 = i[0]+i[1] \n\n    if np.count_nonzero(sum2 ==2 or sum2==3 or sum2==12): #lose\n\n\n    elif  np.count_nonzero(sum2 ==7 or sum2==11): #win\n\n\n    elif np.count_nonzero(sum2 == 1 or sum2 == 4 or sum2 == 5 or sum2 == 6 or sum2 == 8 or sum2 == 9 or sum2 == 10): #do nothing\n</code></pre>\n"}, {"tags": ["python", "encoding", "deserialization", "pickle"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 11260476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2c0a6edf006e4eabba89ce30bfe665?s=128&d=identicon&r=PG&f=1", "display_name": "blahblahblahblah", "link": "https://stackoverflow.com/users/11260476/blahblahblahblah"}, "edited": false, "score": 0, "creation_date": 1554111435, "post_id": 55392418, "comment_id": 97617926, "body": "could the change from text mode to binary mode result in the error <code>ValueError: Unknown format code &#39;f&#39; for object of type &#39;str&#39;</code> when attempting to use a print function which previously worked in the Python 2 version?"}], "tags": [], "owner": {"reputation": 27241, "user_id": 5320906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=128&g=1", "display_name": "snakecharmerb", "link": "https://stackoverflow.com/users/5320906/snakecharmerb"}, "is_accepted": true, "score": 1, "last_activity_date": 1553759083, "creation_date": 1553759083, "answer_id": 55392418, "question_id": 55386903, "link": "https://stackoverflow.com/questions/55386903/unicodedecodeerror-when-using-python-2-7-code-on-python-3-7-with-cpickle/55392418#55392418", "title": "UnicodeDecodeError when using python 2.7 code on python 3.7 with cPickle", "body": "<p>The code is opening the file in <em>text</em> mode (<code>'r'</code>), but it should be <em>binary</em> mode (<code>'rb'</code>).  </p>\n\n<p>From the <a href=\"https://docs.python.org/3/library/pickle.html#pickle.load\" rel=\"nofollow noreferrer\">documentation</a> for <code>pickle.load</code> (emphasis mine):</p>\n\n<blockquote>\n  <p>[The] file can be an on-disk file <strong>opened for binary reading</strong>, an io.BytesIO object, or any other custom object that meets this interface.</p>\n</blockquote>\n\n<p>Since the file is being opened in binary mode there is no need to provide an encoding argument to <code>open</code>.  It may be necessary to provide an encoding argument to <code>pickle.load</code>.  From the same documentation:</p>\n\n<blockquote>\n  <p>Optional keyword arguments are fix_imports, encoding and errors, which are used to control compatibility support for pickle stream generated by Python 2. If fix_imports is true, pickle will try to map the old Python 2 names to the new names used in Python 3. The encoding and errors tell pickle how to decode 8-bit string instances pickled by Python 2; these default to \u2018ASCII\u2019 and \u2018strict\u2019, respectively. The encoding can be \u2018bytes\u2019 to read these 8-bit string instances as bytes objects. Using encoding='latin1' is required for unpickling NumPy arrays and instances of datetime, date and time pickled by Python 2.</p>\n</blockquote>\n\n<p>This ought to prevent the <code>UnicodeDecodeError</code>:</p>\n\n<pre><code>sm_database = cPickle.load(open(\"C:/Python37/TestX10/metadatafile.pkl\",\"rb\"))\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 11260476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2c0a6edf006e4eabba89ce30bfe665?s=128&d=identicon&r=PG&f=1", "display_name": "blahblahblahblah", "link": "https://stackoverflow.com/users/11260476/blahblahblahblah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 55392418, "answer_count": 1, "score": 1, "last_activity_date": 1573899183, "creation_date": 1553722875, "last_edit_date": 1573899183, "question_id": 55386903, "link": "https://stackoverflow.com/questions/55386903/unicodedecodeerror-when-using-python-2-7-code-on-python-3-7-with-cpickle", "title": "UnicodeDecodeError when using python 2.7 code on python 3.7 with cPickle", "body": "<p>I am trying to use cPickle on a .pkl file constructed from a \"parsed\" .csv file. The parsing is undertaken using a pre-constructed python toolbox, which has recently been ported to python 3 from python 2 (<a href=\"https://github.com/GEMScienceTools/gmpe-smtk\" rel=\"nofollow noreferrer\">https://github.com/GEMScienceTools/gmpe-smtk</a>)</p>\n\n<p>The code I'm using is as follows:</p>\n\n<pre><code>from smtk.parsers.esm_flatfile_parser import ESMFlatfileParser\nparser=ESMFlatfileParser.autobuild(\"Database10\",\"Metadata10\",\"C:/Python37/TestX10\",\"C:/Python37/NorthSea_Inc_SA.csv\")\nimport cPickle\nsm_database = cPickle.load(open(\"C:/Python37/TestX10/metadatafile.pkl\",\"r\"))\n</code></pre>\n\n<p>It returns the following error:</p>\n\n<p><code>UnicodeDecodeError: 'charmap' codec can't decode byte 0x81 in position 44: character maps to &lt;undefined&gt;</code></p>\n\n<p>From what I can gather, I need to specify the encoding of my .pkl file to enable cPickle to work but I do not know what the encoding is on the file produced from the parsing of the .csv file, so I can't use cPickle to currently do so.</p>\n\n<p>I used the sublime text software to find it is \"hexadecimal\", but this is not an accepted encoding format in Python 3.7 is it not?</p>\n\n<p>If anyone knows how to determine the encoding format required, or how to make hexadecimal encoding usable in Python 3.7 their help would be much appreciated. </p>\n\n<p>P.s. the modules used such as \"ESMFlatfileparser\" are part of a pre-constructed toolbox. Considering this, is there a chance I may need to alter the encoding in some way within this module also?</p>\n"}, {"tags": ["python", "django", "sqlite", "duration", "timedelta"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1553723483, "post_id": 55386878, "comment_id": 97495917, "body": "Wouldn&#39;t it make more sense if penalty were a <code>DurationField</code> instead of an <code>IntegerField</code>?"}, {"owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1553723772, "post_id": 55386878, "comment_id": 97496044, "body": "@JohnGordon tried that too, see updated question."}, {"owner": {"reputation": 1427, "user_id": 11193405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qaMGi.jpg?s=128&g=1", "display_name": "p14z", "link": "https://stackoverflow.com/users/11193405/p14z"}, "edited": false, "score": 0, "creation_date": 1553724297, "post_id": 55386878, "comment_id": 97496255, "body": "Why don&#39;t you use class properties instead of annotation?"}, {"owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "reply_to_user": {"reputation": 1427, "user_id": 11193405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qaMGi.jpg?s=128&g=1", "display_name": "p14z", "link": "https://stackoverflow.com/users/11193405/p14z"}, "edited": false, "score": 0, "creation_date": 1553724418, "post_id": 55386878, "comment_id": 97496304, "body": "@Pedro because it&#39;s not possible to sort changelist_view on properties. I want to sort based on the annotation result."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1553725609, "post_id": 55386878, "comment_id": 97496664, "body": "I don&#39;t see any code that says you tried a different model definition.  I only see changes to <code>get_queryset()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "edited": false, "score": 0, "creation_date": 1553889269, "post_id": 55416015, "comment_id": 97568424, "body": "OK, so what worked was to multiply by <code>60000000</code> (1 second = 1000000 microsecond). Accepted as you pointed me in the right direction, please update the answer accordingly."}, {"owner": {"reputation": 4530, "user_id": 1701240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525a094ce482e8b404cc199764c8816c?s=128&d=identicon&r=PG", "display_name": "Endre Both", "link": "https://stackoverflow.com/users/1701240/endre-both"}, "reply_to_user": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "edited": false, "score": 1, "creation_date": 1553889963, "post_id": 55416015, "comment_id": 97568694, "body": "Thanks. I should have run the conversion by my kids first."}], "tags": [], "owner": {"reputation": 4530, "user_id": 1701240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525a094ce482e8b404cc199764c8816c?s=128&d=identicon&r=PG", "display_name": "Endre Both", "link": "https://stackoverflow.com/users/1701240/endre-both"}, "is_accepted": true, "score": 2, "last_activity_date": 1553889908, "last_edit_date": 1553889908, "creation_date": 1553857324, "answer_id": 55416015, "question_id": 55386878, "link": "https://stackoverflow.com/questions/55386878/django-sqlite-durationfield-arithmetics/55416015#55416015", "title": "Django &amp; SQLite: DurationField arithmetics", "body": "<p>If you get <code>datetime.timedelta(0, 1800, 1800)</code> instead of the correct <code>datetime.timedelta(0, 3600)</code> then you're obviously almost there. </p>\n\n<p>I would assume that the 1800 seconds are the difference between <code>F(\"finish\")</code> and <code>F(\"start\")</code>, while the 1800 microseconds come from <code>F(\"penalty\") * 60</code>. </p>\n\n<p>Multiply with <code>60*1000*1000</code> instead of <code>60</code> to convert <code>penalty</code> from minutes to microseconds:</p>\n\n<pre><code>total_time=ExpressionWrapper(\n    F(\"finish\") - F(\"start\") + F(\"penalty\") * 60000000,\n    output_field=DurationField()\n)\n</code></pre>\n"}], "owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 1, "accepted_answer_id": 55416015, "answer_count": 1, "score": 3, "last_activity_date": 1553889908, "creation_date": 1553722750, "last_edit_date": 1553763175, "question_id": 55386878, "link": "https://stackoverflow.com/questions/55386878/django-sqlite-durationfield-arithmetics", "title": "Django &amp; SQLite: DurationField arithmetics", "body": "<p>I have the following model</p>\n\n<pre><code>class MyModel(models.Model):\n    start = models.TimeField()\n    finish = models.TimeField()\n    penalty = models.IntegerField(blank=True, default=0)  # penalty in minutes\n</code></pre>\n\n<p>And the following queryset annotation in admin</p>\n\n<pre><code>def get_queryset(self, request):\n    qs = super().get_queryset(request)\n    qs = qs.annotate(\n        total_time=ExpressionWrapper(\n            F(\"finish\") - F(\"start\") + F(\"penalty\") * 60,\n            output_field=DurationField()\n        )\n    )\n    return qs\n</code></pre>\n\n<p>When I inspect the annotation value for a row where <code>penalty != 0</code> I get something like <code>datetime.timedelta(0, 1800, 1800)</code> (in this case penalty is 30 minutes).\n<br>\nHowever, I expect a timedelta like <code>datetime.timedelta(0, 3600)</code>. Can someone explain, please?</p>\n\n<p><br></p>\n\n<p>I've also tried</p>\n\n<pre><code>def get_queryset(self, request):\n    qs = super().get_queryset(request)\n    qs = qs.annotate(\n        duration=ExpressionWrapper(\n            F(\"finish\") - F(\"start\"),\n            output_field=DurationField()\n        )\n    )\n    qs = qs.annotate(\n        total_time=ExpressionWrapper(\n            F(\"duration\") + F(\"route_shortening_penalty\") * 60,\n            output_field=DurationField()\n        )\n    )\n    return qs\n</code></pre>\n\n<p>and even</p>\n\n<pre><code>def get_queryset(self, request):\n    qs = super().get_queryset(request)\n    qs = qs.annotate(\n        duration=ExpressionWrapper(\n            F(\"finish\") - F(\"start\"),\n            output_field=DurationField()\n        ),\n        penalty_duration=ExpressionWrapper(\n            F(\"penalty\") * 60,\n            output_field=DurationField()\n        )\n    )\n    qs = qs.annotate(\n        total_time=ExpressionWrapper(\n            F(\"duration\") + F(\"penalty_duration\"),\n            output_field=DurationField()\n        )\n    )\n    return qs\n</code></pre>\n\n<p>both of which lead to </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 34, in inner\n    response = get_response(request)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/core/handlers/base.py\", line 126, in _get_response\n    response = self.process_exception_by_middleware(e, request)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/core/handlers/base.py\", line 124, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/contrib/admin/options.py\", line 604, in wrapper\n    return self.admin_site.admin_view(view)(*args, **kwargs)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/utils/decorators.py\", line 142, in _wrapped_view\n    response = view_func(request, *args, **kwargs)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/views/decorators/cache.py\", line 44, in _wrapped_view_func\n    response = view_func(request, *args, **kwargs)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/contrib/admin/sites.py\", line 223, in inner\n    return view(request, *args, **kwargs)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/utils/decorators.py\", line 45, in _wrapper\n    return bound_method(*args, **kwargs)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/utils/decorators.py\", line 142, in _wrapped_view\n    response = view_func(request, *args, **kwargs)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/contrib/admin/options.py\", line 1793, in changelist_view\n    'selection_note': _('0 of %(cnt)s selected') % {'cnt': len(cl.result_list)},\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/db/models/query.py\", line 250, in __len__\n    self._fetch_all()\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/db/models/query.py\", line 1186, in _fetch_all\n    self._result_cache = list(self._iterable_class(self))\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/db/models/query.py\", line 63, in __iter__\n    for row in compiler.results_iter(results):\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/db/models/sql/compiler.py\", line 1009, in apply_converters\n    value = converter(value, expression, connection)\n  File \"/home/dm/.virtualenvs/test/lib/python3.6/site-packages/django/db/backends/base/operations.py\", line 573, in convert_durationfield_value\n    return datetime.timedelta(0, 0, value)\nTypeError: unsupported type for timedelta microseconds component: str\n</code></pre>\n\n<p>I am using <code>Python 3.6.7</code>, <code>Django==2.1.7</code> and <code>SQLite version 3022000</code>.</p>\n"}, {"tags": ["python", "replace"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1553722763, "post_id": 55386850, "comment_id": 97495667, "body": "Do not call your variables <code>list,set,dict,tuple.avg,min,max,...</code> you are shadowing the inbuilt functions"}], "answers": [{"tags": [], "owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "is_accepted": false, "score": 1, "last_activity_date": 1553723809, "last_edit_date": 1553723809, "creation_date": 1553723430, "answer_id": 55387021, "question_id": 55386850, "link": "https://stackoverflow.com/questions/55386850/how-can-i-replace-the-first-element-of-each-line-in-a-list-in-python/55387021#55387021", "title": "How can I replace the first element of each line in a list in PYTHON?", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.replace\" rel=\"nofollow noreferrer\">str.replace</a> and a <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a>. </p>\n\n<ul>\n<li><p>The first replace replaces all <code>';'</code> to <code>']'</code>.</p></li>\n<li><p>The second replaces the 3 first <code>']'</code> to <code>';'</code>.</p></li>\n<li><p>And the last one replaces the first <code>';'</code> to <code>'\\n['</code>.</p></li>\n</ul>\n\n<pre><code>data = [\"&gt;A0A024;167;188;22;DiPPE\",\n        \"&gt;A0AV;1;25;25;DiWC\",\n        \"&gt;A0AV6;38;58;21;Diwc\",\n        \"&gt;A0AV7;408;432;25;Diwc\"]\n\nres = [s.replace(';', ']').replace(']', ';', 3). replace(';', '\\n[', 1) for s in data]\n\nfor s in res:\n    print(s)    \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1553723923, "post_id": 55387025, "comment_id": 97496113, "body": "I guess the &gt; at the stat of your data is leftover from your first editing tries when you had it in citations..."}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 2, "last_activity_date": 1553723767, "last_edit_date": 1553723767, "creation_date": 1553723443, "answer_id": 55387025, "question_id": 55386850, "link": "https://stackoverflow.com/questions/55386850/how-can-i-replace-the-first-element-of-each-line-in-a-list-in-python/55387025#55387025", "title": "How can I replace the first element of each line in a list in PYTHON?", "body": "<p><strong>Create the data</strong></p>\n\n<pre><code>parts = \"\"\"A0A024;167;188;22;DiPPE\nA0AV;1;25;25;DiWC\nA0AV6;38;58;21;Diwc\nA0AV7;408;432;25;Diwc\"\"\".split(\"\\n\")\n</code></pre>\n\n<p><strong>Go over the data of lines, split at <code>;</code> and recombine as wanted:</strong></p>\n\n<pre><code>for idx,line in enumerate(parts):\n    # make it a list without any ;\n    pp = line.split(\";\")\n    # make it a string and reassign into parts\n    parts[idx]= pp[0] + \"\\n[\" + pp[1] + \";\" + pp[2] + \"]\" + \";\".join(pp[3:])\n\nprint(parts)\n\nfor p in parts:\n    print(p)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code># data as list  \n['A0A024\\n[167;188]22;DiPPE', 'A0AV\\n[1;25]25;DiWC', \n 'A0AV6\\n[38;58]21;Diwc', 'A0AV7\\n[408;432]25;Diwc']\n\n# data linewise \nA0A024\n[167;188]22;DiPPE\nA0AV\n[1;25]25;DiWC\nA0AV6\n[38;58]21;Diwc\nA0AV7\n[408;432]25;Diwc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": false, "score": 1, "last_activity_date": 1553723975, "creation_date": 1553723975, "answer_id": 55387118, "question_id": 55386850, "link": "https://stackoverflow.com/questions/55386850/how-can-i-replace-the-first-element-of-each-line-in-a-list-in-python/55387118#55387118", "title": "How can I replace the first element of each line in a list in PYTHON?", "body": "<p>You can split each line on <code>;</code> and create a new line by formatting the parts:</p>\n\n<pre><code>def format_line(line):\n    return '{0}\\n[{1};{2}]{3};{4}'.format(*line.split(';'))\n</code></pre>\n\n<p>Using this function, you can do:</p>\n\n<pre><code>data = \"\"\"A0A024;167;188;22;DiPPE\nA0AV;1;25;25;DiWC\nA0AV6;38;58;21;Diwc\nA0AV7;408;432;25;Diwc\"\"\"\n\nlines = data.split('\\n')\nout = '\\n'.join([format_line(line) for line in lines])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>print(out)\n\nA0A024\n[167;188]22;DiPPE\nA0AV\n[1;25]25;DiWC\nA0AV6\n[38;58]21;Diwc\nA0AV7\n[408;432]25;Diwc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 678, "user_id": 3469811, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/47c3ec236e8af5520866fdbc2a6523b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3469811", "link": "https://stackoverflow.com/users/3469811/user3469811"}, "is_accepted": false, "score": 0, "last_activity_date": 1553730432, "last_edit_date": 1553730432, "creation_date": 1553726385, "answer_id": 55387559, "question_id": 55386850, "link": "https://stackoverflow.com/questions/55386850/how-can-i-replace-the-first-element-of-each-line-in-a-list-in-python/55387559#55387559", "title": "How can I replace the first element of each line in a list in PYTHON?", "body": "<p>here a solution with re</p>\n\n<pre><code>import re\n\n# my guess on how lista looks like, it is more useful to show the actual variable, than the output btw.\nlista = \"&gt;A0A024;167;188;22;DiPPE\\n&gt;A0AV;1;25;25;DiWC\\n&gt;A0AV6;38;58;21;Diwc\\n&gt;A0AV7;408;432;25;Diwc\"\n\nlista = lista.split(\"\\n\")\nlista1 = []\nfor elem in lista:\n    lista1.append(re.sub(r'(.+?);(.+?;.+?);', r'\\1\\n[\\2]', elem))\n\nprint(*lista1, sep='\\n')\n</code></pre>\n\n<p>for the first <code>elem</code> in the list <code>r'(.+?);(.+?;.+?);'</code> will match <code>&gt;A0A024;167;188;</code>, and it will substitute each of the 2 groups (<code>&gt;A0A024</code>, and <code>167;188</code>) in the match with this pattern <code>r'\\1\\n[\\2]'</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 11268807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8d23dcb3206401cef16dc0eb492b542?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/11268807/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1553730432, "creation_date": 1553722668, "last_edit_date": 1553723285, "question_id": 55386850, "link": "https://stackoverflow.com/questions/55386850/how-can-i-replace-the-first-element-of-each-line-in-a-list-in-python", "title": "How can I replace the first element of each line in a list in PYTHON?", "body": "<p>I'm a little beginner, \n i have a list  and I need to change the first \";\" with \"\\n[\" , and the third \";\" with \"]\" \ni have this:</p>\n\n<pre><code>print(lista)\n\n&gt;A0A024;167;188;22;DiPPE\n&gt;A0AV;1;25;25;DiWC\n&gt;A0AV6;38;58;21;Diwc\n&gt;A0AV7;408;432;25;Diwc\n</code></pre>\n\n<p>i try:     </p>\n\n<pre><code>lista1=str(lista).replace(\";\",\"\\n[\",1)   \n</code></pre>\n\n<p>but only replace the first in the list:</p>\n\n<pre><code>&gt;A0A024\n[167;188;22;DiPPE\n&gt;A0AV;1;25;25;DiWC\n&gt;A0AV6;38;58;21;DiwC\n&gt;A0AV7;408;432;25;DiwC\n</code></pre>\n\n<p>need to be:</p>\n\n<pre><code>&gt;A0A024\n[167;188]22;DiPPE\n&gt;A0AV\n[1;25]25;DiWC\n&gt;A0AV6\n[38;58]21;DiwC\n&gt;A0AV7\n[408;432]25;DiwC\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 1, "creation_date": 1553723112, "post_id": 55386845, "comment_id": 97495782, "body": "You just need to get an array with first or the second value, right? Simply convert this list to np.array and run <code>arr[:,0]</code> for odd and <code>arr[:,1]</code> for even."}, {"owner": {"reputation": 179, "user_id": 11253732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cd95ffb9151cfab84f846c1eaffecc?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Ramos", "link": "https://stackoverflow.com/users/11253732/juan-ramos"}, "reply_to_user": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 0, "creation_date": 1553724221, "post_id": 55386845, "comment_id": 97496222, "body": "function2 should call the array then check: [868,905], [785,905],[701,905]..."}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 10652408, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0kMvgcM5miQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAW6JVrchoPANyJ2AcwtnrcL26XBQ/mo/photo.jpg?sz=128", "display_name": "Auss", "link": "https://stackoverflow.com/users/10652408/auss"}, "is_accepted": false, "score": 0, "last_activity_date": 1553723923, "creation_date": 1553723923, "answer_id": 55387110, "question_id": 55386845, "link": "https://stackoverflow.com/questions/55386845/making-a-function-call-only-even-indexed-parts-of-a-numpy-array-of-2d-arrays/55387110#55387110", "title": "Making a function call only even indexed parts of a numpy array of 2d arrays", "body": "<p>Your question contains typos. Please try to be clearer in your question. Do you want to do the following?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>array = [np.array([868., 905.]), np.array([827., 905.]), np.array([785., 905.]), np.array([743., 905.]), np.array([701., 905.]), np.array([659., 905.]), np.array([617., 905.]), np.array([575., 905.]), np.array([533., 905.]), np.array([491., 905.]), np.array([449., 905.]), np.array([407., 905.]), np.array([365., 905.]), np.array([323., 905.]), np.array([281., 905.]), np.array([239., 905.]), np.array([197., 905.]), np.array([155., 905.])]\n\ndef get_even(array):\n    return [sub_array[0] for sub_array in array]\n\ndef get_odd(array):\n    return [sub_array[1] for sub_array in array]\n\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 11253732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cd95ffb9151cfab84f846c1eaffecc?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Ramos", "link": "https://stackoverflow.com/users/11253732/juan-ramos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553723923, "creation_date": 1553722636, "last_edit_date": 1553723672, "question_id": 55386845, "link": "https://stackoverflow.com/questions/55386845/making-a-function-call-only-even-indexed-parts-of-a-numpy-array-of-2d-arrays", "title": "Making a function call only even indexed parts of a numpy array of 2d arrays", "body": "<p>This my data that i got from numpy:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>array = [np.array([868., 905.]), np.array([827., 905.]), np.array([785., 905.]), np.array([743., 905.]), np.array([701., 905.]), np.array([659., 905.]), np.array([617., 905.]), np.array([575., 905.]), np.array([533., 905.]), np.array([491., 905.]), np.array([449., 905.]), np.array([407., 905.]), np.array([365., 905.]), np.array([323., 905.]), np.array([281., 905.]), np.array([239., 905.]), np.array([197., 905.]), np.array([155., 905.])]\n</code></pre>\n\n<p>So I want to be able to call from a function only the odd indexes and the the function will call the even indexes of this array. If there is a better way to achieve this please let me know. Like this:</p>\n\n<pre><code>function1[array[odd]]\nfunction2[array[even]]\n</code></pre>\n\n<p>One of my ideas was to split the array into two arrays then call those arrays, but I didn't know how to do that either.</p>\n"}, {"tags": ["python", "numpy", "numpy-ndarray"], "comments": [{"owner": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 0, "creation_date": 1553723981, "post_id": 55386785, "comment_id": 97496131, "body": "What are the dimensions of <code>D</code>,<code>w</code> and <code>b</code>?"}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "reply_to_user": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 0, "creation_date": 1553724221, "post_id": 55386785, "comment_id": 97496223, "body": "b is the bias of the function (int); w can be a numpy array or an int; D is a Matrix (2D array), however for now only the data in column 7 is important for the function"}, {"owner": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 0, "creation_date": 1553724393, "post_id": 55386785, "comment_id": 97496297, "body": "I understand this, but are the dimensions of  <code>D</code> 400x14 for example? In this case, you&#39;d be multiplying a single vector of length 14. To get the column, you&#39;d have to do  <code>D[:,7] </code>."}, {"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "reply_to_user": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 1, "creation_date": 1553724660, "post_id": 55386785, "comment_id": 97496372, "body": "You are indeed correct and this just solved it. Thank you. If you write it as an answer I will mark it correct, so it may help others."}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "edited": false, "score": 0, "creation_date": 1553723715, "post_id": 55386860, "comment_id": 97496021, "body": "prob already is an array. np.ravel() does not change anything. I will clarify the question."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1553730336, "post_id": 55386860, "comment_id": 97498059, "body": "That <code>[:]</code> is superfluous."}], "tags": [], "owner": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "is_accepted": true, "score": 1, "last_activity_date": 1553726061, "last_edit_date": 1553726061, "creation_date": 1553722708, "answer_id": 55386860, "question_id": 55386785, "link": "https://stackoverflow.com/questions/55386785/creating-a-numpy-array-from-a-method-using-numpy-array/55386860#55386860", "title": "Creating a numpy array from a method using numpy array", "body": "<p>EDIT: The issue is the incorrect slicing of the array. One has to use <code>D[:,7]</code> instead of <code>D[:][7]</code> to extract a column.</p>\n\n<hr>\n\n<p>Perhaps like this:</p>\n\n<pre><code>import numpy as np\n\n\ndef sigmoid(x):\n    sigm = 1 / (1 + np.exp(-x))\n    return sigm\n\n\ndef p(D, w, b):\n    prob=sigmoid(np.dot(D[:][7],w)+b)\n    return np.ravel(prob)\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 11257628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41fHVD7qZpE/AAAAAAAAAAI/AAAAAAAAAJM/fWRF8xH8OzM/photo.jpg?sz=128", "display_name": "Valentin Metz", "link": "https://stackoverflow.com/users/11257628/valentin-metz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 55386860, "answer_count": 1, "score": 1, "last_activity_date": 1553726155, "creation_date": 1553722383, "last_edit_date": 1553723826, "question_id": 55386785, "link": "https://stackoverflow.com/questions/55386785/creating-a-numpy-array-from-a-method-using-numpy-array", "title": "Creating a numpy array from a method using numpy array", "body": "<p>I have a 2D numpy-array as input for a basic sigmoid-classifier.\nI would like the classifier to return an array with the probabilities.</p>\n\n<pre><code>import numpy as np\n\n\ndef sigmoid(x):\n    sigm = 1 / (1 + np.exp(-x))\n    return sigm\n\n\ndef p(D, w, b):\n    prob=sigmoid(np.dot(D[:][7],w)+b)\n    return prob\n</code></pre>\n\n<p>How can I change p() so that it returns a 1D numpy array with the probabilities listed in order of the input data ?</p>\n\n<p>Atm \"prob\" is an array of length 14, however the input array \"D\" is over 400 in size, so there is an error somewhere in the logic.</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "answers": [{"comments": [{"owner": {"reputation": 3030, "user_id": 1883795, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/089e90c27abb82424f05c13f9d49de76?s=128&d=identicon&r=PG", "display_name": "generic_user", "link": "https://stackoverflow.com/users/1883795/generic-user"}, "edited": false, "score": 0, "creation_date": 1553780682, "post_id": 55398640, "comment_id": 97518543, "body": "Which is to say that the problem, as I&#39;ve also discovered, is that these Lambdas can&#39;t take two arguments.  I&#39;ve also figured it out, and should have deleted the question."}], "tags": [], "owner": {"reputation": 4836, "user_id": 5597718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e450815e36321fae0dc523e25bcc808?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Mohan", "link": "https://stackoverflow.com/users/5597718/manoj-mohan"}, "is_accepted": false, "score": 1, "last_activity_date": 1553779051, "creation_date": 1553779051, "answer_id": 55398640, "question_id": 55386784, "link": "https://stackoverflow.com/questions/55386784/multiply-a-layer-by-a-boolean-mask-in-keras-getting-error-nonetype-object-has/55398640#55398640", "title": "Multiply a layer by a boolean mask in Keras, getting error &#39;NoneType&#39; object has no attribute &#39;_inbound_nodes&#39;", "body": "<p>You can change it like this:</p>\n\n<pre><code>def compfun(x):\n    comp = K.equal(x, K.variable(2))\n    return K.cast(comp, dtype = \"float32\")\n\n\nm2 = Lambda(compfun)(mask)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3030, "user_id": 1883795, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/089e90c27abb82424f05c13f9d49de76?s=128&d=identicon&r=PG", "display_name": "generic_user", "link": "https://stackoverflow.com/users/1883795/generic-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1553780828, "creation_date": 1553780828, "answer_id": 55399219, "question_id": 55386784, "link": "https://stackoverflow.com/questions/55386784/multiply-a-layer-by-a-boolean-mask-in-keras-getting-error-nonetype-object-has/55399219#55399219", "title": "Multiply a layer by a boolean mask in Keras, getting error &#39;NoneType&#39; object has no attribute &#39;_inbound_nodes&#39;", "body": "<p>It turns out that the problem was that `Lambdas choke when you give  them an argument that is a list, because they don't know what to do with the non-layer part of the function.  I handled the problem like this:</p>\n\n<pre><code>for i in np.unique(loc_idx): \n    mask = Lambda(lambda x: K.cast(K.equal(x, i), dtype = \"float32\"))(loc_inp)\n</code></pre>\n"}], "owner": {"reputation": 3030, "user_id": 1883795, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/089e90c27abb82424f05c13f9d49de76?s=128&d=identicon&r=PG", "display_name": "generic_user", "link": "https://stackoverflow.com/users/1883795/generic-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553780828, "creation_date": 1553722378, "question_id": 55386784, "link": "https://stackoverflow.com/questions/55386784/multiply-a-layer-by-a-boolean-mask-in-keras-getting-error-nonetype-object-has", "title": "Multiply a layer by a boolean mask in Keras, getting error &#39;NoneType&#39; object has no attribute &#39;_inbound_nodes&#39;", "body": "<p>Plenty of threads on this error, but I can't seem to apply them to my case.  Here's a simplified version of what I'm trying to do:</p>\n\n<pre><code>import numpy as np\nfrom keras.models import Model\nfrom keras.layers import Input, multiply, Dense, Lambda, Multiply\nimport keras.backend as K\n</code></pre>\n\n<p>Some dummy data:</p>\n\n<pre><code>xx = np.array([1,2,3]).reshape(3,1)\nmaskvec = np.array([1,2,3]).reshape(3,1)\n</code></pre>\n\n<p>This is a function to compare a mask to a value in the mask:</p>\n\n<pre><code>def compfun(x):\n    comp = K.equal(x[0], x[1])\n    return K.cast(comp, dtype = \"float32\")\n\n\ninp = Input(shape = (1,))\nlay = Dense(1)(inp)\nmask = Input(shape = (1,))\nm2 = Lambda(compfun)([mask, K.variable(2)]) #2 is a magic number.  In my use-case it'll be in a for-loop\nmasked = multiply([lay, m2])\nmodel = Model(inputs = [inp, mask], outputs = [masked])\n</code></pre>\n\n<p>And the dreaded</p>\n\n<pre><code>AttributeError: 'NoneType' object has no attribute '_inbound_nodes'\n</code></pre>\n\n<p>Would really appreciate some insight into what's going on here!  Really banging my head against the wall.</p>\n\n<p>I've tried making the second argument to <code>compfun</code> into an array rather than a constant, but I get the same error (I have no idea if <code>K.equal</code> can take scalars or not when another argument is a vector)</p>\n"}, {"tags": ["python", "logging"], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "edited": false, "score": 0, "creation_date": 1553723235, "post_id": 55386846, "comment_id": 97495833, "body": "I dont have an option to call the script as its a gerrit hook triggered by gerrit,so looking for other options"}], "tags": [], "owner": {"reputation": 5405, "user_id": 2400117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFJ22.jpg?s=128&g=1", "display_name": "Diogo Rocha", "link": "https://stackoverflow.com/users/2400117/diogo-rocha"}, "is_accepted": false, "score": 0, "last_activity_date": 1553722636, "creation_date": 1553722636, "answer_id": 55386846, "question_id": 55386749, "link": "https://stackoverflow.com/questions/55386749/how-to-give-sudo-permission-to-logging-file/55386846#55386846", "title": "how to give sudo permission to logging file?", "body": "<p>Run your script as root or with sudo.</p>\n\n<p>If this is not an option you can detect when you're not running with sudo calling <code>os.geteuid()</code>. If <code>os.geteuid() != 0</code> you're not running with sudo. If this is the case you can call yourself again but this time with sudo, something like <code>subprocess.call(['sudo', 'python3', *sys.argv])</code>.</p>\n"}], "owner": {"reputation": 881, "user_id": 6645845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3a2fb114750ce2d34e3e07b594feed5e?s=128&d=identicon&r=PG&f=1", "display_name": "Ritz", "link": "https://stackoverflow.com/users/6645845/ritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553722636, "creation_date": 1553722224, "question_id": 55386749, "link": "https://stackoverflow.com/questions/55386749/how-to-give-sudo-permission-to-logging-file", "title": "how to give sudo permission to logging file?", "body": "<p>I setup logging as below but the logging fails because the location <code>/gerrit_v2/hooks/changemergedlogs</code> needs sudo permissions ,how do I give sudo permissions through the script?</p>\n\n<p>CODE:-</p>\n\n<pre><code>import os,time,logging\n\n# setup logging\nchangemergedhooklog = 'change_merged_hook_log_' + time.strftime(\"%m%d%Y\") + '_' + time.strftime(\"%H%M%S\") + '.txt'\n#log = os.path.join(os.path.dirname(os.path.realpath(__file__)),changemergedhooklog)\nlog = os.path.join(os.path.dirname(os.path.realpath(__file__)),'changemergedlogs',changemergedhooklog)\nlogger = logging.getLogger(__name__)\n#logger.setLevel(logging.DEBUG)\nlogger.setLevel(10)\nch = logging.StreamHandler()\n#ch.setLevel(logging.DEBUG)\nch.setLevel(10)\nformatter = logging.Formatter('%(asctime)s %(filename)-15s %(funcName)-20s %(lineno)-5s  %(levelname)-8s: %(message)s', datefmt=\"%Y-%m-%d %H:%M:%S\")\nch.setFormatter(formatter)\nlogger.addHandler(ch)\n\nfh = logging.FileHandler(log, 'w')\nfh.setLevel(logging.DEBUG)\nfh.setFormatter(formatter)\nlogger.addHandler(fh)\n</code></pre>\n\n<p>ERROR:-</p>\n\n<pre><code>  File \"copytest.py\", line 17, in &lt;module&gt;\n    fh = logging.FileHandler(log, 'w')\n  File \"/Network/Servers/nwna40a.apple.com/vol/homedir4/wgerrit/.pyenv/versions/2.7.6/lib/python2.7/logging/__init__.py\", line 903, in __init__\n    StreamHandler.__init__(self, self._open())\n  File \"/Network/Servers/nwna40a.apple.com/vol/homedir4/wgerrit/.pyenv/versions/2.7.6/lib/python2.7/logging/__init__.py\", line 926, in _open\n    stream = open(self.baseFilename, self.mode)\nIOError: [Errno 13] Permission denied: '/gerrit_v2/hooks/changemergedlogs/change_merged_hook_log_03272019_142144.txt'\n</code></pre>\n"}, {"tags": ["python", "azure", "azure-web-app-service", "passlib"], "answers": [{"tags": [], "owner": {"reputation": 1103, "user_id": 5149399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71f88ae862a6e395aa0461b4e6270aaa?s=128&d=identicon&r=PG&f=1", "display_name": "Terry", "link": "https://stackoverflow.com/users/5149399/terry"}, "is_accepted": true, "score": 1, "last_activity_date": 1553822631, "creation_date": 1553822631, "answer_id": 55409219, "question_id": 55386709, "link": "https://stackoverflow.com/questions/55386709/warning-could-not-find-packages-folder-or-virtual-environment-modulenotfounder/55409219#55409219", "title": "WARNING: Could not find packages folder or virtual environment. ModuleNotFoundError: No module named &#39;xxxxx&#39; in Azure App Services", "body": "<p>It was actually functools==3.7 causing all installs to fail. Seems to be unavailable as a package, yet is included anyway as Wraps work without it.</p>\n\n<p>I was able to find the deployment logs under logs/kudu/deployment which lead to this discovery.</p>\n"}], "owner": {"reputation": 1103, "user_id": 5149399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71f88ae862a6e395aa0461b4e6270aaa?s=128&d=identicon&r=PG&f=1", "display_name": "Terry", "link": "https://stackoverflow.com/users/5149399/terry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 931, "favorite_count": 0, "accepted_answer_id": 55409219, "answer_count": 1, "score": 0, "last_activity_date": 1553822631, "creation_date": 1553722046, "last_edit_date": 1553821395, "question_id": 55386709, "link": "https://stackoverflow.com/questions/55386709/warning-could-not-find-packages-folder-or-virtual-environment-modulenotfounder", "title": "WARNING: Could not find packages folder or virtual environment. ModuleNotFoundError: No module named &#39;xxxxx&#39; in Azure App Services", "body": "<p>I have the following error in a Python application deployed to linux in Azure App Services.</p>\n\n<pre><code>2019-03-27T21:19:19.356340459Z WARNING: Could not find packages folder or virtual environment.\n2019-03-27T21:19:19.356340459Z   File \"/home/site/wwwroot/application.py\", line 3, in \n2019-03-27T21:19:19.356344259Z     from passlib.hash import pbkdf2_sha256\n2019-03-27T21:19:19.356347559Z ModuleNotFoundError: No module named 'passlib'\n</code></pre>\n\n<p>Its the same if I use pandas so doesn't seem to be related to the library.</p>\n\n<p>Although I have added the file to my requirements.txt its not run as part of the installation.</p>\n\n<pre><code>Flask==1.0.2\npasslib==1.7.1\nfunctools==3.3.0\n</code></pre>\n\n<p>The environment is Linux on Azure App Services. These are the steps I followed,</p>\n\n<p><a href=\"https://code.visualstudio.com/docs/python/tutorial-deploy-app-service-on-linux\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/python/tutorial-deploy-app-service-on-linux</a></p>\n\n<p>I have tried connecting to the environment using the Kudo BASH, but when checking the python version its 2.7 not 3.7 per the deployment. I'm wondering if im in the host os and not the docker container the site is hosted in. (Bug/Issue?). I can find the deployment under /home/site/wwwroot and i have tried using pip to install the requirement.txt. Since it isnt the version of pyton running on the site I assume that's why its failing. It will collect the libaries but not proceed any further.</p>\n\n<p>I am unable to SSH, this seems to be down, it is never able to connect to the site.</p>\n\n<p>I have tried the development and production plans.</p>\n\n<p>I dont want to deploy my own docker as the goal is to have MS Manage the patching of the whole environment.</p>\n"}, {"tags": ["python", "build", "local", "fabric", "yarnpkg"], "comments": [{"owner": {"reputation": 813, "user_id": 6660766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04feebac83c171b2a0223b189ad6b59f?s=128&d=identicon&r=PG", "display_name": "Peshmerge", "link": "https://stackoverflow.com/users/6660766/peshmerge"}, "edited": false, "score": 0, "creation_date": 1553775570, "post_id": 55386683, "comment_id": 97515005, "body": "What the OS of the server you are trying to connect to?  Why do you use this path <code>..&#47;..&#47;app&#47;some-app</code>? I would assume when you connect to the server, you can use the absolute path instead of the relative path! have you tried that?"}, {"owner": {"reputation": 465, "user_id": 1295346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxBn1.jpg?s=128&g=1", "display_name": "rita", "link": "https://stackoverflow.com/users/1295346/rita"}, "reply_to_user": {"reputation": 813, "user_id": 6660766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04feebac83c171b2a0223b189ad6b59f?s=128&d=identicon&r=PG", "display_name": "Peshmerge", "link": "https://stackoverflow.com/users/6660766/peshmerge"}, "edited": false, "score": 0, "creation_date": 1554118835, "post_id": 55386683, "comment_id": 97621995, "body": "this command refers to the LOCAL instance on windows, mac or a linux vagrant box. the command c.local(&#39;dir&#39;) works fine, it shows the relevant output on windows, it also works with c.local(&#39;ls&#39;) on mac or linux. But I can&#39;t run any other commands, like node --version or yarn install as per the example..."}], "answers": [{"tags": [], "owner": {"reputation": 12105, "user_id": 6043170, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFy-IHfVniw/AAAAAAAAAAI/AAAAAAAAAFM/f_Xao2r127I/photo.jpg?sz=128", "display_name": "2ps", "link": "https://stackoverflow.com/users/6043170/2ps"}, "is_accepted": false, "score": 1, "last_activity_date": 1555180165, "creation_date": 1555180165, "answer_id": 55668647, "question_id": 55386683, "link": "https://stackoverflow.com/questions/55386683/run-local-commands-with-fabric/55668647#55668647", "title": "Run local commands with Fabric", "body": "<p>To run local commands, run them off of your <code>context</code> and not your connection.  n.b., this drops you to the <code>invoke</code> level:</p>\n\n<pre><code>from fabric import task\n\n@task\ndef hello(context):\n    with context.cd('/path/to/local_dir'):\n        context.run('ls -la')\n</code></pre>\n\n<p>That said, the issue is probably that you need the fully qualified path to <code>yarn</code> since your environment's path hasn't been sourced.  </p>\n"}], "owner": {"reputation": 465, "user_id": 1295346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cxBn1.jpg?s=128&g=1", "display_name": "rita", "link": "https://stackoverflow.com/users/1295346/rita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555180165, "creation_date": 1553721929, "last_edit_date": 1553878346, "question_id": 55386683, "link": "https://stackoverflow.com/questions/55386683/run-local-commands-with-fabric", "title": "Run local commands with Fabric", "body": "<p>My environments are based on windows with vagrant or docker as the actual environments. I'd like to set up a quick way of ad hoc deploying stuff directly from windows though, it would be great if I could just run</p>\n\n<pre><code>fab deploySomething\n</code></pre>\n\n<p>And that would for example locally build an react app, commit and push to the server. However I'm stuck at the local bit.</p>\n\n<p>My setup is:\nWindows 10\nFabric 2\nPython 3</p>\n\n<p>I've got a fabfile.py set up with a simple test:</p>\n\n<pre><code>from fabric import Connection, task, Config\n\n@task\ndef deployApp(context):\n    config = Config(overrides={'user': 'XXX', 'connect_kwargs': {'password': 'YYY'}})\n    c = Connection('123.123.123.123', config=config)\n    # c.local('echo ---------- test from local')             \n    with c.cd('../../app/some-app'):\n        c.local('dir') #this is correct\n        c.local('yarn install', echo=True)\n</code></pre>\n\n<p>But I'm just getting: </p>\n\n<pre><code>'yarn' is not recognized as an internal or external command, operable program or batch file.\n</code></pre>\n\n<p>you can replace 'yarn' with pretty much anything, I can't run a command with local that works fine manually. With debugging on, all i get is:</p>\n\n<pre><code>DEBUG:invoke:Received a possibly-skippable exception: &lt;UnexpectedExit: cmd='cd ../../app/some-app &amp;&amp; yarn install' exited=1&gt;\n</code></pre>\n\n<p>which isn't very helpful...anyone came across this? Any examples of local commands with fabric I can find seem to refer to the old 1.X versions</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 1909, "user_id": 8089695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92107cb1b109e2b8281e9cb76b5e3f16?s=128&d=identicon&r=PG&f=1", "display_name": "MiloMinderbinder", "link": "https://stackoverflow.com/users/8089695/milominderbinder"}, "edited": false, "score": 0, "creation_date": 1553721962, "post_id": 55386669, "comment_id": 97495346, "body": "want vectorized way of doing it. I need to apply this to a million rows"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1553741763, "post_id": 55386669, "comment_id": 97500464, "body": "This is a string operation.  There isn&#39;t fast compiled numpy code to do it.  Even the <code>np.char.multiply</code> just iterates through the array, applying the string multiply."}, {"owner": {"reputation": 1909, "user_id": 8089695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92107cb1b109e2b8281e9cb76b5e3f16?s=128&d=identicon&r=PG&f=1", "display_name": "MiloMinderbinder", "link": "https://stackoverflow.com/users/8089695/milominderbinder"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1553755278, "post_id": 55386669, "comment_id": 97503893, "body": "@hpaulj atleast it would still do multiprocessing using all my cores which i will have to do explicitly at my end i guess if i use a loop?"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1553721858, "creation_date": 1553721858, "answer_id": 55386669, "question_id": 55386621, "link": "https://stackoverflow.com/questions/55386621/create-an-array-with-a-letter-repeated-a-given-number-of-times-given-by-another/55386669#55386669", "title": "Create an array with a letter repeated a given number of times given by another array", "body": "<p>I don't understand why you insist on them being <code>numpy</code> objects? Maybe I'm misunderstanding the question but you would handle it the same way as a list:</p>\n\n<pre><code>import numpy as np\na = np.array([1, 2, 3])\ns = np.array(['a', 'b', 'c'])\nnew_array = np.array([str(s[i])*a[i] for i in range(len(s))])\nprint(new_array)\n</code></pre>\n\n<p>Outputs:</p>\n\n<blockquote>\n  <p>['a', 'bb', 'ccc']</p>\n</blockquote>\n\n<p>This assumes <code>a</code> and <code>s</code> are of equal length, because it was not specified otherwise</p>\n"}, {"comments": [{"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 2, "creation_date": 1553722342, "post_id": 55386744, "comment_id": 97495517, "body": "Can save a few chars with <code>np.char.multiply(s, a)</code> :)"}], "tags": [], "owner": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "is_accepted": true, "score": 6, "last_activity_date": 1553722197, "creation_date": 1553722197, "answer_id": 55386744, "question_id": 55386621, "link": "https://stackoverflow.com/questions/55386621/create-an-array-with-a-letter-repeated-a-given-number-of-times-given-by-another/55386744#55386744", "title": "Create an array with a letter repeated a given number of times given by another array", "body": "<p>There is a built-in method:</p>\n\n<pre><code>output = np.core.defchararray.multiply(s,a)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 2, "last_activity_date": 1553742585, "last_edit_date": 1553742585, "creation_date": 1553742180, "answer_id": 55389551, "question_id": 55386621, "link": "https://stackoverflow.com/questions/55386621/create-an-array-with-a-letter-repeated-a-given-number-of-times-given-by-another/55389551#55389551", "title": "Create an array with a letter repeated a given number of times given by another array", "body": "<p>Let's compare the alternatives:</p>\n\n<pre><code>In [495]: a = np.array([1, 2, 3]) \n     ...: s = np.array(['a', 'b', 'c'])                                         \n</code></pre>\n\n<p>Using the <code>np.char</code> function.  Under the covers this applies string multiply to each element of the array (with a loop):</p>\n\n<pre><code>In [496]: np.char.multiply(s,a)                                                 \nOut[496]: array(['a', 'bb', 'ccc'], dtype='&lt;U3')\n</code></pre>\n\n<p>An explicit loop.  <code>i.item()</code> converts the numpy string to Python string:</p>\n\n<pre><code>In [498]: np.array([i.item()*j for i,j in zip(s,a)])                            \nOut[498]: array(['a', 'bb', 'ccc'], dtype='&lt;U3')\n</code></pre>\n\n<p>Another way of creating an array of Python strings:</p>\n\n<pre><code>In [499]: s.astype(object)*a                                                    \nOut[499]: array(['a', 'bb', 'ccc'], dtype=object)\n</code></pre>\n\n<p>Timings:</p>\n\n<pre><code>In [500]: timeit np.char.multiply(s,a)                                          \n21.3 \u00b5s \u00b1 975 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\nIn [501]: timeit np.array([i.item()*j for i,j in zip(s,a)])                     \n13.4 \u00b5s \u00b1 21.8 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\nIn [502]: timeit s.astype(object)*a                                             \n9.16 \u00b5s \u00b1 226 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n</code></pre>\n\n<p>So the explicit loop approach does pretty well.</p>\n\n<p>Another idea - use <code>frompyfunc</code>:</p>\n\n<pre><code>In [504]: np.frompyfunc(lambda i,j: i*j, 2,1)(s,a)                              \nOut[504]: array(['a', 'bb', 'ccc'], dtype=object)\nIn [505]: timeit np.frompyfunc(lambda i,j: i*j, 2,1)(s,a)                       \n6.28 \u00b5s \u00b1 56 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n</code></pre>\n\n<p>I thought of <code>frompyfunc</code> because I wondered if we could use broadcasting:</p>\n\n<pre><code>In [508]: np.frompyfunc(lambda i,j: i*j, 2,1)(s,a[:,None])                      \nOut[508]: \narray([['a', 'b', 'c'],\n       ['aa', 'bb', 'cc'],\n       ['aaa', 'bbb', 'ccc']], dtype=object)\n</code></pre>\n\n<p>But that kind of broadcasting works for the other methods as well.</p>\n\n<p><code>np.vectorize</code> uses <code>np.frompyfunc</code> but does dtype conversions (<code>frompyfunc</code> always returns object dtype), but it tends to be slower.</p>\n"}], "owner": {"reputation": 1909, "user_id": 8089695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92107cb1b109e2b8281e9cb76b5e3f16?s=128&d=identicon&r=PG&f=1", "display_name": "MiloMinderbinder", "link": "https://stackoverflow.com/users/8089695/milominderbinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 1, "accepted_answer_id": 55386744, "answer_count": 3, "score": 1, "last_activity_date": 1553742585, "creation_date": 1553721577, "last_edit_date": 1553722450, "question_id": 55386621, "link": "https://stackoverflow.com/questions/55386621/create-an-array-with-a-letter-repeated-a-given-number-of-times-given-by-another", "title": "Create an array with a letter repeated a given number of times given by another array", "body": "<p>I have an array <code>a</code> and i want to create another array <code>b</code> with a certain string repeated the number of times specified by <code>a</code></p>\n\n<pre><code>a = np.array([1,2,3])\ns = 'a'\n</code></pre>\n\n<p>i want the <code>b</code> to be <code>np.array(['a','aa','aaa'])</code>. What would be the numpy way to do it without loops?</p>\n\n<p>Though my use case does not need it but, in general</p>\n\n<pre><code>a = np.array([1,2,3])\ns = np.array(['a','b','c'])\n</code></pre>\n\n<p>How to get <code>b</code> to be <code>np.array(['a','bb','ccc'])</code> without loops?</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras"], "comments": [{"owner": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 4, "creation_date": 1553721706, "post_id": 55386618, "comment_id": 97495203, "body": "<code>model</code> doesn&#39;t seem to have closing brackets."}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 10706172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CzFr4-D_dJo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g9Be1xQzRUG2j6dqxc_NPVpYjndg/mo/photo.jpg?sz=128", "display_name": "Maximilian", "link": "https://stackoverflow.com/users/10706172/maximilian"}, "is_accepted": true, "score": 1, "last_activity_date": 1553722726, "creation_date": 1553722726, "answer_id": 55386869, "question_id": 55386618, "link": "https://stackoverflow.com/questions/55386618/invalid-syntax-in-code-written-in-python-on-tensorflow-backend/55386869#55386869", "title": "Invalid syntax in code written in python on tensorflow backend", "body": "<p>you have to close the model correctly with ]) in the end.</p>\n\n<pre><code>model = keras.Sequential([\n    keras.layers.Flatten(input_shape=(28, 28)),\n    keras.layers.Dense(128, activation=tf.nn.sigmoid),\n    keras.layers.Dense(10, activation=tf.nn.sigmoid)])\n\n\nmodel.compile(optimizer='adam',loss='sparse_categorical_crossentropy',metrics=['accuracy'])\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11268861, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9PayYCH26vI/AAAAAAAAAAI/AAAAAAAAAGw/nWt7Q28l6yI/photo.jpg?sz=128", "display_name": "Muskaan Daisy", "link": "https://stackoverflow.com/users/11268861/muskaan-daisy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 55386869, "answer_count": 1, "score": -1, "last_activity_date": 1553722726, "creation_date": 1553721554, "question_id": 55386618, "link": "https://stackoverflow.com/questions/55386618/invalid-syntax-in-code-written-in-python-on-tensorflow-backend", "title": "Invalid syntax in code written in python on tensorflow backend", "body": "<p>I am getting invalid syntax on a totally valid line of code that I copy-pasted from tensorflow  tutorials on their website.</p>\n\n<p>I tried searching for the problem but for some reason not everyone is facing the same problem.</p>\n\n<p>The included packages are</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># TensorFlow and tf.keras\nimport tensorflow as tf\nfrom tensorflow import keras\n# Helper libraries\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom keras.datasets import mnist\n</code></pre>\n\n<p>I'm getting error (invalid syntax) for the following line :</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>model.compile(optimizer='adam',loss='sparse_categorical_crossentropy',metrics=['accuracy'])\n</code></pre>\n\n<p>I need help to debug this error, else my code won't run.</p>\n\n<p>Full code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>(train_images, train_labels), (test_images, test_labels) = mnist.load_data()\nclass_names = ['0','1','2','3','4','5','6','7','8','9']\n\nprint(train_images.shape)\n\ntrain_images = train_images / 255.0\ntest_images = test_images / 255.0\n\nplt.figure(figsize=(10,10))\nfor i in range(25):\n    plt.subplot(5,5,i+1)\n    plt.xticks([])\n    plt.yticks([])\n    plt.grid(False)\n    plt.imshow(train_images[i], cmap=plt.cm.binary)\n    plt.xlabel(class_names[train_labels[i]])\nplt.show()\n\nmodel = keras.Sequential([\n    keras.layers.Flatten(input_shape=(28, 28)),\n    keras.layers.Dense(128, activation=tf.nn.sigmoid),\n    keras.layers.Dense(10, activation=tf.nn.sigmoid)\n\nmodel.compile(optimizer='adam',loss='sparse_categorical_crossentropy',metrics=['accuracy'])\n\n\n\"\"\"\n# Load dataset\nmndata = MNIST('')\nimages, labels = mndata.load_training()\n\n# Pick the fifth image from the dataset (it's a 9)\ni = 4\nimage, label = images[i], labels[i]\n\n# Print the image\noutput = Image.new(\"L\", (28, 28))\noutput.putdata(image)\noutput.save(\"output.png\")\n\n# Print label\nprint(label)\n\"\"\"\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1553723896, "post_id": 55386612, "comment_id": 97496103, "body": "What is your goal? What are you trying to achieve?"}, {"owner": {"reputation": 1036, "user_id": 9987623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W12Vh.jpg?s=128&g=1", "display_name": "AlexK", "link": "https://stackoverflow.com/users/9987623/alexk"}, "edited": false, "score": 0, "creation_date": 1553724084, "post_id": 55386612, "comment_id": 97496173, "body": "This error means there is no column called <code>n_tokens_content</code> in the dataframe you created.  You&#39;ll have to examine the dataframe (e.g., run <code>df.columns</code> or <code>df.head()</code>) to see what your column names are."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 11268277, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dl7zHMPGNOo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfPHia0qo__X0xy6226tmK1qdgg2Q/mo/photo.jpg?sz=128", "display_name": "Sandy", "link": "https://stackoverflow.com/users/11268277/sandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1553725144, "creation_date": 1553725144, "answer_id": 55387345, "question_id": 55386612, "link": "https://stackoverflow.com/questions/55386612/slicing-pandas-dataframe-encounter-keyerror-n-tokens-content-how-to-locate-t/55387345#55387345", "title": "slicing pandas dataframe encounter KeyError: &#39;n_tokens_content&#39;, how to locate the bad rows efficiently?", "body": "<p>When you print the columns using df.columns then 'n_tokens_content' has a leading space at the start. </p>\n\n<p>Input: <code>df.columns</code></p>\n\n<p>Output:</p>\n\n<pre><code>Index(['url', ' timedelta', ' n_tokens_title', ' n_tokens_content',\n   ' n_unique_tokens', ' n_non_stop_words', ' n_non_stop_unique_tokens',\n   ' num_hrefs', ' num_self_hrefs', ' num_imgs', ' num_videos',\n   ' average_token_length', ' num_keywords', ' data_channel_is_lifestyle',\n   ' data_channel_is_entertainment', ' data_channel_is_bus',\n   ' data_channel_is_socmed', ' data_channel_is_tech',\n   ' data_channel_is_world', ' kw_min_min', ' kw_max_min', ' kw_avg_min',\n   ' kw_min_max', ' kw_max_max', ' kw_avg_max', ' kw_min_avg',\n   ' kw_max_avg', ' kw_avg_avg', ' self_reference_min_shares',\n   ' self_reference_max_shares', ' self_reference_avg_sharess',\n   ' weekday_is_monday', ' weekday_is_tuesday', ' weekday_is_wednesday',\n   ' weekday_is_thursday', ' weekday_is_friday', ' weekday_is_saturday',\n   ' weekday_is_sunday', ' is_weekend', ' LDA_00', ' LDA_01', ' LDA_02',\n   ' LDA_03', ' LDA_04', ' global_subjectivity',\n   ' global_sentiment_polarity', ' global_rate_positive_words',\n   ' global_rate_negative_words', ' rate_positive_words',\n   ' rate_negative_words', ' avg_positive_polarity',\n   ' min_positive_polarity', ' max_positive_polarity',\n   ' avg_negative_polarity', ' min_negative_polarity',\n   ' max_negative_polarity', ' title_subjectivity',\n   ' title_sentiment_polarity', ' abs_title_subjectivity',\n   ' abs_title_sentiment_polarity', ' shares'],\n  dtype='object')\n</code></pre>\n\n<p>Give input as: <code>df[' n_tokens_content'][:9]</code></p>\n\n<p>output:\n<code>\n   0     219\n   1     255\n   2     211\n   3     531\n   4    1072\n   5     370\n   6     960\n   7     989\n   8      97\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12442152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/192c71e1cd87f7d407a60ec826a10f24?s=128&d=identicon&r=PG&f=1", "display_name": "LiuHe", "link": "https://stackoverflow.com/users/12442152/liuhe"}, "is_accepted": false, "score": 0, "last_activity_date": 1605580679, "last_edit_date": 1605580679, "creation_date": 1605578523, "answer_id": 64868291, "question_id": 55386612, "link": "https://stackoverflow.com/questions/55386612/slicing-pandas-dataframe-encounter-keyerror-n-tokens-content-how-to-locate-t/64868291#64868291", "title": "slicing pandas dataframe encounter KeyError: &#39;n_tokens_content&#39;, how to locate the bad rows efficiently?", "body": "<p>I encountered the same problem and it has been solved: <br>\ninput:\n<code>df.columns</code>\noutput:</p>\n<pre><code> Index(['url', ' timedelta', ' n_tokens_title', ' n_tokens_content',\n       ' n_unique_tokens', ' n_non_stop_words', ' n_non_stop_unique_tokens',\n       ' num_hrefs', ' num_self_hrefs', ' num_imgs', ' num_videos',\n       ' average_token_length', ' num_keywords', ' data_channel_is_lifestyle',\n       ' data_channel_is_entertainment', ' data_channel_is_bus',\n       ' data_channel_is_socmed', ' data_channel_is_tech',\n       ' data_channel_is_world', ' kw_min_min', ' kw_max_min', ' kw_avg_min',\n       ' kw_min_max', ' kw_max_max', ' kw_avg_max', ' kw_min_avg',\n       ' kw_max_avg', ' kw_avg_avg', ' self_reference_min_shares',\n       ' self_reference_max_shares', ' self_reference_avg_sharess',\n       ' weekday_is_monday', ' weekday_is_tuesday', ' weekday_is_wednesday',\n       ' weekday_is_thursday', ' weekday_is_friday', ' weekday_is_saturday',\n       ' weekday_is_sunday', ' is_weekend', ' LDA_00', ' LDA_01', ' LDA_02',\n       ' LDA_03', ' LDA_04', ' global_subjectivity',\n       ' global_sentiment_polarity', ' global_rate_positive_words',\n       ' global_rate_negative_words', ' rate_positive_words',\n       ' rate_negative_words', ' avg_positive_polarity',\n       ' min_positive_polarity', ' max_positive_polarity',\n       ' avg_negative_polarity', ' min_negative_polarity',\n       ' max_negative_polarity', ' title_subjectivity',\n       ' title_sentiment_polarity', ' abs_title_subjectivity',\n       ' abs_title_sentiment_polarity', ' shares'],\n      dtype='object')\n</code></pre>\n<p>you can find that the title of the column <code>&quot;n_tokens_title&quot;</code> is <code>&quot; n_tokens_title&quot;</code>, notice the space front the n_tokens_title, and add the space in your code.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11103981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 667, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1605580679, "creation_date": 1553721539, "last_edit_date": 1553724589, "question_id": 55386612, "link": "https://stackoverflow.com/questions/55386612/slicing-pandas-dataframe-encounter-keyerror-n-tokens-content-how-to-locate-t", "title": "slicing pandas dataframe encounter KeyError: &#39;n_tokens_content&#39;, how to locate the bad rows efficiently?", "body": "<p>I am trying to explore this <a href=\"https://archive.ics.uci.edu/ml/machine-learning-databases/00332/\" rel=\"nofollow noreferrer\">dataset</a> with pandas 0.20.3 in Python 3.6.2.</p>\n\n<pre><code>%pylab inline\nimport pandas as pd\ndf = pd.read_csv('OnlineNewsPopularity.csv')\ndf['n_tokens_content'][:9]\n</code></pre>\n\n<p>last line produces error</p>\n\n<blockquote>\n  <p>KeyError                                  Traceback (most recent call\n  last)\n  ~/anaconda3/envs/tf11/lib/python3.6/site-packages/pandas/core/indexes/base.py\n  in get_loc(self, key, method, tolerance)    2441             try:\n  -> 2442                 return self._engine.get_loc(key)    2443             except KeyError:</p>\n  \n  <p>pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc\n  (pandas/_libs/index.c:5280)()</p>\n  \n  <p>pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc\n  (pandas/_libs/index.c:5126)()</p>\n  \n  <p>pandas/_libs/hashtable_class_helper.pxi in\n  pandas._libs.hashtable.PyObjectHashTable.get_item\n  (pandas/_libs/hashtable.c:20523)()</p>\n  \n  <p>pandas/_libs/hashtable_class_helper.pxi in\n  pandas._libs.hashtable.PyObjectHashTable.get_item\n  (pandas/_libs/hashtable.c:20477)()</p>\n  \n  <p>KeyError: 'n_tokens_content'</p>\n  \n  <p>During handling of the above exception, another exception occurred:</p>\n  \n  <p>KeyError                                  Traceback (most recent call\n  last)  in ()\n  ----> 1 df['n_tokens_content'][:9]</p>\n  \n  <p>~/anaconda3/envs/tf11/lib/python3.6/site-packages/pandas/core/frame.py\n  in <strong>getitem</strong>(self, key)    1962             return\n  self._getitem_multilevel(key)    1963         else:\n  -> 1964             return self._getitem_column(key)    1965     1966     def _getitem_column(self, key):</p>\n  \n  <p>~/anaconda3/envs/tf11/lib/python3.6/site-packages/pandas/core/frame.py\n  in _getitem_column(self, key)    1969         # get column    1970<br>\n  if self.columns.is_unique:\n  -> 1971             return self._get_item_cache(key)    1972     1973         # duplicate columns &amp; possible reduce dimensionality</p>\n  \n  <p>~/anaconda3/envs/tf11/lib/python3.6/site-packages/pandas/core/generic.py\n  in _get_item_cache(self, item)    1643         res = cache.get(item)<br>\n  1644         if res is None:\n  -> 1645             values = self._data.get(item)    1646             res = self._box_item_values(item, values)    1647<br>\n  cache[item] = res</p>\n  \n  <p>~/anaconda3/envs/tf11/lib/python3.6/site-packages/pandas/core/internals.py\n  in get(self, item, fastpath)    3588     3589             if not\n  isnull(item):\n  -> 3590                 loc = self.items.get_loc(item)    3591             else:    3592                 indexer =\n  np.arange(len(self.items))[isnull(self.items)]</p>\n  \n  <p>~/anaconda3/envs/tf11/lib/python3.6/site-packages/pandas/core/indexes/base.py\n  in get_loc(self, key, method, tolerance)    2442<br>\n  return self._engine.get_loc(key)    2443             except KeyError:\n  -> 2444                 return self._engine.get_loc(self._maybe_cast_indexer(key))    2445     2446<br>\n  indexer = self.get_indexer([key], method=method, tolerance=tolerance)</p>\n  \n  <p>pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc\n  (pandas/_libs/index.c:5280)()</p>\n  \n  <p>pandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc\n  (pandas/_libs/index.c:5126)()</p>\n  \n  <p>pandas/_libs/hashtable_class_helper.pxi in\n  pandas._libs.hashtable.PyObjectHashTable.get_item\n  (pandas/_libs/hashtable.c:20523)()</p>\n  \n  <p>pandas/_libs/hashtable_class_helper.pxi in\n  pandas._libs.hashtable.PyObjectHashTable.get_item\n  (pandas/_libs/hashtable.c:20477)()</p>\n  \n  <p>KeyError: 'n_tokens_content'</p>\n</blockquote>\n\n<p>I think this is caused by some rows in the csv file, as this piece of code work well for other csv.</p>\n\n<p>if yes, how to locate the bad rows efficiently?</p>\n"}, {"tags": ["python", "numpy", "numpy-ufunc"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 4530214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0b002aad617d3ee30018c55d2c749c?s=128&d=identicon&r=PG&f=1", "display_name": "mocquin", "link": "https://stackoverflow.com/users/4530214/mocquin"}, "edited": false, "score": 0, "creation_date": 1553770786, "post_id": 55388840, "comment_id": 97512049, "body": "Thanks for your insights. Although they do mention in the <a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.classes.html#numpy.class.__array_ufunc__\" rel=\"nofollow noreferrer\">doc</a> that this method can be defined to extend any class, ndarray sub-classed or not."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1553738755, "last_edit_date": 1553738755, "creation_date": 1553736132, "answer_id": 55388840, "question_id": 55386602, "link": "https://stackoverflow.com/questions/55386602/how-to-overide-numpy-ufunc-with-array-ufunc/55388840#55388840", "title": "How to overide numpy ufunc with __array_ufunc__", "body": "<p>If I extend your class with a <code>__array_ufunc__</code> method (and <code>__repr__</code>):</p>\n\n<pre><code>class toto():\n    def __init__(self, value, name):\n        self.value = value\n        self.name = name\n    def __add__(self, other):\n        \"\"\"add values and concatenate names\"\"\"\n        return toto(self.value + other.value, self.name + other.name)\n    def __sub__(self, other):\n        \"\"\"sub values and concatenate names\"\"\"\n        return toto(self.value - other.value, self.name + other.name)\n\n    def __repr__(self):\n        return f\"toto: {self.value}, {self.name}\"\n    def __array_ufunc__(self, *args, **kwargs):\n        print(args)\n        print(kwargs)\n</code></pre>\n\n<p>And try some <code>ufunc</code> calls:</p>\n\n<pre><code>In [458]: np.exp(tata)                                                          \n(&lt;ufunc 'exp'&gt;, '__call__', toto: 5, first)\n{}\nIn [459]: np.exp.reduce(tata)                                                   \n(&lt;ufunc 'exp'&gt;, 'reduce', toto: 5, first)\n{}\nIn [460]: np.multiply.reduce(tata)                                              \n(&lt;ufunc 'multiply'&gt;, 'reduce', toto: 5, first)\n{}\nIn [461]: np.exp.reduce(tata,axes=(1,2))                                        \n(&lt;ufunc 'exp'&gt;, 'reduce', toto: 5, first)\n{'axes': (1, 2)}\nIn [463]: np.exp.reduce(tata,axes=(1,2),out=np.arange(3))                       \n(&lt;ufunc 'exp'&gt;, 'reduce', toto: 5, first)\n{'axes': (1, 2), 'out': (array([0, 1, 2]),)}\n</code></pre>\n\n<p>That shows the information that your class receives. Evidently you can do what you want that.  It can return <code>NotImplemented</code>.  I suppose in your case it could apply the first argument to your <code>self.value</code>, or do some custom calculation.</p>\n\n<p>For example if I add </p>\n\n<pre><code>      val = args[0].__call__(self.value) \n      return toto(val, self.name) \n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>In [468]: np.exp(tata)                                                          \n(&lt;ufunc 'exp'&gt;, '__call__', toto: 5, first)\n{}\nOut[468]: toto: 148.4131591025766, first\nIn [469]: np.sin(tata)                                                          \n(&lt;ufunc 'sin'&gt;, '__call__', toto: 5, first)\n{}\nOut[469]: toto: -0.9589242746631385, first\n</code></pre>\n\n<p>However if I put the object in an array, I still get the method error</p>\n\n<pre><code>In [492]: np.exp(np.array(tata))                                                \n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-492-4dc37eb0ffe3&gt; in &lt;module&gt;\n----&gt; 1 np.exp(np.array(tata))\n\nAttributeError: 'toto' object has no attribute 'exp'\n</code></pre>\n\n<p>Apparently <code>ufunc</code> on an object dtype array iterates on the elements of the array, expecting to use a 'relevant' method.  For <code>np.add</code> (+) it looks for the <code>__add__</code> method.  For <code>np.exp</code> it looks for an <code>exp</code> method.  This <code>__array_ufunc__</code> isn't called.</p>\n\n<p>So it looks like it's intended more for a subclass of <code>ndarray</code>, or something equivalent.  You, I think, are trying to implement a class that can work as elements of an object dtype array.</p>\n"}], "owner": {"reputation": 115, "user_id": 4530214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0b002aad617d3ee30018c55d2c749c?s=128&d=identicon&r=PG&f=1", "display_name": "mocquin", "link": "https://stackoverflow.com/users/4530214/mocquin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553738755, "creation_date": 1553721494, "question_id": 55386602, "link": "https://stackoverflow.com/questions/55386602/how-to-overide-numpy-ufunc-with-array-ufunc", "title": "How to overide numpy ufunc with __array_ufunc__", "body": "<p>I'm trying to implement numpy's ufunc to work with a class, using the __array_ufunc__ method introduced in numpy v1.13.</p>\n\n<p>To simplify, here's what the class could look like : </p>\n\n<pre><code>class toto():\n    def __init__(self, value, name):\n        self.value = value\n        self.name = name\n    def __add__(self, other):\n    \"\"\"add values and concatenate names\"\"\"\n        return toto(self.value + other.value, self.name + other.name)\n    def __sub__(self, other):\n    \"\"\"sub values and concatenate names\"\"\"\n        return toto(self.value - other.value, self.name + other.name)  \n\ntata = toto(5, \"first\")  \ntiti = toto(1, \"second\")\n</code></pre>\n\n<p>Now if I try to apply np.add between these two, I get the expected result, as np.add relies on <strong>add</strong>. But if I call say np.exp, I get an error as expected : </p>\n\n<pre><code>&gt;&gt;&gt; np.exp(tata)\nAttributeError: 'toto' object has no attribute 'exp'\n</code></pre>\n\n<p>Now what I would like to do is to \"override\" all numpy ufuncs to work smoothly with this class without having to redefine every methods (exp(self), log(self), ...) in the class.</p>\n\n<p>I was planning to use numpy ufunc's [__array_ufunc__]<a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.classes.html#numpy.class.__array_ufunc__\" rel=\"nofollow noreferrer\">1</a> to do this, but I don't really understand the doc as it doesn't provide a simple exemple of implementation.</p>\n\n<p>If anyone has had any experience with this new functionnality that looks promising, could you provide a simple example ?</p>\n"}, {"tags": ["python", "bioinformatics", "fasta"], "comments": [{"owner": {"reputation": 1587, "user_id": 3520965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31fd95e9573fb19ea05a8f928d905f39?s=128&d=identicon&r=PG&f=1", "display_name": "Dalvenjia", "link": "https://stackoverflow.com/users/3520965/dalvenjia"}, "edited": false, "score": 0, "creation_date": 1553721658, "post_id": 55386592, "comment_id": 97495175, "body": "What is your expected output?"}, {"owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "edited": false, "score": 1, "creation_date": 1553721671, "post_id": 55386592, "comment_id": 97495181, "body": "Mmmhh, seems like you&#39;re printing <code>line</code> anyway... How do you differentiate between positives and negatives?"}, {"owner": {"reputation": 1017, "user_id": 2212018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f009632bb978f0ca73c9aee75701290d?s=128&d=identicon&r=PG", "display_name": "maanijou", "link": "https://stackoverflow.com/users/2212018/maanijou"}, "edited": false, "score": 0, "creation_date": 1553721820, "post_id": 55386592, "comment_id": 97495271, "body": "seems like it works correctly. change the second print to something meaningful that could differentiate between having CDS and not having that."}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 1, "creation_date": 1553721917, "post_id": 55386592, "comment_id": 97495315, "body": "yeah...code seems to do what you think, except that you&#39;re going to get blank lines because you have EOL at the end of each of your lines, and then print() is adding another one."}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 1, "creation_date": 1553721994, "post_id": 55386592, "comment_id": 97495368, "body": "You&#39;re still just printing every line unconditionally!!!  You have to do something different depending on if your test succeeds or fails, or what&#39;s the point?"}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1553722083, "post_id": 55386592, "comment_id": 97495417, "body": "I do see the logic problem you&#39;re going to have.  You&#39;re going to need to keep track of if you&#39;ve just matched a &#39;&gt;&#39; line or not to decide if you should print a line without a &#39;&gt;&#39;.  That&#39;s going to take a little thought, and probably a state variable."}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 1, "creation_date": 1553722243, "post_id": 55386592, "comment_id": 97495478, "body": "You have to treat lines with &#39;&gt;&#39; at the front differently than those without, regardless of if they match &#39;CDS&#39; or not.  When you see &#39;&gt;&#39; at the front of the line, you need to check to see if &#39;CDS&#39; is in it to know if you should print it.  But you ALSO have to set a flag, so that the next time you see a line without a &#39;&gt;&#39; at the front, you&#39;ll know if you should print that line or not.  That&#39;s the secret hear.  Create a boolean variable to keep track of if you printed the last &#39;&gt;&#39; line you saw or not, and then use that variable to decide what to do with non-&#39;&gt;&#39; lines"}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1553722275, "post_id": 55386592, "comment_id": 97495484, "body": "You misunderstand me.  I&#39;m telling you what you have to do to get the output you want - you have to be able to print some of your lines even if they don&#39;t match your test, because you want to print or not print lines without &#39;&gt;&#39; at the front, based on the prior line."}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1553722645, "post_id": 55386592, "comment_id": 97495629, "body": "do you see what I&#39;m getting at?  If so, how about trying to add some .more logic and show us what you&#39;ve tried next.  HINT: take ` and &#39;CDS&#39; in line` off of your <code>if</code> line."}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1553722870, "post_id": 55386592, "comment_id": 97495703, "body": "I&#39;m trying to tell you. You want to always process the &#39;&gt;&#39; lines in one code block, even if you won&#39;t always print them.  You then have to decide in that block if you should print the line or not, and here&#39;s the key...you need to REMEMBER if you printed the line or not.   Then, you do want your &#39;else:&#39; block, but that block should use the fact that you remembered what you did on the prior line to decide if that line (a line without a &#39;&gt;&#39;) should be printed."}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1553723167, "post_id": 55386592, "comment_id": 97495807, "body": "No problem.  This is how you learn!"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 2, "creation_date": 1553781626, "post_id": 55386592, "comment_id": 97519296, "body": "easiest with Biopython: <code>from Bio import SeqIO; SeqIO.write((r for r in SeqIO.parse(&#39;in.fa&#39;, &#39;fasta&#39;) if &#39;CDS&#39; in r.id), &#39;out.fa&#39;, &#39;fasta&#39;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1017, "user_id": 2212018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f009632bb978f0ca73c9aee75701290d?s=128&d=identicon&r=PG", "display_name": "maanijou", "link": "https://stackoverflow.com/users/2212018/maanijou"}, "reply_to_user": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1553724175, "post_id": 55386993, "comment_id": 97496198, "body": "Ok i changed the code. the first one was based on your current inputs"}, {"owner": {"reputation": 1017, "user_id": 2212018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f009632bb978f0ca73c9aee75701290d?s=128&d=identicon&r=PG", "display_name": "maanijou", "link": "https://stackoverflow.com/users/2212018/maanijou"}, "reply_to_user": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1553724560, "post_id": 55386993, "comment_id": 97496349, "body": "Are you sure? I&#39;m getting multiple lines with your inputs."}, {"owner": {"reputation": 5679, "user_id": 1878788, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fc54887ecbaba35e17251129e5b78c9a?s=128&d=identicon&r=PG", "display_name": "bli", "link": "https://stackoverflow.com/users/1878788/bli"}, "edited": false, "score": 2, "creation_date": 1553795457, "post_id": 55386993, "comment_id": 97528485, "body": "You should probably close the file at the end, or use a <code>with</code> context manager."}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1553851695, "post_id": 55386993, "comment_id": 97547454, "body": "<code>if line.startswith(&#39;&gt;&#39;): flag = &#39;CDS&#39; in line</code>"}, {"owner": {"reputation": 1017, "user_id": 2212018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f009632bb978f0ca73c9aee75701290d?s=128&d=identicon&r=PG", "display_name": "maanijou", "link": "https://stackoverflow.com/users/2212018/maanijou"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1553931574, "post_id": 55386993, "comment_id": 97576690, "body": "@Chris_Rands Do you mean that I should change flag from boolean type to a more general type?"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 1, "creation_date": 1553939280, "post_id": 55386993, "comment_id": 97578276, "body": "i mean exactly what i wrote, <code>flag</code> is still a boolean, but you can remove your <code>elif</code> clause"}, {"owner": {"reputation": 1017, "user_id": 2212018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f009632bb978f0ca73c9aee75701290d?s=128&d=identicon&r=PG", "display_name": "maanijou", "link": "https://stackoverflow.com/users/2212018/maanijou"}, "edited": false, "score": 0, "creation_date": 1553940029, "post_id": 55386993, "comment_id": 97578479, "body": "Yeah. I didn&#39;t understand you first. My solution was just a quick one. But as it&#39;s marked as the answer I should make it as more efficient as possible. Thanks for your suggestion."}], "tags": [], "owner": {"reputation": 1017, "user_id": 2212018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f009632bb978f0ca73c9aee75701290d?s=128&d=identicon&r=PG", "display_name": "maanijou", "link": "https://stackoverflow.com/users/2212018/maanijou"}, "is_accepted": true, "score": 4, "last_activity_date": 1553939815, "last_edit_date": 1553939815, "creation_date": 1553723334, "answer_id": 55386993, "question_id": 55386592, "link": "https://stackoverflow.com/questions/55386592/using-conditions-to-match-multiple-patterns-within-a-line/55386993#55386993", "title": "Using conditions to match multiple patterns within a line", "body": "<p>Here is a code that works for you. If a line has CDS, it prints the line and the next lines. <code>strip()</code> removes the endline character while printing the line. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\nimport sys\nimport os\nmyfasta = sys.argv[1]\n\nflag = False\nwith open(myfasta) as fasta:\n    for line in fasta:\n        if line.startswith('&gt;') and 'CDS' in line:\n            flag = True\n        elif line.startswith('&gt;'):\n            flag = False\n        if flag:\n            print(line.strip())\n</code></pre>\n\n<p><strong>Edit</strong>: You can remove the elif part as the following code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\nimport sys\nimport os\nmyfasta = sys.argv[1]\n\nflag = False\nwith open(myfasta) as fasta:\n    for line in fasta:\n        if line.startswith('&gt;'):\n            flag = 'CDS' in line\n        if flag:\n            print(line.strip())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1446, "user_id": 2923937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e584af3bf364d2fa35ea9be1eb305ad?s=128&d=identicon&r=PG&f=1", "display_name": "Perplexabot", "link": "https://stackoverflow.com/users/2923937/perplexabot"}, "is_accepted": false, "score": 0, "last_activity_date": 1553724705, "last_edit_date": 1553724705, "creation_date": 1553723395, "answer_id": 55387007, "question_id": 55386592, "link": "https://stackoverflow.com/questions/55386592/using-conditions-to-match-multiple-patterns-within-a-line/55387007#55387007", "title": "Using conditions to match multiple patterns within a line", "body": "<p>Is this what you want? </p>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nimport os\nfrom collections import defaultdict\n\nmyfasta = sys.argv[1]\nwith open(myfasta) as fasta:\n    data = fasta.read().splitlines()\n\npattern_data = defaultdict(list)\nindex = 0\nwhile index &lt; len(data):\n    if data[index].startswith('&gt;'):\n        start = data[index].index('_') + 1\n        key = data[index][start:]\n        pattern_data[key].append(data[index + 1])\n    index += 2\n</code></pre>\n\n<p>At this point you are free to do whatever you please with the sorted data.</p>\n\n<p>The above assumes that the whole file you parse follows the exact format shown above: 1 line starting with a \">\" that id's the single line that follows. If you have multiple lines that follow, the code needs minor modification. </p>\n\n<p>EDIT:\nI just read up on fasta files. I now know that they actually may have sequences that are longer than one line after they are identified. So the above code does need to be modified to account for multiline sequences. A more generalized approach is as follows:</p>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nimport os\nfrom collections import defaultdict\n\nmyfasta = sys.argv[1]\nwith open(myfasta) as fasta:\n    data = fasta.read().splitlines()\n\nid_line_indices = [index for index, line in enumerate(data) if line.startswith('&gt;')]\nid_line_indices.append(len(data))\npattern_buckets = defaultdict(list)\n\ni = 0\nwhile i &lt; len(id_line_indices) - 1:\n    start = data[id_line_indices[i]].index('_') + 1\n    key = data[id_line_indices[i]][start:]\n\n    sequence = [data[index] for index in range(id_line_indices[i] + 1, id_line_indices[i + 1])]\n    sequence = ''.join(sequence)\n\n    pattern_buckets[key].append(sequence)\n    i += 1\n</code></pre>\n\n<p>This still achieves the same results for the above data set. For example,</p>\n\n<pre><code>print(pattern_buckets['CDS'])\nprint(pattern_buckets['rRNA'])\n</code></pre>\n\n<p>Will get you:</p>\n\n<pre><code>['AAAAATTTCTGGGCCCCGGGGG', 'TTAAAAATTTCTGGGCCCCGGGAAAAAA', 'TTTGGGAATTAAACCCT', 'TTTGGGAATTAAACCCT']\n['TTAAAAATTTCTGGGCCCCGGGAAAAAA']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1553724107, "post_id": 55387063, "comment_id": 97496179, "body": "getting this error: <code>AttributeError: &#39;_io.TextIOWrapper&#39; object has no attribute &#39;next&#39;</code>"}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "reply_to_user": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "edited": false, "score": 0, "creation_date": 1553724492, "post_id": 55387063, "comment_id": 97496329, "body": "I think the error was because of file modes, I could not reproduce it locally, but I have added a fix which I think will fix it for you"}], "tags": [], "owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "is_accepted": false, "score": 1, "last_activity_date": 1553724378, "last_edit_date": 1553724378, "creation_date": 1553723642, "answer_id": 55387063, "question_id": 55386592, "link": "https://stackoverflow.com/questions/55386592/using-conditions-to-match-multiple-patterns-within-a-line/55387063#55387063", "title": "Using conditions to match multiple patterns within a line", "body": "<p>Maanijou's answer is fine.</p>\n\n<p>Also, consider an alternative with a iterator instead.</p>\n\n<h3>EDIT: Updated the code based on your comments</h3>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nimport os\nmyfasta = sys.argv[1]\nfasta = open(myfasta, \"r+\")\n\nfile_contents = iter(fasta)\n\ntry:\n    print_flag = True\n    while True:\n        line = file_contents.next()\n        if line.startswith('&gt;'):\n            if \"CDS\" in line:\n                print (line.strip())\n                print_flag = True\n            else:\n                print_flag = False\n        else:\n            if print_flag:\n                print (line.strip())\n\nexcept StopIteration:\n    print (\"Done\")\n    fasta.close()\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p><code>file_contents = iter(fasta)</code> converts the iterable file object into an iterator on which you can simply keep calling <code>next()</code> till you run out of things to read</p>\n\n<p>Why I do not recommend calling <code>readlines</code> as some other answers have is that sometimes fasta files can be big and calling <code>readlines</code> consumes significant memory.</p>\n\n<p>if a line satisfies your search req you simply print it and the next line, if not you simply read the next line and do nothing, </p>\n\n<h3>Explanation for Update</h3>\n\n<ol>\n<li>You got the Attribute error because of file modes, I could not reproduce it locally but I think opening the file with the right mode should fix it</li>\n<li>You now said there could be more than 1 genome sequence for <code>CDS</code> updated the code to print all the genome sequences for 1 <code>CDS</code> header in the file</li>\n</ol>\n\n<p>I tested it with a modified fasta file like so</p>\n\n<pre><code>&gt;1_CDS\nAAAAATTTCTGGGCCCCGGGGG\nAAAAATTTCTGGGCCCCGGGGG\nAAAAATTTCTGGGCCCCGGGGG\nAAAAATTTCTGGGCCCCGGGCG\n&gt;2_CDS\nTTAAAAATTTCTGGGCCCCGGGAAAAAA\n&gt;3_CDS\nTTTGGGAATTAAACCCT\n&gt;4_CDS\nTTTGGGAATTAAACCCT\n&gt;5_rRNA\nTTAAAAATTTCTGGGCCCCGGGAAAAAA\n&gt;6_tRNA\nTTAAAAATTTCTGGGCCCCGGGAAAAAA\n</code></pre>\n\n<p>And this output</p>\n\n<pre><code>python fasta.py fasta.fasta\n&gt;1_CDS\nAAAAATTTCTGGGCCCCGGGGG\nAAAAATTTCTGGGCCCCGGGGG\nAAAAATTTCTGGGCCCCGGGGG\nAAAAATTTCTGGGCCCCGGGCG\n&gt;2_CDS\nTTAAAAATTTCTGGGCCCCGGGAAAAAA\n&gt;3_CDS\nTTTGGGAATTAAACCCT\n&gt;4_CDS\nTTTGGGAATTAAACCCT\nDone\n</code></pre>\n"}], "owner": {"reputation": 4905, "user_id": 4701887, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2f933a5923f4decadfb0775c23c4912?s=128&d=identicon&r=PG", "display_name": "MAPK", "link": "https://stackoverflow.com/users/4701887/mapk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 55386993, "answer_count": 3, "score": 4, "last_activity_date": 1553939815, "creation_date": 1553721416, "last_edit_date": 1553725464, "question_id": 55386592, "link": "https://stackoverflow.com/questions/55386592/using-conditions-to-match-multiple-patterns-within-a-line", "title": "Using conditions to match multiple patterns within a line", "body": "<p>I have a fasta file like this:\n<code>myfasta.fasta</code></p>\n\n<pre><code>&gt;1_CDS\nAAAAATTTCTGGGCCCCGGGGG\nAAATTATTA\n&gt;2_CDS\nTTAAAAATTTCTGGGCCCCGGGAAAAAA\n&gt;3_CDS\nTTTGGGAATTAAACCCT\n&gt;4_CDS\nTTTGGGAATTAAACCCT\n&gt;5_rRNA\nTTAAAAATTTCTGGGCCCCGGGAAAAAA\n&gt;6_tRNA\nTTAAAAATTTCTGGGCCCCGGGAAAAAA\n</code></pre>\n\n<p>I have a code that I want to use to separate sequences based on their ids that have matching patterns like 'CDS', 'tRNA' etc.  In the code below, I am trying to use startswith and also match pattern in line which doesn't seem to work. Can someone please help me how to look for two conditions in line in python.</p>\n\n<p>code: <code>python mycode.py myfasta.fasta</code></p>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nimport os\nmyfasta = sys.argv[1]\nfasta = open(myfasta)\n\nfor line in fasta:\n    if line.startswith('&gt;') and 'CDS' in line:\n        print(line)\n    else:\n        print(line)\n</code></pre>\n\n<p>Expected output (if I use <code>CDS</code>):</p>\n\n<pre><code>&gt;1_CDS\nAAAAATTTCTGGGCCCCGGGGG\nAAATTATTA\n&gt;2_CDS\nTTAAAAATTTCTGGGCCCCGGGAAAAAA\n&gt;3_CDS\nTTTGGGAATTAAACCCT\n&gt;4_CDS\nTTTGGGAATTAAACCCT\n</code></pre>\n"}, {"tags": ["python", "input", "keras", "lstm"], "comments": [{"owner": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "edited": false, "score": 0, "creation_date": 1553721774, "post_id": 55386580, "comment_id": 97495233, "body": "Hello and welcome to Stack Overflow. What is your question exactly? Please take a moment to review the following how-to resources: <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/mcve\">Complete Examples</a>"}, {"owner": {"reputation": 11, "user_id": 11268708, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215985238497054/picture?type=large", "display_name": "Ethan Hartzell", "link": "https://stackoverflow.com/users/11268708/ethan-hartzell"}, "reply_to_user": {"reputation": 1830, "user_id": 3343753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY4qS.jpg?s=128&g=1", "display_name": "Pedro Rodrigues", "link": "https://stackoverflow.com/users/3343753/pedro-rodrigues"}, "edited": false, "score": 0, "creation_date": 1553781362, "post_id": 55386580, "comment_id": 97519091, "body": "I think it&#39;s pretty clearly stated: running the function gets the following error --  ValueError: Input 0 is incompatible with layer lstm_1: expected ndim=3, found ndim=4  but I don&#39;t understand why. Can anyone help me understand the error?"}], "owner": {"reputation": 11, "user_id": 11268708, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215985238497054/picture?type=large", "display_name": "Ethan Hartzell", "link": "https://stackoverflow.com/users/11268708/ethan-hartzell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1553800639, "creation_date": 1553721376, "last_edit_date": 1553800639, "question_id": 55386580, "link": "https://stackoverflow.com/questions/55386580/keras-lstm-input-valueerror-input-0-is-incompatible-with-layer-lstm-1-expected", "title": "Keras LSTM input ValueError: Input 0 is incompatible with layer lstm_1: expected ndim=3, found ndim=4", "body": "<p>When I run my code I get this error:\nValueError: Input 0 is incompatible with layer lstm_1: expected ndim=3, found ndim=4</p>\n\n<pre><code>def keras_experiment(true_examples,true_labels):\n    # print len(true_examples[1])\n    x_train = np.array(true_examples[:700])\n    y_train = np.array(true_labels[:700])\n    x_test = np.array(true_examples[700:])\n    y_test = np.array(true_labels[700:])\n\n    from keras.models import Sequential\n    from keras.layers import LSTM, Dense\n    print x_train[0]\n    data_dim = 378\n    timesteps = 7\n    num_classes = 2\n\n    # expected input data shape: (batch_size, timesteps, data_dim)\n    model = Sequential()\n    model.add(LSTM(32, return_sequences=False,\n                   input_shape=(timesteps, data_dim)))  # returns a sequence of vectors of dimension 32\n    model.add(Dense(10, activation='softmax'))\n\n    model.compile(loss='categorical_crossentropy',\n                  optimizer='rmsprop',\n                  metrics=['accuracy'])\n\n    model.fit(x_train[0], y_train[0],\n              batch_size=64, epochs=5,\n              validation_data=(x_test, y_test))\n\n    score = model.evaluate(x_test, y_test, batch_size=16)\n    print score\n</code></pre>\n\n<p>Here is the result of print x_train[0]:</p>\n\n<pre><code>[[0.82183125 0.45548045 0.86122581 ... 3.16044199 1.43419966 0.45379718]\n [0.84371381 0.47813553 0.83602898 ... 2.64684385 1.58629507 0.5993157 ]\n [0.72253171 0.42504681 0.88999478 ... 2.09510967 1.87146875 0.89325575]\n ...\n [0.79126543 0.45734966 0.85694022 ... 2.68172079 1.54250728 0.57519309]\n [0.79846062 0.41452213 0.72903777 ... 2.492895   1.53964412 0.6176129 ]\n [0.8246961  0.39966809 0.52778689 ... 2.02451504 1.42316496 0.70296586]]\n</code></pre>\n\n<p>So it looks like what I think it should, a list of 700 examples, which are lists of 7 timesteps, which are lists of 378 features</p>\n"}, {"tags": ["python", "openpyxl"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 1, "creation_date": 1553721562, "post_id": 55386574, "comment_id": 97495138, "body": "If this code results in errors, it would be prudent to include a full stack trace of the error..."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 1, "creation_date": 1553762271, "post_id": 55386574, "comment_id": 97506891, "body": "The easist thing to do is loop over two sheets in parallel and write only those rows you want to."}, {"owner": {"reputation": 364, "user_id": 7100546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JXxsxGIx0pU/AAAAAAAAAAI/AAAAAAAAARI/JZZmtI_KRvw/photo.jpg?sz=128", "display_name": "Robert Farmer", "link": "https://stackoverflow.com/users/7100546/robert-farmer"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1553797824, "post_id": 55386574, "comment_id": 97529638, "body": "@Reedinationer The Code doesn&#39;t Error as far as I know I got it to loop and mark the entries I can remove just the process of removal is something I&#39;m not familiar with."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 1, "creation_date": 1553798026, "post_id": 55386574, "comment_id": 97529744, "body": "I&#39;m curious why you are needing to remove them at all? I would have thought you would just not write them in the first place during the copy/paste process, right? I&#39;m not an openpyxl wizard though, I typically prefer <code>xlwings</code>"}, {"owner": {"reputation": 364, "user_id": 7100546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JXxsxGIx0pU/AAAAAAAAAAI/AAAAAAAAARI/JZZmtI_KRvw/photo.jpg?sz=128", "display_name": "Robert Farmer", "link": "https://stackoverflow.com/users/7100546/robert-farmer"}, "edited": false, "score": 0, "creation_date": 1553802101, "post_id": 55386574, "comment_id": 97531936, "body": "So Essentially its a Report that Gets updated daily and I do monthly reports of the contents and so I compare the Month to Month differences. The final report has the X/P Entries Removed and as far as I&#39;ve found just deleting the entries isn&#39;t possible nor is it advised so Making a copy as I iterate through the reports and appending the non-offending rows seems to be my current goal"}, {"owner": {"reputation": 364, "user_id": 7100546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JXxsxGIx0pU/AAAAAAAAAAI/AAAAAAAAARI/JZZmtI_KRvw/photo.jpg?sz=128", "display_name": "Robert Farmer", "link": "https://stackoverflow.com/users/7100546/robert-farmer"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1553802239, "post_id": 55386574, "comment_id": 97532011, "body": "@CharlieClark how do you do that. I&#39;ve been trying to do that but I haven&#39;t made any progress. Updated Attempt made above"}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1553852490, "post_id": 55386574, "comment_id": 97547901, "body": "Something like this <code>for r1 in ws1: if check_cells(r1): ws2.append([cell.value for cell in r1])</code>"}], "answers": [{"tags": [], "owner": {"reputation": 364, "user_id": 7100546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JXxsxGIx0pU/AAAAAAAAAAI/AAAAAAAAARI/JZZmtI_KRvw/photo.jpg?sz=128", "display_name": "Robert Farmer", "link": "https://stackoverflow.com/users/7100546/robert-farmer"}, "is_accepted": true, "score": 1, "last_activity_date": 1554929734, "creation_date": 1554929734, "answer_id": 55621186, "question_id": 55386574, "link": "https://stackoverflow.com/questions/55386574/how-can-you-create-a-copy-of-a-worksheet-by-iterating-through-another-while-excl/55621186#55621186", "title": "How can you Create a copy of a worksheet by iterating through another while excluding certain rows in a array.?", "body": "<p>After Ample help I have reached the conclusion that to copy data from one sheet to another you can copy over data row by row through this Method:</p>\n\n<pre><code>self.workbook = load_workbook(filename=\"filepath\")\nsheet1 = self.workbook.worksheet[0]\nsheet2 = self.workbook.create_sheet(\"Sheet 2\")\nsheet2 = self.workbook.worksheets[1]\nfor row in sheet1.iter_rows():\n    sheet2.append([cell.value for cell in row])\n</code></pre>\n\n<p>I also figured out if you want to filter out data you can add if statements inside of the for-loop above that can limit what rows have their cells written into the new worksheet.</p>\n\n<pre><code>self.RowsToExclude = Some List containing row data that will be excluded.\nfor row in sheet1.iter_rows():\n    if row not in self.RowsToExclude:\n        ws1.append([cell.value for cell in row])\n</code></pre>\n\n<p>Finally, I'd like to thank all those who contributed towards me reaching this conclusion. </p>\n"}], "owner": {"reputation": 364, "user_id": 7100546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JXxsxGIx0pU/AAAAAAAAAAI/AAAAAAAAARI/JZZmtI_KRvw/photo.jpg?sz=128", "display_name": "Robert Farmer", "link": "https://stackoverflow.com/users/7100546/robert-farmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 55621186, "answer_count": 1, "score": 1, "last_activity_date": 1554929734, "creation_date": 1553721335, "last_edit_date": 1553806202, "question_id": 55386574, "link": "https://stackoverflow.com/questions/55386574/how-can-you-create-a-copy-of-a-worksheet-by-iterating-through-another-while-excl", "title": "How can you Create a copy of a worksheet by iterating through another while excluding certain rows in a array.?", "body": "<p>I'm comparing two workbooks using Openpyxl I have it incrementing a counter for later usage and then keeping track of rows that should be removed from the initial workbook. How do I go about getting rid of these rows from that workbook or creating a new sheet(With the Original then deleted) or workbook with those rows removed?</p>\n\n<p>I've written the code up until this point but I havent found much in terms of writing or deleting rows from a workbook and I haven't any concrete luck, I was advised by someone to instead create a copy of the workbook but I also have had no success at doing such.</p>\n\n<pre><code>from openpyxl import load_workbook\nfrom tkinter import Tk\nfrom tkinter.filedialog import askopenfilename\nimport datetime\nimport time\n\nclass ManualReporter:\n    def __init__(self):\n        '''\n        Initializes Variables for use within the Class\n        Hides the tkinter pop-up when using the file dialog\n        '''\n        Tk().withdraw()\n        self.sap_file = None\n        self.tracker_file = None\n        self.wb_sap = None\n        self.wb_wt = None\n        self.XT = 0\n        self.deadrows = []\n\n\n    def open_sapfile(self):\n        '''\n        Sets the sap_file variable to be the first  directory to the SAP Report based on what the User Selects in the File Dialog\n        Sets that directory and the file as the current workbook under the variable self.wb_sap\n        Creates a Backup of the SAP Report so that if Errors Occur a Fresh Clean Copy is Present\n        '''\n        self.sap_file = askopenfilename()\n        self.wb_sap = load_workbook(filename=self.sap_file)\n        # Code to create a backup File in-case of Error or Fault\n        copyfile = \"Untimed_Report_SAP_\" + str(datetime.date.today())+\".xlsx\"\n        self.wb_sap.save(copyfile)\n        print(self.sap_file)\n    def open_tracker(self):\n        '''\n        Same as Above, sets self.tracker_file as a filedialog which retrieves the file's directory (User Inputted)\n        Loads the File Workbook as self.wb_wt\n        Creates a Backup of the Second SAP Report so that if Error Occurs a Clean Copy is Present.\n        '''\n        self.tracker_file = askopenfilename()\n        self.wb_wt = load_workbook(filename=self.tracker_file)\n        print(self.tracker_file)\n    def check_rows(self):\n        '''\n        Sets the Active Sheets in Both the Workbook Variables,\n        Creates a New Sheet in the Newest Report to Contain the Modified Data,\n        Iterates through the Rows of the Two Sheets checking for a Comparison in Part Number,\n        OpCode and then Compares the X/T/P Classification and Adjusts Data in Second Sheet\n        '''\n        start = time.time()\n        sap = self.wb_sap.worksheets[0] #Sets The First Sheet in the Excel Workbook as the variable sap\n        wt = self.wb_wt.worksheets[0]#Sets the First Sheet in the Second Report as the var wt\n        ws1 = self.wb_sap.create_sheet(\"Sheet1\", 1)#Create a Spare Sheet in the First Report to place the Adjusted Data\n        ws1 = self.wb_sap.worksheets[1]#Sets ws1 as the Active Second Sheet for New Data\n        for saprow in sap.iter_rows():\n            for wtrow in wt.iter_rows():\n                if (saprow[3].value == wtrow[4].value and int(saprow[2].value) == int(wtrow[5].value)):#  IF Material NUM &amp; OPCode MATCH DO:\n                    if wtrow[7].value in (\"T\",\"P\"): #WT Entry is Marked as T/P\n                        if saprow[4].value is \"X\": #SAP Report Entry is Marked as X\n                            self.XT += 1#Increment X-&gt;Ts Counts\n                            #print(\"X-&gt;T\")\n                            self.deadrows.append(saprow)\n                        else:\n                            if saprow not in self.deadrows:\n                                ws1.append(saprow)\n\n\n        end = time.time()\n        #print(\"Finished, Total X-&gt;Ts: \", self.XT)\n        print(\"Time Taken: \", (end - start))\n\n\n\nx = ManualReporter()\nx.open_sapfile()\nx.open_tracker()\nx.check_rows()\n</code></pre>\n\n<p>My expectation is that the output would be an exact copy of workbook one but the rows that had a certain change in values are removed from that workbook. I expected to be able to delete them but no methods I've done have achieved anything other than broken code or issues.</p>\n\n<pre><code>                    self.deadrows.append(saprow)\n                else:\n                    if saprow not in self.deadrows:\n                        for i in saprow:\n                            #Code to Create a row in ws1.\n                            #Code to Append value of saprow[i] to current ws1 rows\n</code></pre>\n\n<p>EDIT 1: I included my Attempts to append the rows to a copied worksheet. \nEDIT 2: I though about manually iterating through the Saprow and appending the data into the rows of the new sheet but I've stumped myself thinking about it.</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "edited": false, "score": 1, "creation_date": 1553721475, "post_id": 55386559, "comment_id": 97495090, "body": "Just a guess: the very file in which the <code>factorial</code> function is found may already be running at a non-zero stack depth. Your python environment may create some amount of stack in the process of running the file."}, {"owner": {"reputation": 3836, "user_id": 4152153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/s6Znl.png?s=128&g=1", "display_name": "dcg", "link": "https://stackoverflow.com/users/4152153/dcg"}, "edited": false, "score": 0, "creation_date": 1553721701, "post_id": 55386559, "comment_id": 97495199, "body": "I guess you can change the recursion limit programmatically by calling <code>sys.setrecursionlimit(4000)</code>, although I don&#39;t think that&#39;s a good idea."}], "owner": {"reputation": 714, "user_id": 4254601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Uwa58OtqdoM/AAAAAAAAAAI/AAAAAAAAARU/Bx_mqAhbY_o/photo.jpg?sz=128", "display_name": "David Stevens", "link": "https://stackoverflow.com/users/4254601/david-stevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "closed_date": 1553721440, "answer_count": 0, "score": 3, "last_activity_date": 1553721289, "creation_date": 1553721289, "question_id": 55386559, "link": "https://stackoverflow.com/questions/55386559/why-does-the-maximum-recursion-depth-differ-from-the-limit-in-practice", "closed_reason": "Duplicate", "title": "Why does the maximum recursion depth differ from the limit in practice?", "body": "<p>I have a (very) simple recursive function:</p>\n\n<pre><code>def factorial(n):\n    if n == 1:\n        return 1\n    return n * factorial(n-1)\n</code></pre>\n\n<p>The maximum recursion depth is 3000, found by running:</p>\n\n<pre><code>import sys\nsys.getrecursionlimit()\n</code></pre>\n\n<p>But <code>factorial(2986)</code> is the largest number that successfully runs. What accounts for the difference?</p>\n"}, {"tags": ["python", "class", "keyword-argument"], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 7783514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43507a4c5fcf237c76fcbd375804a6b7?s=128&d=identicon&r=PG&f=1", "display_name": "Kutay B. Sezginel", "link": "https://stackoverflow.com/users/7783514/kutay-b-sezginel"}, "edited": false, "score": 0, "creation_date": 1553722627, "post_id": 55386734, "comment_id": 97495622, "body": "That&#39;s what I was initially going for but I think this has more redundant code. You need to declare all the default arguments twice and when you have a lot of class methods and keyword arguments this becomes a little messy."}], "tags": [], "owner": {"reputation": 12519, "user_id": 423926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65539c07af4918433a89bcb298d75ca7?s=128&d=identicon&r=PG", "display_name": "mujjiga", "link": "https://stackoverflow.com/users/423926/mujjiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1553722140, "creation_date": 1553722140, "answer_id": 55386734, "question_id": 55386551, "link": "https://stackoverflow.com/questions/55386551/how-to-setup-default-arguments-for-class-methods-as-class-variables/55386734#55386734", "title": "How to setup default arguments for class methods as class variables?", "body": "<p>How about this </p>\n\n<pre><code>class Cat:\n    def __init__(self):\n         self.sleep_duration = 100\n         self.sleep_snore = True\n         self.sleep_dream = True\n\n    def sleep(self, \n              duration=100, \n              snore=True, \n              dream=True):\n        self.sleep_duration = duration\n        self.sleep_snore = snore\n        self.sleep_dream = dream\n\n        print('Sleeping for {0} hours...\\n'\n              'Snore: {1}\\nDream: {2}'.format(\n                self.sleep_duration, self.sleep_snore, self.sleep_dream))\n</code></pre>\n"}], "owner": {"reputation": 26, "user_id": 7783514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43507a4c5fcf237c76fcbd375804a6b7?s=128&d=identicon&r=PG&f=1", "display_name": "Kutay B. Sezginel", "link": "https://stackoverflow.com/users/7783514/kutay-b-sezginel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553722140, "creation_date": 1553721258, "question_id": 55386551, "link": "https://stackoverflow.com/questions/55386551/how-to-setup-default-arguments-for-class-methods-as-class-variables", "title": "How to setup default arguments for class methods as class variables?", "body": "<p>I would like to have sensible default arguments for the class methods as class variables. These variables should be passed to class methods as they are called unless the user wants to override them. I came up with the solution below but I am not sure if this is makes sense. It does what I want it to do but I am curious to learn if there is a better or more Pythonic way to do this.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from copy import deepcopy\n\n\nclass Cat:\n    def __init__(self):\n        self.parameters = {'meow': {'volume': 10.2,\n                                    'pitch': 'E'},\n                           'sleep': {'duration': 100,\n                                     'snore': True,\n                                     'dream': True}}\n\n    def meow(self, **kwargs):\n        params = self._set_parameters('meow', kwargs)\n        print('Meowing at {volume} dB in {pitch}'.format(**params))\n\n    def sleep(self, **kwargs):\n        params = self._set_parameters('sleep', kwargs)\n        print('Sleeping for {duration} hours...\\n'\n              'Snore: {snore}\\nDream: {dream}'.format(**params))\n\n    def _set_parameters(self, action, kwargs):\n        params = deepcopy(self.parameters[action])\n        for key in kwargs:\n            if key in params:\n                params[key] = kwargs[key]\n        return params\n</code></pre>\n\n<p>Here when a class method is called without any parameters if uses the default values.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>Sleepycat = Cat()\nSleepycat.sleep()\n\n&gt;&gt;&gt; Sleeping for 100 hours...\n    Snore: True\n    Dream: True\n</code></pre>\n\n<p>The user can also give a keyword argument to override defaults:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>Loudcat = Cat()\nLoudcat.meow(volume=100)\n\n&gt;&gt;&gt; Meowing at 100 dB in E\n</code></pre>\n"}, {"tags": ["python", "button", "tkinter"], "comments": [{"owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "edited": false, "score": 0, "creation_date": 1553721386, "post_id": 55386517, "comment_id": 97495055, "body": "Welcome to Stack Overflow. Are you on Mac by any chance? There is a <a href=\"https://stackoverflow.com/questions/55366795/does-anyone-know-why-my-tkinter-buttons-arent-rendering#comment97457465_55366795\">recent question</a> with the same symptoms."}, {"owner": {"reputation": 1, "user_id": 8146681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ddf07c273f084f6ae3b38e72549a24e?s=128&d=identicon&r=PG", "display_name": "bogdevil13", "link": "https://stackoverflow.com/users/8146681/bogdevil13"}, "reply_to_user": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "edited": false, "score": 0, "creation_date": 1553722020, "post_id": 55386517, "comment_id": 97495380, "body": "I think I&#39;m having a similar problem, but just with the first instance of the button. All others seem to render correctly. I&#39;m on windows."}, {"owner": {"reputation": 167, "user_id": 8146707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TitJo259T40/AAAAAAAAAAI/AAAAAAAADOM/obcO94aOxiw/photo.jpg?sz=128", "display_name": "Varadaraju G", "link": "https://stackoverflow.com/users/8146707/varadaraju-g"}, "edited": false, "score": 1, "creation_date": 1553748921, "post_id": 55386517, "comment_id": 97501915, "body": "if possible post full code"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1553767882, "post_id": 55386517, "comment_id": 97510266, "body": "@user8146681: Insert a main entry point like here <a href=\"https://stackoverflow.com/a/55394925/7414759\">Tkinter widgets not showing</a>"}], "owner": {"reputation": 1, "user_id": 8146681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ddf07c273f084f6ae3b38e72549a24e?s=128&d=identicon&r=PG", "display_name": "bogdevil13", "link": "https://stackoverflow.com/users/8146681/bogdevil13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553842895, "creation_date": 1553721100, "last_edit_date": 1553842895, "question_id": 55386517, "link": "https://stackoverflow.com/questions/55386517/tkinter-button-not-showing-up-until-mouse-hovers-over-it", "title": "Tkinter button not showing up until mouse hovers over it", "body": "<p>There is a function which I call to add one row each time it's called containing an Entry, Combobox and a Button. When I first call the function, the button is not visible until I move the mouse cursor to the supposed position of the button. \n<a href=\"https://i.stack.imgur.com/jRgpb.jpg\" rel=\"nofollow noreferrer\">Before cursor hover</a> <a href=\"https://i.stack.imgur.com/GJUlf.jpg\" rel=\"nofollow noreferrer\">After cursor hover</a></p>\n\n<p>If I call the function multiple times at once, all other rows contain the button visibly except the first one. I'm using grid layout inside a frame.</p>\n\n<pre><code>namevar = StringVar()\ncbvar = StringVar()\nentry = Entry(self.createTableFrame, textvariable = namevar)           \ncb = ttk.Combobox(self.createTableFrame, textvariable = cbvar, values= self.sqlDatatypes,\n                   state='readonly'\n                   )\ncb.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\", self.datatypeSelect)\ncb.bind(\"&lt;Return&gt;\", self.datatypeSelect)\n\n#this segment contains the error\nbtn = Button(self.createTableFrame, text='Remove')\nbtn.bind('&lt;Button-1&gt;', self.deleteRowNT)\n\nentry.grid(row=self.rowcountNT, column = 0)\ncb.grid(row=self.rowcountNT, column = 1)\nbtn.grid(row = self.rowcountNT, column = 2)\n</code></pre>\n\n<p>Here is the Full code for reference:\n(the error is occuring in the function <code>def nextEntryTable(self)</code> in the <code>class Tables(Scan)</code> )</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from tkinter import * \nimport tkinter as tk\nfrom tkinter import ttk\nimport mysql.connector\n\n\nclass Scrollable(ttk.Frame):\n\n#       Make a frame scrollable with scrollbar on the right.\n#       After adding or removing widgets to the scrollable frame, \n#       call the update() method to refresh the scrollable area.\n\n\n    def __init__(self, frame, width=16):\n\n        scrollbar = tk.Scrollbar(frame, width=width)\n        scrollbar.pack(side=tk.RIGHT, fill=tk.Y, expand=False)\n\n        self.canvas = tk.Canvas(frame, yscrollcommand=scrollbar.set)\n        self.canvas.pack(side=tk.LEFT, fill=tk.BOTH, expand=True)\n\n        scrollbar.config(command=self.canvas.yview)\n\n        self.canvas.bind('&lt;Configure&gt;', self.__fill_canvas)\n\n        # base class initialization\n        tk.Frame.__init__(self, frame)         \n\n        # assign this obj (the inner frame) to the windows item of the canvas\n        self.windows_item = self.canvas.create_window(0,0, window=self, anchor=tk.NW)\n\n\n    def __fill_canvas(self, event):\n        \"Enlarge the windows item to the canvas width\"\n\n        canvas_width = event.width\n        self.canvas.itemconfig(self.windows_item, width = canvas_width)        \n\n    def update(self):\n        \"Update the canvas and the scrollregion\"\n\n        self.update_idletasks()\n        self.canvas.config(scrollregion=self.canvas.bbox(self.windows_item))\n\nclass Scan(Frame):\n    def __init__(self, master):\n        self.flag = 0 # to stop multiple instances opening \n        self.master = master\n        self.master.geometry('300x200+500+300')\n        self.master.title('Scan Page')\n        self.frame = Frame(self.master)\n        lablist = ['Host','User name','Password', 'Database']\n        self.lables, self.entries, self.svars = self.addlables(self.frame, lablist)\n        self.b1=Button(self.frame,text='SCAN',command=self.tableselect)\n        self.b1.grid(row= len(lablist))\n        self.master.bind('&lt;Return&gt;',self.tableselect)\n        self.message = Message(self.frame, text='Connection status',\n                               bg ='Grey', width= 100)\n        self.message.grid(row = 5, column = 1)\n        self.frame.pack(fill='x',expand= True)\n        self.tables = None\n\n    def tableselect(self, event=None):\n        try:\n            self.tables.destroy()\n        except:\n            print('Nothing to destroy')\n        conn = self.databaseconnect()\n#        print( self.entries[0][\"textvariable\"] )\n        if conn != -1:\n            self.tables = Toplevel(self.master)\n            self.app = Tables(self.tables, conn)\n\n    def addlables(self, lableroot, lablelist):\n        lables = []\n        entries = []\n        svars = []\n        for labs, i in zip(lablelist, range(len(lablelist))):\n            l = Label(lableroot, text = labs)\n            l.grid(row=i)\n            e = Entry(lableroot)\n            e.grid(row=i, column = 1, columnspan = 5)\n            s = StringVar()\n            e['textvariable'] = s\n            lables.append(l)\n            entries.append(e)\n            svars.append(s)\n        svars[0].set('localhost')\n        svars[1].set('myproject')\n        svars[2].set('myproject')\n        return [lables, entries, svars]    \n    def printvals(self, event):\n        for s in self.svars:\n            print(s.get())\n    def databaseconnect(self):\n        s = self.svars\n        try:\n            if s[3].get()=='':\n                conn = mysql.connector.connect(host=s[0].get(), user = s[1].get(), \n                                   passwd = s[2].get())\n            else:\n                conn = mysql.connector.connect(host=s[0].get(), user = s[1].get(), \n                                   passwd = s[2].get(), \n                                   database = s[3].get())\n            self.message.config(text='Connected', bg ='Lightgreen')\n            return conn\n        except Exception as e:\n            for x in e.args:\n                print(x)\n            self.message.config(text=\"Error Connecting\", bg='Red')\n#            self.message.grid(row = 5)\n            return -1\n\nclass Tables(Scan):\n    def __init__(self, master, connector):\n        self.conn = connector\n        self.cursor = self.conn.cursor()\n        self.master = master\n        self.master.geometry('600x400+150+20')\n        self.master.title('Table Selection')\n        if self.conn.database == None:\n            print('Connected without a database')\n            self.dbRadiobuttonState = 'normal'\n        else:\n            print('Conneccted using ',self.conn.database,' database')\n            self.dbRadiobuttonState = 'disabled'\n            self.master.title('Database: ' + self.conn.database)\n        self.f1 = Frame(self.master, padx=5) ## Main frame\n\n        self.entry = Entry(self.f1)\n        self.data = StringVar()   ##Variable to get value from the Entry bar\n        self.entry['textvariable'] = self.data\n        self.entry.pack(fill = X, pady = 10)\n\n\n        ##Button creations segment \n        self.f2root = Frame(self.f1)  ##Main left frame, fixed size\n        self.f2 = Frame(self.f2root)  ##top bar for 'Open tables'\n        self.b1 = Button(self.f2, text =   '   Open Table', command= self.openTableClick)\n        self.b1.pack(side = 'left') \n        self.b1.bind('&lt;Return&gt;', self.openTableClick)\n        self.b2 = Button(self.f2, text =   ' Select Databse ', command = self.selectDatabaseClick)\n        self.b2.bind('&lt;Return&gt;', self.selectDatabaseClick)\n        self.b2.pack(side = 'left', expand=True)\n        self.f2.pack(side = 'top')\n\n        self.f22 = Frame(self.f2root)  ##Bar frame below self.f2\n        self.b12 = Button(self.f22, text = 'Create Table ', command = self.createTableClick)\n        self.b12.pack(side = 'left')\n        self.b22 = Button(self.f22, text = 'Create Database')\n        self.b22.pack(side = 'left')\n        self.f22.pack(side = 'top')\n\n        self.f2root.pack(fill='y', side='left')\n        ##Button creation ended\n\n\n        self.nb = ttk.Notebook(self.f1)\n        self.dbPage = ttk.Frame(self.nb)\n        self.setDBList()\n\n        self.tablesPage = ttk.Frame(self.nb)\n        self.tableList= [] #Contains a list of all the tables\n        self.tableFrameBuffer = [] #Contains a list of all the Frames\n        self.currentFrameSelected = -1\n        self.tableLayoutSet()\n        if self.dbRadiobuttonState == 'disabled':\n            self.createTableBuffer()\n            self.dbval.set( self.dbList.index( self.conn.database))\n\n\n\n        self.nb.add(self.dbPage, text = 'Databse')\n        self.nb.add(self.tablesPage, text = 'Tables')\n        self.nb.pack(expand=1, fill='both')\n\n        self.f1.pack(fill='both', expand= True)\n\n\n    def selectDatabaseClick(self, event=None):\n        print('Database: ',self.data.get())\n        try:\n            index = self.dbList.index(self.data.get())\n            print('Index: ', index)\n            self.dbval.set(index)\n            self.connectDB()\n        except:\n            print('Error in clicking DB Select button')\n    def openTableClick(self, event=None): ##Called whenever we click 'Open table'\n        print(self.data.get())\n        try:\n            index = self.tableList.index(self.data.get())\n            print('Table index: ',index)\n            self.tabVar.set(index+1)\n            self.tableSelect()            \n        except:\n            print('Could not find entered table')\n\n    def createTableClick(self):\n        ##Uses button self.b12 \n        print('Create Table clicked')\n        if self.nb.winfo_ismapped():\n            print('Notebook state: ', self.nb.winfo_ismapped())\n            self.nb.pack_forget()\n            self.b12.config(text = 'Cancel')\n            self.b22.config(state='disabled')\n            self.createNewTableLayout()\n            self.newTableMF.pack(fill='both', expand=True, anchor = 'n')\n\n        else:\n            self.newTableMF.pack_forget()\n            print('Notebook state: ', self.nb.winfo_ismapped())\n            self.nb.pack(expand=1, fill='both')\n            self.b12.config(text='Create Table ')\n            self.b22.config(state='normal')\n\n    def setDBList(self):\n        self.dbList = []\n        self.cursor.execute(\"SHOW DATABASES\")\n        self.dbval = IntVar()\n        self.dbval.set(-1)\n        i=0\n        for (x,) in self.cursor:\n            self.dbList.append(x)\n            rb = tk.Radiobutton(self.dbPage, \n                  text=x,\n                  padx = 20, \n                  variable=self.dbval, \n                  command=self.connectDB,\n                  state = self.dbRadiobuttonState,\n                  value=i)\n            rb.pack(anchor=\"nw\")\n            i=i+1\n\n    def connectDB(self): \n        self.cursor.execute(\"USE \" + self.dbList[self.dbval.get()])\n        print(\"Databse selected: \" + self.conn.database)\n        self.master.title('Database: ' + self.conn.database)\n        self.createTableBuffer()\n\n    def createTableBuffer(self):\n        self.cursor.execute(\"show tables\")\n        self.tabVar = IntVar()\n        ##CLeanup code\n        for destroyableFrame in self.tableFrameBuffer:\n            destroyableFrame.destroy()\n        self.currentFrameSelected = -1\n        self.tableFrameBuffer = [] ##Contains the list of Frames \n        self.tableList = [] \n        for (x,) in self.cursor:\n            if (self.cursor.rowcount -1)  % 10 == 0:\n#                print(self.cursor.rowcount,'Frame buffer ',' added ')\n                tempFrame = Frame(self.tablesTopFrame)\n                self.tableFrameBuffer.append(tempFrame)\n                self.currentFrameSelected = len(self.tableFrameBuffer)-1\n            rb = Radiobutton(self.tableFrameBuffer[-1], \n                             text = x,\n                             padx=20,\n                             pady=2,\n                             variable = self.tabVar, \n                             command = self.tableSelect, \n                             value = self.cursor.rowcount)\n            rb.pack(anchor='w')\n            self.tableList.append(x)    ## List of all the names of tables\n        if len(self.tableFrameBuffer) &gt;0:\n            self.tableFrameBuffer[0].pack()\n            self.currentFrameSelected = 0\n\n\n    def tableLayoutSet(self):\n        self.tablesTopFrame = Frame(self.tablesPage)\n        self.tablesBottomFrame = Frame(self.tablesPage)\n\n        self.nextTableButton = Button(self.tablesBottomFrame, text = 'Next',\n                                command = self.nextTableFrame, padx=10)\n        self.prevTableButton = Button(self.tablesBottomFrame, text = 'Previous',\n                                command = self.prevTableFrame, padx=10)\n        self.prevTableButton.pack(side = 'left')\n        self.nextTableButton.pack( side = 'left')\n\n        self.tablesBottomFrame.pack(side = 'bottom', fill='x')\n        self.tablesTopFrame.pack(side = 'top', anchor = 'w') \n    def nextTableFrame(self):\n        if self.currentFrameSelected &lt; len(self.tableFrameBuffer) -1:\n            self.tableFrameBuffer[self.currentFrameSelected].pack_forget()\n            self.tableFrameBuffer[self.currentFrameSelected + 1].pack()\n            self.currentFrameSelected += 1\n\n    def prevTableFrame(self):\n        if self.currentFrameSelected &gt; 0:\n            self.tableFrameBuffer[self.currentFrameSelected].pack_forget()\n            self.tableFrameBuffer[self.currentFrameSelected - 1].pack()\n            self.currentFrameSelected -= 1\n\n    def tableSelect(self):\n        val = self.tabVar.get()\n        print(self.tableList[val - 1])\n        try:\n            self.newTableWindow.destroy()\n        except:\n            pass\n        self.newTableWindow = Toplevel(self.master)\n        self.app = TablesData(self.newTableWindow, self.cursor,\n                              self.tableList[val - 1])\n\n\n    def createNewTableLayout(self):\n\n        self.sqlDatatypes = ['int', 'tinyint', 'smallint', 'mediumint', 'bigint',\n                             'float', 'double', 'decimal',\n                             'date','datetime','timestamp','time','year',\n                             'char','varchar','text', 'tinytext','mediumtext','longtext','enum']\n        self.ntRowList = []\n        self.ntVarList = []   ##New Table var list\n\n        self.newTableMF = Frame(self.f1) ## New table main frame\n\n        ##Top frame containing the sql command\n        self.topFrameNT = Frame(self.newTableMF)\n        lable = Label(self.topFrameNT, text='SQL Command')\n        self.newtableSQLcommand = StringVar()\n        entry = Entry(self.topFrameNT, textvariable = self.newtableSQLcommand)\n        lable.pack(side='left')\n        entry.pack(side='left', fill='x', expand=True)\n        self.topFrameNT.pack(side='top', fill='x')\n\n        ##Bottom frame containing table names and dattatypes\n        self.createTableFrame = Frame(self.newTableMF, bg='red') ##Bottom frame \n        lable = Label(self.createTableFrame, text = 'Table name')\n        lable.grid(column=0, row=0, sticky='w')\n        self.newTableName = StringVar()\n        entryNewTable = Entry(self.createTableFrame, textvariable = self.newTableName)\n        entryNewTable.grid(row=0, column=1, sticky='w')\n        plusButton = Button(self.createTableFrame, text = '+', command = self.nextEntryTable)\n        plusButton.grid(row=0, column=2)\n\n        lable = Label(self.createTableFrame, text = 'Column Name')\n        lable.grid(column=0, row=1, sticky= 'w')\n        lable = Label(self.createTableFrame, text = 'Datatype')\n        lable.grid(column=1, row=1, sticky= 'w')     \n        self.rowcountNT = 1\n        self.nextEntryTable()\n        self.createTableFrame.pack(side='bottom', fill='both', expand=True)\n    def nextEntryTable(self):\n        self.rowcountNT += 1\n        namevar = StringVar()\n        cbvar = StringVar()\n        entry = Entry(self.createTableFrame, textvariable = namevar)           \n        cb = ttk.Combobox(self.createTableFrame, textvariable = cbvar, values= self.sqlDatatypes,\n                           state='readonly'\n                           )\n        cb.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\", self.datatypeSelect)\n        cb.bind(\"&lt;Return&gt;\", self.datatypeSelect)\n\n        btn = Button(self.createTableFrame, text='Remove')\n        btn.bind('&lt;Button-1&gt;', self.deleteRowNT)\n\n        entry.grid(row=self.rowcountNT, column = 0)\n        cb.grid(row=self.rowcountNT, column = 1)\n        btn.grid(row = self.rowcountNT, column = 2)\n\n        l = [btn.winfo_id(), entry, cb, btn]\n        self.ntRowList.append(l)\n        l = [namevar, cbvar]\n        self.ntVarList.append(l)\n\n\n    def datatypeSelect(self, event):\n        state = list (map(lambda var: [var[0].get(), var[1].get()], self.ntVarList))\n        print(state)\n\n    def deleteRowNT(self, event):\n        bid  = event.widget.winfo_id()\n        for rows in self.ntRowList:\n            if rows[0] == bid:\n                index = self.ntRowList.index(rows)\n                break\n        print('Row number: ', index+1)\n        row = self.ntRowList[index]\n        row[3].destroy()\n        row[2].destroy()\n        row[1].destroy()\n        del(self.ntRowList[index])\n        print('Row deleted')\n\nclass TablesData(Tables):\n    def __init__(self, master, cursor, table):\n        self.master = master\n        self.cursor = cursor\n        self.tablename = table\n        self.master.geometry('500x500+50+30')\n        self.master.title(str(table))\n\n        self.buttonFrame = Frame(self.master)\n        self.buttonLayoutSet()\n        self.buttonFrame.pack(side='bottom', fill='x')\n\n        self.topFrame = Frame(self.master)\n        self.scrollableFrame = Scrollable(self.topFrame)\n        self.entriesframe = Frame(self.scrollableFrame)\n        self.entriesframe.grid()\n        self.displayTables()\n        self.topFrame.pack(fill='both', side='top', anchor='w', expand=True)\n\n\n    def buttonLayoutSet(self):\n        self.delete = Button(self.buttonFrame, text='Delete', command=self.deleteClick)\n        self.delete.pack(side='left')\n        self.edit = Button(self.buttonFrame, text='Edit', command=self.editClick)\n        self.edit.pack(side='left')\n        self.insert = Button(self.buttonFrame, text='Insert', command=self.insertClick)\n        self.insert.pack(side='left', padx=20)\n        self.delete.config(state='disabled')\n        self.edit.config(state='disabled')        \n    def insertClick(self):\n        print('Insert')\n    def deleteClick(self):\n        print('Delete')\n    def editClick(self):\n        print('Edit')  \n    def allSelect(self):\n        allVal = self.allCheck.get()\n        for var in self.entryVarList:\n            var.set(allVal)\n        if allVal == 1:\n            self.delete.config(state='normal')\n        else:\n            self.delete.config(state='disabled')\n        self.edit.config(state='disabled')\n\n    def displayTables(self):\n        self.cursor.execute('DESC '+ str(self.tablename))\n        self.allCheck = IntVar()\n        cb = Checkbutton(self.entriesframe, \n                         onvalue=1, offvalue=0,\n                         variable = self.allCheck, \n                         command = self.allSelect)\n        cb.grid(row=0, column=0)\n        for heading in self.cursor:\n            L = Label(self.entriesframe, text=heading[0])\n            L.grid(row=0, column = self.cursor.rowcount)\n\n        self.cursor.execute('select * from ' + str(self.tablename))\n        self.entryVarList = []\n        for tableEntries in self.cursor:\n            entryVar = IntVar()\n            cb = Checkbutton(self.entriesframe, \n                             onvalue=1, offvalue= 0,\n                             variable = entryVar,\n                             command= self.selectEntry)           \n            cb.grid(row=self.cursor.rowcount, column=0)\n\n            self.entryVarList.append(entryVar)\n            for val, col in zip(tableEntries, range(1,len(tableEntries) + 1)):\n                L = Label(self.entriesframe, text = val)\n                L.grid(row=self.cursor.rowcount, column = col)\n        self.scrollableFrame.update()\n    def selectEntry(self):\n        state = list (map(lambda var: var.get(), self.entryVarList))\n        if sum(state) == 0:\n            self.delete.config(state='disabled')\n            self.edit.config(state='disabled')\n        elif sum(state) == 1:\n            self.delete.config(state='normal')\n            self.edit.config(state='normal')\n        else:\n            self.delete.config(state='normal')\n            self.edit.config(state='disabled')    \n        if len(state) == sum(state):\n            self.allCheck.set(1)\n        else:\n            self.allCheck.set(0)\n\ndef main():\n    root = Tk()\n    app = Scan(root)\n    root.mainloop()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "json", "python-2.7", "python-requests"], "comments": [{"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1553721630, "post_id": 55386511, "comment_id": 97495167, "body": "Just FYI <code>content-type</code> must be in headers"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1553722175, "post_id": 55386511, "comment_id": 97495450, "body": "And <code>requests</code> has no <code>getResponse</code> method. and I cannot get it to JSON format either."}, {"owner": {"reputation": 37, "user_id": 9968765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69SWV_rKiKk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0UC1qvmYN1odIukctBLH_mu4BUig/mo/photo.jpg?sz=128", "display_name": "Kumar", "link": "https://stackoverflow.com/users/9968765/kumar"}, "reply_to_user": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1553725370, "post_id": 55386511, "comment_id": 97496596, "body": "basically i trying to do two api calls to jira with different queries, both api calls returns  the response with issue id`s, but the issue id values are different, but the dictionary is same. for ex : api one retruns the response as [{issues{key : iss-123}}] andsecond api response is [{issues{key : iss-234}}]"}, {"owner": {"reputation": 13087, "user_id": 2062973, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/GD1pm.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2062973/james"}, "edited": false, "score": 1, "creation_date": 1553725485, "post_id": 55386511, "comment_id": 97496630, "body": "u din&#39;t query <code>apitwo</code>."}, {"owner": {"reputation": 13087, "user_id": 2062973, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/GD1pm.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2062973/james"}, "edited": false, "score": 0, "creation_date": 1553725621, "post_id": 55386511, "comment_id": 97496670, "body": "if your dict has only one key, then you don&#39;t need to loop over it."}, {"owner": {"reputation": 13087, "user_id": 2062973, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/GD1pm.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2062973/james"}, "edited": false, "score": 0, "creation_date": 1553725651, "post_id": 55386511, "comment_id": 97496682, "body": "And i din&#39;t see how they are interdependent ?"}, {"owner": {"reputation": 37, "user_id": 9968765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69SWV_rKiKk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0UC1qvmYN1odIukctBLH_mu4BUig/mo/photo.jpg?sz=128", "display_name": "Kumar", "link": "https://stackoverflow.com/users/9968765/kumar"}, "edited": false, "score": 0, "creation_date": 1553727039, "post_id": 55386511, "comment_id": 97497109, "body": "if you see, issue1 is passed in to issue2 in the second loop, then issue 2 passed in to thrid loop, finally i want to print all the issues from three loops. I want issue id under issues for each api response . for ex : [{fields { issues{ key:cr-123} } }] for api 1 and second api response as same diction but key value. for ex : [{fields { issues{ key:cr-345} } }] and samething with api3 : [{fields { issues{ key:cr-456} } }]"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1553801378, "post_id": 55386511, "comment_id": 97531607, "body": "Please show where you define <code>key</code>. If if is different for each loop, then set it before each loop"}, {"owner": {"reputation": 37, "user_id": 9968765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69SWV_rKiKk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0UC1qvmYN1odIukctBLH_mu4BUig/mo/photo.jpg?sz=128", "display_name": "Kumar", "link": "https://stackoverflow.com/users/9968765/kumar"}, "edited": false, "score": 0, "creation_date": 1553807035, "post_id": 55386511, "comment_id": 97534177, "body": "key is from api response, the response will have content as mentioned in the previous comment."}], "owner": {"reputation": 37, "user_id": 9968765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69SWV_rKiKk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0UC1qvmYN1odIukctBLH_mu4BUig/mo/photo.jpg?sz=128", "display_name": "Kumar", "link": "https://stackoverflow.com/users/9968765/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553728211, "creation_date": 1553721069, "last_edit_date": 1553728211, "question_id": 55386511, "link": "https://stackoverflow.com/questions/55386511/how-to-parse-json-response-from-two-different-api-calls-in-a-nested-for-loop", "title": "How to parse json response from two different api calls in a nested for loop?", "body": "<p>I want to parse response json from two different api calls ,but has same dictionary names with different values in a nested for loop</p>\n\n<p>I was able to get from the forst api call, but failing on second api call with same dict as issues in both call but the key values are different.</p>\n\n<pre><code>def classtest(self):\n    apione = \"http://jira.com/rest/1\"\n    headers = {\n        'content-type': \"application/json\",\n              } \n    requestglobal = requests.request(\"GET\", apione, headers=headers)\n    responseglobal = requestglobal.text\n    responseglobal = json.loads(responseglobal)\n    for i in responseglobal['issues']:\n         issue1 = i[key]\n         print(issue1)\n         apitwo = \"https://jira.com/rest/2\" + str(issue1)\n         requesttwo = requests.request(\"GET\", apitwo, headers=headers)\n         responsetwo = requesttwo.text\n         responsetwo = json.loads(responsetwo)\n         for i in responsetwo['issues']:\n               issue2 = i[key] + str(issue1)\n               print(issue2)\n               apitthree = \"https://jira.com/rest/3\" + str(issue1) + str(issue3)\n               requestthree = requests.request(\"GET\", apitthree, headers=headers)\n               responsethree = requestthree.text\n               responsethree = json.loads(responsetthree)\n               for i in responsethree['issues']:\n                     issue3 = i[key] + str(issue2) \n                     print(issue3)\n               print(\"something from thirdloop\")\n         print(\"something from second loop\") \n    print (\"something from first for loop\")\n</code></pre>\n\n<p>I want issues from all the 3 calls, as each call is interdependent</p>\n"}, {"tags": ["python", "class", "gurobi"], "comments": [{"owner": {"reputation": 4806, "user_id": 446610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115fdf94f87f4fc3f0a817e514e0cbfc?s=128&d=identicon&r=PG", "display_name": "Greg Glockner", "link": "https://stackoverflow.com/users/446610/greg-glockner"}, "edited": false, "score": 0, "creation_date": 1553722000, "post_id": 55386495, "comment_id": 97495372, "body": "Did you solve the model yet?"}, {"owner": {"reputation": 13, "user_id": 7874379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adfa3a1b41b8925aa7872def067f4ba?s=128&d=identicon&r=PG&f=1", "display_name": "cuca", "link": "https://stackoverflow.com/users/7874379/cuca"}, "reply_to_user": {"reputation": 4806, "user_id": 446610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115fdf94f87f4fc3f0a817e514e0cbfc?s=128&d=identicon&r=PG", "display_name": "Greg Glockner", "link": "https://stackoverflow.com/users/446610/greg-glockner"}, "edited": false, "score": 0, "creation_date": 1553723156, "post_id": 55386495, "comment_id": 97495803, "body": "Yes, it works just fine and finishes with exit-code 0"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7874379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adfa3a1b41b8925aa7872def067f4ba?s=128&d=identicon&r=PG&f=1", "display_name": "cuca", "link": "https://stackoverflow.com/users/7874379/cuca"}, "edited": false, "score": 0, "creation_date": 1553725234, "post_id": 55387121, "comment_id": 97496544, "body": "First, thanks for the answer. I think, I wasn&#39;t specific: the statement self.x = None was in the init-method of the Model-class, not the Variable-class and so was the store_x-method. Because the x-variable is a tupledict and defined during the setup of the model and I want this tupledict stored in the Variable-class. In this case, in which class should I write the store_x-method?"}, {"owner": {"reputation": 320, "user_id": 6815750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206792815810073/picture?type=large", "display_name": "RockAndRoleCoder", "link": "https://stackoverflow.com/users/6815750/rockandrolecoder"}, "reply_to_user": {"reputation": 13, "user_id": 7874379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adfa3a1b41b8925aa7872def067f4ba?s=128&d=identicon&r=PG&f=1", "display_name": "cuca", "link": "https://stackoverflow.com/users/7874379/cuca"}, "edited": false, "score": 0, "creation_date": 1553745189, "post_id": 55387121, "comment_id": 97501110, "body": "ok so what you&#39;re trying to do is send the actual value inside the Model&#39;s x variable over to the Var-Class.  Just send it inside the argument, instead of trying to access it&#39;s x attribute from within the method.  Let me update my answer with an example"}], "tags": [], "owner": {"reputation": 320, "user_id": 6815750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206792815810073/picture?type=large", "display_name": "RockAndRoleCoder", "link": "https://stackoverflow.com/users/6815750/rockandrolecoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1553745511, "last_edit_date": 1553745511, "creation_date": 1553723979, "answer_id": 55387121, "question_id": 55386495, "link": "https://stackoverflow.com/questions/55386495/how-to-store-a-variable-of-an-instance-of-a-class-in-an-instance-of-another-clas/55387121#55387121", "title": "How to store a variable of an instance of a class in an instance of another class", "body": "<p>Ok first off I see an issue with Your code:  </p>\n\n<pre><code>def store_x(self, var):\n    var.x = self.x\n</code></pre>\n\n<p>It Needs to be changed to :</p>\n\n<pre><code>def store_x(self, var):\n    self.x = var.x\n</code></pre>\n\n<p>This is because whatever you send in the 'var' parameter will only be a copy of whatever you actually passed.  And then its scope will only last to the end of that store_x method.  So instead you pass that copy and tell your variable class instance to store it inside it's x value.  </p>\n\n<p>As for the error you got with:</p>\n\n<pre><code>self.x = None # inside your Model class\n</code></pre>\n\n<p>I'm not sure why, as I tried the following and it runs fine:</p>\n\n<pre><code>class Variables:\n    def __init__(self):\n        self.data = data\n        self.number_of_clusters = number_of_clusters\n        self.neighbourhood_size = neighbourhood_size\n        self.variables_before = None\n        self.variables_now = None\n        self.ofv_before = None\n        self.ofv_now = None\n        self.x = None\n</code></pre>\n\n<p>So I'm updating my answer with a deeper example after getting clarification on what is needed.  Here are two skeleton classes named 'Variables', 'Model', respectivly:</p>\n\n<pre><code>class Variables:\n    def __init__(self):\n        self.data = None\n        self.number_of_clusters = None\n        self.neighbourhood_size = None\n        self.variables_before = None\n        self.variables_now = None\n        self.ofv_before = None\n        self.ofv_now = None\n        self.x = None\n\n\n    def get_x(self,modelx):\n\n        self.x = modelx\n\n\nclass Model:\n    def __init__(self):\n        self.x = ({}, {})\n\n\n\n# create your class instances here\n\nnewVar = Variables()\nnewModel = Model()\n\n# one way to assign your Variable class's x attribute the tuple dict in question.  \nnewVar.x = newModel.x \n\n# alternate way is to create a function inside your Variable class that updates the x variable based on the argument you send it.  \nnewVar.get_x(newModel.x)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7874379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adfa3a1b41b8925aa7872def067f4ba?s=128&d=identicon&r=PG&f=1", "display_name": "cuca", "link": "https://stackoverflow.com/users/7874379/cuca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 55387121, "answer_count": 1, "score": 0, "last_activity_date": 1553745511, "creation_date": 1553721002, "question_id": 55386495, "link": "https://stackoverflow.com/questions/55386495/how-to-store-a-variable-of-an-instance-of-a-class-in-an-instance-of-another-clas", "title": "How to store a variable of an instance of a class in an instance of another class", "body": "<p>I have two self-defined classes, one is a child of the gurobipy-class and is supposed to make a lp-model. The other one I made to store variables. Now I want to store some variables of the model class in the variables class.\nHere are my classes:</p>\n\n<pre><code>class Model(gb.Model):\n    def __init__(self):\n        super().__init__()\n\n    def create_model(self, var):\n        dim = var.dimensions()\n        # variables\n        x = self.addVars(dim[0], dim[1], vtype=gb.GRB.BINARY, name=\"x\")\n        D_l = self.addVars(dim[1], lb=0, name='D_l')\n        D_max = self.addVar(lb=0, name='D_max')\n        # objective\n        self.setObjective(D_max, gb.GRB.MINIMIZE)\n        # constraints\n        self.addConstrs((x.sum(i, '*') == 1 for i in range(dim[0])), name=\"b\")\n        self.addConstrs((D_max &gt;= D_l[l] for l in range(dim[1])), name=\"c\")\n        self.addConstrs((D_l[l] &gt;= var.dist_mat()[i, j] * (x[i, l] + x[j, l] - 1) for i in range(dim[0])\n                          for j in range(dim[0]) for l in range(dim[1])), name='a')\n        self.update()\n\n\nclass Variables:\n    def __init__(self, data, number_of_clusters, neighbourhood_size):\n        self.data = data\n        self.number_of_clusters = number_of_clusters\n        self.neighbourhood_size = neighbourhood_size\n        self.variables_before = None\n        self.variables_now = None\n        self.ofv_before = None\n        self.ofv_now = None\n        self.x = None\n\n    def dist_mat(self):\n        from scipy.spatial import distance_matrix\n        return distance_matrix(self.data, self.data)\n\n    def dimensions(self):\n        from numpy import shape\n        data_objects = shape(self.data)[0]\n        number_of_clusters = self.number_of_clusters\n        return data_objects, number_of_clusters\n\n    def print_dist_mat(self):\n        print(self.dist_mat())\n</code></pre>\n\n<p>It's the x-variable I want to store. First, I tried to store it in the instance of the Model-class. I added to the <strong>init</strong>-function this line <code>self.x = None</code>. But it raise an <code>AttributeError: 'x' is not a model attribute</code>. I guess, this is because the gurobipy-class doesn't have a x attribute.</p>\n\n<p>Next, I wanted to store it in an instance of the variable-class. I wanted to write a function in the model class, which should do the trick. This is the function:</p>\n\n<pre><code>def store_x(self, var):\n    var.x = self.x\n</code></pre>\n\n<p>Then, I got this error: <code>gurobipy.GurobiError: Unable to retrieve attribute 'x'</code>, I can't understand why. </p>\n\n<p>I can't even access the x-variable from outside the function. I can print it from inside the function, but nothing more. The problem is, I need this x-variable in a later stage.</p>\n\n<p>How can I achieve this? How can I store the x-variable to access it at a later point? It doesn't have to be in the variable-class, any other solution is appreciated as well.</p>\n"}, {"tags": ["python", "regex", "search", "built-in", "findall"], "comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 1, "creation_date": 1553720992, "post_id": 55386453, "comment_id": 97494877, "body": "what have you tried so far?"}, {"owner": {"reputation": 320, "user_id": 10729196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7UtP.jpg?s=128&g=1", "display_name": "Andressa Cabistani", "link": "https://stackoverflow.com/users/10729196/andressa-cabistani"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1553721543, "post_id": 55386453, "comment_id": 97495128, "body": "I edited with what I tried."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10597469"}, "reply_to_user": {"reputation": 320, "user_id": 10729196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7UtP.jpg?s=128&g=1", "display_name": "Andressa Cabistani", "link": "https://stackoverflow.com/users/10729196/andressa-cabistani"}, "edited": false, "score": 0, "creation_date": 1553722749, "post_id": 55386544, "comment_id": 97495661, "body": "Ok cool.  I was just about to add an update.  If you <i>need</i> to use a regex because that&#39;s part of the assignment or something, you can use <code>if re.search(&#39;([sat][sun])&#39;, day):</code> in place of the current if statement, but it doesn&#39;t change much, since your regexes are still just &quot;sat&quot; and &quot;sun&quot;."}, {"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 0, "creation_date": 1553723511, "post_id": 55386544, "comment_id": 97495930, "body": "That is not how you do multi-character <code>or</code> with regular expressions. Your capture group is searching for any of these two character strings (comma delimited): <code>ss,su,sn,as,au,an,ts,tu,tn</code>. What you&#39;d want is <code>if re.search( &#39;(sat|sun)&#39;, day ):</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10597469"}, "is_accepted": true, "score": 1, "last_activity_date": 1553723634, "last_edit_date": 1553723634, "creation_date": 1553721220, "answer_id": 55386544, "question_id": 55386453, "link": "https://stackoverflow.com/questions/55386453/how-to-write-a-regex-in-python-to-recognize-days-inside-a-string/55386544#55386544", "title": "How to write a regex in python to recognize days inside a string", "body": "<p>You don't really need a regex for this.  You can just look for \"sat\" and \"sun\" tags directly, since your days are formatted the same way (i.e. no capitals, no \"tue\" instead of \"tues\", etc.) you shouldn't need to generalize to a pattern.  Just loop through the list and look for \"sat\" and \"sun\":</p>\n\n<pre><code>import re #if you are using the re\n\ndays = [' 16Mar2009(mon)', ' 17Mar2009(tues)', ' 18Mar2009(wed)', ' 18Mar2009(sat)', ' 18Mar2009(sun)']\nweekends = 0\nweekdays = 0\n\nfor day in days:\n  if \"sat\" in day or \"sun\" in day:  #if re.search( '(sat|sun)', day ): also works\n    weekends = weekends+1\n  else:\n    weekdays = weekdays+1\n\nprint(weekends)\nprint(weekdays)\n\n&gt;&gt;&gt;2\n&gt;&gt;&gt;3\n</code></pre>\n\n<p>if you <em>need</em> to use a regex, because this is part of an assignment for example, then this variation of the <code>if</code> statement will do it: <code>if re.search( '(sat|sun)', day ):</code>  This isn't too much more useful than just using the strings since the strings <em>are</em> the regex in this case, but seeing how to put multiple patterns together into one regex with <code>or</code> style logic is useful so I'm still including it here.</p>\n"}], "owner": {"reputation": 320, "user_id": 10729196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7UtP.jpg?s=128&g=1", "display_name": "Andressa Cabistani", "link": "https://stackoverflow.com/users/10729196/andressa-cabistani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 55386544, "answer_count": 1, "score": 1, "last_activity_date": 1561107086, "creation_date": 1553720765, "last_edit_date": 1561107086, "question_id": 55386453, "link": "https://stackoverflow.com/questions/55386453/how-to-write-a-regex-in-python-to-recognize-days-inside-a-string", "title": "How to write a regex in python to recognize days inside a string", "body": "<p>In this assignment, the input wanted is in this format:</p>\n\n<pre><code>Regular: 16Mar2009(mon), 17Mar2009(tues), 18Mar2009(wed) ...\n\nReward: 26Mar2009(thur), 27Mar2009(fri), 28Mar2009(sat)\n</code></pre>\n\n<p>Regular or Reward is the name of customer type. I separated this string like this.</p>\n\n<pre><code>entry_list = input.split(\":\") #input is a variable  \nclient = entry_list[0] # only Regular or Reward  \ndates = entry_list[1] # only dates  \ndays = dates.split(\",\")       \n</code></pre>\n\n<p>But now I need to count weekdays or weekend days inside the days list:</p>\n\n<pre><code>days = [' 16Mar2009(mon)', ' 17Mar2009(tues)', ' 18Mar2009(wed)']    \n</code></pre>\n\n<p>When it is mon tues wed thur fri, all count as weekday, and I need to know how many weekdays the input have.</p>\n\n<p>When it is sat sun must be counted as weekend days, and I need to know how many weekends the input have.</p>\n\n<p>How to write a regex in python to search for all weekdays and weekend days inside this list and count them, putting the number of weekdays and weekend days in two different counters?</p>\n\n<p><strong>EDIT</strong>  </p>\n\n<p>I wrote this function to check if the dates are in the write format but it's not working:</p>\n\n<pre><code>def is_date_valid(date):\n    date_regex = re.compile(r'(?:\\d{1,2}[A-Za-z]{3}\\d{4}\\([A-Za-z]{3}\\),\\s+){2}\\d{1,2}[A-Za-z]{3}\\d{4}\\([A-Za-z]{3}\\)$')\n    m = date_regex.search(date)\n</code></pre>\n\n<p>m is only returning None</p>\n"}, {"tags": ["python", "r", "csv", "export-to-csv", "pickle"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 10597936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa20a7b3fa5302e9b27b0e3ca92e9b96?s=128&d=identicon&r=PG&f=1", "display_name": "8bit", "link": "https://stackoverflow.com/users/10597936/8bit"}, "edited": false, "score": 0, "creation_date": 1553790078, "post_id": 55387078, "comment_id": 97525431, "body": "and that&#39;s python code I need to run right? Would it work on something like pycharm?"}, {"owner": {"reputation": 339, "user_id": 10934757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUn3d.png?s=128&g=1", "display_name": "ASaunders", "link": "https://stackoverflow.com/users/10934757/asaunders"}, "reply_to_user": {"reputation": 39, "user_id": 10597936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa20a7b3fa5302e9b27b0e3ca92e9b96?s=128&d=identicon&r=PG&f=1", "display_name": "8bit", "link": "https://stackoverflow.com/users/10597936/8bit"}, "edited": false, "score": 0, "creation_date": 1553799275, "post_id": 55387078, "comment_id": 97530414, "body": "Yup, the posted code will load a file <code>test_data_1.pkl</code> in the same working folder as your python script into the variable <code>data_1</code>. It will certainly run in pycharm or any other python IDE but you will need to ensure that the pickle file is indeed where you are saying it is. If you are getting a <code>FileNoteFoundError</code>, consider using an absolute path. For example, if you put the file in your C:\\ drive, you can give the path as <code>&#39;C:\\test_data_1.pkl&#39;</code>."}], "tags": [], "owner": {"reputation": 339, "user_id": 10934757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUn3d.png?s=128&g=1", "display_name": "ASaunders", "link": "https://stackoverflow.com/users/10934757/asaunders"}, "is_accepted": false, "score": 3, "last_activity_date": 1553723744, "creation_date": 1553723744, "answer_id": 55387078, "question_id": 55386437, "link": "https://stackoverflow.com/questions/55386437/how-to-convert-pkl-file-into-csv-or-read-pkl-into-r-as-dataframe/55387078#55387078", "title": "How to convert .pkl file into .csv or read .pkl into R as dataframe", "body": "<p>You are probably pretty close. I am not familiar with <code>reticulate</code> but if the files you have were serialized with the <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow noreferrer\"><code>pickle</code></a> module, you should be able to de-serialize with the same module.</p>\n\n<pre><code>import pickle\n\nwith open('test_data_1.pkl','rb') as f:\n    data_1 = pickle.load(f)\n</code></pre>\n\n<p>You must give <code>pickle.load()</code> a file handle using the built-in <code>open</code>. If you don't want to keep all the pickle files in the same working folder as your script, you can use an absolute or relative path given as a string. There are more details about <code>open</code> <a href=\"https://docs.python.org/3/library/functions.html#open\" rel=\"nofollow noreferrer\">here</a>. You can also use <code>pathlib.Path</code> objects for the filepath if you want to get fancier.</p>\n"}], "owner": {"reputation": 39, "user_id": 10597936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa20a7b3fa5302e9b27b0e3ca92e9b96?s=128&d=identicon&r=PG&f=1", "display_name": "8bit", "link": "https://stackoverflow.com/users/10597936/8bit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4236, "favorite_count": 0, "closed_date": 1616690259, "answer_count": 1, "score": 0, "last_activity_date": 1616689147, "creation_date": 1553720690, "question_id": 55386437, "link": "https://stackoverflow.com/questions/55386437/how-to-convert-pkl-file-into-csv-or-read-pkl-into-r-as-dataframe", "closed_reason": "Duplicate", "title": "How to convert .pkl file into .csv or read .pkl into R as dataframe", "body": "<p>I've never used python and I've received some .pkl files which have some tracking data and in the data set are a training set with 7500 sequences and two separate set of sequences for testing the format of each sequence is as follows:\n- Each sequence is a matrix (numpy 2D array) with 46 columns. Each row contains 23 pairs of (x,y) coordinates...and so on.</p>\n\n<p>I've tried to use the reticulate package and then for example having the file in my working directory running this code hasn't worked and I don't know what else to do...</p>\n\n<pre><code>&gt; data_1 = py_load_object(test_data_1.pkl, pickle = \"pickle\")\nError in py_resolve_dots(list(...)) : object 'test_data_1.pkl' not     found\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": true, "score": 0, "last_activity_date": 1553720847, "creation_date": 1553720847, "answer_id": 55386468, "question_id": 55386425, "link": "https://stackoverflow.com/questions/55386425/check-if-all-dictionaries-are-the-same/55386468#55386468", "title": "Check if all dictionaries are the same", "body": "<p>You could use <code>all</code>:</p>\n\n<pre><code>all(a == array[0] for a in array[1:])\n</code></pre>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "closed_date": 1553720833, "accepted_answer_id": 55386468, "answer_count": 1, "score": 0, "last_activity_date": 1553720847, "creation_date": 1553720655, "question_id": 55386425, "link": "https://stackoverflow.com/questions/55386425/check-if-all-dictionaries-are-the-same", "closed_reason": "Duplicate", "title": "Check if all dictionaries are the same", "body": "<p>I have an array of an unknown size with dictionaries in it. I'd like to check if all dictionaries are the same or not. Normally I would do either:</p>\n\n<pre><code>array[0] == array[1] == array[2] # with a known size\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>len(set(array)) == 1 # if a hashable type\n</code></pre>\n\n<p>How would I do the above with an array of unknown size with dicts?</p>\n"}, {"tags": ["python", "django", "python-3.x"], "comments": [{"owner": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "edited": false, "score": 0, "creation_date": 1553720951, "post_id": 55386418, "comment_id": 97494856, "body": "<a href=\"https://stackoverflow.com/questions/45135263/class-has-no-objects-member\" title=\"class has no objects member\">stackoverflow.com/questions/45135263/&hellip;</a>"}, {"owner": {"reputation": 729, "user_id": 11222499, "user_type": "registered", "profile_image": "https://graph.facebook.com/826909947404762/picture?type=large", "display_name": "T&#226;mer Cuba", "link": "https://stackoverflow.com/users/11222499/t%c3%a2mer-cuba"}, "reply_to_user": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "edited": false, "score": 0, "creation_date": 1553721083, "post_id": 55386418, "comment_id": 97494918, "body": "oh god, i really dont read that, so sorry. Works fine ty!"}], "answers": [{"comments": [{"owner": {"reputation": 3761, "user_id": 12349734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d5578dec3745c33be38236b05566b3?s=128&d=identicon&r=PG&f=1", "display_name": "MendelG", "link": "https://stackoverflow.com/users/12349734/mendelg"}, "edited": false, "score": 1, "creation_date": 1598228406, "post_id": 63552984, "comment_id": 112380872, "body": "Hi. The comments already pointed to an answer. Please do not copy the complete text of external sources; instead, use their words and ideas to support your own. <a href=\"https://stackoverflow.com/help/how-to-answer\">See How do I write a good answer?</a>"}], "tags": [], "owner": {"reputation": 83, "user_id": 10663845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P6HRqAy00UA/AAAAAAAAAAI/AAAAAAAAF7c/2uEGHcexTgU/photo.jpg?sz=128", "display_name": "quba", "link": "https://stackoverflow.com/users/10663845/quba"}, "is_accepted": false, "score": 0, "last_activity_date": 1598225239, "creation_date": 1598225239, "answer_id": 63552984, "question_id": 55386418, "link": "https://stackoverflow.com/questions/55386418/how-to-fix-myclass-has-no-objects-member/63552984#63552984", "title": "How to fix &quot;myClass has no objects member&quot;", "body": "<p>Install pylint-django using pip as follows</p>\n<pre><code>pip install pylint-django\n</code></pre>\n<p>Then in VS Code follow these steps\nStep 1: press CTR+SHIFT+P\nStep 2:type in 'configure language specific settings' and select it\nStep 3: type in 'python' and select it\nStep 4: replace the content of you found there with the following snippet</p>\n<pre><code>{\n&quot;python.linting.pylintArgs&quot;: [\n    &quot;--load-plugins=pylint_django&quot;\n],\n\n&quot;[python]&quot;: {\n\n},\n\n}\n</code></pre>\n<p>That's it!</p>\n"}], "owner": {"reputation": 729, "user_id": 11222499, "user_type": "registered", "profile_image": "https://graph.facebook.com/826909947404762/picture?type=large", "display_name": "T&#226;mer Cuba", "link": "https://stackoverflow.com/users/11222499/t%c3%a2mer-cuba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4103, "favorite_count": 1, "closed_date": 1598240276, "answer_count": 1, "score": 0, "last_activity_date": 1598225239, "creation_date": 1553720633, "question_id": 55386418, "link": "https://stackoverflow.com/questions/55386418/how-to-fix-myclass-has-no-objects-member", "closed_reason": "Duplicate", "title": "How to fix &quot;myClass has no objects member&quot;", "body": "<p>After I added the method <code>post_detail</code> in the file <a href=\"https://github.com/tamercuba/my-first-blog/blob/master/blog/views.py\" rel=\"nofollow noreferrer\">'~/blog/views.py'</a> im getting the error <code>Class 'Post' has no 'objects' member</code> but before doing this the code was working so well.</p>\n\n<p>I read a lot of stuff about Models on Django website but i cant find the error.</p>\n\n<p>The django server is working fine, 0 errors.</p>\n\n<p>I really cant understand why this error and why my application dont work</p>\n"}, {"tags": ["python", "ctypes"], "answers": [{"tags": [], "owner": {"reputation": 27035, "user_id": 1247781, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/edf09871b6901cb4c562e456d8a06388?s=128&d=identicon&r=PG", "display_name": "FThompson", "link": "https://stackoverflow.com/users/1247781/fthompson"}, "is_accepted": true, "score": 2, "last_activity_date": 1553720713, "creation_date": 1553720713, "answer_id": 55386443, "question_id": 55386315, "link": "https://stackoverflow.com/questions/55386315/comparing-simple-python-ctypes-data-types/55386443#55386443", "title": "Comparing simple Python ctypes data types", "body": "<p>According to the documentation of <a href=\"https://docs.python.org/3/library/ctypes.html#ctypes._SimpleCData\" rel=\"nofollow noreferrer\"><code>ctypes._SimpleCData</code></a> and its superclass <a href=\"https://docs.python.org/3/library/ctypes.html#ctypes._CData\" rel=\"nofollow noreferrer\"><code>ctypes._CData</code></a>, \"all ctypes type instances contain a memory block that hold C compatible data.\"</p>\n\n<p>Presumably, each invocation of <code>ctypes.c_ushort(37099)</code> corresponds to a new memory block, thus making the equality comparison between them false. The documentation also notes that the <code>value</code> attribute contains the actual value of the object.</p>\n\n<pre><code>&gt;&gt;&gt; import ctypes\n&gt;&gt;&gt; val1 = ctypes.c_ushort(37099)\n&gt;&gt;&gt; val2 = ctypes.c_ushort(37099)\n&gt;&gt;&gt; ctypes.addressof(val1)\n2193186894992\n&gt;&gt;&gt; ctypes.addressof(val2)\n2193186895376\n</code></pre>\n"}], "owner": {"reputation": 2116, "user_id": 145504, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/30b3db431ea2a3dbed966d71c98d205c?s=128&d=identicon&r=PG", "display_name": "rgov", "link": "https://stackoverflow.com/users/145504/rgov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 1, "accepted_answer_id": 55386443, "answer_count": 1, "score": 3, "last_activity_date": 1553720713, "creation_date": 1553720172, "question_id": 55386315, "link": "https://stackoverflow.com/questions/55386315/comparing-simple-python-ctypes-data-types", "title": "Comparing simple Python ctypes data types", "body": "<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; ctypes.c_ushort(37099) == ctypes.c_ushort(37099)\nFalse\n</code></pre>\n\n<p>These do not seem to be equal because there are no comparison operators for PyCSimpleType objects.</p>\n\n<p>Is there a reason why these are omitted? It seems that one must use:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; ctypes.c_ushort(37099).value == ctypes.c_ushort(37099).value\nTrue\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 797, "user_id": 10397317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LGVBG-_4e0U/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2Kxbv4YCFKUQMz9FjXkYyHHTvdyw/mo/photo.jpg?sz=128", "display_name": "Konrad", "link": "https://stackoverflow.com/users/10397317/konrad"}, "is_accepted": false, "score": 0, "last_activity_date": 1553721043, "creation_date": 1553721043, "answer_id": 55386503, "question_id": 55386314, "link": "https://stackoverflow.com/questions/55386314/im-trying-to-do-a-basic-audio-recorder-with-tkinter/55386503#55386503", "title": "I&#39;m trying to do a basic audio recorder with tkinter", "body": "<p>It can be done with event handling. User click on the start button generates the onClick event on the button and runs the assigned handler function which manages running recording. The same with stop button. \n<a href=\"https://effbot.org/tkinterbook/tkinter-events-and-bindings.htm\" rel=\"nofollow noreferrer\">Here</a> you can find more about doing it in tkinter.</p>\n"}], "owner": {"reputation": 91, "user_id": 10601510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6e468cf54c51f5c9f7ed988218d130?s=128&d=identicon&r=PG&f=1", "display_name": "zzz247", "link": "https://stackoverflow.com/users/10601510/zzz247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553721043, "creation_date": 1553720166, "last_edit_date": 1553720334, "question_id": 55386314, "link": "https://stackoverflow.com/questions/55386314/im-trying-to-do-a-basic-audio-recorder-with-tkinter", "title": "I&#39;m trying to do a basic audio recorder with tkinter", "body": "<p>I have some homework to do. I need to create an audio recorder that basically starts recording and then stop recording. So I have a basic graphic interface with tkinter, with 2 buttons, one that is supposed to start and the other to stop the recording.\nI have the following code to record the sound.</p>\n\n<pre><code>def record():\n\n    FORMAT = pyaudio.paInt16\n        CHANNELS = 2\n        RATE = 44100\n        CHUNK = 1024\n\n    print (\"recording...\")\n\n    audio = pyaudio.PyAudio()\n\n    # start recording\n    stream = audio.open(format=FORMAT, channels=CHANNELS,\n                        rate=RATE, input=True,\n                        frames_per_buffer=CHUNK)\n    frames = []\n\n    while v == 1:\n        data = stream.read(CHUNK)\n        frames.append(data)\n\n\n    stream.stop_stream()\n    stream.close()\n    audio.terminate()\n    print (\"recording successfull\\n\")\n    return_data = [frames, stream, audio]\n    return return_data\n</code></pre>\n\n<p>As I have two buttons, I need to have two functions, one that starts the recording, one that stops it so I need to split the record() function in two parts. But I can't figure out how to do that.\nCould you help me ?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1553720335, "post_id": 55386307, "comment_id": 97494560, "body": "Hi Alexey, please share what you have attempted so far, and what went wrong with your attempts. Also, please provide clear examples of your input and expected output so we know exactly what you&#39;re trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 1, "last_activity_date": 1553720959, "creation_date": 1553720959, "answer_id": 55386488, "question_id": 55386307, "link": "https://stackoverflow.com/questions/55386307/how-to-match-everything-between-a-and-b-but-dont-cross-boundaries-of-predefined/55386488#55386488", "title": "How to match everything between A and B but don&#39;t cross boundaries of predefined word", "body": "<p>You can do:</p>\n\n<pre><code>^(?!Hello.*?\\band\\b.*?everyone)Hello.*?everyone\n</code></pre>\n\n<ul>\n<li><code>^</code> matches start of the line</li>\n<li><code>(?!Hello.*?\\band\\b.*?everyone)</code> is a zero-width negative lookahead pattern to make sure the word <code>and</code> does not come in-between <code>Hello</code> and <code>everyone</code></li>\n<li><code>Hello.*?everyone</code> matches the desired input having <code>Hello</code> and <code>everyone</code> in the line </li>\n</ul>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>In [1925]: str_1 = 'Hello you everyone'                                                                                                                                                                     \n\nIn [1926]: str_2 = 'Hello you and everyone'                                                                                                                                                                 \n\nIn [1927]: re.search(r'^(?!Hello.*?\\band\\b.*?everyone)Hello.*?everyone', str_1)                                                                                                                             \nOut[1927]: &lt;re.Match object; span=(0, 18), match='Hello you everyone'&gt;\n\nIn [1928]: re.search(r'^(?!Hello.*?\\band\\b.*?everyone)Hello.*?everyone', str_2) is None                                                                                                                     \nOut[1928]: True\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 3648510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49cab53b1456d907a0d222854010607b?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey R.", "link": "https://stackoverflow.com/users/3648510/alexey-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 55386488, "answer_count": 1, "score": 0, "last_activity_date": 1553720959, "creation_date": 1553720128, "last_edit_date": 1553720902, "question_id": 55386307, "link": "https://stackoverflow.com/questions/55386307/how-to-match-everything-between-a-and-b-but-dont-cross-boundaries-of-predefined", "title": "How to match everything between A and B but don&#39;t cross boundaries of predefined word", "body": "<p>I need a regular expression so it match everything starting <em>\"Hello\"</em> up to and including <em>\"everyone\"</em>, with any characters in between. In case of <em>'and'</em> found between <em>'Hello'</em> and <em>'everyone'</em> the expression has to fail.</p>\n\n<p>So this string \"Hello you and everyone\" has to fail, but this \"Hello you everyone\" has to match.</p>\n\n<p>I was trying to implement it something like this:</p>\n\n<pre><code>Hello.*?((?!and)){1}everyone\n</code></pre>\n\n<p>but it doesn't fail on <em>and</em></p>\n\n<p><a href=\"https://regex101.com/r/mX51ru/150\" rel=\"nofollow noreferrer\">https://regex101.com/r/mX51ru/150</a></p>\n"}, {"tags": ["python", "machine-learning", "statistics", "kernel", "gaussian"], "comments": [{"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 0, "creation_date": 1553720205, "post_id": 55386254, "comment_id": 97494494, "body": "Have you tried serializing the model with <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow noreferrer\"><code>pickle</code></a>? Did that work? I know pickle doesn&#39;t always work with objects..."}, {"owner": {"reputation": 863, "user_id": 7246047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/13b4a7a1a95ac675dfd54ef2a229d81f?s=128&d=identicon&r=PG&f=1", "display_name": " owise", "link": "https://stackoverflow.com/users/7246047/owise"}, "reply_to_user": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 0, "creation_date": 1553722241, "post_id": 55386254, "comment_id": 97495475, "body": "Yes I tried, but the problem is in Gaussian processes, the model consists of: the kernel, the optimised parameters, and the training data. All of these have to be packed together to make a reusable model. I failed to pickle the kernel"}], "answers": [{"tags": [], "owner": {"reputation": 863, "user_id": 7246047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/13b4a7a1a95ac675dfd54ef2a229d81f?s=128&d=identicon&r=PG&f=1", "display_name": " owise", "link": "https://stackoverflow.com/users/7246047/owise"}, "is_accepted": false, "score": 1, "last_activity_date": 1553803356, "creation_date": 1553803356, "answer_id": 55405996, "question_id": 55386254, "link": "https://stackoverflow.com/questions/55386254/how-to-save-and-load-gaussian-process-for-production/55405996#55405996", "title": "How to save and load Gaussian process for production", "body": "<p>Actually it turned out to be much easier than I thought, we can just pickle as @ Engineero suggested like any other model, interestingly, all needed elements will be automatically pickled including: \nKernel, the optimised Hyperparameters, and the training data:</p>\n\n<pre><code>with open(models_path + \"model_name.dump\" , \"wb\") as f:\n     pickle.dump(m, f)  \n</code></pre>\n\n<p>and then you can simply load it:</p>\n\n<pre><code>model = pickle.load(open(models_path + \"model_name.dump\",\"rb\"))\n</code></pre>\n"}], "owner": {"reputation": 863, "user_id": 7246047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/13b4a7a1a95ac675dfd54ef2a229d81f?s=128&d=identicon&r=PG&f=1", "display_name": " owise", "link": "https://stackoverflow.com/users/7246047/owise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1579145739, "creation_date": 1553719949, "last_edit_date": 1579145739, "question_id": 55386254, "link": "https://stackoverflow.com/questions/55386254/how-to-save-and-load-gaussian-process-for-production", "title": "How to save and load Gaussian process for production", "body": "<p>How can I save and load Gaussian process models created using the <a href=\"http://sheffieldml.github.io/GPy/\" rel=\"nofollow noreferrer\"><code>GPy</code></a> package?</p>\n\n<p>Here's how I define the model and optimize for its parameters:</p>\n\n<pre><code># define kernel\nker =   GPy.kern.Matern52(rescaled_x_train.shape[1],ARD=True) + GPy.kern.White(rescaled_x_train.shape[1]) + \\\n        GPy.kern.Linear(rescaled_x_train.shape[1]) \n\ny_gp = y_train.values.reshape(y_train.shape[0],1)        \nx_gp = rescaled_x_train\n# create a GP model\nm = GPy.models.GPRegression(x_gp, y_gp , ker) \n\nm.optimize(messages=True,max_f_eval = 3000)\n</code></pre>\n\n<p>But I don't know how I can save m in such a way that I can load it to be used for prediction.</p>\n\n<p>I tried the following:</p>\n\n<pre><code># Save the model parameters\nnp.save('gp_params.npy',m.param_array)\nnp.save('gp_y.npy',y_gp)\nnp.save('gp_X.npy',x_gp)\n\n# Load model\ny_load = np.load('gp_y.npy')\nX_load = np.load('gp_X.npy')\ngp_load = GPy.models.GPRegression(X_load, y_load, kernel= ker,\n                                   initialize=True)  \n</code></pre>\n\n<p>However, this loads a model that is different than the one I created originally. Can any one help please?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1553720026, "post_id": 55386244, "comment_id": 97494409, "body": "Remove the <code>items = str(items)</code>."}, {"owner": {"reputation": 91, "user_id": 11251725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0116e3f7d5023d23f0fdcf5ade40fc9f?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris Theodorou", "link": "https://stackoverflow.com/users/11251725/lefteris-theodorou"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1553720192, "post_id": 55386244, "comment_id": 97494482, "body": "output becomes 0"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1553720244, "post_id": 55386244, "comment_id": 97494518, "body": "Okay, let me elaborate... after you&#39;ve removed the <code>items = str(items)</code>, click the question I linked, read it, and apply the solution to your code."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 11251725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0116e3f7d5023d23f0fdcf5ade40fc9f?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris Theodorou", "link": "https://stackoverflow.com/users/11251725/lefteris-theodorou"}, "edited": false, "score": 0, "creation_date": 1553720317, "post_id": 55386287, "comment_id": 97494552, "body": "Thank you! It works now"}], "tags": [], "owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1553720070, "creation_date": 1553720070, "answer_id": 55386287, "question_id": 55386244, "link": "https://stackoverflow.com/questions/55386244/count-words-with-the-letter-w-in-them-but-only-thealmost-done/55386287#55386287", "title": "Count words with the letter &#39;w&#39; in them but only the(almost done)", "body": "<p>Just check if the letter w is in the word.</p>\n\n<pre><code>items = [\"whirring\", \"wow!\", \"calendar\", \"wry\", \"glass\", \"\", \"llama\",\"tumultuous\",\"owing\"]\n\ncount = 0\nfor i in items:\n    if \"w\" in i:\n        count +=1\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 11251725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0116e3f7d5023d23f0fdcf5ade40fc9f?s=128&d=identicon&r=PG&f=1", "display_name": "Lefteris Theodorou", "link": "https://stackoverflow.com/users/11251725/lefteris-theodorou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "closed_date": 1553719972, "answer_count": 1, "score": -2, "last_activity_date": 1553720070, "creation_date": 1553719874, "question_id": 55386244, "link": "https://stackoverflow.com/questions/55386244/count-words-with-the-letter-w-in-them-but-only-thealmost-done", "closed_reason": "Duplicate", "title": "Count words with the letter &#39;w&#39; in them but only the(almost done)", "body": "<p>So the goal is to count the number of words in the sentence with the letter 'w', and I have written the code to count the number of w's but I can't get it to count the words in total. </p>\n\n<pre><code>items = [\"whirring\", \"wow!\", \"calendar\", \"wry\", \"glass\", \"\", \"llama\",\"tumultuous\",\"owing\"]\nitems = str(items)\nacc_num = 0\nfor i in items:\n    if i in ['w']:\n        acc_num += 1\nprint(items)\n</code></pre>\n"}]