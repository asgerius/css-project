[{"tags": ["python", "time-series", "bokeh"], "answers": [{"tags": [], "owner": {"reputation": 666, "user_id": 4374045, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9_DCB-m2ZJ4/AAAAAAAAAAI/AAAAAAAAAF0/C1zCLyBlZIE/photo.jpg?sz=128", "display_name": "Fabio Pliger", "link": "https://stackoverflow.com/users/4374045/fabio-pliger"}, "is_accepted": false, "score": 1, "last_activity_date": 1428916725, "creation_date": 1428916725, "answer_id": 29601792, "question_id": 29527399, "link": "https://stackoverflow.com/questions/29527399/in-bokeh-timeseries-plot-how-do-i-specify-line-width/29601792#29601792", "title": "In Bokeh Timeseries plot, how do I specify line_width?", "body": "<p>This is a good question. As Stack Overflow is not the best place to track improvements and discussions like this I suggest that you open this kind of questions or discussions to the <a href=\"https://groups.google.com/a/continuum.io/forum/?hl=en#!forum/bokeh\" rel=\"nofollow\">bokeh mailing list</a> or <a href=\"https://github.com/bokeh/bokeh/issues\" rel=\"nofollow\">open an issue</a> at the bokeh github project :-)</p>\n\n<p>The idea of adding support to stile Charts in bokeh.charts interface (like TimeSeries, for instance) have emerged a bit during some of the <a href=\"https://github.com/bokeh/bokeh/issues/1373\" rel=\"nofollow\">first discussions</a> regards that interface. But right now (as for bokeh 0.8.2) it's not support yet. I'm sure it can be part of bokeh.charts in a near future but as it's still very experimental we are first focusing on getting that interface \"right\".</p>\n\n<p>The specific part of the charts that handles renderers creation of charts is not exposed so you can't just tell TimeSeries the line width you want but you can create your own TimeSeries builder and factory function that do what you want. Something like this (:</p>\n\n<pre><code>from bokeh.charts._builder import create_and_build\nfrom bokeh.charts.builder.timeseries_builder import TimeSeriesBuilder\nfrom bokeh.models import ColumnDataSource, DataRange1d, GlyphRenderer, Range1d\nfrom bokeh.models.glyphs import Line\nfrom bokeh.charts.utils import chunk, cycle_colors\n\nclass CustomTSBuilder(TimeSeriesBuilder):\n    def _yield_renderers(self):\n        \"\"\"Use the line glyphs to connect the xy points in the time series.\n        Takes reference points from the data loaded at the ColumnDataSource.\n        \"\"\"\n        self._duplet = list(chunk(self._attr, 2))\n        colors = cycle_colors(self._duplet, self.palette)\n\n        for i, (x, y) in enumerate(self._duplet, start=1):\n            glyph = Line(x=x, y=y, line_color=colors[i - 1], line_width=3)\n            renderer = GlyphRenderer(data_source=self._source, glyph=glyph)\n            self._legends.append((self._groups[i-1], [renderer]))\n            yield renderer\n\ndef CustomTimeSeries(values, index=None, xscale='datetime', **kws):\n    return create_and_build(\n        CustomTSBuilder, values, index=index, xscale=xscale, **kws\n    )\n</code></pre>\n\n<p>NOTE: Please note that this code works with current release but may not be support in future dev or official releases.</p>\n"}], "owner": {"reputation": 23, "user_id": 4756610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2689b814d1cae4470d4e310e7194a41?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/4756610/rakesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428916725, "creation_date": 1428537589, "question_id": 29527399, "link": "https://stackoverflow.com/questions/29527399/in-bokeh-timeseries-plot-how-do-i-specify-line-width", "title": "In Bokeh Timeseries plot, how do I specify line_width?", "body": "<pre><code>    ts1 = TimeSeries(\n        xyvalues1, index='Time', legend=True,\n        title=\"RSSI and PER\", tools=TOOLS, xscale='datetime', xlabel = 'time', ylabel='Rx Power (dB)', width = 1800, height = 300)\n\n\n    ts2 = TimeSeries(\n        xyvalues2, index='Time', legend=True,\n        title=\"EVM\", tools = TOOLS, xscale='datetime', xlabel = 'time', ylabel='EVM (dB)', width = 1800, height= 300)\n    ts2.x_range = ts1.x_range\n    ts2.y_range = ts1.y_range\n</code></pre>\n\n<p>In the above code, how do I specify line width for ts1 and ts2?</p>\n"}, {"tags": ["jquery", "python", "html", "flask-login", "flask-restful"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 4598058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cf6ef48ef1aafbcb73009cdafe1d14e?s=128&d=identicon&r=PG&f=1", "display_name": "kaio", "link": "https://stackoverflow.com/users/4598058/kaio"}, "edited": false, "score": 0, "creation_date": 1428688794, "post_id": 29527556, "comment_id": 47285200, "body": "Leonvich is what I have to change the .js file as you said or how I can do to make the call from another page can succeed. thanks"}, {"owner": {"reputation": 55, "user_id": 3183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daa038dc3373d3c6b2ca74ed7af6dc93?s=128&d=identicon&r=PG", "display_name": "Maxim Leonovich", "link": "https://stackoverflow.com/users/3183466/maxim-leonovich"}, "reply_to_user": {"reputation": 131, "user_id": 4598058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cf6ef48ef1aafbcb73009cdafe1d14e?s=128&d=identicon&r=PG&f=1", "display_name": "kaio", "link": "https://stackoverflow.com/users/4598058/kaio"}, "edited": false, "score": 0, "creation_date": 1428690603, "post_id": 29527556, "comment_id": 47286159, "body": "I tried to say that if you use AJAX to make a call, it does NOT refresh the current page in browser. It only retrieves the HTTP response from your server and gives you access to it in your <code>success</code> and <code>error</code> functions.  So, if you just make an AJAX call, you&#39;ll not see any changes on the page. You should perform them explicitly in your <code>success</code> callback by writing some JS code. And as I said, HTML response is not a best format for passing data via AJAX, in this case it&#39;s better to use JSON or XML."}], "tags": [], "owner": {"reputation": 55, "user_id": 3183466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daa038dc3373d3c6b2ca74ed7af6dc93?s=128&d=identicon&r=PG", "display_name": "Maxim Leonovich", "link": "https://stackoverflow.com/users/3183466/maxim-leonovich"}, "is_accepted": false, "score": 0, "last_activity_date": 1428538620, "creation_date": 1428538620, "answer_id": 29527556, "question_id": 29527340, "link": "https://stackoverflow.com/questions/29527340/how-switching-to-another-web-page-jquery-flask/29527556#29527556", "title": "How switching to another web page jquery flask", "body": "<p>As far as I understand the question, you shouldn't use AJAX here.\nWhen using AJAX you will not be redirected to a new page rendered by</p>\n\n<pre><code>@APP.route('/loginuser', methods=['POST'])\ndef login():\n   ...\n</code></pre>\n\n<p>You will rather get this page in AJAX response and can access it in your <code>success</code> callback (first parameter).</p>\n\n<p>If you want to go with AJAX here, you should change your <code>login</code> response to something, that can be conveniently consumed by JavaScript, for example JSON response, that contains login attempt result. Something like</p>\n\n<pre><code>{\n    \"result\": \"success\",\n    \"details\": \"User has been successfully logged in\"\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{\n    \"result\": \"error\",\n    \"details\": \"Login or password is incorrect\"\n}\n</code></pre>\n\n<p>You should return this JSON instead of your login form template</p>\n\n<p>(instead of this)</p>\n\n<pre><code>         return render_template('login1.html', error=error)\n</code></pre>\n\n<p>Then parse it in your success/error callback and make a decision on how to display this information to the user.</p>\n\n<pre><code>$(function(){\n    $('submit').click(function(){\n\n                var user = $('#txtUsername').val();\n        var pass = $('#txtPassword').val();\n        $.ajax({\n            url: '/loginuser',\n            data: $('form').serialize(),\n            type: 'POST',\n            dataType: 'json',\n            success: function(response){\n                if (response.result == \"success\") {\n                    alert(\"You have been logged in!\");\n                } else {\n                    alert(result.details);\n                    // You can do something much more complex than 'alert' here\n                    // E.g, you can add a DOM element with an error message\n                }\n            },\n            error: function(error){\n                console.log(error);\n            }\n        });\n    });\n});\n</code></pre>\n\n<p>Sorry, but I could not understand your second question...</p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 4598058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cf6ef48ef1aafbcb73009cdafe1d14e?s=128&d=identicon&r=PG&f=1", "display_name": "kaio", "link": "https://stackoverflow.com/users/4598058/kaio"}, "edited": false, "score": 0, "creation_date": 1428655064, "post_id": 29527763, "comment_id": 47264147, "body": "I add id to the button but I can&#39;t switch to anaother page.@gopiariv"}], "tags": [], "owner": {"reputation": 394, "user_id": 2213010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb3912f45bad3e5fbf998f860a968a4?s=128&d=identicon&r=PG", "display_name": "gopiariv", "link": "https://stackoverflow.com/users/2213010/gopiariv"}, "is_accepted": false, "score": 0, "last_activity_date": 1428540262, "last_edit_date": 1428540262, "creation_date": 1428539860, "answer_id": 29527763, "question_id": 29527340, "link": "https://stackoverflow.com/questions/29527340/how-switching-to-another-web-page-jquery-flask/29527763#29527763", "title": "How switching to another web page jquery flask", "body": "<p>Well, you cannot select an element just by attribute only. The ajax function is not called. Give the submit button an id and it will work.</p>\n\n<p>For example:</p>\n\n<p>change this line</p>\n\n<pre><code>&lt;input class=\"btn btn-default\" type=\"submit\" value=\"Login\"&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;input class=\"btn btn-default\" id = \"submitButton\" type=\"submit\" value=\"Login\"&gt;\n</code></pre>\n\n<p>and \nthe javascript to </p>\n\n<pre><code> $('#submitButton').click(function(){.... });\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 4598058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cf6ef48ef1aafbcb73009cdafe1d14e?s=128&d=identicon&r=PG&f=1", "display_name": "kaio", "link": "https://stackoverflow.com/users/4598058/kaio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1126, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1428540262, "creation_date": 1428537269, "last_edit_date": 1428537584, "question_id": 29527340, "link": "https://stackoverflow.com/questions/29527340/how-switching-to-another-web-page-jquery-flask", "title": "How switching to another web page jquery flask", "body": "<p>I made a script that allows a user to login I used python flask microframework jquery but the problem that if I filled the fields user and password it will not have a passage to another page which I have already specified in the method if the data are loginuser correctent. And the second problem is the appraition data in the url.</p>\n\n<p>login1.html</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;!--[if (gte IE 9)|!(IE)]&gt;&lt;!--&gt; &lt;html lang=\"en\"&gt; &lt;!--&lt;![endif]--&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;title&gt;login&lt;/title&gt;\n&lt;link href=\"static/css/style.css\" rel=\"stylesheet\"&gt;\n&lt;script src=\"static/js/jquery-1.9.0.js\"&gt;&lt;/script&gt;\n&lt;script src=\"static/js/script.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"container\"&gt;\n    &lt;section id=\"content\"&gt;\n        &lt;form class=\"form-signin\" role=\"form\"&gt;\n            &lt;h1&gt;Login Form&lt;/h1&gt;\n            &lt;div&gt; \n\n                &lt;input type=\"text\" id=\"txtUsername\" placeholder=\"Username\" name=\"username\"  required autofocus&gt;\n                                &lt;input type=\"password\" id=\"txtPassword\" placeholder=\"Password\" name=\"password\" required autofocus&gt;\n                               &lt;input class=\"btn btn-default\" type=\"submit\" value=\"Login\"&gt;\n\n                      &lt;/div&gt;\n        &lt;/form&gt;&lt;!-- form --&gt;\n        {% if error %}\n                    &lt;p class=\"error\"&gt;&lt;strong&gt;Error:&lt;/strong&gt; {{ error }}\n                {% endif %}\n    &lt;/section&gt;&lt;!-- content --&gt;\n\n&lt;/div&gt;&lt;!-- container --&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(function(){\n    $('submit').click(function(){\n\n                var user = $('#txtUsername').val();\n        var pass = $('#txtPassword').val();\n        $.ajax({\n            url: '/loginuser',\n            data: $('form').serialize(),\n            type: 'POST',\n            success: function(response){\n                console.log(response);\n            },\n            error: function(error){\n                console.log(error);\n            }\n        });\n    });\n});\n</code></pre>\n\n<p>this script.js.\nand app.py</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>@APP.route('/login')\ndef login1():\n\n      return render_template('login1.html')\n\n\n# route for handling the login page logic\n\n@APP.route('/loginuser', methods=['POST'])\ndef login():\n\n    error = None\n    con = mdb.connect('localhost','testuser', 'test623', 'secure')\n    #con= mdb.connect(host=\"x.x.x.x\", port=3306, passwd=\"root\", db=\"se\")\n    cur = con.cursor()\n    cur.execute(\"SELECT * FROM ADMIN\")\n    rows = cur.fetchall()\n    login=False\n    ########recuperer la liste des admin de la BD ADMIN\n    for row in rows:\n             if request.form['username'] == row[0] and  request.form['password'] == row[1]:\n                login=True\n\n\n    con.close\n    if login ==False:\n             error = 'Invalid Credentials. Please try again.'\n             return render_template('login1.html', error=error)\n\n    else:\n             return render_template('mon.html', error=error)\n</code></pre>\n"}, {"tags": ["python", "subprocess", "ping", "typeerror", "popen"], "answers": [{"comments": [{"owner": {"reputation": 1318, "user_id": 681386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cfb1123454445ce441a57b02bfcdd761?s=128&d=identicon&r=PG&f=1", "display_name": "linus72982", "link": "https://stackoverflow.com/users/681386/linus72982"}, "edited": false, "score": 0, "creation_date": 1428538247, "post_id": 29527404, "comment_id": 47209184, "body": "Rookie mistake -- thanks.  I have got to remember that .append changes the list in place, I always mix-up which command do things in-place and which give you a copy."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 4, "last_activity_date": 1428537624, "creation_date": 1428537624, "answer_id": 29527404, "question_id": 29527325, "link": "https://stackoverflow.com/questions/29527325/python-subprocess-popen-and-call-same-error-none-type-not-iterable/29527404#29527404", "title": "Python -- subprocess popen and call same error -- none type not iterable?", "body": "<p>You have this:</p>\n\n<pre><code>MODETECT_SWITCH_COMMAND = [\"zmpkg.pl\"]\n</code></pre>\n\n<p>And when you do this:</p>\n\n<pre><code>command = genConfig.MODETECT_SWITCH_COMMAND.append(state)\n</code></pre>\n\n<p>You are assigning to <code>command</code> the output of a <code>list.append</code> call, which operates in place and returns <code>None</code>.  </p>\n\n<p>That is, it looks like you are assigning <code>command = None</code>.  </p>\n\n<p><code>subprocess</code> module is confused because it expects the first positional argument to be an iterable, not <code>None</code>.  </p>\n"}], "owner": {"reputation": 1318, "user_id": 681386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cfb1123454445ce441a57b02bfcdd761?s=128&d=identicon&r=PG&f=1", "display_name": "linus72982", "link": "https://stackoverflow.com/users/681386/linus72982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1687, "favorite_count": 0, "accepted_answer_id": 29527404, "answer_count": 1, "score": 2, "last_activity_date": 1428537624, "creation_date": 1428537192, "question_id": 29527325, "link": "https://stackoverflow.com/questions/29527325/python-subprocess-popen-and-call-same-error-none-type-not-iterable", "title": "Python -- subprocess popen and call same error -- none type not iterable?", "body": "<p>I was using os.system for shell commands until I discovered it's deprecated.  So I am trying to switch to using subprocess.  Here are my uses:</p>\n\n<pre><code>command = genConfig.MODETECT_SWITCH_COMMAND.append(state)\nsubprocess.Popen(command, stdout=subprocess.PIPE).communicate()[0]\n</code></pre>\n\n<p>MODETECT_SWITCH_COMMAND = [\"zmpkg.pl\"]</p>\n\n<p>and some regular pings:</p>\n\n<pre><code>command = genConfig.PING_COMMAND.append(host)\nresponse = subprocess.Popen(command, stdout=subprocess.PIPE).communicate()[0]\nif \"unreachable\" in response or \"timed out\" in response:\n    response = False\nelse:\n    response = True\n    break\n</code></pre>\n\n<p>PING_COMMAND = [\"ping\", \"-c 1 -W 1\"]</p>\n\n<p>Everywhere I do these things, I get this error:</p>\n\n<pre><code>...tracebacks...\n  File \"/usr/lib/python2.7/subprocess.py\", line 1198, in _execute_child\n    args = list(args)\nTypeError: 'NoneType' object is not iterable\n</code></pre>\n\n<p>And I can't figure out why.  I've rechecked my use of subprocess.popen multiple places and it seems to be correct.  What might I be doing incorrectly?  Thanks.</p>\n"}, {"tags": ["python", "http", "loops", "for-loop"], "comments": [{"owner": {"reputation": 2343, "user_id": 1686094, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Krdn2.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1686094/aaron"}, "edited": false, "score": 0, "creation_date": 1428537084, "post_id": 29527284, "comment_id": 47208879, "body": "Do you want to remove everything after the first occurrence of <code>http:&#47;&#47;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "edited": false, "score": 0, "creation_date": 1428539531, "post_id": 29527618, "comment_id": 47209488, "body": "That&#39;s very smart! Thank you so much!"}, {"owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "edited": false, "score": 0, "creation_date": 1428541271, "post_id": 29527618, "comment_id": 47209977, "body": "Actually now I have another problem, I was trying to put it in a for loop, because indeed I have a list of tweets."}, {"owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "edited": false, "score": 0, "creation_date": 1428541807, "post_id": 29527618, "comment_id": 47210154, "body": "I tried to put it into a for loop, but did not work. I posted my current code above.. I am sorry that I couldn&#39;t make it work"}], "tags": [], "owner": {"reputation": 2343, "user_id": 1686094, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Krdn2.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1686094/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1428539042, "creation_date": 1428539042, "answer_id": 29527618, "question_id": 29527284, "link": "https://stackoverflow.com/questions/29527284/python-remove-http-hyperlink/29527618#29527618", "title": "python remove http hyperlink", "body": "<p>You can find the position where <code>http://</code> is , and then slice it.</p>\n\n<pre><code>post = \"Reform health care to serve patients, not corporate medicine http://t.co/WMKJKU4hl7 @PNHP #SinglePayerSunday http://t.co/i4bNrruUNS\"\nposition = post.index('http://')\nprint post[:position]\n</code></pre>\n\n<p>result</p>\n\n<pre><code>Reform health care to serve patients, not corporate medicine \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "is_accepted": false, "score": 0, "last_activity_date": 1428542196, "creation_date": 1428542196, "answer_id": 29528083, "question_id": 29527284, "link": "https://stackoverflow.com/questions/29527284/python-remove-http-hyperlink/29528083#29528083", "title": "python remove http hyperlink", "body": "<p>Oh, very small mistake... I corrected it... Thanks guys!</p>\n\n<pre><code>'finaldata=[]\nfor i in range(len(cleandata)):\n    if 'http://' in cleandata[i]:\n        post = cleandata[i]\n        position = post.index('http://')\n        finaldata.append(post[:position])\n    else:\n        finaldata.append(cleandata[i])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 4574028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07310192a84b7bd42c25387f8a3e6d3d?s=128&d=identicon&r=PG&f=1", "display_name": "jh liu", "link": "https://stackoverflow.com/users/4574028/jh-liu"}, "is_accepted": false, "score": 1, "last_activity_date": 1428571573, "creation_date": 1428571573, "answer_id": 29534647, "question_id": 29527284, "link": "https://stackoverflow.com/questions/29527284/python-remove-http-hyperlink/29534647#29534647", "title": "python remove http hyperlink", "body": "<p>You could try to use <code>re</code></p>\n\n<pre><code>import re\npost = \"Reform health care to serve patients, not corporate medicine http://t.co/WMKJKU4hl7 @PNHP #SinglePayerSunday http://t.co/i4bNrruUNS\"\nprint re.sub(r'http://.*','',post)\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1428571573, "creation_date": 1428536919, "last_edit_date": 1428541730, "question_id": 29527284, "link": "https://stackoverflow.com/questions/29527284/python-remove-http-hyperlink", "title": "python remove http hyperlink", "body": "<p>I would like to remove hyperlinks from my tweets\nFor instance:\nI have: \"Reform health care to serve patients, not corporate medicine \n    <a href=\"http://t.co/WMKJKU4hl7\">http://t.co/WMKJKU4hl7</a> @PNHP #SinglePayerSunday <a href=\"http://t.co/i4bNrruUNS\">http://t.co/i4bNrruUNS</a>\"\nBut I want to get:\"Reform health care to serve patients, not corporate medicine\"\nHow could it be possible?\nThanks ahead!</p>\n\n<p>Upon the suggestions, I rewrite the code for my whole list of tweets. I wrote a for loop, but did not work:</p>\n\n<p>I tried this one, because I have a list of tweets., but did not work for the </p>\n\n<p><code>for i in range(len(cleandata)):\n    finaldata=[]\n    if 'http://' in cleandata[i]:\n        post = cleandata[i]\n        position = post.index('http://')\n        finaldata.append(post[:position])\n    else:\n        finaldata.append(cleandata[i])</code>\ncleandata is my tweet list\nDo you guys have any idea?</p>\n"}, {"tags": ["python", "web-scraping"], "answers": [{"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 1, "last_activity_date": 1428537987, "creation_date": 1428537987, "answer_id": 29527447, "question_id": 29527246, "link": "https://stackoverflow.com/questions/29527246/keyerror-and-typeerror-in-my-python-web-scraper/29527447#29527447", "title": "KeyError and TypeError in my python web scraper", "body": "<p>The issue is that you're using the variable <code>i</code> in more than one place.</p>\n\n<p>Near the top of the file, you do:</p>\n\n<pre><code>for i in regions:\n</code></pre>\n\n<p>So, in some places <code>i</code> is expected to be a key into the <code>regions</code> dictionary.</p>\n\n<p>The trouble comes when you use it again later. You do so in two places:</p>\n\n<pre><code>for i in page_info.find_all('a',re.compile('elt')):\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>for i in range(1,max_page):\n</code></pre>\n\n<p>The second of these is what is causing your exceptions, as the integer values that get assigned to <code>i</code> don't appear in the <code>regions</code> dict (nor can an integer be added to a string).</p>\n\n<p>I suggest renaming some or all of those variables. Give them meaningful names, if possible (<code>i</code> is perhaps acceptable for an \"index\" variable, but I'd avoid using it for anything else unless you're code golfing).</p>\n"}], "owner": {"reputation": 25, "user_id": 4317482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e69a1699956b8823846f6b43adaeea?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4317482/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 29527447, "answer_count": 1, "score": 0, "last_activity_date": 1428537987, "creation_date": 1428536668, "question_id": 29527246, "link": "https://stackoverflow.com/questions/29527246/keyerror-and-typeerror-in-my-python-web-scraper", "title": "KeyError and TypeError in my python web scraper", "body": "<p>So sorry about this vague and confusing title. But there is no really better way for me to summarize my problem in one sentence. </p>\n\n<p>I was trying to get the student and grade information from a french website. The link is this (<a href=\"http://www.bankexam.fr/resultat/2014/BACCALAUREAT/AMIENS?filiere=BACS\" rel=\"nofollow\">http://www.bankexam.fr/resultat/2014/BACCALAUREAT/AMIENS?filiere=BACS</a>) </p>\n\n<p>My code is as follows:</p>\n\n<pre><code>import time\nimport urllib2\nfrom bs4 import BeautifulSoup\nregions = {'R\\xc3\\xa9sultats Bac Amiens 2014':'/resultat/2014/BACCALAUREAT/AMIENS'}\nbase_url = 'http://www.bankexam.fr'\ntests = {'es':'?filiere=BACES','s':'?filiere=BACS','l':'?filiere=BACL'}\nfor i in regions:\n    for x in tests:\n        # create the output file\n        output_file = open('/Users/student project/'+ i + '_' + x + '.txt','a')\n        time.sleep(2) #compassionate scraping\n        section_url = base_url + regions[i] + tests[x]  #now goes to the x test page of region i \n        request = urllib2.Request(section_url)\n        response = urllib2.urlopen(request)\n        soup = BeautifulSoup(response,'html.parser')\n        content = soup.find('div',id='zone_res')\n        for row in content.find_all('tr'):\n            if row.td:\n                student = row.find_all('td')\n                name = student[0].strong.string.encode('utf8').strip()\n                try:\n                    school = student[1].strong.string.encode('utf8')\n                except AttributeError:\n                    school = 'NA'\n                result = student[2].span.string.encode('utf8')\n                output_file.write ('%s|%s|%s\\n' % (name,school,result))\n        # Find the maximum pages to go through\n        if soup.find('div','pagination'): \n            import re\n            page_info = soup.find('div','pagination')\n            pages = []\n            for i in page_info.find_all('a',re.compile('elt')):\n                try:\n                    pages.append(int(i.string.encode('utf8')))\n                except ValueError:\n                    continue\n            max_page = max(pages)\n            # Now goes through page 2 to max page\n            for i in range(1,max_page):\n                page_url = '&amp;p='+str(i)+'#anchor'\n                section2_url = section_url+page_url\n                request = urllib2.Request(section2_url)\n                response = urllib2.urlopen(request)\n                soup = BeautifulSoup(response,'html.parser')\n                content = soup.find('div',id='zone_res')\n                for row in content.find_all('tr'):\n                    if row.td:\n                        student = row.find_all('td')\n                        name = student[0].strong.string.encode('utf8').strip()\n                        try:\n                            school = student[1].strong.string.encode('utf8')\n                        except AttributeError:\n                            school = 'NA'\n                        result = student[2].span.string.encode('utf8')\n                        output_file.write ('%s|%s|%s\\n' % (name,school,result))\n</code></pre>\n\n<p>A little more description about the code:\nI created a 'regions' dictionary and 'tests' dictionary because there are 30 other regions I need to collect and I just include one here for showcase. And I'm just interested in the test results of three tests (ES, S, L) and so I created this 'tests' dictionary.</p>\n\n<p>Two errors keep showing up, \none is  </p>\n\n<pre><code>KeyError: 2\n</code></pre>\n\n<p>and the error is linked to line 12, </p>\n\n<pre><code>section_url = base_url + regions[i] + tests[x]\n</code></pre>\n\n<p>The other is </p>\n\n<pre><code>TypeError: cannot concatenate 'str' and 'int' objects\n</code></pre>\n\n<p>and this is linked to line 10.</p>\n\n<p>I know there is a lot of information here and I'm probably not listing the most important info for you to help me. But let me know how I can do to fix this!\nThanks</p>\n"}, {"tags": ["python", "google-app-engine", "google-cloud-datastore", "app-engine-ndb"], "comments": [{"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "edited": false, "score": 0, "creation_date": 1428555017, "post_id": 29527165, "comment_id": 47213678, "body": "I&#39;m not sure I follow why you want to change the property&#39;s name in NDB, but still use the old one in code. Are you planning to use the old name for something else? Or is it just a bad name? Maybe understanding this helps us help you :)"}, {"owner": {"reputation": 498, "user_id": 4766483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/331420ff8dbf2f78729bb2a77dc1faa4?s=128&d=identicon&r=PG&f=1", "display_name": "TJ1S", "link": "https://stackoverflow.com/users/4766483/tj1s"}, "reply_to_user": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "edited": false, "score": 0, "creation_date": 1428595206, "post_id": 29527165, "comment_id": 47238531, "body": "From my understanding, the model is saved in ndb with the field &quot;company&quot;. In my app, I occasionally get and set company in the model, but I wanted to add some checking before setting it, and I thought it would be convenient to do some of that with a property setter. However, that would either require other bits of the code to access it with a different name, or I could change the field name within the model and let others access it the same way. I was seeing if I could preserve the fieldname and maintain it in the model."}, {"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "edited": false, "score": 0, "creation_date": 1428605806, "post_id": 29527165, "comment_id": 47244894, "body": "If you are doing &quot;checking&quot;, you might want to use a validator, which allows you to validate and/or coerce the values before setting them... Search for validator here: <a href=\"https://cloud.google.com/appengine/docs/python/ndb/properties\" rel=\"nofollow noreferrer\">cloud.google.com/appengine/docs/python/ndb/properties</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": true, "score": 2, "last_activity_date": 1428536750, "creation_date": 1428536750, "answer_id": 29527260, "question_id": 29527165, "link": "https://stackoverflow.com/questions/29527165/proper-way-to-migrate-ndb-model-property/29527260#29527260", "title": "Proper way to migrate NDB model property", "body": "<p>From my understanding of <code>ndb</code>, the property names are stored in the database along with their contents for every entity.  You would have to rewrite every entity with the new property name (and without the old one).</p>\n\n<p>Since that is not pain-free, maybe you could choose other names for your getter and setter like <code>get_company</code> and <code>set_company</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5449, "user_id": 130221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qvjrm.jpg?s=128&g=1", "display_name": "Nick Franceschina", "link": "https://stackoverflow.com/users/130221/nick-franceschina"}, "is_accepted": false, "score": 8, "last_activity_date": 1485275353, "last_edit_date": 1485275353, "creation_date": 1428692154, "answer_id": 29568772, "question_id": 29527165, "link": "https://stackoverflow.com/questions/29527165/proper-way-to-migrate-ndb-model-property/29568772#29568772", "title": "Proper way to migrate NDB model property", "body": "<p>you can change the class-level property name while keeping the underlying NDB property name by specifying the <strong>name=\"xx\"</strong> param in the Property() constructor</p>\n\n<p>so something like this could be done:</p>\n\n<pre><code>class User(ndb.Model):\n  company_   = ndb.KeyProperty(name=\"company\", repeated=True)\n\n  @property\n  def company(self):\n    return self.company_\n\n  @company.setter\n  def company(self, new_company):\n    self.company_ = new_company\n</code></pre>\n\n<p>so now anytime you access <strong>.company_</strong> NDB will actually set/get <strong>\"company\"</strong> internally... and you don't have to do any data migrations</p>\n"}], "owner": {"reputation": 498, "user_id": 4766483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/331420ff8dbf2f78729bb2a77dc1faa4?s=128&d=identicon&r=PG&f=1", "display_name": "TJ1S", "link": "https://stackoverflow.com/users/4766483/tj1s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "accepted_answer_id": 29527260, "answer_count": 2, "score": 4, "last_activity_date": 1485275353, "creation_date": 1428536092, "last_edit_date": 1482952990, "question_id": 29527165, "link": "https://stackoverflow.com/questions/29527165/proper-way-to-migrate-ndb-model-property", "title": "Proper way to migrate NDB model property", "body": "<p>I currently have a model in NDB and I'd like to change the property name without necessarily touching NBD. Let's say I have the following:</p>\n\n<pre><code>from google.appengine.ext import ndb\n\nclass User(ndb.Model):\n  company = ndb.KeyProperty(repeated=True)\n</code></pre>\n\n<p>What I would like to have is something more like this:</p>\n\n<pre><code>class User(ndb.Model):\n  company_   = ndb.KeyProperty(repeated=True)\n\n@property\ndef company(self):\n   return '42'\n\n@company.setter\ndef company(self, new_company):\n    #set company here\n</code></pre>\n\n<p>Is there a relatively pain-free way to do so? I'd like the convienance of using property getter/setters, but given the current implementation I would like to avoid touching the underlying datastore.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 5183, "user_id": 3155195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96fb82a06f0a269039e913211ac44fcd?s=128&d=identicon&r=PG&f=1", "display_name": "zehnpaard", "link": "https://stackoverflow.com/users/3155195/zehnpaard"}, "is_accepted": true, "score": 2, "last_activity_date": 1428542003, "creation_date": 1428542003, "answer_id": 29528051, "question_id": 29527161, "link": "https://stackoverflow.com/questions/29527161/counting-live-neighbors-in-conways-game-of-life-not-working/29528051#29528051", "title": "Counting live neighbors in conway&#39;s game of life not working", "body": "<p>You're checking equality instead of assigning in this part of your <code>nextIteration</code> function:</p>\n\n<pre><code>        if newBoard[row][column] == \"X\":\n            if liveNeighbors &lt; 2 or liveNeighbors &gt; 3:\n                board[row][column] == \"0\" # Here\n        if newBoard[row][column] == \"0\":\n            if liveNeighbors == \"3\":\n                board[row][column] == \"X\" # And here\n</code></pre>\n\n<p><code>board[row][column] == \"0\"</code> should be <code>board[row][column] = \"0\"</code> etc.  Currently the line evaluates to <code>True</code>, and then that value is immediately discarded, and no state change occurs.</p>\n"}], "owner": {"reputation": 142, "user_id": 4602873, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8bb8fa75ff44794baef36cddd80c3ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Johnson", "link": "https://stackoverflow.com/users/4602873/zach-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1724, "favorite_count": 0, "accepted_answer_id": 29528051, "answer_count": 1, "score": 2, "last_activity_date": 1428542003, "creation_date": 1428536072, "question_id": 29527161, "link": "https://stackoverflow.com/questions/29527161/counting-live-neighbors-in-conways-game-of-life-not-working", "title": "Counting live neighbors in conway&#39;s game of life not working", "body": "<p>So I am creating conway's game of life in python. The rules are</p>\n\n<p>Any live cell with fewer than two live neighbours dies\nAny live cell with two or three live neighbours lives on to the next generation.\nAny live cell with more than three live neighbours dies.\nAny dead cell with exactly three live neighbours becomes a live cell.</p>\n\n<p>I can't figure out why first of all, my liveNeighbors counter is printing wrong sometimes, and also the board never changes. </p>\n\n<pre><code>def nextIteration(board):    \n    newBoard =[]\n    for i in board:\n        tempList = []\n        for j in i:\n            tempList.append(j)\n        newBoard.append(tempList)\n    print(newBoard)\n    for row in range(len(newBoard)):\n        for column in range(len(newBoard[row])):\n            liveNeighbors = 0\n            if (row - 1 &gt;= 0) and (column - 1 &gt;= 0):\n                if newBoard[row - 1][column - 1] == \"X\":\n                    liveNeighbors += 1\n            if (row - 1 &gt;= 0):\n                if newBoard[row - 1][column] == \"X\":\n                    liveNeighbors += 1\n            if (row - 1 &gt;= 0) and (column + 1 &lt; len(newBoard[row])):\n                if newBoard[row - 1][column + 1] == \"X\":\n                    liveNeighbors += 1\n            if (column - 1 &gt;= 0):\n                if newBoard[row][column - 1] == \"X\":\n                    liveNeighbors += 1\n            if (column + 1) &lt; len(newBoard[row]):\n                 if newBoard[row][column + 1] == \"X\":\n                    liveNeighbors += 1\n            if (row + 1) &lt; len(newBoard[row]):\n                if newBoard[row + 1][column - 1] == \"X\":\n                    liveNeighbors += 1\n            if (row + 1 &lt; len(newBoard[row])):\n                if newBoard[row + 1][column] == \"X\":\n                    liveNeighbors += 1\n            if (row + 1 &lt; len(newBoard[row]) and column + 1 &lt; len(newBoard[row])):\n                if newBoard[row + 1][column + 1] == \"X\":\n                    liveNeighbors += 1\n            if newBoard[row][column] == \"X\":\n                if liveNeighbors &lt; 2 or liveNeighbors &gt; 3:\n                    board[row][column] == \"0\"\n            if newBoard[row][column] == \"0\":\n                if liveNeighbors == \"3\":\n                    board[row][column] == \"X\"\n            print(liveNeighbors, end=\"\")\n            print()\n    return board\n\n\ndef printBoard(board):\n   for row in board:\n       for item in row:\n           print(item, end=\"\")\n       print()\n\n\ndef main():\n    rows = input(\"Please enter number of rows: \")\n    columns = input(\"Please enter number of columns: \")\n    print()\n    cellRow = 0\n    cellRows = []\n    cellColumns = []\n    total = 0\n    #the cellRow and cellColumn will contain all of the inputted rows                                                        \n    #and columns connected by the index value                                                                                \n    while cellRow != \"q\":\n        cellRow = input(\"Please enter the row of a cell to turn on (or q to exit): \")\n        if cellRow != \"q\":\n                cellColumn = input(\"Please enter a column for that cell: \")\n                cellRows.append(cellRow)\n                cellColumns.append(cellColumn)\n                total = total + 1\n                print()\n        else:\n            print()\n    board = []\n    #boardTemp will hold a list that contains one row of the entire board                                                    \n    boardTemp = []\n    for i in range(int(rows)):\n        boardTemp.append(\"0\")\n    for i in range(int(columns)):\n        board.append(boardTemp[:])\n    for i in range(total):\n        temp = i\n        board[int(cellRows[temp - 1])][int(cellColumns[temp - 1])] = \"X\"\n    iterations = input(\"How many iterations should I run? \")\n    print()\n    print(\"Starting Board:\")\n    print()\n    printBoard(board)\n    iterationNumber = 1\n    for i in range(int(iterations)):\n        board = nextIteration(board)\n        print(\"Iteration\", iterationNumber,\":\")\n        printBoard(board)\n        iterationNumber += 1\nmain()\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Please enter number of rows: 5\nPlease enter number of columns: 5\n\nPlease enter the row of a cell to turn on (or q to exit): 3\nPlease enter a column for that cell: 3\n\nPlease enter the row of a cell to turn on (or q to exit): 2\nPlease enter a column for that cell: 3\n\nPlease enter the row of a cell to turn on (or q to exit): 4\nPlease enter a column for that cell: 3\n\nPlease enter the row of a cell to turn on (or q to exit): q\n\nHow many iterations should I run? 1\n\nStarting Board:\n\n00000\n00000\n000X0\n000X0\n000X0\n[['0', '0', '0', '0', '0'], ['0', '0', '0', '0', '0'], ['0', '0', '0', 'X', '0'], ['0', '0', '0', 'X', '0'], ['0', '0', '0', 'X', '0']]\n0\n0\n0\n0\n0\n0\n0\n1\n1\n1\n0\n0\n2\n1\n2\n0\n0\n3\n2\n3\n0\n0\n2\n1\n2\nIteration 1 :\n00000\n00000\n000X0\n000X0\n</code></pre>\n"}, {"tags": ["python", "numbers", "repeat"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4032728, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100007535015724/picture?type=large", "display_name": "Erwy Lionel", "link": "https://stackoverflow.com/users/4032728/erwy-lionel"}, "edited": false, "score": 0, "creation_date": 1428536409, "post_id": 29527180, "comment_id": 47208650, "body": "is it possible to do it without .join?"}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "reply_to_user": {"reputation": 51, "user_id": 4032728, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100007535015724/picture?type=large", "display_name": "Erwy Lionel", "link": "https://stackoverflow.com/users/4032728/erwy-lionel"}, "edited": false, "score": 0, "creation_date": 1428536470, "post_id": 29527180, "comment_id": 47208673, "body": "Well, it&#39;s more extensible if you later decide you want it comma separated and what not, but yes. See @Joran Beasley&#39;s answer. I&#39;ll edit to let you know what I mean."}], "tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": false, "score": 1, "last_activity_date": 1428536523, "last_edit_date": 1428536523, "creation_date": 1428536240, "answer_id": 29527180, "question_id": 29527150, "link": "https://stackoverflow.com/questions/29527150/repeat-a-number-3-times-for-output/29527180#29527180", "title": "Repeat a number 3 times for output", "body": "<p>You can use a simple <code>str.join</code> for this, and create a general function:</p>\n\n<pre><code>def repeat(something, times, separator):\n    return separator.join([str(something) for _ in range(times)])\n</code></pre>\n\n<p>And now use it to create your specific function:</p>\n\n<pre><code>def repeat_three_times(something):\n    return repeat(something, 3, '')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&gt;&gt;&gt; repeat_three_times(1)\n'111'\n</code></pre>\n\n<p>Few things to note:</p>\n\n<ol>\n<li>I've used <code>str</code> to cast the expected integer to a string</li>\n<li>I've used a list comprehension to create an iterable which is what <code>str.join</code> expects</li>\n<li>I've used <code>str.join</code> to create a string which is a concatenation of the strings in the list (see 2).</li>\n</ol>\n\n<p>Here is an example of using the more general function in a different way:</p>\n\n<pre><code>&gt;&gt;&gt; repeat(1, 4, ',')\n'1,1,1,1'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1428536390, "creation_date": 1428536390, "answer_id": 29527213, "question_id": 29527150, "link": "https://stackoverflow.com/questions/29527150/repeat-a-number-3-times-for-output/29527213#29527213", "title": "Repeat a number 3 times for output", "body": "<pre><code>def repeat_number3(a):\n    return str(a)*3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4371, "user_id": 2058270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a06931a6743fd9dd7c881818498b1af4?s=128&d=identicon&r=PG", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2058270/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1428536879, "last_edit_date": 1428536879, "creation_date": 1428536406, "answer_id": 29527216, "question_id": 29527150, "link": "https://stackoverflow.com/questions/29527150/repeat-a-number-3-times-for-output/29527216#29527216", "title": "Repeat a number 3 times for output", "body": "<pre><code>def repeat_num(x):\n    return str(x)*3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1428536530, "creation_date": 1428536530, "answer_id": 29527228, "question_id": 29527150, "link": "https://stackoverflow.com/questions/29527150/repeat-a-number-3-times-for-output/29527228#29527228", "title": "Repeat a number 3 times for output", "body": "<p>If the output is <code>[1, 1, 1]</code> and you were looking for <code>111</code>, you can do the following:</p>\n\n<pre><code>print (*repeat_number(a), sep='')\n</code></pre>\n\n<p>However, I'd recommend doing the following with your function:</p>\n\n<pre><code>def repeat_number(num):\n    if type(num) != int: return\n    return int(str(num)*3)\n</code></pre>\n\n<p>And then all you have to do is:</p>\n\n<pre><code>print (repeat_number(a))\n</code></pre>\n\n<p>as you originally attempted. Plus, this function returns an actual number, which is probably good.</p>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428537074, "post_id": 29527270, "comment_id": 47208875, "body": "Yes; this method is used in previous answers as well. Probably the way to go."}], "tags": [], "owner": {"reputation": 922, "user_id": 4153946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5994e37818c21e0eb37eb04624acc9d5?s=128&d=identicon&r=PG", "display_name": "M. Adam Kendall", "link": "https://stackoverflow.com/users/4153946/m-adam-kendall"}, "is_accepted": false, "score": 0, "last_activity_date": 1428536823, "creation_date": 1428536823, "answer_id": 29527270, "question_id": 29527150, "link": "https://stackoverflow.com/questions/29527150/repeat-a-number-3-times-for-output/29527270#29527270", "title": "Repeat a number 3 times for output", "body": "<p>You can cast the number as a string and multiply.</p>\n\n<pre><code>def repeat(num):\n    return str(num)*3\n\na = 12\nprint(repeat(a))\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4032728, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100007535015724/picture?type=large", "display_name": "Erwy Lionel", "link": "https://stackoverflow.com/users/4032728/erwy-lionel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 1, "answer_count": 5, "score": 0, "last_activity_date": 1428536879, "creation_date": 1428536016, "question_id": 29527150, "link": "https://stackoverflow.com/questions/29527150/repeat-a-number-3-times-for-output", "title": "Repeat a number 3 times for output", "body": "<p>I need to define a function which repeats a number 3 times. I can only get it to work as a list where the output is [1, 1, 1] if the input is 1. However I need the output to be 111\nThis is what I have</p>\n\n<pre><code>def repeat_number(num):\n    if not type(num) is int:\n        return None\n\n    list_1 = []\n    x = list_1.append(num)\n    y = list_1*3\n\n    for i in y:\n\n    return i,i,i\n\na = 12\n\nprint (repeat_number(a))\n</code></pre>\n\n<p>and again I want the output to be 121212</p>\n"}, {"tags": ["python", "pandas", "sed"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428535978, "post_id": 29527097, "comment_id": 47208538, "body": "have you tried <code>pd.read_csv(delimiter=&quot;;&quot;)</code>?"}, {"owner": {"reputation": 49880, "user_id": 1222578, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daae63146dbed42f50cd56f7268c6260?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/1222578/marius"}, "edited": false, "score": 0, "creation_date": 1428537770, "post_id": 29527097, "comment_id": 47209072, "body": "It&#39;s great that you&#39;ve given a description of the data, but can you try to do up some example lines where the <code>int2</code> values are actually ints? So like <code>[cat;44;dog;dog;32;mouse]</code>. That way people can test their solutions on data that looks like yours."}], "answers": [{"tags": [], "owner": {"reputation": 279, "user_id": 2797597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bfd2a31edadf655e24e343e02e6465f?s=128&d=identicon&r=PG", "display_name": "Droopy4096", "link": "https://stackoverflow.com/users/2797597/droopy4096"}, "is_accepted": false, "score": 0, "last_activity_date": 1428536382, "creation_date": 1428536382, "answer_id": 29527210, "question_id": 29527097, "link": "https://stackoverflow.com/questions/29527097/linux-logfile-to-pandas-dataframe/29527210#29527210", "title": "linux logfile to pandas dataframe", "body": "<p>assuming file is opened as <code>f</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for line in f:\n    tokens=line[1:-1].split(',')\n    for token in tokens:\n        items=token.split(';')\n        print \" \".join(items)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1428536584, "creation_date": 1428536584, "answer_id": 29527237, "question_id": 29527097, "link": "https://stackoverflow.com/questions/29527097/linux-logfile-to-pandas-dataframe/29527237#29527237", "title": "linux logfile to pandas dataframe", "body": "<p>it seems like in your file:  </p>\n\n<ul>\n<li>fields are semi-colon delimited</li>\n<li>lines are comma delimited</li>\n<li>each pair of lines is enclosed in <code>[]</code></li>\n</ul>\n\n<p>based on that, I would recommend  </p>\n\n<ul>\n<li>read file into memory as string</li>\n<li>replace the <code>[]</code> with spaces</li>\n<li>replace commas with newline characters</li>\n<li>write the string to a file </li>\n<li>read from file using <code>pandas.read_csv</code> with <code>sep=','</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 4458, "user_id": 3605780, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/12e364cc0e55027057ee93be4c75e7df?s=128&d=identicon&r=PG&f=1", "display_name": "user3605780", "link": "https://stackoverflow.com/users/3605780/user3605780"}, "edited": false, "score": 0, "creation_date": 1428591572, "post_id": 29530648, "comment_id": 47235790, "body": "I adjusted it a little bit because the number of variables in each line can change. I did it like the answer I posted. But thanks"}], "tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": true, "score": 1, "last_activity_date": 1428558237, "creation_date": 1428558237, "answer_id": 29530648, "question_id": 29527097, "link": "https://stackoverflow.com/questions/29527097/linux-logfile-to-pandas-dataframe/29530648#29530648", "title": "linux logfile to pandas dataframe", "body": "<p>Simple replace with <code>awk</code> should do:</p>\n\n<pre><code>awk '{gsub(/[][]/,\"\");gsub(\";\",FS);sub(\",\",RS)}1' file\nstring int string\nstring2 int2 string2\nstring3 int3 string3\nstring4 int4 string4\n</code></pre>\n\n<p>Or with <code>sed</code>:</p>\n\n<pre><code>sed 's/[][]//g;s/;/ /g;s/,/\\n/' file\nstring int string\nstring2 int2 string2\nstring3 int3 string3\nstring4 int4 string4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4458, "user_id": 3605780, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/12e364cc0e55027057ee93be4c75e7df?s=128&d=identicon&r=PG&f=1", "display_name": "user3605780", "link": "https://stackoverflow.com/users/3605780/user3605780"}, "is_accepted": false, "score": 0, "last_activity_date": 1428591720, "creation_date": 1428591720, "answer_id": 29542113, "question_id": 29527097, "link": "https://stackoverflow.com/questions/29527097/linux-logfile-to-pandas-dataframe/29542113#29542113", "title": "linux logfile to pandas dataframe", "body": "<p>With help from Jotne I made it work like this:</p>\n\n<pre><code>// in shell\nsed -i $'s/[][]//g;s/,/\\\\\\n/g' filename\n// in python\npd.read_csv(filename, sep= ';',skipinitialspace=1, names=header_row)\n</code></pre>\n"}], "owner": {"reputation": 4458, "user_id": 3605780, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/12e364cc0e55027057ee93be4c75e7df?s=128&d=identicon&r=PG&f=1", "display_name": "user3605780", "link": "https://stackoverflow.com/users/3605780/user3605780"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "accepted_answer_id": 29530648, "answer_count": 4, "score": 0, "last_activity_date": 1428591720, "creation_date": 1428535662, "question_id": 29527097, "link": "https://stackoverflow.com/questions/29527097/linux-logfile-to-pandas-dataframe", "title": "linux logfile to pandas dataframe", "body": "<p>Hi I have the following logfile:</p>\n\n<p>log.file\nThe data is like this:</p>\n\n<pre><code> [string;int;string,string2;int2;string2]\n [string3;int3;string3,string4;int4;string4]\n</code></pre>\n\n<p>I need to get it in a pandas dataframe like this:</p>\n\n<pre><code> string int string\n string2 int2 string2\n string3 int3 string3\n string4 int4 string4\n</code></pre>\n\n<p>I though to first use Sed in a subprocess to remove the \"[\" and replace the \"]\" with a comma, and the use pd.read_csv to get the separate values in a dataframe and then transpose to get it in a column. However then I get the following dataframe:</p>\n\n<pre><code> \"\"\n string;int;string\n string2;int2;string2\n string3;int3;string3\n string4;int4;string4\n unnamed:5\n</code></pre>\n\n<p>How can I split this column in multiple columns based on the \";\" I saw some posts about splitsing columns but they didn't work for me.</p>\n\n<p>Somebody have an idea? Or maybe even a easier solution to get the data in a dataframe?</p>\n"}, {"tags": ["python", "input", "sys"], "comments": [{"owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "edited": false, "score": 4, "creation_date": 1428535398, "post_id": 29527023, "comment_id": 47208379, "body": "What&#39;s unclear in the documentation?"}, {"owner": {"reputation": 5463, "user_id": 4695064, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-KpAhKljoGO4/AAAAAAAAAAI/AAAAAAAAAHU/fb44qBeaDww/photo.jpg?sz=128", "display_name": "raj", "link": "https://stackoverflow.com/users/4695064/raj"}, "reply_to_user": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "edited": false, "score": 2, "creation_date": 1428679847, "post_id": 29527023, "comment_id": 47280167, "body": "difference between sys.stdin and input()"}, {"owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "edited": false, "score": 0, "creation_date": 1428680166, "post_id": 29527023, "comment_id": 47280348, "body": "Clearly there are lots of differences, because they are two completely different things, you can see that with just a glance at the docs, not saying anything about actually reading it. So, instead of repeating your extremely vague question (yes, we can read), please explain more precisely what do you find confusing."}, {"owner": {"reputation": 888, "user_id": 9450152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mHb7R.png?s=128&g=1", "display_name": "kotchwane", "link": "https://stackoverflow.com/users/9450152/kotchwane"}, "edited": false, "score": 0, "creation_date": 1606552199, "post_id": 29527023, "comment_id": 114998306, "body": "This question is interesting. It aims at understanding the full difference between <code>input()</code> and <code>sys.stdin</code>, how they differ, and why the one or the other are used for exactly the same thing (reading data) in different programming competitions such as Codingame, HackerRank, Battle Dev. This is something that is definitely not mentioned in the documentation, and that I too would like to see clarified."}], "answers": [{"comments": [{"owner": {"reputation": 1852, "user_id": 3130747, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5b9df374982831838fda1c5abb634781?s=128&d=identicon&r=PG&f=1", "display_name": "baxx", "link": "https://stackoverflow.com/users/3130747/baxx"}, "edited": false, "score": 4, "creation_date": 1446913178, "post_id": 29651379, "comment_id": 54946028, "body": "&quot;<i>will include the prompt string as well</i>&quot; &lt;- I&#39;m not sure what you mean here, if I test this with something like <code>x = input(&#39;here&#39;);print(x)</code> I don&#39;t get &#39;here&#39; output to the interpreter unless that&#39;s what I enter at the prompt. Whereas the way I&#39;m reading what you&#39;ve written I should infact get the output of &#39;here&#39; as well as whatever I enter... cheers"}, {"owner": {"reputation": 888, "user_id": 9450152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mHb7R.png?s=128&g=1", "display_name": "kotchwane", "link": "https://stackoverflow.com/users/9450152/kotchwane"}, "edited": false, "score": 0, "creation_date": 1606551308, "post_id": 29651379, "comment_id": 114998127, "body": "-1. This is not a barrage of downvotes on your answer. It&#39;s just the fact that this answer is <b>not</b> correct. The prompt never gets included into what the function <code>input()</code> returns."}], "tags": [], "owner": {"reputation": 2771, "user_id": 800158, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/tYupC.jpg?s=128&g=1", "display_name": "Inversus", "link": "https://stackoverflow.com/users/800158/inversus"}, "is_accepted": false, "score": 3, "last_activity_date": 1613431216, "last_edit_date": 1613431216, "creation_date": 1429103927, "answer_id": 29651379, "question_id": 29527023, "link": "https://stackoverflow.com/questions/29527023/what-is-the-difference-between-input-and-sys-stdin/29651379#29651379", "title": "What is the difference between input() and sys.stdin?", "body": "<p>Here's something to get you started:</p>\n<p>The <em>builtin function</em> <code>input</code> reads a line of input from the <em>standard input stream</em>, optionally with a message prompt. Be careful with the prompt, though, because the result of:</p>\n<pre><code>result = input('Do you want to do whatever? ')  ## doesn't work how you'd expect\nif result.lower() in ('y', 'ye', 'yes', 'yup', 'ya'):\n    do_whatever()\n    ...\nelse:\n    do_something_else()\n    ...\n</code></pre>\n<p>..will include the prompt string as well (and so will never be equal to 'y'/'yes'/etc). In my opinion, it is better to print the prompt string first and then call input with no args, like so:</p>\n<pre><code>print('Do you want to do whatever?')\nresult = input()  ## notice that there is no prompt string passed to input()\nif result.lower() in ('y', 'ye', 'yes', 'yup', 'ya'):\n    do_whatever()\n    ...\nelse:\n    do_something_else()\n    ...\n</code></pre>\n<p>So, to recap, the <em>builtin function</em> <code>input</code> reads input from the <em>standard input stream</em> (<code>sys.stdin</code>), and the <em>builtin function</em> <code>print</code> prints output to the <em>standard output stream</em> (<code>sys.stdout</code>). There's a third one as well, the <em>standard error stream</em> (<code>sys.stderr</code>), to which unhandled exceptions get printed.</p>\n<p>Usually, you don't have to worry about it too much. It's just when building IDEs and frameworks and such.</p>\n"}, {"tags": [], "owner": {"reputation": 888, "user_id": 9450152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mHb7R.png?s=128&g=1", "display_name": "kotchwane", "link": "https://stackoverflow.com/users/9450152/kotchwane"}, "is_accepted": false, "score": 1, "last_activity_date": 1606555999, "creation_date": 1606555999, "answer_id": 65048163, "question_id": 29527023, "link": "https://stackoverflow.com/questions/29527023/what-is-the-difference-between-input-and-sys-stdin/65048163#65048163", "title": "What is the difference between input() and sys.stdin?", "body": "<h2>Clarification through Code Examples</h2>\n<p>I've been asking myself the same question, so I came up with these two snippets, which clarify how <code>sys.stdin</code> and <code>input()</code> differ by emulating the latter with the former:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import sys\n\ndef my_input(prompt=''):\n  print(prompt, end='') # prompt with no newline\n  for line in sys.stdin:\n    if '\\n' in line: #\u00a0We want to read only the first line and stop there\n      break\n  return line.rstrip('\\n')\n</code></pre>\n<p>Here is a more condensed version:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import sys\n\ndef my_input(prompt=''):\n  print(prompt, end='')\n  return sys.stdin.readline().rstrip('\\n')\n\n</code></pre>\n<p>Both these snippets differ from the <code>input()</code> function in that they do not detect the End Of File (see below).</p>\n<h2>Clarification through Documentation</h2>\n<p>This is how the official documentation describes the function <a href=\"https://docs.python.org/3/library/functions.html#input\" rel=\"nofollow noreferrer\">input()</a>:</p>\n<blockquote>\n<p><strong>input([prompt])</strong></p>\n<p>If the prompt argument is present, it is written to standard output without a trailing newline. The function then reads a line from input, converts it to a string (stripping a trailing newline), and returns that. When EOF is read, EOFError is raised.</p>\n</blockquote>\n<p>And here's how <a href=\"https://docs.python.org/3/library/sys.html\" rel=\"nofollow noreferrer\">sys.stdin</a> is described:</p>\n<blockquote>\n<p>sys.<strong>stdin</strong></p>\n<p>File object used by the interpreter for standard input.<br />\nstdin is used for all interactive input (including calls to input());<br />\nThese streams (sys.stdin, sys.stdout and sys.stderr) are regular text files like those returned by the open() function. [...]</p>\n</blockquote>\n<p>So whereas <code>input()</code> is a function, <code>sys.stdin</code> is an <strong>object</strong> (a\u00a0File object).\nAs such, it has a number of attributes, which you can explore in the interpreter, with:</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt; dir(sys.stdin)\n\n['_CHUNK_SIZE',\n '__class__',\n '__del__',\n '__delattr__',\n '__dict__',\n '__dir__',\n\n  ...\n\n 'truncate',\n 'writable',\n 'write',\n 'write_through',\n 'writelines']\n</code></pre>\n<p>and which you can display individually, for instance:</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt; sys.stdin.mode\nr\n</code></pre>\n<p>It also has methods, such as <code>readline()</code>, which &quot;<em>reads a single line from the file; a newline character (\\n) is left at the end of the string, and is only omitted on the last line of the file if the file doesn\u2019t end in a newline. This makes the return value unambiguous; if f.readline() returns an empty string, the end of the file has been reached, while a blank line is represented by '\\n', a string containing only a single newline.</em>&quot; (<a href=\"https://docs.python.org/3/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">1</a>)</p>\n<h2>Full implementation</h2>\n<p>This last method allows us to fully emulate the input() function, including its EOF Exception error:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def my_input(prompt=''):\n  print(prompt, end='')\n  line = sys.stdin.readline()\n  if line == '': # readline() returns an empty string only if EOF\u00a0has been reached\n    raise EOFError('EOF when reading a line')\n  else:\n    return line.rstrip('\\n')\n</code></pre>\n"}], "owner": {"reputation": 5463, "user_id": 4695064, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-KpAhKljoGO4/AAAAAAAAAAI/AAAAAAAAAHU/fb44qBeaDww/photo.jpg?sz=128", "display_name": "raj", "link": "https://stackoverflow.com/users/4695064/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2946, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1613431216, "creation_date": 1428535280, "last_edit_date": 1446044038, "question_id": 29527023, "link": "https://stackoverflow.com/questions/29527023/what-is-the-difference-between-input-and-sys-stdin", "title": "What is the difference between input() and sys.stdin?", "body": "<p>I am new to python and trying some coding problems online. i come across sys.sdnin a lot for accepting input. I would like to know how <code>input()</code> and <code>sys.stdin</code> differs in action?</p>\n"}, {"tags": ["java", "python", "pdf", "itext", "pypdf"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1428576294, "post_id": 29532436, "comment_id": 47225083, "body": "Thanks. I modified which pages are linked to, because I am afraid of uploading the whole file. I hope to but have no idea of how to start with iText, I thought it would be a simple program to extract the table of content entries and the pages they linked to. If it takes a lot to program for that, then knowing which classes and functions (and maybe a skeleton program) I need to learn to accomplish that would suffice."}, {"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1428577438, "post_id": 29532436, "comment_id": 47225745, "body": "Content is stored in content streams. Links are stored in annotations. There is no direct link between the content and the link. The only correspondence is that the clickable area (the link) and the text appear at the same position. If you want to know where to start, download <a href=\"http://pages.itextpdf.com/ebook-stackoverflow-questions.html\" rel=\"nofollow noreferrer\">The Best iText Questions on StackOverflow</a> and use Ctrl+F for answers that contain <code>ANNOTS</code>, <code>Link</code>, <code>extract</code>,..."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1428577665, "post_id": 29532436, "comment_id": 47225871, "body": "Thanks. By the way, the original pdf file was created from chm file by someone else. The conversion program used didn&#39;t extract the bookmarks from the chm to the pdf file. That was where my post came from. Do you know which programs  can do that, or if programming in iText can do that?"}, {"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1428578298, "post_id": 29532436, "comment_id": 47226313, "body": "Can I rephrase your question? <i>You have chm files and you are looking for a tool to convert those to PDF in a way so that the links are preserved.</i> If that is the question, then the answer is: iText can&#39;t do this and I don&#39;t know of any other tool that can do this."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1428578614, "post_id": 29532436, "comment_id": 47226498, "body": "Better not. That is a different question. My post is about parsing an existing pdf file"}, {"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1428580636, "post_id": 29532436, "comment_id": 47227775, "body": "In that case, I misunderstood the question. I don&#39;t know any tool that can achieve what you want to do. You can of course always write such a tool yourself using iText. You know that content and annotations are separate things. The book explains how to find the annotations and their position on the page. It also explains how to find the text on the page once you have the position. It&#39;s only work."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1428582656, "post_id": 29532436, "comment_id": 47229059, "body": "Thanks, I will probably find some time to study iText. In software such as Adobe Pro, each text entry and its annotation (including link) are associated together, and can be edited together in a dialog after right clicking the text. Not sure how the software was programmed to do that. But it is tedious to manually extract the linked page number for each entry."}], "tags": [], "owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "is_accepted": false, "score": 1, "last_activity_date": 1428564640, "creation_date": 1428564640, "answer_id": 29532436, "question_id": 29527017, "link": "https://stackoverflow.com/questions/29527017/extract-entries-of-table-of-content-and-the-page-numbers-they-link-to/29532436#29532436", "title": "Extract entries of table of content and the page numbers they link to", "body": "<p>I have examined your file and it looks very strange.</p>\n\n<p>See the following screenshot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/CXSxZ.png\" alt=\"enter image description here\"></p>\n\n<p>I used <a href=\"http://itextpdf.com/product/itext_rups\" rel=\"nofollow noreferrer\">iText RUPS</a> to take a look at the root of the page tree. You probably know that a page in PDF isn't aware of its page number. The page number of a page is determined by the position of the page in the page tree.</p>\n\n<p>In the screen shot, you see part of the page dictionary (object 3) of Page 1 (it's page 1 because <code>3 0 R</code> is the first element in the <code>/Kids</code> array).</p>\n\n<p>I have opened the array with the annotations, and I see a link annotation with a <code>/GoTo</code> action. This action tells a PDF viewer to jump to the page of which the page dictionary is object number 58.</p>\n\n<p>When we examine the page tree (which is actually nothing more than a single branch without any leaves), we see that <code>58 0 R</code> refers to page 2 (the second item in the page tree).</p>\n\n<p>However, this can't be right, can it? Page 2 just contains another part of the TOC, so I don't think the links are correct.</p>\n\n<p>It looks as if you created your PDF based on a web page, because I see a <code>/PA</code> entry that refers to an HTML page.</p>\n\n<p><strong>Long story short:</strong></p>\n\n<p>You need to loop over all the annotations in each page and look for <code>/Link</code> annotations. You then have to examine the value of the action (<code>/A</code>). This will give you the object ID of the page you're looking for.</p>\n\n<p>As for the text: obviously, the text is not stored in the annotation. For the link shown in the screen shot, you'll have to search for the text inside the rectangle <code>[107.2 754.3 235.6 763.6]</code>. That's not impossible, but it's not always trivial.</p>\n\n<p>Your question is a project that requires a couple of days of work. If you want a working example, take into account that you're asking people to contribute more than just a couple of hours of their time.</p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428656737, "creation_date": 1428535228, "last_edit_date": 1428656737, "question_id": 29527017, "link": "https://stackoverflow.com/questions/29527017/extract-entries-of-table-of-content-and-the-page-numbers-they-link-to", "title": "Extract entries of table of content and the page numbers they link to", "body": "<p>I have <a href=\"https://dl.dropboxusercontent.com/u/13029929/t.pdf\" rel=\"nofollow\">a PDF file</a>, which contains a table of content, where each entry links to a page in the file. </p>\n\n<p>How shall I program in Python or Java (or some other languages) to extract the table of content in the following form:</p>\n\n<pre><code>entry1  PageNumberEntry1LinkedTo\nentry2  PageNumberEntry2LinkedTo\n...\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>Section 2.6. Argument Arrays  2\nSection 2.7. Thread-Safe Functions  2\n</code></pre>\n\n<p>(If they can be extracted in some tree data structure according to the structure of table of content, that would be even better, but this can be skipped if not possible.)</p>\n\n<p>I would like to get some help about what Python or Java modules and functions can be used to accomplish that? Such as PDFMiner or pypdf2 in Python, iText in IPython or Java, ...?</p>\n"}, {"tags": ["python", "recursion", "methods"], "comments": [{"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1428535375, "post_id": 29526970, "comment_id": 47208370, "body": "I believe <code>if self.S &lt; 60: self.S</code> is dead code. Same for the other if statement."}], "answers": [{"comments": [{"owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "edited": false, "score": 0, "creation_date": 1428535731, "post_id": 29527030, "comment_id": 47208467, "body": "I would also eliminate the recursion in this case, but without more info on what the data is, you may need a little more than just converting hours to seconds."}], "tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": false, "score": 1, "last_activity_date": 1428535333, "creation_date": 1428535333, "answer_id": 29527030, "question_id": 29526970, "link": "https://stackoverflow.com/questions/29526970/method-using-recursion/29527030#29527030", "title": "Method using Recursion", "body": "<p>It looks like the only place where recursion happens is here:</p>\n\n<pre><code>if isinstance(self.H,float) == True:\n    self.S = self.H * 3600\n    self.clean()\n</code></pre>\n\n<p>If you make <code>self.H</code> not a <code>float</code> then it won't repeat:</p>\n\n<pre><code>if isinstance(self.H,float) == True:\n    self.S = self.H * 3600\n    self.H = int(self.H)    # add this line\n    self.clean()\n</code></pre>\n\n<p>Better yet, adjust the values at the top so you don't need recursion:</p>\n\n<pre><code># move this to the first lines of your method\nif isinstance(self.H,float) == True:\n    self.S = self.H * 3600\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "is_accepted": false, "score": 2, "last_activity_date": 1428536162, "last_edit_date": 1428536162, "creation_date": 1428535495, "answer_id": 29527066, "question_id": 29526970, "link": "https://stackoverflow.com/questions/29526970/method-using-recursion/29527066#29527066", "title": "Method using Recursion", "body": "<p>In your code: </p>\n\n<pre><code>if isinstance(self.H,float) == True:\n    self.S = self.H * 3600\n    self.clean()\nelse:\n</code></pre>\n\n<p>You don't change self.H if this is True, so it will always be true.  I'm guessing you want to set <code>self.H = 0</code> or something like that (since you converted it all to seconds).</p>\n\n<p>Also, in your if statements, having 'self.S' doesn't actually do anything, so you should write: </p>\n\n<pre><code>if self.S &lt; 60:\n    self.S\nelse:\n    self.M = int(self.S/60)+self.M\n    self.S = self.S%60\n</code></pre>\n\n<p>as</p>\n\n<pre><code>if self.S &gt;= 60:\n    self.M = int(self.S/60)+self.M\n    self.S = self.S%60\n</code></pre>\n\n<p>Also, in your recursive check, you destroy your previous value of self.S, did you mean to add that?</p>\n\n<p><strong>EDIT:</strong>\nYou don't specify in  your question, but from your code it looks like you're assuming the time values (S, M, H) are valid and you're just shifting the quantities around to get the same total time with S &lt; 60 and M &lt; 60.  If this is the case, then you can easily eliminate the recursion by converting <em>everything</em> to seconds at the beginning and then go through your S and M steps:</p>\n\n<pre><code>self.S = self.H * 3600 + self.M * 60 + self.S\n\nself.M = int(self.S / 60)\nself.H = int(self.M / 60) # or = int(self.S / 3600)\n\nself.M = self.M % 60\nself.S = self.S % 60\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 4696281, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a50581e595208119bb51b3ebebabd226?s=128&d=identicon&r=PG&f=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/4696281/brett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1428536162, "creation_date": 1428535002, "question_id": 29526970, "link": "https://stackoverflow.com/questions/29526970/method-using-recursion", "title": "Method using Recursion", "body": "<p>I am writing a \"clean\" method for a \"Time\" class. The clean method would take a Time object and would make sure that the number of seconds and minutes is between 0 and 59. I am running into an error with recursion. Here is what I have so far:</p>\n\n<pre><code>def clean(self):\n    '''Adjust Time object so that the number of seconds and minutes\n       is between 0 and 59'''\n\n    if self.S &lt; 60:\n        self.S\n    else:\n        self.M = int(self.S/60)+self.M\n        self.S = self.S%60\n\n\n    if self.M &lt; 60:\n        self.M\n    else:\n        self.H = int(self.M/60)+ self.H\n        self.M = self.M%60\n\n\n    if isinstance(self.H,float) == True:\n        self.S = self.H * 3600\n        self.clean()\n    else:\n        self.H\n\n        return self.__str__()\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 2, "creation_date": 1428534646, "post_id": 29526895, "comment_id": 47208151, "body": "You&#39;re going to need two threads."}, {"owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "edited": false, "score": 0, "creation_date": 1428535068, "post_id": 29526895, "comment_id": 47208271, "body": "This question isn&#39;t very clear. Are you using pygame, or making a cli game using curses?"}, {"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 1, "creation_date": 1428535332, "post_id": 29526895, "comment_id": 47208350, "body": "Multithreading is the way to go but you might be able to hack it by just adding <code>time.sleep(0.01)</code> between each of your &quot;frames&quot;. It will slow down all your program logic but that may be acceptable for simple cases."}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 4766418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5hPZ.jpg?s=128&g=1", "display_name": "helpTHISoldMAN. will you", "link": "https://stackoverflow.com/users/4766418/helpthisoldman-will-you"}, "is_accepted": false, "score": 0, "last_activity_date": 1428535345, "creation_date": 1428535345, "answer_id": 29527035, "question_id": 29526895, "link": "https://stackoverflow.com/questions/29526895/how-do-you-make-a-delay-in-python-without-stoping-the-whole-program/29527035#29527035", "title": "How Do you make a delay in python without stoping the whole program", "body": "<p>The command <code>turtle.down()</code> will work, I guess</p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 4678669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f9aae4f572173a710f0e11a8da714793?s=128&d=identicon&r=PG&f=1", "display_name": "fafy622", "link": "https://stackoverflow.com/users/4678669/fafy622"}, "edited": false, "score": 0, "creation_date": 1429885139, "post_id": 29830407, "comment_id": 47825777, "body": "ok i used this code and understand how it works but how would i do it with multiple images"}, {"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "reply_to_user": {"reputation": 19, "user_id": 4678669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f9aae4f572173a710f0e11a8da714793?s=128&d=identicon&r=PG&f=1", "display_name": "fafy622", "link": "https://stackoverflow.com/users/4678669/fafy622"}, "edited": false, "score": 0, "creation_date": 1429899398, "post_id": 29830407, "comment_id": 47835208, "body": "I don&#39;t understand what you mean by &quot;how would i do it with multiple images&quot;"}, {"owner": {"reputation": 19, "user_id": 4678669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f9aae4f572173a710f0e11a8da714793?s=128&d=identicon&r=PG&f=1", "display_name": "fafy622", "link": "https://stackoverflow.com/users/4678669/fafy622"}, "edited": false, "score": 0, "creation_date": 1429904899, "post_id": 29830407, "comment_id": 47838334, "body": "how would i say first make a list of images and then every time the loop goes by it draws the next image in that list. because what i see is that every time the loop restarts it draws the same image"}, {"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "reply_to_user": {"reputation": 19, "user_id": 4678669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f9aae4f572173a710f0e11a8da714793?s=128&d=identicon&r=PG&f=1", "display_name": "fafy622", "link": "https://stackoverflow.com/users/4678669/fafy622"}, "edited": false, "score": 0, "creation_date": 1429907081, "post_id": 29830407, "comment_id": 47839500, "body": "I did not put any image drawing code in my example. That code would go in the place where i say [change sprite image]. You seem to be asking a seperate question, which you should <a href=\"http://stackoverflow.com/questions/ask\">ask seperately</a>."}], "tags": [], "owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "is_accepted": false, "score": 0, "last_activity_date": 1429809845, "creation_date": 1429809845, "answer_id": 29830407, "question_id": 29526895, "link": "https://stackoverflow.com/questions/29526895/how-do-you-make-a-delay-in-python-without-stoping-the-whole-program/29830407#29830407", "title": "How Do you make a delay in python without stoping the whole program", "body": "<p>Instead of using multithreading, you could say </p>\n\n<pre><code>timer = pygame.USEREVENT + 1;\npygame.time.set_timer(timer, RUN_DELAY_IN_MILLISECONDS)\n</code></pre>\n\n<p>when your character starts to run, </p>\n\n<pre><code>if event.type == timer:\n   [change sprite image]\n</code></pre>\n\n<p>in your event loop, and <code>pygame.time.set_timer(timer, 0)</code> when your character stops running</p>\n\n<p>In this case, pygame's event system will manage the timing</p>\n"}], "owner": {"reputation": 19, "user_id": 4678669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f9aae4f572173a710f0e11a8da714793?s=128&d=identicon&r=PG&f=1", "display_name": "fafy622", "link": "https://stackoverflow.com/users/4678669/fafy622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1429809845, "creation_date": 1428534584, "last_edit_date": 1428534680, "question_id": 29526895, "link": "https://stackoverflow.com/questions/29526895/how-do-you-make-a-delay-in-python-without-stoping-the-whole-program", "title": "How Do you make a delay in python without stoping the whole program", "body": "<p>I am making a game for a presentation and I cannot seem to understand how to make a delay in Python.</p>\n\n<p>For example, whenever I press the D key, my character not only moves but also changes pictures so it looks like it's running.</p>\n\n<p>I have the movement part down, I just need to slow down the changing of the sprite so that it doesn't look like he's running a million miles per hour. I have set the FPS.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1428535113, "post_id": 29526878, "comment_id": 47208292, "body": "If there is only one of each dict, why not convert this whole list into a dictionary and then return <code>my_dict[&#39;joe&#39;]</code>"}, {"owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 1, "creation_date": 1428535312, "post_id": 29526878, "comment_id": 47208341, "body": "Why are you using a list of dictionaries (instead of a simple dictionary)?"}], "answers": [{"comments": [{"owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "edited": false, "score": 0, "creation_date": 1428534912, "post_id": 29526897, "comment_id": 47208224, "body": "It&#39;s not possible to traverse a list without some kind of a for loop."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428535008, "post_id": 29526897, "comment_id": 47208256, "body": "exactly, i don&#39;t think you can search through the list without some kind of iteration"}], "tags": [], "owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "is_accepted": true, "score": 3, "last_activity_date": 1428535513, "last_edit_date": 1428535513, "creation_date": 1428534591, "answer_id": 29526897, "question_id": 29526878, "link": "https://stackoverflow.com/questions/29526878/python-list-comprehension-get-dictionary-by-key/29526897#29526897", "title": "python list comprehension get dictionary by key", "body": "<pre><code>[dic for dic in my_list if 'joe' in dic]\n</code></pre>\n\n<p>or more generally,</p>\n\n<pre><code>def get_dicts(alist, key):\n    return [dic for dic in alist if key in dic]\n\nget_dicts(my_list, 'joe')\n</code></pre>\n\n<p>However, if your dictionaries have only one key and the key is unique to each dictionary, your data structure might not be optimal. You could have a single dictionary <code>dic = {'joe': 60, 'dave': 50}</code> and just get <code>dic[joe]</code></p>\n"}, {"tags": [], "owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "is_accepted": false, "score": 1, "last_activity_date": 1428535163, "creation_date": 1428535163, "answer_id": 29527005, "question_id": 29526878, "link": "https://stackoverflow.com/questions/29526878/python-list-comprehension-get-dictionary-by-key/29527005#29527005", "title": "python list comprehension get dictionary by key", "body": "<p>A loop is unavoidable, but you can mask it pretty well:</p>\n\n<pre><code>import itertools\nnext(itertools.ifilter(lambda x: key in x, my_list))\n</code></pre>\n\n<p>This either emits the first matching dict or raises a <code>StopIteration</code> exception that you can check for. Or you could go for recursion:</p>\n\n<pre><code>def matches(key, lst):\n    if not lst:\n        return None\n    if key in lst[0]:\n        return lst[0]\n    return matches(key, lst[1:])\n</code></pre>\n\n<p>which is still a for loop but tries hard not to look like one.</p>\n"}], "owner": {"reputation": 4039, "user_id": 2954587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9faba4c8f1437084ee1b2b976eeadaa3?s=128&d=identicon&r=PG&f=1", "display_name": "user2954587", "link": "https://stackoverflow.com/users/2954587/user2954587"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 29526897, "answer_count": 2, "score": 0, "last_activity_date": 1428535513, "creation_date": 1428534484, "question_id": 29526878, "link": "https://stackoverflow.com/questions/29526878/python-list-comprehension-get-dictionary-by-key", "title": "python list comprehension get dictionary by key", "body": "<p>Given the key 'joe' how can I extract the dictionary <code>{'joe': 60}</code> from <code>my_list</code>?</p>\n\n<pre><code>my_list = [{'joe': 60}, {'dave': 61}]\n</code></pre>\n\n<p>I'd like to avoid using a for loop</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 5, "creation_date": 1428534197, "post_id": 29526811, "comment_id": 47208003, "body": "<a href=\"https://docs.python.org/3.4/tutorial/controlflow.html\" rel=\"nofollow noreferrer\">docs.python.org/3.4/tutorial/controlflow.html</a>"}, {"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 0, "creation_date": 1428534258, "post_id": 29526811, "comment_id": 47208022, "body": "I think you are looking for else if:"}, {"owner": {"reputation": 3, "user_id": 4766418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5hPZ.jpg?s=128&g=1", "display_name": "helpTHISoldMAN. will you", "link": "https://stackoverflow.com/users/4766418/helpthisoldman-will-you"}, "edited": false, "score": 0, "creation_date": 1428534285, "post_id": 29526811, "comment_id": 47208030, "body": "I read that already. Can you tell me what is the problem with my program? It is not printing anything if I enter an input."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428534291, "post_id": 29526811, "comment_id": 47208032, "body": "Also, you&#39;re getting the input, changing it to an <code>int</code>, then sending it to a function that expects a string."}, {"owner": {"reputation": 3, "user_id": 4766418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5hPZ.jpg?s=128&g=1", "display_name": "helpTHISoldMAN. will you", "link": "https://stackoverflow.com/users/4766418/helpthisoldman-will-you"}, "edited": false, "score": 0, "creation_date": 1428534473, "post_id": 29526811, "comment_id": 47208096, "body": "You mean remove the <code>input</code>?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428534511, "post_id": 29526811, "comment_id": 47208105, "body": "No, just remove the <code>int()</code> call that surrounds it. I&#39;ll write it up as an answer with some more suggestions."}, {"owner": {"reputation": 3, "user_id": 4766418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5hPZ.jpg?s=128&g=1", "display_name": "helpTHISoldMAN. will you", "link": "https://stackoverflow.com/users/4766418/helpthisoldman-will-you"}, "edited": false, "score": 0, "creation_date": 1428534602, "post_id": 29526811, "comment_id": 47208135, "body": "It works now, but why doesn&#39;t it work if I insert <code>int</code>?"}, {"owner": {"reputation": 1892, "user_id": 2995907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5c13110c63a9c7fd100f0eac2b303b4?s=128&d=identicon&r=PG&f=1", "display_name": "dingalapadum", "link": "https://stackoverflow.com/users/2995907/dingalapadum"}, "edited": false, "score": 0, "creation_date": 1428534683, "post_id": 29526811, "comment_id": 47208165, "body": "Because you are comparing your variable against a character. You could also have changed the comparison to if x==1 rather than &quot;1&quot;"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428534979, "post_id": 29526811, "comment_id": 47208246, "body": "<code>1</code> is not the same as <code>&#39;1&#39;</code>. The former is a number, the latter is a string. <code>1 + 1</code> is <code>2</code>, but <code>&#39;1&#39; + &#39;1&#39;</code> is <code>&#39;11&#39;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3019, "user_id": 2310450, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nhRCi.png?s=128&g=1", "display_name": "mbdavis", "link": "https://stackoverflow.com/users/2310450/mbdavis"}, "is_accepted": false, "score": 1, "last_activity_date": 1428535026, "last_edit_date": 1428535026, "creation_date": 1428534618, "answer_id": 29526901, "question_id": 29526811, "link": "https://stackoverflow.com/questions/29526811/how-to-use-if-or-else-statements-in-python-btw-how-is-my-username-and-profile/29526901#29526901", "title": "How to use IF or ELSE statements in Python? BTW, How is my username and profile picture?", "body": "<p>First, you're taking an input which will be a string, then casting it to an int and trying to compare it to strings, so either take out the int() conversion or change your if statements to compare against integers.</p>\n\n<p>Secondly whilst your if statements will work, you should be using if, elseif, etc.</p>\n\n<p>Thirdly it's much better to use switch statements for multiple comparisons. Even better, a dictionary</p>\n\n<p>With elseifs:</p>\n\n<pre><code>def string(x):\n   if x==\"1\":\n       word = \"one\"\n   elif x==\"2\":\n       word = \"two\"\n   elif x==\"3\":\n       word = \"three\"\n   elif x==\"4\":\n       word = \"four\"\n   elif x==\"5\":\n       word = \"five\"\n   elif x==\"6\":\n       word = \"six\"\n   elif x==\"7\":\n       word = \"seven\"\n   else\n       word = \"Try again\"\n\n   return word\n</code></pre>\n\n<p>With dictionary:</p>\n\n<pre><code>intWordLookup = {1:\"one\",\n                 2:\"two\",\n                 3:\"three\",\n                 4:\"four\",\n                 5:\"five\",\n                 6:\"six\",\n                 7:\"seven\"}\n\ndef main():\n   y = int(input(\"Please enter a number between 1 and 7: \"))\n   z = intWordLookup[y]\n   print(z)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 2271718, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7dcad98510773e9fa4abb1f185ec1255?s=128&d=identicon&r=PG", "display_name": "erickeno", "link": "https://stackoverflow.com/users/2271718/erickeno"}, "is_accepted": false, "score": 1, "last_activity_date": 1428534697, "creation_date": 1428534697, "answer_id": 29526917, "question_id": 29526811, "link": "https://stackoverflow.com/questions/29526811/how-to-use-if-or-else-statements-in-python-btw-how-is-my-username-and-profile/29526917#29526917", "title": "How to use IF or ELSE statements in Python? BTW, How is my username and profile picture?", "body": "<pre><code>def string(x):\n    if x == \"1\":\n        word = \"one\"\n    elif x == \"2\":\n        word = \"two\"\n    elif x == \"3\":\n        word = \"three\"\n    elif x == \"4\":\n        word = \"four\"\n    elif x == \"5\":\n        word = \"five\"\n    elif x == \"6\":\n        word == \"six\"\n    elif x == \"7\":\n        word == \"seven\"\n    else:\n        word == \"try again\"\n    return word\n\nx = input(\"Enter a number: \")\nz = string(x)\nprint(z)\n</code></pre>\n\n<p>you don't have to convert the user input to an int then back to a string because its a string already. </p>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1428534888, "creation_date": 1428534888, "answer_id": 29526950, "question_id": 29526811, "link": "https://stackoverflow.com/questions/29526811/how-to-use-if-or-else-statements-in-python-btw-how-is-my-username-and-profile/29526950#29526950", "title": "How to use IF or ELSE statements in Python? BTW, How is my username and profile picture?", "body": "<p>All you have to do in this case is remove the <code>int()</code> call from the <code>main()</code>. Your <code>string()</code> function is expecting a string - if you send it an <code>int</code>, it'll never work. Additionally, you can use the <code>elif</code> keyword:</p>\n\n<pre><code>def string(x):\n    if x==\"1\":\n        word = \"one\"\n    elif x==\"2\":\n        word = \"two\"\n    elif x==\"3\":\n        word = \"three\"\n    elif x==\"4\":\n        word = \"four\"\n    elif x==\"5\":\n        word = \"five\"\n    elif x==\"6\":\n        word = \"six\"\n    elif x==\"7\":\n        word = \"seven\"\n    else:\n        word = \"Try again\"\n    return word\n\ndef main():\n  y = input(\"Please enter a number between 1 and 7: \")\n  z = string(y)\n  print(z)\n\nmain()\n</code></pre>\n\n<p>Or you can use a data structure called a <code>dictionary</code>:</p>\n\n<pre><code>def string(x):\n    if x not in ('1', '2', '3', '4', '5', '6', '7'):\n        return \"Try again\"\n\n    d = {'1':'one', '2':'two', '3':'three', '4':'four',\n    '5':'five', '6':'six', '7':'seven'}\n\n    return d.get(x)\n\ndef main():\n  print(string(input(\"Please enter a number between 1 and 7: \")))\n\nmain()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4371, "user_id": 2058270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a06931a6743fd9dd7c881818498b1af4?s=128&d=identicon&r=PG", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2058270/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1428535717, "creation_date": 1428535717, "answer_id": 29527107, "question_id": 29526811, "link": "https://stackoverflow.com/questions/29526811/how-to-use-if-or-else-statements-in-python-btw-how-is-my-username-and-profile/29527107#29527107", "title": "How to use IF or ELSE statements in Python? BTW, How is my username and profile picture?", "body": "<p>An alternate approach using built in zip function.</p>\n\n<pre><code>list_num=list(range(1,8))\nlist_words=['one','two','three','four','five','six','seven']\nmyArray=zip(list_words,list_num)\ndef somefunc(x):\n    take_inp=input(\"Enter any number between 1 and 7:\")\n    if take_inp in list_num:\n        return myArray[take_inp -1][0]\n    else:\n        print \"Try Again\"\n\nprint somefunc()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4766418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5hPZ.jpg?s=128&g=1", "display_name": "helpTHISoldMAN. will you", "link": "https://stackoverflow.com/users/4766418/helpthisoldman-will-you"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 29526950, "answer_count": 4, "score": -6, "last_activity_date": 1428535717, "creation_date": 1428534078, "last_edit_date": 1428535038, "question_id": 29526811, "link": "https://stackoverflow.com/questions/29526811/how-to-use-if-or-else-statements-in-python-btw-how-is-my-username-and-profile", "title": "How to use IF or ELSE statements in Python? BTW, How is my username and profile picture?", "body": "<p>I want to write a function that takes number between 1 and 7 as a parameter and prints out the corresponding day as a string.</p>\n\n<p>For example, if the parameter is 1, your function should print out <code>one</code>. If the parameter is 2, your function should print out <code>two</code>, etc.</p>\n\n<p>I wrote this program, but I am not getting anything as an output. I sure that I am using the <code>if</code> and <code>else</code> statements correctly</p>\n\n<p>My program:</p>\n\n<pre><code>def string(x):\n  if x==\"1\":\n      word = \"one\"\n  else:\n      if x==\"2\":\n        word = \"two\"\n    else:\n        if x==\"3\":\n            word = \"three\"\n        else:\n            if x==\"4\":\n                word = \"four\"\n            else:\n                if x==\"5\":\n                    word = \"five\"\n                else:\n                    if x==\"6\":\n                        word = \"six\"\n                    else:\n                          if x==\"7\":\n                              word = \"seven\"\n                          else:\n                              word = \"Try again\"\nreturn word\n\ndef main():\n  y = int(input(\"Please enter a number between 1 and 7: \"))\n  z = string(y)\n  print(z)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "c", "arrays", "numpy", "swig"], "answers": [{"tags": [], "owner": {"reputation": 27450, "user_id": 4756299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38adc5559df095cfe10c664916e8ffa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Henle", "link": "https://stackoverflow.com/users/4756299/andrew-henle"}, "is_accepted": false, "score": 1, "last_activity_date": 1429291443, "creation_date": 1429291443, "answer_id": 29705709, "question_id": 29526701, "link": "https://stackoverflow.com/questions/29526701/passing-and-array-argument-to-c-from-python-using-swig/29705709#29705709", "title": "Passing and array argument to C from Python using SWIG", "body": "<p>Parse the Python list inside <code>my_setup()</code> instead of trying to translate it in your SWIG <code>.i</code> file.  Change</p>\n\n<pre><code>my_setup(char * my_string, int my_count, int my_types[], double my_rate, int my_mode);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my_setup(char * my_string, int my_count, PyObject *int_list, double my_rate, int my_mode);\n</code></pre>\n\n<p>and in my_setup</p>\n\n<pre><code>    int *array = NULL;\n    if ( PyList_Check( int_list ) )\n    {\n        int nInts = PyList_Size( int_list );\n        array = malloc( nInts * sizeof( *array ) );\n        for ( int ii = 0; ii &lt; nInts; ii++ )\n        {\n            PyObject *oo = PyList_GetItem( int_list, ii );\n            if ( PyInt_Check( oo ) )\n            {\n                array[ ii ] = ( int ) PyInt_AsLong( oo );\n            }\n        }\n    }\n</code></pre>\n\n<p>You'll have to add error checking.  And from C, always return a <code>PyObject *</code> back to Python when you're using SWIG.  That way, you can use <code>PyErr_SetString()</code> and return NULL to toss an exception.</p>\n"}], "owner": {"reputation": 31, "user_id": 1132982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bbb800bc6a6b440eece77c0f50fa07e?s=128&d=identicon&r=PG", "display_name": "polymath", "link": "https://stackoverflow.com/users/1132982/polymath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 963, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1429291443, "creation_date": 1428533541, "question_id": 29526701, "link": "https://stackoverflow.com/questions/29526701/passing-and-array-argument-to-c-from-python-using-swig", "title": "Passing and array argument to C from Python using SWIG", "body": "<p>I am using SWIG + Python + C for the first time, and I am having trouble passing an array from Python to C. </p>\n\n<p>Here is a function signature in C.</p>\n\n<pre><code>my_setup(char * my_string, int my_count, int my_types[], double my_rate, int my_mode);\n</code></pre>\n\n<p>I would like to call this C function from Python as follows</p>\n\n<pre><code>my_array = [1, 2, 3, 4, 5, 6]\nmy_setup(\"My string\", 6, my_array, 50, 0)\n</code></pre>\n\n<p>but I do not know how to construct the array <code>my_array</code>. The error I am getting is</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test_script.py\", line 9, in &lt;module&gt;\n    r = my_library.my_setup(\"My string\", 6, my_types, 50, 0)\nTypeError: in method 'my_setup', argument 3 of type 'int []'\n</code></pre>\n\n<p>I have tried unsuccessfully to use the <a href=\"http://docs.scipy.org/doc/numpy/reference/swig.interface-file.html\" rel=\"nofollow\">SWIG interface file for numpy</a> and <a href=\"https://docs.python.org/2/library/ctypes.html\" rel=\"nofollow\">ctypes</a>.</p>\n\n<p>I hope someone can help me pass an array as the third argument of the function <code>my_setup</code>. </p>\n\n<p>Also, this is my first stack overflow post!</p>\n"}, {"tags": ["python", "csv", "for-loop", "xlsx"], "comments": [{"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1428533450, "post_id": 29526656, "comment_id": 47207774, "body": "When you import data in excel you can set semicolon as a delimiter"}, {"owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 0, "creation_date": 1428534194, "post_id": 29526656, "comment_id": 47207999, "body": "Your code (with the slight change open(csvfile, &#39;r&#39;) ) is working on my computer (python3.4) Please give your python version and the contents of a small sample file."}, {"owner": {"reputation": 185, "user_id": 2147751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e580f6ab14ac6ca552f30ace3599ff89?s=128&d=identicon&r=PG", "display_name": "Kipz", "link": "https://stackoverflow.com/users/2147751/kipz"}, "edited": false, "score": 0, "creation_date": 1428534233, "post_id": 29526656, "comment_id": 47208010, "body": "i handle with more than 50 files at once :/"}], "answers": [{"tags": [], "owner": {"reputation": 1180, "user_id": 4766261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dd4d03badb6ebc92b17af75766fdd57?s=128&d=identicon&r=PG", "display_name": "SiggiSv", "link": "https://stackoverflow.com/users/4766261/siggisv"}, "is_accepted": true, "score": 1, "last_activity_date": 1428534994, "creation_date": 1428534994, "answer_id": 29526967, "question_id": 29526656, "link": "https://stackoverflow.com/questions/29526656/python-csv-to-xlsx-converter-semicolons-separation-instead-of-columns/29526967#29526967", "title": "Python - CSV to XLSX converter - semicolons separation instead of columns", "body": "<p>When using the csv module ',' is the default delimiter. You need to set the delimiter to ';'</p>\n\n<pre><code>reader = csv.reader(f, delimiter=';')\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 2147751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e580f6ab14ac6ca552f30ace3599ff89?s=128&d=identicon&r=PG", "display_name": "Kipz", "link": "https://stackoverflow.com/users/2147751/kipz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 29526967, "answer_count": 1, "score": 0, "last_activity_date": 1428534994, "creation_date": 1428533285, "question_id": 29526656, "link": "https://stackoverflow.com/questions/29526656/python-csv-to-xlsx-converter-semicolons-separation-instead-of-columns", "title": "Python - CSV to XLSX converter - semicolons separation instead of columns", "body": "<p>I have this code:</p>\n\n<pre><code>for csvfile in glob.glob(os.path.join(spacedir, '*.csv')):\n    wb = openpyxl.Workbook()\n    ws = wb.active\n    with open(csvfile, 'rb') as f:\n        reader = csv.reader(f)\n        for r, row in enumerate(reader, start=1):\n            for c, val in enumerate(row, start=1):\n                ws.cell(row=r, column=c).value = val\n    i = i + 1\n    new_name = str(i)\n    wb.save(csvfile + new_name + '.xlsx')\n</code></pre>\n\n<p>On the new file i have something like this in one columns:</p>\n\n<p>BLABLABLA;;;;;;;;X;XX;XX;XX;;XX;XX;XX;XX;X</p>\n\n<p>And I need the data to be displayed in columns and not in a single one with semicolons.</p>\n\n<p>How can I fix this?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 5410, "user_id": 1390022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d29e994a1301613f40c4cc99909edb0?s=128&d=identicon&r=PG", "display_name": "derricw", "link": "https://stackoverflow.com/users/1390022/derricw"}, "is_accepted": false, "score": 1, "last_activity_date": 1428539025, "creation_date": 1428539025, "answer_id": 29527616, "question_id": 29526618, "link": "https://stackoverflow.com/questions/29526618/why-is-this-sprite-not-being-displayed-on-the-screen/29527616#29527616", "title": "Why is this sprite not being displayed on the screen?", "body": "<p>I can see two issues with your current code.</p>\n\n<ol>\n<li><p>You never flip your display.  This is generally performed after all blitting is complete for a given frame.  For example your while loop would look like this:</p>\n\n<pre><code>while True:\n    screen.blit(player.img, [player.imgx,player.imgy])\n    pygame.display.flip()\n\n    for event in pygame.event.get():\n        #print (event)\n        if event.type == QUIT:\n            pygame.quit()\n            sys.exit()\n</code></pre></li>\n<li><p>Your gameLoop() function doesn't know what \"screen\" is.  You will need to specify it somewhere. For example, right before your while loop starts would be fine.</p>\n\n<pre><code>screen = pygame.display.get_surface()\nwhile True:\n    screen.blit....\n</code></pre></li>\n</ol>\n\n<p>You will definitely want to restructure some things.  If I have some time later I will add to this answer my recommendations for how to restructure.  But for now, these two adjustments should get your program running.</p>\n"}], "owner": {"reputation": 37, "user_id": 4581836, "user_type": "registered", "accept_rate": 13, "profile_image": "https://lh6.googleusercontent.com/-KR7PXQYynHI/AAAAAAAAAAI/AAAAAAAAACg/HjcbVmiNJQ8/photo.jpg?sz=128", "display_name": "Benjamin Dagg", "link": "https://stackoverflow.com/users/4581836/benjamin-dagg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428539025, "creation_date": 1428533040, "last_edit_date": 1428535328, "question_id": 29526618, "link": "https://stackoverflow.com/questions/29526618/why-is-this-sprite-not-being-displayed-on-the-screen", "title": "Why is this sprite not being displayed on the screen?", "body": "<p>I made a class called <code>Player</code> that has an image called <em>player.img</em> that is not being displayed on the screen. When I run the code, it just displays a black screen with nothing on it. I'm trying to learn how to make classes so sorry if this is really messed up.</p>\n\n<pre><code>import pygame\nimport sys\nfrom pygame.locals import *\n\n#starts the program\npygame.init()\n\nwhite = (255, 255, 255)\nblack = (0, 0, 0)\nred = (255, 0, 0)\nblue = (0, 0, 255)\ngreen = (0, 255, 0)\nyellow = (255, 255, 153)\n\n#creates a window of 800x600\nsetDisplay = pygame.display.set_mode((800, 600))\npygame.display.set_caption('Menu')\n\nimg = pygame.image.load('C:\\\\Users\\\\Ben\\\\Documents\\\\sprite.png')\n\nclass Player(pygame.sprite.Sprite):\n        def __init__(self):\n                pygame.sprite.Sprite.__init__(self)\n                self.img = pygame.image.load('C:\\\\Users\\\\Ben\\\\Documents\\\\sprite.png').convert()\n                self.imgx = 10\n                self.imgy = 10\n                self.screen = pygame.display.get_surface()\n        def draw(self):\n                self.screen.blit(self.img)\n\n        def load(self, filename):\n                self.img = pygame.image.load('C:\\\\Users\\\\Ben\\\\Documents\\\\sprite.png').convert_alpha()\n\n\nplayer = Player()              \n\ndef gameLoop():\n    imgx = 10\n    imgy = 10\n    lead_x_change = 0\n    lead_y_change = 0\n    move_variable = 5\n\n    while True:\n        screen.blit(player.img, [player.imgx,player.imgy])\n\n        for event in pygame.event.get():\n            #print (event)\n            if event.type == QUIT:\n                pygame.quit()\n                sys.exit()\n\ngameLoop()\n</code></pre>\n"}, {"tags": ["python", "django", "jquery-select2"], "comments": [{"owner": {"reputation": 635, "user_id": 449460, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/25931be65dc77eebcbf4aaf4421a6136?s=128&d=identicon&r=PG&f=1", "display_name": "skndstry", "link": "https://stackoverflow.com/users/449460/skndstry"}, "edited": false, "score": 0, "creation_date": 1428533721, "post_id": 29526511, "comment_id": 47207862, "body": "send an ajax request on tag creation (before submit) to save the new tag?"}, {"owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1428534139, "post_id": 29526511, "comment_id": 47207984, "body": "Are you using <code>django-select2</code> (or one of the many Django applications for working with Select2) at all?"}, {"owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "reply_to_user": {"reputation": 635, "user_id": 449460, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/25931be65dc77eebcbf4aaf4421a6136?s=128&d=identicon&r=PG&f=1", "display_name": "skndstry", "link": "https://stackoverflow.com/users/449460/skndstry"}, "edited": false, "score": 0, "creation_date": 1428534199, "post_id": 29526511, "comment_id": 47208004, "body": "@skndstry not sure if that is the best way"}, {"owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "reply_to_user": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1428534233, "post_id": 29526511, "comment_id": 47208011, "body": "@KevinBrown I&#39;m using plaing select2 with django. It&#39;s working great, the only problem is the validation one"}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "is_accepted": true, "score": 2, "last_activity_date": 1428534234, "creation_date": 1428534234, "answer_id": 29526840, "question_id": 29526511, "link": "https://stackoverflow.com/questions/29526511/allow-dynamic-choice-in-django-choicefield/29526840#29526840", "title": "Allow dynamic choice in Django ChoiceField", "body": "<p>I would change the choicefield to charfield, and use the clean method to filter unwanted choices depending on certain conditions. Simply changing it to a char field with a select widget would work since Select2 is javascript anyways.</p>\n\n<pre><code>class Myform(forms.Form):\n    tags = forms.CharField(\n    max_length=254,\n    widget=forms.Select(\n        choices=tags,  # here we set choices as part of the select widget\n        attrs={\n            'class': 'question-tags',\n            'multiple': 'multiple',\n            }\n        )\n    )\n    def clean_tags(self):\n        tags = self.cleaned_data['tags']\n        # more tag cleaning logic here\n        return tags\n</code></pre>\n"}], "owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1904, "favorite_count": 1, "accepted_answer_id": 29526840, "answer_count": 1, "score": 6, "last_activity_date": 1428534234, "creation_date": 1428532393, "question_id": 29526511, "link": "https://stackoverflow.com/questions/29526511/allow-dynamic-choice-in-django-choicefield", "title": "Allow dynamic choice in Django ChoiceField", "body": "<p>I'm using <a href=\"https://select2.github.io/\" rel=\"noreferrer\">Select2</a> in my application for creating tags-like select dropdowns. Users can select number of predefined tags or create a new tag.</p>\n\n<p>Relevant forms class part:</p>\n\n<pre><code>   all_tags = Tag.objects.values_list('id', 'word')\n\n   # Tags\n    tags = forms.ChoiceField(\n        choices=all_tags,\n        widget=forms.Select(\n            attrs={\n                'class': 'question-tags',\n                'multiple': 'multiple',\n            }\n        )\n    )\n</code></pre>\n\n<p>The problem is that <code>Django</code> <strong>won't allow custom tags(choices)</strong> upon validation. There error I'm getting looks like this: <code>Select a valid choice. banana is not one of the available choices.</code></p>\n\n<p>Is there any way around it?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "regex", "simplification"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1428532516, "post_id": 29526482, "comment_id": 47207462, "body": "What is the regex supposed to do? Are the capture groups important, or did you simply added brackets?"}, {"owner": {"reputation": 381, "user_id": 2073037, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/880f43a5943a3edc94b799f4d4a4ce4b?s=128&d=identicon&r=PG", "display_name": "p0llard", "link": "https://stackoverflow.com/users/2073037/p0llard"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1428532566, "post_id": 29526482, "comment_id": 47207479, "body": "The capture groups are important. Where they are not, I&#39;ve used (?: ). I&#39;m adding a description."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428532722, "post_id": 29526482, "comment_id": 47207543, "body": "Requests for tools are off-topic. <i>&quot;Is there a way of simplifying it&quot;</i> feels a little too broad. What is this regex actually <b>for</b>?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428532967, "post_id": 29526482, "comment_id": 47207632, "body": "For one simplification, note that you can replace e.g. <code>(?:\\s+)?</code> (one or more whitespace characters, optionally) with <code>\\s*</code> (zero or more whitespace characters)"}, {"owner": {"reputation": 381, "user_id": 2073037, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/880f43a5943a3edc94b799f4d4a4ce4b?s=128&d=identicon&r=PG", "display_name": "p0llard", "link": "https://stackoverflow.com/users/2073037/p0llard"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428533089, "post_id": 29526482, "comment_id": 47207668, "body": "@jonrsharpe I have a lot of filenames of videos/music (from a backup) which are in one of the formats illustrated in the posts, with inconsistent spacing. I&#39;m trying to extract data from the file names so that I can categorise them again. I can&#39;t see any other way of doing so (ie. not using regex) as they don&#39;t have any metadata associated with them."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1428533261, "post_id": 29526482, "comment_id": 47207722, "body": "I would say the most important first step would be to put the regex into <a href=\"https://docs.python.org/2/library/re.html#re.X\" rel=\"nofollow noreferrer\">verbose</a> form, with comments, so it&#39;s actually readable."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428533322, "post_id": 29526482, "comment_id": 47207733, "body": "You could also use named capture groups to clarify what&#39;s going on (e.g. <code>(?P&lt;series&gt;\\d+)x(?P&lt;episode&gt;\\d+)</code>). What metadata are you trying to extract - what could be in each group?"}, {"owner": {"reputation": 381, "user_id": 2073037, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/880f43a5943a3edc94b799f4d4a4ce4b?s=128&d=identicon&r=PG", "display_name": "p0llard", "link": "https://stackoverflow.com/users/2073037/p0llard"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428533517, "post_id": 29526482, "comment_id": 47207788, "body": "@jonrsharpe I&#39;ll edit the post to make it more readable."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428533800, "post_id": 29526482, "comment_id": 47207882, "body": "Thanks. What is your goal with the simplification - make it more readable, shorter, faster, ...?"}, {"owner": {"reputation": 381, "user_id": 2073037, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/880f43a5943a3edc94b799f4d4a4ce4b?s=128&d=identicon&r=PG", "display_name": "p0llard", "link": "https://stackoverflow.com/users/2073037/p0llard"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428533903, "post_id": 29526482, "comment_id": 47207918, "body": "@jonrsharpe More readable is the main goal. Whilst it works, I don&#39;t really like it being so messy."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1428534418, "post_id": 29526731, "comment_id": 47208074, "body": "Why all the switches to <code>\\W</code> instead of <code>\\s</code>? I think some of those might be incorrect."}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1428534536, "post_id": 29526731, "comment_id": 47208115, "body": "@user2357112 They generated the same output as the original OP regex, you can test that in the first working demo link. It works for what OP used to match"}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": false, "score": 1, "last_activity_date": 1428534003, "last_edit_date": 1428534003, "creation_date": 1428533689, "answer_id": 29526731, "question_id": 29526482, "link": "https://stackoverflow.com/questions/29526482/simplifying-regexp/29526731#29526731", "title": "Simplifying Regexp", "body": "<p>You can discard some noncapturing group that are optional, for instance you can change this:</p>\n\n<pre><code>(\\d+)x(\\d+)(?:\\s+)?-(?:\\s+)?([^\\(\\)]+)(?:\\s+)?\\((\\d+)(?:(?:\\s+)?-(?:\\s+)?([^\\(\\)]+))?\\)(?:(?:\\s+)?\\(([^\\(\\)]+)\\))?(?:(?:\\s+)?-(?:\\s+)?([^\\(\\)]+) \\((\\d+)\\))?\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>(\\d+)x(\\d+)\\W+([^()]+)\\D+\\((\\d+)(?:\\W*-\\W*([^()]+))?\\)(?:\\W*\\(([^()]+)\\))?(?:\\W*-\\W*([^()]+) \\((\\d+)\\))?\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/cK7wE5/1\" rel=\"nofollow\">Working demo</a></strong></p>\n\n<p>I could replace some <code>(?:\\s+)?</code> by <code>\\W*</code> and also you don't have to escape parentheses in character classes <code>[^\\(\\)]</code> you could use <code>[^()]</code></p>\n\n<p>Btw, you can test this regex too, it might be useful for you:</p>\n\n<pre><code>(\\d+)x(\\d+)|-\\s*([\\w\\s]+)|(\\w+)\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/cK7wE5/2\" rel=\"nofollow\">Working demo</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "is_accepted": false, "score": 0, "last_activity_date": 1428543072, "last_edit_date": 1428543072, "creation_date": 1428537446, "answer_id": 29527374, "question_id": 29526482, "link": "https://stackoverflow.com/questions/29526482/simplifying-regexp/29527374#29527374", "title": "Simplifying Regexp", "body": "<p>In order to simplify the problem, consider breaking it in two parts: 1. get the strings (could contain numbers or letters) and 2. get the numbers when the strings contain numbers:</p>\n\n<pre><code>data = '''21x04 - Some Text (04)\n6x03 - Some Text (00 - Some Text)\n6x03 - Some Text (00 - Some Text) (Some Text)\n23x01 - Some Text (10) - Some Text (02)'''\n\nimport re\n\n# the regex to extract your data as strings\naaa = re.compile('[\\w\\s]+')\n\n# the regex to extract the numbers from the strings\nnnn = re.compile('\\d+')\n\nfor line in data.split('\\n'):\n    matches = aaa.findall(line)\n    groups = []\n    for m in matches:\n        m = m.strip()\n        n = nnn.findall(m)\n        if m != '':\n            groups.extend([m] if n == [] else n)\n    print(groups)\n\n    # ['21', '04', 'Some Text', '04']\n    # ['6', '03', 'Some Text', '00', 'Some Text']\n    # ['6', '03', 'Some Text', '00', 'Some Text', 'Some Text']\n    # ['23', '01', 'Some Text', '10', 'Some Text', '02']\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 2073037, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/880f43a5943a3edc94b799f4d4a4ce4b?s=128&d=identicon&r=PG", "display_name": "p0llard", "link": "https://stackoverflow.com/users/2073037/p0llard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1428543072, "creation_date": 1428532273, "last_edit_date": 1428532735, "question_id": 29526482, "link": "https://stackoverflow.com/questions/29526482/simplifying-regexp", "title": "Simplifying Regexp", "body": "<p>I have the following regexp (using Python syntax):</p>\n\n<pre><code>(\\d+)x(\\d+)(?:\\s+)?-(?:\\s+)?([^\\(\\)]+)(?:\\s+)?\\((\\d+)(?:(?:\\s+)?-(?:\\s+)?([^\\(\\)]+))?\\)(?:(?:\\s+)?\\(([^\\(\\)]+)\\))?(?:(?:\\s+)?-(?:\\s+)?([^\\(\\)]+) \\((\\d+)\\))?\n</code></pre>\n\n<p>It matches strings which fit one of the following forms:</p>\n\n<pre><code>21x04 - Some Text (04)\n6x03 - Some Text (00 - Some Text)\n6x03 - Some Text (00 - Some Text) (Some Text)\n23x01 - Some Text (10) - Some Text (02)\n</code></pre>\n\n<p>The numbers and text vary, and are captured. However, the spacing is not always consistent, so it is designed to allow for any number of spaces.</p>\n\n<p>Is there a way of simplifying it - I'm not necessarily asking for someone to do this for me, just to tell me if there are tools (a Google search yielded a few  results, but none of them could handle it), or a systematic method of doing this.</p>\n\n<p>Or can anyone see a better regex that fits this scenario?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15144, "user_id": 159388, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2891cf8a08784976cf1643f5009a4f59?s=128&d=identicon&r=PG", "display_name": "murgatroid99", "link": "https://stackoverflow.com/users/159388/murgatroid99"}, "edited": false, "score": 4, "creation_date": 1428532076, "post_id": 29526431, "comment_id": 47207297, "body": "do you know what <code>eval</code> does?"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1428532122, "post_id": 29526431, "comment_id": 47207308, "body": "<code>eval(input())</code> seems like quite a bad idea. It allows the user to execute arbitrary code by typing it in at the prompt."}, {"owner": {"reputation": 4371, "user_id": 2058270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a06931a6743fd9dd7c881818498b1af4?s=128&d=identicon&r=PG", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2058270/ajay"}, "edited": false, "score": 0, "creation_date": 1428532289, "post_id": 29526431, "comment_id": 47207378, "body": "Where is your classify()"}, {"owner": {"reputation": 11, "user_id": 4760199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df83d4d46a8684b29d0a4ddb6b68171a?s=128&d=identicon&r=PG&f=1", "display_name": "tankchi", "link": "https://stackoverflow.com/users/4760199/tankchi"}, "reply_to_user": {"reputation": 15144, "user_id": 159388, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2891cf8a08784976cf1643f5009a4f59?s=128&d=identicon&r=PG", "display_name": "murgatroid99", "link": "https://stackoverflow.com/users/159388/murgatroid99"}, "edited": false, "score": 0, "creation_date": 1428532313, "post_id": 29526431, "comment_id": 47207390, "body": "@murgatroid99  So far I&#39;ve used it to convert strings to ints. I also tried int() and float() and neither of those work either."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1428532368, "post_id": 29526431, "comment_id": 47207405, "body": "Is this Python 2 or 3?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1428532636, "post_id": 29526431, "comment_id": 47207509, "body": "Better to remove <code>classify()</code> from your sample code, and to remove it entirely from the question [that is, not trying to call it from <code>main()</code>], than to add it. One or the other was necessary, though, since your test code couldn&#39;t be run otherwise, which is a necessary step to having a Minimal, <b>Complete, Verifiable</b> Example. (see <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>). [Removing the call to the unnecessary function is a step to making your example &quot;minimal&quot;, another part of the definition]."}], "answers": [{"comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1428532954, "post_id": 29526523, "comment_id": 47207626, "body": "Why not a simple <code>while True:</code> with break conditions for both values and eliminate all the code before the while (not a great fan of this repeat -&gt; until pattern). And if you you keep this pattern you should also move classify into the while loop as the first statement to avoid calling classify if not <code>un</code> or <code>cr</code> (and removing the other call to classify"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1428533183, "post_id": 29526523, "comment_id": 47207699, "body": "Very true - if we&#39;re going to use <code>break</code>, might as well use it all the way. I&#39;ll edit the answer."}, {"owner": {"reputation": 11, "user_id": 4760199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df83d4d46a8684b29d0a4ddb6b68171a?s=128&d=identicon&r=PG&f=1", "display_name": "tankchi", "link": "https://stackoverflow.com/users/4760199/tankchi"}, "edited": false, "score": 0, "creation_date": 1428534434, "post_id": 29526523, "comment_id": 47208081, "body": "Thanks (again), it&#39;s really helpful to hear when and where I should be using what functions."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428535152, "post_id": 29526523, "comment_id": 47208301, "body": "I recommend looking up the built-in <a href=\"https://docs.python.org/3/library/functions.html\" rel=\"nofollow noreferrer\">functions</a> and <a href=\"https://docs.python.org/3/library/stdtypes.html\" rel=\"nofollow noreferrer\">types</a> to provide a good foundation of useful tools."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1428533573, "last_edit_date": 1428533573, "creation_date": 1428532471, "answer_id": 29526523, "question_id": 29526431, "link": "https://stackoverflow.com/questions/29526431/eval-unexpected-eof-while-parsing/29526523#29526523", "title": "eval () Unexpected EOF while parsing", "body": "<p>You shouldn't be using <code>eval()</code> to turn a string into an integer. Use <code>int</code> instead.</p>\n\n<pre><code>def main():\n\n    un = input('Student: ')\n    cr = input('Credits: ')\n    classify(int(cr), un)\n    while un and cr:\n        un = input('Student: ')\n        cr = input('Credits: ')\n        classify(int(cr), un)\n</code></pre>\n\n<p>Credits must still be entered even after skipping the student name because the <code>while</code> condition is only evaluated before going into the code block, not after every statement in the block. If you want it to stop immediately when the user skips the student or credit value, do this:</p>\n\n<pre><code>def main():\n\n    while 1:\n        un = input('Student: ')\n        if not un: break\n        cr = input('Credits: ')\n        if not cr: break\n        classify(int(cr), un)\n</code></pre>\n\n<p>And, of course, use <code>input</code> for Python 3, and <code>raw_input</code> for Python 2.</p>\n"}], "owner": {"reputation": 11, "user_id": 4760199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df83d4d46a8684b29d0a4ddb6b68171a?s=128&d=identicon&r=PG&f=1", "display_name": "tankchi", "link": "https://stackoverflow.com/users/4760199/tankchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1251, "favorite_count": 0, "accepted_answer_id": 29526523, "answer_count": 1, "score": -1, "last_activity_date": 1428533573, "creation_date": 1428531979, "last_edit_date": 1428532553, "question_id": 29526431, "link": "https://stackoverflow.com/questions/29526431/eval-unexpected-eof-while-parsing", "title": "eval () Unexpected EOF while parsing", "body": "<p>So I'm trying to get two inputs that separate usernames by credit hours and every time after I've exited the loop I get an unexpected EOF.</p>\n\n<pre><code>fresh = []\nsoph = []\njun = []\nsen = []\n\ndef classify(cr, un):\n     if cr &lt;= 27:\n         fresh.append(un)\n         print(un, 'is a freshman.\\n')\n     elif 28 &lt;= cr &lt;= 56:\n         soph.append(un)\n         print(un, 'is a sophomore.\\n')\n     elif 57 &lt;= cr &lt;= 84:\n         jun.append(un)\n         print(un, 'is a junior.\\n')\n     elif cr &gt;= 85:\n         sen.append(un)\n         print(un, 'is a senior\\n')\n\n\ndef main():\n\n     un = input('Student: ')\n     cr = eval(input('Credits: '))\n     while un and cr != '':\n         un = input('Student: ')\n         cr = eval(input('Credits: '))\n         classify(cr, un)\n</code></pre>\n\n<p>Specifically the error I get is:</p>\n\n<pre><code>File \"./class.py\", line 58, in &lt;module&gt;\n  main()\nFile \"./class.py\", line 51, in main\n  cr = eval(input('Credits: '))\nFile \"&lt;string&gt;\", line 0\n</code></pre>\n\n<p>I'm not sure if it's related (or if it's just something I'm overlooking) but I have to enter through Credit in order to exit the loop. Shouldn't the loop exit after pressing enter when Student comes up due to the AND operator?</p>\n\n<p>edit: added classify func. I don't think this is the problem though, I've tried removing it and it still brings me back to the EOF.</p>\n"}, {"tags": ["python", "scipy", "curve-fitting"], "comments": [{"owner": {"reputation": 636, "user_id": 3255247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727fe5d4e747f49280bab38c29c69234?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Custer", "link": "https://stackoverflow.com/users/3255247/jon-custer"}, "edited": false, "score": 2, "creation_date": 1428538581, "post_id": 29526415, "comment_id": 47209259, "body": "You could backdoor it through your function storing the passed parameters of the last call. Kludgy but it will work..."}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 293594, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/236ff5ec4ac5714b8f28542d5299ec90?s=128&d=identicon&r=PG", "display_name": "xnx", "link": "https://stackoverflow.com/users/293594/xnx"}, "is_accepted": false, "score": 0, "last_activity_date": 1428535534, "creation_date": 1428535534, "answer_id": 29527076, "question_id": 29526415, "link": "https://stackoverflow.com/questions/29526415/get-last-iteration-of-failed-fit-parameters-in-curvefit-scipy/29527076#29527076", "title": "Get last iteration of failed fit parameters in curvefit/scipy", "body": "<p>According to <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html\" rel=\"nofollow\">the docs on <code>curve_fit</code></a>, additional keyword arguments are passed to <code>leastsq</code> which <code>curve_fit</code> calls. So (in recent versions of SciPy) I think you can pass <code>full_output=True</code> to <code>curve_fit</code> to obtain the information: <code>popt, pcov, infodict, errmsg, ier</code> described in the <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.leastsq.html#scipy.optimize.leastsq\" rel=\"nofollow\"><code>leastsq</code> docs</a>:</p>\n\n<ul>\n<li><code>infodict</code>: a dictionary of optional outputs</li>\n<li><code>errmsg</code>: A string message giving information about the cause of failure.</li>\n<li><code>ier</code>: An integer flag. If it is equal to 1, 2, 3 or 4, the solution was found. Otherwise, the solution was not found.</li>\n</ul>\n"}], "owner": {"reputation": 81, "user_id": 1981270, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/mgVDI.jpg?s=128&g=1", "display_name": "hachteja", "link": "https://stackoverflow.com/users/1981270/hachteja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428535534, "creation_date": 1428531866, "question_id": 29526415, "link": "https://stackoverflow.com/questions/29526415/get-last-iteration-of-failed-fit-parameters-in-curvefit-scipy", "title": "Get last iteration of failed fit parameters in curvefit/scipy", "body": "<p>When fitting with curvefit within scipy, is there any way for me to access the last iteration of a fit that failed? I'm having an issue where very similar data sets with similar features are blowing up during the fit, and I would like to see if the fitting algorithm is getting anywhere near a realistic solution.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "ipython-notebook", "xlsxwriter"], "comments": [{"owner": {"reputation": 111, "user_id": 3990099, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1f8aa812dc9dd3247ab02b043bf99feb?s=128&d=identicon&r=PG&f=1", "display_name": "datacurious", "link": "https://stackoverflow.com/users/3990099/datacurious"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1428532069, "post_id": 29526340, "comment_id": 47207295, "body": "I open the file in Excel (2013) and its blank. Its the same for my cowoker"}, {"owner": {"reputation": 111, "user_id": 3990099, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1f8aa812dc9dd3247ab02b043bf99feb?s=128&d=identicon&r=PG&f=1", "display_name": "datacurious", "link": "https://stackoverflow.com/users/3990099/datacurious"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1428532615, "post_id": 29526340, "comment_id": 47207500, "body": "just installed Libre and the graph also does not show up..."}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1428533338, "post_id": 29526340, "comment_id": 47207738, "body": "Okay, thanks for the edits. You&#39;re using an older version (I&#39;m running 0.7.2) but I found 0.5.5 floating around and it worked for me too (I guess there could be a bug introduced between 0.5.5 and 0.5.7 and then fixed, but that seems unlikely.)  Those are the right files the xlsx should contain.  I&#39;d suggest some weird Excel thing, but that wouldn&#39;t explain why you couldn&#39;t see it in libreoffice either.  So I&#39;m afraid I&#39;m stumped. :-/"}], "answers": [{"tags": [], "owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "is_accepted": false, "score": 1, "last_activity_date": 1428538293, "creation_date": 1428538293, "answer_id": 29527506, "question_id": 29526340, "link": "https://stackoverflow.com/questions/29526340/xlsxwriter-charts-dont-show-up/29527506#29527506", "title": "xlsxwriter charts don&#39;t show up?", "body": "<p>There haven't been any reported issues of charts not displaying in Excel in any version of XlsxWriter that supported charts.</p>\n\n<p>There are also almost 300 chart comparison tests in the XlsxWriter codebase that test the charts that it produces byte for byte against files produces by Excel. These are all passing.</p>\n\n<p>Also, the output from zipfile in your post clearly shows the chart elements are there. If they were present but incorrect Excel would complain when it loaded the file.</p>\n\n<p>And the code that you link to has a screenshot of the output that clearly shows a chart.</p>\n\n<p>I also ran the code and see the chart in 3 versions of Excel and 1 version of LibreOffice.</p>\n\n<p>So you need to go back and verify your results. If you think there is an issue then create a small working program that demonstrates it and submit a bug report.</p>\n"}], "owner": {"reputation": 111, "user_id": 3990099, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1f8aa812dc9dd3247ab02b043bf99feb?s=128&d=identicon&r=PG&f=1", "display_name": "datacurious", "link": "https://stackoverflow.com/users/3990099/datacurious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1428538293, "creation_date": 1428531481, "last_edit_date": 1428532826, "question_id": 29526340, "link": "https://stackoverflow.com/questions/29526340/xlsxwriter-charts-dont-show-up", "title": "xlsxwriter charts don&#39;t show up?", "body": "<p>I am using xlsxwriter to add charts to different worksheets in ipython and everything works, except my graphs are never showing up in the worksheets. There are no error messages.</p>\n\n<p>When I tested the code from the documentation I also get a empty excel workbook.\nI've tried it with xlsxwriter.Workbook and pd.ExcelWriter('test.xlsx', engine='xlsxwriter') but with both the workbook generates but no graphs are added.</p>\n\n<p>How can I make the graphs show up?</p>\n\n<p>Code from the documentation:\n<a href=\"http://xlsxwriter.readthedocs.org/en/latest/working_with_charts.html\" rel=\"nofollow\">http://xlsxwriter.readthedocs.org/en/latest/working_with_charts.html</a></p>\n\n<pre><code>import xlsxwriter\n\nworkbook = xlsxwriter.Workbook('chart_line.xlsx')\nworksheet = workbook.add_worksheet()\n\n# Add the worksheet data to be plotted.\ndata = [10, 40, 50, 20, 10, 50]\nworksheet.write_column('A1', data)\n\n# Create a new chart object.\nchart = workbook.add_chart({'type': 'line'})\n\n# Add a series to the chart.\nchart.add_series({'values': '=Sheet1!$A$1:$A$6'})\n\n# Insert the chart into the worksheet.\nworksheet.insert_chart('C1', chart)\n\nworkbook.close()\n</code></pre>\n\n<p>The results for \nprint(xlsxwriter.<strong>version</strong>)  </p>\n\n<p>0.5.7</p>\n\n<p>print(zipfile.ZipFile(\"chart_line.xlsx\").namelist()) </p>\n\n<p>['xl/worksheets/sheet1.xml', 'xl/workbook.xml', 'xl/charts/chart1.xml', 'xl/drawings/drawing1.xml', 'docProps/app.xml', 'docProps/core.xml', '[Content_Types].xml', 'xl/styles.xml', 'xl/theme/theme1.xml', '_rels/.rels', 'xl/_rels/workbook.xml.rels', 'xl/worksheets/_rels/sheet1.xml.rels', 'xl/drawings/_rels/drawing1.xml.rels']</p>\n"}, {"tags": ["python", "multithreading", "loops"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1428531627, "post_id": 29526334, "comment_id": 47207142, "body": "I don&#39;t have time to test this at the moment, but it might work if you simple mark your thread <code>daemon=True</code> and make a <code>while True: pass</code> at the end"}, {"owner": {"reputation": 2291, "user_id": 726150, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d93ef297f89c59c1df8878f80ce4c37b?s=128&d=identicon&r=PG", "display_name": "DevilWAH", "link": "https://stackoverflow.com/users/726150/devilwah"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1428532056, "post_id": 29526334, "comment_id": 47207289, "body": "Hi, Oh that seems to work great :) think I have lots to learn about Python and threading as its not a strength of mine. If you want to post as a solution I be happy to accept it. Cheers"}, {"owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "edited": false, "score": 2, "creation_date": 1428532258, "post_id": 29526334, "comment_id": 47207365, "body": "This is a duplicate of <a href=\"http://stackoverflow.com/questions/19208825/python-2-7-child-thread-not-catching-keyboardinterrupt\">this question</a>"}, {"owner": {"reputation": 2291, "user_id": 726150, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d93ef297f89c59c1df8878f80ce4c37b?s=128&d=identicon&r=PG", "display_name": "DevilWAH", "link": "https://stackoverflow.com/users/726150/devilwah"}, "edited": false, "score": 0, "creation_date": 1428532909, "post_id": 29526334, "comment_id": 47207612, "body": "Indeed Darth, sorry did not find that when searching. in those comments it says &quot;To be able to stop the other threads, make them check for an event from time to time, and then exit voluntarily.&quot; IT would be nice to see an example of a child thread that &quot;check&quot; to insure the parent thread is still running and if not gracefully exit."}], "owner": {"reputation": 2291, "user_id": 726150, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d93ef297f89c59c1df8878f80ce4c37b?s=128&d=identicon&r=PG", "display_name": "DevilWAH", "link": "https://stackoverflow.com/users/726150/devilwah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428531746, "creation_date": 1428531463, "last_edit_date": 1428531746, "question_id": 29526334, "link": "https://stackoverflow.com/questions/29526334/breaking-a-python-loop", "title": "Breaking a Python loop", "body": "<p>OK so I want to create an endless loop in Python, the reason is I want to eventually create 4 software pulse with modulated outputs. Because of the nature of PWM is switching in terms of thousands per second I figured I would need 4 threads one for each instance. Now I know I could get some hardware and create hardware PWM outputs, but for testing stuff I want to use software. </p>\n\n<p>to start with I just created the fowling simple snip-it of code. Very simple it creates a single thread and then prints on/off once ever 0.5 seconds. </p>\n\n<p>The issue I found is that it is an endless loop (which is good), but I realised that I cant use Ctrl^c to break out of the loop during testing. To insure that if I need to break out of the code while it is running during testing where would be the best place to put the \"try\" block, I see that once the main loop exits the ctrl^c is no longer captured. </p>\n\n<p>Thank you</p>\n\n<pre><code>#!/usr/bin/python\n\nimport threading\nimport time\n\nexitFlag = 0\n\nclass myThread (threading.Thread):\n    def __init__(self, threadID, name, pin):\n        threading.Thread.__init__(self)\n        self.threadID = threadID\n        self.name = name\n        self.pin = pin\n    def run(self):\n        print \"Starting \" + self.name\n        print_time(self.pin)\n        print \"Exiting \" + self.name\n\ndef print_time(pin):\n    while True:\n         try:\n              on = .5\n              off = .5\n              print  (pin, \"on\")\n              time.sleep(on)\n              print (pin, \"off\")\n              time.sleep(off)\n         except KeyboardInterrupt:\n              break\n         except:\n              break\n\n# Create new threads\nthread1 = myThread(1, \"Thread-1\", 11)\n\n# Start new Threads\nthread1.start()\n\nprint \"Exiting Main Thread\"\n\n\n    pi@UnderTV ~ $ ./threads2.py\nExiting Main Thread\nStarting Thread-1\n(11, 'on')\n(11, 'off')\n(11, 'on')\n(11, 'off')\n(11, 'on')\n(11, 'off')\n(11, 'on')\n(11, 'off')\n^X(11, 'on')\n^X(11, 'off')\n(11, 'on')\n^C(11, 'off')\n^C(11, 'on')\n^C(11, 'off')\n</code></pre>\n"}, {"tags": ["python", "django", "django-templates"], "answers": [{"comments": [{"owner": {"reputation": 1123, "user_id": 1275068, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c1e6b535ce7c8c537386a9153e52f259?s=128&d=identicon&r=PG", "display_name": "Senthil Babu", "link": "https://stackoverflow.com/users/1275068/senthil-babu"}, "edited": false, "score": 0, "creation_date": 1428556578, "post_id": 29530229, "comment_id": 47214167, "body": "Huh. So I have to rewrite the code for any such tag. I just have cycle tag as an example here. I have bunch of other third party tags like that and I want to unpack a list for all of them. Rewriting every tag with a new name seems bad design. I am surprised the django designers never thought about such a basic use case."}, {"owner": {"reputation": 919, "user_id": 3083788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d1e1fcb6ad7389acbbe21b489c9305?s=128&d=identicon&r=PG", "display_name": "laidibug", "link": "https://stackoverflow.com/users/3083788/laidibug"}, "reply_to_user": {"reputation": 1123, "user_id": 1275068, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c1e6b535ce7c8c537386a9153e52f259?s=128&d=identicon&r=PG", "display_name": "Senthil Babu", "link": "https://stackoverflow.com/users/1275068/senthil-babu"}, "edited": false, "score": 0, "creation_date": 1428593166, "post_id": 29530229, "comment_id": 47237011, "body": "It&#39;s not the case for every tag, I&#39;m referring to the cycle tag in particular. Take in on a case by case basis. The built in django tags cover the most common scenarios, rest is up to you."}], "tags": [], "owner": {"reputation": 919, "user_id": 3083788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d1e1fcb6ad7389acbbe21b489c9305?s=128&d=identicon&r=PG", "display_name": "laidibug", "link": "https://stackoverflow.com/users/3083788/laidibug"}, "is_accepted": false, "score": 2, "last_activity_date": 1428556165, "creation_date": 1428556165, "answer_id": 29530229, "question_id": 29526291, "link": "https://stackoverflow.com/questions/29526291/unpack-a-list-to-cycle-tag-in-django/29530229#29530229", "title": "Unpack a list to cycle tag in django", "body": "<p>The built in django cycle tag does not support passing in variables.\nYou can make your own custom tag though.\nSomething like this should work:</p>\n\n<pre><code>import itertools\nfrom django import template\nregister = template.Library()\n\n\nclass CycleNode(template.Node):\n    def __init__(self, cyclevars):\n        self.cyclevars = template.Variable(cyclevars)\n\n    def render(self, context):\n        names = self.cyclevars.resolve(context)\n        if self not in context.render_context:\n            context.render_context[self] = itertools.cycle(names)\n        cycle_iter = context.render_context[self]\n        return next(cycle_iter)\n\n\n@register.tag\ndef cycle_list(parser, token):\n    try:\n        tag_name, arg = token.contents.split(None, 1)\n    except ValueError:\n        raise template.TemplateSyntaxError(\n            \"%r tag requires an argument\" % token.contents.split()[0]\n        )\n    node = CycleNode(arg)\n    return node\n</code></pre>\n\n<p>And then in the template:</p>\n\n<pre><code>{% cycle_list some_list %}\n</code></pre>\n"}], "owner": {"reputation": 1123, "user_id": 1275068, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c1e6b535ce7c8c537386a9153e52f259?s=128&d=identicon&r=PG", "display_name": "Senthil Babu", "link": "https://stackoverflow.com/users/1275068/senthil-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1428556165, "creation_date": 1428531188, "question_id": 29526291, "link": "https://stackoverflow.com/questions/29526291/unpack-a-list-to-cycle-tag-in-django", "title": "Unpack a list to cycle tag in django", "body": "<p>I know, I can do something like</p>\n\n<pre><code>{% cycle \"value1\" \"value2\" %}\n</code></pre>\n\n<p>But what if I have all my input values in a list. Can I do something like?</p>\n\n<pre><code>{% cycle my_input_list %}\n</code></pre>\n"}, {"tags": ["python", "matplotlib-basemap"], "comments": [{"owner": {"reputation": 449, "user_id": 1705012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cd3207b36270bea1278ffb6971ba24c?s=128&d=identicon&r=PG", "display_name": "Thom Chubb", "link": "https://stackoverflow.com/users/1705012/thom-chubb"}, "edited": false, "score": 0, "creation_date": 1428628468, "post_id": 29526176, "comment_id": 47254846, "body": "Does this happen for other backends? Can you please post some code that reproduces the problem (a minimal example)?"}, {"owner": {"reputation": 151, "user_id": 1428655, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GBSG4.jpg?s=128&g=1", "display_name": "awulll", "link": "https://stackoverflow.com/users/1428655/awulll"}, "reply_to_user": {"reputation": 449, "user_id": 1705012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cd3207b36270bea1278ffb6971ba24c?s=128&d=identicon&r=PG", "display_name": "Thom Chubb", "link": "https://stackoverflow.com/users/1705012/thom-chubb"}, "edited": false, "score": 0, "creation_date": 1429016932, "post_id": 29526176, "comment_id": 47399276, "body": "I tried to post a figure but I don&#180;t have permission yet. It doesn&#180;t matter the code.  - If you use Basemap to plot, when zomming, the figure size is modified.  - If you plot any other thing just with matplotlib the size is not modified by the zoom process, but you have a distortion in the axes to keep the figure with the same size.  I didn&#180;t find a way to zoom with basemap but keeping the same figure size, such as happens when you use the zoom tool in google maps or arcgis for example."}], "owner": {"reputation": 151, "user_id": 1428655, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GBSG4.jpg?s=128&g=1", "display_name": "awulll", "link": "https://stackoverflow.com/users/1428655/awulll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 909, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1428530533, "creation_date": 1428530533, "question_id": 29526176, "link": "https://stackoverflow.com/questions/29526176/zoom-in-basemap", "title": "Zoom in Basemap", "body": "<p>I'm using pyqt4 and basemap among others packages to produce an application. \nWhile I use the zoom in Basemap, it's changes the figure size.\nThis just happens when I plot something using basemap and I think this is because basemap doesn't allow any distortions. \nIs there any way to keep the figure size fixed? </p>\n"}, {"tags": ["python", "sql", "security", "sqlite", "sql-injection"], "comments": [{"owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1428530598, "post_id": 29526143, "comment_id": 47206708, "body": "Ok, look, it&#39;s <a href=\"https://docs.python.org/3.4/library/sqlite3.html\" rel=\"nofollow noreferrer\">the documentation</a>!"}, {"owner": {"reputation": 17, "user_id": 4754163, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/99aaeaeb357cbbe251ef44bd42ae0f86?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Jean", "link": "https://stackoverflow.com/users/4754163/sean-jean"}, "reply_to_user": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1428531025, "post_id": 29526143, "comment_id": 47206887, "body": "@Carsten could you point out some examples?"}, {"owner": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "edited": false, "score": 0, "creation_date": 1428531571, "post_id": 29526143, "comment_id": 47207116, "body": "Have you actually checked if it&#39;s vulnerable to SQL Injection by testing it? There are several ways to test it."}, {"owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1428531776, "post_id": 29526143, "comment_id": 47207192, "body": "@SeanJean No, because it&#39;s in the first section. Oh come on, have the decency and read for 5 minutes to avoid lots and lots of terrible things. They literally write about your method <i>&quot;Never do this -- insecure!&quot;</i>"}, {"owner": {"reputation": 17, "user_id": 4754163, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/99aaeaeb357cbbe251ef44bd42ae0f86?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Jean", "link": "https://stackoverflow.com/users/4754163/sean-jean"}, "reply_to_user": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1428531952, "post_id": 29526143, "comment_id": 47207254, "body": "@Carsten okay then go elsewhere, i am completely new to this, and have no idea what any of this code means"}], "answers": [{"comments": [{"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1428561665, "post_id": 29526335, "comment_id": 47216336, "body": "SQLite does not have stored procedures; and the naive approach of giving the strings to the SP call would introduce exactly the same problem."}], "tags": [], "owner": {"reputation": 18953, "user_id": 4640209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86bc12112054e578fc0bcd333cbb2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4640209/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1428566773, "last_edit_date": 1428566773, "creation_date": 1428531471, "answer_id": 29526335, "question_id": 29526143, "link": "https://stackoverflow.com/questions/29526143/sql-injection-vulnerability-identification-in-python/29526335#29526335", "title": "SQL Injection Vulnerability Identification in Python", "body": "<p>For example this statement is vulnerable to SQL injection:</p>\n\n<pre><code>cursor.execute(\"insert into user(username, password)\"\n         \"  values('{0}', '{1}')\".format(username, password))\n</code></pre>\n\n<p>I could for example enter the username: </p>\n\n<pre><code>test','secret');update user set password='';--\n</code></pre>\n\n<p>You should use parametrised queries instead. Using SQLLite you can call the sql like this instead:</p>\n\n<p>cmd = \"insert into user(username, password values(?, ?)\"\ncurs.execute(cmd, (username, password))</p>\n"}], "owner": {"reputation": 17, "user_id": 4754163, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/99aaeaeb357cbbe251ef44bd42ae0f86?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Jean", "link": "https://stackoverflow.com/users/4754163/sean-jean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1093, "favorite_count": 0, "closed_date": 1428566439, "answer_count": 1, "score": -2, "last_activity_date": 1428566773, "creation_date": 1428530404, "question_id": 29526143, "link": "https://stackoverflow.com/questions/29526143/sql-injection-vulnerability-identification-in-python", "closed_reason": "Duplicate", "title": "SQL Injection Vulnerability Identification in Python", "body": "<p>I am supposed to look at this chunk of code and decide what parts could be vulnerable to SQL Injection, why and add fixes to them. I have been scanning the code looking for places that have too vague of parameters and such but i am having trouble finding places that could possibly be vulnerable. If anyone can just quickly scan through this code and point out any blatant vulnerabilities that would be great. The program really likes to give error messages when input is given with single quotes. This code is part of a program that tracks activities. There are 3 input fields, username, password and name of activity. Can post more code if anyone wants</p>\n\n<pre><code>#!/usr/bin/python3.4\n\nimport readline\nimport sqlite3\n\ndef audit(handle, event, obj=None):\n  \"\"\"Log an audit event.\"\"\"\n  if handle[2] is None:\n    handle[2]=-1;\n  if obj==None:\n    handle[0].execute(\"insert into auditlog(userid, event)\"\n                  \"  values({0}, '{1}')\".format(handle[2],event))\n  else:\n    handle[0].execute(\"insert into auditlog(userid, event, object)\"\n                  \"  values({0}, '{1}', {2})\".format(str(handle[2]),\n                                             event, obj))\n  if handle[0].lastrowid is None:\n    \"\"\"On error, raise a SystemException\"\"\"\n    handle[1].commit()\n    handle[1].close()\n    raise SystemError(\"Error creating audit log entry.\",\n                  handle[2],event,obj)\n  handle[1].commit()\n\ndef register(cursor, connection, username, password):\n  \"\"\"Register a new user and return a connection to the database.\"\"\"\n  cursor.execute(\"insert into user(username, password)\"\n             \"  values('{0}', '{1}')\".format(username, password))\n  userid=cursor.lastrowid;\n  if userid&gt;0:\n    audit((cursor, connection, userid), \"registered\")\n    connection.commit()\n    print(\"Welcome, new user!\")\n    return (cursor, connection, userid)\n  \"\"\"If the user could not be registered, raise a SystemError.\"\"\"\n  audit((cursor, connection, 0), \n    \"registeration error for {0}\".format(username))\n  connection.commit()\n  connection.close()\n  raise SystemError(\"Unknown error registering user\",username)\n\ndef connect(username, password):\n  \"\"\"Attempt to log in as the specified user.\"\"\"\n  connection=sqlite3.connect('timelog.db')\n  cursor=connection.cursor()\n  \"\"\"The database is created if necessary.\"\"\"\n  cursor.execute(\"create table if not exists user\"\n             \"( id integer primary key,\"\n             \"  username varchar(50) unique not null,\"\n     \"  password char(40) not null,\"\n     \"  created datetime default CURRENT_TIMESTAMP,\"\n     \"  modified datetime default CURRENT_TIMESTAMP\"\n     \")\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tkinter", "label"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2555451"}, "is_accepted": true, "score": 4, "last_activity_date": 1428530758, "creation_date": 1428530758, "answer_id": 29526216, "question_id": 29526128, "link": "https://stackoverflow.com/questions/29526128/how-to-eliminate-curly-braces-in-label-text/29526216#29526216", "title": "How to eliminate curly braces in Label (text=)", "body": "<p>The problem is that you are currently passing a tuple for the <code>text</code> parameter.  Instead, you should be passing a string.  You can use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.format\" rel=\"nofollow\"><code>str.format</code></a> to insert the dictionary length into this string:</p>\n\n<pre><code>self.status_bar = Label(self.status_bar, text=\"There are total {} entries in dictionary.\".format(len(dictionary_data)), bg=\"yellow\", relief=FLAT)\n</code></pre>\n"}], "owner": {"reputation": 842, "user_id": 4720339, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DMif5.png?s=128&g=1", "display_name": "Gunnm", "link": "https://stackoverflow.com/users/4720339/gunnm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 29526216, "answer_count": 1, "score": 0, "last_activity_date": 1428530758, "creation_date": 1428530346, "question_id": 29526128, "link": "https://stackoverflow.com/questions/29526128/how-to-eliminate-curly-braces-in-label-text", "title": "How to eliminate curly braces in Label (text=)", "body": "<p>How to eliminate curly braces around \"There are total\" and \"entries in dictionary\"</p>\n\n<p><img src=\"https://i.stack.imgur.com/sXneJ.png\" alt=\"enter image description here\"></p>\n\n<pre><code>self.status_bar = Label(self.status_bar, text=(\"There are total\", len(dictionary_data), \"entries in dictionary.\"), bg=\"yellow\", relief=FLAT)\n</code></pre>\n"}, {"tags": ["python", "code-analysis", "static-analysis", "static-code-analysis"], "comments": [{"owner": {"reputation": 7683, "user_id": 91756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eaa62a351a4d41982f24cbac269f77d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/91756/kevin"}, "edited": false, "score": 0, "creation_date": 1428532370, "post_id": 29526123, "comment_id": 47207406, "body": "How confident do you have to be? Darth Vader&#39;s solution (or just something like <code>grep -r django *</code>) will cover most cases, and would only be fooled by the tiny number of projects that started as one but mention the other."}], "answers": [{"comments": [{"owner": {"reputation": 7683, "user_id": 91756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eaa62a351a4d41982f24cbac269f77d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/91756/kevin"}, "edited": false, "score": 0, "creation_date": 1428531704, "post_id": 29526303, "comment_id": 47207170, "body": "this breaks on <code>import flask #so glad I don&#39;t have to type &quot;import django&quot; anymore!</code>"}, {"owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "reply_to_user": {"reputation": 7683, "user_id": 91756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eaa62a351a4d41982f24cbac269f77d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/91756/kevin"}, "edited": false, "score": 1, "creation_date": 1428532476, "post_id": 29526303, "comment_id": 47207445, "body": "@Kevin ermahgerd, so many people must have that comment in their code! In any case, I actually edited it to cover that scenario."}, {"owner": {"reputation": 7683, "user_id": 91756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eaa62a351a4d41982f24cbac269f77d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/91756/kevin"}, "edited": false, "score": 0, "creation_date": 1428532771, "post_id": 29526303, "comment_id": 47207568, "body": "I&#39;m not saying it&#39;d be common. :)  You could still fail on multiline string literals, but I concede that this is rare enough to not even bother with."}], "tags": [], "owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "is_accepted": false, "score": 2, "last_activity_date": 1428532410, "last_edit_date": 1428532410, "creation_date": 1428531267, "answer_id": 29526303, "question_id": 29526123, "link": "https://stackoverflow.com/questions/29526123/is-there-code-scanning-tool-to-tell-django-project-from-a-flask-project/29526303#29526303", "title": "Is there code scanning tool to tell Django project from a Flask project?", "body": "<p>Just something I threw together off the top of my head:</p>\n\n<pre><code>import glob\nimport os\nimport sys\n\nbase = None\n\nif sys.version.startswith('2'):\n    from __future__ import print_function\n    base = raw_input(\"Enter base dir: \")\nelse: \n    base = input(\"Enter base dir: \")\n\nos.chdir(base)\n\nfor file in glob.glob(\"*.py\"):\n    with open(file, 'r') as current:\n        for line in current.readlines()\n            if line.startswith(\"import django\"):\n                print(\"%s uses django\" % current.name)\n            elif line.startswith(\"import flask\"):\n                print(\"%s uses flask\" % current.name)\n            else:\n                print(\"%s does not use django or flask\" % current.name)\n</code></pre>\n"}], "owner": {"reputation": 3768, "user_id": 152859, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ec5798d9b903a32983bfa98b82ab907?s=128&d=identicon&r=PG", "display_name": "chen", "link": "https://stackoverflow.com/users/152859/chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1428532410, "creation_date": 1428530319, "question_id": 29526123, "link": "https://stackoverflow.com/questions/29526123/is-there-code-scanning-tool-to-tell-django-project-from-a-flask-project", "title": "Is there code scanning tool to tell Django project from a Flask project?", "body": "<p>I am wondering if there exists some tools that can scan code-base and then give a confident answer to \"is this code built from Django, or is this code built from Flask or Pylon?\" or 'did this code started from Django framework or Flask framework?'</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["android", "python", "sockets"], "answers": [{"tags": [], "owner": {"reputation": 964, "user_id": 3581959, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d9512660b1fc2250ffd6ac3a158b1d01?s=128&d=identicon&r=PG&f=1", "display_name": "MCHAppy", "link": "https://stackoverflow.com/users/3581959/mchappy"}, "is_accepted": true, "score": 6, "last_activity_date": 1428534306, "creation_date": 1428534306, "answer_id": 29526850, "question_id": 29526121, "link": "https://stackoverflow.com/questions/29526121/python-equivalent-of-java-datainputstream-readutf/29526850#29526850", "title": "Python equivalent of Java DataInputStream.readUTF()", "body": "<p>The below <code>DataInputStream</code> class provides (almost) all of the methods defined in Javas DataInputStream for reading primitive Java data types from an input stream including <code>readUTF()</code> method.</p>\n\n<pre><code>\"\"\"\nReading from Java DataInputStream format.\n\"\"\"\n\nimport struct\n\nclass DataInputStream:\n    def __init__(self, stream):\n        self.stream = stream\n\n    def read_boolean(self):\n        return struct.unpack('?', self.stream.read(1))[0]\n\n    def read_byte(self):\n        return struct.unpack('b', self.stream.read(1))[0]\n\n    def read_unsigned_byte(self):\n        return struct.unpack('B', self.stream.read(1))[0]\n\n    def read_char(self):\n        return chr(struct.unpack('&gt;H', self.stream.read(2))[0])\n\n    def read_double(self):\n        return struct.unpack('&gt;d', self.stream.read(8))[0]\n\n    def read_float(self):\n        return struct.unpack('&gt;f', self.stream.read(4))[0]\n\n    def read_short(self):\n        return struct.unpack('&gt;h', self.stream.read(2))[0]\n\n    def read_unsigned_short(self):\n        return struct.unpack('&gt;H', self.stream.read(2))[0]\n\n    def read_long(self):\n        return struct.unpack('&gt;q', self.stream.read(8))[0]\n\n    def read_utf(self):\n        utf_length = struct.unpack('&gt;H', self.stream.read(2))[0]\n        return self.stream.read(utf_length)\n\n    def read_int(self):\n        return struct.unpack('&gt;i', self.stream.read(4))[0]\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>with open('/tmp/stream', 'rb') as f:\n    dis = DataInputStream(f)\n    val = dis.read_int()\n    string = dis.read_utf()\n</code></pre>\n\n<p><strong>Note:</strong> You should note that the class has no exception handling and might not be accurate in the way it handles UTF-strings with NULL characters.</p>\n\n<p>Source code from <a href=\"https://github.com/arngarden/python_java_datastream\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 78, "user_id": 1897921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b010dc5b91f83469f021bba7a35aba4?s=128&d=identicon&r=PG", "display_name": "akkas", "link": "https://stackoverflow.com/users/1897921/akkas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2500, "favorite_count": 0, "accepted_answer_id": 29526850, "answer_count": 1, "score": 2, "last_activity_date": 1428534306, "creation_date": 1428530311, "last_edit_date": 1428530472, "question_id": 29526121, "link": "https://stackoverflow.com/questions/29526121/python-equivalent-of-java-datainputstream-readutf", "title": "Python equivalent of Java DataInputStream.readUTF()", "body": "<p>I am working on an Android application which communicates with Python based server. I'm using sockets for communication. Android application sends data in JSON format using DataOutputStream.writeUTF(). Code for sending data is as follows</p>\n\n<pre><code>    DataOutputStream dataOutputStream = new DataOutputStream(\n                   socket.getOutputStream());\n    JSONObject jsonData=new JSONObject();\n    jsonData.put(\"request\", \"signin\");\n    dataOutputStream.writeUTF(jsonData.toString());\n</code></pre>\n\n<p>I'm facing problem that DataOutputStream.writeUTF() writes two bytes at start of data which is length of data sent. For receiving data in server side I have to do 2 reads first for getting length of data and second to get actual data. Code for receiving data in Python is as follows</p>\n\n<pre><code>    data = conn_stream.recv(2)\n    data_length=struct.unpack('&gt;H',data)[0]\n    data=conn_stream.recv(data_length)\n</code></pre>\n\n<p>Is there any Python equivalent of Java DataInputStream.readUTF()?</p>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428530334, "post_id": 29526088, "comment_id": 47206587, "body": "You can specify dependencies in a <code>setup.py</code>, if that&#39;s what you mean, then <code>python setup.py install</code> will install those too. Alternatively, if there&#39;s not too much installation required for your script, provide a <a href=\"http://pip.readthedocs.org/en/latest/user_guide.html#requirements-files\" rel=\"nofollow noreferrer\">requirements file</a> with it so they can more conveniently install everything in one go."}, {"owner": {"reputation": 7583, "user_id": 310196, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/222fc4209d728b2996b390cf90e835a0?s=128&d=identicon&r=PG", "display_name": "devshorts", "link": "https://stackoverflow.com/users/310196/devshorts"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428530569, "post_id": 29526088, "comment_id": 47206697, "body": "I put in the dependencies there but when I do <code>python setup.py</code> it complains that the module folders aren&#39;t there. I&#39;d like for it to just install if its missing, something like the way npm does it? Not sure what I&#39;m missing"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428530654, "post_id": 29526088, "comment_id": 47206731, "body": "If your <code>setup.py</code> isn&#39;t working, perhaps you could share it, along with the complaints you&#39;re seeing? It&#39;s hard to provide helpful suggestions without seeing what you&#39;re working with; a <a href=\"http://stackoverflow.com/help/mcve\">minimal example</a> is always appreciated."}, {"owner": {"reputation": 7583, "user_id": 310196, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/222fc4209d728b2996b390cf90e835a0?s=128&d=identicon&r=PG", "display_name": "devshorts", "link": "https://stackoverflow.com/users/310196/devshorts"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428530871, "post_id": 29526088, "comment_id": 47206827, "body": "@jonrsharpe thanks for the help, I&#39;ve updated the question"}], "answers": [{"comments": [{"owner": {"reputation": 7583, "user_id": 310196, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/222fc4209d728b2996b390cf90e835a0?s=128&d=identicon&r=PG", "display_name": "devshorts", "link": "https://stackoverflow.com/users/310196/devshorts"}, "edited": false, "score": 0, "creation_date": 1428531004, "post_id": 29526238, "comment_id": 47206880, "body": "That works, is this the idiomatic way of dealing with package distribution in python?"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1428531114, "post_id": 29526238, "comment_id": 47206931, "body": "A solution without pip? It looks like the way to go is with source with the OP"}, {"owner": {"reputation": 149, "user_id": 2407615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zVu7U.jpg?s=128&g=1", "display_name": "hyunchel", "link": "https://stackoverflow.com/users/2407615/hyunchel"}, "edited": false, "score": 0, "creation_date": 1428531173, "post_id": 29526238, "comment_id": 47206952, "body": "Having <code>pip</code> replaced <code>easy_install</code> for installing python packages, yes. I&#39;m sure there are other ways around, but this is the default method when dealing with python packages via pip."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 7583, "user_id": 310196, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/222fc4209d728b2996b390cf90e835a0?s=128&d=identicon&r=PG", "display_name": "devshorts", "link": "https://stackoverflow.com/users/310196/devshorts"}, "edited": false, "score": 1, "creation_date": 1428531711, "post_id": 29526238, "comment_id": 47207172, "body": "@devshorts many packages you see on GitHub and elsewhere will have both <code>setup.py</code> and <code>requirements.txt</code> - often the former includes the minimal requirements for actually using the package, whereas the latter includes extra modules used for actual development (e.g. <code>pylint</code>, <code>sphinx</code>, ...)."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 7583, "user_id": 310196, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/222fc4209d728b2996b390cf90e835a0?s=128&d=identicon&r=PG", "display_name": "devshorts", "link": "https://stackoverflow.com/users/310196/devshorts"}, "edited": false, "score": 2, "creation_date": 1428531896, "post_id": 29526238, "comment_id": 47207236, "body": "@devshorts no problem. Note that if you&#39;ve used a <code>virtualenv</code> to set up your development environment so that it only contains what&#39;s needed for this package, you can use <code>pip freeze &gt; requirements.txt</code> to easily create the requirements file."}], "tags": [], "owner": {"reputation": 149, "user_id": 2407615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zVu7U.jpg?s=128&g=1", "display_name": "hyunchel", "link": "https://stackoverflow.com/users/2407615/hyunchel"}, "is_accepted": true, "score": 5, "last_activity_date": 1428530890, "creation_date": 1428530890, "answer_id": 29526238, "question_id": 29526088, "link": "https://stackoverflow.com/questions/29526088/sharing-a-python-script-with-module-requirements/29526238#29526238", "title": "Sharing a python script with module requirements?", "body": "<p>Create <code>requirements.txt</code> file in your project's root directory, and add necessary Python packages with the versions you need.</p>\n\n<p>Then just run <code>$pip install -r requirements.txt</code> to install everything that you have specified in <code>requirements.txt</code> file.</p>\n\n<p>Not sure if this is what you need, but this is something better than running <code>$pip install &lt;package name&gt;</code> for several times.</p>\n"}, {"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": false, "score": 3, "last_activity_date": 1428531638, "last_edit_date": 1495542316, "creation_date": 1428531289, "answer_id": 29526306, "question_id": 29526088, "link": "https://stackoverflow.com/questions/29526088/sharing-a-python-script-with-module-requirements/29526306#29526306", "title": "Sharing a python script with module requirements?", "body": "<p>You have misunderstood the parameters for <code>setup</code>. The <code>packages</code> parameter is for specifying the packages that <strong>you are providing</strong>, not the dependencies of those packages.</p>\n\n<p>Per <a href=\"https://docs.python.org/2/distutils/setupscript.html#relationships-between-distributions-and-packages\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Dependencies on other Python modules and packages can be specified by supplying the <em>requires</em> keyword argument to <code>setup()</code>. The value must be a list of strings. Each string specifies a package that is required, and optionally what versions are sufficient.</p>\n</blockquote>\n\n<p>You could also consider using <a href=\"https://pythonhosted.org/setuptools\" rel=\"nofollow noreferrer\"><code>setuptools</code></a> instead of <code>distutils</code> (switch to <code>from setuptools import setup</code>) and specifying <code>install_requires</code> (see <a href=\"https://pythonhosted.org/setuptools/setuptools.html#declaring-dependencies\" rel=\"nofollow noreferrer\">the docs on dependency declarations</a>) - see e.g. <a href=\"https://stackoverflow.com/q/6344076/3001761\">Differences between distribute, distutils, setuptools and distutils2?</a></p>\n"}], "owner": {"reputation": 7583, "user_id": 310196, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/222fc4209d728b2996b390cf90e835a0?s=128&d=identicon&r=PG", "display_name": "devshorts", "link": "https://stackoverflow.com/users/310196/devshorts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2476, "favorite_count": 1, "accepted_answer_id": 29526238, "answer_count": 2, "score": 4, "last_activity_date": 1428531638, "creation_date": 1428530178, "last_edit_date": 1428530899, "question_id": 29526088, "link": "https://stackoverflow.com/questions/29526088/sharing-a-python-script-with-module-requirements", "title": "Sharing a python script with module requirements?", "body": "<p>I'm new to python and was curious if python had something like an <code>npm install</code> that would pip install the required packages for a script I have.  I've looked into the <code>setup.py</code> readme and it looks like its mostly geared to creating a tarball to send to pip, which isn't what I want.</p>\n\n<p>I'd like to be able to check out the source code and then just run it.  As it stands when I ask my coworkers to use the script they run into import failures and have to manually pip install things which is a poor experience.</p>\n\n<p>My setup.py file is</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom distutils.core import setup\n\nsetup(name='Add-Webhook',\n      version='1.0',\n      description='Adds webhooks to git repos',\n      author='devshorts',\n      packages=['requests'],\n     )\n</code></pre>\n\n<p>And when I run it it</p>\n\n<pre><code>$ python setup.py install\nrunning install\nrunning build\nrunning build_py\nerror: package directory 'requests' does not exist\n</code></pre>\n\n<p>I have a small script that sits next to the setup.py that uses the <code>requests</code> package and I'd like for it to be installed on 'install'</p>\n\n<pre><code>$ ls\ntotal 40\n-rw-r--r--  1 akropp  JOMAX\\Domain Users  1039 Feb 24 09:51 README.md\n-rwxr-xr-x  1 akropp  JOMAX\\Domain Users  4489 Feb 27 17:01 add-webhook.py\n-rw-r--r--  1 akropp  JOMAX\\Domain Users   391 Feb 23 14:24 github.iml\n-rw-r--r--  1 akropp  JOMAX\\Domain Users   213 Apr  8 15:06 setup.py\n</code></pre>\n"}, {"tags": ["python", "logging", "pytest"], "answers": [{"comments": [{"owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1428606983, "post_id": 29542222, "comment_id": 47245625, "body": "I didn&#39;t mean to make this question junit-specific. What I really need is a way to inject arbitrary data into pytest&#39;s failure reports from code. The logging approach works (it&#39;s what I&#39;m using) but prevents me from using the &#39;-s&#39; switch (using it will make pytest not capture stdout, and thus logging to console won&#39;t make it to junit reports at all)."}, {"owner": {"reputation": 9908, "user_id": 202645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f43e38da40a19aaed435e10183450f?s=128&d=identicon&r=PG", "display_name": "Bruno Oliveira", "link": "https://stackoverflow.com/users/202645/bruno-oliveira"}, "reply_to_user": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1428677066, "post_id": 29542222, "comment_id": 47278339, "body": "Oh I see. Updated my answer then."}, {"owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1428694868, "post_id": 29542222, "comment_id": 47288322, "body": "Tnx ;) but this hook is already mentioned in my original post... I guess i was using it wrong?"}, {"owner": {"reputation": 9908, "user_id": 202645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f43e38da40a19aaed435e10183450f?s=128&d=identicon&r=PG", "display_name": "Bruno Oliveira", "link": "https://stackoverflow.com/users/202645/bruno-oliveira"}, "reply_to_user": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1428702365, "post_id": 29542222, "comment_id": 47291717, "body": "Sorry about that. Can you post an example and what you were expecting? That hook should be enough."}, {"owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "edited": false, "score": 0, "creation_date": 1429723702, "post_id": 29542222, "comment_id": 47737406, "body": "I finally got some time to analyze it and posted my findings."}], "tags": [], "owner": {"reputation": 9908, "user_id": 202645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f43e38da40a19aaed435e10183450f?s=128&d=identicon&r=PG", "display_name": "Bruno Oliveira", "link": "https://stackoverflow.com/users/202645/bruno-oliveira"}, "is_accepted": false, "score": 4, "last_activity_date": 1428677137, "last_edit_date": 1428677137, "creation_date": 1428591968, "answer_id": 29542222, "question_id": 29526054, "link": "https://stackoverflow.com/questions/29526054/customizing-pytest-junitxml-failure-reports/29542222#29542222", "title": "Customizing pytest junitxml failure reports", "body": "<p>To add information to a test report (XML, console or otherwise) please take a look at <a href=\"http://pytest.org/latest/plugins.html?highlight=hooks#reporting-hooks\" rel=\"nofollow\">reporting hooks</a>, more specifically at <a href=\"http://pytest.org/latest/plugins.html?highlight=hooks#_pytest.hookspec.pytest_runtest_logreport\" rel=\"nofollow\">pytest_runtest_logreport</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 1541718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f45cae40660cde27d263a80f487e02?s=128&d=identicon&r=PG", "display_name": "meili", "link": "https://stackoverflow.com/users/1541718/meili"}, "edited": false, "score": 0, "creation_date": 1508444901, "post_id": 29804869, "comment_id": 80624419, "body": "This solution now produces a deprecation warning for <code>__multicall__</code> argument. I wonder if there is a way to avoid it nicely. The only thing I managed to do is to call the pytest original implementation of this hook with <code>from _pytest.runner import pytest_runtest_makereport as _pytest_runtest_makereport</code> to get the report"}, {"owner": {"reputation": 557, "user_id": 6819904, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh5.googleusercontent.com/-ZVQT3iGtKV4/AAAAAAAAAAI/AAAAAAAAAGw/5W7P3pZo27s/photo.jpg?sz=128", "display_name": "Konrad Dziurd\u017a", "link": "https://stackoverflow.com/users/6819904/konrad-dziurd%c5%ba"}, "edited": false, "score": 0, "creation_date": 1618232445, "post_id": 29804869, "comment_id": 118532268, "body": "Yes, you can avoid <code>__multicall__</code> deprecation warning by yielding for output report. Inside <code>pytest_runtest_logreport()</code> try:  <code>outcome = yield</code> and then <code>report = outcome.get_result()</code> `"}], "tags": [], "owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "is_accepted": true, "score": 6, "last_activity_date": 1429732144, "last_edit_date": 1429732144, "creation_date": 1429723679, "answer_id": 29804869, "question_id": 29526054, "link": "https://stackoverflow.com/questions/29526054/customizing-pytest-junitxml-failure-reports/29804869#29804869", "title": "Customizing pytest junitxml failure reports", "body": "<p>EDIT: Since I needed access to the test item's funcargs (and test result) for my reporting, I was able to move the logic to the <code>pytest_runtest_makereport(item, __multicall__)</code> hook. The trick is to execute the multicall, which returns the report object:</p>\n\n<pre><code>@pytest.mark.tryfirst\ndef pytest_runtest_makereport(item, call, __multicall__):\n    report = __multicall__.execute()\n    # then I was able to manipulate report and get the same results as below\n</code></pre>\n\n<hr>\n\n<p>Bruno's answer gave me the motivation I needed to analyze this feature more thoroughly :)</p>\n\n<p>So here's how it works:</p>\n\n<pre><code>def pytest_runtest_logreport(report):\n    if report.failed:\n        report.longrepr.sections.append((\"Header\", \"Message\", \"-\"))\n        report.sections.append((\"Captured stdout\", \"This is added to stdout\"))\n        report.sections.append((\"Captured stderr\", \"This is added to stderr\"))\n        report.sections.append((\"Custom Section\", \"This can only be seen in the console - the xml won't have it.\"))\n</code></pre>\n\n<p>The <code>longrepr</code> attribute is only available in case of failures. It takes a 3-tuple, the last value being a character used to decorate the decorate/surround the header. It will appear in the \"failure\" section of the report:</p>\n\n<pre><code>----------------------------------- Header ------------------------------------\nMessage\n</code></pre>\n\n<p>Custom sections will create additional result sections to be printed out to the <strong><em>console</em></strong>. But they won't make it to junitxml:</p>\n\n<pre><code>------------------------------- Custom Section --------------------------------\nThis can only be seen in the console - the xml won't have it.\n</code></pre>\n\n<p>The junitxml report only has 2 sections: out and err. To add custom text to it, you must create sections called \"Captured std\" and only those will make it to the xml file. Any other name will result in a custom section that will only be seen in the console.</p>\n\n<p>Here's the resulting junitxml using the code above, with some reformatting for the sake of this post:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt; \n&lt;testsuite errors=\"0\" failures=\"1\" name=\"pytest\" skips=\"0\" tests=\"1\" time=\"0.646\"&gt;\n  &lt;testcase classname=\"test_reporting\" name=\"test_fail\" time=\"0.000999927520752\"&gt;\n    &lt;failure message=\"test failure\"&gt;\n      @ut def test_fail(): &gt; assert 0, \"It failed\"\n      E AssertionError: It failed \n      E assert 0 test_reporting.py:346: AssertionError\n      ----------------------------------- Header ------------------------------------\n      Message\n    &lt;/failure&gt; \n    &lt;system-out&gt;This is added to stdout&lt;/system-out&gt; \n    &lt;system-err&gt;This is added to stderr&lt;/system-err&gt; \n  &lt;/testcase&gt;\n&lt;/testsuite&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 647990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d7148427019fbb4ed753743fe70bfc?s=128&d=identicon&r=PG", "display_name": "powellrb", "link": "https://stackoverflow.com/users/647990/powellrb"}, "is_accepted": false, "score": 0, "last_activity_date": 1564066893, "creation_date": 1564066893, "answer_id": 57205030, "question_id": 29526054, "link": "https://stackoverflow.com/questions/29526054/customizing-pytest-junitxml-failure-reports/57205030#57205030", "title": "Customizing pytest junitxml failure reports", "body": "<p>Using <code>pytest_runtest_makereport(item, call)</code> with <code>@pytest.hookimpl(hookwrapper=True)</code> allows access to the report before it is used to create the xml e.g.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>@pytest.hookimpl(hookwrapper=True)                                                                                                                                                                                                                                                                                         \ndef pytest_runtest_makereport(item, call):\n    result = yield                                                                                                                                                                                                                                                                                         \n    if result.get_result().failed:\n        report.longrepr.addsection(\"Header\",\"message\")\n</code></pre>\n\n<p>with pytest-3.9.3</p>\n\n<p>Though <a href=\"https://docs.pytest.org/en/latest/writing_plugins.html?highlight=trylast#hookwrapper-executing-around-other-hooks\" rel=\"nofollow noreferrer\">the documentation</a> for hookwrapper does advise caution</p>\n\n<blockquote>\n  <p>If the result of the underlying hook is a mutable object, they may modify that result but it\u2019s probably better to avoid it.</p>\n</blockquote>\n"}], "owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4948, "favorite_count": 2, "accepted_answer_id": 29804869, "answer_count": 3, "score": 6, "last_activity_date": 1564066893, "creation_date": 1428530061, "last_edit_date": 1495542346, "question_id": 29526054, "link": "https://stackoverflow.com/questions/29526054/customizing-pytest-junitxml-failure-reports", "title": "Customizing pytest junitxml failure reports", "body": "<p>I am trying to introspect test failures and include additional data into the junit xml test report. Specifically, this is a suite of functional tests on an external product, and I want to include the product's logs into the failure reports.</p>\n\n<p>Using the method found <a href=\"https://stackoverflow.com/questions/10754970/in-which-py-test-callout-can-i-find-both-item-and-report-data\">here</a>, I was able to print the logs to stdout before executing the multicall which eventually show in jenkin's fail report. But I'm sure there's a better way to achieve this.</p>\n\n<p>I tried to use the pytest_runtest_logreport hook to append the logs into the 'sections' attribute, which already contains the 'captured stdout' and 'captured stderr' streams. But the newly added sections do not make it to the xml file. I tried the above technique directly into the pytest_runtest_makereport hook as well, with similar results.</p>\n\n<p>The release notes for pytest 2.7 states that using multicall support is being dropped for 2.8 and that @pytest.mark.hookwrapper is the new way to do it, however I can't seem to make that work at all - the \"yield\" returns None instead of a CallOutcome object (tried it in the makereport hook). And even if it returned something, I'm not sure I could add stuff to it that would show up in the xml report.</p>\n\n<p>Is there any functionality I'm missing that will let me do this in a flexible way? (by flexible I mean: not being bound to stdout or logging calls like the capture-logs plugin)</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1428530207, "creation_date": 1428530207, "answer_id": 29526096, "question_id": 29526037, "link": "https://stackoverflow.com/questions/29526037/python-removing-specific-strings-from-a-list/29526096#29526096", "title": "Python removing specific strings from a list", "body": "<p>You can use <code>re.match</code> :</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; [i for i in test if re.match(r'^[\\d.]+$',i)]\n['1.0', '2.0', '3', '4']\n</code></pre>\n\n<p><code>r'^[\\d.]+$'</code> will just match any combinations of dot and digits with length 1 or more.</p>\n"}, {"tags": [], "owner": {"reputation": 1440, "user_id": 1773867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9cd62b9e5015a1ee01ab26b9c3596d?s=128&d=identicon&r=PG", "display_name": "Wouter", "link": "https://stackoverflow.com/users/1773867/wouter"}, "is_accepted": false, "score": 0, "last_activity_date": 1428530428, "creation_date": 1428530428, "answer_id": 29526149, "question_id": 29526037, "link": "https://stackoverflow.com/questions/29526037/python-removing-specific-strings-from-a-list/29526149#29526149", "title": "Python removing specific strings from a list", "body": "<p>If you only want numbers, you can do following:</p>\n\n<pre><code>def try_parse(s):\n  try:\n    f = float(s)\n    return 1\n  except ValueError:\n    return 0\n\ntest = [\"1.0\",\"2.0\",\"3\",\"asdf\",\"1.0f\",\"1f\",\"@#$aa1\", \"4\"]\n\nt2 = [i for i in test if try_parse(i)==1]\nprint(t2)\n</code></pre>\n\n<p>gives you:</p>\n\n<pre><code>['1.0', '2.0', '3', '4']\n</code></pre>\n\n<p>and if you want them as float directly:</p>\n\n<pre><code>def try_parse(s):\n  try:\n    return float(s)\n  except ValueError:\n    return 'error'\n\ntest = [\"1.0\",\"2.0\",\"3\",\"asdf\",\"1.0f\",\"1f\",\"@#$aa1\", \"4\"]\n\nt2 = [try_parse(i) for i in test if try_parse(i)!='error']\nprint(t2)\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>[1.0, 2.0, 3.0, 4.0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1428530499, "creation_date": 1428530499, "answer_id": 29526165, "question_id": 29526037, "link": "https://stackoverflow.com/questions/29526037/python-removing-specific-strings-from-a-list/29526165#29526165", "title": "Python removing specific strings from a list", "body": "<p>It may be easier for you to use a <code>try</code> block rather than a regular expression:</p>\n\n<pre><code>newTest = []\n\nfor i in test:\n    try:\n        float(i) # numeric\n        newTest.append(i)\n\n    except:\n        pass\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3335196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Hgb0g.jpg?s=128&g=1", "display_name": "cjaxx", "link": "https://stackoverflow.com/users/3335196/cjaxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1428530499, "creation_date": 1428529972, "question_id": 29526037, "link": "https://stackoverflow.com/questions/29526037/python-removing-specific-strings-from-a-list", "title": "Python removing specific strings from a list", "body": "<p>I want to remove any strings from this list that have a letter in them or have a special character.</p>\n\n<pre><code>test = [\"1.0\",\"2.0\",\"3\",\"asdf\",\"1.0f\",\"1f\",\"@#$aa1\", \"4\"]\n</code></pre>\n\n<p>The result I want is a new list with these.</p>\n\n<pre><code>newTest = [\"1.0\",\"2.0\",\"3\", \"4\"]\n</code></pre>\n"}, {"tags": ["python", "pandas", "kdb", "q-lang", "exxeleron-q"], "answers": [{"comments": [{"owner": {"reputation": 4086, "user_id": 1842221, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CQqVw.jpg?s=128&g=1", "display_name": "Daniel Krizian", "link": "https://stackoverflow.com/users/1842221/daniel-krizian"}, "edited": false, "score": 0, "creation_date": 1428570098, "post_id": 29531205, "comment_id": 47221148, "body": "Thank you for explanation, works like a charm. I also had to add <code>from qpython import MetaData</code> <code>from qpython.qtype import QSYMBOL_LIST</code> as per your previous post <a href=\"http://stackoverflow.com/questions/28385137/pandas-dataframe-drops-index-when-passing-to-kdb-using-qpython-api\" title=\"pandas dataframe drops index when passing to kdb using qpython api\">stackoverflow.com/questions/28385137/&hellip;</a>"}, {"owner": {"reputation": 1479, "user_id": 4541832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/INMcv.png?s=128&g=1", "display_name": "Maciej Lach", "link": "https://stackoverflow.com/users/4541832/maciej-lach"}, "reply_to_user": {"reputation": 4086, "user_id": 1842221, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CQqVw.jpg?s=128&g=1", "display_name": "Daniel Krizian", "link": "https://stackoverflow.com/users/1842221/daniel-krizian"}, "edited": false, "score": 1, "creation_date": 1428576673, "post_id": 29531205, "comment_id": 47225311, "body": "I&#39;ve added missing imports to the snippet - thanks for spotting. In addition, I extended the docs with a type hinting information: <a href=\"http://qpython.readthedocs.org/en/latest/pandas.html#type-hinting\" rel=\"nofollow noreferrer\">qpython.readthedocs.org/en/latest/pandas.html#type-hinting</a>"}], "tags": [], "owner": {"reputation": 1479, "user_id": 4541832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/INMcv.png?s=128&g=1", "display_name": "Maciej Lach", "link": "https://stackoverflow.com/users/4541832/maciej-lach"}, "is_accepted": true, "score": 4, "last_activity_date": 1428575843, "last_edit_date": 1428575843, "creation_date": 1428560536, "answer_id": 29531205, "question_id": 29526017, "link": "https://stackoverflow.com/questions/29526017/passing-pandas-dataframe-containing-string-column-to-kdb-using-qpython-api/29531205#29531205", "title": "Passing pandas DataFrame containing string column to kdb+ (using qPython API)", "body": "<p>The <code>sym</code> column in the <code>DataFrame</code> is ambiguous for the <code>qpython</code> and it cannot determinate the default serialization properly. In such case, you have to provide type hinting for columns conversion, by setting the <code>meta</code> attribute:</p>\n\n<pre><code>from qpython import MetaData \nfrom qpython.qtype import QSYMBOL_LIST\n\nf.meta = MetaData(sym = QSYMBOL_LIST)\nq('set', numpy.string_('tbl'), f)\n</code></pre>\n\n<p>This instructs <code>qpython</code> to serialize <code>sym</code> column as q symbol list:</p>\n\n<pre><code>q)meta tbl                              \nc  | t f a                              \n---| -----                              \ndt | p                                  \nsym| s                                  \nval| f \n\nq)tbl                                   \ndt                            sym  val  \n----------------------------------------\n2010.01.04D00:00:00.000000000 F    10.28\n2010.01.04D00:00:00.000000000 MSFT 30.95\n2010.01.05D00:00:00.000000000 F    10.96\n..\n</code></pre>\n\n<p>Alternatively, you can represent <code>sym</code> column as a q generic list containing strings. You can also apply type conversion to other columns:</p>\n\n<pre><code>from qpython import MetaData \nfrom qpython.qtype import QSTRING_LIST, QINT_LIST, QDATETIME_LIST\n\nf.meta = MetaData(sym = QSTRING_LIST, val = QINT_LIST, dt = QDATETIME_LIST)\nq('set', numpy.string_('tbl'), f)\n</code></pre>\n\n<p>which results in:</p>\n\n<pre><code>q)meta tbl                          \nc  | t f a                          \n---| -----                          \ndt | z                              \nsym|                                \nval| i  \n\nq)tbl                               \ndt                      sym    val  \n----------------------------------  \n2010.01.04T00:00:00.000 \"F\"    10   \n2010.01.04T00:00:00.000 \"MSFT\" 30   \n..\n</code></pre>\n"}], "owner": {"reputation": 4086, "user_id": 1842221, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CQqVw.jpg?s=128&g=1", "display_name": "Daniel Krizian", "link": "https://stackoverflow.com/users/1842221/daniel-krizian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2155, "favorite_count": 1, "accepted_answer_id": 29531205, "answer_count": 1, "score": 2, "last_activity_date": 1428575843, "creation_date": 1428529897, "question_id": 29526017, "link": "https://stackoverflow.com/questions/29526017/passing-pandas-dataframe-containing-string-column-to-kdb-using-qpython-api", "title": "Passing pandas DataFrame containing string column to kdb+ (using qPython API)", "body": "<p><a href=\"https://github.com/exxeleron/qPython\" rel=\"nofollow\"><code>exxeleron/qPython</code></a> module allows to send the pandas <code>DataFrame</code> to <code>kdb+/q</code>'s table.</p>\n\n<p>Let's prepare the data:</p>\n\n<pre><code>import pandas.io.data as web\nimport datetime\nimport numpy\n\nstart = datetime.datetime(2010, 1, 1)\nend = datetime.datetime(2015, 2, 6)\nf = web.DataReader([\"F\",\"MSFT\"], 'yahoo', start, end) # download stock data from Yahoo Finance\nf = f.to_frame().reset_index() # flatten the MultiIndex to have a sym column, see below\nf = f[[\"Date\",\"minor\",\"Close\"]]\nf.columns = [\"dt\",\"sym\",\"val\"] # just give comfortable names\n</code></pre>\n\n<p>The <code>DataFrame</code> object to be passed then looks like:</p>\n\n<pre><code>f.head()\n# Out: \n#           dt   sym    val\n# 0 2010-01-04     F  10.28\n# 1 2010-01-04  MSFT  30.95\n# 2 2010-01-05     F  10.96\n# 3 2010-01-05  MSFT  30.96\n# 4 2010-01-06     F  11.37\n\nf.dtypes\n# Out: \n# dt     datetime64[ns]\n# sym            object\n# val           float64    \n</code></pre>\n\n<p>When I try to send it to <code>kdb+/q</code>, I get the following error:</p>\n\n<pre><code>import qpython.qconnection as qconnection\nq = qconnection.QConnection(host = 'localhost', port = 5000, pandas = True)\nq.open()\nq('set', numpy.string_('tbl'), f)\n\n# File \"G:\\Anaconda\\lib\\site-packages\\qpython\\_pandas.py\", line 159, in _write_pandas_series\n#   data = data.fillna(QNULLMAP[-abs(qtype)][1])\n# KeyError: -10\n</code></pre>\n"}, {"tags": ["python", "postgresql", "flask", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 2088479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc317ceeb5883a287e145e0006595b78?s=128&d=identicon&r=PG", "display_name": "David Redding", "link": "https://stackoverflow.com/users/2088479/david-redding"}, "edited": false, "score": 0, "creation_date": 1428618096, "post_id": 29526583, "comment_id": 47251673, "body": "Your assumption was correct!  If I tried to getattr() from another field first then Id, the first attr would take longer than the other.  Thanks for helping me out!"}], "tags": [], "owner": {"reputation": 37934, "user_id": 60950, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/LwZVH.jpg?s=128&g=1", "display_name": "Luk&#225;\u0161 Lalinsk&#253;", "link": "https://stackoverflow.com/users/60950/luk%c3%a1%c5%a1-lalinsk%c3%bd"}, "is_accepted": true, "score": 3, "last_activity_date": 1428532851, "creation_date": 1428532851, "answer_id": 29526583, "question_id": 29525976, "link": "https://stackoverflow.com/questions/29525976/flask-sqlalchemy-python-getattr-speed/29526583#29526583", "title": "Flask-SqlAlchemy-Python getattr() speed", "body": "<p>Enable SQLAlchemy debugging and see what SQL queries that are executed. My assumption is that you have an object that is expired according to SQLAlchemy and when you try to get the first attribute, it has to read the data from the database. When you do the same thing again (on any attribute), it should be fast again. This kind of situation normally happens if you fetch some objects from the database, commit the session and then try to use the previously fetched objects again. This is happening because on commit, SQLAlchemy doesn't know if other transactions did not modify the data, so it has to fetch them again.</p>\n"}], "owner": {"reputation": 103, "user_id": 2088479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc317ceeb5883a287e145e0006595b78?s=128&d=identicon&r=PG", "display_name": "David Redding", "link": "https://stackoverflow.com/users/2088479/david-redding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 29526583, "answer_count": 1, "score": 0, "last_activity_date": 1428532851, "creation_date": 1428529775, "last_edit_date": 1428532636, "question_id": 29525976, "link": "https://stackoverflow.com/questions/29525976/flask-sqlalchemy-python-getattr-speed", "title": "Flask-SqlAlchemy-Python getattr() speed", "body": "<p>I have a MyModel object which inherits from Model from SQLAlchemy.  Accessing the primary key (ID) seems to take much longer than any other attribute:</p>\n\n<pre><code>value = getattr(model, ID)\n</code></pre>\n\n<p>takes ~1.4ms to compute or get the value of but,</p>\n\n<pre><code>value = getattr(model, &lt;any_other_column&gt;)\n</code></pre>\n\n<p>takes exponentially less time to get the value of that column no matter what type it may be?  Is there a faster way to get the primary key value from a Model object?</p>\n"}, {"tags": ["python", "string", "brackets"], "answers": [{"comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 2, "creation_date": 1428530154, "post_id": 29526005, "comment_id": 47206494, "body": "grades is a list of lists so you will need to use <code>(str(g) for g in grades[i])</code>"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1510243365, "last_edit_date": 1510243365, "creation_date": 1428529862, "answer_id": 29526005, "question_id": 29525939, "link": "https://stackoverflow.com/questions/29525939/how-to-remove-brackets-in-python-with-string/29526005#29526005", "title": "How to remove brackets in python with string?", "body": "<p>If <code>grades</code> is a list of lists of integers:</p>\n\n<pre><code>print(', '.join(str(i) for i in grades[g])) # where g sublist index\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1428531083, "creation_date": 1428531083, "answer_id": 29526276, "question_id": 29525939, "link": "https://stackoverflow.com/questions/29525939/how-to-remove-brackets-in-python-with-string/29526276#29526276", "title": "How to remove brackets in python with string?", "body": "<p>First:</p>\n\n<pre><code>&gt;&gt;&gt; grades = [[1,2,3],[4,5,6]]\n</code></pre>\n\n<p>Now you have a few choices:</p>\n\n<pre><code>&gt;&gt;&gt; print(\"GRADE:\", *grades[0])\nGRADE: 1 2 3\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>&gt;&gt;&gt; print(\"GRADE:\", ', '.join(map(str, grades[0])))\nGRADE: 1, 2, 3\n</code></pre>\n\n<p>or, in a script or block:</p>\n\n<pre><code>print(\"GRADE: \", end='')\nprint(*grades[0], sep=', ')\n</code></pre>\n\n<p>result of above:</p>\n\n<pre><code>GRADE: 1, 2, 3\n</code></pre>\n\n<p>Replace <code>[0]</code> with <code>[i]</code> as needed.</p>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 2735253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GClC0.jpg?s=128&g=1", "display_name": "Shadow", "link": "https://stackoverflow.com/users/2735253/shadow"}, "is_accepted": false, "score": 5, "last_activity_date": 1428568306, "last_edit_date": 1428568306, "creation_date": 1428531237, "answer_id": 29526298, "question_id": 29525939, "link": "https://stackoverflow.com/questions/29525939/how-to-remove-brackets-in-python-with-string/29526298#29526298", "title": "How to remove brackets in python with string?", "body": "<p><code>strip</code> allows you to remove the specified characters from the beginning and from the end.</p>\n\n<pre><code>str(grades[i]).strip('[]')\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4674272, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5f29e9e1e5733a294e0027f1400822f?s=128&d=identicon&r=PG&f=1", "display_name": "acurate", "link": "https://stackoverflow.com/users/4674272/acurate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13230, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1510243365, "creation_date": 1428529579, "question_id": 29525939, "link": "https://stackoverflow.com/questions/29525939/how-to-remove-brackets-in-python-with-string", "title": "How to remove brackets in python with string?", "body": "<p>I have this program:</p>\n\n<pre><code>import sys\nstudents = []\ngrades = []\n\nwhile True:\n    student = input (\"Enter a name: \").replace(\" \",\"\")\n    if  student.isalpha() == True and student != \"0\":\n        while True:\n            grade = input(\"Enter a grade: \").replace(\" \",\"\")\n            if grade == \"0\" or grade == 0:\n                print (\"\\n\")\n                print (\"A zero is entered.\")\n                sys.exit(0)\n            if grade.isdigit()== True: \n                grade = int(grade)\n                if grade &gt;= 1 and grade &lt;= 10:\n                    if student in students:\n                        index = students.index(student)\n                        grades[index].append(grade)\n                        break\n                    else:\n                        students.append(student)\n                        grades.append([grade])\n                        break\n                else:\n                    print(\"Invalid grade.\")\n    elif student == \"0\": \n        print(\"A zero is entered.\")\n        break\n    else:\n        print (\"Invalid name.\")\nfor i in range(0,len(students)): \n    print(\"NAME: \", students[i])\n    print(\"GRADE: \", grades[i])\n    print(\"AVERAGE: \", round(sum(grades[i])/len(grades[i]),1), \"\\n\")\n</code></pre>\n\n<p>I need to make the <code>[]</code> disappear between numbers when the program prints them, for example.</p>\n\n<p>When you enter numbers, like this:</p>\n\n<pre><code>Enter a name: Jack\nEnter a grade: 8\nEnter a name: Jack\nEnter a grade: 9\nEnter a name: Jack\nEnter a grade: 7\nEnter a name: 0\nA zero is entered.\n</code></pre>\n\n<p>It prints like this:</p>\n\n<pre><code>NAME:  Jack\nGRADE:  [8, 9, 7]\nAVERAGE:  8.0 \n</code></pre>\n\n<p>But I need the program to print like this:</p>\n\n<pre><code> NAME:  Jack\n GRADE:  8, 9, 7\n AVERAGE:  8.0 \n</code></pre>\n\n<p>The grades should be without brackets.\nI think I need to use string or something, does anyone know how?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 1, "creation_date": 1428529726, "post_id": 29525914, "comment_id": 47206280, "body": "Why not use a list? <code>nums = line[0:7]</code> and then <code>nums = map(int, nums)</code> or <code>nums = [int(n) for n in nums]</code>?"}, {"owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "reply_to_user": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1428529829, "post_id": 29525914, "comment_id": 47206338, "body": "@Carsten, thx for the quick reply.  i can&#39;t run map on it because not all the values from the line is an integer.  there are strings inter-mixed in the row from the csv file."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1428529852, "post_id": 29525914, "comment_id": 47206345, "body": "<code>nums = [int(n) if n.isdigit() else n for n in nums]</code> (this will fail for values like <code>12.5</code>, but succeed for true integers with only numbers)"}, {"owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1428531664, "post_id": 29525914, "comment_id": 47207155, "body": "@AdamSmith, pls make your comment an answer.  your line is what I needed"}], "answers": [{"tags": [], "owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "is_accepted": false, "score": 5, "last_activity_date": 1428529716, "creation_date": 1428529716, "answer_id": 29525966, "question_id": 29525914, "link": "https://stackoverflow.com/questions/29525914/is-there-an-easy-way-to-convert-a-bunch-of-variables-of-one-type-into-another-ty/29525966#29525966", "title": "Is there an easy way to convert a bunch of variables of one type into another type in python", "body": "<p>Yes! You can map the function which converts a value to an int to your inputs:</p>\n\n<pre><code>a = list('1234')\n# ['1', '2', '3', '4']\nb = map(int, a)\n# [1, 2, 3, 4]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4322, "user_id": 2261273, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/NoGyb.jpg?s=128&g=1", "display_name": "Igle", "link": "https://stackoverflow.com/users/2261273/igle"}, "is_accepted": false, "score": 0, "last_activity_date": 1428529824, "creation_date": 1428529824, "answer_id": 29525989, "question_id": 29525914, "link": "https://stackoverflow.com/questions/29525914/is-there-an-easy-way-to-convert-a-bunch-of-variables-of-one-type-into-another-ty/29525989#29525989", "title": "Is there an easy way to convert a bunch of variables of one type into another type in python", "body": "<p>You can either use a map as Kikohs sugested or just iterate through line as split returns a list of elements.</p>\n\n<pre><code>for el in line:\n   el = int(el)\n\nor \n\nelements = [int(el) for el in elements]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 1, "last_activity_date": 1428532835, "creation_date": 1428532835, "answer_id": 29526582, "question_id": 29525914, "link": "https://stackoverflow.com/questions/29525914/is-there-an-easy-way-to-convert-a-bunch-of-variables-of-one-type-into-another-ty/29526582#29526582", "title": "Is there an easy way to convert a bunch of variables of one type into another type in python", "body": "<p>If you know the type you want for each column, you can use <code>zip</code> to match type with value:</p>\n\n<pre><code>line = '1\\t2\\tstuff\\teek\\n'\nprint [typ(val) for typ,val in \n    zip((int, int, str, str), line.strip().split('\\t'))]\n</code></pre>\n\n<p>And you could wrap it in a class so that the caller doesn't need to see how the sausage is made. Here I tweaked the algorithm to use <code>None</code> as a pass through.</p>\n\n<pre><code>class RowConv(object):\n\n    def __init__(self, *coltypes):\n        self.coltypes = coltypes\n\n    def __call__(self, row):\n        return [typ(val) if typ else val \n            for typ,val in zip(self.coltypes, row)]\n\nlines = ['1\\t2\\tstuff\\teek\\n']\nconv = RowConv(int, int, None, str)\nfor line in lines:\n    print conv(line.strip().split('\\t'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1428542616, "creation_date": 1428542616, "answer_id": 29528153, "question_id": 29525914, "link": "https://stackoverflow.com/questions/29525914/is-there-an-easy-way-to-convert-a-bunch-of-variables-of-one-type-into-another-ty/29528153#29528153", "title": "Is there an easy way to convert a bunch of variables of one type into another type in python", "body": "<p>If you're converting a csv file, use the <code>csv</code> module!</p>\n\n<pre><code>import csv\nfrom itertools import zip_longest\n\nwith open('path/to/file.csv') as inf:\n    reader = csv.reader(inf, delimiter='\\t')\n    types = [int, str, int, int, str, int, int]\n    for line in reader:\n        changed_line = (type_(col) for type_,col in \n                        zip_longest(types,line, fillvalue=str))\n</code></pre>\n\n<p><code>changed_line</code> is then <code>[int(col1), str(col2), int(col3), int(col4), str(col5), int(col6), int(col7)] + rest_of_columns</code>, and you can use it as you need!</p>\n"}], "owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 29528153, "answer_count": 4, "score": 0, "last_activity_date": 1428542616, "creation_date": 1428529488, "last_edit_date": 1428530084, "question_id": 29525914, "link": "https://stackoverflow.com/questions/29525914/is-there-an-easy-way-to-convert-a-bunch-of-variables-of-one-type-into-another-ty", "title": "Is there an easy way to convert a bunch of variables of one type into another type in python", "body": "<p>I'm reading a csv file and assigning values from each column into variables to be processed later.  Not all values are integers in the row.  Is there a way to mass convert a bunch of variables from string into integers easily?  I don't want to type in:</p>\n\n<pre><code>var1 = int(var1)\n</code></pre>\n\n<p>for each variable.  Here's a snippet from my code.  Pls excuse any errors due to code sanitizing :)</p>\n\n<pre><code>line = line.rstrip().split('\\t')\nnum1, str1, num2, num3, str2, num4, num5 = line[0:7]\nnum1 = int(num1)\nnum2 = int(num2)\nnum3 = int(num3)\nnum4 = int(num4)\nnum5 = int(num5)\n</code></pre>\n\n<p>UPDATE: Wow, thank you for all the quick replies.  Just wanted to point out, not all values are ints in the row.  There are strings mixed in too.</p>\n"}, {"tags": ["python", "linux", "shell", "permissions", "raspberry-pi"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428529545, "post_id": 29525913, "comment_id": 47206187, "body": "Does that python script have the executable bit set?"}, {"owner": {"reputation": 25, "user_id": 4759072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb264e73be84fef34354abb89d6fb1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Wullbert", "link": "https://stackoverflow.com/users/4759072/wullbert"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428529657, "post_id": 29525913, "comment_id": 47206242, "body": "I had tried chmod 777 if that helps @EtanReisner"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428529775, "post_id": 29525913, "comment_id": 47206309, "body": "Is <code>&#47;usr&#47;local&#47;lib&#47;python2.7&#47;dist-packages</code> actually the path to the python binary?"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428530093, "post_id": 29525913, "comment_id": 47206468, "body": "Not the directory with the binary in it but <i>actually</i> the binary itself?"}, {"owner": {"reputation": 25, "user_id": 4759072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb264e73be84fef34354abb89d6fb1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Wullbert", "link": "https://stackoverflow.com/users/4759072/wullbert"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428530276, "post_id": 29525913, "comment_id": 47206564, "body": "I&#39;m new to this sorry; how would I check that mate? @EtanReisner"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428530381, "post_id": 29525913, "comment_id": 47206605, "body": "I&#39;m assuming that to run python you run <code>python</code> in your shell and not <code>dist-packages</code>, right? What does <code>command -v python</code> say? I&#39;m going to assume it says <code>&#47;usr&#47;local&#47;lib&#47;python2.7&#47;dist-packages&#47;python</code> or something like that. You need <b>that</b> path in the shebang <code>#!</code> line."}, {"owner": {"reputation": 25, "user_id": 4759072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb264e73be84fef34354abb89d6fb1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Wullbert", "link": "https://stackoverflow.com/users/4759072/wullbert"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428530548, "post_id": 29525913, "comment_id": 47206686, "body": "It says <code>&#47;usr&#47;bin&#47;python</code> @EtanReisner"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428530595, "post_id": 29525913, "comment_id": 47206706, "body": "Then assuming that&#39;s the python you need that&#39;s the path you need in your script. Where did that <code>&#47;usr&#47;local&#47;...</code> path come from?"}, {"owner": {"reputation": 25, "user_id": 4759072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb264e73be84fef34354abb89d6fb1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Wullbert", "link": "https://stackoverflow.com/users/4759072/wullbert"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1428530758, "post_id": 29525913, "comment_id": 47206774, "body": "It was included in the Python code I obtained from an Opt directory I found online @EtanReisner"}], "answers": [{"tags": [], "owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "is_accepted": false, "score": 1, "last_activity_date": 1428530176, "creation_date": 1428530176, "answer_id": 29526086, "question_id": 29525913, "link": "https://stackoverflow.com/questions/29525913/permission-denied-when-trying-to-run-shell-script-containing-python-sub-script/29526086#29526086", "title": "Permission Denied when trying to run Shell Script (containing Python sub-script)", "body": "<p>To use the GPIO pins, the Python script needs to be run with administrator privileges. Either execute the shell script as root or call your Python script using sudo from within the shell script.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4366840"}, "is_accepted": false, "score": 0, "last_activity_date": 1441906069, "creation_date": 1441906069, "answer_id": 32508194, "question_id": 29525913, "link": "https://stackoverflow.com/questions/29525913/permission-denied-when-trying-to-run-shell-script-containing-python-sub-script/32508194#32508194", "title": "Permission Denied when trying to run Shell Script (containing Python sub-script)", "body": "<p>Either log in as root, or run the program with sudo, because usually permission denied means you need root permissions, sudo runs that specific program with root permissions if you don't want to log in as root.</p>\n"}], "owner": {"reputation": 25, "user_id": 4759072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb264e73be84fef34354abb89d6fb1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Wullbert", "link": "https://stackoverflow.com/users/4759072/wullbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1624, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1441906069, "creation_date": 1428529484, "question_id": 29525913, "link": "https://stackoverflow.com/questions/29525913/permission-denied-when-trying-to-run-shell-script-containing-python-sub-script", "title": "Permission Denied when trying to run Shell Script (containing Python sub-script)", "body": "<p>I'm currently creating a Raspberry Pi (Model B) based temperature sensor with a display. I am trying to run a shell start up script in the LX Terminal but keep getting a \"Permission Denied\" error next to a Python sub-script as follows:</p>\n\n<pre><code>pi@raspberrypi ~ $ sudo /home/pi/tempsense/etc/init.d/envmon start\nStarting envmon\npi@raspberrypi ~ $ /home/pi/tempsense/etc/init.d/envmon: 15:/home/pi/tempsense/etc/init.d/envmon: home/pi/tempsense/opt/envmon/displayenvmon.py: Permission denied\n</code></pre>\n\n<p>The shell script is:</p>\n\n<pre><code>#!/bin/sh\n### BEGIN INIT INFO\n# Provides:          envmon\n# Required-Start:    $local_fs\n# Required-Stop:     $local_fs\n# Default-Start:     2 3 4 5\n# Default-Stop:      0 1 6\n# Short-Description: Start/stop envmon\n### END INIT INFO\n\ncase \"$1\" in\n  start)\n    /home/pi/tempsense/opt/envmon/dht11 &amp;\n    echo \"Starting envmon\"\n    /home/pi/tempsense/opt/envmon/displayenvmon.py &amp;\n    ;;\n  stop)\n    pkill dht11\n    pkill displayenvmon\n    echo \"envmon stopped\"\n    ;;\n  *)\n    echo \"Usage: /home/pi/tempsense/etc/init.d/envmon {start|stop}\"\n    exit 1\n    ;;\nesac\nexit 0\n</code></pre>\n\n<p>The Python script causing the Permission denied errors is:</p>\n\n<pre><code>#!/usr/local/lib/python2.7/dist-packages\nfrom RPLCD import CharLCD\nimport RPi.GPIO as GPIO\nimport subprocess, re\nimport time\n\n# Data file - current reading\ndatfile = \"/var/envmon.data\"\n\n# Rate at which the LCD is updated\nUPDATE_RATE = 5\n\n\nlcd = CharLCD(cols=16, rows=2, \n        pin_rw=None,\n        pin_rs=7,\n        pin_e=8,\n        pins_data=[25,24,23,18],\n        numbering_mode=GPIO.BCM)\n\n\nlcd.cursor_pos = (0, 0)\nlcd.write_string('Visit @UWS_Pi')\nlcd.cursor_pos = (1, 0)\nlcd.write_string('TEMP &amp; HUMID')\ntime.sleep(5);\n\n\n# Get IP address - looks for first IP address which is not 127.0.0.1\naddress_string = subprocess.getoutput(\"ip addr\")\nipaddr = \"Unknown\"\n\n# Reg exp to extract IP addresss\nsearch_inet = re.compile('inet (\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})')  \n\nfor line in address_string.split('\\n') :\n\n    match = search_inet.search(line)\n    if (match != None) :\n\n        if (match.group(1) != '127.0.0.1') : \n            ipaddr = match.group(1)\n            break\n\n# Print the IP address to the LCD\nlcd.cursor_pos = (1,0)\nlcd.write_string (ipaddr)\n\n# Sleep to give chance to read IP address   \ntime.sleep(5) \n\n# Loop get most recent reading and display on screen\nwhile (True):\n\n    fh = open (datfile, \"r\")\n    entry = fh.read()\n\n    # split into separate entries\n    [currtime, currtemp, currhumid] = entry.split()\n\n    # Change currtime to a formatted time ready for displaying\n    formattime = time.strftime (\"%d/%m/%Y %H:%M\", time.localtime(int(currtime)))\n    # print time to display\n    lcd.cursor_pos = (0,0)\n    lcd.write_string (formattime)\n\n    # Print temp and humidity values\n    lcd.cursor_pos = (1,0)\n    lcd.write_string (\"T \" + currtemp + \"C  RH \" + currhumid + \"%   \") \n\n    time.sleep(UPDATE_RATE)\n</code></pre>\n\n<p>I am new to this and any helpful advice is appreciated.</p>\n"}, {"tags": ["python", "loops", "dictionary"], "comments": [{"owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "edited": false, "score": 0, "creation_date": 1428529568, "post_id": 29525900, "comment_id": 47206198, "body": "&quot;optimal&quot;? and what is your optimality criterion?"}, {"owner": {"reputation": 21, "user_id": 4351167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4f6ee31df812af09bdf8d4b9913367?s=128&d=identicon&r=PG&f=1", "display_name": "AUK", "link": "https://stackoverflow.com/users/4351167/auk"}, "reply_to_user": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "edited": false, "score": 0, "creation_date": 1428529891, "post_id": 29525900, "comment_id": 47206365, "body": "right now , Time. Thanks for your quick reply !"}, {"owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "edited": false, "score": 0, "creation_date": 1428535293, "post_id": 29525900, "comment_id": 47208335, "body": "For such small collections you won&#39;t ever notice the difference. First try to come up with any solution for yourself. Then you can focus on &quot;optimization&quot;, if you really need to."}], "answers": [{"tags": [], "owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "is_accepted": false, "score": 0, "last_activity_date": 1428530399, "creation_date": 1428530399, "answer_id": 29526142, "question_id": 29525900, "link": "https://stackoverflow.com/questions/29525900/python-addition-of-values-of-a-dictionary-within-a-dictionary-based-on-same-ke/29526142#29526142", "title": "Python - Addition of values of a Dictionary within a dictionary based on same Keys", "body": "<p>You can use a few dictionary comprehensions. I first populate the two dictionaries with missing keys, then return a dictionary with the desired sum.</p>\n\n<pre><code>keys = set(Dict1.keys()+Dict2.keys())\ndic1 = {k:Dict1[k] if k in Dict1 else {1:0, 2:0} for k in keys}\ndic2 = {k:Dict2[k] if k in Dict2 else {1:0, 2:0} for k in keys}\nout = {k:{'up': dic1[k][1]+dic2[k][2], 'down': dic2[k][1]+dic1[k][2]} for k in keys}\n</code></pre>\n\n<p>This gives the following output:</p>\n\n<pre><code>{'A': {'down': 50, 'up': 20},\n 'B': {'down': 40, 'up': 35},\n 'C': {'down': 42, 'up': 22},\n 'D': {'down': 40, 'up': 15},\n 'E': {'down': 5, 'up': 10}}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428530733, "post_id": 29526192, "comment_id": 47206765, "body": "I thought of putting everything in one comprehension ... but it was not very readable ... so i gave up for my answer :-)"}], "tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": false, "score": 0, "last_activity_date": 1428531100, "last_edit_date": 1428531100, "creation_date": 1428530628, "answer_id": 29526192, "question_id": 29525900, "link": "https://stackoverflow.com/questions/29525900/python-addition-of-values-of-a-dictionary-within-a-dictionary-based-on-same-ke/29526192#29526192", "title": "Python - Addition of values of a Dictionary within a dictionary based on same Keys", "body": "<p>Try this may be worst way</p>\n\n<pre><code>keys = Dict1.keys()+Dict2.keys()\n&gt;&gt;&gt;[{i:{\"up\":Dict1[i][1] if i in Dict1 else 0 + \\\n   Dict2[i][2] if i in Dict2 else 0,\"down\": Dict1[i][2] \\\n   if i in Dict1 else 0 + Dict2[i][1] if i in Dict2 else 0 }} \\\n   for i in set(keys)]\n\n\n[{'A': {'down': 20, 'up': 10}},\n {'C': {'down': 12, 'up': 2}},\n {'B': {'down': 30, 'up': 15}},\n {'E': {'down': 5, 'up': 10}},\n {'D': {'down': 40, 'up': 15}}]    \n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4351167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4f6ee31df812af09bdf8d4b9913367?s=128&d=identicon&r=PG&f=1", "display_name": "AUK", "link": "https://stackoverflow.com/users/4351167/auk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1428531100, "creation_date": 1428529405, "last_edit_date": 1428530756, "question_id": 29525900, "link": "https://stackoverflow.com/questions/29525900/python-addition-of-values-of-a-dictionary-within-a-dictionary-based-on-same-ke", "title": "Python - Addition of values of a Dictionary within a dictionary based on same Keys", "body": "<p>so i have 2 dictionaries  within dictionaries.\nI need to add the values of the 2 inner dictionaries based on the keys of the outer dictionaries. \nE.g.</p>\n\n<pre><code>Dict1 = {A:{1:10,2:20},B:{1:15,2:30},C:{1:2,2:12},D:{1:15,2:40}}\nDict2 = {A:{1:30,2:10},B:{1:10,2:20},C:{1:30,2:20},E:{1:5,2:10}}\n</code></pre>\n\n<p>So, I have to add the values of 1s from Dict1 to values of 2s to Dict2.\ne.g for the Key A from both Dictionaries addition of values of 1s from Dict1 and 2s form Dict2: 10 + 10 = 20 and vice versa i.e 2s of Dict1 + 1s of Dict 2: 20 +30 = 50 and create a new dictionary : {A:{up:20,down = 50}}</p>\n\n<p>So desired Output would be :</p>\n\n<pre><code>Final_dict = {A:{up:20,down:50},B:{up:35,down:40},c:{up:22,down:42},D:{up:15,down:40},E:{up:10,down:5}}\n</code></pre>\n\n<p>Or simply create separate dictionaries for each addition:</p>\n\n<pre><code>Up_Dict = {A:20,B:35,C:22,D:15,E:10}\nDown_Dict = {A:50,B:40,C:42,D:40,E:5}\n</code></pre>\n\n<p>What would be the most best way to carry out this addition because both of the dictionaries i have are huge ?</p>\n\n<p>Than you !!</p>\n"}, {"tags": ["python", "list", "reference", "concatenation"], "comments": [{"owner": {"reputation": 695, "user_id": 349420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7345491378f9c80b586f1cf529ace02a?s=128&d=identicon&r=PG", "display_name": "Esparta Palma", "link": "https://stackoverflow.com/users/349420/esparta-palma"}, "edited": false, "score": 5, "creation_date": 1428529433, "post_id": 29525855, "comment_id": 47206119, "body": "What have you done until now? This is not a free-code network."}], "answers": [{"tags": [], "owner": {"reputation": 2985, "user_id": 4759176, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0U1e5.jpg?s=128&g=1", "display_name": "parsecer", "link": "https://stackoverflow.com/users/4759176/parsecer"}, "is_accepted": true, "score": 0, "last_activity_date": 1428534648, "creation_date": 1428534648, "answer_id": 29526908, "question_id": 29525855, "link": "https://stackoverflow.com/questions/29525855/referencing-value-and-values-after-it/29526908#29526908", "title": "Referencing value and values after it", "body": "<pre><code>list1 = ['3','ex','fish nets','orange','banana','exampl','apple']\nlist2 = ['e','x','blah','exam','p','l','blahblah']\na=list2\nj=['e','x','blah','exam','p','l','blahblah']\nt=[]\nfor y in range(0, len(j)):\n            for i in range(1,len(j)-y):\n                    r=''    \n                    t=j[y:y+i+1]    #Create a list of adjacent elements.\n                    for x in t:\n                        r+=str(x)    #make it string and check if it fits.\n                    if r in list1:\n                        list2[y]=r\n                        for e in range(y+1,y+i+1):\n                            list2[e]=0    # to avoid a mess with indexes.\nwhile 0 in list2:\n    list2.remove(0) \nprint list2 \n</code></pre>\n\n<p>I know it's very clumpsy, but it seems to work.  </p>\n"}], "owner": {"reputation": 37, "user_id": 4700976, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ldrjV-nWZy0/AAAAAAAAAAI/AAAAAAAAAFM/kkGeKoM_vco/photo.jpg?sz=128", "display_name": "Gavyn Rogers", "link": "https://stackoverflow.com/users/4700976/gavyn-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 29526908, "answer_count": 1, "score": -1, "last_activity_date": 1428534648, "creation_date": 1428529201, "last_edit_date": 1428533043, "question_id": 29525855, "link": "https://stackoverflow.com/questions/29525855/referencing-value-and-values-after-it", "title": "Referencing value and values after it", "body": "<p>Let's say I have a list:</p>\n\n<pre><code>list1 = [1,2,3,4,5,6,7,8,9,10]\n</code></pre>\n\n<p>I want a loop that will, for every value, check if a concatenated version of it and any other beyond it are the same as an existing value in another list. Make sense? No? Here's what I want to come out.</p>\n\n<p><strong>The lists</strong></p>\n\n<pre><code>list1 = ['3','ex','fish nets','orange','banana','exampl','apple']\nlist2 = ['e','x','blah','exam','p','l','blahblah']\n</code></pre>\n\n<p>Finally, we take these lists and let's say I want every time a value and any adjacent number of values after it are equivalent to a value in <code>list1</code> for them to concatenate. (i.e. values <em>e</em> and <em>x</em> concatenate to be <em>ex</em> which exists in <code>list1</code>.) So, it modifies <code>list2</code> to be:</p>\n\n<pre><code>list2 = ['ex','blah','exam','p','l','blahblah']\n</code></pre>\n\n<p>The same would be for three or four or however many values are in the list. The loop would reexamine the rest of possible combinations (only left -> right) and do the same. <em>exam</em>, <em>p</em>, and <em>l</em> concatenate to the value in <code>list1</code> <em>exampl</em>. <code>list2</code> then becomes:</p>\n\n<pre><code>list2 = ['ex','blah','exampl','blahblah']\n</code></pre>\n\n<p>The wording on this is pretty poor but I hope the examples were in-depth enough to give a representation of what I need.</p>\n"}, {"tags": ["python", "apache", "localhost", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 3450, "user_id": 4417582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/124b11df80445d70ea0f070b07e578ef?s=128&d=identicon&r=PG&f=1", "display_name": "abhimanyuaryan", "link": "https://stackoverflow.com/users/4417582/abhimanyuaryan"}, "edited": false, "score": 0, "creation_date": 1428530347, "post_id": 29525951, "comment_id": 47206594, "body": "No effect, Now I see #!/usr/bin/python print &#39;Content-type: text/html&#39; print &#39;&#39; print &#39;&#39; print &#39;&#39; print &#39;&#39; print &#39;&#39; print &#39; in browser"}, {"owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "edited": false, "score": 0, "creation_date": 1428530764, "post_id": 29525951, "comment_id": 47206779, "body": "Again, this is a CGI / handler issue... <i>not</i> a scripting problem. (You should be easily able to demonstrate that by doing a &quot;View Source&quot; in your browser - it should just be a copy of your script)"}], "tags": [], "owner": {"reputation": 43, "user_id": 3361009, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yHkcE.jpg?s=128&g=1", "display_name": "Skywrath", "link": "https://stackoverflow.com/users/3361009/skywrath"}, "is_accepted": false, "score": 1, "last_activity_date": 1428529650, "creation_date": 1428529650, "answer_id": 29525951, "question_id": 29525819, "link": "https://stackoverflow.com/questions/29525819/cgi-script-doesnt-render-properly-in-browser/29525951#29525951", "title": "cgi script doesn&#39;t render properly in browser", "body": "<p>You need to indicate this page is plain HTML file by adding the following line at the top of your HTML code, even before . For example:</p>\n\n<pre><code> print 'Content-type: text/html'\n print #An empty line is needed between the previous line and your HTML code\n print '&lt;html&gt;'\n ...\n print '&lt;/html&gt;'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "edited": false, "score": 0, "creation_date": 1428530160, "post_id": 29526031, "comment_id": 47206499, "body": "Except, it is generally considered bad practice and is <i>not</i> advisable to include executable scripts within your document directory... at least until such time as you really understand what you are doing. I&#39;d start using a script directory, instead (ie. See <a href=\"http://httpd.apache.org/docs/2.2/howto/cgi.html\" rel=\"nofollow noreferrer\">Apache: Tutorial: Dynamic Content with CGI</a>, first."}, {"owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "reply_to_user": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "edited": false, "score": 0, "creation_date": 1428530337, "post_id": 29526031, "comment_id": 47206591, "body": "@RVT If it were me, I would be using a Python web framework (OP, if you&#39;re interested, try <a href=\"http://pylonsproject.org\" rel=\"nofollow noreferrer\">Pyramid</a>) rather than just raw CGI. I was just solving OP&#39;s problem."}, {"owner": {"reputation": 3450, "user_id": 4417582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/124b11df80445d70ea0f070b07e578ef?s=128&d=identicon&r=PG&f=1", "display_name": "abhimanyuaryan", "link": "https://stackoverflow.com/users/4417582/abhimanyuaryan"}, "edited": false, "score": 0, "creation_date": 1428530609, "post_id": 29526031, "comment_id": 47206713, "body": "@DarthVader I don&#39;t have any .htaccess file in var/www/ should i create one? What should be the name &amp; permissions for that file?"}, {"owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "edited": false, "score": 0, "creation_date": 1428530671, "post_id": 29526031, "comment_id": 47206741, "body": "Fair enough, @Darth... though, Frameworks being what they are, my current python fascination (other than a much more robust <a href=\"https://www.djangoproject.com/\" rel=\"nofollow noreferrer\">django</a>) is the <a href=\"http://flask.pocoo.org/\" rel=\"nofollow noreferrer\">Flask</a> micro-framework."}, {"owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "reply_to_user": {"reputation": 3450, "user_id": 4417582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/124b11df80445d70ea0f070b07e578ef?s=128&d=identicon&r=PG&f=1", "display_name": "abhimanyuaryan", "link": "https://stackoverflow.com/users/4417582/abhimanyuaryan"}, "edited": false, "score": 0, "creation_date": 1428531354, "post_id": 29526031, "comment_id": 47207022, "body": "@androidplusios.design Yes, you need to create the .htaccess file, it doesn&#39;t exist by default. Read more <a href=\"http://code.tutsplus.com/tutorials/the-ultimate-guide-to-htaccess-files--net-4757\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "reply_to_user": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "edited": false, "score": 0, "creation_date": 1428531448, "post_id": 29526031, "comment_id": 47207069, "body": "@RVT Flask is also one of my personal favorites, but I use Pyramid (rather than Flask or Django) because it&#39;s much more relaxed on what modules to use for SQL access, templating, etc."}, {"owner": {"reputation": 3450, "user_id": 4417582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/124b11df80445d70ea0f070b07e578ef?s=128&d=identicon&r=PG&f=1", "display_name": "abhimanyuaryan", "link": "https://stackoverflow.com/users/4417582/abhimanyuaryan"}, "edited": false, "score": 0, "creation_date": 1428562780, "post_id": 29526031, "comment_id": 47216916, "body": "@DarthVader this still doesn&#39;t work even after adding this stuff to .htaccess file"}], "tags": [], "owner": {"reputation": 365, "user_id": 4211176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818d8dceb5d4fdba1e1ca5872e7ac315?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Vader", "link": "https://stackoverflow.com/users/4211176/darth-vader"}, "is_accepted": false, "score": 3, "last_activity_date": 1428529942, "creation_date": 1428529942, "answer_id": 29526031, "question_id": 29525819, "link": "https://stackoverflow.com/questions/29525819/cgi-script-doesnt-render-properly-in-browser/29526031#29526031", "title": "cgi script doesn&#39;t render properly in browser", "body": "<p>As @Skywrath indicated, you do need to print your headers before any content. In addition to this, add a CGI handler for python files in the .htaccess file in /var/www/, like so:</p>\n\n<pre><code>AddHandler cgi-script .cgi .py\nOptions +ExecCGI \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "is_accepted": false, "score": 1, "last_activity_date": 1428530036, "creation_date": 1428530036, "answer_id": 29526048, "question_id": 29525819, "link": "https://stackoverflow.com/questions/29525819/cgi-script-doesnt-render-properly-in-browser/29526048#29526048", "title": "cgi script doesn&#39;t render properly in browser", "body": "<p>You should look towards moving script in to your CGI directory, rather than your document root, and use <a href=\"http://httpd.apache.org/docs/2.2/howto/cgi.html\" rel=\"nofollow\">ScriptAlias</a> to designate such in your Apache configuration file.</p>\n\n<p>You'll then likely access the script through localhost/cgi-bin/hello.py, instead.</p>\n"}], "owner": {"reputation": 3450, "user_id": 4417582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/124b11df80445d70ea0f070b07e578ef?s=128&d=identicon&r=PG&f=1", "display_name": "abhimanyuaryan", "link": "https://stackoverflow.com/users/4417582/abhimanyuaryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1428530036, "creation_date": 1428529042, "question_id": 29525819, "link": "https://stackoverflow.com/questions/29525819/cgi-script-doesnt-render-properly-in-browser", "title": "cgi script doesn&#39;t render properly in browser", "body": "<p>I am beginner in python web development. So, I quickly did all the set up for running cgi scripts in my ubuntu 14.04 OS. I kept <code>hello.py</code> in <code>/var/www/</code> but when I run that in browser it doesn't look as expected.</p>\n\n<p><img src=\"https://i.stack.imgur.com/gfNON.png\" alt=\"enter image description here\"></p>\n\n<p>Here is <code>000-default.conf</code> from <code>/etc/apache2/sites-available/</code></p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    # The ServerName directive sets the request scheme, hostname and port that\n    # the server uses to identify itself. This is used when creating\n    # redirection URLs. In the context of virtual hosts, the ServerName\n    # specifies what hostname must appear in the request's Host: header to\n    # match this virtual host. For the default virtual host (this file) this\n    # value is not decisive as it is used as a last resort host regardless.\n    # However, you must set it for any further virtual host explicitly.\n    #ServerName www.example.com\n\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/\n\n        &lt;Directory /var/www/&gt;\n                Options Indexes FollowSymLinks MultiViews\n                AllowOverride None\n                Order allow,deny\n                allow from all\n                AddHandler mod_python .py\n                PythonHandler mod_python.publisher\n                PythonDebug On\n        &lt;/Directory&gt;\n\n\n       &lt;Directory /var/www/&gt;\n                Options Indexes FollowSymLinks MultiViews\n                AllowOverride None\n                Order allow,deny\n                allow from all\n                AddHandler mod_python .psp\n                PythonHandler mod_python.psp\n                PythonDebug On\n        &lt;/Directory&gt;\n\n\n\n    # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\n    # error, crit, alert, emerg.\n    # It is also possible to configure the loglevel for particular\n    # modules, e.g.\n    #LogLevel info ssl:warn\n\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n    # For most configuration files from conf-available/, which are\n    # enabled or disabled at a global level, it is possible to\n    # include a line for only one particular virtual host. For example the\n    # following line enables the CGI configuration for this host only\n    # after it has been globally disabled with \"a2disconf\".\n    #Include conf-available/serve-cgi-bin.conf\n&lt;/VirtualHost&gt;\n\n# vim: syntax=apache ts=4 sw=4 sts=4 sr noet\n</code></pre>\n\n<p>Here are the enabled mods: </p>\n\n<p><img src=\"https://i.stack.imgur.com/Z9q6J.png\" alt=\"enter image description here\"></p>\n\n<p>Hello.py file:</p>\n\n<pre><code>#!/usr/bin/python\n\nprint '&lt;html&gt;'\nprint '&lt;head&gt;'\nprint '&lt;title&gt;Hello Word - First CGI Program&lt;/title&gt;'\nprint '&lt;/head&gt;'\nprint '&lt;body&gt;'\nprint '&lt;h2&gt;Hello Word! This is my first CGI program&lt;/h2&gt;'\nprint '&lt;/body&gt;'\nprint '&lt;/html&gt;'\n</code></pre>\n"}, {"tags": ["python", "pandas", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 3674, "user_id": 4049396, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/HFySR.jpg?s=128&g=1", "display_name": "Little Bobby Tables", "link": "https://stackoverflow.com/users/4049396/little-bobby-tables"}, "edited": false, "score": 0, "creation_date": 1489666014, "post_id": 29528804, "comment_id": 72776507, "body": "@van +1 but could do with a little bit more detail. e.g. I did <code>df = pd.read_sql(query, query.bind)</code> when <code>query</code> is a <code>sqlalchemy.sql.selectable.Select</code>. Otherwise, I got <code>&#39;Select&#39; object has no attribute &#39;session&#39;</code>."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "edited": false, "score": 0, "creation_date": 1489741336, "post_id": 29528804, "comment_id": 72813051, "body": "In order to to copy-paste, I added link to the documentation directly in the answer, which covers your question: you should provide the <code>con</code> parameter, which can be the <code>engine</code> or <code>connection string</code>"}, {"owner": {"reputation": 335, "user_id": 2867744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b71d3bbd91c148a6265d989f82e596?s=128&d=identicon&r=PG&f=1", "display_name": "dataflow", "link": "https://stackoverflow.com/users/2867744/dataflow"}, "edited": false, "score": 1, "creation_date": 1498260658, "post_id": 29528804, "comment_id": 76445149, "body": "@van Would it be better to use query.session.connection() here? Otherwise the query doesn&#39;t take into account unpersisted changes in the session..."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 335, "user_id": 2867744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b71d3bbd91c148a6265d989f82e596?s=128&d=identicon&r=PG&f=1", "display_name": "dataflow", "link": "https://stackoverflow.com/users/2867744/dataflow"}, "edited": false, "score": 1, "creation_date": 1498590369, "post_id": 29528804, "comment_id": 76556718, "body": "@dataflow: I think you are right, but i have never tested the assumption."}, {"owner": {"reputation": 125, "user_id": 5609600, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/489f917038967fe8bba64bf6adb4cdf2?s=128&d=identicon&r=PG", "display_name": "andrewpederson", "link": "https://stackoverflow.com/users/5609600/andrewpederson"}, "edited": false, "score": 0, "creation_date": 1516313614, "post_id": 29528804, "comment_id": 83648142, "body": "@van - this throws &#39;TypeError: sequence item 0: expected string, DefaultMeta found&#39;; been tearing my hair out all day trying to figure out what&#39;s wrong. Only thing I can figure is that it might have something to do with trying to extract a connection from a scoped_session...."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "edited": false, "score": 0, "creation_date": 1516344674, "post_id": 29528804, "comment_id": 83656176, "body": "Still works for me with the newest version of sqlalchemy and also using scoped sessions. Could you start a chat on the topic and provide more context."}, {"owner": {"reputation": 34597, "user_id": 311744, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/oZR4v.jpg?s=128&g=1", "display_name": "Benjamin Crouzier", "link": "https://stackoverflow.com/users/311744/benjamin-crouzier"}, "reply_to_user": {"reputation": 12230, "user_id": 1479269, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8d6345c6e01f0f4ce8acf0792d7769c?s=128&d=identicon&r=PG", "display_name": "dmvianna", "link": "https://stackoverflow.com/users/1479269/dmvianna"}, "edited": false, "score": 0, "creation_date": 1553207831, "post_id": 29528804, "comment_id": 97309741, "body": "@dmvianna Having been spoiled by ruby/rails/ActiveRecord, I feel this is normal"}, {"owner": {"reputation": 525, "user_id": 3400316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212dadcc4dfcd2cbc89c64637a1f12e1?s=128&d=identicon&r=PG&f=1", "display_name": "Coxy", "link": "https://stackoverflow.com/users/3400316/coxy"}, "edited": false, "score": 0, "creation_date": 1581558664, "post_id": 29528804, "comment_id": 106478639, "body": "@van I can confirm that using <code>query.session.bind</code> does not include upersisted changes in the session, but that using <code>query.session.connection()</code> does.  The original answer here was not quite complete for my use case without your suggestion."}], "tags": [], "owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "is_accepted": true, "score": 214, "last_activity_date": 1489741253, "last_edit_date": 1489741253, "creation_date": 1428547213, "answer_id": 29528804, "question_id": 29525808, "link": "https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe/29528804#29528804", "title": "SQLAlchemy ORM conversion to pandas DataFrame", "body": "<p>Below should work in most cases:</p>\n\n<pre><code>df = pd.read_sql(query.statement, query.session.bind)\n</code></pre>\n\n<p>See <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_sql.html\" rel=\"noreferrer\"><code>pandas.read_sql</code></a> documentation for more information on the parameters.</p>\n"}, {"tags": [], "owner": {"reputation": 21311, "user_id": 14337, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/77b4790f40b47f0c67676ff7e5f4df85?s=128&d=identicon&r=PG", "display_name": "Johan Dahlin", "link": "https://stackoverflow.com/users/14337/johan-dahlin"}, "is_accepted": false, "score": 4, "last_activity_date": 1456858136, "creation_date": 1456858136, "answer_id": 35730968, "question_id": 29525808, "link": "https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe/35730968#35730968", "title": "SQLAlchemy ORM conversion to pandas DataFrame", "body": "<p>If you want to compile a query with parameters and dialect specific arguments, use something like this:</p>\n\n<pre><code>c = query.statement.compile(query.session.bind)\ndf = pandas.read_sql(c.string, query.session.bind, params=c.params)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1490, "user_id": 3707564, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/60104882193f0b67e860f3aa5332f399?s=128&d=identicon&r=PG&f=1", "display_name": "user40780", "link": "https://stackoverflow.com/users/3707564/user40780"}, "edited": false, "score": 1, "creation_date": 1505785953, "post_id": 36257640, "comment_id": 79544120, "body": "I think this is more clear, when the code is ORM based."}, {"owner": {"reputation": 390, "user_id": 5576491, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3b6a7529a9e538c83d703817c56080b4?s=128&d=identicon&r=PG&f=1", "display_name": "PallavBakshi", "link": "https://stackoverflow.com/users/5576491/pallavbakshi"}, "edited": false, "score": 5, "creation_date": 1516371894, "post_id": 36257640, "comment_id": 83671859, "body": "OMG! I struggled with sqlAlchemy hell a lot. Just a side note here: You can also write read_sql(&#39;SELECT * FROM TABLENAME&#39;, db.session.bind) . Thanks. The above answer helped me more than the accepted one."}, {"owner": {"reputation": 4999, "user_id": 4288043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/49024a7e4655fe97e5ec7011e2321d3e?s=128&d=identicon&r=PG&f=1", "display_name": "cardamom", "link": "https://stackoverflow.com/users/4288043/cardamom"}, "edited": false, "score": 3, "creation_date": 1519117540, "post_id": 36257640, "comment_id": 84766802, "body": "What does <code>.statement</code> do?"}, {"owner": {"reputation": 2840, "user_id": 3775493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m150V.jpg?s=128&g=1", "display_name": "Nuno Andr&#233;", "link": "https://stackoverflow.com/users/3775493/nuno-andr%c3%a9"}, "reply_to_user": {"reputation": 4999, "user_id": 4288043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/49024a7e4655fe97e5ec7011e2321d3e?s=128&d=identicon&r=PG&f=1", "display_name": "cardamom", "link": "https://stackoverflow.com/users/4288043/cardamom"}, "edited": false, "score": 4, "creation_date": 1527900884, "post_id": 36257640, "comment_id": 88315851, "body": "@cardamom it returns the sql query."}], "tags": [], "owner": {"reputation": 1678, "user_id": 4618272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-230ilEnjOxo/AAAAAAAAAAI/AAAAAAAAAEM/HeA-IvhuA1I/photo.jpg?sz=128", "display_name": "Chandan Purohit", "link": "https://stackoverflow.com/users/4618272/chandan-purohit"}, "is_accepted": false, "score": 106, "last_activity_date": 1459148880, "creation_date": 1459148880, "answer_id": 36257640, "question_id": 29525808, "link": "https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe/36257640#36257640", "title": "SQLAlchemy ORM conversion to pandas DataFrame", "body": "<p>Just to make this more clear for novice pandas programmers, here is a concrete example,</p>\n\n<pre><code>pd.read_sql(session.query(Complaint).filter(Complaint.id == 2).statement,session.bind) \n</code></pre>\n\n<p>Here we select a complaint from complaints table (sqlalchemy model is Complaint) with id = 2</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 6501263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0f101d6bf383865ef6fa58b3b9b3ef?s=128&d=identicon&r=PG&f=1", "display_name": "jorr45", "link": "https://stackoverflow.com/users/6501263/jorr45"}, "is_accepted": false, "score": 13, "last_activity_date": 1467735817, "creation_date": 1467735817, "answer_id": 38208279, "question_id": 29525808, "link": "https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe/38208279#38208279", "title": "SQLAlchemy ORM conversion to pandas DataFrame", "body": "<p>The selected solution didn't work for me, as I kept getting the error </p>\n\n<blockquote>\n  <p>AttributeError: 'AnnotatedSelect' object has no attribute 'lower' </p>\n</blockquote>\n\n<p>I found the following worked:</p>\n\n<pre><code>df = pd.read_sql_query(query.statement, engine)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 477, "user_id": 9204838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3982ccfe87d681c62fad41eeff18879c?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Azevedo", "link": "https://stackoverflow.com/users/9204838/carlos-azevedo"}, "edited": false, "score": 0, "creation_date": 1590250789, "post_id": 58445098, "comment_id": 109613038, "body": "The import of <code>select</code> in <code>df_query = select([DailyTrendsTable])</code> is missing. <code>from sqlalchemy import select</code>"}], "tags": [], "owner": {"reputation": 101, "user_id": 11344257, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ChO7wzIFDco/AAAAAAAAAAI/AAAAAAAAAAc/IZqugzcrzEg/photo.jpg?sz=128", "display_name": "Akshay Salvi", "link": "https://stackoverflow.com/users/11344257/akshay-salvi"}, "is_accepted": false, "score": 3, "last_activity_date": 1571380059, "creation_date": 1571380059, "answer_id": 58445098, "question_id": 29525808, "link": "https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe/58445098#58445098", "title": "SQLAlchemy ORM conversion to pandas DataFrame", "body": "<pre><code>from sqlalchemy import Column, Integer, String, create_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\n\nengine = create_engine('postgresql://postgres:postgres@localhost:5432/DB', echo=False)\nBase = declarative_base(bind=engine)\nSession = sessionmaker(bind=engine)\nsession = Session()\n\nconn = session.bind\n\nclass DailyTrendsTable(Base):\n\n    __tablename__ = 'trends'\n    __table_args__ = ({\"schema\": 'mf_analysis'})\n\n    company_code = Column(DOUBLE_PRECISION, primary_key=True)\n    rt_bullish_trending = Column(Integer)\n    rt_bearish_trending = Column(Integer)\n    rt_bullish_non_trending = Column(Integer)\n    rt_bearish_non_trending = Column(Integer)\n    gen_date = Column(Date, primary_key=True)\n\ndf_query = select([DailyTrendsTable])\n\ndf_data = pd.read_sql(rt_daily_query, con = conn)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1409, "user_id": 1785391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c517b3ff10b9ca222df25d956ab884bd?s=128&d=identicon&r=PG", "display_name": "taffit", "link": "https://stackoverflow.com/users/1785391/taffit"}, "is_accepted": false, "score": 7, "last_activity_date": 1599231757, "creation_date": 1599231757, "answer_id": 63743668, "question_id": 29525808, "link": "https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe/63743668#63743668", "title": "SQLAlchemy ORM conversion to pandas DataFrame", "body": "<p>For completeness sake: As alternative to the Pandas-function <a href=\"https://pandas.pydata.org/docs/reference/api/pandas.read_sql_query.html\" rel=\"noreferrer\"><code>read_sql_query()</code></a>, you can also use the Pandas-DataFrame-function <a href=\"https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.from_records.html\" rel=\"noreferrer\"><code>from_records()</code></a> to convert a <code>structured or record ndarray to DataFrame</code>.<br />\nThis comes in handy if you e.g. have already executed the query in SQLAlchemy and have the results already available:</p>\n<pre><code>import pandas as pd \nfrom sqlalchemy import Column, Integer, String, create_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import scoped_session, sessionmaker\n\n\nSQLALCHEMY_DATABASE_URI = 'postgresql://postgres:postgres@localhost:5432/my_database'\nengine = create_engine(SQLALCHEMY_DATABASE_URI, pool_pre_ping=True, echo=False)\ndb = scoped_session(sessionmaker(autocommit=False, autoflush=False, bind=engine))\nBase = declarative_base(bind=engine)\n\n\nclass Currency(Base):\n    &quot;&quot;&quot;The `Currency`-table&quot;&quot;&quot;\n    __tablename__ = &quot;currency&quot;\n    __table_args__ = {&quot;schema&quot;: &quot;data&quot;}\n\n    id = Column(Integer, primary_key=True, nullable=False)\n    name = Column(String(64), nullable=False)\n\n\n# Defining the SQLAlchemy-query\ncurrency_query = db.query(Currency).with_entities(Currency.id, Currency.name)\n\n# Getting all the entries via SQLAlchemy\ncurrencies = currency_query.all()\n\n# We provide also the (alternate) column names and set the index here,\n# renaming the column `id` to `currency__id`\ndf_from_records = pd.DataFrame.from_records(currencies\n    , index='currency__id'\n    , columns=['currency__id', 'name'])\nprint(df_from_records.head(5))\n\n# Or getting the entries via Pandas instead of SQLAlchemy using the\n# aforementioned function `read_sql_query()`. We can set the index-columns here as well\ndf_from_query = pd.read_sql_query(currency_query.statement, db.bind, index_col='id')\n# Renaming the index-column(s) from `id` to `currency__id` needs another statement\ndf_from_query.index.rename(name='currency__id', inplace=True)\nprint(df_from_query.head(5))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 15072094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a6284e5c78c4e2827ee82abba1c361?s=128&d=identicon&r=PG&f=1", "display_name": "Hikari_PL", "link": "https://stackoverflow.com/users/15072094/hikari-pl"}, "is_accepted": false, "score": 1, "last_activity_date": 1614452396, "creation_date": 1614452396, "answer_id": 66402397, "question_id": 29525808, "link": "https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe/66402397#66402397", "title": "SQLAlchemy ORM conversion to pandas DataFrame", "body": "<p>I have a similar case, but apparently solutions in this post do not work for me. I will be grateful for any hints?</p>\n<p>I have a custom class for SQLAlchemy connection:</p>\n<pre><code>from flask_sqlalchemy import SQLAlchemy\n\ndb = SQLAlchemy()\n\nclass RevenueForecast(db.Model):\n    __tablename__ = 'revenue_forecast'\n    id = db.Column(db.Integer(), primary_key=True)\n    manager = db.Column(db.String(100), nullable=False)\n    client_name = db.Column(db.String(200), nullable=False)\n    job_description = db.Column(db.String(200), nullable=False)\n    jul = db.Column(db.Integer)\n    aug = db.Column(db.Integer)\n    sep = db.Column(db.Integer)\n    oct = db.Column(db.Integer)\n    nov = db.Column(db.Integer)\n    dec = db.Column(db.Integer)\n    jan = db.Column(db.Integer)\n    feb = db.Column(db.Integer)\n    mar = db.Column(db.Integer)\n    apr = db.Column(db.Integer)\n    may = db.Column(db.Integer)\n    jun = db.Column(db.Integer)\n    is_active = db.Column(db.Boolean)\n</code></pre>\n<p>I read the data in very simple way not to create engine, etc.:</p>\n<pre><code>forecasts = RevenueForecast.query.all()\n</code></pre>\n<p>I would like to conver it to a DataFrame. Wanted to use from_records as suggested in this thread:</p>\n<pre><code>forecast_data = pd.DataFrame.from_records(\n    forecasts,\n    index = 'id'\n)\nprint(df_from_records.head(5))\n</code></pre>\n<p>However, this prodcues error:</p>\n<pre><code>TypeError: 'RevenueForecast' object is not iterable\n</code></pre>\n<p>What works is the following (columns is simply a list of columns in a class):</p>\n<pre><code>forecast_data = pd.DataFrame()\nfor i in columns:\n    br = 'forecast_data[i] = [k.%s for k in forecasts]' % i\n    exec(br)\n</code></pre>\n<p>Still, I would like ot use pandas to convers list of classes from SQLAlchemy to a DataFrame (more error-proof). Where do I make a mistake? Should I just make RevenueForecast class iterable and that's it?</p>\n"}], "owner": {"reputation": 2661, "user_id": 1556228, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/836ec7039babfe28e8606e2c3df4f5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/1556228/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71292, "favorite_count": 51, "accepted_answer_id": 29528804, "answer_count": 7, "score": 125, "last_activity_date": 1618240699, "creation_date": 1428528994, "last_edit_date": 1618240699, "question_id": 29525808, "link": "https://stackoverflow.com/questions/29525808/sqlalchemy-orm-conversion-to-pandas-dataframe", "title": "SQLAlchemy ORM conversion to pandas DataFrame", "body": "<p>Is there a solution converting a SQLAlchemy <code>&lt;Query object&gt;</code> to a pandas DataFrame?</p>\n<p>Pandas has the capability to use <code>pandas.read_sql</code> but this requires use of raw SQL. I have two reasons for wanting to avoid it:</p>\n<ol>\n<li>I already have everything using the ORM (a good reason in and of itself) and</li>\n<li>I'm using python lists as part of the query, e.g.:</li>\n</ol>\n<blockquote>\n<p><code>db.session.query(Item).filter(Item.symbol.in_(add_symbols)</code> where <code>Item</code> is my model class and <code>add_symbols</code> is a list). This is the equivalent of SQL <code>SELECT ... from ... WHERE ... IN</code>.</p>\n</blockquote>\n<p>Is anything possible?</p>\n"}, {"tags": ["python", "sqlite", "flask"], "comments": [{"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428529180, "post_id": 29525758, "comment_id": 47205998, "body": "An example here <a href=\"https://github.com/abdullatheef/microblog-using-flask-and-sqlite3-as-databse\" rel=\"nofollow noreferrer\">github.com/abdullatheef/&hellip;</a>"}, {"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 1, "creation_date": 1428531976, "post_id": 29525758, "comment_id": 47207259, "body": "Have you gone through the Flask tutorial? There is a <a href=\"http://flask.pocoo.org/docs/0.10/tutorial/views/#show-entries\" rel=\"nofollow noreferrer\">section about this very thing</a>."}], "answers": [{"tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": false, "score": 0, "last_activity_date": 1428533876, "creation_date": 1428533876, "answer_id": 29526774, "question_id": 29525758, "link": "https://stackoverflow.com/questions/29525758/data-from-sqlite-to-an-html-table-in-a-flask-page/29526774#29526774", "title": "Data from SQLITE to an HTML table in a Flask page", "body": "<p>Pass your data as some sort of collection, whether that's something like a dictionary in <a href=\"http://flask.pocoo.org/docs/0.10/tutorial/views/\" rel=\"nofollow\">the official tutorial</a>, or something simpler, like a tuple or list.</p>\n\n<p>Yes, in your template, you'll use a <code>{% for item in collection %} -&gt; {% endfor %}</code> loop to render out all of the data from your database.</p>\n\n<p>Example Python method:</p>\n\n<pre><code>@app.route('/print_items')\ndef print_items():\n    cursor = db.execute('SELECT column1,column2,column3,column4 FROM tablename')\n    return render_template('print_items.html', items=cursor.fetchall())\n</code></pre>\n\n<p>Example template section:</p>\n\n<pre><code>&lt;table&gt;\n{% for item in items %}\n    &lt;tr&gt;\n        &lt;td&gt;column1&lt;/td&gt;\n        &lt;td&gt;column2&lt;/td&gt;\n        &lt;td&gt;column3&lt;/td&gt;\n        &lt;td&gt;column4&lt;/td&gt;\n    &lt;/td&gt;\n{% endfor %}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6637305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45569151be1ef715cafcc60ed1aaa670?s=128&d=identicon&r=PG&f=1", "display_name": "Walter Vasi", "link": "https://stackoverflow.com/users/6637305/walter-vasi"}, "is_accepted": false, "score": 1, "last_activity_date": 1470424634, "creation_date": 1470424634, "answer_id": 38796378, "question_id": 29525758, "link": "https://stackoverflow.com/questions/29525758/data-from-sqlite-to-an-html-table-in-a-flask-page/38796378#38796378", "title": "Data from SQLITE to an HTML table in a Flask page", "body": "<p>It should be:</p>\n\n<pre><code>&lt;table&gt;\n{% for item in items %}\n    &lt;tr&gt;\n        &lt;td&gt;{{column1}}&lt;/td&gt;\n        &lt;td&gt;{{column2}}&lt;/td&gt;\n        &lt;td&gt;{{column3}}&lt;/td&gt;\n        &lt;td&gt;{{column4}}&lt;/td&gt;\n    &lt;/tr&gt;\n{% endfor %}\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 9491023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712191a3195c24889cbdfd3f50142086?s=128&d=identicon&r=PG&f=1", "display_name": "ME_sociaty", "link": "https://stackoverflow.com/users/9491023/me-sociaty"}, "is_accepted": false, "score": 1, "last_activity_date": 1547376696, "creation_date": 1547376696, "answer_id": 54168135, "question_id": 29525758, "link": "https://stackoverflow.com/questions/29525758/data-from-sqlite-to-an-html-table-in-a-flask-page/54168135#54168135", "title": "Data from SQLITE to an HTML table in a Flask page", "body": "<p>You need to follow the below:</p>\n\n<p>[HTML]:</p>\n\n<pre><code>&lt;table&gt;\n{% for item in items %}\n&lt;tr&gt;\n    &lt;td&gt;{{item[0]}}&lt;/td&gt;\n    &lt;td&gt;{{item[1]}}&lt;/td&gt;\n    &lt;td&gt;{{item[2]}}&lt;/td&gt;\n    &lt;td&gt;{{item[3]}}&lt;/td&gt;\n&lt;/td&gt;\n{% endfor %}\n</code></pre>\n\n<p>[python code]:</p>\n\n<pre><code>cursor = db.execute('SELECT column1,column2,column3,column4 FROM tablename')\nitems = cursor.fetchall()\nreturn render_template('print_items.html', items=items)\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 923697, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/97edc6de289f4bd855d6a22b7b03717e?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/923697/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11267, "favorite_count": 2, "answer_count": 3, "score": 0, "last_activity_date": 1547376696, "creation_date": 1428528798, "last_edit_date": 1428533406, "question_id": 29525758, "link": "https://stackoverflow.com/questions/29525758/data-from-sqlite-to-an-html-table-in-a-flask-page", "title": "Data from SQLITE to an HTML table in a Flask page", "body": "<p>I have a table in SQLite3 and I need to take nearly all the columns in the table and output them to a web page. For other pages I've used flask, but that has always been a case of passing 3 or 4 single value variables into the template.</p>\n\n<p>I'm guessing it's something like passing either the cursor or, more likely, the rows from the <code>cursor.fetchall()</code> call into the template then a for row in rows loop in the template?</p>\n"}, {"tags": ["python", "random"], "answers": [{"tags": [], "owner": {"reputation": 5357, "user_id": 948918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SfJmq.jpg?s=128&g=1", "display_name": "pkacprzak", "link": "https://stackoverflow.com/users/948918/pkacprzak"}, "is_accepted": false, "score": 2, "last_activity_date": 1428528640, "creation_date": 1428528640, "answer_id": 29525721, "question_id": 29525649, "link": "https://stackoverflow.com/questions/29525649/python-random-is-not-actually-random/29525721#29525721", "title": "Python \u2013 random is not actually random", "body": "<p>Probably you should change your assignments to this:</p>\n\n<pre><code>self.start = [0, roads[0].index('#')]\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>self.finish = [0, roads[0].index('#')]\n</code></pre>\n\n<p>Right now, you are using the comparison operator.</p>\n"}, {"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 4, "last_activity_date": 1428528706, "creation_date": 1428528706, "answer_id": 29525735, "question_id": 29525649, "link": "https://stackoverflow.com/questions/29525649/python-random-is-not-actually-random/29525735#29525735", "title": "Python \u2013 random is not actually random", "body": "<p>You are using an equality test here:</p>\n\n<pre><code>self.start == [0, roads[0].index('#')]\n</code></pre>\n\n<p>That'll fail unless you have a <code>start</code> attribute at the class level; it is <strong>not</strong> assigning, it is testing for equality there. You'd get a <code>NameError</code> here!</p>\n\n<p>So, you probably <em>do</em> have a <code>Car.start</code> class attribute, and it is a mutable type, like a list:</p>\n\n<pre><code>class Car:\n    start = [0, 0]\n</code></pre>\n\n<p>but forgot to include that in your question.</p>\n\n<p>You then assign to <code>self.start</code> indices, the class attribute:</p>\n\n<pre><code>self.start[0] = randint(0, len(roads)-1)\nself.start[1] = randint(0, len(roads[0])-1)\n</code></pre>\n\n<p>This is <em>shared data</em> as this modifies the class attribute!</p>\n\n<p>Finally, you set an instance attribute:</p>\n\n<pre><code>self.start = tuple(self.start)\n</code></pre>\n\n<p>containing shared data. The same applies to your <code>self.finish</code> attribute.</p>\n\n<p>You can fix this by using <em>assignment</em> rather than an equality test:</p>\n\n<pre><code>self.start = [0, roads[0].index('#')]\n</code></pre>\n\n<p>and the same applies to <code>self.finish</code>:</p>\n\n<pre><code>self.finish == [0, roads[0].index('#')]\n</code></pre>\n\n<p>You could also just use a local name here and assign only to the instance attribute once you are done constructing the lists.</p>\n"}], "owner": {"reputation": 930, "user_id": 3713926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4644674624a85763e1932e6058fc2be1?s=128&d=identicon&r=PG&f=1", "display_name": "Akiiino", "link": "https://stackoverflow.com/users/3713926/akiiino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 29525735, "answer_count": 2, "score": 0, "last_activity_date": 1428528706, "creation_date": 1428528374, "last_edit_date": 1428528416, "question_id": 29525649, "link": "https://stackoverflow.com/questions/29525649/python-random-is-not-actually-random", "title": "Python \u2013 random is not actually random", "body": "<p>I use this code: </p>\n\n<pre><code>class Car:\n    def __init__(self):\n        self.start == [0, roads[0].index('#')]\n        while roads[self.start[0]][self.start[1]] == '#':\n            self.start[0] = randint(0, len(roads)-1)\n            self.start[1] = randint(0, len(roads[0])-1)\n        self.start = tuple(self.start)\n\n        self.finish == [0, roads[0].index('#')]\n        while roads[self.finish[0]][self.finish[1]] == '#':\n            self.finish[0] = randint(0, len(roads)-1)\n            self.finish[1] = randint(0, len(roads[0])-1)\n        self.finish = tuple(self.finish)\n\n        self.kind = randint(0, 1)\n</code></pre>\n\n<p>What it does is this: in a map represented like this:</p>\n\n<pre><code>#############1#########\n#############1111######\n#############1##1######\n#######1111111111######\n#############1#########\n#############1#########\n</code></pre>\n\n<p>it finds two 1s and sets them as start and finish, then it randomly selects one more variable. Then i do this:</p>\n\n<pre><code>a = Car()\nb = Car()\n</code></pre>\n\n<p>only to find out that they both have always the same start and finish, but sometimes different kinds. I don't understand \u2013 if there is an issue with random not working, it shouldn't work on self.kind as well!<br>\nHow do I fix it?</p>\n"}, {"tags": ["python", "scipy", "scikit-learn"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1428528489, "post_id": 29525636, "comment_id": 47205669, "body": "Get the source from PyPI/Github/wherever, untar/unzip, and open with your favorite text editor? What exactly are you asking?"}], "answers": [{"tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": true, "score": 1, "last_activity_date": 1428528608, "creation_date": 1428528608, "answer_id": 29525712, "question_id": 29525636, "link": "https://stackoverflow.com/questions/29525636/how-to-look-at-the-source-code-of-scikit-learn-ml-classes/29525712#29525712", "title": "How to look at the source code of scikit learn ML classes?", "body": "<p>You can view it on their github:</p>\n\n<p><a href=\"https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/cross_validation.py\" rel=\"nofollow\">https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/cross_validation.py</a></p>\n\n<p>You can download it, but you don't have to</p>\n\n<p>KFold looks like this</p>\n\n<pre><code>class KFold(_BaseKFold):\n    \"\"\"K-Folds cross validation iterator.\n    Provides train/test indices to split data in train test sets. Split\n    dataset into k consecutive folds (without shuffling).\n    Each fold is then used a validation set once while the k - 1 remaining\n    fold form the training set.\n    Parameters\n    ----------\n    n : int\n        Total number of elements.\n    n_folds : int, default=3\n        Number of folds. Must be at least 2.\n    shuffle : boolean, optional\n        Whether to shuffle the data before splitting into batches.\n    random_state : None, int or RandomState\n        Pseudo-random number generator state used for random\n        sampling. If None, use default numpy RNG for shuffling\n    Examples\n    --------\n    &gt;&gt;&gt; from sklearn import cross_validation\n    &gt;&gt;&gt; X = np.array([[1, 2], [3, 4], [1, 2], [3, 4]])\n    &gt;&gt;&gt; y = np.array([1, 2, 3, 4])\n    &gt;&gt;&gt; kf = cross_validation.KFold(4, n_folds=2)\n    &gt;&gt;&gt; len(kf)\n    2\n    &gt;&gt;&gt; print(kf)  # doctest: +NORMALIZE_WHITESPACE\n    sklearn.cross_validation.KFold(n=4, n_folds=2, shuffle=False,\n                                   random_state=None)\n    &gt;&gt;&gt; for train_index, test_index in kf:\n    ...    print(\"TRAIN:\", train_index, \"TEST:\", test_index)\n    ...    X_train, X_test = X[train_index], X[test_index]\n    ...    y_train, y_test = y[train_index], y[test_index]\n    TRAIN: [2 3] TEST: [0 1]\n    TRAIN: [0 1] TEST: [2 3]\n    Notes\n    -----\n    The first n % n_folds folds have size n // n_folds + 1, other folds have\n    size n // n_folds.\n    See also\n    --------\n    StratifiedKFold: take label information into account to avoid building\n    folds with imbalanced class distributions (for binary or multiclass\n    classification tasks).\n    \"\"\"\n\n    def __init__(self, n, n_folds=3, shuffle=False,\n                 random_state=None):\n        super(KFold, self).__init__(n, n_folds, shuffle, random_state)\n        self.idxs = np.arange(n)\n        if shuffle:\n            rng = check_random_state(self.random_state)\n            rng.shuffle(self.idxs)\n\n    def _iter_test_indices(self):\n        n = self.n\n        n_folds = self.n_folds\n        fold_sizes = (n // n_folds) * np.ones(n_folds, dtype=np.int)\n        fold_sizes[:n % n_folds] += 1\n        current = 0\n        for fold_size in fold_sizes:\n            start, stop = current, current + fold_size\n            yield self.idxs[start:stop]\n            current = stop\n\n    def __repr__(self):\n        return '%s.%s(n=%i, n_folds=%i, shuffle=%s, random_state=%s)' % (\n            self.__class__.__module__,\n            self.__class__.__name__,\n            self.n,\n            self.n_folds,\n            self.shuffle,\n            self.random_state,\n        )\n\n    def __len__(self):\n        return self.n_folds\n</code></pre>\n"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3142, "favorite_count": 0, "closed_date": 1428604214, "accepted_answer_id": 29525712, "answer_count": 1, "score": -3, "last_activity_date": 1428528608, "creation_date": 1428528338, "question_id": 29525636, "link": "https://stackoverflow.com/questions/29525636/how-to-look-at-the-source-code-of-scikit-learn-ml-classes", "closed_reason": "Needs details or clarity", "title": "How to look at the source code of scikit learn ML classes?", "body": "<p>I wanted to look into the source code of the various ML classes we have in scikit-learn. Like if I wanted to check the class KFold of cross_validation module how do I check it?. Same for others. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "html", "parsing", "beautifulsoup"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1428528297, "post_id": 29525613, "comment_id": 47205566, "body": "Much easier to follow would be to have an example input HTML and the desired output."}, {"owner": {"reputation": 7143, "user_id": 1398915, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v1nEp.jpg?s=128&g=1", "display_name": "PepperoniPizza", "link": "https://stackoverflow.com/users/1398915/pepperonipizza"}, "edited": false, "score": 0, "creation_date": 1428528414, "post_id": 29525613, "comment_id": 47205624, "body": "I don&#39;t need to learn your homework, what don&#39;t you tell us what you have done already."}, {"owner": {"reputation": 67, "user_id": 4752120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/430feaa6d296449d4382eb4526b118fe?s=128&d=identicon&r=PG&f=1", "display_name": "bsy", "link": "https://stackoverflow.com/users/4752120/bsy"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1428528422, "post_id": 29525613, "comment_id": 47205628, "body": "@alecxe, hope this helps."}, {"owner": {"reputation": 67, "user_id": 4752120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/430feaa6d296449d4382eb4526b118fe?s=128&d=identicon&r=PG&f=1", "display_name": "bsy", "link": "https://stackoverflow.com/users/4752120/bsy"}, "reply_to_user": {"reputation": 7143, "user_id": 1398915, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v1nEp.jpg?s=128&g=1", "display_name": "PepperoniPizza", "link": "https://stackoverflow.com/users/1398915/pepperonipizza"}, "edited": false, "score": 0, "creation_date": 1428528818, "post_id": 29525613, "comment_id": 47205845, "body": "@PepperoniPizza Added. I have 7 other codes too, but none of those got me what I need so did not add any code."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4752120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/430feaa6d296449d4382eb4526b118fe?s=128&d=identicon&r=PG&f=1", "display_name": "bsy", "link": "https://stackoverflow.com/users/4752120/bsy"}, "edited": false, "score": 0, "creation_date": 1428529235, "post_id": 29525773, "comment_id": 47206026, "body": "can I ask how is it selecting the 1st &#39;i&#39; or 1st &#39;a&#39; and printing them only, because with my other codes, it was printing all the other contents in &quot;a&quot; from other td&#39;s."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 67, "user_id": 4752120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/430feaa6d296449d4382eb4526b118fe?s=128&d=identicon&r=PG&f=1", "display_name": "bsy", "link": "https://stackoverflow.com/users/4752120/bsy"}, "edited": false, "score": 0, "creation_date": 1428529301, "post_id": 29525773, "comment_id": 47206049, "body": "@bsy the key trick here is using that <code>i</code> element - if you see, only the title column has the contents in the italic font."}, {"owner": {"reputation": 67, "user_id": 4752120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/430feaa6d296449d4382eb4526b118fe?s=128&d=identicon&r=PG&f=1", "display_name": "bsy", "link": "https://stackoverflow.com/users/4752120/bsy"}, "edited": false, "score": 0, "creation_date": 1428529427, "post_id": 29525773, "comment_id": 47206115, "body": "Oh wow, awesome. So I&#39;ve learned to observe the very minute things today. I thank you for the good explanation."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1428528858, "creation_date": 1428528858, "answer_id": 29525773, "question_id": 29525613, "link": "https://stackoverflow.com/questions/29525613/select-a-specific-set-of-cell-under-a-set-of-tables-using-python-and-beautifulso/29525773#29525773", "title": "select a specific set of cell under a set of tables using python and beautifulsoup", "body": "<p>The idea is to iterate over every <code>table</code> with <code>wikitable</code> class; for every <code>table</code> find links directly inside the <code>i</code> tag directly inside <code>td</code> directly inside <code>tr</code>:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nurl = \"http://en.wikipedia.org/wiki/List_of_Telugu_films_of_2014\"\nsoup = BeautifulSoup(requests.get(url).content)\n\n# iterate over tables\nfor table in soup.select('table.wikitable.sortable'):\n    # get the table header/description, continue if not found\n    h3 = table.find_previous_sibling('h3')\n    if h3 is None:\n        continue\n    print h3.text\n\n    # get the links\n    for link in table.select('tr &gt; td &gt; i &gt; a'):\n        print link.text, \"|\", link.get('href', '')\n\n    print \"------\"\n</code></pre>\n\n<p>Prints (also printing table names for clarity):</p>\n\n<pre><code>January 2014\u2013june 2014[edit]\nCelebrity | /wiki/Celebrity\nKshatriya | /wiki/Kshatriya\n1: Nenokkadine | /wiki/1:_Nenokkadine\n...\nOohalu Gusagusalade | /wiki/Oohalu_Gusagusalade\nAutonagar Surya | /wiki/Autonagar_Surya\n------\nJuly 2014 \u2013 December 2014[edit]\n...\nO Manishi Katha | /wiki/O_Manishi_Katha\nMukunda | /wiki/Mukunda\nChinnadana Nee Kosam | /wiki/Chinnadana_Nee_Kosam\n------\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4752120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/430feaa6d296449d4382eb4526b118fe?s=128&d=identicon&r=PG&f=1", "display_name": "bsy", "link": "https://stackoverflow.com/users/4752120/bsy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "accepted_answer_id": 29525773, "answer_count": 1, "score": 1, "last_activity_date": 1530475595, "creation_date": 1428528247, "last_edit_date": 1530475595, "question_id": 29525613, "link": "https://stackoverflow.com/questions/29525613/select-a-specific-set-of-cell-under-a-set-of-tables-using-python-and-beautifulso", "title": "select a specific set of cell under a set of tables using python and beautifulsoup", "body": "<ol>\n<li>Consider there are N web pages. </li>\n<li>Each web page has one or more tables. The common thing the tables have is that their class is same, consider \"table_class.\"</li>\n<li>We need the contents under the same column[third column, heading is title] of every table.</li>\n<li>Contents meaning, the href links in column three from all rows.</li>\n<li>Some rows might just be plain text and some might have href link in them. </li>\n<li><p>You should print each href link in a separate line, one after the other. </p></li>\n<li><p>Using attributes to filter is not valid as some tags have different attributes. The position of the cell is the only hint available.</p></li>\n</ol>\n\n<p>How do you code this?</p>\n\n<p>Consider these two links for the web pages:</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/List_of_Telugu_films_of_2014\" rel=\"nofollow\">http://en.wikipedia.org/wiki/List_of_Telugu_films_of_2014</a>\n<a href=\"http://en.wikipedia.org/wiki/List_of_Telugu_films_of_2013\" rel=\"nofollow\">http://en.wikipedia.org/wiki/List_of_Telugu_films_of_2013</a></p>\n\n<p>Consider the table: wikitable</p>\n\n<p>Required content: href links of column Title</p>\n\n<p>Code I tried for one page:</p>\n\n<pre><code>from urllib.request import urlopen\nfrom bs4 import BeautifulSoup, SoupStrainer\n\n\ncontent = urlopen(\"http://en.wikipedia.org/wiki/List_of_Telugu_films_of_2015\").read()  \nfilter_tag = SoupStrainer(\"table\", {\"class\":\"wikitable\"})\nsoup = BeautifulSoup(content, parse_only=filter_tag)\n\nfor sp in soup.find_all('tr'):\n    for bt in sp.find_all('td'):\n        for link in bt.find_all('a'):\n            print(link.get(\"href\"))\n    print()\n</code></pre>\n"}, {"tags": ["python", "list", "scikit-learn"], "comments": [{"owner": {"reputation": 1440, "user_id": 1773867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9cd62b9e5015a1ee01ab26b9c3596d?s=128&d=identicon&r=PG", "display_name": "Wouter", "link": "https://stackoverflow.com/users/1773867/wouter"}, "edited": false, "score": 0, "creation_date": 1428528306, "post_id": 29525601, "comment_id": 47205571, "body": "What are stop words? So you want to concatenate to one long string and then count occurrences, is that correct?"}, {"owner": {"reputation": 6473, "user_id": 1446289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/407d1774cc79b26ca440f2bc1b4103d5?s=128&d=identicon&r=PG", "display_name": "Borealis", "link": "https://stackoverflow.com/users/1446289/borealis"}, "edited": false, "score": 0, "creation_date": 1428528343, "post_id": 29525601, "comment_id": 47205593, "body": "An example of the desired output would be helpful."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1428528377, "post_id": 29525601, "comment_id": 47205608, "body": "Have a look at <a href=\"http://stackoverflow.com/questions/19560498/faster-way-to-remove-stop-words-in-python\" title=\"faster way to remove stop words in python\">stackoverflow.com/questions/19560498/&hellip;</a>"}, {"owner": {"reputation": 4612, "user_id": 2277510, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/fcffe01e34fc11c789b0a9098e356195?s=128&d=identicon&r=PG&f=1", "display_name": "coder hacker", "link": "https://stackoverflow.com/users/2277510/coder-hacker"}, "reply_to_user": {"reputation": 1440, "user_id": 1773867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9cd62b9e5015a1ee01ab26b9c3596d?s=128&d=identicon&r=PG", "display_name": "Wouter", "link": "https://stackoverflow.com/users/1773867/wouter"}, "edited": false, "score": 0, "creation_date": 1428528463, "post_id": 29525601, "comment_id": 47205652, "body": "@wouter Basically you can think I have bunch of documents and I want to count how many times a word occurs across the document."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1428528587, "post_id": 29525601, "comment_id": 47205729, "body": "If you use tf-idf then you don&#39;t need to remove stop words"}], "answers": [{"comments": [{"owner": {"reputation": 4612, "user_id": 2277510, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/fcffe01e34fc11c789b0a9098e356195?s=128&d=identicon&r=PG&f=1", "display_name": "coder hacker", "link": "https://stackoverflow.com/users/2277510/coder-hacker"}, "edited": false, "score": 0, "creation_date": 1428528576, "post_id": 29525662, "comment_id": 47205724, "body": "Does your code join the different strings in list by string?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 4612, "user_id": 2277510, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/fcffe01e34fc11c789b0a9098e356195?s=128&d=identicon&r=PG&f=1", "display_name": "coder hacker", "link": "https://stackoverflow.com/users/2277510/coder-hacker"}, "edited": false, "score": 0, "creation_date": 1428528618, "post_id": 29525662, "comment_id": 47205745, "body": "Yes, all the strings are joined then split by whitespace."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1428528412, "creation_date": 1428528412, "answer_id": 29525662, "question_id": 29525601, "link": "https://stackoverflow.com/questions/29525601/count-words-in-python/29525662#29525662", "title": "Count Words in Python", "body": "<p>You've failed to thoroughly explain what you have in mind, but this may be what you're looking for:</p>\n\n<pre><code>counts = collections.Counter(' '.join(your_list).split())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4612, "user_id": 2277510, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/fcffe01e34fc11c789b0a9098e356195?s=128&d=identicon&r=PG&f=1", "display_name": "coder hacker", "link": "https://stackoverflow.com/users/2277510/coder-hacker"}, "edited": false, "score": 0, "creation_date": 1428528812, "post_id": 29525711, "comment_id": 47205839, "body": "That seems helpful, Thanks!"}], "tags": [], "owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "is_accepted": false, "score": 1, "last_activity_date": 1428528606, "creation_date": 1428528606, "answer_id": 29525711, "question_id": 29525601, "link": "https://stackoverflow.com/questions/29525601/count-words-in-python/29525711#29525711", "title": "Count Words in Python", "body": "<p>If you don't mind installing a new python library, I suggest you use <a href=\"https://radimrehurek.com/gensim/index.html\" rel=\"nofollow\">gensim</a>. \nThe first tutorial does exactly what you ask:</p>\n\n<pre><code># remove common words and tokenize\nstoplist = set('for a of the and to in'.split())\ntexts = [[word for word in document.lower().split() if word not in stoplist]\n         for document in documents]\n</code></pre>\n\n<p>You will then need to create the dictionary for your corpus of document and create the bag-of-words.</p>\n\n<pre><code>dictionary = corpora.Dictionary(texts)\ndictionary.save('/tmp/deerwester.dict') # store the dictionary, for future \nprint(dictionary)\n</code></pre>\n\n<p>You can weight the result using tf-idf and stuff and do LDA quite easily after.</p>\n\n<p>Have a look at the tutorial 1 <a href=\"https://radimrehurek.com/gensim/tut1.html\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 4612, "user_id": 2277510, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/fcffe01e34fc11c789b0a9098e356195?s=128&d=identicon&r=PG&f=1", "display_name": "coder hacker", "link": "https://stackoverflow.com/users/2277510/coder-hacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 825, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1428529516, "creation_date": 1428528199, "question_id": 29525601, "link": "https://stackoverflow.com/questions/29525601/count-words-in-python", "title": "Count Words in Python", "body": "<p>I have a list of strings in python.</p>\n\n<p><code>list = [ \"Sentence1. Sentence2...\", \"Sentence1. Sentence2...\",...]</code></p>\n\n<p>I want to remove stop words and count occurrence of each word of all different strings combined. Is there a simple way to do it?</p>\n\n<p>I am currently thinking of using CountVectorizer() from scikit and than iterating for each word and combining the results</p>\n"}, {"tags": ["python", "list", "dictionary", "missing-data", "keyerror"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1428528284, "post_id": 29525596, "comment_id": 47205560, "body": "Do you know what the error means?"}, {"owner": {"reputation": 6320, "user_id": 57158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/922a531469d720242886bf0b855d4072?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/57158/ben"}, "edited": false, "score": 0, "creation_date": 1428528348, "post_id": 29525596, "comment_id": 47205594, "body": "You can&#39;t remove items from a list while you&#39;re iterating over it without confusing the indexes! Each time you remove, the list gets shorter - but you&#39;re still counting up to the length of the original list and expecting to find elements there."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "reply_to_user": {"reputation": 6320, "user_id": 57158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/922a531469d720242886bf0b855d4072?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/57158/ben"}, "edited": false, "score": 0, "creation_date": 1428528429, "post_id": 29525596, "comment_id": 47205630, "body": "@Ben is that still the case when iterating over a range? not over the list itself"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428528464, "post_id": 29525596, "comment_id": 47205654, "body": "The problem is that the <code>range</code> matches the original <code>list</code>, but it&#39;s being applied to a shrinking <code>list</code>."}, {"owner": {"reputation": 6320, "user_id": 57158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/922a531469d720242886bf0b855d4072?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/57158/ben"}, "edited": false, "score": 0, "creation_date": 1428528504, "post_id": 29525596, "comment_id": 47205683, "body": "Yes - because for a 10-element list, you&#39;ll still be trying to find element at index 9, even if you&#39;ve deleted half the list - so you&#39;d get an IndexError."}, {"owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "edited": false, "score": 0, "creation_date": 1428528976, "post_id": 29525596, "comment_id": 47205907, "body": "Thank you, that&#39;s smart!"}, {"owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "edited": false, "score": 0, "creation_date": 1428529097, "post_id": 29525596, "comment_id": 47205963, "body": "But, without removing the item, how can I make my code just skip the dictionary having missing text... Otherwise, I am getting KeyError because of missing key. I am stuck"}, {"owner": {"reputation": 6320, "user_id": 57158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/922a531469d720242886bf0b855d4072?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/57158/ben"}, "edited": false, "score": 0, "creation_date": 1428607769, "post_id": 29525596, "comment_id": 47246064, "body": "See my answer - should give you exactly what you need. If it does, feel free to accept it with the tick."}], "answers": [{"tags": [], "owner": {"reputation": 7478, "user_id": 2658173, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a53cc204289b776e5e12dc9d43d2cbe6?s=128&d=identicon&r=PG&f=1", "display_name": "C.B.", "link": "https://stackoverflow.com/users/2658173/c-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1428529373, "last_edit_date": 1428529373, "creation_date": 1428528418, "answer_id": 29525665, "question_id": 29525596, "link": "https://stackoverflow.com/questions/29525596/python-keyerror-dictionary/29525665#29525665", "title": "Python KeyError Dictionary", "body": "<p>Might suit you to have a different approach</p>\n\n<pre><code>new_tweet_data = [tweet for tweet in tweet_data if 'text' in tweet]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6320, "user_id": 57158, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/922a531469d720242886bf0b855d4072?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/57158/ben"}, "is_accepted": false, "score": 2, "last_activity_date": 1428528438, "creation_date": 1428528438, "answer_id": 29525669, "question_id": 29525596, "link": "https://stackoverflow.com/questions/29525596/python-keyerror-dictionary/29525669#29525669", "title": "Python KeyError Dictionary", "body": "<p>You can't remove items from a list while you're iterating over it without confusing the indexes. Each time you remove, the list gets shorter - but you're still counting up to the length of the original list and expecting to find elements there. </p>\n\n<p>Try this instead:</p>\n\n<pre><code>ok_tweets = [x for x in tweets_data if 'text' in x]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "edited": false, "score": 0, "creation_date": 1428530462, "post_id": 29526008, "comment_id": 47206647, "body": "@ Tim, sorry to make you edit my code all the time.. I don&#39;t know how to make it.. Thanks though.."}], "tags": [], "owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "is_accepted": false, "score": 0, "last_activity_date": 1428529954, "last_edit_date": 1428529954, "creation_date": 1428529872, "answer_id": 29526008, "question_id": 29525596, "link": "https://stackoverflow.com/questions/29525596/python-keyerror-dictionary/29526008#29526008", "title": "Python KeyError Dictionary", "body": "<p>I guess this one works...    </p>\n\n<pre><code>cleandata=[]\nfor i in range(len(tweets_data)):\n    try:\n        print tweets_data[i]['text']\n        cleandata.append(tweets_data[i]['text'])\n    except KeyError:\n        i += 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "edited": false, "score": 0, "creation_date": 1428529990, "post_id": 29526013, "comment_id": 47206413, "body": "Thank you! You guys are awesome!"}], "tags": [], "owner": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "is_accepted": false, "score": 0, "last_activity_date": 1428532488, "last_edit_date": 1428532488, "creation_date": 1428529893, "answer_id": 29526013, "question_id": 29525596, "link": "https://stackoverflow.com/questions/29525596/python-keyerror-dictionary/29526013#29526013", "title": "Python KeyError Dictionary", "body": "<p><strike>If your data is of reasonable size I'd recommend a filtered list comprehension, as previously suggested by others</p>\n\n<pre><code>filtered = [tweet for tweet in tweets_data if 'text' in tweet]\n</code></pre>\n\n<p>OTOH, if your list is LARGE and the defective items, those you want to remove, are just a few, it is possible that an approach based on <code>.remove()</code> may be faster, avoiding the intermediate step of creating a LARGE new list</p>\n\n<pre><code>delenda = [defective for defective in tweet_data if 'text' not in defective]\nfor tweet in delenda: tweeets_data.remove(tweet)\n</code></pre>\n\n<p>Beware that each <code>.remove()</code> has to scan the whole list, so this approach could be competitive only for a very small ratio of items to remove </p>\n\n<p>If you need to deliver a product based on this question I heartily recommend timing the different approaches with samples of your data</strike></p>\n\n<p>Having read <a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"nofollow\">https://wiki.python.org/moin/TimeComplexity</a>, <em>in species</em></p>\n\n<blockquote>\n  <p>Internally, a list is represented as an array; the largest costs come from growing beyond the current allocation size (because everything must move), or from inserting or deleting somewhere near the beginning (because everything after that must move).</p>\n</blockquote>\n\n<p>I have striked  out my previous answer, suggesting the use of <code>.remove()</code> to avoid copying a possibly LARGE list, because it turns out  that every <code>.remove()</code> is, in effect, COPYING a possibly large part of the list.</p>\n\n<p>The right thing to do is indeed a list comprehension.</p>\n"}], "owner": {"reputation": 143, "user_id": 4286058, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a508452985751a904b779d292c9a6168?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/4286058/denis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1428532488, "creation_date": 1428528181, "last_edit_date": 1428528241, "question_id": 29525596, "link": "https://stackoverflow.com/questions/29525596/python-keyerror-dictionary", "title": "Python KeyError Dictionary", "body": "<ul>\n<li>I have a list, called tweets_data</li>\n<li>Each element of the list is a dictionary</li>\n<li>Keys of the dictionary is 'text'</li>\n<li>But the raw data has some missing 'text' </li>\n</ul>\n\n<p>That is why, I want to remove the dictionaries having missing text.\nThis is how my code looks like:</p>\n\n<pre><code>for i in range(len(tweets_data)):\n    try:\n        print tweets_data[i]['text']\n    except KeyError:\n        tweets_data.remove(tweets_data[i])\n        i += 1\n</code></pre>\n\n<p>And I am receiving such an error:</p>\n\n<pre><code>IndexError: list index out of range\n</code></pre>\n\n<p>My question:\nIs it possible to just remove the missing data from my list with a more clever way so that I won't get such an error?\nThanks ahead!</p>\n"}, {"tags": ["python", "html", "css", "django", "django-templates"], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "is_accepted": false, "score": 1, "last_activity_date": 1428528345, "creation_date": 1428528345, "answer_id": 29525639, "question_id": 29525591, "link": "https://stackoverflow.com/questions/29525591/django-how-to-link-to-static-files-dir-from-with-css-file/29525639#29525639", "title": "Django: how to link to static files dir from with .css file?", "body": "<p>css unless directly on the template does not run through django's template renderer. You need to use the url,</p>\n\n<pre><code>STATIC_URL = '/static/'\n</code></pre>\n\n<p>so mysite.com/static/css/mycss.css</p>\n\n<p>or image depending on how your myproject/static looks like (STATICFILES_DIRS / STATIC_ROOT)</p>\n\n<p>mysite.com/static/images/myimage.png</p>\n"}, {"tags": [], "owner": {"reputation": 39782, "user_id": 548165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMkYl.jpg?s=128&g=1", "display_name": "catavaran", "link": "https://stackoverflow.com/users/548165/catavaran"}, "is_accepted": false, "score": 1, "last_activity_date": 1428529086, "creation_date": 1428529086, "answer_id": 29525826, "question_id": 29525591, "link": "https://stackoverflow.com/questions/29525591/django-how-to-link-to-static-files-dir-from-with-css-file/29525826#29525826", "title": "Django: how to link to static files dir from with .css file?", "body": "<p>CSS files are not processed by the django template system.  So your second snippet with relative path is the right way to link to images/fonts.</p>\n"}], "owner": {"reputation": 1373, "user_id": 3662277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hvN2t.jpg?s=128&g=1", "display_name": "ThriceGood", "link": "https://stackoverflow.com/users/3662277/thricegood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1428529086, "creation_date": 1428528157, "question_id": 29525591, "link": "https://stackoverflow.com/questions/29525591/django-how-to-link-to-static-files-dir-from-with-css-file", "title": "Django: how to link to static files dir from with .css file?", "body": "<p>i am trying to get access to my static images directory (/static/myapp/images/) from inside of a css file.</p>\n\n<p>i initially tried this:</p>\n\n<pre><code>{% load staticfiles %}\n\n#header {\n    position:relative;\n    width: 680px;\n    height:99px;\n    margin-left:29px;\n    margin-right:21px;\n    background: url({% static 'myapp/images/header.png' %}) no-repeat;\n}\n</code></pre>\n\n<p>but this did not work</p>\n\n<p>this however works fine:</p>\n\n<pre><code>#header {\n    position:relative;\n    width: 680px;\n    height:99px;\n    margin-left:29px;\n    margin-right:21px;\n    background: url(../images/header.png) no-repeat;\n}\n</code></pre>\n\n<p>does Django template language work inside of css files?</p>\n\n<p>or is it just my syntax, and lack of understanding off css! this css comes from a simple template i downloaded, i no nothing about css, is there another way to link an image here that the template language will work with?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["python", "json", "file", "directory", "readfile"], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 3442285, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/40fb3445cfb2b08c76f25022e8f62aab?s=128&d=identicon&r=PG&f=1", "display_name": "ramez", "link": "https://stackoverflow.com/users/3442285/ramez"}, "edited": false, "score": 0, "creation_date": 1428529027, "post_id": 29525620, "comment_id": 47205934, "body": "Thanks for the quick response, but the JSON files are in a directory within the directory containing the .txt files. the JSONs are used in populate_graph  function which uses item (retrieved from .txt). maybe my brain is a little slow but I don&#39;t see how I can use glob in this context?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 311, "user_id": 3442285, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/40fb3445cfb2b08c76f25022e8f62aab?s=128&d=identicon&r=PG&f=1", "display_name": "ramez", "link": "https://stackoverflow.com/users/3442285/ramez"}, "edited": false, "score": 0, "creation_date": 1428531955, "post_id": 29525620, "comment_id": 47207255, "body": "@ramez you could just use the path to the subdirectory then?"}, {"owner": {"reputation": 311, "user_id": 3442285, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/40fb3445cfb2b08c76f25022e8f62aab?s=128&d=identicon&r=PG&f=1", "display_name": "ramez", "link": "https://stackoverflow.com/users/3442285/ramez"}, "edited": false, "score": 0, "creation_date": 1428532726, "post_id": 29525620, "comment_id": 47207548, "body": "Sounds good, I changed my code based on your answer, but it seems to me that the only way access &quot;item&quot; is by nesting the loops. &quot;item&quot; is generated with every loop. any input on how to accomplish this without using nested loops? thank you kindly"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 311, "user_id": 3442285, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/40fb3445cfb2b08c76f25022e8f62aab?s=128&d=identicon&r=PG&f=1", "display_name": "ramez", "link": "https://stackoverflow.com/users/3442285/ramez"}, "edited": false, "score": 0, "creation_date": 1428534515, "post_id": 29525620, "comment_id": 47208107, "body": "@ramez rather than radically alter your question to use the code I proposed (and thus invalidating my answer) could you clarify what kind of content is in you text files and how it relates to the JSON files? I don&#39;t quite get how the two are related and what you are trying to accomplish."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 0, "last_activity_date": 1428532053, "last_edit_date": 1428532053, "creation_date": 1428528282, "answer_id": 29525620, "question_id": 29525533, "link": "https://stackoverflow.com/questions/29525533/reading-only-the-files-in-top-directory-in-python/29525620#29525620", "title": "Reading only the files in top directory in python", "body": "<p>Don't use <code>os.walk()</code> if all you need is the files in one directory.</p>\n\n<p>You could use the <a href=\"https://docs.python.org/2/library/glob.html\" rel=\"nofollow\"><code>glob</code> module</a> to collect files of a specific type easily:</p>\n\n<pre><code>import glob\nimport os.path\n\ntextfiles = glob.glob(os.path.join(rootdir, '*.txt'))\njsonfiles = glob.glob(os.path.join(rootdir, 'subdue', '*.json'))\n</code></pre>\n\n<p>These globs would only find text \n <code>rootdir</code> and the JSON files in a (named) subdirectory. </p>\n"}, {"tags": [], "owner": {"reputation": 30101, "user_id": 783412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/895a112c66d93cefcd06d2cf371219e6?s=128&d=identicon&r=PG", "display_name": "hd1", "link": "https://stackoverflow.com/users/783412/hd1"}, "is_accepted": false, "score": 0, "last_activity_date": 1428533317, "creation_date": 1428533317, "answer_id": 29526661, "question_id": 29525533, "link": "https://stackoverflow.com/questions/29525533/reading-only-the-files-in-top-directory-in-python/29526661#29526661", "title": "Reading only the files in top directory in python", "body": "<pre><code>from os import listdir\nfrom os.path import isfile, join\nonlyfiles = [ f for f in listdir(mypath) if isfile(join(mypath,f)) ]\nonlytxtfiles = filter(onlyfiles, lambda(filename):filename.endswith('.txt'))\nfor fname in onlytxtfiles:\n   ...\n</code></pre>\n\n<p>Fill in what you want to do in lieu of the <code>...</code> and let me know if you need further help.</p>\n"}], "owner": {"reputation": 311, "user_id": 3442285, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/40fb3445cfb2b08c76f25022e8f62aab?s=128&d=identicon&r=PG&f=1", "display_name": "ramez", "link": "https://stackoverflow.com/users/3442285/ramez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 29525620, "answer_count": 2, "score": 0, "last_activity_date": 1428533317, "creation_date": 1428527927, "last_edit_date": 1428532607, "question_id": 29525533, "link": "https://stackoverflow.com/questions/29525533/reading-only-the-files-in-top-directory-in-python", "title": "Reading only the files in top directory in python", "body": "<p>I have a directory containing many .txt files, this same directory contains another directory containing .json files. I am trying to read the text files only and apply a function to them, then read the JSON files and apply a different function to these files. How do I access each file type individually instead of accessing all files and directories at once? Here is a basic code snippet to illustrate what I am trying to do.</p>\n\n<pre><code>textfiles = glob.glob(os.path.join(rootdir, '*.txt'))\njsonfiles = glob.glob(os.path.join(rootdir, '*.json'))\n\nfor f in textfiles:\n    title = linecache.getline(f,1)\n    titles = title[1:-1].split(',')#to convert what I read into list.\n    do other stuff here...\n    for item in titles:\n        with open(f,\"r\") as fi:\n            poems = json.load(fi)\n        for fi in jsonfiles:\n            with open(fi,\"r\") as file:\n                poems = json.load(file)\n            if(song[\"title\"]==item):\n                print(item)\n</code></pre>\n"}, {"tags": ["python", "database", "orm", "sqlalchemy"], "comments": [{"owner": {"reputation": 5272, "user_id": 1068887, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9bda4b80c94332786f83b0ad5ab7e3f8?s=128&d=identicon&r=PG", "display_name": "adarsh", "link": "https://stackoverflow.com/users/1068887/adarsh"}, "edited": false, "score": 0, "creation_date": 1428566712, "post_id": 29525491, "comment_id": 47219157, "body": "Can you show some code as to what you&#39;ve done?"}, {"owner": {"reputation": 5272, "user_id": 1068887, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9bda4b80c94332786f83b0ad5ab7e3f8?s=128&d=identicon&r=PG", "display_name": "adarsh", "link": "https://stackoverflow.com/users/1068887/adarsh"}, "edited": false, "score": 1, "creation_date": 1428584557, "post_id": 29525491, "comment_id": 47230527, "body": "Unfortunately I can&#39;t reproduce something like this. My guess would be that your <code>id</code> field is deferred in loading for some reason? or maybe it has something to do with the backend? Although what I could suggest for batch loading is to load only the columns you need rather than the model object itself. It saves memory and time needed to create those python objects."}], "owner": {"reputation": 440, "user_id": 1373795, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cda789b249853d6fd41ec3281fe03097?s=128&d=identicon&r=PG", "display_name": "Evan Hammer", "link": "https://stackoverflow.com/users/1373795/evan-hammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428582308, "creation_date": 1428527772, "last_edit_date": 1428582308, "question_id": 29525491, "link": "https://stackoverflow.com/questions/29525491/how-can-a-sqlalchemy-id-lookup-be-as-fast-as-other-properties", "title": "How can a SQLAlchemy id lookup be as fast as other properties?", "body": "<p>When I have a SQLAlchemy Model object read from the database, asking for its \"id\" property takes way longer than other properties.</p>\n\n<p>For example, <code>value = some_model.id</code> takes ~1ms, while <code>value = some_model.some_field</code> takes a hundredth of the time.</p>\n\n<p>Is there some way to have the id lookup as fast as a normal property lookup. To be clear, the object is already read from the database. I've tried <code>model.field_name</code> and <code>getattr(model, \"field_name\")</code>. </p>\n\n<p>I'm doing millions of batch operations, so although 1ms might not seem like a lot, they add up quickly.</p>\n\n<p>model.py: </p>\n\n<pre><code>from .db import db\n\nclass ListingModel(db.Model):\n\n    # required fields\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.Unicode)\n</code></pre>\n\n<p>app.py:</p>\n\n<pre><code>id = 4\nmodel = ListingModel.query.get(id)\n\nt_start_id = time.time()\nid_value = getattr(model, \"id\")\nt_end_id = time.time()\n\nt_start_name = time.time()\nname_value = getattr(model, \"name\")\nt_end_name = time.time()\n\nprint t_end_id - t_start_id  # 0.00124096870422\nprint t_end_name - t_start_name  # 4.05311584473e-06\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "astronomy", "polar-coordinates"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428527671, "post_id": 29525356, "comment_id": 47205252, "body": "if what you want is the first plot, that is not a polar plot but a standard cartesian plot, which can be reproduced by plotting all the grid lines manually"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428527887, "post_id": 29525356, "comment_id": 47205350, "body": "Hi again Julien :) This is not a cartesian plot since the lines of equal values are curved and not straight. Was that what you meant?"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428528104, "post_id": 29525356, "comment_id": 47205479, "body": "Hi back :) what I meant is that this can be done using standard axes vs polar axes. You can calculate the x, y coordinates of the curves that make up the grid and plot that on standard axes. You might not want to do that because it is cumbersome but that is what the first plot looks like."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428528351, "post_id": 29525356, "comment_id": 47205597, "body": "As for the colormap, can&#39;t you use the exact same trick I gave you in your earlier question =&gt; use AxesDivider?"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428530437, "post_id": 29525356, "comment_id": 47206634, "body": "The first plot is a rectangular section of a polar plot. All of the constant-theta lines go through the polar origin, in contrast to only one of the constant-x and constant-y lines that cross a cartesian origin.   So, three problems: relabeling what&#39;s usually <i>theta</i> to hours (is there a straightforward calculation for that, Gabriel?), clipping to a rectangle, and the colorbar."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428531451, "post_id": 29525356, "comment_id": 47207073, "body": "@JulienSpronck I&#39;l see about treating it as a cartesian plot making the needed transformations to plot the grid. As for the colormap, if you check the MWE you&#39;ll see that the colorbar trick you gave me is commented out. If I use it, I get the messed up plot I show last in the post."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428531891, "post_id": 29525356, "comment_id": 47207233, "body": "@cphlewis see updated question for how to convert degrees to <i>h:m:s</i> &amp; <i>d:m:s</i>."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428532140, "post_id": 29525356, "comment_id": 47207317, "body": "is your y-axis linear? It is not in the first plot you show (the distance between -80 and -70 is different between -70 to -60 due to the spherical projection"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428532854, "post_id": 29525356, "comment_id": 47207592, "body": "Ah, the linked solution about clipping polar plots is helpful -- the built-in polar plot has made enough default choices that they recommend making a custom artist. Hm."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428533401, "post_id": 29525356, "comment_id": 47207752, "body": "@JulienSpronck it is not, the y-axis is in degrees:minutes:seconds (declination coordinates)."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1428533627, "post_id": 29525356, "comment_id": 47207820, "body": "might be another reason to for a standard plot vs polar (since your grid needs to be calculated anyway)"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428534125, "post_id": 29525356, "comment_id": 47207979, "body": "What units do you actually get the data in? one way or another you&#39;re defining a Transform, might as well make it do the unit-conversions by default.  -- The least standard thing about it, possibly, is the right ascension ticklabels continuing onto the upper border."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428534393, "post_id": 29525356, "comment_id": 47208062, "body": "@cphlewis I get the data in decimal degrees but using <code>astropy</code> I can convert them to whatever units needed (e.g: d:m:s, radians). The issue is producing something similar to the first plot. Perhaps it is best to transform to linear coordinates and calculate how to produce the curved grid for the declination and the radial lines for the right ascension."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428534592, "post_id": 29525356, "comment_id": 47208131, "body": "I&#39;m quite sure that&#39;s the easiest thing to do incrementally -- I&#39;m sure because I&#39;ve started working out custom Transforms twice and ended up shipping something faked onto the linear plot because I could get that done. Transforms are nice and simple in theory and baffle me in practice. (One might mention this problem in the python chatroom -- when they like a problem it gets DONE.)"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 1, "creation_date": 1428539572, "post_id": 29525356, "comment_id": 47209500, "body": "Oho! Check out the curvilinear grid example in AxisArtist: <a href=\"http://matplotlib.org/mpl_toolkits/axes_grid/users/overview.html#curvilinear-grid\" rel=\"nofollow noreferrer\">matplotlib.org/mpl_toolkits/axes_grid/users/&hellip;</a>  It&#39;s a rectilinear window on a polar grid, and the ticks on the outer rectangle are spaced unevenly (because they&#39;re on even <i>theta</i> distances)."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428540934, "post_id": 29525356, "comment_id": 47209887, "body": "That looks very promising, thanks @cphlewis! I&#39;ll look at it tomorrow morning (it&#39;s very late here now) and post back here as soon as I can."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428912719, "post_id": 29525356, "comment_id": 47347425, "body": "In &quot;Important things&quot;, I&#39;d refer to the <code>theta</code> and <code>r</code> axes. Other than that, seems clear to me. If the bounty doesn&#39;t do it, try to contact the author of AxisArtist?"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428925289, "post_id": 29525356, "comment_id": 47354450, "body": "@cphlewis like that? I&#39;ll leave a message in the python chatroom now to see if anyone there can shed some light on this."}], "answers": [{"comments": [{"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428671719, "post_id": 29556339, "comment_id": 47274495, "body": "Thank cphlewis! This answer looks really nice, but two things bother me: 1- I loose the colorbar and I <i>really</i> need it (tried to add it back but I keep getting a <code>TypeError: You must first set_array for mappable</code>). 2- The arrangement of the <i>declination</i> axis is confusing. For example, if I try to plot the point with coords: <code>(ra=11.76, dec=-73.5)</code> (which I input as: <code>r_test = [11.76], deg_test = [-73.5]</code>) I get <a href=\"http://i.imgur.com/r8Mwvag.png\" rel=\"nofollow noreferrer\">i.imgur.com/r8Mwvag.png</a>. If I invert the values in <code>r_test, deg_test</code> then <code>tr.transform</code> returns <code>nan</code>. I&#39;m clearly missing something here."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428673714, "post_id": 29556339, "comment_id": 47275883, "body": "It appears I have to invert the declination values and then process them as: <code>tr.transform(zip(ra, inv_dec))</code>, where <code>ra</code> is the right ascension and <code>inv_dec</code> the inverted (ie: <code>* -1</code>) declination, both originally in decimal degrees."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428688749, "post_id": 29556339, "comment_id": 47285168, "body": "I had to play around with <code>tr([(0,1), (0,10), (10,0), (1, 0)])</code> to be confident of which axis got which part of the tuple. Apparently <code>tr</code> changes the order as well as doing the trig. Ooookay. And I never figured out how to evert the Dec axis <i>or</i> even change its axis labels, and got <i>different</i> errors trying to add a colorbar. (Which can be done inelegantly -- get RGB values from a color-mapping, draw the colorbar independent of this AxisArtist.)"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428689031, "post_id": 29556339, "comment_id": 47285327, "body": "But! Really, I suspect someone designing this was doing these plots, and also it seems interesting enough that the Python chatroom enthusiasts might be interested in making a real RA-Dec plotting class. Would you edit the original into a simpler set of To-Do and Part-Done examples? Including a sample input-data and output-image even if you have to draw the scatter on paper and take a phone snapshot?"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428707837, "post_id": 29556339, "comment_id": 47293535, "body": "Ok, I&#39;ll re-write the question tomorrow morning to be as clear as possible. Thanks for all the help cphlewis!"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428858360, "post_id": 29556339, "comment_id": 47331134, "body": "I&#39;ve re-written the answer to provide more details and better explained images. Let me know what you think cphlewis."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1429102551, "post_id": 29556339, "comment_id": 47441357, "body": "cphlewis: 100 pts for you my friend. Thank you very much for all your help!"}], "tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": false, "score": 7, "last_activity_date": 1428890670, "last_edit_date": 1428890670, "creation_date": 1428653147, "answer_id": 29556339, "question_id": 29525356, "link": "https://stackoverflow.com/questions/29525356/produce-a-ra-vs-dec-equatorial-coordinates-plot-with-python/29556339#29556339", "title": "Produce a RA vs DEC equatorial coordinates plot with python", "body": "<p>Chewing on the AxisArtist example is actually pretty promising (this combines two AxisArtist examples -- I wouldn't be surprised if AxisArtist was written with RA plots in mind): </p>\n\n<p><img src=\"https://i.stack.imgur.com/mEndS.png\" alt=\"enter image description here\"></p>\n\n<p>Still to do:</p>\n\n<ol>\n<li>Declination should run from -90 at the origin to 0 </li>\n<li>Be able to use\nand add a colorbar</li>\n<li>adjust limits if plotting outside them</li>\n</ol>\n\n<p>aesthetic:</p>\n\n<ol start=\"4\">\n<li>Serif font in axis labels</li>\n<li>Dashed gridlines for ascension</li>\n</ol>\n\n<p>anything else? </p>\n\n<pre><code>\"\"\"\nAn experimental support for curvilinear grid.\n\"\"\"\nimport numpy as np\nimport  mpl_toolkits.axisartist.angle_helper as angle_helper\nimport matplotlib.cm as cmap\nfrom matplotlib.projections import PolarAxes\nfrom matplotlib.transforms import Affine2D\n\nfrom mpl_toolkits.axisartist import SubplotHost\n\nfrom mpl_toolkits.axisartist import GridHelperCurveLinear\n\n\ndef curvelinear_test2(fig):\n    \"\"\"\n    polar projection, but in a rectangular box.\n    \"\"\"\n    global ax1\n\n    # see demo_curvelinear_grid.py for details\n    tr = Affine2D().scale(np.pi/180., 1.) + PolarAxes.PolarTransform()\n\n    extreme_finder = angle_helper.ExtremeFinderCycle(10, 60,\n                                                     lon_cycle = 360,\n                                                     lat_cycle = None,\n                                                     lon_minmax = None,\n                                                     lat_minmax = (0, np.inf),\n                                                     )\n\n    grid_locator1 = angle_helper.LocatorHMS(12) #changes theta gridline count\n    tick_formatter1 = angle_helper.FormatterHMS()\n\n    grid_locator2 = angle_helper.LocatorDMS(6)\n    tick_formatter2 = angle_helper.FormatterDMS()\n\n    grid_helper = GridHelperCurveLinear(tr,\n                                        extreme_finder=extreme_finder,\n                                        grid_locator1=grid_locator1,\n                                        tick_formatter1=tick_formatter1,\n                                        grid_locator2=grid_locator2,\n                                        tick_formatter2=tick_formatter2\n                                        )\n\n\n    ax1 = SubplotHost(fig, 1, 1, 1, grid_helper=grid_helper)\n\n    # make ticklabels of right and top axis visible.\n    ax1.axis[\"right\"].major_ticklabels.set_visible(True)\n    ax1.axis[\"top\"].major_ticklabels.set_visible(True)\n    ax1.axis[\"bottom\"].major_ticklabels.set_visible(True) #Turn off? \n    # let right and bottom axis show ticklabels for 1st coordinate (angle)\n    ax1.axis[\"right\"].get_helper().nth_coord_ticks=0\n    ax1.axis[\"bottom\"].get_helper().nth_coord_ticks=0\n\n\n\n    fig.add_subplot(ax1)\n\n    grid_helper = ax1.get_grid_helper()\n\n    ax1.set_aspect(1.)\n    ax1.set_xlim(-4,15) # moves the origin left-right in ax1\n    ax1.set_ylim(-3, 20) # moves the origin up-down\n\n    ax1.set_ylabel('90$^\\circ$ + Declination')\n    ax1.set_xlabel('Ascension')\n    ax1.grid(True)\n    #ax1.grid(linestyle='--', which='x') # either keyword applies to both\n    #ax1.grid(linestyle=':', which='y')  # sets of gridlines\n\n    return tr\n\nimport matplotlib.pyplot as plt\nfig = plt.figure(1, figsize=(5, 5))\nfig.clf()\n\ntr = curvelinear_test2(fig) # tr.transform_point((x, 0)) is always (0,0)\n                            # =&gt; (theta, r) in but (r, theta) out...\nr_test =   [0, 1.2, 2.8, 3.8, 5,  8,  10, 13.3, 17]  # distance from origin\ndeg_test = [0,  -7, 12,  28,  45, 70, 79, 90,   100] # degrees ascension\nout_test = tr.transform(zip(deg_test, r_test))\n\nsizes = [40, 30, 10, 30, 80, 33, 12, 48, 45]\n#hues = [.9, .3, .2, .8, .6, .1, .4, .5,.7] # Oddly, floats-to-colormap worked for a while.\nhues = np.random.random((9,3)) #RGB values\n\nax1.scatter(out_test[:,0], #ax1 is a global\n            out_test[:,1],\n            s=sizes,\n            c=hues,\n            #cmap=cmap.RdYlBu_r,\n            zorder=9) #on top of gridlines\n\n\nplt.show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428932173, "post_id": 29605348, "comment_id": 47358978, "body": "So close! I can see only two (minor) things missing: 1- locating the subplot using <code>gridspec</code>. I need this because I need to produce several of these plots in an image file, next to one another. 2- The y axis (declination) should show the values -80, -70, -60. If you can manage to do that, I&#39;ll mark your answer as accepted (and hopefully I can give both you and cphlewis 50 pts each)."}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428933669, "post_id": 29605348, "comment_id": 47359990, "body": "Done those now.  You should be able to see how to manipulate the plots as you wish I hope - from the subplotting example and the comments in the function.  They could use some renaming, potentially, to make them easily reusable..."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428935877, "post_id": 29605348, "comment_id": 47361677, "body": "Excellent answer J Richard, you have helped me very much indeed. I&#39;ve added a <code>tick_formatter2 = angle_helper.FormatterDMS()</code> line before defining the <code>grid_helper</code> and a <code>tick_formatter2=tick_formatter2</code> inside it so the degrees in the y axis show with a proper &#186; (degree) symbol. I just need to figure out how to make it show with no decimal places (ie: <code>80&#186;</code> instead of <code>80.0&#186;</code> ) but that&#39;s a very minor tweak. I&#39;m marking this as the accepted answer and I&#39;ll see if I can give you both the 50 pts I promised. Thanks you very much again!"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428939577, "post_id": 29605348, "comment_id": 47364409, "body": "Ok, managed to solve the <code>80.0&#186;</code> issue by adding a <code>grid_locator2 = angle_helper.LocatorDMS(6)</code> line before the <code>grid_helper</code> and a <code>grid_locator2=grid_locator2</code> line inside it."}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1428939637, "post_id": 29605348, "comment_id": 47364452, "body": "OK - I thought that was redundant so removed it from the original cphlewis version - sorry about that :(  Glad you could get it back how you wanted it."}], "tags": [], "owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "is_accepted": true, "score": 6, "last_activity_date": 1428933498, "last_edit_date": 1610973280, "creation_date": 1428928144, "answer_id": 29605348, "question_id": 29525356, "link": "https://stackoverflow.com/questions/29525356/produce-a-ra-vs-dec-equatorial-coordinates-plot-with-python/29605348#29605348", "title": "Produce a RA vs DEC equatorial coordinates plot with python", "body": "<p>Getting the colorbar can be done with a merging of the OP code with <a href=\"https://stackoverflow.com/a/29556339/838992\">@cphlewis's excellent answer</a>.  I've posted this as a turnkey solution on the <a href=\"https://chat.stackoverflow.com/transcript/message/22650235#22650235\">request of the OP in chat</a>.  The first version of code simply adds a color bar, the final version (under EDIT 2) does an axes affine translation and corrects a few parameters / simplifies the code to suit OP spec exactly.</p>\n<pre><code>&quot;&quot;&quot;\nAn experimental support for curvilinear grid.\n&quot;&quot;&quot;\nimport numpy as np\nimport  mpl_toolkits.axisartist.angle_helper as angle_helper\nimport matplotlib.cm as cmap\nfrom matplotlib.projections import PolarAxes\nfrom matplotlib.transforms import Affine2D\n\nfrom mpl_toolkits.axisartist import SubplotHost\n\nfrom mpl_toolkits.axisartist import GridHelperCurveLinear\n\n\ndef curvelinear_test2(fig):\n    &quot;&quot;&quot;\n    polar projection, but in a rectangular box.\n    &quot;&quot;&quot;\n    global ax1\n\n    # see demo_curvelinear_grid.py for details\n    tr = Affine2D().scale(np.pi/180., 1.) + PolarAxes.PolarTransform()\n\n    extreme_finder = angle_helper.ExtremeFinderCycle(10, 60,\n                                                     lon_cycle = 360,\n                                                     lat_cycle = None,\n                                                     lon_minmax = None,\n                                                     lat_minmax = (0, np.inf),\n                                                     )\n\n    grid_locator1 = angle_helper.LocatorHMS(12) #changes theta gridline count\n    tick_formatter1 = angle_helper.FormatterHMS()\n\n    grid_locator2 = angle_helper.LocatorDMS(6)\n    tick_formatter2 = angle_helper.FormatterDMS()\n\n    grid_helper = GridHelperCurveLinear(tr,\n                                        extreme_finder=extreme_finder,\n                                        grid_locator1=grid_locator1,\n                                        tick_formatter1=tick_formatter1,\n                                        grid_locator2=grid_locator2,\n                                        tick_formatter2=tick_formatter2\n                                        )\n\n\n    ax1 = SubplotHost(fig, 1, 1, 1, grid_helper=grid_helper)\n\n    # make ticklabels of right and top axis visible.\n    ax1.axis[&quot;right&quot;].major_ticklabels.set_visible(True)\n    ax1.axis[&quot;top&quot;].major_ticklabels.set_visible(True)\n    ax1.axis[&quot;bottom&quot;].major_ticklabels.set_visible(True) #Turn off? \n    # let right and bottom axis show ticklabels for 1st coordinate (angle)\n    ax1.axis[&quot;right&quot;].get_helper().nth_coord_ticks=0\n    ax1.axis[&quot;bottom&quot;].get_helper().nth_coord_ticks=0\n\n\n\n    fig.add_subplot(ax1)\n\n    grid_helper = ax1.get_grid_helper()\n\n    ax1.set_aspect(1.)\n    ax1.set_xlim(-4,15) # moves the origin left-right in ax1\n    ax1.set_ylim(-3, 20) # moves the origin up-down\n\n    ax1.set_ylabel('90$^\\circ$ + Declination')\n    ax1.set_xlabel('Ascension')\n    ax1.grid(True)\n    #ax1.grid(linestyle='--', which='x') # either keyword applies to both\n    #ax1.grid(linestyle=':', which='y')  # sets of gridlines\n\n    return tr\n\nimport matplotlib.pyplot as plt\nfig = plt.figure(1, figsize=(5, 5))\nfig.clf()\n\ntr = curvelinear_test2(fig) # tr.transform_point((x, 0)) is always (0,0)\n                            # =&gt; (theta, r) in but (r, theta) out...\nr_test =   [0, 1.2, 2.8, 3.8, 5,  8,  10, 13.3, 17]  # distance from origin\ndeg_test = [0,  -7, 12,  28,  45, 70, 79, 90,   100] # degrees ascension\nout_test = tr.transform(zip(deg_test, r_test))\n\nsizes = [40, 30, 10, 30, 80, 33, 12, 48, 45]\n#hues = [.9, .3, .2, .8, .6, .1, .4, .5,.7] # Oddly, floats-to-colormap worked for a while.\nhues = np.random.random((9,3)) #RGB values\n\n# Use this block to generate colored points with a colorbar.\ncm = plt.cm.get_cmap('RdYlBu_r')\nz = np.random.random((len(r_test), 1))  # RGB values\n\nSC = ax1.scatter(out_test[:,0], #ax1 is a global\n            out_test[:,1],\n            s=sizes,\n            c=z,\n            cmap=cm,\n            zorder=9) #on top of gridlines\n            \n# Colorbar\ncbar = plt.colorbar(SC, shrink=1., pad=0.05)\ncbar.ax.tick_params(labelsize=8)\ncbar.set_label('colorbar', fontsize=8)\n\n\nplt.show()\n</code></pre>\n<p><em><strong>EDIT</strong></em></p>\n<p>Bit of tidying parameters,  adding in OP data, removing redundancy yields the following plot.  Still need to centre the data on -90 instead of 0 - at the moment this is hacked, but I'm sure <code>curvelinear_test2()</code> can be changed to account for it...</p>\n<p><img src=\"https://i.stack.imgur.com/ADEB4.png\" alt=\"PIcture matching OP desired format\" /></p>\n<p><em><strong>EDIT 2</strong></em></p>\n<p>Following OP comment on intermediate version in this answer, a final version as below gives the plot at the very end of the post - with -90 on the dec axis and subplot demo</p>\n<pre><code>&quot;&quot;&quot;\nAn experimental support for curvilinear grid.\n&quot;&quot;&quot;\nimport numpy as np\nimport  mpl_toolkits.axisartist.angle_helper as angle_helper\nimport matplotlib.cm as cmap\nfrom matplotlib.projections import PolarAxes\nfrom matplotlib.transforms import Affine2D\n\nfrom mpl_toolkits.axisartist import SubplotHost\n\nfrom mpl_toolkits.axisartist import GridHelperCurveLinear\n\n\ndef curvelinear_test2(fig, rect=111):\n    &quot;&quot;&quot;\n    polar projection, but in a rectangular box.\n    &quot;&quot;&quot;\n\n    # see demo_curvelinear_grid.py for details\n    tr = Affine2D().translate(0,90) + Affine2D().scale(np.pi/180., 1.) + PolarAxes.PolarTransform()\n\n    extreme_finder = angle_helper.ExtremeFinderCycle(10, 60,\n                                                     lon_cycle = 360,\n                                                     lat_cycle = None,\n                                                     lon_minmax = None,\n                                                     lat_minmax = (-90, np.inf),\n                                                     )\n\n    grid_locator1 = angle_helper.LocatorHMS(12) #changes theta gridline count\n    tick_formatter1 = angle_helper.FormatterHMS()\n\n    grid_helper = GridHelperCurveLinear(tr,\n                                        extreme_finder=extreme_finder,\n                                        grid_locator1=grid_locator1,\n                                        tick_formatter1=tick_formatter1\n                                        )\n\n\n    ax1 = SubplotHost(fig, rect, grid_helper=grid_helper)\n\n    # make ticklabels of right and top axis visible.\n    ax1.axis[&quot;right&quot;].major_ticklabels.set_visible(True)\n    ax1.axis[&quot;top&quot;].major_ticklabels.set_visible(True)\n    ax1.axis[&quot;bottom&quot;].major_ticklabels.set_visible(True) #Turn off? \n    # let right and bottom axis show ticklabels for 1st coordinate (angle)\n    ax1.axis[&quot;right&quot;].get_helper().nth_coord_ticks=0\n    ax1.axis[&quot;bottom&quot;].get_helper().nth_coord_ticks=0\n\n\n\n    fig.add_subplot(ax1)\n\n    grid_helper = ax1.get_grid_helper()\n\n    # You may or may not need these - they set the view window explicitly rather than using the\n    # default as determined by matplotlib with extreme finder.\n    ax1.set_aspect(1.)\n    ax1.set_xlim(-4,25) # moves the origin left-right in ax1\n    ax1.set_ylim(-3, 30) # moves the origin up-down\n\n    ax1.set_ylabel('Declination')\n    ax1.set_xlabel('Ascension')\n    ax1.grid(True)\n    #ax1.grid(linestyle='--', which='x') # either keyword applies to both\n    #ax1.grid(linestyle=':', which='y')  # sets of gridlines\n\n    return ax1,tr\n    \n    \ndef skip_comments(f):\n    '''\n    Read lines that DO NOT start with a # symbol.\n    '''\n    for line in f:\n        if not line.strip().startswith('#'):\n            yield line\n            \ndef get_data_bb():\n    '''RA, DEC data file.\n    '''\n\n    # Path to data file.\n    out_file = 'bb_cat.dat'\n\n    # Read data file\n    with open(out_file) as f:\n        ra, dec = [], []\n\n        for line in skip_comments(f):\n            ra.append(float(line.split()[0]))\n            dec.append(float(line.split()[1]))\n\n    return ra, dec\n\n\nimport matplotlib.pyplot as plt\nfig = plt.figure(1, figsize=(5, 5))\nfig.clf()\n\nax1, tr = curvelinear_test2(fig,121) # tr.transform_point((x, 0)) is always (0,0)\n                            # =&gt; (theta, r) in but (r, theta) out...             \n\n# Read RA, DEC data from file.\nra, dec = get_data_bb()\nout_test = tr.transform(zip(ra, dec))\n\n# Use this block to generate colored points with a colorbar.\ncm = plt.cm.get_cmap('RdYlBu_r')\nz = np.random.random((len(ra), 1))  # RGB values\n\nSC = ax1.scatter(out_test[:,0], #ax1 is a global\n            out_test[:,1],\n            marker = 'o',\n            c=z,\n            cmap=cm,\n            lw = 0.,\n            zorder=9) #on top of gridlines\n            \n# Colorbar\ncbar = plt.colorbar(SC, shrink=1., pad=0.1)\ncbar.ax.tick_params(labelsize=8)\ncbar.set_label('colorbar', fontsize=8)\n\nax2, tr = curvelinear_test2(fig,122) # tr.transform_point((x, 0)) is always (0,0)\n                            # =&gt; (theta, r) in but (r, theta) out...             \n\n# Read RA, DEC data from file.\nra, dec = get_data_bb()\nout_test = tr.transform(zip(ra, dec))\n\n# Use this block to generate colored points with a colorbar.\ncm = plt.cm.get_cmap('RdYlBu_r')\nz = np.random.random((len(ra), 1))  # RGB values\n\nSC = ax2.scatter(out_test[:,0], #ax1 is a global\n            out_test[:,1],\n            marker = 'o',\n            c=z,\n            cmap=cm,\n            lw = 0.,\n            zorder=9) #on top of gridlines\n            \n# Colorbar\ncbar = plt.colorbar(SC, shrink=1., pad=0.1)\ncbar.ax.tick_params(labelsize=8)\ncbar.set_label('colorbar', fontsize=8)\n\nplt.show()\n</code></pre>\n<p>Final plot:</p>\n<p><img src=\"https://i.stack.imgur.com/fDnSC.png\" alt=\"Picture showing proper subplot\" /></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4134415, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MLg-KwlxhPg/AAAAAAAAAAI/AAAAAAAAABI/NoNcLFRkDNE/photo.jpg?sz=128", "display_name": "Bob Anderson", "link": "https://stackoverflow.com/users/4134415/bob-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1616872520, "creation_date": 1616872520, "answer_id": 66835209, "question_id": 29525356, "link": "https://stackoverflow.com/questions/29525356/produce-a-ra-vs-dec-equatorial-coordinates-plot-with-python/66835209#66835209", "title": "Produce a RA vs DEC equatorial coordinates plot with python", "body": "<p>I think it may be a problem with Python 3+ , now the line</p>\n<pre><code>out_test = tr.transform(zip(deg_test, r_test))\n</code></pre>\n<p>returns the error:</p>\n<p>ValueError: cannot reshape array of size 1 into shape (2)</p>\n<p>Changing the line to</p>\n<pre><code>out_test = tr.transform(list(zip(deg_test, r_test)))\n</code></pre>\n<p>fixes the problem and allows the plot to be generated correctly.</p>\n"}], "owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7661, "favorite_count": 1, "accepted_answer_id": 29605348, "answer_count": 3, "score": 14, "last_activity_date": 1616872520, "creation_date": 1428527177, "last_edit_date": 1495540479, "question_id": 29525356, "link": "https://stackoverflow.com/questions/29525356/produce-a-ra-vs-dec-equatorial-coordinates-plot-with-python", "title": "Produce a RA vs DEC equatorial coordinates plot with python", "body": "<p>I'm trying to generate an equatorial coordinates plot that should look more or less like this one:</p>\n\n<p><img src=\"https://i.stack.imgur.com/gDNiE.png\" alt=\"enter image description here\"></p>\n\n<p>(The figure is taken from <a href=\"http://cdsads.u-strasbg.fr/abs/2008MNRAS.389..678B\" rel=\"nofollow noreferrer\">this article</a>, and it shows the position of the <a href=\"https://en.wikipedia.org/wiki/Magellanic_Clouds\" rel=\"nofollow noreferrer\">Large and Small MCs</a> in equatorial coordinates)</p>\n\n<p>Important things to notice about this plot:</p>\n\n<ul>\n<li>The <code>theta</code> axis (ie: the right ascension) is in <em>h:m:s</em> (hours, minutes, seconds) as it is accustomed in astronomy, rather than in degrees as the default <code>polar</code> option does in <code>matplotlib</code>.</li>\n<li>The <code>r</code> axis (ie: the declination) increases outward from -90\u00ba and the grid is centered in (0h, -90\u00ba).</li>\n<li>The plot is <strong>clipped</strong>, meaning only a portion of it shows as opposed to the entire circle (as <code>matplotlib</code> does by default).</li>\n</ul>\n\n<p>Using the <code>polar=True</code> option in <code>matplotlib</code>, the closest plot I've managed to produce is this (<code>MWE</code> below, data file <a href=\"http://pastebin.com/uJE5ARk9\" rel=\"nofollow noreferrer\">here</a>; some points are not present compared to the image above since the data file is a bit smaller):</p>\n\n<p><img src=\"https://i.stack.imgur.com/gGR4E.png\" alt=\"enter image description here\"></p>\n\n<p>I also need to add a third column of data to the plot, which is why I add a colorbar and color each point accordingly to a <code>z</code> array:</p>\n\n<p><img src=\"https://i.stack.imgur.com/bFzKX.png\" alt=\"enter image description here\"></p>\n\n<p>So what I mostly need right now is a way to clip the plot. Based mostly on <a href=\"https://stackoverflow.com/questions/27433310/how-to-clip-polar-plot-in-pylab-pyplot\">this question</a> and <a href=\"http://matplotlib.org/mpl_toolkits/axes_grid/users/overview.html#curvilinear-grid\" rel=\"nofollow noreferrer\">this example</a> @cphlewis came quite close with <a href=\"https://stackoverflow.com/a/29556339/1391441\">his answer</a>, but several things are still missing (mentioned in his answer).</p>\n\n<p>Any help and/or pointers with this issue will be greatly appreciated.</p>\n\n<hr>\n\n<p><strong>MWE</strong></p>\n\n<p>(Notice I use <code>gridspec</code> to position the subplot because I need to generate several of these in the same output image file)</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.gridspec as gridspec\n\ndef skip_comments(f):\n    '''\n    Read lines that DO NOT start with a # symbol.\n    '''\n    for line in f:\n        if not line.strip().startswith('#'):\n            yield line\n\ndef get_data_bb():\n    '''RA, DEC data file.\n    '''\n\n    # Path to data file.\n    out_file = 'bb_cat.dat'\n\n    # Read data file\n    with open(out_file) as f:\n        ra, dec = [], []\n\n        for line in skip_comments(f):\n            ra.append(float(line.split()[0]))\n            dec.append(float(line.split()[1]))\n\n    return ra, dec\n\n# Read RA, DEC data from file.\nra, dec = get_data_bb()\n# Convert RA from decimal degrees to radians.\nra = [x / 180.0 * 3.141593 for x in ra]\n\n# Make plot.\nfig = plt.figure(figsize=(20, 20))\ngs = gridspec.GridSpec(4, 2)\n# Position plot in figure using gridspec.\nax = plt.subplot(gs[0], polar=True)\nax.set_ylim(-90, -55)\n\n# Set x,y ticks\nangs = np.array([330., 345., 0., 15., 30., 45., 60., 75., 90., 105., 120.])\nplt.xticks(angs * np.pi / 180., fontsize=8)\nplt.yticks(np.arange(-80, -59, 10), fontsize=8)\nax.set_rlabel_position(120)\nax.set_xticklabels(['$22^h$', '$23^h$', '$0^h$', '$1^h$', '$2^h$', '$3^h$',\n    '$4^h$', '$5^h$', '$6^h$', '$7^h$', '$8^h$'], fontsize=10)\nax.set_yticklabels(['$-80^{\\circ}$', '$-70^{\\circ}$', '$-60^{\\circ}$'],\n    fontsize=10)\n\n# Plot points.\nax.scatter(ra, dec, marker='o', c='k', s=1, lw=0.)\n\n# Use this block to generate colored points with a colorbar.\n#cm = plt.cm.get_cmap('RdYlBu_r')\n#z = np.random.random((len(ra), 1))  # RGB values\n#SC = ax.scatter(ra, dec, marker='o', c=z, s=10, lw=0., cmap=cm)\n# Colorbar\n#cbar = plt.colorbar(SC, shrink=1., pad=0.05)\n#cbar.ax.tick_params(labelsize=8)\n#cbar.set_label('colorbar', fontsize=8)\n\n# Output png file.\nfig.tight_layout()\nplt.savefig(ra_dec_plot.png', dpi=300)\n</code></pre>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1428527338, "post_id": 29525325, "comment_id": 47205097, "body": "Im pretty sure you cannot ... (and probably should not also)"}, {"owner": {"reputation": 889, "user_id": 837471, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/131beae824c4866ed6ae995c7fc9bd58?s=128&d=identicon&r=PG", "display_name": "Loic Dachary", "link": "https://stackoverflow.com/users/837471/loic-dachary"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1428527769, "post_id": 29525325, "comment_id": 47205290, "body": "I&#39;m confused, you&#39;re suggesting that it&#39;s a bad idea for a module / executable file to rely on a configuration file or something different ?"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1428528306, "post_id": 29525325, "comment_id": 47205570, "body": "Config files should either reside within the module itself, or at a defined location in <code>$HOME</code>, which is defined on OS X, Linux, and Windows. They should certainly not be put in <code>&#47;etc</code> or <code>&#47;usr&#47;share</code>, unless you are installing a standalone program, <b>not</b> a module that will live in <code>site-packages</code> or <code>dist-packages</code>."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1428528395, "post_id": 29525325, "comment_id": 47205614, "body": "<i>The code from the mypackage module needs to know what argument was given to --root</i>  It does not nor is there any way to know what was given to root as far as I know ... just use pyenv or something"}], "owner": {"reputation": 889, "user_id": 837471, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/131beae824c4866ed6ae995c7fc9bd58?s=128&d=identicon&r=PG", "display_name": "Loic Dachary", "link": "https://stackoverflow.com/users/837471/loic-dachary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428527308, "creation_date": 1428527040, "last_edit_date": 1428527308, "question_id": 29525325, "link": "https://stackoverflow.com/questions/29525325/what-is-the-path-of-a-python-data-file-when-root-was-used-with-pip-install", "title": "what is the path of a python data file when --root was used with pip install?", "body": "<p>When installing a python module with <code>pip install --root=$HOME mypackage</code>, it may also install data files in <code>etc/</code> or <code>usr/share</code>. The code from the <code>mypackage</code> module needs to know what argument was given to <code>--root</code> to locate the data file (for instance <code>$HOME/etc/mypackage.conf</code>) and read it. How can this be done ?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 2124, "user_id": 292412, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/623e4f44f3310cad6e47ac3415c57a3d?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/292412/eric"}, "edited": false, "score": 0, "creation_date": 1428529512, "post_id": 29525304, "comment_id": 47206168, "body": "That&#39;s fantastic, thanks!  The group naming isn&#39;t even necessary now (though maybe it never was)."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 2, "last_activity_date": 1428528192, "last_edit_date": 1428528192, "creation_date": 1428526948, "answer_id": 29525304, "question_id": 29525145, "link": "https://stackoverflow.com/questions/29525145/regex-to-capture-named-groups-in-any-order/29525304#29525304", "title": "Regex to capture named groups in any order", "body": "<p>Since all arguments begin with a dash and since input and output are always present one time, you can use this kind of pattern that ignores the order:</p>\n\n<pre><code>foo(?: -o (?P&lt;output&gt;\\S+)| -\\S+| (?P&lt;input&gt;\\S+))+\n</code></pre>\n\n<p>and the replacement</p>\n\n<pre><code>bar \\1 \\2.out\n</code></pre>\n\n<p>Note: if you want to deal with filenames that contain spaces (that are escaped in a command line), you need to change <code>\\S+</code> to <code>(?:[^\\s\\\\]+(?:\\\\.[^\\s\\\\]*)*|[^\\s\\\\]*(?:\\\\.[^\\s\\\\]*)+)</code> <em>(only for input and output)</em></p>\n"}], "owner": {"reputation": 2124, "user_id": 292412, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/623e4f44f3310cad6e47ac3415c57a3d?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/292412/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 1, "accepted_answer_id": 29525304, "answer_count": 1, "score": 0, "last_activity_date": 1428528192, "creation_date": 1428526404, "last_edit_date": 1428526854, "question_id": 29525145, "link": "https://stackoverflow.com/questions/29525145/regex-to-capture-named-groups-in-any-order", "title": "Regex to capture named groups in any order", "body": "<p>I have a scenario in which I need to use a single call to Python's re.sub() to find and replace items in a string.  If that constraint sounds contrived, just consider this a mental exercise, but know that it is a real-life constraint I have to work with.</p>\n\n<p>I want to match and replace a line like either of these:</p>\n\n<pre><code>foo -some-arg -o %output %input\nfoo %input -other-random-arg=baz -o %output\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>bar %output %input.out\n</code></pre>\n\n<p>The file names %input and %output can be anything matching <code>[a-zA-Z0-9._-]+</code> but are always preceded by <code>%</code></p>\n\n<p>I came up with this substitution which does not quite work.</p>\n\n<pre><code>    r'''(?x)                     # Begin verbose regex\n        foo[ ]                   # foo and a space\n        (?=.*?-o[ ]                  # Lookahead for the first occurrence of -o\n            (?P&lt;a&gt;%\\S+\\b)                # Output filename -&gt; Group 'a'\n        )\n        (?=.*?                       # Lookahead from the same place as the first lookahead\n                                     # so the two filenames can match in any order.\n            (?!-o[ ]%\\S+\\b)              # Do not match the output file\n            (?P&lt;b&gt;%\\S+\\b)                # Any filename -&gt; Group 'b'\n        ).*                      # Match anything ''',\n    r'bar \\g&lt;b&gt; \\g&lt;a&gt;.out'       # Replacement\n</code></pre>\n\n<p>I often end up with one of the two file names repeated twice like:</p>\n\n<pre><code>bar %output %output.out\n</code></pre>\n\n<p>Is there a way to named-capture the two file names in whatever order they appear?  It seems that if I could advance the regex engine's pointer upon matching the one of the lookaheads, I could make this work.</p>\n"}, {"tags": ["python", "apache", "apache2", "cgi", "suexec"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1428526751, "post_id": 29525088, "comment_id": 47204798, "body": "This is really a general System/OS question rather than a programming question. Check out the permission on <code>other_script.py</code> and make sure the &#39;r&#39; and &#39;x&#39; bits are set for other or group, e.g. <code>chmod 755 other_script.py</code>."}, {"owner": {"reputation": 1850, "user_id": 3688493, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hCVT2.jpg?s=128&g=1", "display_name": "Redson", "link": "https://stackoverflow.com/users/3688493/redson"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1428527548, "post_id": 29525088, "comment_id": 47205203, "body": "@achampion For the sake of getting it to work, I did a <code>chmod 777</code> on all the files. Still doesn&#39;t work."}, {"owner": {"reputation": 5767, "user_id": 1340702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k1i8X.jpg?s=128&g=1", "display_name": "Daniel Thaagaard Andreasen", "link": "https://stackoverflow.com/users/1340702/daniel-thaagaard-andreasen"}, "edited": false, "score": 0, "creation_date": 1475776085, "post_id": 29525088, "comment_id": 67090446, "body": "Maybe this is not relevant anymore. But I&#39;m having similar problems and stumpled upon this thread. If your other script is saving stuff, you either have to make sure that the apache2 user (www-data) has write permission to the folder. My workaround was to simply save stuff to <code>&#47;tmp</code>."}], "owner": {"reputation": 1850, "user_id": 3688493, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hCVT2.jpg?s=128&g=1", "display_name": "Redson", "link": "https://stackoverflow.com/users/3688493/redson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 662, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1428527692, "creation_date": 1428526189, "last_edit_date": 1428527692, "question_id": 29525088, "link": "https://stackoverflow.com/questions/29525088/how-to-execute-external-commands-with-python-using-apache2-and-cgi", "title": "How to execute external commands with Python using Apache2 and CGI", "body": "<p>I have an Apache web server. I have an <code>html</code> file and a <code>Python</code> script located at <code>var/www/myfolder</code>. I am submitting a form through the <code>html</code> file which is handled by my <code>Python</code> script (when the submit button is clicked). But once handling the form, my <code>Python</code> script executes an external command. (see the following code)</p>\n\n<p><strong>webpage.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Webform&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h3&gt;Webform&lt;/h3&gt;\n        &lt;form action=\"myscript.py\" method=\"POST\"&gt;\n            &lt;p&gt;Name: &lt;input type=\"text\" name=\"name\"&gt;&lt;/p&gt;\n            &lt;input type=\"submit\" value=\"Submit\"&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>myscript.py</strong></p>\n\n<pre><code>#!/usr/bin/python -W\n\nimport cgi, cgitb \nimport sys\nimport os\n\n# Get data from fields\nform = cgi.FieldStorage() \nname = form.getvalue('name')\n\nprint \"Content-type:text/html\\r\\n\\r\\n\"\nprint '&lt;html&gt;'\nprint '&lt;head&gt;'\nprint '&lt;title&gt;Hello Word - First CGI Program&lt;/title&gt;'\nprint '&lt;/head&gt;'\nprint '&lt;body&gt;'\nprint '&lt;h2&gt;Hello Word! This is my first CGI program&lt;/h2&gt;&lt;/br&gt;&lt;/br&gt;'\nprint '&lt;p&gt;Name: %s&lt;/p&gt;' % (name)\nprint '&lt;/body&gt;'\nprint '&lt;/html&gt;'\n\nos.system(\"./other_script.py\") # gives me an error with permission\n</code></pre>\n\n<p>On my server I am <code>user007</code> but I know that when I click submit on the <code>html</code> file, the <code>Python</code> script is executed as <code>apache2</code> user. The problem is I don't know the password for this user (can't us sudo). Are the two ideas possible:</p>\n\n<p>1) change from <code>apache2</code> to <code>user007</code> when trying to execute <code>other_script.py</code> from <strong>myscript.py</strong></p>\n\n<p>2) I know that you can change users using <code>suEXEC</code> but I have no idea how to use it.</p>\n\n<p>Any suggestions? </p>\n\n<p>I should let you know that locally both the python scripts are executing fine.</p>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>I get this message before the error occurs: <code>WARNING: HOME is not set, using root: /</code></p>\n"}, {"tags": ["python", "timestamp", "containers", "finance", "closest"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1428527497, "post_id": 29525050, "comment_id": 47205176, "body": "a sorted list of timestamps ... then use <code>bisect</code> to find the nearest index"}, {"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1476950021, "post_id": 29525050, "comment_id": 67566307, "body": "If an answer worked for you then accept it rather than putting &quot;(Solved!)&quot; in the title please."}], "answers": [{"tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": false, "score": 0, "last_activity_date": 1428527527, "creation_date": 1428527527, "answer_id": 29525427, "question_id": 29525050, "link": "https://stackoverflow.com/questions/29525050/nearest-timestamp-price-ready-data-structure-in-python/29525427#29525427", "title": "nearest timestamp price - ready data structure in Python?", "body": "<p>Try this to get nearest value</p>\n\n<pre><code>l = [ [1427837961000.0, 243.586], [1427962162000.0, 245.674], [1428072262000.0, 254.372], [1428181762000.0, 253.366]]\ncheck_value = 1427854534654\n&gt;&gt;&gt;min(l, key=lambda x:abs(x[0]-check_value))[0]\n1427837961000.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 3693375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b4a838ab636800a0c24a9fe5ef7af10c?s=128&d=identicon&r=PG&f=1", "display_name": "akrueger", "link": "https://stackoverflow.com/users/3693375/akrueger"}, "edited": false, "score": 0, "creation_date": 1428587089, "post_id": 29526502, "comment_id": 47232416, "body": "great! I will take that as my solution. Thank you very much!"}, {"owner": {"reputation": 305, "user_id": 3693375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b4a838ab636800a0c24a9fe5ef7af10c?s=128&d=identicon&r=PG&f=1", "display_name": "akrueger", "link": "https://stackoverflow.com/users/3693375/akrueger"}, "edited": false, "score": 0, "creation_date": 1428587125, "post_id": 29526502, "comment_id": 47232453, "body": "Just a small correction, to allow for extrapolations ABOVE the given range of timestamps:  if idx == len (timestamps) or (idx &gt; 0 and abs(timestamps[idx] - t) &gt; abs(timestamps[idx - 1] - t)):"}, {"owner": {"reputation": 305, "user_id": 3693375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b4a838ab636800a0c24a9fe5ef7af10c?s=128&d=identicon&r=PG&f=1", "display_name": "akrueger", "link": "https://stackoverflow.com/users/3693375/akrueger"}, "edited": false, "score": 0, "creation_date": 1428608455, "post_id": 29526502, "comment_id": 47246446, "body": "Implemented it, and measured its performance:  3000000 calls took 12.82 seconds,  so 0.00000427 per call  (length of data = 1143)"}], "tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 1, "last_activity_date": 1428576710, "last_edit_date": 1428576710, "creation_date": 1428532360, "answer_id": 29526502, "question_id": 29525050, "link": "https://stackoverflow.com/questions/29525050/nearest-timestamp-price-ready-data-structure-in-python/29526502#29526502", "title": "nearest timestamp price - ready data structure in Python?", "body": "<p>It is very common for this problem to have your data sorted by the timestamp value and then binary search for every possible query. Binary search can be performed using the <a href=\"https://docs.python.org/2/library/bisect.html\" rel=\"nofollow\">bisect module</a>:</p>\n\n<pre><code>data = [\n    [1427837961000.0, 243.586], \n    [1427962162000.0, 245.674], \n    [1428072262000.0, 254.372], \n    [1428181762000.0, 253.366]\n]\n\n\ndata.sort(key=lambda l: l[0]) # Sort by timestamp\ntimestamps = [l[0] for l in data] # Extract timestamps\n\nimport bisect\n\ndef find_closest(t):\n    idx = bisect.bisect_left(timestamps, t) # Find insertion point\n\n    # Check which timestamp with idx or idx - 1 is closer\n    if idx &gt; 0 and abs(timestamps[idx] - t) &gt; abs(timestamps[idx - 1] - t):\n         idx -= 1\n\n    return data[idx][1] # Return price\n</code></pre>\n\n<p>We can test like this:</p>\n\n<pre><code>&gt;&gt;&gt; find_closest(1427854534654)\n243.586\n</code></pre>\n\n<p>If we have <code>n</code> queries and <code>m</code> timestamp values, then each query needs <code>O(log m)</code> time. So the total time needed is <code>O(n * log m)</code>.</p>\n\n<p>In the above algorithm we search between two indexes. If we use only the midpoints of the timestamp intervals, we can simplify even more and create a faster search:</p>\n\n<pre><code>midpoints = [(a + b) / 2 for a, b in zip(timestamps, timestamps[1:])]\ndef find_closest_through_midpoints(t):\n    return data[bisect.bisect_left(midpoints, t)][1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 3693375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b4a838ab636800a0c24a9fe5ef7af10c?s=128&d=identicon&r=PG&f=1", "display_name": "akrueger", "link": "https://stackoverflow.com/users/3693375/akrueger"}, "is_accepted": false, "score": 0, "last_activity_date": 1428608866, "last_edit_date": 1495542898, "creation_date": 1428608866, "answer_id": 29547601, "question_id": 29525050, "link": "https://stackoverflow.com/questions/29525050/nearest-timestamp-price-ready-data-structure-in-python/29547601#29547601", "title": "nearest timestamp price - ready data structure in Python?", "body": "<p>Solved!</p>\n\n<p>I used <a href=\"https://stackoverflow.com/a/29526502/3693375\">JuniorCompressor's solution</a> with my <a href=\"https://stackoverflow.com/questions/29525050/nearest-timestamp-price-ready-data-structure-in-python/29526502#comment47232453_29526502\">bugfix for future</a> dates.</p>\n\n<p>The performance is fantastic:</p>\n\n<p>3000000 calls took 12.82 seconds, so 0.00000427 per call (length of data = 1143).</p>\n\n<p>Thanks a lot! StackOverFlow is great, and you helpers are the best!</p>\n"}], "owner": {"reputation": 305, "user_id": 3693375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b4a838ab636800a0c24a9fe5ef7af10c?s=128&d=identicon&r=PG&f=1", "display_name": "akrueger", "link": "https://stackoverflow.com/users/3693375/akrueger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 2, "accepted_answer_id": 29526502, "answer_count": 3, "score": 2, "last_activity_date": 1476950029, "creation_date": 1428526039, "last_edit_date": 1495535549, "question_id": 29525050, "link": "https://stackoverflow.com/questions/29525050/nearest-timestamp-price-ready-data-structure-in-python", "title": "nearest timestamp price - ready data structure in Python?", "body": "<p>Price interpolation. Python data structure for efficient near miss searches?</p>\n\n<p>I have price data</p>\n\n<pre><code>[1427837961000.0, 243.586], [1427962162000.0, 245.674], [1428072262000.0, 254.372], [1428181762000.0, 253.366], ...\n</code></pre>\n\n<p>with the first dimension a timestamp, and the second a price.</p>\n\n<p>Now I want to know the price which is nearest to a given timestamp e.g. to 1427854534654.</p>\n\n<p>What is the best Python container, data structure, or algorithm to solve this many hundred or thousand times per second? It is a standard problem, and has to be solved in many applications, so there should be a ready and optimized solution.</p>\n\n<p>I have Googled, and found only bits and pieces that I could build upon - but I guess this question is so common, that the whole data structure should be ready as a module?</p>\n\n<hr>\n\n<p>EDIT: Solved.</p>\n\n<p>I used <a href=\"https://stackoverflow.com/a/29526502/3693375\">JuniorCompressor's solution</a> with my <a href=\"https://stackoverflow.com/questions/29525050/nearest-timestamp-price-ready-data-structure-in-python/29526502#comment47232453_29526502\">bugfix for future</a> dates.</p>\n\n<p>The performance is fantastic:</p>\n\n<p>3000000 calls took 12.82 seconds, so 0.00000427 per call (length of data = 1143).</p>\n\n<p>Thanks a lot! StackOverFlow is great, and you helpers are the best!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 1, "creation_date": 1428527817, "post_id": 29525047, "comment_id": 47205313, "body": "This looks like a XY problem. You shouldn&#39;t try to understand Python&#39;s syntax by learning its formal structure as a formal grammar. If you want to look up some specialty, by all means, look at the grammar. But otherwise, you could probably better learn by using the language, or even by learning about the syntax of statements, or about the ideas behind the languages. The definition of the language&#39;s syntax as a formal grammar is a very abstract thing. That&#39;s just its nature. You <i>definitely shouldn&#39;t</i> need an EBNF diagram to learn Python."}, {"owner": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "edited": false, "score": 0, "creation_date": 1428528443, "post_id": 29525047, "comment_id": 47205639, "body": "Out of interest, I had a quick go at this <a href=\"http://pastebin.com/raw.php?i=6CWk4dch\" rel=\"nofollow noreferrer\">pastebin.com/raw.php?i=6CWk4dch</a> -- it works with the railroad diagram generator. (But may not be a perfect translation.)"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "edited": false, "score": 0, "creation_date": 1428528640, "post_id": 29525047, "comment_id": 47205760, "body": "@Stuart I had a go at the same thing. Looks good, although you want to replace things like <code>[arglist]</code> with <code>(arglist)?</code>, not <code>(arglist)*</code>. Generally, the only 3 things you need to change are 1) <code>:</code> to <code>::=</code> for the production rules, 2) <code>[...]</code> to <code>(...)?</code> for optional elements and 3) <code>#...</code> to <code>&#47;*...*&#47;</code> for comments."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1428528719, "post_id": 29525047, "comment_id": 47205794, "body": "@Carsten Agreed, to some extent. The OP says they want a better grasp of the Python grammar, not just Python, so it&#39;s a legitimate (albeit off-topic, asking for a link to a resource) question."}, {"owner": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1428529153, "post_id": 29525047, "comment_id": 47205984, "body": "@chepner Thanks yes, here it is again <a href=\"http://pastebin.com/raw.php?i=GvVPCJw8\" rel=\"nofollow noreferrer\">pastebin.com/raw.php?i=GvVPCJw8</a>"}, {"owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1428529287, "post_id": 29525047, "comment_id": 47206043, "body": "@chepner I agree. Didn&#39;t even vote to close, I just wanted to offer the OP a different approach. Imho learning a language by example can show the underlying grammatical constructs, if the learner is so inclined."}, {"owner": {"reputation": 610, "user_id": 1989046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c00937df6d08371ecfe5b526753e4b?s=128&d=identicon&r=PG", "display_name": "Ilya Bobyr", "link": "https://stackoverflow.com/users/1989046/ilya-bobyr"}, "reply_to_user": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1428617989, "post_id": 29525047, "comment_id": 47251629, "body": "@Carsten I do not think it is an XY problem.  I have a specific need - a railroad diagram for the language syntax.  I will used it as part of learning, but that is just a background. &quot;You shouldn&#39;t try to understand Python&#39;s syntax by learning its formal structure as a formal grammar.&quot; I personally find it very enlightening to read the language grammar at some point. Pieces of grammar (though in text form) are present on every documentation page.  But it is in text form and it is in pieces. I would like see the whole picture and as a railroad diagram."}, {"owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1428618045, "post_id": 29525047, "comment_id": 47251658, "body": "@IlyaBobyr Then please, go on. This is a good question. I just thought you might be stuck in a too formal approach and wanted to offer a different perspective. If this works for you, please continue. If it&#39;s okay with you, I&#39;d like to leave my comment there, even if it&#39;s not fit for your situation. It might help others who are not so formally inclined."}, {"owner": {"reputation": 610, "user_id": 1989046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c00937df6d08371ecfe5b526753e4b?s=128&d=identicon&r=PG", "display_name": "Ilya Bobyr", "link": "https://stackoverflow.com/users/1989046/ilya-bobyr"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1429745479, "post_id": 29525047, "comment_id": 47749534, "body": "@chepner, thank you for converting the grammar. Looking at it, I think, it is a bit too technical for somebody who is just starting =) It seems that the original form is more suited for someone writing a parser.  It is terse, with as much reuse as possible.  Constants are separate rules. I guess, it might be possible to restructure the grammar to be easier for a novice to read.  Or, maybe, Carsten is right and Python grammar is just not that good of a learning material."}], "answers": [{"comments": [{"owner": {"reputation": 2510, "user_id": 999165, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e72ba25d250c41a7d0716953f8ec3f4b?s=128&d=identicon&r=PG", "display_name": "LAFK says Reinstate Monica", "link": "https://stackoverflow.com/users/999165/lafk-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1567671882, "post_id": 29525854, "comment_id": 102034638, "body": "An interesting link that already did some of that: <a href=\"https://discuss.python.org/t/railroad-diagrams-for-python-grammar/1017\" rel=\"nofollow noreferrer\">discuss.python.org/t/railroad-diagrams-for-python-grammar/10&zwnj;&#8203;17</a>"}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 4, "last_activity_date": 1428529201, "creation_date": 1428529201, "answer_id": 29525854, "question_id": 29525047, "link": "https://stackoverflow.com/questions/29525047/railroad-diagram-for-python-grammar/29525854#29525854", "title": "Railroad diagram for Python grammar", "body": "<p>To convert the Python grammar found at, e.g., <a href=\"https://docs.python.org/3/reference/grammar.html\" rel=\"nofollow\">https://docs.python.org/3/reference/grammar.html</a>, to EBNF, you basically need to do three things:</p>\n\n<ol>\n<li>Replace all <code>#...</code> comments with <code>/*...*/</code> (or just delete them)</li>\n<li>Use <code>::=</code> instead of <code>:</code> for defining production rules</li>\n<li>Use <code>(...)?</code> to indicate optional elements instead of <code>[...]</code>.</li>\n</ol>\n\n<p>For example, instead of</p>\n\n<pre><code># The function statement\nfuncdef: 'def' NAME parameters ['-&gt;' test] ':' suite\n</code></pre>\n\n<p>you would use</p>\n\n<pre><code>/* The function statement */\nfuncdef ::= 'def' NAME parameters ('-&gt;' test)? ':' suite\n</code></pre>\n"}], "owner": {"reputation": 610, "user_id": 1989046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c00937df6d08371ecfe5b526753e4b?s=128&d=identicon&r=PG", "display_name": "Ilya Bobyr", "link": "https://stackoverflow.com/users/1989046/ilya-bobyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1242, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1428529201, "creation_date": 1428526015, "question_id": 29525047, "link": "https://stackoverflow.com/questions/29525047/railroad-diagram-for-python-grammar", "title": "Railroad diagram for Python grammar", "body": "<p>I am looking for a way to get better grasp on the Python grammar.\nMy experience is that a <a href=\"http://en.wikipedia.org/wiki/Syntax_diagram\" rel=\"noreferrer\">railroad diagram</a> for the grammar may be helpful.</p>\n\n<p>Python documentation contains the grammar in a text form:</p>\n\n<pre><code>https://docs.python.org/3/reference/grammar.html\n</code></pre>\n\n<p>But that is not very easy to digest for someone who is just starting with software engineering.</p>\n\n<p>Anybody has a good beginners material?</p>\n\n<p>There is a <a href=\"http://bottlecaps.de/rr/ui\" rel=\"noreferrer\">Railroad Diagram Generator</a> that I might be able to use, but I was not able to find an EBNF syntax for the Python grammar, that would be accepted by that generator.\nA link to such a grammar would be very helpful as well.</p>\n"}, {"tags": ["python", "flask", "flask-admin"], "comments": [{"owner": {"reputation": 415, "user_id": 629481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2950c6cc3d3d509cbe22c451b79dfa?s=128&d=identicon&r=PG", "display_name": "Lawrence Liu", "link": "https://stackoverflow.com/users/629481/lawrence-liu"}, "edited": false, "score": 0, "creation_date": 1434435855, "post_id": 29525044, "comment_id": 49762847, "body": "This is also what I am looking for, please share your resolution if you have got one, thanks :)"}, {"owner": {"reputation": 4595, "user_id": 629599, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/41eb9a71af50d86b3b6f4daf83c37caf?s=128&d=identicon&r=PG&f=1", "display_name": "mergesort", "link": "https://stackoverflow.com/users/629599/mergesort"}, "reply_to_user": {"reputation": 415, "user_id": 629481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2950c6cc3d3d509cbe22c451b79dfa?s=128&d=identicon&r=PG", "display_name": "Lawrence Liu", "link": "https://stackoverflow.com/users/629481/lawrence-liu"}, "edited": false, "score": 0, "creation_date": 1434460839, "post_id": 29525044, "comment_id": 49778923, "body": "I was able to figure it out and added code below"}], "answers": [{"tags": [], "owner": {"reputation": 4595, "user_id": 629599, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/41eb9a71af50d86b3b6f4daf83c37caf?s=128&d=identicon&r=PG&f=1", "display_name": "mergesort", "link": "https://stackoverflow.com/users/629599/mergesort"}, "is_accepted": false, "score": 1, "last_activity_date": 1434460824, "creation_date": 1434460824, "answer_id": 30868775, "question_id": 29525044, "link": "https://stackoverflow.com/questions/29525044/how-can-i-filter-a-column-in-the-edit-form-with-flask-admin-modelview/30868775#30868775", "title": "How can I filter a column in the edit form with Flask-Admin ModelView?", "body": "<p>I was able to figure this out. Hope the code below helps. It's working pretty well for me.</p>\n\n<p>Below is a rough idea of the code:</p>\n\n<pre><code>class CustomModelView(ModelView):\n    def edit_form(self, obj):\n        return CustomModelForm(obj=obj)\n\ndef filtering_function():\n   return app.db.query(CustomModel).filter_by(field_to_filter=my_criteria)\n\n#from wtforms.form import Form\nclass CustomModelForm(Form):\n    field_to_filter = QuerySelectField(query_factory=filtering_function)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 415, "user_id": 629481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2950c6cc3d3d509cbe22c451b79dfa?s=128&d=identicon&r=PG", "display_name": "Lawrence Liu", "link": "https://stackoverflow.com/users/629481/lawrence-liu"}, "is_accepted": false, "score": 3, "last_activity_date": 1434512242, "creation_date": 1434512242, "answer_id": 30881924, "question_id": 29525044, "link": "https://stackoverflow.com/questions/29525044/how-can-i-filter-a-column-in-the-edit-form-with-flask-admin-modelview/30881924#30881924", "title": "How can I filter a column in the edit form with Flask-Admin ModelView?", "body": "<p>Actually I found a easier way for that as below, seems there's no need to override the edit_form method in ModelView, just pass the filtering function as a named parameter(query_factory) to the form_args, and it works like a charming!.</p>\n\n<pre><code>class CustomModelView(ModelView):\n    form_args = dict(\n        status = dict(label='Status', query_factory=filtering_function)\n    )\n\ndef filtering_function():\n   return app.db.query(CustomModel).filter_by(field_to_filter=my_criteria)\n</code></pre>\n"}], "owner": {"reputation": 4595, "user_id": 629599, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/41eb9a71af50d86b3b6f4daf83c37caf?s=128&d=identicon&r=PG&f=1", "display_name": "mergesort", "link": "https://stackoverflow.com/users/629599/mergesort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1322, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1434512242, "creation_date": 1428525992, "question_id": 29525044, "link": "https://stackoverflow.com/questions/29525044/how-can-i-filter-a-column-in-the-edit-form-with-flask-admin-modelview", "title": "How can I filter a column in the edit form with Flask-Admin ModelView?", "body": "<p>I am using a model view with flask-admin and I want to filter a column in the edit/create view. The column/field is a relationship and I only want to show fields that belong to the logged in user i.e. <code>relationship_id == user.id</code></p>\n"}, {"tags": ["python", "numpy", "petsc"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1428547980, "post_id": 29525041, "comment_id": 47211783, "body": "So the dtype for <code>p3</code> is complex, right?  Doesn&#39;t <code>PETSc</code> say anything about specifying a <code>dtype</code>?  I&#39;m guessing it initializes some array (<code>iarray</code>?) and copies data from <code>p3</code> to it.  If it was initialized as <code>float</code>, that copy would produce the error."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1428549604, "post_id": 29525041, "comment_id": 47212197, "body": "<a href=\"http://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/Sys/PetscComplex.html\" rel=\"nofollow noreferrer\">mcs.anl.gov/petsc/petsc-current/docs/manualpages/Sys/&hellip;</a>  I wonder if your PETSC is configured for COMPLEX as described on this page?"}, {"owner": {"reputation": 41, "user_id": 4765280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7a94f7d4ed1663e0c6fa967d2b11f3?s=128&d=identicon&r=PG&f=1", "display_name": "Schwartz Richard", "link": "https://stackoverflow.com/users/4765280/schwartz-richard"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1428570906, "post_id": 29525041, "comment_id": 47221668, "body": "Thank you guys! I had troubles getting PETSc to work, so I configured it more than just once and in the last run I obviously forgot the option <code>--with-scalar-type=complex</code>. This is what i should have done: Either check the log file <code>$PETSC_DIR&#47;arch-linux2-c-opt&#47;conf&#47;configure.log</code>. Or take a look at the reconfigure-arch-linux2-c-opt.py. There you can find all options you used to configure PETSc. Now since I added the option to the reconfigure script and ran it, everything works perfectly fine. Sorry that I bothered you guys."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1428584790, "post_id": 29525041, "comment_id": 47230692, "body": "@SchwartzRichard Could you turn that comment into an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4765280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7a94f7d4ed1663e0c6fa967d2b11f3?s=128&d=identicon&r=PG&f=1", "display_name": "Schwartz Richard", "link": "https://stackoverflow.com/users/4765280/schwartz-richard"}, "is_accepted": false, "score": 2, "last_activity_date": 1428618144, "last_edit_date": 1428618144, "creation_date": 1428605335, "answer_id": 29546584, "question_id": 29525041, "link": "https://stackoverflow.com/questions/29525041/petsc4py-creating-aij-matrix-from-csc-matrix-results-in-typeerror/29546584#29546584", "title": "petsc4py: Creating AIJ Matrix from csc_matrix results in TypeError", "body": "<p>I had troubles getting PETSc to work, so I configured it more than just once, and in the last run I obviously forgot the option <code>--with-scalar-type=complex</code>.</p>\n\n<p>This is what I should have done:</p>\n\n<ul>\n<li><p>Either check the log file <code>$PETSC_DIR/arch-linux2-c-opt/conf/configure.log</code>. </p></li>\n<li><p>Or take a look at the <code>reconfigure-arch-linux2-c-opt.py</code>.</p></li>\n</ul>\n\n<p>There you can find all options you used to configure PETSc. In case you use SLEPc as well, you also need to recompile it. Now since I added the option (<code>--with-scalar-type=complex</code>) to the reconfigure script and ran it, everything works perfectly fine.</p>\n"}], "owner": {"reputation": 41, "user_id": 4765280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d7a94f7d4ed1663e0c6fa967d2b11f3?s=128&d=identicon&r=PG&f=1", "display_name": "Schwartz Richard", "link": "https://stackoverflow.com/users/4765280/schwartz-richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1480693662, "creation_date": 1428525984, "last_edit_date": 1495539930, "question_id": 29525041, "link": "https://stackoverflow.com/questions/29525041/petsc4py-creating-aij-matrix-from-csc-matrix-results-in-typeerror", "title": "petsc4py: Creating AIJ Matrix from csc_matrix results in TypeError", "body": "<p>I am trying to create a petsc-matrix form an already existing csc-matrix. With <a href=\"https://stackoverflow.com/questions/15442632/scipy-sparse-matrices-as-an-input-for-petsc4py\">this</a> in mind I created the following example code:</p>\n\n<pre><code>import numpy as np\nimport scipy.sparse as sp\nimport math as math\nfrom petsc4py import PETSc\nn=100\n\nA = sp.csc_matrix((n,n),dtype=np.complex128)\nprint A.shape\nA[1:5,:]=1+1j*5*math.pi\n\np1=A.indptr\np2=A.indices\np3=A.data\npetsc_mat = PETSc.Mat().createAIJ(size=A.shape,csr=(p1,p2,p3))\n</code></pre>\n\n<p>This works perfectly well as long as the matrix only consist of real values. When the matrix is complex running this piece of code results in a \n<code>TypeError: Cannot cast array data from dtype('complex128') to dtype('float64') according to the rule 'safe'</code>. \nI tried to figure out where the error occurs exactly, but could not make much sense of the traceback:</p>\n\n<pre><code>petsc_mat = PETSc.Mat().createAIJ(size=A.shape,csr=(p1,p2,p3))  File \"Mat.pyx\", line 265, in petsc4py.PETSc.Mat.createAIJ (src/petsc4py.PETSc.c:98970)\nFile \"petscmat.pxi\", line 662, in petsc4py.PETSc.Mat_AllocAIJ (src/petsc4py.PETSc.c:24264)\nFile \"petscmat.pxi\", line 633, in petsc4py.PETSc.Mat_AllocAIJ_CSR (src/petsc4py.PETSc.c:23858)\nFile \"arraynpy.pxi\", line 136, in petsc4py.PETSc.iarray_s (src/petsc4py.PETSc.c:8048)\nFile \"arraynpy.pxi\", line 117, in petsc4py.PETSc.iarray (src/petsc4py.PETSc.c:7771)\n</code></pre>\n\n<p>Is there an efficient way of creating a petsc matrix (of which i want to retrieve some eigenpairs later) from a complex scipy csc matrix ?</p>\n\n<p>I would be really happy if you guys could help me find my (hopefully not too obvious) mistake.</p>\n"}, {"tags": ["python", "active-directory", "ldap", "edirectory"], "comments": [{"owner": {"reputation": 9067, "user_id": 88122, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/U0pg3.png?s=128&g=1", "display_name": "jwilleke", "link": "https://stackoverflow.com/users/88122/jwilleke"}, "edited": false, "score": 0, "creation_date": 1428609491, "post_id": 29525025, "comment_id": 47247088, "body": "Sure it is possible. What have you tried?"}], "answers": [{"tags": [], "owner": {"reputation": 1325, "user_id": 2804335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efea225b55ab6bfbf8d715ae756d32eb?s=128&d=identicon&r=PG&f=1", "display_name": "cannatag", "link": "https://stackoverflow.com/users/2804335/cannatag"}, "is_accepted": true, "score": 0, "last_activity_date": 1428646798, "creation_date": 1428646798, "answer_id": 29554653, "question_id": 29525025, "link": "https://stackoverflow.com/questions/29525025/is-it-possible-to-connect-to-edirectory-with-python-ldap3/29554653#29554653", "title": "Is it possible to connect to eDirectory with python ldap3?", "body": "<p>I'm the author of ldap3, I use eDirectory for testing the library.</p>\n\n<p>just try the following code:</p>\n\n<pre><code>from ldap3 import Server, Connection, ALL, SUBTREE\nserver = Server('your_server_name', get_info=ALL)  # don't user get_info if you don't need info on the server and the schema\nconnection = Connection(server, 'your_user_name_dn', 'your_password')\nconnection.bind()\nif connection.search('your_search_base','(objectClass=*)', SUBTREE, attributes = ['cn', 'objectClass', 'your_attribute'])\n    for entry in connection.entries:\n        print(entry.entry_get_dn())\n        print(entry.cn, entry.objectClass, entry.your_attribute)\nconnection.unbind()\n</code></pre>\n\n<p>If you need a secure connection just change the server definition to:</p>\n\n<pre><code>server = Server('your_server_name', get_info=ALL, use_tls=True)  # default tls configuration on port 636\n</code></pre>\n\n<p>Also, any example in the docs at <a href=\"https://ldap3.readthedocs.org/en/latest/quicktour.html\" rel=\"nofollow\">https://ldap3.readthedocs.org/en/latest/quicktour.html</a> should work with eDirectory.</p>\n\n<p>Bye,\nGiovanni</p>\n"}], "owner": {"reputation": 11, "user_id": 4766071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9940a7b1fad541e4744eaef55ab83a7a?s=128&d=identicon&r=PG&f=1", "display_name": "kd2y", "link": "https://stackoverflow.com/users/4766071/kd2y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 29554653, "answer_count": 1, "score": 1, "last_activity_date": 1428646798, "creation_date": 1428525910, "question_id": 29525025, "link": "https://stackoverflow.com/questions/29525025/is-it-possible-to-connect-to-edirectory-with-python-ldap3", "title": "Is it possible to connect to eDirectory with python ldap3?", "body": "<p>I am trying to connect to eDirectory using python. It is not as easy as connecting to active directory using python so I am wondering if this is even possible. I am currently running python3.4</p>\n"}, {"tags": ["python", "scikit-learn"], "answers": [{"tags": [], "owner": {"reputation": 2286, "user_id": 3760780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7e6ad5307822e2b7c9f32668a023a62?s=128&d=identicon&r=PG&f=1", "display_name": "aleju", "link": "https://stackoverflow.com/users/3760780/aleju"}, "is_accepted": true, "score": 3, "last_activity_date": 1428526527, "creation_date": 1428526527, "answer_id": 29525183, "question_id": 29524986, "link": "https://stackoverflow.com/questions/29524986/import-error-linearsvr-in-sklearn/29525183#29525183", "title": "import error linearSVR in sklearn", "body": "<p><code>LinearSVR</code> is part of scikit since 0.16, as the <a href=\"http://scikit-learn.org/stable/whats_new.html\" rel=\"nofollow\">changelog</a> notes:</p>\n\n<blockquote>\n  <p>Added svm.LinearSVR. This class uses the liblinear implementation of Support Vector Regression which is much faster for large sample sizes than svm.SVR with linear kernel. By Fabian Pedregosa and Qiang Luo.</p>\n</blockquote>\n\n<p>Only <code>sklearn.svm.SVR</code> is available in 0.15. The documentation offers an overview over all classes in sklearn.svm in 0.15 <a href=\"http://scikit-learn.org/0.15/modules/classes.html#module-sklearn.svm\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 6275, "user_id": 286579, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6b7ae9e1233b7cb593aec5cbf094a0b7?s=128&d=identicon&r=PG", "display_name": "thetna", "link": "https://stackoverflow.com/users/286579/thetna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 963, "favorite_count": 0, "accepted_answer_id": 29525183, "answer_count": 1, "score": 1, "last_activity_date": 1433922933, "creation_date": 1428525810, "last_edit_date": 1433922933, "question_id": 29524986, "link": "https://stackoverflow.com/questions/29524986/import-error-linearsvr-in-sklearn", "title": "import error linearSVR in sklearn", "body": "<p>I could not import LinearSVR in sklearn. I did the following</p>\n\n<pre><code>from sklearn.svm import LinearSVR\n</code></pre>\n\n<p>I can easily import SVR as</p>\n\n<pre><code>from sklearn.svm import SVR\n</code></pre>\n\n<p>my sklearn version is <code>0.15.2</code></p>\n"}, {"tags": ["python", "hadoop", "apache-spark", "avro"], "comments": [{"owner": {"reputation": 563, "user_id": 4077588, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BEUid.jpg?s=128&g=1", "display_name": "MathiasOrtner", "link": "https://stackoverflow.com/users/4077588/mathiasortner"}, "edited": false, "score": 0, "creation_date": 1428574799, "post_id": 29524936, "comment_id": 47224190, "body": "I finally made it work, using the --driver-class-path argument rather than the .conf setup. I will update when I have more details !"}, {"owner": {"reputation": 1834, "user_id": 1836416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132a574080ed76dc8fc03509ac965e7a?s=128&d=identicon&r=PG", "display_name": "fanfabbb", "link": "https://stackoverflow.com/users/1836416/fanfabbb"}, "edited": false, "score": 0, "creation_date": 1430224076, "post_id": 29524936, "comment_id": 47959974, "body": "for me, using PySpark in spark 1.3.1 the --jars argument is actually enough."}, {"owner": {"reputation": 563, "user_id": 4077588, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BEUid.jpg?s=128&g=1", "display_name": "MathiasOrtner", "link": "https://stackoverflow.com/users/4077588/mathiasortner"}, "reply_to_user": {"reputation": 1834, "user_id": 1836416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132a574080ed76dc8fc03509ac965e7a?s=128&d=identicon&r=PG", "display_name": "fanfabbb", "link": "https://stackoverflow.com/users/1836416/fanfabbb"}, "edited": false, "score": 0, "creation_date": 1430768693, "post_id": 29524936, "comment_id": 48193213, "body": "Yep, whatever option that forwards the class to <i>executors</i> works."}, {"owner": {"reputation": 1727, "user_id": 2217866, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dVD94.jpg?s=128&g=1", "display_name": "Gayatri", "link": "https://stackoverflow.com/users/2217866/gayatri"}, "edited": false, "score": 0, "creation_date": 1433179555, "post_id": 29524936, "comment_id": 49229091, "body": "I am having a hard time reading the avro file into pyspark.I get the error An error occurred while calling z:org.apache.spark.api.python.PythonRDD.newAPIHadoopRDD. : java.lang.ClassNotFoundException: org.apache.avro.mapreduce.AvroKeyInputFormat. Could you please explain in detail the changes you made?"}, {"owner": {"reputation": 563, "user_id": 4077588, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BEUid.jpg?s=128&g=1", "display_name": "MathiasOrtner", "link": "https://stackoverflow.com/users/4077588/mathiasortner"}, "edited": false, "score": 0, "creation_date": 1433227832, "post_id": 29524936, "comment_id": 49247517, "body": "In my case I use a conjonction of two setups :  --driver-class-path path/to/appropriate.jar, nothing related to jar files in the .conf file, and I set in the context : SparkConf().set(...).set(&quot;spark.executor.extraClassPath&quot;,&quot;pa&zwnj;&#8203;th/to/appropriate.ja&zwnj;&#8203;r&quot;). I totally gave up on using the conf file for setting the path. I did not try the --jars argument yet as suggested by fanfabbb above, may be worth a shot."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4162614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cbc8d57888d855c480de20ffd56913e?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad Kasturi", "link": "https://stackoverflow.com/users/4162614/prasad-kasturi"}, "is_accepted": false, "score": 0, "last_activity_date": 1438373224, "creation_date": 1438373224, "answer_id": 31754372, "question_id": 29524936, "link": "https://stackoverflow.com/questions/29524936/spark-1-3-0-python-avro-files-driver-class-path-set-in-spark-defaults-conf-b/31754372#31754372", "title": "spark 1.3.0, python, avro files, driver-class-path set in spark-defaults.conf, but not seen by slaves", "body": "<p>try running it with the option --master yarn-cluster</p>\n\n<p>Depending on the size of the data you may have allocate more memory per container by adding more numbers to the following config parameters:</p>\n\n<h1>yarn.nodemanager.resource.memory-mb</h1>\n\n<h1>yarn.scheduler.maximum-allocation-mb</h1>\n\n<p>spark-submit   --master yarn-client --num-executors 5  --driver-cores 8  --driver-memory 50G --executor-memory 44G code_to_run.py  </p>\n"}], "owner": {"reputation": 563, "user_id": 4077588, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BEUid.jpg?s=128&g=1", "display_name": "MathiasOrtner", "link": "https://stackoverflow.com/users/4077588/mathiasortner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1560, "favorite_count": 4, "answer_count": 1, "score": 4, "last_activity_date": 1438373224, "creation_date": 1428525629, "last_edit_date": 1433228346, "question_id": 29524936, "link": "https://stackoverflow.com/questions/29524936/spark-1-3-0-python-avro-files-driver-class-path-set-in-spark-defaults-conf-b", "title": "spark 1.3.0, python, avro files, driver-class-path set in spark-defaults.conf, but not seen by slaves", "body": "<p>I am using spark 1.3.0, with python. I have an application that reads an avro file using the following commands : </p>\n\n<pre><code>conf = None\n\nrddAvro = sc.newAPIHadoopFile(\n    fileAvro,\n    \"org.apache.avro.mapreduce.AvroKeyInputFormat\",\n    \"org.apache.avro.mapred.AvroKey\",    \n    \"org.apache.hadoop.io.NullWritable\",\n    KeyConverter=\"org.apache.spark.examples.pythonconverters.AvroWrapperToJavaConverter\",\n    conf=conf)\n</code></pre>\n\n<p>In my <code>conf/spark-defaults.conf</code> I have the following line:</p>\n\n<pre><code>spark.driver.extraClassPath /pathto/spark-1.3.0/lib/spark-examples-1.3.0-hadoop2.4.0.jar\n</code></pre>\n\n<p>I have setup a cluster of three machines (two masters and a slave):</p>\n\n<ul>\n<li>If I run <code>spark-submit --master local</code> on the master, it works</li>\n<li>If I run <code>spark-submit --master local</code> on either slaves, it works</li>\n<li><p>If I run <code>sbin/start-all.sh</code> and then <code>spark-submit --master spark://cluster-data-master:7077</code> it fails with the following error : </p>\n\n<pre><code>java.lang.ClassNotFoundException:\norg.apache.spark.examples.pythonconverters.AvroWrapperToJavaConverter\n</code></pre></li>\n</ul>\n\n<p>I can reproduce this error in local model by commenting the driver line in the <code>.conf</code> file. I tried <code>spark-submit</code> with appropriate <code>--driver-class-path</code> but it does not work neither !</p>\n\n<p><strong>Update with solution</strong></p>\n\n<p>Following a request here is what works for me :</p>\n\n<ul>\n<li>I use <code>spark-submit --driver-class-path path/to/appropriate.jar</code> when calling the script</li>\n<li>I have nothing related to jar files in the <code>spark-defaults.conf file</code></li>\n<li>I forward the jar path to executors using<br>\n<code>SparkConf().set(...).set(\"spark.executor.extraClassPath\",\"path/to/appropriate.ja\u200c\u200br\")</code> in the main python file.</li>\n</ul>\n\n<p>I totally gave up on using the conf file for setting the path. I did not try the <code>--jars</code> argument yet as suggested by fanfabbb below, may be worth a shot. </p>\n"}, {"tags": ["python", "screenshot", "python-imaging-library"], "comments": [{"owner": {"reputation": 7693, "user_id": 939701, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/40daf1700004c187763959bd3055bb9e?s=128&d=identicon&r=PG", "display_name": "posit labs", "link": "https://stackoverflow.com/users/939701/posit-labs"}, "edited": false, "score": 0, "creation_date": 1428534709, "post_id": 29524885, "comment_id": 47208173, "body": "I don&#39;t have any actual knowledge of this, but... Get the mouse position and use those coords to draw an image of a mouse cursor on to the screenshot."}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 2991956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/121f2acaded4da17eab6ae8884fa8bac?s=128&d=identicon&r=PG&f=1", "display_name": "Zelnoth", "link": "https://stackoverflow.com/users/2991956/zelnoth"}, "is_accepted": false, "score": 3, "last_activity_date": 1429032174, "last_edit_date": 1429032174, "creation_date": 1429006113, "answer_id": 29624597, "question_id": 29524885, "link": "https://stackoverflow.com/questions/29524885/include-mouse-cursor-in-screenshot/29624597#29624597", "title": "Include mouse cursor in screenshot", "body": "<p>The cursor isn't on the same layer as the desktop or game your playing, so a screenshot won't capture it (try printscreen and paste into mspaint). A workaround is to get the position of the cursor and draw it on the image. you could use <code>win32gui.GetCursorPos(point)</code> for windows. </p>\n"}], "owner": {"reputation": 69, "user_id": 4766020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d02c055f049098ad22317e45679530f?s=128&d=identicon&r=PG&f=1", "display_name": "PRO GRAMMER", "link": "https://stackoverflow.com/users/4766020/pro-grammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2170, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1429032174, "creation_date": 1428525457, "last_edit_date": 1428531245, "question_id": 29524885, "link": "https://stackoverflow.com/questions/29524885/include-mouse-cursor-in-screenshot", "title": "Include mouse cursor in screenshot", "body": "<p>I'm making a program that streams my screen to another computer(like TeamViewer), I'm using sockets, PIL ImageGrab, Tkinter.</p>\n\n<p>Everything is fine but the screenshot I get from <code>ImageGrab.grab()</code> is without the mouse cursor, which is very important for my program purpose.</p>\n\n<p>Do you know how can I take screenshot with the mouse cursor?</p>\n"}, {"tags": ["python", "python-2.7", "http", "urllib", "ioerror"], "answers": [{"tags": [], "owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "is_accepted": false, "score": 0, "last_activity_date": 1428526217, "creation_date": 1428526217, "answer_id": 29525096, "question_id": 29524847, "link": "https://stackoverflow.com/questions/29524847/python-urllib-urlopen-ioerror-using-vpn/29525096#29525096", "title": "Python urllib.urlopen IOError using VPN", "body": "<p>Really simply, a <a href=\"http://en.wikipedia.org/wiki/List_of_HTTP_status_codes#4xx_Client_Error\" rel=\"nofollow\">401 Error</a> means that you are unauthorized (and generally, must have a login to access the site). That also being said, what you are doing is <a href=\"http://www.scopus.com/robots.txt\" rel=\"nofollow\">expressly prohibited based on their robots.txt file</a>, so I'd advise you to <em>not persist</em>.</p>\n\n<p>That being said, if you were to continue being interested in crawling other websites, I'd say you should take a look at the <a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow\">Python Requests Module</a>, as well as <a href=\"http://www.crummy.com/software/BeautifulSoup/\" rel=\"nofollow\">Beautiful Soup</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "edited": false, "score": 0, "creation_date": 1428526982, "post_id": 29525182, "comment_id": 47204917, "body": "I was unaware of Elsevier... this really appears the right way to handle this one, @py_coder1371 (ie. my answer&#39;s a bit more general)."}], "tags": [], "owner": {"reputation": 695, "user_id": 349420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7345491378f9c80b586f1cf529ace02a?s=128&d=identicon&r=PG", "display_name": "Esparta Palma", "link": "https://stackoverflow.com/users/349420/esparta-palma"}, "is_accepted": false, "score": 1, "last_activity_date": 1428526526, "creation_date": 1428526526, "answer_id": 29525182, "question_id": 29524847, "link": "https://stackoverflow.com/questions/29524847/python-urllib-urlopen-ioerror-using-vpn/29525182#29525182", "title": "Python urllib.urlopen IOError using VPN", "body": "<p>This is not related to your VPN. The main problem is you are trying to get a page which you must have a valid session (which is present on the browser's request-response cicle). Your options:</p>\n\n<ul>\n<li>Use <a href=\"https://pypi.python.org/pypi/mechanize/\" rel=\"nofollow\">Mechanize</a></li>\n<li>Use <a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow\">Requests</a></li>\n</ul>\n\n<p>But in any case I encorage you to use the API for this kind of problems: <a href=\"http://dev.elsevier.com/about.html\" rel=\"nofollow\">Elsevier API</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4765989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c21f87cee31fbd92d533de5a3eb1167?s=128&d=identicon&r=PG&f=1", "display_name": "py_coder1371", "link": "https://stackoverflow.com/users/4765989/py-coder1371"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1428526526, "creation_date": 1428525282, "question_id": 29524847, "link": "https://stackoverflow.com/questions/29524847/python-urllib-urlopen-ioerror-using-vpn", "title": "Python urllib.urlopen IOError using VPN", "body": "<p>I am trying to access a website called scopus.com . What I want to do is to search an author in it and get his number of publications, h-index, etc. \nThis website cannot be accessed if you are not on a university wifi network (I use VPN whenever I want to access it from home).</p>\n\n<p>Here is the code: </p>\n\n<pre><code>import urllib\n\nfirst_name = \"John\"\nlast_name = \"Smith\"\n\nnew_url = \"http://www.scopus.com/results/authorNamesList.url?sort=\\\ncount-f&amp;src=al&amp;sid=66892931B99391BF99AFADC3006D1357.WXhD7YyTQ6A7Pvk9AlA%3a50\\\n&amp;sot=al&amp;sdt=al&amp;sl=47&amp;s=AUTH--LAST--NAME%28\" + last_name + \\\n\"%29+AND+AUTH--FIRST%28\" + first_name + \"%29&amp;st1=\" + last_name + \"&amp;st2=\" + first_name +\\\n\"&amp;orcidId=&amp;selectionPageSearch=anl&amp;reselectAuthor=false&amp;activeFlag=false&amp;showDocument=\\\nfalse&amp;resultsPerPage=20&amp;offset=1&amp;jtp=false&amp;currentPage=1&amp;previousSelectionCount=\\\n0&amp;tooManySelections=false&amp;previousResultCount=0&amp;authSubject=LFSC&amp;authSubject=\\\nHLSC&amp;authSubject=PHSC&amp;authSubject=SOSC&amp;exactAuthorSearch=false&amp;showFullList=\\\nfalse&amp;authorPreferredName=&amp;origin=searchauthorlookup&amp;affiliationId=&amp;txGid=\\\n66892931B99391BF99AFADC3006D1357.WXhD7YyTQ6A7Pvk9AlA%3a5\"\n\npage_source = urllib.urlopen(new_url).read()\n\nprint page_source\n</code></pre>\n\n<p>No matter what I do I always get this error: </p>\n\n<pre><code>File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib.py\", line 386, in http_error_default\nraise IOError, ('http error', errcode, errmsg, headers)\n\nIOError: ('http error', 401, 'Unauthorized', &lt;httplib.HTTPMessage instance at 0x102c85a28&gt;)\n</code></pre>\n\n<p>I have spent some time on this forum and I think I have tried everything I could find (including pretending to access the website as Opera). Is there anyway that I can do this or should I just give it up and do this 700 times manually?</p>\n\n<p>Thank you everyone for your help in advance </p>\n"}, {"tags": ["python", "python-2.7", "feedparser"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1428526053, "post_id": 29524764, "comment_id": 47204430, "body": "You will need to convert your &#39;Rich Text Format&#39; [rtf] document into plain text before you open it. Or else find some library that can handle RTF."}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428527633, "post_id": 29524764, "comment_id": 47205237, "body": "copy paste some line here"}], "answers": [{"tags": [], "owner": {"reputation": 4294, "user_id": 259645, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/OObkU.jpg?s=128&g=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/259645/aurora"}, "is_accepted": true, "score": 3, "last_activity_date": 1428528556, "creation_date": 1428528556, "answer_id": 29525696, "question_id": 29524764, "link": "https://stackoverflow.com/questions/29524764/feedparser-python-error-keyerror-title/29525696#29525696", "title": "Feedparser Python Error : KeyError : &#39;title&#39;", "body": "<p>It's hard to tell exactly what is wrong here, but in the general case, any <code>KeyError</code> is because the data you are trying to access is not exactly what you expected. It's best to throw your assumptions out the window and take a close look at the actual data that your code is working with.</p>\n\n<p>For debugging, I would recommend taking a close look at what happens before the error. What is the value of <code>line</code> as you read the file? Is it correct? What is the value of <code>d</code>? Did the call to <code>f.parse(line)</code> result in a valid object?</p>\n"}], "owner": {"reputation": 21, "user_id": 4765924, "user_type": "registered", "profile_image": "https://graph.facebook.com/931935026846353/picture?type=large", "display_name": "Joshua Boddy", "link": "https://stackoverflow.com/users/4765924/joshua-boddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3876, "favorite_count": 0, "accepted_answer_id": 29525696, "answer_count": 1, "score": 0, "last_activity_date": 1428528556, "creation_date": 1428525014, "last_edit_date": 1428525134, "question_id": 29524764, "link": "https://stackoverflow.com/questions/29524764/feedparser-python-error-keyerror-title", "title": "Feedparser Python Error : KeyError : &#39;title&#39;", "body": "<p>I have seen a lot of KeyCount Errors online but none of them quite match the troubles that I'm having. I am using feed parser to try and create a one run application that accesses all the URLs in a text file and outputs all the entries in each URL. When I run this code : </p>\n\n<pre><code>     import feedparser as f\n\n     with open('addresses.rtf', 'r') as addresses:\n         for line in addresses:\n             d = f.parse(line)\n\n            print d[\"feed\"][\"title\"]\n             print \"\"\n             print d.feed.subtitle\n             print \"\"\n\n             for post in d.entries:\n                 print post.title\n                 print post.link\n                 print \"\"\n</code></pre>\n\n<p>I get this error message :</p>\n\n<pre><code>     Traceback (most recent call last):\n       File \"/Users/Josh/Desktop/Feed Parser Python Project/init.py\", line 7, in &lt;module&gt;\nprint d[\"feed\"][\"title\"]\n       File \"build/bdist.macosx-10.6-intel/egg/feedparser.py\", line 375, in __getitem__\nreturn dict.__getitem__(self, key)\n     KeyError: 'title'\n</code></pre>\n\n<p>My text file is just a .rtf file that has a URL on each line (3 lines).</p>\n\n<p>If someone could give us a hand please let me know and if you need any extra info please don't hesitate to ask. Any help is welcome. Thank you!</p>\n"}, {"tags": ["python", "excel", "excel-formula", "worksheet-function", "conditional-formatting"], "comments": [{"owner": {"reputation": 4487, "user_id": 3728956, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4bd304322d1e69e6d11ac55b840c0fc5?s=128&d=identicon&r=PG&f=1", "display_name": "nEO", "link": "https://stackoverflow.com/users/3728956/neo"}, "reply_to_user": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "edited": false, "score": 1, "creation_date": 1428525371, "post_id": 29524725, "comment_id": 47204066, "body": "added the snapshot, does that help?"}], "answers": [{"tags": [], "owner": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "is_accepted": true, "score": 0, "last_activity_date": 1428582131, "last_edit_date": 1428582131, "creation_date": 1428526328, "answer_id": 29525129, "question_id": 29524725, "link": "https://stackoverflow.com/questions/29524725/transform-a-simple-table-to-a-color-coded-table/29525129#29525129", "title": "Transform a simple table to a color coded table", "body": "<p>Assuming <code>1</code> in your table is in G1, and that the output will be in A1:E5, please select that range and fill it red. Then with the same selection HOME > Styles - Conditional Formatting, New Rule..., <em>Use a formula to determine which cell to format</em>, <strong>Format values where this formula is true:</strong>:  </p>\n\n<pre><code> =MATCH(CHAR(COLUMN()+96),$H1:$J1,0)&gt;0  \n</code></pre>\n\n<p><kbd>Format...</kbd>, select Fill green, OK, OK.  </p>\n\n<p><img src=\"https://i.stack.imgur.com/SEDZK.jpg\" alt=\"SO2524725 example\">  </p>\n\n<p>I have assumed that the Headings are adequate as row and column labels.</p>\n"}], "owner": {"reputation": 4487, "user_id": 3728956, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/4bd304322d1e69e6d11ac55b840c0fc5?s=128&d=identicon&r=PG&f=1", "display_name": "nEO", "link": "https://stackoverflow.com/users/3728956/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 29525129, "answer_count": 1, "score": 0, "last_activity_date": 1428596345, "creation_date": 1428524853, "last_edit_date": 1428596345, "question_id": 29524725, "link": "https://stackoverflow.com/questions/29524725/transform-a-simple-table-to-a-color-coded-table", "title": "Transform a simple table to a color coded table", "body": "<p>I've a table that looks like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/KscUc.png\" alt=\"SO29524725 first question example\"></p>\n\n<p>I want to transform the table into something like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/2jtzT.png\" alt=\"SO29524725 second question example\">                </p>\n\n<p>I did some thinking, but couldn't think of anything fruitful.  </p>\n\n<p>How can I do this in MS-Excel or any programming software like Python?  </p>\n"}, {"tags": ["python", "database", "google-app-engine", "web2py"], "comments": [{"owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "edited": false, "score": 0, "creation_date": 1428525804, "post_id": 29524718, "comment_id": 47204288, "body": "Are you saying you were running the app locally (and therefore using SQLite) and have now deployed to GAE, but you no longer see the data that you entered locally? If so, that is as expected, as you haven&#39;t done anything to copy the data from SQLite to GAE."}, {"owner": {"reputation": 57, "user_id": 2983802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b1d2c3d69efe1179c2e08698320cff85?s=128&d=identicon&r=PG&f=1", "display_name": "priya_ajju", "link": "https://stackoverflow.com/users/2983802/priya-ajju"}, "reply_to_user": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "edited": false, "score": 0, "creation_date": 1428588217, "post_id": 29524718, "comment_id": 47233311, "body": "@Anthony now I got it. Actually I made entities in cloud datastore and copied data entries there and I am able to access those data now in GAE. But I am not able to upload images in those entities as only string,boolean,key,datetime,number and keys are allowed."}, {"owner": {"reputation": 18507, "user_id": 2213940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEbb2.jpg?s=128&g=1", "display_name": "Zig Mandel", "link": "https://stackoverflow.com/users/2213940/zig-mandel"}, "edited": false, "score": 0, "creation_date": 1428588548, "post_id": 29524718, "comment_id": 47233550, "body": "Thats  completely unrelated to this question. Read the s.o. faq and make a new question."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 2983802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b1d2c3d69efe1179c2e08698320cff85?s=128&d=identicon&r=PG&f=1", "display_name": "priya_ajju", "link": "https://stackoverflow.com/users/2983802/priya-ajju"}, "edited": false, "score": 0, "creation_date": 1428588291, "post_id": 29527158, "comment_id": 47233372, "body": "Thanks, but I am not able to upload images in the cloud datastore entities"}, {"owner": {"reputation": 18507, "user_id": 2213940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEbb2.jpg?s=128&g=1", "display_name": "Zig Mandel", "link": "https://stackoverflow.com/users/2213940/zig-mandel"}, "reply_to_user": {"reputation": 57, "user_id": 2983802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b1d2c3d69efe1179c2e08698320cff85?s=128&d=identicon&r=PG&f=1", "display_name": "priya_ajju", "link": "https://stackoverflow.com/users/2983802/priya-ajju"}, "edited": false, "score": 0, "creation_date": 1428588581, "post_id": 29527158, "comment_id": 47233566, "body": "Thats completely unrelated to the original question or this answer."}, {"owner": {"reputation": 57, "user_id": 2983802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b1d2c3d69efe1179c2e08698320cff85?s=128&d=identicon&r=PG&f=1", "display_name": "priya_ajju", "link": "https://stackoverflow.com/users/2983802/priya-ajju"}, "edited": false, "score": 0, "creation_date": 1428594377, "post_id": 29527158, "comment_id": 47237921, "body": "Yeah My mistake. Now I have asked a new question at <a href=\"http://stackoverflow.com/questions/29543055/store-images-in-datastore-of-gae-python-while-deploying-web2py-app\" title=\"store images in datastore of gae python while deploying web2py app\">stackoverflow.com/questions/29543055/&hellip;</a>           . Please help"}], "tags": [], "owner": {"reputation": 18507, "user_id": 2213940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEbb2.jpg?s=128&g=1", "display_name": "Zig Mandel", "link": "https://stackoverflow.com/users/2213940/zig-mandel"}, "is_accepted": false, "score": 0, "last_activity_date": 1428536065, "creation_date": 1428536065, "answer_id": 29527158, "question_id": 29524718, "link": "https://stackoverflow.com/questions/29524718/tables-not-getting-fetched-when-deploying-web2py-app-on-gae/29527158#29527158", "title": "Tables not getting fetched when deploying web2py app on GAE", "body": "<p>You have only stored data locally. Its a dev environment. After you deploy you need to also create your data on the production storage services like sql, datastore, blobstore etc.<br>later whn you deploy new versions the data will still be there. All versions share the same storage.</p>\n"}], "owner": {"reputation": 57, "user_id": 2983802, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b1d2c3d69efe1179c2e08698320cff85?s=128&d=identicon&r=PG&f=1", "display_name": "priya_ajju", "link": "https://stackoverflow.com/users/2983802/priya-ajju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428536065, "creation_date": 1428524836, "question_id": 29524718, "link": "https://stackoverflow.com/questions/29524718/tables-not-getting-fetched-when-deploying-web2py-app-on-gae", "title": "Tables not getting fetched when deploying web2py app on GAE", "body": "<p>WHen I am trying to deploy a web2py app on google app engine, the tables which I defined using db.define.table are not getting imported as I am not able to retrieve any row from any of such tables.</p>\n\n<p>In db.py I have used google datastore though.</p>\n\n<pre><code>if not request.env.web2py_runtime_gae:\n    ## if NOT running on Google App Engine use SQLite or other DB\n    db = DAL('sqlite://storage.sqlite',pool_size=1,check_reserved=['all'])\nelse:\ndb = DAL('google:datastore')\nfrom gluon.contrib.memdb import MEMDB\nfrom google.appengine.api.memcache import Client\nsession.connect(request, response, db = MEMDB(Client()))\n</code></pre>\n\n<p>Only these changes I have made. On hosting it to GAE, the html page doesn't show those contents which are to be taken from table. Rest of the contents it is showing.\nFirst time I am deploying something on GAE . I have just added an app.yaml and queue.yaml in web2py folder and have edited app.yaml accordingly.</p>\n\n<p>HELP !!</p>\n"}, {"tags": ["python", "linux", "pyinstaller"], "comments": [{"owner": {"reputation": 4116, "user_id": 2689383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/100004839518399/picture?type=large", "display_name": "chfw", "link": "https://stackoverflow.com/users/2689383/chfw"}, "edited": false, "score": 0, "creation_date": 1428660296, "post_id": 29524661, "comment_id": 47267385, "body": "&#39;pyexcel.ext.ods&#39; makes sense only in pyexcel&#39;s context because of pyexcel.exthook. Outside pyexcel, you probably want to use &#39;pyexcel_ods&#39;. And potentially, all pyexcel.ext.* need to converted to &#39;pyexcel_&#39;. Please give it a &#39;go&#39; as I have not done this before."}, {"owner": {"reputation": 39, "user_id": 4348954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5W0j.png?s=128&g=1", "display_name": "bobZBy", "link": "https://stackoverflow.com/users/4348954/bobzby"}, "reply_to_user": {"reputation": 4116, "user_id": 2689383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/100004839518399/picture?type=large", "display_name": "chfw", "link": "https://stackoverflow.com/users/2689383/chfw"}, "edited": false, "score": 0, "creation_date": 1428699037, "post_id": 29524661, "comment_id": 47290315, "body": "@chfw, Not sure exactly what you mean? Tried <code>import pyexcel.ext.*</code> at the head of my documents but that fails with &#39;SyntaxError: invalid syntax&#39;. The <code>pyexcel_ods</code> is listed in the <code>paths=</code> in my .spec file. Im not sure where <code>pyexcel.exthook</code> file is located? I did included <code>ezodf</code> in my <code>paths=</code> and that may have solved it? I have a new set of errors being thrown and cant be sure till I sort that out. If you have any suggestions on how to create a hook file &#39;of all the pyexcel dependency\u2019s&#39;  for pyinstaller id like to write, test it and submit it so others can benefit.  Thanks chfw"}, {"owner": {"reputation": 39, "user_id": 4348954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5W0j.png?s=128&g=1", "display_name": "bobZBy", "link": "https://stackoverflow.com/users/4348954/bobzby"}, "reply_to_user": {"reputation": 4116, "user_id": 2689383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/100004839518399/picture?type=large", "display_name": "chfw", "link": "https://stackoverflow.com/users/2689383/chfw"}, "edited": false, "score": 0, "creation_date": 1428700398, "post_id": 29524661, "comment_id": 47290925, "body": "@chfw. the error is pointing to pyexcel/io/csvbook.py? in included the <code>_compact.py</code> in my hiddenimports in the .spec file, but error persists.  File &quot;/home/thisGuy/Dropbox/python/myPy/keepLinux/build/keep/out0&zwnj;&#8203;0-PYZ.pyz/io.csvbook&zwnj;&#8203;&quot;, line 24, in &lt;module&gt; ValueError: Attempted relative import beyond toplevel package  Any ideas? As always thanks."}], "owner": {"reputation": 39, "user_id": 4348954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5W0j.png?s=128&g=1", "display_name": "bobZBy", "link": "https://stackoverflow.com/users/4348954/bobzby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1141, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428524629, "creation_date": 1428524629, "question_id": 29524661, "link": "https://stackoverflow.com/questions/29524661/pyinstaller-fails-saying-it-cant-find-pyexcel-ext-ods-but-is-included-several-ti", "title": "pyinstaller fails saying it cant find pyexcel.ext.ods but is included several times", "body": "<p>Im trying to build an executable in linux. I have built my .spec file to include everything from the warning text. I have not barely come close to a successful build. I figured I could weed out the unnecessary library's after I get a good compile. I have finally compiled without any debug errors. Thanks to installing 64 bit\n<code>sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0</code> </p>\n\n<p>When I run the program from the terminal I'm getting the an error that I should not be getting. I have included <code>pyexcel.ext.ods</code> in the spec file because it was in the warning.txt file as well as the top of my script declared as <code>import pyexcel.ext.ods</code> as well as the separate function file. The error is coming from the function file that I imported the functions from. The error is below.</p>\n\n<pre><code>LOADER: executable is /home/thisGuy/Desktop/keep/keep\nLOADER: homepath is /home/thisGuy/Desktop/keep\nLOADER: _MEIPASS2 is NULL\nLOADER: archivename is /home/thisGuy/Desktop/keep/keep\nLOADER: Extracting binaries\nLOADER: Executing self as child\nLOADER: LD_LIBRARY_PATH=/home/thisGuy/Desktop/keep\nLOADER: executable is /home/thisGuy/Desktop/keep/keep\nLOADER: homepath is /home/thisGuy/Desktop/keep\nLOADER: _MEIPASS2 is /home/thisGuy/Desktop/keep\nLOADER: archivename is /home/thisGuy/Desktop/keep/keep\nLOADER: Already in the child - running user's code.\nLOADER: Python library: /home/thisGuy/Desktop/keep/libpython2.7.so.1.0\nLOADER: Manipulating evironment\nLOADER: PYTHONPATH=/home/thisGuy/Desktop/keep\nLOADER: PYTHONHOME=/home/thisGuy/Desktop/keep\nLOADER: Manipulating Python's sys.path\nLOADER: importing modules from CArchive\nLOADER: extracted struct\nLOADER: extracted pyi_os_path\nLOADER: extracted pyi_archive\nLOADER: extracted pyi_importers\nLOADER: Installing import hooks\nLOADER: out00-PYZ.pyz\nLOADER: Running scripts\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 5, in &lt;module&gt;\n  File \"/usr/local/lib/python2.7/dist-packages/PyInstaller/loader/pyi_importers.py\", line 270, in load_module\n    exec(bytecode, module.__dict__)\n  File \"/home/thisGuy/Dropbox/python/myPy/keep/build/keep/out00-PYZ.pyz/cDTf\", line 4, in &lt;module&gt;\n  File \"/home/thisGuy/Dropbox/python/myPy/keep/build/keep/out00-PYZ.pyz/pyexcel.exthook\", line 117, in load_module\nImportError: No module named pyexcel.ext.ods\nLOADER: RC: -1 from keep\nLOADER: OK.\nLOADER: Cleaning up Python interpreter.\nLOADER: Back to parent\nLOADER: Doing cleanup\nLOADER: Freeing archive status for /home/thisGuy/Desktop/keep/keep\n</code></pre>\n\n<p>My first question is how to make the above error go away? I have included the <code>pyexcel</code> library as well as the <code>pyexcel.ext.ods</code> at the head of every file in direct not conditional <code>imports</code>\nmy spec file looks like this. I know its overkill! I know I dont need pydoc etc... But I included every warning just to be safe. </p>\n\n<pre><code># -*- mode: python -*-\na = Analysis(['keep.py'],\n             pathex=['/usr/local/lib/python2.7/dist-packages/pyexcel',\n            '/usr/local/lib/python2.7/dist-packages/pyexcel_io',\n            '/usr/local/lib/python2.7/dist-packages/pyexcel_ods',\n            '/usr/local/lib/python2.7/dist-packages/pyexcel_xls',\n            '/usr/local/lib/python2.7/dist-packages/ezodf',\n            '/home/thisGuy/Dropbox/python/myPy/keepLinux'],\n             hiddenimports=['_dummy_threading',\n            'pydoc ',\n            'bdb ',\n            'nt',\n            'nt',\n            'pyexcel.sheets.load_from_memory',\n            'pyexcel.ext.xls',\n            '_emx_link',\n            'msvcrt',\n            'collections ',\n            'pyexcel_io.DEFAULT_SHEETNAME',\n            'hashlib ',\n            'pyexcel.sheets.Matrix',\n            'pyexcel._compact ',\n            'nt',\n            'pyexcel.io.BytesIO',\n            'pyexcel_io.SheetWriter',\n            'pyexcel_io.BookReader',\n            'EasyDialogs',\n            'pyexcel.ext.ods',\n            'optik',\n            'rourl2path',\n            'pdb ',\n            'pyexcel.sheets.transpose',\n            'rourl2path',\n            'optparse ',\n            'pyexcel.sheets.Sheet',\n            'pyexcel_io.SheetReaderBase',\n            '_winreg',\n            'encodings ',\n            '_subprocess',\n            '_dummy_threading',\n            'doctest ',\n            'pyi_archive ',\n            'pyexcel.sheets.load_from_dict',\n            'pyexcel.sheets.SeriesReader',\n            'pyexcel_io.SheetReaderBase',\n            'pyexcel_io.SheetReaderBase',\n            'optik',\n            'pyi_importers ',\n            'io.StringIO',\n            'io.BytesIO',\n            'pyexcel.exthook ',\n            'org',\n            'warnings ',\n            'msvcrt',\n            'pyexcel_io.SheetWriter',\n            'tokenize ',\n            'pickle ',\n            'pyexcel_io.BookReader',\n            'pyexcel.sheets.NominableSheet',\n            'pyexcel_io.DEFAULT_SHEETNAME',\n            'pyexcel_io.NamedContent',\n            'ordereddict',\n            '_sysconfigdata_d',\n            'pyexcel.io.get_writer',\n            'pyexcel.sheets.get_sheet',\n            'pyexcel_io.BookWriter',\n            'pyexcel_io.BookWriter',\n            'pyexcel_io.BookWriter',\n            'nt',\n            'email ',\n            'cl',\n            'pyexcel.sheets.load_from_django_model',\n            'pyexcel.io.BytesIO',\n            '_scproxy',\n            '_subprocess',\n            'pyexcel.io.StringIO',\n            'pyexcel.sheets.Reader',\n            'pyexcel_io.BookWriter',\n            'EasyDialogs',\n            '_sysconfigdata_d',\n            'pyexcel_io.BookReader',\n            'pyexcel_io.SheetWriter',\n            'pkgutil ',\n            'unittest.loader ',\n            'cl',\n            'dis ',\n            'pyexcel_io.BookReader',\n            'org',\n            'ordereddict',\n            'pyexcel_io.DEFAULT_SHEETNAME',\n            'pyexcel.ext.ods',\n            'pyexcel_io.NamedContent',\n            'unittest.main ',\n            'pyexcel.sheets.ColumnSeriesReader',\n            'pyexcel_io.BookWriter',\n            'msvcrt',\n            'pyexcel.io.StringIO',\n            '__future__ ',\n            'org',\n            'dummy_threading ',\n            'ordereddict',\n            '_scproxy',\n            'msvcrt',\n            'pyexcel.sheets.load',\n            'pyexcel.ext.xls',\n            'pyexcel_io.NamedContent',\n            'cl',\n            'SOCKS',\n            'pyexcel.sheets.load_from_records',\n            'pyexcel_io.BookReader',\n            '_emx_link',\n            '_winreg',\n            'gettext ',\n            'pyexcel.io.load_file',\n            'pyexcel.sheets.load_from_sql',\n            '_winreg',\n            'ordereddict',\n            'SOCKS',\n            '_compact '],\n             hookspath=None,\n             runtime_hooks=None)\npyz = PYZ(a.pure)\nexe = EXE(pyz,\n          a.scripts,\n          exclude_binaries=True,\n          name='keep',\n          debug=False,\n          strip=None,\n          upx=True,\n          console=True )\ncoll = COLLECT(exe,\n               a.binaries,\n               a.zipfiles,\n               a.datas,\n               strip=None,\n               upx=True,\n               name='keep')\n</code></pre>\n\n<p>Any ideas for fixing my import issue?  It would seem as though I have been pretty comprehensive in my .spec file to the point of overkill. </p>\n"}, {"tags": ["python", "pygame", "sprite", "terrain"], "comments": [{"owner": {"reputation": 328, "user_id": 3586162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJoOO.jpg?s=128&g=1", "display_name": "Matt Giltaji", "link": "https://stackoverflow.com/users/3586162/matt-giltaji"}, "edited": false, "score": 0, "creation_date": 1428524609, "post_id": 29524615, "comment_id": 47203667, "body": "can you check for the collision with the rock list before you add the new rock&#39;s coordinates to the rock list?"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1428524667, "post_id": 29524615, "comment_id": 47203701, "body": "Is there a collision only if the items are at exactly the same coordinate, or do you have to check for rectangle/polygon overlap? If the latter, are all the items the same size?"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1428524775, "post_id": 29524615, "comment_id": 47203747, "body": "Closely related: <a href=\"http://stackoverflow.com/q/26815096\">Generate random non repeating samples from an array of numbers</a>"}, {"owner": {"reputation": 72, "user_id": 4752677, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/URDGH.png?s=128&g=1", "display_name": "Bagel", "link": "https://stackoverflow.com/users/4752677/bagel"}, "edited": false, "score": 0, "creation_date": 1428525545, "post_id": 29524615, "comment_id": 47204149, "body": "I&#39;m not trying to test for non-repeating points, the problem I have is that the entire rectangle can&#39;t overlap."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 1, "creation_date": 1428526267, "post_id": 29524615, "comment_id": 47204550, "body": "The general solution is still to generate a list of valid points first, then select from it, on the assumption that generation is cheaper than repeated checking. So are all the rectangles the same size?"}, {"owner": {"reputation": 72, "user_id": 4752677, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/URDGH.png?s=128&g=1", "display_name": "Bagel", "link": "https://stackoverflow.com/users/4752677/bagel"}, "edited": false, "score": 0, "creation_date": 1428526430, "post_id": 29524615, "comment_id": 47204634, "body": "They&#39;re all the same size."}, {"owner": {"reputation": 1241, "user_id": 2457474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536ec763ef7ef9f7f69f7834f6596fb9?s=128&d=identicon&r=PG", "display_name": "AMacK", "link": "https://stackoverflow.com/users/2457474/amack"}, "edited": false, "score": 0, "creation_date": 1428527122, "post_id": 29524615, "comment_id": 47204999, "body": "Can we assume 1d positions or is nd required? Asking since the coordinate generation described is 1d, but rectangular collision implies 2d."}, {"owner": {"reputation": 72, "user_id": 4752677, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/URDGH.png?s=128&g=1", "display_name": "Bagel", "link": "https://stackoverflow.com/users/4752677/bagel"}, "edited": false, "score": 0, "creation_date": 1428527343, "post_id": 29524615, "comment_id": 47205100, "body": "Since it&#39;s rectangular, it uses 2D, not 1D."}], "answers": [{"comments": [{"owner": {"reputation": 72, "user_id": 4752677, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/URDGH.png?s=128&g=1", "display_name": "Bagel", "link": "https://stackoverflow.com/users/4752677/bagel"}, "edited": false, "score": 0, "creation_date": 1428593121, "post_id": 29542333, "comment_id": 47236964, "body": "I completely understand what you&#39;re trying to say. Originally, I was meaning to implement a tile map for the game, and I still can, but only for rocks and terrain such as sand. I&#39;ll definitely try the idea to see if it works instead of what I have so far."}], "tags": [], "owner": {"reputation": 242, "user_id": 4766685, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1b67f35944bf4b7e5f1c1169c57fc5c8?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro H. Forli", "link": "https://stackoverflow.com/users/4766685/pedro-h-forli"}, "is_accepted": true, "score": 1, "last_activity_date": 1428592252, "creation_date": 1428592252, "answer_id": 29542333, "question_id": 29524615, "link": "https://stackoverflow.com/questions/29524615/pygame-random-terrain-spawning/29542333#29542333", "title": "Pygame Random Terrain Spawning", "body": "<p>Well, I guess there are a few ways you can approach this problem:</p>\n\n<p>1) The first would be the one you already used, you would check for collisions each time you generate a rock and if a collision exist you would regenerate a position for the given rock</p>\n\n<p>2) The second one would be to slice your \"field\" into rectangles of the size of the rock, just like a tilemap, therefore creating a list of possible positions, something like this:</p>\n\n<pre><code>possible_positions = [(i, j) for i in range(x_size_field//x_size_rock) for j in range(y_size_field//y_size_rock)]\nfor i in range(n_of_rocks):\n    rock_pos = random.choice(possible_positions)\n    possible_positions.remove(rock_pos)\n</code></pre>\n\n<p>But this approach would implicate in a given set of possible positions that make a \"uniform\" rock distribution</p>\n\n<p>3) So if its really necessary to make put the rocks on absolute random positions you could create a list of possible positions like the following:</p>\n\n<pre><code>possible_positions = [[(i, j) for j in range(y_size_field-y_size_rock)] for i in range(x_size_field-x_size_rock)]\nfor i in range(n_of_rocks):\n    # X and Y represente positions on the list not on the field\n    x = random.randint(0, len(possible_positions))\n    y = random.randint(0, len(possible_positions[x]))\n\n    # The rock positions\n    rock_pos = possible_positions[x][y]\n\n    # Now we remove the positions on the region of the new rock\n    for i in range(x,x+x_size_rock):\n        possible_positions[i] = possible_positions[i][0:y] + possible_positions[i][y+y_size_rock:-1]\n\n    if [] in possible_positions:\n        possible_positions.remove([])\n</code></pre>\n\n<p>Of course this code may generate errors (its a rather simple code) and it needs some optimizations, but i think you may get the general ideia from this.</p>\n\n<p>Sorry about my english</p>\n"}], "owner": {"reputation": 72, "user_id": 4752677, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/URDGH.png?s=128&g=1", "display_name": "Bagel", "link": "https://stackoverflow.com/users/4752677/bagel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 29542333, "answer_count": 1, "score": 0, "last_activity_date": 1428592252, "creation_date": 1428524508, "last_edit_date": 1428525102, "question_id": 29524615, "link": "https://stackoverflow.com/questions/29524615/pygame-random-terrain-spawning", "title": "Pygame Random Terrain Spawning", "body": "<p>I'm trying to create a game in which 100 rocks are scattered through a large series of coordinates randomly. The problem is that sometimes the rocks may overlap each other. The solution I came up with was to check if the rocks overlap each other, and if they do, create new randomly generate coordinates for the rock again and again until it collides with nothing. I'm not entirely sure how to do this; I've tried detecting collision between the rock and the rock list, but all that ends up happening is that it thinks that it collides with itself and always returns as True. The <code>__init__</code> function generates the coordinates with <code>random.randint(-2500,2500)</code>. When the rocks are created in the for loop, each rock is added to the list. In the update function it checks for rectangular collision between the rocks. How can I fix this? Thanks, an answer would be much appreciated. Ask me if you need more information.</p>\n"}, {"tags": ["python", "regex", "subprocess"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1428526462, "post_id": 29524604, "comment_id": 47204649, "body": "Without input string it is difficult to help you."}, {"owner": {"reputation": 1, "user_id": 1369615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d606db14b5c209b460cb34ee81c1fb?s=128&d=identicon&r=PG", "display_name": "user1369615", "link": "https://stackoverflow.com/users/1369615/user1369615"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1428530512, "post_id": 29524604, "comment_id": 47206669, "body": "Well, the output string is what bs1770gain puts out. It prints that on the console or to a file. So that output is ...well... my input ...to put it that way"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1428532724, "post_id": 29524604, "comment_id": 47207545, "body": "it is because there is a linefeed after <code>done.</code> so the <code>$</code> anchor makes the pattern fail."}, {"owner": {"reputation": 1, "user_id": 1369615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d606db14b5c209b460cb34ee81c1fb?s=128&d=identicon&r=PG", "display_name": "user1369615", "link": "https://stackoverflow.com/users/1369615/user1369615"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1428559283, "post_id": 29524604, "comment_id": 47215196, "body": "That popped in my head at 5 in the morning in my sleep. Thanks Casimir et Hippolyte. So I changed the  <code>$</code> in <code>\\s</code> and it works...So SOLVED"}], "owner": {"reputation": 1, "user_id": 1369615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d606db14b5c209b460cb34ee81c1fb?s=128&d=identicon&r=PG", "display_name": "user1369615", "link": "https://stackoverflow.com/users/1369615/user1369615"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428524470, "creation_date": 1428524470, "question_id": 29524604, "link": "https://stackoverflow.com/questions/29524604/python-regex-doesnt-grab-the-last-part-of-a-text", "title": "python: regex doesn&#39;t grab the last part of a text", "body": "<p>Python 2.7.9 (default, Dec 10 2014, 12:24:55) [MSC v.1500 32 bit (Intel)] on win\n32.</p>\n\n<p>I got this code to test ...\nIt parses the output from a proces bs1770gain and I need all the little pieces of it...I tried with subprocess.call, the popen and pipe, check_output... I get the results but then strange things happen with the regex... hittin a wall...\nSo...</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport re\nimport subprocess\n#from subprocess import Popen, PIPE\n\n#p = Popen(['bs1770gain','C:\\\\Users\\\\myrthe\\\\Music\\\\', '-file '],stdin=PIPE, stdout=PIPE, stderr=PIPE)\n#output, err = p.communicate(b\"input data that is passed to subprocess' stdin\")\n#inputtexts = p.returncode\nregex = re.compile(ur'(\\s{2,2}\\[\\d+\\/\\d+\\].*?|\\[ALBUM\\].*?)(?=\\s{2,2}\\[\\d+\\/\\d+\\]|\\s{2,2}\\[ALBUM\\]:|done\\.$)', re.DOTALL | re.UNICODE)\n#inputtext = open(r'C:\\Users\\myrthe\\Music\\2014 - 1989\\result.txt')\n#print(inputtext.read())\n#inputtexts = subprocess.call(['bs1770gain','C:\\\\Users\\\\myrthe\\\\Music\\\\'])\noutput =  subprocess.check_output(['bs1770gain','C:\\\\Users\\\\myrthe\\\\Music\\\\'])\nprint (output)\nresults = re.findall(regex, output)\nfor r in results:\n    print('=======result====')\n    print(r)\n\nprint (output)\n</code></pre>\n\n<p>this is what I get back from output... some small strange things but everything is there as we see after the regex</p>\n\n<pre><code>analyzing \"2014 - 1989\" ...\n  [1/19] \"01. Welcome To New York.mp3\":\n      integrated:  -7.9 LUFS / -15.1 LU\n  [2/19] \"02. Blank Spac        4%\n      integrated:  -8.3 LUFS / -14.7 LU\n  [3/19] \"03. Style.mp\n      integrated:  -7.5 LUFS / -15.5 LU\n  [4/19] \"04. Out Of The Woods.mp\n      integrated:  -9.1 LUFS / -13.9 LU\n  [5/19] \"05. All You Had To Do Was Stay.mp3\":\n      integrated:  -7.8 LUFS / -15.2 LU\n  [6/19] \"06. Shake It Of        2%\n      integrated:  -8.2 LUFS / -14.8 LU\n  [7/19] \"07. I Wish You Would.mp3\":\n      integrated:  -8.4 LUFS / -14.6 LU\n  [8/19] \"08. Bad Blood.mp3\":\n      integrated:  -8.8 LUFS / -14.2 LU\n  [9/19] \"09. Wildest Dreams.mp3\"\n      integrated:  -9.9 LUFS / -13.1 LU\n  [10/19] \"10. How You Get The Girl.mp3\":\n      integrated:  -8.4 LUFS / -14.6 LU\n  [11/19] \"11. This Love.mp\n      integrated:  -9.0 LUFS / -14.0 LU\n  [12/19] \"12. I Know Places.mp\n      integrated:  -7.8 LUFS / -15.2 LU\n  [13/19] \"13. Clean.mp3\":\n      integrated:  -9.9 LUFS / -13.1 LU\n  [14/19] \"14. Wonderland.mp3\":\n      integrated:  -8.2 LUFS / -14.8 LU\n  [15/19] \"15. You Are In Love.mp\n      integrated:  -10.7 LUFS / -12.3 LU\n  [16/19] \"16. New Romantics.\n      integrated:  -7.8 LUFS / -15.2 LU\n  [17/19] \"17. I Know Places (Voice Memo        1%\n      integrated:  -19.4 LUFS / -3.6 LU\n  [18/19] \"18. I Wish You Would (Voice Memo).mp3\":\n      integrated:  -18.4 LUFS / -4.6 LU\n  [19/19] \"19. Blank Space (Voice Memo        4%\n      integrated:  -17.9 LUFS / -5.1 LU\n  [ALBUM]:\n      integrated:  -9.2 LUFS / -13.8 LU\ndone.\n</code></pre>\n\n<p>and this is the last part of the results after regex. Everything is there it seems...</p>\n\n<pre><code>=======result====\n  [16/19] \"16. New Romantics.mp3\":\n      integrated:  -7.8 LUFS / -15.2 LU\n\n=======result====\n  [17/19] \"17. I Know Places (Voice Memo).mp3\":\n      integrated:  -19.4 LUFS / -3.6 LU\n\n=======result====\n  [18/19] \"18. I Wish You Would (Voice Memo).mp3\":\n      integrated:  -18.4 LUFS / -4.6 LU\n\n=======result====\n  [19/19] \"19. Blank Space (Voice Memo).mp3\":\n      integrated:  -17.9 LUFS / -5.1 LU\n</code></pre>\n\n<p>Except..And there is the problem, I do not for the life of me get that [ALBUM] in my results. I tried the regex on onlinecheckers with the output to a text file, tried the regex on this machine with the output in a textfile... It gives what I want. I use the same regex on my linux machine and I get the results I want. But straight this way... I just don't get that last [ALBUM].\nSo if any of you people can shed some light on this or put me on the right path, I'd really appreciate it.</p>\n"}, {"tags": ["python", "django", "google-app-engine", "google-cloud-storage", "blobstore"], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 1514970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23799bd742d4058b8e8d967d0115bd7d?s=128&d=identicon&r=PG", "display_name": "buildc0de", "link": "https://stackoverflow.com/users/1514970/buildc0de"}, "is_accepted": false, "score": 0, "last_activity_date": 1433004398, "creation_date": 1433004398, "answer_id": 30548734, "question_id": 29524569, "link": "https://stackoverflow.com/questions/29524569/using-the-blobstore-api-with-google-cloud-storage-http-404-error-message/30548734#30548734", "title": "Using the Blobstore API with Google Cloud Storage - http 404 error message", "body": "<p>I just ran into this as well and came up with a quick workaround:</p>\n\n<pre><code>from google.appengine.api.blobstore import BlobNotFoundError\n\n..\n\n    try:\n        blobstore.BlobReader(blob_key).read(1)\n    except BlobNotFoundError:\n        logging.info('BlobNotFoundError')\n        self.abort(404)\n</code></pre>\n\n<p>Does feel a bit hackish, so if anybody finds a better way, I would love to hear about it!</p>\n"}], "owner": {"reputation": 115, "user_id": 2690151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4305faa63b169be0c1993326c3c554c?s=128&d=identicon&r=PG&f=1", "display_name": "user2690151", "link": "https://stackoverflow.com/users/2690151/user2690151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433004398, "creation_date": 1428524366, "last_edit_date": 1428699398, "question_id": 29524569, "link": "https://stackoverflow.com/questions/29524569/using-the-blobstore-api-with-google-cloud-storage-http-404-error-message", "title": "Using the Blobstore API with Google Cloud Storage - http 404 error message", "body": "<p>Today if an url is incorrect, users get this display from my appengine instance: </p>\n\n<pre><code>Error: Server Error\n\nThe server encountered an error and could not complete your request.\nPlease try again in 30 seconds.\n</code></pre>\n\n<p>I found this <a href=\"http://nullege.com/codes/show/src%40t%40e%40tendenci-5.1.333%40tendenci%40core%40base%40static%40jqueryupload%40server%40gae-python%40main.py/141/google.appengine.ext.webapp.blobstore_handlers.BlobstoreDownloadHandler.send_blob/python\" rel=\"nofollow\">reference</a> on how to address with a proper 404 message using the blobstore.get, but unfortunately it's not working. I figured out why. The bkey always returns some value, so it will always think \"its not a invalid bkey\". What I'm trying to figure out is how to write the code in the case that the bkey is invalid. Below is my code: </p>\n\n<pre><code>gs_filename = '/gs/%s/%s' % (settings.BUCKET, filename)\nbkey = blobstore.create_gs_key(gs_filename)\n\nif not blobstore.get(key):\n   logging.info(\"I got a 404 error'\")\nelse:\n  return blobstore_dh.send_blob(bkey, content_type=ct)\n</code></pre>\n\n<p>Does anyone have any suggestions?</p>\n"}, {"tags": ["python", "django", "heroku"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1428524133, "post_id": 29524424, "comment_id": 47203419, "body": "I don&#39;t see what&#39;s confusing you. Heroku is a server where you can host your site. You can&#39;t run a production website off your laptop, after all."}, {"owner": {"reputation": 2458, "user_id": 2793221, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UpzVs.png?s=128&g=1", "display_name": "shenk", "link": "https://stackoverflow.com/users/2793221/shenk"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1428529547, "post_id": 29524424, "comment_id": 47206189, "body": "What confuses me is whether or not to use heroku in production rather than  just using the runserver command.  Which is better to use?"}, {"owner": {"reputation": 2458, "user_id": 2793221, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UpzVs.png?s=128&g=1", "display_name": "shenk", "link": "https://stackoverflow.com/users/2793221/shenk"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1428529635, "post_id": 29524424, "comment_id": 47206230, "body": "Also when i used heroku they gave me a subdomain at herokuapps.com  Can I set my own URL and still use heroku?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1428530603, "post_id": 29524424, "comment_id": 47206711, "body": "But that question about runserver makes no sense at all. How could you use runserver - running on your own laptop - for production?"}], "answers": [{"comments": [{"owner": {"reputation": 2458, "user_id": 2793221, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UpzVs.png?s=128&g=1", "display_name": "shenk", "link": "https://stackoverflow.com/users/2793221/shenk"}, "edited": false, "score": 0, "creation_date": 1428529597, "post_id": 29525589, "comment_id": 47206211, "body": "Just a question, styling the django site. Do i do this with just CSS?  Is JS involved at all?  I would guess no since we have Python as scripting language"}, {"owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "reply_to_user": {"reputation": 2458, "user_id": 2793221, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UpzVs.png?s=128&g=1", "display_name": "shenk", "link": "https://stackoverflow.com/users/2793221/shenk"}, "edited": false, "score": 0, "creation_date": 1428530057, "post_id": 29525589, "comment_id": 47206447, "body": "You&#39;re still building a webapp, python is just your backend language. It can help render a lot of what you want but with anything that is user friendly javascript helps alot. Remember to keep everything organized!"}, {"owner": {"reputation": 2458, "user_id": 2793221, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UpzVs.png?s=128&g=1", "display_name": "shenk", "link": "https://stackoverflow.com/users/2793221/shenk"}, "edited": false, "score": 0, "creation_date": 1428540807, "post_id": 29525589, "comment_id": 47209851, "body": "Ill accept the answer if you can answer my final question:  whats the diff between doinbg python manage.py runserver and heroku ps:scale web=1 followed by heroku open ?  in production which would you use ?"}, {"owner": {"reputation": 2458, "user_id": 2793221, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UpzVs.png?s=128&g=1", "display_name": "shenk", "link": "https://stackoverflow.com/users/2793221/shenk"}, "edited": false, "score": 0, "creation_date": 1428540845, "post_id": 29525589, "comment_id": 47209862, "body": "And last but not least, heroku makes you register and gives you a subdomain on herokuapp.com  Is there a way to use heroku with your own domain rather than the one they give you?  Is there a specific way to do it?"}, {"owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "reply_to_user": {"reputation": 2458, "user_id": 2793221, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UpzVs.png?s=128&g=1", "display_name": "shenk", "link": "https://stackoverflow.com/users/2793221/shenk"}, "edited": false, "score": 0, "creation_date": 1428543269, "post_id": 29525589, "comment_id": 47210561, "body": "Ok so the main difference is that you have a subdomain to test with, take Facebook authentication for instance you can&#39;t test it locally anymore. In production I would rather have my own domain and AWS since scaling heroku is pretty expensive. Runserver is a testing server by django which they say isn&#39;t meant for production. Also you can buy a domain from namecheap or such and use with a heroku deployment. Like I said i recommend amazon ec2 over heroku for production due to costs but that&#39;s an opinion."}], "tags": [], "owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "is_accepted": false, "score": 1, "last_activity_date": 1428528156, "creation_date": 1428528156, "answer_id": 29525589, "question_id": 29524424, "link": "https://stackoverflow.com/questions/29524424/usage-of-heroku-with-django/29525589#29525589", "title": "Usage of Heroku with Django", "body": "<p>psycopg2 is for postgresql usage with your  app. White noise allows you to serve your staticfiles without nginx if using gunicorn. Requests is an easy to use urllib2 library with pythonic calls to work with apis from other websites.</p>\n\n<p>If you want to do some testing with say facebook logins Heroku is a great place to go to, especially if you need a url outside of localhost.</p>\n\n<p>My suggestion is you read Two scoops of Django <a href=\"http://twoscoopspress.org/products/two-scoops-of-django-1-6\" rel=\"nofollow\">http://twoscoopspress.org/products/two-scoops-of-django-1-6</a></p>\n\n<p>It goes over alot of best practices and serves as a great tutorial after polls. I suggest also incorporating django-bower into your project. Ill list a few great things to add.</p>\n\n<p>Django Bower: <a href=\"https://github.com/nvbn/django-bower\" rel=\"nofollow\">https://github.com/nvbn/django-bower</a> - Helps organize static files</p>\n\n<p>Crispy Forms : <a href=\"https://github.com/maraujop/django-crispy-forms\" rel=\"nofollow\">https://github.com/maraujop/django-crispy-forms</a> - Great form rendering, great with bootstrap</p>\n\n<p>Django Rest Framework: <a href=\"https://github.com/tomchristie/django-rest-framework\" rel=\"nofollow\">https://github.com/tomchristie/django-rest-framework</a> - REST APIs</p>\n\n<p>These are just to start, there's alot to learn. </p>\n"}, {"tags": [], "owner": {"reputation": 1594, "user_id": 2549659, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/116f584fc332ad54cffabed79f8ba35b?s=128&d=identicon&r=PG", "display_name": "t_io", "link": "https://stackoverflow.com/users/2549659/t-io"}, "is_accepted": true, "score": 2, "last_activity_date": 1435425067, "last_edit_date": 1435425067, "creation_date": 1428565645, "answer_id": 29532745, "question_id": 29524424, "link": "https://stackoverflow.com/questions/29524424/usage-of-heroku-with-django/29532745#29532745", "title": "Usage of Heroku with Django", "body": "<ol>\n<li><code>python manage.py runserver</code> is only for development. Never use it in production.</li>\n<li><strong>Heroku</strong> makes it super easy to deploy your Django code. You only need some configs and <code>git push heroku master</code>. But it's not the only way to deploy your code. You can also set up a server with a webserver like Nginx, Gunicorn as WSGI server, and a database of your choice. To set things up, you need to know something about Linux and the command line. </li>\n<li>So if you don't know how to set up a server, Heroku can be very useful.</li>\n<li><a href=\"https://devcenter.heroku.com/articles/custom-domains\" rel=\"nofollow\">Heroku supports custom domains</a>, and it's easy to set up.</li>\n<li>As Mikeec3 mentioned, <a href=\"http://twoscoopspress.org/products/two-scoops-of-django-1-6\" rel=\"nofollow\">\"Two Scoops of Django\"</a> is a very good read.</li>\n<li>If you are looking for django packages, <a href=\"https://www.djangopackages.com/\" rel=\"nofollow\">www.djangopackages.com</a> is a good place to start.</li>\n</ol>\n"}], "owner": {"reputation": 2458, "user_id": 2793221, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UpzVs.png?s=128&g=1", "display_name": "shenk", "link": "https://stackoverflow.com/users/2793221/shenk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 1, "accepted_answer_id": 29532745, "answer_count": 2, "score": 1, "last_activity_date": 1435425067, "creation_date": 1428523856, "last_edit_date": 1428543761, "question_id": 29524424, "link": "https://stackoverflow.com/questions/29524424/usage-of-heroku-with-django", "title": "Usage of Heroku with Django", "body": "<p>I'm currently learning Django and getting a decent grasp of it.   I know you can start the server with python manage.py runserver.  But then there is also heroku ps:scale web=1 followed by heroku open to open the web page at the subdomain you chose on the host herokuapp.com.  What is the point of using heroku vs just runserver?  When it comes time to deploy to production is that what heroku is used for as I read it was for deployment?  What is exactly is heroku used for and what are the reasons?  When creating a professional django web site/application is heroku required or just very useful?  If so why?  I don't really understand the reason for using heroku.  And I'm curious what the best practices are for django and whether they include using or not using heroku.</p>\n\n<p>Aside from the heroku question, what are the best practices for django as far as setting a domain name and such (other than the herokuapp.com subdomain name) and also as far as what other components/software solutions are worth using with django?</p>\n\n<p>One of the things I'm working on is an FTP portal on the website that people can login to and upload files.  Does django have plugins/python modules for such a thing or must it be done custom?  Which brings me to my final question, What kind of addons/modules does django offer to avoid reinventing the wheel when implementing a django website/app's certain features?</p>\n\n<p>The tutorial I'm following: <a href=\"http://tutorial.djangogirls.org/en/django_orm/README.html\" rel=\"nofollow\">http://tutorial.djangogirls.org/en/django_orm/README.html</a></p>\n\n<p>has helped me get a grasp on django, but I'm  curious about the more advanced parts of it.  Such as custom modules, custom styling, custom scripts (whether they are js or strictly python).</p>\n\n<p>If someone could point me in the right direction or offer any suggestions it would be much appreciated.  The tutorial has me using the modules: dj-database-url, whitenoise, gunicorn, python-dateutil, psycopg2                                                 , requests.  I know what some of them do, but what is the purpose of psycopg2, whitenoise, dateutil, and dj-database,url?  Are there any other modules worth using? </p>\n\n<p>Sorry for the wall of questions, but I'm trying to understand django as best I can so that I can do a correct assessment when putting together a django project.</p>\n\n<p>Thanks in advance.</p>\n\n<p>EDIT, final questions:</p>\n\n<p>1) Also when i used heroku they gave me a subdomain at herokuapps.com Can I set my own URL and still use heroku? </p>\n\n<p>2) And last but not least, heroku makes you register and gives you a subdomain on herokuapp.com Is there a way to use heroku with your own domain rather than the one they give you? Is there a specific way to do it?</p>\n\n<p>EDIT 2:</p>\n\n<p>When I do runserver it works fine, but when i run it with heroku  ps:scale web=1 and then heroku open it opens but only shows the title at the top of the page, and no content.  Not sure exactly why that is.  Can someone explain the difference between runserver and heroku ps:scale web=1 followed by heroku open??</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1428526207, "post_id": 29524390, "comment_id": 47204510, "body": "you need to look for a view function called <code>load_if_static_page</code> in the <code>main.site_views.static_views</code> module."}, {"owner": {"reputation": 65, "user_id": 2745898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c56d51f589cbb45364d4bc48d4fef22?s=128&d=identicon&r=PG&f=1", "display_name": "wyx2000", "link": "https://stackoverflow.com/users/2745898/wyx2000"}, "reply_to_user": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1428541695, "post_id": 29524390, "comment_id": 47210115, "body": "yes, I checked it, it seems the url has changed to /search/?item=... before it reachs the view function"}, {"owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "edited": false, "score": 0, "creation_date": 1428541744, "post_id": 29524390, "comment_id": 47210135, "body": "Hmm. Not sure without seeing more of the code."}], "owner": {"reputation": 65, "user_id": 2745898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c56d51f589cbb45364d4bc48d4fef22?s=128&d=identicon&r=PG&f=1", "display_name": "wyx2000", "link": "https://stackoverflow.com/users/2745898/wyx2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1428523825, "creation_date": 1428523716, "last_edit_date": 1428523825, "question_id": 29524390, "link": "https://stackoverflow.com/questions/29524390/how-can-i-figure-out-where-set-django-to-do-redirect-like-this", "title": "How can I figure out where set Django to do redirect like this?", "body": "<p>I am new to django, learned a bit, but now I could not figure out what makes the code to do redirect like this:</p>\n\n<p>In urls.py, the only line is </p>\n\n<pre><code>urlpatterns = patterns('main.site_views.static_views',\n    url(r'^(?P&lt;full_uri&gt;[\\w\\/\\-]+)/$', 'load_if_static_page', name='load-if-static-page'),\n)\n</code></pre>\n\n<p>so I assume localhost:8000/testtest/ will go to the load_if_static_page, but instead, I got</p>\n\n<pre><code>Page not found (404)\n\nRequest Method:\nGET \n\nRequest URL:\nhttps://localhost:8000/search/?item=testest/\n</code></pre>\n\n<p>so it seems some setting redirect the page to /search/, but I have no clue where to find it, any idea where should I check?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "pandas", "statistics", "statsmodels", "hypothesis-test"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4730538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0abc51862dc38612058cd7dbb2070d5a?s=128&d=identicon&r=PG&f=1", "display_name": "Guerre", "link": "https://stackoverflow.com/users/4730538/guerre"}, "edited": false, "score": 0, "creation_date": 1428637090, "post_id": 29534853, "comment_id": 47257006, "body": "Yes, that appears to do it! Thanks."}], "tags": [], "owner": {"reputation": 3364, "user_id": 3519000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8UkXR.jpg?s=128&g=1", "display_name": "lrnzcig", "link": "https://stackoverflow.com/users/3519000/lrnzcig"}, "is_accepted": true, "score": 1, "last_activity_date": 1428582526, "last_edit_date": 1428582526, "creation_date": 1428572107, "answer_id": 29534853, "question_id": 29524360, "link": "https://stackoverflow.com/questions/29524360/transforming-a-dataframe-for-statsmodels-t-test/29534853#29534853", "title": "Transforming a Dataframe for statsmodels t-test", "body": "<p>I think the simplest way is to do it like this:</p>\n\n<pre><code>ttest_ind(df[df['Treatment'] == 'a']['Performance'], df[df['Treatment'] == 'b']['Performance'])\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 45, "user_id": 4730538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0abc51862dc38612058cd7dbb2070d5a?s=128&d=identicon&r=PG&f=1", "display_name": "Guerre", "link": "https://stackoverflow.com/users/4730538/guerre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 29534853, "answer_count": 1, "score": 1, "last_activity_date": 1436367401, "creation_date": 1428523613, "last_edit_date": 1436367401, "question_id": 29524360, "link": "https://stackoverflow.com/questions/29524360/transforming-a-dataframe-for-statsmodels-t-test", "title": "Transforming a Dataframe for statsmodels t-test", "body": "<p>I'm trying to run a t-test in pandas/statsmodels to compare differences in performance between two groups, but I'm having difficulty formatting the data in a way that statsmodels can use (in a reasonable way).</p>\n\n<p>My pandas dataframe currently looks like this:</p>\n\n<pre><code>Treatment      Performance\na              2\nb              3\na              2\na              1\nb              0\n</code></pre>\n\n<p>And it's my understanding that to perform a t-test I need the data organized by treatment, like so:</p>\n\n<pre><code>TreatmentA    TreatmentB\n2             3\n2             0\n1\n</code></pre>\n\n<p>This code almost does the trick:</p>\n\n<pre><code>cat1 = df.groupby('Treatment', as_index=False).groups['a']\ncat2 = df.groupby('Treatment', as_index=False).groups['b']\nprint(ttest_ind(cat1, cat2))\n</code></pre>\n\n<p>But when I print, it looks like it's pulling the indices where that treatment occurred instead of the performance values:</p>\n\n<pre><code>print(cat1)\n[0, 2, 4, 5, 9, 10, 11, 16, 18,...131, 133, 142, 147, 152, 153, 156, 157, 158]\n</code></pre>\n\n<p>It [maybe?] needs to be something more like this:</p>\n\n<pre><code>print(cat1)\n[2, 2, 1, ...0, 3, 1, 1, 0, 2, 0, 0, 0]\n</code></pre>\n\n<p>What is the best way to convert this dataframe into a format that I can perform t-tests on?</p>\n"}, {"tags": ["python", "https", "proxy"], "comments": [{"owner": {"reputation": 15950, "user_id": 324978, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9a271d8f6946301fa1f0c0fc4c7b9f14?s=128&d=identicon&r=PG", "display_name": "robbrit", "link": "https://stackoverflow.com/users/324978/robbrit"}, "edited": false, "score": 0, "creation_date": 1428524253, "post_id": 29524307, "comment_id": 47203482, "body": "Looks like you&#39;re connecting to something that doesn&#39;t want connections. Are your proxy configuration settings (username/password/port/etc.) correct?"}, {"owner": {"reputation": 29, "user_id": 4756071, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RcAh4.jpg?s=128&g=1", "display_name": "PrincessPinkBunnyPants", "link": "https://stackoverflow.com/users/4756071/princesspinkbunnypants"}, "reply_to_user": {"reputation": 15950, "user_id": 324978, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9a271d8f6946301fa1f0c0fc4c7b9f14?s=128&d=identicon&r=PG", "display_name": "robbrit", "link": "https://stackoverflow.com/users/324978/robbrit"}, "edited": false, "score": 0, "creation_date": 1428528328, "post_id": 29524307, "comment_id": 47205583, "body": "i didnt add a username/password yet do i need to first? i was just trying to see if i could access the page first. Please forgive for me being stupid"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4756071, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RcAh4.jpg?s=128&g=1", "display_name": "PrincessPinkBunnyPants", "link": "https://stackoverflow.com/users/4756071/princesspinkbunnypants"}, "edited": false, "score": 0, "creation_date": 1428527803, "post_id": 29524519, "comment_id": 47205307, "body": "i tried that but in python 3.4 i dont think there is a request import. Correct me if i am wrong. i tried it and still got an error ."}, {"owner": {"reputation": 6400, "user_id": 786593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ca3156e5785370494410fc80f28a79?s=128&d=identicon&r=PG", "display_name": "wp-overwatch.com", "link": "https://stackoverflow.com/users/786593/wp-overwatch-com"}, "reply_to_user": {"reputation": 29, "user_id": 4756071, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RcAh4.jpg?s=128&g=1", "display_name": "PrincessPinkBunnyPants", "link": "https://stackoverflow.com/users/4756071/princesspinkbunnypants"}, "edited": false, "score": 0, "creation_date": 1428528366, "post_id": 29524519, "comment_id": 47205598, "body": "It&#39;s a third party module which means it doesn&#39;t come installed with Python. In a command prompt run <code>pip install requests</code>. You&#39;ll then be able to use the requests module."}, {"owner": {"reputation": 6400, "user_id": 786593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ca3156e5785370494410fc80f28a79?s=128&d=identicon&r=PG", "display_name": "wp-overwatch.com", "link": "https://stackoverflow.com/users/786593/wp-overwatch-com"}, "reply_to_user": {"reputation": 29, "user_id": 4756071, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RcAh4.jpg?s=128&g=1", "display_name": "PrincessPinkBunnyPants", "link": "https://stackoverflow.com/users/4756071/princesspinkbunnypants"}, "edited": false, "score": 0, "creation_date": 1428529517, "post_id": 29524519, "comment_id": 47206171, "body": "Glad to have been able to help."}], "tags": [], "owner": {"reputation": 6400, "user_id": 786593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ca3156e5785370494410fc80f28a79?s=128&d=identicon&r=PG", "display_name": "wp-overwatch.com", "link": "https://stackoverflow.com/users/786593/wp-overwatch-com"}, "is_accepted": true, "score": 2, "last_activity_date": 1428528533, "last_edit_date": 1428528533, "creation_date": 1428524205, "answer_id": 29524519, "question_id": 29524307, "link": "https://stackoverflow.com/questions/29524307/how-do-you-access-a-https-webpage-with-python-3-4-by-proxy/29524519#29524519", "title": "How do you access a HTTPS webpage with Python 3.4 by Proxy", "body": "<p>If you can use third party modules, here is an easy solution with the requests module.</p>\n\n<pre><code>import requests\n\nproxies = {\n  \"http\": \"http://proxyName:proxyNumber\"\n}\n\nrequests.get(\"https://salesforce.com\", proxies=proxies, auth=('user', 'pass'))\n</code></pre>\n\n<p>adapted from <a href=\"http://docs.python-requests.org/en/latest/user/advanced/#proxies\" rel=\"nofollow\">http://docs.python-requests.org/en/latest/user/advanced/#proxies</a></p>\n"}], "owner": {"reputation": 29, "user_id": 4756071, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RcAh4.jpg?s=128&g=1", "display_name": "PrincessPinkBunnyPants", "link": "https://stackoverflow.com/users/4756071/princesspinkbunnypants"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1234, "favorite_count": 0, "accepted_answer_id": 29524519, "answer_count": 1, "score": 1, "last_activity_date": 1428529636, "creation_date": 1428523406, "last_edit_date": 1428529636, "question_id": 29524307, "link": "https://stackoverflow.com/questions/29524307/how-do-you-access-a-https-webpage-with-python-3-4-by-proxy", "title": "How do you access a HTTPS webpage with Python 3.4 by Proxy", "body": "<p>I am trying to access a HTTPS webpage that has a login. I can't access it no matter what i do. here is the code i tried below.</p>\n\n<pre><code>import urllib.request\nfrom bs4 import BeautifulSoup\n\nproxy = urllib.request.ProxyHandler({'http':'http://proxyName:proxyNumber'})\nopener = urllib.request.build_opener(proxy)\nurllib.request.install_opener(opener)\nresponse = urllib.request.urlopen('https://salesforce.com')\ndatum = response.read()\n#.decode(\"UTF-8\")\n#response.close()\nprint(datum)\n</code></pre>\n\n<p>here is the ERROR</p>\n\n<pre><code>File S:\\...py\" line 8 in module\nreponse = urllib.request.urlopen(\"https://salesforce.com)\nurllib.error.URLError:(urlopen error [WinError 10061] No connection could be made because the target machine actively refused it)\n</code></pre>\n\n<p>Please help</p>\n\n<p>here is another try with new error. I feel like im getting close!</p>\n\n<pre><code>import urllib.request\nproxies = {'https': 'http://proxyName:ProxyNumber'}\nopener = urllib.request.build_opener(proxies)\n\n#urllib.request.get(\"https://login.salesforce.com/\", proxies=proxies)\nurllib.request.install_opener(opener)\nresponse = urllib.request.urlopen(\"https://login.salesforce.com/\", proxies=proxies)\n</code></pre>\n\n<p>Here is the Error message:</p>\n\n<pre><code>File S:/...py, line 6 in (module)\nurllib.request.build_opener(proxies)\nTypeError:expected BaseHandler instance, got (class 'dict)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1428522954, "post_id": 29524190, "comment_id": 47202735, "body": "My bet is on <code>list(elems)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2555451"}, "edited": false, "score": 1, "creation_date": 1428523034, "post_id": 29524190, "comment_id": 47202783, "body": "Do you really need a list?  When you have that much data, it is usually best to work with generators and lazy evaluation in mind."}, {"owner": {"reputation": 191, "user_id": 972396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AW2ha.jpg?s=128&g=1", "display_name": "roxan", "link": "https://stackoverflow.com/users/972396/roxan"}, "edited": false, "score": 0, "creation_date": 1428523041, "post_id": 29524190, "comment_id": 47202790, "body": "There is also l = elems[:]"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1428523021, "answer_count": 0, "score": 0, "last_activity_date": 1428523012, "creation_date": 1428522927, "last_edit_date": 1428523012, "question_id": 29524190, "link": "https://stackoverflow.com/questions/29524190/fastest-way-to-build-a-list", "closed_reason": "Duplicate", "title": "Fastest way to build a list", "body": "<p>What would be the fastest way to build a list of 1M elements? So far, what I am doing is the 'standard'</p>\n\n<pre><code>l = []\nfor elem in elems:\n    # process xml element to get id\n    l.append(id)\n</code></pre>\n\n<p>What would be the most performant way to do this?        </p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428522839, "post_id": 29524117, "comment_id": 47202652, "body": "Are you sure you&#39;re running <code>setup.py</code> with the same interpreter you&#39;re trying to <code>import</code> into?"}, {"owner": {"reputation": 1284, "user_id": 3889006, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eef61d4e5c2c2b4deb071d281b7af84d?s=128&d=identicon&r=PG&f=1", "display_name": "Sailesh Kotha", "link": "https://stackoverflow.com/users/3889006/sailesh-kotha"}, "edited": false, "score": 0, "creation_date": 1428523245, "post_id": 29524117, "comment_id": 47202920, "body": "Are you using windows or mac? If windows add path manually in <code>Environmental Variables</code>"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1428525871, "post_id": 29524117, "comment_id": 47204326, "body": "Do you have more than one version of Python installed? Calling <code>setup.py</code> <i>can</i> use a different Python to calling <code>python setup.py</code>."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1428526428, "post_id": 29524117, "comment_id": 47204632, "body": "See this possibly related question about <a href=\"http://stackoverflow.com/questions/8196314/how-do-you-change-file-association-for-py-python-files-in-xp\">Python file associations</a>."}, {"owner": {"reputation": 8584, "user_id": 890242, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a002dc8cd51a7d25e31e1bf4662b1b85?s=128&d=identicon&r=PG", "display_name": "miraculixx", "link": "https://stackoverflow.com/users/890242/miraculixx"}, "edited": false, "score": 0, "creation_date": 1428559578, "post_id": 29524117, "comment_id": 47215317, "body": "you should add the path to the PYTHONPATH environment variable. To see which paths python actually knows about, open a command shell and execute <code>python -m site</code>"}], "answers": [{"tags": [], "owner": {"reputation": 923, "user_id": 4366576, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100002092161021/picture?type=large", "display_name": "Chiyaan Suraj", "link": "https://stackoverflow.com/users/4366576/chiyaan-suraj"}, "is_accepted": false, "score": 1, "last_activity_date": 1428559391, "creation_date": 1428559391, "answer_id": 29530914, "question_id": 29524117, "link": "https://stackoverflow.com/questions/29524117/python-cannot-find-module-even-when-path-is-appended-to-sys-path/29530914#29530914", "title": "Python cannot find module even when path is appended to sys.path", "body": "<p>The best and easy way provided by python to install/uninstall packages is to use PIP.\nuse this</p>\n\n<pre><code>python -m pip install packagename==version\n</code></pre>\n\n<p>same way to uninstall </p>\n\n<pre><code>python -m pip uninstall packagename==version\n</code></pre>\n\n<p>if you are using windows you need to set path variable first usually python file will be in path C:\\Python27 to set path variable</p>\n\n<pre><code>PATH=%PATH%;C:\\Python27;\n</code></pre>\n"}], "owner": {"reputation": 801, "user_id": 4453925, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5ed3fe82ce8ba7a3a4f72b28c1575372?s=128&d=identicon&r=PG&f=1", "display_name": "carusot42", "link": "https://stackoverflow.com/users/4453925/carusot42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1428559391, "creation_date": 1428522735, "last_edit_date": 1428522758, "question_id": 29524117, "link": "https://stackoverflow.com/questions/29524117/python-cannot-find-module-even-when-path-is-appended-to-sys-path", "title": "Python cannot find module even when path is appended to sys.path", "body": "<p>Having some weird troubles installing python modules on my work computer (read: no admin/root rights), I'm using 2.7.5. I downloaded and unpacked the tarball and ran 'setup.py', but it had no effect: When I open the python shell, it can't find the module (this specific one is fuzzywuzzy). However, if I right click -> edit with IDLE the setup.py, and then run the shell from that file, it loads and works perfectly fine. Or, if I then open a new file from that shell, use the module and run it, it works fine. -__-</p>\n\n<p>I've tried using:</p>\n\n<pre><code>import sys\nsys.path.append('path here')\n</code></pre>\n\n<p>to append the location where the module is installed, but this doesn't help, nor does the path stay in the sys.path list when I close/reopen the shell. </p>\n\n<p>This is actually driving me insane. Can anyone help? I'm relatively new to programming and python.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428522906, "post_id": 29524101, "comment_id": 47202701, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/29505529/how-to-draw-a-checkered-flag-to-the-python-screen\">How to draw a checkered flag to the Python screen?</a>"}, {"owner": {"reputation": 9, "user_id": 4765728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55c67b7868fcd1d8fd636e2a1664abf?s=128&d=identicon&r=PG&f=1", "display_name": "python 0.2", "link": "https://stackoverflow.com/users/4765728/python-0-2"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428523040, "post_id": 29524101, "comment_id": 47202789, "body": "What do I need to change? @TigerhawkT3"}, {"owner": {"reputation": 5433, "user_id": 841339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c6d669eb872c414d81490f00a2e626?s=128&d=identicon&r=PG", "display_name": "Mauro Baraldi", "link": "https://stackoverflow.com/users/841339/mauro-baraldi"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428523464, "post_id": 29524101, "comment_id": 47203058, "body": "@TigerhawkT3 it&#39;s not duplicated. Just run the code and you will see!! The problem is that the user doesn&#39;t knew to formulate well the question"}, {"owner": {"reputation": 9, "user_id": 4765728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55c67b7868fcd1d8fd636e2a1664abf?s=128&d=identicon&r=PG&f=1", "display_name": "python 0.2", "link": "https://stackoverflow.com/users/4765728/python-0-2"}, "reply_to_user": {"reputation": 5433, "user_id": 841339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c6d669eb872c414d81490f00a2e626?s=128&d=identicon&r=PG", "display_name": "Mauro Baraldi", "link": "https://stackoverflow.com/users/841339/mauro-baraldi"}, "edited": false, "score": 0, "creation_date": 1428523806, "post_id": 29524101, "comment_id": 47203244, "body": "@MauroBaraldi Rightly said! Every time, they are marking this question as duplicate. Bloodies!"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1428523887, "post_id": 29524101, "comment_id": 47203288, "body": "It is a duplicate. This person has asked the same question at least three times on two accounts, sometimes vandalizing the question, deleting it, insulting people, or some combination of the three."}, {"owner": {"reputation": 7868, "user_id": 278878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb673c37d114a84c7c01bf67bf979268?s=128&d=identicon&r=PG", "display_name": "gpoo", "link": "https://stackoverflow.com/users/278878/gpoo"}, "edited": false, "score": 0, "creation_date": 1428524157, "post_id": 29524101, "comment_id": 47203429, "body": "This is a homework question. In addition, it is unclear, the user does not write what he had tried, and it complains about code not working."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428524320, "post_id": 29524101, "comment_id": 47203522, "body": "Because you copy-pasted the assignment text, didn&#39;t tell us where you were having trouble, didn&#39;t tell us what you tried to fix it, then told us it doesn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4765728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55c67b7868fcd1d8fd636e2a1664abf?s=128&d=identicon&r=PG&f=1", "display_name": "python 0.2", "link": "https://stackoverflow.com/users/4765728/python-0-2"}, "edited": false, "score": 0, "creation_date": 1428523347, "post_id": 29524267, "comment_id": 47202983, "body": "I think there is a problem in <code>main()</code> function. Please check"}, {"owner": {"reputation": 9, "user_id": 4765728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55c67b7868fcd1d8fd636e2a1664abf?s=128&d=identicon&r=PG&f=1", "display_name": "python 0.2", "link": "https://stackoverflow.com/users/4765728/python-0-2"}, "edited": false, "score": 0, "creation_date": 1428523410, "post_id": 29524267, "comment_id": 47203028, "body": "I can able to draw the n*n grid, but nothing is happening afterwards. I think I am doing something wrong in the main() function"}, {"owner": {"reputation": 9, "user_id": 4765728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55c67b7868fcd1d8fd636e2a1664abf?s=128&d=identicon&r=PG&f=1", "display_name": "python 0.2", "link": "https://stackoverflow.com/users/4765728/python-0-2"}, "edited": false, "score": 0, "creation_date": 1428523676, "post_id": 29524267, "comment_id": 47203177, "body": "Please check the main() function"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1428523949, "post_id": 29524267, "comment_id": 47203328, "body": "If you&#39;re using Python 3, this doesn&#39;t work or address the question."}], "tags": [], "owner": {"reputation": 5433, "user_id": 841339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c6d669eb872c414d81490f00a2e626?s=128&d=identicon&r=PG", "display_name": "Mauro Baraldi", "link": "https://stackoverflow.com/users/841339/mauro-baraldi"}, "is_accepted": true, "score": -2, "last_activity_date": 1428523241, "creation_date": 1428523241, "answer_id": 29524267, "question_id": 29524101, "link": "https://stackoverflow.com/questions/29524101/how-to-enter-two-parameters-to-a-function/29524267#29524267", "title": "How to enter two parameters to a function?", "body": "<p>Change the <code>input</code> to <code>raw_input</code> in your <strong>size</strong> function</p>\n\n<pre><code>def size():\n    size = eval(raw_input(\"Please enter the size of the checkered flag: \"))\n    return size\n</code></pre>\n\n<p><code>eval</code> handle with strings, and you was passing <strong>int</strong> value.</p>\n"}], "owner": {"reputation": 9, "user_id": 4765728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55c67b7868fcd1d8fd636e2a1664abf?s=128&d=identicon&r=PG&f=1", "display_name": "python 0.2", "link": "https://stackoverflow.com/users/4765728/python-0-2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 1, "accepted_answer_id": 29524267, "answer_count": 1, "score": -4, "last_activity_date": 1428523241, "creation_date": 1428522695, "last_edit_date": 1428522935, "question_id": 29524101, "link": "https://stackoverflow.com/questions/29524101/how-to-enter-two-parameters-to-a-function", "title": "How to enter two parameters to a function?", "body": "<p>.<strong>QUESTION:</strong> Implement the following pseudocode to draw a checkered flag to the screen.</p>\n\n<pre><code>1.  Ask the user for the size of the checkered flag (n).\n2.  Draw an n x n grid to the screen.\n3.  For i = 0,2,4,...,62:\n4.     row = i // n\n5.     offset = row % 2\n6.     col = (i % n) + offset\n</code></pre>\n\n<p>Please copy and paste the link see the ouput: <a href=\"http://www.awesomescreenshot.com/image/45977/12eaef67de44c2b291ecd47fe8d10135\" rel=\"nofollow\">http://www.awesomescreenshot.com/image/45977/12eaef67de44c2b291ecd47fe8d10135</a></p>\n\n<p>I implemented the pseudocode, but I need some help. </p>\n\n<p><strong>I can able to draw the n*n grid, but nothing is happening afterwards. I think I am doing something wrong in the <code>main()</code> function</strong>\nMy program: </p>\n\n<pre><code>from turtle import*\n\ndef size():\n  size = eval(input(\"Please enter the size of the checkered flag: \"))\n  return size\n\ndef draw(n):\n  wn = Screen()\n  wn.setworldcoordinates(-1,-1,10,10)\n  pen = Turtle()\n  for i in range(0,n+1):\n    pen.up()\n    pen.goto(0,i)\n    pen.down()\n    pen.forward(n)\n\n  pen.left(90)\n  for i in range(0,n+1):\n    pen.up()\n    pen.goto(i,0)\n    pen.down()\n    pen.forward(n)\n\ndef findGrid(n):\n  for i in range(0,63):\n    row = i // n\n    offset = row % 2\n    col = (i % n) + offset\n\n  return row, col\n\ndef fillSquare(x,y):\n  pen = Turtle()\n  pen.hideturtle()\n  pen.speed(10)\n  pen.up()\n  pen.goto(x,y)\n  pen.fillcolor(\"black\")\n  pen.begin_fill()\n\ndef main():\n  x = size()\n  y = draw(x)\n  row, col = findGrid(x)        #I think there is a problem here. Please help!\n  f = fillSquare(row, col)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "memory", "posix", "ram"], "comments": [{"owner": {"reputation": 174, "user_id": 3213566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/199f245e018a477b1093f36cfd67292d?s=128&d=identicon&r=PG", "display_name": "metasyn", "link": "https://stackoverflow.com/users/3213566/metasyn"}, "edited": false, "score": 1, "creation_date": 1428524633, "post_id": 29524020, "comment_id": 47203681, "body": "I found this <a href=\"http://www.ibm.com/developerworks/library/s-data.html?n-s-311\" rel=\"nofollow noreferrer\">IBM</a> document relevant / interesting with regards to memory locking and mutability in Python"}, {"owner": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "reply_to_user": {"reputation": 174, "user_id": 3213566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/199f245e018a477b1093f36cfd67292d?s=128&d=identicon&r=PG", "display_name": "metasyn", "link": "https://stackoverflow.com/users/3213566/metasyn"}, "edited": false, "score": 0, "creation_date": 1428533856, "post_id": 29524020, "comment_id": 47207905, "body": "Very interesting read. Disabling core dumps is well explained."}], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 4, "last_activity_date": 1443468274, "creation_date": 1443468274, "answer_id": 32830310, "question_id": 29524020, "link": "https://stackoverflow.com/questions/29524020/prevent-ram-from-paging-to-swap-area-mlock/32830310#32830310", "title": "Prevent RAM from paging to swap area (mlock)", "body": "<p>For CPython, there is no good answer for this that doesn't involve writing a Python C extension, since <code>mlock</code> works on pages, not objects. Even if you used <code>ctypes</code> to retrieve the necessary addresses and <code>mlock</code>-ed them all through <code>ctypes</code> <code>mlock</code> calls, you'll have a hell of a time determining when to <code>mlock</code> and when to <code>munlock</code>. You'd need to know the memory address and sizes of all protected data types; since <code>mlock</code> works on pages, you'd have to carefully track how many objects are currently in any given page (because if you just <code>mlock</code> and <code>munlock</code> blindly, and there are more than one things to lock in a page, the first <code>munlock</code> would unlock all of them; <code>mlock/munlock</code> is a boolean flag, it doesn't count the number of locks and unlocks).</p>\n\n<p>Even if you manage that, you still would have a race between data acquisition and <code>mlock</code> during which the data could be written to swap.</p>\n\n<p>You could partially avoid these problems through careful use of the <code>mmap</code> module and <code>memoryview</code>s (<code>mmap</code> gives you pages of memory, <code>memoryview</code> references said memory without copying it, so <code>ctypes</code> could be used to <code>mlock</code> the page), but you'd have to build it all from scratch.</p>\n\n<p>In short, Python doesn't care about swapping or memory protection in the way you want; it trusts the swap file to be configured to your desired security (e.g. disabled or encrypted), neither providing additional protection nor providing the information you'd need to add it in.</p>\n"}], "owner": {"reputation": 3080, "user_id": 2375119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oB60l.png?s=128&g=1", "display_name": "ArekBulski", "link": "https://stackoverflow.com/users/2375119/arekbulski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1440, "favorite_count": 2, "accepted_answer_id": 32830310, "answer_count": 1, "score": 5, "last_activity_date": 1443470377, "creation_date": 1428522398, "last_edit_date": 1443470377, "question_id": 29524020, "link": "https://stackoverflow.com/questions/29524020/prevent-ram-from-paging-to-swap-area-mlock", "title": "Prevent RAM from paging to swap area (mlock)", "body": "<p>Is there a way to call <a href=\"http://www.unix.com/man-page/linux/2/MLOCK/\" rel=\"nofollow\">the POSIX <code>mlock</code> function</a> from Python? The effect of <code>mlock</code> is to disable swapping out certain objects.</p>\n\n<p>I know there are still other issues when it comes to securing cryptographic keys, I just want to know how to contain them in RAM.</p>\n"}, {"tags": ["python", "quickfix", "fix-protocol"], "answers": [{"comments": [{"owner": {"reputation": 1629, "user_id": 2030696, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7d78343228fbb5d2b1bbd27c5888dc36?s=128&d=identicon&r=PG", "display_name": "Wapiti", "link": "https://stackoverflow.com/users/2030696/wapiti"}, "edited": false, "score": 1, "creation_date": 1428586734, "post_id": 29539793, "comment_id": 47232114, "body": "Hey hunch_hunch. I was looking at that method before I posted, but could not figure out how to make it work. Probably my problem is a lack of C knowledge. Does <code>isConnected</code> take two arguments, and what are they? I think i was able to get the sessionID as a string but could not pass it as an argument.  Is it supposed to be a string?"}, {"owner": {"reputation": 2221, "user_id": 3837962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5I12.png?s=128&g=1", "display_name": "hunch_hunch", "link": "https://stackoverflow.com/users/3837962/hunch-hunch"}, "reply_to_user": {"reputation": 1629, "user_id": 2030696, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7d78343228fbb5d2b1bbd27c5888dc36?s=128&d=identicon&r=PG", "display_name": "Wapiti", "link": "https://stackoverflow.com/users/2030696/wapiti"}, "edited": false, "score": 0, "creation_date": 1428587757, "post_id": 29539793, "comment_id": 47232973, "body": "<code>isConnected</code> takes one argument, a <a href=\"https://github.com/quickfix/quickfix/blob/adb936f95e2cc00af21800c5793880564f2b63e2/src/C%2B%2B/SessionID.h\" rel=\"nofollow noreferrer\"><code>SessionID</code></a> object."}, {"owner": {"reputation": 2221, "user_id": 3837962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5I12.png?s=128&g=1", "display_name": "hunch_hunch", "link": "https://stackoverflow.com/users/3837962/hunch-hunch"}, "reply_to_user": {"reputation": 1629, "user_id": 2030696, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7d78343228fbb5d2b1bbd27c5888dc36?s=128&d=identicon&r=PG", "display_name": "Wapiti", "link": "https://stackoverflow.com/users/2030696/wapiti"}, "edited": false, "score": 0, "creation_date": 1428673644, "post_id": 29539793, "comment_id": 47275830, "body": "Have you had any luck getting the session state using <code>isConnected</code>?"}, {"owner": {"reputation": 1629, "user_id": 2030696, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7d78343228fbb5d2b1bbd27c5888dc36?s=128&d=identicon&r=PG", "display_name": "Wapiti", "link": "https://stackoverflow.com/users/2030696/wapiti"}, "edited": false, "score": 0, "creation_date": 1428674415, "post_id": 29539793, "comment_id": 47276446, "body": "I worked on it a little yesterday. I was able yo get a sessionID object (I think) using <code>getSessions</code> but there was only one of them. So it wasn&#39;t really possible to pass that as an argument to <code>IsConnected</code>. How do I get the sessionID of each individual session?"}, {"owner": {"reputation": 1629, "user_id": 2030696, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7d78343228fbb5d2b1bbd27c5888dc36?s=128&d=identicon&r=PG", "display_name": "Wapiti", "link": "https://stackoverflow.com/users/2030696/wapiti"}, "edited": false, "score": 0, "creation_date": 1428694894, "post_id": 29539793, "comment_id": 47288344, "body": "I&#39;m accepting this, thanks for your help again. If you have any insights on getting individual sessionIDs drop me a note."}], "tags": [], "owner": {"reputation": 2221, "user_id": 3837962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5I12.png?s=128&g=1", "display_name": "hunch_hunch", "link": "https://stackoverflow.com/users/3837962/hunch-hunch"}, "is_accepted": true, "score": 1, "last_activity_date": 1428585897, "creation_date": 1428585897, "answer_id": 29539793, "question_id": 29523954, "link": "https://stackoverflow.com/questions/29523954/distinguishing-between-two-quickfix-initiator-sessions/29539793#29539793", "title": "Distinguishing between two QuickFix initiator sessions", "body": "<p>As you noted, the method <a href=\"https://github.com/quickfix/quickfix/blob/adb936f95e2cc00af21800c5793880564f2b63e2/src/C%2B%2B/Initiator.cpp#L269\" rel=\"nofollow\"><code>bool Initiator::isLoggedOn()</code></a> will tell you if any session is currently logged on.</p>\n\n<p>Use <a href=\"https://github.com/quickfix/quickfix/blob/adb936f95e2cc00af21800c5793880564f2b63e2/src/C%2B%2B/Initiator.cpp#L178\" rel=\"nofollow\"><code>bool Initiator::isConnected( const SessionID&amp; sessionID )</code></a> to check a specific session. </p>\n\n<p><a href=\"https://github.com/quickfix/quickfix/blob/adb936f95e2cc00af21800c5793880564f2b63e2/src/C%2B%2B/SocketInitiator.h#L36\" rel=\"nofollow\"><code>SocketInitiator</code></a> inherits both of these from <code>Initiator</code>.</p>\n"}], "owner": {"reputation": 1629, "user_id": 2030696, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7d78343228fbb5d2b1bbd27c5888dc36?s=128&d=identicon&r=PG", "display_name": "Wapiti", "link": "https://stackoverflow.com/users/2030696/wapiti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 919, "favorite_count": 0, "accepted_answer_id": 29539793, "answer_count": 1, "score": 2, "last_activity_date": 1428585897, "creation_date": 1428522163, "question_id": 29523954, "link": "https://stackoverflow.com/questions/29523954/distinguishing-between-two-quickfix-initiator-sessions", "title": "Distinguishing between two QuickFix initiator sessions", "body": "<p>I am using QuickFix with Python bindings to connect to a broker and I have two Initiator Sessions in  my config file. One is for the price and the other for the order session. </p>\n\n<p>My question is, say I want to do something when only one of them comes online? If I do </p>\n\n<pre><code>initiator = fix.SocketInitiator(application, storeFactory, settings, logFactory)\nif initiator.isLoggedOn():\n    function()\n</code></pre>\n\n<p>then <code>function</code> will be called whether it is the price or order session or both that are logged on. How do I identify when a <em>specific</em> initiator session is logged on?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "edited": false, "score": 0, "creation_date": 1428522343, "post_id": 29523896, "comment_id": 47202347, "body": "please define &quot;record&quot;"}, {"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 1, "creation_date": 1428522399, "post_id": 29523896, "comment_id": 47202386, "body": "Call <code>readline()</code> 100 times... stop calling it if you hit EOF...?"}, {"owner": {"reputation": 40039, "user_id": 699224, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4feb08afcd7c57acb72bd49fc2bf834d?s=128&d=identicon&r=PG", "display_name": "DNA", "link": "https://stackoverflow.com/users/699224/dna"}, "edited": false, "score": 0, "creation_date": 1428522574, "post_id": 29523896, "comment_id": 47202478, "body": "Is there a specific reason you need to process them 100 at a time, rather than one at a time, or 64 at a time, or whatever? Is this to do with buffering, or is there something in particular about 100?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user740316"}, "edited": false, "score": 0, "creation_date": 1428522670, "post_id": 29523896, "comment_id": 47202537, "body": "Related to : <a href=\"http://stackoverflow.com/questions/24716001/python-reading-in-a-text-file-in-a-set-line-range\" title=\"python reading in a text file in a set line range\">stackoverflow.com/questions/24716001/&hellip;</a> . The accepted answer seems to fit your needs, with a little tweaking so you can do the 100 first, then 100 others, etc. I don&#39;t know the impact on the memory though."}, {"owner": {"reputation": 17473, "user_id": 50305, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f921948761062f7785a10e38b8402d2c?s=128&d=identicon&r=PG", "display_name": "Dervin Thunk", "link": "https://stackoverflow.com/users/50305/dervin-thunk"}, "reply_to_user": {"reputation": 40039, "user_id": 699224, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4feb08afcd7c57acb72bd49fc2bf834d?s=128&d=identicon&r=PG", "display_name": "DNA", "link": "https://stackoverflow.com/users/699224/dna"}, "edited": false, "score": 0, "creation_date": 1428522736, "post_id": 29523896, "comment_id": 47202582, "body": "@DNA: I need to process 100 at a time because I&#39;m using an api with a cap on the number of calls I can make. I can obviously parameterize the value for other APIs."}, {"owner": {"reputation": 516, "user_id": 4765870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3DSd3.jpg?s=128&g=1", "display_name": "Paulo Abreu", "link": "https://stackoverflow.com/users/4765870/paulo-abreu"}, "edited": false, "score": 0, "creation_date": 1428522986, "post_id": 29523896, "comment_id": 47202753, "body": "Take this!  <a href=\"http://stackoverflow.com/questions/8009882/how-to-read-large-file-line-by-line-in-python\" title=\"how to read large file line by line in python\">stackoverflow.com/questions/8009882/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": false, "score": 1, "last_activity_date": 1428523073, "last_edit_date": 1428523073, "creation_date": 1428522482, "answer_id": 29524052, "question_id": 29523896, "link": "https://stackoverflow.com/questions/29523896/reading-every-100-lines-or-less-from-an-open-file-in-python/29524052#29524052", "title": "Reading every 100 lines (or less) from an open file in Python", "body": "<p>You could utilize <code>i_zip_longest</code> in the <a href=\"http://stupidpythonideas.blogspot.ca/2013/08/how-grouper-works.html\" rel=\"nofollow\"><code>grouper</code> recipe</a>, which would also address your EOF issue:</p>\n\n<pre><code>with open(\"my_big_file\") as f:\n    for chunk_100 in izip_longest(*[f] * 100)\n          #record my lines\n</code></pre>\n\n<p>Here we are simply iterating over our file lines, and specifying our fixed-length chunk to be 100 lines.</p>\n\n<p>A simple example of the <code>grouper</code> recipe (from the <a href=\"https://docs.python.org/2/library/itertools.html#recipes\" rel=\"nofollow\">docs</a>):</p>\n\n<pre><code>def grouper(iterable, n, fillvalue=None):\n    \"Collect data into fixed-length chunks or blocks\"\n    # grouper('ABCDEFG', 3, 'x') --&gt; ABC DEF Gxx\n    args = [iter(iterable)] * n\n    return izip_longest(fillvalue=fillvalue, *args)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 2, "last_activity_date": 1428522852, "creation_date": 1428522852, "answer_id": 29524159, "question_id": 29523896, "link": "https://stackoverflow.com/questions/29523896/reading-every-100-lines-or-less-from-an-open-file-in-python/29524159#29524159", "title": "Reading every 100 lines (or less) from an open file in Python", "body": "<pre><code>with open('file.txt', 'r') as f:\n    workset = [] # start a work set\n    for line in f: # iterate over file\n        workset.append(line) # add current line to work set\n        if len(workset) == 100: # if 100 items in work set,\n            dostuff(workset) # send work set to processing\n            workset = [] # make a new work set\n    if workset: # if there's an unprocessed work set at the end (&lt;100 items),\n        dostuff(workset) # process it\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 394, "user_id": 2507321, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7BneB.jpg?s=128&g=1", "display_name": "Libin Wen", "link": "https://stackoverflow.com/users/2507321/libin-wen"}, "edited": false, "score": 0, "creation_date": 1497158664, "post_id": 29524164, "comment_id": 75955901, "body": "It works well. I would suggest putting the <code>if not lines</code> before <code>do stuff</code>  to avoid a blank list at the end of the while loop."}], "tags": [], "owner": {"reputation": 2359, "user_id": 1736256, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1948628470196fe729837363a59e153f?s=128&d=identicon&r=PG", "display_name": "ILostMySpoon", "link": "https://stackoverflow.com/users/1736256/ilostmyspoon"}, "is_accepted": false, "score": 7, "last_activity_date": 1428522866, "creation_date": 1428522866, "answer_id": 29524164, "question_id": 29523896, "link": "https://stackoverflow.com/questions/29523896/reading-every-100-lines-or-less-from-an-open-file-in-python/29524164#29524164", "title": "Reading every 100 lines (or less) from an open file in Python", "body": "<p><code>islice()</code> can be used to retrieve the next <code>n</code> items of an iterator.</p>\n\n<pre><code>from itertools import islice\n\nwith open(...) as file:\n    while True:\n        lines = list(islice(file, 100))\n        for line in lines:\n            # do stuff\n        if not lines:\n            break\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40039, "user_id": 699224, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4feb08afcd7c57acb72bd49fc2bf834d?s=128&d=identicon&r=PG", "display_name": "DNA", "link": "https://stackoverflow.com/users/699224/dna"}, "is_accepted": false, "score": 2, "last_activity_date": 1619157047, "last_edit_date": 1619157047, "creation_date": 1428523148, "answer_id": 29524246, "question_id": 29523896, "link": "https://stackoverflow.com/questions/29523896/reading-every-100-lines-or-less-from-an-open-file-in-python/29524246#29524246", "title": "Reading every 100 lines (or less) from an open file in Python", "body": "<p>A runnable example using the <code>take</code> recipe from the <a href=\"https://docs.python.org/2/library/itertools.html\" rel=\"nofollow noreferrer\">itertools</a> page:</p>\n<pre><code>from itertools import islice\n\n# Recipe from https://docs.python.org/2/library/itertools.html\ndef take(n, iterable):\n    &quot;Return first n items of the iterable as a list&quot;\n    return list(islice(iterable, n))\n\nif __name__ == &quot;__main__&quot;:\n   with open('data.txt', 'r') as f:\n     while True:\n       lines = take(100, f)\n       if lines:\n         print(lines)\n       else:\n         break\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 377, "user_id": 5470966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kWn3y.png?s=128&g=1", "display_name": "ggcarmi", "link": "https://stackoverflow.com/users/5470966/ggcarmi"}, "is_accepted": false, "score": 1, "last_activity_date": 1610449774, "last_edit_date": 1610449774, "creation_date": 1585220651, "answer_id": 60865784, "question_id": 29523896, "link": "https://stackoverflow.com/questions/29523896/reading-every-100-lines-or-less-from-an-open-file-in-python/60865784#60865784", "title": "Reading every 100 lines (or less) from an open file in Python", "body": "<pre><code>file.readlines(sizehint= &lt;line size in Bytes&gt; )\n</code></pre>\n<p>instead of creating your own iterator, you can use the built-in one.</p>\n<p>python's method <code>file.readlines()</code> returns a list of all the lines in the file.\nif the file is too big it wont fit in memory.</p>\n<p>so, you can use the parameter <code>sizehint</code>.\nit will read the <code>sizehint</code> <strong>Bytes</strong>(and <strong>not lines</strong>) from the file, and enough more to complete a line, and returns the lines from that.</p>\n<p>Only complete lines\nwill be returned.</p>\n<p>for example:</p>\n<pre><code>file.readlines(sizehint=1000)\n</code></pre>\n<p>it will read the 1000 Bytes from the file.</p>\n"}], "owner": {"reputation": 17473, "user_id": 50305, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f921948761062f7785a10e38b8402d2c?s=128&d=identicon&r=PG", "display_name": "Dervin Thunk", "link": "https://stackoverflow.com/users/50305/dervin-thunk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1848, "favorite_count": 1, "answer_count": 5, "score": -1, "last_activity_date": 1619157047, "creation_date": 1428521987, "question_id": 29523896, "link": "https://stackoverflow.com/questions/29523896/reading-every-100-lines-or-less-from-an-open-file-in-python", "title": "Reading every 100 lines (or less) from an open file in Python", "body": "<p>I have a file with 100s of thousands of records, one per line. I need to read 100, process them, read another 100, process them and so forth. I don't want to load those many records and keep them in memory. How do I read (until EOF) either 100 or less (when EOF is encountered) lines from an open file using Python?</p>\n"}, {"tags": ["python", "html", "beautifulsoup", "html-parsing"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428591678, "post_id": 29523967, "comment_id": 47235858, "body": "there are too many &quot;li&quot; in the html code, the only way to find the right answer is to find all &quot;&lt;li&gt;&lt;a&quot;. How can we do that? thanks"}, {"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1429049344, "post_id": 29523967, "comment_id": 47418714, "body": "what if I want to extract information like&quot;brands/acapulco-gold/141120&quot;, how should I do?"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 0, "last_activity_date": 1428522203, "creation_date": 1428522203, "answer_id": 29523967, "question_id": 29523880, "link": "https://stackoverflow.com/questions/29523880/beautifulsoup-extraction/29523967#29523967", "title": "Beautifulsoup extraction", "body": "<p>You can write a <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors\" rel=\"nofollow\">CSS selector</a> and get all <code>a</code> elements with <code>href</code> attribute value starting with <code>brands</code> located directly inside <code>li</code> which is located directly inside <code>ul</code>:</p>\n\n<pre><code>for link in soup.select(\"ul &gt; li &gt; a[href^=brands]\"):\n    print link.get_text()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428591591, "post_id": 29524185, "comment_id": 47235806, "body": "I tried, but find all &quot;li&quot;is not enough, since it&#39;s only a part of all html code. But, if we can find out all&quot;&lt;li&gt;&lt;a&quot;,we can get the right result. How can we do that?thanks"}, {"owner": {"reputation": 4435, "user_id": 2581266, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/100001828256469/picture?type=large", "display_name": "Papouche Guinslyzinho", "link": "https://stackoverflow.com/users/2581266/papouche-guinslyzinho"}, "reply_to_user": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428594943, "post_id": 29524185, "comment_id": 47238334, "body": "hi Artanis, I update my answer but I don&#39;t fully understand your last comment. could you update your question than to make it clearer. Thanks"}, {"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428595734, "post_id": 29524185, "comment_id": 47238880, "body": "Hi Popouche, thanks for help. Tha website is <a href=\"https://www.jackthreads.com/brands\" rel=\"nofollow noreferrer\">jackthreads.com/brands</a>, I am trying to extract all the brands here. I saw the html code and found out, all brands are with the head of &quot;&lt;li&gt;&lt;a&quot;"}, {"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428596057, "post_id": 29524185, "comment_id": 47239094, "body": "I used ctrl+f to find out if i can located the brands. Turns out if I find  &quot;&lt;li&gt;&lt;a&quot;, I will get the right answer. So I was wondering, if I can use beautifulsoup to find all  &quot;&lt;li&gt;&lt;a&quot;"}, {"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428596460, "post_id": 29524185, "comment_id": 47239325, "body": "I tried with your method, but get more output than I want. And why there are &quot;u&quot;s in front of all the brands?can we get results without &quot;u&quot;s?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428603887, "post_id": 29524185, "comment_id": 47243736, "body": "@ArtanisWong the answer I&#39;ve provided is looking exactly for <code>ul -&gt; li -&gt; a</code> constructions on the page."}, {"owner": {"reputation": 4435, "user_id": 2581266, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/100001828256469/picture?type=large", "display_name": "Papouche Guinslyzinho", "link": "https://stackoverflow.com/users/2581266/papouche-guinslyzinho"}, "reply_to_user": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428607674, "post_id": 29524185, "comment_id": 47246011, "body": "@ArtanisWong This was a tricky question :) you should re-title this post or re-sentence your question. No need to add your url but you should say that the <code>&lt;li&gt;</code>&#39;s are loaded dynamically (with a js script as react.js or handlebars)."}, {"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428611315, "post_id": 29524185, "comment_id": 47248237, "body": "I fixed it, but a new question come. I want to input the result into a txt file.Here is my code:"}, {"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 1, "creation_date": 1428611363, "post_id": 29524185, "comment_id": 47248259, "body": "def grabHref(url,localfile):     html = urllib2.urlopen(url).read()     html = unicode(html,&#39;gb2312&#39;,&#39;ignore&#39;).encode(&#39;utf-8&#39;,&#39;ignore&#39;)     soup = BeautifulSoup(html)     for link in soup.select(&quot;ul &gt; li &gt; a[href^=brands/]&quot;):         allBrands = link.get_text()         print allBrands         myfile = open(localfile,&#39;wb&#39;)         myfile.write(allBrands)         myfile.write(&#39;\\r\\n&#39;)         myfile.close()"}, {"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428611368, "post_id": 29524185, "comment_id": 47248261, "body": "def main():     url = &quot;<a href=\"https://www.jackthreads.com/brands\" rel=\"nofollow noreferrer\">jackthreads.com/brands</a>&quot;     localfile = &#39;Brands.txt&#39;     grabHref(url,localfile) if <b>name__==&quot;__main</b>&quot;:     main()"}, {"owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "edited": false, "score": 0, "creation_date": 1428611420, "post_id": 29524185, "comment_id": 47248293, "body": "why I can see all the brands in console, but in the txt file, only the last brand in it?"}], "tags": [], "owner": {"reputation": 4435, "user_id": 2581266, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/100001828256469/picture?type=large", "display_name": "Papouche Guinslyzinho", "link": "https://stackoverflow.com/users/2581266/papouche-guinslyzinho"}, "is_accepted": false, "score": 1, "last_activity_date": 1428607077, "last_edit_date": 1428607077, "creation_date": 1428522912, "answer_id": 29524185, "question_id": 29523880, "link": "https://stackoverflow.com/questions/29523880/beautifulsoup-extraction/29524185#29524185", "title": "Beautifulsoup extraction", "body": "<p>I couldn't do it with Beautifulsoup but while waiting for an other answer... You can read each lines and retrieve the text that you want</p>\n\n<pre><code>import urllib\nimport re\n\nsource = urllib.urlopen(\"https://www.jackthreads.com/ca/brands\")\nlines = source.readlines()\n\nbrand  = []\nfor link in lines[1797:2121]:\n  find = re.findall(r'&lt;li&gt;&lt;a href=\"brands[^&gt;]*?&gt;(.*?)&lt;/a&gt;', link)\n  if len(find) &gt; 0:\n    brand.append(find[0])\n\nprint(brand[0:12])\n#&gt;['10Deep', 'Acapulco Gold', 'Adam Lister', 'AdNArt', 'Afends', 'Akomplice', 'Akribos XXIV', 'Alistare', 'Alpha Beta', 'Alpha Industries', 'Altamont', 'Alternative']\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4765844, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206352057908767/picture?type=large", "display_name": "Artanis Wong", "link": "https://stackoverflow.com/users/4765844/artanis-wong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 29523967, "answer_count": 2, "score": 1, "last_activity_date": 1428607077, "creation_date": 1428521938, "last_edit_date": 1428522274, "question_id": 29523880, "link": "https://stackoverflow.com/questions/29523880/beautifulsoup-extraction", "title": "Beautifulsoup extraction", "body": "<p>Here is the html code:</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li&gt;&lt;a href=\"brands/acapulco-gold/141120\"&gt;Acapulco Gold&lt;/a&gt;&lt;/li&gt;\n   &lt;li&gt;&lt;a href=\"brands/adam-lister/141223\"&gt;Adam Lister&lt;/a&gt;&lt;/li&gt;\n   &lt;li&gt;&lt;a href=\"brands/adidas-x-raf-simons/125513\"&gt;adidas x RAF SIMONS&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>I want to extract the brands like <code>10Deep</code>, <code>Acapulco Gold</code>, how can I do that?</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 1, "creation_date": 1428522098, "post_id": 29523872, "comment_id": 47202196, "body": "Where does this button come from?  How is <i>their</i> CSV file being identified?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4267078"}, "edited": false, "score": 0, "creation_date": 1428524543, "post_id": 29524198, "comment_id": 47203638, "body": "Thanks Man, also, if I wantd to do math, how would I make (example) &#39;50 x __NumberOfHours (NumberOfHours being an integer)"}], "tags": [], "owner": {"reputation": 21, "user_id": 4418763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382f925fb454cb67c46883e49e909696?s=128&d=identicon&r=PG&f=1", "display_name": "blue0cean", "link": "https://stackoverflow.com/users/4418763/blue0cean"}, "is_accepted": false, "score": 0, "last_activity_date": 1428522958, "creation_date": 1428522958, "answer_id": 29524198, "question_id": 29523872, "link": "https://stackoverflow.com/questions/29523872/python-opening-a-different-csv-file-depending-on-an-input/29524198#29524198", "title": "Python Opening a different CSV file depending on an input", "body": "<p>To write to a file you need to add a second parameter to open, like open(filename,\"w\").\nNote that \"w\" will truncate the file, while \"a\" will append to the end of the file.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4267078"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428525350, "creation_date": 1428521914, "last_edit_date": 1428525350, "question_id": 29523872, "link": "https://stackoverflow.com/questions/29523872/python-opening-a-different-csv-file-depending-on-an-input", "title": "Python Opening a different CSV file depending on an input", "body": "<p>Is there anyway to open and write to a CSV file depending on user input?</p>\n\n<pre><code> new_record = [__Activity, __ActivityHours, __ActivitySpeed, __CaloriesBurned]\n writer = csv.writer(open(\"./user_info/\" + Username + \".csv\"), delimiter=',')\n writer.writerow(new_record)\n</code></pre>\n\n<p>I want a user to be able to click a button that opens their CSV file and writes to it.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 1, "creation_date": 1428521930, "post_id": 29523842, "comment_id": 47202107, "body": "How are you reading things now?"}, {"owner": {"reputation": 2423, "user_id": 413397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3793d1fdfeffb06d7ecb530a071c3463?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/413397/tony"}, "edited": false, "score": 0, "creation_date": 1428523686, "post_id": 29523842, "comment_id": 47203184, "body": "Or how are you doing anything? What have you tried? Are you getting an error? Please post some code."}], "answers": [{"tags": [], "owner": {"reputation": 3989, "user_id": 1527217, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/gb5O6.jpg?s=128&g=1", "display_name": "khajvah", "link": "https://stackoverflow.com/users/1527217/khajvah"}, "is_accepted": false, "score": 0, "last_activity_date": 1428523039, "last_edit_date": 1428523039, "creation_date": 1428522702, "answer_id": 29524103, "question_id": 29523842, "link": "https://stackoverflow.com/questions/29523842/read-csv-data-as-integer-in-python/29524103#29524103", "title": "read csv data as integer in python", "body": "<p>Something like this: </p>\n\n<pre><code>import csv\n\nresult = list()\nwith open('filepath.csv') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        result.append(list())\n        for item in row:\n            if item == 'F'\n                result[-1].append(0)\n            elif item == 'M':\n                result[-1].append(1)\n            else:\n                result[-1].append(item)  \n</code></pre>\n\n<p>Here is a shorter and a beautiful solution:</p>\n\n<pre><code>import csv\n\nresult = list()\nwith open('filepath.csv') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        result.append([i if (i!='F' and i!='M') else (0 if i=='F' else 1) for i in row])\n</code></pre>\n\n<p>Note that I didn't test the code. I just blindly wrote it here directly.</p>\n"}], "owner": {"reputation": 1610, "user_id": 3966933, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/271a543b86a010391b238b3015604c0f?s=128&d=identicon&r=PG", "display_name": "iec2011007", "link": "https://stackoverflow.com/users/3966933/iec2011007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428523039, "creation_date": 1428521853, "question_id": 29523842, "link": "https://stackoverflow.com/questions/29523842/read-csv-data-as-integer-in-python", "title": "read csv data as integer in python", "body": "<p>I have an<code>csv</code> file with the data in the following format</p>\n\n<p><code>1,F,1,10,48067\n2,M,56,16,70072\n3,M,25,15,55117\n4,M,45,7,02460\n5,M,25,20,55455\n6,F,50,9,55117\n7,M,35,1,06810\n8,M,25,12,11413\n9,M,25,17,61614\n</code></p>\n\n<p>now i want to read each line and store one row in a list and also convert M to 1 and F to 0. How can this be done in python</p>\n\n<p>Something like </p>\n\n<blockquote>\n  <p>temp = [1,0,25,17,2414]</p>\n</blockquote>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1428522344, "post_id": 29523838, "comment_id": 47202348, "body": "Sorry can you post an actual example, are you asking to construct a column list so you can select just those columns from a df? something like <code>col_list = [col for col in df if col in other_col_list]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 3277533, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/06924255644892c6b2d869bb0bc860c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3277533", "link": "https://stackoverflow.com/users/3277533/user3277533"}, "edited": false, "score": 0, "creation_date": 1428525825, "post_id": 29524878, "comment_id": 47204304, "body": "Excellent, thank you!  I had read somewhere that it was only for rows and accepted it without even trying."}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 1, "last_activity_date": 1428525416, "creation_date": 1428525416, "answer_id": 29524878, "question_id": 29523838, "link": "https://stackoverflow.com/questions/29523838/slicing-pandas-dataframe-by-column-label-using-list-of-strings/29524878#29524878", "title": "Slicing Pandas DataFrame by column label using list of strings", "body": "<p>Actually you can use <code>isin</code>:</p>\n\n<pre><code>In [34]:\n\ndf = pd.DataFrame(np.random.randn(5, 4), columns=list('ABCD'))\ndf\nOut[34]:\n          A         B         C         D\n0  0.540783  0.206722  0.627336  0.865066\n1  0.204596  1.317936  0.624362 -0.573012\n2  0.124457  1.052614 -0.152633 -0.021625\n3  0.415278  1.469842  0.581196  0.143085\n4  0.043743 -1.191018 -0.202574  0.479122\nIn [37]:\n\ncol_list=['A','D']\ndf[df.columns[df.columns.isin(col_list)]]\nOut[37]:\n          A         D\n0  0.540783  0.865066\n1  0.204596 -0.573012\n2  0.124457 -0.021625\n3  0.415278  0.143085\n4  0.043743  0.479122\n</code></pre>\n\n<p>So what you can do is call <code>isin</code> and pass your list, this will produce a boolean series:</p>\n\n<pre><code>In [38]:\n\ndf.columns.isin(col_list)\nOut[38]:\narray([ True, False, False,  True], dtype=bool)\n</code></pre>\n\n<p>You then use the boolean mask to mask your columns:</p>\n\n<pre><code>In [39]:\n\ndf.columns[df.columns.isin(col_list)]\nOut[39]:\nIndex(['A', 'D'], dtype='object')\n</code></pre>\n\n<p>You now have an array of columns you can use to subset the df with</p>\n"}], "owner": {"reputation": 89, "user_id": 3277533, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/06924255644892c6b2d869bb0bc860c9?s=128&d=identicon&r=PG&f=1", "display_name": "user3277533", "link": "https://stackoverflow.com/users/3277533/user3277533"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3428, "favorite_count": 0, "accepted_answer_id": 29524878, "answer_count": 1, "score": 2, "last_activity_date": 1428525416, "creation_date": 1428521838, "last_edit_date": 1428524018, "question_id": 29523838, "link": "https://stackoverflow.com/questions/29523838/slicing-pandas-dataframe-by-column-label-using-list-of-strings", "title": "Slicing Pandas DataFrame by column label using list of strings", "body": "<p>I have two files. One contains the metadata/labels, the other contains the actual count data that has a label corresponding to the metadata file. \nI went through the metadata file and slices out the labels I wanted using Pandas and exported it into a list.</p>\n\n<p>How can I take that list of labels and use that to slice a Pandas DataFrame by column label? </p>\n\n<p>I've done something similar with row labels, but that was using Pandas .isin() function, which can't be used on columns.</p>\n\n<p>Edit:\nWhen I'm slicing out rows based on whether the name of the row is found in a list I use a one-liner similar to this</p>\n\n<pre><code>row_list = ['row_name1', 'row_name2', row_name3']\nsliced_rows = df[df['row_names'].isin(row_list)]\n\ndf = \nrow_names   1   2   3   4\nrow_name1   0   2   0   6\nrow_name5   0   0   1   0\nrow_name2   0   0   0   0\nrow_name17  0   5   6   5\n</code></pre>\n\n<p>So here I'd get <code>row_names1</code> &amp; <code>rownames_2</code></p>\n\n<p>I'm trying to do the same thing, but when row_names are labelling the columns instead of the names. </p>\n\n<p>So the matrix would look something like this. </p>\n\n<pre><code>label   column_name1    column_name2    column_name3    column_name4\n1   0   2   0   6\n2   0   0   1   0\n3   0   0   0   0\n4   0   5   6   5`\n</code></pre>\n\n<p>And I'd select by column based on whether or not the name of that column was in a list for the entire dataframe. </p>\n"}, {"tags": ["python", "py2exe"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 2482986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e63ae82fc5d5ec538cb54cdaaa2b5b8a?s=128&d=identicon&r=PG", "display_name": "Jason Pierrepont", "link": "https://stackoverflow.com/users/2482986/jason-pierrepont"}, "is_accepted": false, "score": 0, "last_activity_date": 1453049653, "creation_date": 1453049653, "answer_id": 34840913, "question_id": 29523826, "link": "https://stackoverflow.com/questions/29523826/why-isnt-py2exe-creating-an-executable/34840913#34840913", "title": "Why isn&#39;t py2exe creating an executable?", "body": "<p>You aren't specifying which file should be made into an executable. Or at least not in a way that py2exe understands. <code>entry_points</code> and <code>console_scripts</code> seem to be options unique to setuptools.</p>\n\n<p>Add either </p>\n\n<pre><code>console=['name_of_script.py']\n</code></pre>\n\n<p>or</p>\n\n<pre><code>windows=['name_of_script.py']\n</code></pre>\n\n<p>as a parameter to your <code>setup()</code> function inside the setup.py file. Depending on if you're creating a console or GUI application. These need to be lists, even if you're specifying only a single python script, although you can add more if you'd like.</p>\n\n<p>Assuming you're creating a console application, your setup function should look something like this.</p>\n\n<pre><code>setup (\n    name = \"RabbitToRaven\",\n    version = \"0.1\",\n    console = ['name_of_script.py'],\n    ...)\n</code></pre>\n\n<p>See <a href=\"http://www.py2exe.org/index.cgi/ListOfOptions\" rel=\"nofollow\">http://www.py2exe.org/index.cgi/ListOfOptions</a> for all the py2exe options.</p>\n"}], "owner": {"reputation": 165, "user_id": 428476, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/98d943b54e42d10397a1d6745a40aba1?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/428476/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 680, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1453049653, "creation_date": 1428521792, "question_id": 29523826, "link": "https://stackoverflow.com/questions/29523826/why-isnt-py2exe-creating-an-executable", "title": "Why isn&#39;t py2exe creating an executable?", "body": "<p>A few days ago I was able to create a Windows executable of my package using py2exe with no trouble. Today I tried again after completing deleting the <code>build/</code> and <code>dist/</code> folders and I don't see any errors, but I also don't get an executable in my <code>dist/</code> folder. I do get these files in <code>dist/</code>:</p>\n\n<ul>\n<li>_hashlib.pyd</li>\n<li>bz2.pyd</li>\n<li>library.zip</li>\n<li>python27.dll</li>\n<li>select.pyd</li>\n<li>unicodedata.pyd</li>\n</ul>\n\n<p>Here's my <code>setup.py</code> file:</p>\n\n<pre><code>from setuptools import setup\nimport py2exe\n\nsetup (\n    name = \"RabbitToRaven\",\n    version = \"0.1\",\n    description=\"RabbitToRaven is a utility for copying RabbitMQ messages into a RavenDB database.\",\n    author=\"Greg Major\",\n    author_email=\"\", # Removed to limit spam harvesting.\n    url=\"http://www.gregmajor.com/\",\n    packages=['RabbitToRaven'],\n    entry_points = {\n        'console_scripts': ['RabbitToRaven = RabbitToRaven.__main__:main']\n    },\n    download_url = \"http://www.gregmajor.com/\",\n    zip_safe = True\n)\n</code></pre>\n\n<p>If I run <code>$ python setup.py build</code> with <code>export DISTUTILS_DEBUG=1</code> then I get this:</p>\n\n<pre><code>options (after parsing config files):\noptions (after parsing command line):\noption dict for 'aliases' command:\n  {}\noption dict for 'build' command:\n  {'verbose': ('command line', 1)}\nrunning build\nDistribution.get_command_obj(): creating 'build' command object\n  setting options for 'build' command:\n    verbose = 1 (from command line)\nrunning build_py\nDistribution.get_command_obj(): creating 'build_py' command object\ncreating build\ncreating build\\lib\ncreating build\\lib\\RabbitToRaven\ncopying RabbitToRaven\\__init__.py -&gt; build\\lib\\RabbitToRaven\ncopying RabbitToRaven\\__main__.py -&gt; build\\lib\\RabbitToRaven\n</code></pre>\n\n<p>Here's my <code>python setup.py py2exe</code> output:</p>\n\n<pre><code>options (after parsing config files):\noptions (after parsing command line):\noption dict for 'aliases' command:\n  {}\noption dict for 'py2exe' command:\n  {}\nrunning py2exe\nDistribution.get_command_obj(): creating 'py2exe' command object\nDistribution.get_command_obj(): creating 'bdist' command object\nDistribution.get_command_obj(): creating 'build' command object\n  setting options for 'build' command:\nrunning build_py\nDistribution.get_command_obj(): creating 'build_py' command object\ncreating build\ncreating build\\lib\ncreating build\\lib\\RabbitToRaven\ncopying RabbitToRaven\\__init__.py -&gt; build\\lib\\RabbitToRaven\ncopying RabbitToRaven\\__main__.py -&gt; build\\lib\\RabbitToRaven\ncreating c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\build\\bdist.win-amd64\ncreating c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\build\\bdist.win-amd64\\winexe\ncreating c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\build\\bdist.win-amd64\\winexe\\collect-2.7\ncreating c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\build\\bdist.win-amd64\\winexe\\bundle-2.7\ncreating c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\build\\bdist.win-amd64\\winexe\\temp\ncreating c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\dist\n*** searching for required modules ***\n*** parsing results ***\ncreating python loader for extension 'unicodedata' (C:\\tools\\python2\\DLLs\\unicodedata.pyd -&gt; unicodedata.pyd)\ncreating python loader for extension 'select' (C:\\tools\\python2\\DLLs\\select.pyd -&gt; select.pyd)\ncreating python loader for extension '_hashlib' (C:\\tools\\python2\\DLLs\\_hashlib.pyd -&gt; _hashlib.pyd)\ncreating python loader for extension 'bz2' (C:\\tools\\python2\\DLLs\\bz2.pyd -&gt; bz2.pyd)\n*** finding dlls needed ***\n*** create binaries ***\n*** byte compile python files ***\nbyte-compiling C:\\tools\\python2\\Lib\\StringIO.py to StringIO.pyc\n\nsnip!!!\n\nbyte-compiling c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\lib\\warnings.py to warnings.pyc\n*** copy extensions ***\ncopying C:\\tools\\python2\\DLLs\\_hashlib.pyd -&gt; c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\dist\ncopying C:\\tools\\python2\\DLLs\\bz2.pyd -&gt; c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\dist\ncopying C:\\tools\\python2\\DLLs\\select.pyd -&gt; c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\dist\ncopying C:\\tools\\python2\\DLLs\\unicodedata.pyd -&gt; c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\dist\n*** copy dlls ***\ncopying C:\\Windows\\system32\\python27.dll -&gt; c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\dist\nsetting sys.winver for 'c:\\Users\\Greg\\Code\\LeadPipe.RabbitToRaven\\dist\\python27.dll' to 'RabbitToRaven'\n\n*** binary dependencies ***\nYour executable(s) also depend on these dlls which are not included,\nyou may or may not need to distribute them.\n\nMake sure you have the license if you distribute any of them, and\nmake sure you don't distribute files belonging to the operating system.\n\n   USER32.dll - C:\\Windows\\system32\\USER32.dll\n   SHELL32.dll - C:\\Windows\\system32\\SHELL32.dll\n   ADVAPI32.dll - C:\\Windows\\system32\\ADVAPI32.dll\n   WS2_32.dll - C:\\Windows\\system32\\WS2_32.dll\n   GDI32.dll - C:\\Windows\\system32\\GDI32.dll\n   KERNEL32.dll - C:\\Windows\\system32\\KERNEL32.dll\n</code></pre>\n\n<p>Anybody have an idea? I'm pretty new to py2exe so I'm sure it's probably just a silly oversight. For what it's worth, my virtualenv environment <em>is</em> activated and I'm building from a Bash for Git terminal (although <code>cmd.exe</code> doesn't work either).</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1428522427, "post_id": 29523772, "comment_id": 47202403, "body": "Pure functions involving lists? Are you talking about pure functions in the functional programming sense?"}], "answers": [{"comments": [{"owner": {"reputation": 51550, "user_id": 1458569, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mPKhD.png?s=128&g=1", "display_name": "Igor Chubin", "link": "https://stackoverflow.com/users/1458569/igor-chubin"}, "reply_to_user": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "edited": false, "score": 0, "creation_date": 1428522392, "post_id": 29523801, "comment_id": 47202383, "body": "@SpicyClubSauce: I was glad to help you!"}], "tags": [], "owner": {"reputation": 51550, "user_id": 1458569, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mPKhD.png?s=128&g=1", "display_name": "Igor Chubin", "link": "https://stackoverflow.com/users/1458569/igor-chubin"}, "is_accepted": false, "score": 0, "last_activity_date": 1428521719, "creation_date": 1428521719, "answer_id": 29523801, "question_id": 29523772, "link": "https://stackoverflow.com/questions/29523772/python-prime-number-function-populating-list/29523801#29523801", "title": "Python prime number function populating list", "body": "<p>Your is_prime is wrong. You must use <code>range(2,n)</code>, otherwise you will always get <code>False</code> from the function. Because, obviously, the last <code>i</code> in the range will be <code>n</code> and <code>n % i == 0</code>.</p>\n\n<pre><code>def is_prime(n):\n    #                vvv n here, not n+1\n    for i in range(2, n):\n        if n % i == 0:\n            return False\n    return True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 651, "user_id": 2856558, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41617ca7cd9e6ed3d2a868e90f973fe4?s=128&d=identicon&r=PG&f=1", "display_name": "AdmiralWen", "link": "https://stackoverflow.com/users/2856558/admiralwen"}, "edited": false, "score": 0, "creation_date": 1428522455, "post_id": 29523871, "comment_id": 47202420, "body": "And to generate the prime numbers list, we can just use <code>[i for i in range(2, 50) if is_prime(i)]</code>"}, {"owner": {"reputation": 1284, "user_id": 3889006, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eef61d4e5c2c2b4deb071d281b7af84d?s=128&d=identicon&r=PG&f=1", "display_name": "Sailesh Kotha", "link": "https://stackoverflow.com/users/3889006/sailesh-kotha"}, "reply_to_user": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "edited": false, "score": 0, "creation_date": 1428522773, "post_id": 29523871, "comment_id": 47202609, "body": "@SpicyClubSauce yea, <code>efficiency</code> matters in this world. Implement this <a href=\"http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Sieve_of_Eratosthenes</a> algorithm in your code. Its much quicker, and its dynamic programming."}], "tags": [], "owner": {"reputation": 1284, "user_id": 3889006, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eef61d4e5c2c2b4deb071d281b7af84d?s=128&d=identicon&r=PG&f=1", "display_name": "Sailesh Kotha", "link": "https://stackoverflow.com/users/3889006/sailesh-kotha"}, "is_accepted": false, "score": 0, "last_activity_date": 1428521910, "creation_date": 1428521910, "answer_id": 29523871, "question_id": 29523772, "link": "https://stackoverflow.com/questions/29523772/python-prime-number-function-populating-list/29523871#29523871", "title": "Python prime number function populating list", "body": "<p>Try this, 10x times efficient than your code when you use big numbers.  </p>\n\n<pre><code>def is_prime(n):\n    for i in range(2, int(n**0.5)+1):\n        if n % i == 0:\n            return False\n    return True\n\ndef listprimes_upto(n):\n    result = []\n    for i in range(2, n):\n        if is_prime(i):\n            result.append(i)\n    return result\n\nprint(listprimes_upto(50))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6400, "user_id": 786593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ca3156e5785370494410fc80f28a79?s=128&d=identicon&r=PG", "display_name": "wp-overwatch.com", "link": "https://stackoverflow.com/users/786593/wp-overwatch-com"}, "is_accepted": false, "score": 0, "last_activity_date": 1428523715, "last_edit_date": 1495542491, "creation_date": 1428522610, "answer_id": 29524084, "question_id": 29523772, "link": "https://stackoverflow.com/questions/29523772/python-prime-number-function-populating-list/29524084#29524084", "title": "Python prime number function populating list", "body": "<p>See <a href=\"https://stackoverflow.com/questions/3939660/sieve-of-eratosthenes-finding-primes-python\">Sieve of Eratosthenes - Finding Primes Python</a></p>\n\n<p>The Sieve of Eratosthenes is a much faster approach to finding primes.</p>\n\n<p><a href=\"http://rosettacode.org/wiki/Sieve_of_Eratosthenes#Using_numpy\" rel=\"nofollow noreferrer\">this</a> seems to be the fastest solution for finding primes in Python. There are also many other examples on this page of different ways of implementing functions to find prime numbers, although none of those examples create a second is_prime function leaving that as an exercise for you to figure out.</p>\n"}], "owner": {"reputation": 3288, "user_id": 4698759, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/abbbcd8ddb26a448b44b089c5686a496?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyClubSauce", "link": "https://stackoverflow.com/users/4698759/spicyclubsauce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1428523715, "creation_date": 1428521598, "question_id": 29523772, "link": "https://stackoverflow.com/questions/29523772/python-prime-number-function-populating-list", "title": "Python prime number function populating list", "body": "<p>so I can do this a simpler way, but I'm practicing with Pure Functions involving lists and I can't get this to work. I know i'm cheating and making it nonexact by not mentioning things like excluding 1 and not saving processesing time by only tabulating odd numbers but that's not my focus here. Pointers?</p>\n\n<pre><code>def is_prime(n):\n    for i in range(2, n+1):\n        if n % i == 0:\n            return False\n    return True\n\ndef listprimes_upto(n):\n    result = []\n    for i in range(2, n):\n        if is_prime(i):\n            result.append(i)\n    return result\n\nprint(listprimes_upto(50))\n</code></pre>\n\n<p>(here's the easier non-list version that works fine):</p>\n\n<pre><code>def listprimesupto(n):\n    for p in range(2, n+1):\n        for i in range(2, p):\n            if p % i ==0:\n                break\n        else:\n            print(p)  \n\nlistprimesupto(50)\n</code></pre>\n"}, {"tags": ["python", "linux", "unix"], "comments": [{"owner": {"reputation": 3457, "user_id": 3108853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3d997e8c35cb14623d4dc4de494801?s=128&d=identicon&r=PG&f=1", "display_name": "lsowen", "link": "https://stackoverflow.com/users/3108853/lsowen"}, "edited": false, "score": 0, "creation_date": 1428521494, "post_id": 29523657, "comment_id": 47201847, "body": "Are you wanting to log other exits, or just when <code>ctrl + c</code> is used?"}, {"owner": {"reputation": 6879, "user_id": 780719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZwWs8.png?s=128&g=1", "display_name": "Codie CodeMonkey", "link": "https://stackoverflow.com/users/780719/codie-codemonkey"}, "edited": false, "score": 0, "creation_date": 1428521565, "post_id": 29523657, "comment_id": 47201899, "body": "You want to read about python exception handling.  <a href=\"https://docs.python.org/3/tutorial/errors.html\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/errors.html</a>"}, {"owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "edited": false, "score": 0, "creation_date": 1428522125, "post_id": 29523657, "comment_id": 47202218, "body": "It would be more helpful if you told us why your code is &quot;force exiting&quot;"}, {"owner": {"reputation": 7031, "user_id": 28855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8a62c5134a4ff7b618582d8dd267d2b5?s=128&d=identicon&r=PG", "display_name": "Jaime Soriano", "link": "https://stackoverflow.com/users/28855/jaime-soriano"}, "edited": false, "score": 0, "creation_date": 1428528286, "post_id": 29523657, "comment_id": 47205562, "body": "Take a look to <code>atexit</code> too <a href=\"https://docs.python.org/2/library/atexit.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/atexit.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "is_accepted": true, "score": 2, "last_activity_date": 1428528931, "last_edit_date": 1428528931, "creation_date": 1428521520, "answer_id": 29523743, "question_id": 29523657, "link": "https://stackoverflow.com/questions/29523657/how-to-prevent-python-script-from-force-exit/29523743#29523743", "title": "How to prevent Python script from Force exit?", "body": "<p><strong>UPDATED</strong></p>\n\n<p>Use try and except:</p>\n\n<pre><code>try:\n    signal.signal(signal.SIGUSR1, handler)\n    logging.info(\"Checked for signal to stop\")\n    if stop:\n        logging.info(\"Inside of main if loop for stop signal\")\n        logging.info(\"Stop signal captured. Exiting the program\")\n        smtpObj.sendmail(sender, receivers, message + \"Stop signal captured.     Exiting the program\")\n        sys.exit(\"EXIT SIGNAL CAPTURED: EXITING\")\nexcept KeyboardInterrupt as kbe:\n    log.info(str(kbe))\n</code></pre>\n\n<p>You could also leverage the <code>atexit</code> module to execute a function when the script exits.</p>\n\n<pre><code>import atexit\n\ndef alldone():\n    log.warning('Something went wrong')\n\n# your code here...\n</code></pre>\n\n<p><a href=\"https://docs.python.org/2/library/atexit.html\" rel=\"nofollow\">https://docs.python.org/2/library/atexit.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 4703542, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4fe8aa5c71508fa8c235f7ba8f442ad?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4703542/tim"}, "edited": false, "score": 0, "creation_date": 1428523897, "post_id": 29523748, "comment_id": 47203294, "body": "I edited the question. I was using something similar but does this catch all exiting? such as ctrl + c ?"}, {"owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "reply_to_user": {"reputation": 93, "user_id": 4703542, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4fe8aa5c71508fa8c235f7ba8f442ad?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4703542/tim"}, "edited": false, "score": 0, "creation_date": 1428525837, "post_id": 29523748, "comment_id": 47204313, "body": "You should try running the script and test to see what happens when you send different signals... it&#39;s just an indefinite loop that prints the time once a second - and calls the handler for pretty much any signal it receives. In the case of UN*X, for example, a CTRL-C sends signal 2 (signal.SIGINT). In the case of your rephrased question, you likely just want to set SIGINT to be handled by a function like &quot;stop&quot; (which should be a def, not an if, which accepts two arguments)."}], "tags": [], "owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "is_accepted": false, "score": 0, "last_activity_date": 1428522802, "last_edit_date": 1428522802, "creation_date": 1428521537, "answer_id": 29523748, "question_id": 29523657, "link": "https://stackoverflow.com/questions/29523657/how-to-prevent-python-script-from-force-exit/29523748#29523748", "title": "How to prevent Python script from Force exit?", "body": "<p>You should likely take a look at <a href=\"https://docs.python.org/2/library/signal.html\" rel=\"nofollow\">Python Signal Handlers</a> (specifically signal.CTRL_C_EVENT).</p>\n\n<p>Here is a more-complete answer... NOTE: You can make your processes fairly unkillable by using such things.</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport signal, os\nimport time\n\ndef handler( signum, frame ):\n  print \"Signal handler caught\", signum, \"@\", time.ctime()\n  if signum == 2:\n    raise \"Caught Signal 2 - Exiting\"\n\n#\n# Windows Supported Values\n#\n#signal.signal( signal.SIGABRT, handler )\n#signal.signal( signal.SIGFPE, handler )\n#signal.signal( signal.SIGILL, handler )\n#signal.signal( signal.SIGINT, handler )\n#signal.signal( signal.SIGSEGV, handler )\n#signal.signal( signal.SIGTERM, handler )\n\n#\n# UNIX Supported Values (YMMV)\n#\nsignal.signal( signal.SIGABRT, handler )\nsignal.signal( signal.SIGALRM, handler )\nsignal.signal( signal.SIGBUS, handler )\nsignal.signal( signal.SIGCHLD, handler )\nsignal.signal( signal.SIGCLD, handler )\nsignal.signal( signal.SIGCONT, handler )\nsignal.signal( signal.SIGFPE, handler )\nsignal.signal( signal.SIGHUP, handler )\nsignal.signal( signal.SIGILL, handler )\nsignal.signal( signal.SIGINT, handler )\nsignal.signal( signal.SIGIO, handler )\nsignal.signal( signal.SIGIOT, handler )\n#signal.signal( signal.SIGKILL, handler )\nsignal.signal( signal.SIGPIPE, handler )\nsignal.signal( signal.SIGPOLL, handler )\nsignal.signal( signal.SIGPROF, handler )\nsignal.signal( signal.SIGPWR, handler )\nsignal.signal( signal.SIGQUIT, handler )\nsignal.signal( signal.SIGRTMAX, handler )\nsignal.signal( signal.SIGRTMIN, handler )\nsignal.signal( signal.SIGSEGV, handler )\n#signal.signal( signal.SIGSTOP, handler )\nsignal.signal( signal.SIGSYS, handler )\nsignal.signal( signal.SIGTERM, handler )\nsignal.signal( signal.SIGTRAP, handler )\nsignal.signal( signal.SIGTSTP, handler )\nsignal.signal( signal.SIGTTIN, handler )\nsignal.signal( signal.SIGTTOU, handler )\nsignal.signal( signal.SIGURG, handler )\nsignal.signal( signal.SIGUSR1, handler )\nsignal.signal( signal.SIGUSR2, handler )\nsignal.signal( signal.SIGVTALRM, handler )\nsignal.signal( signal.SIGWINCH, handler )\nsignal.signal( signal.SIGXCPU, handler )\nsignal.signal( signal.SIGXFSZ, handler )\n#signal.signal( signal.SIG_DFL, handler )\nsignal.signal( signal.SIG_IGN, handler )\n\n\nprint time.ctime(), \" - Started\"\n\nwhile True:\n  time.sleep( 1 )\n  print \" Tick:\", time.ctime()\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4703542, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4fe8aa5c71508fa8c235f7ba8f442ad?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4703542/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 0, "accepted_answer_id": 29523743, "answer_count": 2, "score": 1, "last_activity_date": 1428528931, "creation_date": 1428521275, "last_edit_date": 1428526957, "question_id": 29523657, "link": "https://stackoverflow.com/questions/29523657/how-to-prevent-python-script-from-force-exit", "title": "How to prevent Python script from Force exit?", "body": "<p>I am running a python script and trying to prevent from force exiting or print an error message or log that into the log file.</p>\n\n<p>I am already using <code>logging.info(\"\")</code> for logging.. or just <code>print</code> for printing something..</p>\n\n<p>but what or how do I create a method or function that can either do print or log when it force exit? </p>\n\n<p>For example, if my test.py is running and I press <kbd>Ctrl + C</kbd> to exit out.. I want to log that or print out.. </p>\n\n<pre><code>signal.signal(signal.SIGUSR1, handler)\nlogging.info(\"Checked for signal to stop\")\nif stop:\n        logging.info(\"Inside of main if loop for stop signal\")\n        logging.info(\"Stop signal captured. Exiting the program\")\n        smtpObj.sendmail(sender, receivers, message + \"Stop signal captured. Exiting the program\")\n        sys.exit(\"EXIT SIGNAL CAPTURED: EXITING\")\n</code></pre>\n\n<p>I am using above coding for logging for when I want to exit the program.\nBut this doesn't deal with something like <code>ctrl + c</code> I want to also log just in case program exit by accident or something</p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 5433, "user_id": 841339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c6d669eb872c414d81490f00a2e626?s=128&d=identicon&r=PG", "display_name": "Mauro Baraldi", "link": "https://stackoverflow.com/users/841339/mauro-baraldi"}, "edited": false, "score": 0, "creation_date": 1428521553, "post_id": 29523639, "comment_id": 47201889, "body": "This is an error with your regex. Post it here!"}, {"owner": {"reputation": 1284, "user_id": 3889006, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eef61d4e5c2c2b4deb071d281b7af84d?s=128&d=identicon&r=PG&f=1", "display_name": "Sailesh Kotha", "link": "https://stackoverflow.com/users/3889006/sailesh-kotha"}, "edited": false, "score": 0, "creation_date": 1428521563, "post_id": 29523639, "comment_id": 47201895, "body": "How did you install? Like this<code>pip install beautifulsoup4</code>??"}, {"owner": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "reply_to_user": {"reputation": 5433, "user_id": 841339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c6d669eb872c414d81490f00a2e626?s=128&d=identicon&r=PG", "display_name": "Mauro Baraldi", "link": "https://stackoverflow.com/users/841339/mauro-baraldi"}, "edited": false, "score": 0, "creation_date": 1428522323, "post_id": 29523639, "comment_id": 47202336, "body": "@MauroBaraldi Forgive my ignorance, but I am not sure what you mean by post my regex."}, {"owner": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "reply_to_user": {"reputation": 1284, "user_id": 3889006, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eef61d4e5c2c2b4deb071d281b7af84d?s=128&d=identicon&r=PG&f=1", "display_name": "Sailesh Kotha", "link": "https://stackoverflow.com/users/3889006/sailesh-kotha"}, "edited": false, "score": 0, "creation_date": 1428522364, "post_id": 29523639, "comment_id": 47202362, "body": "@sailesh Yes, that is how I installed using pip."}, {"owner": {"reputation": 5433, "user_id": 841339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c6d669eb872c414d81490f00a2e626?s=128&d=identicon&r=PG", "display_name": "Mauro Baraldi", "link": "https://stackoverflow.com/users/841339/mauro-baraldi"}, "edited": false, "score": 0, "creation_date": 1428522470, "post_id": 29523639, "comment_id": 47202428, "body": "Could you post the part of the code that breaks?"}, {"owner": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "edited": false, "score": 0, "creation_date": 1428522802, "post_id": 29523639, "comment_id": 47202628, "body": "The code breaks when I type import bs4"}, {"owner": {"reputation": 1284, "user_id": 3889006, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eef61d4e5c2c2b4deb071d281b7af84d?s=128&d=identicon&r=PG&f=1", "display_name": "Sailesh Kotha", "link": "https://stackoverflow.com/users/3889006/sailesh-kotha"}, "edited": false, "score": 0, "creation_date": 1428522978, "post_id": 29523639, "comment_id": 47202749, "body": "<code>pip install beautifulsoup4 --upgrade</code> try this and import again. Tell me if this doesn&#39;t work"}, {"owner": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "edited": false, "score": 0, "creation_date": 1428523764, "post_id": 29523639, "comment_id": 47203223, "body": "I upgraded as you suggested. Now it works under the default python executable. However, I need to run the python executable that is including the folder C:\\Python27\\ArcGIS10.2 (to work with GIS scripts in ArcGIS). I am still getting the error message when running the ArcGIS python executable. Is this because pip is only installing for the default python.exe? If this is the case, why is bs4 installing in the ArcGIS site-packages?"}, {"owner": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "edited": false, "score": 0, "creation_date": 1428526962, "post_id": 29523639, "comment_id": 47204904, "body": "Interestingly, BeautifulSoup loads in python when called from within ArcGIS 10.2, but not when I run the python executable by itself. This may be more of a case of ArcGIS misbehaving."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4761201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/67vSz.gif?s=128&g=1", "display_name": "Qu3ntin0", "link": "https://stackoverflow.com/users/4761201/qu3ntin0"}, "reply_to_user": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "edited": false, "score": 0, "creation_date": 1428527130, "post_id": 29525136, "comment_id": 47205004, "body": "can you post the part of the script which uses the bs4 module?"}, {"owner": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "edited": false, "score": 0, "creation_date": 1428527461, "post_id": 29525136, "comment_id": 47205163, "body": "from bs4 import BeautifulSoup ## yields error message. Then, when I type soup = BeautifulSoup(html), I receive the error &quot;Beautiful Soup is not defined&quot;"}, {"owner": {"reputation": 103, "user_id": 4761201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/67vSz.gif?s=128&g=1", "display_name": "Qu3ntin0", "link": "https://stackoverflow.com/users/4761201/qu3ntin0"}, "reply_to_user": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "edited": false, "score": 0, "creation_date": 1428529196, "post_id": 29525136, "comment_id": 47206007, "body": "run this command and reply with the output: <code>pip freeze | grep -i &quot;soup&quot;</code>"}, {"owner": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "edited": false, "score": 0, "creation_date": 1428586245, "post_id": 29525136, "comment_id": 47231755, "body": "I ran pip freeze | finstr /i &quot;soup&quot;. The output was BeautifulSoup==3.2.1, beautifulsoup4==4.3.2. I uninstalled BeautifulSoup 3, but that didn&#39;t solve the issue."}], "tags": [], "owner": {"reputation": 103, "user_id": 4761201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/67vSz.gif?s=128&g=1", "display_name": "Qu3ntin0", "link": "https://stackoverflow.com/users/4761201/qu3ntin0"}, "is_accepted": false, "score": 3, "last_activity_date": 1428526354, "creation_date": 1428526354, "answer_id": 29525136, "question_id": 29523639, "link": "https://stackoverflow.com/questions/29523639/errors-importing-beautifulsoup4/29525136#29525136", "title": "Errors importing BeautifulSoup4", "body": "<p>Try:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n</code></pre>\n"}], "owner": {"reputation": 819, "user_id": 3781009, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/XIh0x.jpg?s=128&g=1", "display_name": "user44796", "link": "https://stackoverflow.com/users/3781009/user44796"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428526354, "creation_date": 1428521234, "question_id": 29523639, "link": "https://stackoverflow.com/questions/29523639/errors-importing-beautifulsoup4", "title": "Errors importing BeautifulSoup4", "body": "<p>I am trying to import BeautifulSoup4, but am running into importation issues.</p>\n\n<p>I am running Python 2.7.9 as 32 bit Windows (MSC v.1500)</p>\n\n<p>I attempted to install BeautifulSoup4 as both a tarball and using pip. Both attempts have \"installed\" bs4, but import bs4 yields:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\site-packages\\bs4\\__init__.py\", line 29, in &lt;module&gt;\n    from .builder import builder_registry\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\site-packages\\bs4\\builder\\__init__.py\", line 294, in &lt;module&gt;\n    from . import _htmlparser\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\site-packages\\bs4\\builder\\_htmlparser.py\", line 7, in &lt;module&gt;\n    from HTMLParser import (\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\HTMLParser.py\", line 47, in &lt;module&gt;\n    \"\"\", re.VERBOSE)\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\re.py\", line 190, in compile\n    return _compile(pattern, flags)\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\re.py\", line 242, in _compile\n    raise error, v # invalid expression\nsre_constants.error: nothing to repeat\n</code></pre>\n\n<p>I have no idea how to fix this. Any help would be appreciated.</p>\n"}, {"tags": ["python", "django", "http-status-code-404", "brokenimage"], "comments": [{"owner": {"reputation": 660, "user_id": 2496357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEGIZ.jpg?s=128&g=1", "display_name": "Elwin", "link": "https://stackoverflow.com/users/2496357/elwin"}, "edited": false, "score": 0, "creation_date": 1428529742, "post_id": 29523614, "comment_id": 47206290, "body": "Try to rename {{blog.image1.url}} to {{ post.image1.url }} in index.html, since image1 is a field of Posts."}, {"owner": {"reputation": 660, "user_id": 2496357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEGIZ.jpg?s=128&g=1", "display_name": "Elwin", "link": "https://stackoverflow.com/users/2496357/elwin"}, "edited": false, "score": 0, "creation_date": 1428529941, "post_id": 29523614, "comment_id": 47206384, "body": "And you should rename posts to Posts. Classnames are always written with capitals."}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "is_accepted": false, "score": 0, "last_activity_date": 1428531408, "creation_date": 1428531408, "answer_id": 29526321, "question_id": 29523614, "link": "https://stackoverflow.com/questions/29523614/django-broken-thumbnails/29526321#29526321", "title": "django broken thumbnails", "body": "<p>It is appended to your MEDIA_ROOT setting.\n<a href=\"https://docs.djangoproject.com/en/1.8/ref/models/fields/#django.db.models.FileField.upload_to\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.8/ref/models/fields/#django.db.models.FileField.upload_to</a></p>\n\n<p>Set a media root for uploaded files the to retrieve the files, ill give you an example:</p>\n\n<pre><code># settings.py\nMEDIA_ROOT = os.path.join(BASE_DIR, 'media')\n\n# models\nclass Blog(models.Model):\n    main_image = models.ImageField(default='none/none.jpg', upload_to='blog'\n\n# template\n&lt;img src=\"/media/{{ blog.main_image }}\"&gt;\n\n# media folder after\nmedia/blog/imageuploaded.jpg\nmedia/none/none.jpg  # This file was already created\n</code></pre>\n\n<p>To upload to the static directory change</p>\n\n<pre><code>MEDIA_ROOT = STATIC_ROOT or STATICFILES_DIRS[0]\n</code></pre>\n\n<p>Though this is absolutely not recommended!</p>\n"}], "owner": {"reputation": 19, "user_id": 1968657, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0c2c3a9d817178039c469b00434cd14f?s=128&d=identicon&r=PG", "display_name": "user1968657", "link": "https://stackoverflow.com/users/1968657/user1968657"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428531408, "creation_date": 1428521155, "question_id": 29523614, "link": "https://stackoverflow.com/questions/29523614/django-broken-thumbnails", "title": "django broken thumbnails", "body": "<p>I am trying to make a blog with an imagefield for my posts. I have imageupload working in the django admin panel but I have broken thumbnails. If I click on the images I got a 404 error with the following:</p>\n\n<pre><code>Using the URLconf defined in firstblog.urls, Django tried these URL patterns, in this order:\n\n^$ [name='home']\n^admin/\n\nThe current URL, images/heroimage/, didn't match any of these.\n</code></pre>\n\n<p>in my models.py I have:</p>\n\n<pre><code>from django.db import models\nfrom django.db.models import permalink\n\n\nclass posts(models.Model):\n\nauthor = models.CharField(max_length = 45)\ntitle = models.CharField(max_length = 100)\nbodytext = models.TextField()\ntimestamp = models.DateTimeField()\nimage1 = models.ImageField(upload_to=\"images/heroimage/\", default='')\ncategory = models.ForeignKey('blog.Category', default='')\n\n\ndef __unicode__(self):\n return '%s' % self.title\n\n@permalink\ndef get_absolute_url(self):\n return ('view_blog_post', None, { 'slug': self.slug })\n\n\n\nclass Category(models.Model):\ntitle = models.CharField(max_length=100, db_index=True)\nslug = models.SlugField(max_length=100, db_index=True)\n\n\ndef __unicode__(self):\n return '%s' % self.title\n\n@permalink\ndef get_absolute_url(self):\n return ('view_blog_category', None, { 'slug': self.slug })\n</code></pre>\n\n<p>What I'm trying to do is to have the image that was uploaded to the post, displayed on the site.</p>\n\n<p>Here is my index.html where I try to call the image to the post.</p>\n\n<pre><code>  &lt;div class=\"container\"&gt;\n        &lt;h1&gt;First Blog&lt;/h1&gt;\n    {% for post in posts %}\n    &lt;div class=\"posts\"&gt;\n        &lt;p&gt;&lt;a href=\"/images/heroimage/{{blog.slug}}\"&gt; &lt;img src=\"{{blog.image1.url}}\" /&gt; {{ blog }}&lt;/a&gt;&lt;/p&gt;\n        &lt;h2&gt;{{ post.title }}&lt;/h2&gt;\n        &lt;h3&gt;Posted on {{ post.timestamp }} by {{ post.author }}&lt;/h3&gt;\n        &lt;p&gt; {{ post.bodytext }}&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;hr&gt;\n    {% endfor %}\n\n    &lt;/div&gt;\n</code></pre>\n\n<p>my django project I created was called firstblog , I then have an app named blog. In the root of my project folder \"firstblog\" I have a folder for images and then a sub folder inside that one called heroimage.</p>\n\n<p>Can anyone help me get this working?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1428521098, "post_id": 29523564, "comment_id": 47201609, "body": "Which line is raising the error?"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1428521109, "post_id": 29523564, "comment_id": 47201614, "body": "Are you sure that <code>splitFile</code> is returning what it is supposed to return?"}, {"owner": {"reputation": 80605, "user_id": 1281433, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/O8XCE.png?s=128&g=1", "display_name": "Joshua Taylor", "link": "https://stackoverflow.com/users/1281433/joshua-taylor"}, "edited": false, "score": 1, "creation_date": 1428521119, "post_id": 29523564, "comment_id": 47201621, "body": "Most likely, either <code>newlist</code> or <code>eachItem[1]</code> is <code>None</code>, and you can&#39;t iterate over it."}, {"owner": {"reputation": 224, "user_id": 3728937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EB8Cg.jpg?s=128&g=1", "display_name": "RVT", "link": "https://stackoverflow.com/users/3728937/rvt"}, "edited": false, "score": 1, "creation_date": 1428521223, "post_id": 29523564, "comment_id": 47201679, "body": "Having the actual stackdump with the line numbers would likely help, here."}, {"owner": {"reputation": 1, "user_id": 4552219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a70e556573ec56002a147ebdc633b73?s=128&d=identicon&r=PG&f=1", "display_name": "Thujhan Yogeswaran", "link": "https://stackoverflow.com/users/4552219/thujhan-yogeswaran"}, "edited": false, "score": 0, "creation_date": 1428521368, "post_id": 29523564, "comment_id": 47201767, "body": "I couldnt put all of the code but  i think it is just the lines with asterisks causing the problems, as it worked fine up to this point"}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428521769, "post_id": 29523729, "comment_id": 47202006, "body": "<code>print()</code> it before trying to iterate over it so you can see what it is."}, {"owner": {"reputation": 1, "user_id": 4552219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a70e556573ec56002a147ebdc633b73?s=128&d=identicon&r=PG&f=1", "display_name": "Thujhan Yogeswaran", "link": "https://stackoverflow.com/users/4552219/thujhan-yogeswaran"}, "edited": false, "score": 0, "creation_date": 1428521967, "post_id": 29523729, "comment_id": 47202127, "body": "allTown and townsList both print out stuff, but when i print townsList it says none at the end, which maybe the problem, any thoughts on how to fix this?"}, {"owner": {"reputation": 5833, "user_id": 4616655, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d900d7c15130c5fd4464aed9baa6af25?s=128&d=identicon&r=PG", "display_name": "MasterOdin", "link": "https://stackoverflow.com/users/4616655/masterodin"}, "edited": false, "score": 0, "creation_date": 1428522654, "post_id": 29523729, "comment_id": 47202528, "body": "Could you paste what all they actually print (as well as what splitFile does) in your question? Just saying &quot;they print stuff&quot; doesn&#39;t really allow us to debug why it might be wrong."}], "tags": [], "owner": {"reputation": 5833, "user_id": 4616655, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d900d7c15130c5fd4464aed9baa6af25?s=128&d=identicon&r=PG", "display_name": "MasterOdin", "link": "https://stackoverflow.com/users/4616655/masterodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1428521482, "creation_date": 1428521482, "answer_id": 29523729, "question_id": 29523564, "link": "https://stackoverflow.com/questions/29523564/python-error-typeerror-nonetype-object-is-not-iterable/29523729#29523729", "title": "Python error, &#39;TypeError: &#39;NoneType&#39; object is not iterable&#39;", "body": "<p>Based off what you've said, one of these functions is causing an issue:</p>\n\n<pre><code>allTowns = readsFile()\ntownsList = splitFile(allTowns)\n</code></pre>\n\n<p>as townsList is defined to None when you attempt to iterate through it inside of <code>searchCounty()</code>.</p>\n\n<p>Here's what's essentially happening (as done in the python shell):</p>\n\n<pre><code>&gt;&gt;&gt; for i in None:\n...     pass\n... \nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: 'NoneType' object is not iterable\n</code></pre>\n\n<p>so you should check that allTowns is right as well as townsList.</p>\n"}, {"tags": [], "owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "is_accepted": false, "score": 0, "last_activity_date": 1428527643, "creation_date": 1428527643, "answer_id": 29525455, "question_id": 29523564, "link": "https://stackoverflow.com/questions/29523564/python-error-typeerror-nonetype-object-is-not-iterable/29525455#29525455", "title": "Python error, &#39;TypeError: &#39;NoneType&#39; object is not iterable&#39;", "body": "<p>I think your problem is in this line of code:</p>\n\n<pre><code> if whatCounty in eachItem[1]:\n</code></pre>\n\n<p>you should be comparing for equality there rather than containment.</p>\n\n<pre><code> if whatCounty == eachItem[1]:\n</code></pre>\n\n<p>should give you the comparison you are trying to accomplish.</p>\n"}], "owner": {"reputation": 1, "user_id": 4552219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a70e556573ec56002a147ebdc633b73?s=128&d=identicon&r=PG&f=1", "display_name": "Thujhan Yogeswaran", "link": "https://stackoverflow.com/users/4552219/thujhan-yogeswaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 577, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1428527643, "creation_date": 1428520968, "last_edit_date": 1428526057, "question_id": 29523564, "link": "https://stackoverflow.com/questions/29523564/python-error-typeerror-nonetype-object-is-not-iterable", "title": "Python error, &#39;TypeError: &#39;NoneType&#39; object is not iterable&#39;", "body": "<p>Here is the code that python is saying that caused the error.\nThis is when i define it</p>\n\n<pre><code>   *def searchCounty(newlist):\n        whatCounty = input(\"Which county are you looking for?\\n\")\n        **for eachItem in newlist:**\n                if whatCounty in eachItem[1]:\n                    print(\"Town:\", eachItem[0], \", County:\", eachItem[1], \", Population:\", eachItem[2], \", Area:\", eachItem[3])*\n</code></pre>\n\n<p>and this is where i call it back.</p>\n\n<pre><code>allTowns = readsFile()\ntownsList = splitFile(allTowns)\nuserChoice = displayMenu()\nif userChoice == \"a\":\n    searchTown(townsList)    #calls function using the townsList created 3 lines above\nelif userChoice == \"b\":\n    **searchCounty(townsList)**\nelif userChoice == \"q\":\n    print(\"Goodbye!\")\nelse:\n    print(\"Invalid input please enter a, b or q\")\n</code></pre>\n\n<p>Please help.The lines with 2 asterisks are the ones causing the error.And the two variables ( allTowns and townsList) print out a bunch of lists that have a mixture of strings and numbers , but when the second one is executed it says none on screen.I am guessing split file splits up the the big list into many lists, as that is what allTowns is initially, as i honestly dont know for sure what it does.</p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 7615, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 1, "creation_date": 1428521674, "post_id": 29523558, "comment_id": 47201958, "body": "Can you expand on &quot;<i>bad results</i>&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 4373209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a18d98782625e06130244bfdbe9bcec?s=128&d=identicon&r=PG&f=1", "display_name": "Simon WoodburyForget", "link": "https://stackoverflow.com/users/4373209/simon-woodburyforget"}, "is_accepted": false, "score": 0, "last_activity_date": 1428523830, "last_edit_date": 1428523830, "creation_date": 1428523516, "answer_id": 29524334, "question_id": 29523558, "link": "https://stackoverflow.com/questions/29523558/newbie-python-beautifulsoup-extract-articlebody-from-newsarticle/29524334#29524334", "title": "newbie python beautifulSoup extract articlebody from NewsArticle", "body": "<p>When you say ('section',{\"class\" : \"article-body\"}) you are asking for the articale-body class. This means its going to give you well... everything back....</p>\n\n<p>What you want to do, is specify items in it. In this case, you can go down to 'p'\nlike this.</p>\n\n<pre><code>&gt;&gt;&gt; soup = BeautifulSoup(data)\n&gt;&gt;&gt; p = soup.findAll('p')\n&gt;&gt;&gt; print(p)\n[&lt;p&gt;bla1 bla1 bla1&lt;/p&gt;, &lt;p&gt;bla2 bla2 bla2&lt;/p&gt;, &lt;p&gt;bla3 bla3 bla3&lt;/p&gt;]\n&gt;&gt;&gt; print(p[1].text)\nbla2 bla2 bla2\n</code></pre>\n\n<p>Note: that you can only .text when its on the list item, not on the list it self.</p>\n\n<p>Has you see, it finds all p elements then gives you a list of every element it found. This will select all p elements though, so if i wanted to select specifically this you'd do something like:</p>\n\n<pre><code>soup = BeautifulSoup(data)\nresult = soup.find('section', {'class': 'article-body'})\nresults = result.findAll('p')\nfor p in results:\n    print(p, p.text)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;p&gt;bla1 bla1 bla1&lt;/p&gt; bla1 bla1 bla1\n&lt;p&gt;bla2 bla2 bla2&lt;/p&gt; bla2 bla2 bla2\n&lt;p&gt;bla3 bla3 bla3&lt;/p&gt; bla3 bla3 bla3\n</code></pre>\n\n<p>So to get the raw text of the elements with headers what ever you want again. Just remember, find all gives you a list, find gives you the first element it falls on. </p>\n\n<p>Edit: fixed some copy pasting errors.</p>\n"}], "owner": {"reputation": 1, "user_id": 4765714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GXtof.gif?s=128&g=1", "display_name": "jokermania", "link": "https://stackoverflow.com/users/4765714/jokermania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543838113, "creation_date": 1428520951, "last_edit_date": 1543838113, "question_id": 29523558, "link": "https://stackoverflow.com/questions/29523558/newbie-python-beautifulsoup-extract-articlebody-from-newsarticle", "title": "newbie python beautifulSoup extract articlebody from NewsArticle", "body": "<p>I've the following XML portion:</p>\n\n<pre><code>&lt;section class=\"article-body\"&gt;\n         &lt;!-- &lt;EdIndex&gt; --&gt;\n         &lt;div class=\"squared-inline-picture-offset no-mobile\"&gt;\n          &lt;picture class=\"lazy square pull-left\"&gt;\n           &lt;img height=\"\" width=\"\" alt=\"\" src=\"\" class=\"loaded\"&gt;\n           &lt;noscript&gt;&lt;img src=\"\" width=\"\" height=\"\" alt=\"\" /&gt;&lt;/noscript&gt;\n          &lt;/picture&gt;\n         &lt;/div&gt;    \n         &lt;p&gt;bla1 bla1 bla1&lt;/p&gt;\n         &lt;p&gt;bla2 bla2 bla2&lt;/p&gt;\n         &lt;p&gt;bla3 bla3 bla3&lt;/p&gt;\n         &lt;!-- &lt;/EdIndex&gt; --&gt;\n         &lt;div class=\"adv no-mobile\"&gt;\n         &lt;/div&gt;\n   &lt;/section&gt;\n</code></pre>\n\n<p>and I need to extract the \"bla bla bla\" part.\nI tried with</p>\n\n<pre><code> soup = BeautifulSoup(data)\n  [...] \n soup.findAll('section',{\"class\" : \"article-body\"})\n</code></pre>\n\n<p>with bad results:(</p>\n\n<p>any hint?\nAre there any quickly way to get article body from <a href=\"http://schema.org/NewsArticle\" rel=\"nofollow noreferrer\">http://schema.org/NewsArticle</a> using python and BeautifulSoup?</p>\n"}, {"tags": ["python", "pdb"], "comments": [{"owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "edited": false, "score": 0, "creation_date": 1428521435, "post_id": 29523526, "comment_id": 47201807, "body": "I don&#39;t think you can unfortunately (it drives me crazy too). I usually have another tab with the interpreter running so that I can call <code>help()</code>.  I really hope I&#39;m wrong and there&#39;s a way to do this."}, {"owner": {"reputation": 67418, "user_id": 418413, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e459bf8123c85dc2c708ee8210c0320b?s=128&d=identicon&r=PG", "display_name": "kojiro", "link": "https://stackoverflow.com/users/418413/kojiro"}, "edited": false, "score": 0, "creation_date": 1428521764, "post_id": 29523526, "comment_id": 47202005, "body": "Related: <a href=\"http://stackoverflow.com/questions/7123660/python-help-function-printing-docstrings\">python \u201chelp\u201d function: printing docstrings</a>"}], "answers": [{"tags": [], "owner": {"reputation": 822, "user_id": 561837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a957a2f5e61199fdb528ea4e9726e73b?s=128&d=identicon&r=PG", "display_name": "valdarin", "link": "https://stackoverflow.com/users/561837/valdarin"}, "is_accepted": true, "score": 6, "last_activity_date": 1428521483, "creation_date": 1428521483, "answer_id": 29523730, "question_id": 29523526, "link": "https://stackoverflow.com/questions/29523526/how-to-call-help-from-within-pdb/29523730#29523730", "title": "How to call help() from within pdb", "body": "<p>If you want to evaluate an expression using PDB, you use <code>p</code>.</p>\n\n<pre><code>(Pdb) p help(list)\n</code></pre>\n\n<p>The debugger command docs are here: <a href=\"https://docs.python.org/2/library/pdb.html#debugger-commands\" rel=\"noreferrer\">PDB Debugger Commands</a></p>\n"}, {"comments": [{"owner": {"reputation": 12054, "user_id": 1695680, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/407d4b68afe5b3a71e84a1a3d5811cff?s=128&d=identicon&r=PG", "display_name": "ThorSummoner", "link": "https://stackoverflow.com/users/1695680/thorsummoner"}, "edited": false, "score": 0, "creation_date": 1490110728, "post_id": 42923993, "comment_id": 72960705, "body": "Worked for me - Can you reference and authority that indicates this should be the cannonical answer?"}], "tags": [], "owner": {"reputation": 496, "user_id": 6897811, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ede9e7797056d19de94b6300399548d7?s=128&d=identicon&r=PG&f=1", "display_name": "MarcoMag", "link": "https://stackoverflow.com/users/6897811/marcomag"}, "is_accepted": false, "score": 2, "last_activity_date": 1490091019, "creation_date": 1490091019, "answer_id": 42923993, "question_id": 29523526, "link": "https://stackoverflow.com/questions/29523526/how-to-call-help-from-within-pdb/42923993#42923993", "title": "How to call help() from within pdb", "body": "<p>I had problems to get help from pdb too but apparently, inserting <code>!</code> before the command does the job like:</p>\n\n<pre><code>(Pdb++) !help(help)\n</code></pre>\n"}], "owner": {"reputation": 12054, "user_id": 1695680, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/407d4b68afe5b3a71e84a1a3d5811cff?s=128&d=identicon&r=PG", "display_name": "ThorSummoner", "link": "https://stackoverflow.com/users/1695680/thorsummoner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 29523730, "answer_count": 2, "score": 3, "last_activity_date": 1490091019, "creation_date": 1428520859, "question_id": 29523526, "link": "https://stackoverflow.com/questions/29523526/how-to-call-help-from-within-pdb", "title": "How to call help() from within pdb", "body": "<p>I'd like to have the interactivity of pdb, but also need to use python's help function to introspect objects/methods that I am not familiar with using.</p>\n\n<p>How can I use python's help() from pdb?</p>\n\n<p>everything I try gives me:</p>\n\n<pre><code>(Pdb) help(help)\n*** No help on (help)\n(Pdb) help(list())\n*** No help on (list())\n</code></pre>\n"}, {"tags": ["python", "django", "twitter-bootstrap-3"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71f15a1b20b89326ce9463e42cfe8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roh Codeur", "link": "https://stackoverflow.com/users/4763085/roh-codeur"}, "edited": false, "score": 0, "creation_date": 1428525074, "post_id": 29523947, "comment_id": 47203894, "body": "I am not sure I understand the flow. How does the method login_required_ajax_view get called? Are you suggesting that I put a call to login_required (javascript/jquery method) on each anchor element in my html? This would call login_required_ajax_view on the backend, if logged_in then redirect to page else open login/sign up modal."}, {"owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "reply_to_user": {"reputation": 41, "user_id": 4763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71f15a1b20b89326ce9463e42cfe8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roh Codeur", "link": "https://stackoverflow.com/users/4763085/roh-codeur"}, "edited": false, "score": 0, "creation_date": 1428526519, "post_id": 29523947, "comment_id": 47204678, "body": "Well first off, is this a 1 page app? If it is then this is not the correct way to go about it, if anything I&#39;d recommend websockets. Anyways the flow works this way, you set the links to run this function that require login via jquery, then on success run a function verifying the login_required key as part of data returned, if False open modal"}, {"owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "reply_to_user": {"reputation": 41, "user_id": 4763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71f15a1b20b89326ce9463e42cfe8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roh Codeur", "link": "https://stackoverflow.com/users/4763085/roh-codeur"}, "edited": false, "score": 0, "creation_date": 1428526655, "post_id": 29523947, "comment_id": 47204747, "body": "After that to do a real ajax login you need a bit more coding such as setting the cookie to request but even then the django templating only renders on page reload, it really depends on the structure of your app, if you&#39;re more clear on what you want it makes it easier to give a definite answer"}, {"owner": {"reputation": 41, "user_id": 4763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71f15a1b20b89326ce9463e42cfe8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roh Codeur", "link": "https://stackoverflow.com/users/4763085/roh-codeur"}, "edited": false, "score": 0, "creation_date": 1428532759, "post_id": 29523947, "comment_id": 47207562, "body": "I understand the flow now. This is not a one page app. One issue I see with this approach is that I will have to keep track of both login url and login redirect url in the front end. I guess I could determine the urls when I render the template and modify the login_required function to login_required(login_success_url, login_failed_url). Thanks for your help!"}, {"owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "reply_to_user": {"reputation": 41, "user_id": 4763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71f15a1b20b89326ce9463e42cfe8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roh Codeur", "link": "https://stackoverflow.com/users/4763085/roh-codeur"}, "edited": false, "score": 0, "creation_date": 1428532869, "post_id": 29523947, "comment_id": 47207601, "body": "There&#39;s something we say at my company: Bloop bloop"}], "tags": [], "owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "is_accepted": false, "score": 1, "last_activity_date": 1428526847, "last_edit_date": 1428526847, "creation_date": 1428522148, "answer_id": 29523947, "question_id": 29523469, "link": "https://stackoverflow.com/questions/29523469/login-required-decorator-in-django-open-modal-instead-of-redirecting-to-another/29523947#29523947", "title": "login_required decorator in Django: open modal instead of redirecting to another page", "body": "<p>Instead it should be an ajax call to happen in real time, and add the modal to your base.html.</p>\n\n<p>Django View:</p>\n\n<pre><code>def login_required_ajax_view(request):\n    if request.is_ajax():\n        if request.user.is_authenticated():\n            return JsonResponse(data={'logged_in', True})\n        return JsonResponse(data={'logged_in', False})\n    return HttpResponse(\"not ajax\")  # Add something if the call isn't ajax\n</code></pre>\n\n<p>Then in your javascript</p>\n\n<pre><code>// Javascript / Jquery\nfunction login_required() {\n    $.ajax({\n       url: 'url goes here',\n       data: data\n       success: success  //on success call a function checking logged_in is \n                                   //true or false then open modal to log in.\n    })\n}\n</code></pre>\n\n<p>If it returns true allow them to click the button and move on to the next page. </p>\n\n<p>On a side note:</p>\n\n<p>If you're routing all of your urls through django and not javascript, then the modal will not appear if they go directly to a url in the browser. If this is a one page app then there is alot more to be done to get any of this to work. You need javascript libraries, a router, etc,</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 4763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71f15a1b20b89326ce9463e42cfe8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roh Codeur", "link": "https://stackoverflow.com/users/4763085/roh-codeur"}, "edited": false, "score": 1, "creation_date": 1428531786, "post_id": 29525756, "comment_id": 47207195, "body": "I don&#39;t think this would work. I need to open up a modal when a user clicks on a reserved link, this can only be determined when a user clicks on a link. The above seems to determine this when it renders the template"}, {"owner": {"reputation": 41, "user_id": 4763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71f15a1b20b89326ce9463e42cfe8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roh Codeur", "link": "https://stackoverflow.com/users/4763085/roh-codeur"}, "edited": false, "score": 1, "creation_date": 1428568978, "post_id": 29525756, "comment_id": 47220464, "body": "Similar to Mikeec3&#39;s suggestion, there are a  couple of issues with this approach, for instance, I will have to keep track of restricted links in the frontend, I will have to specify a login_redirect link(in case of failed login) with each link etc."}], "tags": [], "owner": {"reputation": 7478, "user_id": 2658173, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a53cc204289b776e5e12dc9d43d2cbe6?s=128&d=identicon&r=PG&f=1", "display_name": "C.B.", "link": "https://stackoverflow.com/users/2658173/c-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1428542480, "last_edit_date": 1428542480, "creation_date": 1428528784, "answer_id": 29525756, "question_id": 29523469, "link": "https://stackoverflow.com/questions/29523469/login-required-decorator-in-django-open-modal-instead-of-redirecting-to-another/29525756#29525756", "title": "login_required decorator in Django: open modal instead of redirecting to another page", "body": "<p>Just accomplish this in your template</p>\n\n<pre><code>&lt;html&gt;\n    ...\n    {% if user.is_authenticated %}\n\n    &lt;div class=\"reserved-section\"&gt;...&lt;/div&gt;\n\n    {% else %}\n\n    &lt;script&gt; modal(); &lt;/script&gt;\n\n    {% endif %}\n</code></pre>\n\n<p>Alternatively, render different templates via your view</p>\n\n<pre><code>def some_page(request):\n    if request.user.is_authenticated():\n        return render(request, \"template_a.html\")\n    else:\n        return render(request, \"template_b.html\")\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Use javascript logic in your template if you need to make an action</p>\n\n<pre><code>&lt;script&gt;\n    function actionOnClick() {\n        var logged_in = {% if user.is_authenticated %}true{% else %}false{% end %};\n        if(logged_in){\n            ..\n        }\n        ..\n    }\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4763085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71f15a1b20b89326ce9463e42cfe8bf?s=128&d=identicon&r=PG&f=1", "display_name": "Roh Codeur", "link": "https://stackoverflow.com/users/4763085/roh-codeur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1428542480, "creation_date": 1428520697, "last_edit_date": 1428521010, "question_id": 29523469, "link": "https://stackoverflow.com/questions/29523469/login-required-decorator-in-django-open-modal-instead-of-redirecting-to-another", "title": "login_required decorator in Django: open modal instead of redirecting to another page", "body": "<p>I have a django app which has certain sections which are reserved for registered users. I have the views annotated with login_required decorator which redirects the user to a login page. </p>\n\n<p>However, I would like to keep the user on the same page and open up a modal dialog prompting user to sign in(like on the website: <a href=\"http://www.fashiolista.com/\" rel=\"nofollow\">http://www.fashiolista.com/</a>). \nTo achieve this, I thought I could setup a middleware(instead of using login_required) and return a response like below:</p>\n\n<pre><code>   return HttpResponse(\"&lt;script&gt;\"\n       \"showLogin()\"\n       \"&lt;/script&gt;\")\n</code></pre>\n\n<p>When I try to do this, I realised that this renders a page with only the script tag, which obviously doesnt work.  </p>\n\n<p>I am using Bootstrap for showing modal dialogs. </p>\n\n<p>Middleware link: <a href=\"http://onecreativeblog.com/post/59051248/django-login-required-middleware\" rel=\"nofollow\">http://onecreativeblog.com/post/59051248/django-login-required-middleware</a></p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "multithreading", "time", "python-multithreading", "python-multiprocessing"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1428520568, "post_id": 29523328, "comment_id": 47201312, "body": "or might be that he is calling the functions when he creates the threads ... those timings mean nothing at all"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1428521300, "post_id": 29523328, "comment_id": 47201723, "body": "Threading lets you do other work while one thread is blocked on I/O. Your functions are all compute-bound; they are limited only by how much CPU time they can get, and with a single process, the time spent with thread management is just time taken away from actually computing."}, {"owner": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1428521839, "post_id": 29523328, "comment_id": 47202057, "body": "@chepner how can I make it faster?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1428522437, "post_id": 29523328, "comment_id": 47202408, "body": "You need to use multiple processes, so that each function runs in a process on a separate CPU."}, {"owner": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1428522698, "post_id": 29523328, "comment_id": 47202556, "body": "@chepner so I have to use multiprocessing instead of threading?!  I assumed threading would work on this. If I have non-computational work, would threading speed up my code? Sorry for multiple question. New to programming here."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1428523031, "post_id": 29523328, "comment_id": 47202781, "body": "You thought wrong :) An example of where threading is useful would be two threads that both access disk occasionally. While one thread is blocked waiting for a disk read (or write) to complete, you can switch to the other thread which may have non-I/O work to do."}, {"owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "edited": false, "score": 0, "creation_date": 1428523191, "post_id": 29523328, "comment_id": 47202886, "body": "@OpenCv In most programming languages, threads would do what you expect here. However, Python has a design limitation (look up the Global Interpreter Lock to learn more) that prevents more than one thread from executing CPU operations at a time, even if you have multiple CPU cores to work with. This means using multiple threads for CPU-bound work doesn&#39;t improve performance. In Python, threads can only improve performance in I/O bound work."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1428523623, "post_id": 29523328, "comment_id": 47203145, "body": "Threading can also help in situations where progress is more important than finishing. For example, for 10 users trying to load a webpage that could be transmitted in 10 seconds, it might be better if everyone received 10% of the file after 10 seconds than for one user to receive 100% of the file while the other 9 are still waiting for it to start. (Which is actually just a form of I/O bound work, if the user can&#39;t read the 10% on their screen before the server starts sending more data.)"}, {"owner": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "reply_to_user": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "edited": false, "score": 0, "creation_date": 1428524007, "post_id": 29523328, "comment_id": 47203363, "body": "@dano thank you for explaining. I&#39;m just trying to really understand this. I&#39;m ultimately trying to use threading for image processing and in the documentation it says image processing programs happen outside of GIL. here&#39;s what i read: &quot;Note that potentially blocking or long-running operations, such as I/O, image processing, and NumPy number crunching, happen outside the GIL&quot; I was just trying to test out time in the code above. So If I use the functions I have for image processing using threading, I wouldn&#39;t have an issue?"}, {"owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "edited": false, "score": 0, "creation_date": 1428524873, "post_id": 29523328, "comment_id": 47203797, "body": "@OpenCv Anything that runs outside of the GIL should run in parallel across CPUs. And yes, it&#39;s true that there are certain libraries that use C-extensions that  can do CPU-bound processing outside the GIL. So if your image processing library releases the GIL to do its processing, then that can run in multiple threads in parallel across CPUs. Anything else that happens in the threads will need the GIL, and won&#39;t run in parallel. If the vast majority of the work the thread is doing releases the GIL, then you should see improved performance without needing to use <code>multiprocessing</code>."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1428527217, "post_id": 29523328, "comment_id": 47205041, "body": "@OpenCv edited my answer to more directly address your example code .."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "edited": false, "score": 0, "creation_date": 1428520607, "post_id": 29523404, "comment_id": 47201337, "body": "@joran_beasley does everything else seem right?! now I&#39;m getting 0.0523433269691 0.0499999523163 and the code is significantly faster. but on the other hand the 1st and 2nd code didnt take 26 seconds"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "edited": false, "score": 0, "creation_date": 1428520703, "post_id": 29523404, "comment_id": 47201387, "body": "no you have a bunch of problems ...start your timer on the first line of your code ... and stop it after all your threads rejoin (using threadX.join() which will wait for the thread to finish)"}, {"owner": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "edited": false, "score": 0, "creation_date": 1428521017, "post_id": 29523404, "comment_id": 47201565, "body": "@joran_beasley as in  new_thread1.start() new_thread1.join() new_thread2.start() new_thread2.join() new_thread3.start()"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "edited": false, "score": 0, "creation_date": 1428521078, "post_id": 29523404, "comment_id": 47201596, "body": "no start all the threads ... and then join them all ... join will block the program until the thread returns"}, {"owner": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "edited": false, "score": 0, "creation_date": 1428521292, "post_id": 29523404, "comment_id": 47201715, "body": "@joran_beasley thanks for helping out. would this do? <a href=\"http://pastebin.com/FW1Rqv05\" rel=\"nofollow noreferrer\">pastebin.com/FW1Rqv05</a>"}, {"owner": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "edited": false, "score": 0, "creation_date": 1428521644, "post_id": 29523404, "comment_id": 47201944, "body": "@joran_beasley the times still don&#39;t make sense: first code takes about 26 seconds, 2nd code takes 40  and 3rd one about 40 seconds. This is exact opposite of what i want threading to do.... isn&#39;t threading supposed to speed up the process?"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 3, "last_activity_date": 1428527158, "last_edit_date": 1592644375, "creation_date": 1428520467, "answer_id": 29523404, "question_id": 29523328, "link": "https://stackoverflow.com/questions/29523328/threading-in-python-takes-longer-time-instead-of-making-it-faster/29523404#29523404", "title": "Threading in Python takes longer time instead of making it faster?", "body": "<p>you are calling it wrong ....</p>\n<pre><code> new_thread1  = threading.Thread(target = Function1 , args = ())\n</code></pre>\n<p>note that you should not CALL the function when you create the thread</p>\n<p>those timings really mean nothing they are both essentially zero because all you are timing is 3 instant return function calls to start</p>\n<p>note to get the output you will need to wait for each thread to finish (since your current code does not do this )</p>\n<h1>EDIT FOR MORE INFO</h1>\n<p>with threading you are locked by the gil to one python instruction at a time... typically this is not a problem since you are usually waiting on disk io... In your example code however it is 100% computation so threading really doesnt improve your time ... Multiprocessing may as demonstrated below</p>\n<pre><code>import time\nimport threading\nimport multiprocessing\n\ndef fn():\n    '''since all 3 functions were identical you can just use one ...'''\n    x = 0\n    while  x &lt; 100000000:\n        x += 1\n    \n\n\n\ndef TEST_THREADS():\n    new_thread1  = threading.Thread(target = fn , args = ())\n    new_thread2  = threading.Thread(target = fn, args = ())\n    new_thread3  = threading.Thread(target = fn, args = ())\n    new_thread1.start()\n    new_thread2.start()\n    new_thread3.start()\n    new_thread1.join()\n    new_thread2.join()\n    new_thread3.join()\n\ndef TEST_NORMAL():\n    fn()\n    fn()\n    fn()\n    \ndef TEST_MULTIPROCESSING():\n    new_thread1  = multiprocessing.Process(target = fn , args = ())\n    new_thread2  = multiprocessing.Process(target = fn, args = ())\n    new_thread3  = multiprocessing.Process(target = fn, args = ())\n    new_thread1.start()\n    new_thread2.start()\n    new_thread3.start()\n    new_thread1.join()\n    new_thread2.join()\n    new_thread3.join\nif __name__ == &quot;__main__&quot;:  \n    '''It is very important to use name == __main__ guard code with threads and multiprocessing'''\n    import timeit\n    print &quot;Time to Run 1x: %0.2fs&quot;%(timeit.timeit(fn,number=1),)\n    print &quot;NORMAL:%0.2fs&quot;%(timeit.timeit(TEST_NORMAL,number=1),)\n    print &quot;Threaded: %0.2fs&quot;%(timeit.timeit(TEST_THREADS,number=1),)\n    print &quot;Multiprocessing: %0.2fs&quot;%(timeit.timeit(TEST_MULTIPROCESSING,number=1),)\n</code></pre>\n<p>I get the following output</p>\n<pre><code>Time to Run 1x: 3.71181102665\nNORMAL:11.0136830117\nThreaded: 23.392143814\nMultiprocessing: 3.80878260515\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 4740212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGl02.png?s=128&g=1", "display_name": "OpenCv", "link": "https://stackoverflow.com/users/4740212/opencv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3350, "favorite_count": 2, "accepted_answer_id": 29523404, "answer_count": 1, "score": 2, "last_activity_date": 1428527158, "creation_date": 1428520222, "question_id": 29523328, "link": "https://stackoverflow.com/questions/29523328/threading-in-python-takes-longer-time-instead-of-making-it-faster", "title": "Threading in Python takes longer time instead of making it faster?", "body": "<p>I wrote 3 different codes to compare having threads vs. not having threads. Basically measuring how much time I save by using threading and the result didn't make any sense.</p>\n\n<p>Here are my codes: </p>\n\n<pre><code> import time\n\n\n\ndef Function():\n\n    global x \n    x = 0\n\n    while x &lt; 300000000:\n        x += 1\n    print x\n\ne1 = time.clock()\nE1 = time.time()\n\nFunction() \n\ne2 = time.clock()\nE2 = time.time()\n\nprint e2 - e1\nprint E2 - E1 \n</code></pre>\n\n<p>When I ran this, I got this as output:</p>\n\n<pre><code>26.6358742929\n\n26.6440000534\n</code></pre>\n\n<p>Then I wrote another function as shown below and split counting up to 300 million into counting 3, 100 millions:</p>\n\n<pre><code> import time\n\n\n\n\ndef Function():\n\n    global x \n    x = 0\n\n    while x &lt; 100000000:\n        x += 1\n    print x\n\ndef Function2():\n\n    global x \n    x = 0\n\n    while x &lt; 100000000:\n        x += 1\n    print x       \n\n\ndef Function3():\n\n    global x \n    x = 0\n\n    while x &lt; 100000000:\n        x += 1\n    print x \n\ne1 = time.clock()\nE1 = time.time()\n\nFunction() \nFunction2() \nFunction3() \n\ne2 = time.clock()\nE2 = time.time()\n\nprint e2 - e1\nprint E2 - E1   \n</code></pre>\n\n<p>The output of the following function was:</p>\n\n<pre><code>26.0577638729\n\n26.0629999638\n</code></pre>\n\n<p>and lastly I created 3 threads and ran each function on a single thread:</p>\n\n<pre><code>import time\nimport threading\n\ne1 = time.clock()\nE1 = time.time()\n\ndef Function1():\n\n    global x \n    x = 0\n\n    while  x &lt; 100000000:\n        x += 1\n    print x\n\n\ndef Function2():\n\n    global x \n    x = 0\n\n    while x &lt; 100000000:\n        x += 1\n    print x    \n\n\ndef Function3():\n\n    global x \n    x = 0\n\n    while x &lt; 100000000:\n        x += 1\n    print x    \n\n\n\nnew_thread1  = threading.Thread(target = Function1() , args = ())\n\nnew_thread2  = threading.Thread(target = Function2(), args = ())\n\nnew_thread3  = threading.Thread(target = Function3(), args = ())\n\n\ne1 = time.clock()\nE1 = time.time()\n\nnew_thread1.start()\nnew_thread2.start()\nnew_thread3.start()\n\ne2 = time.clock()\nE2 = time.time()\n\nprint e2 - e1\nprint E2 - E1 \n</code></pre>\n\n<p>The out put of this one was:</p>\n\n<pre><code>0.000601416222253\n\n0.0\n</code></pre>\n\n<p>These numbers make no sense to me. I'm just trying to measure how much time does threading save me. I've looked up in the documentation and using  <code>time.time</code>\nand <code>time.clock</code> made sense to me, but it doesn't make sense here. Also, the actual time for 1st and 2nd snippet were about 10 seconds and 3rd one about 5</p>\n"}, {"tags": ["python", "function", "module", "distutils", "setup.py"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1428520892, "post_id": 29523325, "comment_id": 47201496, "body": "Would you accept something like <code>$ python -m find_mutations sort_files</code>? See e.g. <a href=\"https://docs.python.org/2/library/argparse.html#sub-commands\" rel=\"nofollow noreferrer\">docs.python.org/2/library/argparse.html#sub-commands</a>"}, {"owner": {"reputation": 425, "user_id": 3266890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5a9f067b32ccb393476d9d936ea12c62?s=128&d=identicon&r=PG&f=1", "display_name": "user3266890", "link": "https://stackoverflow.com/users/3266890/user3266890"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428521141, "post_id": 29523325, "comment_id": 47201635, "body": "as long as it is a convenient way to run <code>find_mutations</code> and <code>sort_files</code> after the package has been installed, both of which use different inputs for argparse"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1428529001, "post_id": 29523325, "comment_id": 47205923, "body": "Installed how? As scripts by <code>setup.py</code>? Sub commands can handle different arguments, but some rearrangement might be needed."}], "answers": [{"tags": [], "owner": {"reputation": 7143, "user_id": 1398915, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v1nEp.jpg?s=128&g=1", "display_name": "PepperoniPizza", "link": "https://stackoverflow.com/users/1398915/pepperonipizza"}, "is_accepted": true, "score": 2, "last_activity_date": 1428520914, "creation_date": 1428520914, "answer_id": 29523544, "question_id": 29523325, "link": "https://stackoverflow.com/questions/29523325/call-python-module-functions-from-command-line/29523544#29523544", "title": "call python module functions from command line", "body": "<p>You could add flags to run the function. The following example is not a good way to work with command arguments, but demonstrates the idea.</p>\n\n<pre><code>import sys\n\nif __name__ == \"__main__\":\n    if '-s' in sys.argv:\n        sort_files()\n</code></pre>\n\n<p>Add a flag to run the specific function, in this case <code>-s</code> to sort the files.</p>\n"}], "owner": {"reputation": 425, "user_id": 3266890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5a9f067b32ccb393476d9d936ea12c62?s=128&d=identicon&r=PG&f=1", "display_name": "user3266890", "link": "https://stackoverflow.com/users/3266890/user3266890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "accepted_answer_id": 29523544, "answer_count": 1, "score": 0, "last_activity_date": 1428520914, "creation_date": 1428520220, "question_id": 29523325, "link": "https://stackoverflow.com/questions/29523325/call-python-module-functions-from-command-line", "title": "call python module functions from command line", "body": "<p>I would like to know if there is a way to call module functions from the command line. My problem is that I have a file package called find_mutations. This requires that the input files are sorted in a specific way, so i made a function to do so. I would like the user to be able to have the option to run the code normally:</p>\n\n<pre><code>$ python -m find_mutations -h\n</code></pre>\n\n<p>or run the specific sort_files function:</p>\n\n<pre><code>$ python -m find_mutations.sort_files -h\n</code></pre>\n\n<p>Is something like this possible? If so, does the sort_files function need to be in its own strip? Do I need to add something to my <code>__init__.py</code> script? The package install properly and runs fine, I would just like to add this.</p>\n"}, {"tags": ["python", "plotly"], "answers": [{"comments": [{"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1428521026, "post_id": 29523547, "comment_id": 47201567, "body": "I will try that and get back to you. I wonder why I couldn&#39;t find that in the documentation."}, {"owner": {"reputation": 1174, "user_id": 4450336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FvdBD.jpg?s=128&g=1", "display_name": "Daniel Robertson", "link": "https://stackoverflow.com/users/4450336/daniel-robertson"}, "reply_to_user": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1428521388, "post_id": 29523547, "comment_id": 47201778, "body": "Sadly I don&#39;t know how to remove the &quot;play with this data&quot; part"}, {"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1428521742, "post_id": 29523547, "comment_id": 47201996, "body": "If it turns out that your suggestion prevents my browser from popping up, then I&#39;ll give you credit. I don&#39;t think I can test it until this evening, though. I wonder if setting <code>world_readable = false</code> would do the trick. My graphs are ultimately going into a pdf and the footnote is a bit of an eyesore and it won&#39;t even be functional in a pdf."}, {"owner": {"reputation": 557, "user_id": 2510318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21923dbd41887e6c037c5a3d55743601?s=128&d=identicon&r=PG", "display_name": "theengineear", "link": "https://stackoverflow.com/users/2510318/theengineear"}, "edited": false, "score": 0, "creation_date": 1428522265, "post_id": 29523547, "comment_id": 47202302, "body": "Andrew from Plotly here, Daniel&#39;s answer is correct to solve part 1, you should be able to see this with <code>help(py.plot)</code>. You cannot currently remove the &#39;play with this data&#39;. You can do this in JS after-the-fact, but it&#39;s likely not the solution you&#39;re looking for."}, {"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1428522617, "post_id": 29523547, "comment_id": 47202506, "body": "I didn&#39;t expect to elicit the response of a celebrity. Great. Thanks. I guess I need to pay more attention to the help files. Thanks a million!"}], "tags": [], "owner": {"reputation": 1174, "user_id": 4450336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FvdBD.jpg?s=128&g=1", "display_name": "Daniel Robertson", "link": "https://stackoverflow.com/users/4450336/daniel-robertson"}, "is_accepted": true, "score": 22, "last_activity_date": 1428520922, "creation_date": 1428520922, "answer_id": 29523547, "question_id": 29523313, "link": "https://stackoverflow.com/questions/29523313/how-to-prevent-plotly-from-plotting-automatically/29523547#29523547", "title": "How to prevent plotly from plotting automatically", "body": "<p>To disable pop-ups you could use <code>auto_open=FALSE</code> and try the following</p>\n\n<pre><code>py.plot(data, filename='basic_line', auto_open=False)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1955, "user_id": 6037118, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0905961c4d6422eced39052412e7d703?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/6037118/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1460421661, "last_edit_date": 1495541443, "creation_date": 1460128945, "answer_id": 36503411, "question_id": 29523313, "link": "https://stackoverflow.com/questions/29523313/how-to-prevent-plotly-from-plotting-automatically/36503411#36503411", "title": "How to prevent plotly from plotting automatically", "body": "<p><code>py.plot(data, show_link=False)</code> will take that link off (if you are referring to the link that says <code>Export to plot.ly</code>).  At least it does using:\n<code>import plotly.offline as py</code>.  As for the link at the top (when you hover your mouse over the graph), I'm trying to get rid of the <code>Save and edit plot in cloud</code> but only find options for that under the java script version... and that hides the whole bar which has other useful items on it (javascript option is: <code>{displayModeBar: false}</code>). Obviously I am finding the reference to \"play with this data\" ambiguous.  You can see the workaround I wrote here: <a href=\"https://stackoverflow.com/questions/36554705/adding-config-modes-to-plotly-py-offline-modebar\">Adding config modes to Plotly.Py offline - modebar</a></p>\n"}, {"tags": [], "owner": {"reputation": 420, "user_id": 5606177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52qpf.jpg?s=128&g=1", "display_name": "Rishikesh Jha", "link": "https://stackoverflow.com/users/5606177/rishikesh-jha"}, "is_accepted": false, "score": 0, "last_activity_date": 1489512890, "creation_date": 1489512890, "answer_id": 42792841, "question_id": 29523313, "link": "https://stackoverflow.com/questions/29523313/how-to-prevent-plotly-from-plotting-automatically/42792841#42792841", "title": "How to prevent plotly from plotting automatically", "body": "<p>You can easily remove that <i>Export to plot.ly</i> link in the offline graph.</p>\n\n<p>Open your saved html file in a text editor. and search for. {\"showLink\": true, \"linkText\": \"Export to plot.ly\"}</p>\n\n<p>And change the true value to false.</p>\n"}], "owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12503, "favorite_count": 1, "accepted_answer_id": 29523547, "answer_count": 3, "score": 15, "last_activity_date": 1489512890, "creation_date": 1428520190, "question_id": 29523313, "link": "https://stackoverflow.com/questions/29523313/how-to-prevent-plotly-from-plotting-automatically", "title": "How to prevent plotly from plotting automatically", "body": "<p>I just discovered plotly and like it so far. I have this code provided by the main website</p>\n\n<pre><code>import plotly.plotly as py\nfrom plotly.graph_objs import *\n\ntrace0 = Scatter(\n    x=[1,2,3,4],\n    y=[10,15,13,17]\n)\ntrace1 = Scatter(\n    x=[1,2,3,4],\n    y=[16,5,11,9]\n)\ndata = Data([trace0, trace1])\n\nunique_url = py.plot(data, filename='basic-line')\n</code></pre>\n\n<p>I am curious about two things: </p>\n\n<p>1) When I run this code, my browser automatically pops up and shows me the graph. All I want is the url so that I can later embed it in an html file. Is there a way to turn off the feature that opens my browser and shows me the graph?</p>\n\n<p>2) Is there a way to get rid of the 'Play with this data' link?</p>\n\n<p>I have combed through the documentation provided, but have come up empty-handed on these two issues.</p>\n"}, {"tags": ["python", "sorting", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1428520408, "post_id": 29523323, "comment_id": 47201222, "body": "The <code>.keys()</code> isn&#39;t strictly necessary, as iterating over a dictionary yields its keys by default."}, {"owner": {"reputation": 109, "user_id": 4759838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-j1EbXVPA03A/AAAAAAAAAAI/AAAAAAAAACw/bfGXb23P3HE/photo.jpg?sz=128", "display_name": "Jign", "link": "https://stackoverflow.com/users/4759838/jign"}, "edited": false, "score": 0, "creation_date": 1428520789, "post_id": 29523323, "comment_id": 47201432, "body": "If two people have an equal number of sum of value, they should appear in alphabetical order.  How to get that?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1428520954, "post_id": 29523323, "comment_id": 47201530, "body": "Before sorting by sum of values, sort by key: <code>sorted(sorted(family), key=lambda k: sum(family[k]))</code>"}], "tags": [], "owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "is_accepted": true, "score": 2, "last_activity_date": 1428521945, "last_edit_date": 1428521945, "creation_date": 1428520212, "answer_id": 29523323, "question_id": 29523275, "link": "https://stackoverflow.com/questions/29523275/how-to-return-a-sorted-dictionarys-keys-by-sorting-its-values/29523323#29523323", "title": "How to return a sorted dictionary&#39;s keys by sorting its values", "body": "<p>The expression <code>sum(family.values())</code> will try to reduce a list of lists to a sum starting with the initial value 0. When you try to add a list to 0, you get a <code>TypeError</code> because the operation is not supported by either operand.</p>\n\n<p>Try it like this instead:</p>\n\n<pre><code>sorted(family, key=lambda k: sum(family[k]))\n</code></pre>\n\n<p>The parameter for your lambda expression is <code>k</code>, and the arguments passed to it will be each element of the iterable, which is, in this case, <code>family.keys()</code> which can be shortened to <code>family</code> because dicts can be treated as iterables of their keysets. The value of each element's key will simply be the sum of the dictionary value which is a list.</p>\n"}], "owner": {"reputation": 109, "user_id": 4759838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-j1EbXVPA03A/AAAAAAAAAAI/AAAAAAAAACw/bfGXb23P3HE/photo.jpg?sz=128", "display_name": "Jign", "link": "https://stackoverflow.com/users/4759838/jign"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 29523323, "answer_count": 1, "score": 1, "last_activity_date": 1428612155, "creation_date": 1428520090, "last_edit_date": 1428612155, "question_id": 29523275, "link": "https://stackoverflow.com/questions/29523275/how-to-return-a-sorted-dictionarys-keys-by-sorting-its-values", "title": "How to return a sorted dictionary&#39;s keys by sorting its values", "body": "<p>I have a dictionary like this:</p>\n\n<pre><code>a = {'str1':[int,int,int],'str2':[int,int]}\n</code></pre>\n\n<p>I want to returns the keys like  <code>['str1', 'str2']</code> because sum of sum(a[str1]) > sum(a[str2])</p>\n\n<p>I tried to use the sum function:</p>\n\n<pre><code>return sorted(a.keys(), key = lambda a.values(): sum(a.values()))\n</code></pre>\n\n<p>But it raises an error.\n    TypeError: unsupported operand type(s) for +: 'int' and 'list'</p>\n\n<p>How should I do?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 501, "user_id": 3120554, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1030985049/picture?type=large", "display_name": "user3120554", "link": "https://stackoverflow.com/users/3120554/user3120554"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 2, "creation_date": 1508589468, "post_id": 29523254, "comment_id": 80674005, "body": "old post, but for reference, the stop words will have words like &quot;i&quot; and &quot;a&quot;. @EdChum your code will cause all the words to be ruined because of that"}, {"owner": {"reputation": 7433, "user_id": 3801801, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a985b6842783328a1934557510cc1fa6?s=128&d=identicon&r=PG&f=1", "display_name": "joel.wilson", "link": "https://stackoverflow.com/users/3801801/joel-wilson"}, "reply_to_user": {"reputation": 501, "user_id": 3120554, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1030985049/picture?type=large", "display_name": "user3120554", "link": "https://stackoverflow.com/users/3120554/user3120554"}, "edited": false, "score": 0, "creation_date": 1513274996, "post_id": 29523254, "comment_id": 82601302, "body": "@user3120554 probably you could sort the stopwords based on spaces and length."}], "answers": [{"comments": [{"owner": {"reputation": 1982, "user_id": 3885217, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/716e9ec62ba224181f93dc2f935b0beb?s=128&d=identicon&r=PG&f=1", "display_name": "clg4", "link": "https://stackoverflow.com/users/3885217/clg4"}, "edited": false, "score": 7, "creation_date": 1467059879, "post_id": 29523440, "comment_id": 63564618, "body": "This does not maintain the string, so you will be unable to search for word combinations once you remove the stop words.  Ed Chum&#39;s comment above maintains the string."}, {"owner": {"reputation": 3004, "user_id": 9655839, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9ihbdTh30uo/AAAAAAAAAAI/AAAAAAAADgI/_4YUEXSery0/photo.jpg?sz=128", "display_name": "Alex Montoya", "link": "https://stackoverflow.com/users/9655839/alex-montoya"}, "edited": false, "score": 4, "creation_date": 1536791443, "post_id": 29523440, "comment_id": 91556188, "body": "i need to add <code>str(x).split()</code> and wil be <code>test[&#39;tweet&#39;].apply(lambda x: [item for item in str(x).split() if item not in stopwords.words(&#39;spanish&#39;)])</code> because show a error that said  <b>&#39;float&#39; object is not iterable</b>"}, {"owner": {"reputation": 189, "user_id": 14688996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936cad909e76397b66bc8b49ccf15acf?s=128&d=identicon&r=PG&f=1", "display_name": "Math", "link": "https://stackoverflow.com/users/14688996/math"}, "reply_to_user": {"reputation": 3004, "user_id": 9655839, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9ihbdTh30uo/AAAAAAAAAAI/AAAAAAAADgI/_4YUEXSery0/photo.jpg?sz=128", "display_name": "Alex Montoya", "link": "https://stackoverflow.com/users/9655839/alex-montoya"}, "edited": false, "score": 0, "creation_date": 1614115655, "post_id": 29523440, "comment_id": 117286017, "body": "@Alex Montoya, I found this question and answer: I am trying to apply what you suggested, but I am getting empty column: <code>df[&#39;tweet&#39;] = df[&#39;tweet&#39;].apply(lambda x: [item for item in str(x).split() if item not in stop])</code>. Do you know what it can cause it? (I would like to avoid a duplicate question) Thanks a lot"}], "tags": [], "owner": {"reputation": 5496, "user_id": 2317751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lltcO.jpg?s=128&g=1", "display_name": "Liam Foley", "link": "https://stackoverflow.com/users/2317751/liam-foley"}, "is_accepted": true, "score": 41, "last_activity_date": 1428520563, "creation_date": 1428520563, "answer_id": 29523440, "question_id": 29523254, "link": "https://stackoverflow.com/questions/29523254/python-remove-stop-words-from-pandas-dataframe/29523440#29523440", "title": "Python remove stop words from pandas dataframe", "body": "<p>Using List Comprehension</p>\n\n<pre><code>test['tweet'].apply(lambda x: [item for item in x if item not in stop])\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>0               [love, car]\n1           [view, amazing]\n2    [feel, great, morning]\n3        [excited, concert]\n4            [best, friend]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7433, "user_id": 3801801, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a985b6842783328a1934557510cc1fa6?s=128&d=identicon&r=PG&f=1", "display_name": "joel.wilson", "link": "https://stackoverflow.com/users/3801801/joel-wilson"}, "edited": false, "score": 1, "creation_date": 1513276946, "post_id": 29523770, "comment_id": 82602395, "body": "worked well! just thought of updating the answer with more cases"}], "tags": [], "owner": {"reputation": 631, "user_id": 1696940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eea81e07ef150bdbc4e459579d3a9e7?s=128&d=identicon&r=PG", "display_name": "mok0", "link": "https://stackoverflow.com/users/1696940/mok0"}, "is_accepted": false, "score": 6, "last_activity_date": 1513277113, "last_edit_date": 1513277113, "creation_date": 1428521591, "answer_id": 29523770, "question_id": 29523254, "link": "https://stackoverflow.com/questions/29523254/python-remove-stop-words-from-pandas-dataframe/29523770#29523770", "title": "Python remove stop words from pandas dataframe", "body": "<p>Check out pd.DataFrame.replace(), it might work for you:</p>\n\n<pre><code>In [42]: test.replace(to_replace='I', value=\"\",regex=True)\nOut[42]:\n                              tweet     class\n0                     love this car  positive\n1              This view is amazing  positive\n2           feel great this morning  positive\n3   am so excited about the concert  positive\n4              He is my best friend  positive\n</code></pre>\n\n<p>Edit : <code>replace()</code> would search for string(and even substrings). For e.g. it would replace <code>rk</code> from <code>work</code> if <code>rk</code> is a stopword which sometimes is not expected.</p>\n\n<p>Hence the use of <code>regex</code> here :</p>\n\n<pre><code>for i in stop :\n    test = test.replace(to_replace=r'\\b%s\\b'%i, value=\"\",regex=True)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 488, "user_id": 9463364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7009956ac49f574b6f35f0792cf8141?s=128&d=identicon&r=PG&f=1", "display_name": "acodejdatam", "link": "https://stackoverflow.com/users/9463364/acodejdatam"}, "edited": false, "score": 4, "creation_date": 1572304183, "post_id": 43407993, "comment_id": 103511486, "body": "what does &quot;r&#39;\\b(?:{})\\b&#39;&quot; do?"}, {"owner": {"reputation": 410, "user_id": 5530626, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/94e8f8cf3148b10f80793caf11fa568b?s=128&d=identicon&r=PG&f=1", "display_name": "jvalenti", "link": "https://stackoverflow.com/users/5530626/jvalenti"}, "edited": false, "score": 0, "creation_date": 1612184759, "post_id": 43407993, "comment_id": 116679109, "body": "what if there is more than one column in the dataframe?  When I try to apply this to more than one column I get a KeyError"}, {"owner": {"reputation": 1195, "user_id": 8229534, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/410518d04b48d521af11885f01c9ab13?s=128&d=identicon&r=PG", "display_name": "Regressor", "link": "https://stackoverflow.com/users/8229534/regressor"}, "edited": false, "score": 0, "creation_date": 1615490158, "post_id": 43407993, "comment_id": 117713568, "body": "I get an error <code>AttributeError: Can only use .str accessor with string values!</code> when i try to run this code"}], "tags": [], "owner": {"reputation": 5395, "user_id": 4510421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bffbb262f4620fad80d3fca5c538d10?s=128&d=identicon&r=PG", "display_name": "Keiku", "link": "https://stackoverflow.com/users/4510421/keiku"}, "is_accepted": false, "score": 67, "last_activity_date": 1516684036, "last_edit_date": 1516684036, "creation_date": 1492158702, "answer_id": 43407993, "question_id": 29523254, "link": "https://stackoverflow.com/questions/29523254/python-remove-stop-words-from-pandas-dataframe/43407993#43407993", "title": "Python remove stop words from pandas dataframe", "body": "<p>We can import <code>stopwords</code> from <code>nltk.corpus</code> as below. With that, We exclude stopwords with Python's list comprehension and <code>pandas.DataFrame.apply</code>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Import stopwords with nltk.\nfrom nltk.corpus import stopwords\nstop = stopwords.words('english')\n\npos_tweets = [('I love this car', 'positive'),\n    ('This view is amazing', 'positive'),\n    ('I feel great this morning', 'positive'),\n    ('I am so excited about the concert', 'positive'),\n    ('He is my best friend', 'positive')]\n\ntest = pd.DataFrame(pos_tweets)\ntest.columns = [\"tweet\",\"class\"]\n\n# Exclude stopwords with Python's list comprehension and pandas.DataFrame.apply.\ntest['tweet_without_stopwords'] = test['tweet'].apply(lambda x: ' '.join([word for word in x.split() if word not in (stop)]))\nprint(test)\n# Out[40]:\n#                                tweet     class tweet_without_stopwords\n# 0                    I love this car  positive              I love car\n# 1               This view is amazing  positive       This view amazing\n# 2          I feel great this morning  positive    I feel great morning\n# 3  I am so excited about the concert  positive       I excited concert\n# 4               He is my best friend  positive          He best friend\n</code></pre>\n\n<p>It can also be excluded by using <code>pandas.Series.str.replace</code>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>pat = r'\\b(?:{})\\b'.format('|'.join(stop))\ntest['tweet_without_stopwords'] = test['tweet'].str.replace(pat, '')\ntest['tweet_without_stopwords'] = test['tweet_without_stopwords'].str.replace(r'\\s+', ' ')\n# Same results.\n# 0              I love car\n# 1       This view amazing\n# 2    I feel great morning\n# 3       I excited concert\n# 4          He best friend\n</code></pre>\n\n<p>If you can not import stopwords, you can download as follows.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import nltk\nnltk.download('stopwords')\n</code></pre>\n\n<p>Another way to answer is to import <code>text.ENGLISH_STOP_WORDS</code> from <code>sklearn.feature_extraction</code>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Import stopwords with scikit-learn\nfrom sklearn.feature_extraction import text\nstop = text.ENGLISH_STOP_WORDS\n</code></pre>\n\n<p><strong>Notice that the number of words in the scikit-learn stopwords and nltk stopwords are different.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 4370, "user_id": 1290485, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2dorn.jpg?s=128&g=1", "display_name": "Climbs_lika_Spyder", "link": "https://stackoverflow.com/users/1290485/climbs-lika-spyder"}, "is_accepted": false, "score": 2, "last_activity_date": 1593541656, "creation_date": 1593541656, "answer_id": 62663933, "question_id": 29523254, "link": "https://stackoverflow.com/questions/29523254/python-remove-stop-words-from-pandas-dataframe/62663933#62663933", "title": "Python remove stop words from pandas dataframe", "body": "<p>If you would like something simple but not get back a list of words:</p>\n<pre><code>test[&quot;tweet&quot;].apply(lambda words: ' '.join(word.lower() for word in words.split() if word not in stop))\n</code></pre>\n<p>Where stop is defined as OP did.</p>\n<pre><code>from nltk.corpus import stopwords\nstop = stopwords.words('english')\n</code></pre>\n"}], "owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79184, "favorite_count": 17, "accepted_answer_id": 29523440, "answer_count": 4, "score": 47, "last_activity_date": 1593541656, "creation_date": 1428520024, "question_id": 29523254, "link": "https://stackoverflow.com/questions/29523254/python-remove-stop-words-from-pandas-dataframe", "title": "Python remove stop words from pandas dataframe", "body": "<p>I want to remove the stop words from my column \"tweets\". How do I iterative over each row and each item?</p>\n\n<pre><code>pos_tweets = [('I love this car', 'positive'),\n    ('This view is amazing', 'positive'),\n    ('I feel great this morning', 'positive'),\n    ('I am so excited about the concert', 'positive'),\n    ('He is my best friend', 'positive')]\n\ntest = pd.DataFrame(pos_tweets)\ntest.columns = [\"tweet\",\"class\"]\ntest[\"tweet\"] = test[\"tweet\"].str.lower().str.split()\n\nfrom nltk.corpus import stopwords\nstop = stopwords.words('english')\n</code></pre>\n"}, {"tags": ["python", "uwsgi", "fabric"], "comments": [{"owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "edited": false, "score": 0, "creation_date": 1437586981, "post_id": 29523189, "comment_id": 51095515, "body": "did this work for you?  Are you using Django?  If so, can you post the code that you used?  Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "edited": false, "score": 0, "creation_date": 1437588383, "post_id": 29532753, "comment_id": 51096326, "body": "have you configured <code>mountpoints</code> for django?  I&#39;d like to have one app run at: <code>example.com&#47;one&#47;</code> and one at <code>example.com&#47;two&#47;</code> for example. Ideally without using Nginx for the time being. Thank you."}], "tags": [], "owner": {"reputation": 12024, "user_id": 966211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d3b41d28306e6d3db4aabcdf3642c1?s=128&d=identicon&r=PG", "display_name": "roberto", "link": "https://stackoverflow.com/users/966211/roberto"}, "is_accepted": false, "score": 1, "last_activity_date": 1428565663, "creation_date": 1428565663, "answer_id": 29532753, "question_id": 29523189, "link": "https://stackoverflow.com/questions/29523189/how-to-specify-a-namespace-or-postfix-on-uwsgi/29532753#29532753", "title": "How to specify a namespace or postfix on uwsgi?", "body": "<p>You have to use \"mountpoints\"</p>\n\n<p><a href=\"https://github.com/unbit/uwsgi-docs/blob/master/Snippets.rst#multiple-flask-apps-in-different-mountpoints\" rel=\"nofollow\">https://github.com/unbit/uwsgi-docs/blob/master/Snippets.rst#multiple-flask-apps-in-different-mountpoints</a></p>\n"}], "owner": {"reputation": 9650, "user_id": 912895, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ece932c97301b42dd341e8ca378657b1?s=128&d=identicon&r=PG", "display_name": "leonel", "link": "https://stackoverflow.com/users/912895/leonel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428565663, "creation_date": 1428519792, "question_id": 29523189, "link": "https://stackoverflow.com/questions/29523189/how-to-specify-a-namespace-or-postfix-on-uwsgi", "title": "How to specify a namespace or postfix on uwsgi?", "body": "<p>I currently run this command to start uwsgi</p>\n\n<p><code>uwsgi --http :5000 --wsgi-file serviceapi/service_api.py --callable wsgi_app</code></p>\n\n<p>which runs an API on <code>localhost:5000</code>.</p>\n\n<p>But I would like to run this API on <code>localhost:5000/api</code> instead. How can I do that?</p>\n\n<p>I looking for an option from the <code>uwsgi --help</code> output but can't find out how. </p>\n"}]