[{"tags": ["python", "queue"], "answers": [{"tags": [], "owner": {"reputation": 506, "user_id": 3000566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9cfb5475ae30048eda4e7277f04ada4e?s=128&d=identicon&r=PG&f=1", "display_name": "NinjaG", "link": "https://stackoverflow.com/users/3000566/ninjag"}, "is_accepted": true, "score": 2, "last_activity_date": 1506828726, "creation_date": 1506828726, "answer_id": 46508967, "question_id": 41154273, "link": "https://stackoverflow.com/questions/41154273/implement-a-queue-with-2-stacks-python-and-analyze-the-running-time/46508967#46508967", "title": "Implement a queue with 2 stacks python and analyze the running time", "body": "<p>Yes. We can Optimize for the time cost of m function calls on your queue. This optimization can be any mix of enqueue and dequeue calls.</p>\n\n<p>Assume you already have a stack implementation and it gives O(1)O(1) time push and pop.</p>\n\n<p>#</p>\n\n#\n\n<pre><code>class Stack():\n\n    def __init__(self):\n        self.stk = []\n\n    def pop(self):\n        \"\"\"raises IndexError if you pop when it's empty\"\"\"\n        return self.stk.pop()\n\n    def push(self, elt):\n        self.stk.append(elt)\n\n    def is_empty(self):\n        return len(self.stk) == 0\n\n    def peek(self):\n        if not self.stk.is_empty():\n            return self.stk[-1]\n\n\nclass Queue():\n\n    def __init__(self):\n        self.q = Stack()  # the primary queue\n        self.b = Stack()  # the reverse, opposite q (a joke: q vs b)\n        self.front = None\n\n    def is_empty(self):\n        return self.q.is_empty()\n\n    def peek(self):\n        if self.q.is_empty():\n            return None\n        else:\n            return self.front\n\n    def enqueue(self, elt):\n        self.front = elt\n        self.q.push(elt)\n\n    def dequeue(self):\n        \"\"\"raises IndexError if you dequeue from an empty queue\"\"\"\n        while not self.q.is_empty() &gt; 0:\n            elt = self.q.pop()\n            self.b.push(elt)\n        val = self.b.pop()\n        elt = None\n        while not self.b.is_empty() &gt; 0:\n            elt = self.b.pop()\n            self.q.push(elt)\n        self.front = elt\n        return val\n\n\n# Now let's test\n\n\nclass TestQueueTwoStacks(unittest.TestCase):\n\n    def setUp(self):\n        self.q = Queue()\n\n    def test_queuedequue(self):\n        \"\"\"queue up 5 integers, check they are in there, dequeue them, check for emptiness, perform other blackbox and whitebox tests\"\"\"\n        self.assertTrue(self.q.is_empty())\n        self.assertTrue(self.q.q.is_empty())\n        self.assertTrue(self.q.b.is_empty())\n\n        l = range(5)\n        for i in l:\n            self.q.enqueue(i)\n\n        self.assertEqual(4, self.q.peek())\n        self.assertEqual(l, self.q.q.stk)\n\n        s = []\n        l.reverse()\n        for i in l:\n            elt = self.q.dequeue()\n            s.append(elt)\n\n        self.assertTrue(self.q.is_empty())\n        self.assertTrue(self.q.q.is_empty())\n        self.assertTrue(self.q.b.is_empty())\n\n        l.reverse()\n        self.assertEqual(s, l)\n        self.assertEqual([], self.q.b.stk)\n        self.assertEqual([], self.q.q.stk)\n\nif __name__ == \"__main__\":\n    # unittest.main()\n    suite = unittest.TestLoader().loadTestsFromTestCase(TestQueueTwoStacks)\n    unittest.TextTestRunner(verbosity=2).run(suite)\n</code></pre>\n"}], "owner": {"reputation": 228, "user_id": 7271239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/255efc380d0f6a70e1d70a54cdcf10a7?s=128&d=identicon&r=PG&f=1", "display_name": "DataEngineer", "link": "https://stackoverflow.com/users/7271239/dataengineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 2, "accepted_answer_id": 46508967, "answer_count": 1, "score": 2, "last_activity_date": 1506828726, "creation_date": 1481759906, "question_id": 41154273, "link": "https://stackoverflow.com/questions/41154273/implement-a-queue-with-2-stacks-python-and-analyze-the-running-time", "title": "Implement a queue with 2 stacks python and analyze the running time", "body": "<p>I've been going over some of the many coding interview questions. \nI was wondering about implementing a queue using two stacks in Python. I'm working on algorithm question to implement a queue with two stacks for purposes of understanding both data structures.\n I have the below:</p>\n\n<pre><code>  class QueueTwoStacks:\n\ndef __init__(self):\n    self.in_stack  = []\n    self.out_stack = []\n\ndef enqueue(self, item):\n    self.in_stack.append(item)\n\ndef dequeue(self):\n    if len(self.out_stack) == 0:\n        # Move items from in_stack to out_stack, reversing order\n        while len(self.in_stack) &gt; 0:\n            newest_in_stack_item = self.in_stack.pop()\n            self.out_stack.append(newest_in_stack_item)\n        # If out_stack is still empty, raise an error\n        if len(self.out_stack) == 0:\n            raise IndexError(\"Can't dequeue from empty queue!\")\n    return self.out_stack.pop()\n</code></pre>\n\n<p>What is the runtime analysis for this one?</p>\n\n<p>Why is it true that we can get O(m)O(m) runtime for mm function calls. </p>\n\n<p>Am I assuming have a stack implementation and it gives O(1)O(1) time push and pop?</p>\n\n<p>I appreciate your explanation for this. thank you.</p>\n"}, {"tags": ["python", "dictionary", "key", "keyvaluepair"], "comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1481759952, "post_id": 41154251, "comment_id": 69510412, "body": "You probably took the part <i>assigns key:value pairs as closely</i> very lightly. In order to train your system to identify the closeness by its own, you have to make neural network with training data. The easy but less precise approach (which I think you want) will be to check the count of occurrence of each character in order and map the value with maximum count"}, {"owner": {"reputation": 2856, "user_id": 835591, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f40a853c80ab7320114f4284f81a31e6?s=128&d=identicon&r=PG", "display_name": "thalesmello", "link": "https://stackoverflow.com/users/835591/thalesmello"}, "edited": false, "score": 0, "creation_date": 1481770160, "post_id": 41154251, "comment_id": 69513070, "body": "I think you should consider a word proximity algorithm. Take a look at <a href=\"http://stackoverflow.com/a/33389155/835591\">one answer implementation</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 7304819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS95L.png?s=128&g=1", "display_name": "speakeasy", "link": "https://stackoverflow.com/users/7304819/speakeasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1481857236, "creation_date": 1481857236, "answer_id": 41176621, "question_id": 41154251, "link": "https://stackoverflow.com/questions/41154251/python-create-key-value-pairs-from-multiple-token-keys-and-values/41176621#41176621", "title": "Python - Create key value pairs from multiple token keys and values", "body": "<p>You can use <code>.split()</code> instead of how you currently are checking for spaces:</p>\n\n<pre><code>for x in old_dict:\n    for i in range(0,2):\n        key = x.split()[i]\n        value = old_dict[x][0].split()[i]\n        new_dict[key] = value\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3255414, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/56tXf.png?s=128&g=1", "display_name": "Edward Forgacs", "link": "https://stackoverflow.com/users/3255414/edward-forgacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 794, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481857236, "creation_date": 1481759745, "question_id": 41154251, "link": "https://stackoverflow.com/questions/41154251/python-create-key-value-pairs-from-multiple-token-keys-and-values", "title": "Python - Create key value pairs from multiple token keys and values", "body": "<p>I have a dictionary that contains entries with a multitude of different keys and values. </p>\n\n<p>Some multi-token strings delimited by spaces, some single token strings with no spaces.</p>\n\n<p>Some line up exactly, keys with one token, values with one token:</p>\n\n<pre><code>\"'Apl'\": \"'Apple'\",\n</code></pre>\n\n<p>Some have single token keys and multiple token values:</p>\n\n<pre><code>\"'Blpepr'\": \"'Bell Pepper'\",\n</code></pre>\n\n<p>Some have multiple token keys and single token values:</p>\n\n<pre><code>\"'Grn Bn'\": \"'Greenbean'\",\n</code></pre>\n\n<p>and still others have multiple token keys and multiple token values (not always the same number on both sides!):</p>\n\n<pre><code>\"'Swt Ptto'\": \"'Sweet Potato'\",\n</code></pre>\n\n<p>I am trying to create a dictionary that assigns key:value pairs as closely as possible to their corresponding sides, such that at least I can get:</p>\n\n<pre><code>\"'Apl'\": \"'Apple'\",\n\"'Swt'\": \"'Sweet'\",\n\"'Ptto'\": \"'Potato'\",\n</code></pre>\n\n<p>I've considered the keys and values with numbers of tokens that don't match up to be a lost cause, since it's not readily possible to determine where a token begins and ends without a space. But at least with ones that are space delimited, we know where the tokens begin and end, so I'd like for the result to be similar to the above.</p>\n\n<p>To retrieve only those keys with spaces, I've done the following to my dictionary:</p>\n\n<pre><code>for key, value in dictionary1.items():\n    if \" \" in key and value:\n        print(key + \":\" + value)\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "python", "html", "pycharm", "jetbrains-ide"], "comments": [{"owner": {"reputation": 21358, "user_id": 1977620, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/lvWfj.jpg?s=128&g=1", "display_name": "Max Malysh", "link": "https://stackoverflow.com/users/1977620/max-malysh"}, "reply_to_user": {"reputation": 3548, "user_id": 2232151, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/DOM0q.jpg?s=128&g=1", "display_name": "R&#225;pli Andr&#225;s", "link": "https://stackoverflow.com/users/2232151/r%c3%a1pli-andr%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1481760859, "post_id": 41154217, "comment_id": 69510665, "body": "@R&#225;pliAndr&#225;s IDE for another language is not a solution at all :) I use PyCharm for python with Flask / Django, not PHP or Node.js."}, {"owner": {"reputation": 2304, "user_id": 7256199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4457bed0ec4a48407259cb23e51b410?s=128&d=identicon&r=PG&f=1", "display_name": "afxentios", "link": "https://stackoverflow.com/users/7256199/afxentios"}, "edited": false, "score": 0, "creation_date": 1481786881, "post_id": 41154217, "comment_id": 69518336, "body": "Even with PyCharm Pro I prefer to use a more suitable/light IDE for editing HTML/CSS/JS files. In particular I use Visual Studio Code - <a href=\"https://code.visualstudio.com/\" rel=\"nofollow noreferrer\">code.visualstudio.com</a> which it is an excellent and light IDE. For convenience, I have setup it as an External Tool - <a href=\"https://www.jetbrains.com/help/pycharm/2016.1/external-tools.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/pycharm/2016.1/external-tools.html</a> in PyCharm and I have assigned a shortcut on it to easily open trhough PyCharm any file I want in VS Code."}], "answers": [{"tags": [], "owner": {"reputation": 21358, "user_id": 1977620, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/lvWfj.jpg?s=128&g=1", "display_name": "Max Malysh", "link": "https://stackoverflow.com/users/1977620/max-malysh"}, "is_accepted": true, "score": 3, "last_activity_date": 1481759487, "creation_date": 1481759487, "answer_id": 41154218, "question_id": 41154217, "link": "https://stackoverflow.com/questions/41154217/pycharm-is-terribly-slow-when-editing-html-css-js/41154218#41154218", "title": "PyCharm is terribly slow when editing HTML / CSS / JS", "body": "<p>There are two solutions:</p>\n\n<ol>\n<li>You can disable HTML / CSS / JS inspections in <code>Preferences -&gt; Editor -&gt; Inspections</code>.</li>\n<li>If your project has a decent amount of third-party libraries (jquery, bootstrap etc.), this might be the reason. Don't index directories with these libraries: right click on a folder and then choose <code>Mark Directory As -&gt; Excluded</code>.</li>\n</ol>\n\n<p>Don't forget to clear the cache: <code>File -&gt; Invalidate Caches / Restart</code>.</p>\n"}], "owner": {"reputation": 21358, "user_id": 1977620, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/lvWfj.jpg?s=128&g=1", "display_name": "Max Malysh", "link": "https://stackoverflow.com/users/1977620/max-malysh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1802, "favorite_count": 0, "accepted_answer_id": 41154218, "answer_count": 1, "score": 3, "last_activity_date": 1481759487, "creation_date": 1481759487, "question_id": 41154217, "link": "https://stackoverflow.com/questions/41154217/pycharm-is-terribly-slow-when-editing-html-css-js", "title": "PyCharm is terribly slow when editing HTML / CSS / JS", "body": "<p>PyCharm becomes nearly unresponsive in 5 minutes of editing HTML / CSS / JS code \u2013 even typing a single character causes a several seconds lag. </p>\n\n<p>However, everything is absolutely fine when I work with Python. I don't close PyCharm for days and it works smooth.</p>\n\n<p>Restarting PyCharm helps only for a few minutes. I'm on PyCharm 5.0.5 Professional &amp; OS X 10.11. </p>\n"}, {"tags": ["python", "class", "object", "python-3.4"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1481759824, "post_id": 41154169, "comment_id": 69510385, "body": "You are getting confused about how to declare a constructor. In python you use <code>__init__</code> not the name of the class. Even if iy was that way why would a class <code>Bird</code> have a constructor <code>bird</code>?"}, {"owner": {"reputation": 16854, "user_id": 539023, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/WmDNC.jpg?s=128&g=1", "display_name": "kta", "link": "https://stackoverflow.com/users/539023/kta"}, "edited": false, "score": 0, "creation_date": 1500466899, "post_id": 41154169, "comment_id": 77347864, "body": "<a href=\"https://stackoverflow.com/questions/27078742/typeerror-object-takes-no-parameters\" title=\"typeerror object takes no parameters\">stackoverflow.com/questions/27078742/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 0, "last_activity_date": 1481759291, "creation_date": 1481759291, "answer_id": 41154182, "question_id": 41154169, "link": "https://stackoverflow.com/questions/41154169/classes-in-python-typeerror-object-takes-no-parameters/41154182#41154182", "title": "Classes in Python - TypeError: object() takes no parameters", "body": "<p>You do not have <code>__init__()</code> function inside your <code>Bird</code> class, so you can not write:</p>\n\n<pre><code>Bird(\"Red\")\n</code></pre>\n\n<p>If you want to pass an argument like that, you need to do:</p>\n\n<pre><code>class Bird:\n    def __init__(self, color):\n        self.color = color\n\n    # The rest of your code here\n</code></pre>\n\n<p>Below, you can see the result:</p>\n\n<pre><code>&gt;&gt;&gt; class Bird:\n...     def __init__(self, color):\n...         self.color = color\n...\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; b = Bird('Red')\n&gt;&gt;&gt; b.color\n'Red'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4534352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d414a4a0798a2e05f54ce38537c154?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4534352/matthew"}, "edited": false, "score": 0, "creation_date": 1481760381, "post_id": 41154189, "comment_id": 69510532, "body": "Thank you. That fixed that problem. But now I&#39;m getting a new error:Traceback (most recent call last):   File &quot;/Users/MNK/Documents/hack.py&quot;, line 35, in &lt;module&gt;     main()   File &quot;/Users/MNK/Documents/hack.py&quot;, line 32, in main     species.display()   File &quot;/Users/MNK/Documents/hack.py&quot;, line 21, in display     self._bird.display(self)  TypeError: display() takes 1 positional argument but 2 were given"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 21, "user_id": 4534352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d414a4a0798a2e05f54ce38537c154?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4534352/matthew"}, "edited": false, "score": 0, "creation_date": 1481760432, "post_id": 41154189, "comment_id": 69510547, "body": "Please create a separate question for that. Also note, Python is note that Python is not Java. You do not need setter and getter functions here"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 21, "user_id": 4534352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d414a4a0798a2e05f54ce38537c154?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4534352/matthew"}, "edited": false, "score": 0, "creation_date": 1481760487, "post_id": 41154189, "comment_id": 69510566, "body": "@Matthew: Regarding you new error, replace <code>self._bird.display(self) </code> with <code>self._bird.display() </code>"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1481759338, "creation_date": 1481759338, "answer_id": 41154189, "question_id": 41154169, "link": "https://stackoverflow.com/questions/41154169/classes-in-python-typeerror-object-takes-no-parameters/41154189#41154189", "title": "Classes in Python - TypeError: object() takes no parameters", "body": "<p>In your code, you are doing:</p>\n\n<pre><code>species.set_bird(Bird(\"Red\"))\n</code></pre>\n\n<p>While creating the object of <code>Bird</code>, you are passing argument <code>\"Red\"</code>. But there is no <code>__init__()</code> function in <code>Bird</code> class to accept this argument. Your <code>Bird</code> class should be like:</p>\n\n<pre><code>class Bird:\n    # _type = \"\"   &lt;--- Not needed\n    #                   Probably you miss understood it with the\n    #                   part needed in `__init__()`\n\n    def __init__(self, type):\n        self._type = type\n\n    def bird(self, type):\n        self._type = type\n\n    def display(self):\n        print(self._type)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4534352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d414a4a0798a2e05f54ce38537c154?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4534352/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11077, "favorite_count": 2, "accepted_answer_id": 41154189, "answer_count": 2, "score": -2, "last_activity_date": 1524806871, "creation_date": 1481759180, "last_edit_date": 1481919394, "question_id": 41154169, "link": "https://stackoverflow.com/questions/41154169/classes-in-python-typeerror-object-takes-no-parameters", "title": "Classes in Python - TypeError: object() takes no parameters", "body": "<p>I'm new to python, and I'm having a problem getting this little bit of code to work. I keep running into this same issue. When I run this I get the error message:</p>\n\n<pre><code>TypeError: object() takes no parameters.\n</code></pre>\n\n<p>I've included the error message in full below.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>class Bird:\n    _type = \"\"\n\n    def bird(self, type):\n        self._type = type\n\n    def display(self):\n        print(self._type)\n\n\nclass Species:\n    _bird = None\n    _type = \"\"\n\n    def set_bird(self, bird):\n        self._bird = bird\n\n    def display(self):\n        print(self._type)\n        self._bird.display(self)\n\n\nclass Cardinal(Species):\n    def cardinal(self):\n        self._type = \"Cardinal\"\n\n\ndef main():\n    species = Cardinal()\n    species.set_bird(Bird(\"Red\"))\n    species.display()\n\n\nmain()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JBM3r.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBM3r.jpg\" alt=\"error message\"></a></p>\n"}, {"tags": ["android", "python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1481758905, "post_id": 41154113, "comment_id": 69510133, "body": "Did you actually provide any command-line arguments to this program?"}], "answers": [{"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 0, "last_activity_date": 1481759005, "creation_date": 1481759005, "answer_id": 41154137, "question_id": 41154113, "link": "https://stackoverflow.com/questions/41154113/i-keep-receiving-this-error-filename-sys-argv1-indexerror-list-index-out-o/41154137#41154137", "title": "I keep receiving this error &quot;filename = sys.argv[1] IndexError: list index out of range&quot;. Any idea what the issue could be?", "body": "<p><code>sys.argv[1]</code> is the first argument that you pass to your script, so you need to run your script like this:</p>\n\n<pre><code>python my_script.py arg1\n</code></pre>\n\n<p><code>sys.argv[0]</code> is the name of your script itself, in this example <code>my_script.py</code></p>\n"}, {"tags": [], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "is_accepted": false, "score": 1, "last_activity_date": 1481759091, "creation_date": 1481759091, "answer_id": 41154152, "question_id": 41154113, "link": "https://stackoverflow.com/questions/41154113/i-keep-receiving-this-error-filename-sys-argv1-indexerror-list-index-out-o/41154152#41154152", "title": "I keep receiving this error &quot;filename = sys.argv[1] IndexError: list index out of range&quot;. Any idea what the issue could be?", "body": "<p>I'd first print <code>sys.argv</code> so that you can see what it represents. For example:</p>\n\n<pre><code>$ ./myscript.py\n\n&gt;&gt;&gt; sys.argv\n['/myscript.py']\n&gt;&gt;&gt; sys.argv[1]\nIndexError\n</code></pre>\n\n<p>You probably want to pass additional command line arguments to your function like:</p>\n\n<pre><code>$ ./myscript.py firstvar secondvar\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6125895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61cbba14cbb528408117deb61450ee7f?s=128&d=identicon&r=PG&f=1", "display_name": "Long Sean Silver", "link": "https://stackoverflow.com/users/6125895/long-sean-silver"}, "is_accepted": false, "score": 0, "last_activity_date": 1481759327, "creation_date": 1481759327, "answer_id": 41154186, "question_id": 41154113, "link": "https://stackoverflow.com/questions/41154113/i-keep-receiving-this-error-filename-sys-argv1-indexerror-list-index-out-o/41154186#41154186", "title": "I keep receiving this error &quot;filename = sys.argv[1] IndexError: list index out of range&quot;. Any idea what the issue could be?", "body": "<p>Looks like this script requires 3 arguments, and you aren't giving it any. The syntax for calling it on the command line is <code>python script_name.py &lt;file_name&gt; &lt;x&gt; &lt;y&gt;</code> where <code>script_name.py</code> is the name of the actual program, <code>&lt;file_name&gt;</code> is a string, and <code>&lt;x&gt;</code> and <code>&lt;y&gt;</code> are integers.</p>\n"}], "owner": {"reputation": 1, "user_id": 7299322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc73fc31ea70cc70f13e542f35dbad8?s=128&d=identicon&r=PG&f=1", "display_name": "K Shelby", "link": "https://stackoverflow.com/users/7299322/k-shelby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1481759327, "creation_date": 1481758839, "question_id": 41154113, "link": "https://stackoverflow.com/questions/41154113/i-keep-receiving-this-error-filename-sys-argv1-indexerror-list-index-out-o", "title": "I keep receiving this error &quot;filename = sys.argv[1] IndexError: list index out of range&quot;. Any idea what the issue could be?", "body": "<p>The code is supposed to display a animated image walking in front of a background. I received this code from my professor and I'm not sure what the issue is.</p>\n\n<pre><code>import sys, os, math\n\nsys.path.append(\"./\")\nfrom livewires import games\n\nimport spriteUtils\nfrom spriteUtils import *\n\nfilename = sys.argv[1]\nx = int(sys.argv[2])\ny = int(sys.argv[3])\n\n##print(filename, \"\\t\", x, \"\\t\", y)\n\ngames.init(screen_width = 1152, screen_height = 864, fps = 50)\n\nnebula_image = games.load_image(os.path.join('.', \"race_track.jpg\"), transparent = 0)\ngames.screen.background = nebula_image\n\nanim_list = load_2d_sheets(x, y, filename)\n\nanim = games.Animation(images = anim_list,\n                        x = games.screen.width/2,\n                        y = 2*games.screen.height/4,\n                        n_repeats = 15,\n                        repeat_interval = 10)\ngames.screen.add(anim)\n\ngames.screen.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "opencv", "computer-vision", "edge-detection"], "comments": [{"owner": {"reputation": 2368, "user_id": 7224320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-f3cKz1WtSmo/AAAAAAAAAAI/AAAAAAAAAMo/Sd5vYEkZY8U/photo.jpg?sz=128", "display_name": "ebeneditos", "link": "https://stackoverflow.com/users/7224320/ebeneditos"}, "edited": false, "score": 0, "creation_date": 1481791637, "post_id": 41154093, "comment_id": 69520724, "body": "The problem is that this with this parameters vertical lines are hardly detected, try to find vertical lines with <code>lines_v = cv2.HoughLinesP(edges,1,np.pi,100,minLineLength,maxLineGap)</code> and make another loop for this. Try as well different parameters values for the <code>HoughLinesP</code> function, maybe setting different ones for horizontal and vertical lines."}], "answers": [{"tags": [], "owner": {"reputation": 1232, "user_id": 7298298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lyoA.jpg?s=128&g=1", "display_name": "Sneaky Polar Bear", "link": "https://stackoverflow.com/users/7298298/sneaky-polar-bear"}, "is_accepted": true, "score": 2, "last_activity_date": 1482162476, "last_edit_date": 1482162476, "creation_date": 1481828857, "answer_id": 41171584, "question_id": 41154093, "link": "https://stackoverflow.com/questions/41154093/detecting-individual-boxes-in-w2-with-opencv-python/41171584#41171584", "title": "Detecting individual boxes in W2 with opencv - python", "body": "<p>Let me know if you don't follow anything in my code.  The biggest faults of this concept are </p>\n\n<p>1: (if you have noisy breaks in the main box line that would break it into separate blobs)</p>\n\n<p>2: idk if this is a thing where there can be handwritten text, but having letters overlap the edges of boxes could be bad.</p>\n\n<p>3: It does absolutely no orientation checking, (you may actually want to improve this as I don't think it would be too bad and would give you more accurate handles).  What I mean is that it depends on your boxes being approximately aligned to the xy axes, if they are sufficiently skew, it will give you gross offsets to all your box corners (though it should still find them all)</p>\n\n<p>I fiddled with the threshold set point a bit to get all the text separated from the edges, you could probably pull it even lower if necessary before you start breaking the main line.  Also, if you are worried about line breaks, you could add together sufficiently large blobs into the final image.\n<a href=\"https://i.stack.imgur.com/N6QMH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N6QMH.png\" alt=\"Processing steps\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/auys9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/auys9.jpg\" alt=\"Final result\"></a></p>\n\n<p>Basically, first step fiddling with the threshold to get it in the most stable (likely lowest value that still keeps a connected box) cuttoff value for separating text and noise from box.</p>\n\n<p>Second find the biggest positive blob (should be the boxgrid).  If your box doesnt stay all together, you may want to take a few of the highest blobs... though that will get sticky, so try to get the threshold so that you can get it as a single blob.</p>\n\n<p>Last step is to get the rectangles, to do this, I just look for negative blobs (ignoring the first outer area).</p>\n\n<p>And here is the code (sorry that it is in C++, but hopefully you understand the concept and would write it yourself anyhow):</p>\n\n<pre><code>#include \"opencv2/imgproc/imgproc.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;opencv2/opencv.hpp&gt;\n\nusing namespace cv;\n\n\n//Attempts to find the largest connected group of points (assumed to be the interconnected boundaries of the textbox grid)\nMat biggestComponent(Mat targetImage, int connectivity=8)\n{\n    Mat inputImage;\n    inputImage = targetImage.clone();\n    Mat finalImage;// = inputImage;\n    int greatestBlobSize=0;\n    std::cout&lt;&lt;\"Top\"&lt;&lt;std::endl;\n    std::cout&lt;&lt;inputImage.rows&lt;&lt;std::endl;\n    std::cout&lt;&lt;inputImage.cols&lt;&lt;std::endl;\n\n    for(int i=0;i&lt;inputImage.cols;i++)\n    {\n        for(int ii=0;ii&lt;inputImage.rows;ii++)\n        {\n            if(inputImage.at&lt;uchar&gt;(ii,i)!=0)\n            {\n                Mat lastImage;\n                lastImage = inputImage.clone();\n                Rect* boundbox;\n                int blobSize = floodFill(inputImage, cv::Point(i,ii), Scalar(0),boundbox,Scalar(200),Scalar(255),connectivity);\n\n                if(greatestBlobSize&lt;blobSize)\n                {\n                    greatestBlobSize=blobSize;\n                    std::cout&lt;&lt;blobSize&lt;&lt;std::endl;\n                    Mat tempDif = lastImage-inputImage;\n                    finalImage = tempDif.clone();\n                }\n                //std::cout&lt;&lt;\"Loop\"&lt;&lt;std::endl;\n            }\n        }\n    }\n    return finalImage;\n}\n\n//Takes an image that only has outlines of boxes and gets handles for each textbox.\n//Returns a vector of points which represent the top left corners of the text boxes.\nstd::vector&lt;Rect&gt; boxCorners(Mat processedImage, int connectivity=4)\n{\n    std::vector&lt;Rect&gt; boxHandles;\n\n    Mat inputImage;\n    bool outerRegionFlag=true;\n\n    inputImage = processedImage.clone();\n\n    std::cout&lt;&lt;inputImage.rows&lt;&lt;std::endl;\n    std::cout&lt;&lt;inputImage.cols&lt;&lt;std::endl;\n\n    for(int i=0;i&lt;inputImage.cols;i++)\n    {\n        for(int ii=0;ii&lt;inputImage.rows;ii++)\n        {\n            if(inputImage.at&lt;uchar&gt;(ii,i)==0)\n            {\n                Mat lastImage;\n                lastImage = inputImage.clone();\n                Rect boundBox;\n\n                if(outerRegionFlag) //This is to floodfill the outer zone of the page\n                {\n                    outerRegionFlag=false;\n                    floodFill(inputImage, cv::Point(i,ii), Scalar(255),&amp;boundBox,Scalar(0),Scalar(50),connectivity);\n                }\n                else\n                {\n                    floodFill(inputImage, cv::Point(i,ii), Scalar(255),&amp;boundBox,Scalar(0),Scalar(50),connectivity);\n                    boxHandles.push_back(boundBox);\n                }\n            }\n        }\n    }\n    return boxHandles;\n}\n\nMat drawTestBoxes(Mat originalImage, std::vector&lt;Rect&gt; boxes)\n{\n    Mat outImage;\n    outImage = originalImage.clone();\n    outImage = outImage*0; //really I am just being lazy, this should just be initialized with dimensions\n\n    for(int i=0;i&lt;boxes.size();i++)\n    {\n        rectangle(outImage,boxes[i],Scalar(255));\n    }\n    return outImage;\n}\n\nint main() {\n\n    Mat image;\n    Mat thresholded;\n    Mat processed;\n\n    image = imread( \"Images/W2.png\", 1 );\n    Mat channel[3];\n\n    split(image, channel);\n\n\n    threshold(channel[0],thresholded,150,255,1);\n\n    std::cout&lt;&lt;\"Coputing biggest object\"&lt;&lt;std::endl;\n    processed = biggestComponent(thresholded);\n\n    std::vector&lt;Rect&gt; textBoxes = boxCorners(processed);\n\n    Mat finalBoxes = drawTestBoxes(image,textBoxes);\n\n\n    namedWindow(\"Original\", WINDOW_AUTOSIZE );\n    imshow(\"Original\", channel[0]);\n\n    namedWindow(\"Thresholded\", WINDOW_AUTOSIZE );\n    imshow(\"Thresholded\", thresholded);\n\n    namedWindow(\"Processed\", WINDOW_AUTOSIZE );\n    imshow(\"Processed\", processed);\n\n    namedWindow(\"Boxes\", WINDOW_AUTOSIZE );\n    imshow(\"Boxes\", finalBoxes);\n\n\n\n    std::cout&lt;&lt;\"waiting for user input\"&lt;&lt;std::endl;\n\n    waitKey(0);\n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1481996802, "post_id": 41201340, "comment_id": 69601929, "body": "Similar to Sneaky Polar Bear&#39;s approach."}], "tags": [], "owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "is_accepted": false, "score": 3, "last_activity_date": 1481996684, "creation_date": 1481996684, "answer_id": 41201340, "question_id": 41154093, "link": "https://stackoverflow.com/questions/41154093/detecting-individual-boxes-in-w2-with-opencv-python/41201340#41201340", "title": "Detecting individual boxes in W2 with opencv - python", "body": "<p>He he, edge detection is not the only way. As the edges are thick enough (at least one pixel everywhere), binarization allows you to singulate the regions inside the boxes.</p>\n\n<p>By simple criteria you can get rid of clutter, and just bounding boxes give you a fairly good segmentation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FcQW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FcQW5.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 53, "user_id": 5873152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85ad85cafa4c50a7426670c39a997eef?s=128&d=identicon&r=PG&f=1", "display_name": "keyoung1", "link": "https://stackoverflow.com/users/5873152/keyoung1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 4, "accepted_answer_id": 41171584, "answer_count": 2, "score": 4, "last_activity_date": 1482162476, "creation_date": 1481758706, "last_edit_date": 1481794198, "question_id": 41154093, "link": "https://stackoverflow.com/questions/41154093/detecting-individual-boxes-in-w2-with-opencv-python", "title": "Detecting individual boxes in W2 with opencv - python", "body": "<p>I've done extensive research and cannot find a combination of techniques that will achieve what I need.</p>\n\n<p>I have a situation where I need to perform OCR on hundreds of W2s to extract the data for a reconciliation. The W2s are very poor quality, as they are printed and subsequently scanned back into the computer. The aforementioned process is outside of my control; unfortunately I have to work with what I've got.</p>\n\n<p>I was able to successfully perform this process last year, but I had to brute force it as timeliness was a major concern. I did so by manually indicating the coordinates to extract the data from, then performing the OCR only on those segments one at a time. This year, I would like to come up with a more dynamic situation in the anticipation that the coordinates could change, format could change, etc.</p>\n\n<p>I have included a sample, scrubbed W2 below. The idea is for each box on the W2 to be its own rectangle, and extract the data by iterating through all of the rectangles. I have tried several edge detection techniques but none have delivered exactly what is needed. I believe that I have not found the correct combination of pre-processing required. I have tried to mirror some of the Sudoku puzzle detection scripts.</p>\n\n<p><img src=\"https://i.stack.imgur.com/sdtGD.png\" alt=\"Example W2\"></p>\n\n<p>Here is the result of what I have tried thus far, along with the python code, which can be used whether with OpenCV 2 or 3:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AcpAL.png\" alt=\"Processed W2\"></p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimg = cv2.imread(image_path_here)\n\nnewx,newy = img.shape[1]/2,img.shape[0]/2\nimg = cv2.resize(img,(newx,newy))\nblur = cv2.GaussianBlur(img, (3,3),5)\nret,thresh1 = cv2.threshold(blur,225,255,cv2.THRESH_BINARY)\n\ngray = cv2.cvtColor(thresh1,cv2.COLOR_BGR2GRAY)\n\nedges = cv2.Canny(gray,50,220,apertureSize = 3)\n\nminLineLength = 20\nmaxLineGap = 50\nlines = cv2.HoughLinesP(edges,1,np.pi/180,100,minLineLength,maxLineGap)\n\nfor x1,y1,x2,y2 in lines[0]:\n    cv2.line(img,(x1,y1),(x2,y2),(255,0,255),2)\n\ncv2.imshow('hough',img)\ncv2.waitKey(0)\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1481808211, "post_id": 41154072, "comment_id": 69530773, "body": "If the <code>Circle</code> and <code>Square</code> classes aren&#39;t part of the problem, please remove them from the question. For more information about posting code see <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete and Verifiable Example</a>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481816377, "post_id": 41154072, "comment_id": 69536333, "body": "you need points to draw polygon - see <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/create_polygon.html\" rel=\"nofollow noreferrer\">create_polygon</a>. Your Rhombus doesn&#39;t have any points so you can&#39;t draw it."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1555454909, "last_edit_date": 1555454909, "creation_date": 1481817011, "answer_id": 41168160, "question_id": 41154072, "link": "https://stackoverflow.com/questions/41154072/how-to-use-tkinter-to-draw-a-rombus/41168160#41168160", "title": "How to use Tkinter to draw a Rombus?", "body": "<p>To draw polygon you need points - ie. <code>self.polygon</code></p>\n\n<pre><code>class Rhombus(Rectangle):\n\n    def __init__(self, x=0.0, y=0.0, theta=45, base=1.0):\n        self.theta = theta\n        self.base = base\n        super().__init__(x, y, theta)\n\n        a = base * cos(radians(theta))\n        b = base * sin(radians(theta))\n\n        self.polygon = [\n            x,        y,\n            x+base,   y,\n            x+base+a, y+b,\n            x+a,      y+b\n        ]\n</code></pre>\n\n<p>and then you can draw it</p>\n\n<pre><code>root = Tk()\n\ncanvas = Canvas(root, width=200, height=100)\ncanvas.pack(fill=BOTH)\n\nobj1 = Rhombus(base=100, theta=45)\nrhom1 = canvas.create_polygon(obj1.polygon, fill=\"red\")\n\nobj2 = Rhombus(x=50, y=15, base=50, theta=60)\nrhom2 = canvas.create_polygon(obj2.polygon, fill=\"blue\")\n\n# rectangle\nobj3 = Rhombus(y=50, base=50, theta=90)\nrhom3 = canvas.create_polygon(obj3.polygon, fill=\"green\")\n\nroot.mainloop()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/P9eCa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P9eCa.png\" alt=\"screenshot of output\"></a></p>\n"}], "owner": {"reputation": 133, "user_id": 7242887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/785bace8259ddc8eb02275d1763e64a4?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/7242887/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "accepted_answer_id": 41168160, "answer_count": 1, "score": 1, "last_activity_date": 1555454909, "creation_date": 1481758563, "last_edit_date": 1555454666, "question_id": 41154072, "link": "https://stackoverflow.com/questions/41154072/how-to-use-tkinter-to-draw-a-rombus", "title": "How to use Tkinter to draw a Rombus?", "body": "<p>I'm trying to draw a Rhombus using the defined <code>Rhombus</code> class using tkinter. In my code below I have used the <code>Rectangle</code> class to get the <code>Rhombus</code>. Although I have now no idea how can I use it to draw different-size-<code>Rhombus</code>es using Tkinter.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from math import pi, sin, radians\nfrom tkinter import *\n\n\nclass TwoDObject:\n    \"\"\"Generic class for two dimensional geometric objects.\n\n    I assume that each 2D object has a unique anchor point (e.g., its center\n    of mass).\n\n    The class has a counter that keeps track how many objects have been\n    created.\n\n    Attributes:\n        x (float): x-value of the anchor point.\n        y (float): y-value of the anchor point.\n\n    Class Attributes:\n        counter (int): Counter for the objects generated.\n\n    Examples:\n\n        &gt;&gt;&gt; a = TwoDObject()\n        &gt;&gt;&gt; pos = a.x, a.y\n        &gt;&gt;&gt; pos\n        (0.0, 0.0)\n        &gt;&gt;&gt; repr(a)\n        'TwoDObject(x=0.0, y=0.0)'\n        &gt;&gt;&gt; b = TwoDObject(x=0.0, y=0.0)\n        &gt;&gt;&gt; a == b\n        False\n\n    \"\"\"\n    counter = 0\n\n    def __init__(self, x=0.0, y=0.0):\n        \"\"\"Init TwoDObject objects.\n\n        Args:\n            x (float, optional): x-value of the anchor point.\n                Defaults to 0.0.\n            y (float, optional): y-value of the anchor point.\n                Defaults to 0.0.\n\n        \"\"\"\n        self.x = x\n        self.y = y\n        TwoDObject.counter += 1\n\n    def __repr__(self):\n        return \"TwoDObject(x=%s, y=%s)\" % (self.x, self.y)\n\n\nclass Circle(TwoDObject):\n    \"\"\"Circles.\n\n    New Attributes:\n        radius (float): Radius of the circle.\n\n    Examples:\n\n        &gt;&gt;&gt; a = Circle(radius=2.0)\n        &gt;&gt;&gt; a\n        Circle(x=0.0, y=0.0, radius=2.0)\n        &gt;&gt;&gt; a.area()   # doctest: +ELLIPSIS\n        12.566...\n\n    \"\"\"\n\n    def __init__(self, x=0.0, y=0.0, radius=1.0):\n        \"\"\"Init Circle objects.\n\n        Args:\n            x (float, optional): x-value of the anchor point.\n                Defaults to 0.0.\n            y (float, optional): y-value of the anchor point.\n                Defaults to 0.0.\n            radius (float, optional): Radius of the circle.\n                Defaults to 0.0.\n\n        \"\"\"\n        self.radius = radius\n        super().__init__(x, y)\n\n    def area(self):\n        \"\"\"Calculate the area of the circle.\"\"\"\n        return pi * (self.radius ** 2)\n\n    def change_size(self, percent):\n        \"\"\"Change the size of the circle.\n\n        Operation does not change the anchor.\n\n        Args:\n            percent (float): Factor by which we change the size (in percent).\n\n        \"\"\"\n        self.radius *= (percent / 100.0)\n\n    def __repr__(self):\n        return \"Circle(x=%s, y=%s, radius=%s)\" % (self.x, self.y, self.radius)\n\n\nclass Rectangle(TwoDObject):\n    \"\"\"Axis-aligned rectangles.\n\n    New Attributes:\n        heigth (float): Height of the rectangle.\n        width (float): Width of the rectangle.\n\n    Examples:\n\n        &gt;&gt;&gt; a = Rectangle(height=2.0, width=4.0)\n        &gt;&gt;&gt; a.stretch_height(200)\n        &gt;&gt;&gt; a\n        Rectangle(x=0.0, y=0.0, height=4.0, width=4.0)\n\n    \"\"\"\n\n    def __init__(self, x=0.0, y=0.0, height=1.0, width=1.0):\n        \"\"\"Init Rectangle objects.\n\n        Args:\n            x (float, optional): x-value of the anchor point.\n                Defaults to 0.0.\n            y (float, optional): y-value of the anchor point.\n                Defaults to 0.0.\n            height (float, optional): Height of the rectangle.\n                Defaults to 1.0.\n            width (float, optional): Width of the rectangle.\n                Defaults to 1.0.\n\n        \"\"\"\n        self.height = height\n        self.width = width\n        super().__init__(x, y)\n\n    def area(self):\n        \"\"\"Calculate the area of the rectangle.\"\"\"\n        return self.height * self.width\n\n    def change_size(self, percent):\n        \"\"\"Change the size of the rectangle.\n\n        Operation does not change the anchor.\n\n        Args:\n            percent (float): Factor by which we change the size (in percent).\n\n        \"\"\"\n        self.height *= (percent / 100.0)\n        self.width *= (percent / 100.0)\n\n    def stretch_height(self, percent):\n        \"\"\"Stretch height of the rectangle.\n\n        Operation does not change the anchor.\n\n        Args:\n            percent (float): Factor by which we change the height (in percent).\n\n        \"\"\"\n        self.height *= (percent / 100.0)\n\n    def stretch_width(self, percent):\n        \"\"\"Stretch width of the rectangle.\n\n        See Also:\n            stretch_height\n\n        \"\"\"\n        self.width *= (percent / 100.0)\n\n    def __repr__(self):\n        return (\"Rectangle(x=%s, y=%s, height=%s, width=%s)\" %\n                (self.x, self.y, self.height, self.width))\n\n\nclass Square(Rectangle):\n    \"\"\"Axis-aligned squares.\n\n    Examples:\n\n        &gt;&gt;&gt; a = Square(side=3.1)\n        &gt;&gt;&gt; a.stretch_width(200)\n        &gt;&gt;&gt; a\n        Square(x=0.0, y=0.0, side=6.2)\n\n    \"\"\"\n\n    def __init__(self, x=0.0, y=0.0, side=1.0):\n        \"\"\"Init Square objects.\n\n        Args:\n            x (float, optional): x-value of the anchor point.\n                Defaults to 0.0.\n            y (float, optional): y-value of the anchor point.\n                Defaults to 0.0.\n            side (float, optional): Length of one side of the square.\n                Defaults to 1.0.\n\n        \"\"\"\n        super().__init__(x, y, side, side)\n\n    def change_size(self, percent):\n        super().change_size(percent)\n\n    stretch_height = change_size\n    stretch_width = change_size\n\n    def __repr__(self):\n        return \"Square(x=%s, y=%s, side=%s)\" % (self.x, self.y, self.height)\n\n\nclass Rhombus(Rectangle):\n    \"\"\"Axis-aligned squares.\n\n    Examples:\n\n        &gt;&gt;&gt; a = Rhombus(theta=44, base=3.1)\n        &gt;&gt;&gt; a\n        Rhombus(theta=44, base=3.1)\n        &gt;&gt;&gt; a.area()\n        6.675666940110965\n\n    \"\"\"\n\n    def __init__(self,x=0.0,y=0.0, theta=45, base=1.0):\n        self.theta = theta\n        self.base = base\n        super().__init__(x, y, theta)\n\n    def area(self):\n        return self.base ** 2 * sin(radians(self.theta))\n\n    def change_size(self, percent):\n        super().change_size(percent)\n\n    stretch_height = change_size\n    stretch_width = change_size\n\n    def __repr__(self):\n        return \"Rhombus(theta=%s, base=%s)\" % (self.theta, self.base)\n\n\nclass Window(Frame):\n    def __init__(self, master=None):\n        Frame.__init__(self, master)\n        self.master = master\n\n\ndef _test():\n    import doctest\n    doctest.testmod(verbose=True)\n\n\ndef _test_win():\n  root = Tk()\n  canvas = Canvas(root, width=200, height=100)\n  canvas.pack(fill=BOTH)\n  obj = Rhombus(base=100,theta=45)\n  o = obj.base\n  t = obj.theta\n  rhom = canvas.create_polygon(, fill=\"red\")\n  mainloop()\n\nif __name__ == \"__main__\":\n    _test()\n    _test_win()\n</code></pre>\n"}, {"tags": ["python", "regex", "notepad++"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1481758482, "post_id": 41154035, "comment_id": 69510011, "body": "This site can generate Python code <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}, {"owner": {"reputation": 110, "user_id": 6938240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ivbtb.jpg?s=128&g=1", "display_name": "moogle", "link": "https://stackoverflow.com/users/6938240/moogle"}, "edited": false, "score": 2, "creation_date": 1481758698, "post_id": 41154035, "comment_id": 69510078, "body": "Try removing <code>\\r</code> from your pattern?"}, {"owner": {"reputation": 91, "user_id": 4676957, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rAqnB.png?s=128&g=1", "display_name": "phfb", "link": "https://stackoverflow.com/users/4676957/phfb"}, "edited": false, "score": 1, "creation_date": 1481814828, "post_id": 41154035, "comment_id": 69535398, "body": "moogle, that totally worked!  I figured it&#39;d be something that related to \\r\\n, but why is \\r included in notepad++, but not in the python file?  Thanks so much for your help!"}, {"owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "edited": false, "score": 0, "creation_date": 1482075044, "post_id": 41154035, "comment_id": 69618395, "body": "Can you close this question, if it&#39;s solved?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539239730, "post_id": 41154035, "comment_id": 92430776, "body": "If <a href=\"https://stackoverflow.com/a/41345093/3832970\">my answer</a> worked for you please consider accepting the answer by clicking \u2713 on the left (see <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">How to accept SO answers</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1482841177, "creation_date": 1482841177, "answer_id": 41345093, "question_id": 41154035, "link": "https://stackoverflow.com/questions/41154035/verified-multiline-regex-works-in-notepad-but-no-results-in-python/41345093#41345093", "title": "Verified multiline regex works in notepad++, but no results in python", "body": "<p>I'd suggest turning <code>\\r</code> into an <em>optional</em> subpattern and optimize the Group 2 subpattern as follows:</p>\n\n<pre><code>nameRegex = re.compile(r\"(899\\*0)\\r?\\n[ ]+([a-z, A-Z-]+(?:[ ][a-z,A-Z-]+)?)\")\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/crrZOs/1\" rel=\"nofollow noreferrer\">regex demo</a>. <strong>Note</strong> that the commas inside <code>[...]</code> are meaningful, if you used them as range delimiters, consider removing the commas. I left the spaces inside <code>[ ]</code> only because it might be handy if you plan to use <code>re.VERBOSE</code> flag that will make all whitespace in the pattern (outside character classes) meaningless (used for formatting purposes only).</p>\n\n<p>Note that <code>re.MULTILINE</code> flag is redundant because it only redefines the behavior of <code>^</code> and <code>$</code> anchors, and does not have any affect on the input string parsing.</p>\n\n<p><strong>Pattern description</strong>:</p>\n\n<ul>\n<li><code>(899\\*0)</code> - Group 1 capturing <code>899*0</code></li>\n<li><code>\\r?\\n</code> - an optional CR followed with LF</li>\n<li><code>[ ]+</code> - 1+ regular spaces</li>\n<li><code>([a-z, A-Z-]+(?:[ ][a-z,A-Z-]+)?)</code> - Group 2 capturing a sequence of:\n\n<ul>\n<li><code>[a-z, A-Z-]+</code> - 1 or more ASCII letters, <code>,</code>, space, <code>-</code></li>\n<li><code>(?:[ ][a-z,A-Z-]+)?</code> - one or more occurrence of:\n\n<ul>\n<li><code>[ ]</code>  - a space</li>\n<li><code>[a-z,A-Z-]+</code> - 1 or more ASCII letters, <code>,</code> or <code>-</code>.</li>\n</ul></li>\n</ul></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1539176733, "last_edit_date": 1592644375, "creation_date": 1539176733, "answer_id": 52740964, "question_id": 41154035, "link": "https://stackoverflow.com/questions/41154035/verified-multiline-regex-works-in-notepad-but-no-results-in-python/52740964#52740964", "title": "Verified multiline regex works in notepad++, but no results in python", "body": "<blockquote>\n<p>I figured it'd be something that related to \\r\\n, but why is \\r included in notepad++, but not in the python file?</p>\n</blockquote>\n<p>See <a href=\"https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">Reading and Writing Files</a>:</p>\n<blockquote>\n<p>Normally, files are opened in text mode, \u2026</p>\n<p>In text mode, the default when reading is to convert platform-specific line endings (\\n on Unix, \\r\\n on Windows) to just \\n.</p>\n</blockquote>\n"}], "owner": {"reputation": 91, "user_id": 4676957, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rAqnB.png?s=128&g=1", "display_name": "phfb", "link": "https://stackoverflow.com/users/4676957/phfb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1539176733, "creation_date": 1481758283, "question_id": 41154035, "link": "https://stackoverflow.com/questions/41154035/verified-multiline-regex-works-in-notepad-but-no-results-in-python", "title": "Verified multiline regex works in notepad++, but no results in python", "body": "<p>I'm a python noob, and I'm having a bit of trouble with regex results.  I've written out my regex and verified it works in notepad++. What must I consider when I'm transferring a regex from notepad++ to python?  I get the feeling that the \\r\\n within the regex is the trouble, but all I get is a \"None\" result for my printed results.  What is happening?  Thanks for the help!  </p>\n\n<pre><code>#!python\n\nimport re\nscmFile = open(\"scm.txt\")\nscmContent = scmFile.read()\nnameRegex = re.compile(r\"(899\\*0)\\r\\n[ ]+(([a-z, A-Z-])+[ ]([a-z,A-Z-])+)\", re.MULTILINE)\nsearchResults = nameRegex.search(scmContent)\n#print(scmContent)\nprint(searchResults)\n</code></pre>\n"}, {"tags": ["python", "google-cloud-datastore"], "comments": [{"owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "edited": false, "score": 0, "creation_date": 1481768020, "post_id": 41154026, "comment_id": 69512520, "body": "Most things in Python are thread-safe, because unless the authors have gone to the trouble of managing the GIL themselves, there will be no concurrent execution of code from their library."}, {"owner": {"reputation": 1817, "user_id": 1125823, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/701004/picture?type=large", "display_name": "Mike Lambert", "link": "https://stackoverflow.com/users/1125823/mike-lambert"}, "edited": false, "score": 2, "creation_date": 1496223366, "post_id": 41154026, "comment_id": 75568827, "body": "No, things are not thread-safe by default. Anything that uses mutable global variables in a module has a big risk of concurrency/safety issues unless they use thread-safe primitives."}], "answers": [{"tags": [], "owner": {"reputation": 1817, "user_id": 1125823, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/701004/picture?type=large", "display_name": "Mike Lambert", "link": "https://stackoverflow.com/users/1125823/mike-lambert"}, "is_accepted": false, "score": 3, "last_activity_date": 1496223763, "creation_date": 1496223763, "answer_id": 44281247, "question_id": 41154026, "link": "https://stackoverflow.com/questions/41154026/is-the-python-google-cloud-datastore-package-thread-safe/44281247#44281247", "title": "Is the python google-cloud-datastore package thread safe?", "body": "<p>There are two confusingly-named projects (which you clarify, but I'm clarifying for other readers)</p>\n\n<p>If you're asking about <code>googledatastore</code> (aka <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-datastore\" rel=\"nofollow noreferrer\">google-cloud-datastore github repo</a> and <a href=\"https://pypi.python.org/pypi/googledatastore\" rel=\"nofollow noreferrer\">googledatastore package</a>, then it appears to be threadsafe as of v1beta2-rev1-2.1.0: <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-datastore/blob/master/RELEASE_NOTES.md\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-datastore/blob/master/RELEASE_NOTES.md</a></p>\n\n<p>If you're asking about <code>google.cloud.datastore</code> (aka <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-python\" rel=\"nofollow noreferrer\">google-cloud-python github repo</a> and <a href=\"https://pypi.python.org/pypi/google-cloud-datastore\" rel=\"nofollow noreferrer\">google-cloud-python package</a>), the answer is \"<a href=\"https://github.com/GoogleCloudPlatform/google-cloud-python/issues/3272\" rel=\"nofollow noreferrer\">they think so</a>, and any bugs to the contrary should be reported\".</p>\n"}], "owner": {"reputation": 407, "user_id": 1985801, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Jp49m.jpg?s=128&g=1", "display_name": "mickeybob", "link": "https://stackoverflow.com/users/1985801/mickeybob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1496223763, "creation_date": 1481758225, "last_edit_date": 1481759145, "question_id": 41154026, "link": "https://stackoverflow.com/questions/41154026/is-the-python-google-cloud-datastore-package-thread-safe", "title": "Is the python google-cloud-datastore package thread safe?", "body": "<p>For a multithreaded Python program, do I create a separate google.cloud.datastore.Client instance for each thread, or can I use one shared across threads? Are there any thread safety concerns using google.cloud.datastore library?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 2296, "user_id": 5839618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ed391cd9b92ad37a5242cb69715593d?s=128&d=identicon&r=PG&f=1", "display_name": "3novak", "link": "https://stackoverflow.com/users/5839618/3novak"}, "is_accepted": false, "score": 0, "last_activity_date": 1481758623, "creation_date": 1481758623, "answer_id": 41154076, "question_id": 41153949, "link": "https://stackoverflow.com/questions/41153949/how-to-count-a-sequence-of-values-in-pandas/41154076#41154076", "title": "How to count a sequence of values in Pandas?", "body": "<p>I don't know of a way to do this without converting the pandas series to a string; I'd like to see a solution that operates directly on the series.</p>\n\n<p>The following converts the series to a string and then uses the count function.</p>\n\n<pre><code>import pandas as pd\nimport re\n\ns = pd.Series([1,0,1,1,0,1])\n\n# convert to string and remove all whitespace\nre.sub('\\s+', '', s.to_string(index=False)).count('101')\n# 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2087, "user_id": 1557941, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/cff5ef0728992aa3c0d7494765dc0ced?s=128&d=identicon&r=PG", "display_name": "Gianluca", "link": "https://stackoverflow.com/users/1557941/gianluca"}, "edited": false, "score": 0, "creation_date": 1482234654, "post_id": 41154110, "comment_id": 69682802, "body": "That&#39;s impressive! I was wondering what that star in front of the array does (<code>zip(*[[list]])</code>). Couldn&#39;t find any doc on that syntax, but it looks like that great part of the magic relies on that"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 2087, "user_id": 1557941, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/cff5ef0728992aa3c0d7494765dc0ced?s=128&d=identicon&r=PG", "display_name": "Gianluca", "link": "https://stackoverflow.com/users/1557941/gianluca"}, "edited": false, "score": 1, "creation_date": 1482249241, "post_id": 41154110, "comment_id": 69692555, "body": "Yes! that is definitely part of the magic.  <code>zip</code> expects positional arguments.  My list comprehension is a single object.  The <code>*</code> in front &quot;unpacks&quot; all the list elements as positional arguments."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1481759209, "last_edit_date": 1481759209, "creation_date": 1481758835, "answer_id": 41154110, "question_id": 41153949, "link": "https://stackoverflow.com/questions/41153949/how-to-count-a-sequence-of-values-in-pandas/41154110#41154110", "title": "How to count a sequence of values in Pandas?", "body": "<p><strong><em>generalized solution</em></strong>  </p>\n\n<pre><code>def tuplify(s, k):\n    return list(zip(*[s.values[i:].tolist() for i in range(k)]))\n\ns = pd.Series([1, 0, 1, 1, 0, 1])\n\npd.value_counts(tuplify(s, 3))\n\n(1, 0, 1)    2\n(1, 1, 0)    1\n(0, 1, 1)    1\ndtype: int64\n</code></pre>\n\n<p>you can assign this to a variable and get just the tuple you want.</p>\n\n<pre><code>counts = pd.value_counts(tuplify(s, 3))\ncounts[(1, 0, 1)]\n\n2\n</code></pre>\n\n<hr>\n\n<p><strong><em>breakdown</em></strong>  </p>\n\n<pre><code>tuplify(s, 3)\n\n[(1, 0, 1), (0, 1, 1), (1, 1, 0), (1, 0, 1)]\n</code></pre>\n\n<p>tuples are hashable and can be counted thus <code>pd.value_counts</code> works as show above.</p>\n"}], "owner": {"reputation": 2087, "user_id": 1557941, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/cff5ef0728992aa3c0d7494765dc0ced?s=128&d=identicon&r=PG", "display_name": "Gianluca", "link": "https://stackoverflow.com/users/1557941/gianluca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 1, "accepted_answer_id": 41154110, "answer_count": 2, "score": 2, "last_activity_date": 1481759209, "creation_date": 1481757794, "question_id": 41153949, "link": "https://stackoverflow.com/questions/41153949/how-to-count-a-sequence-of-values-in-pandas", "title": "How to count a sequence of values in Pandas?", "body": "<p>Let's say that in Pandas I've a dataframe like this:</p>\n\n<pre><code>index    value\n\n1        1\n2        0\n3        1\n4        1\n5        0\n6        1\n</code></pre>\n\n<p>I would like to count how many times a specific sequence of values happens, like how many times a 0 occurs right after a 1 (ie. how many times [1, 0] happens, and in the example above it's twice), or how many times [1,0,1] happens (again, twice).</p>\n\n<p>Is there a method to do this without using a mere <code>for</code> cycle?</p>\n"}, {"tags": ["python", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1481758261, "post_id": 41153922, "comment_id": 69509949, "body": "Welcome to Stackoverflow. Make sure you have read <a href=\"http://stackoverflow.com/help/how-to-ask\">How to ask a question</a> and how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. While your problem does not seem to hard to solve, it is actually next to impossible for anyone here, since we do not have insight into your code. Unless you expect someone to write a complete program for your (which is pretty hopeless) you should provide a minimal example and clearly state your problem in context of your code."}, {"owner": {"reputation": 66, "user_id": 5675927, "user_type": "registered", "profile_image": "https://graph.facebook.com/954322784603498/picture?type=large", "display_name": "Shaun Adams", "link": "https://stackoverflow.com/users/5675927/shaun-adams"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1481758624, "post_id": 41153922, "comment_id": 69510045, "body": "Sorry about that, meant to include my code"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 5675927, "user_type": "registered", "profile_image": "https://graph.facebook.com/954322784603498/picture?type=large", "display_name": "Shaun Adams", "link": "https://stackoverflow.com/users/5675927/shaun-adams"}, "is_accepted": true, "score": 0, "last_activity_date": 1481765469, "last_edit_date": 1481765469, "creation_date": 1481764952, "answer_id": 41154925, "question_id": 41153922, "link": "https://stackoverflow.com/questions/41153922/using-python-and-cv2-to-find-the-center-of-a-blob-and-return-x-y/41154925#41154925", "title": "Using Python and cv2 to find the center of a blob and return x/y", "body": "<p>Well, I spent a few more hours on this and came up with a temporary novel solution. It still doesn't address finding the largest blob, but it works for now. Uses numpy to take the average of the contour list. I suppose there's probably a way to compare the list sizes within the array then choose the largest, or something similar, although I can see already this is not the ideal way to do it.</p>\n\n<pre><code># import the necessary packages\nimport numpy as np\nimport argparse\nimport cv2\n\n# construct the argument parse and parse the arguments\nap = argparse.ArgumentParser()\nap.add_argument(\"-i\", \"--image\", help = \"path to the image\")\nargs = vars(ap.parse_args())\n\n# load the image\nimage = cv2.imread(args[\"image\"])\n\n# define the list of boundaries\nboundaries = [\n    ([0, 0, 150], [90, 90, 255])\n]\n\n# loop over the boundaries\nfor (lower, upper) in boundaries:\n    # create NumPy arrays from the boundaries\n    lower = np.array(lower, dtype = \"uint8\")\n    upper = np.array(upper, dtype = \"uint8\")\n\n# find the colors within the specified boundaries\nmask = cv2.inRange(image, lower, upper)\n\n#find contour\ncontours = cv2.findContours(mask, 0, 2)\n\navg = np.mean(contours[0],axis=1)\nx = int(round(avg[0,0,0]))\ny = int(round(avg[0,0,1]))\n\n\nprint x,y\n</code></pre>\n\n<p>Maybe someone else will find this helpful in some way. Run with filename.py -i c:\\pathto\\file.jpg</p>\n"}, {"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 0, "last_activity_date": 1481788649, "creation_date": 1481788649, "answer_id": 41159094, "question_id": 41153922, "link": "https://stackoverflow.com/questions/41153922/using-python-and-cv2-to-find-the-center-of-a-blob-and-return-x-y/41159094#41159094", "title": "Using Python and cv2 to find the center of a blob and return x/y", "body": "<p>You can use the <code>numpy.ndimage</code> capabilities for your purpose. Starting at the point where you have used <code>cv2.inRange</code> to extract the interesting regions in the image, you can use <code>ndimage.label()</code> to separate those regions and then find their respective center of mass and sum. The label with the largest sum will be the one we're looking for and its center of mass can be printed. \nMind that the notation of the output is in image coordinates, i.e. vertical coordinate comes first.</p>\n\n<pre><code>import numpy as np\nfrom scipy import ndimage\nimport matplotlib.pyplot as plt\nimport cv2\n\n# load the image\nimage = cv2.imread(\"image2993.png\")\n\n# set boundaries for colors (BGR)\nlowerb = np.array([0, 0, 150], np.uint8)\nupperb = np.array([90, 90, 255], np.uint8)\n\nframe = cv2.inRange(image, lowerb, upperb)\nblobs = frame &gt; 100\nlabels, nlabels = ndimage.label(blobs)\n# find the center of mass of each label\nt = ndimage.center_of_mass(frame, labels, np.arange(nlabels) + 1 )\n# calc sum of each label, this gives the number of pixels belonging to the blob\ns  =ndimage.sum(blobs, labels,  np.arange(nlabels) + 1 )\n# print the center of mass of the largest blob\nprint t[s.argmax()] # notation of output (y,x)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 361, "user_id": 1748173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-60Ibx5r6SFU/AAAAAAAAAAI/AAAAAAAAMKQ/UYBWbh-b_GU/photo.jpg?sz=128", "display_name": "officialgupta", "link": "https://stackoverflow.com/users/1748173/officialgupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1542489940, "creation_date": 1542489940, "answer_id": 53355726, "question_id": 41153922, "link": "https://stackoverflow.com/questions/41153922/using-python-and-cv2-to-find-the-center-of-a-blob-and-return-x-y/53355726#53355726", "title": "Using Python and cv2 to find the center of a blob and return x/y", "body": "<p>I had a similar error to this and found a solution.</p>\n\n<p>First of all I found that <code>cnt = contours[1]</code> worked over <code>cnt = contours[0]</code> since cv version has changed to 3.0</p>\n\n<p>Next this would return us a list still so we can do <code>c[0]</code> to access the first contour and the following would work</p>\n\n<pre><code>contours = cv2.findContours(mask, 0, 2)\nc = contours[0]\nM = cv2.moments(c)\ncx = int(M['m10']/M['m00'])\ncy = int(M['m01']/M['m00'])\n</code></pre>\n\n<p>hopefully this helps!</p>\n"}], "owner": {"reputation": 66, "user_id": 5675927, "user_type": "registered", "profile_image": "https://graph.facebook.com/954322784603498/picture?type=large", "display_name": "Shaun Adams", "link": "https://stackoverflow.com/users/5675927/shaun-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2038, "favorite_count": 0, "accepted_answer_id": 41154925, "answer_count": 3, "score": 0, "last_activity_date": 1542489940, "creation_date": 1481757601, "last_edit_date": 1481760578, "question_id": 41153922, "link": "https://stackoverflow.com/questions/41153922/using-python-and-cv2-to-find-the-center-of-a-blob-and-return-x-y", "title": "Using Python and cv2 to find the center of a blob and return x/y", "body": "<p>I've been researching this for a few hours, and while I know the answer is out there, I just can't understand it. I'm working on a hobby project and this is slightly over my head. What I'm trying to do is detect a red dot in an image and return the x/y coordinate of the center of the dot. For testing purposes I created a jpg image that is all white except for one red dot. I set up color constraints such that anything between 0,0,150 - 90,90,255 (BGR) will be considered a match for red. From my understanding inRange will return something like an array containing 0 or 255 for each pixel. What I can't figure out how to do is to find the center of the largest blob and return the x,y coordinate. Any help is appreciated, and the more ELI5 the better! Thanks much for your time.</p>\n\n<p>I've been following along with a tutorial I found which seems a good start for the program, but here's where i'm stuck.</p>\n\n<pre><code># import the necessary packages\nimport numpy as np\nimport argparse\nimport cv2\n\n# construct the argument parse and parse the arguments\nap = argparse.ArgumentParser()\nap.add_argument(\"-i\", \"--image\", help = \"path to the image\")\nargs = vars(ap.parse_args())\n\n# load the image\nimage = cv2.imread(args[\"image\"])\n\n# define the list of boundaries\nboundaries = [\n    ([0, 0, 150], [90, 90, 255]),\n]\n\n# loop over the boundaries\nfor (lower, upper) in boundaries:\n    # create NumPy arrays from the boundaries\n    lower = np.array(lower, dtype = \"uint8\")\n    upper = np.array(upper, dtype = \"uint8\")\n\n# find the colors within the specified boundaries\nmask = cv2.inRange(image, lower, upper)\n\n#find contour\ncontours = cv2.findContours(mask, 1, 2)\n\ncnt = contours[0]\nM = cv2.moments(cnt)\n\n#save x,y center\ncx = int(M['m10']/M['m00'])\ncy = int(M['m01']/M['m00'])\n\nprint cx\nprint cy\n</code></pre>\n\n<p>Currently code returns error:\nM = cv2.moments(cnt)\nTypeError: array is not a numpy array, neither a scalar</p>\n\n<p>I'm sure this makes perfect sense to you, but as I'm hacking this together I am lost.</p>\n"}, {"tags": ["python", "arrays", "list", "nested"], "answers": [{"comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 1, "creation_date": 1481758154, "post_id": 41153955, "comment_id": 69509919, "body": "Keep in mind that a list comprehension creates a new list instead of mutating the original as in OP&#39;s case"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1481842232, "last_edit_date": 1481842232, "creation_date": 1481757828, "answer_id": 41153955, "question_id": 41153918, "link": "https://stackoverflow.com/questions/41153918/how-to-remove-specific-elements-in-nested-lists-in-python/41153955#41153955", "title": "How to remove specific elements in nested lists in python", "body": "<p>Simple way to achive this is to slice the <code>array</code> list using <em>list comprehension</em> expression like:</p>\n\n<pre><code>array = [[1, 2, 3, 1],\n         [4, 5, 6, 4],\n         [7, 8, 9, 7],\n         [7, 8, 9, 7]]\n\narray = [a[1:-1]for a in array[1:-1]]\n</code></pre>\n\n<p>Final value hold by <code>array</code> will be:</p>\n\n<pre><code>[[5, 6], [8, 9]]\n</code></pre>\n\n<hr>\n\n<p>Here <code>array[1:-1]</code> returns the list skipping the first and last element from the <code>array</code> list</p>\n"}, {"comments": [{"owner": {"reputation": 193, "user_id": 6888060, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154451453058950/picture?type=large", "display_name": "Mickey Mahoney", "link": "https://stackoverflow.com/users/6888060/mickey-mahoney"}, "edited": false, "score": 0, "creation_date": 1481759766, "post_id": 41153971, "comment_id": 69510370, "body": "That&#39;s what I was looking for, so stupid. Thanks a lot!"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 193, "user_id": 6888060, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154451453058950/picture?type=large", "display_name": "Mickey Mahoney", "link": "https://stackoverflow.com/users/6888060/mickey-mahoney"}, "edited": false, "score": 0, "creation_date": 1481821684, "post_id": 41153971, "comment_id": 69539632, "body": "@MickeyMahoney If it helped you may consider accepting :)"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 1, "last_activity_date": 1481757883, "creation_date": 1481757883, "answer_id": 41153971, "question_id": 41153918, "link": "https://stackoverflow.com/questions/41153918/how-to-remove-specific-elements-in-nested-lists-in-python/41153971#41153971", "title": "How to remove specific elements in nested lists in python", "body": "<p>You should remove the items from the sublist, not the parent list:</p>\n\n<pre><code>for i in array:\n    i.remove(i[0])\n    i.remove(i[-1])\n</code></pre>\n\n<p>You can also remove both items in one line using <code>del</code>:</p>\n\n<pre><code>&gt;&gt;&gt; for i in array:\n...    del i[0], i[-1]\n&gt;&gt;&gt; array\n[[5, 6], [8, 9]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "is_accepted": false, "score": 1, "last_activity_date": 1481757970, "creation_date": 1481757970, "answer_id": 41153983, "question_id": 41153918, "link": "https://stackoverflow.com/questions/41153918/how-to-remove-specific-elements-in-nested-lists-in-python/41153983#41153983", "title": "How to remove specific elements in nested lists in python", "body": "<p>Using numpy</p>\n\n<pre><code>import numpy as np\n\narray = np.array(array)\narray[1:3, 1:3]\n</code></pre>\n\n<p>return</p>\n\n<pre><code>array([[5, 6],\n       [8, 9]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 344, "user_id": 4837005, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8b7cffdd05664f7e3988486a381ba49?s=128&d=identicon&r=PG&f=1", "display_name": "Coolq B", "link": "https://stackoverflow.com/users/4837005/coolq-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1481759839, "creation_date": 1481759839, "answer_id": 41154262, "question_id": 41153918, "link": "https://stackoverflow.com/questions/41153918/how-to-remove-specific-elements-in-nested-lists-in-python/41154262#41154262", "title": "How to remove specific elements in nested lists in python", "body": "<p>Or, with <code>&lt;list&gt;.pop</code>:</p>\n\n<pre><code>array = [[1, 2, 3, 1],\n         [4, 5, 6, 4],\n         [7, 8, 9, 7], \n         [7, 8, 9, 7]]\n\nfor i in range(len(array)): # range(len(&lt;list&gt;)) converts 'i' to the list inedx number.\n    array[i].pop(0)\n    array[i].pop(-1)\n</code></pre>\n\n<p>To answer your question,</p>\n\n<p><code>.remove</code> removes the first matching value, not a specific index. Where as <code>.pop</code> removes the it by the index.</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 193, "user_id": 6888060, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10154451453058950/picture?type=large", "display_name": "Mickey Mahoney", "link": "https://stackoverflow.com/users/6888060/mickey-mahoney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1627, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1481842232, "creation_date": 1481757585, "last_edit_date": 1481758192, "question_id": 41153918, "link": "https://stackoverflow.com/questions/41153918/how-to-remove-specific-elements-in-nested-lists-in-python", "title": "How to remove specific elements in nested lists in python", "body": "<p>Let's say I got the following array:</p>\n\n<pre><code>array = [[1, 2, 3, 1],\n         [4, 5, 6, 4],\n         [7, 8, 9, 7], \n         [7, 8, 9, 7]]\n</code></pre>\n\n<p>I want to remove the first and last list in the array and than the first and last element of the middle lists (return should basically be: <code>[[5, 6], [8, 9]]</code>).</p>\n\n<p>I tried the following:</p>\n\n<pre><code>array.remove(array[0])\narray.remove(array[-1])\nfor i in array:\n     array.remove(i[0])\n     array.remove(i[-1])\n</code></pre>\n\n<p>But I always get <code>ValueError: list.remove(x): x not in list</code>. Why?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 2019, "user_id": 7227475, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a18ae707e89cdc9ffc6cbbd66303ea99?s=128&d=identicon&r=PG&f=1", "display_name": "ohwelppp", "link": "https://stackoverflow.com/users/7227475/ohwelppp"}, "edited": false, "score": 0, "creation_date": 1481758201, "post_id": 41153932, "comment_id": 69509933, "body": "@doublemc <code>+=</code> will add the string to the previous part. <code>join</code> is more used to combine together existing string elements in a list or other similar object."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 2019, "user_id": 7227475, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a18ae707e89cdc9ffc6cbbd66303ea99?s=128&d=identicon&r=PG&f=1", "display_name": "ohwelppp", "link": "https://stackoverflow.com/users/7227475/ohwelppp"}, "edited": false, "score": 0, "creation_date": 1481758260, "post_id": 41153932, "comment_id": 69509948, "body": "@doublemc: Check edit. Feel free to ask in case of more doubt. I will suggest to go through the document once. You will get more information"}, {"owner": {"reputation": 2019, "user_id": 7227475, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a18ae707e89cdc9ffc6cbbd66303ea99?s=128&d=identicon&r=PG&f=1", "display_name": "ohwelppp", "link": "https://stackoverflow.com/users/7227475/ohwelppp"}, "edited": false, "score": 1, "creation_date": 1481759652, "post_id": 41153932, "comment_id": 69510342, "body": "I get it now. If I wanted to I could use append() but according to this post: <a href=\"http://stackoverflow.com/a/12171382/7227475\">stackoverflow.com/a/12171382/7227475</a>  += is better and I will be using this one in situations like this, thank you!"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1481758212, "last_edit_date": 1481758212, "creation_date": 1481757689, "answer_id": 41153932, "question_id": 41153913, "link": "https://stackoverflow.com/questions/41153913/removing-newline-characters-in-a-txt-files/41153932#41153932", "title": "Removing newline characters in a txt files", "body": "<p>You need to do <code>hugeNumberAsStr += aSingleLine</code> instead of <code>hugeNumberAsStr.join(..)</code></p>\n\n<p><code>str.join()</code> joins the passed iterator and return the string value joined by <code>str</code>. It doesn't update the value of <code>hugeNumberAsStr</code> as you think. You want to create a new string with removed <code>\\n</code>. You need to store these values in new string. For that you need append the content to the string</p>\n"}, {"comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1481757914, "post_id": 41153934, "comment_id": 69509841, "body": "strip() removes <code>\\n</code>"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1481758067, "post_id": 41153934, "comment_id": 69509893, "body": "@HaifengZhang no these are <code>\\n</code> in the middle of it. Like: <code>&gt;&gt;&gt; x=&#39;1234\\n234\\n&#39; &gt;&gt;&gt; x.strip() &#39;1234\\n234&#39;</code>"}, {"owner": {"reputation": 2019, "user_id": 7227475, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a18ae707e89cdc9ffc6cbbd66303ea99?s=128&d=identicon&r=PG&f=1", "display_name": "ohwelppp", "link": "https://stackoverflow.com/users/7227475/ohwelppp"}, "edited": false, "score": 0, "creation_date": 1481759790, "post_id": 41153934, "comment_id": 69510375, "body": "Do I need to close reading this file? Or it closes itself in this case? I know that when I use with open() as f: it closes itself but am not sure in this case."}], "tags": [], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "is_accepted": true, "score": 1, "last_activity_date": 1481757699, "creation_date": 1481757699, "answer_id": 41153934, "question_id": 41153913, "link": "https://stackoverflow.com/questions/41153913/removing-newline-characters-in-a-txt-files/41153934#41153934", "title": "Removing newline characters in a txt files", "body": "<p>What about something like:</p>\n\n<pre><code>hugeNumberAsStr = open('numberToProblem8.txt').read()\nhugeNumberAsStr = hugeNumberAsStr.strip().replace('\\n', '')\n</code></pre>\n\n<p>Or even:</p>\n\n<pre><code>hugeNumberAsStr = ''.join([d for d in hugeNumberAsStr if d.isdigit()])\n</code></pre>\n\n<p>I was able to simplify it to the following to get the number from that file:</p>\n\n<pre><code>&gt;&gt;&gt; int(open('numberToProblem8.txt').read().replace('\\n',''))\n731671765313306249192251196744265747423553491949349698352031277450632623957831801698480186947885184385861560789112949495459501737958331952853208805511125406987471585238630507156932909632952274430435576689664895044524452316173185640309871112172238311362229893423380308135336276614282806444486645238749303589072962904915604407723907138105158593079608667017242712188399879790879227492190169972088809377665727333001053367881220235421809751254540594752243525849077116705560136048395864467063244157221553975369781797784617406495514929086256932197846862248283972241375657056057490261407972968652414535100474821663704844031998900088952434506585412275886668811642717147992444292823086346567481391912316282458617866458359124566529476545682848912883142607690042242190226710556263211111093705442175069416589604080719840385096245544\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 7004307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b72cf56d95cb3d598f09f7d7058dd52b?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/7004307/john-f"}, "is_accepted": false, "score": 1, "last_activity_date": 1481758216, "creation_date": 1481758216, "answer_id": 41154023, "question_id": 41153913, "link": "https://stackoverflow.com/questions/41153913/removing-newline-characters-in-a-txt-files/41154023#41154023", "title": "Removing newline characters in a txt files", "body": "<p>The join method for strings simply takes an iterable object and concatenates each part together.  It then returns the resulting concatenated string.  As stated in help(str.join):</p>\n\n<p>join(...)\n    S.join(iterable) -> str</p>\n\n<pre><code>Return a string which is the concatenation of the strings in the\niterable.  The separator between elements is S.\n</code></pre>\n\n<p>Thus the join method really does not do what you want.\nThe concatenation line should be more like:</p>\n\n<pre><code>hugeNumberAsString += aSingleLine\n</code></pre>\n\n<p>Or even:</p>\n\n<pre><code>hugeNumberAsString += line.strip()\n</code></pre>\n\n<p>Which gets rid of the extra line of code doing the strip.</p>\n"}], "owner": {"reputation": 2019, "user_id": 7227475, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a18ae707e89cdc9ffc6cbbd66303ea99?s=128&d=identicon&r=PG&f=1", "display_name": "ohwelppp", "link": "https://stackoverflow.com/users/7227475/ohwelppp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3091, "favorite_count": 0, "accepted_answer_id": 41153934, "answer_count": 3, "score": 0, "last_activity_date": 1481758216, "creation_date": 1481757562, "question_id": 41153913, "link": "https://stackoverflow.com/questions/41153913/removing-newline-characters-in-a-txt-files", "title": "Removing newline characters in a txt files", "body": "<p>I'm doing Euler Problems and am at <a href=\"https://projecteuler.net/problem=8\" rel=\"nofollow noreferrer\">problem #8</a> and wanted to just copy this huge 1000-digit number to a numberToProblem8.txt file and then just read it into my script but I can't find a good way to remove newlines from it. With that code:</p>\n\n<pre><code>hugeNumberAsStr = ''\n\nwith open('numberToProblem8.txt') as f:\n    for line in f:\n        aSingleLine = line.strip()\n        hugeNumberAsStr.join(aSingleLine)\n\nprint(hugeNumberAsStr)\n</code></pre>\n\n<p>Im using print() to only check if it works and well, it doesnt. It doesnt print out anything. What's wrong with my code? I remove all the trash with strip() and then use join() to add that cleaned line into hugeNumberAsStr (need a string to join those lines, gonna use int() later on) and its repeated for all the lines. \n<a href=\"https://gist.github.com/doublemc/cd7c5a96dbf6065f1215530b4a22fb11\" rel=\"nofollow noreferrer\">Here is the .txt file with a number in it.</a></p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 6443, "user_id": 1230724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ada631c9a86c60cb84057d17a6a47cba?s=128&d=identicon&r=PG", "display_name": "orange", "link": "https://stackoverflow.com/users/1230724/orange"}, "edited": false, "score": 1, "creation_date": 1481759635, "post_id": 41153888, "comment_id": 69510338, "body": "Thanks for the additional comments and corrections."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 6443, "user_id": 1230724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ada631c9a86c60cb84057d17a6a47cba?s=128&d=identicon&r=PG", "display_name": "orange", "link": "https://stackoverflow.com/users/1230724/orange"}, "edited": false, "score": 0, "creation_date": 1481786868, "post_id": 41153888, "comment_id": 69518330, "body": "BTW, <code>(?i)(?:^|(?&lt;=[\\s)]))if(?=[\\s(])</code> = <code>(?i)(?&lt;![^\\s)])if(?=[\\s(])</code>, though the second variant is a bit more cryptic due to double negation. The functionality is the same."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1481757468, "creation_date": 1481757468, "answer_id": 41153888, "question_id": 41153851, "link": "https://stackoverflow.com/questions/41153851/python-regex-alternative-positive-lookbehind-assertion/41153888#41153888", "title": "Python regex: alternative positive lookbehind assertion", "body": "<p>You may use an alternation group with two zero-width assertions:</p>\n\n<pre><code>(?i)(?:^|(?&lt;=[\\s)]))if(?=[\\s(])\n    ^^^^^^^^^^^^^^^^\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/XC94CU/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n\n<p>Here, <code>(?:^|(?&lt;=[\\s)]))</code> matches:</p>\n\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>|</code> - or</li>\n<li><code>(?&lt;=[\\s)])</code> - a location that is immediately preceded with a whitespace or <code>)</code> character.</li>\n</ul>\n\n<p>Note that the <code>(?i)</code> inline case insensitive modifier in a Python <code>re</code> regex affects the whole pattern regardless of where it is located in it, so I suggest moving it to the pattern start for better visibility.</p>\n\n<p>Also, there is no need to escape <code>(</code> and <code>)</code> inside character classes, <code>[...]</code> constructs, as they are treated as literal parentheses inside them.</p>\n"}, {"tags": [], "owner": {"reputation": 12071, "user_id": 862380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f59afc45d1155d16d753dd8654fc8900?s=128&d=identicon&r=PG", "display_name": "ovgolovin", "link": "https://stackoverflow.com/users/862380/ovgolovin"}, "is_accepted": false, "score": 1, "last_activity_date": 1481757909, "creation_date": 1481757909, "answer_id": 41153976, "question_id": 41153851, "link": "https://stackoverflow.com/questions/41153851/python-regex-alternative-positive-lookbehind-assertion/41153976#41153976", "title": "Python regex: alternative positive lookbehind assertion", "body": "<p>The problem is that <code>|</code> is applied at top level, so it is an alteration between:\n<code>^</code> and <code>(?&lt;=[\\s\\)])(?i)if(?=[\\s\\(])</code>.</p>\n\n<p>Just add non-capturing group around <code>^</code> and <code>(?&lt;=[\\s\\)])</code>:</p>\n\n<p><code>(?:^|(?&lt;=[\\s\\)]))(?i)if(?=[\\s\\(])</code></p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1481759605, "last_edit_date": 1481759605, "creation_date": 1481759288, "answer_id": 41154180, "question_id": 41153851, "link": "https://stackoverflow.com/questions/41153851/python-regex-alternative-positive-lookbehind-assertion/41154180#41154180", "title": "Python regex: alternative positive lookbehind assertion", "body": "<p>You can solve the problem (for this particular case that only involves single characters) using a double negation:</p>\n\n<pre><code>(?&lt;![^\\s)])\n</code></pre>\n\n<p>(not preceded by a character that is not a whitespace nor a closing parenthesis). This condition includes the start of the string too.</p>\n"}], "owner": {"reputation": 6443, "user_id": 1230724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ada631c9a86c60cb84057d17a6a47cba?s=128&d=identicon&r=PG", "display_name": "orange", "link": "https://stackoverflow.com/users/1230724/orange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 41153888, "answer_count": 3, "score": 1, "last_activity_date": 1481759605, "creation_date": 1481757222, "question_id": 41153851, "link": "https://stackoverflow.com/questions/41153851/python-regex-alternative-positive-lookbehind-assertion", "title": "Python regex: alternative positive lookbehind assertion", "body": "<p>I have the following regex expression which is meant to find the \"IF\" keyword (case insensitive) in a string. Some constraints are imposed:</p>\n\n<ul>\n<li>It should be preceded by a whitespace or a ) character (from a previous expression)</li>\n<li>It should be followed by whitespace or ( character</li>\n</ul>\n\n<p>The below expression accomplishes these constraints. However, this expression does not find the keyword when it's located at the start of a string (<code>if(foo, 1, 2)</code> for instance).</p>\n\n<p>Using something like <code>^|(?&lt;=[\\s\\)])(?i)if(?=[\\s\\(])</code> does not seem to work. I tried <code>?:^|[\\s\\)])</code> but that seems to also capture the space in front of the keyword.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>(?&lt;=[\\s\\)])(?i)if(?=[\\s\\(])\n</code></pre>\n"}, {"tags": ["java", "python", "processbuilder"], "comments": [{"owner": {"reputation": 7254, "user_id": 633684, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FILa8kQG7TI/AAAAAAAAAAI/AAAAAAAAABE/W39twkD272Q/photo.jpg?sz=128", "display_name": "xiaofeng.li", "link": "https://stackoverflow.com/users/633684/xiaofeng-li"}, "edited": false, "score": 0, "creation_date": 1481757810, "post_id": 41153835, "comment_id": 69509812, "body": "What&#39;s the error message you get from the python program?"}, {"owner": {"reputation": 7254, "user_id": 633684, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FILa8kQG7TI/AAAAAAAAAAI/AAAAAAAAABE/W39twkD272Q/photo.jpg?sz=128", "display_name": "xiaofeng.li", "link": "https://stackoverflow.com/users/633684/xiaofeng-li"}, "edited": false, "score": 0, "creation_date": 1481757825, "post_id": 41153835, "comment_id": 69509814, "body": "The code looks fine to me."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1481772203, "post_id": 41153835, "comment_id": 69513589, "body": "Why assign directory if you use absolute paths for .py and .json in command line?"}], "answers": [{"comments": [{"owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "edited": false, "score": 0, "creation_date": 1481771036, "post_id": 41154256, "comment_id": 69513309, "body": "If i am running this program from root i am getting following errror: No such file or directory: &#39;/root//opt/gui/test.json&#39;  (Note: /root/ is appended before test.json."}, {"owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "edited": false, "score": 0, "creation_date": 1481772052, "post_id": 41154256, "comment_id": 69513552, "body": "Yes it didn&#39;t work. It actually adds it, as it is. I am getting exit code = 1."}], "tags": [], "owner": {"reputation": 875, "user_id": 3678023, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tSJ9U.png?s=128&g=1", "display_name": "Aaron Esau", "link": "https://stackoverflow.com/users/3678023/aaron-esau"}, "is_accepted": true, "score": 1, "last_activity_date": 1481772132, "last_edit_date": 1481772132, "creation_date": 1481759793, "answer_id": 41154256, "question_id": 41153835, "link": "https://stackoverflow.com/questions/41153835/how-to-pass-file-as-an-argument-to-python-process-invoked-by-java/41154256#41154256", "title": "How to pass file as an argument to Python process invoked by Java", "body": "<p>This seemed to work for me. I mean, it fixed the directory problem.</p>\n\n<pre><code>try {\n    int exitCode = Runtime.getRuntime().exec(\"python /opt/gui/oc_db5.py -c /opt/gui/test.json\", null, new File(\"/\")).waitFor(); // run program and get exit code\n} catch(Exception e) { // is there an error?\n    e.printStackTrace(); // print error\n}\n</code></pre>\n"}], "owner": {"reputation": 3135, "user_id": 3597746, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35dd4b015d9f5c53ebb7d1a31a0d1f08?s=128&d=identicon&r=PG&f=1", "display_name": "Ammad", "link": "https://stackoverflow.com/users/3597746/ammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 1, "accepted_answer_id": 41154256, "answer_count": 1, "score": 1, "last_activity_date": 1481772132, "creation_date": 1481757049, "question_id": 41153835, "link": "https://stackoverflow.com/questions/41153835/how-to-pass-file-as-an-argument-to-python-process-invoked-by-java", "title": "How to pass file as an argument to Python process invoked by Java", "body": "<p>I am running Java program to call Python process using process builder as shown below, </p>\n\n<pre><code>    processBuilder = new ProcessBuilder(\n                    Arrays.asList(\n                    \"/usr/bin/python\",\n                    \"/opt/gui/oc_db5.py\",\n                    \"-c\",\n                    \"/opt/gui/test.json\")   \n            );\n\n    processBuilder.directory(new File(\"/opt/gui\"));\n\n    processBuilder.start();\n</code></pre>\n\n<p>Location of python program is under /opt/gui directory and there is one test.json file also needs to be passed as parameter, with \"-c\" option, However what i am seeing is that system is appending location of java program with path of JSON file and then pick the .JSON file causing issue for Python code. </p>\n\n<p>What actually python program is getting is /opt/java//opt/gui/test.json. I tried ../../ as well but it didn't work with test.json file.</p>\n\n<p>Is there a way i can specify .JSON file as an argument to python program? </p>\n"}, {"tags": ["python", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 2943352, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5fbdbca8ad03a7b584d457f6ebb27404?s=128&d=identicon&r=PG&f=1", "display_name": "rmutalik", "link": "https://stackoverflow.com/users/2943352/rmutalik"}, "edited": false, "score": 0, "creation_date": 1582546294, "post_id": 41174343, "comment_id": 106802550, "body": "Do you know if this has this been fixed yet, as of February 2020?"}], "tags": [], "owner": {"reputation": 19943, "user_id": 114795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75cc8b57acc4841f83c3f5ccea0091f?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Korobov", "link": "https://stackoverflow.com/users/114795/mikhail-korobov"}, "is_accepted": true, "score": 4, "last_activity_date": 1481840814, "creation_date": 1481840814, "answer_id": 41174343, "question_id": 41153830, "link": "https://stackoverflow.com/questions/41153830/scikit-learn-ridgecv-scoring-option-not-working/41174343#41174343", "title": "scikit-learn RidgeCV scoring option not working", "body": "<p>Contrary to RidgeCV.cv_values_ docs, from RidgeCV <a href=\"https://github.com/scikit-learn/scikit-learn/blob/1144e3b513b632c1564f319416d23fdb99f2fd61/sklearn/linear_model/ridge.py#L1026\" rel=\"nofollow noreferrer\">source code</a> it looks like scorer is only used to choose best hyperparameters (set <code>self.alpha_</code> and <code>self.dual_coef_</code> attributes). </p>\n\n<p>So either docs or source code should be changed to make behavior correct. Raising an issue in scikit-learn <a href=\"https://github.com/scikit-learn/scikit-learn/issues\" rel=\"nofollow noreferrer\">bug tracker</a> could be a good idea.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1642513"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1302, "favorite_count": 0, "accepted_answer_id": 41174343, "answer_count": 1, "score": 5, "last_activity_date": 1481840814, "creation_date": 1481756977, "question_id": 41153830, "link": "https://stackoverflow.com/questions/41153830/scikit-learn-ridgecv-scoring-option-not-working", "title": "scikit-learn RidgeCV scoring option not working", "body": "<p>I noticed that the <code>cv_values_</code> from RidgeCV is always in the same metric regardless of the <code>scoring</code> option. Here is an example:</p>\n\n<pre><code>from sklearn.linear_model import RidgeCV\nfrom sklearn.datasets import load_boston\n\nboston = load_boston()\n\nmod = RidgeCV(store_cv_values = True, scoring = 'r2')\nfit = mod.fit(boston.data, boston.target)\nprint(fit)\nprint(fit.cv_values_)\n\nmod = RidgeCV(store_cv_values = True, scoring = 'neg_mean_squared_error')\nfit = mod.fit(boston.data, boston.target)\nprint(fit)\nprint(fit.cv_values_)\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>RidgeCV(alphas=(0.1, 1.0, 10.0), cv=None, fit_intercept=True, gcv_mode=None,\n    normalize=False, scoring='r2', store_cv_values=True)\n[[ 7.61705436  7.83092421  8.2298466 ]\n [ 2.50029583  2.31181064  2.11665248]\n [ 7.98280614  7.95286299  7.87166914]\n ..., \n [ 5.24271689  5.50191347  5.84802692]\n [ 3.7448827   4.01778493  4.40457956]\n [ 0.0859419   0.37219929  0.89447484]]\nRidgeCV(alphas=(0.1, 1.0, 10.0), cv=None, fit_intercept=True, gcv_mode=None,\n    normalize=False, scoring='neg_mean_squared_error',\n    store_cv_values=True)\n[[ 7.61705436  7.83092421  8.2298466 ]\n [ 2.50029583  2.31181064  2.11665248]\n [ 7.98280614  7.95286299  7.87166914]\n ..., \n [ 5.24271689  5.50191347  5.84802692]\n [ 3.7448827   4.01778493  4.40457956]\n [ 0.0859419   0.37219929  0.89447484]]\n</code></pre>\n\n<p>As you can see, the <code>cv_values_</code> are identical even though I specify different <code>scoring</code>. I would have expected the <code>cv_values_</code> to be in the <code>r2</code> metric in the first case. Am I missing something obvious? I am quite new to scikit-learn. This is scikit-learn 0.18.1 running on Python 3.5.2.</p>\n"}, {"tags": ["python", "csv", "hierarchical-clustering", "mean-shift"], "comments": [{"owner": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 0, "creation_date": 1481757195, "post_id": 41153827, "comment_id": 69509642, "body": "maybe df[[&#39;average&#39;,&#39;age&#39;]].values? so you pass a numpy array instead a pandas object? Tough to say without seeing the error."}, {"owner": {"reputation": 109, "user_id": 5718348, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ec7d38945ec54e0266374bff6a79e5d1?s=128&d=identicon&r=PG&f=1", "display_name": "berkt", "link": "https://stackoverflow.com/users/5718348/berkt"}, "reply_to_user": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 0, "creation_date": 1481757682, "post_id": 41153827, "comment_id": 69509783, "body": "I edit my question I got an error like &#39;MeanShift&#39; object has no attribute &#39;labels&#39; when I try to use df[[&#39;average&#39;,&#39;age&#39;]].values as well"}, {"owner": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 0, "creation_date": 1481772634, "post_id": 41153827, "comment_id": 69513681, "body": "ms.fit takes two parameters: the list of features and the list of labels. You need to separate your data into a feature set (X) and a target label set (y)."}, {"owner": {"reputation": 109, "user_id": 5718348, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ec7d38945ec54e0266374bff6a79e5d1?s=128&d=identicon&r=PG&f=1", "display_name": "berkt", "link": "https://stackoverflow.com/users/5718348/berkt"}, "reply_to_user": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 1, "creation_date": 1481816224, "post_id": 41153827, "comment_id": 69536258, "body": "I solved by convert df file to an np array by this on line code <code>numpyMatrix = df.as_matrix()</code> And put numpyMatrix on ms.fit like <code>ms.fit(numpyMatrix)</code>"}], "owner": {"reputation": 109, "user_id": 5718348, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ec7d38945ec54e0266374bff6a79e5d1?s=128&d=identicon&r=PG&f=1", "display_name": "berkt", "link": "https://stackoverflow.com/users/5718348/berkt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481816137, "creation_date": 1481756969, "last_edit_date": 1481757637, "question_id": 41153827, "link": "https://stackoverflow.com/questions/41153827/meanshift-clustering-from-csv-file", "title": "MeanShift Clustering from csv file", "body": "<p>I have an csv file called age-average.\nIt has 4 column userId,average,age,count. I want to take average and age to cluster my users. Here is my code:</p>\n\n<pre><code>import csv\nimport pandas as pd\nimport numpy as np\nfrom sklearn.cluster import MeanShift\nimport matplotlib.pyplot as plt\n\ndf = pd.read_csv('/age-average.csv')\ncsv_file = open('/age-average.csv')\ncsv_reader = csv.reader(csv_file, delimiter=',')\nnext(csv_reader)\n\nfor row in csv_reader:\n    userID,average,age,count = row\n    plt.scatter(age,average)\n\nplt.show()\n</code></pre>\n\n<p>It shows the graph.So far everythink is ok. However when I must to use ms.fit() function I always get an error:</p>\n\n<pre><code>ms =  MeanShift()\nms.fit(df[['average','age']])\nlabels = ms.labels\ncluster_centers = ms.cluster_centers_\n\nprint(cluster_centers)\n\nn_clusters_ = len(np.unique(labels))\n\nprint(\"The number of estimated clusters \", n_clusters_)\n\ncolors = 10*['r.','g.','c.','k.','y.','m.']\n\nprint(colors)\n\nfor i in range(len(age,average)):\n    plt.plot(int(age[i]), float(average[i]), colors[labels[i]], markersize = 10)\nplt.scatter(cluster_centers[:,0],cluster_centers[:,1],\n            marker=\"x\", s= 150, linewidths = 5, zorder=10)\nplt.show()\n</code></pre>\n\n<p>What should I write instead of df[['average','age']] inside of the ms.fit(). Can anybody have an idea? I get confused.\nThanks!</p>\n\n<p>I got an error like </p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File \"example.py\", line 20, in\n  \n      labels = ms.labels AttributeError: 'MeanShift' object has no attribute 'labels'</p>\n</blockquote>\n"}, {"tags": ["python", "pip"], "answers": [{"tags": [], "owner": {"reputation": 344, "user_id": 4837005, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8b7cffdd05664f7e3988486a381ba49?s=128&d=identicon&r=PG&f=1", "display_name": "Coolq B", "link": "https://stackoverflow.com/users/4837005/coolq-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1481757853, "creation_date": 1481757853, "answer_id": 41153963, "question_id": 41153813, "link": "https://stackoverflow.com/questions/41153813/pip-is-not-installing-pyowm-correctly-for-some-reason/41153963#41153963", "title": "pip is not installing pyowm correctly for some reason", "body": "<p>A very valid question!</p>\n\n<p>I assume you're trying to install pyowm for Python 3. If so you need to use <code>pip3</code>. Ubuntu comes with Python 2.7 and 3.5.</p>\n\n<p>For Python 2.*: use <code>pip install pyowm</code>.</p>\n\n<p>For Python 3.*: use <code>pip3 install pyowm</code>.</p>\n\n<p><code>pip3</code> does not come with linux by default, use <code>sudo apt-get install pip3</code> to get it.</p>\n\n<p>The permission problem is most likely caused from the fact that you may not be root, not to worry! You can use the command <code>sudo</code> to give you root permissions for the following command.</p>\n\n<p>So to install pyowm, you'd use: <code>sudo pip3 install pyowm</code>. Take special note of the <code>sudo</code>.</p>\n\n<p>As a bit of background, I tried the commands you used and got almost exactly the same errors. When I ran this it worked fine :)</p>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 10274002, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AmaynpHDeEs/AAAAAAAAAAI/AAAAAAAAABw/MpPjdo1yNLM/photo.jpg?sz=128", "display_name": "AbdurRehman Khan", "link": "https://stackoverflow.com/users/10274002/abdurrehman-khan"}, "is_accepted": false, "score": -1, "last_activity_date": 1564993795, "creation_date": 1564993795, "answer_id": 57354797, "question_id": 41153813, "link": "https://stackoverflow.com/questions/41153813/pip-is-not-installing-pyowm-correctly-for-some-reason/57354797#57354797", "title": "pip is not installing pyowm correctly for some reason", "body": "<p>Hi I know it's been 2 years, but hopefully this answer can help somebody.</p>\n\n<p>You installed pyowm with sudo, and then tried to access it with your current user's installation of python3 instead of root user's python3.</p>\n\n<p>If you do: </p>\n\n<pre><code>sudo pip3 install pyowm\n</code></pre>\n\n<p>Then to access your installed library you need to open the right python3 interpreter:</p>\n\n<pre><code>sudo python3 # this interpreter belongs to root user, and has pyowm installed.\n</code></pre>\n\n<p>AND NOT:</p>\n\n<pre><code>python3 # this interpreter belongs to a normal user, it doesn't have pyowm installed.\n</code></pre>\n\n<p>And finally, if you ever have permission issues with any directory, you can always give yourself permission if you have root user access.</p>\n\n<p>Just do: </p>\n\n<pre><code>sudo chmod 777 &lt;path_to_directory_where_you_want_permissions&gt;\n</code></pre>\n\n<p>Now 777 is bad practice, but it's ok when you're messing around on your own computer. If you're on a deployed server or a work machine you'll want to find the right combination, may be 665 or 666.</p>\n\n<p>In your case the command would be:</p>\n\n<pre><code>sudo chmod 777 /usr/local/lib/python2.7/dist-packages/\n</code></pre>\n\n<p>Also notice when you call pip instead of pip3 it invokes python2.7 and not python3! So if want python3, use pip3. This is linux specific. Most linux distributions follow this convention for python installations. On Windows I usually see just \"python\" mapped to the latest installation of python :)</p>\n"}], "owner": {"reputation": 619, "user_id": 943222, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b6142cb5c6c09edcbe740b6ce3fb7f4?s=128&d=identicon&r=PG", "display_name": "D.Zou", "link": "https://stackoverflow.com/users/943222/d-zou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2903, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1564993795, "creation_date": 1481756926, "question_id": 41153813, "link": "https://stackoverflow.com/questions/41153813/pip-is-not-installing-pyowm-correctly-for-some-reason", "title": "pip is not installing pyowm correctly for some reason", "body": "<p>I am trying to install this package pyowm via pip. but it is not working for some reason. It is a ubuntu 16 VM. I have used pip to install other packages and it has all worked fine before so I am not sure why this one is having problems.</p>\n\n<pre><code>ubuntu@ip-172-31-22-187:~/.cache/pip$ pip install pyowm\nCollecting pyowm\nInstalling collected packages: pyowm\nException:\nTraceback (most recent call last):\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/pip/commands/install.py\", line 342, in run\n    prefix=options.prefix_path,\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/pip/req/req_set.py\", line 784, in install\n    **kwargs\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/pip/req/req_install.py\", line 851, in install\n    self.move_wheel_files(self.source_dir, root=root, prefix=prefix)\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/pip/req/req_install.py\", line 1064, in move_wheel_files\n    isolated=self.isolated,\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/pip/wheel.py\", line 345, in move_wheel_files\n    clobber(source, lib_dir, True)\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/pip/wheel.py\", line 316, in clobber\n    ensure_dir(destdir)\n  File \"/home/ubuntu/.local/lib/python2.7/site-packages/pip/utils/__init__.py\", line 83, in ensure_dir\n    os.makedirs(path)\n  File \"/usr/lib/python2.7/os.py\", line 157, in makedirs\n    mkdir(name, mode)\nOSError: [Errno 13] Permission denied: '/usr/local/lib/python2.7/dist-packages/pyowm-2.5.0.dist-info'\n</code></pre>\n\n<p>As you can see it thinks I don't have the right permission. So I did this instead:</p>\n\n<pre><code>ubuntu@ip-172-31-22-187:/usr/local/lib/python2.7/dist-packages$ sudo -H pip install pyowm\nCollecting pyowm\nInstalling collected packages: pyowm\nSuccessfully installed pyowm-2.5.0\nYou are using pip version 8.1.1, however version 9.0.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n</code></pre>\n\n<p>But when I try to call it this happens:</p>\n\n<pre><code>ubuntu@ip-172-31-22-187:~/.cache/pip$ python3\nPython 3.5.2 (default, Nov 17 2016, 17:05:23)\n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import pyowm\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named 'pyowm'\n&gt;&gt;&gt;\n</code></pre>\n\n<p>So now I am very confused. pip says it did the job, but pyowm doesn't show up? The result is same for python 2.7 or 3.5. </p>\n\n<p>And I can see that the pyowm stuff is  there: </p>\n\n<pre><code>ubuntu@ip-172-31-22-187:/usr/local/lib/python2.7/dist-packages/pyowm$ pwd\n/usr/local/lib/python2.7/dist-packages/pyowm\nubuntu@ip-172-31-22-187:/usr/local/lib/python2.7/dist-packages/pyowm$ ls\nabstractions  caches  commons  constants.py  constants.pyc  exceptions  __init__.py  __init__.pyc  utils  webapi25\n</code></pre>\n\n<p>And I did try to upgrade pip as well but this is what I got:</p>\n\n<pre><code>ubuntu@ip-172-31-22-187:/usr/local/lib$ pip install --upgrade pip\nRequirement already up-to-date: pip in /home/ubuntu/.local/lib/python2.7/site-packages\n\nubuntu@ip-172-31-22-187:/usr/local/lib/python2.7/dist-packages/pyowm$ pip -V\npip 9.0.1 from /home/ubuntu/.local/lib/python2.7/site-packages (python 2.7)\n</code></pre>\n\n<p>So I am very very confused. I am at version 9.0.1, but why does the cmd output earlier show I am on version 8? Why do I suddenly need to sudo to install pyowm when yesterday I installed reportLab without needing sudo? Why after installing it with sudo I can't call on pyowm?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "edited": false, "score": 1, "creation_date": 1481757945, "post_id": 41153803, "comment_id": 69509852, "body": "I&#39;m afraid manually padding is your only option, as modifying the behavior of <code>[]</code> on NumPy arrays is not possible (because <code>numpy.ndarray</code> is implemented in C which prohibits dynamically replacing <code>numpy.ndarray.__getitem__</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "is_accepted": false, "score": 4, "last_activity_date": 1481761305, "last_edit_date": 1481761305, "creation_date": 1481760873, "answer_id": 41154400, "question_id": 41153803, "link": "https://stackoverflow.com/questions/41153803/zero-padding-slice-past-end-of-array-in-numpy/41154400#41154400", "title": "Zero padding slice past end of array in numpy", "body": "<p>This class can handle your first test (<code>x[1:4, 1:4]</code>) and can be modified to handle your other test (i.e. appending zeros to the start) if you so desire.</p>\n\n<pre><code>class CustomArray():\n\n    def __init__(self, numpy_array):\n        self._array = numpy_array\n\n    def __getitem__(self, val):\n\n        # Get the shape you wish to return\n        required_shape = []\n        for i in range(2):\n            start = val[i].start\n            if not start:\n                start = 0\n            required_shape.append(val[i].stop - start)\n\n        get = self._array[val]\n\n        # Check first dimension\n        while get.shape[0] &lt; required_shape[0]:\n            get = np.concatenate((get, np.zeros((1, get.shape[1]))))\n\n        # Check second dimension\n        get = get.T\n        while get.shape[0] &lt; required_shape[1]:\n            get = np.concatenate((get, np.zeros((1, get.shape[1]))))\n        get = get.T\n\n        return get\n</code></pre>\n\n<p>Here is an example of it's usage:</p>\n\n<pre><code>a = CustomArray(np.ones((3, 3)))\n\nprint(a[:2, :2])\n[[ 1.  1.]\n [ 1.  1.]]\n\nprint(a[:4, 1:6])\n[[ 1.  1.  0.  0.  0.]\n [ 1.  1.  0.  0.  0.]\n [ 1.  1.  0.  0.  0.]\n [ 0.  0.  0.  0.  0.]]\n\n# The actual numpy array is stored in the _array attribute\nactual_numpy_array = a._array\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2641, "user_id": 2593810, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d12195be3c7acaadb23e9685d56e0d0?s=128&d=identicon&r=PG", "display_name": "off99555", "link": "https://stackoverflow.com/users/2593810/off99555"}, "edited": false, "score": 0, "creation_date": 1577709343, "post_id": 41155020, "comment_id": 105231381, "body": "The code seems complicated. It will make it hard to debug and likely have edge cases error. From tinkering with it quickly I found that it does not work with 3D image. <code>&gt;&gt;&gt; x = np.arange(9*3).reshape(3, 3, 3) &gt;&gt;&gt; x = x.view(FunArray) &gt;&gt;&gt; x[0:3, 0:3]</code> Try this snippet and it will die."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 2641, "user_id": 2593810, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d12195be3c7acaadb23e9685d56e0d0?s=128&d=identicon&r=PG", "display_name": "off99555", "link": "https://stackoverflow.com/users/2593810/off99555"}, "edited": false, "score": 0, "creation_date": 1577804627, "post_id": 41155020, "comment_id": 105260208, "body": "@off99555 Yeah, it&#39;s just covering the &quot;trivial&quot; cases. It needs as many slices as dimensions, e.g: <code>x[0:3, 0:3, :]</code> or <code>f[0:3, 0:3, 0:3]</code>. It&#39;s quite non-trivial to mimic pure NumPy slicing, extending it for any case makes it really convoluted - that&#39;s why the code is already quite complicated."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 5, "last_activity_date": 1481766669, "last_edit_date": 1481766669, "creation_date": 1481765734, "answer_id": 41155020, "question_id": 41153803, "link": "https://stackoverflow.com/questions/41153803/zero-padding-slice-past-end-of-array-in-numpy/41155020#41155020", "title": "Zero padding slice past end of array in numpy", "body": "<p>As far as I know there is no numpy solution (nor in any package I know) for such a problem. You could do it yourself but it will be a really, really complicated one even if you only want basic slicing. I would suggest you manually <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.pad.html\" rel=\"noreferrer\"><code>np.pad</code></a> your array and simply offset your start/stop/step before you actually slice it.</p>\n\n<p>However if all you need to support are integers and slices without step I have some \"working code\" for this:</p>\n\n<pre><code>import numpy as np\n\nclass FunArray(np.ndarray):\n    def __getitem__(self, item):\n\n        all_in_slices = []\n        pad = []\n        for dim in range(self.ndim):\n            # If the slice has no length then it's a single argument.\n            # If it's just an integer then we just return, this is\n            # needed for the representation to work properly\n            # If it's not then create a list containing None-slices\n            # for dim&gt;=1 and continue down the loop\n            try:\n                len(item)\n            except TypeError:\n                if isinstance(item, int):\n                    return super().__getitem__(item)\n                newitem = [slice(None)]*self.ndim\n                newitem[0] = item\n                item = newitem\n            # We're out of items, just append noop slices\n            if dim &gt;= len(item):\n                all_in_slices.append(slice(0, self.shape[dim]))\n                pad.append((0, 0))\n            # We're dealing with an integer (no padding even if it's\n            # out of bounds)\n            if isinstance(item[dim], int):\n                all_in_slices.append(slice(item[dim], item[dim]+1))\n                pad.append((0, 0))\n            # Dealing with a slice, here it get's complicated, we need\n            # to correctly deal with None start/stop as well as with\n            # out-of-bound values and correct padding\n            elif isinstance(item[dim], slice):\n                # Placeholders for values\n                start, stop = 0, self.shape[dim]\n                this_pad = [0, 0]\n                if item[dim].start is None:\n                    start = 0\n                else:\n                    if item[dim].start &lt; 0:\n                        this_pad[0] = -item[dim].start\n                        start = 0\n                    else:\n                        start = item[dim].start\n                if item[dim].stop is None:\n                    stop = self.shape[dim]\n                else:\n                    if item[dim].stop &gt; self.shape[dim]:\n                        this_pad[1] = item[dim].stop - self.shape[dim]\n                        stop = self.shape[dim]\n                    else:\n                        stop = item[dim].stop\n                all_in_slices.append(slice(start, stop))\n                pad.append(tuple(this_pad))\n\n        # Let numpy deal with slicing\n        ret = super().__getitem__(tuple(all_in_slices))\n        # and padding\n        ret = np.pad(ret, tuple(pad), mode='constant', constant_values=0)\n\n        return ret\n</code></pre>\n\n<p>This can be used as follows:</p>\n\n<pre><code>&gt;&gt;&gt; x = np.arange(9).reshape(3, 3)\n&gt;&gt;&gt; x = x.view(FunArray)\n&gt;&gt;&gt; x[0:2]\narray([[0, 1, 2],\n       [3, 4, 5]])\n&gt;&gt;&gt; x[-3:2]\narray([[0, 0, 0],\n       [0, 0, 0],\n       [0, 0, 0],\n       [0, 1, 2],\n       [3, 4, 5]])\n&gt;&gt;&gt; x[-3:2, 2]\narray([[0],\n       [0],\n       [0],\n       [2],\n       [5]])\n&gt;&gt;&gt; x[-1:4, -1:4]\narray([[0, 0, 0, 0, 0],\n       [0, 0, 1, 2, 0],\n       [0, 3, 4, 5, 0],\n       [0, 6, 7, 8, 0],\n       [0, 0, 0, 0, 0]])\n</code></pre>\n\n<p>Note that this may be contain Bugs and \"not cleanly coded\" parts, I've never used this except in trivial cases.</p>\n"}, {"tags": [], "owner": {"reputation": 1739, "user_id": 5075502, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ffa5cb896797f515c5c275cfe37a6a60?s=128&d=identicon&r=PG", "display_name": "snoob dogg", "link": "https://stackoverflow.com/users/5075502/snoob-dogg"}, "is_accepted": false, "score": 0, "last_activity_date": 1508976795, "creation_date": 1508976795, "answer_id": 46943896, "question_id": 41153803, "link": "https://stackoverflow.com/questions/41153803/zero-padding-slice-past-end-of-array-in-numpy/46943896#46943896", "title": "Zero padding slice past end of array in numpy", "body": "<p>In case of 1D array I did this, can be useful if someone fall here...</p>\n\n<pre><code>def getPaddedSlice(npArray, pos, lenSegment, center = False):\n    lenNpArray = len(npArray)\n    if center:\n        if lenSegment % 2 == 0:\n            startIndex = int(pos - math.floor(lenSegment / 2.0)) + 1 \n            lastIndex  = int(pos + math.ceil(lenSegment / 2.0))  + 1  \n\n        else : \n            startIndex = int(pos - math.floor(lenSegment / 2.0))\n            lastIndex  = int(pos + math.ceil(lenSegment / 2.0)) + 1 \n    else:\n        startIndex = pos\n        lastIndex  = startIndex + lenSegment \n\n    if startIndex &lt; 0:\n        padded_slice = npArray[0: lastIndex]\n        padded_slice = np.concatenate((np.zeros(abs(startIndex)), padded_slice))  \n    else:\n        if center :\n            padded_slice = npArray[startIndex: lastIndex]\n        else:\n            padded_slice = npArray[pos: lastIndex]\n\n    if lastIndex &gt; len(npArray):\n        if center :\n            padded_slice = npArray[startIndex: pos + lenSegment]\n            padded_slice = np.concatenate((padded_slice, np.zeros(lastIndex - len(a))))\n        else : \n            padded_slice = npArray[pos: pos + lenSegment]\n            padded_slice = np.concatenate((padded_slice, np.zeros(lastIndex - len(a))))\n\n    return padded_slice\n</code></pre>\n\n<p>Usage </p>\n\n<pre><code>a = np.asarray([2,2,3,1,7,6,5,4])\n\nfor i in range(len(a)):\n    b = getPaddedSlice(a, i, lenSegment, True)\n    print b\n</code></pre>\n\n<p>Display</p>\n\n<pre><code>[0 2 2 3]\n[2 2 3 1]\n[2 3 1 7]\n[3 1 7 6]\n[1 7 6 5]\n[7 6 5 4]\n[6 5 4 0]\n[5 4 0 0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1611614260, "post_id": 51001929, "comment_id": 116504376, "body": "<i>...on a 100x100 image and it will return a 160x160 zero-padded image.</i>. Pretty sure OP still wants a 100x100 array in this case, not 160x160"}, {"owner": {"reputation": 1021, "user_id": 940196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5d92e48e175112e9df112e2418bd528?s=128&d=identicon&r=PG", "display_name": "Kyle McDonald", "link": "https://stackoverflow.com/users/940196/kyle-mcdonald"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1611703076, "post_id": 51001929, "comment_id": 116535822, "body": "@smac89 In the original example, they say they want an output that is &quot;the size of the desired slice&quot;, not the size of the input. This interpretation also matches the interpretation of other answers."}], "tags": [], "owner": {"reputation": 1021, "user_id": 940196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5d92e48e175112e9df112e2418bd528?s=128&d=identicon&r=PG", "display_name": "Kyle McDonald", "link": "https://stackoverflow.com/users/940196/kyle-mcdonald"}, "is_accepted": false, "score": -1, "last_activity_date": 1529762696, "creation_date": 1529762696, "answer_id": 51001929, "question_id": 41153803, "link": "https://stackoverflow.com/questions/41153803/zero-padding-slice-past-end-of-array-in-numpy/51001929#51001929", "title": "Zero padding slice past end of array in numpy", "body": "<p>For the simplest case of rank 2 or 3 images, here is an example of how to implement zero-padded \"slicing\" with out-of-bounds indices:</p>\n\n<pre><code>def padded_slice(src, sl):\n    output_shape = np.asarray(np.shape(src))\n    output_shape[0] = sl[1] - sl[0]\n    output_shape[1] = sl[3] - sl[2]\n    src = [max(sl[0], 0),\n           min(sl[1], img.shape[0]),\n           max(sl[2], 0),\n           min(sl[3], img.shape[1])]\n    dst = [src[0] - sl[0], src[1] - sl[0],\n           src[2] - sl[2], src[3] - sl[2]]\n    output = np.zeros(output_shape, dtype=img.dtype)\n    output[dst[0]:dst[1],dst[2]:dst[3]] = img[src[0]:src[1],src[2]:src[3]]\n    return output\n</code></pre>\n\n<p>For example, call this function with <code>padded_slice(img, [-10,150,-10,150])</code> on a 100x100 image and it will return a 160x160 zero-padded image.</p>\n"}, {"comments": [{"owner": {"reputation": 2641, "user_id": 2593810, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d12195be3c7acaadb23e9685d56e0d0?s=128&d=identicon&r=PG", "display_name": "off99555", "link": "https://stackoverflow.com/users/2593810/off99555"}, "edited": false, "score": 0, "creation_date": 1577711519, "post_id": 55391329, "comment_id": 105232318, "body": "Nice solution with efficiency in mind. Though it would be better if you package it into a function or a class with similar interface as a numpy array. That would benefit a lot for me to immediately copy your code without the need to understand anything. lol"}, {"owner": {"reputation": 4158, "user_id": 4082104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42d6c58fc7fc2d250e3cca7db63d3941?s=128&d=identicon&r=PG&f=1", "display_name": "Multihunter", "link": "https://stackoverflow.com/users/4082104/multihunter"}, "reply_to_user": {"reputation": 2641, "user_id": 2593810, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d12195be3c7acaadb23e9685d56e0d0?s=128&d=identicon&r=PG", "display_name": "off99555", "link": "https://stackoverflow.com/users/2593810/off99555"}, "edited": false, "score": 0, "creation_date": 1578362068, "post_id": 55391329, "comment_id": 105405808, "body": "@off99555 I&#39;m unsure what you mean. Is the function I started with insufficient in some way?"}, {"owner": {"reputation": 2641, "user_id": 2593810, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d12195be3c7acaadb23e9685d56e0d0?s=128&d=identicon&r=PG", "display_name": "off99555", "link": "https://stackoverflow.com/users/2593810/off99555"}, "edited": false, "score": 0, "creation_date": 1578374025, "post_id": 55391329, "comment_id": 105408021, "body": "I mean you should make it easy for someone to copy this code and use it. For example, you could create the zero array inside the function and return it instead of asking user to provide it."}, {"owner": {"reputation": 4158, "user_id": 4082104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42d6c58fc7fc2d250e3cca7db63d3941?s=128&d=identicon&r=PG&f=1", "display_name": "Multihunter", "link": "https://stackoverflow.com/users/4082104/multihunter"}, "edited": false, "score": 0, "creation_date": 1578465473, "post_id": 55391329, "comment_id": 105442680, "body": "There are 2 reasons I didn&#39;t choose that interface. 1. You may not want 0s outside the image area. 2. I motivate this instead of the relatively simpler padding option as a memory efficient solution. This interface allows you to pass views into contiguous blocks of memory, so if you have several crops, you can save creating some memory compared to creating several small <code>crop</code>s and then concatenating them later."}], "tags": [], "owner": {"reputation": 4158, "user_id": 4082104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42d6c58fc7fc2d250e3cca7db63d3941?s=128&d=identicon&r=PG&f=1", "display_name": "Multihunter", "link": "https://stackoverflow.com/users/4082104/multihunter"}, "is_accepted": false, "score": 2, "last_activity_date": 1553754301, "creation_date": 1553754301, "answer_id": 55391329, "question_id": 41153803, "link": "https://stackoverflow.com/questions/41153803/zero-padding-slice-past-end-of-array-in-numpy/55391329#55391329", "title": "Zero padding slice past end of array in numpy", "body": "<h2>Is there a way? Yes. Is it complicated? Not especially.</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\ndef fill_crop(img, pos, crop):\n  '''\n  Fills `crop` with values from `img` at `pos`, \n  while accounting for the crop being off the edge of `img`.\n  *Note:* negative values in `pos` are interpreted as-is, not as \"from the end\".\n  '''\n  img_shape, pos, crop_shape = np.array(img.shape), np.array(pos), np.array(crop.shape),\n  end = pos+crop_shape\n  # Calculate crop slice positions\n  crop_low = np.clip(0 - pos, a_min=0, a_max=crop_shape)\n  crop_high = crop_shape - np.clip(end-img_shape, a_min=0, a_max=crop_shape)\n  crop_slices = (slice(low, high) for low, high in zip(crop_low, crop_high))\n  # Calculate img slice positions\n  pos = np.clip(pos, a_min=0, a_max=img_shape)\n  end = np.clip(end, a_min=0, a_max=img_shape)\n  img_slices = (slice(low, high) for low, high in zip(pos, end))\n  crop[tuple(crop_slices)] = img[tuple(img_slices)]\n</code></pre>\n\n<h3>Why use this?</h3>\n\n<p>If memory is a concern, then copying the image into a padded version might not be good. This also works well for higher dimensional inputs, and it's clear how to return indices/slices if you needed those.</p>\n\n<h3>Why is crop a parameter?</h3>\n\n<p>To indicate the padded value, we can instead create the memory for the crop ahead of time with <code>np.zeros</code>/<code>np.full</code>, then fill in the part that we need. The difficulty then isn't working out where to copy from, but instead, where to paste inside the crop. </p>\n\n<h3>Theory</h3>\n\n<p>Let's look at a 1D case:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QlMge.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlMge.png\" alt=\"Colourful description of 1D case\"></a></p>\n\n<p>If you think about it a little bit, you can see that:</p>\n\n<ul>\n<li><code>crop_low</code> is as far above <code>0</code> as <code>pos</code> is below <code>0</code>, but if <code>pos &gt;= 0</code>, then <code>crop_low == 0</code></li>\n<li><code>crop_high</code> is as far below <code>crop.shape</code> as <code>end</code> is above <code>img.shape</code>, but if <code>end &lt;= img.shape</code>, then <code>crop_high == crop.shape</code></li>\n</ul>\n\n<p>If we put this into normal python code, it would look like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>crop_low = max(-pos, 0)\ncrop_high = crop.shape - max(end-img.shape, 0)\n</code></pre>\n\n<p>The rest of the code above is just for indexing.</p>\n\n<h3>Testing</h3>\n\n<pre class=\"lang-py prettyprint-override\"><code># Examples in 1 dimension\nimg = np.arange(10, 20)\n\n# Normal\npos = np.array([1,])\ncrop = np.full([5,], 0)\nfill_crop(img, pos, crop)\nassert crop.tolist() == [11, 12, 13, 14, 15]\n\n# Off end\npos = np.array([8,])\ncrop = np.full([5,], 0)\nfill_crop(img, pos, crop)\nassert crop.tolist() == [18, 19,  0,  0,  0]\n\n# Off start\npos = np.array([-2,])\ncrop = np.full([5,], 0)\nfill_crop(img, pos, crop)\nassert crop.tolist() == [ 0,  0, 10, 11, 12]\n\n\n# Example in 2 dimensions (y,x)\nimg = np.arange(10, 10+10*10)\\\n          .reshape([10, 10])\n# Off Top right\npos = np.array([-2, 8])\ncrop = np.full([5, 5], 0)\nfill_crop(img, pos, crop)\nassert np.all(crop[:2] == 0) # That is, the top two rows are 0s\nassert np.all(crop[:, 3:] == 0) # That is, the right 3 rows are 0s\nassert np.all(crop[2:, :2] == img[:3, 8:]) \n# That is, the rows 2-5 and columns 0-1 in the crop\n#  are the same as the top 3 rows and columns 8 and 9 (the last two columns)\n</code></pre>\n\n<p>And there we have it. The over-engineered answer to the original question.</p>\n"}], "owner": {"reputation": 153, "user_id": 5925908, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tqd9FJ8ARw8/AAAAAAAAAAI/AAAAAAAAAFY/s2RWQjfB26A/photo.jpg?sz=128", "display_name": "Michael Zhang", "link": "https://stackoverflow.com/users/5925908/michael-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4047, "favorite_count": 1, "accepted_answer_id": 41155020, "answer_count": 5, "score": 15, "last_activity_date": 1600291274, "creation_date": 1481756864, "last_edit_date": 1509211749, "question_id": 41153803, "link": "https://stackoverflow.com/questions/41153803/zero-padding-slice-past-end-of-array-in-numpy", "title": "Zero padding slice past end of array in numpy", "body": "<p>In numpy, is there a way to zero pad entries if I'm slicing past the end of the array, such that I get something that is the size of the desired slice?</p>\n\n<p>For example, </p>\n\n<pre><code>&gt;&gt;&gt; x = np.ones((3,3,))\n&gt;&gt;&gt; x\narray([[ 1.,  1.,  1.],\n       [ 1.,  1.,  1.],\n       [ 1.,  1.,  1.]])\n&gt;&gt;&gt; x[1:4, 1:4] # would behave as x[1:3, 1:3] by default\narray([[ 1.,  1.,  0.],\n       [ 1.,  1.,  0.],\n       [ 0.,  0.,  0.]])\n&gt;&gt;&gt; x[-1:2, -1:2]\n array([[ 0.,  0.,  0.],\n       [ 0.,  1.,  1.],\n       [ 0.,  1.,  1.]])\n</code></pre>\n\n<p>Visually, I'd like the out-of-bounds areas to be zero padded:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EPPJ8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EPPJ8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm dealing with images and would like to zero pad to signify moving off the image for my application. </p>\n\n<p>My current plan is to use np.pad to make the entire array larger prior to slicing, but indexing seems to be a bit tricky. Is there a potentially easier way?</p>\n"}, {"tags": ["python", "parallel-processing", "mpi", "mpi4py"], "comments": [{"owner": {"reputation": 4801, "user_id": 1021819, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pGNtf.png?s=128&g=1", "display_name": "jtlz2", "link": "https://stackoverflow.com/users/1021819/jtlz2"}, "edited": false, "score": 0, "creation_date": 1487743126, "post_id": 41153771, "comment_id": 71916137, "body": "I have the same problem (the fortran executable being multinest) - there are now hundreds of zombie hydra and python processes lurking on my compute nodes, I&#39;m not sure why and it&#39;s definitely causing (at least) memory issues...."}], "owner": {"reputation": 451, "user_id": 6195489, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/23738e3e4a2e3cc508d90a7a8b9a78b0?s=128&d=identicon&r=PG", "display_name": "abinitio", "link": "https://stackoverflow.com/users/6195489/abinitio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1481814688, "creation_date": 1481756707, "last_edit_date": 1481814688, "question_id": 41153771, "link": "https://stackoverflow.com/questions/41153771/mpi4py-hanging-in-spawn-in-master-slave-code-and-hydra-pmi-proxy-zombies", "title": "mpi4py hanging in spawn in master-slave code and hydra_pmi_proxy zombies", "body": "<p>I was wondering if anyone has seen an issue I am running into with mpi4py:</p>\n\n<p>The code has a list of tasks that it sends to slaves and spawns a fortran executable to run on a particular configuration. The fortran code executes very quickly, however between each task as it gets called there is a considerable hang. I'm not certain what causes it, but it would be a big help if anyone can spot an issue. The code can also run over the configurations in a serial mode, taking them in turn rather than using mpi4py, and there is no hang in that mode whatsoever.</p>\n\n<p>The time for serial is:</p>\n\n<pre><code>real    0m12.323s\nuser    0m45.468s\nsys    0m1.490s\n</code></pre>\n\n<p>while for the mpi4py version below:</p>\n\n<pre><code>real    2m2.796s\nuser    4m1.602s\nsys    2m43.595s\n</code></pre>\n\n<p>I have noticed that there are a lot of hydra_pmi_proxy zombies lurking when the code runs:</p>\n\n<pre><code>29770 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29772 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29784 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29795 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29796 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29797 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29810 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29815 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29820 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29825 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29830 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29835 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29836 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29837 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29838 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29855 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29860 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29865 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29866 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29878 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29880 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.01 hydra_pmi_proxy                              \n29886 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29887 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29888 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29889 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29906 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29911 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29912 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29913 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29926 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29927 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy                              \n29928 cor22     20   0       0      0      0 Z   0.0  0.0   0:00.00 hydra_pmi_proxy \n</code></pre>\n\n<p>and I'm not certain why that is.</p>\n\n<p>I had thought it might be down to some i/o issue as the fortran code writes to stdout, but when I changed the code so that it doesn't any longer it had no effect. Also it seems that the fortran code executes and completes, and the hang is somewhere in the python scripts. The code runs better on a node of one of the local clusters, and it eventually does what it should on my local machine, but the idea of using mpi4py was to speed things up, and this has slowed them down, so I am fairly scratching my head...</p>\n\n<p>Also all of the print statements get spat out at the very end of the loop in super_master.py, not as the run progresses, which is puzzling me</p>\n\n<p>Below is a dummy version of the code that has the same issue which i run as:</p>\n\n<pre><code>mpirun -np 1 python3 ./super_master.py \n</code></pre>\n\n<p>Thanks for any insight and sorry for the long post!</p>\n\n<p>super_master.py:</p>\n\n<pre><code>#! /usr/bin/env python3\n\nimport os\nfrom mpi4py import MPI\nimport sys\n\ncomm = MPI.COMM_WORLD\n\n\nfor x in range(0, 3):\n   new_comm=comm.Spawn(sys.executable,args=[\"master.py\"],maxprocs=1)\n   new_comm.Barrier()\n   new_comm.Disconnect()\n   print(\"finnished run \",x)\n   os.system('{}'.format('rm */*out*'))\n</code></pre>\n\n<p>master.py:</p>\n\n<pre><code>    #! /usr/bin/env python3\n\nfrom mpi4py import MPI\nimport numpy as np\nimport sys\nimport os\nimport time\n\n\ncomm = MPI.COMM_WORLD\nrank = MPI.COMM_WORLD.Get_rank()\ncommp = MPI.Comm.Get_parent()\n\nprocesses=4\ntasks=([StopIteration] * (processes))+[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]\n\nnew_comm=comm.Spawn(\"/PATH/TO/slave.py\", args=[],maxprocs=processes)\n\nstatus=MPI.Status()\n\n\nwhile tasks:\n    new_comm.recv(source=MPI.ANY_SOURCE, status=status)\n    data=tasks.pop()\n    print(\"on master received source: \",status.Get_source())\n    print(\"On master sending: \",data,\" to:\",status.Get_source())\n    new_comm.send(obj=data,dest=status.Get_source())\n    print(\"On master sent: \",data,\" to:\",status.Get_source())\n\nprint(\"Finished All\",rank)\nnew_comm.Barrier()\nprint(\"after barrier\",rank)\nprint(\"rank\", rank,\"task\",tasks)\ncommp.Barrier()\ncommp.Disconnect()\n</code></pre>\n\n<p>slave.py:</p>\n\n<pre><code>#! /usr/bin/env python3\n\nfrom mpi4py import MPI\nimport numpy as np\nimport sys\nimport os\nimport time\n\ncomm = MPI.Comm.Get_parent()\nrank = comm.Get_rank()\ncwd=os.getcwd()\n\nprint(\"slave\", rank,\" entering loop\")\n\nfor task in iter(lambda: comm.sendrecv(data,dest=0), StopIteration):\n    print(\"slave \", rank,\" recvd data\", task)\n    print(\"slave \", rank,\" going to sleep\")\n    directory=os.path.join(cwd,str(task))\n    os.chdir(directory)\n    info = MPI.Info.Create()\n    info.update({\"wdir\": directory})\n    print(\"before spawn in slave:\", rank)\n    new_comm=MPI.COMM_SELF.Spawn(\"/PATH/TO/FORTRAN_EXECUTABLE\",\n                  args=[],maxprocs=4,info=info)\n    print(\"after spawn in slave:\", rank)\n\n    new_comm.Barrier()\n    new_comm.Disconnect()\n    info.Free()\n    os.system('{}'.format('sleep '+str(task*1.5)))\n    os.chdir(cwd)\n\n\ncomm.Barrier()\ncomm.Disconnect()\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Hi again guys,</p>\n\n<p>It would seem that on my local machine the spawned python processes go to sleep while the fortran code runs:</p>\n\n<pre><code>17530 cor22     20   0  190044  25868  10056 S   0.0  0.0   0:01.83 python3                                      \n17531 cor22     20   0  189924  25832  10020 S   0.0  0.0   0:01.33 python3                                      \n17532 cor22     20   0  189920  25844  10040 S   0.0  0.0   0:01.24 python3                                      \n17533 cor22     20   0  190036  25832  10024 S   0.0  0.0   0:01.82 python3                                      \n17534 cor22     20   0  190040  25832  10024 S   0.0  0.0   0:01.32 python3\n</code></pre>\n\n<p>which doesn't seem to happen on the cluster. It seems this is what is slowing things down. If anyone has any ideas on how to prevent this behaviour I'd be very keen to hear about it!</p>\n\n<p>On the cluster I can get pretty good speed ups vs the serial version if the task list is large. if the task list is small (&lt;20 or so) there is not much of a speed up, It seems that things stick a bit when it first sets off, but as it moves through the list of tasks if the list is large enough it gets back on track. Again I am not certain as to why this would be, but if anyone has any suggestions I'd like to hear them.</p>\n\n<p>Timings on the 16 cpu cluster for a run of 4 spawned processes, each of which has a slave running the fortran code on 4 processes:</p>\n\n<pre><code>Tasks    mpi4py       serial\n10       0m28.109s    0m30.472s\n20       0m47.166s    1m6.380s\n30       0m48.586s    1m38.161s\n40       0m56.258s    2m10.056s\n50       1m5.508s     2m10.056s\n100      1m31.854s    5m22.126s\n200      2m18.955s    9m4.022s\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-requests"], "comments": [{"owner": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "edited": false, "score": 0, "creation_date": 1481757055, "post_id": 41153756, "comment_id": 69509580, "body": "Print out the value for url after <code>url = &#39;https:&#47;&#47;api.companieshouse.gov.uk&#47;company&#47;{}&#47;charges&#39;.forma&zwnj;&#8203;t(number)</code> to see if it is what you think it should be."}, {"owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "edited": false, "score": 1, "creation_date": 1481757190, "post_id": 41153756, "comment_id": 69509639, "body": "If the value of <code>url</code> looks good, there may be a hidden character (non-printable) that is part of number.  Where does that come from?  To test, set <code>number = 123456</code> right before your <code>url</code> setting.  That should work and would further lead to the likelihood of it being a hidden character."}, {"owner": {"reputation": 410, "user_id": 6668207, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/33d3fca7d486e196b1d1ae44360bd12f?s=128&d=identicon&r=PG&f=1", "display_name": "Ruthus99", "link": "https://stackoverflow.com/users/6668207/ruthus99"}, "reply_to_user": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "edited": false, "score": 0, "creation_date": 1481757523, "post_id": 41153756, "comment_id": 69509735, "body": "Hi @sberry, thanks for the reply, yeah your suggestion does work so the problem seems to be in the numbers variable and not the URL. I am using the CSV module to read the numbers data from a CSV file i have. Do you know how i can get rid of hidden characters in the string?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481759122, "post_id": 41153756, "comment_id": 69510189, "body": "Maybe you just need to use <code>.trim()</code> to remove whitespace around it."}, {"owner": {"reputation": 410, "user_id": 6668207, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/33d3fca7d486e196b1d1ae44360bd12f?s=128&d=identicon&r=PG&f=1", "display_name": "Ruthus99", "link": "https://stackoverflow.com/users/6668207/ruthus99"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481818731, "post_id": 41153756, "comment_id": 69537875, "body": "Hi @Barmar, thanks for the response, just tried .strip() as trim didn&#39;t work but still no luck."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481819017, "post_id": 41153756, "comment_id": 69538033, "body": "There must be something different in the URL. How you create a variable doesn&#39;t matter, only its contents."}], "owner": {"reputation": 410, "user_id": 6668207, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/33d3fca7d486e196b1d1ae44360bd12f?s=128&d=identicon&r=PG&f=1", "display_name": "Ruthus99", "link": "https://stackoverflow.com/users/6668207/ruthus99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481756629, "creation_date": 1481756629, "question_id": 41153756, "link": "https://stackoverflow.com/questions/41153756/get-request-yields-404-error-when-using-variables-in-url", "title": "GET Request yields 404 error when using variables in URL", "body": "<p>I am trying to create a python script that requests data from an API and writes some of the data to a spreadsheet, seems simple enough.</p>\n\n<p>However I am running into a problem, basically, the request receives a 404 error whenever I try and put a variable into the URL. However if I set the URL directly, it works perfectly!</p>\n\n<p>For example, I am retrieving numbers from a from a database which should be inserted into the url variable, using the following code:</p>\n\n<pre><code>url = 'https://api.companieshouse.gov.uk/company/{}/charges'.format(number)\n</code></pre>\n\n<p>When I try and use this URL in the request, using this code:</p>\n\n<pre><code>r = requests.get(url, auth=('**API CODE**', ''))\n</code></pre>\n\n<p>I get a 404 request and therefore don't get a nice JSON returned. What's weird is that when I track the URL variable using PyCharm, the URL seems correct.</p>\n\n<p>However the mystery deepens when I run the exact same code but set the URL definitively, using the following code:</p>\n\n<pre><code>url = 'https://api.companieshouse.gov.uk/company/123456/charges'\n</code></pre>\n\n<p>It all works perfectly and I get a JSON in return. Essentially, using a variable in the URL leads to a 404 error.</p>\n\n<p>I thought this had something to do with encoding or perhaps the variable still being an integer so I have tried solving that using the following code but with still no luck:</p>\n\n<pre><code>url = str(url)\n</code></pre>\n\n<p>Does anyone have any ideas as to what's causing this problem? Many thanks!</p>\n"}, {"tags": ["python", "numpy", "array-broadcasting"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1481759053, "post_id": 41153562, "comment_id": 69510170, "body": "I&#39;ve suggested a couple of improvements for a similar problem in <a href=\"http://codereview.stackexchange.com/a/149176/27783\">codereview.stackexchange.com/a/149176/27783</a>; you might also find a lot of <code>convolve2d</code> suggestions here on SO."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 2868639, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a8422596bc6782fc19b8b36860c72b5c?s=128&d=identicon&r=PG&f=1", "display_name": "chemnteach", "link": "https://stackoverflow.com/users/2868639/chemnteach"}, "edited": false, "score": 0, "creation_date": 1481823018, "post_id": 41155007, "comment_id": 69540395, "body": "Thank you very much, this is exactly what I was looking for!  Your approach to create the kernel in the form that I can see where it starts and it&#39;s mirror image applied was very helpful in understanding the process."}], "tags": [], "owner": {"reputation": 812, "user_id": 1854748, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HVb34.jpg?s=128&g=1", "display_name": "littleO", "link": "https://stackoverflow.com/users/1854748/littleo"}, "is_accepted": true, "score": 1, "last_activity_date": 1481765639, "creation_date": 1481765639, "answer_id": 41155007, "question_id": 41153562, "link": "https://stackoverflow.com/questions/41153562/most-efficient-way-to-create-a-numpy-array-based-on-values-in-multiple-cells-of/41155007#41155007", "title": "Most Efficient Way to Create a Numpy Array Based on Values in Multiple Cells of Another Array", "body": "<p>What you're doing can be viewed as performing a convolution with a particular convolution kernel.  Here's a solution using the scipy <code>convolve2d</code> function:</p>\n\n<pre><code>import numpy as np\nimport scipy as sp\nimport scipy.signal\n\nx = np.random.randint(5,size=(10,10))\n\nkernel = np.array([[0,1,1],[0,0,1],[0,0,1]])\nkernel = np.fliplr(np.flipud(kernel))\n\ncheck = sp.signal.convolve2d(x,kernel,mode='same')\n\nprint x\nprint check\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 2868639, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a8422596bc6782fc19b8b36860c72b5c?s=128&d=identicon&r=PG&f=1", "display_name": "chemnteach", "link": "https://stackoverflow.com/users/2868639/chemnteach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 41155007, "answer_count": 1, "score": 1, "last_activity_date": 1481765639, "creation_date": 1481755718, "question_id": 41153562, "link": "https://stackoverflow.com/questions/41153562/most-efficient-way-to-create-a-numpy-array-based-on-values-in-multiple-cells-of", "title": "Most Efficient Way to Create a Numpy Array Based on Values in Multiple Cells of Another Array", "body": "<p>I have an application where I have to process 1000's of 2D arrays.  The result of the processed array is based on half of a Kings Move neighborhood in the original array.  I'm trying to avoid loops if I can due to speed considerations.  So, here is an example Numpy Array:</p>\n\n<pre><code>array([[ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  1.,  1.,  1.,  0.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  1.,  5.,  5.,  5.,  5.,  0.,  0.,  0.],\n       [ 0.,  1.,  5.,  5.,  1.,  1.,  1.,  1.,  1.,  0.,  0.],\n       [ 5.,  5.,  5.,  5.,  1.,  5.,  1.,  1.,  1.,  1.,  0.],\n       [ 1.,  1.,  1.,  5.,  1.,  1.,  5.,  5.,  1.,  1.,  0.],\n       [ 5.,  1.,  5.,  1.,  1.,  5.,  5.,  5.,  1.,  5.,  0.],\n       [ 0.,  5.,  1.,  5.,  1.,  1.,  1.,  1.,  1.,  0.,  0.],\n       [ 0.,  0.,  1.,  1.,  1.,  1.,  1.,  1.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  1.,  5.,  5.,  5.,  0.,  0.,  0.,  0.]])\n</code></pre>\n\n<p>At each element, I want the sum of the cell right above it, the upper right diagonal element, the cell to the immediate right and the lower diagonal.  So, using the element at [6][0] I would want to sum 1 + 1 + 1 + 5.</p>\n\n<p>Of course, I also have to handle the edge cases where one of the 4 cells is not there.  I have started with the padded zeros on top and far right to manage some of that but I'm stuck right now.  Any advice would be much appreciated!</p>\n"}, {"tags": ["python", "algorithm", "numpy", "scipy", "k-means"], "answers": [{"tags": [], "owner": {"reputation": 471, "user_id": 2924905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8Xw2.jpg?s=128&g=1", "display_name": "erikvdplas", "link": "https://stackoverflow.com/users/2924905/erikvdplas"}, "is_accepted": true, "score": 1, "last_activity_date": 1483126252, "creation_date": 1483126252, "answer_id": 41401717, "question_id": 41153546, "link": "https://stackoverflow.com/questions/41153546/does-scipys-kmeans2-algorithm-also-weigh-initial-centroids-set-when-using-minit/41401717#41401717", "title": "Does scipy&#39;s kmeans2 algorithm also weigh initial centroids set when using minit=&#39;matrix&#39;?", "body": "<p>I haven't really worked on this for a while but I randomly got this Eureka-moment in which I figured out why my problem was occuring:<br>\nAlthough the results seem kinda strange, if you look at how k-means works, these results are actually easy to explain: in the first epoch of k-means, the four data points are all assigned to the <code>[3, 3]</code> centroid, because that centroid is closest to all data points. The mean of the data points is <code>[ 0.55,  0.55]</code>. No matter how many epochs you do after, the centroid initialised as <code>[3, 3]</code> will stay the same (because it's not 'attracted' to any other data points, there aren't any) and the other centroid (initialised as <code>[4, 4]</code>) will stay put because none of the data points are closer to this centroid than to the other. That's it.</p>\n"}], "owner": {"reputation": 471, "user_id": 2924905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8Xw2.jpg?s=128&g=1", "display_name": "erikvdplas", "link": "https://stackoverflow.com/users/2924905/erikvdplas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 41401717, "answer_count": 1, "score": 0, "last_activity_date": 1483126252, "creation_date": 1481755633, "question_id": 41153546, "link": "https://stackoverflow.com/questions/41153546/does-scipys-kmeans2-algorithm-also-weigh-initial-centroids-set-when-using-minit", "title": "Does scipy&#39;s kmeans2 algorithm also weigh initial centroids set when using minit=&#39;matrix&#39;?", "body": "<p>I was playing around with scipy's kmeans2 algorithm until I noticed a problem. Consider the following code:</p>\n\n<pre><code>x = np.array([[0.1, 0.0], [0.0, 0.1], [1.1, 1.0], [1.0, 1.1]])\nc = np.array([[3,3], [4, 4]])\n\nkmeans2(x, c, minit = 'matrix', iter=100)\n</code></pre>\n\n<p>You'd expect this code (rather deviously) to just converge to a solution with the following centroids: <code>[0.05, 0.05]</code> and <code>[1.05, 1.05]</code>.\nHowever, the code returns this:</p>\n\n<pre><code> (array([[ 0.55,  0.55],\n   [ 4.  ,  4.  ]]), array([0, 0, 0, 0], dtype=int32))\n</code></pre>\n\n<p>It seems like the k-means algorithm takes its initial centroids into account when finding the new centroids. Why is this? How can I prevent this from happening?</p>\n"}, {"tags": ["python", "xml", "list", "contain"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1481755540, "post_id": 41153497, "comment_id": 69508996, "body": "Your example shows a CSV file, not a dataframe. Do you plan to use <code>pandas</code> or a CSV reader?"}, {"owner": {"reputation": 83, "user_id": 7259283, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1822214274668231/picture?type=large", "display_name": "Lyu Keting", "link": "https://stackoverflow.com/users/7259283/lyu-keting"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1481755685, "post_id": 41153497, "comment_id": 69509053, "body": "It&#39;s a data frame, I just print it to the csv for read. thanks"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7259283, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1822214274668231/picture?type=large", "display_name": "Lyu Keting", "link": "https://stackoverflow.com/users/7259283/lyu-keting"}, "edited": false, "score": 0, "creation_date": 1481757550, "post_id": 41153653, "comment_id": 69509747, "body": "thanks. can you tell me if i want to extract  &#39;Topic+Topic_of_Situation.othersituation&#39; to &#39;Topic+Topic_of_Situation&#39;,how to write this &#39;description2 &#39; .  &#39;Topic+Topic_of_Situation&#39; to &#39;Topic&#39;,how to write &#39;description3&#39;,thanks!"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "reply_to_user": {"reputation": 83, "user_id": 7259283, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1822214274668231/picture?type=large", "display_name": "Lyu Keting", "link": "https://stackoverflow.com/users/7259283/lyu-keting"}, "edited": false, "score": 0, "creation_date": 1481757879, "post_id": 41153653, "comment_id": 69509827, "body": "You have several different patterns in your frame. You may want to read more about Python regular expressions (<a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/re.html</a>) and play with them online to find the expression that works:  <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1481756138, "creation_date": 1481756138, "answer_id": 41153653, "question_id": 41153497, "link": "https://stackoverflow.com/questions/41153497/python-read-a-folder-with-file-name-and-file-concept/41153653#41153653", "title": "python: read a folder with file name and file concept", "body": "<p>You can use the <code>.str.strip()</code> methods:</p>\n\n<pre><code>prefix = '/Users/xccxken/Desktop/NNRelease/paperVersion/'\nsuffix = '.txt'\ndf['name'] = df['name'].str.rstrip(suffix).str.lstrip(prefix)\n</code></pre>\n\n<p>Or regular expressions:</p>\n\n<pre><code>description = r'([^/]+)\\.txt'\ndf['name'] = df['name'].str.extract(description)\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 7259283, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1822214274668231/picture?type=large", "display_name": "Lyu Keting", "link": "https://stackoverflow.com/users/7259283/lyu-keting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1482813494, "creation_date": 1481755376, "last_edit_date": 1482813494, "question_id": 41153497, "link": "https://stackoverflow.com/questions/41153497/python-read-a-folder-with-file-name-and-file-concept", "title": "python: read a folder with file name and file concept", "body": "<p>I have a dataframe (below), for the column 'name',\nI want to delete the (for example the first row)</p>\n\n<pre><code>'/Users/xccxken/Desktop/NNRelease/paperVersion/'\n</code></pre>\n\n<p>and </p>\n\n<pre><code>'.txt'\n</code></pre>\n\n<p>just keep the word like (example of first row)</p>\n\n<pre><code>'Topic+Topic_of_Situation.shortageglut'\n</code></pre>\n\n<p>in each line</p>\n\n<pre><code>,n_1,n_2,name\n0,water,shortage,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Situation.shortageglut.txt\n1,supply,shortage,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Situation.shortageglut.txt\n2,skill,shortage,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Situation.shortageglut.txt\n214,income,policy,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Plan&amp;Deal&amp;Rules.rules.legal.txt\n215,immigration,policy,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Plan&amp;Deal&amp;Rules.rules.legal.txt\n216,health,policy,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Plan&amp;Deal&amp;Rules.rules.legal.txt\n485,license,agreement,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Plan&amp;Deal&amp;Rules.deal.txt\n486,lease,agreement,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Plan&amp;Deal&amp;Rules.deal.txt\n487,immunity,agreement,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Plan&amp;Deal&amp;Rules.deal.txt\n488,franchise,agreement,/Users/xccxken/Desktop/NNRelease/paperVersion/Topic+Topic_of_Plan&amp;Deal&amp;Rules.deal.txt\n</code></pre>\n"}, {"tags": ["python", "installation", "pygame", "pip"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7273134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d66d34a736e6f43180ed4f1f25f6d84d?s=128&d=identicon&r=PG&f=1", "display_name": "cursekillerx", "link": "https://stackoverflow.com/users/7273134/cursekillerx"}, "is_accepted": false, "score": 2, "last_activity_date": 1481802635, "creation_date": 1481802635, "answer_id": 41163489, "question_id": 41153444, "link": "https://stackoverflow.com/questions/41153444/installing-pygame-with-pip-command-python-setup-py-egg-info-failed-with-error/41163489#41163489", "title": "Installing pygame with pip: Command &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>I had the same problem but i solved it by updating pip</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 7211084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc90b65b38a2188c00925b3ce59611b?s=128&d=identicon&r=PG&f=1", "display_name": "Fichonije", "link": "https://stackoverflow.com/users/7211084/fichonije"}, "edited": false, "score": 0, "creation_date": 1481836009, "post_id": 41163946, "comment_id": 69547099, "body": "Could you please help me in determining which is the correct one? I only understand the win32 and 64 part.."}, {"owner": {"reputation": 669, "user_id": 7257481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K44SQ.png?s=128&g=1", "display_name": "underscoreC", "link": "https://stackoverflow.com/users/7257481/underscorec"}, "reply_to_user": {"reputation": 43, "user_id": 7211084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc90b65b38a2188c00925b3ce59611b?s=128&d=identicon&r=PG&f=1", "display_name": "Fichonije", "link": "https://stackoverflow.com/users/7211084/fichonije"}, "edited": false, "score": 0, "creation_date": 1481885785, "post_id": 41163946, "comment_id": 69565261, "body": "@Fichonije If your python version is 3.3, the website sadly doesn&#39;t provide the exact version, but can try the cp34 (python 3.4) amd_64 one, although I don&#39;t think it will work with your 3.3. You could either search the web for another website, or just update to python 3.4.2, and use the same file (the differences between your version and this one are very minor, just bugfixes, so all your current scripts should work)"}, {"owner": {"reputation": 43, "user_id": 7211084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc90b65b38a2188c00925b3ce59611b?s=128&d=identicon&r=PG&f=1", "display_name": "Fichonije", "link": "https://stackoverflow.com/users/7211084/fichonije"}, "edited": false, "score": 0, "creation_date": 1481892155, "post_id": 41163946, "comment_id": 69569036, "body": "I tried and it didn&#39;t work.. I was trying to avoid using another version since I am not sure it will work with pyscripter, which I got used to. And it brings a whole other area of &quot;setting up things&quot; which I don&#39;t fully understand yet.. Thanks a lot for your help anyway, really appreciate it :)"}, {"owner": {"reputation": 669, "user_id": 7257481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K44SQ.png?s=128&g=1", "display_name": "underscoreC", "link": "https://stackoverflow.com/users/7257481/underscorec"}, "reply_to_user": {"reputation": 43, "user_id": 7211084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc90b65b38a2188c00925b3ce59611b?s=128&d=identicon&r=PG&f=1", "display_name": "Fichonije", "link": "https://stackoverflow.com/users/7211084/fichonije"}, "edited": false, "score": 0, "creation_date": 1482044870, "post_id": 41163946, "comment_id": 69611568, "body": "@Fichonije I use PyScripter too :). I can testify that it works with python 3.4. However, I understand that it may be annoying to make the transition. Sorry that I wasn&#39;t able to help you"}], "tags": [], "owner": {"reputation": 669, "user_id": 7257481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K44SQ.png?s=128&g=1", "display_name": "underscoreC", "link": "https://stackoverflow.com/users/7257481/underscorec"}, "is_accepted": true, "score": 6, "last_activity_date": 1481804081, "creation_date": 1481804081, "answer_id": 41163946, "question_id": 41153444, "link": "https://stackoverflow.com/questions/41153444/installing-pygame-with-pip-command-python-setup-py-egg-info-failed-with-error/41163946#41163946", "title": "Installing pygame with pip: Command &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>Another way to install pygame, which worked for me (W10 64bit, Python 3.4.5).</p>\n\n<p>Head <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#pygame\" rel=\"noreferrer\">here</a> and download the correct pygame wheel file for your version. Then, from cmd, go to the directory the file is in, and type <code>pip install [COMPLETE EXACT FILENAME]</code>.</p>\n\n<p>Good luck! </p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 7211084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc90b65b38a2188c00925b3ce59611b?s=128&d=identicon&r=PG&f=1", "display_name": "Fichonije", "link": "https://stackoverflow.com/users/7211084/fichonije"}, "edited": false, "score": 0, "creation_date": 1483718470, "post_id": 41452003, "comment_id": 70224637, "body": "I tried but there&#39;s no file for 3.3... Thanks anyway!!"}], "tags": [], "owner": {"reputation": 21, "user_id": 7371165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212028191324108/picture?type=large", "display_name": "Tiago Gomes", "link": "https://stackoverflow.com/users/7371165/tiago-gomes"}, "is_accepted": false, "score": 2, "last_activity_date": 1483476110, "creation_date": 1483476110, "answer_id": 41452003, "question_id": 41153444, "link": "https://stackoverflow.com/questions/41153444/installing-pygame-with-pip-command-python-setup-py-egg-info-failed-with-error/41452003#41452003", "title": "Installing pygame with pip: Command &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>Try install pygame from this repository: <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow noreferrer\">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a></p>\n\n<p>It is not a official place, but it is trusted. I was having this same problem, and I resolved it installing the package (pygame) from this website. You just have to download the intended\".whl\" file and install with \"pip\" from the place where your download is placed. </p>\n\n<p>Don't forget uninstall the previous Pygame installed. =)</p>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 7335214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k11rj.jpg?s=128&g=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/7335214/zac"}, "is_accepted": false, "score": 2, "last_activity_date": 1483708356, "creation_date": 1483708356, "answer_id": 41506522, "question_id": 41153444, "link": "https://stackoverflow.com/questions/41153444/installing-pygame-with-pip-command-python-setup-py-egg-info-failed-with-error/41506522#41506522", "title": "Installing pygame with pip: Command &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>Try upgrading <code>pip</code>. Simply open your command line (search <code>cmd</code> in your task bar search box) and enter the command below:</p>\n\n<pre><code>pip install --upgrade pip\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15683, "user_id": 6523163, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qUURJ.jpg?s=128&g=1", "display_name": "aircraft", "link": "https://stackoverflow.com/users/6523163/aircraft"}, "edited": false, "score": 0, "creation_date": 1510111810, "post_id": 43949744, "comment_id": 81291807, "body": "whats your meaning of <code>you can write this configuration to config file directly</code>?"}], "tags": [], "owner": {"reputation": 357, "user_id": 2100553, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Bg0ce.jpg?s=128&g=1", "display_name": "rahulthakur319", "link": "https://stackoverflow.com/users/2100553/rahulthakur319"}, "is_accepted": false, "score": 0, "last_activity_date": 1494654986, "creation_date": 1494654986, "answer_id": 43949744, "question_id": 41153444, "link": "https://stackoverflow.com/questions/41153444/installing-pygame-with-pip-command-python-setup-py-egg-info-failed-with-error/43949744#43949744", "title": "Installing pygame with pip: Command &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>Check your mysql configuration file using this:</p>\n\n<pre><code>mysql_config\n</code></pre>\n\n<p>Now you should get an output something like this:</p>\n\n<pre><code>mysql_config \nUsage: /usr/bin/mysql_config [OPTIONS]\nCompiler: GNU 6.3.0\nOptions:\n        --cflags         [-I/usr/include/mysql ]\n        --cxxflags       [-I/usr/include/mysql ]\n        --include        [-I/usr/include/mysql]\n        --libs           [-L/usr/lib/x86_64-linux-gnu -lmysqlclient -lpthread -lz -lm -lrt -latomic -ldl]\n        --libs_r         [-L/usr/lib/x86_64-linux-gnu -lmysqlclient -lpthread -lz -lm -lrt -latomic -ldl]\n        --plugindir      [/usr/lib/mysql/plugin]\n        --socket         [/var/run/mysqld/mysqld.sock]\n        --port           [0]\n        --version        [5.7.18]\n        --libmysqld-libs [-L/usr/lib/x86_64-linux-gnu -lmysqld -lpthread -lz -lm -lrt -latomic -lcrypt -ldl -laio -llz4 -lnuma]\n        --variable=VAR   VAR is one of:\n                pkgincludedir [/usr/include/mysql]\n                pkglibdir     [/usr/lib/x86_64-linux-gnu]\n                plugindir     [/usr/lib/mysql/plugin]\n</code></pre>\n\n<p>Ideally it should contain <em>libmysqld-libs</em> option. If it is not there, as it was not there in my case, you can assume that your mysql is broken.</p>\n\n<p>In this case you can write this configuration to config file directly</p>\n"}, {"comments": [{"owner": {"reputation": 5728, "user_id": 7907591, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/0vpof.jpg?s=128&g=1", "display_name": "Morse", "link": "https://stackoverflow.com/users/7907591/morse"}, "edited": false, "score": 1, "creation_date": 1527997031, "post_id": 50662997, "comment_id": 88336225, "body": "Welcome to Stack Overflow! Welcome to Stack Overflow! Use formatting tools to make your post more readable. Code block should look like <code>code block</code>. Use <b>bold</b> <i>italics</i> if needed too."}], "tags": [], "owner": {"reputation": 7, "user_id": 9886921, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6LJsaR67yng/AAAAAAAAAAI/AAAAAAAAAmw/H2pTPEyvJ5U/photo.jpg?sz=128", "display_name": "james shaw", "link": "https://stackoverflow.com/users/9886921/james-shaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1540738879, "last_edit_date": 1540738879, "creation_date": 1527996165, "answer_id": 50662997, "question_id": 41153444, "link": "https://stackoverflow.com/questions/41153444/installing-pygame-with-pip-command-python-setup-py-egg-info-failed-with-error/50662997#50662997", "title": "Installing pygame with pip: Command &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>Just downgrade your Python version. Uninstall your current Python and delete uninstalled python folder, then install python3.5.</p>\n\n<p>Last, you can use the command line:</p>\n\n<pre><code>pip3 install pygame\n</code></pre>\n\n<p>It worked for me.</p>\n"}], "owner": {"reputation": 43, "user_id": 7211084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc90b65b38a2188c00925b3ce59611b?s=128&d=identicon&r=PG&f=1", "display_name": "Fichonije", "link": "https://stackoverflow.com/users/7211084/fichonije"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12654, "favorite_count": 0, "accepted_answer_id": 41163946, "answer_count": 6, "score": 4, "last_activity_date": 1540738879, "creation_date": 1481755080, "question_id": 41153444, "link": "https://stackoverflow.com/questions/41153444/installing-pygame-with-pip-command-python-setup-py-egg-info-failed-with-error", "title": "Installing pygame with pip: Command &quot;python setup.py egg_info&quot; failed with error code 1", "body": "<p>I have only recently started to learn programming with python. Currently I am trying to install pygame but I am constantly gettting the same error:</p>\n\n<pre><code>C:\\WINDOWS\\system32&gt;python -m pip install pygame\nCollecting pygame\nUsing cached pygame-1.9.2.tar.gz\nComplete output from command python setup.py egg_info:\n\n\nWARNING, No \"Setup\" File Exists, Running \"config.py\"\nUsing WINDOWS configuration...\n\nPath for SDL not found.\nToo bad that is a requirement! Hand-fix the \"Setup\"\nPath for FONT not found.\nPath for IMAGE not found.\nPath for MIXER not found.\nPath for PNG not found.\nPath for JPEG not found.\nPath for PORTMIDI not found.\nPath for COPYLIB_tiff not found.\nPath for COPYLIB_z not found.\nPath for COPYLIB_vorbis not found.\nPath for COPYLIB_ogg not found.\n\nIf you get compiler errors during install, doublecheck\nthe compiler flags in the \"Setup\" file.\n\n\nContinuing With \"setup.py\"\nError with the \"Setup\" file,\nperhaps make a clean copy from \"Setup.in\".\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"c:\\users\\filip\\appdata\\local\\temp\\pip-build-0xsf1b\\pygame\\setup.py\", line 165, in &lt;module&gt;\n    extensions = read_setup_file('Setup')\n  File \"C:\\Python33\\lib\\distutils\\extension.py\", line 164, in read_setup_file\n    line = expand_makefile_vars(line, vars)\n  File \"C:\\Python33\\lib\\distutils\\sysconfig.py\", line 430, in expand_makefile_vars\n    s = s[0:beg] + vars.get(m.group(1)) + s[end:]\nTypeError: Can't convert 'NoneType' object to str implicitly\n\n----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in c:\\users\\filip\\appdata\\local\\temp\\pip-build-0xsf1b\\pygame\\\n</code></pre>\n\n<p>I already went through a number of posts with similar problems but none of them had the exactly same issue, and/or they were concerned with different packages and operating systems. Moreover, I tried a couple of solutions to those problems but nothing worked for me (i tried upgrading pip, installing with easy_install and some other options I, unfortunately, cannot even recall at this point...).</p>\n\n<p>I would be sincerely grateful if someone can help me with this problem. I am aware that it is possibly an irrelevant or \"newbie\" question, but I honestly tried finding a solution on my own and really have no more clue what to do. I have also never been really educated in computer science, so all of these things frustrate and confuse the hell out of me and constantly get in the way of the learning process (which is hard enough). </p>\n\n<p>I am using Windows 10, python 3.3 64-bit.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 1788, "user_id": 4856886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602d27b014a61cf50fe795b6a577d63e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse Bakker", "link": "https://stackoverflow.com/users/4856886/jesse-bakker"}, "edited": false, "score": 0, "creation_date": 1481755292, "post_id": 41153433, "comment_id": 69508903, "body": "What do you mean by &quot;effective loop so that the keys in my resultant data structure are maintained as provided in the output&quot;?"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1481755316, "post_id": 41153433, "comment_id": 69508914, "body": "You need to show what you&#39;ve already tried"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1481755421, "post_id": 41153433, "comment_id": 69508950, "body": "So you wanna prefix each key with student, and suffix each subject&#39;s key with the count? Could you show what you&#39;ve tried?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1481755663, "post_id": 41153433, "comment_id": 69509045, "body": "but you also want to prefix <code>height</code> with <code>child_</code>?"}, {"owner": {"reputation": 5087, "user_id": 2942471, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000008666513/picture?type=large", "display_name": "manonthemat", "link": "https://stackoverflow.com/users/2942471/manonthemat"}, "edited": false, "score": 0, "creation_date": 1481756166, "post_id": 41153433, "comment_id": 69509229, "body": "sorry, I couldn&#39;t get past &quot;Assume that the size is pretty big, lets say 50 or 60 or more.&quot;, because it&#39;s too funny."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1481756732, "post_id": 41153564, "comment_id": 69509459, "body": "it&#39;s probably a micro-optimization, but I would make the dictionary in <code>get_key</code> a default-named argument. Then, it is only parsed once."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1481756561, "last_edit_date": 1481756561, "creation_date": 1481755720, "answer_id": 41153564, "question_id": 41153433, "link": "https://stackoverflow.com/questions/41153433/update-keys-in-nested-dictionary-with-some-exception-in-key-strings/41153564#41153564", "title": "Update keys in nested dictionary with some exception in key strings", "body": "<p>In order to achieve this, you have to concatenate <code>\"student_\"</code> at the start of each key with some exception as <code>\"height\"</code> key. You may do it via combination of <em>list comprehension</em> and <em>dict comprehension</em> expression as:</p>\n\n<pre><code>students = [ \n    {'name': 'Jack' , 'status' : 'Average' , 'subjects' : { 'subject1' : 'English' , 'subject2' : 'Math' } , 'height' : '20cm' },\n    {'name': 'Tom' , 'status' : 'Good' , 'subjects' : { 'subject1' : 'English' , 'subject2' : 'Science' } , 'height' : '30cm' }\n]\n\ndef get_key(key):\n    return {\n       'height': 'child_height',  # All exception you need in `key`\n                                  # apart from concatenating `\"student_\"`\n       }.get(key, 'student_' + key)\n\nnew_list = [{\n    get_key(k): ({\n         get_key(kk):v  for kk, vv in v.items()} if isinstance(v, dict) else v) \\\n             for k, v in s.items()\n    } for s in students]\n</code></pre>\n\n<p>Value hold by <code>new_list</code> will be:</p>\n\n<pre><code>[{'student_name': 'Jack', 'child_height': '20cm', 'student_status': 'Average', 'student_subjects': {'student_subject1': {'subject1': 'English', 'subject2': 'Math'}, 'student_subject2': {'subject1': 'English', 'subject2': 'Math'}}}, \n {'student_name': 'Tom', 'child_height': '30cm', 'student_status': 'Good', 'student_subjects': {'student_subject1': {'subject1': 'English', 'subject2': 'Science'}, 'student_subject2': {'subject1': 'English', 'subject2': 'Science'}}}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1481755932, "creation_date": 1481755932, "answer_id": 41153615, "question_id": 41153433, "link": "https://stackoverflow.com/questions/41153433/update-keys-in-nested-dictionary-with-some-exception-in-key-strings/41153615#41153615", "title": "Update keys in nested dictionary with some exception in key strings", "body": "<p>Here's a quick-and-dirty function that will do what you need:</p>\n\n<pre><code>In [10]: def rename_keys(students):\n    ...:     d = {}\n    ...:     for k,v in students.items():\n    ...:         if isinstance(v,dict):\n    ...:             k = \"student_\" + k\n    ...:             v = rename_keys(v)\n    ...:             d[k] = v\n    ...:         elif k == 'height':\n    ...:             k = \"child_height\"\n    ...:             d[k] = v\n    ...:         else:\n    ...:             k = \"student_\" + k\n    ...:             d[k] = v\n    ...:     return d\n    ...:\n    ...:\n\nIn [11]: [rename_keys(d) for d in students]\nOut[11]:\n[{'child_height': '20cm',\n  'student_name': 'Jack',\n  'student_status': 'Average',\n  'student_subjects': {'student_subject1': 'English',\n   'student_subject2': 'Math'}},\n {'child_height': '30cm',\n  'student_name': 'Tom',\n  'student_status': 'Good',\n  'student_subjects': {'student_subject1': 'English',\n   'student_subject2': 'Science'}}]\n</code></pre>\n\n<p>And really, this doesn't have to be recursive, you could substitute the recursive call with a dictionary comprehension:</p>\n\n<pre><code>v = {'student_'+key:value for key,value in v.items()}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": -1, "last_activity_date": 1481758480, "last_edit_date": 1481758480, "creation_date": 1481757477, "answer_id": 41153894, "question_id": 41153433, "link": "https://stackoverflow.com/questions/41153433/update-keys-in-nested-dictionary-with-some-exception-in-key-strings/41153894#41153894", "title": "Update keys in nested dictionary with some exception in key strings", "body": "<p>You can use the following function inside a list comprehension like this:</p>\n\n<pre><code>def new_dict(d):\n    res = {}\n    for key, value in d.iteritems():\n        student_or_child = 'student' if key != 'height' else 'child'\n        if type(value) == dict:\n            res['{}_{}'.format(student_or_child, key)] = new_dict(value)\n        else:\n            res['{}_{}'.format(student_or_child, key)] = value\n    return res\n</code></pre>\n\n<p>The above function takes a dict as argument, for each <code>key, value</code> in the passed <code>dict</code>, if value is of type dict then the same function is called on value, and the result is added to <code>res</code> dict, else the same value is added.</p>\n\n<p>Now, with a <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\"><code>list comprehension</code></a>, we can do:</p>\n\n<pre><code>[new_dict(d) for d in students]\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&gt;&gt;&gt; [new_dict(d) for d in students]\n[{'child_height': '20cm', 'student_name': 'Jack', 'student_status': 'Average', 'student_subjects': {'student_subject1': 'English', 'student_subject2': 'Math'}}, {'child_height': '30cm', 'student_name': 'Tom', 'student_status': 'Good', 'student_subjects': {'student_subject1': 'English', 'student_subject2': 'Science'}}]\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 6606789, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/addd302c53e9f16be1eb0b4a5f472896?s=128&d=identicon&r=PG&f=1", "display_name": "CodePlorer", "link": "https://stackoverflow.com/users/6606789/codeplorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1481758480, "creation_date": 1481755012, "last_edit_date": 1481757358, "question_id": 41153433, "link": "https://stackoverflow.com/questions/41153433/update-keys-in-nested-dictionary-with-some-exception-in-key-strings", "title": "Update keys in nested dictionary with some exception in key strings", "body": "<p>So I've a list of students which looks something like this :</p>\n\n<pre><code>students = [ {'name': 'Jack' , 'status' : 'Average' , 'subjects' : { 'subject1' : 'English' , 'subject2' : 'Math' } , 'height' : '20cm' },\n{'name': 'Tom' , 'status' : 'Good' , 'subjects' : { 'subject1' : 'English' , 'subject2' : 'Science' } , 'height' : '30cm' }\n ]\n</code></pre>\n\n<p>So the above list is of size 2. Assume that the size is pretty big, lets say 50 or 60 or more.</p>\n\n<p>I want to return a <strong>list</strong> students_output &amp; for each student I want to return a dictionary which contains the following values for each student which are fetched from the above list but have slightly modified 'keys'. The end output should be something like this :</p>\n\n<pre><code>students_output = [ {'student_name': 'Jack' , 'student_status' : 'Average' , 'student_subjects' : { 'student_subject1' : 'English' , 'student_subject2' : 'Math' } , 'child_height' : '20cm' },\n{'student_name': 'Tom' , 'student_status' : 'Good' , 'student_subjects' : { 'student_subject1' : 'English' , 'student_subject2' : 'Science' } , 'child_height' : '30cm' }\n ]\n</code></pre>\n\n<p>I am not able to understand how I can create an effective loop so that the keys in my resultant data structure are maintained as provided in the output and i can fetch the data from the first list.</p>\n\n<p>for example, in students_output, I know </p>\n\n<pre><code>students_output[0]['student_name']=students[0]['name']\n</code></pre>\n\n<p>But can anyone help me do it iteratively ?</p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "edited": false, "score": 0, "creation_date": 1481755430, "post_id": 41153445, "comment_id": 69508954, "body": "i cannot do this with axis set to 1 (horizontal). Although this works if the axis is set to 0 (vertical). In which case I have to transpose the df. something like: df.T.div(df.T.sum()).T"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "edited": false, "score": 0, "creation_date": 1481755713, "post_id": 41153445, "comment_id": 69509064, "body": "Check the update, you need to specify axis accordingly in the two functions."}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 3, "last_activity_date": 1481755638, "last_edit_date": 1481755638, "creation_date": 1481755082, "answer_id": 41153445, "question_id": 41153423, "link": "https://stackoverflow.com/questions/41153423/how-to-update-multiple-columns-of-pandas-dataframe-inplace-and-in-single-instanc/41153445#41153445", "title": "how to update multiple columns of pandas dataframe inplace and in single instance", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.div.html\" rel=\"nofollow noreferrer\">pandas.DataFrame.div</a> method:</p>\n\n<pre><code>df.div(df.sum())\n\n#          a           b           c\n#0  0.071429    0.368421    0.173913\n#1  0.214286    0.210526    0.391304\n#2  0.214286    0.052632    0.043478\n#3  0.285714    0.105263    0.130435\n#4  0.214286    0.263158    0.260870\n</code></pre>\n\n<hr>\n\n<p>To divide by rows, specify axis accordingly:</p>\n\n<pre><code>df1 = df.div(df.sum(axis = 1), axis = 0)\n</code></pre>\n\n<p>Here is a test that the result data frame has rowsum of one.</p>\n\n<pre><code>df1.sum(axis = 1)\n\n#0    1.0\n#1    1.0\n#2    1.0\n#3    1.0\n#4    1.0\n#dtype: float64\n</code></pre>\n"}], "owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 1, "accepted_answer_id": 41153445, "answer_count": 1, "score": 0, "last_activity_date": 1481755638, "creation_date": 1481754928, "question_id": 41153423, "link": "https://stackoverflow.com/questions/41153423/how-to-update-multiple-columns-of-pandas-dataframe-inplace-and-in-single-instanc", "title": "how to update multiple columns of pandas dataframe inplace and in single instance", "body": "<p>consider below <code>pandas</code> DataFrame</p>\n\n<pre><code>df = pd.DataFrame(np.random.randint(1,10,15).reshape(-1,3), columns = list('abc'))\n</code></pre>\n\n<p>i want to update values of all the three columns as ratios in place (ie columns values divided by sum of all three columns, axis = 1) in a single instance. </p>\n\n<p>something like:</p>\n\n<pre><code>df = df.loc[:,['a','b','c']] / df.loc[:,['a','b','c']].sum(axis = 1)\n</code></pre>\n\n<p>how can i achieve this?</p>\n"}, {"tags": ["python", "windows", "batch-file", "error-handling", "cmd"], "comments": [{"owner": {"reputation": 1971, "user_id": 6715629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c019a9a2cfa8fedfc427325d00ee3896?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/6715629/simon"}, "edited": false, "score": 3, "creation_date": 1481755167, "post_id": 41153413, "comment_id": 69508852, "body": "The error level is the return <b>code</b> (aka: integer) of the program. Any message is an output on the error channel of the program but is not held in that variable."}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 2, "creation_date": 1481757382, "post_id": 41153413, "comment_id": 69509698, "body": "Yes, and that value you pass to <code>exit</code> must be an integer, as Simon explained. A stack trace isn&#39;t an integer."}, {"owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "edited": false, "score": 0, "creation_date": 1481757752, "post_id": 41153413, "comment_id": 69509802, "body": "Thanks, I understand now that I can do e.g. exit(3) from Python and that this passes through an error code, however a full error message passed from Python is passed on the error channel and is therefore unavailable within %ERRORLEVEL%. I think the solution I need is to output the response from the script into an error.log. It looks like I&#39;m limited by using a batch file. Powershell would provide more flexibility to handle error responses more flexibly"}, {"owner": {"reputation": 59189, "user_id": 778560, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52ebdc4690fff7b07d3644c4cb7b255a?s=128&d=identicon&r=PG", "display_name": "Aacini", "link": "https://stackoverflow.com/users/778560/aacini"}, "edited": false, "score": 1, "creation_date": 1481769827, "post_id": 41153413, "comment_id": 69512969, "body": "The information presented here is incomplete. The <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms683189(v=vs.85).aspx\" rel=\"nofollow noreferrer\">GetExitCodeProcess</a> function documentation specify that the ExitCode is a &quot;DWORD 32-bits integer&quot;. This means that from cmd.exe point of view, an .exe program may return as <code>%ERRORLEVEL%</code> a value from -2147483648 to 2147483647 and you may test that with a C++ or assembler program, or via <code>exit &#47;B value</code> command. I don&#39;t see any reason because <i>any</i> .exe program that run under Windows could not return a similar range of values, unless it was written this way..."}], "answers": [{"comments": [{"owner": {"reputation": 118713, "user_id": 1012053, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDAXz.jpg?s=128&g=1", "display_name": "dbenham", "link": "https://stackoverflow.com/users/1012053/dbenham"}, "edited": false, "score": 1, "creation_date": 1481762463, "post_id": 41153463, "comment_id": 69511107, "body": "@LotPings - Where on earth did you come up with that ? Not true! EXIT /B can return negative values, and they are reflected properly in %ERRORLEVEL%"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6811411"}, "reply_to_user": {"reputation": 118713, "user_id": 1012053, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDAXz.jpg?s=128&g=1", "display_name": "dbenham", "link": "https://stackoverflow.com/users/1012053/dbenham"}, "edited": false, "score": 0, "creation_date": 1481762867, "post_id": 41153463, "comment_id": 69511198, "body": "@dbenham Looks like i tend to do some false assumptions when my localtime is 02 am. Sorry."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1481763511, "post_id": 41153463, "comment_id": 69511364, "body": "<code>%ERRORLEVEL%</code> is signed and not limited to 255. A Windows exit code is a 32-bit <code>DWORD</code>. Typically the error code itself is 16-bit (0-65535), which is the range for bare WinAPI error numbers. If present, the upper 16-bit word of an exit code is typically the severity and facility of an <a href=\"https://msdn.microsoft.com/en-us/library/cc231198\" rel=\"nofollow noreferrer\"><code>HRESULT</code></a> or <a href=\"https://msdn.microsoft.com/en-us/library/cc231200\" rel=\"nofollow noreferrer\"><code>NTSTATUS</code></a> code. Notably the upper word for a WinAPI error that&#39;s returned as an <code>HRESULT</code> is <code>0x8007</code>, which is negative as a signed value."}, {"owner": {"reputation": 59189, "user_id": 778560, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52ebdc4690fff7b07d3644c4cb7b255a?s=128&d=identicon&r=PG", "display_name": "Aacini", "link": "https://stackoverflow.com/users/778560/aacini"}, "edited": false, "score": 0, "creation_date": 1481770561, "post_id": 41153463, "comment_id": 69513177, "body": "The same <i>wiki document</i> specify: &quot;Windows uses 32-bit signed integers as exit codes&quot;, and I think this question is about &quot;Windows shell %ERRORLEVEL% variable&quot;, not the ancient DOS one-byte %errorlevel% value..."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1481779233, "post_id": 41153463, "comment_id": 69515317, "body": "Thank You everyone for correcting me. Done little bit of research and updated the answer with the findings. Feel free to edit in case I missed anything :)"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1481810668, "post_id": 41153463, "comment_id": 69532544, "body": "The last quote is talking about POSIX status codes that mix an 8-bit exit code with signal information. Windows doesn&#39;t even have signals (instead it has exceptions, asynchronous procedure calls, window messages, and ALPC messages). A Windows exit code could be any 32-bit integer, but it&#39;s often a standard error code such as a bare WinAPI error code, an <code>HRESULT</code>, or an <code>NTSTATUS</code> value."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1481811837, "post_id": 41153463, "comment_id": 69533337, "body": "For example, if you kill a console app with Ctrl+Break, then <code>%errorlevel%</code> is -1073741510, which is the <code>NTSTATUS</code> code <code>STATUS_CONTROL_C_EXIT</code> (0xC000013A). That it starts with 0xC clarifies that it&#39;s not an <code>HRESULT</code> code, so we know this indicates an error. An <code>HRESULT</code> that starts with <code>0x8</code> is an error, but for <code>NTSTATUS</code> that&#39;s just a warning (not successful, but not as severe as an error, e.g. <code>STATUS_NO_MORE_FILES</code>). It&#39;s rare for the Windows API to leak <code>NTSTATUS</code> codes into user mode, but seeing <code>HRESULT</code> codes is not uncommon."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1481840786, "post_id": 41153463, "comment_id": 69549201, "body": "Windows exit codes are actually <i>unsigned</i> 32-bit integers, except that the command interpreter treats them as signed.  I&#39;ve updated the Wikipedia article accordingly.  --- I&#39;ve also edited your answer, since you encouraged us to do so: I&#39;ve updated that quote and removed the references eryksun mentions, since they&#39;re about Linux rather than Windows."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1481847833, "post_id": 41153463, "comment_id": 69551600, "body": "The exit code is unsigned. However, <code>HRESULT</code> and <code>NTSTATUS</code> are both signed <code>LONG</code> typedefs, so these codes are properly interpreted as signed values, e.g. as cast by the macros <a href=\"https://msdn.microsoft.com/en-us/library/ms687197\" rel=\"nofollow noreferrer\"><code>SUCCEEDED</code></a> and <a href=\"https://msdn.microsoft.com/en-us/library/ff565436\" rel=\"nofollow noreferrer\"><code>NT_SUCCESS</code></a>. Thus cmd.exe handling them as signed values is fine. Bare Windows errors, and most other exit codes, are in the range of a 16-bit integer, which cmd.exe will always return as a non-negative value in <code>%ERRORLEVEL%</code>."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 2, "last_activity_date": 1481840957, "last_edit_date": 1481840957, "creation_date": 1481755199, "answer_id": 41153463, "question_id": 41153413, "link": "https://stackoverflow.com/questions/41153413/does-windows-shell-errorlevel-variable-have-a-character-limit/41153463#41153463", "title": "Does Windows shell %ERRORLEVEL% variable have a character limit?", "body": "<p><code>%ERRORLEVEL%</code> returns the exit code of program i.e., <em>it is a integer value and does not have a character limit</em>. As mention in <a href=\"https://en.wikipedia.org/wiki/Exit_status#DOS\" rel=\"nofollow noreferrer\">wiki document for DOS</a>:</p>\n\n<blockquote>\n  <p>In DOS terminology, an <strong><code>errorlevel</code></strong> is an integer exit code returned by an executable program or subroutine. Errorlevels typically range from 0 to 255. </p>\n</blockquote>\n\n<p>The <a href=\"https://en.wikipedia.org/wiki/Exit_status#Windows\" rel=\"nofollow noreferrer\">Windows section of the same document</a> says:</p>\n\n<blockquote>\n  <p>Windows uses 32-bit unsigned integers as exit codes, although the command interpreter treats them as signed.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 6388442, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ea04940de943380ca237f30c669078b1?s=128&d=identicon&r=PG", "display_name": "gusg21", "link": "https://stackoverflow.com/users/6388442/gusg21"}, "is_accepted": false, "score": 2, "last_activity_date": 1481757960, "last_edit_date": 1481757960, "creation_date": 1481755306, "answer_id": 41153488, "question_id": 41153413, "link": "https://stackoverflow.com/questions/41153413/does-windows-shell-errorlevel-variable-have-a-character-limit/41153488#41153488", "title": "Does Windows shell %ERRORLEVEL% variable have a character limit?", "body": "<p>If you're looking for returning a string, you can't assign a string to <code>%ERRORLEVEL%</code>. There is documentation on <code>%ERRORLEVEL%</code> <a href=\"http://ss64.com/nt/errorlevel.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>And you could try an environment variable- I don't code python, but I'm sure there's a way to do it in Python, and you can access them in Batch.</p>\n\n<p>Also, if you know beforehand what errors will be thrown you can assign a number to each, and then exit with and have Batch output respectively. But that's boring and really unreadable, so you might not want to do that.</p>\n"}, {"comments": [{"owner": {"reputation": 47296, "user_id": 2152082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4e4a832231681b8a80323832e8af00?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/2152082/stephan"}, "edited": false, "score": 0, "creation_date": 1583169036, "post_id": 60491065, "comment_id": 107017310, "body": "Don&#39;t set the <code>errorlevel</code> variable. By doing so, you disable the intended function of that system variable."}], "tags": [], "owner": {"reputation": 85, "user_id": 2136570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d174896b6e047495d9f9798f5d9be88c?s=128&d=identicon&r=PG", "display_name": "andrewmcc", "link": "https://stackoverflow.com/users/2136570/andrewmcc"}, "is_accepted": false, "score": 0, "last_activity_date": 1583159786, "creation_date": 1583159786, "answer_id": 60491065, "question_id": 41153413, "link": "https://stackoverflow.com/questions/41153413/does-windows-shell-errorlevel-variable-have-a-character-limit/60491065#60491065", "title": "Does Windows shell %ERRORLEVEL% variable have a character limit?", "body": "<p>Sometimes the lower limit for %ERRORLEVEL% is -2147483648, for example, batch file:</p>\n\n<pre><code>set /a ERRORLEVEL = -1\n:LOOP\nset /a ERRORLEVEL = ERRORLEVEL * 2\nREM ERRORLEVEL = %ERRORLEVEL%\n@pause\n@Goto :LOOP\n</code></pre>\n\n<p>will output </p>\n\n<pre><code>REM ERRORLEVEL = -2147483648\n</code></pre>\n\n<p>before </p>\n\n<pre><code>REM ERRORLEVEL = 0\n</code></pre>\n\n<p>but the command</p>\n\n<pre><code>set /a ERRORLEVEL = -2147483648\n</code></pre>\n\n<p>returns\n\"Invalid number.  Numbers are limited to 32-bits of precision.\"</p>\n\n<pre><code>set /a ERRORLEVEL = -2147483647\n</code></pre>\n\n<p>works.</p>\n"}], "owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "accepted_answer_id": 41153463, "answer_count": 3, "score": 0, "last_activity_date": 1583159786, "creation_date": 1481754887, "last_edit_date": 1481758284, "question_id": 41153413, "link": "https://stackoverflow.com/questions/41153413/does-windows-shell-errorlevel-variable-have-a-character-limit", "title": "Does Windows shell %ERRORLEVEL% variable have a character limit?", "body": "<p>A Windows shell has an %ERRORLEVEL% variable that can be used to find the exit code of a process that has been run via the shell. I can therefore use this in a .bat file to obtain the exit code of an external script that I call from within the .bat file. I want to return richer error information from the process I'm calling (a stack trace in the first instance). I want to return this from a Python script that I'm running, which I can do using the Python 'traceback' module. Can I hold this in %ERRORLEVEL%? Is there any documentation for this variable?</p>\n"}, {"tags": ["python", "python-2.7", "kivy", "kivy-language"], "answers": [{"comments": [{"owner": {"reputation": 1076, "user_id": 3009514, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100001448514445/picture?type=large", "display_name": "Caaarlos", "link": "https://stackoverflow.com/users/3009514/caaarlos"}, "edited": false, "score": 0, "creation_date": 1481761132, "post_id": 41154258, "comment_id": 69510751, "body": "Thank you for helping me @inclement. But using this does not work.  Try this code on your machine: <a href=\"https://raw.githubusercontent.com/kivy-garden/garden.scrolllabel/master/__init__.py\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/kivy-garden/garden.scrolllabel/mas&zwnj;&#8203;ter/&hellip;</a>. I only get a black screen."}], "tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": false, "score": 0, "last_activity_date": 1481759810, "creation_date": 1481759810, "answer_id": 41154258, "question_id": 41153373, "link": "https://stackoverflow.com/questions/41153373/kivy-scrollablelabel-only-black-color-with-a-big-text/41154258#41154258", "title": "Kivy, ScrollableLabel only black color with a big text", "body": "<p>This happens because the texture containing the rendered text is too large for the gpu to work with (the exact limit depends on the machine).</p>\n\n<p>The basic solution is to split the text into multiple Labels. The <a href=\"https://github.com/kivy-garden/garden.scrolllabel\" rel=\"nofollow noreferrer\">ScrollLabel</a> in Kivy garden does this automatically and efficiently, so you probably want to look at using that.</p>\n"}], "owner": {"reputation": 1076, "user_id": 3009514, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100001448514445/picture?type=large", "display_name": "Caaarlos", "link": "https://stackoverflow.com/users/3009514/caaarlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481759810, "creation_date": 1481754716, "last_edit_date": 1481755033, "question_id": 41153373, "link": "https://stackoverflow.com/questions/41153373/kivy-scrollablelabel-only-black-color-with-a-big-text", "title": "Kivy, ScrollableLabel only black color with a big text", "body": "<p>I'm folowing <a href=\"https://github.com/kivy/kivy/wiki/scrollable-label\" rel=\"nofollow noreferrer\">this</a> tutorial to create a scrollable label, but using this example I get only a black screen with too many example.</p>\n\n<p>The code is:</p>\n\n<pre><code>long_text = 'yay moo cow foo bar moo baa ' * 100\n\nBuilder.load_string('''\n&lt;ScrollableLabel&gt;:\n    Label:\n        size_hint_y: None\n        height: self.texture_size[1]\n        text_size: self.width, None\n        text: root.text\n''')\n\nclass ScrollableLabel(ScrollView):\n    text = StringProperty('')\n\nclass ScrollApp(App):\n    def build(self):\n        return ScrollableLabel(text=long_text)\n\nif __name__ == \"__main__\":\n    ScrollApp().run()\n</code></pre>\n\n<p>That code works perfectly, but with I put the following on line <code>14</code> I get a black screen:</p>\n\n<pre><code>return ScrollableLabel(text=long_text * 26)\n</code></pre>\n\n<p>How can I fix it?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1481754951, "post_id": 41153371, "comment_id": 69508766, "body": "What if you have <code>1, 0, 1, 0, 1</code> or <code>1, 1, 0, 0</code> in column <code>A</code>, how do you want B to be?"}, {"owner": {"reputation": 991, "user_id": 1387717, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9a97a505e45606541443fbdac6cb7b56?s=128&d=identicon&r=PG", "display_name": "user1387717", "link": "https://stackoverflow.com/users/1387717/user1387717"}, "reply_to_user": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1481755090, "post_id": 41153371, "comment_id": 69508821, "body": "Good question: ideally if it was [1, 0, 1, 0, 1] and n=2, then B would be [0, 1, 1, 0, 0] (i.e. the first 1 in column A needs to propagate its 2 more 1&#39;s but then the 1 in column A index=2, is &quot;knocked out&quot; b/c there is a one already in column B for that index)"}, {"owner": {"reputation": 991, "user_id": 1387717, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9a97a505e45606541443fbdac6cb7b56?s=128&d=identicon&r=PG", "display_name": "user1387717", "link": "https://stackoverflow.com/users/1387717/user1387717"}, "reply_to_user": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1481755165, "post_id": 41153371, "comment_id": 69508850, "body": "For your second example A = [1,1,0,0], I would ideally like B to be = [0, 1, 1, 0] if n = 2"}], "owner": {"reputation": 991, "user_id": 1387717, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9a97a505e45606541443fbdac6cb7b56?s=128&d=identicon&r=PG", "display_name": "user1387717", "link": "https://stackoverflow.com/users/1387717/user1387717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481755274, "creation_date": 1481754704, "last_edit_date": 1495540424, "question_id": 41153371, "link": "https://stackoverflow.com/questions/41153371/pandas-dataframe-set-non-contiguous-sections", "title": "pandas DataFrame set non-contiguous sections", "body": "<p>I have a DataFrame like below and would like for B to be 1 for n rows <em>after</em> the 1 in column A (where below n = 2)</p>\n\n<pre><code>index  A   B\n0      0   0\n1      1   0\n2      0   1\n3      0   1\n4      1   0\n5      0   1\n6      0   1\n7      0   0\n8      1   0\n9      0   1\n</code></pre>\n\n<p>I think I can do it using .ix similar to this example but not sure how. I'd like to do it in a single in pandas-style selection command if possible. (Ideally not using rolling_apply.)\n<a href=\"https://stackoverflow.com/questions/12307099/modifying-a-subset-of-rows-in-a-pandas-dataframe\">Modifying a subset of rows in a pandas dataframe</a></p>\n\n<p>EDIT: the application is that the 1 in column A is \"ignored\" if it falls within n rows of the previous 1. As per the comments, for n = 2 then, and these example: </p>\n\n<p>A = [1, 0, 1, 0, 1], B should be = [0, 1, 1, 0, 0]\nA = [1, 1, 0, 0], B should be [0, 1, 1, 0]</p>\n"}, {"tags": ["python", "matplotlib", "vline"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1481755096, "post_id": 41153317, "comment_id": 69508822, "body": "As always, start by reading the manual, especially the <a href=\"http://matplotlib.org/users/text_intro.html\" rel=\"nofollow noreferrer\">section on text</a> and commands within."}], "answers": [{"tags": [], "owner": {"reputation": 4318, "user_id": 681870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd42a5f2e0cec71c5b93f0113273213?s=128&d=identicon&r=PG", "display_name": "J. P. Petersen", "link": "https://stackoverflow.com/users/681870/j-p-petersen"}, "is_accepted": true, "score": 13, "last_activity_date": 1481803403, "creation_date": 1481803403, "answer_id": 41163732, "question_id": 41153317, "link": "https://stackoverflow.com/questions/41153317/add-text-next-to-vertical-line-in-matplotlib/41163732#41163732", "title": "Add text next to vertical line in matplotlib", "body": "<p>You can use Matplotlib <code>text</code> function to draw text on the plots. It has a lot of parameters that can be set. See documentation and examples <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.text\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Here is an example with some text parallel to the lines:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport datetime\nimport numpy as np\nfrom matplotlib.pyplot import text\n\nfig, ax = plt.subplots(1,1)\nsample_dates = np.array([datetime.datetime(2000,1,1), datetime.datetime(2001,1,1)])\nsample_dates = mdates.date2num(sample_dates)\nplt.vlines(x=sample_dates, ymin=0, ymax=10, color = 'r')\nax.xaxis.set_major_locator(mdates.YearLocator())\nax.xaxis.set_major_formatter(mdates.DateFormatter('%d.%m.%y'))\n\nfor i, x in enumerate(sample_dates):\n    text(x, 5, \"entry %d\" % i, rotation=90, verticalalignment='center')\n\nplt.show()\n</code></pre>\n\n<p>Should look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z3YA1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Z3YA1.png\" alt=\"New plot result.\"></a></p>\n"}], "owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18423, "favorite_count": 1, "accepted_answer_id": 41163732, "answer_count": 1, "score": 6, "last_activity_date": 1481803403, "creation_date": 1481754421, "question_id": 41153317, "link": "https://stackoverflow.com/questions/41153317/add-text-next-to-vertical-line-in-matplotlib", "title": "Add text next to vertical line in matplotlib", "body": "<p>Here is my code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport datetime\nimport numpy as np\nfig, ax = plt.subplots(1,1)\nsample_dates = np.array([datetime.datetime(2000,1,1), datetime.datetime(2001,1,1)])\nsample_dates = mdates.date2num(sample_dates)\nplt.vlines(x=sample_dates, ymin=0, ymax=10, color = 'r')\nax.xaxis.set_major_locator(mdates.YearLocator())\nax.xaxis.set_major_formatter(mdates.DateFormatter('%d.%m.%y'))\nplt.show()\n</code></pre>\n\n<p>It plots two red lines at certain dates on x-axis. Now I would like to add text to every line. Text should be parallel to the line. Where do I start?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1481754589, "post_id": 41153310, "comment_id": 69508654, "body": "You can check the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.where.html\" rel=\"nofollow noreferrer\">Series.where</a> function."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7299134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c638cd5ed22938307cac6352eb0c10?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/7299134/pradeep"}, "edited": false, "score": 0, "creation_date": 1481936549, "post_id": 41154124, "comment_id": 69588585, "body": "Coding it your way ran ~30 min earilier. Problem solved thanks John :)"}], "tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": true, "score": 0, "last_activity_date": 1481928343, "last_edit_date": 1481928343, "creation_date": 1481758914, "answer_id": 41154124, "question_id": 41153310, "link": "https://stackoverflow.com/questions/41153310/python-pandas-using-apply-funtion-and-creating-new-columns-in-dataframe/41154124#41154124", "title": "Python pandas - using apply funtion and creating new columns in dataframe", "body": "<p>I think numpy <code>where()</code> will be the best choice here (after <code>import numpy as np</code>):</p>\n\n<pre><code>df['net_amount'] = np.where( df['sharing']==1,              # test/condition\n                             df['amt']*df['sharing_pct'],   # value if True\n                             df['amt'] )                    # value if False\n</code></pre>\n\n<p>You can, of course, use this same method for 'share_amt' also.  I don't think there is any faster way to do this, and I don't think you can do it in \"one shot\", depending on how you define it.  Bottom line:  doing it with <code>np.where</code> is way faster than applying a function.</p>\n\n<p>More specifically, I tested on the sample dataset below (10,000 rows) and it's about 700x faster than the function/apply method in that case.</p>\n\n<pre><code>df=pd.DataFrame({ 'sharing':[0,1]*5000, \n                  'sharing_pct':np.linspace(.01,1.,10000), \n                  'amt':np.random.randn(10000) })\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7299134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c638cd5ed22938307cac6352eb0c10?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/7299134/pradeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 41154124, "answer_count": 1, "score": 3, "last_activity_date": 1481928343, "creation_date": 1481754381, "last_edit_date": 1481754426, "question_id": 41153310, "link": "https://stackoverflow.com/questions/41153310/python-pandas-using-apply-funtion-and-creating-new-columns-in-dataframe", "title": "Python pandas - using apply funtion and creating new columns in dataframe", "body": "<p>I have a dataframe with 40 million records and I need to create 2 new columns (net_amt and share_amt) from existing amt and sharing_pct columns. I created two functions which calculate these amounts and then used apply function to populate them back to dataframe. As my dataframe is large it is taking more time to complete. Can we calculate both amounts at one shot or is there completely a better way of doing it</p>\n\n<pre><code>def fn_net(row):\n    if (row['sharing']== 1):\n        return  row['amt'] * row['sharing_pct']\n    else:\n        return row['amt']\n\ndef fn_share(row):\n    if (row['sharing']== 1):\n        return  (row['amt']) * (1- row['sharing_pct'])\n    else:\n        return 0\n\ndf_load['net_amt'] = df_load.apply (lambda row: fn_net (row),axis=1)\ndf_load['share_amt'] = df_load.apply (lambda row: fn_share (row),axis=1)\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "edited": false, "score": 0, "creation_date": 1481754390, "post_id": 41153275, "comment_id": 69508595, "body": "<code>r = int(raw_input(&quot;Please input interest rate: \\n&quot;)&#47;100)</code> should be <code>r = int(raw_input(&quot;Please input interest rate: \\n&quot;))&#47;100</code>"}], "answers": [{"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 0, "last_activity_date": 1481754837, "last_edit_date": 1481754837, "creation_date": 1481754347, "answer_id": 41153302, "question_id": 41153275, "link": "https://stackoverflow.com/questions/41153275/having-trouble-with-python-by-dividing-the-answer/41153302#41153302", "title": "Having trouble with python ,by dividing the answer", "body": "<p>So, you just need to change this line:</p>\n\n<pre><code>r = int(raw_input(\"Please input interest rate: \\n\")/100)\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>r = int(raw_input(\"Please input interest rate: \\n\"))/100\n</code></pre>\n\n<p><code>raw_input(\"Please input interest rate: \\n\")/100</code> means you're dividing a string by 100 the you cast the result to int. Instead, you need to cast then the user input to <code>int</code> and you divide it by 100.</p>\n\n<p><strong>Note:</strong> In Python 2, <code>10/100</code> for example returns <code>0</code>, so you many need to divide by <code>100.0</code> instead of <code>100</code>.</p>\n\n<pre><code>&gt;&gt;&gt; 10/100\n0\n&gt;&gt;&gt; 10/100\n0\n&gt;&gt;&gt; 10/100.0\n0.1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 4834745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/447b4a70326df5c9f1c830b52ba4a1a3?s=128&d=identicon&r=PG&f=1", "display_name": "BourbonCreams", "link": "https://stackoverflow.com/users/4834745/bourboncreams"}, "is_accepted": true, "score": 0, "last_activity_date": 1481755270, "creation_date": 1481755270, "answer_id": 41153482, "question_id": 41153275, "link": "https://stackoverflow.com/questions/41153275/having-trouble-with-python-by-dividing-the-answer/41153482#41153482", "title": "Having trouble with python ,by dividing the answer", "body": "<p>Like ettanany said, the main problem was the line on the interest rate input. Also you had a ^ instead of ** on your line 9. I finally added a bit on the if statement to make sure that you only print the result from the compound interest if the user entered the word \"compound\". Otherwise anything would lead to that unwanted choice.</p>\n\n<pre><code>import math\n\np = int(input(\"Please enter deposit amount: \\n\"))\nr = int(input(\"Please input interest rate: \\n\"))/100\nt = int(input(\"Please insert number of years of the investment: \\n\"))\ninterest = input(\"Do you want a simple or compound interest ? \\n\")\n\nA = p*(1+r**t) \nB = p*(1+r)**t \n\nif interest == \"simple\":\n    print (A)\nelif interest == \"compound\":\n    print(B)\nelse:\n    print(\"Error on the interest type\")\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5039292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JBcmHiQ43GY/AAAAAAAAAAI/AAAAAAAAABI/1T4KpFPfjes/photo.jpg?sz=128", "display_name": "Dwayne Sauls", "link": "https://stackoverflow.com/users/5039292/dwayne-sauls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 41153482, "answer_count": 2, "score": 0, "last_activity_date": 1481755270, "creation_date": 1481754199, "last_edit_date": 1481754670, "question_id": 41153275, "link": "https://stackoverflow.com/questions/41153275/having-trouble-with-python-by-dividing-the-answer", "title": "Having trouble with python ,by dividing the answer", "body": "<p>It is almost perfect just the calculation is giving the wrong result, this is because its dividing the answer by 100\nI have to divide the interest rate by 100. So the r value entered by the user needs to be divided by 100</p>\n\n<pre><code>import math\n\np = int(raw_input(\"Please enter deposit amount: \\n\"))\nr = int(raw_input(\"Please input interest rate: \\n\")/100)\nt = int(raw_input(\"Please insert number of years of the investment: \\n\"))\ninterest = raw_input(\"Do you want a simple or compound interest ? \\n\")\n\nA = p*(1+r**t) \nB = p*(1+r)^t \n\nif interest == \"simple\":\n    print (A)\nelse:\n    print(B)\n</code></pre>\n"}, {"tags": ["python", "string", "list", "repr"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1481754362, "post_id": 41153261, "comment_id": 69508582, "body": "I would strongly recommend not using that as your <code>__repr__</code>."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 7298752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93bfe7f91112ca7ee50269ff802aec8d?s=128&d=identicon&r=PG&f=1", "display_name": "CoopStad", "link": "https://stackoverflow.com/users/7298752/coopstad"}, "edited": false, "score": 0, "creation_date": 1481754855, "post_id": 41153296, "comment_id": 69508733, "body": "We have not learned format, but I was able to implement the .join into my function and got it to work, thank you for your help and very fast reply :D #Upvoted!"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 1, "last_activity_date": 1481754620, "last_edit_date": 1481754620, "creation_date": 1481754289, "answer_id": 41153296, "question_id": 41153261, "link": "https://stackoverflow.com/questions/41153261/using-str-to-return-a-variable-number-of-different-lined-strings/41153296#41153296", "title": "Using __str__ to return a variable number of different lined strings?", "body": "<p>You are looking for <a href=\"https://docs.python.org/3/library/stdtypes.html#str.join\" rel=\"nofollow noreferrer\"><code>str.join()</code></a> here. This lets you join several strings with a joining string between (which can be empty):</p>\n\n<pre><code>&gt;&gt;&gt; likers = ['Spongebob', 'Harry Potter']\n&gt;&gt;&gt; ', '.join(likers)\n'Spongebob, Harry Potter'\n&gt;&gt;&gt; ' -&gt; '.join(likers)\n'Spongebob -&gt; Harry Potter'\n</code></pre>\n\n<p>You probably also want to learn about <a href=\"https://docs.python.org/3/library/stdtypes.html#str.format\" rel=\"nofollow noreferrer\"><code>str.format()</code></a> to interpolate values into a template string:</p>\n\n<pre><code>def __str__(self):\n    likers = ', '.join(self.likers)\n    comments = '\\n'.join(self.commentObjs)\n    return '{} {}\\n{} likes this.\\n{}'.format(\n        self.statuser, self.status, likers, comments)\n</code></pre>\n\n<p>This joins your <code>likers</code> value with commas, and the comments with newlines.</p>\n\n<p>You should not use this as your <code>__repr__</code>; that should produce <em>debugging</em> output, helping you distinguish between two instances of your class, optionally with the contained values part of that output.</p>\n"}], "owner": {"reputation": 9, "user_id": 7298752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93bfe7f91112ca7ee50269ff802aec8d?s=128&d=identicon&r=PG&f=1", "display_name": "CoopStad", "link": "https://stackoverflow.com/users/7298752/coopstad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1204, "favorite_count": 0, "accepted_answer_id": 41153296, "answer_count": 1, "score": -1, "last_activity_date": 1481754620, "creation_date": 1481754149, "last_edit_date": 1481754458, "question_id": 41153261, "link": "https://stackoverflow.com/questions/41153261/using-str-to-return-a-variable-number-of-different-lined-strings", "title": "Using __str__ to return a variable number of different lined strings?", "body": "<p>I'm working on a project that creates \"Facebook\" in Python 3.x. The part I am currently stuck on is using the <strong>str</strong> function to return strings on different lines.</p>\n\n<p>The code I am using for this is:</p>\n\n<pre><code>class Status:\n    likers = []\n    commentObjs = []\n    def __init__(self, statusPoster, statusMsg, likers, commentObjs):\n        self.statuser = statusPoster\n        self.status = statusMsg\n        self.likers = likers\n        self.commentObjs = commentObjs\n</code></pre>\n\n<p>and</p>\n\n<pre><code>def __str__(self):\n    return '%s: %s \\n\"hello\"' %(self.statuser,self.status)\n\n__repr__= __str__\n</code></pre>\n\n<p>The problem that I am running into is that there can be a variable number of likers and a variable number of commentObjs. </p>\n\n<p>What would I have to implement to make it so if there is only one value such as: </p>\n\n<pre><code>likers = [\"Spongebob\"] \ncommentObjs = [\"Spongebob: You should watch the Spongebob movie!\"]\n</code></pre>\n\n<p>It returns in the terminal:</p>\n\n<pre><code>Brad Pitt will watch a movie today!\nSpongebob likes this.\nSpongebob: You should watch The Spongebob movie!\n</code></pre>\n\n<p>But if there is more than one value in each list, such as:</p>\n\n<pre><code>likers = [\"Spongebob\",\"Harry Potter\"] \ncommentObjs = [\"Spongebob: You should watch the Spongebob movie!\",\"Brad Pitt: How about nah?\"]\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>Brad Pitt will watch a movie today!\nSpongebob, Harry Potter likes this.\nSpongebob: You should watch The Spongebob movie!\nBrad Pitt: Nah, I will probably watch Mr and Mrs. Smith.\n</code></pre>\n\n<p>The only way I could think to possibly do this would be something with a for loop and <code>len(likers)</code>, but I don't know how I would be able to do that while still returning the constant values of the name and status.</p>\n"}, {"tags": ["python", "xml"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1481754154, "post_id": 41153235, "comment_id": 69508496, "body": "Keeping form (as opposed to document semantics) truly unchanged requires an XML library written specifically for the purpose; those are very rare, because it&#39;s a lot of extra work without much benefit. You&#39;re asking much more than just preserving the encoding -- would that more restricted purpose suffice?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1481754274, "post_id": 41153235, "comment_id": 69508546, "body": "...I mean, someone who <i>really</i> wanted to keep formatting identical would also ensure that <code>&lt;foo bar=&quot;baz&quot; &#47;&gt;</code> doesn&#39;t get replaced with <code>&lt;foo bar=&quot;baz&quot;&#47;&gt;</code> (note the difference in whether there&#39;s a space after the attribute), capture ordering between attributes (something which has no change on document semantics), etc etc. Round-tripping is hard, and part of the goal of having a standard that provides a thorough description of the object model a document is parsed into is having clear understanding of which changes have semantic meaning and which don&#39;t."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1481754372, "post_id": 41153235, "comment_id": 69508587, "body": "...being able to disregard meaningless changes is one of the advantages of that model. (Not to say that the encoding is meaningless, but you&#39;re asking for more than just encoding, whereas I&#39;m trying to encourage you to narrow the question)."}, {"owner": {"reputation": 4837, "user_id": 6791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64abd0ee599a9f701add1abe4e2d6124?s=128&d=identicon&r=PG&f=1", "display_name": "cco", "link": "https://stackoverflow.com/users/6791802/cco"}, "edited": false, "score": 0, "creation_date": 1481757831, "post_id": 41153235, "comment_id": 69509817, "body": "If you want the encoding to be UTF-8, then pass <code>encoding=&#39;utf-8&#39;</code> to the <code>tree.write</code> call. If you don&#39;t write an xml declaration, version 1.0 and utf-8 encoding are the defaults; well-written XML consumers shouldn&#39;t need them to be explicitly stated."}], "owner": {"reputation": 7136, "user_id": 1831108, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/WSdNc.png?s=128&g=1", "display_name": "watashiSHUN", "link": "https://stackoverflow.com/users/1831108/watashishun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481754011, "creation_date": 1481754011, "question_id": 41153235, "link": "https://stackoverflow.com/questions/41153235/keep-original-xml-declaration-when-editing-with-python", "title": "keep original xml declaration when editing with python", "body": "<p>my original xml file looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;foo/&gt;\n</code></pre>\n\n<p>and I want to change it to </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;foo&gt;\n  &lt;bar&gt;confusing dev&lt;/bar&gt;\n&lt;/foo&gt;\n</code></pre>\n\n<p>I am using <code>xml.etree.ElementTree</code> as suggested by this <a href=\"http://www.diveintopython3.net/xml.html\" rel=\"nofollow noreferrer\">tutorial</a></p>\n\n<pre><code>with open('file.xml','r+b') as f:\n    tree = etree.parse(f)\n    f.seek(0,0)\n    tree.write(f,xml_declaration=True)# default argument: encoding=\"us-ascii\"\n</code></pre>\n\n<p>this outputs</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='us-ascii'?&gt;\n&lt;foo/&gt;\n</code></pre>\n\n<p>But how do I get the encoding of <code>file.xml</code> at runtime and pass it as an argument to <code>tree.write</code> or is there a better way to edit xml in python? I just want to change some <code>Element.text</code> but keep the declaration and namespace unchanged.</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "is_accepted": true, "score": 3, "last_activity_date": 1481760970, "creation_date": 1481760970, "answer_id": 41154414, "question_id": 41153220, "link": "https://stackoverflow.com/questions/41153220/why-do-i-have-two-tkinter-windows/41154414#41154414", "title": "why do I have two tkinter windows?", "body": "<p>The first window is created by <code>Tk()</code> (and this is apparently done for you automatically if you forget); <em>additional</em> windows are created by <code>Toplevel()</code>.  Yes, this seems silly - I have no idea why it was done this way.  If you want to have multiple windows, all handled the same, one approach I've seen is to immediately call <code>.withdraw()</code> on the initial Tk() window to make it invisible, then forget about it completely - all of your actual windows get created by Toplevel().</p>\n\n<p>Generally speaking, you're free to store arbitrary attributes in a class instance, as long as they don't collide with any of the class's actual attributes.  Also generally speaking, this is a bad idea, because you're not necessarily going to know what all of the class's actual attributes are.  However, what you see here is an idiomatic Tkinter usage, made necessary by the strange way in which garbage collection interacts with Tk images.  If you stored the image in a local variable, it would disappear almost immediately.  If you stored it in a global variable, it would stick around forever, even after the window using the image was closed.  Storing the image as an attribute of the widget or window that displays it gives it exactly the right lifetime.</p>\n"}, {"tags": [], "owner": {"reputation": 488, "user_id": 6592720, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G5YYZqLVtHE/AAAAAAAAAAI/AAAAAAAAABQ/eEBFVufE66U/photo.jpg?sz=128", "display_name": "Andrew Hewitt", "link": "https://stackoverflow.com/users/6592720/andrew-hewitt"}, "is_accepted": false, "score": 1, "last_activity_date": 1481761045, "creation_date": 1481761045, "answer_id": 41154425, "question_id": 41153220, "link": "https://stackoverflow.com/questions/41153220/why-do-i-have-two-tkinter-windows/41154425#41154425", "title": "why do I have two tkinter windows?", "body": "<p>From the tKinter docs:</p>\n\n<blockquote>\n  <p>A top-level window is a window that has an independent existence under the window manager.</p>\n</blockquote>\n\n<p>This is a little confusing, but it seems to mean because top-level windows are extra windows, there must be a real master window. So top-level seems to create one for your automatically (I won't claim to know why or what is going on here). It is a simple fix though:</p>\n\n<p>Change:</p>\n\n<pre><code>root = Toplevel()\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>root = Tk()\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4953909, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aadabfb11de58922f939b9f9a3edf28d?s=128&d=identicon&r=PG&f=1", "display_name": "highsky", "link": "https://stackoverflow.com/users/4953909/highsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 41154414, "answer_count": 2, "score": 1, "last_activity_date": 1481807996, "creation_date": 1481753934, "last_edit_date": 1481807996, "question_id": 41153220, "link": "https://stackoverflow.com/questions/41153220/why-do-i-have-two-tkinter-windows", "title": "why do I have two tkinter windows?", "body": "<p>The following is the code. </p>\n\n<pre><code>from tkinter import *\ndef schedule_log():  \n    root = Toplevel()\n    root.title(\"My Schedule\")\n    canvas = Canvas(root, width=675, height=260)\n    root.schedule = schedule = PhotoImage(file=\"my_image.gif\")\n    canvas.create_image(0, 0, anchor=NW, image=schedule)\n    canvas.pack()\n\nschedule_log()\n</code></pre>\n\n<p>When I run it, I got two windows. One is the tkinter window with title tk, and the other one is the window with title \"My Schedule\". Could anyone explain to me why is this? Thank you a lot for your time and attention. \nMoreover, what is the functionality of root.schedule ? I mean, if I understand it correctly, root is an instance of the Toplevel class. So, are we trying to set an attribute to that specific instance? So, does that mean we can set up the attributes outside of the class? </p>\n"}, {"tags": ["python", "anaconda", "libclang"], "answers": [{"tags": [], "owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "is_accepted": true, "score": 1, "last_activity_date": 1481754859, "creation_date": 1481754859, "answer_id": 41153405, "question_id": 41153203, "link": "https://stackoverflow.com/questions/41153203/unable-to-import-clang-bindings-in-anaconda-python3/41153405#41153405", "title": "Unable to import clang bindings in Anaconda/Python3", "body": "<p>Looks like it was a Py2/3 syntax issue, luckily I was able to run 2to3.exe on the folder <code>C:\\Anaconda3\\Lib\\site-packages\\clang</code> and merge over the fixes</p>\n\n<p><a href=\"https://i.stack.imgur.com/D4OJY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D4OJY.png\" alt=\"cindex.py diff results Python 2 vs 3 syntax changes from 2to3.exe\"></a></p>\n\n<p>Now I'm in business...</p>\n\n<pre><code>&gt;&gt;&gt; import clang.cindex\n&gt;&gt;&gt; clang.cindex.\nclang.cindex.ARRAY(                    clang.cindex.LibclangError(            clang.cindex.__doc__                   clang.cindex.c_uint64(                 clang.cindex.set_last_error(\nclang.cindex.AccessSpecifier(          clang.cindex.LibraryLoader(            clang.cindex.__file__                  clang.cindex.c_uint8(                  clang.cindex.sizeof(\nclang.cindex.ArgumentError(            clang.cindex.LittleEndianStructure(    clang.cindex.__loader__                clang.cindex.c_ulong(                  clang.cindex.string_at(\nclang.cindex.Array(                    clang.cindex.OleDLL(                   clang.cindex.__name__                  clang.cindex.c_ulonglong(              clang.cindex.util\nclang.cindex.BaseEnumeration(          clang.cindex.POINTER(                  clang.cindex.__package__               clang.cindex.c_ushort(                 clang.cindex.windll\nclang.cindex.BigEndianStructure(       clang.cindex.PYFUNCTYPE(               clang.cindex.__spec__                  clang.cindex.c_void_p(                 clang.cindex.wintypes\nclang.cindex.CCRStructure(             clang.cindex.PyDLL(                    clang.cindex.addressof(                clang.cindex.c_voidp(                  clang.cindex.wstring_at(\nclang.cindex.CDLL(                     clang.cindex.RTLD_GLOBAL               clang.cindex.alignment(                clang.cindex.c_wchar(                  clang.cindex.__class__(\nclang.cindex.CFUNCTYPE(                clang.cindex.RTLD_LOCAL                clang.cindex.availabilityKinds         clang.cindex.c_wchar_p(                clang.cindex.__delattr__(\nclang.cindex.CachedProperty(           clang.cindex.RefQualifierKind(         clang.cindex.byref(                    clang.cindex.callbacks                 clang.cindex.__dict__\nclang.cindex.ClangObject(              clang.cindex.SetPointerType(           clang.cindex.c_bool(                   clang.cindex.cast(                     clang.cindex.__dir__(\nclang.cindex.CodeCompletionResult(     clang.cindex.SourceLocation(           clang.cindex.c_buffer(                 clang.cindex.cdll                      clang.cindex.__eq__(\nclang.cindex.CodeCompletionResults(    clang.cindex.SourceRange(              clang.cindex.c_byte(                   clang.cindex.clang                     clang.cindex.__format__(\nclang.cindex.CompilationDatabase(      clang.cindex.SpellingCache             clang.cindex.c_char(                   clang.cindex.collections               clang.cindex.__ge__(\nclang.cindex.CompilationDatabaseError( clang.cindex.StorageClass(             clang.cindex.c_char_p(                 clang.cindex.completionChunkKindMap    clang.cindex.__getattribute__(\nclang.cindex.CompileCommand(           clang.cindex.Structure(                clang.cindex.c_double(                 clang.cindex.conf                      clang.cindex.__gt__(\nclang.cindex.CompileCommands(          clang.cindex.TemplateArgumentKind(     clang.cindex.c_float(                  clang.cindex.create_string_buffer(     clang.cindex.__hash__(\nclang.cindex.CompletionChunk(          clang.cindex.Token(                    clang.cindex.c_int(                    clang.cindex.create_unicode_buffer(    clang.cindex.__init__(\nclang.cindex.CompletionString(         clang.cindex.TokenGroup(               clang.cindex.c_int16(                  clang.cindex.functionList              clang.cindex.__le__(\nclang.cindex.Config(                   clang.cindex.TokenKind(                clang.cindex.c_int32(                  clang.cindex.get_errno(                clang.cindex.__lt__(\nclang.cindex.Cursor(                   clang.cindex.TranslationUnit(          clang.cindex.c_int64(                  clang.cindex.get_last_error(           clang.cindex.__ne__(\nclang.cindex.CursorKind(               clang.cindex.TranslationUnitLoadError( clang.cindex.c_int8(                   clang.cindex.memmove(                  clang.cindex.__new__(\nclang.cindex.DEFAULT_MODE              clang.cindex.TranslationUnitSaveError( clang.cindex.c_long(                   clang.cindex.memset(                   clang.cindex.__reduce__(\nclang.cindex.Diagnostic(               clang.cindex.Type(                     clang.cindex.c_longdouble(             clang.cindex.oledll                    clang.cindex.__reduce_ex__(\nclang.cindex.DllCanUnloadNow(          clang.cindex.TypeKind(                 clang.cindex.c_longlong(               clang.cindex.pointer(                  clang.cindex.__repr__(\nclang.cindex.DllGetClassObject(        clang.cindex.Union(                    clang.cindex.c_object_p(               clang.cindex.py_object(                clang.cindex.__setattr__(\nclang.cindex.File(                     clang.cindex.WINFUNCTYPE(              clang.cindex.c_short(                  clang.cindex.pydll                     clang.cindex.__sizeof__(\nclang.cindex.FileInclusion(            clang.cindex.WinDLL(                   clang.cindex.c_size_t(                 clang.cindex.pythonapi                 clang.cindex.__str__(\nclang.cindex.FixIt(                    clang.cindex.WinError(                 clang.cindex.c_ssize_t(                clang.cindex.register_enumerations(    clang.cindex.__subclasshook__(\nclang.cindex.FormatError(              clang.cindex._CXString(                clang.cindex.c_ubyte(                  clang.cindex.register_function(\nclang.cindex.GetLastError(             clang.cindex._CXUnsavedFile(           clang.cindex.c_uint(                   clang.cindex.register_functions(\nclang.cindex.HRESULT(                  clang.cindex.__all__                   clang.cindex.c_uint16(                 clang.cindex.resize(\nclang.cindex.Index(                    clang.cindex.__cached__                clang.cindex.c_uint32(                 clang.cindex.set_errno(\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "edited": false, "score": 0, "creation_date": 1509126093, "post_id": 46979719, "comment_id": 80908800, "body": "It must have gotten on the path at a higher precedence than the 2.7 install. Type the command <code>which python</code> and <code>which pip</code> and check your path output"}, {"owner": {"reputation": 562, "user_id": 2823074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40d0723d6f169f6fe6961dcb1112a54c?s=128&d=identicon&r=PG&f=1", "display_name": "Mikaelblomkvistsson", "link": "https://stackoverflow.com/users/2823074/mikaelblomkvistsson"}, "reply_to_user": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "edited": false, "score": 0, "creation_date": 1509209385, "post_id": 46979719, "comment_id": 80930828, "body": "Thank you jxramos. My post is supposed to note that the issue can be solved by calling <code>pip2</code> instead of <code>pip</code>."}], "tags": [], "owner": {"reputation": 562, "user_id": 2823074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40d0723d6f169f6fe6961dcb1112a54c?s=128&d=identicon&r=PG&f=1", "display_name": "Mikaelblomkvistsson", "link": "https://stackoverflow.com/users/2823074/mikaelblomkvistsson"}, "is_accepted": false, "score": 0, "last_activity_date": 1509121993, "creation_date": 1509121993, "answer_id": 46979719, "question_id": 41153203, "link": "https://stackoverflow.com/questions/41153203/unable-to-import-clang-bindings-in-anaconda-python3/46979719#46979719", "title": "Unable to import clang bindings in Anaconda/Python3", "body": "<p>How the heck 'pip' which I always used for python2.7 became pip for python3?</p>\n\n<pre><code>$ pip --version\npip 1.5.6 from /usr/lib/python3/dist-packages (python 3.4)\n</code></pre>\n\n<p>But then the setup has been ran by python2.7, causing syntax error. Magic.</p>\n\n<p>I called the same, just but ensuring pip for python2.7:</p>\n\n<pre><code>pip2 install clang\n</code></pre>\n\n<p>and it worked nicely.</p>\n"}], "owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1447, "favorite_count": 0, "accepted_answer_id": 41153405, "answer_count": 2, "score": 2, "last_activity_date": 1509121993, "creation_date": 1481753891, "question_id": 41153203, "link": "https://stackoverflow.com/questions/41153203/unable-to-import-clang-bindings-in-anaconda-python3", "title": "Unable to import clang bindings in Anaconda/Python3", "body": "<p>I just pip installed clang to my Anaconda Python 3 installation and I'm unable to import the clang python bindings...</p>\n\n<pre><code>C:\\Temp&gt;python -m pip install clang --proxy=\"xxxxx\"\nCollecting clang\n  Downloading clang-3.8.tar.gz\nBuilding wheels for collected packages: clang\n  Running setup.py bdist_wheel for clang ... done\n  Stored in directory: C:\\xxxxxx\nSuccessfully built clang\nInstalling collected packages: clang\nSuccessfully installed clang-3.8\n\nC:\\Temp&gt;python\n&gt;&gt;&gt; import clang.cindex\n    Traceback (most recent call last):\n      File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n      File \"C:\\Anaconda3\\lib\\site-packages\\clang\\cindex.py\", line 515\n        raise ValueError,'{0} value {1} already loaded'.format(\n                        ^\n    SyntaxError: invalid syntax\n</code></pre>\n\n<p>I am however able to successfully import clang by itself, although not with anything useful...</p>\n\n<pre><code>&gt;&gt;&gt; import clang\n&gt;&gt;&gt; clang.\nclang.__all__           clang.__loader__        clang.__spec__          clang.__dir__(          clang.__getattribute__( clang.__le__(           clang.__reduce__(       clang.__sizeof__(\nclang.__cached__        clang.__name__          clang.__class__(        clang.__eq__(           clang.__gt__(           clang.__lt__(           clang.__reduce_ex__(    clang.__str__(\nclang.__doc__           clang.__package__       clang.__delattr__(      clang.__format__(       clang.__hash__(         clang.__ne__(           clang.__repr__(         clang.__subclasshook__(\nclang.__file__          clang.__path__          clang.__dict__          clang.__ge__(           clang.__init__(         clang.__new__(          clang.__setattr__(\n</code></pre>\n\n<p>Looking at the source file where the exception is thrown appears to suggest it may be a Python3 syntax issue...</p>\n\n<pre><code>### Cursor Kinds ###\nclass BaseEnumeration(object):\n    \"\"\"\n    Common base class for named enumerations held in sync with Index.h values.\n\n    Subclasses must define their own _kinds and _name_map members, as:\n    _kinds = []\n    _name_map = None\n    These values hold the per-subclass instances and value-to-name mappings,\n    respectively.\n\n    \"\"\"\n\n    def __init__(self, value):\n        if value &gt;= len(self.__class__._kinds):\n            self.__class__._kinds += [None] * (value - len(self.__class__._kinds) + 1)\n        if self.__class__._kinds[value] is not None:\n            raise ValueError,'{0} value {1} already loaded'.format( #&lt;--Py2 Syntax                    str(self.__class__), value)\n        self.value = value\n        self.__class__._kinds[value] = self\n        self.__class__._name_map = None\n</code></pre>\n\n<p>Looking at the rest of cindex.py seems consistent that the libclang bindings have not yet been developed for Python3. Is that accurate or did my pip or something else get mixed up during the install?</p>\n"}, {"tags": ["python", "mysql", "python-2.7", "sqlite"], "comments": [{"owner": {"reputation": 5778, "user_id": 5921693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/104a78260ca097069cf8f8179e41acdd?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/5921693/nick"}, "edited": false, "score": 0, "creation_date": 1481753740, "post_id": 41153151, "comment_id": 69508330, "body": "&quot;The only issue is that this doesn&#39;t work&quot; - Why not? Are you getting an error or is the result not correct?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1481753775, "post_id": 41153151, "comment_id": 69508344, "body": "According to <a href=\"https://www.sqlite.org/lang_expr.html\" rel=\"nofollow noreferrer\">here</a>, it looks like <code>*</code> should be supported..."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1481753835, "post_id": 41153151, "comment_id": 69508374, "body": "What do you mean by doesn;t work? Does it give error, empty result or something else?"}, {"owner": {"reputation": 446, "user_id": 6336881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04d0a93a15a0f45248a57115dbe0f37e?s=128&d=identicon&r=PG&f=1", "display_name": "Marc vT", "link": "https://stackoverflow.com/users/6336881/marc-vt"}, "edited": false, "score": 0, "creation_date": 1481754024, "post_id": 41153151, "comment_id": 69508441, "body": "Ah, sorry. It returns an empty list, although the values are in the table. No errors."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1481754098, "post_id": 41153151, "comment_id": 69508472, "body": "The code you&#39;ve shown works perfectly, as demonstrated <a href=\"http://ideone.com/1Kx168\" rel=\"nofollow noreferrer\">here</a>. Therefore, the problem is in the code you haven&#39;t shown. Please reduce your original program to the shortest possible program that demonstrates the error. Please <a href=\"https://stackoverflow.com/posts/41153151/edit\">edit</a> your question and copy-paste that short program into your question. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for more information."}, {"owner": {"reputation": 446, "user_id": 6336881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04d0a93a15a0f45248a57115dbe0f37e?s=128&d=identicon&r=PG&f=1", "display_name": "Marc vT", "link": "https://stackoverflow.com/users/6336881/marc-vt"}, "edited": false, "score": 0, "creation_date": 1481757084, "post_id": 41153151, "comment_id": 69509589, "body": "Ok, so I have found the problem... Because my value in colB has a comma, the table read it as a decimal point. I complete overlooked this as colA has a period as a decimal point and I didn&#39;t think both comma and period would be accepted (I imagined it would overlook commas or throw an error). Careless mistake on my part! Thanks for the help anyways."}], "answers": [{"tags": [], "owner": {"reputation": 446, "user_id": 6336881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04d0a93a15a0f45248a57115dbe0f37e?s=128&d=identicon&r=PG&f=1", "display_name": "Marc vT", "link": "https://stackoverflow.com/users/6336881/marc-vt"}, "is_accepted": true, "score": 0, "last_activity_date": 1481805341, "creation_date": 1481805341, "answer_id": 41164328, "question_id": 41153151, "link": "https://stackoverflow.com/questions/41153151/sqlite-where-statements-using-a-multiple-of-two-columns/41164328#41164328", "title": "sqlite - WHERE statements using a multiple of two columns", "body": "<p>So, just to make it official and close the matter, I will write down the answer to my own question. \nThe data entered into colA took on a decimal value (ex: 0.91) and that entered into colB took on an integer value greater than 1000 (ex: 31,000). When I tried to build a SELECT statement such as:</p>\n\n<pre><code>c.execute('SELECT * FROM table_1 WHERE validation=1 AND colB &gt; 25000 AND colA&gt; 0.5')\n</code></pre>\n\n<p>it returned the values I wanted because 31,000 > 25000 is True and 0.91 > 0.5 is true. However, when I tried to multiply both columns together in the WHERE statement, it read both numbers as decimal values. Therefore the statement colA * colB > 10000 was false because 0.91*31.000 = 28.21. Simply removing the commas in colB solved the problem.\nNevertheless, this issue is still curious as it only reads the 31,000 as 31.000 when one tries to perform a mathematical operation.</p>\n"}], "owner": {"reputation": 446, "user_id": 6336881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04d0a93a15a0f45248a57115dbe0f37e?s=128&d=identicon&r=PG&f=1", "display_name": "Marc vT", "link": "https://stackoverflow.com/users/6336881/marc-vt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 41164328, "answer_count": 1, "score": 0, "last_activity_date": 1481805341, "creation_date": 1481753680, "last_edit_date": 1481755668, "question_id": 41153151, "link": "https://stackoverflow.com/questions/41153151/sqlite-where-statements-using-a-multiple-of-two-columns", "title": "sqlite - WHERE statements using a multiple of two columns", "body": "<p>I am currently working on a project using sqlite in python 2.7 and need to return rows where the value of column A * column B is greater than a certain number. Here is what the code looks like:</p>\n\n<pre><code>c.execute('SELECT * FROM table_1 WHERE validation=1 AND colA * colB &gt; 10000')\n</code></pre>\n\n<p>The only issue is that this doesn't work... I know it's possible in MySQL so I was hoping it would also work in sqlite, although I haven't had any luck finding a means of getting this done.\nSo my questions is: Is it possible to perform this type of operation with sqlite and if yes, how?</p>\n\n<p>EDIT: Here is more complete code, I honestly had assumed that I had a small syntax error or it simply wasn't possible. Because my code is quite long, I don't feel it's possible to post everything. The table I am trying to query was built as follows:</p>\n\n<pre><code>    c.execute('CREATE TABLE IF NOT EXISTS table_1(ticker TEXT, colA INTEGER, colB INTEGER, company_name TEXT, market_cap TEXT, sector TEXT, validation INTEGER, UNIQUE(ticker) ON CONFLICT IGNORE)')\n</code></pre>\n\n<p>The first few entries in the table are as follows:</p>\n\n<p>ticker,colA,colB,company_name,market_cap,sector,validation</p>\n\n<p>\"ACFN\",\"0.18\",\"71,200\",\"Acorn Energy\",\"5.16M\",\"Industrial\",\"1\"</p>\n\n<p>\"ADGE\",\"0.3\",\"64,458\",\"American DG\",\"14.71M\",\"Industrial Goods\",\"1\"</p>\n\n<p>\"ACUR\",\"0.97\",\"66,358\",\"Acura Pharmaceuticals\",\"11.52M\",\"Healthcare\",\"1\"</p>\n\n<p>Also, using the following statement does return the last row from above.</p>\n\n<pre><code>c.execute('SELECT * FROM table_1 WHERE validation=1 AND colB &gt; 25000 AND colA&gt; 0.5')\n</code></pre>\n\n<p>But if this statement returns the last column, then my original code which multiplies colA with colB should do the same.</p>\n"}, {"tags": ["python", "arduino", "serial-port", "converter", "pyserial"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7259592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oGzor.jpg?s=128&g=1", "display_name": "Gabriel Bastos", "link": "https://stackoverflow.com/users/7259592/gabriel-bastos"}, "edited": false, "score": 0, "creation_date": 1481834603, "post_id": 41156890, "comment_id": 69546396, "body": "The arduino software always read it right, why the PC hardware would be unable to do it?"}, {"owner": {"reputation": 13, "user_id": 7259592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oGzor.jpg?s=128&g=1", "display_name": "Gabriel Bastos", "link": "https://stackoverflow.com/users/7259592/gabriel-bastos"}, "edited": false, "score": 0, "creation_date": 1481834702, "post_id": 41156890, "comment_id": 69546450, "body": "I tried all these: (9600, 14400, 19200, 28800, 38400, 57600, or 115200) baudrates and the problem continues even at 9600 now (I thought it was working). If I try on my laptop using a bluetooth module it works with 9600 but not 14400 and higher."}], "tags": [], "owner": {"reputation": 121, "user_id": 5373702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afc5189745403142f2e176555b22ec1?s=128&d=identicon&r=PG&f=1", "display_name": "gom1", "link": "https://stackoverflow.com/users/5373702/gom1"}, "is_accepted": false, "score": 0, "last_activity_date": 1481778921, "creation_date": 1481778921, "answer_id": 41156890, "question_id": 41153142, "link": "https://stackoverflow.com/questions/41153142/strange-behavior-with-arduino-pc-communication-using-pyserial/41156890#41156890", "title": "Strange behavior with arduino-PC communication using pySerial", "body": "<p>Data validity suffers at higher data transfer speeds because the hardware can't read the data sent in the right sequence. Try lowering your baudrate to 57600.</p>\n"}], "owner": {"reputation": 13, "user_id": 7259592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oGzor.jpg?s=128&g=1", "display_name": "Gabriel Bastos", "link": "https://stackoverflow.com/users/7259592/gabriel-bastos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481778921, "creation_date": 1481753643, "question_id": 41153142, "link": "https://stackoverflow.com/questions/41153142/strange-behavior-with-arduino-pc-communication-using-pyserial", "title": "Strange behavior with arduino-PC communication using pySerial", "body": "<p><strong>Problem 1:</strong>\nI'm trying to read serial data coming from my arduino using pySerial. \nSometimes the code seems to work well but sometimes it prints strange \nthings. The arduino monitor always prints the normal data, the strange \nbehavior just happens on the python code.  </p>\n\n<p>Another thing: this just happens\nwhen I increase the baudrate from 9600 to 115200, but I really need this\nhigher baudrate.</p>\n\n<h2>Output example:</h2>\n\n<pre><code>Opening COM port...\nPort successfully opened\nb'7\\r\\n'\nb'133\\r\\n'\nb'125\\r\\n'\nb'114\\r\\n'\nb'104\\r\\n'\n(...) (and suddenly here comes again)\nb'\\xbaj\\xea2\\x93j\\n'\nb'\\xa6\\x13j\\n'\nb'&amp;\\x13j\\n'\nb'&amp;\\x93j\\n'\nb'\\xa6\\xd3j\\n'\n(...)\n[Finished in 2.0s]\n</code></pre>\n\n<p>Sometimes I need to cancel the build because it gets stuck \nin the for loop.  </p>\n\n<p><strong>Problem 2:</strong>\nBesides that, after reading the data I need to convert it to int.\nJust tried \"int(data)\" but obviously It didn't worked. Certainly because of the Problem 1.  </p>\n\n<p>When I change this:  </p>\n\n<pre><code>print(data)  \n</code></pre>\n\n<p>To this:  </p>\n\n<pre><code>print(int(data))  \n</code></pre>\n\n<p>I get this:  </p>\n\n<pre><code>ValueError: invalid literal for int() with base 10: b'\\xa1j\\n'\n</code></pre>\n\n<h2>Python Code:</h2>\n\n<pre><code>import serial\n\nprint(\"Opening COM port...\")\n\n# open and prepare serial port\nser = serial.Serial('COM3', 115200, timeout=8,\n                    parity=serial.PARITY_EVEN, rtscts=1)\n\nprint(\"Port successfully opened\")\n\nfor i in range(50):\n    data = ser.readline()\n    print(data) # print(int(data))  \n\nser.close()\n</code></pre>\n\n<h2>Arduino Code:</h2>\n\n<pre><code>void setup() {\n    Serial.begin(115200); // set baudrate\n}\n\nvoid loop() {\n    int data = 0;\n    int analogPin = 1;\n\n    data = analogRead(analogPin); // read pin\n    Serial.println(data, DEC); // print data to the serial port\n\n}\n</code></pre>\n"}, {"tags": ["python", "csv", "split"], "comments": [{"owner": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "edited": false, "score": 0, "creation_date": 1481754049, "post_id": 41153125, "comment_id": 69508452, "body": "I notice two things: your code doesn&#39;t implement CSV. Use the <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\"><code>csv</code></a> module. It is easier and avoids many bugs.  Second: parsing addresses is far from trivial if you want to handle addresses correctly. Do some searching to find some of the various crazy ways valid streets and address numbers occur in the US."}, {"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "reply_to_user": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "edited": false, "score": 0, "creation_date": 1481754186, "post_id": 41153125, "comment_id": 69508511, "body": "Thank you. I will implement csv in my code. The addresses in my csv file all have the same, common trend, so I figured I could implement something."}, {"owner": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "edited": false, "score": 0, "creation_date": 1481754397, "post_id": 41153125, "comment_id": 69508597, "body": "@CFraley can you always guarantee that <code>address</code> follows this format: <code>&quot;&lt;street&gt;,&lt;city&gt;,&lt;state zip&gt;&quot;</code>?"}, {"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "reply_to_user": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "edited": false, "score": 0, "creation_date": 1481754474, "post_id": 41153125, "comment_id": 69508616, "body": "@LMc Yes, every single row, every single time."}, {"owner": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "edited": false, "score": 0, "creation_date": 1481755116, "post_id": 41153125, "comment_id": 69508832, "body": "In that case, your problem is much much easier. Use csv to read the rows. Then take the second column of each row and split on commas. Write the result using the csv module to the destination file."}, {"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "reply_to_user": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "edited": false, "score": 0, "creation_date": 1481755891, "post_id": 41153125, "comment_id": 69509123, "body": "@dsh Forgive me, I&#39;m really new to python. How exactly would I do that?"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "edited": false, "score": 0, "creation_date": 1481773372, "post_id": 41153777, "comment_id": 69513869, "body": "It&#39;s extremely close. I&#39;ve messed with it to get it to work and keep breaking it. I see exactly what you&#39;re doing... However, in my original code, I was looking at column 0 to see if it INCLUDED any keywords. I believe the way yours is written, is if it IS a keyword. That&#39;s why I had the line.split in there. Could you advise on where I might add this in? Everything else appears to be working."}, {"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "edited": false, "score": 0, "creation_date": 1481775383, "post_id": 41153777, "comment_id": 69514318, "body": "Actually, I figured it out... I changed <code>if row[0] not in key_words:</code> to <code>if not any(key_word in row[0].split(&quot;,&quot;, 1)[0] for key_word in key_words):</code>"}, {"owner": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "reply_to_user": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "edited": false, "score": 0, "creation_date": 1481812151, "post_id": 41153777, "comment_id": 69533558, "body": "@CFraley I am a bit confused by this. In this one row example, you are testing if <code>&#39;John&#39;</code> is in <code>&#39;Suzy&#39;</code>,<code>&#39;Billy&#39;</code>, <i>or</i> <code>&#39;Cody&#39;</code>, which is <code>False</code>. The the <code>not</code> is flipping the statement to be <code>True</code> and writing to <code>accept_writer</code>. But a more compact way to check for this membership is to write <code>&#39;John&#39; not in key_words</code> (ie <code>row[0] not in key_words</code>, which is <code>True</code> and yields you the same thing, but is more compact and quicker. Did I miss something?"}, {"owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "edited": false, "score": 0, "creation_date": 1481814142, "post_id": 41153777, "comment_id": 69534931, "body": "Sorry, I should have been a little clearer. Obviously, the example csv isn&#39;t exactly what I&#39;m doing. I&#39;m actually cleaning a list of business names and need to see if any of them <code>include</code> any of the <code>key_words</code>. You are correct, the current way you wrote it works, for the example I provided. I should have given a better example so you knew what I was trying to fully accomplish. It&#39;s 100% working now. I really appreciate your help!"}, {"owner": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "reply_to_user": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "edited": false, "score": 0, "creation_date": 1481814633, "post_id": 41153777, "comment_id": 69535271, "body": "@CFraley ok, great. Just wanted to make sure you were getting the help you needed."}], "tags": [], "owner": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "is_accepted": true, "score": 1, "last_activity_date": 1481756725, "creation_date": 1481756725, "answer_id": 41153777, "question_id": 41153125, "link": "https://stackoverflow.com/questions/41153125/split-up-csv-column-contents-into-multiple-columns/41153777#41153777", "title": "Split up CSV column contents into multiple columns", "body": "<p>Let me know if this works, I may have mixed up your output csv names, but you can adjust those based on your logic:    </p>\n\n<pre><code>import csv\n\nkey_words = [ \n'Suzy', \n'Billy', \n'Cody',\n ]\n\nlistname = raw_input (\"Enter List Name:\")\nlistname_accept = (listname) + '.csv'\nlistname_rejects = (listname) + '_rejected.csv'\n\nwith open('initial.csv') as oldfile, open(listname_accept,'w') as cleaned, open(listname_rejects,'w') as matched:\n    accept_writer=csv.writer(cleaned) # create one csv writer object\n    reject_writer=csv.writer(matched) # create second csv writer object\n    initial_reader=csv.reader(oldfile)\n    for c,row in enumerate(initial_reader): # read through input csv\n        if c==0:                            # first row is the header\n            header=row[:]\n            del header[1]       # delete 'address'\n            header[1:1]=['Street','City','State','Zipcode'] # insert these column names\n            accept_writer.writerow(header)                  # write column names to csv\n            reject_writer.writerow(header)                  # write column names to csv\n        else:                                               # for all other input rows, except the first\n            address_list=[i.strip() for i in row[1].split(',')] # split the address by comma\n            all_address=address_list[:-1]+address_list[-1].split() # split the state and zip by space\n            del row[1]                                             # delete original string address from row\n            row[1:1]=all_address                                   # insert new address\n            if row[0] not in key_words:                            # test if name in key_words\n                accept_writer.writerow(row)\n            else:\n                reject_writer.writerow(row)\n</code></pre>\n\n<p>I've inserted comments to help you understand what's going on. </p>\n"}, {"tags": [], "owner": {"reputation": 413, "user_id": 4396011, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zGtsNwkuKSc/AAAAAAAAAAI/AAAAAAAAABY/tQ-0juQCeIM/photo.jpg?sz=128", "display_name": "Angel F", "link": "https://stackoverflow.com/users/4396011/angel-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1481768614, "last_edit_date": 1481768614, "creation_date": 1481757433, "answer_id": 41153886, "question_id": 41153125, "link": "https://stackoverflow.com/questions/41153125/split-up-csv-column-contents-into-multiple-columns/41153886#41153886", "title": "Split up CSV column contents into multiple columns", "body": "<p>hope that next code helps you:\nI have placed my own csv files name but you can customize them\nThe main idea is that you can create your csv with columns what you want in your file and split the string correctly</p>\n\n<p>Regards</p>\n\n<pre><code>import csv\n\nto_validate = [\"name1\", \"name2\"]\n\n\"\"\"\nfile_to_read.csv has\nName,Address,Phonenumber,ID\nJohn,\"123 Any Street, New York, NY 00010\",999-999-9999,321654\n\"\"\"\n\nfile_to_read = csv.DictReader(open(\"file_to_read.csv\", 'r'), delimiter=',', quotechar='\"')\nheaders_wrote = False\n\n\nfor row in file_to_read:\n    if row[\"Name\"] in to_validate:\n        # do some stufs\n        pass\n    else:\n        to_write = {\n            \"Name\": row[\"Name\"],\n            \"Street\": row[\"Address\"].split(\",\")[0].strip(),\n            \"City\": row[\"Address\"].split(\",\")[1].strip(),\n            \"State\": row[\"Address\"].split(\",\")[2].strip().split(\" \")[0].strip(),\n            \"Zipcode\": row[\"Address\"].split(\",\")[2].strip().split(\" \")[1].strip(),\n            \"Phonenumber\": row[\"Phonenumber\"],\n            \"ID\": row[\"ID\"]\n        }\n        with open(\"example_file.csv\", 'w+') as csvfile:\n            if not headers_wrote:\n                fieldnames = [\"Name\", \"Street\", \"City\", \"State\", \"Zipcode\", \"Phonenumber\", \"ID\"]\n                writer = csv.DictWriter(csvfile, fieldnames = fieldnames, delimiter = \",\")\n                writer.writeheader()\n                writer.writerow(to_write)\n                headers_wrote = True\n            else:\n                writer = csv.DictWriter(csvfile, fieldnames = fieldnames, delimiter = \",\")\n                writer.writerow(to_write)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2321, "user_id": 2377489, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/78lEW.jpg?s=128&g=1", "display_name": "quapka", "link": "https://stackoverflow.com/users/2377489/quapka"}, "is_accepted": false, "score": 0, "last_activity_date": 1481834012, "creation_date": 1481834012, "answer_id": 41172882, "question_id": 41153125, "link": "https://stackoverflow.com/questions/41153125/split-up-csv-column-contents-into-multiple-columns/41172882#41172882", "title": "Split up CSV column contents into multiple columns", "body": "<p>althought the question is already answered I feel like you should broaden your knowledge with <code>pandas</code> module. I've implemented only the part with splitting the Address row. If you want, I can show you also the rest. <code>pandas</code> can be sometimes not straightforward, but once you get used to it, it is the easiest way to go in many of <em>csv handling</em> problems (not to mention other great features: working with databases etc.). The code is visible on my <a href=\"https://github.com/quapka/expecto-anything/tree/master/pandas/41153125\" rel=\"nofollow noreferrer\">github</a> page. Have a look!</p>\n"}], "owner": {"reputation": 89, "user_id": 5754523, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5308f50480a5c2dfb8fea1236c8a081d?s=128&d=identicon&r=PG&f=1", "display_name": "CFraley", "link": "https://stackoverflow.com/users/5754523/cfraley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2923, "favorite_count": 0, "accepted_answer_id": 41153777, "answer_count": 3, "score": 1, "last_activity_date": 1481834012, "creation_date": 1481753574, "last_edit_date": 1481769001, "question_id": 41153125, "link": "https://stackoverflow.com/questions/41153125/split-up-csv-column-contents-into-multiple-columns", "title": "Split up CSV column contents into multiple columns", "body": "<p>I am trying to tie another piece into my existing Python program. I am new to Python and can't seem to figure it out, even with all of the help out there. I will list my existing Python program below, I would just like to add in the other piece to perform another task.</p>\n\n<p>The current program opens \"initial.csv\" and looks in the first column for any key words. If it matches one, it writes the line in \"listname_rejects.csv\" and any that don't match, it writes into \"listname.csv\". It sounds backwards, but for what I'm doing, it's correct. I've used it a thousand times.</p>\n\n<p>Now, what I would like to add into this, is the ability to look at column 2 (Full of addresses) and split them up into separate columns. For example, this - </p>\n\n<pre><code>Name,Address,Phonenumber,ID\nJohn,\"123 Any Street, New York, NY 00010\",999-999-9999,321654\n</code></pre>\n\n<p>Turns into this - </p>\n\n<pre><code>Name,Street,City,State,Zipcode,Phonenumber,ID\nJohn,123 Any Street, New York, NY, 00010,999-999-9999,321654\n</code></pre>\n\n<p>Basically, I need to be able to explode the second column into separate columns. Rather than having the entire address in column 2, I need to split it up between say column 2, 3, 4, &amp; 5.</p>\n\n<p>I have found things close to this on stack overflow, but again, I'm new to Python and can't figure out how to piece them into my current code.</p>\n\n<pre><code>key_words = [ \n'Suzy', \n'Billy', \n'Cody',\n ]\n\nlistname = raw_input (\"Enter List Name:\")\nlistname_accept = (listname) + '.csv'\nlistname_rejects = (listname) + '_rejected.csv'\n\nwith open('initial.csv', 'r') as oldfile, open(listname_accept, 'w') as cleaned:\n    for line in oldfile:\n        if not any(key_word in line.split(\",\", 1)[0] for key_word in key_words):\n            cleaned.write(line)      \n        else:\n            matched.write(line)\n</code></pre>\n"}, {"tags": ["python", "flask", "gpio"], "comments": [{"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1481755107, "post_id": 41153115, "comment_id": 69508825, "body": "Interesting question. I don&#39;t know about flask-ask, but normally you can use a  <a href=\"http://flask.pocoo.org/docs/0.11/patterns/deferredcallbacks/\" rel=\"nofollow noreferrer\"><code>after_request</code> decorator</a> to call a function after the request has been served."}], "owner": {"reputation": 11, "user_id": 7299093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e635aa92d742da9a22655f38316e2c?s=128&d=identicon&r=PG&f=1", "display_name": "NotJoe", "link": "https://stackoverflow.com/users/7299093/notjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481849164, "creation_date": 1481753513, "last_edit_date": 1481849164, "question_id": 41153115, "link": "https://stackoverflow.com/questions/41153115/how-to-delay-the-gpio-when-using-flask-ask-on-pi", "title": "How to delay the GPIO when using Flask-ask on Pi", "body": "<p>I've followed a tutorial on getting Amazon Echo to talk to my Raspberry and it works beautifully. </p>\n\n<p>The part I have added is the GPIO parts in the yes intent so that it flashed an LED when it receives a yes answer from the Echo. Again, it works perfectly. </p>\n\n<p>Now I want to make it so there is a delay on the GPIO so that the Alexa response speaks then the LED flashes. How can I do this? </p>\n\n<p>I've tried creating a variable in the yes intent that gets set to '1' when she answers. Then I tried to return it at the end by adding <code>, variableName</code> then creating an <code>if</code> command outside of the yes intent function, but the variable never seems to come out of the yesintent. I also tried defining the variable as global but still no joy. I just can't think of anything else to Google to do this and I wondered if anyone could help? </p>\n\n<p>The code is as follows:</p>\n\n<pre><code>from flask import Flask\nfrom flask_ask import Ask, statement, question, session\nimport json\nimport requests\nimport time\nimport unidecode\nimport RPi.GPIO as GPIO\nimport time\nGPIO.setmode(GPIO.BOARD)\n\napp = Flask(__name__)\nask = Ask(app, \"/shocker\")\n\n@app.route('/')\ndef homepage():\n    welcome = 'hi there, how the fluff is it?'\n    return statement(welcome)\n\n@ask.launch\ndef start_skill():\n    welcome_message = 'Hello there, would you like me to do something?'\n    return question(welcome_message)\n\n@ask.intent(\"YesIntent\")\ndef yes_intent():\n    GPIO.setwarnings(False)\n    GPIO.setup(7, GPIO.OUT)\n    GPIO.output(7,1)\n    time.sleep(1)\n    GPIO.output(7,0)\n    yes_message = 'the thing has been done'\n    return statement(yes_message)\n\n@ask.intent(\"NoIntent\")\ndef no_intent():\n    no_message = 'well then why are you wasting my time?'\n    return statement(no_message)\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "is_accepted": false, "score": 0, "last_activity_date": 1481754201, "creation_date": 1481754201, "answer_id": 41153276, "question_id": 41153059, "link": "https://stackoverflow.com/questions/41153059/pandas-dataframe-reshaping/41153276#41153276", "title": "Pandas Dataframe Reshaping", "body": "<p>You can grab the series and use <a href=\"https://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.reshape.html\" rel=\"nofollow noreferrer\"><code>np.reshape</code></a> to keep the correct dimensions.\nThe order = 'F' makes it scroll through columns (such as <code>Fortran</code>), order = 'C' scrolls through rows like <code>C</code>\nThen it gets into a dataframe</p>\n\n<pre><code>df = pd.DataFrame(data=np.arange(10))\ndata = df['a'].values.reshape((2, 5), order='F')\ndf = pd.DataFrame(data=data, index=['a', 'b'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14106, "user_id": 1391671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f24419d9b9d95de452c5df62728fae28?s=128&d=identicon&r=PG", "display_name": "Igor Raush", "link": "https://stackoverflow.com/users/1391671/igor-raush"}, "is_accepted": false, "score": 2, "last_activity_date": 1481754233, "creation_date": 1481754233, "answer_id": 41153285, "question_id": 41153059, "link": "https://stackoverflow.com/questions/41153059/pandas-dataframe-reshaping/41153285#41153285", "title": "Pandas Dataframe Reshaping", "body": "<p>Given a data frame like this</p>\n\n<pre><code>df = pd.DataFrame(dict(one=list('ABABAB'), two=range(6)))\n</code></pre>\n\n<p>you can do</p>\n\n<pre><code>df.groupby('one').two.apply(lambda s: s.reset_index(drop=True)).unstack()\n\n#      0  1  2\n# one         \n# A    0  2  4\n# B    1  3  5\n</code></pre>\n\n<p>or <em>(slightly slower, and giving a slightly different result)</em></p>\n\n<pre><code>df.groupby('one').apply(lambda d: d.two.reset_index(drop=True))\n\n# two  0  1  2\n# one         \n# A    0  2  4\n# B    1  3  5\n</code></pre>\n\n<p>The first approach works with a <code>DataFrameGroupBy</code>, the second uses a <code>SeriesGroupBy</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 681, "user_id": 996260, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8a9df3477c611aeaf2801129c038d4f6?s=128&d=identicon&r=PG", "display_name": "Tanmay", "link": "https://stackoverflow.com/users/996260/tanmay"}, "is_accepted": false, "score": -1, "last_activity_date": 1481754353, "creation_date": 1481754353, "answer_id": 41153304, "question_id": 41153059, "link": "https://stackoverflow.com/questions/41153059/pandas-dataframe-reshaping/41153304#41153304", "title": "Pandas Dataframe Reshaping", "body": "<p>how did you generate this data frame. I think it should have been generated using dictionary and then generate dataframe using that dict.\nd = {'A': [1,5,7], 'B':[2,6,8]}\ndf = pandas.DataFrame(data=d, index=['p1','p2','p3'])</p>\n\n<p>and then you can use df.T to transpose your dataframe if you need to.</p>\n"}], "owner": {"reputation": 1, "user_id": 7263677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0217ba8a081fc1951829a0a0504818f9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Jones", "link": "https://stackoverflow.com/users/7263677/kevin-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1481754353, "creation_date": 1481753218, "question_id": 41153059, "link": "https://stackoverflow.com/questions/41153059/pandas-dataframe-reshaping", "title": "Pandas Dataframe Reshaping", "body": "<p>I have a dataframe as show below</p>\n\n<pre><code>&gt;&gt; df\n\nA 1\nB 2\nA 5\nB 6\nA 7\nB 8\n</code></pre>\n\n<p>How do I reformat it to make it </p>\n\n<pre><code>A 1 5 7 \nB 2 6 8\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "postgresql", "sqlalchemy", "pyqt", "psycopg2"], "comments": [{"owner": {"reputation": 470, "user_id": 5131997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SfTfo.jpg?s=128&g=1", "display_name": "Dim&#39;", "link": "https://stackoverflow.com/users/5131997/dim"}, "edited": false, "score": 0, "creation_date": 1481754002, "post_id": 41153058, "comment_id": 69508432, "body": "What you are trying to achieve is not clear. It seems like you need more reading and practicing on SQLAlchemy and PyQt. SQLAlchemy is not a database, it is a SQL toolkit (also known as the core), and an ORM for a Python. It also has one of the best documentation I have seen for Python libraries, so not poor at all. PyQt is a binding for using Qt in Python. Both are different projects, and it is probable that you will have to write the logic by yourself to make the two libraries interact."}, {"owner": {"reputation": 21, "user_id": 7187311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4138245cf5c5773ff65ee7a8faff9349?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan", "link": "https://stackoverflow.com/users/7187311/shayan"}, "reply_to_user": {"reputation": 470, "user_id": 5131997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SfTfo.jpg?s=128&g=1", "display_name": "Dim&#39;", "link": "https://stackoverflow.com/users/5131997/dim"}, "edited": false, "score": 0, "creation_date": 1481822846, "post_id": 41153058, "comment_id": 69540271, "body": "I&#39;m still new to the project and trying to figure out some of the discrepencies on all of the applications we are using. I guess when I said poor documentation, I meant between interfacing with PyQt and Sqlalchemy. But essentially I am trying to connect the PyQt application using postgresql and psycopg2 with the sqlalchemy tooltkit. Im new to all of this and I have not been able to get too many details thus far."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7187311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4138245cf5c5773ff65ee7a8faff9349?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan", "link": "https://stackoverflow.com/users/7187311/shayan"}, "edited": false, "score": 0, "creation_date": 1481822934, "post_id": 41163023, "comment_id": 69540326, "body": "This looks like a great start. I will keep you updated and I may have a follow up question. This is a large project, so we are trying to communicate with the right people on all of the questions we have regarding the GUI application using PyQt. Thank you for the help though."}, {"owner": {"reputation": 465, "user_id": 7271054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482e00e9bc744e3ccb2cd2d8c246c61e?s=128&d=identicon&r=PG&f=1", "display_name": "Oxymoron88", "link": "https://stackoverflow.com/users/7271054/oxymoron88"}, "reply_to_user": {"reputation": 21, "user_id": 7187311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4138245cf5c5773ff65ee7a8faff9349?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan", "link": "https://stackoverflow.com/users/7187311/shayan"}, "edited": false, "score": 0, "creation_date": 1481848504, "post_id": 41163023, "comment_id": 69551756, "body": "Please feel free. I&#39;m new to pyqt as well and I am working on a very similar project so we can help each other :-)"}], "tags": [], "owner": {"reputation": 465, "user_id": 7271054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482e00e9bc744e3ccb2cd2d8c246c61e?s=128&d=identicon&r=PG&f=1", "display_name": "Oxymoron88", "link": "https://stackoverflow.com/users/7271054/oxymoron88"}, "is_accepted": false, "score": 1, "last_activity_date": 1481801207, "creation_date": 1481801207, "answer_id": 41163023, "question_id": 41153058, "link": "https://stackoverflow.com/questions/41153058/connecting-to-sqlalchemy-database-with-pyqt-and-saving-database-contents-into-a/41163023#41163023", "title": "Connecting to Sqlalchemy database with PyQt and saving database contents into a TableView in PyQt", "body": "<p>What you are asking is basically a millisecond refresh of the GUI contents which could be very straining on the server if the size of the data is huge and or if no of people accessing it is a lot. I would instead add a \"refresh\" push button that reloads the data from the database and puts it on to the qtablewidget when its clicked. </p>\n\n<p>For connect through sqlalchemy to postgresql, I use this:</p>\n\n<pre><code>import sqlalchemy\nUser = \"xxxx\"\nPass = \"xxxx\"\nHost = \"192.168.x.x\"\nPort = \"xxxx\"\nDB = \"xxxx\"\nSQLEngine =   sqlalchemy.create_engine('postgresql://'+User+':'+Pass+'@'+Host+':'+Port+'/' + DB,poolclass=sqlalchemy.pool.NullPool)\n</code></pre>\n\n<p>I use pandas to read the data from postgresql:</p>\n\n<pre><code>import pandas as pd\nData = pd.read_sql_query('select * from tablename ', con=SQLEngine)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7187311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4138245cf5c5773ff65ee7a8faff9349?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan", "link": "https://stackoverflow.com/users/7187311/shayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481801207, "creation_date": 1481753213, "question_id": 41153058, "link": "https://stackoverflow.com/questions/41153058/connecting-to-sqlalchemy-database-with-pyqt-and-saving-database-contents-into-a", "title": "Connecting to Sqlalchemy database with PyQt and saving database contents into a TableView in PyQt", "body": "<p>I am currently working on an application that can access an sqlalchemy database using PyQt and displaying its contents into a TableView or some other widget. To keep it simple for now, lets just say that is a phonebook with a name, number, and street address. I would like to have the Tableview periodically update itself so if something is added to the database, it will refresh itself. connection to the database will also be done wirelessly, so I won't know if a change has been made. I have written some code that I modified from a postgrese database. But I have found poor documentation for the sqlalchemy aspect as well as for connecting with a engine driver in PyQt. Any help is appreciated or even a clear example. Thank you in advance.</p>\n\n<pre><code>engine = create_engine('postgresql+psycopg2://postgres::project@192.177.2.6:5432/masterdb') \n</code></pre>\n\n<p>The code above is just for creating the engine to connect to the sqlalchemy database</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 9, "creation_date": 1481759454, "post_id": 41153052, "comment_id": 69510286, "body": "You should read a Django tutorial as you are clearly missing some basics. Change the relevant part to <code>placeholder=&quot;{{ fullname }}&quot;</code> for starters. You don&#39;t even need to use a view for this purpose as you can simply use <code>{{ user.get_full_name }}</code> in any template when you include <code>django.core.context_processors.auth</code> context processor in your <code>settings.py</code>."}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1481765143, "post_id": 41153052, "comment_id": 69511800, "body": "^^ This is the correct answer."}, {"owner": {"reputation": 222, "user_id": 6303199, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh3.googleusercontent.com/-UE2mgh1ocyU/AAAAAAAAAAI/AAAAAAAAACs/53-Aw5lQA0k/photo.jpg?sz=128", "display_name": "Pulkit Sharma", "link": "https://stackoverflow.com/users/6303199/pulkit-sharma"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 1, "creation_date": 1481782851, "post_id": 41153052, "comment_id": 69516600, "body": "@Selcuk write it as answer. This is is correct and perfect solution."}, {"owner": {"reputation": 196, "user_id": 6903224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/51cd7b93869fff4c5cde12d92a1506ff?s=128&d=identicon&r=PG", "display_name": "Hangfish", "link": "https://stackoverflow.com/users/6903224/hangfish"}, "edited": false, "score": 0, "creation_date": 1481787668, "post_id": 41153052, "comment_id": 69518712, "body": "I am aware that I can use {{ user.get_full_name }} but I wanted to know if there was a way to get the same result using a view-based approach. I do thank you all for the responses though."}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 10706310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MbCQT.jpg?s=128&g=1", "display_name": "German Jr", "link": "https://stackoverflow.com/users/10706310/german-jr"}, "is_accepted": false, "score": 0, "last_activity_date": 1600797024, "creation_date": 1600797024, "answer_id": 64015171, "question_id": 41153052, "link": "https://stackoverflow.com/questions/41153052/get-fullname-of-user-from-django-user-model/64015171#64015171", "title": "Get fullname of user from django user model", "body": "<p>You can use <code>{{full_name}}</code> in your Django template. Also, if your user is authenticated you can use <code>{{request.user.get_full_name}}</code> in the template.</p>\n"}], "owner": {"reputation": 196, "user_id": 6903224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/51cd7b93869fff4c5cde12d92a1506ff?s=128&d=identicon&r=PG", "display_name": "Hangfish", "link": "https://stackoverflow.com/users/6903224/hangfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 10579, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1613804490, "creation_date": 1481753193, "question_id": 41153052, "link": "https://stackoverflow.com/questions/41153052/get-fullname-of-user-from-django-user-model", "title": "Get fullname of user from django user model", "body": "<p>I am trying to get the data from django's user model and print the full name of a user from it.</p>\n\n<p><strong>view.py</strong></p>\n\n<pre><code>from django.shortcuts import render\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib.auth.models import User\n\ndef Showfullname (request):\n    fullname =  request.user.get_full_name()\n    context = {'fullname':fullname}\n    return render(request, 'main/base.html', context)\n</code></pre>\n\n<p>the line for it from <strong>urls.py</strong></p>\n\n<pre><code>url(r'^name$', views.Showfullname, name='Showfullname'),\n</code></pre>\n\n<p>and then the div that is the target in my main files, where I already have a is authenticated check in a parent template. </p>\n\n<pre><code>&lt;div class=\"form-group has-feedback\"&gt;\n            &lt;input type=\"text\" class=\"form-control\" placeholder=\"{% url 'main:Showfullname' %}\" readonly /&gt;\n            &lt;i class=\"glyphicons glyphicons-car form-control-feedback\"&gt;&lt;/i&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Right now it prints </p>\n\n<p>/ in the input when it should be printing dan dan or admin admin </p>\n"}, {"tags": ["python", "fortran", "cython", "fortran-iso-c-binding"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1481754122, "post_id": 41153036, "comment_id": 69508484, "body": "Rather than wrapping with Cython, it might be easier to wrap this with <code>f2py</code>.  There is some example usage on the <a href=\"https://docs.scipy.org/doc/numpy-dev/f2py/python-usage.html\" rel=\"nofollow noreferrer\">scipy f2py usage page</a>."}, {"owner": {"reputation": 1167, "user_id": 673590, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d866ad7970b36007be2df454b014e31a?s=128&d=identicon&r=PG", "display_name": "tharen", "link": "https://stackoverflow.com/users/673590/tharen"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1481756256, "post_id": 41153036, "comment_id": 69509270, "body": "I&#39;ve used F2PY for other libraries.  It works well, and yes provides access to common block data. However, in other projects I&#39;m linking to code that uses fortran derived types as well, which F2PY can not handle, but are readily used in Cython. So I&#39;ve been searching for a Cython solution."}], "answers": [{"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1481753915, "post_id": 41153146, "comment_id": 69508399, "body": "This doesn&#39;t really tell the user how to access/modify the values in Cython unless you&#39;re suggesting that OP write getters/setters for every value in the common block..."}, {"owner": {"reputation": 574, "user_id": 5842759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b767a74c826a0496d9c9e0d98fc11c3?s=128&d=identicon&r=PG&f=1", "display_name": "jlokimlin", "link": "https://stackoverflow.com/users/5842759/jlokimlin"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1481754028, "post_id": 41153146, "comment_id": 69508444, "body": "I was under the impression that the OP already has routines to access module variables and procedures(functions/subroutines)."}, {"owner": {"reputation": 1167, "user_id": 673590, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d866ad7970b36007be2df454b014e31a?s=128&d=identicon&r=PG", "display_name": "tharen", "link": "https://stackoverflow.com/users/673590/tharen"}, "edited": false, "score": 0, "creation_date": 1481756619, "post_id": 41153146, "comment_id": 69509404, "body": "Thanks @jlokimlin, this is precisely what I have done. I didn&#39;t mention it since it didn&#39;t seem relevant. What I need is a mechanism for accessing the common block variables using Cython. I think there is something about accessing external data from Cython that I don&#39;t understand."}], "tags": [], "owner": {"reputation": 574, "user_id": 5842759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b767a74c826a0496d9c9e0d98fc11c3?s=128&d=identicon&r=PG&f=1", "display_name": "jlokimlin", "link": "https://stackoverflow.com/users/5842759/jlokimlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481753663, "creation_date": 1481753663, "answer_id": 41153146, "question_id": 41153036, "link": "https://stackoverflow.com/questions/41153036/access-fortran-common-variables-from-cython/41153146#41153146", "title": "Access Fortran Common Variables from Cython", "body": "<p>Since you're already familiar with modular programming, I suggest you put the <code>common</code> block in a module and import the variables when access is required:</p>\n\n<pre><code>module common_block_mod\n    common /myCommonBlock/ var, var2, var3\n    save ! This is not necessary in Fortran 2008+\nend module common_block_mod\n</code></pre>\n\n<p>You can now import the variables when access is required. </p>\n\n<pre><code>subroutine foo()\n    use common_block_mod\n    !.. do stuff\nend subroutine foo\n</code></pre>\n\n<p>You can read more about this approach at <a href=\"http://iprc.soest.hawaii.edu/users/furue/improve-fortran.html\" rel=\"nofollow noreferrer\">http://iprc.soest.hawaii.edu/users/furue/improve-fortran.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 1167, "user_id": 673590, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d866ad7970b36007be2df454b014e31a?s=128&d=identicon&r=PG", "display_name": "tharen", "link": "https://stackoverflow.com/users/673590/tharen"}, "edited": false, "score": 0, "creation_date": 1482171900, "post_id": 41192647, "comment_id": 69656601, "body": "Excellent answer!  I didn&#39;t implement your answer directly, but using your example I was able to setup my external references in Cython correctly.  Where I was stuck was in how to reference the common block &quot;struct&quot;. This was the missing piece, <code>Mycom mycom_</code>."}], "tags": [], "owner": {"reputation": 6827, "user_id": 3501546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zzZH7.jpg?s=128&g=1", "display_name": "roygvib", "link": "https://stackoverflow.com/users/3501546/roygvib"}, "is_accepted": true, "score": 1, "last_activity_date": 1481960274, "last_edit_date": 1481960274, "creation_date": 1481923630, "answer_id": 41192647, "question_id": 41153036, "link": "https://stackoverflow.com/questions/41153036/access-fortran-common-variables-from-cython/41192647#41192647", "title": "Access Fortran Common Variables from Cython", "body": "<p>A) After trial &amp; error, it seems that the following code works with python3.5/gfortran4.8/cython0.25 on Linux x86_64, so could you try it to see whether it works or not...?</p>\n\n<p>fort.f90:</p>\n\n<pre><code>module mymod\n    use iso_c_binding\n    implicit none\ncontains\n\nsubroutine fortsub() bind(c)\n    double precision x( 2 )\n    real             y( 3 )\n    real             z( 4 )\n    integer          n( 5 )\n    common /mycom/ x, y, z, n\n\n    data z / 100.0, 200.0, 300.0, 400.0 /  !! initialize only z(:) (for check)\n\n    print *, \"(fort) x(:) = \", x(:)\n    print *, \"(fort) y(:) = \", y(:)\n    print *, \"(fort) z(:) = \", z(:)\n    print *, \"(fort) n(:) = \", n(:)\nend subroutine\n\nend module\n</code></pre>\n\n<p>fort.h:</p>\n\n<pre><code>extern void fortsub( void );   /* or fortsub_() if bind(c) is not used */\n\nextern struct Mycom {\n    double x[ 2 ];\n    float  y[ 3 ];\n    float  z[ 4 ];\n    int    n[ 5 ];\n} mycom_;\n</code></pre>\n\n<p>test.pyx:</p>\n\n<pre><code>cdef extern from \"fort.h\":\n    void fortsub()\n\n    struct Mycom:\n        double x[ 2 ]\n        float  y[ 3 ]\n        int    n[ 5 ]\n\n    Mycom mycom_;\n\ndef go():\n\n    mycom_.x[:] = [ 1.0, 2.0 ]\n    mycom_.y[:] = [ 11.0, 12.0, 13.0 ]\n    mycom_.n[:] = [ 1, 2, 3, 4, 5 ]\n\n    fortsub()\n</code></pre>\n\n<p>setup.py:</p>\n\n<pre><code>from distutils.core import setup\nfrom distutils.extension import Extension\nfrom Cython.Distutils import build_ext\nfrom os import system\n\nsystem( 'gfortran -c fort.f90 -o fort.o -fPIC' )\n\next_modules = [Extension( 'test', ['test.pyx'],\n                          extra_compile_args = ['-fPIC'],\n                          extra_link_args = ['fort.o', '-lgfortran'] )]\n\nsetup( name = 'test',\n       cmdclass = {'build_ext': build_ext},\n       ext_modules = ext_modules )\n</code></pre>\n\n<p>compile:</p>\n\n<pre><code>$ python setup.py build_ext --inplace\n</code></pre>\n\n<p>test:</p>\n\n<pre><code>$ python\n&gt;&gt;&gt; import test\n&gt;&gt;&gt; test.go()\n (fort) x(:) =    1.0000000000000000        2.0000000000000000     \n (fort) y(:) =    11.0000000       12.0000000       13.0000000    \n (fort) z(:) =    100.000000       200.000000       300.000000       400.000000    \n (fort) n(:) =            1           2           3           4           5\n</code></pre>\n\n<p>Here, please note that I did not include <code>z</code> in <code>test.pyx</code> to check whether we can declare only selected variables in the common block. Also, some compiler options may be necessary to make the alignment of common variables consistent between C and Fortran (<a href=\"http://www.yolinux.com/TUTORIALS/LinuxTutorialMixingFortranAndC.html\" rel=\"nofollow noreferrer\">this YoLinux page</a> may be useful).</p>\n\n<hr>\n\n<p>B) I guess it would depend on the amount of computation peformed by the Fortran routine... If the routine is heavy (takes at least a few minutes), copy operations in getter/setter may be no problem. On the other hand, if the routine finishes quickly while called a huge number of times, then the overhead may be non-negligible...</p>\n\n<p>For efficiency, it might be useful to pass pointer variables from Cython to Fortran, get the address of selected <code>common</code> variables somehow by <code>c_loc()</code>, and access them via pointers on the Cython side directly (though not still sure if it works...) But if there is no problem of memory alignment (for the compiler used), it may be more straight-forward to use structs as above.</p>\n"}], "owner": {"reputation": 1167, "user_id": 673590, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d866ad7970b36007be2df454b014e31a?s=128&d=identicon&r=PG", "display_name": "tharen", "link": "https://stackoverflow.com/users/673590/tharen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 1, "accepted_answer_id": 41192647, "answer_count": 2, "score": 1, "last_activity_date": 1481960274, "creation_date": 1481753097, "last_edit_date": 1495541326, "question_id": 41153036, "link": "https://stackoverflow.com/questions/41153036/access-fortran-common-variables-from-cython", "title": "Access Fortran Common Variables from Cython", "body": "<p>My question is virtually identical to <a href=\"https://stackoverflow.com/a/39540375/673590\">this one</a>.  However, I'm looking for a solution that uses Cython instead of ctypes.</p>\n\n<p>I'm wrapping some legacy F77 code for using in Python. I've written wrappers for the subroutines, using a module and the iso_c_bindings, that I can then use from Cython. This works well for calling the subroutines, passing data as arguments, etc. However, I'd now like to access the common block data in the library directly from Cython.</p>\n\n<p>So my question is two parts:</p>\n\n<p>A) Can I access the common block data using Cython directly as in the ctypes example above? I so how? I gather I'm supposed to reference the common block as a struct using <code>cdef extern</code>, but I'm not sure how to point to the library data.</p>\n\n<p>B) Would I be better off, and not sacrifice performance, by simply writing setter/getter functions in my wrapper module?  This was suggested in the responses to the ctypes question referenced above.</p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1481753254, "post_id": 41153014, "comment_id": 69508149, "body": "You should read about the <a href=\"https://www.python.org/dev/peps/pep-0343/\" rel=\"nofollow noreferrer\"><code>with</code> statement</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1481753660, "post_id": 41153067, "comment_id": 69508304, "body": "<code>map(int, row[-2:])</code> is returning a tuple?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1481753752, "post_id": 41153067, "comment_id": 69508335, "body": "@pylang: no, but iterable assignment doesn&#39;t require a tuple, it requires an iterable."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1481753996, "post_id": 41153067, "comment_id": 69508428, "body": "I see, your slice unpacks into two variables.  Thanks."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 4, "last_activity_date": 1481753573, "last_edit_date": 1481753573, "creation_date": 1481753257, "answer_id": 41153067, "question_id": 41153014, "link": "https://stackoverflow.com/questions/41153014/how-do-you-make-a-dictionary-out-of-2-elements-in-each-list/41153067#41153067", "title": "How do you make a dictionary out of 2 elements in each list?", "body": "<p>Use a <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>collections.Counter()</code> object</a> to track the counts per day-of-the-week. You also want to use the <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\"><code>csv</code> module</a> to handle the file parsing:</p>\n\n<pre><code>import csv\nfrom collections import Counter\n\nper_dow = Counter()\n\nwith open('births.csv', 'r') as f:\n    reader = csv.reader(f)\n    header = next(reader)\n    for row in reader:\n        dow, births = map(int, row[-2:])\n        per_dow[dow] += births\n</code></pre>\n\n<p>I've used a <code>with</code> statement to manage the file object; Python auto-closes the file for you when the <code>with</code> block ends.</p>\n\n<p>Now that you have a <code>Counter</code> object (which is a dictionary with some extra powers), you can now find the day of the week with the most births; the following loop prints out days of the week in order from most to least:</p>\n\n<pre><code>for day, births in per_dow.most_common():\n    print(day, births)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 6365502, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10208273288442848/picture?type=large", "display_name": "David Agabi", "link": "https://stackoverflow.com/users/6365502/david-agabi"}, "edited": false, "score": 0, "creation_date": 1481845833, "post_id": 41153167, "comment_id": 69550996, "body": "This one helped a lot..Thanks Tobey :)"}], "tags": [], "owner": {"reputation": 1270, "user_id": 1123012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v9wDo.gif?s=128&g=1", "display_name": "Tobey", "link": "https://stackoverflow.com/users/1123012/tobey"}, "is_accepted": false, "score": 1, "last_activity_date": 1481754068, "last_edit_date": 1481754068, "creation_date": 1481753765, "answer_id": 41153167, "question_id": 41153014, "link": "https://stackoverflow.com/questions/41153014/how-do-you-make-a-dictionary-out-of-2-elements-in-each-list/41153167#41153167", "title": "How do you make a dictionary out of 2 elements in each list?", "body": "<p>Without using external libraries or if statements, you can use exception handling</p>\n\n<pre><code>birth_dict = {}\nbirth_list = [[2000,12,3,2,12000],[2000,12,4,3,34000]]\nfor birth in birth_list:\n    try:\n        birth_dict[birth[3]]+=birth[4]\n    except KeyError:\n        birth_dict[birth[3]]=birth[4]\nprint birth_dict\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 6365502, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10208273288442848/picture?type=large", "display_name": "David Agabi", "link": "https://stackoverflow.com/users/6365502/david-agabi"}, "is_accepted": true, "score": 0, "last_activity_date": 1481849401, "last_edit_date": 1481849401, "creation_date": 1481845784, "answer_id": 41175209, "question_id": 41153014, "link": "https://stackoverflow.com/questions/41153014/how-do-you-make-a-dictionary-out-of-2-elements-in-each-list/41175209#41175209", "title": "How do you make a dictionary out of 2 elements in each list?", "body": "<p>Ok, after playing around with the code and using print statements where I need them for tests, I finally did it without using any external libraries.  A very special thanks to Tobey and the others.</p>\n\n<p>Here's the code with tests:</p>\n\n<pre><code>f = open('births.csv', 'r')\ntext = f.read()\ntext = text.split(\"\\n\")\nheader = text[0]\ndata = text[1:-1]\ndays_counts = {}\nfor d in data:\n    r = d.split(\",\")\n    print(r) #&lt;--- used to test\n    k = r[3]\n    print(k)#&lt;--- used to test\n    v = int(r[4])\n    print(v)#&lt;--- used to test\n    if k in days_counts:\n        days_counts[k] += v\n        print(\"If : \" , days_counts)#&lt;--- used to test\n    else:\n        days_counts[k] = v\n        print(\"Else : \", days_counts)#&lt;--- used to test\n\n\nprint(days_counts)      \n</code></pre>\n\n<p>Code without tests:</p>\n\n<pre><code>f = open('births.csv', 'r')\ntext = f.read()\ntext = text.split(\"\\n\")\nheader = text[0]\ndata = text[1:-1]\ndays_counts = {}\nfor d in data:\n    r = d.split(\",\")\n    k = r[3]\n    v = int(r[4])\n    if k in days_counts:\n        days_counts[k] += v \n    else:\n        days_counts[k] = v\n\nprint(days_counts)      \n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6365502, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10208273288442848/picture?type=large", "display_name": "David Agabi", "link": "https://stackoverflow.com/users/6365502/david-agabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 41175209, "answer_count": 3, "score": 1, "last_activity_date": 1481849401, "creation_date": 1481752982, "last_edit_date": 1481753626, "question_id": 41153014, "link": "https://stackoverflow.com/questions/41153014/how-do-you-make-a-dictionary-out-of-2-elements-in-each-list", "title": "How do you make a dictionary out of 2 elements in each list?", "body": "<p>I have a list of lists that I want to make into a dictionary.  Basically it's a list of births based on date (year/month/day/day of week/births).  I want to tally the total births for each day to see in total how many births on each day of the week.</p>\n\n<p>List example:</p>\n\n<pre><code>[2000,12,3,2,12000],[2000,12,4,3,34000]...  \n\n\ndays_counts = {1: 23000, 2: 43000, ..., 7: 11943} \n</code></pre>\n\n<p>Here's the code so far:</p>\n\n<pre><code>f = open('births.csv', 'r')\ntext = f.read()\ntext = text.split(\"\\n\")\nheader = text[0]\ndata = text[1:]\nfor d in data:\n    split_data = d.split(\",\")\n    print(split_data)\n</code></pre>\n\n<p>So basically I want to iterate over each day and add the birth from duplicate days into the same key (obviusly).</p>\n\n<p>EDIT:  I have to do this with an if statement that looks for the day of week as a key in the dict.  if its found, assign the corresponding births as value.  If its not in dict then add key and value.  I can't import anything or use lambda functions.</p>\n"}, {"tags": ["python", "sql", "sqlalchemy", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1481753586, "post_id": 41152973, "comment_id": 69508281, "body": "Have you tried <code>sum(league.teams)</code>? Should be faster* since <code>sum</code> is implemented in C. *YMMV"}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "reply_to_user": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1481753658, "post_id": 41152973, "comment_id": 69508302, "body": "But I need each <code>team</code>&#39;s <code>goals_for</code> column, not the number of teams."}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 1, "creation_date": 1481753854, "post_id": 41152973, "comment_id": 69508382, "body": "Sorry, misread what was going on. <code>sum(team.goals_for for team in league.teams)</code> would be the rough equivalent, but as a generator expression and using <code>sum</code>."}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "reply_to_user": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1481753918, "post_id": 41152973, "comment_id": 69508400, "body": "Isn&#39;t that what&#39;s called a comprehension, and is just a faster for loop? (speaking very noob-like?)"}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 1, "creation_date": 1481754229, "post_id": 41152973, "comment_id": 69508526, "body": "Comprehensions are not the same as generator expressions. See <a href=\"http://stackoverflow.com/questions/47789/generator-expressions-vs-list-comprehension\">this question</a> for some more detail on that. They are usually faster, because they do not keep all the items in memory. So if you only use the values once, a generator expression is probably optimal. Might be good to give <a href=\"https://www.python.org/dev/peps/pep-0289/\" rel=\"nofollow noreferrer\">PEP0289</a> a read."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "edited": false, "score": 0, "creation_date": 1481756272, "post_id": 41152973, "comment_id": 69509277, "body": "In your example the <code>order_by(...)</code> is redundant as it has no impact on final result."}], "answers": [{"comments": [{"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1482102739, "post_id": 41153747, "comment_id": 69626449, "body": "I upvoted and selected this because I see your name frequently in SQLAlchemy threads, but I have to admit I don&#39;t quite get how are we avoiding the whole relationship tree here. I understand that there&#39;s no join, but then how are getting the Team? Where does the &quot;good economics&quot; of such query come from?"}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1482143601, "post_id": 41153747, "comment_id": 69639749, "body": "Good economics come from the fact that this is just one single <code>SQL</code> query to the database."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1482143631, "post_id": 41153747, "comment_id": 69639768, "body": "And actually, the join is required here, so this is clearly an omission from my end. I will amend."}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1482143785, "post_id": 41153747, "comment_id": 69639861, "body": "Thank you. I still don&#39;t understand <b>where</b> is the additional query in my original post. (also: no way to get in touch with you via your profile, I&#39;d love to hire you for a project)"}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1482144258, "post_id": 41153747, "comment_id": 69640135, "body": "Depending on how the relationship <code>League.teams</code> is configured (is it using <code>joinedload</code>, for example), your first query will <i>not</i> load the <code>Team</code> object. Only when you access it via <code>league.teams</code> (line 3 of your code), another <code>SQL</code> query will be issued. You can check that by logging your <code>SQL</code> statements (<code>engine.echo = True</code>). But even if your relationships are loaded automatically, I would argues that the calculation of one total per league is much faster on the database then it is in the python code. Plus the data transfer between DB and code is smaller."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1482144345, "post_id": 41153747, "comment_id": 69640204, "body": "<i>Thank you, but I really have no time for any projects. Happy to help you with directions though</i>."}, {"owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1482144424, "post_id": 41153747, "comment_id": 69640265, "body": "I would love a few consultation sessions is what I meant. I intend to build it on my own but directions are what I need."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "edited": false, "score": 0, "creation_date": 1482152643, "post_id": 41153747, "comment_id": 69644939, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/130954/discussion-between-van-and-zerohedge\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "is_accepted": true, "score": 2, "last_activity_date": 1482143718, "last_edit_date": 1482143718, "creation_date": 1481756587, "answer_id": 41153747, "question_id": 41152973, "link": "https://stackoverflow.com/questions/41152973/sqlalchemy-sum-all-child-column-attributes-while-querying-parent/41153747#41153747", "title": "SQLAlchemy: Sum all Child column attributes while querying Parent?", "body": "<p>Why not try to get aggregate result directly from the <code>SQL</code> query, and avoid retrieving extra data from the database and loading whole relationship tree.</p>\n\n<p>Following should given you an idea:</p>\n\n<pre><code>from sqlalchemy import func\n\nq = (\n    session\n    .query(League.full_name, func.sum(Team.goals_for).label(\"total_goals\"))\n    .join(Team, League.teams)\n    .group_by(League.full_name)\n)\n\nfor full_name, total_goals in q:\n    print(\"Total goals scored in\", full_name, \"is\", total_goals)\n</code></pre>\n"}], "owner": {"reputation": 1968, "user_id": 5013234, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/bKtAy.jpg?s=128&g=1", "display_name": "zerohedge", "link": "https://stackoverflow.com/users/5013234/zerohedge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1123, "favorite_count": 1, "accepted_answer_id": 41153747, "answer_count": 1, "score": 0, "last_activity_date": 1482143718, "creation_date": 1481752808, "question_id": 41152973, "link": "https://stackoverflow.com/questions/41152973/sqlalchemy-sum-all-child-column-attributes-while-querying-parent", "title": "SQLAlchemy: Sum all Child column attributes while querying Parent?", "body": "<p>I have a many-to-one relationship between <code>Team</code> and <code>League</code></p>\n\n<p>The following code joins the tables, and orders the leagues by <code>goals_for</code> for each <code>team</code> in that <code>league</code>:</p>\n\n<pre><code>for league in League.query.join(League.teams).order_by(desc(Team.goals_for)):\n    total_goals = 0\n    for team in league.teams:\n        total_goals += team.goals_for\n\n    print(\"Total goals scored in\", league.full_name, \"is\", total_goals)\n</code></pre>\n\n<p>Correctly produces:</p>\n\n<blockquote>\n  <p>Total goals scored in Germany Bundesliga is 22</p>\n  \n  <p>Total goals scored in English Premier League is 15</p>\n</blockquote>\n\n<p>I'm wondering about two things:</p>\n\n<ol>\n<li><p>Given that <code>teams</code> is basically a list, and therefore has no <code>total_goals</code> as that belongs to each <code>team</code> instance, is there a way to sum the value of <code>team</code> goals without the for loop?</p></li>\n<li><p>If 1 is possible, is it faster/better than the for loop above?</p></li>\n</ol>\n"}, {"tags": ["python", "urllib"], "answers": [{"tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": false, "score": 0, "last_activity_date": 1481752587, "creation_date": 1481752587, "answer_id": 41152921, "question_id": 41152897, "link": "https://stackoverflow.com/questions/41152897/how-to-use-python-urllib-to-search-in-search-box/41152921#41152921", "title": "How to use python urllib to search in search box?", "body": "<p>You need to include the <code>/sitesearch</code> endpoint in your url. If I search for \"uconn\", the URL that the site hits is: </p>\n\n<pre><code>https://bigfuture.collegeboard.org/sitesearch?q=uconn&amp;searchType=bf_site&amp;tp=bf_site\n</code></pre>\n\n<p>So all you need to do is change your url to:</p>\n\n<pre><code>url = \"https://bigfuture.collegeboard.org/sitesearch\"\n</code></pre>\n\n<p>Also make sure you're closing your file object or using the context manager <code>with</code>!!</p>\n"}, {"tags": [], "owner": {"reputation": 1270, "user_id": 1123012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v9wDo.gif?s=128&g=1", "display_name": "Tobey", "link": "https://stackoverflow.com/users/1123012/tobey"}, "is_accepted": false, "score": 0, "last_activity_date": 1481753080, "creation_date": 1481753080, "answer_id": 41153033, "question_id": 41152897, "link": "https://stackoverflow.com/questions/41152897/how-to-use-python-urllib-to-search-in-search-box/41153033#41153033", "title": "How to use python urllib to search in search box?", "body": "<p>Just use the query parameter in the semantic url</p>\n\n<p>E.G.</p>\n\n<pre><code>searches = ['test','new search']\n\nfor search in searches:\n    search = search.replace(' ','+')\n    url = 'https://bigfuture.collegeboard.org/sitesearch?q=%s&amp;searchType=bf_site&amp;tp=bf_site' % (search)\n    print url\n    requests.get(url)\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 6780617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aab30cde063464b1c609d4cdb618a85?s=128&d=identicon&r=PG&f=1", "display_name": "babyDev", "link": "https://stackoverflow.com/users/6780617/babydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1334, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481753080, "creation_date": 1481752483, "question_id": 41152897, "link": "https://stackoverflow.com/questions/41152897/how-to-use-python-urllib-to-search-in-search-box", "title": "How to use python urllib to search in search box?", "body": "<p>I'm looking to use urllib to search in the search box of <a href=\"https://bigfuture.collegeboard.org\" rel=\"nofollow noreferrer\">https://bigfuture.collegeboard.org</a> </p>\n\n<p>Here's what I have but it's just giving me the homepage html:</p>\n\n<pre><code>import requests\nfrom urllib import urlopen\nfrom urllib import urlencode\nfrom bs4 import BeautifulSoup\n\nurl = \"https://bigfuture.collegeboard.org\"\ndata = urlencode({'q': 'financial analyst'})\nresults = requests.post(url, data)\nsoup = BeautifulSoup(results.content, 'html.parser').encode(\"ascii\", \"ignore\")\n\noutput = open('text.txt','w')\noutput.write(soup)\n</code></pre>\n\n<p>How do I use and submit to the search box?</p>\n"}, {"tags": ["python", "python-3.x", "pytest"], "comments": [{"owner": {"reputation": 6258, "user_id": 1527018, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/62e4e73fe7386a5e9401f90dc98c7584?s=128&d=identicon&r=PG", "display_name": "mic4ael", "link": "https://stackoverflow.com/users/1527018/mic4ael"}, "edited": false, "score": 0, "creation_date": 1481752562, "post_id": 41152864, "comment_id": 69507878, "body": "set environment variable from within python?"}, {"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 0, "creation_date": 1481753010, "post_id": 41152864, "comment_id": 69508068, "body": "Have you tried <code>os.environ[&#39;PYTHONPATH&#39;] = ...</code>?"}], "owner": {"reputation": 11, "user_id": 6632389, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SJLLKUd357s/AAAAAAAAAAI/AAAAAAAAADE/RP6zv3T_QOo/photo.jpg?sz=128", "display_name": "David Schneider", "link": "https://stackoverflow.com/users/6632389/david-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481752510, "creation_date": 1481752366, "last_edit_date": 1481752510, "question_id": 41152864, "link": "https://stackoverflow.com/questions/41152864/set-environment-variables-for-a-embedded-python-distribution", "title": "Set environment variables for a embedded python distribution", "body": "<p>I'm using the \"Embedded Distribution\" for Windows new in Python 3.5.</p>\n\n<p>The <a href=\"https://docs.python.org/3.5/using/windows.html#embedded-distribution\" rel=\"nofollow noreferrer\">documentation</a> states, that it's:</p>\n\n<blockquote>\n  <p>... fully isolated from the user\u2019s system, including environment variables, ...</p>\n</blockquote>\n\n<p>Is there any way to set an environment variable, particular PYTHONPATH?</p>\n\n<p>I'm running unittests with py.test and I'd like to use PYTHONPATH the make the module under test loadable from within the test directory.</p>\n"}, {"tags": ["python", "svn", "pywin32", "enterprise-architect"], "comments": [{"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1481753330, "post_id": 41152844, "comment_id": 69508188, "body": "When I read &quot;server&quot; I immediately think about EA running as service which does not work. You need a logged on user."}, {"owner": {"reputation": 231, "user_id": 7212074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQ1B1.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/7212074/matt"}, "reply_to_user": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1481756916, "post_id": 41152844, "comment_id": 69509528, "body": "Thomas, I am logged into Windows Server 2012 and running the enterprise architect program, with EA.exe showing up as a process. I&#39;m running it exactly the same as I would on my Win7 machine. The post-commit.exe even works when I open it, but it does not work when SVN runs it. I tried looking at what is in the path env variable (which SVN may be deleting when it runs the hook), but those paths also did not work when hardcoded into GetActiveObject()."}, {"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1481794695, "post_id": 41152844, "comment_id": 69522533, "body": "I&#39;m no Windoze expert. But if you say SVN is running it, you likely start some kind of process which will (also likely) run as some system user and not the EA user which has the rights to run EA."}, {"owner": {"reputation": 231, "user_id": 7212074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQ1B1.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/7212074/matt"}, "reply_to_user": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1481828138, "post_id": 41152844, "comment_id": 69543012, "body": "So EA is already running and I&#39;m just trying to get a handle to that. I ran across some info about find the process in the Running Object Table, but have been unable to figure anything out there. I don&#39;t know what SVN is doing differently that prevents it from finding this running process."}, {"owner": {"reputation": 30989, "user_id": 3379653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f97JZ.png?s=128&g=1", "display_name": "qwerty_so", "link": "https://stackoverflow.com/users/3379653/qwerty-so"}, "edited": false, "score": 0, "creation_date": 1481830727, "post_id": 41152844, "comment_id": 69544399, "body": "Maybe you reduce it to the basic permission problem and find a answer/question for that first. The EA/python audience is not that large, but the basic pythonist group will be."}, {"owner": {"reputation": 10618, "user_id": 2018133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3fd4734236360fc59fa597dc8f9ffa7?s=128&d=identicon&r=PG", "display_name": "Geert Bellekens", "link": "https://stackoverflow.com/users/2018133/geert-bellekens"}, "edited": false, "score": 0, "creation_date": 1482382675, "post_id": 41152844, "comment_id": 69753522, "body": "The problem is likely that, as Thomas described EA has been started by a different user then the (system) user executing the svn post-commit. In that case the system user probably doesn&#39;t have access to the ea.exe process started by another user."}, {"owner": {"reputation": 231, "user_id": 7212074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQ1B1.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/7212074/matt"}, "edited": false, "score": 0, "creation_date": 1483470759, "post_id": 41152844, "comment_id": 70107872, "body": "This is an interesting problem, it only happens on Windows Server 2012, but not on Windows 7. I tried giving full access rights to the System and that didn&#39;t help either. Thanks for the help trying to figure it out, but I&#39;m stuck"}], "owner": {"reputation": 231, "user_id": 7212074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQ1B1.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/7212074/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481752280, "creation_date": 1481752280, "question_id": 41152844, "link": "https://stackoverflow.com/questions/41152844/win32com-client-getactiveobject-does-not-find-app-when-run-as-an-svn-post-commit", "title": "win32com.client.GetActiveObject does not find App when run as an SVN post-commit hook", "body": "<p>I created a python script (packaged as post-commit.exe) to run as an SVN post commit hook. Yes, the hook runs, but this is the line I am having problems with:</p>\n\n<pre><code>App = win32com.client.GetActiveObject(\"EA.App\")\n</code></pre>\n\n<p>This issue does not happen on Windows 7, but is now happening on Windows Server 2012 R2 with the same installs:</p>\n\n<p>TortoiseSVN-1.9.0.26652-x64-svn-1.9.0.msi</p>\n\n<p>pywin32-220.win-amd64-py3.3.exe</p>\n\n<p>python-3.3.0.amd64.msi</p>\n\n<p>I used pip to explicitly install pypiwin32, but I can't tell if it actually worked or not (or if it matters). It says it's installed, but at the end of the install it gives me the following even tho I ran as admin:</p>\n\n<pre><code>PermissionError: [Errno 13] Permission denied: 'c:\\\\python33\\\\Lib\\\\site-packages\\\\pythoncom.py'\n</code></pre>\n\n<p>When I open this .exe it runs fine and works as expected, but when it is kicked off by the actual SVN commit, SVNTortoise gives me the error message below. I had problems with SVN deleting PATH for other lines of code, so I have also tried the full path to where EA.exe lives. I ran wmic get ProcessID and also tried what that gave me... but these do not work either:</p>\n\n<pre><code>App = win32com.client.GetActiveObject(r\"C:\\Program Files (x86)\\Sparx Systems\\EA\\EA.App\")\nApp = win32com.client.GetActiveObject(r\"C:\\PROGRA~2\\SPARXS~1\\EA\\EA.App\")\n</code></pre>\n\n<p>Any help would be greatly appreciated. I have spent a lot of time googling and searching stackoverflow for answers, but can't find anything for this specific problem. Thanks!!</p>\n\n<p>SVN Error output:</p>\n\n<pre><code>post-commit hook failed (exit code -1) with output:\nTraceback (most recent call last):\n  File \"ATC_Generator.py\", line 58, in &lt;module&gt;\n  File \"site-packages\\win32com\\client\\__init__.py\", line 78, in GetActiveObject\npywintypes.com_error: (-2147221005, 'Invalid class string', None, None)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"site-packages\\win32com\\client\\dynamic.py\", line 89, in _GetGoodDispatch\npywintypes.com_error: (-2147221005, 'Invalid class string', None, None)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"ATC_Generator.py\", line 61, in &lt;module&gt;\n  File \"site-packages\\win32com\\client\\__init__.py\", line 95, in Dispatch\n  File \"site-packages\\win32com\\client\\dynamic.py\", line 114, in _GetGoodDispatchAndUserName\n  File \"site-packages\\win32com\\client\\dynamic.py\", line 91, in _GetGoodDispatch\npywintypes.com_error: (-2147221005, 'Invalid class string', None, None)\nFailed to execute script ATC_Generator\n</code></pre>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 19199, "user_id": 1424877, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8a14e5bb44bbb4c2721ac711bd8a7bcf?s=128&d=identicon&r=PG", "display_name": "Quuxplusone", "link": "https://stackoverflow.com/users/1424877/quuxplusone"}, "edited": false, "score": 0, "creation_date": 1481752295, "post_id": 41152799, "comment_id": 69507759, "body": "Found some workarounds over here: <a href=\"http://stackoverflow.com/questions/19228516/python-argparse-with-nargs-behaviour-incorrect\" title=\"python argparse with nargs behaviour incorrect\">stackoverflow.com/questions/19228516/&hellip;</a> but nothing I&#39;d actually use in production code."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1481758858, "post_id": 41152799, "comment_id": 69510118, "body": "What&#39;s your criteria for using a workaround in production code?"}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 19, "last_activity_date": 1581993396, "last_edit_date": 1581993396, "creation_date": 1481753361, "answer_id": 41153081, "question_id": 41152799, "link": "https://stackoverflow.com/questions/41152799/argparse-flatten-the-result-of-action-append/41153081#41153081", "title": "argparse: flatten the result of action=&#39;append&#39;", "body": "<p><strong>Edit:</strong> <a href=\"https://docs.python.org/3.8/library/argparse.html#action\" rel=\"noreferrer\"><em>Since Python 3.8, the \"extend\" is available directly in stdlib</a>. If you only have to support 3.8+ then defining it yourself is no longer required. Usage of stdlib \"extend\" action is exactly the same way as this answer originally described:</em></p>\n\n<pre><code>&gt;&gt;&gt; import argparse\n&gt;&gt;&gt; parser = argparse.ArgumentParser()\n&gt;&gt;&gt; _ = parser.add_argument('--env', nargs='+', action='extend')\n&gt;&gt;&gt; parser.parse_args([\"--env\", \"ONE\", \"TWO\", \"--env\", \"THREE\"])\nNamespace(env=['ONE', 'TWO', 'THREE'])\n</code></pre>\n\n<hr>\n\n<p>Unfortunately, there isn't an <code>extend</code> action provided in <code>ArgumentParser</code> by default.  But it's not too hard to register one:</p>\n\n<pre><code>import argparse\n\nclass ExtendAction(argparse.Action):\n\n    def __call__(self, parser, namespace, values, option_string=None):\n        items = getattr(namespace, self.dest) or []\n        items.extend(values)\n        setattr(namespace, self.dest, items)\n\n\nparser = argparse.ArgumentParser()\nparser.register('action', 'extend', ExtendAction)\nparser.add_argument('--env', nargs='+', action='extend')\n\nargs = parser.parse_args()\nprint(args)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>$ python /tmp/args.py --env one two --env three\nNamespace(env=['one', 'two', 'three'])\n</code></pre>\n\n<p>The <code>lambda</code> you have in your example is somewhat outside the intended use-case of the <code>type</code> kwarg.  So, I would recommend instead to split on whitespace, because it will be a pain to correctly handle the case where <code>,</code> is actually in the data.  If you split on space, you get this functionality for free:</p>\n\n<pre><code>$ python /tmp/args.py --env one \"hello world\" two --env three\nNamespace(env=['one', 'hello world', 'two', 'three'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1581972941, "post_id": 41153944, "comment_id": 106608797, "body": "Merged in 3.8. Just needed the <a href=\"https://bugs.python.org/issue23378#msg342952\" rel=\"nofollow noreferrer\">hat tip from Guido</a>, it seems."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1481758487, "last_edit_date": 1481758487, "creation_date": 1481757766, "answer_id": 41153944, "question_id": 41152799, "link": "https://stackoverflow.com/questions/41152799/argparse-flatten-the-result-of-action-append/41153944#41153944", "title": "argparse: flatten the result of action=&#39;append&#39;", "body": "<p>An <code>extend</code> action class has been asked for (<a href=\"http://bugs.python.org/issue23378\" rel=\"nofollow noreferrer\">http://bugs.python.org/issue23378</a>), but since it's easy to add your own I don't think the feature will ever by added.</p>\n\n<p>A common Python idiom for flattening a list uses <code>chain</code>:</p>\n\n<pre><code>In [36]: p=[['x'], ['y']]\nIn [37]: from itertools import chain\nIn [38]: chain(*p)\nOut[38]: &lt;itertools.chain at 0xb17afb2c&gt;\nIn [39]: list(chain(*p))\nOut[39]: ['x', 'y']\n</code></pre>\n\n<p>Your list comprehension is the equivalent:</p>\n\n<pre><code>In [40]: [x for y in p for x in y]\nOut[40]: ['x', 'y']\n</code></pre>\n\n<p>In <a href=\"http://bugs.python.org/issue16399#msg277919\" rel=\"nofollow noreferrer\">http://bugs.python.org/issue16399#msg277919</a> I suggest another possiblity - a custom <code>default</code> value for the <code>append</code> argument.</p>\n\n<pre><code>class MyList(list):\n    def append(self,arg):\n        if isinstance(arg,list):\n            self.extend(arg)\n        else:\n            super(MyList, self).append(arg)\n\n parser = argparse.ArgumentParser()\n a = parser.add_argument('-f', action='append', nargs='*',default=MyList([]))\n args = parser.parse_args('-f 1 2 3 -f 4 5'.split())\n</code></pre>\n\n<p>which produces</p>\n\n<pre><code>Namespace(f=['1', '2', '3', '4', '5'])\n</code></pre>\n\n<p>You'll have to use your own judgment as to what's appropriate in production code.</p>\n"}], "owner": {"reputation": 19199, "user_id": 1424877, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8a14e5bb44bbb4c2721ac711bd8a7bcf?s=128&d=identicon&r=PG", "display_name": "Quuxplusone", "link": "https://stackoverflow.com/users/1424877/quuxplusone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6068, "favorite_count": 5, "answer_count": 2, "score": 15, "last_activity_date": 1581993396, "creation_date": 1481752128, "question_id": 41152799, "link": "https://stackoverflow.com/questions/41152799/argparse-flatten-the-result-of-action-append", "title": "argparse: flatten the result of action=&#39;append&#39;", "body": "<p>I'd like to make a script that supports an argument list of the form</p>\n\n<pre><code>./myscript --env ONE=1,TWO=2 --env THREE=3\n</code></pre>\n\n<p>Here's my attempt:</p>\n\n<pre><code>import argparse\nparser = argparse.ArgumentParser()\nparser.add_argument(\n    '--env',\n    type=lambda s: s.split(','),\n    action='append',\n)\noptions = parser.parse_args()\nprint options.env\n\n$ ./myscript --env ONE=1,TWO=2 --env THREE=3\n[['ONE=1', 'TWO=2'], ['THREE=3']]\n</code></pre>\n\n<p>Sure I can fix this in postprocessing:</p>\n\n<pre><code>options.env = [x for y in options.env for x in y]\n</code></pre>\n\n<p>but I'm wondering if there's some way to get the flattened list directly from argparse, so that I don't have to maintain a list of \"things I need to flatten afterwards\" in my head as I'm adding new options to the program.</p>\n\n<p>The same question applies if I were to use <code>nargs='*'</code> instead of <code>type=lambda...</code>.</p>\n\n<pre><code>import argparse\nparser = argparse.ArgumentParser()\nparser.add_argument(\n    '--env',\n    nargs='+',\n    action='append',\n)\noptions = parser.parse_args()\nprint options.env\n\n$ ./myscript --env ONE=1 TWO=2 --env THREE=3\n[['ONE=1', 'TWO=2'], ['THREE=3']]\n</code></pre>\n"}, {"tags": ["javascript", "python", "node.js", "integration-testing"], "comments": [{"owner": {"reputation": 512, "user_id": 2943434, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/na2HJ.jpg?s=128&g=1", "display_name": "trendsetter37", "link": "https://stackoverflow.com/users/2943434/trendsetter37"}, "edited": false, "score": 0, "creation_date": 1485306596, "post_id": 41152683, "comment_id": 70868628, "body": "Can you post the code you&#39;ve already written?"}, {"owner": {"reputation": 281, "user_id": 3417197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a4e65dbebbb5e9a4275514ab3b321fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Copernicus", "link": "https://stackoverflow.com/users/3417197/copernicus"}, "reply_to_user": {"reputation": 512, "user_id": 2943434, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/na2HJ.jpg?s=128&g=1", "display_name": "trendsetter37", "link": "https://stackoverflow.com/users/2943434/trendsetter37"}, "edited": false, "score": 0, "creation_date": 1485352785, "post_id": 41152683, "comment_id": 70890655, "body": "This is no longer an issue. I decided to use a mail service with a javascript interface api so I no longer have to test this."}], "owner": {"reputation": 281, "user_id": 3417197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a4e65dbebbb5e9a4275514ab3b321fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Copernicus", "link": "https://stackoverflow.com/users/3417197/copernicus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481751667, "creation_date": 1481751667, "question_id": 41152683, "link": "https://stackoverflow.com/questions/41152683/integration-test-on-child-process", "title": "Integration Test On Child Process", "body": "<p>I have a node js module that I'm using to launch a child process that calls a python script for sending emails. I'm trying to figure how I can write an integration test that can test that the correct email text is generated depending on the inputs that I give to my javascript code. Is there a tool that I can use that could call the javascript code and then intercept an email sent from a child process?</p>\n"}, {"tags": ["python", "numpy", "scientific-computing"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "is_accepted": true, "score": 1, "last_activity_date": 1481771037, "creation_date": 1481771037, "answer_id": 41155750, "question_id": 41152652, "link": "https://stackoverflow.com/questions/41152652/splitting-integrated-probability-density-into-two-spatial-regions/41155750#41155750", "title": "Splitting integrated probability density into two spatial regions", "body": "<p>The loops can be eliminated by using vectorized operations instead. It's not clear whether <code>Pd</code> is a 2D NumPy array; it it's something else (e.g., a list of lists), it should be converted to a 2D NumPy array with <code>np.array(...)</code>. After that you can do this: </p>\n\n<pre><code>Pd1 = Pd[:, :l1]\nPd2 = Pd[:, l1:l1+l2]\n</code></pre>\n\n<p>No need to loop over the time index; the slicing happens for all times at once (having <code>:</code> in place of an index means \"all valid indices\").</p>\n\n<p>Similarly, <code>np.trapz</code> can integrate all time slices at once: </p>\n\n<pre><code>P1 = np.trapz(Pd1, R1, axis=1)\nP2 = np.trapz(Pd2, R2, axis=1)\n</code></pre>\n\n<p>Each P1 and P2 is now a time series of integrals. The <code>axis</code> parameter determines along which axis Pd1 gets integrated - it's the second axis, i.e., space.  </p>\n"}], "owner": {"reputation": 99, "user_id": 6020498, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7318871851a0e21377efb0f66417e186?s=128&d=identicon&r=PG&f=1", "display_name": "XBB", "link": "https://stackoverflow.com/users/6020498/xbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 41155750, "answer_count": 1, "score": 1, "last_activity_date": 1481771037, "creation_date": 1481751521, "last_edit_date": 1481752065, "question_id": 41152652, "link": "https://stackoverflow.com/questions/41152652/splitting-integrated-probability-density-into-two-spatial-regions", "title": "Splitting integrated probability density into two spatial regions", "body": "<p>I have some probability density function:</p>\n\n<pre><code>T = 10000\ntmin = 0\ntmax = 10**20\nt = np.linspace(tmin, tmax, T) \ntime = np.asarray(t)                 #this line may be redundant \nfor j in range(T):\n    timedep_PD[j]= probdensity_func(x,time[j],initial_state)\n</code></pre>\n\n<p>I want to integrate it over two distinct regions of x. I tried the following to split the <code>timedep_PD</code> array into two spatial regions and then proceeded to integrate:</p>\n\n<pre><code>step =  abs(xmin - xmax) / T\nl1 = int(np.floor((abs(ab - xmin)* T ) / abs(xmin - xmax)))\nl2 = int(np.floor((abs(bd - ab)* T ) / abs(xmin - xmax)))\n\n#For spatial region 1\nR1 = np.empty([l1])\nR1 = x[:l1]\nfor i in range(T):\n    Pd1[i] = Pd[i][:l1]\n\n#For spatial region 2\nPd2 = np.empty([T,l2])\nR2 = np.empty([l2])\nR2 = x[l1:l1+l2]\nfor i in range(T):\n    Pd2[i] = Pd[i][l1:l1+l2]\n\n#Integrating over each spatial region \nfor i in range(T):\n    P[0][i]   = np.trapz(Pd1[i],R1) \n    P[1][i]   = np.trapz(Pd2[i],R2) \n</code></pre>\n\n<p>Is there an easier/more clear way to go about splitting up a probability density function into two spatial regions and then integrating within each spatial region at each time-step?</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1481752163, "post_id": 41152588, "comment_id": 69507704, "body": "I am copy-pasting this exact string into a shell and it parses it fine. Putting it in triple quotes and using <code>ast.literal_eval</code> also works."}], "answers": [{"tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": true, "score": 0, "last_activity_date": 1481752110, "creation_date": 1481752110, "answer_id": 41152789, "question_id": 41152588, "link": "https://stackoverflow.com/questions/41152588/parsing-dictionary-like-apple-calendar-data-with-pyicloud/41152789#41152789", "title": "Parsing dictionary-like Apple calendar data with PyiCloud", "body": "<p>So first, you need to iterate over the different events using something like a <code>for</code> loop.</p>\n\n<p>You would set <code>events</code> equal to the payload that you've shared here, and iterate over it like this, grabbing data from each event:</p>\n\n<pre><code>for event in events:\n    print event['title'] # will print each event's title\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7180409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f0545c8c386dd24f109a557034c111b?s=128&d=identicon&r=PG", "display_name": "Ray Stevens", "link": "https://stackoverflow.com/users/7180409/ray-stevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 1, "accepted_answer_id": 41152789, "answer_count": 1, "score": 0, "last_activity_date": 1481754639, "creation_date": 1481751281, "last_edit_date": 1481754639, "question_id": 41152588, "link": "https://stackoverflow.com/questions/41152588/parsing-dictionary-like-apple-calendar-data-with-pyicloud", "title": "Parsing dictionary-like Apple calendar data with PyiCloud", "body": "<p>I am using <a href=\"https://github.com/picklepete/pyicloud\" rel=\"nofollow noreferrer\">PyiCloud</a> to retrieve calendar data from my iPhone. It returns something that is like a dictionary. I have tried to use ast.literal_eval to convert it to a dictionary (getting a malformed string error), and I have also tried to parse it as a string (gives error </p>\n\n<pre><code>'startDate': from_dt.strftime('%Y-%m-%d'),\nAttributeError: 'list' object has no attribute 'strftime'\n</code></pre>\n\n<p>). I am a newbie with Python so I cannot figure out how to parse this to pull info like dates and event titles. What am I doing wrong?</p>\n\n<p>Here is the data returned for 3 different events this month:</p>\n\n<pre><code>[{u'startDate': [20161208, 2016, 12, 8, 14, 0, 840], u'birthdayLastName':\nNone, u'endDate': [20161208, 2016, 12, 8, 15, 0, 540], u'pGuid': u'work',\nu'recurrenceMaster': False, u'extendedDetailsAreIncluded': False,\nu'duration': 60, u'birthdayCompanyName': None, \nu'guid': u'B5AAABCF-D15D-44C8-A3BB-6E6144F19600', u'recurrence': None,\nu'tz': u'America/New_York', u'title': u'myeventname', u'localEndDate':\n[20161208, 2016, 12, 8, 15, 0, 540], u'recurrenceException': False,\nu'birthdayShowAsCompany': None, \nu'etag': u'C=94@U=d8521207-80a0-4660-aaf1-b9260d762128', u'location': None,\nu'birthdayIsYearlessBday': None, u'birthdayFirstName': None, \nu'shouldShowJunkUIWhenAppropriate': True, u'readOnly': False, \nu'birthdayBirthDate': None, u'icon': 0, u'allDay': False, \nu'hasAttachments': False, u'localStartDate': [20161208, 2016, 12, 8, 14, 0, 840], \nu'birthdayNickname': None, u'eventStatus': None, u'alarms': []},\n{u'startDate': [20161220, 2016, 12, 20, 14, 0, 840], u'birthdayLastName':\nNone, u'endDate': [20161220, 2016, 12, 20, 15, 0, 540], u'pGuid': u'work',\nu'recurrenceMaster': False, u'extendedDetailsAreIncluded': False, \nu'duration': 60, u'birthdayCompanyName': None, \nu'guid': u'3E2491FC-AD39-4E2C-AFB4-55439FACB62E', u'recurrence': None, \nu'tz': u'America/New_York', u'title': u'myeventname', u'localEndDate': \n[20161220, 2016, 12, 20, 15, 0, 540], u'recurrenceException': False, \nu'birthdayShowAsCompany': None, u'etag': u'C=98@U=d8521207-80a0-4660-\naaf1-b9260d762128', u'location': None, u'birthdayIsYearlessBday': None, \nu'birthdayFirstName': None, u'shouldShowJunkUIWhenAppropriate': True, \nu'readOnly': False, u'birthdayBirthDate': None, u'icon': 0, u'allDay': \nFalse, u'hasAttachments': False, u'localStartDate': [20161220, 2016, 12, 20, \n14, 0, 840], u'birthdayNickname': None, u'eventStatus': None, u'alarms': \n[]}, {u'startDate': [20161222, 2016, 12, 22, 15, 0, 900], \nu'birthdayLastName': None, u'endDate': [20161222, 2016, 12, 22, 16, 0, 480], \nu'pGuid': u'work', u'recurrenceMaster': False, \nu'extendedDetailsAreIncluded': False, u'duration': 60, \nu'birthdayCompanyName': None, u'guid': u'0D8985EF-6B3F-4C4F-\n8576-014A2DF3195D', u'recurrence': None, u'tz': u'America/New_York', \nu'title': u'myeventname', u'localEndDate': [20161222, 2016, 12, 22, 16, 0, \n480], u'recurrenceException': False, u'birthdayShowAsCompany': None, \nu'etag': u'C=97@U=d8521207-80a0-4660-aaf1-b9260d762128', u'location': None, \nu'birthdayIsYearlessBday': None, u'birthdayFirstName': None, \nu'shouldShowJunkUIWhenAppropriate': True, u'readOnly': False, \nu'birthdayBirthDate': None, u'icon': 0, u'allDay': False, u'hasAttachments': \nFalse, u'localStartDate': [20161222, 2016, 12, 22, 15, 0, 900], \nu'birthdayNickname': None, u'eventStatus': None, u'alarms': []}]\n</code></pre>\n"}, {"tags": ["python", "networking", "tcp"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1481751592, "post_id": 41152584, "comment_id": 69507457, "body": "Please read <a href=\"https://docs.python.org/2/library/socket.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/socket.html</a> . It has examples."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1481752881, "post_id": 41152661, "comment_id": 69508014, "body": "Minor nitpick: <code>SYN-ACK</code> is sent as a consequence of <code>socket.listen()</code>, not <code>socket.accept()</code>. Once you make a listening socket, the OS completes the handshake automatically, and <code>socket.accept()</code> is just used to get the incoming connection."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 6, "last_activity_date": 1481753089, "last_edit_date": 1481753089, "creation_date": 1481751553, "answer_id": 41152661, "question_id": 41152584, "link": "https://stackoverflow.com/questions/41152584/tcp-network-manually-program-syn-syn-ack-ack/41152661#41152661", "title": "TCP Network - Manually program SYN, SYN ACK, ACK?", "body": "<p>The SYN and ACK are handled by the operating system, with no direct intervention by the user. The user program is not required, nor is it able, to send the initial SYN, SYN-ACK, ACK handshake packets.</p>\n\n<p>The initial SYN is sent on behalf of the client as a consequence of <code>socket.socket.connect()</code>.</p>\n\n<p>The initial SYN-ACK is sent on behalf of the server as a consequence of <code>socket.socket.listen()</code>.</p>\n"}], "owner": {"reputation": 333, "user_id": 6009572, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7899bee63fefec4974ebc4e92809e695?s=128&d=identicon&r=PG&f=1", "display_name": "w13rfed", "link": "https://stackoverflow.com/users/6009572/w13rfed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2238, "favorite_count": 0, "accepted_answer_id": 41152661, "answer_count": 1, "score": 2, "last_activity_date": 1481753089, "creation_date": 1481751273, "question_id": 41152584, "link": "https://stackoverflow.com/questions/41152584/tcp-network-manually-program-syn-syn-ack-ack", "title": "TCP Network - Manually program SYN, SYN ACK, ACK?", "body": "<p>If you were writing a basic python TCP server and client would you need to add the SYN, SYN ACK and ACK responses yourself or is it taken care of by the socket module?</p>\n\n<p>If you need to write it yourself would it be as simple as something like this?</p>\n\n<p>Client:</p>\n\n<pre><code>#set up clientSocket\n\ndata = \"SYN\"\nclientSocket.send(data.encode('utf-8'))\nif((clientSocket.recv(1024)).decode('utf-8') == \"SYN ACK\") {\n  data = \"ACK\"\n  clientSocket.send(data.encode('utf-8'))\n}\n</code></pre>\n\n<p>and the Server responding in a similar way with checking if recv is SYN and then send SYN ACK. If not what is the correct way of implementing it?\nHaven't ran the above code, not bothered about the syntax being 100% correct just curious about the logic behind it</p>\n"}, {"tags": ["python", "sockets", "tkinter", "server"], "comments": [{"owner": {"reputation": 3853, "user_id": 1833960, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/92d42253747f8ee3a83465dc04126f93?s=128&d=identicon&r=PG", "display_name": "George Sovetov", "link": "https://stackoverflow.com/users/1833960/george-sovetov"}, "edited": false, "score": 2, "creation_date": 1481752002, "post_id": 41152526, "comment_id": 69507643, "body": "So if you now it&#39;s terrible, why don&#39;t you rewrite it? If you still don&#39;t understand, remove unrelated parts, provide more information. You&#39;re supposed to ask a bit more generic questions which may help not only you."}, {"owner": {"reputation": 25, "user_id": 7298938, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1227462963999282/picture?type=large", "display_name": "Eda Stehlik", "link": "https://stackoverflow.com/users/7298938/eda-stehlik"}, "reply_to_user": {"reputation": 3853, "user_id": 1833960, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/92d42253747f8ee3a83465dc04126f93?s=128&d=identicon&r=PG", "display_name": "George Sovetov", "link": "https://stackoverflow.com/users/1833960/george-sovetov"}, "edited": false, "score": 0, "creation_date": 1481808016, "post_id": 41152526, "comment_id": 69530659, "body": "Ok, Thanks for reply!"}], "owner": {"reputation": 25, "user_id": 7298938, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1227462963999282/picture?type=large", "display_name": "Eda Stehlik", "link": "https://stackoverflow.com/users/7298938/eda-stehlik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481808243, "creation_date": 1481751069, "last_edit_date": 1481808243, "question_id": 41152526, "link": "https://stackoverflow.com/questions/41152526/python-my-chat-server-is-not-responding-when-i-start-it-up", "title": "Python: My Chat server is not responding when i start it up", "body": "<p>I have a problem. My server is not responding when i start it. Can you please help me? Thanks for every idea!\nAnd tell me if it's good idea to use Tkinter for server, thanks!\nHere's code:</p>\n\n<pre><code>import socket\nimport thread\nimport time\nfrom Tkinter import *\nimport tkinter.simpledialog as simpledialog\n\nklienti = []\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\nhost = \"10.0.0.32\"\nport = 9999\n\nokno = Tk()\nokno.title(\"Chat Server\")\nokno.geometry(\"700x460\")\nokno.resizable(width=FALSE, height=FALSE)\n\nLog = Text(okno, bg=\"white\", height=\"5\", width=\"70\", font=\"Arial\",)\nLog.config(state=DISABLED)\n\nscrollbar = Scrollbar(okno, command=Log.yview)\nLog[\"yscrollcommand\"] = scrollbar.set\n\nStatus = Text(okno, bg=\"white\", height=\"3\",width=\"12\", font=\"Arial\",)\nStatus.insert(END, \"Status: \",\"status\")\nStatus.tag_config(\"status\",font=\"Arial 20\")\nStatus.tag_config(\"online\", foreground=\"green\")\nStatus.tag_config(\"offline\", foreground=\"red\")\nStatus.config(state=DISABLED)\n\ndef spustitServer():\n    global Status\n    global Log\n    global klienti\n    global host\n    global port\n\n    s.bind((host,port))\n    s.listen(10)\n    Status.config(state=NORMAL)\n    Status.insert(END,\"Online\",\"online\")\n    Status.config(state=DISABLED)\n    Log.config(state=NORMAL)\n    Log.insert(END,\"\\nServer je nyni Online!\")\n    Log.config(state=DISABLED)\n\n    while 1:\n        c, addr = s.accept()\n        Log.config(state=NORMAL)\n        Log.insert(END,\"\\n[{0}] :: Pripojen:   {1}\".format(time.ctime(time.time()),str(addr)))\n        Log.config(state=DISABLED)\n        if addr not in klienti:\n            klienti.append(c)\n\n        thread.start_new_thread(uzivatel_thread,(c,klienti))\n\ndef uzivatel_thread(c,klienti):\n    global Log\n\n    while True:\n        data = c.recv(1024)\n        if \"/konec\" in data:\n            klienti.remove(c)\n        elif not data:\n            break\n        else:\n            Log.config(state=NORMAL)\n            Log.insert(END,\"\\n[{0}] :: {1} ::  {2}\".format(time.ctime(time.time()),str(addr),str(data)))\n            Log.config(state=DISABLED)\n            for klient in klienti:\n                klient.sendall(data)\n\ndef stopServer():\n    global Log\n    global Status\n\n    Status.config(state=NORMAL)\n    Status.insert(END,\"Offline\",\"offline\")\n    Status.config(state=DISABLED)\n    Log.config(state=NORMAL)\n    Log.insert(END,\"\\nServer je nyni Offline!\")\n    Log.config(state=DISABLED)\n    c.close()\n    s.close()\n    thread.close()\n\n\n\nstartTlacitko = Button(okno, font=20, text=\"Start\", width=\"12\", height=\"5\",   bd=0, bg=\"#ff0000\", activebackground=\"#ff3333\",command=spustitServer)\nstopTlacitko = Button(okno, font=20, text=\"Stop\", width=\"12\", height=\"5\", bd=0, bg=\"#ff0000\", activebackground=\"#ff3333\",command=stopServer)\n\n\nLog.place(x=6,y=6, height=382, width=676)\nscrollbar.place(x=682,y=6, height=382)\nStatus.place(x=6, y=410, height=40, width=250)\nstartTlacitko.place(x=262, y=410, height=40)\nstopTlacitko.place(x=380, y=410, height=40)\n\n\nokno.mainloop()\n</code></pre>\n\n<p>I know it's terrible code.</p>\n\n<p>So this server is working in console but I wanted to have it in tkinter and it isn't working pretty well.</p>\n"}, {"tags": ["python", "r", "rpy2"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 6702225, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce36d1114d01e0803069392b8942f4dd?s=128&d=identicon&r=PG&f=1", "display_name": "pavlov", "link": "https://stackoverflow.com/users/6702225/pavlov"}, "edited": false, "score": 1, "creation_date": 1482193146, "post_id": 41211155, "comment_id": 69665686, "body": "Thanks. The problem is definitely that R is not being found. I never use Terminal, so my literacy there is quite low. I was able to type this into Terminal: export PATH=/myPath2R:${PATH}. That executed it seems. I do not know what you mean by &quot;put that to your ~/.bashrc.&quot; I am starting Spyder by clicking on an app icon, though."}], "tags": [], "owner": {"reputation": 10688, "user_id": 294017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8e5422a173711c086b685140dbc498fe?s=128&d=identicon&r=PG", "display_name": "lgautier", "link": "https://stackoverflow.com/users/294017/lgautier"}, "is_accepted": false, "score": 1, "last_activity_date": 1482083259, "creation_date": 1482083259, "answer_id": 41211155, "question_id": 41152506, "link": "https://stackoverflow.com/questions/41152506/trying-to-use-rpy2-module-to-call-r-from-python-script-help-setting-r-home-di/41211155#41211155", "title": "Trying to use rpy2 module to call R from Python script -- help setting R home directory?", "body": "<p>rpy2 is looking for a executable <code>R</code> in your <code>PATH</code>. This means that when opening a terminal windows and entering <code>R</code> an R terminal should start. Since you are seeing that error message, the odds are that no R is found.</p>\n\n<p>Find where R is, and append that directory to your PATH (e.g., <code>export PATH=/where/R/is:${PATH}</code> - may be put that to your <code>~/.bashrc</code> if starting spyder by clicking on an app icon).</p>\n"}], "owner": {"reputation": 101, "user_id": 6702225, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce36d1114d01e0803069392b8942f4dd?s=128&d=identicon&r=PG&f=1", "display_name": "pavlov", "link": "https://stackoverflow.com/users/6702225/pavlov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1381, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1482083259, "creation_date": 1481751008, "question_id": 41152506, "link": "https://stackoverflow.com/questions/41152506/trying-to-use-rpy2-module-to-call-r-from-python-script-help-setting-r-home-di", "title": "Trying to use rpy2 module to call R from Python script -- help setting R home directory?", "body": "<p>My goal is to be able to call R from Python 2.7 scripts. I first used easy_install to get the rpy2 module. I then typed the following command into my Spyder console:</p>\n\n<pre><code>from rpy2.robjects.packages import importr\n</code></pre>\n\n<p>This threw the following error:</p>\n\n<p>\"RuntimeError: The R home directory could not be determined.</p>\n\n<p>Try to install R <a href=\"https://www.r-project.org/\" rel=\"nofollow noreferrer\">https://www.r-project.org/</a>, set the R_HOME environment variable to the R home directory, or add the directory of the R interpreter to the PATH environment variable.\"</p>\n\n<p>Looks like the R interpreter within rpy2 is not finding R because it's not in the right directory? I had previously downloaded R and RStudio onto my Mac. </p>\n\n<p>I suspect this is a simple fix, and I hoping someone can explain what exactly this error message means, and how I should update either the R_HOME or PATH environment variables (I'm not sure what these are, exactly).</p>\n"}, {"tags": ["python", "pandas", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 885, "user_id": 525865, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/20ae03fe202a406d0a1cd2b9ff222039?s=128&d=identicon&r=PG", "display_name": "zero", "link": "https://stackoverflow.com/users/525865/zero"}, "edited": false, "score": 0, "creation_date": 1613405931, "post_id": 41152492, "comment_id": 117059222, "body": "thx dear Spencer - and also George - this is python 2 based. I need to rewrite it to version3"}], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 525865, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/20ae03fe202a406d0a1cd2b9ff222039?s=128&d=identicon&r=PG", "display_name": "zero", "link": "https://stackoverflow.com/users/525865/zero"}, "edited": false, "score": 0, "creation_date": 1613405985, "post_id": 41152657, "comment_id": 117059251, "body": "hi there dear CDplayer and wpercy - many thanks for this great example - running v3 of python"}], "tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": true, "score": 5, "last_activity_date": 1584875729, "last_edit_date": 1584875729, "creation_date": 1481751540, "answer_id": 41152657, "question_id": 41152492, "link": "https://stackoverflow.com/questions/41152492/basic-beautifulsoup-wikipedia-scrape/41152657#41152657", "title": "Basic BeautifulSoup Wikipedia scrape", "body": "<p>First you'll want to find the correct part of the page. You can do this by finding the heading with <code>id=\"Active_teams_at_league_closing\"</code> and then finding the next <code>&lt;ul&gt;</code> element from there.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nurl = \"https://en.wikipedia.org/wiki/National_Pro_Grid_League\"\nr = requests.get(url)\nsoup = BeautifulSoup(r.content)\n\nheading = soup.find(id='Active_teams_at_league_closing')\nteams = heading.find_next('ul')\nfor team in teams:\n    print(team.string)\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7298718, "user_type": "registered", "profile_image": "https://graph.facebook.com/1476409129043782/picture?type=large", "display_name": "Spencer Timothy", "link": "https://stackoverflow.com/users/7298718/spencer-timothy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2929, "favorite_count": 1, "accepted_answer_id": 41152657, "answer_count": 1, "score": 3, "last_activity_date": 1584875729, "creation_date": 1481750949, "last_edit_date": 1481755554, "question_id": 41152492, "link": "https://stackoverflow.com/questions/41152492/basic-beautifulsoup-wikipedia-scrape", "title": "Basic BeautifulSoup Wikipedia scrape", "body": "<p>I'm trying to get a very basic, and short, basic unordered list <code>&lt;ul&gt;</code> off of Wikipedia. My end goal is to put it into a <code>DataFrame</code>.\nMy question is, where do I go from here? </p>\n\n<pre><code>In [28]: from bs4 import BeautifulSoup\n\n         import urllib2\n\n         import requests\n\n         from pandas import Series,DataFrame\n\nIn [29]: url = \"https://en.wikipedia.org/wiki/National_Pro_Grid_League\"\n\nIn [31]: result = requests.get(url)\n\nIn [32]: c = result.content\n\nIn [33]: soup = BeautifulSoup(c)\n</code></pre>\n\n<p>I cant seem to find any answers on this StackOverflow, so I would appreciate any advice anyone could give me.<br>\nThis is the specific list I'm looking for:</p>\n\n<pre><code>Active teams[edit]\nBaltimore Anthem (2015\u2013present)\nBoston Iron (2014\u2013present)\nDC Brawlers (2014\u2013present)\nLos Angeles Reign (2014\u2013present)\nMiami Surge (2014\u2013present)\nNew York Rhinos (2014\u2013present)\nPhoenix Rise (2014\u2013present)\nSan Francisco Fire (2014\u2013present)\n</code></pre>\n"}, {"tags": ["python", "csv", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1481752473, "post_id": 41152435, "comment_id": 69507835, "body": "Can you provide some context? Where do things like <code>Validator</code> and <code>ValidatorResponse</code> come from? Are you using a particular package in addition to Pandas?"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 7082180, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e444c80149c899a7610de4c7545b96ec?s=128&d=identicon&r=PG&f=1", "display_name": "Natasha", "link": "https://stackoverflow.com/users/7082180/natasha"}, "edited": false, "score": 0, "creation_date": 1481812328, "post_id": 41152575, "comment_id": 69533687, "body": "And can you please check my updated code. Is that the correct way? Also, how and where do I specify which column I want to check for duplicates?"}], "tags": [], "owner": {"reputation": 3903, "user_id": 1225744, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/965e7fce619a96b6163a4f8feaef7355?s=128&d=identicon&r=PG", "display_name": "elelias", "link": "https://stackoverflow.com/users/1225744/elelias"}, "is_accepted": false, "score": 1, "last_activity_date": 1481751860, "last_edit_date": 1481751860, "creation_date": 1481751239, "answer_id": 41152575, "question_id": 41152435, "link": "https://stackoverflow.com/questions/41152435/understanding-data-frames-in-python/41152575#41152575", "title": "Understanding Data frames in Python", "body": "<p>You just want to know whether there are duplicates for a certain column? There's a few ways of doing that. Here's a simple one:</p>\n\n<pre><code>len(fileInDf.groupby('column').sum()) == len(fileInDf['column'])\n</code></pre>\n\n<p>will return <code>True</code> only if there are no duplicate values in the column.</p>\n\n<p>Another one is to create a single-column dataframe and use <code>drop_duplicates</code> there:</p>\n\n<pre><code>new_df = fileInDf[['column']].drop_duplicates()\n</code></pre>\n\n<p>and now see whether the two have the same length</p>\n\n<pre><code>len(new_df) == len(fileInDf)\n</code></pre>\n\n<p>Finally, you can use <code>duplicated</code> like this:</p>\n\n<pre><code>True in fileInDf[['column']].duplicated()\n</code></pre>\n\n<p>if there is a value that is duplicated, then that statment will return <code>True</code></p>\n\n<p>Note that <code>fileInDf[['column']]</code> produces a data frame consisting of one column, and is different than <code>fileInDf['column']</code>, which produces a Series object.</p>\n"}], "owner": {"reputation": 181, "user_id": 7082180, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e444c80149c899a7610de4c7545b96ec?s=128&d=identicon&r=PG&f=1", "display_name": "Natasha", "link": "https://stackoverflow.com/users/7082180/natasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1482371532, "creation_date": 1481750673, "last_edit_date": 1482371532, "question_id": 41152435, "link": "https://stackoverflow.com/questions/41152435/understanding-data-frames-in-python", "title": "Understanding Data frames in Python", "body": "<p>Can anyone explain me what this function is doing? Like I know it checks if a row in csv is duplicate or not. But, I only want to check if a particular column has duplicate values or not. How do I do that? </p>\n\n<pre><code>@Validator\ndef hasDuplicates( fileInDf, fileType = File_Name_All, kwargs = def_kwargs ):\n    ''' Return row indexes that are duplicates '''\n    import pandas\n\n    if fileInDf is None:\n        return ValidatorResponse( rule_decision = Rule_Decision.INVALID_INPUT, rule_return_message = 'Input File is not a valid file for rule : hasDuplicates' )\n    if type( fileInDf ) is not pandas.DataFrame:\n        return ValidatorResponse( rule_decision = Rule_Decision.INVALID_INPUT, rule_return_message = 'Type %s is not a valid DataFrame Type for rule : hasDuplicates' % type( fileInDf ))\n    if fileInDf.empty:\n        return ValidatorResponse( rule_decision = Rule_Decision.INVALID_INPUT, rule_return_message = 'Input File is not a valid file for rule : hasDuplicates' )\n\n    dups = fileInDf.duplicated()\n    indexes = dups[ dups == True ].index.tolist()\n    fixedDf = fileInDf.drop_duplicates()\n\n    ret = Rule_Decision.FAILED if len( fixedDf ) != len( fileInDf ) else Rule_Decision.SUCCESS\n    return ValidatorResponse( rule_decision = ret, rule_return_fixedDf = fixedDf, rule_return_val = indexes )\n</code></pre>\n\n<p>UPDATE:</p>\n\n<pre><code>@Validator\ndef hasDuplicatesSingleColumn( val, fileInDf, fileType = File_Name_All, kwargs = def_kwargs ):\n    ''' Return row indexes that are duplicates '''\n    import pandas\n\n    if fileInDf is None:\n        return ValidatorResponse( rule_decision = Rule_Decision.INVALID_INPUT, rule_return_message = 'Input File is not a valid file for rule : hasDuplicates' )\n    if type( fileInDf ) is not pandas.DataFrame:\n        return ValidatorResponse( rule_decision = Rule_Decision.INVALID_INPUT, rule_return_message = 'Type %s is not a valid DataFrame Type for rule : hasDuplicates' % type( fileInDf ))\n    if fileInDf.empty:\n        return ValidatorResponse( rule_decision = Rule_Decision.INVALID_INPUT, rule_return_message = 'Input File is not a valid file for rule : hasDuplicates' )\n\n    col_dups = fileInDf[['column']].duplicated()\n    indexes = col_dups[ col_dups == True ].index.tolist()\n    new_df = fileInDf[['column']].drop_duplicates()\n\n    ret = Rule_Decision.FAILED if len( new_df ) != len( fileInDf ) else Rule_Decision.SUCCESS\n    return ValidatorResponse( rule_decision = ret, rule_return_fixedDf = new_df, rule_return_val = indexes )\n</code></pre>\n\n<p>But, how do I get the indexes? Is it the correct way in the above function?</p>\n"}, {"tags": ["python", "function", "statsmodels"], "comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1481750617, "post_id": 41152411, "comment_id": 69507011, "body": "You have to aggregate the <i>BASIC</i> results you got over internet and need to modify them as per your requirement."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1481753096, "post_id": 41152411, "comment_id": 69508091, "body": "Basic pattern for loop returns: start with an accumulator list <code>result=[]</code>; <code>.append()</code> the result of each iteration to the accumulator in the loop; return <code>result</code>."}], "answers": [{"comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1481752995, "post_id": 41152701, "comment_id": 69508063, "body": "This function does not return the result of the loop. It returns a <code>None</code>."}], "tags": [], "owner": {"reputation": 97, "user_id": 6104574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fe158ea4af52a2df09365562ccff7bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ryanless", "link": "https://stackoverflow.com/users/6104574/ryanless"}, "is_accepted": false, "score": -1, "last_activity_date": 1481751746, "creation_date": 1481751746, "answer_id": 41152701, "question_id": 41152411, "link": "https://stackoverflow.com/questions/41152411/python-function-multiple-return/41152701#41152701", "title": "python function multiple return", "body": "<p>your loop is var in variables which only contains 1 item: a string.\nSo what is the purpose of such a loop anyway? diag,age,ICVcm3,dfwo2 where are all these values delcared? What is the function about? Is seems to be some very specific wierd topic.</p>\n\n<p>Though just guessing, something like this could be what you've been looking for:</p>\n\n<pre><code>def myfunction(variables,diag,age,ICVcm3,dfwo2):   \n    for var in variables:\n        lm_full = sm.formula.ols(formula='%s ~  diag + age + ICVcm3' % var, data=dfwo2).fit()\n        print(\"===============================================================================\")\n        print(\"           formule = %s ~ diag + age + ICVcm3\" % var)\n        print(\"===============================================================================\")\n        print(lm_full.summary())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1481753434, "creation_date": 1481753434, "answer_id": 41153096, "question_id": 41152411, "link": "https://stackoverflow.com/questions/41152411/python-function-multiple-return/41153096#41153096", "title": "python function multiple return", "body": "<p>You can return a list of tuples:</p>\n\n<pre><code>def myFunction(variables):\n    result = []\n    for var in variables:\n        formula = \"           formule = %s ~ diag + age + ICVcm3\" % var\n        lm_full = sm.formula.ols(formula=formula, data=dfwo2).fit()\n        result.append((formula, lm_full.summary()))\n    return result\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 1, "last_activity_date": 1481755488, "creation_date": 1481755488, "answer_id": 41153521, "question_id": 41152411, "link": "https://stackoverflow.com/questions/41152411/python-function-multiple-return/41153521#41153521", "title": "python function multiple return", "body": "<p>This code shows you how to return the items that have been computed in the function and how to retrieve them in the calling function. Notice how you can return as many, or as few, items as you wish, and that, even if the function returns items your calling code doesn't need you can ignore them. (That's the purpose of the variables named <strong>dummy</strong>.)</p>\n\n<p>I'm using one of the datasets that comes with statsmodels since I don't recognise the one you're using.</p>\n\n<pre><code>import statsmodels as sm\ndf = sm.datasets.get_rdataset(\"Guerry\", \"HistData\").data\ndf = df[['Lottery', 'Literacy', 'Wealth', 'Region']].dropna()\nimport statsmodels.formula.api as smf\n\ndef regress(variables):\n    results = [ ]\n    for variable in variables:\n        mod = smf.ols(formula='Lottery ~ %s' % variable, data=df)\n        result = mod.fit()\n        results . append ( (variable, result.params, result.df_resid, result.rsquared) )\n    return results\n\nfor result in regress (['Literacy', 'Wealth', 'Region']):\n    variable, dummy, dummy, R_squared = result\n    print ( variable, R_squared  )\n</code></pre>\n\n<p>Results are like this:</p>\n\n<pre><code>Literacy 0.145720612937\nWealth 0.243180384656\nRegion 0.142107524677\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 6411123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0f3bad700a5a60caceca694c664f0fb6?s=128&d=identicon&r=PG&f=1", "display_name": "salim", "link": "https://stackoverflow.com/users/6411123/salim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "answer_count": 3, "score": -1, "last_activity_date": 1481766796, "creation_date": 1481750538, "last_edit_date": 1481766796, "question_id": 41152411, "link": "https://stackoverflow.com/questions/41152411/python-function-multiple-return", "title": "python function multiple return", "body": "<p>I would like to transform this code to have a function instead : </p>\n\n<pre><code>variables = ['oki']              \nfor var in variables:\n    lm_full = sm.formula.ols(formula='%s ~  diag + age + ICVcm3' % var, data=dfwo2).fit()\n    print(\"===============================================================================\")\n    print(\"           formule = %s ~ diag + age + ICVcm3\" % var)\n    print(\"===============================================================================\")\n    print(lm_full.summary())   \n</code></pre>\n\n<p>At the end I would like something that looks like : </p>\n\n<p><code>function(oki,diag,age,ICVcm3,dfwo2)</code> that would return the result of the loop. </p>\n\n<p>I have no clue of how to do it. The examples that I found on the internet are very basic.... I don't even know what to type on google to get an answer. </p>\n"}, {"tags": ["python", "django", "python-2.7", "python-unittest", "python-behave"], "comments": [{"owner": {"reputation": 1195, "user_id": 30368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88bb2d5fc7f38e2154315bbdff300298?s=128&d=identicon&r=PG", "display_name": "kaleissin", "link": "https://stackoverflow.com/users/30368/kaleissin"}, "edited": false, "score": 0, "creation_date": 1525195594, "post_id": 41152379, "comment_id": 87259492, "body": "I&#39;m not using behave, but would also like to change what files are searched for."}], "answers": [{"tags": [], "owner": {"reputation": 31711, "user_id": 634576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/48891dab622b535f3c2b4ec1c8765bed?s=128&d=identicon&r=PG", "display_name": "Dave Schweisguth", "link": "https://stackoverflow.com/users/634576/dave-schweisguth"}, "is_accepted": true, "score": 0, "last_activity_date": 1481808793, "creation_date": 1481808793, "answer_id": 41165466, "question_id": 41152379, "link": "https://stackoverflow.com/questions/41152379/how-can-i-change-the-django-behave-test-runners-test-file-discovery-pattern/41165466#41165466", "title": "How can I change the django-behave test runner&#39;s test file discovery pattern?", "body": "<p>I solved this problem by switching from django-behave to behave-django.</p>\n\n<p>behave-django does not need the Django TEST_RUNNER to be set to its own test runner, so <code>python manage.py test -p '*.py'</code> works.</p>\n\n<p>behave-django doesn't provide a single Django management command that runs both unit and acceptance tests. I solved that problem by writing a new management command.</p>\n"}], "owner": {"reputation": 31711, "user_id": 634576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/48891dab622b535f3c2b4ec1c8765bed?s=128&d=identicon&r=PG", "display_name": "Dave Schweisguth", "link": "https://stackoverflow.com/users/634576/dave-schweisguth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 41165466, "answer_count": 1, "score": 1, "last_activity_date": 1481808793, "creation_date": 1481750371, "question_id": 41152379, "link": "https://stackoverflow.com/questions/41152379/how-can-i-change-the-django-behave-test-runners-test-file-discovery-pattern", "title": "How can I change the django-behave test runner&#39;s test file discovery pattern?", "body": "<p>I have a Django project with behave features and unittest tests. The unittest tests are organized like so:</p>\n\n<pre><code>theproject/\n    theapp/\n        tests/\n            tests_one.py\n            tests_other.py\n            ...\n</code></pre>\n\n<p>It is irritating to have to prefix test files, which are already clearly identified as such by being in the <code>tests</code> directory, with \"tests_\".</p>\n\n<p>If I rename all the test files without \"tests_\" and change my test runner to</p>\n\n<pre><code>TEST_RUNNER = 'django.test.runner.DiscoverRunner'\n</code></pre>\n\n<p>in settings.py and do</p>\n\n<pre><code>python manage.py test -p '*.py'\n</code></pre>\n\n<p>all of my unittest tests run, but not my behave features.</p>\n\n<p>When I have</p>\n\n<pre><code>TEST_RUNNER = 'django_behave.runner.DjangoBehaveTestSuiteRunner'\n</code></pre>\n\n<p>in settings.py and do</p>\n\n<pre><code>python manage.py test\n</code></pre>\n\n<p>my features run but not my unittest tests.</p>\n\n<p>The django-behave runner doesn't have a <code>-p</code> flag or an equivalent that I can see.</p>\n\n<p>How can I get the django-behave runner to discover tests in files whose names don't begin with \"tests_\"?</p>\n"}, {"tags": ["python", "optimization", "tkinter", "listbox"], "comments": [{"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1481750747, "post_id": 41152375, "comment_id": 69507071, "body": "What&#39;s <code>END</code> in your case?"}, {"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "reply_to_user": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1481751363, "post_id": 41152375, "comment_id": 69507367, "body": "@ettanany, that&#39;s the current end of the listbox as far as I understand from Programming Python, so basically allows inserting without being concerned with the current index"}], "answers": [{"comments": [{"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1481751200, "post_id": 41152488, "comment_id": 69507286, "body": "Sweet, thanks. Just to make sure. is this the same usage of * as in *args/**kwargs to a function? I ask because if I remember correctly, I use *args in the function definition but not when calling it."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "reply_to_user": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 2, "creation_date": 1481757503, "post_id": 41152488, "comment_id": 69509733, "body": "@Joe The Python doc Index has a page called Symbols.  Under the <code>*</code> heading is an entry <code>in function calls</code>, which links to <a href=\"https://docs.python.org/3/reference/expressions.html#index-38\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/expressions.html#index-38</a>, which says &quot;If the syntax *expression appears in the function call, expression must evaluate to an iterable. Elements from these iterables are treated as if they were additional positional arguments. ...&quot;, followed by more examples and explanations."}, {"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1481896341, "post_id": 41152488, "comment_id": 69571450, "body": "Thanks @TerryJanReedy, I also found this in the python control flow docs -"}, {"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1481896505, "post_id": 41152488, "comment_id": 69571536, "body": "<a href=\"https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists\" rel=\"nofollow noreferrer\">link</a> -  &quot;The reverse situation occurs when the arguments are already in a list or tuple but need to be unpacked for a function call requiring separate positional arguments.. If they are not available separately, write the function call with the *-operator to unpack the arguments out of a list or tuple&quot;.  So basically it is an unpacking operator. Sweet."}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 6, "last_activity_date": 1481750929, "creation_date": 1481750929, "answer_id": 41152488, "question_id": 41152375, "link": "https://stackoverflow.com/questions/41152375/can-i-add-a-list-of-strings-to-a-tkinter-listbox-without-using-a-loop/41152488#41152488", "title": "Can I add a list of strings to a Tkinter Listbox without using a loop?", "body": "<p>This code inserts all strings in the collection:</p>\n\n<pre><code>listbox.insert(END, *strings)\n</code></pre>\n"}], "owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4903, "favorite_count": 0, "accepted_answer_id": 41152488, "answer_count": 1, "score": 5, "last_activity_date": 1481750929, "creation_date": 1481750359, "question_id": 41152375, "link": "https://stackoverflow.com/questions/41152375/can-i-add-a-list-of-strings-to-a-tkinter-listbox-without-using-a-loop", "title": "Can I add a list of strings to a Tkinter Listbox without using a loop?", "body": "<p>I'm trying to understand what the fastest way is to add a bunch of strings that are pre-arranged in some fashion to a Listbox widget, so that every string is in a new line.</p>\n\n<p>The quickest I could gather so far:</p>\n\n<pre><code> from Tkinter import *\n\n strings= 'str1', 'str2', 'str3'\n listbox=Listbox(None)\n [listbox.insert(END, item) for item in strings]\n listbox.pack()\n</code></pre>\n\n<p>Is there perhaps a cleaner faster way to get it done, without iterating over every string? Perhaps if the strings are pre-packed in a certain way or using some other method? </p>\n\n<p>If it is of relevance, I want to use it to display directory listings.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1481750256, "post_id": 41152287, "comment_id": 69506852, "body": "data pointed by <code>round</code> is always a 1-item list. You&#39;re basically dispatching the players into each dict entry, not gathering them."}, {"owner": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "edited": false, "score": 2, "creation_date": 1481750322, "post_id": 41152287, "comment_id": 69506879, "body": "The code you posted doesn&#39;t run, as is, and the data in your question isn&#39;t sufficient to produce the sample output.  For the best chance at decent help, please create and post a decent <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. Please read this important link to learn the details."}, {"owner": {"reputation": 725, "user_id": 2051815, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/8165e06926259f405eaf3ed88b67d538?s=128&d=identicon&r=PG", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2051815/john-smith"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481750334, "post_id": 41152287, "comment_id": 69506884, "body": "@Jean-Fran&#231;oisFabre, how should I gather them??"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 2, "creation_date": 1481750350, "post_id": 41152287, "comment_id": 69506896, "body": "You&#39;re going to want to change the way <code>list_players</code> is structured so that it is a list of lists of dictionaries, each sublist corresponding to the players in a round and their scores"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1481750377, "post_id": 41152287, "comment_id": 69506907, "body": "at some point you have to do <code>s[&#39;round&#39;].append()</code> or your list will have 1-size. Your data structure seems very complex."}, {"owner": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "edited": false, "score": 0, "creation_date": 1481750409, "post_id": 41152287, "comment_id": 69506919, "body": "Based on my assumptions, the problem is that you put each player into <code>stats</code>, then you print the &quot;Round n&quot; header for each item in <code>stats</code>.  You&#39;ll need to fix your data model (best solution), or make your code much more complicated to deal with the data model you have (determining when it has found a new round to print the header)."}, {"owner": {"reputation": 725, "user_id": 2051815, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/8165e06926259f405eaf3ed88b67d538?s=128&d=identicon&r=PG", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2051815/john-smith"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481750562, "post_id": 41152287, "comment_id": 69506985, "body": "@Jean-Fran&#231;oisFabre So basically, I should append(list) under a new list? I don&#39;t fully understand. Any example or answer with code would make this easier. Much appreciated. Thx."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1481750648, "post_id": 41152287, "comment_id": 69507026, "body": "@JohnSmith you only really need one data structure here.  Go back to the code where you build <code>list_players</code> and change it so that it has all the information you need"}, {"owner": {"reputation": 725, "user_id": 2051815, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/8165e06926259f405eaf3ed88b67d538?s=128&d=identicon&r=PG", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2051815/john-smith"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1481750900, "post_id": 41152287, "comment_id": 69507142, "body": "@PatrickHaugh, see my edit. However, I am not sure."}, {"owner": {"reputation": 725, "user_id": 2051815, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/8165e06926259f405eaf3ed88b67d538?s=128&d=identicon&r=PG", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2051815/john-smith"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481751142, "post_id": 41152287, "comment_id": 69507258, "body": "@Jean-Fran&#231;oisFabre, how do you actually gather them? Please note, I haven&#39;t programmed much Python before. If this would be some other language I would easily have solved it."}, {"owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "edited": false, "score": 0, "creation_date": 1482000583, "post_id": 41152287, "comment_id": 69603083, "body": "can you include code that can be used to recreate the list that you are using?"}, {"owner": {"reputation": 9701, "user_id": 5165332, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/93c5b8f16dce739cd7e4336034e1f76c?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Lisitsky", "link": "https://stackoverflow.com/users/5165332/eugene-lisitsky"}, "edited": false, "score": 0, "creation_date": 1482142489, "post_id": 41152287, "comment_id": 69639004, "body": "What&#39;s your input information? Can you control it or redefine?"}], "answers": [{"tags": [], "owner": {"reputation": 5896, "user_id": 5080995, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153059476487462/picture?type=large", "display_name": "martianwars", "link": "https://stackoverflow.com/users/5080995/martianwars"}, "is_accepted": true, "score": 3, "last_activity_date": 1482005542, "last_edit_date": 1482005542, "creation_date": 1482004978, "answer_id": 41202553, "question_id": 41152287, "link": "https://stackoverflow.com/questions/41152287/print-out-per-each-sublist-items-at-time/41202553#41202553", "title": "Print out per each sublist items at time", "body": "<p><strong>TL;DR</strong> - Don't append single player entries to <code>stats</code>. Instead, append the complete data (all the players) for each round.</p>\n\n<hr>\n\n<p>The issue in your code is the data structure being used which is making it difficult to print the data in a correct manner. As mentioned in the comments, the length of  the <code>rounds</code> value in each element of <code>stats</code> is always <code>1</code>, due to which you are getting such an output.</p>\n\n<p>While it's okay to use such a data structure for <code>stats</code>, it's probably not the best idea given the format you wish to print your data in. It's better to <strong>collect all the data corresponding to a single round</strong>. So the idea in my answer is to bring all data corresponding to a single round collected into a single element of <code>stats</code>.</p>\n\n<p><strong>Assumption</strong> - I'll make an assumption that <code>list_players</code> is updated dynamically with new data as you are building <code>stats</code>.</p>\n\n<p><strong>Building</strong> <code>list_players</code> - Keep it as it is, since you intend to run over the whole list.</p>\n\n<p><strong>Building</strong> <code>stats</code> - In case your round numbers are always starting from <code>1</code> and grow sequentially, you can simply make a list where index <code>i</code> represents round <code>i+1</code>. If you have more complicated round names, you can <strong>use a dictionary</strong>, with the key being the round number, as this will allow easy access to the stats of a particular round number.</p>\n\n<p>Also, you can directly copy <code>list_players</code> instead of running a loop across it, as you are building an identical data stucture.</p>\n\n<p>With a list,</p>\n\n<pre><code>for round in range(0, total_rounds):\n    # Modify scores in `list_players` correctly\n    # You have to copy the whole list, since `list_players` will\n    # change over the course loop\n    stats.append(list_players[:])\n</code></pre>\n\n<p>With a dictionary,</p>\n\n<pre><code>stats = {}\nfor round in round_numbers:\n    # Modify scores of `list_players` correctly\n    # Again, make sure you copy the list as it's dynamic\n    stats[round] = list_players[:]\n</code></pre>\n\n<p><strong>Printing the result</strong> - </p>\n\n<p>If <code>stats</code> is kept as a list, I've used the <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><code>enumerate()</code></a> function.</p>\n\n<pre><code>for index, round in enumerate(stats):\n    # Always use 4 space indentation\n    print(\"*************************************\")\n    print(\"Round: \" + str(index+1)\n    print(\"*************************************\")\n    for p in round:\n        print(\"@\" + str(p['name']) +\n              \"\\nScore: \" + str(p['score'])+ \"\\n\")\n        print(\"*********************\") \n</code></pre>\n\n<p>With a dictionary,</p>\n\n<pre><code>for key, value in stats.iteritems():\n    # Always use 4 space indentation\n    print(\"*************************************\")\n    print(\"Round: \" + str(key)\n    print(\"*************************************\")\n    for p in value:\n        print(\"@\" + str(p['name']) +\n              \"\\nScore: \" + str(p['score'])+ \"\\n\")\n        print(\"*********************\") \n</code></pre>\n"}], "owner": {"reputation": 725, "user_id": 2051815, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/8165e06926259f405eaf3ed88b67d538?s=128&d=identicon&r=PG", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2051815/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 1, "accepted_answer_id": 41202553, "answer_count": 1, "score": 1, "last_activity_date": 1482005542, "creation_date": 1481749991, "last_edit_date": 1481750873, "question_id": 41152287, "link": "https://stackoverflow.com/questions/41152287/print-out-per-each-sublist-items-at-time", "title": "Print out per each sublist items at time", "body": "<p>So far after hours, I still cannot figure this out. Any help or anything that anyone can offer would be much appreciated. Thanks a lot in advance.  </p>\n\n<pre><code> stats.append({\n                'rounds' : round_playing,\n                'round' : [{'name' : str(list_players[i]['name']),\n                            'score' : list_players[i]['score']\n                           }]\n                })\n</code></pre>\n\n<p><strong>list_players:</strong></p>\n\n<pre><code>list_players.append({'name': '',\n             'score': 0})\n</code></pre>\n\n<p><strong>Print it out:</strong> </p>\n\n<pre><code>for s in stats:\n            print(\"*************************************\")\n            print(\"Round: \" + str(s['rounds']))\n            print(\"*************************************\")\n            for p in s['round']:\n                print(\"@\" + str(p['name'])\n                    + \"\\nScore: \" + str(p['score'])+ \"\\n\")\n\n        print(\"*********************\") \n</code></pre>\n\n<p><strong>Currently:</strong> </p>\n\n<pre><code>============================\nRound 1\n============================\nPlayer1\nScore: 11\n\n============================\nRound 1\n============================\nPlayer2\nScore: 23\n</code></pre>\n\n<p><strong>Desired result:</strong> </p>\n\n<pre><code>============================\nRound 1\n============================\nPlayer1\nScore: 11\n\nPlayer2\nScore: 23\n\n============================\nRound 2\n============================\nPlayer1\nScore: 55\n\nPlayer2\nScore: 7\n</code></pre>\n\n<p>Someone suggested something like this:</p>\n\n<pre><code>def buildList(p):\n    for i in range(len(p)): \n        list_players.append({'name': '', 'score': 0})\n</code></pre>\n\n<p>Not sure. </p>\n"}, {"tags": ["python", "pandas", "numpy", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7298911, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VHryvXFk__Y/AAAAAAAAAAI/AAAAAAAAAA8/zA0Ag_nBsKs/photo.jpg?sz=128", "display_name": "Han Fang", "link": "https://stackoverflow.com/users/7298911/han-fang"}, "edited": false, "score": 0, "creation_date": 1481903298, "post_id": 41152432, "comment_id": 69575689, "body": "Thanks for the reply @hpaulj. If I understand you correctly, the best approach should be <a href=\"http://stackoverflow.com/questions/31084942/pandas-sparse-dataframe-to-sparse-matrix-without-generating-a-dense-matrix-in-m\">Pandas sparse dataFrame to sparse matrix, without generating a dense matrix in memory</a>. Right?"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1481751628, "last_edit_date": 1495541789, "creation_date": 1481750640, "answer_id": 41152432, "question_id": 41152264, "link": "https://stackoverflow.com/questions/41152264/convert-pandas-sparsedataframe-to-scipy-sparse-csc-matrix/41152432#41152432", "title": "Convert Pandas SparseDataframe to Scipy sparse csc_matrix", "body": "<p>I've participated in various sparse Pandas to scipy sparce questions.</p>\n\n<p>There is a Pandas method for converting a multiindex sparse series to coo matrix:</p>\n\n<p><a href=\"http://pandas-docs.github.io/pandas-docs-travis/sparse.html#interaction-with-scipy-sparse\" rel=\"nofollow noreferrer\">http://pandas-docs.github.io/pandas-docs-travis/sparse.html#interaction-with-scipy-sparse</a></p>\n\n<p>But see <a href=\"https://stackoverflow.com/questions/31084942/pandas-sparse-dataframe-to-sparse-matrix-without-generating-a-dense-matrix-in-m\">Pandas sparse dataFrame to sparse matrix, without generating a dense matrix in memory</a>\nfor data frame to sparse.</p>\n\n<p>and</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37084032/how-do-i-create-a-scipy-sparse-matrix-from-a-pandas-dataframe\">How do I create a scipy sparse matrix from a pandas dataframe?</a></p>\n\n<p>and more recently, <a href=\"https://stackoverflow.com/questions/40594514/how-can-i-sparsify-on-two-values\">How can I &quot;sparsify&quot; on two values?</a></p>\n\n<p>Once you have a <code>coo</code> matrix, you can easily convert it to <code>csr</code> or <code>csc</code>.</p>\n\n<p>To avoid confusion I'd suggest creating a sample dataframe, convert to dense and then to sparse.  That we have something concrete to test.  I used to recommend the Pandas method, without realizing that MultiIndex was different from DataFrame.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 7298911, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VHryvXFk__Y/AAAAAAAAAAI/AAAAAAAAAA8/zA0Ag_nBsKs/photo.jpg?sz=128", "display_name": "Han Fang", "link": "https://stackoverflow.com/users/7298911/han-fang"}, "is_accepted": false, "score": 1, "last_activity_date": 1484584578, "last_edit_date": 1495540392, "creation_date": 1484584578, "answer_id": 41680976, "question_id": 41152264, "link": "https://stackoverflow.com/questions/41152264/convert-pandas-sparsedataframe-to-scipy-sparse-csc-matrix/41680976#41680976", "title": "Convert Pandas SparseDataframe to Scipy sparse csc_matrix", "body": "<p>Thanks to @hpaulj's reply. I ended it up using the template from <a href=\"https://stackoverflow.com/a/38157234/7298911\">https://stackoverflow.com/a/38157234/7298911</a>.</p>\n\n<p>Here is the modified implementation.</p>\n\n<pre><code>def sparseDfToCsc(df):\n    columns = df.columns\n    dat, rows = map(list,zip(*[(df[col].sp_values-df[col].fill_value, df[col].sp_index.to_int_index().indices) for col in columns]))\n    cols = [np.ones_like(a)*i for (i,a) in enumerate(dat)]\n    datF, rowsF, colsF = np.concatenate(dat), np.concatenate(rows), np.concatenate(cols)\n    arr = sparse.coo_matrix((datF, (rowsF, colsF)), df.shape, dtype=np.float64)\n    return arr.tocsc()\n\ndf = pd.get_dummies(df, sparse=True)\ncscMatrix = sparseDfToCsc(df)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7298911, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VHryvXFk__Y/AAAAAAAAAAI/AAAAAAAAAA8/zA0Ag_nBsKs/photo.jpg?sz=128", "display_name": "Han Fang", "link": "https://stackoverflow.com/users/7298911/han-fang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2447, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1484584578, "creation_date": 1481749908, "last_edit_date": 1481751112, "question_id": 41152264, "link": "https://stackoverflow.com/questions/41152264/convert-pandas-sparsedataframe-to-scipy-sparse-csc-matrix", "title": "Convert Pandas SparseDataframe to Scipy sparse csc_matrix", "body": "<p>I want to convert a pandas <code>SparseDataFrame</code> to a <code>scipy.sparse.csc_matrix</code>. But I don't want to convert it back to a dense matrix first.</p>\n\n<p>Right now I have something like the below.</p>\n\n<pre><code>df = pd.get_dummies(df, sparse=True)\n</code></pre>\n\n<p>Basically what I need is to further get a <code>scipy.sparse.csc_matrix</code> from <code>df</code>. Is there a way to do it?</p>\n"}, {"tags": ["python", "linux", "qt", "pyqt", "debian"], "comments": [{"owner": {"reputation": 236, "user_id": 3760565, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10153411538069309/picture?type=large", "display_name": "avelampudi", "link": "https://stackoverflow.com/users/3760565/avelampudi"}, "edited": false, "score": 0, "creation_date": 1481749744, "post_id": 41152209, "comment_id": 69506610, "body": "<a href=\"http://code.activestate.com/recipes/576911-keep-a-process-up-and-running/\" rel=\"nofollow noreferrer\">code.activestate.com/recipes/&hellip;</a>   I found this link, but can&#39;t quite figure out how to use it."}, {"owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "edited": false, "score": 0, "creation_date": 1481750394, "post_id": 41152209, "comment_id": 69506912, "body": "You could use <code>os.execl</code> after the qapplication exec returns. <a href=\"https://www.daniweb.com/programming/software-development/code/260268/restart-your-python-program\" rel=\"nofollow noreferrer\">see here</a>"}, {"owner": {"reputation": 3013, "user_id": 3545745, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/1hd2s.jpg?s=128&g=1", "display_name": "nick_gabpe", "link": "https://stackoverflow.com/users/3545745/nick-gabpe"}, "edited": false, "score": 0, "creation_date": 1481750638, "post_id": 41152209, "comment_id": 69507021, "body": "May I clarify? After qtdesign crash do you want automatically stop error.py or error.py stops by themself?"}, {"owner": {"reputation": 236, "user_id": 3760565, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10153411538069309/picture?type=large", "display_name": "avelampudi", "link": "https://stackoverflow.com/users/3760565/avelampudi"}, "edited": false, "score": 0, "creation_date": 1481750981, "post_id": 41152209, "comment_id": 69507175, "body": "<code>error.py</code> stops them by itself. My questions is how do I start up <code>qtdesign.py</code> up again?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1481753501, "post_id": 41152209, "comment_id": 69508250, "body": "@avelampudi. Why is <i>error.py</i> started by <code>subprocesss</code>? Why doesn&#39;t <i>qtdesign.py</i> show the error itself?"}, {"owner": {"reputation": 236, "user_id": 3760565, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10153411538069309/picture?type=large", "display_name": "avelampudi", "link": "https://stackoverflow.com/users/3760565/avelampudi"}, "edited": false, "score": 0, "creation_date": 1481754004, "post_id": 41152209, "comment_id": 69508434, "body": "there&#39;s a LOT of underlying code and other parts of the code that I left out. essentially, the error is created in another thread (not the GUI thread), so I needed to start error.py through a subprocess."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1481778930, "post_id": 41152209, "comment_id": 69515224, "body": "@avelampudi. Just send the error back to the main thread using a signal. There&#39;s no need for a separate process."}], "owner": {"reputation": 236, "user_id": 3760565, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10153411538069309/picture?type=large", "display_name": "avelampudi", "link": "https://stackoverflow.com/users/3760565/avelampudi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481749695, "creation_date": 1481749695, "question_id": 41152209, "link": "https://stackoverflow.com/questions/41152209/restart-python-script-after-quitting", "title": "restart python script after quitting", "body": "<p>I have a python3 script which contains GUI written in PyQt.\nThe main GUI script <code>qtdesign.py</code> calls upon other another interface. When the interface runs an error, I have subprocess <code>error.py</code> that pops up with an error message over <code>qtdesign.py</code>. </p>\n\n<p>Now, when this happens, I want to quit <code>error.py</code> and  <code>qtdesign.py</code> with <code>qApp.quit()</code> and AUTOMATICALLY restart <code>qtdesign.py</code> over again.</p>\n\n<p>For clarification:</p>\n\n<p><code>qtdesign.py</code> --> <code>[error]</code> --> <code>error.py</code> --> <code>[QUIT error.py &amp; qtdesign.py (qApp.quit())]</code> --> automatically restart <code>qtdesign.py</code></p>\n"}, {"tags": ["python", "mongodb", "pymongo", "replicaset"], "comments": [{"owner": {"reputation": 477, "user_id": 4504862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CcIBM.jpg?s=128&g=1", "display_name": "Mr.Budris", "link": "https://stackoverflow.com/users/4504862/mr-budris"}, "edited": false, "score": 1, "creation_date": 1482424371, "post_id": 41152191, "comment_id": 69777699, "body": "Given I can&#39;t find a &#39;solution&#39; to this specific problem, I&#39;ve decided to use a shell script to execute the mongodb replica initiation directly.  Basically I&#39;m using a shell script to follow through the steps on their walk through.  <a href=\"https://api.mongodb.com/python/current/examples/high_availability.html\" rel=\"nofollow noreferrer\">api.mongodb.com/python/current/examples/high_availability.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 7703, "user_id": 1741343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fc07de659f5f800d5abb5cd3d0abf8ab?s=128&d=identicon&r=PG", "display_name": "helmy", "link": "https://stackoverflow.com/users/1741343/helmy"}, "edited": false, "score": 1, "creation_date": 1493163570, "post_id": 41152191, "comment_id": 74294355, "body": "Are you running this same python script against all of the members of the replica set? If that&#39;s the case then that is your problem."}, {"owner": {"reputation": 477, "user_id": 4504862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CcIBM.jpg?s=128&g=1", "display_name": "Mr.Budris", "link": "https://stackoverflow.com/users/4504862/mr-budris"}, "reply_to_user": {"reputation": 7703, "user_id": 1741343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fc07de659f5f800d5abb5cd3d0abf8ab?s=128&d=identicon&r=PG", "display_name": "helmy", "link": "https://stackoverflow.com/users/1741343/helmy"}, "edited": false, "score": 0, "creation_date": 1493216617, "post_id": 41152191, "comment_id": 74322158, "body": "@helmy no, I ran the script only against the RS primary.  Edited the question for clarity."}, {"owner": {"reputation": 39047, "user_id": 431012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3875e53ee1752453e638e26bd0944192?s=128&d=identicon&r=PG", "display_name": "Asya Kamsky", "link": "https://stackoverflow.com/users/431012/asya-kamsky"}, "edited": false, "score": 0, "creation_date": 1493325183, "post_id": 41152191, "comment_id": 74381744, "body": "How can you have a script create users on the servers already?  If you start up a node with replSet option, you cannot write to them as you&#39;ll get a not master error.  Also you say you try this &quot;against the replica set primary&quot; - but there is no primary until you initialize the replica set successfully.  You should be starting up replica nodes with keyfile, initializing replica set and then creating users in the primary which will replicate."}, {"owner": {"reputation": 477, "user_id": 4504862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CcIBM.jpg?s=128&g=1", "display_name": "Mr.Budris", "link": "https://stackoverflow.com/users/4504862/mr-budris"}, "reply_to_user": {"reputation": 39047, "user_id": 431012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3875e53ee1752453e638e26bd0944192?s=128&d=identicon&r=PG", "display_name": "Asya Kamsky", "link": "https://stackoverflow.com/users/431012/asya-kamsky"}, "edited": false, "score": 0, "creation_date": 1493403502, "post_id": 41152191, "comment_id": 74419172, "body": "@AsyaKamsky when I said &#39;against the primary&#39; I&#39;m just using a convention -- it&#39;s not the primary yet, it is the node which will start out as the primary.  Edited for clarity."}], "answers": [{"comments": [{"owner": {"reputation": 6795, "user_id": 745831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f8bf389cdf63466cc5692fa7faec159?s=128&d=identicon&r=PG", "display_name": "Jesse Crossen", "link": "https://stackoverflow.com/users/745831/jesse-crossen"}, "edited": false, "score": 0, "creation_date": 1493327898, "post_id": 43667755, "comment_id": 74383034, "body": "Interesting, I was getting the same behavior after an untouched installation of mongo 3.4 from the official repo on Amazon Linux. I guess they might add a default user or something. I solved the problem by deleting everything in <code>&#47;var&#47;lib&#47;mongo&#47;</code>, but it seemed like that shouldn&#39;t be necessary."}, {"owner": {"reputation": 39047, "user_id": 431012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3875e53ee1752453e638e26bd0944192?s=128&d=identicon&r=PG", "display_name": "Asya Kamsky", "link": "https://stackoverflow.com/users/431012/asya-kamsky"}, "reply_to_user": {"reputation": 6795, "user_id": 745831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f8bf389cdf63466cc5692fa7faec159?s=128&d=identicon&r=PG", "display_name": "Jesse Crossen", "link": "https://stackoverflow.com/users/745831/jesse-crossen"}, "edited": false, "score": 0, "creation_date": 1493328516, "post_id": 43667755, "comment_id": 74383324, "body": "I just tried this with python and it all worked as I would have expected, but I started with clean instance.  I&#39;m guessing you&#39;re using some installation/deployment scripts that try to be helpful.  If you want to still do this with Python you can initiate the first node and then add the other ones through Python commands, same as through mongo shell."}, {"owner": {"reputation": 477, "user_id": 4504862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CcIBM.jpg?s=128&g=1", "display_name": "Mr.Budris", "link": "https://stackoverflow.com/users/4504862/mr-budris"}, "edited": false, "score": 0, "creation_date": 1493403309, "post_id": 43667755, "comment_id": 74419069, "body": "@AsyaKamsky Any thoughts as to why this order of operations (creating the user on the primary node before initiating the replica set) works for us every time when using the mongo shell, but fails with this script?  We experience no issues at all initiating the RS from the shell, only when using the python script."}, {"owner": {"reputation": 39047, "user_id": 431012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3875e53ee1752453e638e26bd0944192?s=128&d=identicon&r=PG", "display_name": "Asya Kamsky", "link": "https://stackoverflow.com/users/431012/asya-kamsky"}, "edited": false, "score": 0, "creation_date": 1494860926, "post_id": 43667755, "comment_id": 74995015, "body": "the operations you are doing in the shell are different than what you are doing in your python script.  rs.initiate with all three servers is different sequence than rs.initiate with one followed by rs.add for the other servers.  If you compare the same commands in shell and python script they will absolutely give you the same results."}], "tags": [], "owner": {"reputation": 39047, "user_id": 431012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3875e53ee1752453e638e26bd0944192?s=128&d=identicon&r=PG", "display_name": "Asya Kamsky", "link": "https://stackoverflow.com/users/431012/asya-kamsky"}, "is_accepted": true, "score": 4, "last_activity_date": 1493326571, "creation_date": 1493326571, "answer_id": 43667755, "question_id": 41152191, "link": "https://stackoverflow.com/questions/41152191/mongodb-cant-initiate-replica-set-has-data-already-cannot-initiate-set/43667755#43667755", "title": "MongoDB: Can&#39;t initiate replica set; &#39;has data already, cannot initiate set&#39;", "body": "<p>When you initialize the full replica set at once, every node should not have data.</p>\n\n<p>When you turn an existing single node into a replica set, its data becomes the replica set data, and then adding additional nodes will replicate data to them wiping out their existing data.</p>\n\n<p>What you should be doing is starting up the nodes, initializing the replica set and <em>then</em> creating users (only on the primary).</p>\n\n<blockquote>\n  <p>the users were ALREADY created on the other servers by a script</p>\n</blockquote>\n\n<p>This is the issue at the core - the only way this could have been done on an uninitialized member of a replica set is if it was first brought up as non-replica set node, users were added and then it was restarted with the <code>replSet</code> option.  That's not the correct sequence to follow.  For correct list of steps <a href=\"https://docs.mongodb.com/v3.2/tutorial/deploy-replica-set-with-keyfile-access-control/#deploy-repl-set-with-auth\" rel=\"nofollow noreferrer\">check the docs</a>.</p>\n"}], "owner": {"reputation": 477, "user_id": 4504862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CcIBM.jpg?s=128&g=1", "display_name": "Mr.Budris", "link": "https://stackoverflow.com/users/4504862/mr-budris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4731, "favorite_count": 1, "accepted_answer_id": 43667755, "answer_count": 1, "score": 13, "last_activity_date": 1493403564, "creation_date": 1481749609, "last_edit_date": 1493403564, "question_id": 41152191, "link": "https://stackoverflow.com/questions/41152191/mongodb-cant-initiate-replica-set-has-data-already-cannot-initiate-set", "title": "MongoDB: Can&#39;t initiate replica set; &#39;has data already, cannot initiate set&#39;", "body": "<p>I've got a MongoDB instance, <a href=\"https://docs.mongodb.com/v3.2/tutorial/deploy-replica-set-with-keyfile-access-control/#deploy-repl-set-with-auth\" rel=\"nofollow noreferrer\">set up using a config file and a key file</a>.  </p>\n\n<p>I'd like to <a href=\"https://api.mongodb.com/python/current/examples/high_availability.html\" rel=\"nofollow noreferrer\">initiate a replica set using pymongo</a>. When I attempt to initiate the replcia set, by executing a python script against the server which will become the replica set primary, as such:</p>\n\n<pre><code>from pymongo import MongoClient\n\nuri = \"mongodb://correctWorkingUsername:password@localhost:27017\"\nc = MongoClient(uri)\n\nconfig = {'_id': 'RelicaSetName', 'members': [\n{'_id': 0, 'host': 'FirstServer:27017'},\n{'_id': 1, 'host': 'SecondServer:27017'},\n{'_id': 2, 'host': 'ThirdServer:27017'}]}\n\nc.admin.command(\"replSetInitiate\", config)\n</code></pre>\n\n<p>I get an error message, the following:</p>\n\n<pre><code>'SecondSErver:27017' has data already, cannot initiate set\n</code></pre>\n\n<p>However, if I authenticate to the database using</p>\n\n<pre><code>mongo admin -u correctWorkingUsername -p password\n</code></pre>\n\n<p>I can initiate the replication, and successfully add members:</p>\n\n<pre><code>rs.initiate()\nrs.add('SecondServer:27017')\n</code></pre>\n\n<p>I was unsure if this was related to the keyfile authentication, or the fact that the users were ALREADY created on the other servers  by a script.  Each server has also been started with a config file, mongod.conf, which contains a replica set name.</p>\n\n<p>Why is this failing?  The rs.initiate() and rs.add() work perfectly, but the python script does not work though it can infact connect to the database.  </p>\n"}, {"tags": ["python", "python-2.7", "csv", "web-scraping"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1481749528, "post_id": 41152094, "comment_id": 69506496, "body": "What aren&#39;t you able to do?"}, {"owner": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1481749610, "post_id": 41152094, "comment_id": 69506541, "body": "I need assistance on how to direct Python to search for each one of the address column values one by one. How can I do that?"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "edited": false, "score": 0, "creation_date": 1481749736, "post_id": 41152202, "comment_id": 69506604, "body": "Thanks Tobey, I tried Selenium but from my understanding, Selenium only opens a browser and automates it. I do not think it can actually search for each one of the address column values one by one in the search box."}, {"owner": {"reputation": 1270, "user_id": 1123012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v9wDo.gif?s=128&g=1", "display_name": "Tobey", "link": "https://stackoverflow.com/users/1123012/tobey"}, "reply_to_user": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "edited": false, "score": 0, "creation_date": 1481749825, "post_id": 41152202, "comment_id": 69506642, "body": "I&#39;ll extend my answer to explain"}, {"owner": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "edited": false, "score": 0, "creation_date": 1481751313, "post_id": 41152202, "comment_id": 69507343, "body": "Thanks Tobey, this script does a heck of a job but it does not save the results for the addresses in the csv file. How can that be implemented?"}, {"owner": {"reputation": 1270, "user_id": 1123012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v9wDo.gif?s=128&g=1", "display_name": "Tobey", "link": "https://stackoverflow.com/users/1123012/tobey"}, "reply_to_user": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "edited": false, "score": 1, "creation_date": 1481751665, "post_id": 41152202, "comment_id": 69507482, "body": "You need to use a html parser to extract the info you need from the page source. I suggest Beautiful soup. I&#39;ll let you figure out this one"}, {"owner": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "edited": false, "score": 0, "creation_date": 1481752383, "post_id": 41152202, "comment_id": 69507795, "body": "Thanks Tobey for the help."}], "tags": [], "owner": {"reputation": 1270, "user_id": 1123012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v9wDo.gif?s=128&g=1", "display_name": "Tobey", "link": "https://stackoverflow.com/users/1123012/tobey"}, "is_accepted": true, "score": 3, "last_activity_date": 1481751878, "last_edit_date": 1481751878, "creation_date": 1481749657, "answer_id": 41152202, "question_id": 41152094, "link": "https://stackoverflow.com/questions/41152094/search-the-website-for-address-values/41152202#41152202", "title": "Search the website for Address values", "body": "<p>The request module downloads static HTML pages from the website. You cannot interact with Javascript</p>\n\n<p>You need to use <a href=\"http://www.marinamele.com/selenium-tutorial-web-scraping-with-selenium-and-python\" rel=\"nofollow noreferrer\">Selenium</a> to interact with the website </p>\n\n<p>For example</p>\n\n<pre><code>from selenium import webdriver\nfrom bs4 import BeautifulSoup\nimport time\ndriver = webdriver.Firefox()\ndriver.get('https://etrakit.friscotexas.gov/Search/permit.aspx')\n#read in addresses\nwith open('file.csv','r') as f:\n    adresses = f.readlines()\n\n# use css selectors to locate search field\nfor address in adresses:\n    driver.find_element_by_css_selector('#cplMain_txtSearchString').clear()       \n    driver.find_element_by_css_selector('#cplMain_txtSearchString').send_keys(address)\n    driver.find_element_by_css_selector('#cplMain_btnSearch').click()\n    time.sleep(5)\n    # JS injected HTML\n    soup = BeautifulSoup(driver.page_source)\n    # extract relavant info from the soup \n    # and save to your new csv here\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "edited": false, "score": 0, "creation_date": 1481750130, "post_id": 41152225, "comment_id": 69506788, "body": "How can selenium be viable here? I have used it in the past and, from my understanding, in a nutshell it automates a web scraping process."}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "edited": false, "score": 0, "creation_date": 1481750633, "post_id": 41152225, "comment_id": 69507019, "body": "@PLearner the other answer gives a very good explanation of it. Let me know if that doesn&#39;t solve your problem."}, {"owner": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "edited": false, "score": 0, "creation_date": 1481751331, "post_id": 41152225, "comment_id": 69507359, "body": "The script does a heck of a job but it does not save the results for the addresses in the csv file. How can that be implemented?"}], "tags": [], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "is_accepted": false, "score": 2, "last_activity_date": 1481749771, "creation_date": 1481749771, "answer_id": 41152225, "question_id": 41152094, "link": "https://stackoverflow.com/questions/41152094/search-the-website-for-address-values/41152225#41152225", "title": "Search the website for Address values", "body": "<p>You would need to do a <code>POST</code> request for each value you have in the csv file. For example, to search for \"6525 Mountain Sky Rd\" at <a href=\"https://etrakit.friscotexas.gov/Search/permit.aspx\" rel=\"nofollow noreferrer\">https://etrakit.friscotexas.gov/Search/permit.aspx</a>, you can look at the developer console to see what POST params it is giving. For example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/S8dXP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S8dXP.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can use something like <code>requests</code> and pass the header values and form data, or you could use something like <code>casper</code> or <code>selenium</code> to emulate the browser. </p>\n"}], "owner": {"reputation": 117, "user_id": 6622363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f6e9bcc475ffb083f5d3bb1c3168987?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Smith", "link": "https://stackoverflow.com/users/6622363/jason-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 41152202, "answer_count": 2, "score": 0, "last_activity_date": 1481751878, "creation_date": 1481749276, "question_id": 41152094, "link": "https://stackoverflow.com/questions/41152094/search-the-website-for-address-values", "title": "Search the website for Address values", "body": "<p>I have been scratching my head on how to tackle this dilemma of mines for a while now. I have a Address column in my csv file, which contains list of Addresses. I want to be able to direct Python to search the website designated below with the individual address values in the csv file and save the results into a new csv file.</p>\n\n<pre><code>import csv\nimport requests\n\nwith open('C:/Users/thefirstcolumn.csv') as csvfile:\n    reader = csv.DictReader(csvfile)\n    for row in reader:\n        print(row['Address'])\n\nwebsite = requests.get('https://etrakit.friscotexas.gov/Search/permit.aspx')\n\nwriter = csv.writer(open('thematchingresults.csv', 'w'))\n\nprint website.content\n</code></pre>\n\n<p>For example:</p>\n\n<p>One of the address value I have in the csv file: </p>\n\n<pre><code>6525 Mountain Sky Rd \n</code></pre>\n\n<p>returns three rows of data when I manually paste the address in the search box. How can I tell Python to search for each one of the addresses in the csv file on the website and save the results for each one of the addresses in a new csv file. How can I accomplish this mountainous task?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1481749275, "post_id": 41152074, "comment_id": 69506367, "body": "<code>self.original_frame_fps&#47;100</code>: integer division python 2. =&gt; <code>self.original_frame_fps&#47;100.0</code>"}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 3, "last_activity_date": 1481749674, "last_edit_date": 1481749674, "creation_date": 1481749364, "answer_id": 41152113, "question_id": 41152074, "link": "https://stackoverflow.com/questions/41152074/zerodivisionerror-python/41152113#41152113", "title": "ZeroDivisionError Python", "body": "<pre><code>self.frame_interval = input(\"What is your Camera's Frame interval(Sec)\")\n</code></pre>\n\n<p>it returns an integer, means that you're using python 2. So the next line</p>\n\n<pre><code>self.original_frame_fps = 1/self.frame_interval\n</code></pre>\n\n<p>probably issues 0 if <code>self.frame_interval</code> > 1</p>\n\n<pre><code>self.small_original = self.original_frame_fps/100\n</code></pre>\n\n<p>so <code>self.small_original</code> is zero</p>\n\n<pre><code>self.percentage = self.final_fps/self.small_original\n</code></pre>\n\n<p>so it crashes.</p>\n\n<p>Fix: work with <em>floats</em>:</p>\n\n<pre><code>self.original_frame_fps = 1.0/self.frame_interval\n</code></pre>\n\n<p>and</p>\n\n<pre><code>self.small_original = self.original_frame_fps/100.0\n</code></pre>\n\n<p>(of course check that <code>self.frame_interval</code> isn't <code>0</code> either)</p>\n\n<p>Alternatives: </p>\n\n<ol>\n<li><p>use python 3, with just a small fix (and still the check for zero):</p>\n\n<p>self.final_fps = int(input(\"What will your final edit be at(FPS)?\\n\"))\nself.frame_interval = int(input(\"What is your Camera's Frame interval(Sec)\"))</p></li>\n</ol>\n\n<p>since <code>input</code> returns strings now (like <code>raw_input</code> does in python 3)</p>\n\n<ol start=\"2\">\n<li><p>use python 3 division in python 2: add this at the start of your file:</p>\n\n<p><code>from __future__ import division</code></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481749567, "post_id": 41152118, "comment_id": 69506516, "body": "first there&#39;s <code>self.original_frame_fps = 1.0&#47;self.frame_interval</code>"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481749724, "post_id": 41152118, "comment_id": 69506599, "body": "@Jean-Fran&#231;oisFabre: Thanks for pointing. I had already changed it :)"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1481749632, "last_edit_date": 1481749632, "creation_date": 1481749385, "answer_id": 41152118, "question_id": 41152074, "link": "https://stackoverflow.com/questions/41152074/zerodivisionerror-python/41152118#41152118", "title": "ZeroDivisionError Python", "body": "<p>My best guess is you are using Python 2.7 which returns an integer value on division of two <code>int</code>. For example:</p>\n\n<pre><code>&gt;&gt;&gt; 5 / 100\n0\n</code></pre>\n\n<p>That is the reason the value of <code>self.small_original</code> is getting set as 0. In order to fix it, you need to type-cast any of the numerator or denominator to <code>float</code> as:</p>\n\n<pre><code>&gt;&gt;&gt; float(5) / 100\n0.05  # returns float value\n</code></pre>\n\n<p>Hence, you need to update the line in your code with:</p>\n\n<pre><code>self.original_frame_fps = 1.0/self.frame_interval\n#               float here ^\n</code></pre>\n\n<p>and </p>\n\n<pre><code>self.small_original = self.original_frame_fps/100.0\n#                                  float value  ^\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 3519870, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5824694756b4d461766809f3cb0d0f6c?s=128&d=identicon&r=PG&f=1", "display_name": "user3519870", "link": "https://stackoverflow.com/users/3519870/user3519870"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481750348, "creation_date": 1481749204, "last_edit_date": 1481750348, "question_id": 41152074, "link": "https://stackoverflow.com/questions/41152074/zerodivisionerror-python", "title": "ZeroDivisionError Python", "body": "<pre><code>def do_timelapse(self, cmd):\n    self.final_fps = input(\"What will your final edit be at(FPS)?\\n\")\n    self.frame_interval = input(\"What is your Camera's Frame interval(Sec)\")\n    self.original_frame_fps = 1/self.frame_interval\n    self.small_original = self.original_frame_fps/100\n    self.percentage = self.final_fps/self.small_original\n    print self.percentage\n</code></pre>\n\n<p>How do i resolve this error: </p>\n\n<pre><code>self.percentage = self.final_fps/self.small_original\nZeroDivisionError: integer division or modulo by zero ?\n</code></pre>\n"}, {"tags": ["python", "nltk", "naivebayes"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1481749059, "post_id": 41151993, "comment_id": 69506264, "body": "That sounds like a rather extreme difference, and it&#39;s hard to tell if there is a bug or it&#39;s working as it should. But in general, stemming and stop-word removal does not guarantee (or even tend to imply) better performance."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1481758133, "post_id": 41151993, "comment_id": 69509910, "body": "Removing stopwords and word endings takes you from 45000 words to just 205 words? No way. Examine the filtered text data to figure out what is going wrong with your filtering."}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 1280565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPUeD.jpg?s=128&g=1", "display_name": "Sunjay Dhama", "link": "https://stackoverflow.com/users/1280565/sunjay-dhama"}, "is_accepted": false, "score": 1, "last_activity_date": 1521008234, "creation_date": 1521008234, "answer_id": 49270893, "question_id": 41151993, "link": "https://stackoverflow.com/questions/41151993/nltk-stemming-and-stop-words-for-naive-bayes/49270893#49270893", "title": "nltk stemming and stop words for naive bayes", "body": "<p>Adding stemming or removing stop words could <strong>not</strong> cause your issue. I think you have an issue further up in your code due to how you read the file. When I was following <a href=\"https://youtu.be/UF-RyxOAHQw\" rel=\"nofollow noreferrer\">sentdex's tutorial</a> on YouTube, I came across this same error. I was stuck for the past hour, but I finally got it. If you follow his code you get this:</p>\n\n<pre><code>short_pos = open(\"short_reviews/positive.txt\", \"r\").read()\nshort_neg = open(\"short_reviews/negative.txt\", \"r\").read()\n\ndocuments = []\n\nfor r in short_pos.split('\\n'):\n    documents.append( (r, 'pos' ))\n\nfor r in short_neg.split('\\n'):\n    documents.append( (r, 'neg' ))\n\nall_words = []\n\nshort_pos_words = word_tokenize(short_pos)\nshort_neg_words = word_tokenize(short_neg)\n\nfor w in short_pos_words:\n    all_words.append(w.lower())\n\nfor w in short_neg_words:\n    all_words.append(w.lower())\n\nall_words = nltk.FreqDist(all_words)\nword_features = list(all_words.keys())[:5000]\n</code></pre>\n\n<p>I kept running into this error:\n<code>UnicodeDecodeError: 'utf-8' codec can't decode byte 0x97 in position 6056: invalid start byte</code>.\nYou get this error because there are non UTF-8 characters in the <a href=\"https://pythonprogramming.net/static/downloads/short_reviews/\" rel=\"nofollow noreferrer\">files provided</a>. I was able to get around the error by changing the code to this:</p>\n\n<pre><code>fname = 'short_reviews/positive.txt'\nwith open(fname, 'r', encoding='utf-16') as f:\n    for line in f:\n        pos_lines.append(line)\n</code></pre>\n\n<p>Unfortunately, then I started getting this error:\n<code>UnicodeError: UTF-16 stream does not start with BOM</code></p>\n\n<p>I forget how, but I made this error go away too. Then I started getting the same error as your original question:\n<code>ValueError: Sample sequence X is empty.</code>\nWhen I printed the length of <code>featuresets</code>, I saw it was only 2.</p>\n\n<pre><code>print(\"Feature sets list length : \", len(featuresets))\n</code></pre>\n\n<p>After digging on this site, I found these two questions:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/26541968/delete-every-non-utf-8-symbols-froms-string\">Delete every non utf-8 symbols froms string</a></li>\n<li><a href=\"https://stackoverflow.com/questions/26125141/str-object-has-no-attribute-decode-in-python3\">&#39;str&#39; object has no attribute &#39;decode&#39; in Python3</a></li>\n</ol>\n\n<p>The first one didn't really help, but the second one solved my problem (Note: I'm using <a href=\"/questions/tagged/python-3\" class=\"post-tag\" title=\"show questions tagged &#39;python-3&#39;\" rel=\"tag\">python-3</a>).</p>\n\n<p>I'm not one for one liners, but this worked for me:</p>\n\n<pre><code>pos_lines = [line.rstrip('\\n') for line in open('short_reviews/positive.txt', 'r', encoding='ISO-8859-1')]\n</code></pre>\n\n<p>I will update <a href=\"https://github.com/sdsunjay/nlp-tutorials\" rel=\"nofollow noreferrer\">my github repo</a> later this week with the full code for the <a href=\"/questions/tagged/nlp\" class=\"post-tag\" title=\"show questions tagged &#39;nlp&#39;\" rel=\"tag\">nlp</a> tutorial if you'd like to see the complete solution. I realize this answer probably comes 2 years too late, but hopefully it helps. </p>\n"}], "owner": {"reputation": 369, "user_id": 2075215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71a828133ed48a5e09ab09efb7988328?s=128&d=identicon&r=PG", "display_name": "user2075215", "link": "https://stackoverflow.com/users/2075215/user2075215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521008234, "creation_date": 1481748877, "question_id": 41151993, "link": "https://stackoverflow.com/questions/41151993/nltk-stemming-and-stop-words-for-naive-bayes", "title": "nltk stemming and stop words for naive bayes", "body": "<p>I'm looking to understand why using stemming and stop words, results in worse results in my naive bayes classifier.</p>\n\n<p>I have two files, positive and negative reviews, both of which have around 200 lines but with many words, possibly with 5000 words per line.</p>\n\n<p>I have the following code that creates a bag of words and then I create two feature sets for training and testing, then I run it against the nltk classifier</p>\n\n<pre><code>word_features = list(all_words.keys())[:15000]\n\ntesting_set = featuresets[10000:]\ntraining_set = featuresets[:10000]\n\nnbclassifier = nltk.NaiveBayesClassifier.train(training_set)\nprint((nltk.classify.accuracy(nbclassifier, testing_set))*100)\n\nnbclassifier.show_most_informative_features(30)\n</code></pre>\n\n<p>This produces around 45000 words and has an accuracy of 85%.</p>\n\n<p>I've looked at adding stemming (PorterStemmer) and removing stop words in my training data, but when I run the classifier again I now get 205 words and a 0% accuracy in my classifier and while testing other classifiers the script generates errors</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"foo.py\", line 108, in &lt;module&gt;\n    print((nltk.classify.accuracy(MNB_classifier, testing_set))*100)\n  File \"/Library/Python/2.7/site-packages/nltk/classify/util.py\", line 87, in accuracy\n    results = classifier.classify_many([fs for (fs, l) in gold])\n  File \"/Library/Python/2.7/site-packages/nltk/classify/scikitlearn.py\", line 83, in classify_many\n    X = self._vectorizer.transform(featuresets)\n  File \"/Library/Python/2.7/site-packages/sklearn/feature_extraction/dict_vectorizer.py\", line 293, in transform\n    return self._transform(X, fitting=False)\n  File \"/Library/Python/2.7/site-packages/sklearn/feature_extraction/dict_vectorizer.py\", line 184, in _transform\n    raise ValueError(\"Sample sequence X is empty.\")\nValueError: Sample sequence X is empty.\n</code></pre>\n\n<p>I don't understand why adding stemming and or removing stop words breaks the classifier?</p>\n"}, {"tags": ["python", "flask", "flask-httpauth"], "comments": [{"owner": {"reputation": 4294, "user_id": 2826421, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/digYw.png?s=128&g=1", "display_name": "MrLeeh", "link": "https://stackoverflow.com/users/2826421/mrleeh"}, "edited": false, "score": 1, "creation_date": 1481750028, "post_id": 41151965, "comment_id": 69506743, "body": "I don&#39;t know if you can do this with flask-httpauth as you need a object passed to your template that contains the information if the user is authenticated. I know you definitely can do this with <a href=\"https://flask-login.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">Flask-Login</a>, see here <a href=\"http://stackoverflow.com/questions/18361151/using-flask-login-session-with-jinja2-templates\" title=\"using flask login session with jinja2 templates\">stackoverflow.com/questions/18361151/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": false, "score": 3, "last_activity_date": 1534387890, "last_edit_date": 1534387890, "creation_date": 1481750908, "answer_id": 41152480, "question_id": 41151965, "link": "https://stackoverflow.com/questions/41151965/check-if-flask-httpauth-is-authenticated-inside-view/41152480#41152480", "title": "Check if Flask-HTTPAuth is authenticated inside view", "body": "<p>You can decorate a function that returns <code>None</code> with <code>login_required</code>. Calling it while not authenticated will return an error response, calling it while authenticated will return <code>None</code>.</p>\n\n<pre><code># a dummy callable to execute the login_required logic\nlogin_required_dummy_view = auth.login_required(lambda: None)\n\ndef is_authenticated():\n    try:\n        # default implementation returns a string error\n        return login_required_dummy_view() is None\n    except HTTPException:\n        # in case auth_error_callback raises a real error\n        return False\n\n@app.route('/info')\ndef info():\n    if is_authenticated():\n        # logged in view\n\n    else:\n        # basic view\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/q/30761002/400617\">Default login_required rather than adding decorator everywhere</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "is_accepted": true, "score": 5, "last_activity_date": 1481788056, "creation_date": 1481788056, "answer_id": 41158941, "question_id": 41151965, "link": "https://stackoverflow.com/questions/41151965/check-if-flask-httpauth-is-authenticated-inside-view/41158941#41158941", "title": "Check if Flask-HTTPAuth is authenticated inside view", "body": "<p>What you want is actually very easy to implement. In your <code>verify_password</code> callback, you will get username and password set to <code>''</code> when the user does not provide credentials. You can still return <code>True</code> from that function, and that will allow the anonymous user to access the endpoint.</p>\n\n<p>The following example demonstrates this technique:</p>\n\n<pre><code>auth = HTTPBasicAuth()\n\n@auth.verify_password\ndef verify_password(username, password):\n    if username == '' or password == '':\n        # anonymous user, we still let them in\n        g.current_user = None\n        return True\n    g.current_user = my_verify_function(username, password)\n    return g.current_user is not None\n\n@app.route(\"/clothesInfo\")\n@auth.login_required\ndef show_info():\n    if g.current_user:\n        # prepare data for authenticated users here\n        pass\n    else:\n        # prepare data for anonymous users here\n        pass\n    return jsonify(data)\n</code></pre>\n"}], "owner": {"reputation": 1705, "user_id": 4297361, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-u5AGdJCuW80/AAAAAAAAAAI/AAAAAAAAAC0/2UkwELQpoCY/photo.jpg?sz=128", "display_name": "Shahryar Saljoughi", "link": "https://stackoverflow.com/users/4297361/shahryar-saljoughi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 1, "accepted_answer_id": 41158941, "answer_count": 2, "score": 3, "last_activity_date": 1534387890, "creation_date": 1481748792, "last_edit_date": 1481751478, "question_id": 41151965, "link": "https://stackoverflow.com/questions/41151965/check-if-flask-httpauth-is-authenticated-inside-view", "title": "Check if Flask-HTTPAuth is authenticated inside view", "body": "<p>I'm using Flask-HTTPAuth for authentication. I want to display different data from a view depending on if the request was authenticated or not. Decorating the view with <code>auth.login_required</code> only shows it to authenticated users. How can I test if the request was authenticated with Flask-HTTPAuth?</p>\n\n<pre><code>auth = HTTPBasicAuth()\n\n@app.route(\"/clothesInfo\")\n@auth.login_required\ndef show_info():\n    return jsonify(blah blah blah)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "parsing"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1481749061, "post_id": 41151962, "comment_id": 69506266, "body": "<code>for val in L1: if val in L2: return False</code>. So if you present two lists and they have an item in common, the function should return <code>False</code>?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481749163, "post_id": 41151962, "comment_id": 69506318, "body": "so your function returns <code>None</code> or a 1-item list. Is that intentional?"}, {"owner": {"reputation": 223, "user_id": 1598306, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e65614030a55bc77d86a36139c7469f?s=128&d=identicon&r=PG", "display_name": "NineTail", "link": "https://stackoverflow.com/users/1598306/ninetail"}, "edited": false, "score": 0, "creation_date": 1481749273, "post_id": 41151962, "comment_id": 69506366, "body": "I want it to return False if the lists do not match. True otherwise. If it&#39;s True i don&#39;t want to do anything with it. If it&#39;s False i will do other things."}, {"owner": {"reputation": 223, "user_id": 1598306, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e65614030a55bc77d86a36139c7469f?s=128&d=identicon&r=PG", "display_name": "NineTail", "link": "https://stackoverflow.com/users/1598306/ninetail"}, "edited": false, "score": 0, "creation_date": 1481923272, "post_id": 41151962, "comment_id": 69584949, "body": "Any Idea why the Parsefiles function is only returning the first file in the directory? When i print (hostname) is does everyone, but when i save it in a variable it only does the first one."}], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 1598306, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e65614030a55bc77d86a36139c7469f?s=128&d=identicon&r=PG", "display_name": "NineTail", "link": "https://stackoverflow.com/users/1598306/ninetail"}, "edited": false, "score": 0, "creation_date": 1481751145, "post_id": 41152286, "comment_id": 69507260, "body": "I think i found the issue while debugging using your example. The ParseFile function for some reason is only returning the first parsed file in the directory and is not storing the rest. I&#39;m not sure why this is happening."}], "tags": [], "owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "is_accepted": false, "score": 1, "last_activity_date": 1481750970, "last_edit_date": 1481750970, "creation_date": 1481749985, "answer_id": 41152286, "question_id": 41151962, "link": "https://stackoverflow.com/questions/41151962/comparing-two-lists-after-parse-from-a-directory/41152286#41152286", "title": "Comparing Two Lists after Parse from a directory", "body": "<p>Since your first check is that the lists are the same length, you avoid the issue with comparing list <code>d</code> here.</p>\n\n<pre><code>a = [1, 2, 3]\nb = [3, 2, 1]\nc = [4, 2, 3]\nd = [3, 3, 2, 1]\n\n# Long version\ndef compare(L1, L2):\n    \"\"\"\n    Create a list of booleans for every item, and only return True\n    if *all* items in L1 are in L2\n    \"\"\"\n    print(\"comparison lists are {} and {}\".format(L1, L2))\n    print(\"Boolean list is {}\".format([item in L1 for item in L2]))\n\n    if all(item in L1 for item in L2):\n        print('Equal lists')\n        return True\n\n    print ('Not equal')\n    return False\n\ncall1 = compare(a, b)\nprint \"Bool value is: {}\".format(call1)\nprint \"...............\"\n\ncall2 = compare(c, a)\nprint \"Bool value is: {}\".format(call2)\nprint \"...............\"\n\ncall3 = compare(a, d)\nprint \"Bool value is: {}\".format(call3)\nprint \"...............\"\n\n\n# Short function\ndef compare(L1, L2):\n    return all(item in L1 for item in L2)\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 1598306, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e65614030a55bc77d86a36139c7469f?s=128&d=identicon&r=PG", "display_name": "NineTail", "link": "https://stackoverflow.com/users/1598306/ninetail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482180818, "creation_date": 1481748782, "last_edit_date": 1482180818, "question_id": 41151962, "link": "https://stackoverflow.com/questions/41151962/comparing-two-lists-after-parse-from-a-directory", "title": "Comparing Two Lists after Parse from a directory", "body": "<p>I have created a function that will parse through files in a directory and save the values in a list. I then run the function on three different directories. Once I do this I then want to compare the lists to see if they are equal. However, the function to do this is always returning False even when I copy and paste the same files in each directory. Below are the two functions I am working with.</p>\n\n<p><strong>ParseFiles Function</strong>:</p>\n\n<pre><code>def ParseFiles(path):\n    for filename in os.listdir(path):\n        # check filename to ensure it ends in appropriate file extension\n        if filename.endswith(('.cfg', '.startup', 'confg')):\n            # concatinate os path and filename\n            file_name = os.path.join(path, filename)\n            with open(file_name, \"r\") as in_file:\n                for line in in_file:\n                    # match everything after hostname\n                    match = re.search('^hostname\\s(\\S+)$', line)\n                    #store match in a list for use later\n                    if match:\n                        hostname = [match.group(1)]\n                        return hostname\n                        #print (hostname)\n</code></pre>\n\n<p><strong>Compare Parse</strong>: </p>\n\n<pre><code>def ParseCompare(L1, L2):\n    if len(L1) != len(L2):\n        return False\n    for val in L1:\n        if val in L2:\n            return False   \n    return True\n</code></pre>\n\n<p><strong>Testing Parse</strong>:</p>\n\n<pre><code>archiveParse = ParseFiles(TEST_PATH)\nstartupParse = ParseFiles(TEST_PATH_1)\nrunningParse = ParseFiles(TEST_PATH_2)\n\nprint ParseCompare(startupParse, archiveParse)\n\nif ParseCompare(startupParse, archiveParse) == False:\n    print(\"Startup does not match Archive\")\nif ParseCompare(startupParse, runningParse) == False:\n    print(\"Startup and Running do not match\")\nif ParseCompare(runningParse, archiveParse) == False:\n    print(\"Running does not match Archive\")\nelse:\n    print(\"Compared OK\")\n</code></pre>\n"}, {"tags": ["python", "class", "oop"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1481749137, "post_id": 41151958, "comment_id": 69506306, "body": "Wrap the initialization code in a function and call it twice?"}], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 3526083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ccf9e14a0738d582cbecc2983d48be?s=128&d=identicon&r=PG&f=1", "display_name": "Nath", "link": "https://stackoverflow.com/users/3526083/nath"}, "edited": false, "score": 0, "creation_date": 1481749922, "post_id": 41152132, "comment_id": 69506688, "body": "I agree with @Adam smith, the core  issue is that your code  currently using global state. Don&#39;t use the VideoConference class to init global bars,  actually store all state related to the video system in an instance of the class."}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1481749417, "creation_date": 1481749417, "answer_id": 41152132, "question_id": 41151958, "link": "https://stackoverflow.com/questions/41151958/about-the-need-of-creating-a-class-in-python/41152132#41152132", "title": "About the need of creating a class in Python", "body": "<p>This sounds like the perfect use case for a <code>VideoConferenceSystem</code> object. You say you have globals (ew!) that govern state (yuck!) and calls functions for control.</p>\n\n<p>Sounds to me like you've got the chance to convert that all to an object that has attributes that hold state and methods to mutate it. Sounds like you should be refactoring more than just the initialization code, so those <code>vidC1</code> and <code>vidC2</code> objects are useful.</p>\n"}, {"tags": [], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "is_accepted": true, "score": 2, "last_activity_date": 1481749421, "creation_date": 1481749421, "answer_id": 41152136, "question_id": 41151958, "link": "https://stackoverflow.com/questions/41151958/about-the-need-of-creating-a-class-in-python/41152136#41152136", "title": "About the need of creating a class in Python", "body": "<p>Perhaps this is a matter of preference, but I think having a class in the above case would be the safer bet. Often I'll write a function and when it gets too complicated I'll think that I should have created a class (and often do so), but I've never created a class that was too simple and thought that this is too easy why didn't I just create a function.</p>\n\n<p>Even if you have one object instead of two, it often helps readability to create a class. For example:</p>\n\n<pre><code>vid = VideoConference()\n# vid.initialize_old_system() # Suppose you have an old system that you no longer use\n                              # But want to keep its method for reference\nvid.initialize_new_system()\nvid.view_call_history(since=yesterday)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 405, "user_id": 3155622, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/501509441/picture?type=large", "display_name": "Frumples", "link": "https://stackoverflow.com/users/3155622/frumples"}, "is_accepted": false, "score": 1, "last_activity_date": 1481749617, "creation_date": 1481749617, "answer_id": 41152193, "question_id": 41151958, "link": "https://stackoverflow.com/questions/41151958/about-the-need-of-creating-a-class-in-python/41152193#41152193", "title": "About the need of creating a class in Python", "body": "<p>I think you're approaching this problem the right way in your example. In this way, you can have multiple video conferences, each of which may have different attribute states (e.g. vidC1.conference_duration, etc.).</p>\n"}], "owner": {"reputation": 1824, "user_id": 1095785, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ae43eece33a13aa669b3ba4d3773a6f0?s=128&d=identicon&r=PG", "display_name": "MorgoZ", "link": "https://stackoverflow.com/users/1095785/morgoz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 41152136, "answer_count": 3, "score": 0, "last_activity_date": 1481749617, "creation_date": 1481748773, "last_edit_date": 1481749069, "question_id": 41151958, "link": "https://stackoverflow.com/questions/41151958/about-the-need-of-creating-a-class-in-python", "title": "About the need of creating a class in Python", "body": "<p>Let's say that i have a Python module to control a videoconference system. In that module i have some global variables and functions to control the states of the videoconference, the calls, a phone book, etc.</p>\n\n<p>To start the control system, the module self-executes a function to initialize the videoconference (ethernet connection, polling states and so)</p>\n\n<p>Now, if i need to start controlling a second videoconference system, i'm not sure how to approach that problem: i thought about making the videoconference module a class and create two instances (one for each videoconference system) and then initialize both, but the problem is that i don't really need to have two instances of a videoconference class since i won't do anything with those objects because i only need to initialize the systems; after that i don't need to call or keep them for anything else.</p>\n\n<p>example code:</p>\n\n<p>Videoconference.py</p>\n\n<pre><code>class Videoconference:\n    def __init__(self):\n        self.state = 0\n        #Initialization code\n</code></pre>\n\n<p>Main.py</p>\n\n<pre><code>from Videoconference import Videoconference\n\nvidC1 = Videoconference()\nvidC2 = Videoconference()\n#vidC1 and vidC2 will never be use again\n</code></pre>\n\n<p>So, the question is: should i convert the videoconference module to a class and create instances (like in the example), even if i'm not going to use them for anything else appart of the initialization process? Or is there another solution without creating a class?</p>\n"}, {"tags": ["python", "python-3.x", "calculator"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 4, "creation_date": 1481748763, "post_id": 41151939, "comment_id": 69506101, "body": "<code>input()</code> returns a string in Python 3; you want an integer <code>c = int(input())</code>"}, {"owner": {"reputation": 2950, "user_id": 3405554, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ejRLl.jpg?s=128&g=1", "display_name": "harshil9968", "link": "https://stackoverflow.com/users/3405554/harshil9968"}, "edited": false, "score": 0, "creation_date": 1481748781, "post_id": 41151939, "comment_id": 69506110, "body": "what is the problem?"}], "answers": [{"comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1481748940, "post_id": 41151988, "comment_id": 69506193, "body": "This doesn&#39;t address all problems and doesn&#39;t explain why it&#39;s needed.."}], "tags": [], "owner": {"reputation": 57, "user_id": 6356645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65117832146b30607d8f069e64698863?s=128&d=identicon&r=PG&f=1", "display_name": "ECM", "link": "https://stackoverflow.com/users/6356645/ecm"}, "is_accepted": false, "score": 0, "last_activity_date": 1481749139, "last_edit_date": 1481749139, "creation_date": 1481748856, "answer_id": 41151988, "question_id": 41151939, "link": "https://stackoverflow.com/questions/41151939/why-isnt-my-python-calculator-working/41151988#41151988", "title": "Why isn&#39;t my Python calculator working?", "body": "<p><code>input()</code> in Python 3 is same as <code>raw_input()</code> in Python 2.7 which returns object of <code>str</code> type. You need to explicitly type-cast it to <code>int</code></p>\n\n<pre><code> c = int(input())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 5299098, "user_type": "registered", "profile_image": "https://graph.facebook.com/774147826027187/picture?type=large", "display_name": "Adyn_G", "link": "https://stackoverflow.com/users/5299098/adyn-g"}, "edited": false, "score": 0, "creation_date": 1481749772, "post_id": 41152093, "comment_id": 69506618, "body": "That worked perfectly but now I am having indentation issues with this. Still new and getting used to how indents work."}, {"owner": {"reputation": 809, "user_id": 6874714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eyk5e.png?s=128&g=1", "display_name": "abacles", "link": "https://stackoverflow.com/users/6874714/abacles"}, "reply_to_user": {"reputation": 7, "user_id": 5299098, "user_type": "registered", "profile_image": "https://graph.facebook.com/774147826027187/picture?type=large", "display_name": "Adyn_G", "link": "https://stackoverflow.com/users/5299098/adyn-g"}, "edited": false, "score": 0, "creation_date": 1481749828, "post_id": 41152093, "comment_id": 69506644, "body": "Where are you having indentation issues?"}, {"owner": {"reputation": 7, "user_id": 5299098, "user_type": "registered", "profile_image": "https://graph.facebook.com/774147826027187/picture?type=large", "display_name": "Adyn_G", "link": "https://stackoverflow.com/users/5299098/adyn-g"}, "edited": false, "score": 0, "creation_date": 1481750076, "post_id": 41152093, "comment_id": 69506765, "body": "The get_inputs() on each math function"}], "tags": [], "owner": {"reputation": 809, "user_id": 6874714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eyk5e.png?s=128&g=1", "display_name": "abacles", "link": "https://stackoverflow.com/users/6874714/abacles"}, "is_accepted": false, "score": 0, "last_activity_date": 1481750405, "last_edit_date": 1481750405, "creation_date": 1481749273, "answer_id": 41152093, "question_id": 41151939, "link": "https://stackoverflow.com/questions/41151939/why-isnt-my-python-calculator-working/41152093#41152093", "title": "Why isn&#39;t my Python calculator working?", "body": "<p>First, use <code>c = int(input())</code> instead to convert the input string to integer.\nAlso, just to make the program cleaner, since you're already using functions (<code>calc</code>), might as well put the input part for each operation in a function:</p>\n\n<pre><code>def get_inputs():\n    print(\"Enter a number\")\n    x = int(input())\n    print(\"Enter another number\")\n    y = int(input())\n    return x, y\n</code></pre>\n\n<p>And then for each operation do something like:</p>\n\n<pre><code>if c == 1:\n    a, b = get_inputs()\n    return a + b\n</code></pre>\n\n<p>(Edit) try this:</p>\n\n<pre><code>def get_inputs():\n    print(\"Enter a number\")\n    x = int(input())\n    print(\"Enter another number\")\n    y = int(input())\n    return x, y\n\ndef calc():\n    print(\"Press 1 for addition\")\n    print(\"Press 2 for subtraction\")\n    print(\"Press 3 for multiplication\")\n    print(\"Press 4 for division\")\n\n    c = int(input())\n\n    if c == 1:\n        x, y = get_inputs()\n        return x + y\n\n    elif c == 2:\n        x, y = get_inputs()\n        return x - y\n\n    elif c == 3:\n        x, y = get_inputs()\n        return x * y\n\n    elif c == 4:\n        x, y = get_inputs()\n        return x / y\n\ncalc()\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5299098, "user_type": "registered", "profile_image": "https://graph.facebook.com/774147826027187/picture?type=large", "display_name": "Adyn_G", "link": "https://stackoverflow.com/users/5299098/adyn-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 0, "closed_date": 1481749523, "answer_count": 2, "score": -1, "last_activity_date": 1481750405, "creation_date": 1481748708, "last_edit_date": 1481749989, "question_id": 41151939, "link": "https://stackoverflow.com/questions/41151939/why-isnt-my-python-calculator-working", "closed_reason": "Duplicate", "title": "Why isn&#39;t my Python calculator working?", "body": "<p>When I execute and run the code the program doesn't seem to store the c input, therefore not continuing the code to perform the rest of the calculator function. </p>\n\n<pre><code>def calc():\n\n    print(\"Press 1 for addition\")\n    print(\"Press 2 for subtraction\")\n    print(\"Press 3 for multiplication\")\n    print(\"Press 4 for division\")\n\n    c = input()\n\n    if c == 1:\n        print(\"Enter a number\")\n        x = input()\n        print(\"Enter another number\")\n        y = input()\n        return x + y\n\n    elif c == 2:\n        print(\"Enter a number\")\n        x = input()\n        print(\"Enter another number\")\n        y = input()\n        return x - y\n\n    elif c == 3:\n        print(\"Enter a number\")\n        x = input()\n        print(\"Enter another number\")\n        y = input()\n        return x * y\n\n    elif c == 4:\n        print(\"Enter a number\")\n        x = input()\n        print(\"Enter another number\")\n        y = input()\n        return x / y\n\ncalc()\n</code></pre>\n\n<p>I've now improved the code but can't seem to get the indentation right and it seems that the return function on each type of math that is being performed is 'outside function'</p>\n\n<pre><code>def calc():\nprint(\"Press 1 for addition\")\nprint(\"Press 2 for subtraction\")\nprint(\"Press 3 for multiplication\")\nprint(\"Press 4 for division\")\n\nc = int(input())\n\ndef get_inputs():\n    print(\"Enter a number\")\n    x = int(input())\n    print(\"Enter another number\")\n    y = int(input())\n    return x, y\n\nif c == 1:\n    x, y = get_inputs()\n    return x + y #These return functions seem to be an error\n\nelif c == 2:\n    x, y = get_inputs()\n    return x - y\n\nelif c == 3:\n    x, y = get_inputs()\n    return x * y\n\nelif c == 4:\n    x, y = get_inputs()\n    return x / y\n\ncalc()\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1481748731, "post_id": 41151932, "comment_id": 69506075, "body": "Show us what you tried. SO is not code writing service"}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 4, "last_activity_date": 1481750027, "creation_date": 1481750027, "answer_id": 41152295, "question_id": 41151932, "link": "https://stackoverflow.com/questions/41151932/how-do-i-remove-numbers-and-or-parenthesis-from-names-in-a-dataframe-column/41152295#41152295", "title": "How do I remove numbers and/or parenthesis from names in a DataFrame column", "body": "<p>try this:</p>\n\n<pre><code>In [121]: df\nOut[121]:\n                                     expected\nBolivia (Plurinational State of)      Bolivia\nSwitzerland17                     Switzerland\n\nIn [122]: df.set_index(df.index.str.replace('\\s*\\(.*?\\)\\s*', '').str.replace('\\d+',''), inplace=True)\n\nIn [123]: df\nOut[123]:\n                expected\nBolivia          Bolivia\nSwitzerland  Switzerland\n\nIn [124]: df.index == df.expected\nOut[124]: array([ True,  True], dtype=bool)\n\nIn [125]: (df.index == df.expected).all()\nOut[125]: True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 9396130, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uMBkMGoqUz0/AAAAAAAAAAI/AAAAAAAAGM8/TwYAxKw-5SA/photo.jpg?sz=128", "display_name": "Nancy", "link": "https://stackoverflow.com/users/9396130/nancy"}, "is_accepted": false, "score": 0, "last_activity_date": 1520776226, "creation_date": 1520776226, "answer_id": 49220711, "question_id": 41151932, "link": "https://stackoverflow.com/questions/41151932/how-do-i-remove-numbers-and-or-parenthesis-from-names-in-a-dataframe-column/49220711#49220711", "title": "How do I remove numbers and/or parenthesis from names in a DataFrame column", "body": "<pre><code>    def remove_digit(data):\n        newData = ''.join([i for i in data if not i.isdigit()])\n        i = newData.find('(')\n        if i&gt;-1: newData = newData[:i]\n        return newData.strip()\n    energy['Country'] = energy['Country'].apply(remove_digit)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13060522, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-85Uu2KR6HHc/AAAAAAAAAAI/AAAAAAAAABc/AXqxIQereas/photo.jpg?sz=128", "display_name": "Lewis Roy", "link": "https://stackoverflow.com/users/13060522/lewis-roy"}, "is_accepted": false, "score": 0, "last_activity_date": 1584169163, "creation_date": 1584169163, "answer_id": 60680488, "question_id": 41151932, "link": "https://stackoverflow.com/questions/41151932/how-do-i-remove-numbers-and-or-parenthesis-from-names-in-a-dataframe-column/60680488#60680488", "title": "How do I remove numbers and/or parenthesis from names in a DataFrame column", "body": "<p>One way to accomplish it without calling the index.</p>\n\n<pre><code>import re    \ndf.apply(lambda x : re.sub('\\s*\\(.*?\\)\\s*|\\d+', '', x))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4682, "user_id": 11942268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtFEd.png?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/11942268/thomas"}, "edited": false, "score": 2, "creation_date": 1595775470, "post_id": 63101512, "comment_id": 111584668, "body": "While this code may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/63101512/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}], "tags": [], "owner": {"reputation": 1, "user_id": 13998350, "user_type": "registered", "profile_image": "https://graph.facebook.com/2632502490324280/picture?type=large", "display_name": "Shreya Pamecha", "link": "https://stackoverflow.com/users/13998350/shreya-pamecha"}, "is_accepted": false, "score": 0, "last_activity_date": 1595773873, "creation_date": 1595773873, "answer_id": 63101512, "question_id": 41151932, "link": "https://stackoverflow.com/questions/41151932/how-do-i-remove-numbers-and-or-parenthesis-from-names-in-a-dataframe-column/63101512#63101512", "title": "How do I remove numbers and/or parenthesis from names in a DataFrame column", "body": "<pre><code>def remove(data):\n    for i in range(len(data)):\n      if data[i].isdigit():\n        return data[:i]\n      elif (data[i]=='('):\n        return data[:i-1]\n    return data\n\ndf['Country'] = df['Country'].apply(remove)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7298290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a0ece5a725c198a69a75d0505466c43?s=128&d=identicon&r=PG&f=1", "display_name": "D. Beck", "link": "https://stackoverflow.com/users/7298290/d-beck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2805, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1611475713, "creation_date": 1481748656, "last_edit_date": 1611475713, "question_id": 41151932, "link": "https://stackoverflow.com/questions/41151932/how-do-i-remove-numbers-and-or-parenthesis-from-names-in-a-dataframe-column", "title": "How do I remove numbers and/or parenthesis from names in a DataFrame column", "body": "<p>Within my column I have several country names that contain numbers and/or parenthesis in their name that I need to remove.</p>\n<p>For example:</p>\n<ul>\n<li>'Bolivia (Plurinational State of)' should be 'Bolivia'</li>\n<li>'Switzerland17' should be 'Switzerland'</li>\n</ul>\n<p>The column in question is also set as my index if that impacts things?</p>\n"}, {"tags": ["python", "plotly"], "answers": [{"tags": [], "owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "is_accepted": false, "score": 1, "last_activity_date": 1481996289, "creation_date": 1481996289, "answer_id": 41201280, "question_id": 41151923, "link": "https://stackoverflow.com/questions/41151923/shade-specific-part-of-background-based-on-number/41201280#41201280", "title": "Shade specific part of background based on number", "body": "<p>You can Plotly's <a href=\"https://plot.ly/python/shapes/#highlighting-time-series-regions-with-rectangle-shapes\" rel=\"nofollow noreferrer\"><code>shape</code></a> in the layout settings.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UTVC6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UTVC6.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import plotly\nimport time\nimport random\nimport datetime\n\n#create some random input data\nN = 100\n\nstarttime = time.time()\nx = [datetime.date.fromtimestamp(starttime - 60*60*24*N).strftime('%Y-%m-%d')]\ny = [10]\nfor i in range(N):\n    x.append(datetime.date.fromtimestamp(starttime - 60*60*24*N + i*60*60*24).strftime('%Y-%m-%d'))\n    y.append(abs(y[-1] + random.randint(-7, 5 + int(N/25))))\n\ntrace = plotly.graph_objs.Scatter(\n    x = x,\n    y = y,\n    mode='line',\n)\n\nlayout = dict(shapes = list())\n#highlight the minimum in red\nlayout['shapes'].append(\n    {\n        'type': 'rect',\n        'xref': 'x',\n        'yref': 'paper',\n        'x0': trace.x[trace.y.index(min(trace.y)) - 5],\n        'y0': 0,\n        'x1': trace.x[trace.y.index(min(trace.y)) + 5],\n        'y1': max(trace.y),\n        'fillcolor': '#ff0000',\n        'opacity': 0.2,\n        'line': {\n            'width': 0,\n        }\n    }\n)\n\n#highlight the maximum in green\nlayout['shapes'].append(\n    {\n        'type': 'rect',\n        'xref': 'x',\n        'yref': 'paper',\n        'x0': trace.x[trace.y.index(max(trace.y)) - 5],\n        'y0': 0,\n        'x1': trace.x[(trace.y.index(max(trace.y)) + 5) - ((trace.y.index(max(trace.y)) + 6) % len(trace.y))],\n        'y1': max(trace.y),\n        'fillcolor': '#00ff00',\n        'opacity': 0.2,\n        'line': {\n            'width': 0,\n        }\n    }\n)\n\nfig = dict(data=[trace], layout=layout)\nplotly.plotly.sign_in('user', 'token')\nplot_url = plotly.plotly.plot(fig)\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 2626717, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/6eb69773ad2990f4973e6db3b5485e1b?s=128&d=identicon&r=PG&f=1", "display_name": "bluebunny", "link": "https://stackoverflow.com/users/2626717/bluebunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481996289, "creation_date": 1481748621, "last_edit_date": 1481751216, "question_id": 41151923, "link": "https://stackoverflow.com/questions/41151923/shade-specific-part-of-background-based-on-number", "title": "Shade specific part of background based on number", "body": "<p>I need to create a double graph. Basically, one graph has a \"normal\" plot - it's the price of, let's say, Giraffes over time. The other plot is based on the amount of Giraffes I owned at the time. </p>\n\n<p>The other plot needs to expressed by shading the background of the plot accordingly. </p>\n\n<p><a href=\"https://i.stack.imgur.com/OLZt0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OLZt0.png\" alt=\"enter image description here\"></a>\nHow would I go about creating the shaded graph-thing? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "postgresql", "apache-spark", "utf-8", "pyspark"], "answers": [{"tags": [], "owner": {"reputation": 1871, "user_id": 1994092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bcfae6f41e66a312db1f469370baaded?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1994092/steve"}, "is_accepted": true, "score": 1, "last_activity_date": 1481829007, "last_edit_date": 1481829007, "creation_date": 1481751237, "answer_id": 41152572, "question_id": 41151915, "link": "https://stackoverflow.com/questions/41151915/pyspark-remove-utf-null-character-from-pyspark-dataframe/41152572#41152572", "title": "Pyspark: Remove UTF null character from pyspark dataframe", "body": "<p>Ah wait - I think I have it. If I do something like this, it seems to work:</p>\n\n<pre><code>null = u'\\u0000'\nnew_df = df.withColumn('e', regexp_replace(df['e'], null, ''))\n</code></pre>\n\n<p>And then mapping to all string columns:</p>\n\n<pre><code>string_columns = ['d','e']\nnew_df = df.select(\n  *(regexp_replace(col(c), null, '').alias(c) if c in string_columns else c for\n    c in df.columns)\n  )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1871, "user_id": 1994092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bcfae6f41e66a312db1f469370baaded?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1994092/steve"}, "edited": false, "score": 0, "creation_date": 1481824822, "post_id": 41158172, "comment_id": 69541362, "body": "I don&#39;t think that works here, because the problem cell isn&#39;t actually null - it contains the UTF null character \\u0000. If I run <code>df.fillna()</code> on my example df, it looks like it returns the same dataframe, since none of the cells are actually null. If I try to load the resulting df into a postgres table, I still get the same error message."}], "tags": [], "owner": {"reputation": 8751, "user_id": 137954, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/779f1d52a02cfdd004697a2a29df137c?s=128&d=identicon&r=PG", "display_name": "Nirmal", "link": "https://stackoverflow.com/users/137954/nirmal"}, "is_accepted": false, "score": 0, "last_activity_date": 1481785027, "last_edit_date": 1592644375, "creation_date": 1481785027, "answer_id": 41158172, "question_id": 41151915, "link": "https://stackoverflow.com/questions/41151915/pyspark-remove-utf-null-character-from-pyspark-dataframe/41158172#41158172", "title": "Pyspark: Remove UTF null character from pyspark dataframe", "body": "<p>You can use <a href=\"https://spark.apache.org/docs/1.5.2/api/python/pyspark.sql.html#pyspark.sql.DataFrame.fillna\" rel=\"nofollow noreferrer\"><code>DataFrame.fillna()</code></a> to replace null values.</p>\n<blockquote>\n<p>Replace null values, alias for na.fill(). DataFrame.fillna() and\nDataFrameNaFunctions.fill() are aliases of each other.</p>\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><p><em>value</em> \u2013 int, long, float, string, or dict. Value to\nreplace null values with. If the value is a dict, then subset is\nignored and value must be a mapping from column name (string) to\nreplacement value. The replacement value must be an int, long, float,\nor string.</p>\n</li>\n<li><p><em>subset</em> \u2013 optional list of column names to consider. Columns\nspecified in subset that do not have matching data type are ignored.\nFor example, if value is a string, and subset contains a non-string\ncolumn, then the non-string column is simply ignored.</p>\n</li>\n</ul>\n</blockquote>\n"}], "owner": {"reputation": 1871, "user_id": 1994092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bcfae6f41e66a312db1f469370baaded?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1994092/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2568, "favorite_count": 0, "accepted_answer_id": 41152572, "answer_count": 2, "score": 3, "last_activity_date": 1481829007, "creation_date": 1481748599, "last_edit_date": 1481828942, "question_id": 41151915, "link": "https://stackoverflow.com/questions/41151915/pyspark-remove-utf-null-character-from-pyspark-dataframe", "title": "Pyspark: Remove UTF null character from pyspark dataframe", "body": "<p>I have a pyspark dataframe similar to the following:</p>\n\n<pre><code>df = sql_context.createDataFrame([\n  Row(a=3, b=[4,5,6],c=[10,11,12], d='bar', e='utf friendly'),\n  Row(a=2, b=[1,2,3],c=[7,8,9], d='foo', e=u'ab\\u0000the')\n  ])\n</code></pre>\n\n<p>Where one of the values for column <code>e</code> contains the UTF null character <code>\\u0000</code>. If I try to load this <code>df</code> into a postgresql database, I get the following error:</p>\n\n<pre><code>ERROR: invalid byte sequence for encoding \"UTF8\": 0x00 \n</code></pre>\n\n<p>which makes sense. How can I efficiently remove the null character from the pyspark dataframe before loading the data into postgres?</p>\n\n<p>I have tried using some of the <code>pyspark.sql.functions</code> to clean the data first without success. <code>encode</code>, <code>decode</code>, and <code>regex_replace</code> did not work:</p>\n\n<pre><code>df.select(regexp_replace(col('e'), u'\\u0000', ''))\ndf.select(encode(col('e'), 'UTF-8'))\ndf.select(decode(col('e'), 'UTF-8'))\n</code></pre>\n\n<p>Ideally, I would like to clean the entire dataframe without specifying exactly which columns or what the violating character is, since I don't necessarily know this information ahead of time.</p>\n\n<p>I am using a postgres 9.4.9 database with <code>UTF8</code> encoding.</p>\n"}, {"tags": ["python", "sorting"], "comments": [{"owner": {"reputation": 2874, "user_id": 3703613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tRbDM.jpg?s=128&g=1", "display_name": "Brobin", "link": "https://stackoverflow.com/users/3703613/brobin"}, "edited": false, "score": 0, "creation_date": 1481748555, "post_id": 41151855, "comment_id": 69505988, "body": "Are <code>arg1</code> and <code>arg2</code> objects of the same type? If so, you can write the <code>__gt__</code>, <code>__lt__</code>, and <code>__eq__</code> functions in that class to do the comparisons."}, {"owner": {"reputation": 1975, "user_id": 1195131, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5e8dacdbaffaa900cd3b6eb300f2b2df?s=128&d=identicon&r=PG", "display_name": "Straightfw", "link": "https://stackoverflow.com/users/1195131/straightfw"}, "reply_to_user": {"reputation": 2874, "user_id": 3703613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tRbDM.jpg?s=128&g=1", "display_name": "Brobin", "link": "https://stackoverflow.com/users/3703613/brobin"}, "edited": false, "score": 0, "creation_date": 1481748623, "post_id": 41151855, "comment_id": 69506025, "body": "@Brobin yep, they&#39;re simple tuples of the same number of floats each"}, {"owner": {"reputation": 2874, "user_id": 3703613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tRbDM.jpg?s=128&g=1", "display_name": "Brobin", "link": "https://stackoverflow.com/users/3703613/brobin"}, "edited": false, "score": 0, "creation_date": 1481748667, "post_id": 41151855, "comment_id": 69506048, "body": "Hmm, if you wrap it in a class, you can use those methods."}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 5, "last_activity_date": 1481748996, "last_edit_date": 1481748996, "creation_date": 1481748550, "answer_id": 41151900, "question_id": 41151855, "link": "https://stackoverflow.com/questions/41151855/sorting-with-a-custom-method-with-additional-parameter/41151900#41151900", "title": "Sorting with a custom method with additional parameter?", "body": "<p><code>key</code> does not take a comparison function, it converts an element of the list into a comparable item.</p>\n\n<p>BTW It's no longer possible to pass a comparison function to <code>sort</code> in python 3 (and the <code>__cmp__</code> method is gone from objects too), so you better get used to it (it was cumbersome, you had to return 0 if equal, negative if lesser, positive if bigger, a bit like <code>strcmp</code> does, archaic. You could create complex comparison functions, but they could reveal unstable. I surely don't miss them).</p>\n\n<p>Fortunately you have the <code>f()</code> function which is enough.</p>\n\n<p>You just have to do this in your case:</p>\n\n<pre><code>sorted(possibleArguments, key = lambda x : f(*x))\n</code></pre>\n\n<p>the comparisons are done by the <code>sort</code> function. No need for <code>fitnessFunction</code></p>\n"}], "owner": {"reputation": 1975, "user_id": 1195131, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5e8dacdbaffaa900cd3b6eb300f2b2df?s=128&d=identicon&r=PG", "display_name": "Straightfw", "link": "https://stackoverflow.com/users/1195131/straightfw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 41151900, "answer_count": 1, "score": 1, "last_activity_date": 1481748996, "creation_date": 1481748404, "question_id": 41151855, "link": "https://stackoverflow.com/questions/41151855/sorting-with-a-custom-method-with-additional-parameter", "title": "Sorting with a custom method with additional parameter?", "body": "<p>So I have a fitness function (returning only true or false for a given pair of arguments) which I would like to use as a key for sorting my list of possible arguments. While normally, I'd be able to do something like:</p>\n\n<pre><code>sorted(possibleArguments, key = fitnessFunction)\n</code></pre>\n\n<p>Here the probles is that my fitness function looks like this:</p>\n\n<pre><code>def fitnessFunction(arg1, arg2, f):\n    return f(*arg1) &lt; f(*arg2)\n</code></pre>\n\n<p>Of course in the method I want to use the sorting, the function using which the fitness is to be calculated is known and doesn't change during the sorting but can I somehow tell Python that's the case? Can I do something like:</p>\n\n<pre><code>sorted(possibleArguments, key = fitnessFunction(one element to be compared, the other one, function I'm currently interested in))\n</code></pre>\n\n<p>If so, how?</p>\n"}, {"tags": ["python", "docker", "jupyter-notebook"], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 7261515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e356a6f9c2bbf3271e3ea3748fc1d1d3?s=128&d=identicon&r=PG&f=1", "display_name": "okoethibm", "link": "https://stackoverflow.com/users/7261515/okoethibm"}, "is_accepted": true, "score": 0, "last_activity_date": 1481794557, "creation_date": 1481794557, "answer_id": 41160787, "question_id": 41151775, "link": "https://stackoverflow.com/questions/41151775/creating-non-root-user-in-jupyter-dockerfile/41160787#41160787", "title": "Creating non-root user in jupyter dockerfile", "body": "<p>When you start your container with --entrypoint=bash, you will find that the home directory /home/A of your user has not been created. To do that, you need to add the -m flag to the useradd command</p>\n\n<p>Some more info: You might want to take a look at the docker-stacks projects (<a href=\"https://github.com/jupyter/docker-stacks/tree/master/base-notebook\" rel=\"nofollow noreferrer\">https://github.com/jupyter/docker-stacks/tree/master/base-notebook</a> and derived images). That seems to match with what you're trying to do and adds some other helpful stuff. E.g. when running a dockerized jupyter, you need a \"PID 1 reaper\"; otherwise your exited notebook kernels turn into zombies (you can google for that :-)</p>\n\n<p>Also, when sharing host files with a non-root user inside the container, you will often need to set the UID of your container user to some specific value matching with the host system, so the file system permissions are properly matched. The docker-stacks containers support that too. Their Dockerfiles might at least help as a boilerplate to run your own.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6261153"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1378, "favorite_count": 0, "accepted_answer_id": 41160787, "answer_count": 1, "score": 0, "last_activity_date": 1481794557, "creation_date": 1481748087, "question_id": 41151775, "link": "https://stackoverflow.com/questions/41151775/creating-non-root-user-in-jupyter-dockerfile", "title": "Creating non-root user in jupyter dockerfile", "body": "<p>I am starting with docker and built an image with jupyter and some python libraries. The end user should be able to use jupyter and access specific host data directories throught the container (read/write rights), but must be a non-root user. Here is my dockerfile so far:</p>\n\n<pre><code>FROM ubuntu:latest\n\nRUN apt-get update &amp;&amp; apt-get install -y \\\npython-pip\n\nRUN pip install --upgrade pip &amp;&amp; pip install jupyter \\\npandas \\\nnumpy\n\nRUN useradd -r -g users A &amp;&amp; \\\nmkdir /myhome &amp;&amp; \\\nchown -R A:users /myhome\n\nEXPOSE 8888\n\nWORKDIR /myhome\n\nCMD [\"jupyter\", \"notebook\", \"--port=8888\", \"--no-browser\", \"--ip=0.0.0.0\"]\n</code></pre>\n\n<p>I run this by doing <code>docker run -it -p 8888:8888 -u=\"A\" -v /some/host/files:/myhome</code></p>\n\n<p>But then I got a jupyter error that says <code>OSError: [Errno 13] Permission denied: '/home/A'\n</code>Any help appreciated. Many thanks!</p>\n"}, {"tags": ["python", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 585, "user_id": 3765034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755259ce8e51cca447771a71461e87c?s=128&d=identicon&r=PG&f=1", "display_name": "Chinny84", "link": "https://stackoverflow.com/users/3765034/chinny84"}, "edited": false, "score": 0, "creation_date": 1481748338, "post_id": 41151833, "comment_id": 69505869, "body": "The joys of python object referencing."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 585, "user_id": 3765034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755259ce8e51cca447771a71461e87c?s=128&d=identicon&r=PG&f=1", "display_name": "Chinny84", "link": "https://stackoverflow.com/users/3765034/chinny84"}, "edited": false, "score": 0, "creation_date": 1481748378, "post_id": 41151833, "comment_id": 69505897, "body": "I must admit I got caught too some time ago :)"}, {"owner": {"reputation": 585, "user_id": 3765034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755259ce8e51cca447771a71461e87c?s=128&d=identicon&r=PG&f=1", "display_name": "Chinny84", "link": "https://stackoverflow.com/users/3765034/chinny84"}, "edited": false, "score": 0, "creation_date": 1481748543, "post_id": 41151833, "comment_id": 69505980, "body": "yup - Apparently, it still gets me today ;)"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 3, "last_activity_date": 1481748359, "last_edit_date": 1481748359, "creation_date": 1481748297, "answer_id": 41151833, "question_id": 41151755, "link": "https://stackoverflow.com/questions/41151755/why-does-the-input-in-the-array-overwrites-the-values-of-each-row/41151833#41151833", "title": "why does the input in the array overwrites the values of each row", "body": "<p>you just created 3 rows with the same reference with <code>a=x*[x*[0]]</code>. <code>x*[0]</code> is built once, and propagated on all rows by the outer multiply operator.</p>\n\n<p>Changing a row changes <em>all</em> the rows. Note that it can be useful (but not there obviously)</p>\n\n<p>Do that instead (using a list comprehension):</p>\n\n<pre><code>a=[x*[0] for _ in range(x)]\n</code></pre>\n\n<p>so references of each row are separated</p>\n"}], "owner": {"reputation": 23, "user_id": 7037863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be840ce217be7355915a689248f1638?s=128&d=identicon&r=PG&f=1", "display_name": "CaptainJAL", "link": "https://stackoverflow.com/users/7037863/captainjal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1481755371, "accepted_answer_id": 41151833, "answer_count": 1, "score": 2, "last_activity_date": 1481748359, "creation_date": 1481747998, "question_id": 41151755, "link": "https://stackoverflow.com/questions/41151755/why-does-the-input-in-the-array-overwrites-the-values-of-each-row", "closed_reason": "Duplicate", "title": "why does the input in the array overwrites the values of each row", "body": "<p>i have this piece of code </p>\n\n<pre><code>x=3\na=x*[x*[0]]\nfor i in range(0,x):\n   for j in range(0,x):\n       dt=int(input(\"insert data: \"))\n       a[i][j]=dt\n       print(a)\n</code></pre>\n\n<p>and it's supposed to just add the numbers when is asked, but for some reason it fills the numbers in all the rows</p>\n"}, {"tags": ["python", "regex", "string", "csv"], "comments": [{"owner": {"reputation": 19244, "user_id": 1959948, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/trFNS.jpg?s=128&g=1", "display_name": "Dalorzo", "link": "https://stackoverflow.com/users/1959948/dalorzo"}, "edited": false, "score": 0, "creation_date": 1481748001, "post_id": 41151730, "comment_id": 69505680, "body": "replace with empty this: <code>&#47;\\s+[,\\]]&#47;g</code>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1481748010, "post_id": 41151730, "comment_id": 69505687, "body": "That&#39;s a SyntaxError. Is this a list of strings?"}, {"owner": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "edited": false, "score": 0, "creation_date": 1481748060, "post_id": 41151730, "comment_id": 69505715, "body": "Is <code>str</code> a string or a list of strings? (ie <code>&quot;[ a  , b,c,...]&quot;</code> vs <code>[&#39;a  &#39;,&#39; b&#39;,&#39;c&#39;...]</code>?"}, {"owner": {"reputation": 541, "user_id": 4996007, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/10153989617959816/picture?type=large", "display_name": "Ryan J. Shrott", "link": "https://stackoverflow.com/users/4996007/ryan-j-shrott"}, "reply_to_user": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "edited": false, "score": 0, "creation_date": 1481748258, "post_id": 41151730, "comment_id": 69505823, "body": "@LMc &#39;str&#39; is a string. It is not a list of strings."}, {"owner": {"reputation": 541, "user_id": 4996007, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/10153989617959816/picture?type=large", "display_name": "Ryan J. Shrott", "link": "https://stackoverflow.com/users/4996007/ryan-j-shrott"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1481748378, "post_id": 41151730, "comment_id": 69505896, "body": "@roganjosh my apologies. It is just a string. Please see my amendment above."}], "answers": [{"comments": [{"owner": {"reputation": 541, "user_id": 4996007, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/10153989617959816/picture?type=large", "display_name": "Ryan J. Shrott", "link": "https://stackoverflow.com/users/4996007/ryan-j-shrott"}, "edited": false, "score": 0, "creation_date": 1481748644, "post_id": 41151760, "comment_id": 69506036, "body": "thanks, this works! So basically you split at commas, and then strip white spaces from each element. But then I don&#39;t get the &#39;,&#39;.join part?"}, {"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "reply_to_user": {"reputation": 541, "user_id": 4996007, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/10153989617959816/picture?type=large", "display_name": "Ryan J. Shrott", "link": "https://stackoverflow.com/users/4996007/ryan-j-shrott"}, "edited": false, "score": 0, "creation_date": 1481748835, "post_id": 41151760, "comment_id": 69506134, "body": "Just edited to add more details, once we remove spaces around each word, we need to use <code>join()</code> to merge all those words to form one string."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 1, "creation_date": 1616721549, "post_id": 41151760, "comment_id": 118098680, "body": "Sexy non-regex answer +1"}], "tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": true, "score": 5, "last_activity_date": 1616754799, "last_edit_date": 1616754799, "creation_date": 1481748016, "answer_id": 41151760, "question_id": 41151730, "link": "https://stackoverflow.com/questions/41151730/remove-leading-and-trailing-white-spaces-in-a-csv-file/41151760#41151760", "title": "Remove leading and trailing white spaces in a csv file", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\"><code>split()</code></a>, <a href=\"https://docs.python.org/3/library/stdtypes.html#str.strip\" rel=\"nofollow noreferrer\"><code>strip()</code></a> and <a href=\"https://docs.python.org/3/library/stdtypes.html#str.join\" rel=\"nofollow noreferrer\"><code>join()</code></a> like this:</p>\n<pre><code>','.join([item.strip() for item in my_string.split(',')])\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>&gt;&gt;&gt; my_string = &quot; a  , b,c, hello there !   ,   my name is +++ ,  g &quot;\n&gt;&gt;&gt; ','.join([item.strip() for item in my_string.split(',')])\n'a,b,c,hello there !,my name is +++,g'\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<p><a href=\"https://docs.python.org/3/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\"><code>split()</code></a> is used to split <code>my_string</code> by the separator <code>,</code> and the result is the following list:</p>\n<pre><code>&gt;&gt;&gt; my_string.split(',')\n[' a  ', ' b', 'c', ' hello there !   ', '   my name is +++ ', '  g ']\n</code></pre>\n<p><a href=\"https://docs.python.org/3/library/stdtypes.html#str.strip\" rel=\"nofollow noreferrer\"><code>strip()</code></a> is used to remove leading and trailing spaces from each item of the previous list:</p>\n<pre><code>&gt;&gt;&gt; [item.strip() for item in my_string.split(',')]\n['a', 'b', 'c', 'hello there !', 'my name is +++', 'g']\n</code></pre>\n<p>The above line is called a <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a></p>\n<p><a href=\"https://docs.python.org/3/library/stdtypes.html#str.join\" rel=\"nofollow noreferrer\"><code>join()</code></a> is used to form the last result by joining the items of the above list.</p>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 3765034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755259ce8e51cca447771a71461e87c?s=128&d=identicon&r=PG&f=1", "display_name": "Chinny84", "link": "https://stackoverflow.com/users/3765034/chinny84"}, "is_accepted": false, "score": 0, "last_activity_date": 1481748044, "creation_date": 1481748044, "answer_id": 41151767, "question_id": 41151730, "link": "https://stackoverflow.com/questions/41151730/remove-leading-and-trailing-white-spaces-in-a-csv-file/41151767#41151767", "title": "Remove leading and trailing white spaces in a csv file", "body": "<p>You can use the <code>strip</code> functionality</p>\n\n<pre><code>string = '     blah blah   '\nprint string.strip() # =&gt;'blah blah'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1481748999, "last_edit_date": 1481748999, "creation_date": 1481748100, "answer_id": 41151778, "question_id": 41151730, "link": "https://stackoverflow.com/questions/41151730/remove-leading-and-trailing-white-spaces-in-a-csv-file/41151778#41151778", "title": "Remove leading and trailing white spaces in a csv file", "body": "<p>You may use regex expression <code>'\\s*,\\s*'</code> to replace the matching content with <code>,</code>. For example:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; my_str = \"[ a  , b,c, hello there !   ,   my name is +++ ,  g ]\"\n\n&gt;&gt;&gt; re.sub('\\s*,\\s*', ',', my_str)\n'[ a,b,c,hello there !,my name is +++,g ]'\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 4996007, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/10153989617959816/picture?type=large", "display_name": "Ryan J. Shrott", "link": "https://stackoverflow.com/users/4996007/ryan-j-shrott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2388, "favorite_count": 0, "accepted_answer_id": 41151760, "answer_count": 3, "score": 0, "last_activity_date": 1616754799, "creation_date": 1481747884, "last_edit_date": 1616719284, "question_id": 41151730, "link": "https://stackoverflow.com/questions/41151730/remove-leading-and-trailing-white-spaces-in-a-csv-file", "title": "Remove leading and trailing white spaces in a csv file", "body": "<p>Define: </p>\n\n<p><code>str = \" a  , b,c, hello there !   ,   my name is +++ ,  g \"</code></p>\n\n<p>How do I remove the leading and trailing white spaces so that I output: </p>\n\n<p><code>\"a,b,c,hello there !,my name is +++,g\"</code></p>\n\n<p>i.e. the output is such that there is no leading or trailing white space between values in a comma separated value string. </p>\n\n<p>I started reading about Regular Expressions? Would this be an appropriate situation to use that? How would I go about completing the task?</p>\n"}, {"tags": ["python", "opencv", "resize"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5906523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f46d4b8c470eddc1ebe54030a661364?s=128&d=identicon&r=PG&f=1", "display_name": "flanman1866", "link": "https://stackoverflow.com/users/5906523/flanman1866"}, "edited": false, "score": 0, "creation_date": 1481811371, "post_id": 41153513, "comment_id": 69533018, "body": "Thanks iamai that explains the problem. I&#39;ll probably look for another route for shrinking those slices in a non-image specific package since I didn&#39;t realize opencv was interpreting my index input as color channels.   Also thanks for boiling my question down so clearly. Should I edit my question so it only contains the important part that you stated, or just leave it as is?"}], "tags": [], "owner": {"reputation": 1858, "user_id": 3033937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bdea99d565da4f5e344332fd6e99796?s=128&d=identicon&r=PG", "display_name": "Morris Franken", "link": "https://stackoverflow.com/users/3033937/morris-franken"}, "is_accepted": true, "score": 1, "last_activity_date": 1481755460, "creation_date": 1481755460, "answer_id": 41153513, "question_id": 41151632, "link": "https://stackoverflow.com/questions/41151632/is-there-a-max-array-size-limitation-for-the-opencv-resize-function/41153513#41153513", "title": "Is there a max array size limitation for the opencv resize function?", "body": "<p>Just to clarify, what you are asking can be summed into the following </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; cv2.resize(np.zeros([1200,1920,512]), (30,46)).shape\n(46,30,512)\n&gt;&gt;&gt; cv2.resize(np.zeros([1200,1920,513]), (30,46)).shape\n(46,30)\n</code></pre>\n\n<p>So why does the first line resizes all channels, while the second line seems to result in only 1 channel? </p>\n\n<p>I found that by default OpenCV does not support more than 512 channels in a single image. As defined in <code>cvdef.h</code></p>\n\n<pre><code>#define CV_CN_MAX     512\n</code></pre>\n\n<p>So what happens is that the input of <code>cv2.resize</code> is reduced to only the first channel. Changing the maximum channels is not recommended either as discussed here: <a href=\"http://answers.opencv.org/question/46296/increase-the-maximum-amount-of-channels-in-cvmat/\" rel=\"nofollow noreferrer\">http://answers.opencv.org/question/46296/increase-the-maximum-amount-of-channels-in-cvmat/</a> \nSo unfortunately that means you will have to resize in batches.</p>\n"}], "owner": {"reputation": 85, "user_id": 5906523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f46d4b8c470eddc1ebe54030a661364?s=128&d=identicon&r=PG&f=1", "display_name": "flanman1866", "link": "https://stackoverflow.com/users/5906523/flanman1866"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 41153513, "answer_count": 1, "score": 2, "last_activity_date": 1481755460, "creation_date": 1481747463, "question_id": 41151632, "link": "https://stackoverflow.com/questions/41151632/is-there-a-max-array-size-limitation-for-the-opencv-resize-function", "title": "Is there a max array size limitation for the opencv resize function?", "body": "<p>I am working on object detection in images and am using a vectorized array of image slices from a sliding window on the main image. I would like to resize all the windows to a small size for passing to the object detector. Unfortunately I find that when I use the opencv resize function it is only able to resize a small chunk of the images I pass to it at once before it stops working. </p>\n\n<p>In the final lines of the code below there are two lines specifying the number of windows to try to resize at once. For the given window size it works with 512 and fails with 513 windows. If there is a max array size limitation in the resize function that would be a difference between 3481600 and 3488400 array values. </p>\n\n<p>I haven't been able to find anything in the opencv documentation referencing a size limitation for the resize function, but has anyone run into this problem? </p>\n\n<p>Are there other resize functions in different modules that are known to have larger capacities for vectorized image slice shrinking? </p>\n\n<p>My current work around has been to loop over the array of images resizing them in chunks smaller than my experimentally determined max array size.</p>\n\n<p>Any advice/wisdom is appreciated!</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimg = cv2.imread('best_of_hope_kolosser_water_snow.jpg')\nimg = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\n\n## ---- these would normally be function arguments for this module -------\nwindow_size = np.resize(np.array([int(100/1.45),100]),(1,2))\nw = 0\nstrX_wPerc = 1/6\nstrY_wPerc = 1/6\ndata_patch_size = (30,46)\n## ---- end of; locally defining function arguments for module --------\n\n## ---- sliding window params -----  \nwin_w = window_size[w,0]  \nwin_h = window_size[w,1]  \nstrideX = int(window_size[w,0]*strX_wPerc)\nstrideY = int(window_size[w,1]*strY_wPerc)\n## ----------------------------------\n\nprint('img shape: ', img.shape)\n# ^^ prints: img shape:  (1200, 1920)\n\n## -------- sliding window vectorization steps --------------------------\nnum_vert_windows = len(np.arange(0,img.shape[0]-window_size[w,1],strideY)) # number of vertical windows that will be created\nindx = np.arange(0,img.shape[0]-window_size[w,1],strideY)[:,None]+np.arange(window_size[w,1]) # index that will be broadcasted across image\nvertical_windows = img[indx] # array of windows win_h tall and the full width of the image\n\nvertical_windows = np.transpose(vertical_windows,(0,2,1)) # transpose to prep for broadcasting\nnum_horz_windows = len(np.arange(0,vertical_windows.shape[1]-window_size[w,0],strideX)) # number of horizontal windows that will be created\nindx = np.arange(0,vertical_windows.shape[1]-window_size[w,0],strideX)[:,None]+np.arange(window_size[w,0]) # index for broadcasting across vertical windows\nall_windows = vertical_windows[0:vertical_windows.shape[0],indx] # array of all the windows\n## -------- end of, sliding window vectorization ------------------------\n\ntotal_windows = num_vert_windows*num_horz_windows\nall_windows = np.transpose(all_windows,(3,2,1,0)) # rearrange for resizing and intuitive indexing\nall_windows = np.resize(all_windows,(window_size[w,1],window_size[w,0],total_windows)) # resize to stack all windows\n\nprint('sliding windows height:',all_windows.shape[0],', width:',all_windows.shape[1],', number of windows:',all_windows.shape[2])\n# ^^ prints: sliding windows height: 100 , width: 68 , number of windows: 11661\n\n##num_windows_to_resize = all_windows.shape[2] # ideally this would resize them all at once\nnum_windows_to_resize = 512 # 513 fails\nsmall_windows = cv2.resize(all_windows[:,:,0:num_windows_to_resize],data_patch_size,0,0,cv2.INTER_AREA) \n\nprint('final windows (height, width, # windows):',small_windows.shape)\n# ^^ if resizing less than 513 windows, prints: final windows (height, width, # windows): (46, 30, 512)\n# ^^ if resizing more than 512 windows, prints: final windows (height, width, # windows): (46, 30)\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "edited": false, "score": 1, "creation_date": 1481749046, "post_id": 41151608, "comment_id": 69506259, "body": "I can&#39;t replicate the error, it works fine. Please check that the code posted in your question is actually the same as that which produces the error."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481754334, "post_id": 41151608, "comment_id": 69508573, "body": "BTW: button has <code>Button(..., command=function_name)</code> and you don&#39;t need <code>bind(&#39;&lt;Button-1&gt;&#39;, function_name)</code>"}, {"owner": {"reputation": 51, "user_id": 2351509, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/269807fdbc7a5137ec2ed4e524e914c3?s=128&d=identicon&r=PG", "display_name": "user2351509", "link": "https://stackoverflow.com/users/2351509/user2351509"}, "reply_to_user": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "edited": false, "score": 0, "creation_date": 1481769089, "post_id": 41151608, "comment_id": 69512792, "body": "@mhawke Refer the images , in normal terminal if i type ls , it shows the directory and ends there , and default directory like ~root is shown.        Whereas by code if i pass ls it shows the files but it freezes there , the default dir ~root is not shown in terminal"}, {"owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "edited": false, "score": 0, "creation_date": 1481793818, "post_id": 41151608, "comment_id": 69521952, "body": "@user2351509: why would the bash terminal prompt be shown? All your code does is to execute a command via <code>Popen()</code>, it does not execute a shell. If you want to display a terminal prompt you will have to add the code to do that, as well as the code to collect the subprocess output (you could use <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.check_output\" rel=\"nofollow noreferrer\"><code>check_output()</code></a> or similar for that)."}, {"owner": {"reputation": 51, "user_id": 2351509, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/269807fdbc7a5137ec2ed4e524e914c3?s=128&d=identicon&r=PG", "display_name": "user2351509", "link": "https://stackoverflow.com/users/2351509/user2351509"}, "reply_to_user": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "edited": false, "score": 0, "creation_date": 1481793994, "post_id": 41151608, "comment_id": 69522073, "body": "@mhawke Fortunately , the bash terminal is the one through which im running the program ./t4.py.   By the way can you provide me link to open a terminal prompt  and collect subprocess output ? Any tutorial?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8598233"}, "edited": false, "score": 0, "creation_date": 1530177226, "post_id": 41151608, "comment_id": 89146615, "body": "@user2351509: You have used the keyword &quot;input&quot;, First change that."}], "owner": {"reputation": 51, "user_id": 2351509, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/269807fdbc7a5137ec2ed4e524e914c3?s=128&d=identicon&r=PG", "display_name": "user2351509", "link": "https://stackoverflow.com/users/2351509/user2351509"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 832, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481747355, "creation_date": 1481747355, "question_id": 41151608, "link": "https://stackoverflow.com/questions/41151608/how-to-write-commands-to-terminal-using-tkinter", "title": "How to write commands to terminal using tkinter?", "body": "<p>I wanted to do something like , if i type something in textbox that command would get executed completely \nlike this <a href=\"https://i.stack.imgur.com/9Sb3N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Sb3N.png\" alt=\"enter image description here\"></a></p>\n\n<p>ie the ~Desktop should be displayed to write next command.</p>\n\n<p>but with my code im getting this also there is an error</p>\n\n<p><a href=\"https://i.stack.imgur.com/fLGFo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fLGFo.png\" alt=\"enter image description here\"></a></p>\n\n<p>as you can see ls command gets executed half in second case \nmy code is </p>\n\n<pre><code>#!/usr/bin/python\nimport Tkinter\nimport subprocess\n\nimport tkMessageBox\nfrom Tkinter import *\nroot = Tk()\nclass HackBar:\n\n  def __init__(self,master):\n\n      frame=Frame(master,width = 600,height = 250)\n      #frame.pack()\n\n      def printconsole(event):\n          print(\"hello dere \")\n      def retrieve_input(event):\n          input = self.Text.get(\"1.0\",'end-1c')\n          #print(input)\n          #subprocess.call(input,shell=TRUE)\n          subprocess.Popen(input)\n          root.quit()\n          #root = Tk()\n          #print p.communicate()\n\n      self.button1 = Button(root,text = \"Execute\")\n      self.button1.bind(\"&lt;Button-1&gt;\",retrieve_input);\n      self.button1.grid(row = 0,sticky = E)\n\n      self.button2 = Button(root,text = \"  Quit   \")\n      self.button2.bind(\"&lt;Button-1&gt;\",printconsole);\n      self.button2.grid(row = 1,sticky = E)\n\n      self.Text = Text(root,height =4)\n      self.Text.grid(row = 0,column = 1,rowspan=2)\n\nmenu = Menu(root)\ndef AboutDialog():\n    tkMessageBox.showinfo('About','For any issues or suggestion contact rushic24@gmail.com ')\nroot.config(menu = menu)\nsubmenu1 = Menu(menu)\nmenu.add_cascade(label=\"Help\",menu=submenu1)\nsubmenu1.add_command(label = \"About\",command = AboutDialog)\n\nb = HackBar(root)\nroot.mainloop()\n</code></pre>\n\n<p>i think i need to use the root.quit() and would again need to start root ,\nbut it is giving the above error.\nAny alternate method would also work.</p>\n"}, {"tags": ["python", "pandas", "dictionary", "dataframe"], "comments": [{"owner": {"reputation": 2950, "user_id": 3405554, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ejRLl.jpg?s=128&g=1", "display_name": "harshil9968", "link": "https://stackoverflow.com/users/3405554/harshil9968"}, "edited": false, "score": 0, "creation_date": 1481747414, "post_id": 41151595, "comment_id": 69505385, "body": "Add expected input and output."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 6276001, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1db70c36231a104cd9f24c586bf176e3?s=128&d=identicon&r=PG&f=1", "display_name": "M.Throw", "link": "https://stackoverflow.com/users/6276001/m-throw"}, "edited": false, "score": 0, "creation_date": 1481748393, "post_id": 41151726, "comment_id": 69505909, "body": "I was after a dataframe but I can change the series to that anyway. Thank you."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1481747876, "creation_date": 1481747876, "answer_id": 41151726, "question_id": 41151595, "link": "https://stackoverflow.com/questions/41151595/creating-a-dataframe-from-a-dictionary-without-the-key-being-the-index/41151726#41151726", "title": "Creating a dataframe from a dictionary without the key being the index", "body": "<p>try <code>reset_index</code></p>\n\n<pre><code>dataDict = dict(Adam=10, Beth=3, Zack=1)\ndf = pd.Series(dataDict).rename_axis('Name').reset_index(name='Count')\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/THzSk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/THzSk.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 145, "user_id": 6276001, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1db70c36231a104cd9f24c586bf176e3?s=128&d=identicon&r=PG&f=1", "display_name": "M.Throw", "link": "https://stackoverflow.com/users/6276001/m-throw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1097, "favorite_count": 0, "accepted_answer_id": 41151726, "answer_count": 1, "score": 1, "last_activity_date": 1481747876, "creation_date": 1481747303, "last_edit_date": 1481747701, "question_id": 41151595, "link": "https://stackoverflow.com/questions/41151595/creating-a-dataframe-from-a-dictionary-without-the-key-being-the-index", "title": "Creating a dataframe from a dictionary without the key being the index", "body": "<p>I've got a basic dictionary that gives me a count of how many times data shows up. e.g. <code>Adam: 10, Beth: 3, ... , Zack: 1</code></p>\n\n<p>If I do <code>df = pd.DataFrame([dataDict]).T</code> then the keys from the dictionary become the index of the dataframe and I only have 1 true column of data. I've looked by I haven't found a way around this so any help would be appreciated.</p>\n\n<p>Edit: More detail</p>\n\n<p>The dictionary was formed from a count function of another dataframe e.g. <code>dataDict = df1.Name.value_counts().to_dict ()</code></p>\n\n<p>This is my expected output.</p>\n\n<pre><code>       | Name | Count\n------ | -----|------\n   0   | Adam |  10\n------ | -----|------\n   1   | Beth |   3\n</code></pre>\n\n<p>What I'm getting at the moment is this:</p>\n\n<pre><code>       | Count\n  -----|------\n  Adam |  10\n  -----|------\n  Beth |   3\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1481747347, "post_id": 41151559, "comment_id": 69505348, "body": "Your indentation of the <code>line2 = ...</code> line is wrong."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481747445, "post_id": 41151559, "comment_id": 69505398, "body": "You don&#39;t need the <code>for col1, col2</code> loop.  Just <code>col1 = line2[0]</code> and <code>col2 = line2[1]</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481747499, "post_id": 41151559, "comment_id": 69505428, "body": "You need to go back to the beginning of <code>datA</code> every time through the <code>line1</code> loop."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481747526, "post_id": 41151559, "comment_id": 69505443, "body": "you&#39;re comparing values alpha-wise. You have to convert your values to integers."}, {"owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "edited": false, "score": 0, "creation_date": 1481749342, "post_id": 41151559, "comment_id": 69506404, "body": "If the values in table A are always sorted in ascending order and if you can store the whole table A in memory, you could use the bisect module."}], "answers": [{"comments": [{"owner": {"reputation": 863, "user_id": 2597415, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/194404f63e15ade6976ded4573640cb0?s=128&d=identicon&r=PG", "display_name": "user27976", "link": "https://stackoverflow.com/users/2597415/user27976"}, "edited": false, "score": 0, "creation_date": 1481753093, "post_id": 41152227, "comment_id": 69508090, "body": "Thanks so much for your code and explanations. Great solution. Problem solved!"}, {"owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "edited": false, "score": 0, "creation_date": 1481757941, "post_id": 41152227, "comment_id": 69509848, "body": "With this code, TableA.txt will be opened once for every value in table B. It can be modified so that the file is opened only once, either by loading the whole file in a list or by using the <code>file.seek()</code> method."}, {"owner": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "reply_to_user": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "edited": false, "score": 0, "creation_date": 1481758532, "post_id": 41152227, "comment_id": 69510024, "body": "@Gribouillis definitely a good point. I&#39;ve updated to prevent that"}, {"owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "edited": false, "score": 0, "creation_date": 1481758781, "post_id": 41152227, "comment_id": 69510100, "body": "Also if tables are large, this algorithm is O(|B| |A|), but if A is sorted, as it seems, there is an algorithm in O(|B| log2(|A|)) by performing binary search in array A."}], "tags": [], "owner": {"reputation": 4643, "user_id": 6382434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92373f448d7e3959af9cfb1d836ad4c3?s=128&d=identicon&r=PG&f=1", "display_name": "LMc", "link": "https://stackoverflow.com/users/6382434/lmc"}, "is_accepted": true, "score": 1, "last_activity_date": 1481758506, "last_edit_date": 1481758506, "creation_date": 1481749786, "answer_id": 41152227, "question_id": 41151559, "link": "https://stackoverflow.com/questions/41151559/finding-a-range-of-values-two-other-columns-from-based-on-values-in-another-colu/41152227#41152227", "title": "Finding a range of values two other columns from based on values in another column", "body": "<p>You could try it this way:</p>\n\n<pre><code>tableBcol1=[int(i.split()[0]) for i in open('TableB.txt')]\ntableA=[i.strip() for i in open('TableA.txt')]\n\ncount=0\nfor bcol1 in tableBcol1:\n    for line in tableA:\n        lbound,hbound=line.split()\n        if bcol1 in range(int(lbound),int(hbound)+1):\n            print(line.strip())\n            count+=1\n\nprint(count)\n</code></pre>\n\n<p><code>tableBcol1</code> contains all the values of column1 from <code>TableB.txt</code> in integer form (ie 351,1256,4002).</p>\n\n<p><code>lbound</code> and <code>hbound</code> contain the values from column1 and column2 from <code>TableA.txt</code>. </p>\n\n<p>Finally, you check for membership in the <code>if</code> statement. If the value from column1 of <code>TableB.txt</code> is in the range then print the line from <code>TableA.txt</code>. Note, one is added to <code>hbound</code> in the range because the upper bound is non-inclusive. </p>\n"}, {"comments": [{"owner": {"reputation": 863, "user_id": 2597415, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/194404f63e15ade6976ded4573640cb0?s=128&d=identicon&r=PG", "display_name": "user27976", "link": "https://stackoverflow.com/users/2597415/user27976"}, "edited": false, "score": 0, "creation_date": 1481753206, "post_id": 41152468, "comment_id": 69508125, "body": "I really appreciate your solution. Thanks JCA!"}], "tags": [], "owner": {"reputation": 167, "user_id": 6586667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1bf742203257342ade6fb501476d02?s=128&d=identicon&r=PG&f=1", "display_name": "JCA", "link": "https://stackoverflow.com/users/6586667/jca"}, "is_accepted": false, "score": 1, "last_activity_date": 1481750837, "creation_date": 1481750837, "answer_id": 41152468, "question_id": 41151559, "link": "https://stackoverflow.com/questions/41151559/finding-a-range-of-values-two-other-columns-from-based-on-values-in-another-colu/41152468#41152468", "title": "Finding a range of values two other columns from based on values in another column", "body": "<pre><code>TableA = \"\"\"1   524\n            677 822\n            902 1103\n            1239    1790\n            2001    2321\n            3900    4567\"\"\"\n\nTableB = \"\"\"351 aux\n            1256    sle\n            4002    aim\"\"\"\n\n#TableA = open('TableA.txt', 'r').read()\n#TableB = open('TableB.txt', 'r').read()\n\nranksA = [map(int, e.split()) for e in TableA.split(\"\\n\")]\nvaluesB = [int(e.split()[0]) for e in TableB.split(\"\\n\")]\n\nresultsraw = [(v, [(ri, rf) for ri, rf in ranksA if v &gt;= ri and v &lt;= rf]) for v in valuesB]\nresults = \"\\n\".join([\"%6s\\t%6s\" % e[1][0] for e in resultsraw])\n\nprint results\nprint \"Total count: %s\" % (len(resultsraw))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>     1     524\n  1239    1790\n  3900    4567\nTotal count: 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 863, "user_id": 2597415, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/194404f63e15ade6976ded4573640cb0?s=128&d=identicon&r=PG", "display_name": "user27976", "link": "https://stackoverflow.com/users/2597415/user27976"}, "edited": false, "score": 0, "creation_date": 1482000852, "post_id": 41154057, "comment_id": 69603149, "body": "Thanks pylang for another useful solution."}], "tags": [], "owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "is_accepted": false, "score": 1, "last_activity_date": 1481759226, "last_edit_date": 1481759226, "creation_date": 1481758401, "answer_id": 41154057, "question_id": 41151559, "link": "https://stackoverflow.com/questions/41151559/finding-a-range-of-values-two-other-columns-from-based-on-values-in-another-colu/41154057#41154057", "title": "Finding a range of values two other columns from based on values in another column", "body": "<p>Report and total the range for every item in Table B that falls within a range in Table A.</p>\n\n<p>Here is another approach using <code>defaultdict</code> as a counter, <code>csv</code> for reading tabular data and <code>with</code> statements for safely opening/closing files:</p>\n\n<pre><code>import csv\nfrom collections import defaultdict\n\n# Build reference dict\nwith open(\"Table A.txt\", \"r\") as f:\n    reader = csv.reader(f)\n#     reference = defaultdict(list)\n    reference = defaultdict(int)\n    for row in reader:\n        reference[row[0]]\n\n# Read data and tally\nwith open(\"Table B.txt\", \"r\") as f:\n    reader2 = csv.reader(f)\n#     header = next(reader2)\n    for row in reader2:\n        col1 = int(row[0].split()[0])\n        for key in reference:\n            first, last = map(int, key.split())\n            if col1 &gt;= first and col1 &lt;= last:\n#                 reference[key].append(row)\n                reference[key] += 1\n\nreference\n</code></pre>\n\n<p>The result is a dictionary that tallies the entries that fit within the given range.</p>\n\n<pre><code>defaultdict(int,\n            {'1   524': 1,\n             '1239    1790': 1,\n             '2001    2321': 0,\n             '3900    4567': 1,\n             '677 822': 0,\n             '902 1103': 0})\n</code></pre>\n\n<p><code>defaultdict</code> gives you the option to store integers or append values to a list (see commented lines).  However, for your desired output:</p>\n\n<pre><code>for k, v  in reference.items():\n    if v:\n        print(k)\nprint(\"Total:\", total)\n</code></pre>\n\n<p>Final output:</p>\n\n<pre><code>1   524\n1239    1790\n3900    4567\nTotal: 3\n</code></pre>\n"}], "owner": {"reputation": 863, "user_id": 2597415, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/194404f63e15ade6976ded4573640cb0?s=128&d=identicon&r=PG", "display_name": "user27976", "link": "https://stackoverflow.com/users/2597415/user27976"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 41152227, "answer_count": 3, "score": 1, "last_activity_date": 1481759226, "creation_date": 1481747166, "question_id": 41151559, "link": "https://stackoverflow.com/questions/41151559/finding-a-range-of-values-two-other-columns-from-based-on-values-in-another-colu", "title": "Finding a range of values two other columns from based on values in another column", "body": "<p>I'm trying trying to use python to find value ranges in two columns (TableA) based on values from the first column of TableB. Column 1 and Column 2 in TableA represent ranges of values Whenever, a value from column 1 in TableB falls within a range, I want to extract such rows from TableA as shown in the output and also know how many they are.</p>\n\n<p>TableA:  </p>\n\n<pre><code>1   524\n677 822\n902 1103\n1239    1790\n2001    2321\n3900    4567\n</code></pre>\n\n<p>TableB:    </p>\n\n<pre><code>351 aux\n1256    sle\n4002    aim\n</code></pre>\n\n<p>Required output:</p>\n\n<pre><code>1   524\n1239    1790\n3900    4567\n\nTotal count = 3 \n</code></pre>\n\n<p>Here's my attempt that didn't work:</p>\n\n<pre><code>datA = open('TableA.txt','r')\ndatB = open('TableB.txt','r')\n\ncount=0\nfor line1 in datB:\n    line1 = line1.strip().split()\n    for line2 in datA:\n    line2 = line2.strip().split('\\t')\n        for col1, col2 in zip(line2[0], line2[1]):\n            if line2 &gt; col1 and line2 &lt; col2:\n                print(col1 + '\\t' + col2) \n                count=+1\nprint(count)\ndatA.close()\n</code></pre>\n\n<p>datB.close()</p>\n\n<p>Can someone please help? Thanks     </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1481746827, "post_id": 41151435, "comment_id": 69505107, "body": "Interesting question. I don&#39;t think there is a built-in way, and, unfortunately, you may have to end up looping."}], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 5, "last_activity_date": 1481749249, "last_edit_date": 1481749249, "creation_date": 1481747744, "answer_id": 41151697, "question_id": 41151435, "link": "https://stackoverflow.com/questions/41151435/pandas-idiomatic-way-to-custom-fillna/41151697#41151697", "title": "Pandas idiomatic way to custom fillna", "body": "<p>This might work, for each chunk of missing values, create a group variable with <code>cumsum</code>(from the end of the series) and then perform a grouped average operation on each chunk:</p>\n\n<pre><code>s.groupby(s.notnull()[::-1].cumsum()[::-1]).transform(lambda g: g[-1]/g.size)\n\n#2016-01-01     0.0\n#2016-01-02     0.0\n#2016-01-03    25.0\n#2016-01-04    25.0\n#2016-01-05    25.0\n#2016-01-06    10.0\n#2016-01-07    10.0\n#2016-01-08    10.0\n#2016-01-09    10.0\n#2016-01-10    10.0\n#Freq: D, dtype: float64\n</code></pre>\n\n<hr>\n\n<p>Or another option:</p>\n\n<pre><code>s.groupby(s.shift().notnull().cumsum()).transform(lambda g: g[-1]/g.size)\n\n#2016-01-01     0.0\n#2016-01-02     0.0\n#2016-01-03    25.0\n#2016-01-04    25.0\n#2016-01-05    25.0\n#2016-01-06    10.0\n#2016-01-07    10.0\n#2016-01-08    10.0\n#2016-01-09    10.0\n#2016-01-10    10.0\n#Freq: D, dtype: float64\n</code></pre>\n"}], "owner": {"reputation": 28421, "user_id": 49559, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7145cb0edd64819646b468bf36515089?s=128&d=identicon&r=PG", "display_name": "Kiv", "link": "https://stackoverflow.com/users/49559/kiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 41151697, "answer_count": 1, "score": 5, "last_activity_date": 1481749249, "creation_date": 1481746647, "question_id": 41151435, "link": "https://stackoverflow.com/questions/41151435/pandas-idiomatic-way-to-custom-fillna", "title": "Pandas idiomatic way to custom fillna", "body": "<p>I have time series data in the following format, where a value indicates an accumulated amount since the past recording. What I want to do is \"spread\" that accumulated amount over the past periods containing NaN so that this input:</p>\n\n<pre><code>s = pd.Series([0, 0, np.nan, np.nan, 75, np.nan, np.nan, np.nan, np.nan, 50],\n              pd.date_range(start=\"Jan 1 2016\", end=\"Jan 10 2016\", freq='D'))\n\n2016-01-01      0.0\n2016-01-02      0.0\n2016-01-03      NaN\n2016-01-04      NaN\n2016-01-05     75.0\n2016-01-06      NaN\n2016-01-07      NaN\n2016-01-08      NaN\n2016-01-09      NaN\n2016-01-10     50.0\n</code></pre>\n\n<p>Becomes this output:</p>\n\n<pre><code>2016-01-01     0.0\n2016-01-02     0.0\n2016-01-03    25.0\n2016-01-04    25.0\n2016-01-05    25.0\n2016-01-06    10.0\n2016-01-07    10.0\n2016-01-08    10.0\n2016-01-09    10.0\n2016-01-10    10.0\n</code></pre>\n\n<p>Is there an idiomatic Pandas way to do this rather than just do a for loop over the data? I've tried a variety of things involving <code>fillna</code>, <code>dropna</code>, <code>isnull</code>, doing <code>shift</code> to check the next value, etc but I can't see how to put the pieces together.</p>\n"}, {"tags": ["python", "tensorflow", "skflow"], "comments": [{"owner": {"reputation": 1579, "user_id": 3419997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dunus.png?s=128&g=1", "display_name": "turtle", "link": "https://stackoverflow.com/users/3419997/turtle"}, "edited": false, "score": 0, "creation_date": 1482497740, "post_id": 41151404, "comment_id": 69806149, "body": "You might want to check <a href=\"https://www.tensorflow.org/tutorials/wide/\" rel=\"nofollow noreferrer\">this tutorial</a> (how to manage categorical data) of tensorflow. Also this <a href=\"https://www.kaggle.com/usersumit/allstate-claims-severity/tensorflow-dnnregressor\" rel=\"nofollow noreferrer\">kaggle notebook</a> may help too."}], "answers": [{"tags": [], "owner": {"reputation": 98, "user_id": 7245907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DwgWe.jpg?s=128&g=1", "display_name": "Baltimore", "link": "https://stackoverflow.com/users/7245907/baltimore"}, "is_accepted": true, "score": 2, "last_activity_date": 1482241674, "last_edit_date": 1482241674, "creation_date": 1482213695, "answer_id": 41235837, "question_id": 41151404, "link": "https://stackoverflow.com/questions/41151404/skflow-inputing-numerical-and-text-data-into-the-model/41235837#41235837", "title": "SkFlow: Inputing numerical and text data into the model", "body": "<p>Here's my shot at it. The input_fn function creates an dict of tensors that are passed into the fit and evaluate methods via wrappers. That dict is used when creating the model. It defines the data that will be used. The other constant value tensors are the data. They are what's passed in during model fitting with the feature_columns argument: feature_columns=[gear,mpg,cyl...].</p>\n\n<p>I left out all of the crossed columns stuff, but it could be put in. </p>\n\n<p>I turned off WARNINGS but if you want that, the switch is there. This also produces as surprising amount of log data, so be sure to check out the graphs with tensorboard.</p>\n\n<pre><code># an experiment with regression in Tensorflow using one categorical feature\n# MTCARS - auto data. Is the car an Automatic or a Manual Shift?\n# Data set location: https://vincentarelbundock.github.io/Rdatasets/datasets.html\n# Below is a HIGHLY cut down version of the tensorflow wide tutorial at:\n# https://www.tensorflow.org/tutorials/wide/\n\nimport tensorflow as tf\nimport numpy as np\nimport urllib.request\nimport tempfile\nimport pandas as pd\nfrom sklearn.model_selection import train_test_split\n\nLABEL_COLUMN = \"label\"\nCOLUMNS = [\"mpg\",\"cyl\",\"disp\",\"hp\",\"drat\",\"wt\",\"qsec\",\"vs\",\"am\",\"gear\",\"carb\"]\nCONTINUOUS_COLUMNS = [\"mpg\",\"cyl\",\"disp\",\"hp\",\"drat\",\"wt\",\"qsec\",\"vs\",\"carb\"]\nCATEGORICAL_COLUMNS = [\"gear\"]\n\n# had to update the urllib stuff for 3.5.\n# pull down csv file\n# I am running on ubuntu 14.04, so I don't know how well the tempfile stuff    will work on Windows.\n# NamedTemporaryFile might have problems\ndata_file = tempfile.NamedTemporaryFile()\nurllib.request.urlretrieve(\"https://vincentarelbundock.github.io/Rdatasets/csv/datasets/mtcars.csv\", data_file.name)\n\ncars = pd.read_csv(data_file, names=COLUMNS, skipinitialspace=True,skiprows=1)\n# I want the \"am\" column as my label, so rename it - not really necessary,\n# just trying to stay in sync the wide tutorial\n# am: 0 = Automatic 1 = Manual\ncars.rename(columns={'am':LABEL_COLUMN}, inplace=True)\n\n# turn gears into a categorical variable, again not really useful, but I want    some categorical data\n# turn the numbers into strings. I sure there is a oneliner somewhere that can do this...\ncars['gear'] = cars['gear'].astype(str)\ncars['gear'] = cars['gear'].replace({'3': 'THREE'}, regex=True)\ncars['gear'] = cars['gear'].replace({'4': 'FOUR'}, regex=True)\ncars['gear'] = cars['gear'].replace({'5': 'FIVE'}, regex=True)\n\n# split into train and tests set - there is a woefully small number of rows here. Need a bigger data set.\ntrain, test = train_test_split(cars, test_size = 0.2)\n\n# These methods are a copy of the input functions from the tensorflow wide tutorial updated for python 3.5\ndef input_fn(df):\n  # Creates a dictionary mapping from each continuous feature column name (k) to\n  # the values of that column stored in a constant Tensor.\n  continuous_cols = {k: tf.constant(df[k].values)\n                     for k in CONTINUOUS_COLUMNS}\n  # Creates a dictionary mapping from each categorical feature column name (k)\n  # to the values of that column stored in a tf.SparseTensor.\n  categorical_cols = {k: tf.SparseTensor(\n      indices=[[i, 0] for i in range(df[k].size)],\n      values=df[k].values,\n      shape=[df[k].size, 1])\n                  for k in CATEGORICAL_COLUMNS}\n\n  # Merges the two dictionaries into one.\n  # Old CODE\n  #feature_cols = dict(continuous_cols.items() + categorical_cols.items())\n  # NEW CODE - python 3.5\n  feature_cols = dict(continuous_cols)\n  feature_cols.update(categorical_cols)\n\n  # Converts the label column into a constant Tensor.\n  label = tf.constant(df[LABEL_COLUMN].values)\n  # Returns the feature columns and the label.\n  return feature_cols, label\n\ndef train_input_fn():\n  return input_fn(train)\n\ndef eval_input_fn():\n  return input_fn(test)\n\n# shut down WARNINGs\n# You can adjust by using DEBUG, INFO, WARN, ERROR, or FATAL\ntf.logging.set_verbosity(tf.logging.ERROR)\n\n# set up the TF column for the categorical variable\ngear = tf.contrib.layers.sparse_column_with_keys(column_name=\"gear\", keys=[\"THREE\", \"FOUR\", \"FIVE\"])\n# if my categorical data had more than 10 keys, I would use:\n#gear = tf.contrib.layers.sparse_column_with_hash_bucket(\"gear\", hash_bucket_size=1000)\n\n# set up the TF columns for the continous variables\nmpg = tf.contrib.layers.real_valued_column(\"mpg\")\ncyl = tf.contrib.layers.real_valued_column(\"cyl\")\ndisp = tf.contrib.layers.real_valued_column(\"disp\")\nhp = tf.contrib.layers.real_valued_column(\"hp\")\ndrat = tf.contrib.layers.real_valued_column(\"drat\")\nwt = tf.contrib.layers.real_valued_column(\"wt\")\nqsec = tf.contrib.layers.real_valued_column(\"qsec\")\nvs = tf.contrib.layers.real_valued_column(\"vs\")\ncarb = tf.contrib.layers.real_valued_column(\"carb\")\n\n# Build the model. Make sure the logs dir already exists.\nmodel_dir = \"./logs\"\nm = tf.contrib.learn.LinearClassifier(\n    feature_columns=[gear,mpg,cyl,disp,hp,drat,wt,qsec,vs,carb],\n    optimizer=tf.train.FtrlOptimizer(\n    learning_rate=0.01,\n    l1_regularization_strength=1.0,\n    l2_regularization_strength=1.0),\n    model_dir=model_dir)\n\nm.fit(input_fn=train_input_fn,steps=200)\n\n# Results were not bad for a very small data set, but the recall is suspect\n# In reality, these numbers don't mean a thing with such small data\n\nresults = m.evaluate(input_fn=eval_input_fn, steps=1)\nfor key in sorted(results):\n    print(\"%s: %s\" % (key, results[key]))\n</code></pre>\n\n<p>`</p>\n"}], "owner": {"reputation": 1085, "user_id": 2697874, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-VU6QRwAY6cI/AAAAAAAAAAI/AAAAAAAAAC8/vzGR8WbqLmw/photo.jpg?sz=128", "display_name": "Ben Mayo", "link": "https://stackoverflow.com/users/2697874/ben-mayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 1, "accepted_answer_id": 41235837, "answer_count": 1, "score": 3, "last_activity_date": 1482245073, "creation_date": 1481746522, "last_edit_date": 1495542730, "question_id": 41151404, "link": "https://stackoverflow.com/questions/41151404/skflow-inputing-numerical-and-text-data-into-the-model", "title": "SkFlow: Inputing numerical and text data into the model", "body": "<p>I'm in the early stages of learning SkFlow/TensorFlow, so I'll lay out my understanding of what I'm trying to do, incorrect as it may be.</p>\n\n<p>Let's imagine I'm trying to build a model to predict if a car will fail an emissions test.</p>\n\n<p>My training and testing csv might look something like this</p>\n\n<pre><code> make, fuel,   year, mileage, days since service, passed test\n   vw, diesel, 2015, 10000,   20,                 0\nhonda, petrol, 2008, 1000000, 234,                1\n</code></pre>\n\n<p>So the <code>pass/fail</code> column being by y, the others being x.</p>\n\n<p>So far, with Baltimore's help in my previous <a href=\"https://stackoverflow.com/questions/41131332/csv-file-into-skflow\">SO question</a> I'm able to process the Iris dataset from a CSV file. That dataset is all numbers however.</p>\n\n<p>This <a href=\"https://www.tensorflow.org/tutorials/wide/\" rel=\"nofollow noreferrer\">example on the TensorFlow</a> website shows a model built with census data, using categorical and continuous data. I'm trying to use SkFlow as I understand it simplifies the process.</p>\n\n<p>Anyway, to my code</p>\n\n<pre><code>x_train = genfromtxt('/Users/ben/Desktop/data.csv', dtype=None, delimiter=',' , usecols=(0, 1, 2, 3,4))\ny_train = genfromtxt('/Users/ben/Desktop/data.csv', dtype='int', delimiter=',', usecols = (5))\n\nfeature_columns = [tf.contrib.layers.real_valued_column(\"\", dimension=1)]\n\nclassifier = tf.contrib.learn.DNNClassifier(feature_columns=feature_columns,\n                                    hidden_units=[10, 20, 10],\n                                    n_classes=2,\n                                    model_dir=\"./tmp/model1\")\n\n# Fit model. Add your train data here\nclassifier.fit(x=x_train,y=y_train,steps=2000)\n</code></pre>\n\n<p>So I've got my csv data reading in fine into my <code>x_train</code> and <code>y_train</code> objects. The CSV has no headers, but could do if required.</p>\n\n<p>I believe I'm trying to define which columns have which kind of data, something like</p>\n\n<pre><code>make = tf.contrib.layers.sparse_column_with_hash_bucket(\"make\", hash_bucket_size=1000)\n\nfuel = tf.contrib.layers.sparse_column_with_keys(column_name=\"fuel\", keys=[\"diesel\", \"petrol\"])\n</code></pre>\n\n<p>How do I build the <code>feature_columns</code> object that gets passed into the <code>classifier</code>?</p>\n"}, {"tags": ["python", "cryptography", "mingw", "charm-crypto"], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 2872163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/336f0f8f93875733304cf40abae73d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Shoaib", "link": "https://stackoverflow.com/users/2872163/shoaib"}, "is_accepted": true, "score": 1, "last_activity_date": 1533891189, "last_edit_date": 1533891189, "creation_date": 1481807738, "answer_id": 41165118, "question_id": 41151382, "link": "https://stackoverflow.com/questions/41151382/python-exe-stopped-working-on-charm-crypto-hybridenc-decrypt/41165118#41165118", "title": "Python.exe stopped working on Charm Crypto HybridEnc.Decrypt()", "body": "<p>Eventually gave up on windows. Tried Ubuntu 14.04 and it worked after some usual config problems.</p>\n\n<p>Here's for others how to configure Charm-Crypto for Python 3.4:</p>\n\n<pre><code>sudo apt-get install subversion\nsudo apt-get install m4\nsudo apt-get install flex\nsudo apt-get install bison\nsudo apt-get install libssl-dev\nsudo apt-get install python3-setuptools python3-dev\nsudo apt-get install libgmp-dev\nwget http://crypto.stanford.edu/pbc/files/pbc-0.5.14.tar.gz\ntar xf pbc-0.5.14.tar.gz\ncd pbc-0.5.14\n./configure &amp;&amp; make &amp;&amp; sudo make install\n</code></pre>\n\n<p>Downloaded charm's tar.gz file from <a href=\"https://pypi.python.org/pypi/charm-crypto/0.43\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/charm-crypto/0.43</a>, extracted, and changed directory, then:</p>\n\n<pre><code>./configure.sh\nsudo make\nsudo make install\nsudo ldconfig\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 2872163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/336f0f8f93875733304cf40abae73d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Shoaib", "link": "https://stackoverflow.com/users/2872163/shoaib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 1, "accepted_answer_id": 41165118, "answer_count": 1, "score": 0, "last_activity_date": 1533891189, "creation_date": 1481746419, "question_id": 41151382, "link": "https://stackoverflow.com/questions/41151382/python-exe-stopped-working-on-charm-crypto-hybridenc-decrypt", "title": "Python.exe stopped working on Charm Crypto HybridEnc.Decrypt()", "body": "<p>I am trying to run the code of a Proxy Re-Encryption implementation, thanks to Nikosft on <a href=\"https://github.com/nikosft/IB-PRE\" rel=\"nofollow noreferrer\">https://github.com/nikosft/IB-PRE</a></p>\n\n<p>I am using the pre_mg07a.py file. Python executes and successfully prints all debug messages for encryption and reencryption, but on the last line of the following code, it shows python.exe stopped working. I tried finding out source of problem, but all I know is it crashes during decryption when it calls the HybridEnc.decrypt() method in charm.adapters.pkenc_adapt_hybrid.</p>\n\n<p>my test.py file:</p>\n\n<pre><code>from pre_mg07a import PreGA\n\ndef main():\n    from charm.toolbox.pairinggroup import PairingGroup,GT\n    from charm.core.engine.util import objectToBytes,bytesToObject\n    from charm.schemes.pkenc.pkenc_cs98 import CS98\n    from charm.toolbox.ecgroup import ECGroup\n    from charm.toolbox.eccurve import prime192v2\n    group = PairingGroup('SS512', secparam=1024)\n    groupcs98 = ECGroup(prime192v2)\n    pkenc = CS98(groupcs98)\n    pre = PreGA(group,pkenc)\n    ID1 = \"nikos\"\n    msg  =  group.random(GT)\n    print(\"MESSAGE:::::::\\n %s\", msg)\n    (master_secret_key, params) = pre.setup()\n    (public_key, secret_key) = pkenc.keygen()\n    id1_secret_key = pre.keyGen(master_secret_key, ID1)\n    ciphertext = pre.encrypt(params, ID1, msg)\n    re_encryption_key = pre.rkGenPKenc(params,id1_secret_key, public_key)\n    ciphertext2 = pre.reEncryptPKenc(params, re_encryption_key, ciphertext)\n    pre.decryptPKenc(params, public_key, secret_key, ciphertext2) #problem here\nif __name__ == \"__main__\": main()\n</code></pre>\n\n<p><a href=\"https://github.com/nikosft/IB-PRE/blob/master/pre_mg07a.py\" rel=\"nofollow noreferrer\">https://github.com/nikosft/IB-PRE/blob/master/pre_mg07a.py</a>\nfile 'decrptPKenc' method:</p>\n\n<pre><code>def decryptPKenc(self, params, public_key, secret_key, cid):\n    print('here')\n    Xbytes = pkenc.decrypt(public_key, secret_key, cid['C3'])#stopped working\n    X = bytesToObject(Xbytes, group)          \n    m = cid['C2']/pair(cid['C1'],group.hash(X,G1))            \n    if(debug):\n        print('\\nDecrypting...')\n        print('m=&gt;')\n        print(m)\n    return m\n</code></pre>\n\n<p>Platform details:\nWindows 7 64bit, Python 3.4 32bit, MingW 32bit with Msys. Installed: openssl 1.0.1u, GMP 5.0.2, PBC 0.5.14, Charm Crypto 0.43.</p>\n\n<p>Tried: Using different python versions, 2.7 and 3.2. I cant configure and make charm correctly with them.</p>\n\n<p>Any help would be really appreciated. I know this might be a very specific topic, but maybe the problem is different. Any suggestions welcome too.</p>\n"}, {"tags": ["python", "list", "decimal"], "comments": [{"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1481746514, "post_id": 41151381, "comment_id": 69504942, "body": "Try <code>value1 = d.get(key1)[0]</code>, but why are you putting them into lists in the first place?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1481746581, "post_id": 41151381, "comment_id": 69504981, "body": "Your values are <i>lists of single Decimal objects</i>."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1481746621, "post_id": 41151381, "comment_id": 69505000, "body": "Why you have <code>list</code> as value when you need is a single decimal object entry as the value of <code>dict</code>?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1481746651, "post_id": 41151381, "comment_id": 69505018, "body": "You have your nomenclature backwards. You said, &quot;<i>with Decimal values for each key</i>&quot; Your keys are strings. <code>item1</code> is a key. <code>[Decimal(&#39;-232.030449067021&#39;)]</code> is a value."}, {"owner": {"reputation": 137, "user_id": 6419985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57cb72ce1797c70dea4a689aabec7952?s=128&d=identicon&r=PG&f=1", "display_name": "Jon R", "link": "https://stackoverflow.com/users/6419985/jon-r"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1481751704, "post_id": 41151381, "comment_id": 69507503, "body": "@Bahrom, they are going into the lists because that was the first way I thought of writing the script."}, {"owner": {"reputation": 137, "user_id": 6419985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57cb72ce1797c70dea4a689aabec7952?s=128&d=identicon&r=PG&f=1", "display_name": "Jon R", "link": "https://stackoverflow.com/users/6419985/jon-r"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1481751859, "post_id": 41151381, "comment_id": 69507578, "body": "@MoinuddinQuadri, I did nor realize I could use Decimal object as the value"}, {"owner": {"reputation": 137, "user_id": 6419985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57cb72ce1797c70dea4a689aabec7952?s=128&d=identicon&r=PG&f=1", "display_name": "Jon R", "link": "https://stackoverflow.com/users/6419985/jon-r"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1481751990, "post_id": 41151381, "comment_id": 69507636, "body": "@Rob\u1d69, I do have my nomenclature correct, the language is just a bit ambiguous. I mean that I have a Decimal value which is associated with each key in the dictionary, not Decimal values <b>as</b> the keys"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1481753219, "post_id": 41151381, "comment_id": 69508130, "body": "@Musher - Ah, I see. Thanks for the clarification."}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 0, "last_activity_date": 1481746537, "creation_date": 1481746537, "answer_id": 41151410, "question_id": 41151381, "link": "https://stackoverflow.com/questions/41151381/do-math-with-decimal-values-stored-in-dictionary/41151410#41151410", "title": "Do math with Decimal values stored in dictionary", "body": "<p>The values in your dictinoary are <code>list</code>s, not <code>Decimal</code>s. You need to query the list to find the decimal value contained therein:</p>\n\n<pre><code>result = value1[0] + value2[0]\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 6419985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57cb72ce1797c70dea4a689aabec7952?s=128&d=identicon&r=PG&f=1", "display_name": "Jon R", "link": "https://stackoverflow.com/users/6419985/jon-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 41151410, "answer_count": 1, "score": 0, "last_activity_date": 1481746537, "creation_date": 1481746419, "question_id": 41151381, "link": "https://stackoverflow.com/questions/41151381/do-math-with-decimal-values-stored-in-dictionary", "title": "Do math with Decimal values stored in dictionary", "body": "<p>I have a python defaultdict(list) with Decimal values for each key. I need to use the Decimals for calculations. I cannot get them from the list data type back into the decimal form.</p>\n\n<p>A sample of my defaultdict.\ndefaultdict(, {'item1': [Decimal('-232.030449067021')], 'item2': [Decimal('-647.198253946051')], 'item3': [Decimal('-626.390228255337')]})</p>\n\n<p>I need to get these Decimals out of the defaultdict so I can do additional operations to them. For example, I may need to add the Decimal values for item1 and item2. Supposing my defaultdict is named 'd',</p>\n\n<pre><code>key1 = 'item1'\nkey2 = 'item2'\nvalue1 = d.get(key1)\nvalue2 = d.get(key2)\nresult = value1 + value2\n</code></pre>\n\n<p>gives <code>TypeError: unsupported operand type(s) for -: 'list' and 'list'</code></p>\n\n<p>I have tried using <code>''.join()</code> to convert to a string so I can use eval(): does not work because of Decimal data type\nI have tried using eval() to make python evaluate the list: does not work because the argument must be a string or code object</p>\n\n<p>I am able to successfully do what I want by doing the following:</p>\n\n<p>I have tried mapping to a string</p>\n\n<pre><code>key1 = 'item1'\nkey2 = 'item2'\nvalue1 = Decimal(''.join(map(str,d.get(key1))))\nvalue2 = Decimal(''.join(map(str,d.get(key2))))\nresult = value1 + value2\n</code></pre>\n\n<p>Is there a simpler way to do this while still preserving the values as Decimals?</p>\n"}, {"tags": ["python", "tensorflow", "mean-square-error"], "comments": [{"owner": {"reputation": 4259, "user_id": 1951176, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/005b1d8ae6a6ef033e5303b8ed466f14?s=128&d=identicon&r=PG", "display_name": "sygi", "link": "https://stackoverflow.com/users/1951176/sygi"}, "edited": false, "score": 0, "creation_date": 1481746879, "post_id": 41151358, "comment_id": 69505135, "body": "Did you try to decrease the learning rate?"}, {"owner": {"reputation": 395, "user_id": 2564122, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d090cf7f827c75eb08d1a32dd216ab1c?s=128&d=identicon&r=PG", "display_name": "FlamFace", "link": "https://stackoverflow.com/users/2564122/flamface"}, "reply_to_user": {"reputation": 4259, "user_id": 1951176, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/005b1d8ae6a6ef033e5303b8ed466f14?s=128&d=identicon&r=PG", "display_name": "sygi", "link": "https://stackoverflow.com/users/1951176/sygi"}, "edited": false, "score": 0, "creation_date": 1481747282, "post_id": 41151358, "comment_id": 69505309, "body": "I did, but I don&#39;t have a good enough understanding of the internals to understand why that would help. I&#39;ve seen that as a suggestion on a few posts, but it becomes nan in the first iteration. What about reducing the learning rate changes the loss function?"}, {"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 1, "creation_date": 1481750491, "post_id": 41151358, "comment_id": 69506951, "body": "NaN is the output of infinity - infinity or 0/0. Can you do <code>check = tf.add_check_numerics_ops()</code> and do session.run on that? That may help you isolate where this computation happens. Some related issues: <a href=\"https://github.com/tensorflow/tensorflow/issues/2288\" rel=\"nofollow noreferrer\">github.com/tensorflow/tensorflow/issues/2288</a> <a href=\"https://github.com/tensorflow/tensorflow/issues/2540\" rel=\"nofollow noreferrer\">github.com/tensorflow/tensorflow/issues/2540</a>"}, {"owner": {"reputation": 1504, "user_id": 2008194, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64353f0296db360dfc2bdc99b52f10e3?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/2008194/chris"}, "edited": false, "score": 0, "creation_date": 1481753452, "post_id": 41151358, "comment_id": 69508238, "body": "Is your batch size the same for either set?"}, {"owner": {"reputation": 395, "user_id": 2564122, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d090cf7f827c75eb08d1a32dd216ab1c?s=128&d=identicon&r=PG", "display_name": "FlamFace", "link": "https://stackoverflow.com/users/2564122/flamface"}, "edited": false, "score": 0, "creation_date": 1481753503, "post_id": 41151358, "comment_id": 69508252, "body": "The batch size is the same regardless of the size of the dataset, which is why I was leaning towards there being a problem in the data after a certain point."}, {"owner": {"reputation": 395, "user_id": 2564122, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d090cf7f827c75eb08d1a32dd216ab1c?s=128&d=identicon&r=PG", "display_name": "FlamFace", "link": "https://stackoverflow.com/users/2564122/flamface"}, "reply_to_user": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1481753537, "post_id": 41151358, "comment_id": 69508261, "body": "Thanks @YaroslavBulatov, I&#39;ll try that tomorrow when I&#39;m back with my code."}], "owner": {"reputation": 395, "user_id": 2564122, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d090cf7f827c75eb08d1a32dd216ab1c?s=128&d=identicon&r=PG", "display_name": "FlamFace", "link": "https://stackoverflow.com/users/2564122/flamface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481802325, "creation_date": 1481746314, "last_edit_date": 1481802325, "question_id": 41151358, "link": "https://stackoverflow.com/questions/41151358/tensorflow-fans-with-large-dataset", "title": "Tensorflow fans with large dataset", "body": "<p>I'm currently writing a neural network using tensorflow, and I'm finding that it all works as expected when I have a small dataset, but as soon as I increase the number of samples, I start getting nan's for my cost function. I'm using the mean_squared_error method as passing this into an AdamOptimiser. I'm also batching the data to be in manageable chunks.</p>\n\n<p>I'm not in a place where I can paste code at the moment, so am not looking for an answer as to a specific error I'm making, but I'm wondering if large datasets can sometimes produce these results? It would seem a bit odd to me. What feels more likely is that there's a problem with my data, but being quite new to this, I don't have a feel for where to start looking. Any advice would be greatly appreciated.</p>\n\n<p><strong>Update:</strong>\nit was indeed my data, I had a few nans corrupting it all, but the dataset was so large it was tricky to find them. Anyway, should be all cleaned up now, I'll let you know if this solves my issue when working out the cost function.</p>\n\n<p><strong>Update 2:</strong>\nThis is now working after filtering out the rows with nans in them. Thanks for the help</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 2, "creation_date": 1481746424, "post_id": 41151335, "comment_id": 69504894, "body": "Did you take a look at <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\"><code>regex</code></a>?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1481746637, "post_id": 41151335, "comment_id": 69505009, "body": "this isn&#39;t a csv."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481749579, "post_id": 41151335, "comment_id": 69506525, "body": "A CSV file should have the same fields in every line. It&#39;s a simple table."}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481747123, "post_id": 41151445, "comment_id": 69505225, "body": "you don&#39;t need the parentheses, since you don&#39;t extract the group. and you should close your files after using them."}, {"owner": {"reputation": 2950, "user_id": 3405554, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ejRLl.jpg?s=128&g=1", "display_name": "harshil9968", "link": "https://stackoverflow.com/users/3405554/harshil9968"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481747268, "post_id": 41151445, "comment_id": 69505300, "body": "Thanks, referred some other post for Regex. Copied stuff blindly, but tested."}], "tags": [], "owner": {"reputation": 2950, "user_id": 3405554, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ejRLl.jpg?s=128&g=1", "display_name": "harshil9968", "link": "https://stackoverflow.com/users/3405554/harshil9968"}, "is_accepted": true, "score": 0, "last_activity_date": 1481747197, "last_edit_date": 1481747197, "creation_date": 1481746707, "answer_id": 41151445, "question_id": 41151335, "link": "https://stackoverflow.com/questions/41151335/how-can-i-seperate-only-those-rows-in-csv-in-which-dates-are-present-for-ex/41151445#41151445", "title": "How can i seperate only those rows in csv in which dates are present....for ex", "body": "<p>What you need is regex, </p>\n\n<pre><code>import re\nre.search(r'\\d+/\\d+/\\d+','The date is 11/12/98')\n</code></pre>\n\n<p>To incorporate in code you can do:</p>\n\n<pre><code>import re\nnew_file  = open('/new/file.csv','w+')\n\nfor line in open('/path/to/csv'):\n    if re.search(r'\\d+/\\d+/\\d+',line):\n        new_file.write(line)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 1, "last_activity_date": 1481747585, "last_edit_date": 1481747585, "creation_date": 1481747228, "answer_id": 41151577, "question_id": 41151335, "link": "https://stackoverflow.com/questions/41151335/how-can-i-seperate-only-those-rows-in-csv-in-which-dates-are-present-for-ex/41151577#41151577", "title": "How can i seperate only those rows in csv in which dates are present....for ex", "body": "<p>As mentioned by @Jean-Fran\u00e7ois, your file is a simple text file, it is not a csv file. To achieve the output that you want, you can try with <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\"><code>regex</code></a> like below: </p>\n\n<pre><code>import re\n\nwith open('out.txt', 'w') as out:\n    with open('my_file.txt', 'r') as f:\n        for line in f:\n            if re.search('\\d+\\/\\d+\\/\\d+', line):\n                out.write(line)\n</code></pre>\n\n<p>Now, the content of <code>out.txt</code> is:</p>\n\n<pre><code>1) 2/14/16, 7:19 PM - +91 9823547956: Hi all...\n2) 24/14/16, 5:15 PM - +91 8026549795: have a good day\n</code></pre>\n\n<p>When using <a href=\"https://docs.python.org/3/reference/compound_stmts.html#with\" rel=\"nofollow noreferrer\"><code>with statement</code></a>, you do not need to close your files explicitly (by calling <code>file.close()</code>), because it is done automatically by the end of the block.</p>\n"}], "owner": {"reputation": 9, "user_id": 6270829, "user_type": "registered", "profile_image": "https://graph.facebook.com/989367864490105/picture?type=large", "display_name": "Nikhil Dhapodkar", "link": "https://stackoverflow.com/users/6270829/nikhil-dhapodkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 41151445, "answer_count": 2, "score": -2, "last_activity_date": 1481747585, "creation_date": 1481746209, "last_edit_date": 1481746398, "question_id": 41151335, "link": "https://stackoverflow.com/questions/41151335/how-can-i-seperate-only-those-rows-in-csv-in-which-dates-are-present-for-ex", "title": "How can i seperate only those rows in csv in which dates are present....for ex", "body": "<p>I/P:-</p>\n\n<pre><code>1) 2/14/16, 7:19 PM - +91 9823547956: Hi all...\n2) 24/14/16, 5:15 PM - +91 8026549795: have a good day\n3) You might remember an interesting scene from there..\n4) Many of us might find that example too difficult\n</code></pre>\n\n<p>I need only rows which has dates as O/P:-</p>\n\n<pre><code>1) 2/14/16, 7:19 PM - +91 9823547956: Hi all...\n2) 24/14/16, 5:15 PM - +91 8026549795: have a good day\n</code></pre>\n"}, {"tags": ["python", "bisection"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1481746259, "post_id": 41151317, "comment_id": 69504822, "body": "Try using your debugger: step through the code and see what happens."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1481746353, "post_id": 41151317, "comment_id": 69504860, "body": "Also: there is no need for recursion here. Just put the body of the code inside <code>while True:</code>."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 1878780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbe368cde0308dcf741c80dc9cecaa1?s=128&d=identicon&r=PG", "display_name": "Epsilon", "link": "https://stackoverflow.com/users/1878780/epsilon"}, "edited": false, "score": 0, "creation_date": 1481746455, "post_id": 41151373, "comment_id": 69504911, "body": "Thank you, this works. This is kind of counter intuitive indeed."}, {"owner": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "edited": false, "score": 1, "creation_date": 1481746540, "post_id": 41151373, "comment_id": 69504953, "body": "... or just import division from future: <a href=\"https://www.python.org/dev/peps/pep-0238/\" rel=\"nofollow noreferrer\">python.org/dev/peps/pep-0238</a>"}, {"owner": {"reputation": 1227, "user_id": 1974414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1fdd96f9d84a095fa844866e6bc2680?s=128&d=identicon&r=PG", "display_name": "Dima Ogurtsov", "link": "https://stackoverflow.com/users/1974414/dima-ogurtsov"}, "reply_to_user": {"reputation": 131, "user_id": 1878780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbe368cde0308dcf741c80dc9cecaa1?s=128&d=identicon&r=PG", "display_name": "Epsilon", "link": "https://stackoverflow.com/users/1878780/epsilon"}, "edited": false, "score": 1, "creation_date": 1481746689, "post_id": 41151373, "comment_id": 69505038, "body": "@Epsilon integer division floors the result, this is kinda standard programming languages behavior"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 131, "user_id": 1878780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbe368cde0308dcf741c80dc9cecaa1?s=128&d=identicon&r=PG", "display_name": "Epsilon", "link": "https://stackoverflow.com/users/1878780/epsilon"}, "edited": false, "score": 2, "creation_date": 1481746768, "post_id": 41151373, "comment_id": 69505076, "body": "@Epsilon &quot;you can switch to Python 3.X and it will use ordinary sensible division automatically&quot;. Do that. Python 2 is oooooold."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481746855, "post_id": 41151373, "comment_id": 69505121, "body": "@Jean-Fran&#231;oisFabre At the risk of going off-topic: Python 2.7 is still widely used and has been determined to be <a href=\"http://stackoverflow.com/questions/4836375/end-of-support-for-python-2-7\">supported until 2020</a>."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481746950, "post_id": 41151373, "comment_id": 69505159, "body": "Yes, when you&#39;re tied with packages unavailable on python 3 like scapy or opencv, or at work, But for small computationnal programs, it&#39;s better to pick the latest standard."}], "tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": true, "score": 3, "last_activity_date": 1481746378, "creation_date": 1481746378, "answer_id": 41151373, "question_id": 41151317, "link": "https://stackoverflow.com/questions/41151317/calculating-square-root-of-2/41151373#41151373", "title": "Calculating square root of 2", "body": "<p>You might be losing precision on this line:</p>\n\n<pre><code>c = (left+right)/2\n</code></pre>\n\n<p>if <code>left</code> and <code>right</code> are both integers, then <code>c</code> will also be an integer. This leads to unexpected behavior, for instance <code>1/2</code> evaluating to <code>0</code>.</p>\n\n<p>You can force the result to be a float by dividing by a float:</p>\n\n<pre><code>c = (left+right)/2.0\n</code></pre>\n\n<p>Or you can switch to Python 3.X and it will use ordinary sensible division automatically.</p>\n"}], "owner": {"reputation": 131, "user_id": 1878780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbe368cde0308dcf741c80dc9cecaa1?s=128&d=identicon&r=PG", "display_name": "Epsilon", "link": "https://stackoverflow.com/users/1878780/epsilon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 41151373, "answer_count": 1, "score": 0, "last_activity_date": 1481746378, "creation_date": 1481746147, "last_edit_date": 1481746212, "question_id": 41151317, "link": "https://stackoverflow.com/questions/41151317/calculating-square-root-of-2", "title": "Calculating square root of 2", "body": "<p>Why does the following code does not terminate?</p>\n\n<pre><code># approximating sqrt(2)\n\ndef approx (error,left, right):\n    c = (left+right)/2\n    f = c**2 - 2\n\n    if abs(f)&lt;error :\n        return c\n\n    if f &lt; 0:\n        left = c\n    else:\n        right = c\n\n    return approx(error,left,right)\n\nprint approx(0.1,0,2)\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "matrix", "random"], "comments": [{"owner": {"reputation": 10409, "user_id": 483620, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/efc681121bec8b6c5f9b5bc0714396a0?s=128&d=identicon&r=PG", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/483620/benjamin"}, "edited": false, "score": 0, "creation_date": 1481748778, "post_id": 41151305, "comment_id": 69506109, "body": "What are the expectations in the row axis? Single value of 1, no values of 1, etc.?"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5711393, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9c6d47d3a415e180aa767859b329788e?s=128&d=identicon&r=PG&f=1", "display_name": "jmparejaz", "link": "https://stackoverflow.com/users/5711393/jmparejaz"}, "edited": false, "score": 0, "creation_date": 1481747948, "post_id": 41151481, "comment_id": 69505656, "body": "but the problem with this formulation is that it is constraining the matrix with a mandatory column equal to 1, it is avoiding the posibility that a column sum could be equal to 0, so in the line <code>column[random.randint(0, n - 1)] = 1  #could be write as: column[random.randint(0, n - 1)] = random.randint(0,1)</code>"}, {"owner": {"reputation": 2874, "user_id": 3703613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tRbDM.jpg?s=128&g=1", "display_name": "Brobin", "link": "https://stackoverflow.com/users/3703613/brobin"}, "reply_to_user": {"reputation": 141, "user_id": 5711393, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9c6d47d3a415e180aa767859b329788e?s=128&d=identicon&r=PG&f=1", "display_name": "jmparejaz", "link": "https://stackoverflow.com/users/5711393/jmparejaz"}, "edited": false, "score": 0, "creation_date": 1481747982, "post_id": 41151481, "comment_id": 69505674, "body": "Updated. It now chooses 0 or 1."}], "tags": [], "owner": {"reputation": 2874, "user_id": 3703613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tRbDM.jpg?s=128&g=1", "display_name": "Brobin", "link": "https://stackoverflow.com/users/3703613/brobin"}, "is_accepted": false, "score": 1, "last_activity_date": 1481748493, "last_edit_date": 1481748493, "creation_date": 1481746829, "answer_id": 41151481, "question_id": 41151305, "link": "https://stackoverflow.com/questions/41151305/generate-conditioned-random-binary-array-matrix-in-python/41151481#41151481", "title": "Generate conditioned random binary array matrix in python", "body": "<p>You can use the standard library and a few clever list comprehensions to do this. First, we create the columns, with one in each being <code>1</code> or <code>0</code> so we satisfy the sum constraint. Then we flip the columns into rows to get the result.</p>\n\n<pre><code>from random import choice, randint\n\ndef generate_matrix(m, n):\n    # Generate the columns\n    columns = []\n    for x in range(n):\n        column = [0 for y in range(m)]\n        column[randint(0, m - 1)] = choice([0, 1])\n        columns.append(column)\n    # Rotate the columns into rows\n    rows = [\n        [c[x] for c in columns]\n        for x in range(m)\n    ]\n    return rows\n\nm, n = 5, 4\nmatrix = generate_matrix(m, n)\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>[0, 1, 0, 0]\n[0, 0, 0, 0]\n[0, 0, 0, 0]\n[0, 0, 1, 0]\n[0, 0, 0, 0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": false, "score": 5, "last_activity_date": 1481749232, "last_edit_date": 1481749232, "creation_date": 1481747805, "answer_id": 41151713, "question_id": 41151305, "link": "https://stackoverflow.com/questions/41151305/generate-conditioned-random-binary-array-matrix-in-python/41151713#41151713", "title": "Generate conditioned random binary array matrix in python", "body": "<p>You are selecting a random subset of the columns, and then for each column, a random row.  Here's one way to do that using numpy. The binomial distribution is used to select which columns get a 1.  Change the second argument of <code>numpy.random.binomial</code> to tweak the density of columns with a 1.</p>\n\n<pre><code>In [156]: m = 5\n\nIn [157]: n = 12\n\nIn [158]: a = np.zeros((m, n), dtype=int)\n\nIn [159]: cols = np.random.binomial(1, 0.7, size=n)\n\nIn [160]: a[np.random.randint(0, m, size=cols.sum()), np.nonzero(cols)[0]] = 1\n\nIn [161]: a\nOut[161]: \narray([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0],\n       [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],\n       [0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0]])\n</code></pre>\n\n<hr>\n\n<p>If you want a 1 in <em>each</em> column, here's a fairly concise method:</p>\n\n<pre><code>In [103]: m = 5\n\nIn [104]: n = 12\n\nIn [105]: a = (np.random.randint(0, m, size=n) == np.arange(m).reshape(-1, 1)).astype(int)\n\nIn [106]: a\nOut[106]: \narray([[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1],\n       [0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0],\n       [0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0],\n       [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]])\n</code></pre>\n\n<p><code>np.random.randint(0, m, size=n)</code> is the random selection of row indices, one for each column.  <code>np.arange(m).reshape(-1, 1)</code> is the sequence <code>[0, 1, ..., m-1]</code> stored in an array with shape (m, 1).  When this is compared to the random values, broadcasting applies, so an boolean array with shape (m, n) is created.  Just convert that to integers, and you have your result.</p>\n"}, {"tags": [], "owner": {"reputation": 10409, "user_id": 483620, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/efc681121bec8b6c5f9b5bc0714396a0?s=128&d=identicon&r=PG", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/483620/benjamin"}, "is_accepted": false, "score": 1, "last_activity_date": 1481747905, "creation_date": 1481747905, "answer_id": 41151736, "question_id": 41151305, "link": "https://stackoverflow.com/questions/41151305/generate-conditioned-random-binary-array-matrix-in-python/41151736#41151736", "title": "Generate conditioned random binary array matrix in python", "body": "<p>You can select which column gets a value of 1:</p>\n\n<pre><code>a = numpy.zeros((ysize, xsize))\na[numpy.arange(ysize), numpy.random.choice(numpy.arange(xsize), ysize, replace=False)] = 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 1, "last_activity_date": 1481748125, "creation_date": 1481748125, "answer_id": 41151782, "question_id": 41151305, "link": "https://stackoverflow.com/questions/41151305/generate-conditioned-random-binary-array-matrix-in-python/41151782#41151782", "title": "Generate conditioned random binary array matrix in python", "body": "<ul>\n<li>First, generate a zero-filled matrix using a list comprehension and list multiplication (even faster) to generate each row. This is the step where you have to be fast. Transposing/copying data would hinder performance.</li>\n<li>Then loop and choose a number. Between 0 and number of rows * 2 (so it sometimes goes off limits, leaving a 0-filled column). If it's in range, put a 1 there (you could change by <code>(3*nb_rows)//2</code> to increase the number of ones. This step is fast: memory is already allocated, just mark cells.</li>\n</ul>\n\n<p>code:</p>\n\n<pre><code>import random\n\nm=7\nn=5\n\nmatrix = [[0] * m for _ in range(n)]\nprint(matrix)\nfor i in range(m):\n    a = random.randint(0,(3*n)//2)  # 66% chances to get a 1 somewhere\n    if a &lt; n:\n        matrix[a][i] = 1\n\nprint(matrix)\n</code></pre>\n\n<p>a result:</p>\n\n<pre><code>[[0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0]]\n[[0, 0, 0, 1, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 1, 0]]\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 5711393, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9c6d47d3a415e180aa767859b329788e?s=128&d=identicon&r=PG&f=1", "display_name": "jmparejaz", "link": "https://stackoverflow.com/users/5711393/jmparejaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1481749232, "creation_date": 1481746091, "question_id": 41151305, "link": "https://stackoverflow.com/questions/41151305/generate-conditioned-random-binary-array-matrix-in-python", "title": "Generate conditioned random binary array matrix in python", "body": "<p>what could be the most efficient way to generate a mxn binary array matrix which is contrained to the sum per column is equal 0 or 1 ?</p>\n\n<p>somethin like this</p>\n\n<pre><code>[[0,0,1,0,0],\n[1,1,0,0,0],\n[0,0,0,0,1]\n[0,0,0,0,0]]\n</code></pre>\n\n<p>m and n are going to be fixed, but n is larger than 500000 so iteration methods could take a long time until an appropied matrix is found.</p>\n"}, {"tags": ["python", "genetic-algorithm"], "comments": [{"owner": {"reputation": 4510, "user_id": 2644759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f291980e5706c49b03f3fa3d74951d02?s=128&d=identicon&r=PG", "display_name": "Philip Tzou", "link": "https://stackoverflow.com/users/2644759/philip-tzou"}, "edited": false, "score": 0, "creation_date": 1481746754, "post_id": 41151292, "comment_id": 69505070, "body": "<code>pairing()</code> called <code>fitness(i)</code> and <code>fitness()</code> called <code>pairing()</code> back without any conditional judgement. It&#39;s a dead loop."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1481746927, "post_id": 41151292, "comment_id": 69505151, "body": "And avoid using <code>global</code>.  Instead, pass <code>transfer</code> into <code>paring</code>"}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1481746954, "post_id": 41151292, "comment_id": 69505163, "body": "Don&#39;t do <code>from pylab import *</code> if you are trying to do reproducible work.  This will clobber your namespace."}, {"owner": {"reputation": 4508, "user_id": 5177604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f8d9d1b1e5cd8c23552b2b6e1f9f8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Fuller", "link": "https://stackoverflow.com/users/5177604/tom-fuller"}, "edited": false, "score": 0, "creation_date": 1482312310, "post_id": 41151292, "comment_id": 69718686, "body": "@Sara Kohtz I&#39;ve answered your question, did it help you? :)"}], "answers": [{"tags": [], "owner": {"reputation": 4508, "user_id": 5177604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f8d9d1b1e5cd8c23552b2b6e1f9f8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Fuller", "link": "https://stackoverflow.com/users/5177604/tom-fuller"}, "is_accepted": true, "score": 0, "last_activity_date": 1481746741, "creation_date": 1481746741, "answer_id": 41151455, "question_id": 41151292, "link": "https://stackoverflow.com/questions/41151292/python-3-5-genetic-algorithm-looping/41151455#41151455", "title": "Python 3.5 - genetic algorithm looping", "body": "<p><strong>Here's the problem:</strong></p>\n\n<p>So lets walk through your program...</p>\n\n<ul>\n<li>First you call <code>initial()</code></li>\n<li>Next you call <code>fitness(i)</code></li>\n<li>inside the <code>fitness</code> function you call <code>paring</code></li>\n<li>inside the <code>paring</code> function you call <code>fitness</code> </li>\n<li>inside the <code>fitness</code> function you call <code>paring</code>....</li>\n</ul>\n\n<p>What you've got here is an infinite loop, because <code>fitness</code> and <code>paring</code> keep calling each other</p>\n\n<p><strong>Here's the solution:</strong></p>\n\n<pre><code>def pairing():\n    global transfer # transfer is a global variable, you don't need to call a function to get it\n    #transfer = fitness(i)\n    #scores = transfer[1] # you've already defined these variables, no need to define them again\n    #generation1 = transfer[0]\n    newgeneration = [1,0,1,0,0,0,0,0,1,0,1,1,1,1]\n    return newgeneration\n</code></pre>\n\n<p>I've taken out some unnecessary lines from your paring function, the program now works as it should</p>\n\n<p><strong>Here's the output:</strong></p>\n\n<pre><code>[[0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], [1, 2, 3, 7, 6, 5, 3]]\n[[1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1], [1, 2, 3, 7, 6, 5, 3]]\n[[1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1], [1, 2, 3, 7, 6, 5, 3]]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7298641, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wIWfPxIhM_E/AAAAAAAAAAI/AAAAAAAAAJU/nUTjslZFYAo/photo.jpg?sz=128", "display_name": "gizmo", "link": "https://stackoverflow.com/users/7298641/gizmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 41151455, "answer_count": 1, "score": 0, "last_activity_date": 1481746741, "creation_date": 1481746042, "question_id": 41151292, "link": "https://stackoverflow.com/questions/41151292/python-3-5-genetic-algorithm-looping", "title": "Python 3.5 - genetic algorithm looping", "body": "<pre><code>from pylab import *\nimport numpy as np\nimport sys\ndef initial():\n    generation = [0,0,1,1,1,1,1,1,1,0,0,0,0,0]\n    generation = generation\n    return generation\ndef fitness(flag):\n    global transfer\n    transfer = []\n    newgeneration1 = pairing()\n    scores = [1,2,3,7,6,5,3]\n    if flag &lt; 1:\n        generation = initial()\n    else:\n        generation = newgeneration1\n    transfer.append(generation)\n    transfer.append(scores)\n    print(transfer)\n    return transfer\ndef pairing():\n    transfer = fitness(i)\n    scores = transfer[1]\n    generation1 = transfer[0]\n    newgeneration = [1,0,1,0,0,0,0,0,1,0,1,1,1,1]\n    return newgeneration\n\ninitial()\nfor i in range(3):\n   fitness(i)\n   pairing()\n   if i == 3:\n      scores = fitness(i)\n      print(\"The following is the final generation: \")\n      print(pairing(i-1))\n      print(\"Here are the scores: \")\n      print(scores)\n      sys.exit()\n</code></pre>\n\n<p>Above is a simplified version of what I have in terms of a genetic algorithm code in python 3.5, when I run this I am getting an error that says: maximum recursion depth exceeded, I am trying to get it to do the initial function once, then loop between the fitness and pairing for a certain number of iterations, the problem is, pairing() creates a new generation, and fitness needs to take that new generation and determine its fitness, then it sends that to pairing, and another new generation is created..etc. you get the idea. Thanks in advance for any help!</p>\n"}, {"tags": ["python", "python-2.7", "tensorflow", "tflearn"], "comments": [{"owner": {"reputation": 4259, "user_id": 1951176, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/005b1d8ae6a6ef033e5303b8ed466f14?s=128&d=identicon&r=PG", "display_name": "sygi", "link": "https://stackoverflow.com/users/1951176/sygi"}, "edited": false, "score": 0, "creation_date": 1481746091, "post_id": 41151206, "comment_id": 69504732, "body": "What shape is <code>data2</code>?"}, {"owner": {"reputation": 534, "user_id": 1484617, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/10e68bdf42cf5d16b269d2debb09638f?s=128&d=identicon&r=PG", "display_name": "Reubend", "link": "https://stackoverflow.com/users/1484617/reubend"}, "reply_to_user": {"reputation": 4259, "user_id": 1951176, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/005b1d8ae6a6ef033e5303b8ed466f14?s=128&d=identicon&r=PG", "display_name": "sygi", "link": "https://stackoverflow.com/users/1951176/sygi"}, "edited": false, "score": 0, "creation_date": 1481746145, "post_id": 41151206, "comment_id": 69504756, "body": "<code>data2</code> is a 513x217 list of lists. It&#39;s the same shape as <code>data</code> is."}, {"owner": {"reputation": 534, "user_id": 1484617, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/10e68bdf42cf5d16b269d2debb09638f?s=128&d=identicon&r=PG", "display_name": "Reubend", "link": "https://stackoverflow.com/users/1484617/reubend"}, "reply_to_user": {"reputation": 4259, "user_id": 1951176, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/005b1d8ae6a6ef033e5303b8ed466f14?s=128&d=identicon&r=PG", "display_name": "sygi", "link": "https://stackoverflow.com/users/1951176/sygi"}, "edited": false, "score": 0, "creation_date": 1481746285, "post_id": 41151206, "comment_id": 69504837, "body": "My instinct was to just put the images in as 2D arrays since they&#39;re single-channel. Do you think a different format would work better?"}, {"owner": {"reputation": 4259, "user_id": 1951176, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/005b1d8ae6a6ef033e5303b8ed466f14?s=128&d=identicon&r=PG", "display_name": "sygi", "link": "https://stackoverflow.com/users/1951176/sygi"}, "edited": false, "score": 0, "creation_date": 1481746404, "post_id": 41151206, "comment_id": 69504884, "body": "Seems reasonable, I have no idea where 64 comes from, then."}, {"owner": {"reputation": 1504, "user_id": 2008194, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64353f0296db360dfc2bdc99b52f10e3?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/2008194/chris"}, "edited": false, "score": 0, "creation_date": 1481753801, "post_id": 41151206, "comment_id": 69508355, "body": "So at the line before <code>model.fit</code>, you print out the shape of <code>data</code> and <code>data2</code> and that&#39;s what you get? Not somewhere before?  It could be helpful for us to see how those two lists are made."}, {"owner": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "edited": false, "score": 0, "creation_date": 1481754223, "post_id": 41151206, "comment_id": 69508523, "body": "Since it&#39;s talking about the &quot;feed&quot; value, this should be referring to the data the network is trying to input. So it seems to be seeing your data as having that shape (with the 64 in it). Just in case, it may be worthwhile to post the code of how <code>data</code> and <code>data2</code> are being defined."}, {"owner": {"reputation": 534, "user_id": 1484617, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/10e68bdf42cf5d16b269d2debb09638f?s=128&d=identicon&r=PG", "display_name": "Reubend", "link": "https://stackoverflow.com/users/1484617/reubend"}, "reply_to_user": {"reputation": 1504, "user_id": 2008194, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64353f0296db360dfc2bdc99b52f10e3?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/2008194/chris"}, "edited": false, "score": 0, "creation_date": 1481755623, "post_id": 41151206, "comment_id": 69509028, "body": "@chris_anderson Yes, if I add <code>print np.shape(data)</code> right before that, it outputs <code>(513, 217)</code>."}, {"owner": {"reputation": 534, "user_id": 1484617, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/10e68bdf42cf5d16b269d2debb09638f?s=128&d=identicon&r=PG", "display_name": "Reubend", "link": "https://stackoverflow.com/users/1484617/reubend"}, "reply_to_user": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "edited": false, "score": 0, "creation_date": 1481759431, "post_id": 41151206, "comment_id": 69510279, "body": "@golmschenk I just uploaded the output of <code>print data</code> <a href=\"http://filebin.ca/35Ope0OSXfzO/data.txt\" rel=\"nofollow noreferrer\">here</a>. Perhaps the complex numbers are messing it up?"}, {"owner": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "edited": false, "score": 0, "creation_date": 1481768207, "post_id": 41151206, "comment_id": 69512573, "body": "@Reubend, maybe, but I&#39;m not sure how you&#39;d get 64 from that. Does <code>data2</code> have the same format?"}, {"owner": {"reputation": 534, "user_id": 1484617, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/10e68bdf42cf5d16b269d2debb09638f?s=128&d=identicon&r=PG", "display_name": "Reubend", "link": "https://stackoverflow.com/users/1484617/reubend"}, "edited": false, "score": 0, "creation_date": 1481867224, "post_id": 41151206, "comment_id": 69556128, "body": "Yes, they both have identical formats."}, {"owner": {"reputation": 534, "user_id": 1484617, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/10e68bdf42cf5d16b269d2debb09638f?s=128&d=identicon&r=PG", "display_name": "Reubend", "link": "https://stackoverflow.com/users/1484617/reubend"}, "edited": false, "score": 0, "creation_date": 1482014316, "post_id": 41151206, "comment_id": 69606766, "body": "I just tried casting all of the complex numbers into floats, but the <code>(64, 217)</code> error still appears, so I don&#39;t think that&#39;s the issue."}], "owner": {"reputation": 534, "user_id": 1484617, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/10e68bdf42cf5d16b269d2debb09638f?s=128&d=identicon&r=PG", "display_name": "Reubend", "link": "https://stackoverflow.com/users/1484617/reubend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481745704, "creation_date": 1481745704, "question_id": 41151206, "link": "https://stackoverflow.com/questions/41151206/tensorflow-cnn-doesnt-accept-my-images", "title": "Tensorflow CNN Doesn&#39;t Accept My Images", "body": "<p>I'm setting up a CNN with Tflearn on top of Tensorflow. I would like to train it to apply an image filter, so I'm starting off small by providing it with a before/after pair of single-channel grayscale 513x217px images, <code>data</code> and <code>data2</code>. Here's the code I wrote:</p>\n\n<pre><code>import tensorflow as tf\nimport tflearn\nimport numpy as np\n\n#data and data2 are already defined. They're both a list of lists.\n\nfrom tflearn.layers.core import input_data, dropout, fully_connected\nfrom tflearn.layers.conv import conv_2d, max_pool_2d\nfrom tflearn.layers.normalization import local_response_normalization\nfrom tflearn.layers.estimator import regression\n\nnetwork = input_data(shape=[None, np.shape(data)[0], np.shape(data)[1], 1], name='input')\nnetwork = conv_2d(network, 256, 3, activation='relu', regularizer=\"L2\")\nnetwork = regression(network, optimizer='adam', learning_rate=0.01,\nloss='categorical_crossentropy', name='target')\n\nmodel = tflearn.DNN(network, tensorboard_verbose=0)\nmodel.fit({'input': data}, {'target': data2}, n_epoch=20,\nsnapshot_step=100, show_metric=True, run_id='convnet_mnist')\n</code></pre>\n\n<p>When I run it, I get this error:</p>\n\n<pre><code>ValueError: Cannot feed value of shape (64, 217) for Tensor u'input/X:0', which has shape '(?, 513, 217, 1)'\n</code></pre>\n\n<p>I don't understand this error, because the number 64 doesn't appear in my code. It seems to indicate that the input format is incorrect, but I can't tell how to fix it. Does anyone know what's causing this?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 5505723, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9398748e72eafa2498df215a60016d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5505723/giovanni"}, "edited": false, "score": 0, "creation_date": 1481748172, "post_id": 41151293, "comment_id": 69505771, "body": "So I&#39;m getting an assertion error when trying to add table_vals to the table.            assert len(rowLabels) == rows    Does this have anything to do with trying to use strings as the cellText? The length of my data and the length of my columns are both the same and the array is a 2D array, with a single array containing all my values."}, {"owner": {"reputation": 2692, "user_id": 2929207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxLMZ.png?s=128&g=1", "display_name": "Pablo Reyes", "link": "https://stackoverflow.com/users/2929207/pablo-reyes"}, "reply_to_user": {"reputation": 311, "user_id": 5505723, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9398748e72eafa2498df215a60016d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5505723/giovanni"}, "edited": false, "score": 0, "creation_date": 1481754181, "post_id": 41151293, "comment_id": 69508506, "body": "I actually have updated my answer with your col_lables and table_vals. If that code doesn&#39;t work it might be your matplotlib version. I&#39;m using version 2.0.0b4 . But I&#39;m not aware of any issues with tables in previous versions."}, {"owner": {"reputation": 311, "user_id": 5505723, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9398748e72eafa2498df215a60016d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5505723/giovanni"}, "edited": false, "score": 0, "creation_date": 1481849065, "post_id": 41151293, "comment_id": 69551887, "body": "Your code worked! I found it wasn&#39;t the values, but the colWidths parameter that I had set that was causing the crash, possibly due to the amount of parameters I had to plot, as well as some of them are quite long. Thanks for your help!"}], "tags": [], "owner": {"reputation": 2692, "user_id": 2929207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxLMZ.png?s=128&g=1", "display_name": "Pablo Reyes", "link": "https://stackoverflow.com/users/2929207/pablo-reyes"}, "is_accepted": true, "score": 1, "last_activity_date": 1481754000, "last_edit_date": 1495539941, "creation_date": 1481746042, "answer_id": 41151293, "question_id": 41151165, "link": "https://stackoverflow.com/questions/41151165/how-to-add-a-table-that-only-contains-strings-to-a-matplotlib-graph/41151293#41151293", "title": "How to add a table that only contains strings to a matplotlib graph", "body": "<p>You could use subplots or specify the exact coordinates of the axes to place the tables. Then you can turn off the frame and the ticks of the table. see:\n<a href=\"https://stackoverflow.com/questions/28505315/two-tables-in-matplotlib/28507041#28507041\">answer to: two tables in matplotlib</a></p>\n\n<pre><code>col_lables = ['interp', 'back', 'smooth_length', 'exclude', 'adj_sens', 'orient', 'extrfwhm']\ntable_vals = ['1', 'yes', 'None', 'False', 'False', 'no', '6.0']\naxMain = subplot(2,1,1)\naxTable1 = subplot(2,1,2, frameon =False)\nsetp(axTable1, xticks=[], yticks=[]) # a way of turning off ticks\n\naxMain.plot([1,2,3])\ntab1 = axTable1.table(cellText=[table_vals], loc='upper center', colLabels=col_lables)\ntab1.scale(1.5,1.5)\n</code></pre>\n\n<p>The output looks like:\n<a href=\"https://i.stack.imgur.com/i80tK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i80tK.png\" alt=\"table showing different columns\"></a></p>\n"}], "owner": {"reputation": 311, "user_id": 5505723, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9398748e72eafa2498df215a60016d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5505723/giovanni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "accepted_answer_id": 41151293, "answer_count": 1, "score": 1, "last_activity_date": 1481754000, "creation_date": 1481745531, "question_id": 41151165, "link": "https://stackoverflow.com/questions/41151165/how-to-add-a-table-that-only-contains-strings-to-a-matplotlib-graph", "title": "How to add a table that only contains strings to a matplotlib graph", "body": "<p>I have a function that creates different sets of data depending on the input parameters you give it. I'm trying to create a plot that shows a graph of the returned data, and then under it, shows me a table/box with the input parameters that I passed into the function.</p>\n\n<p>Here is a few of the strings I'm trying to make a table of</p>\n\n<pre><code>col_lables = ['interp', 'back', 'smooth_length', 'exclude', 'adj_sens', 'orient', 'extrfwhm']\ntable_vals = ['1', 'yes', 'None', 'False', 'False', 'no', '6.0']\n</code></pre>\n\n<p>I've tried initializing the table as so</p>\n\n<pre><code>the_table = pypl.table(cellText=table_vals,\ncolWidths=[0.1] * 3,\nrowLabels=row_labels,\ncolLabels=col_labels,\nloc='center right')\n</code></pre>\n\n<p>So far I've successfully graphed my data, however I cannot add a table that uses strings as it's cellText text.</p>\n\n<p>Is there a way I could add a figure of some sort to my graph that would allow me to display col_labels and table_vals associated with with each other? Since there are a lot of parameters(more than I've shown), it would be best to keep this in a separate figure so the text will not obscure the graph.</p>\n"}, {"tags": ["python", "scrapy"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481746727, "post_id": 41151141, "comment_id": 69505057, "body": "every python version has own folder for modules and own program to install modules. Pythono 3.3 should have <code>pip3</code> and <code>pip3.3</code> to install - <code>pip3 install scrapy</code> - or you can do <code>python3 -m pip install scrapy</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "is_accepted": false, "score": 5, "last_activity_date": 1482267852, "last_edit_date": 1482267852, "creation_date": 1481746836, "answer_id": 41151482, "question_id": 41151141, "link": "https://stackoverflow.com/questions/41151141/how-to-get-scrapy-to-use-python-3-when-both-python-versions-are-installed/41151482#41151482", "title": "How to get scrapy to use python 3 when both python versions are installed?", "body": "<p>Use <a href=\"https://virtualenv.pypa.io\" rel=\"nofollow noreferrer\"><code>virtualenv</code></a>. You can install it with <code>pip</code>.</p>\n\n<p>What I would normally do is go to the project folder, and create a virtual environment (<code>envname</code>) with the following command:</p>\n\n<pre><code>virtualenv -p python3 envname\n</code></pre>\n\n<p>Enable it <code>source envname/bin/activate</code> and install everything you want. Now you have a Python3 environment (I think you need to install Scrapy again for the current environment).</p>\n"}, {"tags": [], "owner": {"reputation": 13601, "user_id": 1564659, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f7524296b1d11599c7a1bd2c045a73ac?s=128&d=identicon&r=PG", "display_name": "Aminah Nuraini", "link": "https://stackoverflow.com/users/1564659/aminah-nuraini"}, "is_accepted": false, "score": 3, "last_activity_date": 1568360987, "creation_date": 1568360987, "answer_id": 57919397, "question_id": 41151141, "link": "https://stackoverflow.com/questions/41151141/how-to-get-scrapy-to-use-python-3-when-both-python-versions-are-installed/57919397#57919397", "title": "How to get scrapy to use python 3 when both python versions are installed?", "body": "<p>Uninstall scrapy from python 2 and install it on python 3</p>\n\n<pre><code>pip uninstall scrapy\npip3 install scrapy\n</code></pre>\n\n<p>Check if it's working using <code>scrapy version -v</code> which will show something like this:</p>\n\n<pre><code>Scrapy       : 1.7.3\nlxml         : 4.4.1.0\nlibxml2      : 2.9.9\ncssselect    : 1.1.0\nparsel       : 1.5.2\nw3lib        : 1.21.0\nTwisted      : 19.7.0\nPython       : 3.7.4 (default, Sep 13 2019, 03:37:47) - [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]\npyOpenSSL    : 19.0.0 (OpenSSL 1.1.1c  28 May 2019)\ncryptography : 2.7\nPlatform     : Linux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core\n</code></pre>\n\n<p>It says <code>Python : 3.7.4</code> which means it is working as expected.</p>\n"}, {"tags": [], "owner": {"reputation": 433, "user_id": 4101915, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/lwIxQ.jpg?s=128&g=1", "display_name": "MrTo-Kane", "link": "https://stackoverflow.com/users/4101915/mrto-kane"}, "is_accepted": false, "score": 0, "last_activity_date": 1600488661, "creation_date": 1600488661, "answer_id": 63965135, "question_id": 41151141, "link": "https://stackoverflow.com/questions/41151141/how-to-get-scrapy-to-use-python-3-when-both-python-versions-are-installed/63965135#63965135", "title": "How to get scrapy to use python 3 when both python versions are installed?", "body": "<p>Let's follow me step by step:\nStep 1: uninstall package was installed:</p>\n<pre><code>pip uninstall scrapy\n</code></pre>\n<p>Step 2: use pip with version of python to install scrapy such as: My python version is <strong>3.7</strong>, I'll use <strong>pip3.7</strong> .</p>\n<pre><code>pip3.7 install scrapy\n</code></pre>\n<p>Step 3: check version:  scrapy version -v</p>\n<pre><code>Scrapy       : 2.3.0\nlxml         : 4.5.2.0\nlibxml2      : 2.9.10\ncssselect    : 1.1.0\nparsel       : 1.6.0\nw3lib        : 1.22.0\nTwisted      : 20.3.0\nPython       : 3.7.9 (default, Aug 27 2020, 21:59:41) - [GCC 7.3.1 20180712 (Red Hat 7.3.1-9)]\npyOpenSSL    : 19.1.0 (OpenSSL 1.1.1g  21 Apr 2020)\ncryptography : 3.1\nPlatform     : Linux-4.19.76-linuxkit-x86_64-with-glibc2.2.5\n</code></pre>\n"}], "owner": {"reputation": 1543, "user_id": 5730923, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7c0c85df26b3dd603077355b0950c429?s=128&d=identicon&r=PG&f=1", "display_name": "ChiseledAbs", "link": "https://stackoverflow.com/users/5730923/chiseledabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2909, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1600488661, "creation_date": 1481745452, "question_id": 41151141, "link": "https://stackoverflow.com/questions/41151141/how-to-get-scrapy-to-use-python-3-when-both-python-versions-are-installed", "title": "How to get scrapy to use python 3 when both python versions are installed?", "body": "<p>Quick question regarding the version of python that's being used by scrapy. I installed scrapy from the <code>AUR</code> repository on archlinux and it defaults on using <code>python 2.7</code>. Scrapy has support for<code>python 3.3+</code>. Does anyone know how to force it to use 3.3 without uninstalling 2.7, can't find anything on it on the internet.</p>\n"}, {"tags": ["python", "anaconda", "conda"], "comments": [{"owner": {"reputation": 3028, "user_id": 558619, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1618a853824f6ed866aa0fe4385b8687?s=128&d=identicon&r=PG", "display_name": "keynesiancross", "link": "https://stackoverflow.com/users/558619/keynesiancross"}, "edited": false, "score": 0, "creation_date": 1488999834, "post_id": 41151126, "comment_id": 72483773, "body": "I keep having this issue, and would love to know how to fix it"}], "owner": {"reputation": 21, "user_id": 7087590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31e15f5719126e16151865393c55a01a?s=128&d=identicon&r=PG&f=1", "display_name": "Booyaah", "link": "https://stackoverflow.com/users/7087590/booyaah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 987, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481745404, "creation_date": 1481745404, "question_id": 41151126, "link": "https://stackoverflow.com/questions/41151126/conda-failed-to-install-package-from-local-tar-bz2-file", "title": "Conda: failed to install package from local tar.bz2 file", "body": "<p>I build my own conda package, and generated my pack.tar.bz2 file. I was trying to install this package on another machine from the pack.tar.bz2 file.</p>\n\n<p>I ran <code>conda install path-to-pack.tar.bz2</code> </p>\n\n<p>I got below exception:</p>\n\n<pre><code>`$ C:\\Anaconda\\Scripts\\conda-script.py install ./bin/pack.tar.bz2`\n\n    Traceback (most recent call last):\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\exceptions.py\", line 479, in con\nda_exception_handler\n        return_value = func(*args, **kwargs)\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\cli\\main.py\", line 145, in _main\n\n        exit_code = args.func(args, p)\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\cli\\main_install.py\", line 80, i\nn execute\n        install(args, parser, 'install')\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\cli\\install.py\", line 209, in in\nstall\n        explicit(args.packages, prefix, verbose=not context.quiet)\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\misc.py\", line 175, in explicit\n        index.update(get_index(**index_args))\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\api.py\", line 24, in get_index\n        index = fetch_index(channel_urls, use_cache=use_cache, unknown=unknown)\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\fetch.py\", line 295, in fetch_in\ndex\n        for url in urls]\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\fetch.py\", line 75, in func\n        res = f(*args, **kwargs)\n      File \"C:\\Anaconda\\lib\\site-packages\\conda\\fetch.py\", line 117, in fetch_re\npodata\n        timeout=(6.1, 60))\n      File \"C:\\Anaconda\\lib\\site-packages\\requests\\sessions.py\", line 501, in ge\nt\n        return self.request('GET', url, **kwargs)\n      File \"C:\\Anaconda\\lib\\site-packages\\requests\\sessions.py\", line 488, in re\nquest\n        resp = self.send(prep, **send_kwargs)\n      File \"C:\\Anaconda\\lib\\site-packages\\requests\\sessions.py\", line 641, in se\nnd\n        r.content\n      File \"C:\\Anaconda\\lib\\site-packages\\requests\\models.py\", line 781, in cont\nent\n        self._content = bytes().join(self.iter_content(CONTENT_CHUNK_SIZE)) or b\nytes()\n      File \"C:\\Anaconda\\lib\\site-packages\\requests\\models.py\", line 714, in gene\nrate\n        chunk = self.raw.read(chunk_size)\n    AttributeError: 'exceptions.WindowsError' object has no attribute 'read'\n</code></pre>\n\n<p>Please let me know what can be a fix.</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1481749562, "post_id": 41151060, "comment_id": 69506512, "body": "your code works fine for me. When I type something in and click the &quot;Enregistrer&quot; button, <code>temp</code> is set to what I typed. Since you didn&#39;t show a complete working example, it&#39;s possible that when I guessed at the rest of the code I guessed wrong."}], "answers": [{"comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1481749373, "post_id": 41151437, "comment_id": 69506420, "body": "if you are using the <code>textvariable</code> attribute, you don&#39;t need to assign the widget to a variable."}, {"owner": {"reputation": 981, "user_id": 7292937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zduRq.jpg?s=128&g=1", "display_name": "liamhawkins", "link": "https://stackoverflow.com/users/7292937/liamhawkins"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1481749625, "post_id": 41151437, "comment_id": 69506548, "body": "How do you call the textvariable when it is not assigned? If you have more than one entry widget how do you differentiate the textvariable?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1481749708, "post_id": 41151437, "comment_id": 69506589, "body": "I don&#39;t understand your question. You don&#39;t &quot;call&quot; a textvariable. It is an attribute of a widget. When you type in the widget, it automatically updates the value in the associated textvariable. You can get the value by calling <code>.get()</code> on the variable (eg: <code>self.string_nom_joueur.get()</code>). If you have more than one entry widget, you will typically have more than one <code>StringVar</code>. That, or you don&#39;t ever use <code>textvariable</code> and always just directly get the value from the widget."}, {"owner": {"reputation": 981, "user_id": 7292937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zduRq.jpg?s=128&g=1", "display_name": "liamhawkins", "link": "https://stackoverflow.com/users/7292937/liamhawkins"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1481749783, "post_id": 41151437, "comment_id": 69506624, "body": "Ah got it, that makes more sense now"}], "tags": [], "owner": {"reputation": 981, "user_id": 7292937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zduRq.jpg?s=128&g=1", "display_name": "liamhawkins", "link": "https://stackoverflow.com/users/7292937/liamhawkins"}, "is_accepted": false, "score": -1, "last_activity_date": 1481746654, "creation_date": 1481746654, "answer_id": 41151437, "question_id": 41151060, "link": "https://stackoverflow.com/questions/41151060/python-3-and-tkinter-cannot-get-entry-value-thru-my-var-get/41151437#41151437", "title": "Python 3 and TKinter - Cannot get Entry value thru my_var.get()", "body": "<pre><code>Entry(self.changer_nom_main, textvariable=self.string_nom_joueur).....\n</code></pre>\n\n<p>This line sets the textvariable to self.string_nom_joueur. I think what you want to do is the opposite. You want self.string_nom_joueur to be textvariable. </p>\n\n<p>You will first need to assign the Entry to a variable i.e.:</p>\n\n<pre><code>self.entrynamefield = Entry(self.changer_nom_main, textvariable=self.string_nom_joueur).....\n</code></pre>\n\n<p>Then you need to use the .set() method to set self.string_nom_joeuer:</p>\n\n<pre><code>self.string_nom_joeuer.set(self.entrynamefield.get())\n</code></pre>\n\n<p>After you have set your string variable, your function changer_nom_joueur will have something to \".get()\"</p>\n"}], "owner": {"reputation": 1, "user_id": 7298592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057b4670fba28bb47cfc26b52f264e3c?s=128&d=identicon&r=PG&f=1", "display_name": "ZeQ", "link": "https://stackoverflow.com/users/7298592/zeq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481746654, "creation_date": 1481745142, "question_id": 41151060, "link": "https://stackoverflow.com/questions/41151060/python-3-and-tkinter-cannot-get-entry-value-thru-my-var-get", "title": "Python 3 and TKinter - Cannot get Entry value thru my_var.get()", "body": "<p>I'm trying to pass an Entry field value to a second function, but I only get an empty string. Can anyone tell me what i'm missing? Here's my code:</p>\n\n<pre><code>def fenetre_changer_nom_joueur(self,joueur):\n\n    self.changer_nom_main = Tk()\n    self.changer_nom_main.geometry('300x200')\n    self.string_nom_joueur = StringVar()\n    Entry(self.changer_nom_main, textvariable=self.string_nom_joueur).grid(row=2, column=2, sticky=W)\n    Button(self.changer_nom_main, text=\"Enregistrer\",command = lambda: self.changer_nom_joueur(joueur), padx=10,\n           pady=10).grid(row=3, column=1, sticky=W)\n    Button(self.changer_nom_main, text=\"Fermer\", width=13,\n           command=lambda: self.fermer_fenetre(self.changer_nom_main), padx=10,\n           pady=10).grid(row=3, column=2, sticky=W)\n    self.changer_nom_main.mainloop()\n\n\ndef changer_nom_joueur(self, joueur):\n    \"\"\"\n   This is where I'm tring to get the Entry field value. But the .get() return an emptry string\n    \"\"\"\n    temp = self.string_nom_joueur.get()\n    joueur.nom = temp\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 2, "creation_date": 1481745127, "post_id": 41151031, "comment_id": 69504181, "body": "Put the loop around the logic you want to loop. Don&#39;t overcomplicate it."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1481745252, "post_id": 41151031, "comment_id": 69504273, "body": "Put the entire logic within loop. Also I suggest to post it on <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a> . There is a lot to improve in this code snippet"}, {"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1481745302, "post_id": 41151031, "comment_id": 69504307, "body": "create a function (or, even better) a class for characters."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1481745334, "post_id": 41151031, "comment_id": 69504330, "body": "Can&#39;t see &quot;fifth line&quot; or any user input being taken in your code, but wherever that line is, some form of a <code>while</code> or <code>for</code> statement would accomplish a loop. Checkout <a href=\"https://docs.python.org/2/tutorial/controlflow.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/controlflow.html</a>"}, {"owner": {"reputation": 10364, "user_id": 877472, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e73a159e3f7790ee019673c37da48a59?s=128&d=identicon&r=PG", "display_name": "Paul Richter", "link": "https://stackoverflow.com/users/877472/paul-richter"}, "edited": false, "score": 0, "creation_date": 1481745339, "post_id": 41151031, "comment_id": 69504335, "body": "What ceejeyoz already said; you pretty much already solved the problem yourself. A &quot;loop&quot; is what you need, so figure out how to do that in python, write it, and you&#39;re done."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7152590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68afb1ed0c6bf3087f918a6bb7ba6ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Wilziam", "link": "https://stackoverflow.com/users/7152590/wilziam"}, "edited": false, "score": 0, "creation_date": 1481747299, "post_id": 41151352, "comment_id": 69505314, "body": "Thanks for the answers."}], "tags": [], "owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "is_accepted": false, "score": 0, "last_activity_date": 1481746291, "creation_date": 1481746291, "answer_id": 41151352, "question_id": 41151031, "link": "https://stackoverflow.com/questions/41151031/how-do-i-loop-my-entire-program/41151352#41151352", "title": "How do I loop my entire program?", "body": "<p>Use a <code>while</code> loop:</p>\n\n<pre><code>character_list = ['martian', 'plutonian', 'human', 'dog']\nwhile True:\n    character = raw_input(\"Pick a character: %s\\n&gt;&gt;\" % ', '.join(character_list))\n    if character not in character_list:\n        # The user is done\n        break\n</code></pre>\n\n<p>If the user enters an invalid character, assume they are done and break out of the loop. Put the rest of your character generation code after the <code>if</code> stanza.</p>\n"}], "owner": {"reputation": 41, "user_id": 7152590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68afb1ed0c6bf3087f918a6bb7ba6ef5?s=128&d=identicon&r=PG&f=1", "display_name": "Wilziam", "link": "https://stackoverflow.com/users/7152590/wilziam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481746291, "creation_date": 1481745054, "last_edit_date": 1481745595, "question_id": 41151031, "link": "https://stackoverflow.com/questions/41151031/how-do-i-loop-my-entire-program", "title": "How do I loop my entire program?", "body": "<p>How do I make my code go back to the fifth line and ask the player for another character? I need to make the  player able to enter as many characters as they want.</p>\n\n<pre><code>  from __future__ import division #This imports the division module which allows the program to generate decimals\nfrom random import randint  # This imports the random integer module which allows the program to randomly generate integers\n\n\ncharacter = raw_input(str(\"Pick a character: martian,plutonian,human or dog\\n&gt;&gt;\"))   # This asks the player what character they would like to play\nstrength = randint(3, 20)  # This sets the range for the strength variable\nspeed = randint(3, 20)  # This sets the range for the speed variable\nheight = randint(120, 183)/100   # This sets the range for the height variable (the variables are 100x the amount that the task states) it then divides the value by 100\n#  The reason as to why the height value is 100x what it is meant to be is because the height is a decimal and the randint function only works with real numbers\nheart_rate = randint(60, 110)  # This sets the range for the heart rate variable\n\n\nif character==\"martian\":  # This makes the following only occur if the player inputs \"martian\"\n    strength += 3  #This adds 3 to the value of strength\n    speed +=2 #This adds 2 to the value of speed\nif character ==\"plutonian\":  #This makes the following only occur if the player inputs \"plutonian\"\n    heart_rate+=7 #This adds 7 to the value of heart rate\n    height+=1 #This adds 1 to the value of height\nif character==\"human\": #This makes the following only occur if the player inputs \"human\"\n    heart_rate+=3 #This adds 3 to the heart rate value\nif character==\"dog\": #This makes the following only occur if the player inputs dog\n    height-=3 #This takes 3 away from the height value\n\n\nprint \"Your strength is\", strength  # This prints the strength of the character\nprint \"Your speed is\", speed  # This prints the speed of the character\nprint \"Your heart rate is\", heart_rate  # This prints the heart rate of the character\nprint \"Your height is\", height  # This prints the height of the character\n\n\nfile_txt=open('Character Statistics.txt', 'a',) #This creates and names the text file\nfile_txt.write(str(\"Character Statistics:\\n\")) #This makes a title within the text document\nfile_txt.write(\"Your strength is: \") #This prints text into the text file\nfile_txt.write(str(strength)+\"\\n\") #This adds the strength value to the txt file\nfile_txt.write(\"Your speed is: \") #This prints text into the text file\nfile_txt.write(str(speed)+\"\\n\") #This adds the speed value to the txt file\nfile_txt.write(\"Your heart rate is: \")  #This prints text into the text file\nfile_txt.write(str(heart_rate)+\"\\n\") #This adds the heart rate value to the txt file\nfile_txt.write(\"Your height is is: \") #This prints text into the text file\nfile_txt.write(str(height)+\"\\n\") #This adds the height value to the txt file\n</code></pre>\n"}, {"tags": ["python", "linux", "centos"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1481745467, "post_id": 41150975, "comment_id": 69504400, "body": "This is not a programming question, consider moving linux shell command questions to <a href=\"http://unix.stackexchange.com/\">unix.stackexchange.com</a>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1481746031, "post_id": 41150975, "comment_id": 69504705, "body": "this is not even a python question, or a python 3 question."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user376845"}, "edited": false, "score": 1, "creation_date": 1573936932, "post_id": 41150998, "comment_id": 104054802, "body": "You don&#39;t need a dash before <code>aux</code>, just <code>ps aux</code>."}], "tags": [], "owner": {"reputation": 2950, "user_id": 3405554, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ejRLl.jpg?s=128&g=1", "display_name": "harshil9968", "link": "https://stackoverflow.com/users/3405554/harshil9968"}, "is_accepted": false, "score": 12, "last_activity_date": 1481745263, "last_edit_date": 1481745263, "creation_date": 1481744957, "answer_id": 41150998, "question_id": 41150975, "link": "https://stackoverflow.com/questions/41150975/how-to-display-list-of-running-processes-python/41150998#41150998", "title": "How to display list of running processes Python?", "body": "<p>ps -aux will give all process grep python</p>\n\n<pre><code>ps -aux | grep python\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1061, "user_id": 7041624, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1ee7139130abd1eac393f22e0d266810?s=128&d=identicon&r=PG&f=1", "display_name": "MisterPi", "link": "https://stackoverflow.com/users/7041624/misterpi"}, "edited": false, "score": 0, "creation_date": 1481783853, "post_id": 41151014, "comment_id": 69517019, "body": "Thank you, one comment, how to display full path to running file(process)?"}], "tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": true, "score": 81, "last_activity_date": 1481745445, "last_edit_date": 1481745445, "creation_date": 1481745010, "answer_id": 41151014, "question_id": 41150975, "link": "https://stackoverflow.com/questions/41150975/how-to-display-list-of-running-processes-python/41151014#41151014", "title": "How to display list of running processes Python?", "body": "<p>Try this command:</p>\n\n<pre><code>ps -ef | grep python\n</code></pre>\n\n<p><code>ps</code> stands for <code>process status</code></p>\n"}, {"tags": [], "owner": {"reputation": 672, "user_id": 1584271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35e93609e85c119e579022171dd9d9e?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/1584271/jason"}, "is_accepted": false, "score": 10, "last_activity_date": 1513178818, "creation_date": 1513178818, "answer_id": 47796696, "question_id": 41150975, "link": "https://stackoverflow.com/questions/41150975/how-to-display-list-of-running-processes-python/47796696#47796696", "title": "How to display list of running processes Python?", "body": "<p>You could also setup a \"watch\" in a separate window to constantly monitor Python processes as you run a script: <code>watch -n 1 \"ps u -C python3\"</code>. Particularly useful when developing with multiprocessing.</p>\n"}], "owner": {"reputation": 1061, "user_id": 7041624, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1ee7139130abd1eac393f22e0d266810?s=128&d=identicon&r=PG&f=1", "display_name": "MisterPi", "link": "https://stackoverflow.com/users/7041624/misterpi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87237, "favorite_count": 14, "accepted_answer_id": 41151014, "answer_count": 3, "score": 36, "last_activity_date": 1556535287, "creation_date": 1481744888, "last_edit_date": 1556535287, "question_id": 41150975, "link": "https://stackoverflow.com/questions/41150975/how-to-display-list-of-running-processes-python", "title": "How to display list of running processes Python?", "body": "<p>How to display list of running processes Python with full name and active status?</p>\n\n<p>I tried this command: <code>pgrep -lf python</code></p>\n"}]