[{"tags": ["python", "list", "big-o", "variable-assignment", "execution-time"], "comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1449100684, "post_id": 34055395, "comment_id": 55864969, "body": "Good question. Two possible approaches are: measure, and calculate. Measure is generally a lot easier because of the (required) complexity of the CPython implementation. It is perfectly possible that some operations in Python are not linearly-related to the time to assign an integer value to a variable. Or perhaps you mean assignment of the value of one variable to another. Or perhaps something else..."}, {"owner": {"reputation": 319, "user_id": 5288940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e39b68776c81389b7e90ae7c56bf3a86?s=128&d=identicon&r=PG&f=1", "display_name": "daemon_headmaster", "link": "https://stackoverflow.com/users/5288940/daemon-headmaster"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1449101165, "post_id": 34055395, "comment_id": 55865097, "body": "Thanks for answering. Sorry, I don&#39;t follow your answer entirely, this is all very new to me. I&#39;m reading about estimating complexity so I&#39;m trying to gather the terms of my code in respect to variable assignment, so <code>list = []</code> and <code>num = 5</code> would both contribute 1 variable assignment to the resulting T(n) equation."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449101398, "post_id": 34055395, "comment_id": 55865165, "body": "<code>I am trying to calculate the execution time of my code using variable assignment as the unit of computation</code> - why? That&#39;s not a unit of computation, for pretty much the reasons you&#39;re running into."}, {"owner": {"reputation": 319, "user_id": 5288940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e39b68776c81389b7e90ae7c56bf3a86?s=128&d=identicon&r=PG&f=1", "display_name": "daemon_headmaster", "link": "https://stackoverflow.com/users/5288940/daemon-headmaster"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449101650, "post_id": 34055395, "comment_id": 55865242, "body": "@user2357112 I was under the impression that expressed in Big-O notation, complexity was often calculated by assignment statements? Before I can get my code to that stage, do I not need to collect the number of assignment statements in my code?"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1449101827, "post_id": 34055395, "comment_id": 55865295, "body": "I&#39;m no expert, but if you think you will be able to be definitive at the python level you are being IMO very optimistic. There are a rather a lot of possibilities you will have to firstly understand/analyse, then define and map into how long they take to execute. At least with measuring you might be able to get an idea of the average additional time from executing a particular kind of statement. At a higher level, estimating complexity of an algorithm or an implementation should be easier than predicting actual execution time. Good luck!"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1449107404, "post_id": 34055395, "comment_id": 55867026, "body": "<code>O(n)</code> because you need to touch each element in the list. This is why <code>yield</code> is better than returning a copy of a list."}], "owner": {"reputation": 319, "user_id": 5288940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e39b68776c81389b7e90ae7c56bf3a86?s=128&d=identicon&r=PG&f=1", "display_name": "daemon_headmaster", "link": "https://stackoverflow.com/users/5288940/daemon-headmaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1449101195, "creation_date": 1449100463, "last_edit_date": 1449101195, "question_id": 34055395, "link": "https://stackoverflow.com/questions/34055395/how-many-variable-assignments-take-place-when-creating-a-list", "title": "How many variable assignments take place when creating a list?", "body": "<p>I am trying to calculate the execution time of my code using variable assignment as the unit of computation. What I am struggling to follow is how many variable assignments are involved for various methods.</p>\n\n<p>For example, if part of my code was <code>list = [first, second, third]</code>, would this be considered one variable assignment (for the list) or would it be three (one for each item in the list)?</p>\n\n<p>The same goes for other methods such as <code>list.append()</code>. Would the code <code>list1.append([one, two, three])</code> be considered just one assignment as it is assigning the whole list? Or does it count as three? This one could go even deeper with something like <code>list1.append([max(list2), min(list2), range(list2)])</code>.</p>\n\n<p>Can someone please explain how to approach execution time in this sort of context? Thanks in advance</p>\n"}, {"tags": ["python", "list", "csv", "dictionary", "replace"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1449102017, "post_id": 34055394, "comment_id": 55865344, "body": "<code>crime_dict[report_no].append(zip_code).append(offense)</code> should always give you an AttributeError, since <code>list.append</code> returns <code>None</code> (so <code>crime_dict[report_no].append(zip_code)</code> will always be <code>None</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5402747, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10208221609477444/picture?type=large", "display_name": "Wakedude", "link": "https://stackoverflow.com/users/5402747/wakedude"}, "edited": false, "score": 0, "creation_date": 1449103845, "post_id": 34055567, "comment_id": 55865907, "body": "Thank you for this. It worked out exactly how I needed it. It&#39;s frustrating when you try for 3-4 hours and the solution ends up to be two lines of code. Thanks for the help!"}, {"owner": {"reputation": 136, "user_id": 1836587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bceabab74d139d2678c9b51fca0c62?s=128&d=identicon&r=PG", "display_name": "user1836587", "link": "https://stackoverflow.com/users/1836587/user1836587"}, "reply_to_user": {"reputation": 53, "user_id": 5402747, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10208221609477444/picture?type=large", "display_name": "Wakedude", "link": "https://stackoverflow.com/users/5402747/wakedude"}, "edited": false, "score": 0, "creation_date": 1449164159, "post_id": 34055567, "comment_id": 55898209, "body": "You are most welcome.  Thank you for posting the problem.  What I learned in working it will be helpful to me in the future.  To give credit where due, I used <a href=\"http://stackoverflow.com/a/3177911/1836587\">As simple as: sorted(dict1, key=dict1.get)</a>."}], "tags": [], "owner": {"reputation": 136, "user_id": 1836587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bceabab74d139d2678c9b51fca0c62?s=128&d=identicon&r=PG", "display_name": "user1836587", "link": "https://stackoverflow.com/users/1836587/user1836587"}, "is_accepted": true, "score": 1, "last_activity_date": 1449103570, "last_edit_date": 1449103570, "creation_date": 1449101445, "answer_id": 34055567, "question_id": 34055394, "link": "https://stackoverflow.com/questions/34055394/python-replace-value-with-the-value-from-a-dictionary-key-value-pair/34055567#34055567", "title": "Python: Replace value with the value from a dictionary key value pair", "body": "<p>To get a list of keys in <code>victims_by_offense</code> in descending order of Victim Total:</p>\n\n<pre><code>victims_by_offense = {'1': 189, '10': 712, '11': 1844, '12': 184, '13': 147, '14': 4364, '15': 595, '16': 175, '17': 387, '18': 2893, '2': 597, '20': 661}\nsorted_keys = sorted(victims_by_offense, key=victims_by_offense.get, reverse=True)\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>for zip in sorted_keys:\n    print(offense_map[zip], victims_by_offense[zip])\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>('Property Damage', 4364)\n('Possession/Sale/Dist', 2893)\n('Fraud', 1844)\n('Forgery', 712)\n('Family Offense', 661)\n('Rape', 597)\n('Weapons Law Violation', 595)\n('Sex Offense Other', 387)\n('Homicide', 189)\n('Embezzlement', 184)\n('Prostitution', 175)\n('Stolen Property', 147)\n('Homicide', 189)\n('Embezzlement', 184)\n('Prostitution', 175)\n('Stolen Property', 147)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1449103028, "creation_date": 1449103028, "answer_id": 34055806, "question_id": 34055394, "link": "https://stackoverflow.com/questions/34055394/python-replace-value-with-the-value-from-a-dictionary-key-value-pair/34055806#34055806", "title": "Python: Replace value with the value from a dictionary key value pair", "body": "<p>I tweaked your code a bit to use <code>csv.reader</code> objects instead of stripping and splitting yourself, as well as changed your data structure to be</p>\n\n<pre><code>crimes = {report_no: {'offense': offense_number,\n                      'zip': zip_code,\n                      'victims': victim_count},\n          ...}\n</code></pre>\n\n<p>but I think it works much better this way.</p>\n\n<pre><code>import csv\nimport itemgetter\n\ncrimes = dict()\n\n# build `crimes` dict with zero-count victims\nwith open(\"incidents.csv\") as f:\n    reader = csv.reader(f)\n    headers = next(reader)\n    for report_no, _, _, offense, zip_code, *_ in reader:\n        if len(zip_code) &lt; 5:\n            zip_code = \"99999\"\n        report = (zip_code, offense)\n        crimes[report_no] = {'offense': offense,\n                             'zip': zip_code,\n                             'victims': 0}\n\n# parse victims information\nwith open(\"details.csv\") as f:\n    reader = csv.reader(f)\n    headers = next(reader)\n    for report_no, involvement, *_ in reader:\n        if involvement.upper() == \"VIC\":\n            crimes[report_no]['victims'] += 1\n\noffense_map = {'1':'Homicide',\n               '2':'Rape',\n               '3':'Robbery',\n               '4':'Assault',\n               '5':'Burglary',\n               '6':'Stealing',\n               '7':'Auto Theft',\n               '8':'Non Agg Assault',\n               '9':'Arson',\n               '10':'Forgery',\n               '11':'Fraud',\n               '12':'Embezzlement',\n               '13':'Stolen Property',\n               '14':'Property Damage',\n               '15':'Weapons Law Violation',\n               '16':'Prostitution',\n               '17':'Sex Offense Other',\n               '18':'Possession/Sale/Dist',\n               '20':'Family Offense',\n               '21':'DUI',\n               '22':'Liquor Law Violation',\n               '24':'Disorderly',\n               '25':'Loitering',\n               '26':'Misc Violation',\n               '29':'Missing/Runaway',\n               '30':'Casualty/Suicide'}\n\ncounts = {k: 0 for k in offense_map.values()}\n# start counting crimes by victim count (by name, not number)\n\nfor crime_info in crimes.values()\n    try:\n        offense_no = crime_info['offense']\n        offense_name = offense_map[offense_no]\n        counts[offense_name] += crime_info['victims']\n    except KeyError:\n        # we couldn't map that\n        print(\"No such offense: {}\".format(crime_info['offense']))\n\n# sort by value\nfor k,v in sorted(counts.items(), key=operator.itemgetter(1), reverse=True):\n    print(k, v)\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5402747, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10208221609477444/picture?type=large", "display_name": "Wakedude", "link": "https://stackoverflow.com/users/5402747/wakedude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "accepted_answer_id": 34055567, "answer_count": 2, "score": 1, "last_activity_date": 1473795927, "creation_date": 1449100454, "last_edit_date": 1473795927, "question_id": 34055394, "link": "https://stackoverflow.com/questions/34055394/python-replace-value-with-the-value-from-a-dictionary-key-value-pair", "title": "Python: Replace value with the value from a dictionary key value pair", "body": "<p>I have been racking my brain on this for hours now. I'm trying to replace the offense number which is 1-30 to its corresponding offense type i.e. stealing, embezzlement, Burglary, etc. and then sort that into a list.</p>\n\n<p>Here is a sample of the output I currently have:</p>\n\n<p>offense #  :  Victim Total</p>\n\n<pre><code>1 189\n10 712\n11 1844\n12 184\n13 147\n14 4364\n15 595\n16 175\n17 387\n18 2893\n2 597\n20 661\n</code></pre>\n\n<p>Here is what code I have thus far. The offense_map dictionary is what I would like to use to replace the 1-30 in the output to the offense type. Then sort the list in descending order from the largest victim count (right column) to the least. I am working with ~100,000 rows of data so efficiency is important for this program.</p>\n\n<pre><code>from collections import Counter\n\nincidents_f =  open('incidents.csv', mode = \"r\")\n\ncrime_dict = dict()\n\nfor line in incidents_f:\n    line_1st = line.strip().split(\",\")\n    if line_1st[0].upper() != \"REPORT_NO\":\n        report_no = line_1st[0]\n        offense = line_1st[3]\n        zip_code = line_1st[4]\n        if len(zip_code) &lt; 5:\n            zip_code = \"99999\"\n\n        if report_no in crime_dict:\n            crime_dict[report_no].append(zip_code).append(offense)\n        else:\n            crime_dict[report_no] = [zip_code]+[offense]\n\n#close File\nincidents_f.close\n\ndetails_f = open('details.csv',mode = 'r')\nfor line in details_f:\n    line_1st = line.strip().split(\",\")\n    if line_1st[0].upper() != \"REPORT_NO\":\n        report_no = line_1st[0]\n        involvement = line_1st[1]\n        if involvement.upper() != 'VIC':\n            continue\n\n        else:\n            crime_dict[report_no].append(involvement.upper())\n\n\n\n#close File\ndetails_f.close\n\n\noffense_map = {'1':'Homicide','2':'Rape','3':'Robbery','4':'Assault','5':'Burglary','6':'Stealing','7':'Auto Theft','8':'Non Agg Assault','9':'Arson','10':'Forgery','11':'Fraud','12':'Embezzlement','13':'Stolen Property','14':'Property Damage','15':'Weapons Law Violation','16':'Prostitution','17':'Sex Offense Other','18':'Possession/Sale/Dist','20':'Family Offense','21':'DUI','22':'Liquor Law Violation','24':'Disorderly','25':'Loitering','26':'Misc Violation','29':'Missing/Runaway','30':'Casualty/Suicide'}\n\nvictims_by_offense = {}\nfor k, v in crime_dict.items():\n    zip = v[1]\n    if zip not in victims_by_offense.keys():\n        victims_by_offense[zip] = 0\n    victims_by_offense[zip] += v[0:].count('VIC')\n\nfor zip in sorted(victims_by_offense.keys()):\n    print(zip, victims_by_offense[zip])\n</code></pre>\n"}, {"tags": ["python", "unicode", "utf-8", "nltk"], "comments": [{"owner": {"reputation": 3567, "user_id": 4116239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksElS.png?s=128&g=1", "display_name": "Kevin J. Chase", "link": "https://stackoverflow.com/users/4116239/kevin-j-chase"}, "edited": false, "score": 0, "creation_date": 1449101916, "post_id": 34055347, "comment_id": 55865318, "body": "What makes your situation radically different from the <i>numerous</i> other answers to this exact question?  In what way(s) do those other solutions fail to solve your problem?"}, {"owner": {"reputation": 19, "user_id": 5627792, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/968420036530705/picture?type=large", "display_name": "Anuj Nimkar", "link": "https://stackoverflow.com/users/5627792/anuj-nimkar"}, "reply_to_user": {"reputation": 3567, "user_id": 4116239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksElS.png?s=128&g=1", "display_name": "Kevin J. Chase", "link": "https://stackoverflow.com/users/4116239/kevin-j-chase"}, "edited": false, "score": 0, "creation_date": 1449181492, "post_id": 34055347, "comment_id": 55908270, "body": "In all the other situations, encoding using &#39;utf-8&#39; solves the problem. In my situation, if I encode using utf-8 then I get the above error, if I decode using utf-8, I get the UnicodeDecodeError. I have also tried several other encodings but none seem to work."}], "answers": [{"tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": true, "score": 0, "last_activity_date": 1449112105, "creation_date": 1449112105, "answer_id": 34057164, "question_id": 34055347, "link": "https://stackoverflow.com/questions/34055347/unicodeencodeerror-ascii-codec-cant-encode-character-u-xa3-in-position-619/34057164#34057164", "title": "UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode character u&#39;\\xa3&#39; in position 619: ordinal not in range(128)", "body": "<p><code>e</code> or <code>url</code> is a Unicode string, which makes the resulting string passed to <code>log.debug</code> a Unicode string.  Examples:</p>\n\n<pre><code>&gt;&gt;&gt; '%s %s' % ('abc','def')\n'abc def'\n&gt;&gt;&gt; '%s %s' % (u'abc','def')\nu'abc def'\n&gt;&gt;&gt; '%s %s' % ('abc',u'def')\nu'abc def'\n&gt;&gt;&gt; '%s %s' % (u'abc',u'def')\nu'abc def'\n</code></pre>\n\n<p>Likely <code>log.debug</code> doesn't expect Unicode strings, so Python 2 implicitly converts it to a byte string using the default <code>ascii</code> codec.  The Unicode string generated isn't ASCII-compatible, hence <code>UnicodeEncodeError</code>.</p>\n"}], "owner": {"reputation": 19, "user_id": 5627792, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/968420036530705/picture?type=large", "display_name": "Anuj Nimkar", "link": "https://stackoverflow.com/users/5627792/anuj-nimkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 34057164, "answer_count": 1, "score": -1, "last_activity_date": 1449112105, "creation_date": 1449100117, "last_edit_date": 1449100541, "question_id": 34055347, "link": "https://stackoverflow.com/questions/34055347/unicodeencodeerror-ascii-codec-cant-encode-character-u-xa3-in-position-619", "title": "UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode character u&#39;\\xa3&#39; in position 619: ordinal not in range(128)", "body": "<p>I've encountered the notorious <code>UnicodeEncodeError</code>. I've researched a lot about this error before posting this here, there are apparently multiple versions of this error.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>import nltk,re,pprint\nimport geograpy\nimport codecs\nfrom nameparser.parser import HumanName\n\ntext_file = codecs.open('H:/Study and Work/Marciano Asstship/Work/Incident_cards_data/2.Text Extracted/Boxes 1 - 21/Boxes 8 thru 21-TULE LAKE/Box9-TULE LAKE/box9.txt',encoding = 'utf-8')\ntext_data = text_file.read()\n\nplaces = geograpy.get_place_context(text_data)\nprint places\n</code></pre>\n\n<p>and  here's the error:</p>\n\n<pre><code>log.debug('%s on %s' % (e, url))\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xa3' in position 619: ordinal not in range(128)\n</code></pre>\n"}, {"tags": ["python", "pyqt", "pyqt4"], "answers": [{"tags": [], "owner": {"reputation": 543, "user_id": 2362362, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nm5J9.jpg?s=128&g=1", "display_name": "Pavel M.", "link": "https://stackoverflow.com/users/2362362/pavel-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1449133805, "creation_date": 1449133805, "answer_id": 34061826, "question_id": 34055324, "link": "https://stackoverflow.com/questions/34055324/pyqt-cannot-queue-qtextcursor-how-to-properly-change-window-content/34061826#34061826", "title": "PyQT Cannot queue QTextCursor - how to properly change window content", "body": "<p>Oh my god, it's solved!</p>\n\n<pre><code>        self.connect(self, SIGNAL(\"print\"), self.real_print)\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 2362362, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/nm5J9.jpg?s=128&g=1", "display_name": "Pavel M.", "link": "https://stackoverflow.com/users/2362362/pavel-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1776, "favorite_count": 1, "accepted_answer_id": 34061826, "answer_count": 1, "score": 1, "last_activity_date": 1519235112, "creation_date": 1449100016, "last_edit_date": 1519235112, "question_id": 34055324, "link": "https://stackoverflow.com/questions/34055324/pyqt-cannot-queue-qtextcursor-how-to-properly-change-window-content", "title": "PyQT Cannot queue QTextCursor - how to properly change window content", "body": "<p>Long story short, again. I'm writing python library for very simple text output to Qt's QTextBrowser window (stored in window.ui). As far as I found before, Qt objects should not be accessed directly. So, what is the right way to get rid from:</p>\n\n<pre><code>QObject::connect: Cannot queue arguments of type 'QTextCursor'\n(Make sure 'QTextCursor' is registered using qRegisterMetaType().)\n</code></pre>\n\n<p>errors when 'printing' from other thread?</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom PyQt4 import QtGui, QtCore, uic\nimport sys\nimport time\n\n\ndef async(func):\n    from threading import Thread\n    from functools import wraps\n\n    @wraps(func)\n    def async_func(*args, **kwargs):\n        func_hl = Thread(target=func, args=args, kwargs=kwargs)\n        func_hl.start()\n        return func_hl\n    return async_func\n\n\nclass GuiFile(QObject):   # add also GUI_FORM\n    def __init__(self, filename):\n        QObject.__init__(self, None)\n        self.filename = filename\n        self.myapp = sys.argv\n        self.app = QtGui.QApplication(self.myapp)\n\n    def show(self):\n        self.window = uic.loadUi(self.filename)\n        self.window.show()\n\n\n    def pprint(self, text):\n        gui_object = self.window.outbox\n        gui_object.insertHtml(text + '&lt;br&gt;')\n        gui_object.moveCursor(QtGui.QTextCursor.End)\n\nif __name__ == '__main__':\n\n    @async\n    def other_thead():\n        time.sleep(1)\n        for x in xrange(3):\n            print x\n            gui.pprint(u'Hello %s' % x)\n\n    gui = GuiFile('window.ui')\n    gui.show()\n    other_thead()\n    sys.exit(gui.app.exec_())\n</code></pre>\n\n<p>Please tell me explicitly, 'cus I'm totally stuck and confused reading about those slots and Qt theads.</p>\n\n<p>window.ui link is here: <a href=\"https://yadi.sk/d/U3esbMcIkvbFc\" rel=\"nofollow\">https://yadi.sk/d/U3esbMcIkvbFc</a></p>\n\n<p><strong>upd1:</strong></p>\n\n<p>also I've tried to emit signals like that:</p>\n\n<pre><code>    self.connect(self.window.outbox, SIGNAL(\"print\"), self.real_print)\n\n\n    def real_print(self, text, **kwargs):\n        print 'RP'\n        gui_object = self.window.outbox\n\n        \"\"\" What if we print to other field? \"\"\"\n\n        if kwargs.get('field'):\n            field = kwargs['field']\n\n            for elem in dir(self.window):\n                if str(elem) == field:\n                    gui_object = getattr(self.window, elem)\n\n        gui_object.insertHtml(text + '&lt;br&gt;')\n        gui_object.moveCursor(QTextCursor.End)\n\n    def pprint(self, text, **kwargs):\n        self.emit(SIGNAL(\"print\"), text)\n</code></pre>\n\n<p>but it still not working.</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-ec2", "boto", "amazon-sqs"], "comments": [{"owner": {"reputation": 549, "user_id": 1375924, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e688ecd51c510a013982b06920871aa9?s=128&d=identicon&r=PG", "display_name": "Destroyer", "link": "https://stackoverflow.com/users/1375924/destroyer"}, "edited": false, "score": 0, "creation_date": 1449194567, "post_id": 34055231, "comment_id": 55912626, "body": "Anyone have any ideas/insights?"}], "owner": {"reputation": 549, "user_id": 1375924, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e688ecd51c510a013982b06920871aa9?s=128&d=identicon&r=PG", "display_name": "Destroyer", "link": "https://stackoverflow.com/users/1375924/destroyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1456166338, "creation_date": 1449099596, "question_id": 34055231, "link": "https://stackoverflow.com/questions/34055231/obtain-the-aws-sqs-message-receipt-handle-from-the-forwarded-aws-sqsd-daemon-ela", "title": "Obtain the AWS SQS Message Receipt Handle from the forwarded aws-sqsd daemon Elastic Beanstalk requests", "body": "<p>Anyone know how to get the message receipt handle from the aws-sqsd worker daemon (When the request is forwarded to the application)? Basically, the aws-sqsd drives the work item pickup, and then I want to use boto to potentially extend the message visibility (so I don't have the message itself in boto, so m.receipt_handle does not help). In the headers of the aws-sqsd request, it provides almost all that info, except the receipt_handle...</p>\n\n<hr>\n\n<p>We are trying to extend the current solution we have in place for sqs message handling. The worker instances in our Elastic Beanstalk environments are setup to use the aws-sqsd daemon for message retrieval/forwarding to our application.</p>\n\n<p>Currently trying to determine the best means of obtaining the message receipt handle from the aws-sqsd daemon to then allow us to extend the message visibility timeout using Boto after the fact (which requires the receipt handle).</p>\n\n<p>As it stands, the aws-sqsd provides the following information in the request headers... but sadly the message receipt handle is not provided...)</p>\n\n<pre>\nHeaders:\nHost: localhost\nX-Aws-Sqsd-Sent-At: 2015-12-02T03:46:35Z\nUser-Agent: aws-sqsd/2.0\nX-Aws-Sqsd-Queue: \nX-Aws-Sqsd-Path:\nX-Forwarded-For: 127.0.0.1\nX-Aws-Sqsd-First-Received-At: 2015-12-02T03:46:35Z\nX-Aws-Sqsd-Msgid: \nX-Aws-Sqsd-Receive-Count: 1\nContent-Type: application/x-www-form-urlencoded\nX-Aws-Sqsd-Sender-Id: \nContent-Length: 298\nX-Real-Ip: 127.0.0.1\n</pre>\n\n<p>Would be very helpful to also include:</p>\n\n<ul>\n<li>X-Aws-Sqsd-Message-Receipt-Handle</li>\n</ul>\n\n<p>Currently using:</p>\n\n<ul>\n<li><p>X-Aws-Sqsd-Queue</p></li>\n<li><p>X-Aws-Sqsd-Msgid</p></li>\n</ul>\n\n<p>How could I go about getting that important piece of information?</p>\n\n<ul>\n<li>This touches on an overall limitation I have been encountering, it is very hard to obtain metadata for instances/envs within an instance (e.g. 'region', which requires using the ec2-metadata tool / boto.utils.get_instance_metadata(), pulling out the placement/availability zone and then doing string manipulation for the region... why is 'region' not provided... same with 'worker_queue_url'... have to get that from the message headers itself (header parsing).</li>\n</ul>\n"}, {"tags": ["python", "pyqt4", "qvalidator"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5632719, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9TlqKDhSQbw/AAAAAAAAAAI/AAAAAAAAAAA/zsMbUmYvXwA/photo.jpg?sz=128", "display_name": "Kerri", "link": "https://stackoverflow.com/users/5632719/kerri"}, "edited": false, "score": 0, "creation_date": 1449160778, "post_id": 34056852, "comment_id": 55896057, "body": "Thank you so much, ekhumoro!  You are correct.  We are still using 2.7 on the new server, but something has obviously changed.  Thanks again!"}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": false, "score": 1, "last_activity_date": 1449109956, "creation_date": 1449109956, "answer_id": 34056852, "question_id": 34055174, "link": "https://stackoverflow.com/questions/34055174/qvalidator-fixup-issue/34056852#34056852", "title": "QValidator fixup issue", "body": "<p>The problem is caused by the C++ signatures of <code>fixup</code> and <code>validate</code> requiring that the <em><code>text</code></em> argument is modifiable. If you're using Python 2, this distinctly unpythonic way of doing things is honoured by PyQt; whereas with Python 3, the <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/python_v3.html#qvalidator\" rel=\"nofollow\">signatures have been changed</a> so that the methods simply return the modified values.</p>\n\n<p>The specific issue in your code can be found here:</p>\n\n<pre><code>    def fixup(self, text):\n        ...\n\n        text += '-'\n</code></pre>\n\n<p>It seems that, in earlier versions of PyQt, augmented assignment on a <code>QString</code> did an implicit in-place mutation. But in more recent versions, it works more like normal python augmented assignment and simply re-binds the local variable like this:</p>\n\n<pre><code>        text = text + '-'\n</code></pre>\n\n<p>To work around this, you can do an explict in-place mutation:</p>\n\n<pre><code>        text.append('-')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5632719, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9TlqKDhSQbw/AAAAAAAAAAI/AAAAAAAAAAA/zsMbUmYvXwA/photo.jpg?sz=128", "display_name": "Kerri", "link": "https://stackoverflow.com/users/5632719/kerri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449109956, "creation_date": 1449099334, "last_edit_date": 1449104622, "question_id": 34055174, "link": "https://stackoverflow.com/questions/34055174/qvalidator-fixup-issue", "title": "QValidator fixup issue", "body": "<p>Following is my code to validate an account code, and add dashes at certain intervals.  An example account code is <code>140-100-1000-6610-543</code>. The code takes the regex: <code>\\d{3}-\\d{3}-\\d{4}-\\d{4}-\\d{3]</code> and allows the user to type in numbers, and where there is a dash in the regex, it places the dash for the user. Or rather, it should. On our production server (('Qt version:', '4.8.1'), ('SIP version:', '4.13.2'), ('PyQt version:', '4.9.1')) it does work. Our dev server is upgraded to ('Qt version:', '4.8.6'),  ('SIP version:', '4.15.5'), ('PyQt version:', '4.10.4') and it doesn't work there.</p>\n\n<p>On each server, I type in <code>140</code>. On the production (older version), the line edit value changes to <code>140-</code>. On the newer version development server, it does not add the dash.</p>\n\n<p>Please let me know if you see my issue, and let me know if this is a PyQt issue, or a Qt issue.  </p>\n\n<pre><code>import sys\nfrom PyQt4 import QtGui, QtCore\n\nDEBUG = True\n\nclass acValidator(QtGui.QRegExpValidator):\n\n    def __init__(self, regexp, widget):\n        QtGui.QRegExpValidator.__init__(self, regexp, widget)\n        self.widget = widget\n\n    def validate(self, text, pos):\n        '''function to decide if this account code is valid'''\n        valid, _npos = QtGui.QRegExpValidator.validate(self, text, pos)\n\n        if valid != QtGui.QValidator.Acceptable:\n            self.fixup(text)\n            print 'acWidget.validate result of fixup', text\n\n            # move position to the end, if fixup just added a dash\n            # to the end\n            newstr = self.widget.text()\n            newpos = len(str(newstr))\n            if pos + 1 == newpos and newstr[pos:newpos] == '-':\n                pos = newpos\n\n        # return the valid variable, and the current position\n        return (valid, pos)\n\n    def fixup(self, text):\n        '''place dashes, if we can'''\n        # pylint: disable=no-member\n        if DEBUG:\n            print 'acWidget.py fixup'\n        reParts = self.regExp().pattern().split('-')\n        if DEBUG:\n            print list(reParts)\n        newreg = ''\n        for i in range(len(reParts)):\n            newreg += reParts[i]\n            if DEBUG:\n                print i, reParts[i]\n\n            nr = QtCore.QRegExp(newreg)\n            # pylint: disable=no-member\n            if nr.exactMatch(text) and not self.regExp().exactMatch(text):\n                if DEBUG:\n                    print 'adding dash'\n                text += '-'\n                return\n\n            newreg += '-'\n\n    def isValid(self):\n        '''return a true or false for the validity based on whether the\n        widget is a lineEdit or a comboBox (acCB).  true only if the\n        validator returns QtGui.QValidator.Acceptable\n        '''\n        valid, _npos = QtGui.QRegExpValidator.validate(self,\n                        self.widget.text(),\n                        self.widget.cursorPosition())\n        if valid == QtGui.QValidator.Acceptable:\n            return True\n\n        return False\n\n\nclass acWidget(QtGui.QLineEdit):\n\n    def __init__(self, parent=None):\n        QtGui.QLineEdit.__init__(self, parent)\n\n        self.regex = r'\\d{3}-\\d{3}-\\d{4}-\\d{4}-\\d{3}'\n        self.setMinimumWidth(200)\n        self.setValidator(acValidator(QtCore.QRegExp(self.regex),\n                    self))\n\nif __name__ == '__main__':\n\n    app = QtGui.QApplication(sys.argv)\n    form = QtGui.QDialog()\n    layout = QtGui.QVBoxLayout(form)\n    a = acWidget(form)\n    layout.addWidget(a)\n    form.setLayout(layout)\n    form.setMinimumWidth(400)\n    form.setMinimumHeight(200)\n    form.show()\n    app.exec_()\n</code></pre>\n"}, {"tags": ["python", "subprocess", "pycharm", "stdout"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449099927, "post_id": 34055134, "comment_id": 55864726, "body": "What is <code>commandwrapper.WrapCommand</code>?"}, {"owner": {"reputation": 10671, "user_id": 304684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cfc86e606d2c0e6bb9923c1a72040cd?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/304684/brett"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449100183, "post_id": 34055134, "comment_id": 55864815, "body": "Its a wrapper for <code>subprocess.popen</code>. I added link to the <code>pip</code> package above. Thanks for pointing that out."}, {"owner": {"reputation": 10671, "user_id": 304684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cfc86e606d2c0e6bb9923c1a72040cd?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/304684/brett"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449100326, "post_id": 34055134, "comment_id": 55864855, "body": "OSX and the default terminal in OSX (I think thats <code>bash</code>?)."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449100437, "post_id": 34055134, "comment_id": 55864887, "body": "Might want to add that to your question, I cannot replicate on ubuntu  using bash, <code>echo $0</code>  will show you the shell name on linux, it may work for mac too"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449100755, "post_id": 34055134, "comment_id": 55864987, "body": "Actually,scratch that it does not work at all from anywhere properly including pycharm, I get a fraction of the files listed running <code>ls</code>"}, {"owner": {"reputation": 10671, "user_id": 304684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cfc86e606d2c0e6bb9923c1a72040cd?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/304684/brett"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449100961, "post_id": 34055134, "comment_id": 55865040, "body": "Hmmm...still works ok for me in PyCharm. Any more info I could add that would make it more debuggable?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449101076, "post_id": 34055134, "comment_id": 55865065, "body": "Ok, I got it working using Popen directly"}, {"owner": {"reputation": 10671, "user_id": 304684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cfc86e606d2c0e6bb9923c1a72040cd?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/304684/brett"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449101133, "post_id": 34055134, "comment_id": 55865088, "body": "Ah, ok. Guess I&#39;ll try ditching <code>commandwrapper</code>. I thought that might have been a clean way to avoid working with <code>subprocess</code> directly, but I guess not."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449101189, "post_id": 34055134, "comment_id": 55865105, "body": "It is the poll logic that is the issue, I added the working code, you can use the wrapper if you prefer but I don&#39;t see much point really unless I am missing something"}], "answers": [{"comments": [{"owner": {"reputation": 10671, "user_id": 304684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cfc86e606d2c0e6bb9923c1a72040cd?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/304684/brett"}, "edited": false, "score": 0, "creation_date": 1449101683, "post_id": 34055528, "comment_id": 55865255, "body": "This is fantastic. Thank you :-)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 10671, "user_id": 304684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cfc86e606d2c0e6bb9923c1a72040cd?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/304684/brett"}, "edited": false, "score": 0, "creation_date": 1449102036, "post_id": 34055528, "comment_id": 55865351, "body": "No prob,  you&#39;re welcome. If you  <code>print(cmd.stdout.readlines())</code> outside your while loop you will see  the rest/all of the output as the data is getting buffered regardless of the flush"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1449101514, "last_edit_date": 1449101514, "creation_date": 1449101212, "answer_id": 34055528, "question_id": 34055134, "link": "https://stackoverflow.com/questions/34055134/subprocess-displays-sys-stdout-correctly-in-pycharm-but-not-in-the-console/34055528#34055528", "title": "Subprocess displays sys.stdout correctly in PyCharm but not in the console", "body": "<p>You need to change the logic where you have poll, I used Popen but you can use the wrapper if you prefer:</p>\n\n<pre><code>out = open(stdout_log, 'w')\nstdout_reset = sys.stdout\nsys.stdout = Tee(sys.stdout, out)\nfrom subprocess import Popen,PIPE,STDOUT\nprocess = Popen([list_of_cmds],stdout=PIPE,stderr=STDOUT)\n# Stream the output to the console and stdoutfiles\nfor line in iter(process.stdout.readline,\"\"):\n    sys.stdout.write(line)\n\n\nout.close()\n</code></pre>\n\n<p>Applying the same logic works with the <code>commandwrapper</code> lib:</p>\n\n<pre><code>process = commandwrapper.WrapCommand(command, shell=True) # Also tried False with same behaivor.\ncmd = process.prepareToRun()\n# Stream the output to the console and stdoutfiles\nfor line in iter(cmd.stdout.readline,\"\"):\n    sys.stdout.write(line)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1449146227, "last_edit_date": 1495542616, "creation_date": 1449146227, "answer_id": 34066306, "question_id": 34055134, "link": "https://stackoverflow.com/questions/34055134/subprocess-displays-sys-stdout-correctly-in-pycharm-but-not-in-the-console/34066306#34066306", "title": "Subprocess displays sys.stdout correctly in PyCharm but not in the console", "body": "<p>Even if the child process has exited i.e., <code>cmd.poll() is not None</code> there could be a buffered output left in the pipe. You could see it if you call <code>cmd.stdout.read()</code> after the <code>while cmd.poll() is not None</code> loop has ended.</p>\n\n<p>To reproduce the error without <code>Tee</code>, <code>commandwrapper</code>:</p>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nimport time\nfrom subprocess import Popen, PIPE\n\n#XXX DO NOT USE THE CODE -- ITS PURPOSE IS TO DEMONSTRATE THE ISSUE\np = Popen([sys.executable, '-c', \"import os; os.write(1, b'abc')\"],\n          stdout=PIPE, bufsize=0) # no buffering in the parent\ntime.sleep(0.3) # allow the child to exit\nwhile p.poll() is None: # poll() should return non-None value\n    assert 0, \"it is never run unless the computer is slow\"\n    line = p.stdout.readline()\n    print(line)\n\noutput = p.stdout.read() #\nprint(\"the output left after the child has died: %r\" % (output,))\nassert len(output) &gt;= 3\n</code></pre>\n\n<p>See these posts on how to read subprocess' output in real time and how to redirect it to a file and terminal at the same time:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/17698359/4279\">Python: read streaming input from subprocess.communicate()</a></li>\n<li><a href=\"https://stackoverflow.com/a/25968448/4279\">How do I push a subprocess.call() output to terminal and file?</a></li>\n<li><a href=\"https://stackoverflow.com/q/17190221/4279\">Subprocess.Popen: cloning stdout and stderr both to terminal and variables</a></li>\n<li><a href=\"https://stackoverflow.com/q/4984428/4279\">Python subprocess get children's output to file and terminal?</a></li>\n</ul>\n"}], "owner": {"reputation": 10671, "user_id": 304684, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6cfc86e606d2c0e6bb9923c1a72040cd?s=128&d=identicon&r=PG", "display_name": "Brett", "link": "https://stackoverflow.com/users/304684/brett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1540, "favorite_count": 0, "accepted_answer_id": 34055528, "answer_count": 2, "score": 1, "last_activity_date": 1449146227, "creation_date": 1449099094, "last_edit_date": 1449100892, "question_id": 34055134, "link": "https://stackoverflow.com/questions/34055134/subprocess-displays-sys-stdout-correctly-in-pycharm-but-not-in-the-console", "title": "Subprocess displays sys.stdout correctly in PyCharm but not in the console", "body": "<p>I have a small Python program that executes a terminal command from a <code>pip</code> package called <code>commandwrapper</code> (which is a wrapper for <code>subprocess.popen</code>: <a href=\"https://pypi.python.org/pypi/commandwrapper/0.7\" rel=\"nofollow\">https://pypi.python.org/pypi/commandwrapper/0.7</a>). I am also trying to capture the real-time output to the console and to a file.</p>\n\n<p>I have the code: </p>\n\n<pre><code>class Tee(object):\n    def __init__(self, *files):\n        self.files = files\n    def write(self, obj):\n        for f in self.files:\n            f.write(obj)\n            f.flush()\n    def flush(self) :\n        for f in self.files:\n            f.flush()\n\n# Set the stdout/stderr to Tee()\nout = open(stdout_log, 'w')\nstdout_reset = sys.stdout\nsys.stdout = Tee(sys.stdout, out)\n\nprocess = commandwrapper.WrapCommand(command, shell=True) # Also tried False with same behaivor.\ncmd = process.prepareToRun()\n\n# Stream the output to the console and stdoutfiles\nwhile cmd.poll() is None:\n    msg_out = cmd.stdout.readline()\n    sys.stdout.write(msg_out)\n    sys.stdout.flush()\n\nout.close()\n</code></pre>\n\n<p>This works perfect when I run it in <strong>PyCharm</strong>. The output of <code>command</code> is written to the file AND displayed on the terminal console in real-time.</p>\n\n<p><strong>However, when I run the same code in a terminal, no output is displayed on the console</strong>. How can this be? The <code>stdout</code> is correctly captured in a file, but nothing is written to the console.</p>\n\n<p>Can anyone see any reason that this code would work well and as expected in PyCharm, but not display any stdout to the terminal? I'm at a loss here. If anything, I could deal with it if the behavior was reversed.</p>\n\n<p>Using OSX Yosemite and running <code>bash</code>.</p>\n"}, {"tags": ["python", "pyside", "qtreewidget", "qtreewidgetitem"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 1766854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727f67ff141b27adcb47c9035b8dc94a?s=128&d=identicon&r=PG", "display_name": "dgsantana", "link": "https://stackoverflow.com/users/1766854/dgsantana"}, "is_accepted": true, "score": 1, "last_activity_date": 1449143666, "creation_date": 1449143666, "answer_id": 34065427, "question_id": 34055060, "link": "https://stackoverflow.com/questions/34055060/get-drag-n-drop-qtreewidget-items-python/34065427#34065427", "title": "Get drag-n-drop qtreewidget items - Python", "body": "<p>I would suggest using a View/Model approach. \nDecoding the 'application/x-qabstractitemmodeldatalist' will only return the item dragged, and the dropMimeData isn't used in the QTreeWidget.</p>\n\n<p>Look here for an example.\n<a href=\"https://wiki.python.org/moin/PyQt/Handling%20Qt&#39;s%20internal%20item%20MIME%20type\" rel=\"nofollow\">https://wiki.python.org/moin/PyQt/Handling%20Qt's%20internal%20item%20MIME%20type</a></p>\n"}], "owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1321, "favorite_count": 0, "accepted_answer_id": 34065427, "answer_count": 1, "score": 0, "last_activity_date": 1449143666, "creation_date": 1449098684, "last_edit_date": 1449099372, "question_id": 34055060, "link": "https://stackoverflow.com/questions/34055060/get-drag-n-drop-qtreewidget-items-python", "title": "Get drag-n-drop qtreewidget items - Python", "body": "<p>Is there a way I can get the items being drag/dropped and their destination parent?</p>\n\n<p>In an ideal scenario what I want to happen is once the <strong>dropEvent</strong> finishes, it prints the qtreewidgetitems which were moved, as well as the new parent which the items were moved to. The parent would either be the qtreewidget itself or another qtreewidgetitem depending on where the drop happened.</p>\n\n<p>Can someone help me out here please?</p>\n\n<p>Below is the code i have so far.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7XQRQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7XQRQ.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code># Imports\n# ------------------------------------------------------------------------------\nimport sys\nfrom PySide import QtGui, QtCore, QtSvg\n\nclass TreeNodeItem( QtGui.QTreeWidgetItem ):\n    def __init__( self, parent, name=\"\" ):\n        super( TreeNodeItem, self ).__init__( parent )\n        self.setText( 0, name )\n        self.stuff = \"Custom Names - \" + str(name)\n\nclass TreeWidget(QtGui.QTreeWidget):\n    def __init__(self, parent=None):\n        QtGui.QTreeWidget.__init__(self, parent)\n        self.setVerticalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOn)\n        self.setSelectionMode(QtGui.QAbstractItemView.ExtendedSelection)\n        self.setItemsExpandable(True)\n        self.setAnimated(True)\n        self.setDragEnabled(True)\n        self.setDropIndicatorShown(True)\n        self.setDragDropMode(QtGui.QAbstractItemView.InternalMove)\n        self.setAlternatingRowColors(True)\n\n    # def dropEvent(self, event):\n    #     print \"finished\"\n    def dropEvent(self, event):\n        return_val = super( TreeWidget, self ).dropEvent( event )\n        print (\"Drop finished\")\n        d = event.mimeData()\n        print d, event.source()\n        return return_val\n\n# Main\n# ------------------------------------------------------------------------------\nclass ExampleWidget(QtGui.QWidget):\n\n    def __init__(self,):\n        super(ExampleWidget, self).__init__()\n\n        self.initUI()\n\n    def initUI(self):\n\n        # formatting\n        self.resize(250, 400)\n        self.setWindowTitle(\"Example\")\n\n        # widget - passes treewidget\n        self.itemList = QtGui.QTreeWidget()\n        self.itemList = TreeWidget()\n\n        headers = [ \"Items\" ]\n        self.itemList.setColumnCount( len(headers) )\n        self.itemList.setHeaderLabels( headers )            \n\n        # layout Grid - row/column/verticalpan/horizontalspan\n        self.mainLayout = QtGui.QGridLayout(self)\n        self.mainLayout.setContentsMargins(5,5,5,5)\n        self.mainLayout.addWidget(self.itemList, 0,0,1,1)\n\n        # display\n        self.show()\n\n    # Functions\n    # --------------------------------------------------------------------------   \n    def closeEvent(self, event):\n        print \"closed\"\n\n\n    def showEvent(self, event):\n        print \"open\"\n        for i in xrange(20):\n            TreeNodeItem( parent=self.itemList , name=str(i) )\n\n# Main\n# ------------------------------------------------------------------------------\nif __name__ == \"__main__\":\n    app = QtGui.QApplication(sys.argv)\n    ex = ExampleWidget()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 836, "user_id": 1474727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41068ad3501beb3e85fb387f4063233a?s=128&d=identicon&r=PG", "display_name": "burhan", "link": "https://stackoverflow.com/users/1474727/burhan"}, "edited": false, "score": 0, "creation_date": 1449099741, "post_id": 34055056, "comment_id": 55864659, "body": "15M means 15 months, I think you meant to use &#39;15Min&#39;"}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 0, "last_activity_date": 1449100076, "last_edit_date": 1449100076, "creation_date": 1449098678, "answer_id": 34055056, "question_id": 34055040, "link": "https://stackoverflow.com/questions/34055040/get-count-of-value-for-15-min-periods/34055056#34055056", "title": "Get count of value for 15 min periods", "body": "<pre><code>result = df.groupby(pd.TimeGrouper('15Min')['col1'].apply(lambda x: x.value_counts()))\n</code></pre>\n\n<p>should do the trick.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3393657"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 34055056, "answer_count": 1, "score": 0, "last_activity_date": 1463348584, "creation_date": 1449098627, "last_edit_date": 1463348584, "question_id": 34055040, "link": "https://stackoverflow.com/questions/34055040/get-count-of-value-for-15-min-periods", "title": "Get count of value for 15 min periods", "body": "<p>I have a <code>DataFrame</code> with a <code>DateTimeIndex</code>. I would like to get the <code>count</code> of all different (integer) values for column <code>col1</code> for each 15 min period. </p>\n\n<p>I have looked at <code>groupby</code> and <code>count</code> but this doesn't seem to work. </p>\n\n<p>Any suggestion appreciated!</p>\n"}, {"tags": ["python", "excel", "xlrd"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 1, "creation_date": 1449098190, "post_id": 34054870, "comment_id": 55864077, "body": "you have no <code>return</code> statement in your <code>get_cell</code> function which means <code>gmail,password,recover</code> are all getting set to <code>NoneType</code> (a no return function will return <code>NoneType</code> implicitly. <code>return cell</code> maybe?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5460786"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1449098661, "post_id": 34054870, "comment_id": 55864256, "body": "@rnar Ah yes, thankyou. it was a silly mistake."}], "answers": [{"tags": [], "owner": {"reputation": 916, "user_id": 4121965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed23d9f7bf180f9632e5f2de23264c4f?s=128&d=identicon&r=PG", "display_name": "fpes", "link": "https://stackoverflow.com/users/4121965/fpes"}, "is_accepted": true, "score": 0, "last_activity_date": 1449098240, "creation_date": 1449098240, "answer_id": 34054961, "question_id": 34054870, "link": "https://stackoverflow.com/questions/34054870/python-xlrd-returns-a-no-attribute-error/34054961#34054961", "title": "Python xlrd returns a no attribute error", "body": "<pre><code>def get_cell(worksheet, row, col):\n    cell = worksheet.cell(row, col)\n</code></pre>\n\n<p>needs to be:</p>\n\n<pre><code>def get_cell(worksheet, row, col):\n    return worksheet.cell(row, col)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5460786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 1, "accepted_answer_id": 34054961, "answer_count": 1, "score": 1, "last_activity_date": 1449098240, "creation_date": 1449097822, "last_edit_date": 1449097982, "question_id": 34054870, "link": "https://stackoverflow.com/questions/34054870/python-xlrd-returns-a-no-attribute-error", "title": "Python xlrd returns a no attribute error", "body": "<p>I'm trying to get a list of list with the values of certain cells within my xlsx worksheet but when I run it, it says there is no attribute called value. when I run the code without the \".value\" method it will return a list of lists formatted the way I want but they all have the value None.</p>\n\n<pre><code>import xlrd\n\ngmails = \"/home/ro/Downloads/100 Gmail (1).xlsx\"\n\ndef open_worksheet(file_path):\n    wb = xlrd.open_workbook(file_path)\n    ws = wb.sheet_by_index(0)\n    return ws\n\ndef get_cell(worksheet, row, col):\n    cell = worksheet.cell(row, col)\n\n\ndef get_email_list(worksheet):\n    email_list = []\n    first_gmail = [1, 3]\n    first_password = [1, 3]\n    first_recovery_gmail = [1, 5]\n    for row in range(1, worksheet.nrows):\n        gmail = get_cell(worksheet, first_gmail[0], first_gmail[1])\n        password = get_cell(worksheet, first_password[0], first_password[1])\n        recovery = get_cell(worksheet, first_recovery_gmail[0], first_recovery_gmail[1])\n\n        first_gmail[0] += 1\n        first_password[0] += 1\n        first_recovery_gmail[0] += 1\n\n        email_list.append([gmail.value, password.value, recovery.value])\n    return email_list\n\nprint get_email_list(open_worksheet(gmails))\n</code></pre>\n\n<p>My Traceback</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"twitter.py\", line 36, in &lt;module&gt;\n    print get_email_list(open_worksheet(gmails))\n  File \"twitter.py\", line 33, in get_email_list\n    email_list.append([gmail.value, password.value, recovery.value])\nAttributeError: 'NoneType' object has no attribute 'value'\n</code></pre>\n"}, {"tags": ["python", "encryption", "aes", "pycrypto"], "comments": [{"owner": {"reputation": 8139, "user_id": 384803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a700a4a1ccb243dd47d0a155fd43a2a2?s=128&d=identicon&r=PG", "display_name": "Dmitry B.", "link": "https://stackoverflow.com/users/384803/dmitry-b"}, "edited": false, "score": 0, "creation_date": 1449097839, "post_id": 34054808, "comment_id": 55863942, "body": "try <a href=\"http://security.stackexchange.com/\">security.stackexchange.com</a>"}, {"owner": {"reputation": 16556, "user_id": 839689, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eed3ee2db841be15bdb120f3ff38f02e?s=128&d=identicon&r=PG", "display_name": "Nayuki", "link": "https://stackoverflow.com/users/839689/nayuki"}, "edited": false, "score": 0, "creation_date": 1449097927, "post_id": 34054808, "comment_id": 55863982, "body": "Why do you need this fast? Can you change to a compiled language like C or Java?"}, {"owner": {"reputation": 5915, "user_id": 996638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AfEcR.jpg?s=128&g=1", "display_name": "Simon Steinberger", "link": "https://stackoverflow.com/users/996638/simon-steinberger"}, "edited": false, "score": 0, "creation_date": 1449098010, "post_id": 34054808, "comment_id": 55864015, "body": "It has to be Python. Just realized, by using binascii (ASCII only is fine), I can speed up the function by about 7%. That&#39;s something."}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 1, "creation_date": 1449100066, "post_id": 34054808, "comment_id": 55864779, "body": "pycrypto uses a native implementation of AES in C and supports AES-NI. There is nothing faster that can be done there. How fast do you want it? You could look for a python wrapper of a C implementation of TEA."}, {"owner": {"reputation": 5915, "user_id": 996638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AfEcR.jpg?s=128&g=1", "display_name": "Simon Steinberger", "link": "https://stackoverflow.com/users/996638/simon-steinberger"}, "edited": false, "score": 0, "creation_date": 1449100801, "post_id": 34054808, "comment_id": 55864996, "body": "+1 for TEA. XXTEA is exactly what I&#39;d love to use, however, this lead me here: <a href=\"http://stackoverflow.com/questions/34053117/python-xxtea-library-causes-segmentation-faults\" title=\"python xxtea library causes segmentation faults\">stackoverflow.com/questions/34053117/&hellip;</a>"}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1481077601, "post_id": 34054808, "comment_id": 69224967, "body": "<a href=\"https://en.wikipedia.org/wiki/XTEA\" rel=\"nofollow noreferrer\">XTEA</a>."}], "answers": [{"tags": [], "owner": {"reputation": 12696, "user_id": 70465, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vqerK.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/70465/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1481063772, "last_edit_date": 1492087697, "creation_date": 1481063772, "answer_id": 41006200, "question_id": 34054808, "link": "https://stackoverflow.com/questions/34054808/how-to-make-python-crypto-aes-faster/41006200#41006200", "title": "How to make Python Crypto AES faster", "body": "<p>Counter mode (<code>AES.MODE_CTR</code>) will be faster for multi-block messages, as it can be parallelized for both encryption and decryption. <code>CBC</code> is serial on encryption because the resulting output of each block-cipher operation is fed as input to be <code>XOR</code> with the plaintext of the next block before encrypting. Because <code>CTR</code> generates a keystream by encrypting each (sequential) counter value with the key, it does not rely on the output of any previous block operation and can perform the tasks in parallel. </p>\n\n<p>In addition, because <code>CTR</code> operates as a stream cipher, no message padding is required, so you'll save time on that operation in and out. </p>\n\n<p><strong>Note: Don't re-use counters. You mentioned that confidentiality is a secondary concern here, but while re-using IVs in CBC mode is \"bad\", re-using counters in CTR mode is <em>end of the world</em> bad.</strong> Just use a <a href=\"https://crypto.stackexchange.com/a/11362/12569\">sequential counter (literally <code>i++</code>) combined with 64 bits of the <code>ms since epoch start</code></a> and you'll be fine. (See <a href=\"https://cryptosmith.com/2008/05/31/stream-reuse/\" rel=\"nofollow noreferrer\">Stream Reuse</a> or <a href=\"https://travisdazell.blogspot.in/2012/11/many-time-pad-attack-crib-drag.html\" rel=\"nofollow noreferrer\">Many Time Pad Attack</a> for good examples of why).</p>\n"}], "owner": {"reputation": 5915, "user_id": 996638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AfEcR.jpg?s=128&g=1", "display_name": "Simon Steinberger", "link": "https://stackoverflow.com/users/996638/simon-steinberger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2264, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1481063772, "creation_date": 1449097562, "question_id": 34054808, "link": "https://stackoverflow.com/questions/34054808/how-to-make-python-crypto-aes-faster", "title": "How to make Python Crypto AES faster", "body": "<p>I'm looking for a very fast way for encrypting and decrypting short text snippets. Security is secondary in my use-case. Light encryption with a constant IV is fine. I'm currently doing this:</p>\n\n<pre><code>BS = 16\npad = lambda s: s + (BS - len(s) % BS) * chr(BS - len(s) % BS)\nunpad = lambda s : s[:-ord(s[len(s)-1:])]\n\nimport base64\nfrom Crypto.Cipher import AES\n\niv = '0123456789012345'\ndef encrypt(raw, key):\n    raw = pad(raw)\n    cipher = AES.new(key, AES.MODE_CBC, iv)\n    return base64.b64encode( cipher.encrypt( raw ) )\n\ndef decrypt(enc, key):\n    enc = base64.b64decode(enc)\n    cipher = AES.new(key, AES.MODE_CBC, iv)\n    return unpad(cipher.decrypt( enc ))\n\nenc_text = encrypt('Hello World!','xyz1234567890abc')\nprint decrypt(enc_text, 'xyz1234567890abc')\n</code></pre>\n\n<p>How can I make this faster? Maybe by using another AES mode (MODE_CBC?), or is there a faster padding function, a faster way of hex-converting the output?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 1, "creation_date": 1449097501, "post_id": 34054765, "comment_id": 55863796, "body": "What trouble are you facing?"}, {"owner": {"reputation": 8139, "user_id": 384803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a700a4a1ccb243dd47d0a155fd43a2a2?s=128&d=identicon&r=PG", "display_name": "Dmitry B.", "link": "https://stackoverflow.com/users/384803/dmitry-b"}, "edited": false, "score": 0, "creation_date": 1449097704, "post_id": 34054765, "comment_id": 55863883, "body": "you can&#39;t add anything to tuples because tuples are immutable.  Use a list instead."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "reply_to_user": {"reputation": 8139, "user_id": 384803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a700a4a1ccb243dd47d0a155fd43a2a2?s=128&d=identicon&r=PG", "display_name": "Dmitry B.", "link": "https://stackoverflow.com/users/384803/dmitry-b"}, "edited": false, "score": 0, "creation_date": 1449098070, "post_id": 34054765, "comment_id": 55864040, "body": "@DmitryBeransky that isn&#39;t true. It would not result in the same object being altered, but tuples support increments just as well as integers and strings."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1449098304, "post_id": 34054765, "comment_id": 55864122, "body": "@Ryan do you mean <code>datatuple += (subject, message, &#39;from@example.com&#39;, [to, ])</code>"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449098429, "post_id": 34054765, "comment_id": 55864181, "body": "@Ryan BTW, maybe the line <code>send_mass_mail(datatuple)</code> should be unindented and taken out of the loop"}, {"owner": {"reputation": 8139, "user_id": 384803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a700a4a1ccb243dd47d0a155fd43a2a2?s=128&d=identicon&r=PG", "display_name": "Dmitry B.", "link": "https://stackoverflow.com/users/384803/dmitry-b"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449099710, "post_id": 34054765, "comment_id": 55864650, "body": "@Pynchia: from Python docs: &quot;<a href=\"https://docs.python.org/2/tutorial/datastructures.html#tuples-and-sequences\" rel=\"nofollow noreferrer\">Tuples are immutable</a>&quot;.  They don&#39;t &quot;support increments&quot;, they support concatenation.  But every time you concatenate tuples, you get a new instance, which means you keep allocating memory on every concatenation.  If you need to extend a tuple, why not just use a list?"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449100643, "post_id": 34054765, "comment_id": 55864952, "body": "@Beransky yes I meant concatenation, the <code>+=</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2309, "user_id": 1341437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHSyS.jpg?s=128&g=1", "display_name": "craigts", "link": "https://stackoverflow.com/users/1341437/craigts"}, "is_accepted": false, "score": 1, "last_activity_date": 1449100822, "last_edit_date": 1449100822, "creation_date": 1449099109, "answer_id": 34055137, "question_id": 34054765, "link": "https://stackoverflow.com/questions/34054765/looping-through-to-create-a-tuple/34055137#34055137", "title": "Looping through to create a tuple", "body": "<p>Just a little bit of cleanup needed here:</p>\n\n<p>1) actually build the tuple in the loop (this is a bit tricky since you need the extra comma to ensure that a tuple is appended and not the values from the tuple)</p>\n\n<p>2) move the send_mass_mail call outside the loop</p>\n\n<p>This should be working code:</p>\n\n<pre><code>recipients = notification.objects.all().values_list('username','email')\n# this returns [(u'John', u'john@example.com'), (u'Jane', u'jane@example.com')]\ndatatuple = []\nfor recipient in recipients:    \n    to = recipient[1]               #access the email\n    subject = \"my big tuple loop\"\n    dear = recipient[0]              #access the name  \n    message = \"This concerns tuples!\"\n    #### add each recipient to datatuple\n    datatuple.append((subject, message, \"from@example.com\", [to,]),)\nsend_mass_mail(tuple(datatuple))\n</code></pre>\n\n<p>EDIT:\njpmc26's technique is definitely more efficient, and if you're planning to have a large email list to send to you should use that. Most likely you should use whichever code makes the most sense to you personally so that when your requirements change you can easily understand how to update.</p>\n"}, {"tags": [], "owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "is_accepted": true, "score": 4, "last_activity_date": 1449100285, "last_edit_date": 1449100285, "creation_date": 1449099630, "answer_id": 34055235, "question_id": 34054765, "link": "https://stackoverflow.com/questions/34054765/looping-through-to-create-a-tuple/34055235#34055235", "title": "Looping through to create a tuple", "body": "<p>If I understand correctly, this is pretty simple with a comprehension.</p>\n\n<pre><code>emails = [\n    (u'Subject', u'Message.', u'from@example.com', [address])\n    for name, address in recipients\n]\nsend_mass_mail(emails)\n</code></pre>\n\n<p>Note that we leverage Python's ability to unpack <code>tuple</code>s into a set of named variables. For each element of <code>recipients</code>, we assign its zeroth element to <code>name</code> and its first element to <code>address</code>. So in the first iteration, <code>name</code> is <code>u'John'</code> and <code>address</code> is <code>u'john@example.com'</code>.</p>\n\n<p>If you need to vary the <code>'Message.'</code> based on the name, you can use string formatting or any other formatting/templating mechanism of your choice to generate the message:</p>\n\n<pre><code>emails = [\n    (u'Subject', u'Dear {}, Message.'.format(name), u'from@example.com', [address])\n    for name, address in recipients\n]\n</code></pre>\n\n<p>Since the above are list comprehensions, they result in <code>emails</code> being a <code>list</code>. If you <em>really</em> need this to be a <code>tuple</code> instead of a <code>list</code>, that's easy, too:</p>\n\n<pre><code>emails = tuple(\n    (u'Subject', u'Message.', u'from@example.com', [address])\n    for name, address in recipients\n)\n</code></pre>\n\n<p>For this one, we're actually passing a generator object into the <code>tuple</code> constructor. This has the performance benefits of using a generator without the overhead of creating an intermediate <code>list</code>. You can do that pretty much anywhere in Python where an iterable argument is accepted.</p>\n"}], "owner": {"reputation": 397, "user_id": 3526101, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kWoO8.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3526101/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 34055235, "answer_count": 2, "score": 3, "last_activity_date": 1449100822, "creation_date": 1449097342, "last_edit_date": 1495539882, "question_id": 34054765, "link": "https://stackoverflow.com/questions/34054765/looping-through-to-create-a-tuple", "title": "Looping through to create a tuple", "body": "<p>I'm attempting to implement the mass mail send out.</p>\n\n<p>Here is the mass mail doc: <a href=\"https://docs.djangoproject.com/en/1.5/topics/email/#send-mass-mail\" rel=\"nofollow noreferrer\">Just a link to the Django Docs</a></p>\n\n<p>In order to achieve this I need create this tuple:</p>\n\n<pre><code>datatuple = (\n    ('Subject', 'Message.', 'from@example.com', ['john@example.com']),\n    ('Subject', 'Message.', 'from@example.com', ['jane@example.com']),\n)\n</code></pre>\n\n<p>I query the ORM for some recipients details. Then I would imagine there's some looping involved, each time adding another recipient to the tuple. All elements of the message are the same except for username and email.</p>\n\n<p>So far I have:</p>\n\n<pre><code>recipients = notification.objects.all().values_list('username','email')\n# this returns [(u'John', u'john@example.com'), (u'Jane', u'jane@example.com')]\nfor recipient in recipients:    \n     to = recipient[1]               #access the email\n     subject = \"my big tuple loop\"\n     dear = recipient[0]              #access the name  \n     message = \"This concerns tuples!\"\n     #### add each recipient to datatuple\n     send_mass_mail(datatuple)\n</code></pre>\n\n<p>I've been trying something along the lines of this : \n<a href=\"https://stackoverflow.com/questions/5453979/create-a-tuple-from-a-string-and-a-list-of-strings\">SO- tuple from a string and a list of strings</a></p>\n"}, {"tags": ["python", "django", "datetime", "pytz"], "answers": [{"comments": [{"owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "edited": false, "score": 0, "creation_date": 1449100558, "post_id": 34054919, "comment_id": 55864923, "body": "Perfect. +1 for the practical recommendations!"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 1, "last_activity_date": 1449101490, "last_edit_date": 1449101490, "creation_date": 1449098081, "answer_id": 34054919, "question_id": 34054754, "link": "https://stackoverflow.com/questions/34054754/django-python-dispelling-confusion-regarding-dates-and-timezone-awareness/34054919#34054919", "title": "Django/python - dispelling confusion regarding dates and timezone-awareness", "body": "<p><strong>Q1) This datetime object says that is 2015-12-02 - What is the generate_a_datetime function telling me? Is it saying that \"a man standing in eastern Canada looking at his calendar sees \"2015-12-02\"? OR does it mean \"This is \"2015-12-02 UTC\"... but don't forget to adjust this to the eastern-Canada timezone!\"</strong></p>\n\n<p>The first interpretation was correct.  The timezone-aware datetime is already \"adjusted\" for you, and the tzinfo just telling you which timezone it is specified in.  </p>\n\n<p><strong>Q2) What is the difference between <code>now_aware_with_django</code> and <code>now_aware_with_datetime</code>?</strong></p>\n\n<p>For the first case you are creating a datetime which represents the same point in time as the 'naive' one, and that's <em>assuming</em> the naive one was in your local timezone.  </p>\n\n<p>For the second case, you're saying that the naive one was already in the timezone you're providing, and then you just tack on the tzinfo.  </p>\n\n<p><strong>Q3) How do I know if I need to use <code>timezone.make_aware</code> or <code>datetime.replace?</code></strong></p>\n\n<p>Well, since they do different things, you need to know what you're trying to do to know which to use.  If you want to convert from a naive timezone (in your local time) into a different timezone, you can use <code>make_aware</code> for that.  If you <em>already know</em> the timezone of your naive datetime, you just use the replace (or look at <code>localize</code> in <code>pytz</code>, which is a bit more careful about this task).  </p>\n\n<p><em>Note:</em> usually if you have any naive datetimes hanging around in the first place, you are doing something wrong earlier on and you should catch that earlier on.  Try to get them tz aware at the boundary of your app - I'll say more about this in Q5.  </p>\n\n<p><strong>Q4) What is the difference between naive and UTC datetimes? It seems like they are exactly the same - neither imposing any transformation upon the actual time value.</strong></p>\n\n<p>A naive datetime is just a datetime which doesn't tell you what timezone it's in.  It's not necessarily UTC, it could be anything.  It's similar to bytestrings and unicode - you have to know what the encoding is to say what the decoded bytes are saying.  For a naive datetime, you have to know what timezone it's in before you can say what time it actually represents.  So in this sense, a UTC datetime provides more information than a naive datetime.  </p>\n\n<p>UTC is coordinated universal time, blame the French for the weird acronym.  Time zones are usually defined as differing from UTC by an integer number of hours, and for all practical purposes you can think of UTC as the timezone which differs from UTC by 0 hours.  And it's like GMT without any daylight savings nonsense.  </p>\n\n<p><strong>Q5) How do I know when I want to use naive times, and when I want to use UTC times?</strong></p>\n\n<p>There are differences of opinion on this.  My recommendation is to always work with everything in UTC inside your app (and only store UTC in the databases too!).  When any datetime data enters your app, however it enters your app, make sure it's correctly converted to UTC.  This also means that anywhere <em>inside</em> your app that uses <code>datetime.now()</code> (which is a naive datetime with the \"missing\" tzinfo which should be the local timezone of the machine) instead uses <code>datetime.utcnow()</code> (which is a naive datetime in UTC) or even better <code>datetime.now(tz=pytz.utc)</code> (which is timezone aware).  </p>\n\n<p>Only change into local timezone at the \"display\" end of your app.  You can usually do this with template tags, or even with clientside js.  </p>\n"}], "owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 1, "accepted_answer_id": 34054919, "answer_count": 1, "score": 5, "last_activity_date": 1449101490, "creation_date": 1449097287, "question_id": 34054754, "link": "https://stackoverflow.com/questions/34054754/django-python-dispelling-confusion-regarding-dates-and-timezone-awareness", "title": "Django/python - dispelling confusion regarding dates and timezone-awareness", "body": "<p>I've been working extensively with dates in python/django. In order to solve various use-cases I've been blindly trying a variety of different approaches until one of them worked, without learning the logic behind how the various functions work.</p>\n\n<p>Now it's crunch time. I'd like to ask a couple of questions regarding the intricacies of dates and timezones in django/python.</p>\n\n<p><strong>How do I interpret a <code>datetime</code> object that already has a timezone?</strong></p>\n\n<p>To clarify, let's say I do the following:</p>\n\n<pre><code>&gt;&gt;&gt; generate_a_datetime()\ndatetime.datetime(2015, 12, 2, 0, 0, tzinfo=&lt;DstTzInfo 'Canada/Eastern' LMT-1 day, 18:42:00 STD&gt;)\n&gt;&gt;&gt;\n</code></pre>\n\n<p>The console output seems ambiguous to me:</p>\n\n<p>Q1) This <code>datetime</code> object says that is <code>2015-12-02</code> - What is the <code>generate_a_datetime</code> function telling me? Is it saying that <em>\"a man standing in eastern Canada looking at his calendar sees \"2015-12-02\"</em>? OR does it mean <em>\"This is \"2015-12-02 UTC\"... but don't forget to adjust this to the eastern-Canada timezone!\"</em></p>\n\n<p><strong>django.utils.timezone.make_aware confuses me.</strong></p>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; from django.utils import timezone\n&gt;&gt;&gt; import pytz\n&gt;&gt;&gt; tz = pytz.timezone('Canada/Eastern')\n&gt;&gt;&gt; now_unaware = datetime.datetime.now()\n&gt;&gt;&gt; now_aware_with_django = timezone.make_aware(now_unaware, tz)\n&gt;&gt;&gt; now_aware_with_datetime = now_unaware.replace(tzinfo=tz)\n&gt;&gt;&gt; now_unaware\ndatetime.datetime(2015, 12, 2, 22, 1, 19, 564003)\n&gt;&gt;&gt; now_aware_with_django\ndatetime.datetime(2015, 12, 2, 22, 1, 19, 564003, tzinfo=&lt;DstTzInfo 'Canada/Eastern' EST-1 day, 19:00:00 STD&gt;)\n&gt;&gt;&gt; now_aware_with_datetime\ndatetime.datetime(2015, 12, 2, 22, 1, 19, 564003, tzinfo=&lt;DstTzInfo 'Canada/Eastern' LMT-1 day, 18:42:00 STD&gt;)\n&gt;&gt;&gt; \n</code></pre>\n\n<p>The objects <code>now_aware_with_django</code> and <code>now_aware_with_datetime</code> seem to behave similarly, but their console output suggests they are different.</p>\n\n<p>Q2) What is the difference between <code>now_aware_with_django</code> and <code>now_aware_with_datetime</code>?</p>\n\n<p>Q3) How do I know if I need to use <code>timezone.make_aware</code> or <code>datetime.replace</code>?</p>\n\n<p><strong>Naive datetimes vs. UTC datetimes</strong></p>\n\n<p><code>UTC</code> means there is no change to the time value. \"Naive\" seems to mean that the time has no timezone associated with it.</p>\n\n<p>Q4) What is the difference between naive and UTC datetimes? It seems like they are exactly the same - neither imposing any transformation upon the actual time value.</p>\n\n<p>Q5) How do I know when I want to use naive times, and when I want to use UTC times?</p>\n\n<p>If I could get an answer to all 5 questions that would be positively splendid. Thanks very much!</p>\n"}, {"tags": ["python", "xlwings"], "comments": [{"owner": {"reputation": 5157, "user_id": 918626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8c377a6e6f8a5a6910bb62f51c6f853?s=128&d=identicon&r=PG", "display_name": "Felix Zumstein", "link": "https://stackoverflow.com/users/918626/felix-zumstein"}, "edited": false, "score": 0, "creation_date": 1449137280, "post_id": 34054706, "comment_id": 55879278, "body": "I&#39;ve opened a feature request: <a href=\"https://github.com/ZoomerAnalytics/xlwings/issues/318\" rel=\"nofollow noreferrer\">github.com/ZoomerAnalytics/xlwings/issues/318</a>"}, {"owner": {"reputation": 107, "user_id": 3527381, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3cf2bf60982d0cfed8d7ba78f4aabd37?s=128&d=identicon&r=PG&f=1", "display_name": "JohnFayt", "link": "https://stackoverflow.com/users/3527381/johnfayt"}, "reply_to_user": {"reputation": 5157, "user_id": 918626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8c377a6e6f8a5a6910bb62f51c6f853?s=128&d=identicon&r=PG", "display_name": "Felix Zumstein", "link": "https://stackoverflow.com/users/918626/felix-zumstein"}, "edited": false, "score": 0, "creation_date": 1449148360, "post_id": 34054706, "comment_id": 55886829, "body": "@FelixZumstein Thank you. I wasn&#39;t sure if it was something I was missing."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3527381, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3cf2bf60982d0cfed8d7ba78f4aabd37?s=128&d=identicon&r=PG&f=1", "display_name": "JohnFayt", "link": "https://stackoverflow.com/users/3527381/johnfayt"}, "edited": false, "score": 0, "creation_date": 1449148476, "post_id": 34055142, "comment_id": 55886895, "body": "Thank you for this suggestion. Because this is not &quot;opening&quot; the file, does it mean that script should run faster? For example I am currently looping through a hundreds of files. In VBA this takes 15 minutes because it actually opens an instance of the excel file."}, {"owner": {"reputation": 916, "user_id": 4121965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed23d9f7bf180f9632e5f2de23264c4f?s=128&d=identicon&r=PG", "display_name": "fpes", "link": "https://stackoverflow.com/users/4121965/fpes"}, "reply_to_user": {"reputation": 107, "user_id": 3527381, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3cf2bf60982d0cfed8d7ba78f4aabd37?s=128&d=identicon&r=PG&f=1", "display_name": "JohnFayt", "link": "https://stackoverflow.com/users/3527381/johnfayt"}, "edited": false, "score": 0, "creation_date": 1449155734, "post_id": 34055142, "comment_id": 55892048, "body": "Yes - i recommend using openpyxl in this instance. it&#39;s doesnt require the operating system to spin up an excel instance every single time (which takes a long time). XLWings and VBA are usually used to &quot;remote control&quot; an excel instance but I would use it for reading and writing to excel files without the need to the &quot;remote controlling&quot; functionality."}, {"owner": {"reputation": 107, "user_id": 3527381, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3cf2bf60982d0cfed8d7ba78f4aabd37?s=128&d=identicon&r=PG&f=1", "display_name": "JohnFayt", "link": "https://stackoverflow.com/users/3527381/johnfayt"}, "edited": false, "score": 0, "creation_date": 1449203340, "post_id": 34055142, "comment_id": 55914806, "body": "Thanks for all the help. I have a follow up question, but I know it a bit out of scope for this. Do you know how I could run a frozen instance of an openpyxl script? It seems py2exe does not work with it."}, {"owner": {"reputation": 916, "user_id": 4121965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed23d9f7bf180f9632e5f2de23264c4f?s=128&d=identicon&r=PG", "display_name": "fpes", "link": "https://stackoverflow.com/users/4121965/fpes"}, "reply_to_user": {"reputation": 107, "user_id": 3527381, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3cf2bf60982d0cfed8d7ba78f4aabd37?s=128&d=identicon&r=PG&f=1", "display_name": "JohnFayt", "link": "https://stackoverflow.com/users/3527381/johnfayt"}, "edited": false, "score": 0, "creation_date": 1449238135, "post_id": 34055142, "comment_id": 55932394, "body": "I havent used py2exe too much nor have I needed to. When I need to distribute a script to others, I create a python virtual environment. Virtual envs are essentially portable isolated python instances. You can transport it to another machine and run it on that machine. I package it all up in a folder with a launch script (usually a two line .bat file in Windows) to run the python script using the virtual environment&#39;s python instance. It&#39;s a simpler and more generalized setup because p2exe and similar could have dependency issues with certain packages."}], "tags": [], "owner": {"reputation": 916, "user_id": 4121965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed23d9f7bf180f9632e5f2de23264c4f?s=128&d=identicon&r=PG", "display_name": "fpes", "link": "https://stackoverflow.com/users/4121965/fpes"}, "is_accepted": false, "score": 1, "last_activity_date": 1449099132, "creation_date": 1449099132, "answer_id": 34055142, "question_id": 34054706, "link": "https://stackoverflow.com/questions/34054706/opening-excelfiles-read-only-with-xlwings/34055142#34055142", "title": "Opening ExcelFiles Read-only with Xlwings", "body": "<p>What about making a copy of the file, reading that copy, then deleting that copy after? Alternatively, if you use openpyxl, you dont need to \"open\" the file since you  are reading the xml metadata of excel.</p>\n\n<pre><code>import openpyxl as xl\nworkbook = xl.load_workbook('path/to/file.xls')\nworksheet = workbook.get_sheet_by_name('worksheetname')\ncell = worksheet.cell('A1')\n</code></pre>\n\n<p>All these should work without needing to actually open the file.</p>\n"}], "owner": {"reputation": 107, "user_id": 3527381, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3cf2bf60982d0cfed8d7ba78f4aabd37?s=128&d=identicon&r=PG&f=1", "display_name": "JohnFayt", "link": "https://stackoverflow.com/users/3527381/johnfayt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449099132, "creation_date": 1449097044, "question_id": 34054706, "link": "https://stackoverflow.com/questions/34054706/opening-excelfiles-read-only-with-xlwings", "title": "Opening ExcelFiles Read-only with Xlwings", "body": "<p>I've started looking at xlwings for my excel manipulation as the power and speed of python is much different then VBA for what I am hoping to do. (or so I am told)</p>\n\n<p>Reading through some of the xlwings documentation I couldn't see if there was a way to open an excel file as read-only. Sometime the file I want to open and either open by another application or user, so I cannot access the file because it is trying to open as read-write. </p>\n\n<p>Is there a way with xlwings or another python library that I can open an file in read-only mode, read information from particular ranges, then close the file?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1449097286, "post_id": 34054686, "comment_id": 55863699, "body": "<a href=\"https://docs.python.org/3/reference/datamodel.html#object.__new__\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/datamodel.html#object.__new__</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1449097832, "post_id": 34054788, "comment_id": 55863938, "body": "@KarolyHorvath, OP acknowledged the questionable sense of the task. Of cause you should not do that in production. But if you only want to learn the meaning of <code>__new__</code>, then I guess the question is acceptable."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1449097943, "post_id": 34054788, "comment_id": 55863990, "body": "@KarolyHorvath why not? OP wants <code>TestClass(1)</code> to give a tuple of two objects of type <code>TestClass</code> whose attribute <code>param</code> is equal to <code>1</code>. It&#39;s bizarre, and nothing I&#39;d want to encounter in the wild, but it&#39;s a valid learning tool."}, {"owner": {"reputation": 191, "user_id": 5175389, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-bTgqtA8u02c/AAAAAAAAAAI/AAAAAAAAAGY/WIchQIQcNtk/photo.jpg?sz=128", "display_name": "monade", "link": "https://stackoverflow.com/users/5175389/monade"}, "edited": false, "score": 1, "creation_date": 1449098351, "post_id": 34054788, "comment_id": 55864144, "body": "Great, thanks! And obviously the example doesn&#39;t make sense, it was really only a proxy to learn about <code>__new__</code>."}], "tags": [], "owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "is_accepted": true, "score": 3, "last_activity_date": 1449098513, "last_edit_date": 1449098513, "creation_date": 1449097451, "answer_id": 34054788, "question_id": 34054686, "link": "https://stackoverflow.com/questions/34054686/cannot-create-new-object-instance-with-overriding-new/34054788#34054788", "title": "Cannot create new object instance with overriding __new__", "body": "<p>You are calling the first parameter to <code>__new__</code> <code>self</code>, but it is actually the class, commonly referred to as <code>cls</code>. So you are writing to the class, not the instances.</p>\n\n<p>To actually get two instances use:</p>\n\n<pre><code>class X(object):\n    def __new__(cls, param):\n        self1 = object.__new__(cls)\n        self1.__init__(param)\n        self2 = object.__new__(cls)\n        self2.__init__(param)\n        return self1, self2\n</code></pre>\n\n<p>You cannot use deepcopy, since it will invoke <code>X.__new__()</code> (without the <code>param</code> parameter), which will cause a loop.</p>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 5175389, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-bTgqtA8u02c/AAAAAAAAAAI/AAAAAAAAAGY/WIchQIQcNtk/photo.jpg?sz=128", "display_name": "monade", "link": "https://stackoverflow.com/users/5175389/monade"}, "edited": false, "score": 0, "creation_date": 1449098373, "post_id": 34054841, "comment_id": 55864156, "body": "Thanks, that helped me understand!"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 3, "last_activity_date": 1449097710, "creation_date": 1449097710, "answer_id": 34054841, "question_id": 34054686, "link": "https://stackoverflow.com/questions/34054686/cannot-create-new-object-instance-with-overriding-new/34054841#34054841", "title": "Cannot create new object instance with overriding __new__", "body": "<p>The specific problem that causes <code>param</code> to be shared class-wide is highlighted if you use the right parameters for <code>__new__</code>. As @Kay mentions in his answer, <code>__new__</code> accepts a class as the first argument, not an instance.</p>\n\n<pre><code>class Foo(object):\n    def __new__(cls, param):\n        cls.__init__(cls, param=param)\n</code></pre>\n\n<p>That's the error, because then it follows that <code>__init__</code> gets a class when it expects an instance.</p>\n\n<pre><code>def __init__(self, param):\n    # remember that `self` here is `Foo`! so...\n    self.param = param\n    # ...means Foo.param = param, setting it class-wide!\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 5175389, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-bTgqtA8u02c/AAAAAAAAAAI/AAAAAAAAAGY/WIchQIQcNtk/photo.jpg?sz=128", "display_name": "monade", "link": "https://stackoverflow.com/users/5175389/monade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 1, "accepted_answer_id": 34054788, "answer_count": 2, "score": 1, "last_activity_date": 1449098513, "creation_date": 1449096926, "last_edit_date": 1449098310, "question_id": 34054686, "link": "https://stackoverflow.com/questions/34054686/cannot-create-new-object-instance-with-overriding-new", "title": "Cannot create new object instance with overriding __new__", "body": "<p>I am trying to use Python's <code>__new__</code> in order to return something different than the actual object instance upon instantiating the class (whether that's clever or not is a different discussion). Below is a minimal example, in which I return a list of two class instances from <code>__new__</code>, instead of the actual class instance.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from copy import deepcopy\n\nclass TestClass:\n\n    def __new__(self, param=None):\n\n        self.__init__(self, param=param)\n\n        return [deepcopy(self), deepcopy(self)]\n\n    def __init__(self, param=None):\n        self.param = param\n\n\nif __name__ == '__main__':\n    a = TestClass(param=1)\n    b = TestClass(param=2)\n    print(a[0].param) #  prints 2!\n</code></pre>\n\n<p>However, it appears that I am not able to create actual object instances with this method, as can be seen in the minimal example. The <code>print</code> statement should print 1, but prints 2, meaning the parameters passed to the second invocation of <code>TestClass</code> overwrite the parameters of the first invocation. My guess is that <code>a</code> and <code>b</code> are references to the same <em>static</em> class TestClass, and my deepcopy isn't helping either, because it makes no sense for a static class.</p>\n\n<p>How do I have to tweak <code>__new__</code> and <code>__init__</code> of <code>TestClass</code> such that I'm actually creating new instances (i.e. the print statement should print 1, not 2)?</p>\n\n<p>(Python 3.5)</p>\n\n<p>edit/small clarification: I actually do not want TestClass to be static (if that's the correct lingo anyway), but my non-functional implementation seems to produce something like a static class.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Thanks to Kay, the following code works:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>class TestClass(object):\n\n    def __new__(cls, param):\n\n        instance1 = object.__new__(cls)\n        instance1.__init__(param)\n        instance2 = object.__new__(cls)\n        instance2.__init__(param)\n\n        return instance1, instance2\n\n    def __init__(self, param):\n        self.param = param\n</code></pre>\n"}, {"tags": ["python", "class", "python-3.x", "module", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1449103439, "post_id": 34054676, "comment_id": 55865778, "body": "Are you certain that the <code>windows</code> you are importing is the file you think it is? You can put <code>print(windows.__file__)</code> in your code to see what file is being imported."}, {"owner": {"reputation": 1149, "user_id": 5168028, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh4.googleusercontent.com/-nT_-2fs9ykY/AAAAAAAAAAI/AAAAAAAAABI/n9DanYw3AEk/photo.jpg?sz=128", "display_name": "Jonah Fleming", "link": "https://stackoverflow.com/users/5168028/jonah-fleming"}, "edited": false, "score": 0, "creation_date": 1449122121, "post_id": 34054676, "comment_id": 55871378, "body": "Why are you passing <code>self</code> to <code>calWin</code>?"}, {"owner": {"reputation": 21, "user_id": 5632483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP7Nh.png?s=128&g=1", "display_name": "PySheep", "link": "https://stackoverflow.com/users/5632483/pysheep"}, "edited": false, "score": 0, "creation_date": 1449135779, "post_id": 34054676, "comment_id": 55878212, "body": "Yes I&#39;m certain it&#39;s the same file because I tested it with windows.__doc__ and it printed the documentation I had on it. And I pass self to calWin because I&#39;m declaring calWin to be an instance of the tk.Frame() class, so the parent of any widgets I want in there is in fact just itself so I put self."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5632483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP7Nh.png?s=128&g=1", "display_name": "PySheep", "link": "https://stackoverflow.com/users/5632483/pysheep"}, "edited": false, "score": 0, "creation_date": 1449098131, "post_id": 34054844, "comment_id": 55864057, "body": "No, unfortunately not the problem :/ still the same error"}, {"owner": {"reputation": 4688, "user_id": 2012646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w8LGY.jpg?s=128&g=1", "display_name": "Bennett Brown", "link": "https://stackoverflow.com/users/2012646/bennett-brown"}, "reply_to_user": {"reputation": 21, "user_id": 5632483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP7Nh.png?s=128&g=1", "display_name": "PySheep", "link": "https://stackoverflow.com/users/5632483/pysheep"}, "edited": false, "score": 0, "creation_date": 1449112885, "post_id": 34054844, "comment_id": 55868487, "body": "The traceback makes it look like the line causing the error is the call  to the constructor, but the following line using the class itself as a key in your dict is suspicious. You&#39;ll never get a second key in that dict I think. Isolating the error to one of the two lines by commenting out, can you confirm which line causes the error?"}, {"owner": {"reputation": 21, "user_id": 5632483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP7Nh.png?s=128&g=1", "display_name": "PySheep", "link": "https://stackoverflow.com/users/5632483/pysheep"}, "edited": false, "score": 0, "creation_date": 1449138196, "post_id": 34054844, "comment_id": 55879856, "body": "I can confirm that it&#39;s the call to the constructor that is causing the error. When I comment out the following line I still get the same error and the same traceback :/ This is really weird"}], "tags": [], "owner": {"reputation": 4688, "user_id": 2012646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w8LGY.jpg?s=128&g=1", "display_name": "Bennett Brown", "link": "https://stackoverflow.com/users/2012646/bennett-brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1449097723, "creation_date": 1449097723, "answer_id": 34054844, "question_id": 34054676, "link": "https://stackoverflow.com/questions/34054676/attributeerror-module-object-has-no-attribute-calwin/34054844#34054844", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;calWin&#39;", "body": "<p>Since you do have <code>calWin</code> in <code>windows</code>, I'm guessing that your problem has to do with the bytecode already existing from an earlier import. The import statement first checks to see if the module has already been imported. If not, it then checks to see if the module has already been compiled. Try deleting the <code>windows.pyc</code> file. Or add <code>reload(windows)</code> after the <code>import windows</code> in your <code>main_frontend.py</code> file.  </p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5632483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP7Nh.png?s=128&g=1", "display_name": "PySheep", "link": "https://stackoverflow.com/users/5632483/pysheep"}, "is_accepted": false, "score": 0, "last_activity_date": 1449138999, "creation_date": 1449138999, "answer_id": 34063662, "question_id": 34054676, "link": "https://stackoverflow.com/questions/34054676/attributeerror-module-object-has-no-attribute-calwin/34063662#34063662", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;calWin&#39;", "body": "<p>Ok I just re-wrote everything in a separate directory and reinstalled Python and all seems to be working well, don't know what happened.</p>\n"}], "owner": {"reputation": 21, "user_id": 5632483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP7Nh.png?s=128&g=1", "display_name": "PySheep", "link": "https://stackoverflow.com/users/5632483/pysheep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1449138999, "creation_date": 1449096882, "question_id": 34054676, "link": "https://stackoverflow.com/questions/34054676/attributeerror-module-object-has-no-attribute-calwin", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;calWin&#39;", "body": "<p>I'm in the process of making a TKinter app, and have begun using classes to structure my code. I want to keep things readable by not having everything in the same file, but get this error when i run the code in main_frontend.py: AttributeError: 'module' object has no attribute 'calWin'\nHere's the code in main_frontend.py:</p>\n\n<pre><code>import windows\nimport tkinter as tk\nfrom tkinter import ttk\n\nclass app(tk.Tk):\n\n    def __init__(self, *args, **kwargs):\n        tk.Tk.__init__(self, *args, **kwargs)\n        container = tk.Frame(self)\n\n        container.pack(side=\"top\", fill=\"both\", expand = True)\n\n        container.grid_rowconfigure(0, weight=1)\n        container.grid_columnconfigure(0, weight=1)\n\n        self.frames = {}\n        frame = windows.calWin(container, self)\n        self.frames[windows.calWin] = frame\n        frame.grid(row=0, column=0, sticky=\"nsew\")\n\n        self.show_frame(windows.calWin)\n\n    def show_frame(self, cont):\n\n        frame = self.frames[cont]\n        frame.tkraise()\n\nwin = app()\nwin.mainloop()\n</code></pre>\n\n<p>Here is the code in windows.py:</p>\n\n<pre><code>import passing\nimport tkinter as tk\nfrom tkinter import ttk\n\nclass calWin(tk.Frame):\n\n    def __init__(self, *args, **kwargs):\n        tk.Frame.__init__(self, *args, **kwargs)\n        calVar = StringVar()\n        calEnt = Entry(self, textvariable=calVar)\n        calEnt.pack()\n        calBut = Button(self, text='Calculate', command=lambda: passing.calPass(calVar.get(), calEnt, calLabel))\n        calBut.pack()\n        calLabel = Label(self)\n        calLabel.pack()\n</code></pre>\n\n<p>And from passing.py:</p>\n\n<pre><code>import core\n\ndef calPass(gtin, calEnt, calLabel):\n    if gtinValidate(gtin, 7):\n        calLabel.configure(text='The Full GTIN Number Is '+core.calculate(gtin))\n        calEnt.delete(0, END)\n    else:\n        calLabel.configure(text='GTIN Invalid')\n</code></pre>\n\n<p>And from core.py:</p>\n\n<pre><code>def calculate(gtin):\n    '''\nCalculates the check digit of a GTIN-8 number\n    '''\n    x = (int(gtin[0])+int(gtin[2])+int(gtin[4])+int(gtin[6]))*3\n    x += int(gtin[1])+int(gtin[3])+int(gtin[5]) #Adds every other number in code\n    remainder = x%10 #Finds how far check digit is away from nearest multiple of ten\n    gtin = list(gtin)\n    if remainder != 0:\n        gtin.append(str(10-remainder))#Adds check digit to end of code if remainder is more than 0\n    else:\n        gtin.append('0')\n    return(''.join(gtin))\n</code></pre>\n\n<p>And here is a detail of the error that I get when I run the code from main_frontend.py:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"H:\\PythonCode\\Stock Control Task\\Organised GTIN TKinter GUI Project\\main_frontend.py\", line 33, in &lt;module&gt;\n    win = app()\n  File \"H:\\PythonCode\\Stock Control Task\\Organised GTIN TKinter GUI Project\\main_frontend.py\", line 22, in __init__\n    frame = windows.calWin(container, self)\nAttributeError: 'module' object has no attribute 'calWin'\n</code></pre>\n\n<p>Help?</p>\n"}, {"tags": ["python", "list", "object", "tkinter", "python-3.4"], "comments": [{"owner": {"reputation": 4694, "user_id": 4367228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bdee64eedba21c13b7017601c566d05?s=128&d=identicon&r=PG&f=1", "display_name": "MrAlexBailey", "link": "https://stackoverflow.com/users/4367228/mralexbailey"}, "edited": false, "score": 0, "creation_date": 1449097192, "post_id": 34054619, "comment_id": 55863668, "body": "You never add anything into the list <code>GUIobjects</code>.   Also, you&#39;re going to want to bind the action of removing them to a button, otherwise you&#39;ll need to both pack and remove them before calling <code>mainloop()</code> in which case you would never see any of it happening.  Finally you can access widgets after making them through methods like <code>pack_slaves()</code> on their parent."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1449103510, "post_id": 34054619, "comment_id": 55865799, "body": "&quot;delete&quot; and &quot;degrid&quot; are two different things. Do you want to delete the objects entirely, or just temporarily remove them from view?"}], "answers": [{"tags": [], "owner": {"reputation": 4688, "user_id": 2012646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w8LGY.jpg?s=128&g=1", "display_name": "Bennett Brown", "link": "https://stackoverflow.com/users/2012646/bennett-brown"}, "is_accepted": true, "score": 2, "last_activity_date": 1449111830, "last_edit_date": 1449111830, "creation_date": 1449097240, "answer_id": 34054745, "question_id": 34054619, "link": "https://stackoverflow.com/questions/34054619/how-to-delete-or-de-grid-tkinter-gui-objects-stored-in-a-list-python/34054745#34054745", "title": "How to delete (or de-grid) Tkinter GUI objects stored in a list (Python)", "body": "<p>You need to store references to each object. Create an empty list and append the reference to the list inside your loop. </p>\n\n<pre><code>self.radioButtons = []\nfor x in range(2, randInt):\n        self.radioButtons.append(Radiobutton(self, text = \"Button\", variable = self.RadVar, value = x))\n        self.radioButtons[-1].grid(row = x) # layout the most recent one\n</code></pre>\n\n<p>They won't be garbage collected unless you delete the reference as well.</p>\n\n<pre><code>for button in self.radioButtons:\n    button.grid_forget()\ndel self.radioButtons\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 5508701, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/8hz3X.png?s=128&g=1", "display_name": "zbalda", "link": "https://stackoverflow.com/users/5508701/zbalda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 34054745, "answer_count": 1, "score": 1, "last_activity_date": 1449111830, "creation_date": 1449096653, "question_id": 34054619, "link": "https://stackoverflow.com/questions/34054619/how-to-delete-or-de-grid-tkinter-gui-objects-stored-in-a-list-python", "title": "How to delete (or de-grid) Tkinter GUI objects stored in a list (Python)", "body": "<p>I'm trying to make a program that creates some random amount of GUI objects in Tkinter and stores them in a list. Here (in the code below) I have a for loop that creates a random amount of radio buttons. Each time a radio button object is created it is stored in the list 'GUIobjects'. I do this because otherwise I have no way of accessing the GUI objects later on. What I need to know, now, is how to delete or de-grid the objects. </p>\n\n<p>I have tried self.radioButton.grid_forget(), but this only de-grids the last object created. I'm not sure of there's a way to access each object in the list and use .grid_forget(). If there is, that would be an option.</p>\n\n<p>For now all I need to know is how to delete or de-grid the GUI objects after I create all of them.</p>\n\n<pre><code>from tkinter import *\nimport random\n\nclass App(Tk):\n    def __init__(self):\n        Tk.__init__(self)\n        self.addButton()\n\n    def addButton(self)\n        GUIobjects = []\n\n        randInt = random.randint(3, 10)\n        self.radVar = IntVar()\n        for x in range(2, randInt):\n            self.radioButton = Radiobutton(self, text = \"Button\", variable = self.RadVar, value = x)\n            self.radioButton.grid(row = x)\n\n    print(GUIobjects)\n    # This is to show that one more object has been created than appears on the screen\n\n    self.radioButton.grid_forget()\n    # This de-grid's the last object created, but I need to de-grid all of them\n\ndef main():\n    a = App()\n    a.mainloop()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>As of right now, I try to de-grid the objects right after creating all of them. Once I find out how to de-grid each object, I will somehow need to make a button that de-grid's them (as compared to de-griding them right after they have been created). This button should be able to be put in a method other than 'addButtons' but still in the 'App' class.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "string", "csv", "nonetype"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 3, "creation_date": 1449096710, "post_id": 34054598, "comment_id": 55863487, "body": "please read <a href=\"http://stackoverflow.com/help/mcve\">this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449097684, "post_id": 34054738, "comment_id": 55863873, "body": "this may be the right answer, but I am not sure it would work, given <code>The list is the passed to a function which requires all values within the list to be in int() format.</code>"}], "tags": [], "owner": {"reputation": 417, "user_id": 3882998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/p4eXi.png?s=128&g=1", "display_name": "p014k", "link": "https://stackoverflow.com/users/3882998/p014k"}, "is_accepted": false, "score": 0, "last_activity_date": 1449097209, "creation_date": 1449097209, "answer_id": 34054738, "question_id": 34054598, "link": "https://stackoverflow.com/questions/34054598/dealing-with-strings-amidst-int-in-csv-file-none-value/34054738#34054738", "title": "Dealing with strings amidst int in csv file, None value", "body": "<p>Without seeing your code, I can only offer limited help.</p>\n\n<p>It sounds like you need to utilize <a href=\"https://docs.python.org/2/library/ast.html?highlight=literal_eval#ast.literal_eval\" rel=\"nofollow\">ast.literal_eval()</a>.</p>\n\n<pre><code>import ast\n\ncsvread = csv.reader(file)\nlist = []\nfor row in csvread:\n    list.append(ast.literal_eval(row[0]))\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1449125651, "creation_date": 1449096537, "last_edit_date": 1449125651, "question_id": 34054598, "link": "https://stackoverflow.com/questions/34054598/dealing-with-strings-amidst-int-in-csv-file-none-value", "title": "Dealing with strings amidst int in csv file, None value", "body": "<p>I'm reading in data from a csv file where some of the values are \"None\". The values that are being read in are then contained in a list.</p>\n\n<p>The list is the passed to a function which requires all values within the list to be in int() format.</p>\n\n<p>However I can't apply this with the \"None\" string value being present.  I've tried replacing the \"None\" with None, or with \"\" but that hasn't worked, it results in an error. The data in the list also needs to stay in the same position so I cant just completely ignore it all together.</p>\n\n<p>I could replace all \"None\" with 0 but None != 0 really.</p>\n\n<p>EDIT: I've added my code so hopefully it'll make a bit more sense. Trying to create a line chart from data in csv file:</p>\n\n<pre><code>import csv\nimport sys\nfrom collections import Counter\nimport pygal\nfrom pygal.style import LightSolarizedStyle\nfrom operator import itemgetter\n\n#Read in file to data variable and set header variable\nfilename = sys.argv[1]\ndata = []\nwith open(filename) as f:\n    reader = csv.reader(f)\n    header = reader.next()\n    data = [row for row in reader]\n\n#count rows in spreadsheet (minus header)\nrow_count = (sum(1 for row in data))-1\n\n#extract headers which I want to use\nheaderlist = []\nfor x in header[1:]:    \n    headerlist.append(x)\n\n#initialise line chart in module pygal. set style, title, and x axis labels using headerlist variable   \nline_chart = pygal.Line(style = LightSolarizedStyle)\nline_chart.title = 'Browser usage evolution (in %)'\nline_chart.x_labels = map(str, headerlist)\n\n#create lists for data from spreadsheet to be put in to\nempty1 = []\nempty2 = []\n\n#select which data i want from spreadsheet\nfor dataline in data:\n    empty1.append(dataline[0])\n    empty2.append(dataline[1:-1])\n\n#DO SOMETHING TO \"NONE\" VALUES IN EMPTY TWO SO THEY CAN BE PASSED TO INT CONVERTER ASSIGNED TO EMPTY 3\n\n#convert all items in the lists, that are in the list of empty two to int\nempty3 = [[int(x) for x in sublist] for sublist in empty2]\n\n#add data to chart line by line\ncount = -1\nfor dataline in data:\n    while count &lt; row_count:\n        count += 1\n        line_chart.add(empty1[count], [x for x in empty3[count]])\n\n#function that only takes int data\nline_chart.render_to_file(\"browser.svg\")\n</code></pre>\n\n<p>There will be a lot of inefficiencies or weird ways of doing things, trying to slowly learn.</p>\n\n<p>The above script gives chart:<a href=\"https://i.stack.imgur.com/uOm7A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uOm7A.png\" alt=\"Browser Use %\"></a></p>\n\n<p>With all the Nones set as 0, bu this doesn't really reflect the existence of Chrome pre a certain date. Thanks</p>\n"}, {"tags": ["python", "math", "logarithm", "natural-logarithm"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 3620580, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68949c8809fad42587b5dcb58f7e570d?s=128&d=identicon&r=PG&f=1", "display_name": "bngschmnd", "link": "https://stackoverflow.com/users/3620580/bngschmnd"}, "edited": false, "score": 0, "creation_date": 1449096687, "post_id": 34054541, "comment_id": 55863475, "body": "sorry, i edited my question. what is when math.log() is used instead of math.log10 ?"}, {"owner": {"reputation": 5530, "user_id": 1245262, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83503cef6b0550864d3a1c9ca5d87701?s=128&d=identicon&r=PG", "display_name": "user1245262", "link": "https://stackoverflow.com/users/1245262/user1245262"}, "reply_to_user": {"reputation": 111, "user_id": 3620580, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68949c8809fad42587b5dcb58f7e570d?s=128&d=identicon&r=PG&f=1", "display_name": "bngschmnd", "link": "https://stackoverflow.com/users/3620580/bngschmnd"}, "edited": false, "score": 1, "creation_date": 1449096934, "post_id": 34054541, "comment_id": 55863562, "body": "@bngschmnd - math.log uses base e, instead of base 10. So, math.exp() is the inverse of math.log()"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 2, "last_activity_date": 1449096184, "creation_date": 1449096184, "answer_id": 34054541, "question_id": 34054491, "link": "https://stackoverflow.com/questions/34054491/using-math-logvar-in-python/34054541#34054541", "title": "using math.log(var) in python", "body": "<pre><code>a = math.log10(0.0000000000001)\nb = 10 ** a\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "is_accepted": false, "score": 0, "last_activity_date": 1449098501, "creation_date": 1449098501, "answer_id": 34055019, "question_id": 34054491, "link": "https://stackoverflow.com/questions/34054491/using-math-logvar-in-python/34055019#34055019", "title": "using math.log(var) in python", "body": "<p><a href=\"https://docs.python.org/2/library/math.html#math.log\" rel=\"nofollow\">math.log()</a> takes two parameter, a number and a base. Default value is <a href=\"https://en.wikipedia.org/wiki/E_(mathematical_constant)\" rel=\"nofollow\">e (mathematical constant)</a>, a special constant which tends to 2.71828.</p>\n\n<p>You can get the number by evaluating <strong><em>base to the power log_value</em></strong> </p>\n\n<pre><code>&gt;&gt;&gt; a = math.log(10)\n&gt;&gt;&gt; a\n2.302585092994046\n&gt;&gt;&gt; 2.71828**a\n9.999984511610785\n</code></pre>\n\n<p>If I would take <code>e</code>'s value with higher precision, I can get the result close to 10. </p>\n\n<p>Or, you can use <a href=\"https://docs.python.org/2/library/math.html#math.exp\" rel=\"nofollow\">math.exp()</a></p>\n\n<pre><code>&gt;&gt;&gt;math.exp(a)\n10.000000000000002\n</code></pre>\n\n<p>You can also use <a href=\"https://docs.python.org/2/library/math.html#math.pow\" rel=\"nofollow\">math.pow()</a></p>\n\n<pre><code>&gt;&gt;&gt; math.pow(2.71828,a)\n9.999984511610785\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 3620580, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68949c8809fad42587b5dcb58f7e570d?s=128&d=identicon&r=PG&f=1", "display_name": "bngschmnd", "link": "https://stackoverflow.com/users/3620580/bngschmnd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449098501, "creation_date": 1449095970, "last_edit_date": 1449097460, "question_id": 34054491, "link": "https://stackoverflow.com/questions/34054491/using-math-logvar-in-python", "title": "using math.log(var) in python", "body": "<p>I think if I'd know the math behind it I might have figured it out by myself.</p>\n\n<p>When I call <code>math.log10(0.0000000000001)</code> I get <code>-13</code>. But how do I convert this back into <code>0.0000000000001</code>? and how i'd handle it when using <code>math.log(0.0000000000001)</code>?</p>\n\n<p>Both ways, the fundamental, arithmetic one and the one using a built-in python function would interest me.</p>\n"}, {"tags": ["python", "pandas", "group-by"], "answers": [{"tags": [], "owner": {"reputation": 916, "user_id": 4121965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed23d9f7bf180f9632e5f2de23264c4f?s=128&d=identicon&r=PG", "display_name": "fpes", "link": "https://stackoverflow.com/users/4121965/fpes"}, "is_accepted": true, "score": 1, "last_activity_date": 1449096322, "creation_date": 1449096322, "answer_id": 34054559, "question_id": 34054447, "link": "https://stackoverflow.com/questions/34054447/pandas-not-able-to-groupby-every-field-in-a-csv/34054559#34054559", "title": "Pandas not able to groupby every field in a csv", "body": "<p>Type <code>df.columns</code> to see the names of your columns. I suspect that your column named 'Vge' isnt actually named 'Vge'.</p>\n\n<p>If so:</p>\n\n<pre><code>df.columns = ['Hour', 'L',  'Dr', 'Tag', 'Code',   'Vge']\ngb = df.groupby('Vge')\nprint(gb)\n</code></pre>\n"}], "owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 34054559, "answer_count": 1, "score": 0, "last_activity_date": 1449096322, "creation_date": 1449095785, "question_id": 34054447, "link": "https://stackoverflow.com/questions/34054447/pandas-not-able-to-groupby-every-field-in-a-csv", "title": "Pandas not able to groupby every field in a csv", "body": "<p>I have the following csv file </p>\n\n<pre><code>Hour, L,  Dr, Tag, Code,   Vge\n 0,   L5, XI, PS,  4R,     15\n 5,   L5, XI, PS,  4R,     12\n 2,   L0, St, v2T, 4R,     11\n 8,   L2, TI, sst, 4R,     8\n 12,  L5, XI, PS,  4R,     18\n</code></pre>\n\n<p>I am using the following python code.The idea is to wrap my head around pandas groupby concept.</p>\n\n<pre><code># !/usr/bin/env python3.4\n# -*- coding: utf-8 -*-\n\nimport pandas as pd\nimport pprint\n\ndf = pd.read_csv('in.csv')\ngb = df.groupby('Hour')\npprint.pprint(list(gb))\n</code></pre>\n\n<p>This is the output that I get.</p>\n\n<pre><code> [(0,\n      Hour      L    Dr  Tag  Code   Vge\n0      0        L5   XI   PS    4R   15),\n (2,\n     Hour       L    Dr   Tag  Code     Vge\n2     2         L0   St   v2T    4R     11),\n (5,\n     Hour       L    Dr  Tag  Code      Vge\n1     5         L5   XI   PS    4R      12),\n (8,\n     Hour       L    Dr   Tag  Code      Vge\n3     8         L2   TI   sst    4R      8),\n (12,\n     Hour       L    Dr   Tag  Code     Vge\n4    12         L5   XI   PS    4R      18)]\n</code></pre>\n\n<p>The above output makes sense. However if I do <code>gb = df.groupby('Vge')</code> instead of  <code>gb = df.groupby('Hour')</code> in the above code, I get the following error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Test/python/concepts/pandas/test_pandas.py\", line 12, in &lt;module&gt;\n    gb = df.groupby('Vge')\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\generic.py\", line 3324, in groupby\n    sort=sort, group_keys=group_keys, squeeze=squeeze)\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\groupby.py\", line 1252, in groupby\n    return klass(obj, by, **kwds)\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\groupby.py\", line 416, in __init__\n    level=level, sort=sort)\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\groupby.py\", line 2166, in _get_grouper\n    in_axis, name, gpr = True, gpr, obj[gpr]\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\frame.py\", line 1914, in __getitem__\n    return self._getitem_column(key)\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\frame.py\", line 1921, in _getitem_column\n    return self._get_item_cache(key)\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\generic.py\", line 1090, in _get_item_cache\n    values = self._data.get(item)\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\internals.py\", line 3102, in get\n    loc = self.items.get_loc(item)\n  File \"C:\\Python34\\lib\\site-packages\\pandas\\core\\index.py\", line 1692, in get_loc\n    return self._engine.get_loc(_values_from_object(key))\n  File \"pandas\\index.pyx\", line 137, in pandas.index.IndexEngine.get_loc (pandas\\index.c:3979)\n  File \"pandas\\index.pyx\", line 157, in pandas.index.IndexEngine.get_loc (pandas\\index.c:3843)\n  File \"pandas\\hashtable.pyx\", line 668, in pandas.hashtable.PyObjectHashTable.get_item (pandas\\hashtable.c:12265)\n  File \"pandas\\hashtable.pyx\", line 676, in pandas.hashtable.PyObjectHashTable.get_item (pandas\\hashtable.c:12216)\nKeyError: 'Vge'\n</code></pre>\n\n<p>Can someone explain why this is happening?</p>\n"}, {"tags": ["python", "user-interface", "button", "colors", "pygtk"], "answers": [{"tags": [], "owner": {"reputation": 533, "user_id": 4018826, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/3a32039e0f8d29e606f0ee3020268d5a?s=128&d=identicon&r=PG&f=1", "display_name": "evolution", "link": "https://stackoverflow.com/users/4018826/evolution"}, "is_accepted": false, "score": 0, "last_activity_date": 1449256016, "creation_date": 1449256016, "answer_id": 34095693, "question_id": 34054444, "link": "https://stackoverflow.com/questions/34054444/how-to-change-pygtk-gtk-button-color-properly/34095693#34095693", "title": "How to change pygtk gtk.Button color PROPERLY", "body": "<p>I ended up implementing my own Button by using a <code>gtk.EventBox</code> which holds a <code>gtk.Label</code> inside of its widget tree. Unlike with buttons, setting label color seems not to conflict with the operating system.</p>\n\n<p>I also implemented a couple of convenience functions such as <code>set_label()</code></p>\n\n<p><code>modify_bg</code> is still too slow, but it doesn't lead to crashes. By checking if current color is the same as the one I want to set, I also saved a lot of computation time for buttons that don't change.</p>\n\n<p>My code is very sketchy but it works for my purposes. Feel free to make it more robust and/or flexible:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uLBHB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uLBHB.png\" alt=\"my colored button\"></a></p>\n\n<pre><code>import gtk\n\nclass ColoredButton(gtk.EventBox):\n    '''\n    This class implements a simple unanimated button \n    whose color can be changed\n    '''\n\n    def __init__(self, widget = gtk.Label()):\n        '''\n        widget must be a gtk.Label\n        this is not checked in this simple version\n        '''\n\n        #initialize superclass EventBox\n        super(ColoredButton, self).__init__()\n\n        #embed widget inside vbox and hbox \n        self.widget = widget \n        self.vbox = gtk.VBox(homogeneous=False, spacing=0) \n        self.hbox = gtk.HBox(homogeneous=False, spacing=0)\n        self.hbox.pack_start(self.vbox, expand = True, fill=False)\n        self.vbox.pack_start(self.widget, expand = True, fill = False)\n\n        #draws a frame around the entire construct to make everything look more like a button\n        self.frame = gtk.Frame()\n        self.frame.add(self.hbox)\n\n        #add the final \"button\" to this EventBox in order to handle events\n        self.add(self.frame)\n\n        #define which events should be reacted to, those constants can be found in pygtk docs\n        self.add_events(gtk.gdk.BUTTON_RELEASE_MASK)\n        self.add_events(gtk.gdk.BUTTON_PRESS_MASK)\n        self.add_events(gtk.gdk.ENTER_NOTIFY_MASK)\n        self.add_events(gtk.gdk.LEAVE_NOTIFY_MASK)\n\n        #activate focus\n        self.set_can_focus(True)\n\n        #align the \"button\" text in the middle of the box\n        self.widget.set_alignment(xalign=0.5, yalign=0.5)\n\n    def show(self):\n        super(ColoredButton, self).show()\n        self.hbox.show()\n        self.vbox.show()\n        self.frame.show()\n        self.widget.show()\n\n    def set_label(self, label):\n        self.set_text(label)\n\n    def set_text(self, text):\n        self.widget.set_text(text)\n\n    def changeColor(self, color, state = gtk.STATE_NORMAL):\n        if color is not None:\n            currentcolor = self.style.bg[state]\n            #too lazy to look up in docs if color != currentcolor also works\n            if color.red != currentcolor.red or color.green != currentcolor.green or color.blue != currentcolor.blue:\n                self.modify_bg(state, color)\n\n    def changeTextColor(self, color, state = gtk.STATE_NORMAL):   \n        if color is not None:\n            currentcolor = self.style.bg[state]\n            if color.red != currentcolor.red or color.green != currentcolor.green or color.blue != currentcolor.blue:\n                self.widget.modify_fg(gtk.STATE_NORMAL, color)\n\ndef onButtonClick(widget, event = None):\n    if event.button == 1:\n        widget.set_label(\"left click\")\n    elif event.button == 2:\n        widget.set_label(\"middle click\")\n    elif event.button == 3:\n        widget.set_label(\"right click\")\n\nimport gtk\n\nw = gtk.Window()\nw.connect('destroy', gtk.main_quit)\n\ncoloredbutton=ColoredButton(widget = gtk.Label(\"Hello there\"))\ncoloredbutton.changeColor(gtk.gdk.color_parse(\"black\"))\ncoloredbutton.changeTextColor(gtk.gdk.color_parse(\"yellow\"))\ncoloredbutton.set_size_request(width = 100, height = 50)\ncoloredbutton.connect(\"button-release-event\", onButtonClick)\n\nw.add(coloredbutton)\n\nw.show_all()\ngtk.main()\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 4018826, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/3a32039e0f8d29e606f0ee3020268d5a?s=128&d=identicon&r=PG&f=1", "display_name": "evolution", "link": "https://stackoverflow.com/users/4018826/evolution"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2155, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1453303283, "creation_date": 1449095777, "last_edit_date": 1449149790, "question_id": 34054444, "link": "https://stackoverflow.com/questions/34054444/how-to-change-pygtk-gtk-button-color-properly", "title": "How to change pygtk gtk.Button color PROPERLY", "body": "<p>In my application, I have about 500 buttons which all update their labels and colors when specific actions are taken. I was running into crashes and performance issues when I noticed (by using cProfile and pdb) that the problem was caused by changing the button color:</p>\n\n<pre><code>self.button.modify_bg(gtk.STATE_PRELIGHT, color)\nself.button.modify_bg(gtk.STATE_NORMAL, color)\n</code></pre>\n\n<p>500 calls like this need an eternity of 5 seconds (which also freezes GUI) and it gets even slower the longer the application runs. In case someone wonders, I have a powerful processor and lots of free memory.</p>\n\n<p>Previously I was trying to use EventBox as recommended in the <a href=\"http://faq.pygtk.org/index.py?req=edit&amp;file=faq04.016.htp\" rel=\"nofollow noreferrer\">docs</a>. However this only changes the color behind the button, not on its surface:</p>\n\n<pre><code>import gtk\n\nwin = gtk.Window()\nwin.connect(\"destroy\", gtk.main_quit)\n\nbtn = gtk.Button(\"test\")\neb = gtk.EventBox()\neb.add(btn)\neb.modify_bg(gtk.STATE_NORMAL, gtk.gdk.color_parse(\"red\"))\n\nwin.add(eb)\nwin.show_all()\n\ngtk.main()\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2UzO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2UzO0.png\" alt=\"button is not red\"></a></p>\n\n<p>I also tried the alternative which involves retrieving and modifying the the style. This led to the same slowness as with <code>modify_bg</code>. In addition I also got random crashes at random places, usually with low level memory allocation errors such as double freeing from gtk.</p>\n\n<pre><code>import gtk\n\nwin = gtk.Window()\nwin.connect(\"destroy\", gtk.main_quit)\n\nbtn = gtk.Button(\"test\")\n#copy the current style and replace the background\nstyle = btn.get_style().copy()\nstyle.bg[gtk.STATE_NORMAL] = gtk.gdk.color_parse(\"red\")\n\n#set the button's style to the one you created\nbtn.set_style(style)\n\nwin.add(btn)\nwin.show_all()\n\ngtk.main()\n</code></pre>\n\n<p>It seems that the color of the button is managed by the operating system and I can't find a way around it without slowness, crashes or undesired results. I badly need to convey by color important information about the button.</p>\n\n<p>So how do I change the button color properly?</p>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449096534, "post_id": 34054412, "comment_id": 55863422, "body": "what value does the <code>mail_to_user</code> field have? You can check by performing the query in the python shell (e.g. <code>.&#47;manage shell</code>) or via a db-browser (e.g. phpmyadmin or phppgadmin). If it&#39;s empty, as the value set by default, you aren&#39;t going to see anyhting"}, {"owner": {"reputation": 593, "user_id": 1039860, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/619d6ab8d433a1aa6c3b04e48f293050?s=128&d=identicon&r=PG", "display_name": "jordanthompson", "link": "https://stackoverflow.com/users/1039860/jordanthompson"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449096742, "post_id": 34054412, "comment_id": 55863500, "body": "I would think that if the field was empty, the value would be empty.  Anyway, the field has data in it."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449097073, "post_id": 34054412, "comment_id": 55863622, "body": "I am sorry, I am sleeping almost. You are iterating on the <code>__dict__</code> dictionary. That allows you to print its keys, which are the names of the instance attributes, not their value. In case you want to print both their name and value you need to iterate on <code>config.__dict__.items()</code>"}, {"owner": {"reputation": 593, "user_id": 1039860, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/619d6ab8d433a1aa6c3b04e48f293050?s=128&d=identicon&r=PG", "display_name": "jordanthompson", "link": "https://stackoverflow.com/users/1039860/jordanthompson"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449097649, "post_id": 34054412, "comment_id": 55863859, "body": "As I mentioned before, mail_to_user is <b>not</b> printed out in the list of keys, so adding printout for its value would be pointless."}], "owner": {"reputation": 593, "user_id": 1039860, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/619d6ab8d433a1aa6c3b04e48f293050?s=128&d=identicon&r=PG", "display_name": "jordanthompson", "link": "https://stackoverflow.com/users/1039860/jordanthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547042877, "creation_date": 1449095593, "last_edit_date": 1449682311, "question_id": 34054412, "link": "https://stackoverflow.com/questions/34054412/field-missing-in-django-model", "title": "Field missing in Django model?", "body": "<p>Here is my model:</p>\n\n<pre><code>class SystemConfiguration(models.Model):\n  idSystemConfiguration = models.AutoField(primary_key=True)\n  mail_movement_subject = models.CharField(max_length=50, default=\"Movement Triggered\")\n  mail_snapped_subject  = models.CharField(max_length=50, default=\"Image Snapped\")\n  mail_carbon_subject   = models.CharField(max_length=50, default=\"Carbon Monoxide Triggered\")\n  mail_door_subject     = models.CharField(max_length=50, default=\"Door Activity Triggered\")\n  door1_name            = models.CharField(max_length=20, default=\"Garage Door\")\n  door2_name            = models.CharField(max_length=20, default=\"Garage Door 2\")\n  door3_name            = models.CharField(max_length=20, default=\"Garage Door 3\")\n  metric                = models.BooleanField()\n  mail_temp_subject     = models.CharField(max_length=50, default=\"Temperature Triggered\")\n  min_temp              = models.DecimalField(decimal_places=1,max_digits=4)\n  max_temp              = models.DecimalField(decimal_places=1,max_digits=4)\n  mail_humidity_subject = models.CharField(max_length=50, default=\"Humidity Triggered\")\n  mail_to_user          = models.CharField(max_length=50, default=\"\")\n  min_humidity          = models.DecimalField(decimal_places=1,max_digits=3)\n  max_humidity          = models.DecimalField(decimal_places=1,max_digits=3)\n\n  def setDefaults(self):\n    print \"Creating SystemConfig...\"\n    self.mail_movement_subject = \"Movement Triggered\"\n    self.mail_snapped_subject  = \"Image Snapped\"\n    self.mail_carbon_subject   = \"Carbon Monoxide Triggered\"\n    self.mail_door_subject     = \"Door Activity Triggered\"\n    self.door1_name            = \"Garage Door\"\n    self.door2_name            = \"Garage Door 2\"\n    self.door3_name            = \"Garage Door 3\"\n    self.metric                = False\n    self.mail_temp_subject     = \"Temperature Triggered\"\n    self.min_temp              = 28\n    self.max_temp              = 100\n    self.mail_humidity_subject = \"Humidity Triggered\"\n    self.min_humidity          = 40\n    self.max_humidity          = 50\n    self.mail_to_user          = \"\"\n    self.save()\n\n  def __str__(self):\n    return \"SystemConfiguration:\" + str(self.idSystemConfiguration) \\\n      + \",mail_movement_subject:\" + str(self.mail_movement_subject) \\\n      + \",mail_snapped_subject:\" + str(self.mail_snapped_subject) \\\n      + \",mail_carbon_subject:\" + str(self.mail_carbon_subject) \\\n      + \",mail_door_subject:\" + str(self.mail_door_subject) \\\n      + \",Door1Name:\" + str(self.door1_name) \\\n      + \",Door2Name:\" + str(self.door2_name) \\\n      + \",Door3Name:\" + str(self.door3_name) \\\n      + \",Metric:\" + str(self.metric) \\\n      + \",mail_temp_subject:\" + str(self.mail_temp_subject) \\\n      + \",minTemp:\" + str(self.min_temp) \\\n      + \",maxTemp:\" + str(self.max_temp) \\\n      + \",mail_humidity_subject:\" + str(self.mail_humidity_subject) \\\n      + \",minHumid:\" + str(self.min_humidity) \\\n      + \",maxHumid:\" + str(self.max_humidity) \\\n      + \",mail_to_user:\" + str(self.mail_to_user) \\\n      + \",wan_port:\" + str(self.wan_port) \\\n      + \",wan_video_port:\" + str(self.wan_video_port) \\\n      + \"\\n\"\n</code></pre>\n\n<p>Here is where I am trying to access it (note that I am running a script outside of django, and hence the sys.path.apend(...) and os.environ[...] shenanigans:</p>\n\n<pre><code>import sys\nimport os\nsys.path.append(os.path.abspath(\"/home/pi/garageMonitor/django/garageMonitor\"))\nos.environ['DJANGO_SETTINGS_MODULE'] = 'garageMonitor.settings'\nfrom garageMonitor.models import SystemConfiguration\n\ndef handleMailFile(file):\n    config = SystemConfiguration.objects.filter(idSystemConfiguration=1)\n    config = config[0]\n    for x in config.__dict__:\n      print x\n    print len(config.__dict__)\n</code></pre>\n\n<p>Here is the results of the run:</p>\n\n<pre><code>mail_snapped_subject\nmail_humidity_subject\nmail_carbon_subject\nmax_humidity \ndoor2_name \nmax_temp\n_state \nidSystemConfiguration\nmin_humidity \nmail_door_subject \nmin_temp \ndoor3_name \nmail_temp_subject \nmail_movement_subject \nmetric \ndoor1_name \n16\n</code></pre>\n\n<p>Note that <strong>all</strong> of the fields <strong>except</strong> mail_to_user are printed in the for loop!  I checked the database and sure enough, the mail_to_user field is there with the correct length and type.</p>\n\n<p>Any suggestions would be most appreciated.</p>\n\n<p>I tried adding another field identical to one that was actually working (changed the name.) Django created the field in the database, but it did not show up in the list of <strong>dict</strong> elements either?!?</p>\n\n<p>I added another column in the database with django code and re-ran the setup.  The coded added the column (with the default value), but still when I run the following:</p>\n\n<pre><code>import sys\nimport os\n\nsys.path.append(os.path.abspath(\"/home/pi/garageMonitor/django/garageMonitor\"))\nos.environ['DJANGO_SETTINGS_MODULE'] = 'garageMonitor.settings'\nfrom garageMonitor.models import SystemConfiguration\nconfig = SystemConfiguration.objects.filter(idSystemConfiguration=1)\nconfig = config[0]\nfor x in config.__dict__:\n  print x\n\nprint len(config.__dict__)\n</code></pre>\n\n<p>I only get 16 entries in the <strong>dict</strong> object and the new column is not there.  I removed all .pyc files thinking there may be some artifact laying around, but that did not help either.</p>\n\n<p>So, I tried another approach.  I created a new model (Jordan) by copying the original one and added it to the models.py file.  I ran the setup code.  It created the table correctly in the database, but when I tried to access the model, I get the following error:</p>\n\n<pre><code>ImportError: cannot import name Jordan\n</code></pre>\n\n<p>Arrrgggghhhhh!!!!!</p>\n\n<p>tried moving to another directory (django) and ran the following:</p>\n\n<pre><code>python...\nimport os\nos.environ['DJANGO_SETTINGS_MODULE'] = 'garageMonitor.settings'\nfrom garageMonitor.models import Jordan\nconfig = Jordan.objects.filter(idSystemConfiguration=1)\nconfig = config[0]\nfor x in config.__dict__:\n  print x\n</code></pre>\n\n<p>And here is my output:</p>\n\n<pre><code>_known_related_objects\n_sticky_filter\n_db\n_result_cache\n_prefetch_done\n_for_write\nquery\nmodel\n_prefetch_related_lookups\n_hints\n</code></pre>\n\n<p>(not remotely like what the database table looks like!)</p>\n"}, {"tags": ["python", "numpy", "pandas"], "comments": [{"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1449096640, "post_id": 34054394, "comment_id": 55863465, "body": "Unfortunately, it looks like groups grouped by <code>nan</code> are excluded (see <code>print grouped.groups</code>).  Also see this question: <a href=\"https://stackoverflow.com/questions/18429491/groupby-columns-with-nan-missing-values\" title=\"groupby columns with nan missing values\">stackoverflow.com/questions/18429491/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4823, "user_id": 2521469, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4Imv8.jpg?s=128&g=1", "display_name": "Hillary Sanders", "link": "https://stackoverflow.com/users/2521469/hillary-sanders"}, "edited": false, "score": 0, "creation_date": 1449098799, "post_id": 34054733, "comment_id": 55864312, "body": "Thanks. So, not possibly without dummy variables."}], "tags": [], "owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "is_accepted": true, "score": 1, "last_activity_date": 1449097192, "creation_date": 1449097192, "answer_id": 34054733, "question_id": 34054394, "link": "https://stackoverflow.com/questions/34054394/ensuring-groupby-output-type/34054733#34054733", "title": "Ensuring groupby output type", "body": "<p>The pandas docs explain this here:  <a href=\"http://pandas.pydata.org/pandas-docs/stable/missing_data.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/missing_data.html</a></p>\n\n<p>NAN's are excluded this is consistent with R.  </p>\n\n<p>Earlier versions of Pandas did include them but they have since been removed.</p>\n"}], "owner": {"reputation": 4823, "user_id": 2521469, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4Imv8.jpg?s=128&g=1", "display_name": "Hillary Sanders", "link": "https://stackoverflow.com/users/2521469/hillary-sanders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 34054733, "answer_count": 1, "score": 4, "last_activity_date": 1449097192, "creation_date": 1449095537, "last_edit_date": 1449096012, "question_id": 34054394, "link": "https://stackoverflow.com/questions/34054394/ensuring-groupby-output-type", "title": "Ensuring groupby output type", "body": "<p>Consider this example:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfoo = pd.DataFrame(dict(letter=['a', 'a', 'a', 'b', 'b', 'b', 'a', 'b'],\n                 number=[1,1,2,2,3,np.nan, np.nan,4]))\ngrouped = foo.groupby(foo.number)\nprint grouped['letter'].transform(lambda x: sum(x=='a'))\n\nOut[18]: \n0    2\n1    2\n2    1\n3    1\n4    0\n5    b\n6    a\n7    0\n</code></pre>\n\n<p>Instead of showing <code>1</code> on rows <code>5</code> and <code>6</code>, <code>'a'</code>, and <code>'b'</code> are shown, presumably because the groupby was indexed on a <code>np.nan</code> value. Is there any way to stop this from happening, without replacing <code>nan</code> values with some dummy variable? Also - why does this happen?</p>\n"}, {"tags": ["python", "tkinter", "ide", "pycharm", "ttk"], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 4967393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/54f05f2b1001f0f6923c0039b848f687?s=128&d=identicon&r=PG&f=1", "display_name": "Logical Nonsense", "link": "https://stackoverflow.com/users/4967393/logical-nonsense"}, "edited": false, "score": 0, "creation_date": 1449135838, "post_id": 34058694, "comment_id": 55878245, "body": "I&#39;m ready to except your answer. I just need you to verify one thing, does Eclipse with Pydev have code hinting for ttk options?"}, {"owner": {"reputation": 1149, "user_id": 5168028, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh4.googleusercontent.com/-nT_-2fs9ykY/AAAAAAAAAAI/AAAAAAAAABI/n9DanYw3AEk/photo.jpg?sz=128", "display_name": "Jonah Fleming", "link": "https://stackoverflow.com/users/5168028/jonah-fleming"}, "reply_to_user": {"reputation": 185, "user_id": 4967393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/54f05f2b1001f0f6923c0039b848f687?s=128&d=identicon&r=PG&f=1", "display_name": "Logical Nonsense", "link": "https://stackoverflow.com/users/4967393/logical-nonsense"}, "edited": false, "score": 0, "creation_date": 1449177115, "post_id": 34058694, "comment_id": 55905739, "body": "@Mark Yes it does. Anything you import has hints."}], "tags": [], "owner": {"reputation": 1149, "user_id": 5168028, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh4.googleusercontent.com/-nT_-2fs9ykY/AAAAAAAAAAI/AAAAAAAAABI/n9DanYw3AEk/photo.jpg?sz=128", "display_name": "Jonah Fleming", "link": "https://stackoverflow.com/users/5168028/jonah-fleming"}, "is_accepted": true, "score": 1, "last_activity_date": 1449121391, "creation_date": 1449121391, "answer_id": 34058694, "question_id": 34054390, "link": "https://stackoverflow.com/questions/34054390/pycharm-python-tkinter-code-hinting-for-ttk-options/34058694#34058694", "title": "Pycharm Python tkinter Code hinting for ttk options", "body": "<p><a href=\"https://eclipse.org/home/index.php\" rel=\"nofollow\">Eclipse</a> with <a href=\"https://www.ics.uci.edu/~pattis/common/handouts/pythoneclipsejava/eclipsepython.html\" rel=\"nofollow\">Pydev</a> does the job well.</p>\n"}], "owner": {"reputation": 185, "user_id": 4967393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/54f05f2b1001f0f6923c0039b848f687?s=128&d=identicon&r=PG&f=1", "display_name": "Logical Nonsense", "link": "https://stackoverflow.com/users/4967393/logical-nonsense"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 34058694, "answer_count": 1, "score": 1, "last_activity_date": 1449121391, "creation_date": 1449095520, "question_id": 34054390, "link": "https://stackoverflow.com/questions/34054390/pycharm-python-tkinter-code-hinting-for-ttk-options", "title": "Pycharm Python tkinter Code hinting for ttk options", "body": "<p>so I realized in pycharm there is no code hinting for ttk object options. Does any one know of a plugin or settings in pycharm that will provide code hinting for tkinter object options?</p>\n\n<p>If not do you know of an IDE that does this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "luigi"], "comments": [{"owner": {"reputation": 3192, "user_id": 4667484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4971faccfbc4ecb4ccdc276b292f59?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Haley", "link": "https://stackoverflow.com/users/4667484/charlie-haley"}, "edited": false, "score": 0, "creation_date": 1449168902, "post_id": 34054340, "comment_id": 55901051, "body": "So the us module works when used without luigi, but it fails (import error) when used inside of luigi?  Or is the us module not being found at all?"}, {"owner": {"reputation": 1693, "user_id": 4487457, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0ZObm.jpg?s=128&g=1", "display_name": "Minh Mai", "link": "https://stackoverflow.com/users/4487457/minh-mai"}, "reply_to_user": {"reputation": 3192, "user_id": 4667484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4971faccfbc4ecb4ccdc276b292f59?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Haley", "link": "https://stackoverflow.com/users/4667484/charlie-haley"}, "edited": false, "score": 0, "creation_date": 1449169006, "post_id": 34054340, "comment_id": 55901113, "body": "Yes it is the former. When I try importing <code>us</code> inside a standalone python shell, it&#39;ll work. But for some reason luigi doesn&#39;t seem to recognize the module when importing."}, {"owner": {"reputation": 3192, "user_id": 4667484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4971faccfbc4ecb4ccdc276b292f59?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Haley", "link": "https://stackoverflow.com/users/4667484/charlie-haley"}, "edited": false, "score": 0, "creation_date": 1449169075, "post_id": 34054340, "comment_id": 55901153, "body": "How are you importing it when using luigi? How are you running your luigi pipeline?"}, {"owner": {"reputation": 5400, "user_id": 3219121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3b3decf3a49e94f49172034f5df598?s=128&d=identicon&r=PG", "display_name": "matagus", "link": "https://stackoverflow.com/users/3219121/matagus"}, "edited": false, "score": 0, "creation_date": 1449241574, "post_id": 34054340, "comment_id": 55934794, "body": "it would be nice to see your task and how you are running it"}], "owner": {"reputation": 1693, "user_id": 4487457, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0ZObm.jpg?s=128&g=1", "display_name": "Minh Mai", "link": "https://stackoverflow.com/users/4487457/minh-mai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 933, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1449095303, "creation_date": 1449095303, "last_edit_date": 1495541243, "question_id": 34054340, "link": "https://stackoverflow.com/questions/34054340/cannot-import-python-module-that-is-installed-for-a-luigi-task", "title": "Cannot Import Python Module that is Installed (for a Luigi Task)", "body": "<p>I've taken a look at all forums on SO regarding this error like <a href=\"https://stackoverflow.com/questions/14295680/cannot-import-a-python-module-that-is-definitely-installed-mechanize\">this</a> but I cannot seem to resolve my issue.</p>\n\n<p>I'm trying to import the <code>us</code> module but I kept getting the same import error when running a Luigi task: <code>ImportError: No module named us</code></p>\n\n<p>I've tried to force install it with <code>pip install us \u2014ignore-installed</code> as well as uninstalling it and reinstalling it. </p>\n\n<p>Below is the output of <code>pip show us</code></p>\n\n<pre><code> pip show us\n---\nMetadata-Version: 2.0\nName: us\nVersion: 0.9.1\nSummary: US state meta information and other fun stuff\nHome-page: https://github.com/unitedstates/python-us\nAuthor: Jeremy Carbaugh\nAuthor-email: jcarbaugh@sunlightfoundation.com\nLicense: BSD\nLocation: /usr/local/lib/python2.7/site-packages\nRequires: jellyfish\n</code></pre>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["python", "xml-parsing", "elementtree"], "comments": [{"owner": {"reputation": 1074, "user_id": 4322803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eU3Y7.jpg?s=128&g=1", "display_name": "Quantumplate", "link": "https://stackoverflow.com/users/4322803/quantumplate"}, "edited": false, "score": 1, "creation_date": 1449096236, "post_id": 34054322, "comment_id": 55863300, "body": "Try printing out the name of the node (rather than text) for each child and then for each children to make sure you are in the right place in the tree."}, {"owner": {"reputation": 348, "user_id": 5575002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/086339ede4060eca5dd047c30e79cd76?s=128&d=identicon&r=PG&f=1", "display_name": "Julia_arch", "link": "https://stackoverflow.com/users/5575002/julia-arch"}, "reply_to_user": {"reputation": 1074, "user_id": 4322803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eU3Y7.jpg?s=128&g=1", "display_name": "Quantumplate", "link": "https://stackoverflow.com/users/4322803/quantumplate"}, "edited": false, "score": 0, "creation_date": 1449110017, "post_id": 34054322, "comment_id": 55867678, "body": "Quantumplate, you were right, I was in the wrong place, I fixed the placement, however, I had some weird results, I was able to retrieve data from 6 records out of 10, then I got an error. Even the data I was able to retrieve was missing the book title. I updated my post above."}, {"owner": {"reputation": 1074, "user_id": 4322803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eU3Y7.jpg?s=128&g=1", "display_name": "Quantumplate", "link": "https://stackoverflow.com/users/4322803/quantumplate"}, "edited": false, "score": 0, "creation_date": 1449110469, "post_id": 34054322, "comment_id": 55867820, "body": "Looks like you are getting None when there is a collection (e.g. list, titles nodes is an example).  You&#39;ll need to access the child nodes for these to get the text."}], "answers": [{"tags": [], "owner": {"reputation": 1074, "user_id": 4322803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eU3Y7.jpg?s=128&g=1", "display_name": "Quantumplate", "link": "https://stackoverflow.com/users/4322803/quantumplate"}, "is_accepted": true, "score": 1, "last_activity_date": 1449111290, "creation_date": 1449111290, "answer_id": 34057042, "question_id": 34054322, "link": "https://stackoverflow.com/questions/34054322/why-my-xml-parsing-code-isnt-working-python/34057042#34057042", "title": "Why my XML parsing code isn&#39;t working (Python)", "body": "<p>A common issue with retrieving data from an XML file is that you're not on the node you think you are.</p>\n\n<p>So confirm your assumptions.  Print the node name (rather than the text) to confirm which nodes you're on.</p>\n\n<p>If you're having issues with a particular record then simplify your problem, reduce your XML file to just that record and test (print the nodes again).  It's possible there is something different in that XML that is causing your code not to work (it's malformed, or it has a different structure or different data).</p>\n\n<p>One issue that you are having above is that...</p>\n\n<p>print (children.text)</p>\n\n<p>will print nothing if the node is a parent (and has no text).  An example of this is TITLES tag.  This tag has no text, just a child node.  The child node has the text.  As such you need to navigate to the child node to access the text in TITLE.</p>\n"}], "owner": {"reputation": 348, "user_id": 5575002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/086339ede4060eca5dd047c30e79cd76?s=128&d=identicon&r=PG&f=1", "display_name": "Julia_arch", "link": "https://stackoverflow.com/users/5575002/julia-arch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 34057042, "answer_count": 1, "score": 0, "last_activity_date": 1592642395, "creation_date": 1449095220, "last_edit_date": 1592642395, "question_id": 34054322, "link": "https://stackoverflow.com/questions/34054322/why-my-xml-parsing-code-isnt-working-python", "title": "Why my XML parsing code isn&#39;t working (Python)", "body": "<p>Below is a partial part of an XML file I'm trying to retrieve information from, I get a result that has the word \"None\" 10 times (I have only 10 records in my XML file). I'm not sure what the problem is... </p>\n\n<p>I have copied the code at the end of this post.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xml&gt;\n    &lt;records&gt;\n        &lt;record&gt;\n            &lt;database name=\"My Collection.enl\" path=\"My Collection.enl\"&gt;My Collection.enl&lt;/database&gt;\n            &lt;ref-type name=\"Book\"&gt;1&lt;/ref-type&gt;\n            &lt;contributors&gt;\n                &lt;authors&gt;\n                    &lt;author&gt;AIA Research Corporation&lt;/author&gt;\n                &lt;/authors&gt;\n            &lt;/contributors&gt;\n            &lt;titles&gt;\n                &lt;title&gt;Regional guidelines for building passive energy conserving homes&lt;/title&gt;\n            &lt;/titles&gt;\n            &lt;periodical/&gt;\n            &lt;keywords/&gt;\n            &lt;dates&gt;\n                &lt;year&gt;1978&lt;/year&gt;\n            &lt;/dates&gt;\n            &lt;publisher&gt;Dept. of Housing and Urban Development, Office of Policy Development and Research : for sale by the Supt. of Docs., U.S. Govt. Print. Off.&lt;/publisher&gt;\n            &lt;urls/&gt;\n            &lt;label&gt;Energy;Green Buildings;High Performance Buildings&lt;/label&gt;\n        &lt;/record&gt;\n        &lt;record&gt;\n            &lt;database name=\"My Collection.enl\" path=\"My Collection.enl\"&gt;My Collection.enl&lt;/database&gt;\n            &lt;ref-type name=\"Book\"&gt;1&lt;/ref-type&gt;\n            &lt;contributors&gt;\n                &lt;authors&gt;\n                    &lt;author&gt;Akinci, Burcu&lt;/author&gt;\n                    &lt;author&gt;Ph, D&lt;/author&gt;\n                &lt;/authors&gt;\n            &lt;/contributors&gt;\n            &lt;titles&gt;\n                &lt;title&gt;Computing in Civil Engineering&lt;/title&gt;\n            &lt;/titles&gt;\n            &lt;periodical/&gt;\n            &lt;pages&gt;692-699&lt;/pages&gt;\n            &lt;keywords/&gt;\n            &lt;dates&gt;\n                &lt;year&gt;2007&lt;/year&gt;\n            &lt;/dates&gt;\n            &lt;publisher&gt;American Society of Civil Engineers&lt;/publisher&gt;\n            &lt;isbn&gt;9780784409374&lt;/isbn&gt;\n            &lt;electronic-resource-num&gt;ISBN 978-0-7844-1302-9&lt;/electronic-resource-num&gt;\n            &lt;urls&gt;\n                &lt;web-urls&gt;\n                    &lt;url&gt;http://books.google.com/books?id=QigBgc-qgdoC&lt;/url&gt;\n                &lt;/web-urls&gt;\n            &lt;/urls&gt;\n            &lt;label&gt;Computing&lt;/label&gt;\n        &lt;/record&gt;\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\ntree =ET.parse('My_Collection.xml')\nroot = tree.getroot()\nfor child in root:\n    for children in child:\n        print (children.text)\n\n    print(\"\\n\")\n</code></pre>\n\n<p>Update, I fixed my code, but I got this strange error message, also some of the records are missing the book title, below is the updated code and the results. </p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\ntree =ET.parse('My_Collection.xml')\nroot = tree.getroot()\n\nfor child in root:\n    for children in child:\n        for books in children:\n            print (books.text)\n        print ('\\n')\n</code></pre>\n\n<p>Here is the result:</p>\n\n<pre><code>My Collection.enl\n1\nNone\nNone\nNone\nNone\nNone\nDept. of Housing and Urban Development, Office of Policy Development and Research : for sale by the Supt. of Docs., U.S. Govt. Print. Off.\nNone\nEnergy;Green Buildings;High Performance Buildings\n\nMy Collection.enl\n1\nNone\nNone\nNone\n692-699\nNone\nNone\nAmerican Society of Civil Engineers\n9780784409374\nISBN 978-0-7844-1302-9\nNone\nComputing\n\n\nMy Collection.enl\n0\nNone\nNone\nNone\n291-314\n4\n4\nNone\nNone\nNone\nComputing;Design;Green Buildings\n\n\nMy Collection.enl\n0\nNone\nNone\nNone\n1847-1870\n3\n9\nNone\nNone\n10.3390/rs3091847\nNone\nInfrared;Laser scanning\n\n\nMy Collection.enl\n0\nNone\nNone\nNone\nNr. 15\n15\nNone\nNone\nISSN~~1435-618X\nISSN 1435-618X\nNone\nOutdoor Thermal Comfort;Urban Desgin\nTraceback (most recent call last):\n  File \"Mend_lib_Xml_Excel.py\", line 9, in &lt;module&gt;\n    print (books.text)\n  File \"C:\\Python27\\lib\\encodings\\cp437.py\", line 12, in encode\n    return codecs.charmap_encode(input,errors,encoding_map)\nUnicodeEncodeError: 'charmap' codec can't encode character u'\\ufffd' in position 679: character maps to &lt;undefined&gt;\n\nC:\\Users\\Rania\\Google Drive\\Rania's Documents\\EDX and Coursera\\Python_Michigan\\Course1&gt;\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "amazon-s3", "boto3"], "answers": [{"tags": [], "owner": {"reputation": 10887, "user_id": 5314382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aj9Lv.jpg?s=128&g=1", "display_name": "Jordon Phillips", "link": "https://stackoverflow.com/users/5314382/jordon-phillips"}, "is_accepted": true, "score": 1, "last_activity_date": 1449168331, "creation_date": 1449168331, "answer_id": 34073794, "question_id": 34054318, "link": "https://stackoverflow.com/questions/34054318/what-does-max-io-queue-setting-in-boto3-s3-transfer-config-do/34073794#34073794", "title": "What does &quot;max_io_queue&quot; setting in boto3.s3.transfer.config do?", "body": "<p>The queue synchronizes the file writes. A given thread can push any number of writes onto the queue without blocking until the queue reaches its max size. At that point, a call to <code>put</code> will block the thread until there is space remaining. If we didn't have a size limit on the queue, somebody with a fast connection and slow drive could eat up all their memory with future writes.</p>\n"}], "owner": {"reputation": 1375, "user_id": 2492089, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/728d4c5e01edc7375d0ef0bd8fd125ba?s=128&d=identicon&r=PG", "display_name": "ChromeHearts", "link": "https://stackoverflow.com/users/2492089/chromehearts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 34073794, "answer_count": 1, "score": 0, "last_activity_date": 1449168331, "creation_date": 1449095208, "question_id": 34054318, "link": "https://stackoverflow.com/questions/34054318/what-does-max-io-queue-setting-in-boto3-s3-transfer-config-do", "title": "What does &quot;max_io_queue&quot; setting in boto3.s3.transfer.config do?", "body": "<p>In the TransferConfig, what will increasing or decreasing max_io_queue do with boto3.transfer.download_file()??</p>\n\n<p>I tried to look into source code.  It seems to relate to the queue size in  the MultipartDownloader.  If max_concurrency is fixed, I don't see how this max_io_queue would have any effect as long as max_io_queue > max_currency.  Please correct me if I am wrong.</p>\n\n<pre><code> class TransferConfig(object):\n    def __init__(self,\n                 multipart_threshold=8 * MB,\n                 max_concurrency=10,\n                 multipart_chunksize=8 * MB,\n                 num_download_attempts=5,\n                 max_io_queue=100):\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-3.5"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 5, "creation_date": 1449095331, "post_id": 34054315, "comment_id": 55862880, "body": "<code>tweets</code> is probably a generator that can only be used once."}, {"owner": {"reputation": 660, "user_id": 3436849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce5fa21a24148385c45e637d3706ef40?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3436849/david"}, "edited": false, "score": 0, "creation_date": 1449098487, "post_id": 34054315, "comment_id": 55864207, "body": "Can we see some more code for context?"}, {"owner": {"reputation": 2495, "user_id": 429567, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6e20136c746757c9dfcfe5a726ff02de?s=128&d=identicon&r=PG", "display_name": "Nathan", "link": "https://stackoverflow.com/users/429567/nathan"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1449098953, "post_id": 34054315, "comment_id": 55864360, "body": "Ahhh, thanks @PaulH, went back and fixed my <b>next</b> to reset at the end and problem solved."}], "answers": [{"tags": [], "owner": {"reputation": 2495, "user_id": 429567, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6e20136c746757c9dfcfe5a726ff02de?s=128&d=identicon&r=PG", "display_name": "Nathan", "link": "https://stackoverflow.com/users/429567/nathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1449161808, "creation_date": 1449161808, "answer_id": 34071815, "question_id": 34054315, "link": "https://stackoverflow.com/questions/34054315/iterating-over-dict-and-values-dont-always-print/34071815#34071815", "title": "Iterating over dict and values don&#39;t always print", "body": "<p>The problem, for anyone that happens to have a similar issue, was that in my __next__ function in my Tweet class I wasn't resetting the iterator. So after iterating over the object once, the position was at the end of the list and was never being put back at the beginning.</p>\n"}], "owner": {"reputation": 2495, "user_id": 429567, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6e20136c746757c9dfcfe5a726ff02de?s=128&d=identicon&r=PG", "display_name": "Nathan", "link": "https://stackoverflow.com/users/429567/nathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449161808, "creation_date": 1449095204, "question_id": 34054315, "link": "https://stackoverflow.com/questions/34054315/iterating-over-dict-and-values-dont-always-print", "title": "Iterating over dict and values don&#39;t always print", "body": "<p>I'm having a really strange issue here that I can't figure out. The first time the following code executes, it works as you would expect, cities and countries are printed correctly. Every time after that, nothing is printed.</p>\n\n<pre><code>for tweet in tweets:\n    city = tweet['city']\n    country = tweet['country']\n    print(\"{}, {}\".format(city, country))\n</code></pre>\n\n<p>If I just print the entire dict, I can see that city and country ARE in there and they have values. I do have some worker threads in the background that update the city and country, but I can't figure out why that would affect it, if it is.</p>\n"}, {"tags": ["python", "pandas", "group-by"], "answers": [{"tags": [], "owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "is_accepted": true, "score": 3, "last_activity_date": 1449095297, "creation_date": 1449095297, "answer_id": 34054336, "question_id": 34054314, "link": "https://stackoverflow.com/questions/34054314/analysing-pandas-groupby-output/34054336#34054336", "title": "analysing pandas groupby output", "body": "<p>The 0,1,2,3,4 is the Pandas dataframe internal index</p>\n"}], "owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 34054336, "answer_count": 1, "score": 0, "last_activity_date": 1449095297, "creation_date": 1449095199, "question_id": 34054314, "link": "https://stackoverflow.com/questions/34054314/analysing-pandas-groupby-output", "title": "analysing pandas groupby output", "body": "<p>I have the following csv file </p>\n\n<pre><code>Hour, L,  Dr, Tag, Code,   Vge\n 0,   L5, XI, PS,  4R,     15\n 5,   L5, XI, PS,  4R,     12\n 2,   L0, St, v2T, 4R,     11\n 8,   L2, TI, sst, 4R,     8\n 12,  L5, XI, PS,  4R,     18\n</code></pre>\n\n<p>I am using the following python code.The idea is to wrap my head around pandas groupby concept.</p>\n\n<pre><code># !/usr/bin/env python3.4\n# -*- coding: utf-8 -*-\n\nimport pandas as pd\nimport pprint\n\ndf = pd.read_csv('in.csv')\ngb = df.groupby('Hour')\npprint.pprint(list(gb))\n</code></pre>\n\n<p>This is the output that I get.</p>\n\n<pre><code> [(0,\n      Hour      L    Dr  Tag  Code   Vge\n0      0        L5   XI   PS    4R   15),\n (2,\n     Hour       L    Dr   Tag  Code     Vge\n2     2         L0   St   v2T    4R     11),\n (5,\n     Hour       L    Dr  Tag  Code      Vge\n1     5         L5   XI   PS    4R      12),\n (8,\n     Hour       L    Dr   Tag  Code      Vge\n3     8         L2   TI   sst    4R      8),\n (12,\n     Hour       L    Dr   Tag  Code     Vge\n4    12         L5   XI   PS    4R      18)]\n</code></pre>\n\n<p>The <code>groupby</code> seems to have inserted <code>0,1,2,3,4</code>. It would be great if someone can explain what is happening in the data structure.</p>\n"}, {"tags": ["python", "excel", "openpyxl"], "answers": [{"tags": [], "owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "is_accepted": false, "score": 4, "last_activity_date": 1449165463, "last_edit_date": 1449165463, "creation_date": 1449130185, "answer_id": 34060751, "question_id": 34054272, "link": "https://stackoverflow.com/questions/34054272/openpyxl-optimizing-cells-search-speed/34060751#34060751", "title": "Openpyxl optimizing cells search speed", "body": "<p>Looping over a worksheet multiple times is inefficient. The reason for the search getting progressively slower looks to be increasingly more memory being used in each loop. This is because <code>last_row = FindXlCell(\"Cell[0,0]\", last_row)</code> means that the next search will create new cells at the end of the rows: openpyxl creates cells on demand because rows can be technically empty but cells in them are still addressable. At the end of your script the worksheet has a total of 598000 rows but you always start searching from <code>A1</code>.</p>\n\n<p>If you wish to search a large file for text multiple times then it would probably make sense to create a matrix keyed by the text with the coordinates being the value.</p>\n\n<p>Something like:</p>\n\n<pre><code>matrix = {}\nfor row in ws:\n    for cell in row:\n         matrix[cell.value] = (cell.row, cell.col_idx)\n</code></pre>\n\n<p>In a real-world example you'd probably want to use a <code>defaultdict</code> to be able to handle multiple cells with the same text.</p>\n\n<p>This could be combined with read-only mode for a minimal memory footprint. Except, of course, if you want to edit the file.</p>\n"}], "owner": {"reputation": 21, "user_id": 5632448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f4c423f5d29ee6b68cca7a7b91c7b5?s=128&d=identicon&r=PG&f=1", "display_name": "Sim", "link": "https://stackoverflow.com/users/5632448/sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5884, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1449165463, "creation_date": 1449095023, "last_edit_date": 1449128700, "question_id": 34054272, "link": "https://stackoverflow.com/questions/34054272/openpyxl-optimizing-cells-search-speed", "title": "Openpyxl optimizing cells search speed", "body": "<p>I need to search the Excel sheet for cells containing some pattern. It takes more time than I can handle. The most optimized code I could write is below. Since the data patterns are usually row after row so I use iter_rows(row_offset=x). Unfortunately the code below finds the given pattern an increasing number of times in each for loop (starting from milliseconds and getting up to almost a minute). What am I doing wrong?</p>\n\n<pre><code>import openpyxl\nimport datetime\nfrom openpyxl import Workbook\n\nwb = Workbook()\nws = wb.active\nws.title = \"test_sheet\"\n\nprint(\"Generating quite big excel file\")\n\nfor i in range(1,10000):\n    for j in range(1,20):\n        ws.cell(row = i, column = j).value = \"Cell[{},{}]\".format(i,j)\n\nprint(\"Saving test excel file\")\nwb.save('test.xlsx')\n\ndef FindXlCell(search_str, last_r):\n    t = datetime.datetime.utcnow()\n    for row in ws.iter_rows(row_offset=last_r):\n        for cell in row:\n            if (search_str == cell.value):\n                print(search_str, last_r, cell.row, datetime.datetime.utcnow() - t)\n                last_r = cell.row\n                return last_r\n    print(\"record not found \",search_str, datetime.datetime.utcnow() - t)\n    return 1\n\nwb = openpyxl.load_workbook(\"test.xlsx\", data_only=True)\nt = datetime.datetime.utcnow()\nws = wb[\"test_sheet\"]\nlast_row = 1\nprint(\"Parsing excel file in a loop for 3 cells\")\nfor i in range(1,100,1):\n    last_row = FindXlCell(\"Cell[0,0]\", last_row)\n    last_row = FindXlCell(\"Cell[1000,6]\", last_row)\n    last_row = FindXlCell(\"Cell[6000,6]\", last_row)\n</code></pre>\n"}, {"tags": ["python", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5632512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bee55117151b9dc45adbdc49109386f0?s=128&d=identicon&r=PG&f=1", "display_name": "Cryptonomik", "link": "https://stackoverflow.com/users/5632512/cryptonomik"}, "edited": false, "score": 0, "creation_date": 1449097229, "post_id": 34054378, "comment_id": 55863678, "body": "Thank you for your reply.  I believe I am doing a check to determine if the click was inside the circle with collidepoint.  Unfortunately, this only checks whether the click was inside of the (invisible) rect created by the pygame.draw.circle and not actually the visible, drawn circle."}], "tags": [], "owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1449095466, "creation_date": 1449095466, "answer_id": 34054378, "question_id": 34054248, "link": "https://stackoverflow.com/questions/34054248/pygame-circle-and-its-associated-rect-for-collision-detection/34054378#34054378", "title": "Pygame circle and its associated rect for collision detection", "body": "<p>When a click is detected, have the handler determine if it is actually inside the circle.  Otherwise ignore it.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5632512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bee55117151b9dc45adbdc49109386f0?s=128&d=identicon&r=PG&f=1", "display_name": "Cryptonomik", "link": "https://stackoverflow.com/users/5632512/cryptonomik"}, "edited": false, "score": 0, "creation_date": 1449178066, "post_id": 34059724, "comment_id": 55906322, "body": "Thank you very much sloth!  I implemented this into the code and it works perfectly."}], "tags": [], "owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "is_accepted": true, "score": 1, "last_activity_date": 1449126162, "creation_date": 1449126162, "answer_id": 34059724, "question_id": 34054248, "link": "https://stackoverflow.com/questions/34054248/pygame-circle-and-its-associated-rect-for-collision-detection/34059724#34059724", "title": "Pygame circle and its associated rect for collision detection", "body": "<p>Just calculate the distance between the center of the circle and the position of the mouse click:</p>\n\n<pre><code>x1, y1 = position\nx2, y2 = self.circle.center\ndistance = math.hypot(x1 - x2, y1 - y2)\n</code></pre>\n\n<p>Then check if this distance is smaller or equal the radius of the circle:</p>\n\n<pre><code>if distance &lt;= self.radius:\n    self.radius = self.radius // 2\n...\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5632512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bee55117151b9dc45adbdc49109386f0?s=128&d=identicon&r=PG&f=1", "display_name": "Cryptonomik", "link": "https://stackoverflow.com/users/5632512/cryptonomik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1471, "favorite_count": 0, "accepted_answer_id": 34059724, "answer_count": 2, "score": 1, "last_activity_date": 1449126162, "creation_date": 1449094920, "last_edit_date": 1449095402, "question_id": 34054248, "link": "https://stackoverflow.com/questions/34054248/pygame-circle-and-its-associated-rect-for-collision-detection", "title": "Pygame circle and its associated rect for collision detection", "body": "<p>I am having an issue with Pygame drawing a circle and its associated rect.  When I draw a circle such as pygame.draw.circle(surface, color, center, radius) it creates a rect.  I am attempting to do collision detection using pygame.collidepoint(event.pos) where event.pos is the position of a mouse click.  The size of my window is 500x400 and has a black background and the drawn circle is blue.  When I click outside of the circle (in the black background), the circle should increase in size by multiplying the radius by an int.  Conversely, when a click is registered inside of the circle, the circle shrinks by dividing the radius by an int.</p>\n\n<p>The problem I am having is that the rect is not actually the same size as the circle such that when you click on the background when the circle is large but not completely filling the window, it shrinks instead of getting bigger (i.e. it registers a click inside the circle).  At a certain point, the rect associated with the circle becomes the same size as the window even if the circle is not completely filling it which results in registering a click inside.  </p>\n\n<p>My question is how can I use hit detection for the circle only and not the rect which is larger than the actual circle?</p>\n\n<p>Here is the relevant code:</p>\n\n<pre><code>def handleMouseDown(self, position):\n    if self.circle.collidepoint(position):\n        self.radius = self.radius // 2\n    else:\n        self.radius = self.radius * 2\n    self.draw()\n\ndef draw(self):\n    self.surface.fill(self.black)\n    self.circle = pygame.draw.circle(self.surface, self.color, self.center, self.radius)\n</code></pre>\n"}, {"tags": ["python", "datetime", "rounding"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5630994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a193601fe5a37e096541ebd4707be2ba?s=128&d=identicon&r=PG&f=1", "display_name": "Lboro Vicki", "link": "https://stackoverflow.com/users/5630994/lboro-vicki"}, "edited": false, "score": 0, "creation_date": 1449097837, "post_id": 34054489, "comment_id": 55863941, "body": "I am getting an error on pd: NameError: name &#39;pd&#39; is not defined. Should I have something else imported, or define something else?"}, {"owner": {"reputation": 836, "user_id": 1474727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41068ad3501beb3e85fb387f4063233a?s=128&d=identicon&r=PG", "display_name": "burhan", "link": "https://stackoverflow.com/users/1474727/burhan"}, "reply_to_user": {"reputation": 35, "user_id": 5630994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a193601fe5a37e096541ebd4707be2ba?s=128&d=identicon&r=PG&f=1", "display_name": "Lboro Vicki", "link": "https://stackoverflow.com/users/5630994/lboro-vicki"}, "edited": false, "score": 0, "creation_date": 1449099038, "post_id": 34054489, "comment_id": 55864391, "body": "I import pandas like this: <code>import pandas as pd</code> I think you can just remove <code>pd</code>&#39;s"}, {"owner": {"reputation": 35, "user_id": 5630994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a193601fe5a37e096541ebd4707be2ba?s=128&d=identicon&r=PG&f=1", "display_name": "Lboro Vicki", "link": "https://stackoverflow.com/users/5630994/lboro-vicki"}, "edited": false, "score": 0, "creation_date": 1449150989, "post_id": 34054489, "comment_id": 55888582, "body": "I really appreciate your time writing this but I currently cannot get it to work. I am getting an error: &#39;integer argument expected, got float&#39;. I have tried to edit the code to create integers but it is not working. Also, would you mind telling me a little more about what the code does for my learning?"}, {"owner": {"reputation": 836, "user_id": 1474727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41068ad3501beb3e85fb387f4063233a?s=128&d=identicon&r=PG", "display_name": "burhan", "link": "https://stackoverflow.com/users/1474727/burhan"}, "reply_to_user": {"reputation": 35, "user_id": 5630994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a193601fe5a37e096541ebd4707be2ba?s=128&d=identicon&r=PG&f=1", "display_name": "Lboro Vicki", "link": "https://stackoverflow.com/users/5630994/lboro-vicki"}, "edited": false, "score": 0, "creation_date": 1449247899, "post_id": 34054489, "comment_id": 55939150, "body": "If you get that error, it probably means you are either using Python 3.xx or you import division function i.e <code>from __future__ import division</code>.  I&#39;m using Python 2.xx. In Python 3 and above, division operator behaves different. See this: <a href=\"https://www.python.org/dev/peps/pep-0238/\" rel=\"nofollow noreferrer\">python.org/dev/peps/pep-0238</a>. I updated my answer, it shouldn&#39;t give that error now."}], "tags": [], "owner": {"reputation": 836, "user_id": 1474727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41068ad3501beb3e85fb387f4063233a?s=128&d=identicon&r=PG", "display_name": "burhan", "link": "https://stackoverflow.com/users/1474727/burhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1449248673, "last_edit_date": 1449248673, "creation_date": 1449095952, "answer_id": 34054489, "question_id": 34054241, "link": "https://stackoverflow.com/questions/34054241/how-to-round-a-datetime-to-ten-minute-datetime-in-a-dataframe-in-python/34054489#34054489", "title": "How to round a datetime to ten minute datetime in a dataframe in Python", "body": "<p><s>Try this:</s></p>\n\n<p><s> rounded_ten = lambda t: t.replace(minute=t.minute/10*10).replace(second=0)+pd.Timedelta('10 minutes')</s></p>\n\n<p>I guess I misunderstood the question at first. This should work:</p>\n\n<pre><code>import pandas as pd\n\ndef rounded_ten(t):\n    ''' add 5 minutes to the date first and then apply mathematical floor to the minute part.\n    It's easier to apply mathematical floor operation on date parts instead of rounding because for example you cannot round up 58 seconds to 60 seconds but you can always apply floor and stay within the range.\n    '''\n    t=t+pd.Timedelta('5 minutes') \n    return t.replace(minute=t.minute//10*10).replace(second=0)\n</code></pre>\n\n<p>or if you want to use a one liner:</p>\n\n<pre><code>rounded_ten = lambda t: (t+pd.Timedelta('5 minutes')).replace(minute=(t+pd.Timedelta('5 minutes')).minute//10*10).replace(second=0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 1, "last_activity_date": 1449249108, "last_edit_date": 1495540342, "creation_date": 1449249108, "answer_id": 34093796, "question_id": 34054241, "link": "https://stackoverflow.com/questions/34054241/how-to-round-a-datetime-to-ten-minute-datetime-in-a-dataframe-in-python/34093796#34093796", "title": "How to round a datetime to ten minute datetime in a dataframe in Python", "body": "<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/32344533/python-pandas-how-to-i-round-datetime-column-to-nearest-quarter-hour\">How do I round datetime column to nearest quarter hour</a><br>\n  However this method can only round down, not round up.</p>\n</blockquote>\n\n<p>You could combine it with a formula from <a href=\"https://stackoverflow.com/q/32723150/4279\">Rounding up to nearest 30 minutes in python</a>:</p>\n\n<pre><code>from datetime import timedelta\n\ndelta = timedelta(minutes=10)\ndf['&lt;column&gt;'] = df['&lt;column&gt;'].apply(lambda dt: ceil_dt(dt, delta))\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5630994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a193601fe5a37e096541ebd4707be2ba?s=128&d=identicon&r=PG&f=1", "display_name": "Lboro Vicki", "link": "https://stackoverflow.com/users/5630994/lboro-vicki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2300, "favorite_count": 0, "accepted_answer_id": 34054489, "answer_count": 2, "score": 1, "last_activity_date": 1449249108, "creation_date": 1449094895, "last_edit_date": 1495541243, "question_id": 34054241, "link": "https://stackoverflow.com/questions/34054241/how-to-round-a-datetime-to-ten-minute-datetime-in-a-dataframe-in-python", "title": "How to round a datetime to ten minute datetime in a dataframe in Python", "body": "<p>I have a column of datatimes in the format: 2015-06-25 03:29:58 which I believe is in datetime64. \nI would like to round them to the nearest ten minutes.</p>\n\n<p>i.e</p>\n\n<pre><code>2015-06-25 03:29:58  =   2015-06-25 03:30:00\n2015-06-25 03:24:58  =   2015-06-25 03:20:00\n2015-06-25 03:59:58  =   2015-06-25 04:00:00\n</code></pre>\n\n<p>I have looked all over for the answer for this problem, there are a few threads and solutions for rounding time, such as this one: \n<a href=\"https://stackoverflow.com/questions/32344533/python-pandas-how-to-i-round-datetime-column-to-nearest-quarter-hour\">How do I round datetime column to nearest quarter hour</a></p>\n\n<p>However this method can only round down, not round up.</p>\n\n<p>I have also seen other solutions, but cannot work out how to apply them to a datetime in a dataframe.</p>\n\n<p>I have tried many different versions of:</p>\n\n<pre><code>from pandas import * \nimport datetime\n\nrounded_ten = lambda dt: datetime.datetime(dt.year, dt.month, dt.day,(dt.hour), 10*(round(dt.minute/10)))\n\ndataframe1['Device Time'] = dataframe1['Device Time'].apply(rounded_ten)\n</code></pre>\n\n<p>However this does not work because when you round 55 upwards it gives the answer of 60. Which is not acceptable within this format.\nI wanted to apply some if statements, however I could not understand how to apply them to this format.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 1, "last_activity_date": 1449097467, "creation_date": 1449097467, "answer_id": 34054794, "question_id": 34054234, "link": "https://stackoverflow.com/questions/34054234/unique-ids-for-sorted-groups-of-indices/34054794#34054794", "title": "Unique IDs for sorted groups of indices", "body": "<p>You could do: </p>\n\n<pre><code>def seasons(row):\n    return row['Year'] % 2011 * 4 + row['Season']\n\ndf.reset_index(inplace=True)\ndf['seasons'] = df.apply(seasons, axis=1)\ndf.set_index(['Season', 'Year', 'Location'], inplace=True)\n</code></pre>\n"}], "owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 34054794, "answer_count": 1, "score": 0, "last_activity_date": 1463620612, "creation_date": 1449094850, "last_edit_date": 1463620612, "question_id": 34054234, "link": "https://stackoverflow.com/questions/34054234/unique-ids-for-sorted-groups-of-indices", "title": "Unique IDs for sorted groups of indices", "body": "<p>I have something like the following <code>DataFrame</code> where I have data points at 2 locations in 4 seasons in 2 years. </p>\n\n<pre><code>&gt;&gt;&gt; df=pd.DataFrame(index=pd.MultiIndex.from_product([[1,2,3,4],[2011,2012],['A','B']], names=['Season','Year','Location']))\n&gt;&gt;&gt; df['Value']=np.random.randint(1,100,len(df))\n&gt;&gt;&gt; df\n                      Value\nSeason Year Location       \n1      2011 A            40\n            B             7\n       2012 A            81\n            B            84\n2      2011 A            37\n            B            59\n       2012 A            30\n            B             6\n3      2011 A            71\n            B            43\n       2012 A             3\n            B            65\n4      2011 A            45\n            B            13\n       2012 A            38\n            B            70\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I would like to create a new series that represents that number of the season sorted by year. For example, the seasons in the first year would just be 1,2,3,4 and then the seasons in the second year would be 5,6,7,8. The series would look like this:</p>\n\n<pre><code>Season  Year  Location\n1       2011  A           1\n              B           1\n        2012  A           5\n              B           5\n2       2011  A           2\n              B           2\n        2012  A           6\n              B           6\n3       2011  A           3\n              B           3\n        2012  A           7\n              B           7\n4       2011  A           4\n              B           4\n        2012  A           8\n              B           8\nName: SeasonNum, dtype: int64\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Any suggestions on the best way to do this?</p>\n"}, {"tags": ["python", "django", "gunicorn"], "comments": [{"owner": {"reputation": 2268, "user_id": 803316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/P3cWI.jpg?s=128&g=1", "display_name": "Adriano Silva", "link": "https://stackoverflow.com/users/803316/adriano-silva"}, "edited": false, "score": 1, "creation_date": 1449149492, "post_id": 34054222, "comment_id": 55887543, "body": "Hi Paul. This is a nice article about run Django, Nginx, Gunicorn as non-root user: <a href=\"http://michal.karzynski.pl/blog/2013/06/09/django-nginx-gunicorn-virtualenv-supervisor/\" rel=\"nofollow noreferrer\">michal.karzynski.pl/blog/2013/06/09/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1939, "user_id": 4930607, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ab1470af1835821aec698e59fed72346?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4930607/tom"}, "edited": false, "score": 0, "creation_date": 1449098882, "post_id": 34054896, "comment_id": 55864336, "body": "ok thanks, but it lives in your project folder right? So how do you run it when the system boots? Maybe I forgot to mention that I want the script to run when the system boots?"}, {"owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "reply_to_user": {"reputation": 1939, "user_id": 4930607, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ab1470af1835821aec698e59fed72346?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4930607/tom"}, "edited": false, "score": 0, "creation_date": 1449147480, "post_id": 34054896, "comment_id": 55886219, "body": "Updated the post - added script for init.d"}, {"owner": {"reputation": 1939, "user_id": 4930607, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ab1470af1835821aec698e59fed72346?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4930607/tom"}, "edited": false, "score": 0, "creation_date": 1452538611, "post_id": 34054896, "comment_id": 57203984, "body": "thanks that helped me with setting up a script for running gunicorn, however I found a different solution to my problem"}, {"owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "reply_to_user": {"reputation": 1939, "user_id": 4930607, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ab1470af1835821aec698e59fed72346?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4930607/tom"}, "edited": false, "score": 0, "creation_date": 1452538655, "post_id": 34054896, "comment_id": 57204011, "body": "You could answer your own question here"}], "tags": [], "owner": {"reputation": 2464, "user_id": 494631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/20649650b6209254e570442e953a8f5f?s=128&d=identicon&r=PG", "display_name": "baldr", "link": "https://stackoverflow.com/users/494631/baldr"}, "is_accepted": false, "score": 2, "last_activity_date": 1449147450, "last_edit_date": 1449147450, "creation_date": 1449097975, "answer_id": 34054896, "question_id": 34054222, "link": "https://stackoverflow.com/questions/34054222/how-to-run-gunicorn-with-django-as-non-root/34054896#34054896", "title": "how to run gunicorn with django as non-root", "body": "<p>I have a script in my project's folder which I use to run gunicorn. Here is a header:</p>\n\n<pre><code>#!/bin/bash\nCUR_DIR=$(dirname $(readlink -f $0))\nWORK_DIR=$CUR_DIR\nUSER=myusername\nPYTHON=/usr/bin/python3\nGUNICORN=/usr/local/bin/gunicorn\n\nsudo -u $USER sh -c \"cd $WORK_DIR; $PYTHON -W ignore $GUNICORN -c $WORK_DIR/config/gunicorn/gunicorn.conf.py --chdir $WORK_DIR myappname.wsgi:application\n</code></pre>\n\n<p><strong>Updated</strong>:\nPut the code below to the file <code>/etc/init.d/myservice</code>, make the <code>root</code> owner and give <code>+x</code> permissions for the owner.</p>\n\n<pre><code>#!/bin/bash\n#chkconfig: 345 95 50\n#description: Starts myservice\nif [ -z \"$1\" ]; then\necho \"`basename $0` {start|stop}\"\n   exit\nfi\n\ncase \"$1\" in\nstart)\n   sh /path/to/run_script.sh start &amp;\n;;\n\nstop)\n   sh /path/to/run_script.sh stop\n;;\nesac\n</code></pre>\n\n<p>Now you can use <code>sudo service myservice start</code></p>\n\n<p>I am sorry, I am not familiar with <code>systemd</code> yet, but with it it can be even easier.</p>\n"}, {"tags": [], "owner": {"reputation": 1939, "user_id": 4930607, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ab1470af1835821aec698e59fed72346?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4930607/tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1452538746, "creation_date": 1452538746, "answer_id": 34729009, "question_id": 34054222, "link": "https://stackoverflow.com/questions/34054222/how-to-run-gunicorn-with-django-as-non-root/34729009#34729009", "title": "how to run gunicorn with django as non-root", "body": "<p>Ok, so I found out that <code>db.sqlite3</code> will be create in django through the <code>makemigrations</code> and <code>migrate</code> commands which I ran from root. </p>\n\n<p>Hence, the problems with the permissions. I switched to debian and ran the commands from there et voila: </p>\n\n<p><code>-rw-r--r-- 1 debian   debian    55K Dec  2 13:33 db.sqlite3</code></p>\n"}], "owner": {"reputation": 1939, "user_id": 4930607, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ab1470af1835821aec698e59fed72346?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4930607/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1358, "favorite_count": 0, "accepted_answer_id": 34729009, "answer_count": 2, "score": 1, "last_activity_date": 1452538746, "creation_date": 1449094810, "question_id": 34054222, "link": "https://stackoverflow.com/questions/34054222/how-to-run-gunicorn-with-django-as-non-root", "title": "how to run gunicorn with django as non-root", "body": "<p>I have a django application and I use gunicorn to run it. My script to start gunicorn looks like this:  </p>\n\n<pre><code>django_path=/path/to/your/manage.py \nsettingsfile=my_name  \nworkers=2 \n\ncd $django_path\nexec gunicorn --env DJANGO_SETTINGS_MODULE=app.$settingsfile app.wsgi --workers=$workers &amp;\n</code></pre>\n\n<p>this works when I execute it. However, when I look at my database in my projectfolder <code>(cd /path/to/your/manage.py &amp;&amp; ll)</code> I get this: </p>\n\n<p><code>-rw-r--r-- 1 root   root    55K Dec  2 13:33 db.sqlite3</code></p>\n\n<p>Which means I need root permisson to do anyhting on the databse (for example do a <code>createuser</code>). So I looked around on Stackoverflow and tried a couple of things: </p>\n\n<ul>\n<li>I had the whole script at the top of  <code>/etc/init.d/rc.local</code></li>\n<li>Then I put the script as a script file <code>gunicorn_script.sh</code> put in <code>/etc/init.d</code>, did a <code>/usr/sbin/update-rc.d -f gunicorn_script.sh defaults</code></li>\n<li>Lastly, I tried to put this command at the top of the <code>rc.local</code> file: <code>su debian -c '/etc/init.d/gunicorn_script.sh start'</code> to execute the gunicorn_script as a debian user </li>\n</ul>\n\n<p>All of them started my app but the problem with the database remains (only root rights).  </p>\n\n<p>So how do I run that script as a non root user? </p>\n"}, {"tags": ["python", "calendar", "icalendar"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 5632506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8756a7e72ffe71c73b29ede01c8be33?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Godard", "link": "https://stackoverflow.com/users/5632506/eric-godard"}, "edited": false, "score": 0, "creation_date": 1449743851, "post_id": 34119534, "comment_id": 56144246, "body": "Thanks for your answer. I already manage time (stocking time in variable and after comparing it to my others files), my problem is that when I have 2 event in the morning (between 8H and 12H) the program only show me the first. I don&#39;t see how time-zones are involved in that. Am I missing something?"}], "tags": [], "owner": {"reputation": 33244, "user_id": 13379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/29d7c49f6f174710788c79011219bae1?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/13379/michael"}, "is_accepted": true, "score": 0, "last_activity_date": 1449418036, "creation_date": 1449418036, "answer_id": 34119534, "question_id": 34054165, "link": "https://stackoverflow.com/questions/34054165/python-ical-start-time/34119534#34119534", "title": "Python ical start time", "body": "<p>One thing you have to be aware of when dealing with iCalendar files is <strong>timezones</strong>.  </p>\n\n<ul>\n<li>If the date/time property value ends in <code>Z</code>, that means the time is\nformatted in <strong>UTC time</strong>.</li>\n<li>If the date/time property has a <code>TZID</code>\nparameter, that means the date/time value is formatted in a <strong>specific\ntimezone</strong>.</li>\n</ul>\n"}], "owner": {"reputation": 169, "user_id": 5632506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8756a7e72ffe71c73b29ede01c8be33?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Godard", "link": "https://stackoverflow.com/users/5632506/eric-godard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 34119534, "answer_count": 1, "score": 0, "last_activity_date": 1449418036, "creation_date": 1449094553, "last_edit_date": 1449097615, "question_id": 34054165, "link": "https://stackoverflow.com/questions/34054165/python-ical-start-time", "title": "Python ical start time", "body": "<p>Here is my problem, I'm using Icalendar on Python to parse data from 2 ical file and one excel file (xls).\nProblem, when I try to get my calendar (using this):</p>\n\n<pre><code>    for event in cal.walk('vevent'):\n        dates = event.get('dtstart')\n        location = event.get('location')\n        dates=dates.to_ical()\n        month=dates[4:6]\n        day=dates[6:8]\n        heures2=dates[9:11]\n        minut=dates[11:13]\n        sec=dates[13:15]\n        yearical=dates[0:4]\n        date2=day+\"/\"+month+\"/\"+yearical\n        summary = event.get('summary')\n        icaldebheur = heures2+\":\"+minut+\":\"+sec\n</code></pre>\n\n<p>The problem is that my ical file look like this:\n<a href=\"http://i.stack.imgur.com/EtTEK.png\" rel=\"nofollow\">Calendar</a>\nThe only hour that the code give me are the 8H one and 13h30one (observed by doing a print icaldebheur), no matter the day, it never give me the one at 10H (or, if it happen the afternoon, it don't give me one at 15H).\nIt seem like it only give me 2 event per day.</p>\n\n<p>Do you have an idea?</p>\n"}, {"tags": ["python", "loops", "for-loop"], "comments": [{"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 1, "creation_date": 1449094488, "post_id": 34054118, "comment_id": 55862471, "body": "So what do you want to get?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449094550, "post_id": 34054118, "comment_id": 55862504, "body": "You sure you don&#39;t want <code>zip</code> <code>for n in myList</code> first?"}, {"owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "edited": false, "score": 0, "creation_date": 1449094557, "post_id": 34054118, "comment_id": 55862508, "body": "I think he wants <code>[a[0], b[0], a[1], b[1] .. ]</code> and so on"}, {"owner": {"reputation": 153, "user_id": 5285349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c6e48d86c74fd1fca638a7ca513297de?s=128&d=identicon&r=PG&f=1", "display_name": "JamalCrawford..", "link": "https://stackoverflow.com/users/5285349/jamalcrawford"}, "edited": false, "score": 0, "creation_date": 1449094842, "post_id": 34054118, "comment_id": 55862648, "body": "If aList was [1,2,3,4], I want it to say 1hello, 2good, 3what... so on"}, {"owner": {"reputation": 846, "user_id": 4858016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hf8Zy.jpg?s=128&g=1", "display_name": "Rubal", "link": "https://stackoverflow.com/users/4858016/rubal"}, "edited": false, "score": 0, "creation_date": 1449095195, "post_id": 34054118, "comment_id": 55862802, "body": "Also, your alist has int elements. You can&#39;t concatenate int and str."}], "answers": [{"comments": [{"owner": {"reputation": 9384, "user_id": 5493302, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bl41CqZhT5I/AAAAAAAAAAI/AAAAAAAAdzI/ALmG0mBJCSk/photo.jpg?sz=128", "display_name": "Tomasz Jakub Rup", "link": "https://stackoverflow.com/users/5493302/tomasz-jakub-rup"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1449095757, "post_id": 34054240, "comment_id": 55863076, "body": "Sorry, I improve the answer."}], "tags": [], "owner": {"reputation": 9384, "user_id": 5493302, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bl41CqZhT5I/AAAAAAAAAAI/AAAAAAAAdzI/ALmG0mBJCSk/photo.jpg?sz=128", "display_name": "Tomasz Jakub Rup", "link": "https://stackoverflow.com/users/5493302/tomasz-jakub-rup"}, "is_accepted": false, "score": 1, "last_activity_date": 1449095754, "last_edit_date": 1449095754, "creation_date": 1449094893, "answer_id": 34054240, "question_id": 34054118, "link": "https://stackoverflow.com/questions/34054118/for-loop-inside-another-for-loop-python/34054240#34054240", "title": "For loop inside another for loop Python", "body": "<p>Read about <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">List Comprehensions</a></p>\n\n<pre><code>aList = ['1', '2', '3']\nprint [element + n for element in aList for n in myList]\n['1hello', '1good', '1what', '1tree', '2hello', '2good', '2what', '2tree', '3hello', '3good', '3what', '3tree']\n</code></pre>\n\n<p>or <a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow\">zip</a></p>\n\n<pre><code>aList = ['1', '2', '3']\nprint [element + n for element, n in zip(aList, myList)]\n['1hello', '2good', '3what']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1449095452, "last_edit_date": 1449095452, "creation_date": 1449094986, "answer_id": 34054262, "question_id": 34054118, "link": "https://stackoverflow.com/questions/34054118/for-loop-inside-another-for-loop-python/34054262#34054262", "title": "For loop inside another for loop Python", "body": "<p>You want <a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow\"><code>zip</code></a>:</p>\n\n<pre><code>def function(aList):\n    myList = ['hello', 'good', 'what', 'tree']\n    return [str(a) + b for a, b in zip(aList, myList)]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>In [4]: function([1, 2, 3, 4])\nOut[4]: ['1hello', '2good', '3what', '4tree']\n</code></pre>\n\n<p>You also need to cast the passed in value to a string to make sure you can concatenate to the strings in your <code>myList</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 329, "user_id": 5843092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0ruDv.jpg?s=128&g=1", "display_name": "Sarath_Mj", "link": "https://stackoverflow.com/users/5843092/sarath-mj"}, "is_accepted": false, "score": 1, "last_activity_date": 1519312684, "creation_date": 1519312684, "answer_id": 48930937, "question_id": 34054118, "link": "https://stackoverflow.com/questions/34054118/for-loop-inside-another-for-loop-python/48930937#48930937", "title": "For loop inside another for loop Python", "body": "<p>In Your question I feel no need to add two for loop. One loop itself sufficient.</p>\n\n<p>let me give two cases, which one will match your need use that.</p>\n\n<p><strong>Case 1:</strong> - with one for loop</p>\n\n<pre><code>aList = [1,2,3,4]\ndef function(aList):\n   myList = ['hello','good','what','tree']\n   newList = []\n\n   for i in range(len(aList)):\n      newList.append(str(aList[i]) + myList [i] )\n\n   return newList\n</code></pre>\n\n<p>this will return <code>1hello , 2good ...</code></p>\n\n<p><strong>Case 2:</strong> - with two for loop</p>\n\n<pre><code>aList = [1,2,3,4]\ndef function(aList):\n   myList = ['hello','good','what','tree']\n   newList = []\n\n   for element in aList:\n      for i in range(len(myList )):\n         newList.append(str(element) + myList [i] )\n\n   return newList\n</code></pre>\n\n<p>this will return <code>1hello , 1good ... 2hello, 2good</code></p>\n\n<p>I hope this will help...</p>\n"}], "owner": {"reputation": 153, "user_id": 5285349, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c6e48d86c74fd1fca638a7ca513297de?s=128&d=identicon&r=PG&f=1", "display_name": "JamalCrawford..", "link": "https://stackoverflow.com/users/5285349/jamalcrawford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 34054262, "answer_count": 3, "score": -2, "last_activity_date": 1519312684, "creation_date": 1449094394, "last_edit_date": 1449095906, "question_id": 34054118, "link": "https://stackoverflow.com/questions/34054118/for-loop-inside-another-for-loop-python", "title": "For loop inside another for loop Python", "body": "<p>How do you add one list to another, I keep running into the problem of the second list in my for loop going through the whole list.</p>\n\n<p>If <code>aList</code> was <code>[1, 2, 3, 4]</code>, I want the output be <code>1hello, 2good, 3what...</code> so on.</p>\n\n<pre><code>def function(aList):\n    myList = ['hello','good','what','tree']\n    newList = []\n\n    for element in aList:\n         for n in myList:\n              newList.append[element+n]\n</code></pre>\n\n<p>Input:</p>\n\n<pre><code>[1, 2, 3, 4]\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>['1hello', '2good', '3what', '4tree']\n</code></pre>\n"}, {"tags": ["python", "csv", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 1, "last_activity_date": 1449094841, "creation_date": 1449094841, "answer_id": 34054233, "question_id": 34054104, "link": "https://stackoverflow.com/questions/34054104/pandas-splitting-a-csv-file-by-value-in-a-certain-row/34054233#34054233", "title": "Pandas: Splitting a csv file by value in a certain row", "body": "<p>I think the following should work, basically <code>groupby</code> on 'code' and then iterate over the groups and generate the filename and write them out:</p>\n\n<pre><code>In [9]:\ng=df.groupby('Code')\nfor gp in g:\n    filename = gp[0] + '.csv'\n    print(filename)\n    gp[1].to_csv(filename)\n\nA1.csv\nA2.csv\nA3.csv\n</code></pre>\n\n<p>contents of each group:</p>\n\n<pre><code>In [11]:\nfor gp in g:\n    print(gp[1])\n\n  Code            DateTime  Value\n0   A1 2015-01-01 05:45:00    150\n3   A1 2015-01-01 06:00:00    200\n6   A1 2015-01-01 06:15:00    200\n  Code            DateTime  Value\n1   A2 2015-01-01 05:45:00    100\n4   A2 2015-01-01 06:00:00    219\n  Code            DateTime  Value\n2   A3 2015-01-01 05:45:00    200\n5   A3 2015-01-01 06:00:00    150\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 227, "user_id": 2468598, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1955625/picture?type=large", "display_name": "vmedhe2", "link": "https://stackoverflow.com/users/2468598/vmedhe2"}, "edited": false, "score": 0, "creation_date": 1449685320, "post_id": 34056018, "comment_id": 56118656, "body": "Thanks Steve, this was it."}], "tags": [], "owner": {"reputation": 889, "user_id": 5623507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1ba624c77a1440f26c17362a491f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Misuta", "link": "https://stackoverflow.com/users/5623507/steve-misuta"}, "is_accepted": true, "score": 2, "last_activity_date": 1449104267, "creation_date": 1449104267, "answer_id": 34056018, "question_id": 34054104, "link": "https://stackoverflow.com/questions/34054104/pandas-splitting-a-csv-file-by-value-in-a-certain-row/34056018#34056018", "title": "Pandas: Splitting a csv file by value in a certain row", "body": "<p>Here's another option:</p>\n\n<pre><code>for c in df.Code.unique():\n    (df[df.Code == c]).to_csv(c + '.csv', index=False)\n\nWrites these files:\n\nCode, DateTime, Value\nA1, 1/1/15 5:45,150\nA1, 1/1/15 6:00,200\nA1, 1/1/15 6:15,200\n\nEtc...\n</code></pre>\n\n<p>Using groupby as proposed by @EdChum is probably faster if you have a huge data set, but I post this alternative just to show there are many ways to do things in pandas.</p>\n"}], "owner": {"reputation": 227, "user_id": 2468598, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1955625/picture?type=large", "display_name": "vmedhe2", "link": "https://stackoverflow.com/users/2468598/vmedhe2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 2, "accepted_answer_id": 34056018, "answer_count": 2, "score": 0, "last_activity_date": 1449104267, "creation_date": 1449094338, "last_edit_date": 1449098097, "question_id": 34054104, "link": "https://stackoverflow.com/questions/34054104/pandas-splitting-a-csv-file-by-value-in-a-certain-row", "title": "Pandas: Splitting a csv file by value in a certain row", "body": "<p>I'm using <strong><em>Pandas</em></strong> but I'm very new to it and I would like to know how to split a <code>.csv</code> file which looks like this:</p>\n\n<pre><code>Code      DateTime      Value\nA1        1/1/15 5:45    150\nA2        1/1/15 5:45    100\nA3        1/1/15 5:45    200\nA1        1/1/15 6:00    200\nA2        1/1/15 6:00    219\nA3        1/1/15 6:00    150\nA1        1/1/15 6:15    200 \n...\n</code></pre>\n\n<p>Into separate <code>.csv</code> files so that each file only has the values from one cod, in doing so my output would be multiple csv files, <code>A1.csv</code>, <code>A2.csv</code>, etc. and when I open file <code>A1.csv</code> I see:</p>\n\n<pre><code>Code      DateTime      Value\nA1        1/1/15 5:45    150\nA1        1/1/15 6:00    200\nA1        1/1/15 6:15    200 \n...\n</code></pre>\n\n<p>and so on for all the files. </p>\n"}, {"tags": ["python", "ubuntu", "pyqt"], "answers": [{"comments": [{"owner": {"reputation": 2054, "user_id": 3855967, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/VcdBv.jpg?s=128&g=1", "display_name": "Gala", "link": "https://stackoverflow.com/users/3855967/gala"}, "edited": false, "score": 0, "creation_date": 1449145914, "post_id": 34054327, "comment_id": 55885180, "body": "Nice. It worked nice. I&#39;m idiot that i missed that. Thanks!"}], "tags": [], "owner": {"reputation": 5197, "user_id": 503888, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f998ce921f025f19bfea5d86032e9f94?s=128&d=identicon&r=PG", "display_name": "Achayan", "link": "https://stackoverflow.com/users/503888/achayan"}, "is_accepted": true, "score": 0, "last_activity_date": 1449095256, "creation_date": 1449095256, "answer_id": 34054327, "question_id": 34054092, "link": "https://stackoverflow.com/questions/34054092/pyqt-not-showing-qsystemtrayicon-on-xfce-ubuntu-16-04-xenial-xerus/34054327#34054327", "title": "PyQt not showing QSystemTrayIcon on XFCE / Ubuntu 16.04 Xenial Xerus", "body": "<p>You missing the show part :)</p>\n\n<pre><code>self.exit_button.clicked.connect(self.exit_main)\n\n# --------------------------- QT ACTION BIND STOP ##############\n\nself.trayIcon.show()\n</code></pre>\n\n<p>This works for me</p>\n"}], "owner": {"reputation": 2054, "user_id": 3855967, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/VcdBv.jpg?s=128&g=1", "display_name": "Gala", "link": "https://stackoverflow.com/users/3855967/gala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 34054327, "answer_count": 1, "score": 0, "last_activity_date": 1528813991, "creation_date": 1449094272, "last_edit_date": 1528813991, "question_id": 34054092, "link": "https://stackoverflow.com/questions/34054092/pyqt-not-showing-qsystemtrayicon-on-xfce-ubuntu-16-04-xenial-xerus", "title": "PyQt not showing QSystemTrayIcon on XFCE / Ubuntu 16.04 Xenial Xerus", "body": "<pre><code>#!/usr/bin/python\n#\n#  GUI.py\n#  \n#  Copyright 2015 Ognjen Galic &lt;gala@thinkpad&gt;\n#  \n#  This program is free software; you can redistribute it and/or modify\n#  it under the terms of the GNU General Public License as published by\n#  the Free Software Foundation; either version 2 of the License, or\n#  (at your option) any later version.\n#  \n#  This program is distributed in the hope that it will be useful,\n#  but WITHOUT ANY WARRANTY; without even the implied warranty of\n#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n#  GNU General Public License for more details.\n#  \n#  You should have received a copy of the GNU General Public License\n#  along with this program; if not, write to the Free Software\n#  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,\n#  MA 02110-1301, USA.\n#  \n#  \n\n ################################# UI START ############################\n\nfrom PyQt4 import QtCore, QtGui\nimport sys\n\ntry:\n    _fromUtf8 = QtCore.QString.fromUtf8\nexcept AttributeError:\n    def _fromUtf8(s):\n        return s\n\ntry:\n    _encoding = QtGui.QApplication.UnicodeUTF8\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig, _encoding)\nexcept AttributeError:\n    def _translate(context, text, disambig):\n        return QtGui.QApplication.translate(context, text, disambig)\n\nclass Ui_MainWindow(object):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(_fromUtf8(\"MainWindow\"))\n        MainWindow.resize(200, 100)\n        MainWindow.setWindowTitle(_fromUtf8(\"Example\"))\n        self.main_widget = QtGui.QWidget(MainWindow)\n        self.main_widget.setObjectName(_fromUtf8(\"main_widget\"))\n        self.horizontalLayout = QtGui.QHBoxLayout(self.main_widget)\n        self.horizontalLayout.setObjectName(_fromUtf8(\"horizontalLayout\"))\n        self.exit_button = QtGui.QPushButton(self.main_widget)\n        self.exit_button.setObjectName(_fromUtf8(\"exit_button\"))\n        self.horizontalLayout.addWidget(self.exit_button)\n        self.trayIcon = QtGui.QSystemTrayIcon(QtGui.QIcon(\"icon.png\")) # &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; WONT SHOW\n        MainWindow.setCentralWidget(self.main_widget)\n\n        self.retranslateUi(MainWindow)\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n        # --------------------------- QT ACTION BIND START #############\n\n        self.exit_button.clicked.connect(self.exit_main)\n\n        # --------------------------- QT ACTION BIND STOP ##############\n\n    def retranslateUi(self, MainWindow):\n        self.exit_button.setText(_translate(\"MainWindow\", \"Exit\", None))\n\n        # --------------------------- MAIN FUNCTIONS START #############\n\n    def exit_main(self):\n        sys.exit()\n\n        # --------------------------- MAIN FUNCTIONS STOP ##############\n\ndef initUI():\n    app = QtGui.QApplication(sys.argv)\n    MainWindow = QtGui.QMainWindow()\n    ui = Ui_MainWindow()\n    ui.setupUi(MainWindow)\n    MainWindow.show()\n    sys.exit(app.exec_())\n\n ################################### UI STOP ###########################\n\ndef main():\n    pass\n\ninitUI() # Initialize the UI\nmain() # Run the MAIN\n</code></pre>\n\n<p>Here is my source, Python is 2.7, amd64, Ubuntu 16.04 Xenial Xerus with Xfce 4.12, PyQt4</p>\n\n<p>The like that is supposed to show the system tray icon:</p>\n\n<pre><code>self.trayIcon = QtGui.QSystemTrayIcon(QtGui.QIcon(\"icon.png\")) \n</code></pre>\n\n<p>Is doing nothing. Yet if ran on another .py file with manual <code>trayIcon.show()</code> it works fine.</p>\n"}, {"tags": ["python", "jekyll"], "comments": [{"owner": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "edited": false, "score": 0, "creation_date": 1449097259, "post_id": 34054085, "comment_id": 55863689, "body": "What is the output of a <code>jekyll serve --trace</code> ?"}, {"owner": {"reputation": 13, "user_id": 5631311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9qQI8.png?s=128&g=1", "display_name": "Joanna Ho", "link": "https://stackoverflow.com/users/5631311/joanna-ho"}, "reply_to_user": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "edited": false, "score": 0, "creation_date": 1449116158, "post_id": 34054085, "comment_id": 55869442, "body": "Configuration file: /Users/Sites/styleguide/_config.yml   Source: /Users/Sites/styleguide   Destination: /Users/Sites/styleguide/_site   Incremental build: disabled. Enable with --incremental   Generating...                       done in 2.485 seconds.   Auto-regeneration: enabled for &#39;/Users/Sites/styleguide&#39;   Configuration file: /Users/Sites/styleguide/_config.yml   Server address: <a href=\"http://127.0.0.1:4000/\" rel=\"nofollow noreferrer\">127.0.0.1:4000</a>    Server running... press ctrl-c to stop."}, {"owner": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "edited": false, "score": 0, "creation_date": 1449128414, "post_id": 34054085, "comment_id": 55874125, "body": "I see compass in your versions list. Did you use a compass based framework ? Did you have a github repository ?"}, {"owner": {"reputation": 13, "user_id": 5631311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9qQI8.png?s=128&g=1", "display_name": "Joanna Ho", "link": "https://stackoverflow.com/users/5631311/joanna-ho"}, "reply_to_user": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "edited": false, "score": 0, "creation_date": 1449160136, "post_id": 34054085, "comment_id": 55895568, "body": "Here&#39;s the repo: <a href=\"https://github.com/joannaho/jekyll-test\" rel=\"nofollow noreferrer\">github.com/joannaho/jekyll-test</a>."}, {"owner": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "edited": false, "score": 0, "creation_date": 1449162992, "post_id": 34054085, "comment_id": 55897497, "body": "So, no change in the console like <code>Regenerating: 1 file(s) changed at 2015-12-03 18:09:50 ...done in 0.347705382 seconds.</code> when saving a file in  <code>_sass&#47;</code> ? Here it regenerates two times (opened a bug on jekyll for this <a href=\"https://github.com/jekyll/jekyll/issues/4213\" rel=\"nofollow noreferrer\">github.com/jekyll/jekyll/issues/4213</a>). See my response below."}], "answers": [{"comments": [{"owner": {"reputation": 1701, "user_id": 5455207, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6fa7e8a0b8a820fa63c7cfd1833b1be4?s=128&d=identicon&r=PG", "display_name": "Virtua Creative", "link": "https://stackoverflow.com/users/5455207/virtua-creative"}, "edited": false, "score": 0, "creation_date": 1449374258, "post_id": 34072341, "comment_id": 55977400, "body": "Would you have Sass installed locally? If you do, try running sass watch and also <code>bundle exec jekyll serve safe --watch</code> (following David&#39;s answer)... Should work, as sass will get the css properly compiled and bundle will exec jekyll to build your site on safe mode (as GitHub pages will)."}], "tags": [], "owner": {"reputation": 46692, "user_id": 1548376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCZQw.gif?s=128&g=1", "display_name": "David Jacquel", "link": "https://stackoverflow.com/users/1548376/david-jacquel"}, "is_accepted": false, "score": 2, "last_activity_date": 1449163349, "creation_date": 1449163349, "answer_id": 34072341, "question_id": 34054085, "link": "https://stackoverflow.com/questions/34054085/jekyll-serve-w-is-not-working/34072341#34072341", "title": "jekyll serve -w is not working", "body": "<p>I've explored your code. I was unable to reproduce, but it seems that there is a <a href=\"https://github.com/jekyll/jekyll/issues/4213\" rel=\"nofollow\">bug in Jekyll scss regeneration</a>.</p>\n\n<p>My advice is to switch to a stable version of Jekyll.</p>\n\n<p>1 - Create a <code>Gemfile</code> at the root of your jekyll site, containing :</p>\n\n<pre><code>source 'https://rubygems.org'\ngem 'github-pages'\n</code></pre>\n\n<p>This will help setup a Github pages environment, which is known to be stable.</p>\n\n<p>2 - Install bundler</p>\n\n<pre><code>gem install bundle\n</code></pre>\n\n<p>3 - Install stable gems</p>\n\n<pre><code>bundle install\n</code></pre>\n\n<p>4 - Run your Jekull</p>\n\n<pre><code>bundle exec jekyll serve\n</code></pre>\n\n<p>Let me know if it works.</p>\n"}], "owner": {"reputation": 13, "user_id": 5631311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9qQI8.png?s=128&g=1", "display_name": "Joanna Ho", "link": "https://stackoverflow.com/users/5631311/joanna-ho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1469908949, "creation_date": 1449094245, "question_id": 34054085, "link": "https://stackoverflow.com/questions/34054085/jekyll-serve-w-is-not-working", "title": "jekyll serve -w is not working", "body": "<p>I just downloaded Jekyll to test out the \"jekyll serve --watch\" function on sass compiling, but it is not working for me. \"jekyll serve\" doesn't watch anything to poll for sass changes. Is anyone having the same issue?</p>\n\n<p>I have jekyll 3.0.1, Python 2.7.5, Node 0.10.32, Sass 3.4.19, Compass 0.12.2 installed.</p>\n\n<pre><code>$ gem install jekyll\n$ jekyll new my-awesome-site\n$ cd my-awesome-site\n/my-awesome-site $ jekyll serve\n</code></pre>\n\n<p>My \"_config.yml\" setting:</p>\n\n<pre><code># General settings\nhighlighter: pygments\nmarkdown: kramdown\nkramdown:\n  input: GFM\nsass:\n  sass_dir: _sass\n  style: :compressed\n</code></pre>\n\n<p>Note: I tried \"jekyll serve\", \"jekyll serve -w\", and \"jekyll serve --watch\", none work.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 2159, "user_id": 1080517, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2716302deba4765ec00122e0b0da833d?s=128&d=identicon&r=PG", "display_name": "sebap123", "link": "https://stackoverflow.com/users/1080517/sebap123"}, "edited": false, "score": 0, "creation_date": 1449094640, "post_id": 34054108, "comment_id": 55862555, "body": "Yes, but it looks that it should be: <code>action_res.append(row[0:2] + [0] + row[2:])</code>. It works then correctly."}], "tags": [], "owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "is_accepted": true, "score": 2, "last_activity_date": 1449094368, "creation_date": 1449094368, "answer_id": 34054108, "question_id": 34054039, "link": "https://stackoverflow.com/questions/34054039/adding-extra-column-in-the-middle-of-the-row-while-appending-it-in-list/34054108#34054108", "title": "Adding extra column in the middle of the row while appending it in list", "body": "<p>From your description, I think you want:</p>\n\n<pre><code>for row in reader_action[0]:\n    action_res.append([row[0:2] + [0] + row[2:]])\n</code></pre>\n"}], "owner": {"reputation": 2159, "user_id": 1080517, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2716302deba4765ec00122e0b0da833d?s=128&d=identicon&r=PG", "display_name": "sebap123", "link": "https://stackoverflow.com/users/1080517/sebap123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 34054108, "answer_count": 1, "score": 0, "last_activity_date": 1449094368, "creation_date": 1449094064, "question_id": 34054039, "link": "https://stackoverflow.com/questions/34054039/adding-extra-column-in-the-middle-of-the-row-while-appending-it-in-list", "title": "Adding extra column in the middle of the row while appending it in list", "body": "<p>I am trying to find some answer, but all I found is not regarding my problem. Can someone please tell me how I can append row into other row at the same time adding some extra column?</p>\n\n<p>So far I have something like this:</p>\n\n<pre><code>for row in reader_action[0]:\n    action_res.append([row[0:2],0,row[2:]])\n</code></pre>\n\n<p>and the output is:</p>\n\n<pre><code>[['1', '2'], 0, ['3', '4', '5']]\n</code></pre>\n\n<p>but what I am looking for is:</p>\n\n<pre><code>['1', '2', 0, '3', '4', '5']\n</code></pre>\n"}, {"tags": ["python", "opencv", "scikit-learn", "pca"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1449095127, "post_id": 34054031, "comment_id": 55862773, "body": "your <code>mean</code> matrix is not of type <code>uint8</code>, <code>uint16</code> nor <code>float32</code>. Try with something like: <code>mean = cv2.normalize(mean, dim, norm_type=cv2.NORM_MINMAX, dtype=uint8)</code> and then call <code>cvtColor</code>"}, {"owner": {"reputation": 65, "user_id": 3962073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b94daae7d6dce0722696fe96e102f66a?s=128&d=identicon&r=PG&f=1", "display_name": "Iwn", "link": "https://stackoverflow.com/users/3962073/iwn"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1449095689, "post_id": 34054031, "comment_id": 55863043, "body": "This works but if i want do <code>cv2.imshow(&#39;image&#39;,mean)</code>  then image is black. When i do <code>cv2.imshow(&#39;image&#39;,mean)</code>  before <code>cv2.cvtColor(mean, cv2.COLOR_RGB2BGR)</code> i see correct image."}], "owner": {"reputation": 65, "user_id": 3962073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b94daae7d6dce0722696fe96e102f66a?s=128&d=identicon&r=PG&f=1", "display_name": "Iwn", "link": "https://stackoverflow.com/users/3962073/iwn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 541, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1449094041, "creation_date": 1449094041, "question_id": 34054031, "link": "https://stackoverflow.com/questions/34054031/python-sklearn-pca-mean-convert-to-opencv2-rgb-image", "title": "Python: sklearn PCA mean convert to opencv2 RGB image", "body": "<p>Iam trying convert PCA mean to RGB, but i get error: <code>cv2.error: /build/buildd/opencv-2.4.8+dfsg1/modules/imgproc/src/color.cpp:3642: error: (-215) depth == CV_8U || depth == CV_16U || depth == CV_32F in function cvtColor</code> this error was caused by line <code>mean = cv2.cvtColor(mean, cv2.COLOR_RGB2BGR)</code></p>\n\n<p>My code:</p>\n\n<pre><code>def featureExtract(self, images, dim, k = 4):\n    faces_rowvecs = []\n    nDim = None\n    for image in images:\n        image = cv2.resize(image, dim, interpolation = cv2.INTER_AREA)\n        nDim = image.shape \n        faces_rowvecs.append(image.flatten(\"C\").copy())\n    faceData = np.vstack(faces_rowvecs)\n    pca = PCA(n_components=k)\n    pca.fit(faceData)\n\n    mean = pca.mean_\n    mean = mean.reshape(nDim[0],nDim[1], nDim[2])\n    mean = cv2.normalize(mean, dim, norm_type=cv2.NORM_MINMAX)\n    mean= cv2.cvtColor(mean, cv2.COLOR_RGB2BGR)\n</code></pre>\n"}, {"tags": ["python", "graphlab"], "answers": [{"tags": [], "owner": {"reputation": 1017, "user_id": 1347807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886cb971056c2bdfb1593ee857b2bf91?s=128&d=identicon&r=PG", "display_name": "papayawarrior", "link": "https://stackoverflow.com/users/1347807/papayawarrior"}, "is_accepted": false, "score": 0, "last_activity_date": 1449163921, "creation_date": 1449163921, "answer_id": 34072531, "question_id": 34054030, "link": "https://stackoverflow.com/questions/34054030/graphlab-add-column-with-sum-over-different-existing-columns/34072531#34072531", "title": "Graphlab: add column with sum over different existing columns", "body": "<p>If 'measure1', 'measure2', etc are already in separate columns, there's no need to unpack the values. If this is the case, the \"+\" operator should do the trick:</p>\n\n<pre><code>import graphlab\nsf = graphlab.SFrame({'measure1': [1, 1, 2], 'measure2': [4, 1, 3]})\nsf['total'] = sf['measure1'] + sf['measure2']\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 5630872, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/86303034d3c8382bdf530be6a9382595?s=128&d=identicon&r=PG&f=1", "display_name": "dsent", "link": "https://stackoverflow.com/users/5630872/dsent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 647, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449163921, "creation_date": 1449094034, "question_id": 34054030, "link": "https://stackoverflow.com/questions/34054030/graphlab-add-column-with-sum-over-different-existing-columns", "title": "Graphlab: add column with sum over different existing columns", "body": "<p>I have an SFrame with multiple columns like 'measure1','measure2','measure3',..</p>\n\n<p>I'd like to add a new column 'total_measure' with the totals of measure1 + measure2 + measure3 etc.</p>\n\n<p>I thought this would to the job: cdss_analysis.unstack(column=['measure1','measure2'],new_column_name='total_measure')</p>\n\n<p>But that doesn't seem to be correct.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 26832, "user_id": 799163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QGcz9.jpg?s=128&g=1", "display_name": "RemcoGerlich", "link": "https://stackoverflow.com/users/799163/remcogerlich"}, "edited": false, "score": 4, "creation_date": 1449094029, "post_id": 34053985, "comment_id": 55862208, "body": "Try adding &#39;import sys&#39; and then after the print <code>sys.stdout.flush()</code>. Maybe it&#39;s buffering the output."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449094109, "post_id": 34053985, "comment_id": 55862263, "body": "What do you mean by &quot;only prints the first string&quot;? Are you saying it only prints <code>At iteration </code>, and the rest of the line only shows up after a second has passed?"}, {"owner": {"reputation": 818, "user_id": 5374625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kolvP.png?s=128&g=1", "display_name": "Knells", "link": "https://stackoverflow.com/users/5374625/knells"}, "edited": false, "score": 0, "creation_date": 1449094310, "post_id": 34053985, "comment_id": 55862374, "body": "Thought this was interesting so tried it on my machine. Using IDLE on Python 3.5, Win8 &amp; it outputs all 9 lines entirely fine."}, {"owner": {"reputation": 846, "user_id": 4858016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hf8Zy.jpg?s=128&g=1", "display_name": "Rubal", "link": "https://stackoverflow.com/users/4858016/rubal"}, "edited": false, "score": 0, "creation_date": 1449094379, "post_id": 34053985, "comment_id": 55862415, "body": "Can you provide some expected output?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "reply_to_user": {"reputation": 26832, "user_id": 799163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QGcz9.jpg?s=128&g=1", "display_name": "RemcoGerlich", "link": "https://stackoverflow.com/users/799163/remcogerlich"}, "edited": false, "score": 0, "creation_date": 1449094729, "post_id": 34053985, "comment_id": 55862603, "body": "What @RemcoGerlich said should work try it out and comment results"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1449098438, "post_id": 34053985, "comment_id": 55864187, "body": "Cannot reproduce in the console on Python3.5."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1449098603, "post_id": 34053985, "comment_id": 55864245, "body": "What output are you getting exactly? Do you mean that you get <code>&quot;At iteration &quot;</code>, then <code>&quot;1: k=1. At iteration &quot;</code> ?"}, {"owner": {"reputation": 21, "user_id": 5632404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e29d5eb89eaccf9bcc9cb2873bcecc?s=128&d=identicon&r=PG&f=1", "display_name": "Eskil Rydhe", "link": "https://stackoverflow.com/users/5632404/eskil-rydhe"}, "reply_to_user": {"reputation": 26832, "user_id": 799163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QGcz9.jpg?s=128&g=1", "display_name": "RemcoGerlich", "link": "https://stackoverflow.com/users/799163/remcogerlich"}, "edited": false, "score": 0, "creation_date": 1449099438, "post_id": 34053985, "comment_id": 55864555, "body": "Edit 1: SOLVED using the suggestion by @RemcoGerlich: &quot;Try adding &#39;import sys&#39; and then after the print sys.stdout.flush().&quot; Many thanks!"}], "owner": {"reputation": 21, "user_id": 5632404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e29d5eb89eaccf9bcc9cb2873bcecc?s=128&d=identicon&r=PG&f=1", "display_name": "Eskil Rydhe", "link": "https://stackoverflow.com/users/5632404/eskil-rydhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1449099412, "creation_date": 1449093872, "last_edit_date": 1449099412, "question_id": 34053985, "link": "https://stackoverflow.com/questions/34053985/why-does-python-not-print-what-i-ask-it-to-print-while-in-a-loop", "title": "Why does Python not print what I ask it to print while in a loop?", "body": "<p>I have a code where I iterate a certain scheme using a loop. At each iteration I want a printout of what happened. A silly minimal working example is shown below:</p>\n\n<pre><code>import time\nIter=0\nfor k in range(1,10):\n    Iter=Iter+1 \n    print('At iteration ',Iter,': k=',k,'.',sep='')\n    time.sleep(1)\n</code></pre>\n\n<p>The <code>time.sleep(1)</code> is there to make my problem visible for such a short iteration scheme: At each iteration, the <code>print()</code> function only prints the first string. The rest appears only after the <code>print()</code> function is called in the next iteration. If I use the exact same syntax for the <code>print()</code> function outside of the loop, then I obtain the output I want. How can I get the same output when I'm inside the loop?</p>\n\n<p>I'm new at this, but I suspect it could be relevant that I use the Anaconda3 (64-bit) distribution of Python 3.5 with the Spyder IDE on a Win10 machine.</p>\n\n<p>Edit 1: SOLVED using the suggestion by @RemcoGerlich: \"Try adding 'import sys' and then after the print sys.stdout.flush().\" Many thanks!</p>\n"}, {"tags": ["python", "string", "integer"], "comments": [{"owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "edited": false, "score": 0, "creation_date": 1449093816, "post_id": 34053885, "comment_id": 55862091, "body": "Why don&#39;t you use a loop? You are repeating too many things."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "edited": false, "score": 0, "creation_date": 1449093903, "post_id": 34053885, "comment_id": 55862143, "body": "Does it only do it for car 2 or all cars?"}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449094001, "post_id": 34053885, "comment_id": 55862195, "body": "if user input is 1, then car2 through car5 won&#39;t exist. I would expect a &#39;car2 not defined&#39; error."}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449094025, "post_id": 34053885, "comment_id": 55862204, "body": "it only calculates the speed for one car and then it has the error on the rest"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "reply_to_user": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449094063, "post_id": 34053885, "comment_id": 55862239, "body": "@Ryan what could I do to actually make them exist?"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449094118, "post_id": 34053885, "comment_id": 55862268, "body": "@ Ahsanul Haque im not this good at coding :/"}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449094127, "post_id": 34053885, "comment_id": 55862271, "body": "What are you doing with the user input? It looks like you want data for all 5 cars regardless of what the user inputs."}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449094156, "post_id": 34053885, "comment_id": 55862287, "body": "Also you will have an error when you do car5[16:18] because you made car5 a short string."}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "reply_to_user": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449094215, "post_id": 34053885, "comment_id": 55862327, "body": "@ryan but what could I do?thats what I mean"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449094282, "post_id": 34053885, "comment_id": 55862357, "body": "should I after they check 1 car ask them if they want to check another one and so on to car5?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "reply_to_user": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449094385, "post_id": 34053885, "comment_id": 55862417, "body": "@Ryan you should go ahead and make an answer :) seems like you know the problem"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "edited": false, "score": 0, "creation_date": 1449094445, "post_id": 34053885, "comment_id": 55862449, "body": "@Kuboos Do you want it to print only the car the user chooses?"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449094788, "post_id": 34053885, "comment_id": 55862623, "body": "@DeliriousSyntax yes but I want to print it in a text file if the number plate is in the incorrect format"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5416120"}, "reply_to_user": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449094796, "post_id": 34054144, "comment_id": 55862625, "body": "@Kuboos What&#39;s your plan for fixing the problem with the 5th car??"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449095019, "post_id": 34054144, "comment_id": 55862716, "body": "I will give it a time at which it passed the first sensor and then a time at which it passed the last sensor"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449095074, "post_id": 34054144, "comment_id": 55862741, "body": "i have a question, how would i get a non standard number plate printed in a separate txt file that it was speeding?"}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449095187, "post_id": 34054144, "comment_id": 55862798, "body": "There are many questions with good examples of printing to a file in Python. I would start there. Then try your own, and if it doesn&#39;t work, ask another question. :)"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449095446, "post_id": 34054144, "comment_id": 55862935, "body": "if re.match (&quot;[A-Z][A-Z][0-9][0-9][A-Z][A-Z][A-Z]:              print &quot; &quot;"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449095474, "post_id": 34054144, "comment_id": 55862949, "body": "ryan that gives me an EOL while scanning"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449095572, "post_id": 34054144, "comment_id": 55862995, "body": "@Ryan im trying to get to code to figure out if the cars number plate is correct to the format and if it is the code should print nothing and if it isn&#39;t in correct format i want it to print that the car was speeding in a separate text file called nonstandardreg.Can you help again please?"}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449096184, "post_id": 34054144, "comment_id": 55863278, "body": "I don&#39;t know what a valid plate is."}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449096305, "post_id": 34054144, "comment_id": 55863324, "body": "the valid plate is letter,letter,number,number,letter,letter,letter UK format"}, {"owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "edited": false, "score": 0, "creation_date": 1449096412, "post_id": 34054144, "comment_id": 55863363, "body": "if re.match([A-Z][A-Z]\\s[0-9][0-9][A-Z][A-Z][A-Z], plate): print &quot;&quot; where plate is a substring of car that contains only the plate."}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449098106, "post_id": 34054144, "comment_id": 55864050, "body": "@Ryan could you make a bit where if the plate is not in the correct format it will print it in a separate text file please?"}], "tags": [], "owner": {"reputation": 1942, "user_id": 3772464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51cd977ddf14eaa3c9e9ab1d9510e652?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3772464/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1449095720, "last_edit_date": 1449095720, "creation_date": 1449094481, "answer_id": 34054144, "question_id": 34053885, "link": "https://stackoverflow.com/questions/34053885/integer-error-in-code/34054144#34054144", "title": "Integer error in code", "body": "<p>From your comments, it sounds like you're not sure what you want the program to do. It's possible you're looking for something like this:</p>\n\n<pre><code>if userinput ==('1')or userinput ==(' 1')or userinput ==('car1')or userinput ==(' car1'):\n car = \"AD 12DER, 12:36:01, 12:36:40\"\nelif userinput ==('2')or userinput ==(' 2')or userinput ==('car2')or userinput ==(' car2'):\n car = \"DE 61FE1, 02:47:01, 02:47:30\"\nelif userinput == ('3')or userinput ==(' 3')or userinput ==('car3')or userinput ==(' car3'):\n car = \"AF 012GL, 04:08:32, 07:32:28\"\nelif userinput == ('4')or userinput ==(' 4')or userinput ==('car4')or userinput ==(' car4'):\n car = \"TG 043WE, 08:45:23, 12:14:56\"\nelif userinput == ('5')or userinput ==(' 5')or userinput ==('car5')or userinput ==(' car5'):\n car = \"TL 12AWY\"\nelse:\n print(\"Invalid Car\")\ncarTime1 =int(car[16:18])\ncarTime2 =int(car[26:28])\ncarTimeEnd = carTime2-carTime1\ncarSpeed = distance/carTimeEnd\n</code></pre>\n\n<p>Now, if they try to use car5, you'll have a problem because you shortened that one to not include timing information.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449095852, "post_id": 34054418, "comment_id": 55863135, "body": "if re.match (&quot;[A-Z][A-Z][0-9][0-9][A-Z][A-Z][A-Z]&quot;): TypeError: match() missing 1 required positional argument: &#39;string&#39; could you help me with this problem, im trying to get the code to know if the car reg is in correct format and if it is i want it to print nothing and if it is in incorrect format i want the code to print that the car was speeding + its reg in a separate text file called nonstandard reg"}, {"owner": {"reputation": 4791, "user_id": 3899471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f65ff7602231a1a1653a7debf32e7f?s=128&d=identicon&r=PG&f=1", "display_name": "kvorobiev", "link": "https://stackoverflow.com/users/3899471/kvorobiev"}, "reply_to_user": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449096093, "post_id": 34054418, "comment_id": 55863241, "body": "@Kuboos <code>re.match</code> <a href=\"https://docs.python.org/2/library/re.html#re.match\" rel=\"nofollow noreferrer\">requires</a> two arguments - pattern and string. And you trying it with only pattern arg."}], "tags": [], "owner": {"reputation": 4791, "user_id": 3899471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f65ff7602231a1a1653a7debf32e7f?s=128&d=identicon&r=PG&f=1", "display_name": "kvorobiev", "link": "https://stackoverflow.com/users/3899471/kvorobiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1449095644, "creation_date": 1449095644, "answer_id": 34054418, "question_id": 34053885, "link": "https://stackoverflow.com/questions/34053885/integer-error-in-code/34054418#34054418", "title": "Integer error in code", "body": "<p>Your code have several issues. At first, this condition </p>\n\n<pre><code>if userinput ==('1')or(' 1')or('car1')or(' car1'):\n</code></pre>\n\n<p>will be always evaluated to <code>True</code>. You should use</p>\n\n<pre><code>if userinput ==('1') or userinput==(' 1') or userinput==('car1') or userinput == (' car1'):\n</code></pre>\n\n<p>instead. And so on with <code>elif</code> statements. Then you need only one <code>car</code> variable:</p>\n\n<pre><code>if userinput ==('1') or userinput==(' 1') or userinput==('car1') or userinput == (' car1'):\n car = \"AD 12DER, 12:36:01, 12:36:40\"\n...\nelif userinput ==('5') or userinput==(' 5') or userinput==('car5') or userinput == (' car5'):\n car = \"TL 12AWY\"\nelse:\n print(\"Invalid Car\")\ncarTime1 =int(car[16:18])\ncarTime2 =int(car[26:28])\ncarTimeEnd = carTime2-carTime1\ncarSpeed = distance/carTimeEnd\n</code></pre>\n\n<p>And you need properly init <code>car</code> variable for car5.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449095960, "post_id": 34054458, "comment_id": 55863190, "body": "could you also add a bit where it prints nothing if the number plate is in the format letter letter number number letter letter letter and if it isn&#39;t to print the car + its reg and say it was speeding in a separate text file called non standard reg"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449096058, "post_id": 34054458, "comment_id": 55863229, "body": "your code has a syntax error on the speed calculator"}, {"owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "reply_to_user": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449096152, "post_id": 34054458, "comment_id": 55863264, "body": "Runs successfully on my machine, probably you are using python3.x and error is due to <code>raw_input</code>."}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449096190, "post_id": 34054458, "comment_id": 55863282, "body": "what would i need to change then?"}, {"owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "reply_to_user": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449096303, "post_id": 34054458, "comment_id": 55863323, "body": "may  use <code>userinput = str(input(&quot;Choose a car number 1 to 5&quot;)).strip()</code> in place of current input statement."}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449234427, "post_id": 34054458, "comment_id": 55930114, "body": "@ Ahsanul Haque that has still not fixed the invalid syntax on the print speed_calculator.."}, {"owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "reply_to_user": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449246549, "post_id": 34054458, "comment_id": 55938254, "body": "Use <code>print( speed_calculator(car_dict[key]))</code> in place of <code>print speed_calculator(car_dict[key])</code>"}, {"owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "edited": false, "score": 0, "creation_date": 1449252422, "post_id": 34054458, "comment_id": 55941645, "body": "could you make a bit where it sets the car number plate to [0:8] and also if the re does not match A-Z][A-Z]\\s[0-9][0-9][A-Z][A-Z][A-Z] the car number plate needs to be printed in a text file"}], "tags": [], "owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "is_accepted": false, "score": 0, "last_activity_date": 1449095828, "creation_date": 1449095828, "answer_id": 34054458, "question_id": 34053885, "link": "https://stackoverflow.com/questions/34053885/integer-error-in-code/34054458#34054458", "title": "Integer error in code", "body": "<p>I don't quite sure if this code is helpful to you, but you should redesign your code, unless it is very hard to find bugs. </p>\n\n<pre><code>car_dict={\n\n'car1': \"AD 12DER, 12:36:01, 12:36:40\",\n'car2': \"DE 61FE1, 02:47:01, 02:47:30\",\n'car3': \"AF 012GL, 04:08:32, 07:32:28\",\n'car4': \"TG 043WE, 08:45:23, 12:14:56\",\n'car5': \"TL 12AWY\"\n}\n\ndef speed_calculator(st, distance =200):\n    start_time= int(st[16:18])\n    end_time= int(st[26:28])\n    time_in_between = end_time - start_time\n    return distance/time_in_between\n\nuserinput = raw_input(\"Choose a car number 1 to 5\").strip()\n\n\nfor key in car_dict:\n    if userinput in key:\n        print speed_calculator(car_dict[key])\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5632049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/802eb04608e9ae8ac68b7e021a87a31b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuboos", "link": "https://stackoverflow.com/users/5632049/kuboos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1449235261, "creation_date": 1449093564, "last_edit_date": 1449235261, "question_id": 34053885, "link": "https://stackoverflow.com/questions/34053885/integer-error-in-code", "title": "Integer error in code", "body": "<p>I am trying to write some code that will calculate the speed of cars with different number plates, correct format and incorrect. The program will print speeding cars with incorrect format in a separate text file. This is the error I just got and I have no idea on how to solve it:</p>\n\n<pre><code>import re\ndistance = 200\nspeedlimit = 50\nnonstandardReg = open(\"text.txt \",\"w\")\n\nuserinput = input(\"Choose a car number 1 to 5\")\nif userinput ==('1')or(' 1')or('car1')or(' car1'):\n car1 = \"AD 12DER, 12:36:01, 12:36:40\"\nelif userinput ==('2')or(' 2')or('car2')or(' car2'):\n car2 = \"DE 61FE1, 02:47:01, 02:47:30\"\nelif userinput == ('3')or(' 3')or('car3')or(' car3'):\n car3 = \"AF 012GL, 04:08:32, 07:32:28\"\nelif userinput == ('4')or(' 4')or('car4')or(' car4'):\n car4 = \"TG 043WE, 08:45:23, 12:14:56\"\nelif userinput == ('5')or(' 5')or('car5')or(' car5'):\n car5 = \"TL 12AWY\"\nelse:\n print(\"Invalid Car\")\ncar1Time1 =int(car1[16:18])\ncar1Time2 =int(car1[26:28])\ncar1TimeEnd = car1Time2-car1Time1\ncar1Speed = distance/car1TimeEnd\n\ncar2Time1 =int(car2[16:18])\ncar2Time2 =int(car2[26:28])\ncar2TimeEnd = car2Time2-car2Time1\ncar2Speed = distance/car2TimeEnd\n\ncar3Time1 =int(car3[16:18])\ncar3Time2 =int(car3[26:28])\ncar3TimeEnd = car3Time2-car3Time1\ncar3Speed = distance/car3TimeEnd\n\ncar4Time1 =int(car4[16:18])\ncar4Time2 =int(car4[26:28])\ncar4TimeEnd = car4Time2-car4Time1\ncar4Speed = distance/car4TimeEnd\n\ncar5Time1 =int(car5[16:18])\ncar5Time2 =int(car5[26:28])\ncar5TimeEnd = car5Time2-car5Time1\ncar5Speed = distance/car5TimeEnd\n</code></pre>\n\n<p>This is the error I get:</p>\n\n<pre><code>car2Time1 =(int(car2[16:18]))\nValueError: invalid literal for int() with base 10: ''\n</code></pre>\n"}, {"tags": ["python", "numbers"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1449093867, "post_id": 34053876, "comment_id": 55862122, "body": "What do you expect <code>primedet%1</code> to do?"}], "answers": [{"tags": [], "owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "is_accepted": false, "score": 0, "last_activity_date": 1449420144, "creation_date": 1449420144, "answer_id": 34119944, "question_id": 34053876, "link": "https://stackoverflow.com/questions/34053876/wieferich-prime-numbers/34119944#34119944", "title": "Wieferich prime numbers", "body": "<p>The use of modular arithmetic make this a more easy task, because you want that 2<sup>p-1</sup> -1 be divisible by p<sup>2</sup>, that is 2<sup>p-1</sup> -1 = 0 (<i>mod</i> p<sup>2</sup>) rearrange this you get 2<sup>p-1</sup> = 1 (<i>mod</i> p<sup>2</sup>) in python this is</p>\n\n<pre><code>(2**(p-1)) % (p**2) == 1\n</code></pre>\n\n<p>but that is inefficient because first calculate 2<sup>p-1</sup> to then take the modulo, but don't worry, python have a efficient way of doing modular exponentiation with the 3 argument call of pow</p>\n\n<pre><code>pow(2,p-1,p**2) == 1 \n</code></pre>\n\n<p>finally you also need that p be a prime, then with implementing a primality test you are ready to go</p>\n\n<pre><code>def isPrime(n:int) -&gt; bool:\n    return True #put here the code for primality check\n\ndef find_Wieferich_prime_in(star,end) -&gt; [int]:\n    resul = list()\n    for p in range(star,end):\n        if isPrime(p) and pow(2,p-1,p**2)==1:\n            resul.append(p)\n    return resul\n\nprint(find_Wieferich_prime_in(0,4000))\n</code></pre>\n\n<p>and that is everything that you need to find the <a href=\"https://en.wikipedia.org/wiki/Wieferich_prime\" rel=\"nofollow\">Wieferich prime</a></p>\n\n<p>Your other mistake is in here</p>\n\n<pre><code>primedet=(c**2)/((2**(c-1))-1)\n</code></pre>\n\n<p>2<sup>c-1</sup>-1 is always bigger that c<sup>2</sup> (to a sufficient large c ) so the division c<sup>2</sup>/(2<sup>c-1</sup>-1) &lt; 1 </p>\n\n<p>furthermore </p>\n\n<pre><code>primedet%1\n</code></pre>\n\n<p>because <i>primedet</i> is a float, when you do float%1 it give you the decimal part of that number, mix round issues and you will get too many zeros,\nbut more than that, what you are testing there is something that is not the definition of a Wieferich prime.  </p>\n"}, {"tags": [], "owner": {"reputation": 900, "user_id": 806398, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ccefe7d08287f77229cdf85ca7e242a0?s=128&d=identicon&r=PG", "display_name": "razvanc", "link": "https://stackoverflow.com/users/806398/razvanc"}, "is_accepted": false, "score": 0, "last_activity_date": 1449425741, "creation_date": 1449425741, "answer_id": 34120894, "question_id": 34053876, "link": "https://stackoverflow.com/questions/34053876/wieferich-prime-numbers/34120894#34120894", "title": "Wieferich prime numbers", "body": "<p>This is very simple. Based on your statement, the numbers have the property of being prime <strong>prime</strong> and <strong>Wieferich</strong> just by the means of the equation you gave, so (2<sup>(p - 1)</sup> - 1) % p<sup>2</sup> == 0 returns <code>True</code> means you found a number. As explained by @Copperfield, this can be written as (2<sup>(p-1)</sup>) % p<sup>2</sup> == 1. Then you can do (with the help of <a href=\"https://docs.python.org/2/library/functions.html#pow\" rel=\"nofollow\">pow</a> which is faster):</p>\n\n<pre><code># I assume we have `start` and `end` given by user. Now we can safely\n# start from the first odd number greater or equal to start so we can\n# stride by 2 in the `range` call which will half our iteration\nstart = start + 1 if start % 2 == 0 else start\n# next I'm using filter because it's faster then the normal `for` loop\n# and gives us exactly what we need, that is the list of numbers\n# that pass the equation test. Note I've also included the `end`\n# number. If I were to write `range(start, end, 2)` we wouldn't\n# test for `end`\nrestult = list(filter(lambda n: pow(2, n - 1, n*n) == 1, range(start, end + 2, 2)))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5632419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62f3482f81dbeb2d48b24ca1fe180f63?s=128&d=identicon&r=PG&f=1", "display_name": "driftlad", "link": "https://stackoverflow.com/users/5632419/driftlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449425741, "creation_date": 1449093530, "last_edit_date": 1449424193, "question_id": 34053876, "link": "https://stackoverflow.com/questions/34053876/wieferich-prime-numbers", "title": "Wieferich prime numbers", "body": "<p>I need help with an assigment I'm working on. the task is to write a program to find all Wieferich prime numbers between two given values. The equation to determine if it is a Wieferich prime is this:\n  a Wieferich prime number p is such that p<sup>2</sup> divides 2<sup>(p \u2212 1)</sup> \u2212 1</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>start=int(input(\"enter start value\"))\nend=int(input(\"enter end value\"))\n\nfor c in range(start,end):\n  if c%2!=0:\n    primedet=(c**2)/((2**(c-1))-1)\n\n    if primedet%1==0:\n      print(c,\" is a Wiefrich Prime\")\n</code></pre>\n\n<p>Every time I run it, it just prints all the odd numbers between the given values. I know that there are only two Wieferich prime numbers: 1093 and 3011. I really just not sure how to make this work. Any guidance would be appreciated.</p>\n"}, {"tags": ["python", "excel", "python-2.7"], "comments": [{"owner": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1449093635, "post_id": 34053852, "comment_id": 55861998, "body": "define &quot;doesn&#39;t seem to work for me&quot;"}, {"owner": {"reputation": 55, "user_id": 4793864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c4a1b7f21204b9ff9a1ddbc9524376?s=128&d=identicon&r=PG&f=1", "display_name": "supernoob", "link": "https://stackoverflow.com/users/4793864/supernoob"}, "reply_to_user": {"reputation": 13866, "user_id": 54200, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6261c8ab215b8069e8290516c80445d8?s=128&d=identicon&r=PG", "display_name": "KevinDTimm", "link": "https://stackoverflow.com/users/54200/kevindtimm"}, "edited": false, "score": 0, "creation_date": 1449093801, "post_id": 34053852, "comment_id": 55862082, "body": "Sorry, it throws multiple errors. &quot;Missing module docstring&quot; &quot;Redefining &#39;file_list&#39; from outer scope&quot; &quot;Invalid constant name &#39;file_list&#39;&quot; etc"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1449093927, "post_id": 34053852, "comment_id": 55862154, "body": "So post the traceback."}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1449094009, "post_id": 34053852, "comment_id": 55862198, "body": "No, edit your question so that it includes the traceback in a readable form."}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1449094408, "post_id": 34053852, "comment_id": 55862426, "body": "I will tell you one thing: <code>os.getenv(&#39;C:\\Test&#39;)</code> is not likely to be what you really want. <code>os.getenv</code> is for retrieving environment variables. Environment variables are the things that show up when you open a command prompt (the one that comes with Windows, not Python) and type <code>set</code> at the prompt."}, {"owner": {"reputation": 55, "user_id": 4793864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c4a1b7f21204b9ff9a1ddbc9524376?s=128&d=identicon&r=PG&f=1", "display_name": "supernoob", "link": "https://stackoverflow.com/users/4793864/supernoob"}, "edited": false, "score": 0, "creation_date": 1449094817, "post_id": 34053852, "comment_id": 55862634, "body": "Thanks John, any recommended commands for opening the directory?"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1449095101, "post_id": 34053852, "comment_id": 55862753, "body": "check out the glob module"}, {"owner": {"reputation": 4226, "user_id": 1435522, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/64b784f3c432be87b9ded46b3d7ca9ec?s=128&d=identicon&r=PG", "display_name": "ilyas patanam", "link": "https://stackoverflow.com/users/1435522/ilyas-patanam"}, "edited": false, "score": 0, "creation_date": 1449269831, "post_id": 34053852, "comment_id": 55949867, "body": "Hi, @supernoob did my edit (the double backslash) resolve your issue. If this or any answer has solved your question please consider <a href=\"http://meta.stackexchange.com/q/5234/179419\">accepting it</a> it by clicking the check-mark. This indicates to the wider community that you&#39;ve found a solution and gives some reputation to both the answerer and yourself. There is no obligation to do this.   PS: You&#39;re missing parentheses in your <code>filename.endswith</code> method please refer to the last line of my answer."}, {"owner": {"reputation": 55, "user_id": 4793864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c4a1b7f21204b9ff9a1ddbc9524376?s=128&d=identicon&r=PG&f=1", "display_name": "supernoob", "link": "https://stackoverflow.com/users/4793864/supernoob"}, "edited": false, "score": 0, "creation_date": 1449594271, "post_id": 34053852, "comment_id": 56070202, "body": "Thanks for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 4226, "user_id": 1435522, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/64b784f3c432be87b9ded46b3d7ca9ec?s=128&d=identicon&r=PG", "display_name": "ilyas patanam", "link": "https://stackoverflow.com/users/1435522/ilyas-patanam"}, "is_accepted": true, "score": 0, "last_activity_date": 1449269245, "last_edit_date": 1449269245, "creation_date": 1449095192, "answer_id": 34054312, "question_id": 34053852, "link": "https://stackoverflow.com/questions/34053852/search-for-multiple-excel-file-types-in-directory/34054312#34054312", "title": "Search for Multiple Excel File Types in Directory", "body": "<p>Your current error is <strong>IOError: [Errno 22] invalid mode ('U') or filename</strong>.</p>\n\n<p>A single backslash is an escape character (used to encode special characters such as new lines <code>\\n</code> or tabs <code>\\t</code>). When you want python to print a backslash, we need to use a double backslash.\n<code>C:\\\\Test</code> This should resolve this error.</p>\n\n<p><strong>Other possible errors:</strong></p>\n\n<ol>\n<li>How you have defined <code>start_dir</code>:</li>\n</ol>\n\n<p><code>start_dir</code> should not be defined using os.getenv. Currently, <code>os.getenv</code> looks up <code>C:\\Test</code> in the os.environ dictionary which maps names such as environment variables such as <code>HOME</code> or <code>Users</code> to their values (in this example, the home directory or user name). You should check if this is returning what you expect, but I suspect it isn't. I would instead just define the directory for startdir as a string, <code>startdir = 'C:\\Test</code>. </p>\n\n<p>I would bring <code>start_dir</code> within the scope of the function. My suggestion would be to do <code>def excelfiles(pattern, startdir = 'C:\\Test'):</code> This way you have the option of providing a different directory when calling the function but if you don't the function will use the default value which is <code>C:\\Test</code>. </p>\n\n<ol start=\"2\">\n<li>Unpacking the tuple returned by <code>os.walk()</code> in for loop:</li>\n</ol>\n\n<p>In every pass of the loop, <code>os.walk</code> will return a tuple with three values:\nthe name of the directory it found, list of subdirectories in the current directory, and list of files in the current directory. To unpack a tuple of 3 values, you need 3 variables in your for loop. Your current for loop <code>for root, files in os.walk(start_dir):</code> only accommodates two values. You need to change this to <code>for root, subdir, files in os.walk(start_dir):</code></p>\n\n<p><strong>A suggestion:</strong></p>\n\n<p>To simplify your code I'd suggest looking at the documentation for str.endswith. str.endswith can accept a tuple and will return true if str has one of the suffices in the tuple. In your case, <code>filename.endswith(\".xls\") or filename.endswith(\".xlsx\") or filename.endswith(\".xlsm\"):</code> can be simplified to  <code>filename.endswith((\".xls\", \".xlsm\", \".xlsx\"))</code></p>\n\n<p>Edit: I provided the backslash solution for the IOError.</p>\n"}], "owner": {"reputation": 55, "user_id": 4793864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c4a1b7f21204b9ff9a1ddbc9524376?s=128&d=identicon&r=PG&f=1", "display_name": "supernoob", "link": "https://stackoverflow.com/users/4793864/supernoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1333, "favorite_count": 0, "accepted_answer_id": 34054312, "answer_count": 1, "score": 1, "last_activity_date": 1449402324, "creation_date": 1449093405, "last_edit_date": 1449402324, "question_id": 34053852, "link": "https://stackoverflow.com/questions/34053852/search-for-multiple-excel-file-types-in-directory", "title": "Search for Multiple Excel File Types in Directory", "body": "<p>I'm trying to create a script that will search for excel files within a single directory. The script will search for a substring in the file name, then record the name of the file which contains that substring to a new excel file.</p>\n\n<p>I'm new to Python and my programming skills are still sub-par, so I'm looking for a starting point here.</p>\n\n<p>Here's some code that I've found and tried to modify, but it doesn't seem to work for me.</p>\n\n<p>Here's the traceback:</p>\n\n<blockquote>\n  <p>Traceback (most recent call last): </p>\n  \n  <p>File \"C:\\Python27\\lib\\py_compile.py\", line 106, in compile with open(file, 'U') as f:</p>\n  \n  <p>IOError: [Errno 22] invalid mode ('U') or filename: ''</p>\n</blockquote>\n\n<pre><code>    import os, fnmatch\n\n    start_dir = os.getenv('C:\\Test')\n\n    def excelfiles(pattern):\n        file_list = []\n        for root, files in os.walk(start_dir):\n            for filename in files:\n                if fnmatch.fnmatch(filename.lower(), pattern):\n                    if filename.endswith(\".xls\") or filename.endswith(\".xlsx\") or filename.endswith(\".xlsm\"):\n                        file_list.append(os.path.join(root, filename))\n        return file_list\n\n    file_list = excelfiles('*SP*')\n    for i in file_list: \n        print i\n</code></pre>\n\n<p><strong><em>Edit</em></strong>\nSo here's what I came up with after considering the recommendations. It still doesn't work and I'm not sure why (hence \"supernoob\").</p>\n\n<pre><code>    import os, fnmatch\n\n    def excelfiles(pattern, start_dir = 'C:\\Test'):\n        file_list = []\n        for root, subdir, files in os.walk(start_dir):\n            for filename in files:\n                if fnmatch.fnmatch(filename.lower(), pattern):\n                    if filename.endswith(\".xls\", \".xlsx\", \".xlsm\"):\n                        file_list.append(os.path.join(root, filename))\n        return file_list\n\n    file_list = excelfiles('*SP*')\n    for i in file_list: \n        print i\n</code></pre>\n\n<blockquote>\n  <p>Traceback (most recent call last):</p>\n  \n  <p>File \"C:\\Python27\\lib\\py_compile.py\", line 106, in compile\n      with open(file, 'U') as f:</p>\n  \n  <p>IOError: [Errno 22] invalid mode ('U') or filename: ''</p>\n</blockquote>\n"}, {"tags": ["python", "flask", "peewee"], "answers": [{"tags": [], "owner": {"reputation": 3854, "user_id": 4890577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aehYB.png?s=128&g=1", "display_name": "lord63. j", "link": "https://stackoverflow.com/users/4890577/lord63-j"}, "is_accepted": true, "score": 1, "last_activity_date": 1449104200, "creation_date": 1449104200, "answer_id": 34056009, "question_id": 34053814, "link": "https://stackoverflow.com/questions/34053814/cant-remove-objects-from-list-after-mysql-query-with-peewee-in-flask/34056009#34056009", "title": "Can&#39;t remove objects from list after MySQL query with peewee in Flask", "body": "<p>No, you can't reach the <code>del teamNews</code> line, because you've already return the response, thus the previous results still lies there.</p>\n\n<p>Instead, you can do this way:</p>\n\n<pre><code># No teamNews here.\n\ndef getTeamNews(team_to_query):\n    # Since you don't do any other things, directly assign it is enough, right?\n    # No need for a list comprehension or a for loop here.\n    teamNews = teams.select().where(teams.Nba == team_to_query)\n    return teamNews \n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4138694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9IcOA.png?s=128&g=1", "display_name": "sabiv", "link": "https://stackoverflow.com/users/4138694/sabiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 34056009, "answer_count": 1, "score": 0, "last_activity_date": 1449104200, "creation_date": 1449093267, "last_edit_date": 1449093807, "question_id": 34053814, "link": "https://stackoverflow.com/questions/34053814/cant-remove-objects-from-list-after-mysql-query-with-peewee-in-flask", "title": "Can&#39;t remove objects from list after MySQL query with peewee in Flask", "body": "<p>I have a couple of links on my website's homepage, that links to subpages where I list some team news (list of titles and links). </p>\n\n<p>When the user click on the <code>/Nba-Teams/Lakers</code> he/she will be forwarded to a new view where everything works fine (I list the related news about Lakers) at the first time, but when the user goes back to the homepage and clicks the <code>/Nba-Teams/Spurs</code> link it will also work, but the list in my view will always contain the previous content. </p>\n\n<p>It's like everytime when the query is called the previous results aren't disappear from the <code>teamNews</code> list. I'm really new in Python so I would really appreciate if somebody could show me what I'm doing wrong. </p>\n\n<p>I assume that the <code>teamNews</code> doesn't get nulled when I load a new page, but unfortunately I couldn't make it sure. As you can see I've tried to remove it's content right after I passed the data to the html, but nothing happens. </p>\n\n<p>Since the html uses the content of the <code>nbaTeamNews</code> variable, I\u00b4m unsure if it's a HTML formatting issue. </p>\n\n<pre><code>teamNews = []\n\ndef getTeamNews (team_to_query):\n\n    for obj in teams.select().where(teams.Nba == team_to_query):\n        teamNews.append(obj)\n    return teamNews    \n\n@app.route('/Nba-Teams/&lt;team&gt;')\ndef team_page(team):\n\n    return render_template(\"teams.html\", nbaTeamNews=getTeamNews(team))\n    del teamNews\n</code></pre>\n\n<p>html:</p>\n\n<pre><code>{% block body %}\n&lt;ul class=entries&gt;\n  {% for entry in nbaTeamNews %}\n    &lt;li&gt;&lt;h2&gt;&lt;a href=\"{{ entry.slug }}\"&gt;{{ entry.newsTitle }}&lt;/a&gt;&lt;/h2&gt;\n  {% else %}\n    &lt;li&gt;&lt;em&gt;Unbelievable.  No entries here so far&lt;/em&gt;\n  {% endfor %}\n  &lt;/ul&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "opencv", "cuda"], "comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1449093533, "post_id": 34053806, "comment_id": 55861934, "body": "What is the full path to libcudart.so.6.5 on your system? It&#39;s likely that <code>&#47;usr&#47;local&#47;cuda</code> is actually a symlink on your system that actually points to <code>&#47;usr&#47;local&#47;cuda-7.5</code>, so the <code>&#47;usr&#47;local&#47;cuda&#47;lib64</code> entry in your <code>LD_LIBRARY_PATH</code> won&#39;t allow codes that are built against CUDA 6.5 to find the appropriate libraries. You could try adding the exact path to libcudart.so.6.5 to your <code>LD_LIBRARY_PATH</code>. Regarding the &quot;wrong&quot; libcudart.so, the application will &quot;look for&quot; whichever one it was built against (linked against). An app linked against CUDA 6.5 can&#39;t use the CUDA 7.5 libraries instead"}, {"owner": {"reputation": 593, "user_id": 2434201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/54c8612090ec1daa71bd95d34efe0360?s=128&d=identicon&r=PG", "display_name": "horaceT", "link": "https://stackoverflow.com/users/2434201/horacet"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1449099348, "post_id": 34053806, "comment_id": 55864518, "body": "full path : /usr/local/cuda-6.5/lib64. And yes, /usr/local/cuda indeed points to cuda-7.5."}, {"owner": {"reputation": 593, "user_id": 2434201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/54c8612090ec1daa71bd95d34efe0360?s=128&d=identicon&r=PG", "display_name": "horaceT", "link": "https://stackoverflow.com/users/2434201/horacet"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1449100060, "post_id": 34053806, "comment_id": 55864776, "body": "The OpenCV was just built rebuilt from source with cmake :                                       cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D WITH_TBB=ON -D BUILD_NEW_PYTHON_SUPPORT=ON -D WITH_V4L=ON -D INSTALL_C_EXAMPLES=ON -D INSTALL_PYTHON_EXAMPLES=ON -D BUILD_EXAMPLES=ON -D WITH_QT=ON -D WITH_OPENGL=ON .."}, {"owner": {"reputation": 593, "user_id": 2434201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/54c8612090ec1daa71bd95d34efe0360?s=128&d=identicon&r=PG", "display_name": "horaceT", "link": "https://stackoverflow.com/users/2434201/horacet"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1449100199, "post_id": 34053806, "comment_id": 55864820, "body": "Notice it does <i>not</i> have the flag CUDA_GENERATION=Auto. I&#39;m wondering if that might be needed."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1449100347, "post_id": 34053806, "comment_id": 55864860, "body": "add <code>&#47;usr&#47;local&#47;cuda-6.5&#47;lib64</code> to your <code>LD_LIBRARY_PATH</code>"}, {"owner": {"reputation": 593, "user_id": 2434201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/54c8612090ec1daa71bd95d34efe0360?s=128&d=identicon&r=PG", "display_name": "horaceT", "link": "https://stackoverflow.com/users/2434201/horacet"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1449100723, "post_id": 34053806, "comment_id": 55864977, "body": "hey it&#39;s getting more strange. I just looked into CMakeCache.txt, which is where the dependencies are specified. I see CUDA_VERSION:STRING=7.5. So why is it looking for 6.5?"}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1449101019, "post_id": 34053806, "comment_id": 55865053, "body": "You are confusing compiling the code with runtime behavior.  The error message &quot;libcudart.so.6.5: cannot open shared object file:...&quot; is arising at <b>runtime</b>, and it is the runtime linker that cannot find the file.  This is because at compile time, the code was linked against that file.  You fix the runtime linker problem by modifying your <code>LD_LIBRARY_PATH</code>, without trying to recompile anything.  If you are now asking how to rebuild OpenCV using CMake, that looks like a different question to me.  Why don&#39;t you try the suggestion I made about your <code>LD_LIBRARY_PATH</code> and re-run the python test?"}, {"owner": {"reputation": 593, "user_id": 2434201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/54c8612090ec1daa71bd95d34efe0360?s=128&d=identicon&r=PG", "display_name": "horaceT", "link": "https://stackoverflow.com/users/2434201/horacet"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1449103111, "post_id": 34053806, "comment_id": 55865660, "body": "@RobertCrovella, your suggestion works! Big thank. Then I realize something that explains why on earth cv2 is tied to cuda 6.5. The reason is : I actually have another opencv folder somewhere, which was built long ago, before I got cuda 7.5, and my &#39;PYTHONPATH&#39; points to the /release/lib of this directory. So, whenever i start python and import, it&#39;s grabing stuff from this old dir."}, {"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 1, "creation_date": 1449120992, "post_id": 34053806, "comment_id": 55870991, "body": "@horaceT: please add a short answer summarising the solution you found to the problem"}], "answers": [{"tags": [], "owner": {"reputation": 593, "user_id": 2434201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/54c8612090ec1daa71bd95d34efe0360?s=128&d=identicon&r=PG", "display_name": "horaceT", "link": "https://stackoverflow.com/users/2434201/horacet"}, "is_accepted": false, "score": 3, "last_activity_date": 1449359127, "last_edit_date": 1449359127, "creation_date": 1449345597, "answer_id": 34110189, "question_id": 34053806, "link": "https://stackoverflow.com/questions/34053806/import-cv2-error-libcudart-so-6-5-no-such-file/34110189#34110189", "title": "import cv2 error, libcudart.so.6.5 no such file", "body": "<p>To make the long story short, here is what happened. </p>\n\n<p>I have two OpenCVs in my system. One was compiled and built on CUDA 6.5, but it was never <code>make install</code>ed. Before last week, I had <code>PYTHONPATH</code> set to the <code>.../release/lib</code> of this local folder, which is somewhere in my user home directory. At the same time, my <code>LD_LIBRARY_PATH</code> has a subpath <code>/usr/local/cuda/lib64</code>, where <code>/usr/local/cuda</code> is actually a symlink pointing to CUDA 6.5.</p>\n\n<p>Previously when I invoked <code>import cv2</code>, python knew where to look thanks to <code>PYTHONPATH</code> and opencv knew where to find CUDA thanks to <code>LD_LIBRARY_PATH</code>. </p>\n\n<p>Last week I bought a new nvidia GPU; when installing it I upgraded CUDA to 7.5. In doing so, the symlink <code>/usr/local/cuda</code> was changed to point to cuda-7.5.</p>\n\n<p>Thus, when invoking in python, cv2 was still going to the same symlink, but saw all the stuff associated with 7.5, and it was confused.</p>\n\n<p>To make cv2 work again, all i have to do is to add the cuda 6.5 to <code>LD_LIBRARY_PATH</code>, as suggested by Mr. Crovella. However, that doesn't solve my problem because I want to use the new opencv compiled on CUDA 7.5, but that belongs to a different thread...</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9215366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oi9FF.jpg?s=128&g=1", "display_name": "jaylee", "link": "https://stackoverflow.com/users/9215366/jaylee"}, "is_accepted": false, "score": 1, "last_activity_date": 1515928714, "last_edit_date": 1515928714, "creation_date": 1515927444, "answer_id": 48248865, "question_id": 34053806, "link": "https://stackoverflow.com/questions/34053806/import-cv2-error-libcudart-so-6-5-no-such-file/48248865#48248865", "title": "import cv2 error, libcudart.so.6.5 no such file", "body": "<p>I had the same problem. I solved that problem by installing `opencv-python:</p>\n\n<pre><code>$pip install opencv-python\n</code></pre>\n\n<p>this instruction works for me</p>\n"}], "owner": {"reputation": 593, "user_id": 2434201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/54c8612090ec1daa71bd95d34efe0360?s=128&d=identicon&r=PG", "display_name": "horaceT", "link": "https://stackoverflow.com/users/2434201/horacet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3148, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1515928714, "creation_date": 1449093255, "question_id": 34053806, "link": "https://stackoverflow.com/questions/34053806/import-cv2-error-libcudart-so-6-5-no-such-file", "title": "import cv2 error, libcudart.so.6.5 no such file", "body": "<p>When invoked in python, cv2 is looking for the wrong libcudart.so. Here is the error after import cv2</p>\n\n<pre><code>ImportError: libcudart.so.6.5: cannot open shared object file: No such file or directory.\n</code></pre>\n\n<p>I have both CUDA 6.5 and 7.5 installed on my system. But other apps seem to have no problem finding 7.5.</p>\n\n<p>Here is my settings : ubuntu 14.04, OpenCV 3.0.0, python 2.7, cuda 6.5 and cuda 7.5 </p>\n\n<p>The LD_LIBRARY_PATH looks like</p>\n\n<pre><code>/usr/local/cuda/lib64:/usr/local/lib:/home/rspace/shogun-4.0.0/build-release/src/shogun:/usr/lib:/usr/lib/x86_64-linux-gnu\n</code></pre>\n\n<p>NOTE: the /usr/local/cuda is actually a link to /usr/local/cuda-7.5.</p>\n"}, {"tags": ["python", "python-2.7", "google-app-engine"], "answers": [{"tags": [], "owner": {"reputation": 7498, "user_id": 3783770, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/8FsfL.png?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/3783770/kris"}, "is_accepted": false, "score": 1, "last_activity_date": 1450248418, "creation_date": 1450248418, "answer_id": 34305538, "question_id": 34053745, "link": "https://stackoverflow.com/questions/34053745/how-are-google-endpoints-method-arguments-handled/34305538#34305538", "title": "How are Google Endpoints Method Arguments Handled?", "body": "<p>Yeah, which I assume is based on a <code>protorpc</code> message class that you wrote.</p>\n\n<p>So let's try for an example here:</p>\n\n<pre><code>class ProfileMiniForm(messages.Message):\n    message = messages.StringField(1)\n\nclass ProfileForm(messages.Message):\n    response = messages.StringField(1)\n</code></pre>\n\n<p>If these are your input and output message classes, you would access the <code>message</code> data member coming from a request like this: </p>\n\n<pre><code>@endpoints.method(ProfileMiniForm, ProfileForm,\n        path='profile', http_method='POST', name='saveProfile')\ndef saveProfile(self, request):\n    \"\"\"Update &amp; return user profile.\"\"\"\n    # get the ProfileMiniForm instance data in the request object \n    message = request.message\n    # return message object here, in this case a ProfileForm instance\n    return ProfileForm(response = message) \n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 4761373, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cvfvq.jpg?s=128&g=1", "display_name": "xDr_Johnx", "link": "https://stackoverflow.com/users/4761373/xdr-johnx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450248418, "creation_date": 1449093065, "question_id": 34053745, "link": "https://stackoverflow.com/questions/34053745/how-are-google-endpoints-method-arguments-handled", "title": "How are Google Endpoints Method Arguments Handled?", "body": "<p>If I have the Endpoints method:</p>\n\n<pre><code>@endpoints.method(ProfileMiniForm, ProfileForm,\n        path='profile', http_method='POST', name='saveProfile')\ndef saveProfile(self, request):\n    \"\"\"Update &amp; return user profile.\"\"\"\n    return self._doProfile(request)\n</code></pre>\n\n<p>In the saveProfile function, when it takes in request, is it taking in an instance of ProfileMiniform?</p>\n"}, {"tags": ["python", "csv", "beautifulsoup"], "comments": [{"owner": {"reputation": 836, "user_id": 1474727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41068ad3501beb3e85fb387f4063233a?s=128&d=identicon&r=PG", "display_name": "burhan", "link": "https://stackoverflow.com/users/1474727/burhan"}, "edited": false, "score": 0, "creation_date": 1449093208, "post_id": 34053722, "comment_id": 55861761, "body": "When you work with csv in Python, I would suggest you to use <code>pandas</code>. It will make your life much easier."}], "answers": [{"tags": [], "owner": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "is_accepted": false, "score": 0, "last_activity_date": 1449093580, "creation_date": 1449093580, "answer_id": 34053892, "question_id": 34053722, "link": "https://stackoverflow.com/questions/34053722/python-csv-module-only-getting-one-cell-filled/34053892#34053892", "title": "python CSV module- Only getting one cell filled", "body": "<p>You can try this:</p>\n\n<pre><code>with open('csvnametest.csv', \"w\") as csv_file:\n    writer = csv.writer(csv_file)\n    for row in eateryName:\n        writer.writerow(row)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 916, "user_id": 4121965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed23d9f7bf180f9632e5f2de23264c4f?s=128&d=identicon&r=PG", "display_name": "fpes", "link": "https://stackoverflow.com/users/4121965/fpes"}, "is_accepted": false, "score": 0, "last_activity_date": 1449093918, "creation_date": 1449093918, "answer_id": 34054001, "question_id": 34053722, "link": "https://stackoverflow.com/questions/34053722/python-csv-module-only-getting-one-cell-filled/34054001#34054001", "title": "python CSV module- Only getting one cell filled", "body": "<p>it seems like you are trying to write out the entire list into the CSV. You should do the following instead:</p>\n\n<pre><code>import csv\nimport requests\nfrom bs4 import BeautifulSoup\nimport pprint\nimport sys\n\nurl = 'http://www.yellowpages.com/search?search_terms=restaurants&amp;geo_location_terms=Charleston%2C%20SC'\nresponse = requests.get(url)\nhtml = response.content\n\nsoup = BeautifulSoup(html, \"html.parser\")\ng_data = soup.find_all(\"div\", {\"class\": \"info\"}) #this isolates the big chunks of data which houses our child tags\nfor item in g_data: #iterates through big chunks    \n    try:\n        eateryName = (item.contents[0].find_all(\"a\", {\"class\": \"business-name\"})[0].text)\n    except:\n        pass\n\n    print(eateryName)\n    with open('csvnametest.csv', \"wa\") as csv_file:\n        writer = csv.writer(csv_file)\n        writer.writerow([eateryName])\n</code></pre>\n\n<p>The reason is that your write is outside the loop so you only write the last entry, and your write only has \"w\" which only writes over and doesnt append.</p>\n"}], "owner": {"reputation": 1, "user_id": 4228761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d97f07174e650e8d76531444be67e3f?s=128&d=identicon&r=PG&f=1", "display_name": "sschucktown", "link": "https://stackoverflow.com/users/4228761/sschucktown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449093918, "creation_date": 1449093006, "question_id": 34053722, "link": "https://stackoverflow.com/questions/34053722/python-csv-module-only-getting-one-cell-filled", "title": "python CSV module- Only getting one cell filled", "body": "<p>I am currently studying python at school and have been playing around with BeautifulSoup and it has been pretty straight forward.  I am now trying to export a list using the csv module for python but it is not functioning the way I want it to.  Here is my code:</p>\n\n<pre><code>import csv\nimport requests\nfrom bs4 import BeautifulSoup\nimport pprint\nimport sys\n\nurl = 'http://www.yellowpages.com/search?search_terms=restaurants&amp;geo_location_terms=Charleston%2C%20SC'\nresponse = requests.get(url)\nhtml = response.content\n\nsoup = BeautifulSoup(html, \"html.parser\")\ng_data = soup.find_all(\"div\", {\"class\": \"info\"}) #this isolates the big chunks of data which houses our child tags\nfor item in g_data: #iterates through big chunks    \n    try:\n        eateryName = (item.contents[0].find_all(\"a\", {\"class\": \"business-name\"})[0].text)\n    except:\n        pass\n\n    print(eateryName)\nwith open('csvnametest.csv', \"w\") as csv_file:\n    writer = csv.writer(csv_file)\n    writer.writerow([eateryName])\n</code></pre>\n\n<p>I am getting all of the restaurant names(as evidence by the print function) but when I open up the Excel document it just has the last name on the list instead of all the names.  I've tried to append the eateryName but then it puts all of the names in one cell.enter code here</p>\n"}, {"tags": ["python", "numpy", "split"], "comments": [{"owner": {"reputation": 71, "user_id": 4801232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JS8_5r163g0/AAAAAAAAAAI/AAAAAAAAAAA/Mk55a8_losk/photo.jpg?sz=128", "display_name": "Francisco Zamora-Mart&#237;nez", "link": "https://stackoverflow.com/users/4801232/francisco-zamora-mart%c3%adnez"}, "edited": false, "score": 2, "creation_date": 1449093170, "post_id": 34053681, "comment_id": 55861736, "body": "I see you are working with numpy, so in this case you can use <a href=\"http://scikit-learn.org/stable/modules/cross_validation.html\" rel=\"nofollow noreferrer\">sklearn cross-validation</a> and split your data or even train your model with k folds."}, {"owner": {"reputation": 405, "user_id": 1990748, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iRVGJ.jpg?s=128&g=1", "display_name": "Bibrak", "link": "https://stackoverflow.com/users/1990748/bibrak"}, "reply_to_user": {"reputation": 71, "user_id": 4801232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JS8_5r163g0/AAAAAAAAAAI/AAAAAAAAAAA/Mk55a8_losk/photo.jpg?sz=128", "display_name": "Francisco Zamora-Mart&#237;nez", "link": "https://stackoverflow.com/users/4801232/francisco-zamora-mart%c3%adnez"}, "edited": false, "score": 0, "creation_date": 1449095086, "post_id": 34053681, "comment_id": 55862744, "body": "@FranciscoZamora-Mart&#237;nez Yes, I check it and seems it should work but somehow my python cannot find the module sklearn.cross_validation. I need to do upgrading. Any other simple way to split?"}], "answers": [{"tags": [], "owner": {"reputation": 405, "user_id": 1990748, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iRVGJ.jpg?s=128&g=1", "display_name": "Bibrak", "link": "https://stackoverflow.com/users/1990748/bibrak"}, "is_accepted": false, "score": 0, "last_activity_date": 1449102410, "creation_date": 1449102410, "answer_id": 34055703, "question_id": 34053681, "link": "https://stackoverflow.com/questions/34053681/elegant-way-to-split-a-matrix-or-array-at-arbitrary-chunk-in-python/34055703#34055703", "title": "Elegant way to split a matrix (or array) at arbitrary chunk in Python", "body": "<p>I got it and </p>\n\n<pre><code>folds = np.concatenate([range(idx+1,10), range(0,idx)])\ntrainindices = range(0,0)\nfor i in folds:\n    trainindices = np.concatenate([trainindices, range(i*testsize, (i*testsize) + testsize)])\n\n\ntrainindices = map(int,trainindices)\n#print trainindices\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 1990748, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iRVGJ.jpg?s=128&g=1", "display_name": "Bibrak", "link": "https://stackoverflow.com/users/1990748/bibrak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449104326, "creation_date": 1449092895, "last_edit_date": 1449104326, "question_id": 34053681, "link": "https://stackoverflow.com/questions/34053681/elegant-way-to-split-a-matrix-or-array-at-arbitrary-chunk-in-python", "title": "Elegant way to split a matrix (or array) at arbitrary chunk in Python", "body": "<p>I am doing k-fold cross validation on a dataset and for that I need to split my data into two, one is the train set and other the test set. </p>\n\n<p>So far I have managed to split the dataset to be my testset by:</p>\n\n<pre><code>testindices = range(idx*testsize, (idx*testsize) + testsize) \ntestset = dataset[testindices,0:numfeatures] \n</code></pre>\n\n<p>where idx is that kth fold or in other words the chunk starting index. This is easy. I am stuck with how to get the other part, i.e. the trainset? Its basically a set different operation whereby the resulting trainset is all but the testset? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 4, "creation_date": 1449092232, "post_id": 34053439, "comment_id": 55861246, "body": "This is underspecified in the general case; say <code>B = [24, 35]</code>.  What would you want <code>C</code> to become?"}, {"owner": {"reputation": 176, "user_id": 2096642, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/w6fhT.jpg?s=128&g=1", "display_name": "Andres Alvarado", "link": "https://stackoverflow.com/users/2096642/andres-alvarado"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1449092752, "post_id": 34053439, "comment_id": 55861506, "body": "This is specific case. Just with one element in B"}], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 2096642, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/w6fhT.jpg?s=128&g=1", "display_name": "Andres Alvarado", "link": "https://stackoverflow.com/users/2096642/andres-alvarado"}, "edited": false, "score": 0, "creation_date": 1449092956, "post_id": 34053478, "comment_id": 55861618, "body": "For some reason I get this: [(&#39;2&#39;, &#39;A&#39;), (&#39;4&#39;, &#39;B&#39;), (&#39;2&#39;, &#39;C&#39;)]"}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "reply_to_user": {"reputation": 176, "user_id": 2096642, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/w6fhT.jpg?s=128&g=1", "display_name": "Andres Alvarado", "link": "https://stackoverflow.com/users/2096642/andres-alvarado"}, "edited": false, "score": 0, "creation_date": 1449093026, "post_id": 34053478, "comment_id": 55861653, "body": "Looks like your <code>B</code> is <code>&#39;24&#39;</code>, not <code>24</code>. Try <code>list(zip(itertools.cycle(map(int, B)), A))</code>"}, {"owner": {"reputation": 176, "user_id": 2096642, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/w6fhT.jpg?s=128&g=1", "display_name": "Andres Alvarado", "link": "https://stackoverflow.com/users/2096642/andres-alvarado"}, "edited": false, "score": 0, "creation_date": 1449093353, "post_id": 34053478, "comment_id": 55861837, "body": "Thanks mate. Sry Im quite new to Python"}], "tags": [], "owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "is_accepted": true, "score": 3, "last_activity_date": 1449093142, "last_edit_date": 1449093142, "creation_date": 1449092141, "answer_id": 34053478, "question_id": 34053439, "link": "https://stackoverflow.com/questions/34053439/merge-lists-with-different-size-fill-with-smallest/34053478#34053478", "title": "Merge lists with different size. Fill with smallest", "body": "<pre><code>&gt;&gt;&gt; A = ['A', 'B', 'C']\n&gt;&gt;&gt; B = [24]\n\n&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; list(zip(itertools.cycle(B), A))\n[(24, 'A'), (24, 'B'), (24, 'C')]\n</code></pre>\n\n<hr>\n\n<p>If your <code>B</code> is <code>['24']</code>, not <code>[24]</code>, try:</p>\n\n<pre><code>&gt;&gt;&gt; A = ['A', 'B', 'C']\n&gt;&gt;&gt; B = ['24']\n\n&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; list(zip(itertools.cycle(map(int, B)), A))\n[(24, 'A'), (24, 'B'), (24, 'C')]\n</code></pre>\n\n<p>I think you know the difference between int object and str object...</p>\n"}, {"comments": [{"owner": {"reputation": 176, "user_id": 2096642, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/w6fhT.jpg?s=128&g=1", "display_name": "Andres Alvarado", "link": "https://stackoverflow.com/users/2096642/andres-alvarado"}, "edited": false, "score": 0, "creation_date": 1449092972, "post_id": 34053492, "comment_id": 55861633, "body": "For some reason I get this: [(&#39;2&#39;, &#39;A&#39;), (&#39;4&#39;, &#39;B&#39;), (&#39;2&#39;, &#39;C&#39;)]"}, {"owner": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "reply_to_user": {"reputation": 176, "user_id": 2096642, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/w6fhT.jpg?s=128&g=1", "display_name": "Andres Alvarado", "link": "https://stackoverflow.com/users/2096642/andres-alvarado"}, "edited": false, "score": 0, "creation_date": 1449110401, "post_id": 34053492, "comment_id": 55867799, "body": "@andresAlvarado You won&#39;t get that output if you use the code as I have provided (including the assignment to <code>A</code> and <code>B</code>).  I can replicate your output only if <code>B</code> is a string literal (i.e., <code>B = &#39;24&#39;</code>) which is not a <i>list</i>, as indicated in your question."}], "tags": [], "owner": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "is_accepted": false, "score": 2, "last_activity_date": 1449092200, "creation_date": 1449092200, "answer_id": 34053492, "question_id": 34053439, "link": "https://stackoverflow.com/questions/34053439/merge-lists-with-different-size-fill-with-smallest/34053492#34053492", "title": "Merge lists with different size. Fill with smallest", "body": "<p>Without any external modules required, this would work for the specific case:</p>\n\n<pre><code>A = ['A', 'B', 'C']\nB = [24]\nC = zip(B * len(A), A)\nprint C\n\n[(24, 'A'), (24, 'B'), (24, 'C')]\n</code></pre>\n"}], "owner": {"reputation": 176, "user_id": 2096642, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/w6fhT.jpg?s=128&g=1", "display_name": "Andres Alvarado", "link": "https://stackoverflow.com/users/2096642/andres-alvarado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1449097062, "accepted_answer_id": 34053478, "answer_count": 2, "score": -1, "last_activity_date": 1449093142, "creation_date": 1449092028, "last_edit_date": 1449092292, "question_id": 34053439, "link": "https://stackoverflow.com/questions/34053439/merge-lists-with-different-size-fill-with-smallest", "closed_reason": "Needs details or clarity", "title": "Merge lists with different size. Fill with smallest", "body": "<p>I was wondering if is any module that does the following:</p>\n\n<pre><code>A = [ A, B, C ]\nB = [ 24 ]\n\nC = [ (24, A ), ( 24, B ) , (24, C) ]\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "scrapy", "pyquery"], "comments": [{"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1449093684, "post_id": 34053407, "comment_id": 55862019, "body": "I think this depends on the site you are crawling."}, {"owner": {"reputation": 136072, "user_id": 348785, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7f3dcb0c380783d1be77bfdd5fc5fda6?s=128&d=identicon&r=PG", "display_name": "kev", "link": "https://stackoverflow.com/users/348785/kev"}, "edited": false, "score": 0, "creation_date": 1449104528, "post_id": 34053407, "comment_id": 55866126, "body": "Did you try to <code>write</code>/<code>print</code> at the same time?"}, {"owner": {"reputation": 96, "user_id": 5144485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca7421b0a95f2dc52d081c7e62cfb0de?s=128&d=identicon&r=PG&f=1", "display_name": "AnovaConsultancy", "link": "https://stackoverflow.com/users/5144485/anovaconsultancy"}, "edited": false, "score": 0, "creation_date": 1449162805, "post_id": 34053407, "comment_id": 55897390, "body": "These codes are both in parse method. So, response doesn&#39;t change in same parse method."}, {"owner": {"reputation": 96, "user_id": 5144485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca7421b0a95f2dc52d081c7e62cfb0de?s=128&d=identicon&r=PG&f=1", "display_name": "AnovaConsultancy", "link": "https://stackoverflow.com/users/5144485/anovaconsultancy"}, "edited": false, "score": 0, "creation_date": 1449162835, "post_id": 34053407, "comment_id": 55897416, "body": "How it can be depend on the site if scrapy cannot run javascript code?"}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 5144485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca7421b0a95f2dc52d081c7e62cfb0de?s=128&d=identicon&r=PG&f=1", "display_name": "AnovaConsultancy", "link": "https://stackoverflow.com/users/5144485/anovaconsultancy"}, "is_accepted": true, "score": 0, "last_activity_date": 1449583907, "last_edit_date": 1449583907, "creation_date": 1449235894, "answer_id": 34089526, "question_id": 34053407, "link": "https://stackoverflow.com/questions/34053407/different-output-from-same-pyquery-object/34089526#34089526", "title": "Different Output From Same PyQuery Object", "body": "<p>I have solved the problem. The crawled website has second <code>&lt;html&gt;</code> tag in a combobox. </p>\n\n<p>I was using PyQuery and if there is any problem with tags in html structure PyQuery is not working. </p>\n\n<p>Now I have changed my selector to xpath and now it finds all a tags in the html.</p>\n"}], "owner": {"reputation": 96, "user_id": 5144485, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca7421b0a95f2dc52d081c7e62cfb0de?s=128&d=identicon&r=PG&f=1", "display_name": "AnovaConsultancy", "link": "https://stackoverflow.com/users/5144485/anovaconsultancy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 34089526, "answer_count": 1, "score": 0, "last_activity_date": 1449583907, "creation_date": 1449091870, "question_id": 34053407, "link": "https://stackoverflow.com/questions/34053407/different-output-from-same-pyquery-object", "title": "Different Output From Same PyQuery Object", "body": "<p>I am using scrapy in order to crawl a web site. </p>\n\n<pre><code>with open('test.html', 'wb') as f:\n        f.write(response.body)\n</code></pre>\n\n<p>With this block I am writing body to a file. When I open the file I can see many \"a\" tag. </p>\n\n<p>When I print the same thing with print. It shows only two \"a\" tags</p>\n\n<pre><code>print response.body\n</code></pre>\n\n<p>Do you have any idea what is happening here? </p>\n"}, {"tags": ["python", "matplotlib"], "owner": {"reputation": 193, "user_id": 2733800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7cbddcf9c9cfc84284cf5cee4490f1?s=128&d=identicon&r=PG", "display_name": "avi9526", "link": "https://stackoverflow.com/users/2733800/avi9526"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1449091835, "creation_date": 1449091835, "question_id": 34053392, "link": "https://stackoverflow.com/questions/34053392/how-to-fix-overlapping-tick-lines-in-matplotlib", "title": "How to fix overlapping tick lines in matplotlib", "body": "<p>When plotting with different colors for x and y axis - it's become visible that ticks overlapping badly with each other and take start from middle of axis line. With colorful axis and high dpi it's look terrible. How to fix it?</p>\n\n<p><a href=\"https://i.stack.imgur.com/ELcIV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELcIV.png\" alt=\"example\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1449092001, "post_id": 34053360, "comment_id": 55861123, "body": "<i>&quot;I do not understand how a @classmethod can call another method pertaining in the same class&quot;</i> - by accessing it via <code>cls</code>. <code>self</code> isn&#39;t part of a class method (as you can see from the signature...), you have access to the <i>class</i>, not an <i>instance</i>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1449092298, "post_id": 34053360, "comment_id": 55861265, "body": "If you call it without an instance, where do you expect <code>a</code>, <code>b</code>, and <code>c</code> to come from?"}, {"owner": {"reputation": 1688, "user_id": 462901, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5d714db7c79f90cf258281cd24d44a0e?s=128&d=identicon&r=PG", "display_name": "Nicola Vianello", "link": "https://stackoverflow.com/users/462901/nicola-vianello"}, "edited": false, "score": 0, "creation_date": 1449093051, "post_id": 34053360, "comment_id": 55861668, "body": "you are right I know. Sorry if the question was too simple and for the misspelling"}, {"owner": {"reputation": 984, "user_id": 5303401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903c091913c61d706eb066e1513a2438?s=128&d=identicon&r=PG&f=1", "display_name": "Ozan", "link": "https://stackoverflow.com/users/5303401/ozan"}, "edited": false, "score": 0, "creation_date": 1449093535, "post_id": 34053360, "comment_id": 55861935, "body": "Will you have one, only one instance of <code>MyClass</code> in your application?"}, {"owner": {"reputation": 1688, "user_id": 462901, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5d714db7c79f90cf258281cd24d44a0e?s=128&d=identicon&r=PG", "display_name": "Nicola Vianello", "link": "https://stackoverflow.com/users/462901/nicola-vianello"}, "edited": false, "score": 0, "creation_date": 1449127838, "post_id": 34053360, "comment_id": 55873852, "body": "No, in principle I can call MyClass different times, (with different values of a,b and c)"}, {"owner": {"reputation": 984, "user_id": 5303401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/903c091913c61d706eb066e1513a2438?s=128&d=identicon&r=PG&f=1", "display_name": "Ozan", "link": "https://stackoverflow.com/users/5303401/ozan"}, "edited": false, "score": 0, "creation_date": 1449162813, "post_id": 34053360, "comment_id": 55897400, "body": "How will your class methods know which instance should be in charge?"}], "answers": [{"tags": [], "owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "is_accepted": true, "score": 0, "last_activity_date": 1449092069, "creation_date": 1449092069, "answer_id": 34053454, "question_id": 34053360, "link": "https://stackoverflow.com/questions/34053360/python-class-with-mixed-classmethod-and-methods/34053454#34053454", "title": "python class with mixed @classmethod and methods", "body": "<p>You renamed the parameter into <code>cls</code>, so you have to change <code>self</code> in the function body into <code>cls</code>, too. The names <code>self</code> and <code>cls</code> are just normal identifiers, a convention, unlike e.g. C++'s <code>this</code>.</p>\n\n<pre><code>@classmethod\ndef one(cls, a, b, c):\n    d = cls.two()\n    e = cls.three()\n    cos(2*d+3*e)\n</code></pre>\n\n<p>works the same as</p>\n\n<pre><code>@classmethod\ndef one(we_need_more_unicorns, a, b, c):\n    d = we_need_more_unicorns.two()\n    e = we_need_more_unicorns.three()\n    cos(2*d+3*e)\n</code></pre>\n\n<p>Or a more reasonable identifer like <code>Cls</code> (with an uppercase C to denote that it is a class), which is seen sometimes, too.</p>\n"}], "owner": {"reputation": 1688, "user_id": 462901, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5d714db7c79f90cf258281cd24d44a0e?s=128&d=identicon&r=PG", "display_name": "Nicola Vianello", "link": "https://stackoverflow.com/users/462901/nicola-vianello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 34053454, "answer_count": 1, "score": 0, "last_activity_date": 1449092248, "creation_date": 1449091713, "question_id": 34053360, "link": "https://stackoverflow.com/questions/34053360/python-class-with-mixed-classmethod-and-methods", "title": "python class with mixed @classmethod and methods", "body": "<p>Hi I'm developing a class in a project with different collaborators. I've been able to implement the class with different method and all is working properly. Basically my present situation is the following</p>\n\n<pre><code>class MyClass(object):\n    def __init__(self,a,b,c):\n        self.a = a\n        self.b = b\n        self.c = c  \n\n    def one(self,**kwargs):\n        d = self.two()\n        e = self.three()\n        # make something using a an b like \n        return 2*d + 3*e\n\n    def two(self,**kwargs):\n        # this uses a for example \n        return self.a*2 + self.b**self.c\n    def three(self, **kwargs):\n        # this uses b and c\n        return self.b/self.c - self.a/3\n</code></pre>\n\n<p>These are clearly examples and there are more complicated stuff going on. The problem is that this class can be called only through an instance</p>\n\n<pre><code>[1]: x=MyClass(a,b,c)\n[2]: y=x.one()\n</code></pre>\n\n<p>The class is inserted in a larger project and the other collaborators would like to call one without the istance directly as </p>\n\n<pre><code>[1]: y = MyClass.one(a,b,c)\n[2]: z = MyClass.two(a,b,c)\n[3]: x = MyClass.three(a,b,c)\n</code></pre>\n\n<p>I know that I can obtain this by using decorators, like @classmethod. For example for one I could do like </p>\n\n<pre><code>@classmethod\ndef one(cls, a, b, c):\n    d = self.two()\n    e = self.three()\n    cos(2*d+3*e)\n</code></pre>\n\n<p>but this actually don't work because it raises an error as self is not defined. My problem is that I do not understand how a @classmethod can call another method pertaining in the same class if I did not make an instance. BTW I'm working on python 2.7\nThanks for any clue. I've tried to search on the various @classmethod question but did not find the answer (or maybe I did not understand it)</p>\n"}, {"tags": ["python", "django", "geojson", "geos"], "comments": [{"owner": {"reputation": 353, "user_id": 2793424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c035d6846e1c469a4388328e8b02c3e?s=128&d=identicon&r=PG", "display_name": "Christian Bouvier", "link": "https://stackoverflow.com/users/2793424/christian-bouvier"}, "edited": false, "score": 0, "creation_date": 1449093904, "post_id": 34053328, "comment_id": 55862144, "body": "Problem solved! The rings are not closed. They need to have the same start and end."}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 2793424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c035d6846e1c469a4388328e8b02c3e?s=128&d=identicon&r=PG", "display_name": "Christian Bouvier", "link": "https://stackoverflow.com/users/2793424/christian-bouvier"}, "is_accepted": true, "score": 4, "last_activity_date": 1449093716, "creation_date": 1449093716, "answer_id": 34053934, "question_id": 34053328, "link": "https://stackoverflow.com/questions/34053328/error-encountered-checking-geometry-returned-from-geos-c-function/34053934#34053934", "title": "Error encountered checking Geometry returned from GEOS C function", "body": "<p>I found the problem with my data.</p>\n\n<p>The working code has the same start and end but my data doesn't.</p>\n\n<p>So, this fix the problem</p>\n\n<pre><code>mp2 = GEOSGeometry('{\"type\":\"MultiPolygon\", \"coordinates\": [[[[-56.14914894104003, -33.189642368629116], [-56.14914894104003, -33.18583537264943], [-56.14185333251953, -33.18583537264943], [-56.14185333251953, -33.189642368629116], [-56.14914894104003, -33.189642368629116]], [[-56.14743232727051, -33.18834944515198], [-56.14743232727051, -33.186769179430186], [-56.14494323730469, -33.186769179430186], [-56.14494323730469, -33.18834944515198], [-56.14743232727051, -33.18834944515198]]], [[[-56.14957809448242, -33.19244363735929], [-56.14957809448242, -33.19000151065257], [-56.14434242248535, -33.19000151065257], [-56.14434242248535, -33.19244363735929], [-56.14957809448242, -33.19244363735929]]]]}')\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 2793424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c035d6846e1c469a4388328e8b02c3e?s=128&d=identicon&r=PG", "display_name": "Christian Bouvier", "link": "https://stackoverflow.com/users/2793424/christian-bouvier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1329, "favorite_count": 1, "accepted_answer_id": 34053934, "answer_count": 1, "score": 3, "last_activity_date": 1449093716, "creation_date": 1449091606, "last_edit_date": 1449092531, "question_id": 34053328, "link": "https://stackoverflow.com/questions/34053328/error-encountered-checking-geometry-returned-from-geos-c-function", "title": "Error encountered checking Geometry returned from GEOS C function", "body": "<p>I'm using <a href=\"https://docs.djangoproject.com/en/1.9/ref/contrib/gis/geos/\" rel=\"nofollow\">GEOS API</a> with Python/Django.</p>\n\n<p>I want to create a MultiPolygon from geoJSON.\nI'm running the following code into a python Shell:</p>\n\n<pre><code>mp2 = GEOSGeometry('{\"type\":\"MultiPolygon\", \"coordinates\": [[[[-56.14914894104003, -33.189642368629116], [-56.14914894104003, -33.18583537264943], [-56.14185333251953, -33.18583537264943], [-56.14185333251953, -33.189642368629116]], [[-56.14743232727051, -33.18834944515198], [-56.14743232727051, -33.186769179430186], [-56.14494323730469, -33.186769179430186], [-56.14494323730469, -33.18834944515198]]], [[[-56.14957809448242, -33.19244363735929], [-56.14957809448242, -33.19000151065257], [-56.14434242248535, -33.19000151065257], [-56.14434242248535, -33.19244363735929]]]]}')\n</code></pre>\n\n<p>And getting the error:</p>\n\n<blockquote>\n  <p>\"GEOSException: Error encountered checking Geometry returned from GEOS\n  C function \"GEOSWKBReader_read_r\".\"</p>\n</blockquote>\n\n<p>While the next example code works well.</p>\n\n<pre><code>mp2 = GEOSGeometry('{\"type\": \"MultiPolygon\",\"coordinates\": [[[[-101.2, -1.2], [-101.8, -1.2], [-101.8, -1.8], [-101.2, -1.8], [-101.2, -1.2]],[[-101.2, -1.2], [-101.3, -1.2], [-101.3, -1.3], [-101.2, -1.3], [-101.2, -1.2]]],[[[-100.0, 0.0], [-101.0, 0.0], [-101.0, -1.0], [-100.0, -1.0], [-100.0, 0.0]]]]}')\n</code></pre>\n\n<p>I can't figure out which is the problem with my data. </p>\n\n<p>NOTE: Both examples are Multipolygon with holes.</p>\n"}, {"tags": ["python", "apache-spark", "apache-spark-sql", "pyspark"], "answers": [{"comments": [{"owner": {"reputation": 2432, "user_id": 42543, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9ef9a92220dc5b0df03e9f1ab1717ff0?s=128&d=identicon&r=PG", "display_name": "Nicholas White", "link": "https://stackoverflow.com/users/42543/nicholas-white"}, "edited": false, "score": 1, "creation_date": 1472649854, "post_id": 34058211, "comment_id": 65837464, "body": "<code>pyspark.sql.functions.broadcast</code> first appeared in 1.6, according to <a href=\"https://spark.apache.org/docs/1.6.2/api/python/pyspark.sql.html#module-pyspark.sql.functions\" rel=\"nofollow noreferrer\">the docs</a>"}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "reply_to_user": {"reputation": 2432, "user_id": 42543, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9ef9a92220dc5b0df03e9f1ab1717ff0?s=128&d=identicon&r=PG", "display_name": "Nicholas White", "link": "https://stackoverflow.com/users/42543/nicholas-white"}, "edited": false, "score": 1, "creation_date": 1472759730, "post_id": 34058211, "comment_id": 65894185, "body": "@NicholasWhite In PySpark wrapper has been added in 1.6 but Scala method is available since 1.5 so you can make it work in 1.5 as well."}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": false, "score": 44, "last_activity_date": 1449160084, "last_edit_date": 1449160084, "creation_date": 1449118865, "answer_id": 34058211, "question_id": 34053302, "link": "https://stackoverflow.com/questions/34053302/pyspark-and-broadcast-join-example/34058211#34058211", "title": "PySpark and broadcast join example", "body": "<p>Spark 1.3 doesn't support broadcast joins using DataFrame. In Spark >= 1.5.0 you can use <code>broadcast</code> function to apply broadcast joins:</p>\n\n<pre><code>from pyspark.sql.functions import broadcast\n\ndata1.join(broadcast(data2), data1.id == data2.id)\n</code></pre>\n\n<p>For older versions the only option is to convert to RDD and apply the same logic as in other languages. Roughly something like this:</p>\n\n<pre><code>from pyspark.sql import Row\nfrom pyspark.sql.types import StructType\n\n# Create a dictionary where keys are join keys\n# and values are lists of rows\ndata2_bd = sc.broadcast(\n    data2.map(lambda r: (r.id, r)).groupByKey().collectAsMap())\n\n\n# Define a new row with fields from both DFs\noutput_row = Row(*data1.columns + data2.columns)\n\n# And an output schema\noutput_schema = StructType(data1.schema.fields + data2.schema.fields)\n\n# Given row x, extract a list of corresponding rows from broadcast\n# and output a list of merged rows\ndef gen_rows(x):\n    return [output_row(*x + y) for y in data2_bd.value.get(x.id, [])]\n\n# flatMap and create a new data frame\njoined = data1.rdd.flatMap(lambda row: gen_rows(row)).toDF(output_schema)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 892, "user_id": 7256248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjPpu.jpg?s=128&g=1", "display_name": "y durga prasad", "link": "https://stackoverflow.com/users/7256248/y-durga-prasad"}, "is_accepted": false, "score": 0, "last_activity_date": 1524567077, "last_edit_date": 1524567077, "creation_date": 1486373179, "answer_id": 42064277, "question_id": 34053302, "link": "https://stackoverflow.com/questions/34053302/pyspark-and-broadcast-join-example/42064277#42064277", "title": "PySpark and broadcast join example", "body": "<h1>This code is working in spark-2.0.2-bin-hadoop2.7  version</h1>\n\n<pre><code>from pyspark.sql import SparkSession\n\nfrom pyspark.sql.functions import broadcast\n\nspark = SparkSession.builder.appName(\"Python Spark SQL basic \nexample\").config(\"spark.some.config.option\", \"some-value\").getOrCreate()\n\ndf2 = spark.read.csv(\"D:\\\\trans_mar.txt\",sep=\"^\");\n\ndf1=spark.read.csv(\"D:\\\\trans_feb.txt\",sep=\"^\");\n\nprint(df1.join(broadcast(df2),df2._c77==df1._c77).take(10))\n</code></pre>\n"}], "owner": {"reputation": 4291, "user_id": 3803714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/80a233f2647d5cec95b41c86c01140f0?s=128&d=identicon&r=PG&f=1", "display_name": "user3803714", "link": "https://stackoverflow.com/users/3803714/user3803714"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44604, "favorite_count": 9, "answer_count": 2, "score": 22, "last_activity_date": 1524567077, "creation_date": 1449091539, "last_edit_date": 1449117341, "question_id": 34053302, "link": "https://stackoverflow.com/questions/34053302/pyspark-and-broadcast-join-example", "title": "PySpark and broadcast join example", "body": "<p>I am using Spark 1.3 </p>\n\n<pre><code># Read from text file, parse it and then do some basic filtering to get   data1\ndata1.registerTempTable('data1')\n\n# Read from text file, parse it and then do some basic filtering to get data1\ndata2.registerTempTable('data2')\n\n# Perform join\ndata_joined = data1.join(data2, data1.id == data2.id);\n</code></pre>\n\n<p>My data is quite skewed and data2 (few KB) &lt;&lt; data1 (10s of GB) and the performance is quite bad. I was reading about broadcast join, but not sure how I can do the same using Python API.</p>\n"}, {"tags": ["python", "logging", "yaml", "uwsgi"], "comments": [{"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1449277072, "post_id": 34053273, "comment_id": 55951948, "body": "This is most likely because you construct your <code>logger</code> during module import before <code>setup_logging()</code> is called for the first time. Might be similar case as this <a href=\"http://stackoverflow.com/a/32585560/315168\">stackoverflow.com/a/32585560/315168</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1623, "user_id": 2398143, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a80e35b77564de45d5c4199b675fb394?s=128&d=identicon&r=PG", "display_name": "AnilJ", "link": "https://stackoverflow.com/users/2398143/anilj"}, "edited": false, "score": 0, "creation_date": 1449167356, "post_id": 34062239, "comment_id": 55900039, "body": "Oh.. do you know why it might be happening? Actually, I am specifying the configuration through a config (yaml) file. I observed when I force the time format through basicConfig API, it works. We have an opposite behaviors here."}, {"owner": {"reputation": 3832, "user_id": 2881414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HRfVv.jpg?s=128&g=1", "display_name": "Bastian Venthur", "link": "https://stackoverflow.com/users/2881414/bastian-venthur"}, "reply_to_user": {"reputation": 1623, "user_id": 2398143, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a80e35b77564de45d5c4199b675fb394?s=128&d=identicon&r=PG", "display_name": "AnilJ", "link": "https://stackoverflow.com/users/2398143/anilj"}, "edited": false, "score": 0, "creation_date": 1454417379, "post_id": 34062239, "comment_id": 58026130, "body": "Looks like they fixed the problem in a recent version of uwsgi."}], "tags": [], "owner": {"reputation": 3832, "user_id": 2881414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HRfVv.jpg?s=128&g=1", "display_name": "Bastian Venthur", "link": "https://stackoverflow.com/users/2881414/bastian-venthur"}, "is_accepted": true, "score": 2, "last_activity_date": 1456136895, "last_edit_date": 1456136895, "creation_date": 1449134966, "answer_id": 34062239, "question_id": 34053273, "link": "https://stackoverflow.com/questions/34053273/python-logger-not-picking-up-the-configure-time-format/34062239#34062239", "title": "Python logger not picking up the configure time format.", "body": "<p>I have the assumption that the <code>uwsgi</code> module is somehow hijacking Python's <code>logging</code> module. Setting the loglevel, logger name and logging itself works, but trying to modify the format even with something basic like:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>logging.basicConfig(level=logging.NOTSET, format='[%(process)-5d:%(threadName)-10s] %(name)-25s: %(levelname)-8s %(message)s')\nlogger = logging.getLogger(__name__)\n</code></pre>\n\n<p>has no effect.</p>\n\n<p><strong>Update:</strong> Here's a way to overwrite uWSGI's default logger:</p>\n\n<pre><code># remove uUWSGI's default logging configuration, this can be removed in\n# more recent versions of uWSGI\nroot = logging.getLogger()\nmap(root.removeHandler, root.handlers[:])\nmap(root.removeFilter, root.filters[:])\n\nlogger = logging.getLogger(__name__)\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(levelname)-8s %(asctime)-15s %(process)4d:%(threadName)-11s %(name)s %(message)s'\n)\n</code></pre>\n"}], "owner": {"reputation": 1623, "user_id": 2398143, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a80e35b77564de45d5c4199b675fb394?s=128&d=identicon&r=PG", "display_name": "AnilJ", "link": "https://stackoverflow.com/users/2398143/anilj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1014, "favorite_count": 0, "accepted_answer_id": 34062239, "answer_count": 1, "score": 2, "last_activity_date": 1456136895, "creation_date": 1449091442, "question_id": 34053273, "link": "https://stackoverflow.com/questions/34053273/python-logger-not-picking-up-the-configure-time-format", "title": "Python logger not picking up the configure time format.", "body": "<p>I am facing little strange issue where, the logger is not picking up the configured time stamp format (ascii) in the log message for the first time it is initialized. It by default prints the log time format in UTC, not sure why. </p>\n\n<p>Below snip is from the /proj/req_proc.py python code, which uwsgi starts, initialize the logger. The log_config.yaml contains a formatter definition to print timestamp in ascii format. </p>\n\n<pre><code>def setup_logging(default_path='=log_config.yaml',\n                  default_level=logging.INFO):\n\n    path = default_path\n    if os.path.exists(path):\n        with open(path, 'rt') as f:\n        config = yaml.load(f.read())\n        logging.config.dictConfig(config)\n</code></pre>\n\n<p>Below is the snip from my launch script which starts the uwsgi process.</p>\n\n<pre><code>uwsgi -M --processes 1 --threads 2 -s /tmp/uwsgi.sock --wsgi-file=/proj/req_proc.py --daemonize /dev/null\n</code></pre>\n\n<p>Is there any specific behavior either to python logger or to uwsgi, which picks up the UTC time format by default? When I restart my uwsgi process, it picks the correct/expected time stamp configured in the log_config.yaml</p>\n"}, {"tags": ["python", "gtk3"], "comments": [{"owner": {"reputation": 125, "user_id": 1180407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/807cdd2792bf25dfb52b1cc7e569a207?s=128&d=identicon&r=PG", "display_name": "Fabio Duran Verdugo", "link": "https://stackoverflow.com/users/1180407/fabio-duran-verdugo"}, "edited": false, "score": 0, "creation_date": 1449093325, "post_id": 34053262, "comment_id": 55861821, "body": "I think you can&#39;t do it. <a href=\"https://developer.gnome.org/gtk3/stable/GtkHeaderBar.html\" rel=\"nofollow noreferrer\">developer.gnome.org/gtk3/stable/GtkHeaderBar.html</a>  Maybe you can solved creating a custom dialog for this"}, {"owner": {"reputation": 33, "user_id": 4364566, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fT243KgAoc/AAAAAAAAAAI/AAAAAAAADlY/SrHxXMHpzSw/photo.jpg?sz=128", "display_name": "Ricardo Martinez", "link": "https://stackoverflow.com/users/4364566/ricardo-martinez"}, "reply_to_user": {"reputation": 125, "user_id": 1180407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/807cdd2792bf25dfb52b1cc7e569a207?s=128&d=identicon&r=PG", "display_name": "Fabio Duran Verdugo", "link": "https://stackoverflow.com/users/1180407/fabio-duran-verdugo"}, "edited": false, "score": 0, "creation_date": 1449097778, "post_id": 34053262, "comment_id": 55863911, "body": "Is not for a dialog, really is for a custom Gtk.Window with header bar, but I want a blue button on the header bar."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4364566, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fT243KgAoc/AAAAAAAAAAI/AAAAAAAADlY/SrHxXMHpzSw/photo.jpg?sz=128", "display_name": "Ricardo Martinez", "link": "https://stackoverflow.com/users/4364566/ricardo-martinez"}, "edited": false, "score": 0, "creation_date": 1449603385, "post_id": 34101635, "comment_id": 56075922, "body": "Very good information, I will read these documentation, I don&#39;t use CSS because I want to respect the theme of the user and my buttons-made-with-css was looked very ugly"}], "tags": [], "owner": {"reputation": 51182, "user_id": 172999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b2014c8170f4d16a313cfa79071fd861?s=128&d=identicon&r=PG", "display_name": "ptomato", "link": "https://stackoverflow.com/users/172999/ptomato"}, "is_accepted": true, "score": 3, "last_activity_date": 1449293285, "creation_date": 1449293285, "answer_id": 34101635, "question_id": 34053262, "link": "https://stackoverflow.com/questions/34053262/gtk-how-to-style-a-button-in-headerbar/34101635#34101635", "title": "GTK - How to style a button in headerbar?", "body": "<p>The correct way to do it is with the <code>suggested-action</code> and <code>destructive-action</code> CSS classes. <a href=\"https://wiki.gnome.org/HowDoI/Buttons\" rel=\"nofollow\">Here is some documentation.</a> Is there any particular objection that you have against CSS?</p>\n\n<p>Use this code:</p>\n\n<pre><code>button.get_style_context().add_class(Gtk.STYLE_CLASS_SUGGESTED_ACTION)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>button.get_style_context().add_class(Gtk.STYLE_CLASS_DESTRUCTIVE_ACTION)\n</code></pre>\n\n<p>before you add the button to the header bar.</p>\n"}], "owner": {"reputation": 33, "user_id": 4364566, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fT243KgAoc/AAAAAAAAAAI/AAAAAAAADlY/SrHxXMHpzSw/photo.jpg?sz=128", "display_name": "Ricardo Martinez", "link": "https://stackoverflow.com/users/4364566/ricardo-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1138, "favorite_count": 0, "accepted_answer_id": 34101635, "answer_count": 1, "score": 0, "last_activity_date": 1449293285, "creation_date": 1449091397, "question_id": 34053262, "link": "https://stackoverflow.com/questions/34053262/gtk-how-to-style-a-button-in-headerbar", "title": "GTK - How to style a button in headerbar?", "body": "<p>I want to set color like blue and red in a application, is something like \n<a href=\"http://i.stack.imgur.com/c9bn8.jpg\" rel=\"nofollow\">this image</a>.</p>\n\n<p>I imagine that I can do it with css styles, but if is there other way much more simple like set a property or a class.</p>\n\n<p>I use GTK 3.12 and Python, but you can show me examples in other lenguages and I can traduce it.</p>\n"}, {"tags": ["python", "loops", "variables", "for-loop", "arguments"], "comments": [{"owner": {"reputation": 1774, "user_id": 3861449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc5cffc01b789b8262766e32eddbcfd7?s=128&d=identicon&r=PG&f=1", "display_name": "zephyr", "link": "https://stackoverflow.com/users/3861449/zephyr"}, "edited": false, "score": 1, "creation_date": 1449091753, "post_id": 34053257, "comment_id": 55860989, "body": "This is such a common issue in python you should have googled for the answer before posting a question here. There are many such questions on the web. <code>zip</code> will solve your problem."}, {"owner": {"reputation": 43, "user_id": 5632302, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R4WagoGAQSY/AAAAAAAAAAI/AAAAAAAAAAA/j5kLpC1rVLo/photo.jpg?sz=128", "display_name": "Eli Smith", "link": "https://stackoverflow.com/users/5632302/eli-smith"}, "edited": false, "score": 1, "creation_date": 1449241751, "post_id": 34053257, "comment_id": 55934890, "body": "Thanks for the help, for one, this question has proper spelling and grammar, and for two, I have searched through google but could not find help there. I&#39;m sorry for posting a question to a question forum."}, {"owner": {"reputation": 1340, "user_id": 3575426, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/feCzU.png?s=128&g=1", "display_name": "Youda008", "link": "https://stackoverflow.com/users/3575426/youda008"}, "reply_to_user": {"reputation": 1774, "user_id": 3861449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc5cffc01b789b8262766e32eddbcfd7?s=128&d=identicon&r=PG&f=1", "display_name": "zephyr", "link": "https://stackoverflow.com/users/3861449/zephyr"}, "edited": false, "score": 1, "creation_date": 1491486127, "post_id": 34053257, "comment_id": 73582496, "body": "@zephyr: Yet in google search for &#39;python multiple variable for loop&#39; this appears first in the results. Thank you Eli Smith for this question."}], "answers": [{"tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": true, "score": 8, "last_activity_date": 1449091719, "creation_date": 1449091719, "answer_id": 34053361, "question_id": 34053257, "link": "https://stackoverflow.com/questions/34053257/multiple-variables-for-loop-python/34053361#34053361", "title": "Multiple variables for loop python", "body": "<p>To iterate through multiple iterables at the same time, use <code>zip</code>. </p>\n\n<pre><code>&gt;&gt;&gt; names = ( \"John\", \"Sal\", \"Bill\" )\n&gt;&gt;&gt; ids = ( 123, 321, 231 )\n&gt;&gt;&gt; for x,y in zip(names, ids):\n...     print x,y\n...\nJohn 123\nSal 321\nBill 231\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5632302, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R4WagoGAQSY/AAAAAAAAAAI/AAAAAAAAAAA/j5kLpC1rVLo/photo.jpg?sz=128", "display_name": "Eli Smith", "link": "https://stackoverflow.com/users/5632302/eli-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19550, "favorite_count": 1, "accepted_answer_id": 34053361, "answer_count": 1, "score": 1, "last_activity_date": 1568325288, "creation_date": 1449091380, "question_id": 34053257, "link": "https://stackoverflow.com/questions/34053257/multiple-variables-for-loop-python", "title": "Multiple variables for loop python", "body": "<p>I am trying to create a for loop to write multiple associated variables defined by the user to a database, is there a way to do something like this? </p>\n\n<pre><code>import sqlite3 as lite\nimport sys\n\nnames = ( \"John\", \"Sal\", \"Bill\" )\nids = ( 123, 321, 231 )\n\ncon = lite.connect('test.db')\ncur = con.cursor()\n\n**for x in names and y in id:**\n\n  cur.execute(\"INSERT INTO People(Name, ID) VALUES('%s', %d)\" % x y)\n</code></pre>\n"}, {"tags": ["python", "apache-storm"], "comments": [{"owner": {"reputation": 50836, "user_id": 4953079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krE6G.jpg?s=128&g=1", "display_name": "Matthias J. Sax", "link": "https://stackoverflow.com/users/4953079/matthias-j-sax"}, "edited": false, "score": 0, "creation_date": 1449094825, "post_id": 34053253, "comment_id": 55862639, "body": "If non is acked, I would assume that tuple time out and fail. However, you claim that tuples are neither acked nor failed? Can you explain? What is your data rate when you do <i>not</i> set max_pending=1? Can the ackers be a bottleneck? How many did you configure (rule of thumb suggests to have one per worker)"}, {"owner": {"reputation": 1458, "user_id": 1394885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bd0f98dad76d9b2f7efc49a984f69aa?s=128&d=identicon&r=PG", "display_name": "Logiraptor", "link": "https://stackoverflow.com/users/1394885/logiraptor"}, "reply_to_user": {"reputation": 50836, "user_id": 4953079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krE6G.jpg?s=128&g=1", "display_name": "Matthias J. Sax", "link": "https://stackoverflow.com/users/4953079/matthias-j-sax"}, "edited": false, "score": 0, "creation_date": 1449159257, "post_id": 34053253, "comment_id": 55894868, "body": "I&#39;m still in the development stage, so the rate of incoming tuples is very low. I might submit 10 tuples at a time and wait for them to complete. Workers was set to 3, but setting it to 4 has fixed the problem. Do you have any idea why that might be?"}, {"owner": {"reputation": 50836, "user_id": 4953079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krE6G.jpg?s=128&g=1", "display_name": "Matthias J. Sax", "link": "https://stackoverflow.com/users/4953079/matthias-j-sax"}, "edited": false, "score": 0, "creation_date": 1449229146, "post_id": 34053253, "comment_id": 55927047, "body": "That is odd. The number of workers should not have any influence... No idea what the cause might be right now."}, {"owner": {"reputation": 1458, "user_id": 1394885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bd0f98dad76d9b2f7efc49a984f69aa?s=128&d=identicon&r=PG", "display_name": "Logiraptor", "link": "https://stackoverflow.com/users/1394885/logiraptor"}, "reply_to_user": {"reputation": 50836, "user_id": 4953079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krE6G.jpg?s=128&g=1", "display_name": "Matthias J. Sax", "link": "https://stackoverflow.com/users/4953079/matthias-j-sax"}, "edited": false, "score": 0, "creation_date": 1449345083, "post_id": 34053253, "comment_id": 55969910, "body": "Actually, It seems that increasing workers does not fix the problem. It simply delays it. Now the topology makes it through more tuples, but eventually hits the same problem."}, {"owner": {"reputation": 50836, "user_id": 4953079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krE6G.jpg?s=128&g=1", "display_name": "Matthias J. Sax", "link": "https://stackoverflow.com/users/4953079/matthias-j-sax"}, "edited": false, "score": 0, "creation_date": 1449437842, "post_id": 34053253, "comment_id": 55994762, "body": "Can you extend your question with code of Bolt4 (or maybe all bolts and spout) and the code that assembles the topology. Hard to judge without the code what might be wrong."}, {"owner": {"reputation": 1458, "user_id": 1394885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bd0f98dad76d9b2f7efc49a984f69aa?s=128&d=identicon&r=PG", "display_name": "Logiraptor", "link": "https://stackoverflow.com/users/1394885/logiraptor"}, "reply_to_user": {"reputation": 50836, "user_id": 4953079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krE6G.jpg?s=128&g=1", "display_name": "Matthias J. Sax", "link": "https://stackoverflow.com/users/4953079/matthias-j-sax"}, "edited": false, "score": 0, "creation_date": 1449453750, "post_id": 34053253, "comment_id": 55999222, "body": "I&#39;ve added a reduced version of my code which is still failing on my machine."}], "answers": [{"tags": [], "owner": {"reputation": 50836, "user_id": 4953079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krE6G.jpg?s=128&g=1", "display_name": "Matthias J. Sax", "link": "https://stackoverflow.com/users/4953079/matthias-j-sax"}, "is_accepted": true, "score": 2, "last_activity_date": 1449518101, "last_edit_date": 1449518101, "creation_date": 1449480497, "answer_id": 34130241, "question_id": 34053253, "link": "https://stackoverflow.com/questions/34053253/storm-shellbolt-loses-tuples/34130241#34130241", "title": "Storm ShellBolt &quot;loses&quot; tuples", "body": "<p>You are using <code>BasicBolt</code> which does handle acking automatically for you. Thus, you <strong>must not</strong> ack input tuples manually in you code. This results in multiple ackes for single tuples which confuses Storm's mechanism to track acks (by xor-ing messages IDs and ack IDs). As an alternative (if you need advanced acking behavior you could implement <code>Bolt</code>.</p>\n\n<p>As the UI shows, no ack is received by your spout, thus Storm stops to emit tuples when <em>max spout pending</em> is reached. Furthermore, you see that the counts of \"executed\" and \"acked\" of your bolts do not match -- this also indicates that acks are not processed correctly.</p>\n"}], "owner": {"reputation": 1458, "user_id": 1394885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bd0f98dad76d9b2f7efc49a984f69aa?s=128&d=identicon&r=PG", "display_name": "Logiraptor", "link": "https://stackoverflow.com/users/1394885/logiraptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "accepted_answer_id": 34130241, "answer_count": 1, "score": 0, "last_activity_date": 1449518101, "creation_date": 1449091362, "last_edit_date": 1449453721, "question_id": 34053253, "link": "https://stackoverflow.com/questions/34053253/storm-shellbolt-loses-tuples", "title": "Storm ShellBolt &quot;loses&quot; tuples", "body": "<p>I have a topology that looks like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1re58.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1re58.jpg\" alt=\"Storm topology\"></a></p>\n\n<p>Notice that Bolt2 and Bolt3 receive tuples from both Bolt1 and Bolt4. All bolts are ShellBolts running python scripts, and the spout is a ShellSpout running a python script which reads from RabbitMQ. Everything works as expected except for Bolt4. If I add one message at a time to RabbitMQ, it will all work and finish cleanly. If I queue messages while one is pending on Bolt4, it will never be processed by Bolt4. The other bolts still perform their functions, but Bolt4 will just sit there after finishing the first one. </p>\n\n<p>Storm UI shows that all tuples are executed by bolt4, but only one is acked. None are failed. I'm using Storm 0.9.5, and the multilang python adapter included in storm-starter.</p>\n\n<p>The shellbolt and spout implementations just declare output fields, nothing else. </p>\n\n<p>If I set TOPOLOGY_MAX_SPOUT_PENDING to 1, then it all works, but then I can only process one tuple at a time, and Bolt1 &amp; 2 end up waiting on Bolt4 to be ready. </p>\n\n<p>Each bolt takes between 3-30 seconds per tuple to complete.</p>\n\n<p>So my question is: Where should I look next?</p>\n\n<p>EDIT: Here's a minimal failing case.</p>\n\n<p>bolt1.py:</p>\n\n<pre><code>import storm\nimport time\nimport json\n\n\nclass Bolt1(storm.BasicBolt):\n    # overrides storm.Bolt.process\n\n    def process(self, tup):\n        objID, APIArgs = tup.values\n        APIArgs = json.loads(APIArgs)\n        self.emit(\"bolt3Queue\", objID, **APIArgs)\n        self.emit(\"bolt2Queue\", objID, **APIArgs)\n        self.emit(\"bolt4Queue\", objID, **APIArgs)\n        storm.ack(tup)\n\n    def emit(self, stream, objID, **APIArgs):\n        tup = [objID, json.dumps(APIArgs)]\n        storm.log(\"Emit [%s] %s\" % (stream, tup))\n        storm.emit(tup, stream=stream)\n\nif __name__ == '__main__':\n    Bolt1().run()\n</code></pre>\n\n<p>bolt2.py:</p>\n\n<pre><code>import storm\nimport time\nimport json\n\n\nclass Bolt2(storm.BasicBolt):\n    # overrides storm.Bolt.process\n\n    def process(self, tup):\n        objID, APIArgs = tup.values\n        APIArgs = json.loads(APIArgs)\n        storm.ack(tup)\n\n    def emit(self, stream, objID, **APIArgs):\n        tup = [objID, json.dumps(APIArgs)]\n        storm.log(\"Emit [%s] %s\" % (stream, tup))\n        storm.emit(tup, stream=stream)\n\nif __name__ == '__main__':\n    Bolt2().run()\n</code></pre>\n\n<p>bolt3.py:</p>\n\n<pre><code>import storm\nimport time\nimport json\n\n\nclass Bolt3(storm.BasicBolt):\n    # overrides storm.Bolt.process\n\n    def process(self, tup):\n        objID, APIArgs = tup.values\n        APIArgs = json.loads(APIArgs)\n        storm.ack(tup)\n\n    def emit(self, stream, objID, **APIArgs):\n        tup = [objID, json.dumps(APIArgs)]\n        storm.log(\"Emit [%s] %s\" % (stream, tup))\n        storm.emit(tup, stream=stream)\n\nif __name__ == '__main__':\n    Bolt3().run()\n</code></pre>\n\n<p>bolt4.py:</p>\n\n<pre><code>import storm\nimport time\nimport json\n\n\nclass Bolt4(storm.BasicBolt):\n    # overrides storm.Bolt.process\n\n    def process(self, tup):\n        objID, APIArgs = tup.values\n        APIArgs = json.loads(APIArgs)\n        self.emit(\"bolt3Queue\", objID, **APIArgs)\n        self.emit(\"bolt2Queue\", objID, **APIArgs)\n        storm.ack(tup)\n\n    def emit(self, stream, objID, **APIArgs):\n        tup = [objID, json.dumps(APIArgs)]\n        storm.log(\"Emit [%s] %s\" % (stream, tup))\n        storm.emit(tup, stream=stream)\n\nif __name__ == '__main__':\n    Bolt4().run()\n</code></pre>\n\n<p>spout.py:</p>\n\n<pre><code>import storm\nimport random\n\nclass Spout(storm.Spout):\n\n    def nextTuple(self):\n        storm.emit([\"id1234\", \"{}\"], id=str(random.randint(1, 10000)))\n\nif __name__ == '__main__':\n    Spout().run()\n</code></pre>\n\n<p>The topology:</p>\n\n<pre><code>/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\npackage storm.starter;\n\nimport backtype.storm.Config;\nimport backtype.storm.LocalCluster;\nimport backtype.storm.StormSubmitter;\nimport backtype.storm.spout.ShellSpout;\nimport backtype.storm.task.ShellBolt;\nimport backtype.storm.topology.*;\nimport backtype.storm.topology.base.BaseBasicBolt;\nimport backtype.storm.tuple.Fields;\nimport backtype.storm.tuple.Tuple;\nimport backtype.storm.tuple.Values;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n\npublic class PyroTopology {\n  public static class PythonBolt extends ShellBolt implements IRichBolt {\n\n    public PythonBolt(String script) {\n      super(\"python\", script);\n    }\n\n    @Override\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {}\n\n    @Override\n    public Map&lt;String, Object&gt; getComponentConfiguration() {\n      return null;\n    }\n  }\n\n  public static class Bolt4 extends ShellBolt implements IRichBolt {\n\n    public Bolt4() {\n      super(\"python\", \"bolt4.py\");\n    }\n\n    @Override\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {\n      declarer.declareStream(\"bolt3Queue\", new Fields(\"objID\", \"APIArgs\"));\n      declarer.declareStream(\"bolt2Queue\", new Fields(\"objID\", \"APIArgs\"));\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getComponentConfiguration() {\n      return null;\n    }\n  }\n\n  public static class Bolt1 extends ShellBolt implements IRichBolt {\n\n    public Bolt1() {\n      super(\"python\", \"bolt1.py\");\n    }\n\n    @Override\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {\n      declarer.declareStream(\"bolt3Queue\", new Fields(\"objID\", \"APIArgs\"));\n      declarer.declareStream(\"bolt2Queue\", new Fields(\"objID\", \"APIArgs\"));\n      declarer.declareStream(\"bolt4Queue\", new Fields(\"objID\", \"APIArgs\"));\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getComponentConfiguration() {\n      return null;\n    }\n  }\n\n  public static class PythonSpout extends ShellSpout implements IRichSpout {\n\n    public PythonSpout() {\n      super(\"python\", \"spout.py\");\n    }\n\n    @Override\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {\n      declarer.declare(new Fields(\"objID\", \"APIArgs\"));\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getComponentConfiguration() {\n      return null;\n    }\n  }\n\n  public static void main(String[] args) throws Exception {\n\n    TopologyBuilder builder = new TopologyBuilder();\n\n    builder.setSpout(\"rabbit\", new PythonSpout(), 1);\n\n    builder.setBolt(\"bolt1\", new Bolt1(), 1).\n            shuffleGrouping(\"rabbit\");\n\n    builder.setBolt(\"bolt4\", new Bolt4(), 1).\n            shuffleGrouping(\"bolt1\", \"bolt4Queue\");\n\n    builder.setBolt(\"bolt3\", new PythonBolt(\"bolt3.py\"), 1).\n            shuffleGrouping(\"bolt1\", \"bolt3Queue\").\n            shuffleGrouping(\"bolt4\", \"bolt3Queue\");\n\n    builder.setBolt(\"bolt2\", new PythonBolt(\"bolt2.py\"), 1).\n            shuffleGrouping(\"bolt1\", \"bolt2Queue\").\n            shuffleGrouping(\"bolt4\", \"bolt2Queue\");\n\n    Config conf = new Config();\n    conf.setStatsSampleRate(1.0);\n    conf.put(Config.TOPOLOGY_DEBUG, true);\n    conf.put(Config.TOPOLOGY_MAX_SPOUT_PENDING, 5);\n    conf.put(Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS, 60);\n\n    if (args != null &amp;&amp; args.length &gt; 0) {\n      conf.setNumWorkers(3);\n\n      StormSubmitter.submitTopologyWithProgressBar(args[0], conf, builder.createTopology());\n    }\n    else {\n      conf.setMaxTaskParallelism(3);\n\n      LocalCluster cluster = new LocalCluster();\n      cluster.submitTopology(\"word-count\", conf, builder.createTopology());\n\n      Thread.sleep(30000);\n\n      cluster.shutdown();\n    }\n  }\n}\n</code></pre>\n\n<p>I deploy with this:</p>\n\n<pre><code>storm jar target/storm-starter-0.9.5-jar-with-dependencies.jar storm.starter.PyroTopology vb\n</code></pre>\n\n<p>After 1 tuple per component, the whole system hangs. No new tuples are processed or failed. Here's my Storm UI after the system gets stuck:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wAFv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wAFv2.png\" alt=\"Storm UI output\"></a></p>\n\n<p>It just sits like this forever. (I've waited several hours just in case.)</p>\n"}, {"tags": ["python", "arrays", "json", "dictionary"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1449091596, "post_id": 34053223, "comment_id": 55860899, "body": "Aside from the tabs, what&#39;s the difference?"}, {"owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "edited": false, "score": 1, "creation_date": 1449091642, "post_id": 34053223, "comment_id": 55860926, "body": "Not sure what you are asking here. The &quot;got&quot; and &quot;need&quot; look like the same structure. Are you trying to convert a dict to json?"}, {"owner": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "reply_to_user": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "edited": false, "score": 0, "creation_date": 1449091696, "post_id": 34053223, "comment_id": 55860954, "body": "@MadWombat The OP is trying to go from combined <code>&quot;attribute&quot;</code> values to individual ones."}], "answers": [{"tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 2, "last_activity_date": 1449091936, "creation_date": 1449091936, "answer_id": 34053422, "question_id": 34053223, "link": "https://stackoverflow.com/questions/34053223/python-dictionary-json-inception/34053422#34053422", "title": "python dictionary/json inception", "body": "<p>How about this?</p>\n\n<pre><code>#get reference to attribute dict\nattributes = data[\"Event\"][\"Attribute\"]\n#in the event dictionary, replace it with an empty list\ndata[\"Event\"][\"Attribute\"] = []\n\nfor attribute in attributes:\n    for value in attribute[\"value\"]:\n        #for every value in every attribute, copy that attribute\n        new_attr = attribute.copy()\n        #set the value to that value\n        new_attr[\"value\"] = value\n        #and append it to the attribute list\n        data[\"Event\"][\"Attribute\"].append(new_attr)\n</code></pre>\n\n<p>This will work with the data structure you've shown, but not necessarily with all kinds of nested data, since we do a shallow copy of the attribute. That will mean that you have to make sure that apart from the <code>\"value\"</code> list, it only contains atomic values like numbers, strings, or booleans. The values list may contain nested structures, since we're only moving references there.</p>\n"}], "owner": {"reputation": 109, "user_id": 3677125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3b53f2c9d729e442095d1e5f51bfc80?s=128&d=identicon&r=PG&f=1", "display_name": "Dpitt1968", "link": "https://stackoverflow.com/users/3677125/dpitt1968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 34053422, "answer_count": 1, "score": 1, "last_activity_date": 1449091936, "creation_date": 1449091242, "last_edit_date": 1449091597, "question_id": 34053223, "link": "https://stackoverflow.com/questions/34053223/python-dictionary-json-inception", "title": "python dictionary/json inception", "body": "<p>How do you pull, split, and append an array inside a dictionary inside a dictionary?</p>\n\n<p>This is the data I've got:</p>\n\n<pre><code>data = {\n    \"Event\":{\n        \"distribution\":\"0\",\n        \"orgc\":\"Oxygen\",\n        \"Attribute\": [{\n            \"type\":\"ip-dst\",\n            \"category\":\"Network activity\",\n            \"to_ids\":\"true\",\n            \"distribution\":\"3\",\n            \"value\":[\"1.1.1.1\",\"2.2.2.2\"]\n        }, {\n            \"type\":\"url\",\n            \"category\":\"Network activity\",\n            \"to_ids\":\"true\",\n            \"distribution\":\"3\",\n            \"value\":[\"msn.com\",\"google.com\"]\n        }]\n    }\n}\n</code></pre>\n\n<p>This is what I need --</p>\n\n<pre><code>{\n    \"Event\": {\n        \"distribution\": \"0\",\n        \"orgc\": \"Oxygen\",\n        \"Attribute\": [{\n                \"type\": \"ip-dst\",\n                \"category\": \"Network activity\",\n                \"to_ids\": \"true\",\n                \"distribution\": \"3\",\n                \"value\": \"1.1.1.1\"\n            }, {\n                \"type\": \"ip-dst\",\n                \"category\": \"Network activity\",\n                \"to_ids\": \"true\",\n                \"distribution\": \"3\",\n                \"value\": \"2.2.2.2\"\n            }, {\n                \"type\": \"url\",\n                \"category\": \"Network activity\",\n                \"to_ids\": \"true\",\n                \"distribution\": \"3\",\n                \"value\": \"msn.com\"\n            }, {\n                \"type\": \"url\",\n                \"category\": \"Network activity\",\n                \"to_ids\": \"true\",\n                \"distribution\": \"3\",\n                \"value\": \"google.com\"\n            }\n        }\n    }\n</code></pre>\n\n<p>Here is where I was just playing around with it and totally lost!!</p>\n\n<pre><code>for item in data[\"Event\"][\"Attribute\"]:\n    if \"type\":\"ip-dst\" and len(\"value\")&gt;1:\n        if 'ip-dst' in item[\"type\"] and len(item[\"value\"])&gt;1:\n            for item in item[\"value\"]:\n</code></pre>\n\n<p>...and totally lost</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 31371, "user_id": 281108, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b160d50a7ecfe6018348629cb8677538?s=128&d=identicon&r=PG", "display_name": "Ismail Badawi", "link": "https://stackoverflow.com/users/281108/ismail-badawi"}, "edited": false, "score": 3, "creation_date": 1449091428, "post_id": 34053208, "comment_id": 55860799, "body": "The <code>__exit__</code> method will always be called when control flow leaves the <code>with</code> statement, no matter how that happens. You shouldn&#39;t have to call it explicitly. It would be better if you restructured your code so you don&#39;t need to do this."}, {"owner": {"reputation": 1375, "user_id": 1733321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f2d5f600122e6803420e88740252973?s=128&d=identicon&r=PG", "display_name": "eestrada", "link": "https://stackoverflow.com/users/1733321/eestrada"}, "edited": false, "score": 0, "creation_date": 1449092168, "post_id": 34053208, "comment_id": 55861218, "body": "Also, having <code>sys.exit(1)</code> in an <code>__exit__</code> function is bad form. <code>__exit__</code> functions should only ever suppress exceptions or allow them to passthrough; they should not exit the program because they are only meant for cleanup or resource management. It hides program logic and makes your code hard to read. Run <code>sys.exit(1)</code> from within your top level <code>with</code> statement so it is clear you are exiting with an error value."}, {"owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 0, "creation_date": 1449092192, "post_id": 34053208, "comment_id": 55861231, "body": "Don&#39;t explicitly call <code>__exit()__</code>, then there is no problem. You can return from inside the context manager, or you can fall off the end: this is how <code>__exit()__</code> should be invoked."}, {"owner": {"reputation": 481, "user_id": 4236252, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ba8dd9b62b328445c5505dd7aedb4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Amy D", "link": "https://stackoverflow.com/users/4236252/amy-d"}, "reply_to_user": {"reputation": 1375, "user_id": 1733321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f2d5f600122e6803420e88740252973?s=128&d=identicon&r=PG", "display_name": "eestrada", "link": "https://stackoverflow.com/users/1733321/eestrada"}, "edited": false, "score": 0, "creation_date": 1449092508, "post_id": 34053208, "comment_id": 55861389, "body": "@eestrada, can you explain by what you mean by &quot;Run <code>sys.exit(1) from within your top level </code>with` statement&quot;?"}, {"owner": {"reputation": 1375, "user_id": 1733321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f2d5f600122e6803420e88740252973?s=128&d=identicon&r=PG", "display_name": "eestrada", "link": "https://stackoverflow.com/users/1733321/eestrada"}, "edited": false, "score": 1, "creation_date": 1449092829, "post_id": 34053208, "comment_id": 55861555, "body": "@AmyD: Yes, although, since I can&#39;t do linebreaks in comments, it might be a bit hard to read. So instead of doing <code>with mycontext() as mc: if problem: mc.__exit__(None, None, None)</code> and having the <code>sys.exit(1)</code> live in your <code>__exit__</code> function, instead do <code>with mycontext() as mc: if problem: sys.exit(1)</code> and make it clear you are attempting to exit on failure. Your <code>__exit__</code> function will be called no matter how you leave your <code>with</code> statement (exception, exiting, falling of the end, early <code>return</code>, etc.)."}], "answers": [{"comments": [{"owner": {"reputation": 481, "user_id": 4236252, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ba8dd9b62b328445c5505dd7aedb4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Amy D", "link": "https://stackoverflow.com/users/4236252/amy-d"}, "edited": false, "score": 0, "creation_date": 1449092597, "post_id": 34053278, "comment_id": 55861435, "body": "When you say &quot;explicitly begin by calling <code>__enter_</code>,&quot; do you mean not use the <code>with</code> statement? So, create the object.  Then call <code>obj.__enter__()</code>?"}, {"owner": {"reputation": 1375, "user_id": 1733321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f2d5f600122e6803420e88740252973?s=128&d=identicon&r=PG", "display_name": "eestrada", "link": "https://stackoverflow.com/users/1733321/eestrada"}, "reply_to_user": {"reputation": 481, "user_id": 4236252, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ba8dd9b62b328445c5505dd7aedb4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Amy D", "link": "https://stackoverflow.com/users/4236252/amy-d"}, "edited": false, "score": 0, "creation_date": 1449093095, "post_id": 34053278, "comment_id": 55861691, "body": "@AmyD: Yes, that is indeed what I mean by explicitly calling <code>__enter__</code>. However, this isn&#39;t something you should normally do. The only time I ever do it is as part of <code>setUp</code>/<code>tearDown</code> in unit testing (and even then only if there are no other options). Otherwise, let the <code>with</code> statement just do the work for you about when to call your <code>__enter__</code> and <code>__exit__</code> functions. All you need to worry about is how your <code>__exit__</code> function deals with exceptions, if it even needs to do so at all."}], "tags": [], "owner": {"reputation": 1375, "user_id": 1733321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f2d5f600122e6803420e88740252973?s=128&d=identicon&r=PG", "display_name": "eestrada", "link": "https://stackoverflow.com/users/1733321/eestrada"}, "is_accepted": true, "score": 0, "last_activity_date": 1449091862, "last_edit_date": 1449091862, "creation_date": 1449091452, "answer_id": 34053278, "question_id": 34053208, "link": "https://stackoverflow.com/questions/34053208/call-withs-exit-explicitly-and-exit/34053278#34053278", "title": "Call `with`&#39;s __exit__ Explicitly and Exit", "body": "<p>Once you are in a <code>with</code> statement, the only way to leave with without running <code>__exit__</code> is to use <code>os._exit</code>; that's bad. Instead, explicitly begin by calling <code>__enter__</code> if you want this behavior. Or change your class to make sure it doesn't do the cleanup twice if called twice like @Kay suggests in his answer. Or, do as @IsmailBadawi suggests in his comment, and refactor your code so you don't need to explicitly call <code>__exit__</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "is_accepted": false, "score": 0, "last_activity_date": 1449091453, "creation_date": 1449091453, "answer_id": 34053279, "question_id": 34053208, "link": "https://stackoverflow.com/questions/34053208/call-withs-exit-explicitly-and-exit/34053279#34053279", "title": "Call `with`&#39;s __exit__ Explicitly and Exit", "body": "<p>Just memorize if the you already closed the connection / log / something:</p>\n\n<pre><code>class MyContext(object):\n    def __init__(self):\n        self.__already_closed = False\n\n    ....\n\n    def close(self):\n        if not self.__already_closed:\n            self.__already_closed = True\n            self.logout()\n            self.conn.close()\n\n    def __exit__(...):\n        self.close()\n</code></pre>\n\n<p>Maybe even add a \"please don't cleanup\" method:</p>\n\n<pre><code>    def do_not_cleanup(self):\n        self.__already_closed = True\n</code></pre>\n"}], "owner": {"reputation": 481, "user_id": 4236252, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ba8dd9b62b328445c5505dd7aedb4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Amy D", "link": "https://stackoverflow.com/users/4236252/amy-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 34053278, "answer_count": 2, "score": -1, "last_activity_date": 1449091862, "creation_date": 1449091195, "question_id": 34053208, "link": "https://stackoverflow.com/questions/34053208/call-withs-exit-explicitly-and-exit", "title": "Call `with`&#39;s __exit__ Explicitly and Exit", "body": "<p>I have class that opens a socket connection on initialization, and can transmit and receive certain messages back and forth with the counterparty.  I create an instance of the object using a <code>with</code> statement.  In my class, if I receive certain messages back on the socket, I want to explicitly close the connection, and exit the <code>with</code> statement.  </p>\n\n<p>I attempt to do so, by explicitly calling <code>self.\\__exit__(None, None, None)</code></p>\n\n<pre><code>def __exit__(self, type, value, traceback):\n    print 'Closing Connection'\n    self.logout()\n    self.conn.close()\n    sys.exit(1)\n</code></pre>\n\n<p>However, I am finding that I am getting the <code>Closing Connection</code> message back twice, and running into problems because on the second call, there is no longer a connection to close.  Examining the code, I have ruled out all other instances of my explicit call to <code>self.__exit__(None, None, None)</code>.  What's going on?  Is the <code>sys.exit(1)</code> insufficient for preventing the <code>with</code> from garbage collecting again (although from what I've read, this seems to be the most \"approved\" way to do this)?  How do I prevent the <code>with</code> statement from calling <code>self.__exit__(None, None, None)</code>.  Any help, or a point in the right direction, would be greatly appreciated!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2039, "user_id": 741849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbafd70f6a50015a15bb72fd4c9ae2a7?s=128&d=identicon&r=PG", "display_name": "Moinul Hossain", "link": "https://stackoverflow.com/users/741849/moinul-hossain"}, "edited": false, "score": 0, "creation_date": 1449091174, "post_id": 34053177, "comment_id": 55860661, "body": "you need to use a loop to read all lines. <code>f.read()</code> reads one line at a time"}, {"owner": {"reputation": 141, "user_id": 4254279, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/62d4ffc5cdcb8f5660d55f17973d1fce?s=128&d=identicon&r=PG&f=1", "display_name": "Glad", "link": "https://stackoverflow.com/users/4254279/glad"}, "reply_to_user": {"reputation": 2039, "user_id": 741849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbafd70f6a50015a15bb72fd4c9ae2a7?s=128&d=identicon&r=PG", "display_name": "Moinul Hossain", "link": "https://stackoverflow.com/users/741849/moinul-hossain"}, "edited": false, "score": 0, "creation_date": 1449091229, "post_id": 34053177, "comment_id": 55860692, "body": "New to python. Can you please show how this loop works?"}], "answers": [{"tags": [], "owner": {"reputation": 2039, "user_id": 741849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbafd70f6a50015a15bb72fd4c9ae2a7?s=128&d=identicon&r=PG", "display_name": "Moinul Hossain", "link": "https://stackoverflow.com/users/741849/moinul-hossain"}, "is_accepted": false, "score": 0, "last_activity_date": 1449091361, "creation_date": 1449091361, "answer_id": 34053252, "question_id": 34053177, "link": "https://stackoverflow.com/questions/34053177/python-printing-only-first-line/34053252#34053252", "title": "Python printing only first line", "body": "<p>You are looking for something like this:</p>\n\n<pre><code>#!/usr/bin/env python2\nwith open('/tmp/cadrootcomp1.firstwords',mode=\"rb\") as f:\n    for line in f:\n        print '/'.join(line.split('/')[:2]) + '/'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "is_accepted": false, "score": 1, "last_activity_date": 1449091435, "creation_date": 1449091435, "answer_id": 34053270, "question_id": 34053177, "link": "https://stackoverflow.com/questions/34053177/python-printing-only-first-line/34053270#34053270", "title": "Python printing only first line", "body": "<p>Not sure I understand correctly what you are trying to do. If you are trying to iterate over lines in the file, try this.</p>\n\n<pre>\nwith open('/tmp/cadrootcomp1.firstwords',mode=\"rb\") as lines:\n    for line in lines:\n        print '/'.join(line.split('/')[:2]) + '/'\n</pre>\n"}, {"tags": [], "owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "is_accepted": false, "score": 1, "last_activity_date": 1449091559, "creation_date": 1449091559, "answer_id": 34053311, "question_id": 34053177, "link": "https://stackoverflow.com/questions/34053177/python-printing-only-first-line/34053311#34053311", "title": "Python printing only first line", "body": "<p>I think below one is better. I guess you are using slicing to remove <code>\\n</code> after <code>file.read()</code>. A better way to do it is to use <code>strip()</code> like this:</p>\n\n<pre><code>f.read().strip()\n</code></pre>\n\n<p>You don't even need that when reading line by line.</p>\n\n<pre><code>with open('/tmp/cadrootcomp1.firstwords',mode=\"rb\") as f:\nfor line in f:\n    print line.rsplit('/',1)[0] + '/'\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 4254279, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/62d4ffc5cdcb8f5660d55f17973d1fce?s=128&d=identicon&r=PG&f=1", "display_name": "Glad", "link": "https://stackoverflow.com/users/4254279/glad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1449091559, "creation_date": 1449091085, "question_id": 34053177, "link": "https://stackoverflow.com/questions/34053177/python-printing-only-first-line", "title": "Python printing only first line", "body": "<p>New to Python. \nUsing this code</p>\n\n<pre><code>#!/usr/bin/env python2\nwith open('/tmp/cadrootcomp1.firstwords',mode=\"rb\") as f:\n    print '/'.join(f.read().split('/')[:2]) + '/'\n</code></pre>\n\n<p>Get output:\nabc/def/</p>\n\n<p>when original line was abc/def/ghi</p>\n\n<p>So this works fine. Need this script to run on other lines in file. It is processing only first line.</p>\n"}, {"tags": ["python", "numpy", "scipy", "spline", "extrapolation"], "answers": [{"comments": [{"owner": {"reputation": 1489, "user_id": 512111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5f1d712b8bb45a9aed6b3989c4f2e9?s=128&d=identicon&r=PG", "display_name": "j08lue", "link": "https://stackoverflow.com/users/512111/j08lue"}, "edited": false, "score": 0, "creation_date": 1510696652, "post_id": 34148506, "comment_id": 81543004, "body": "That is a cryptic error message indeed. The <code>RectBivariateSpline</code> is not meant to be called with sequences of points. If you use <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RectBivariateSpline.ev.html#scipy.interpolate.RectBivariateSpline.ev\" rel=\"nofollow noreferrer\"><code>spline.ev</code></a> instead, you can get rid of your loop."}], "tags": [], "owner": {"reputation": 1084, "user_id": 4491330, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/U5iu5.jpg?s=128&g=1", "display_name": "Wang Zong&#39;an", "link": "https://stackoverflow.com/users/4491330/wang-zongan"}, "is_accepted": false, "score": 0, "last_activity_date": 1449551724, "creation_date": 1449551724, "answer_id": 34148506, "question_id": 34053174, "link": "https://stackoverflow.com/questions/34053174/python-scipy-for-2d-extrapolated-spline-function/34148506#34148506", "title": "Python Scipy for 2D extrapolated spline function?", "body": "<p>I think I've come up with an answer myself, which utilizes <a href=\"http://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.interpolate.RectBivariateSpline.html\" rel=\"nofollow\">scipy.interpolate.RectBivariateSpline()</a> and is over 10 times faster than my old one. </p>\n\n<p>Here is the function <strong>extrapolated_spline_2D_new</strong>. </p>\n\n<pre><code>def extrapolated_spline_2D_new(x0,y0,z2d0):\n    '''    \n    x0,y0 : array_like\uff0c1-D arrays of coordinates in strictly ascending order. \n    z2d0  : array_like\uff0c2-D array of data with shape (x.size,y.size).\n    ''' \n    assert z2d0.shape == (x0.shape[0],y0.shape[0])\n\n    spline = scipy.interpolate.RectBivariateSpline(x0,y0,z2d0,kx=3,ky=3)\n    '''\n    scipy.interpolate.RectBivariateSpline\n    x,y : array_like, 1-D arrays of coordinates in strictly ascending order.\n    z   : array_like, 2-D array of data with shape (x.size,y.size).\n    '''  \n    def f(x,y,spline=spline):\n        '''\n        x and y have the same shape with the output. \n        '''\n        x = np.array(x,dtype='f4')\n        y = np.array(y,dtype='f4') \n        assert x.shape == y.shape \n        ndim = x.ndim   \n        # We want the output to have the same dimension as the input, \n        # and when ndim == 0 or 1, spline(x,y) is always 2D. \n        if   ndim == 0: result = spline(x,y)[0][0]\n        elif ndim == 1: \n            result = np.array([spline(x[i],y[i])[0][0] for i in range(len(x))])\n        else:           \n            result = np.array([spline(x.flatten()[i],y.flatten()[i])[0][0] for i in range(len(x.flatten()))]).reshape(x.shape)         \n        return result\n    return f\n</code></pre>\n\n<p>Note: \nIn the above version, I calculate the value one by one instead of using the codes beneath.</p>\n\n<pre><code>def f(x,y,spline=spline):\n    '''\n    x and y have the same shape with the output. \n    '''\n    x = np.array(x,dtype='f4')\n    y = np.array(y,dtype='f4') \n    assert x.shape == y.shape \n    ndim = x.ndim\n    if   ndim == 0: result = spline(x,y)[0][0]\n    elif ndim == 1: \n         result = spline(x,y).diagonal()\n    else:           \n         result = spline(x.flatten(),y.flatten()).diagonal().reshape(x.shape)       \n    return result\n</code></pre>\n\n<p>Because when I tried to do the calculation with the codes beneath, it sometimes give the error message as:</p>\n\n<pre><code>&lt;ipython-input-65-33285fd2319d&gt; in f(x, y, spline)\n 29         if   ndim == 0: result = spline(x,y)[0][0]\n 30         elif ndim == 1:\n---&gt; 31             result = spline(x,y).diagonal()\n 32         else:\n 33             result = spline(x.flatten(),y.flatten()).diagonal().reshape(x.shape)\n\n/usr/local/lib/python2.7/site-packages/scipy/interpolate/fitpack2.pyc in __call__(self, x, y, mth, dx, dy, grid)\n826                 z,ier = dfitpack.bispev(tx,ty,c,kx,ky,x,y)\n827                 if not ier == 0:\n--&gt; 828                     raise ValueError(\"Error code returned by bispev: %s\" % ier)\n829         else:\n830             # standard Numpy broadcasting\n\nValueError: Error code returned by bispev: 10\n</code></pre>\n\n<p>I don't know what it means. </p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 8013269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MvBNUxU2jW4/AAAAAAAAAAI/AAAAAAAABXk/UDH7GJmq1Xo/photo.jpg?sz=128", "display_name": "Jay Yang", "link": "https://stackoverflow.com/users/8013269/jay-yang"}, "is_accepted": false, "score": 1, "last_activity_date": 1537987858, "creation_date": 1537987858, "answer_id": 52524320, "question_id": 34053174, "link": "https://stackoverflow.com/questions/34053174/python-scipy-for-2d-extrapolated-spline-function/52524320#52524320", "title": "Python Scipy for 2D extrapolated spline function?", "body": "<p>I've done a similar work called GlobalSpline2D <a href=\"https://github.com/pig2015/mathpy/blob/master/polation/globalspline.py\" rel=\"nofollow noreferrer\">here</a>, and it works perfectly under either liner, cubic, or quintic splines.</p>\n\n<p>Basically it inherits <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp2d.html#scipy.interpolate.interp2d\" rel=\"nofollow noreferrer\">interp2d</a>, and promoting the usage to 2D extrapolation by <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.InterpolatedUnivariateSpline.html#scipy.interpolate.InterpolatedUnivariateSpline\" rel=\"nofollow noreferrer\">InterpolatedUnivariateSpline</a>. Both of them are scipy internal functions. </p>\n\n<p>Its usage should be referred to the <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp2d.html#scipy.interpolate.interp2d\" rel=\"nofollow noreferrer\">document</a> as well as the <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp2d.__call__.html#scipy.interpolate.interp2d.__call__\" rel=\"nofollow noreferrer\">call method</a> of interp2d.</p>\n"}], "owner": {"reputation": 1084, "user_id": 4491330, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/U5iu5.jpg?s=128&g=1", "display_name": "Wang Zong&#39;an", "link": "https://stackoverflow.com/users/4491330/wang-zongan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3151, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1537987858, "creation_date": 1449091061, "last_edit_date": 1449550547, "question_id": 34053174, "link": "https://stackoverflow.com/questions/34053174/python-scipy-for-2d-extrapolated-spline-function", "title": "Python Scipy for 2D extrapolated spline function?", "body": "<p>I'd like to write an extrapolated spline function for a 2D matrix. What I have now is an extrapolated spline function for 1D arrays as below. <a href=\"http://docs.scipy.org/doc/scipy-0.16.0/reference/generated/scipy.interpolate.InterpolatedUnivariateSpline.html\" rel=\"nofollow\">scipy.interpolate.InterpolatedUnivariateSpline()</a> is used. </p>\n\n<pre><code>import numpy as np \nimport scipy as sp \n\ndef extrapolated_spline_1D(x0,y0):\n    x0 = np.array(x0)\n    y0 = np.array(y0)\n    assert x0.shape == y.shape \n\n    spline = sp.interpolate.InterpolatedUnivariateSpline(x0,y0)\n    def f(x, spline=spline):\n        return np.select(\n            [(x&lt;x0[0]),              (x&gt;x0[-1]),              np.ones_like(x,dtype='bool')], \n            [np.zeros_like(x)+y0[0], np.zeros_like(x)+y0[-1], spline(x)])\n\n    return f\n</code></pre>\n\n<p>It takes x0, which is where the function is defined, and y0, which is the according values. When x &lt; x0[0], y = y0[0]; and when x > x0[-1], y = y0[-1]. Here, assuming x0 is in an ascending order.  </p>\n\n<p>I want to have a similar extrapolated spline function for dealing with 2D matrices using <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.select.html\" rel=\"nofollow\">np.select()</a> as in <strong>extrapolated_spline_1D</strong>. I thought <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RectBivariateSpline.html#scipy.interpolate.RectBivariateSpline\" rel=\"nofollow\">scipy.interpolate.RectBivariateSpline()</a> might help, but I'm not sure how to do it. </p>\n\n<p>For reference, my current version of the <strong>extrapolated_spline_2D</strong> is <strong>very slow</strong>. \nThe basic idea is: </p>\n\n<p>(1) first, given 1D arrays x0, y0 and 2D array z2d0 as input, making nx0 <strong>extrapolated_spline_1D</strong> functions, y0_spls, each of which stands for a layer z2d0 defined on y0; </p>\n\n<p>(2) second, for a point (x,y) not on the grid, calculating nx0 values, each equals to y0_spls[i](y); </p>\n\n<p>(3) third, fitting (x0, y0_spls[i](y)) with <strong>extrapolated_spline_1D</strong> to x_spl and returning x_spl(x) as the final result.</p>\n\n<pre><code>def extrapolated_spline_2D(x0,y0,z2d0): \n    '''    \n    x0,y0 : array_like, 1-D arrays of coordinates in strictly monotonic order. \n    z2d0  : array_like, 2-D array of data with shape (x.size,y.size).\n    '''    \n    nx0 = x0.shape[0]\n    ny0 = y0.shape[0]\n    assert z2d0.shape == (nx0,ny0)\n\n    # make nx0 splines, each of which stands for a layer of z2d0 on y0 \n    y0_spls = [extrapolated_spline_1D(y0,z2d0[i,:]) for i in range(nx0)]\n\n    def f(x, y):     \n        '''\n        f takes 2 arguments at the same time --&gt; x, y have the same dimention\n        Return: a numpy ndarray object with the same shape of x and y\n        '''\n        x = np.array(x,dtype='f4')\n        y = np.array(y,dtype='f4') \n        assert x.shape == y.shape        \n        ndim = x.ndim \n\n        if ndim == 0:    \n            '''\n            Given a point on the xy-plane. \n            Make ny = 1 splines, each of which stands for a layer of new_xs on x0\n            ''' \n            new_xs = np.array([y0_spls[i](y) for i in range(nx0)]) \n            x_spl  = extrapolated_spline_1D(x0,new_xs)\n            result = x_spl(x)\n\n        elif ndim == 1:\n            '''\n            Given a 1-D array of points on the xy-plane. \n            '''\n            ny     = len(y)            \n            new_xs = np.array([y0_spls[i](y)                 for i in range(nx0)]) # new_xs.shape = (nx0,ny)       \n            x_spls = [extrapolated_spline_1D(x0,new_xs[:,i]) for i in range(ny)]\n            result = np.array([x_spls[i](x[i])               for i in range(ny)])\n\n        else:\n            '''\n            Given a multiple dimensional array of points on the xy-plane.  \n            '''\n            x_flatten = x.flatten()\n            y_flatten = y.flatten()     \n            ny = len(y_flatten)       \n            new_xs = np.array([y0_spls[i](y_flatten)         for i in range(nx0)])         \n            x_spls = [extrapolated_spline_1D(x0,new_xs[:,i]) for i in range(ny)]\n            result = np.array([x_spls[i](x_flatten[i])       for i in range(ny)]).reshape(y.shape)\n        return result      \n    return f\n</code></pre>\n"}, {"tags": ["python", "user-interface", "button", "onclick", "assign"], "comments": [{"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1449091360, "post_id": 34053131, "comment_id": 55860771, "body": "Both of your buttons commands point to self.OnButtonClick... What did you expect to happen...?  Obviously they are going to both execute that method."}], "answers": [{"tags": [], "owner": {"reputation": 993, "user_id": 3762084, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9dYbE.jpg?s=128&g=1", "display_name": "Chathan Driehuys", "link": "https://stackoverflow.com/users/3762084/chathan-driehuys"}, "is_accepted": true, "score": 2, "last_activity_date": 1449091216, "creation_date": 1449091216, "answer_id": 34053213, "question_id": 34053131, "link": "https://stackoverflow.com/questions/34053131/how-can-i-do-two-different-things-with-2-buttons-on-pythongui/34053213#34053213", "title": "How can i do two different things with 2 buttons on python(GUI)?", "body": "<p>Your second button's command is the same as the first one. I don't have much experience with Tkinter, but this should work</p>\n\n<pre><code>button2 = Tkinter.Button(self,text=\"Hint?\",\n                         command=self.secndButtonClick)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5606015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22d56fc938d75125b6745e8370c26f62?s=128&d=identicon&r=PG&f=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5606015/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 34053213, "answer_count": 1, "score": -1, "last_activity_date": 1449091216, "creation_date": 1449090903, "question_id": 34053131, "link": "https://stackoverflow.com/questions/34053131/how-can-i-do-two-different-things-with-2-buttons-on-pythongui", "title": "How can i do two different things with 2 buttons on python(GUI)?", "body": "<p>I would like to know how I can do 2 separate things with 2 buttons. For the moment, even if I click on my 'Hint' button, it does what the other button does. Here is my code (it is not complete yet).\n        import Tkinter</p>\n\n<pre><code>    class simpleapp_tk(Tkinter.Tk):\n        def __init__(self,parent):\n            Tkinter.Tk.__init__(self,parent)\n            self.parent = parent\n            self.initialize()\n\n        def initialize(self):\n            self.grid()\n\n            self.entryVariable = Tkinter.StringVar()\n\n            self.entry = Tkinter.Entry(self)\n            self.entry.grid(column=1,row=1,sticky='EW')\n            self.entry.bind(\"&lt;Return&gt;\", self.OnPressEnter)\n\n\n\n\n\n\n\n            button = Tkinter.Button(self,text=\" Click here plz..!\",\n                                    command=self.OnButtonClick)\n            button.grid(column=1,row=4)\n\n            self.entry2=Tkinter.Entry(self)\n\n            button2 = Tkinter.Button(self,text=\"Hint?\",\n                                     command=self.OnButtonClick)\n            button2.grid(column=2,row=4)\n\n            self.resizable(True,False)\n        def OnButtonClick(self):\n            print\"Your answer is :\"\n            print self.entry.get()\n            if self.entry.get()== \"4\":\n                print \"GJ\"\n            elif self.entry.get()==\" \":\n                print \"please enter a valid answer\"\n            else :\n                print \"Nop\"\n\n        def secndButtonClick(self):\n            if self.entry2.get()==\"\":\n                print \"here is the hint\"\n            else:\n                print\"Don't write anything here\"\n\n        def OnPressEnter(self,event):\n            print\"Your answer is :\"\n            print self.entry.get()\n            if self.entry.get()==\"4\":\n                print\" GJ, let me guess...You have more than 2 years old right?\"\n            elif self.entry.get()==\" \":\n                print \"please enter a valid answer\"\n            else :\n                print \"Nop...you are the stupidiest person I know...\"\n            if self.entry2.get()==\" \":\n                print\" Ok\"\n    print\" 2+2=?\"\n    if __name__ == \"__main__\":\n        app = simpleapp_tk(None)\n        app.title('IQ test!')\n        app.mainloop()\n</code></pre>\n"}, {"tags": ["python", "arrays", "loops", "wordsearch"], "answers": [{"tags": [], "owner": {"reputation": 5013, "user_id": 969617, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/2412de50d273085f5dcf3f2101c3996e?s=128&d=identicon&r=PG", "display_name": "beoliver", "link": "https://stackoverflow.com/users/969617/beoliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1449091528, "creation_date": 1449091528, "answer_id": 34053295, "question_id": 34053105, "link": "https://stackoverflow.com/questions/34053105/python-wordsearch-placing-words-to-handle-overlap-properly/34053295#34053295", "title": "-Python- WordSearch: Placing words to handle overlap properly", "body": "<p>you could just do a first pass testing that all spaces are available and record the indexes. If it was free then insert the values. If the value of the grid matches the character that will be places there, then it is still fine. </p>\n\n<p>If you test while you insert, you will still have to record where you have inserted as you will have to backtrack to replace the partial word with '.'s </p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 5272740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d171d615ba7da8335044482e2f05d94e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenta", "link": "https://stackoverflow.com/users/5272740/kenta"}, "edited": false, "score": 0, "creation_date": 1449103441, "post_id": 34053336, "comment_id": 55865779, "body": "I implemented this and the program ran infinitely. I think it got stuck in that loop. After interrupting the program using a KeyboardInterrupt, the grid generated looking fine but I got some errors."}, {"owner": {"reputation": 199, "user_id": 5272740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d171d615ba7da8335044482e2f05d94e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenta", "link": "https://stackoverflow.com/users/5272740/kenta"}, "edited": false, "score": 0, "creation_date": 1449103679, "post_id": 34053336, "comment_id": 55865856, "body": "<code>Traceback (most recent call last):   File &quot;wordsearchop.py&quot;, line 56, in &lt;module&gt;     main()   File &quot;wordsearchop.py&quot;, line 53, in main     grid = word_place(word,grid)   File &quot;wordsearchop.py&quot;, line 23, in word_place     y = random.randrange(0,yspace)   File &quot;C:\\Python34\\lib\\random.py&quot;, line 194, in randrange     return istart + self._randbelow(width)   File &quot;C:\\Python34\\lib\\random.py&quot;, line 230, in _randbelow     r = getrandbits(k)          # 0 &lt;= r &lt; 2**k KeyboardInterrupt</code>"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 199, "user_id": 5272740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d171d615ba7da8335044482e2f05d94e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenta", "link": "https://stackoverflow.com/users/5272740/kenta"}, "edited": false, "score": 0, "creation_date": 1449103739, "post_id": 34053336, "comment_id": 55865878, "body": "so the word got inserted still? or no? because if it did then theres something funky going on. if not, maybe a fail-safe is needed for certain amount of iterations"}, {"owner": {"reputation": 199, "user_id": 5272740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d171d615ba7da8335044482e2f05d94e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenta", "link": "https://stackoverflow.com/users/5272740/kenta"}, "edited": false, "score": 0, "creation_date": 1449103797, "post_id": 34053336, "comment_id": 55865894, "body": "Nevermind, It worked just fine for some reason after running it again a few times. Thank you!"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 199, "user_id": 5272740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d171d615ba7da8335044482e2f05d94e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenta", "link": "https://stackoverflow.com/users/5272740/kenta"}, "edited": false, "score": 0, "creation_date": 1449103861, "post_id": 34053336, "comment_id": 55865915, "body": "I would suggest a failsafe to only run a certain amount of times, so instead of doing <code>while True</code> have a counter and increment it every time and change to <code>while counter &lt; someMaxValue</code>"}], "tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": true, "score": 1, "last_activity_date": 1449091634, "creation_date": 1449091634, "answer_id": 34053336, "question_id": 34053105, "link": "https://stackoverflow.com/questions/34053105/python-wordsearch-placing-words-to-handle-overlap-properly/34053336#34053336", "title": "-Python- WordSearch: Placing words to handle overlap properly", "body": "<p>This may be a place for a <code>for-else</code> construct:</p>\n\n<pre><code>while True:\n    x = random.randrange(0,xsize)\n    y = random.randrange(0,ysize)\n\n    for i in range(0,len(word)):\n        if grid[y + direction[1]*i][x + direction[0]*i] not in ['.',word[i]]:\n            break\n    else:\n        break\nfor i in range(0,len(word)):\n    grid[y + direction[1]*i][x + direction[0]*i] = word[i]\n</code></pre>\n\n<p>this continues changing <code>x</code> and <code>y</code> until the initial for loop runs without breaking. The first for loop will break any time that a value in the grid is not either a free space or the letter that it would need to be (<code>word[i]</code>).</p>\n"}], "owner": {"reputation": 199, "user_id": 5272740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d171d615ba7da8335044482e2f05d94e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenta", "link": "https://stackoverflow.com/users/5272740/kenta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 34053336, "answer_count": 2, "score": 0, "last_activity_date": 1449091634, "creation_date": 1449090813, "last_edit_date": 1449091127, "question_id": 34053105, "link": "https://stackoverflow.com/questions/34053105/python-wordsearch-placing-words-to-handle-overlap-properly", "title": "-Python- WordSearch: Placing words to handle overlap properly", "body": "<p>I have been working on a program that will run from command line that reads a file with words in it, and then generate a WordSearch game from those words. </p>\n\n<p>I have defined several functions, but the one I am having the issue with is the word_place function. This function is supposed to take my grid or 2D array that is originally filled with periods:</p>\n\n<pre><code>width = 20\nheight = 20\ngrid = [['.' for i in range(0,width)] for j in range(0,height)]\n</code></pre>\n\n<p>And places the words randomly either backwards or forwards, vertically, horizontally, or diagonally, and in a random spot as long as it fits the width and height of the puzzle.</p>\n\n<pre><code>def word_place(word,grid):\nglobal width, height\n\nword = random.choice([word,word[::-1]])\n\ndirection = random.choice([[1,0],[0,1],[1,1]])\nxsize = width if direction[0] == 0 else width - len(word)\nysize = height if direction[1] == 0 else height - len(word)\n\nx = random.randrange(0,xsize)\ny = random.randrange(0,ysize)\n\nfor i in range(0,len(word)):\n    grid[y + direction[1]*i][x + direction[0]*i] = word[i]\n\nreturn grid\n</code></pre>\n\n<p>As you can probably see though, if the words happen to intersect, whichever word was placed last will write over the character of the word it intersects.</p>\n\n<p>What I want the program to do is to check each \"coordinate\" of my 2D array. </p>\n\n<p>For example, say the first letter of the word happens to be at <code>grid[5][8]</code>, it should check and see if there is a period in that position. If so then it will check the next square and so on. </p>\n\n<p>Basically if the letter of the word I'm trying to place is <code>==</code> to a <code>.</code> or whatever letter is already in the index then it is okay to place, otherwise it should scrap that, and give the word a new starting coordinate and try again. </p>\n\n<p>Sorry if this is long or unclear.. let me know if you need more information!</p>\n"}, {"tags": ["python", "selenium-webdriver"], "answers": [{"tags": [], "owner": {"reputation": 15679, "user_id": 369450, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5cf82bfcd75a3bd40deaad83f7657c59?s=128&d=identicon&r=PG&f=1", "display_name": "All Workers Are Essential", "link": "https://stackoverflow.com/users/369450/all-workers-are-essential"}, "is_accepted": true, "score": 0, "last_activity_date": 1449092086, "last_edit_date": 1449092086, "creation_date": 1449091328, "answer_id": 34053250, "question_id": 34053097, "link": "https://stackoverflow.com/questions/34053097/execute-script-throws-no-exception-but-file-not-created/34053250#34053250", "title": "execute_script throws no exception but file not created", "body": "<p>Your options object created from Python looks malformed. There's no reason to surround the values with <code>\\\\\"</code>:</p>\n\n<pre><code>options = '{token: \\\\\"abcd\\\\\", fileName: '+filename+'}'\n</code></pre>\n\n<p>My guess would be you want to pass a dictionary directly to selenium instead of a string:</p>\n\n<pre><code>options = {'token': \"abcd\", 'fileName': filename}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5632201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7545c757c993be6b27bceed1e58fe2b?s=128&d=identicon&r=PG&f=1", "display_name": "stephen b", "link": "https://stackoverflow.com/users/5632201/stephen-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 34053250, "answer_count": 1, "score": 1, "last_activity_date": 1449092086, "creation_date": 1449090786, "question_id": 34053097, "link": "https://stackoverflow.com/questions/34053097/execute-script-throws-no-exception-but-file-not-created", "title": "execute_script throws no exception but file not created", "body": "<p>Trying to create a function to streamline some automation.</p>\n\n<p>When the javascript is called with the arguments directly it works perfectly and the file is created.</p>\n\n<pre><code>browser.execute_script(\"HAR.clear({token: \\\"abcd\\\"})\")\nbrowser.find_element_by_link_text(\"B\").click()\nbrowser.execute_script(\"HAR.triggerExport({token: \\\"abcd\\\", fileName: \\\"name_of_file\\\"}).then(result =&gt; {})\")\n</code></pre>\n\n<p>When i try to pass it as a variable, there are no errors but the har file is not created.</p>\n\n<p>Call: </p>\n\n<pre><code>simple_find(\"B\",'\\\\\"name_of_file\\\\\"')\n</code></pre>\n\n<p>Function:</p>\n\n<pre><code>def simple_find (element, filename):\n    browser.execute_script(\"HAR.clear({token: \\\"abcd\\\"})\")\n    browser.find_element_by_link_text(element).click()\n    options = '{token: \\\\\"abcd\\\\\", fileName: '+filename+'}'\n    ret=browser.execute_script(\"HAR.triggerExport(arguments[0]).then(result =&gt; {});return arguments[0]\",options)\n    print ret\n</code></pre>\n\n<p>I added the return piece to help debug what is being passed and here is the output:</p>\n\n<pre><code>C:&gt;python firefox-Manage.py \n{token: \\\"abcd\\\", fileName: \\\"name_of_file\\\"}\n</code></pre>\n\n<p>It looks exactly like the call made earlier with the exception of the file not being created. What am I missing?</p>\n\n<p>java version is: 1.8.0_66\nselenium version is: 2.48.2\npython version is: 2.7.10</p>\n\n<p>thx</p>\n"}, {"tags": ["python", "variables", "recursion", "scope"], "answers": [{"tags": [], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "is_accepted": false, "score": 0, "last_activity_date": 1449090676, "creation_date": 1449090676, "answer_id": 34053070, "question_id": 34053025, "link": "https://stackoverflow.com/questions/34053025/variable-use-during-recursion/34053070#34053070", "title": "Variable use during recursion?", "body": "<p>If you want to do something with your <code>global</code> variable inside a function you have to do it like this:</p>\n\n<pre><code>s=0\ndef depth(tuple):\n     # do something\n     global s\n     s=s+1\n     return depth(some_nested_tuple)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5623546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3acb98fb8fcbb49343d526756210b73c?s=128&d=identicon&r=PG&f=1", "display_name": "Janmajay", "link": "https://stackoverflow.com/users/5623546/janmajay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1449090875, "answer_count": 1, "score": -1, "last_activity_date": 1449090676, "creation_date": 1449090530, "question_id": 34053025, "link": "https://stackoverflow.com/questions/34053025/variable-use-during-recursion", "closed_reason": "Duplicate", "title": "Variable use during recursion?", "body": "<p>So, I am trying to solve a problem which involves finding the maximum depth of a tuple (for example, depth(('a',('b','c','d'),('e','f','g'))) should return 2 and depth(('a', ('b',), ('c', ('d', ('e',), f), ('g', 'h', 'i')))) should return 4.\nI am trying to use recursion to solve the problem where I use a counter 'c' to keep track of depth of each tuple (within the main tuple). The problem is,I get the following error, <strong>local variable 's' referenced before assignment</strong>.</p>\n\n<p>My code is something like:</p>\n\n<pre><code>s=0\ndef depth(tuple):\n     do something\n     s=s+1\n     depth(some_nested_tuple)\n     return\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "nlp", "nltk", "stanford-nlp"], "comments": [{"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1449148430, "post_id": 34053021, "comment_id": 55886867, "body": "What is your output for <code>python -c &quot;import nltk; print nltk.__version__&quot;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5377369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2017df9b5f9ed295ec9d13c6d4193527?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5377369/max"}, "edited": false, "score": 0, "creation_date": 1449092498, "post_id": 34053405, "comment_id": 55861383, "body": "I was hoping that it was a simple thing too but the documentation from <a href=\"http://www.nltk.org/_modules/nltk/parse/stanford.html\" rel=\"nofollow noreferrer\">nltk.org/_modules/nltk/parse/stanford.html</a> seems to indicate that StanfordDependencyParser does exist.   I&#39;m wondering if I need to change this import statement:       &quot;from nltk.parse import stanford&quot;"}], "tags": [], "owner": {"reputation": 5013, "user_id": 969617, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/2412de50d273085f5dcf3f2101c3996e?s=128&d=identicon&r=PG", "display_name": "beoliver", "link": "https://stackoverflow.com/users/969617/beoliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1449091864, "creation_date": 1449091864, "answer_id": 34053405, "question_id": 34053021, "link": "https://stackoverflow.com/questions/34053021/stanford-dependency-parser-setup-and-nltk/34053405#34053405", "title": "Stanford Dependency Parser Setup and NLTK", "body": "<p>If the only thing you changed was 'StanfordDependencyParser' and the error states: <code>module' object has no attribute 'StanfordDependencyParser'</code> I would assume that <code>StanfordDependencyParser</code> was the wrong thing to change it to. Have you copied all of the code that you linked to verbatim? </p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 5377369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2017df9b5f9ed295ec9d13c6d4193527?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5377369/max"}, "edited": false, "score": 0, "creation_date": 1449164221, "post_id": 34067107, "comment_id": 55898255, "body": "This worked after I re-installed Spyder and re-installed NLTK. I was running both Python2 and Python3 for some other work and I think the installation was &quot;confused&quot;. Thanks!"}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 71, "user_id": 5377369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2017df9b5f9ed295ec9d13c6d4193527?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5377369/max"}, "edited": false, "score": 1, "creation_date": 1449371381, "post_id": 34067107, "comment_id": 55976896, "body": "You will note that after you update your NLTK to v3.1, @danger89 code will no longer work. Please see the updated answers to <a href=\"http://stackoverflow.com/questions/13883277/stanford-parser-and-nltk\" title=\"stanford parser and nltk\">stackoverflow.com/questions/13883277/stanford-parser-and-nlt&zwnj;&#8203;k</a>"}], "tags": [], "owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "is_accepted": false, "score": 6, "last_activity_date": 1449149373, "last_edit_date": 1449149373, "creation_date": 1449148734, "answer_id": 34067107, "question_id": 34053021, "link": "https://stackoverflow.com/questions/34053021/stanford-dependency-parser-setup-and-nltk/34067107#34067107", "title": "Stanford Dependency Parser Setup and NLTK", "body": "<p>The <code>StanfordDependencyParser</code> API is a new class object created since NLTK version 3.1.</p>\n\n<p>Ensure that you have the latest NLTK available either through pip</p>\n\n<pre><code>pip install -U nltk\n</code></pre>\n\n<p>or through your linux package manager, e.g.:</p>\n\n<pre><code>sudo apt-get python-nltk\n</code></pre>\n\n<p>or in windows, download <a href=\"https://pypi.python.org/pypi/nltk\" rel=\"noreferrer\">https://pypi.python.org/pypi/nltk</a> and install and it should overwrite your previous NLTK version.</p>\n\n<p>Then you can use the API as shown in the documentation:</p>\n\n<pre><code>from nltk.parse.stanford import StanfordDependencyParser\ndep_parser=StanfordDependencyParser(model_path=\"edu/stanford/nlp/models/lexparser/englishPCFG.ser.gz\")\nprint [parse.tree() for parse in dep_parser.raw_parse(\"The quick brown fox jumps over the lazy dog.\")]\n</code></pre>\n\n<p>[out]:</p>\n\n<pre><code>[Tree('jumps', [Tree('fox', ['The', 'quick', 'brown']), Tree('dog', ['over', 'the', 'lazy'])])]\n</code></pre>\n\n<p>(Note: Make sure you get your path to jar and <code>os.environ</code> correct, in Windows, it's <code>something\\\\something\\\\some\\\\path</code>, in unix it's <code>something/something/some/path</code>)</p>\n\n<p>See also <a href=\"https://github.com/nltk/nltk/wiki/Installing-Third-Party-Software#stanford-tagger-ner-tokenizer-and-parser\" rel=\"noreferrer\">https://github.com/nltk/nltk/wiki/Installing-Third-Party-Software#stanford-tagger-ner-tokenizer-and-parser</a> and when you need a TL;DR solution, see <a href=\"https://github.com/alvations/nltk_cli\" rel=\"noreferrer\">https://github.com/alvations/nltk_cli</a></p>\n"}], "owner": {"reputation": 71, "user_id": 5377369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2017df9b5f9ed295ec9d13c6d4193527?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5377369/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9362, "favorite_count": 4, "answer_count": 2, "score": 5, "last_activity_date": 1449149373, "creation_date": 1449090526, "last_edit_date": 1495539958, "question_id": 34053021, "link": "https://stackoverflow.com/questions/34053021/stanford-dependency-parser-setup-and-nltk", "title": "Stanford Dependency Parser Setup and NLTK", "body": "<p>So I got the \"standard\" Stanford Parser to work thanks to danger89's answers to this previous post, <a href=\"https://stackoverflow.com/questions/13883277/stanford-parser-and-nltk\">Stanford Parser and NLTK</a>.</p>\n\n<p>However, I am now trying to get the dependency parser to work and it seems the method highlighted in the previous link no longer works. Here is my code:</p>\n\n<pre><code>import nltk\nimport os\njava_path = \"C:\\\\Program Files\\\\Java\\\\jre1.8.0_51\\\\bin\\\\java.exe\" \nos.environ['JAVAHOME'] = java_path\n\n\nfrom nltk.parse import stanford\nos.environ['STANFORD_PARSER'] = 'path/jar'\nos.environ['STANFORD_MODELS'] = 'path/jar'\nparser = stanford.StanfordDependencyParser(model_path=\"path/jar/englishPCFG.ser.gz\")\n\nsentences = parser.raw_parse_sents(nltk.sent_tokenize(\"The iPod is expensive but pretty.\"))\n</code></pre>\n\n<p>I get the following error: <strong><em>'module' object has no attribute 'StanfordDependencyParser'</em></strong></p>\n\n<p>The only thing I changed was \"StanfordDependencyParser\" from \"StanfordParser\". Any ideas how I can get this to work?</p>\n\n<p>I also tried the Stanford Neural Dependency parser by importing it as shown in the documentation here: <a href=\"http://www.nltk.org/_modules/nltk/parse/stanford.html\" rel=\"nofollow noreferrer\">http://www.nltk.org/_modules/nltk/parse/stanford.html</a></p>\n\n<p>This one didn't work either.</p>\n\n<p>Pretty new to NLTK. Thanks in advance for any helpful input.</p>\n"}, {"tags": ["python", "logic"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1449090494, "post_id": 34052977, "comment_id": 55860289, "body": "Why not just a mapping <code>{0: function0, ...}</code>, etc.?"}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1449090522, "post_id": 34052977, "comment_id": 55860311, "body": "What do the functions do?"}, {"owner": {"reputation": 6013, "user_id": 484669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/3818a2f287ee0fdba902ca1e531ec3bc?s=128&d=identicon&r=PG", "display_name": "j_syk", "link": "https://stackoverflow.com/users/484669/j-syk"}, "reply_to_user": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1449091421, "post_id": 34052977, "comment_id": 55860797, "body": "@ReutSharabani the functions call a redirect to unique Django views"}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1449091509, "post_id": 34052977, "comment_id": 55860843, "body": "do you really need 8 views? are they that different? This seems like not the best deaign. I could be wrong though."}, {"owner": {"reputation": 6013, "user_id": 484669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/3818a2f287ee0fdba902ca1e531ec3bc?s=128&d=identicon&r=PG", "display_name": "j_syk", "link": "https://stackoverflow.com/users/484669/j-syk"}, "reply_to_user": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1449091784, "post_id": 34052977, "comment_id": 55861004, "body": "@ReutSharabani well, it maybe could be a little more concise, but it&#39;s not within the scope to rewrite the underlying functions. Basically this function processes a user submitted web form and generates a pdf. So the various booleans change a print template, filter by a customer, and filter past due. Regardless of the actual use case, it peeked my curiosity about ways to process multiple bools"}], "answers": [{"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1449094386, "post_id": 34053121, "comment_id": 55862418, "body": "Thanks. That table just screams bit ops to me."}], "tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": false, "score": 4, "last_activity_date": 1449091207, "last_edit_date": 1449091207, "creation_date": 1449090871, "answer_id": 34053121, "question_id": 34052977, "link": "https://stackoverflow.com/questions/34052977/python-simplify-checking-multiple-boolean-conditions/34053121#34053121", "title": "Python simplify checking multiple boolean conditions", "body": "<p>You need to have some sort of mapping from outcome to function and a mapping from input to outcome. The nifty table you provide at the top, combined with the fact that <code>bool</code>s in Python are just the integers <code>0</code> and <code>1</code> gives you the following:</p>\n\n<pre><code>outcomeToFunc {\n    0: function0,\n    1: function1,\n    2: function2,\n    3: function3,\n    4: function4\n    # etc...\n}\n\ndef inputToOutcome(a, b, c):\n    return a &lt;&lt; 2 | b &lt;&lt; 1 | c\n\ndef do_stuff(a, b, c):\n    outcome = inputToOutcome(a, b, c)\n    return outcomeToFunc[outcome]()\n</code></pre>\n\n<p>If you are interested in having an arbitrary number of boolean inputs, you can modify <code>do_stuff</code> and <code>inputToOutcome</code> to use varargs:</p>\n\n<pre><code>outcomeToFunc {\n    0: function0,\n    1: function1,\n    2: function2,\n    3: function3,\n    4: function4\n    # etc...\n}\n\ndef inputToOutcome(*args):\n    outcome = 0\n    n = len(args) - 1\n    for ind, arg in enumerate(args):\n        outcome |= bool(arg) &lt;&lt; (n - ind)\n    return outcome\n\ndef do_stuff(*args):\n    outcome = inputToOutcome(*args)\n    try:\n        return outcomeToFunc[outcome]()\n    except KeyError:\n        raise ValueError('Outcome {} not supported'.format(outcome))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1449090901, "creation_date": 1449090901, "answer_id": 34053130, "question_id": 34052977, "link": "https://stackoverflow.com/questions/34052977/python-simplify-checking-multiple-boolean-conditions/34053130#34053130", "title": "Python simplify checking multiple boolean conditions", "body": "<p>Here are two solutions. It is up to you to decide if they are prettier than the one you presented.</p>\n\n<pre><code>def do_stuff(a, b, c):\n    flags = bool(a), bool(b), bool(c)\n    if flags == (True, True, True):\n        return function7()\n    if flags == (True, True, False):\n        return function6()\n    if flags == (True, False, True):\n        return function5()\n    if flags == (True, False, False):\n        return function4()\n    if flags == (False, True, True):\n        return function3()\n    if flags == (False, True, False):\n        return function2()\n    if flags == (False, False, True):\n        return function1()\n    if flags == (False, False, False):\n        return function0()\n\ndef do_stuff(a, b, c):\n    control = {\n        (True, True, True): function7,\n        (True, True, False): function6,\n        (True, False, True): function5,\n        (True, False, False): function4,\n        (False, True, True): function3,\n        (False, True, False): function2,\n        (False, False, True): function1,\n        (False, False, False): function0,\n    }\n    return control[bool(a), bool(b), bool(c)]()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1449091130, "post_id": 34053139, "comment_id": 55860631, "body": "The <i>&quot;main tip&quot;</i> is a bad idea."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1449091267, "post_id": 34053139, "comment_id": 55860717, "body": "@jonrsharpe. Agreed. We want all the tips."}, {"owner": {"reputation": 1774, "user_id": 3861449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc5cffc01b789b8262766e32eddbcfd7?s=128&d=identicon&r=PG&f=1", "display_name": "zephyr", "link": "https://stackoverflow.com/users/3861449/zephyr"}, "edited": false, "score": 0, "creation_date": 1449091946, "post_id": 34053139, "comment_id": 55861091, "body": "While this works, it seems the least desireable solution."}], "tags": [], "owner": {"reputation": 452, "user_id": 2550162, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/F3q9x.jpg?s=128&g=1", "display_name": "mhbashari", "link": "https://stackoverflow.com/users/2550162/mhbashari"}, "is_accepted": false, "score": -2, "last_activity_date": 1449091996, "last_edit_date": 1449091996, "creation_date": 1449090936, "answer_id": 34053139, "question_id": 34052977, "link": "https://stackoverflow.com/questions/34052977/python-simplify-checking-multiple-boolean-conditions/34053139#34053139", "title": "Python simplify checking multiple boolean conditions", "body": "<p>First you can build a binary to decimal converter.After obtaining the new number you can call the method by function name in an string by eval function:</p>\n\n<pre><code>def function0():\n    print(\"function0\")\ndef function1():\n    return 1;\na = eval(\"function1()\")\nprint(a)\n</code></pre>\n\n<p>Remember that you can pass global variables to eval function unless the current global names id used.</p>\n"}], "owner": {"reputation": 6013, "user_id": 484669, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/3818a2f287ee0fdba902ca1e531ec3bc?s=128&d=identicon&r=PG", "display_name": "j_syk", "link": "https://stackoverflow.com/users/484669/j-syk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1449091996, "creation_date": 1449090348, "question_id": 34052977, "link": "https://stackoverflow.com/questions/34052977/python-simplify-checking-multiple-boolean-conditions", "title": "Python simplify checking multiple boolean conditions", "body": "<p>I have a function that checks 3 different boolean flags and has a unique outcome for each of the 8 combinations. </p>\n\n<pre><code>\"\"\"\na | b | c | out\n- + - + - + ---\n0 | 0 | 0 | 0\n0 | 0 | 1 | 1\n0 | 1 | 0 | 2\n0 | 1 | 1 | 3\n1 | 0 | 0 | 4\n1 | 0 | 1 | 5\n1 | 1 | 0 | 6\n1 | 1 | 1 | 7\n\"\"\"\n\ndef do_stuff(a, b, c):\n    if a:\n        if b:\n            if c:\n                return function7()  # a, b, c\n            return function6()  # a, b, !c\n        if c:\n            return function5()  # a, !b, c\n        return function4()  # a, !b, !c\n    else:\n        if b:\n            if c:\n                return function3()  # !a, b, c\n            return function2()  # !a, b, !c\n        if c:\n            return function1()  # !a, !b, c\n        return function0()  # !a, !b, !c\n</code></pre>\n\n<p>I'm already short-cutting a lot of <code>else</code> statements since I'm returning (exiting the loop).</p>\n\n<p>Is there a more DRY way to accomplish this? I could convert to binary, and do a single depth level of if/elif, but I don't want to use \"magic numbers\".</p>\n\n<p>Also, I realize this is only 16 lines of code for 8 outcomes, but what if it were 4 variables, is there a way to increase readability/flow?</p>\n"}, {"tags": ["python", "string", "list", "format", "accumulator"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1449090366, "post_id": 34052958, "comment_id": 55860217, "body": "use for each with formatted text?"}, {"owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "edited": false, "score": 1, "creation_date": 1449090508, "post_id": 34052958, "comment_id": 55860302, "body": "I don&#39;t understand why join can&#39;t be used in a function definition."}, {"owner": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "edited": false, "score": 0, "creation_date": 1449092008, "post_id": 34052958, "comment_id": 55861128, "body": "You actually want the result to be string elements in a list like so <code>[&#39;$52.00&#39;, &#39;$55.00&#39;, ...]</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5623699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f43cff63153b6c19b14a2f7edc142?s=128&d=identicon&r=PG&f=1", "display_name": "justachillGamer", "link": "https://stackoverflow.com/users/5623699/justachillgamer"}, "edited": false, "score": 0, "creation_date": 1449090796, "post_id": 34053066, "comment_id": 55860458, "body": "I&#39;m familiar with using the .join method because it just works. and very easily. I&#39;m trying to get in the habit of knowing how each function works by making my own. Such as for min, max, and sum. which I&#39;ve already done in my overall program"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 3, "user_id": 5623699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f43cff63153b6c19b14a2f7edc142?s=128&d=identicon&r=PG&f=1", "display_name": "justachillGamer", "link": "https://stackoverflow.com/users/5623699/justachillgamer"}, "edited": false, "score": 0, "creation_date": 1449091673, "post_id": 34053066, "comment_id": 55860942, "body": "You learned it in a reverse order. You should learn basic stuff that builds those handy functions like <code>join</code>"}, {"owner": {"reputation": 3, "user_id": 5623699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f43cff63153b6c19b14a2f7edc142?s=128&d=identicon&r=PG&f=1", "display_name": "justachillGamer", "link": "https://stackoverflow.com/users/5623699/justachillgamer"}, "edited": false, "score": 1, "creation_date": 1449092064, "post_id": 34053066, "comment_id": 55861160, "body": "That makes a good point. I guess I would say, I know what the .join will output, but I didn&#39;t know how it was doing it. Definitely going to be studying methods a lot more."}], "tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": true, "score": 0, "last_activity_date": 1449090655, "creation_date": 1449090655, "answer_id": 34053066, "question_id": 34052958, "link": "https://stackoverflow.com/questions/34052958/using-a-loop-string-accumulator-to-format-a-list/34053066#34053066", "title": "Using a loop + string accumulator to format a List", "body": "<p>Whats the motiviation in not using <code>join</code>?</p>\n\n<pre><code>lst = [52.0, 55.0, 567.0, 92.0, 2.0, 5.0]\n\ndef foo(lst):\n    bar = ''\n    for i in lst:\n        i = format(i, '.2f')\n        bar+= '${}, '.format(str(i))\n    bar = bar.rstrip(', ')\n    return '{'+bar+'}'\n\nprint(foo(lst))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5623699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910f43cff63153b6c19b14a2f7edc142?s=128&d=identicon&r=PG&f=1", "display_name": "justachillGamer", "link": "https://stackoverflow.com/users/5623699/justachillgamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 34053066, "answer_count": 1, "score": 0, "last_activity_date": 1449090655, "creation_date": 1449090292, "question_id": 34052958, "link": "https://stackoverflow.com/questions/34052958/using-a-loop-string-accumulator-to-format-a-list", "title": "Using a loop + string accumulator to format a List", "body": "<p>I created a function definition to get user input (numbers) and then store it into a list.</p>\n\n<pre><code>[52.0, 55.0, 567.0, 92.0, 2.0, 5.0]\n</code></pre>\n\n<p>and I'm trying to format using a loop w/ string accumulator so it'll look something like this:</p>\n\n<pre><code>{$52.00, $55.00, $567.00, $92.00, $2.00, $5.00}\n</code></pre>\n\n<p>all <strong><em>without</em></strong> using the .join method.\nI can easily do it with the .join method, but the goal is to make it in a function definition as a loop so I can use it else where in my program. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1449090322, "post_id": 34052937, "comment_id": 55860195, "body": "<code>infile</code> is not a string: it is a file object. You&#39;ll have to read from <code>infile</code> first (or iterate over it)."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 1, "creation_date": 1449090376, "post_id": 34052937, "comment_id": 55860227, "body": "IE, save the contents of <code>infile</code> with <code>contents = infile.read().split(&#39;|&#39;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 0, "last_activity_date": 1449090407, "creation_date": 1449090407, "answer_id": 34052992, "question_id": 34052937, "link": "https://stackoverflow.com/questions/34052937/how-do-i-split-a-continuous-string-that-is-made-up-of-two-different-word-that-ar/34052992#34052992", "title": "How do i split a continuous string that is made up of two different word that are separated with &quot;|&quot; where i have to print just the first word?", "body": "<p>You have to iterate over the lines for example</p>\n\n<pre><code>with open('users', 'r') as infile:\n    for line in infile:\n        username, password = line.split('|')\n        print('Username: {}'.format(username))\n        print('Password: {}'.format(password))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 0, "last_activity_date": 1449090425, "creation_date": 1449090425, "answer_id": 34053000, "question_id": 34052937, "link": "https://stackoverflow.com/questions/34052937/how-do-i-split-a-continuous-string-that-is-made-up-of-two-different-word-that-ar/34053000#34053000", "title": "How do i split a continuous string that is made up of two different word that are separated with &quot;|&quot; where i have to print just the first word?", "body": "<p>You need to call <code>str.split()</code> once per input line, perhaps in a loop.</p>\n\n<p>For example:</p>\n\n<pre><code>with open(\"users\") as input_file:\n    for line in input_file:\n        username, password = line.split('|')\n        print(\"Username:\", username.strip())\n        print(\"Password:\", password.strip())\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5632214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f6d81f0a707e11f909ee3d6b719654?s=128&d=identicon&r=PG&f=1", "display_name": "Nemanja", "link": "https://stackoverflow.com/users/5632214/nemanja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 34053000, "answer_count": 2, "score": -3, "last_activity_date": 1449090425, "creation_date": 1449090209, "question_id": 34052937, "link": "https://stackoverflow.com/questions/34052937/how-do-i-split-a-continuous-string-that-is-made-up-of-two-different-word-that-ar", "title": "How do i split a continuous string that is made up of two different word that are separated with &quot;|&quot; where i have to print just the first word?", "body": "<p>So I am doing a task where I need to read a line from a text file which goes like this: \"Name|Something\" and I have to print \"Username: Name\" and \"Password: Something\". Here is what I came up with but I don't really know how to use the split command in this instance: </p>\n\n<pre><code>def main():\ninfile = open(\"users\",\"r\")\n    print(\"Username: \",e[0] for e in infile.split(\"|\"))\n    print(\"Password: \",e[1] for e in infile.split(\"|\"))\nmain()\n</code></pre>\n"}, {"tags": ["python", "list", "python-3.x"], "comments": [{"owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 1, "creation_date": 1449090383, "post_id": 34052923, "comment_id": 55860229, "body": "I&#39;ve read your question several times, and I have no idea what you&#39;re trying to do. Your title doesn&#39;t seem to have anything to do with the code samples, and those do wildly different things - can you clarify?"}, {"owner": {"reputation": 3204, "user_id": 4992248, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/73b487b53259bc9cfbfcfb33d718bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "TitanFighter", "link": "https://stackoverflow.com/users/4992248/titanfighter"}, "reply_to_user": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 0, "creation_date": 1449091942, "post_id": 34052923, "comment_id": 55861089, "body": "@TimPietzcker, edited :) Hope right now my question is easier to understand)"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1449092073, "post_id": 34052923, "comment_id": 55861169, "body": "It would seem you would be <b>way</b> better off just storing the movies in dictionaries of the form <code>{&#39;movie&#39;: year}</code>, e.g. <code>{&#39;007: Spectre&#39;: 2015, &#39;Terminator Genesis&#39;: 2015, ...}</code>."}, {"owner": {"reputation": 3204, "user_id": 4992248, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/73b487b53259bc9cfbfcfb33d718bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "TitanFighter", "link": "https://stackoverflow.com/users/4992248/titanfighter"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1449092543, "post_id": 34052923, "comment_id": 55861405, "body": "@wflynny, inside of each dict can be lots of info, for example &#39;length&#39; (as I just added to show as additional option), &#39;director&#39;, &#39;actors&#39;, etc."}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1449092760, "post_id": 34052923, "comment_id": 55861508, "body": "@TitanFighter Are you reading in json or parsing html or something?  If so, there are standard libs to make this lookup faster."}, {"owner": {"reputation": 3204, "user_id": 4992248, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/73b487b53259bc9cfbfcfb33d718bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "TitanFighter", "link": "https://stackoverflow.com/users/4992248/titanfighter"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1449094034, "post_id": 34052923, "comment_id": 55862214, "body": "@wflynny parsing html. Movies and showtimes from cinemas. Lets say Im parsing once a day. 1st day I&#39;m parsing info and pickle it. On 2nd day Im unpickling &#39;1st day info&#39; and store it in &#39;movies&#39;, then check if the same htmls have any new info (added new movies) by comparing unpickled info with just parsed. If there is difference (there are new movies), then info of the 2nd day (just new movies, wo old) I append to &#39;rest_movies&#39;. But new movies can be seen in many cinemas and in order to avoid parsing the same movie&#39;s page in order to get year (again), i want to get it already from parsed data."}], "answers": [{"tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": false, "score": 0, "last_activity_date": 1449090334, "creation_date": 1449090334, "answer_id": 34052971, "question_id": 34052923, "link": "https://stackoverflow.com/questions/34052923/efficient-way-to-find-unique-value-in-one-of-few-lists/34052971#34052971", "title": "Efficient way to find unique value in one of few lists", "body": "<p>To find a value in a list use <code>list.index(value)</code>. This will give you the index of the specified value in the list.</p>\n\n<p>From the <a href=\"https://docs.python.org/3/tutorial/datastructures.html#more-on-lists\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>Return the index in the list of the first item whose value is x. It is an error if there is no such item.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; lst = [1,2,3]\n&gt;&gt;&gt; lst.index(1)\n0\n&gt;&gt;&gt; lst.index(3)\n2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3204, "user_id": 4992248, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/73b487b53259bc9cfbfcfb33d718bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "TitanFighter", "link": "https://stackoverflow.com/users/4992248/titanfighter"}, "edited": false, "score": 0, "creation_date": 1449096344, "post_id": 34053554, "comment_id": 55863342, "body": "in many tries just found out the same solution :) P.S. By the way, additional thank you for this information: (O(n) + O(1) &lt;&lt; O(n)*m). This is my next step of code optimization."}], "tags": [], "owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "is_accepted": true, "score": 1, "last_activity_date": 1449093038, "last_edit_date": 1449093038, "creation_date": 1449092426, "answer_id": 34053554, "question_id": 34052923, "link": "https://stackoverflow.com/questions/34052923/efficient-way-to-find-unique-value-in-one-of-few-lists/34053554#34053554", "title": "Efficient way to find unique value in one of few lists", "body": "<p><strong>Edit:</strong></p>\n\n<p>So if you must keep things in the current structure, the best way would just be:</p>\n\n<pre><code>movie_lists = [movies, rest_movies, ...]\nfor movie_list in movie_lists:\n    for item in movie_list:\n        if item['name'] == movie_to_find:\n            print(item['year'])\n            break\n</code></pre>\n\n<p>But this only makes sense if you are using this information once.  If you  need to do this multiple times (O(n)*m), it makes sense to loop through once to construct the dicts of the form <code>name: year</code>, then utilize the speed of dict lookups (O(n) + O(1) &lt;&lt; O(n)*m).  </p>\n\n<hr>\n\n<p>I would change your two lists to two dicts because dict lookups are O(1) (where list lookups are O(n)):</p>\n\n<pre><code>movies = {'007: Spectre': 2015}, {'Terminator Genesis': 2015}\nrest_movies = {'Bridge of Spies': 2015}, {'Star Wars': 2015}\n\nmovie_to_find = 'Star Wars'\n\nif movie_to_find in movies:\n    print(movies[movie_to_find])\nelif movie_to_find in rest_movies:\n    print(rest_movies[movie_to_find])\n</code></pre>\n\n<p>For a general solution with multiple dicts, store the dicts in a list and iterate through the list:</p>\n\n<pre><code>movie_sets = [movies, rest_movies, other_movies, ...]\n\nfor movie_set in movie_sets:\n    if movie_to_find in movie_set:\n        print(movie_set[movie_to_find])\n</code></pre>\n\n<p>To convert you list of dicts to standalone dicts:</p>\n\n<pre><code>movies = dict((m['name'], m['year']) for m in movies)\nrest_movies = dict((m['name'], m['year']) for m in rest_movies)\n</code></pre>\n"}], "owner": {"reputation": 3204, "user_id": 4992248, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/73b487b53259bc9cfbfcfb33d718bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "TitanFighter", "link": "https://stackoverflow.com/users/4992248/titanfighter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 34053554, "answer_count": 2, "score": 0, "last_activity_date": 1449093038, "creation_date": 1449090157, "last_edit_date": 1449092408, "question_id": 34052923, "link": "https://stackoverflow.com/questions/34052923/efficient-way-to-find-unique-value-in-one-of-few-lists", "title": "Efficient way to find unique value in one of few lists", "body": "<p>I have right now such code with 2 lists:</p>\n\n<pre><code>movies = [{'name': '007: Spectre', 'year': 2015, 'length': '2:05'}, \n          {'name': 'Terminator Genesis', 'year': 2015, 'length': '2:20'}]\nrest_movies = [{'name':'Bridge of Spies', 'year': 2015, 'length': '1:50'},\n               {'name': 'Star Wars', 'year': 2015, 'length': '2:30'}]\n\ncheck_if_movie_in_one_of_lists = 'Star Wars'\n\nfor line in movies:\n    name = line['name']\n    if name == check_if_movie_in_one_of_lists:\n        movie_year = line['year']\n            print(movie_year)\n        break\nelse:\n    for line in rest_movies:\n        name = line['name']\n        if name == check_if_movie_in_one_of_lists:\n            movie_year = line['year']\n            print(movie_year)\n            break\n</code></pre>\n\n<p>I think this is not pythonic way to check if there is needed value in one of the lists.</p>\n\n<p>In my case:</p>\n\n<ol>\n<li>Lists can have random size. </li>\n<li>Amount of lists also can be random (right now just 2, but will be more).</li>\n<li>No duplicate values among lists.</li>\n<li>Looking for solution for Python 3</li>\n</ol>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 13210, "user_id": 764322, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a059b390ab24839995cfe14e261ffe41?s=128&d=identicon&r=PG", "display_name": "Imanol Luengo", "link": "https://stackoverflow.com/users/764322/imanol-luengo"}, "is_accepted": true, "score": 1, "last_activity_date": 1449095873, "last_edit_date": 1449095873, "creation_date": 1449090663, "answer_id": 34053068, "question_id": 34052903, "link": "https://stackoverflow.com/questions/34052903/forming-a-sparse-feature-matrix-data-frame-in-pandas/34053068#34053068", "title": "Forming a sparse feature matrix data frame in Pandas", "body": "<p>Scikit learn's <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MultiLabelBinarizer.html#sklearn.preprocessing.MultiLabelBinarizer\" rel=\"nofollow\">MultiLabelBinarizer</a> creates a binary matrix from labels. You can extract <code>feature</code> column from pandas dataframe and apply it:</p>\n\n<pre><code>mlb = MultiLabelBinarizer()\nnew_array = mlb.fit_transform(feature)\n</code></pre>\n\n<p>Additionally by specifying <code>MultiLabelBinarizer(sparse_output=True)</code> you will get a truly sparse output (useful if the number of different features is large).</p>\n\n<hr>\n\n<p>Sample output:</p>\n\n<pre><code>&gt;&gt;&gt; MultiLabelBinarizer().fit_transform([[\"A\", \"B\"], [\"C\", \"D\"]])\narray([[1, 1, 0, 0],\n       [0, 0, 1, 1]])\n</code></pre>\n"}], "owner": {"reputation": 7880, "user_id": 92610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d0bbd5d01fb8044a8782d537c9b3734c?s=128&d=identicon&r=PG", "display_name": "Daniel Farrell", "link": "https://stackoverflow.com/users/92610/daniel-farrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1911, "favorite_count": 0, "accepted_answer_id": 34053068, "answer_count": 1, "score": 2, "last_activity_date": 1449095873, "creation_date": 1449090112, "question_id": 34052903, "link": "https://stackoverflow.com/questions/34052903/forming-a-sparse-feature-matrix-data-frame-in-pandas", "title": "Forming a sparse feature matrix data frame in Pandas", "body": "<p>I want to expand the 'features' column of this data frame so that I create a new data frame where these features become the column names.</p>\n\n<p>For example. From this,</p>\n\n<p><a href=\"https://i.stack.imgur.com/yY3Fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yY3Fz.png\" alt=\"Raw matrix\"></a></p>\n\n<p>To this,</p>\n\n<p><a href=\"https://i.stack.imgur.com/m29sL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m29sL.png\" alt=\"Features matrix\"></a></p>\n\n<p>My solution works but I don't think it is very good because there are lots of for-loops. Maybe there is a better approach thats takes advantage of features of the Pandas.DataFrame class?</p>\n\n<p>The code to generate the feature matrix is below,</p>\n\n<pre><code>def feature_data_frame_by_exploding_column(input_df, col_name):\n\n    # Create data frame with same columns minus the column you want to explode\n    df = input_df.copy()\n    del df[col_name]\n\n    # The items that you want to become new features\n    all_new_features = []\n    new_feature_list = input_df[col_name].values\n    for ingred_list in new_feature_list:\n        all_new_features.extend(ingred_list) # Extend vs append!\n\n    # Add new features as columns of zeros\n    for feature in all_new_features:\n        df[feature] = 0\n\n    # For each row in data frame set values that need to be 1\n    for index in df.index:\n        ingreds_arr = new_feature_list[index]\n        df.loc[index, ingreds_arr] = 1\n\n    return df\n\ndf = pd.DataFrame(columns = [\"id\", \"features\"])\ndf['id'] = [0,1]\ndf['features'] = [[\"A\", \"B\"], [\"C\", \"D\"]]\ndf\n\nfeature_data_frame_by_exploding_column(df,\"features\")\n</code></pre>\n"}, {"tags": ["python", "mysql", "encryption", "unicode", "pycrypto"], "comments": [{"owner": {"reputation": 105038, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 1, "creation_date": 1449722404, "post_id": 34052860, "comment_id": 56133697, "body": "Encryption and base64 are <i>not</i> the same thing.  This is <i>not</i> a duplicate posting.  Voting to reopen.  The problem here concerns how to store binary data in MySQL.  Base64 is <i>part</i> of <i>one</i> solution."}, {"owner": {"reputation": 105038, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1449722479, "post_id": 34052860, "comment_id": 56133709, "body": "Plan A:  encrypt via AES; convert to base64; store in a <code>VARCHAR</code> or <code>TEXT</code> column that is <code>CHARACTER SET ascii</code>."}, {"owner": {"reputation": 105038, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1449722539, "post_id": 34052860, "comment_id": 56133730, "body": "Plan B:  encrypt via AES; convert to hex; <code>INSERT ... VALUES (... UNHEX(?)...)</code>."}], "owner": {"reputation": 6574, "user_id": 4698026, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-P-bQf8VLKQY/AAAAAAAAAAI/AAAAAAAAAO4/a_8mG7UXRfo/photo.jpg?sz=128", "display_name": "Himanshu Mishra", "link": "https://stackoverflow.com/users/4698026/himanshu-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "closed_date": 1449090466, "answer_count": 0, "score": 0, "last_activity_date": 1449089905, "creation_date": 1449089905, "question_id": 34052860, "link": "https://stackoverflow.com/questions/34052860/pycrypto-not-encrypting-in-ascii-or-unicode", "closed_reason": "Duplicate", "title": "pycrypto not encrypting in ascii or unicode", "body": "<p>I am using pycrypto to encrypt and decrypt a message using a key. I followed some examples and finally wrote my own. But it turns out that the encrypted message is not in unicode or ascii. I need to store the encrypted message on a mysql database but I won't be able to store such a thing - <code>O\u0584\ufffd\ufffdfo\ufffdA?\"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03e8\ufffd\ufffdw}\ufffd7</code>. What can I do about this? Do I need to modify my mysql database or there's some other way to use <code>Crypto</code>?</p>\n\n<p>Here is my code.</p>\n\n<pre><code>from Crypto.Cipher import AES\nimport random\n\nmode = AES.MODE_CBC\n\ndef encryptor(key, message):\n    IV = ''.join(chr(random.randint(0, 0xFF)) for i in range(16))\n    encrypto = AES.new(key, mode, IV=IV)\n    crypt_message = encrypto.encrypt(message)\n    cipher = crypt_message + IV\n    return cipher\n\ndef decryptor(key, cipher):\n    IV = cipher[-16:]\n    decrypt_message = cipher[:-16]\n    decrpyto = AES.new(key, mode, IV=IV)\n    message = decrpyto.decrypt(decrypt_message)\n    return message\n</code></pre>\n"}, {"tags": ["python", "nameerror"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1449089976, "post_id": 34052829, "comment_id": 55859964, "body": "Is this Python 2 or Python 3?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1449090100, "post_id": 34052829, "comment_id": 55860060, "body": "please include the full traceback"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1449090164, "post_id": 34052829, "comment_id": 55860099, "body": "@jwodder the use of the print function suggests Python 3, so the use of input() should be correct. Unless, indeed, it is Python 3 code run with Python 2."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1449090183, "post_id": 34052829, "comment_id": 55860110, "body": "This may be useful to you: <a href=\"http://stackoverflow.com/q/23294658/953482\">Asking the user for input until they give a valid response</a>"}, {"owner": {"reputation": 3, "user_id": 3897158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd799e13d0d7883019bd3af78ad1eaac?s=128&d=identicon&r=PG&f=1", "display_name": "Easty679", "link": "https://stackoverflow.com/users/3897158/easty679"}, "edited": false, "score": 0, "creation_date": 1449091580, "post_id": 34052829, "comment_id": 55860892, "body": "Ahhhh, i think i realise why i was having so much trouble. I have been doing this on two devices, one must be running 3 and my main Python 2. I&#39;m guessing i tried all the changes that would/would&#39;t work on Python 2/3 whilst switching machines."}], "answers": [{"tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": -1, "last_activity_date": 1449090274, "creation_date": 1449090274, "answer_id": 34052954, "question_id": 34052829, "link": "https://stackoverflow.com/questions/34052829/python-another-name-error/34052954#34052954", "title": "Python : Another Name Error", "body": "<p>The goal here is to check if a string contains numbers.  </p>\n\n<p>if it does, ask again.<br>\nelse, quit</p>\n\n<pre><code># return true if given string does not have any numbers in them.\ndef has_int(s):\n    return any(char.isdigit() for char in s)\n\n# ask what the name is\nname = input('What is your name?')\n# check if this user input has int\nwhile has_int(name):\n    # if it does, re-prompt\n    print('Name cannot include numbers')\n    name = input('What is your name?')\n# finally, say the name\nprint('Your name is {}'.format(name))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3897158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd799e13d0d7883019bd3af78ad1eaac?s=128&d=identicon&r=PG&f=1", "display_name": "Easty679", "link": "https://stackoverflow.com/users/3897158/easty679"}, "edited": false, "score": 1, "creation_date": 1449092688, "post_id": 34053013, "comment_id": 55861477, "body": "After updating to Python 3 on this device I found that this work and will use this version. Thanks!"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 2, "last_activity_date": 1449090497, "creation_date": 1449090497, "answer_id": 34053013, "question_id": 34052829, "link": "https://stackoverflow.com/questions/34052829/python-another-name-error/34053013#34053013", "title": "Python : Another Name Error", "body": "<pre><code>if \"0\" or \"1\" or \"2\" or \"3\" or \"4\" or \"5\" or \"6\" or \"7\" or \"8\" or \"9\" in str(Name):\n</code></pre>\n\n<p>This will always tell you there is a number in your name, because <code>\"0\"</code> is a non-zero length string and therefore truthy. Python sees <code>if \"0\" or</code> and stops there because it already knows the whole thing must be true.</p>\n\n<p>What you probably want is something more like:</p>\n\n<pre><code>if any(digit in Name for digit in \"0123456789\"):\n</code></pre>\n\n<p>Or, arguably better:</p>\n\n<pre><code>if any(char.isdigit() for char in Name):\n</code></pre>\n\n<p>The other one where you're trying to convert the name to an integer will only succeed in the conversion if the name is <em>all</em> digits, not if it contains a digit. That's not what you want so you shouldn't do it that way.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5562628"}, "is_accepted": false, "score": 0, "last_activity_date": 1449090518, "creation_date": 1449090518, "answer_id": 34053020, "question_id": 34052829, "link": "https://stackoverflow.com/questions/34052829/python-another-name-error/34053020#34053020", "title": "Python : Another Name Error", "body": "<p>I would just like to point out a few things:</p>\n\n<p>First, <code>\"1\" or \"2\" or \"3\" or \"4\"</code> will evaluate <code>\"1\" or \"2\"</code> which is <code>true</code> and stop. You have to write out \"1\" in name or \"2\" in name, etc. That's highly inefficient and you should look at the posted function for has_int() as that would be a better way to implement it.</p>\n\n<p>Also a name may have digits and still won't probably be parsed as an int() and raise an error so the second check is not effective at determining if a string has any numbers, only if the string is only numbers</p>\n\n<p>Finally, it's not necessary but it is good practice to name your variables with lowercase letters. </p>\n\n<p>Also, your name error could be because of input if you python version is not 3. Try using raw_input() if that is the case.</p>\n"}, {"comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1449092454, "post_id": 34053033, "comment_id": 55861355, "body": "where is the while logic that OP posted twice?"}, {"owner": {"reputation": 3, "user_id": 3897158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd799e13d0d7883019bd3af78ad1eaac?s=128&d=identicon&r=PG&f=1", "display_name": "Easty679", "link": "https://stackoverflow.com/users/3897158/easty679"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1449092653, "post_id": 34053033, "comment_id": 55861459, "body": "This worked on my Python 2 set-up. @taesu Don&#39;t worry, I understood the concept and just change a few things to make it work in my situation."}, {"owner": {"reputation": 562, "user_id": 4937581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-busS9MCZ-MM/AAAAAAAAAAI/AAAAAAAAFg8/MKMidpR9z8Y/photo.jpg?sz=128", "display_name": "Alfredo Gallegos", "link": "https://stackoverflow.com/users/4937581/alfredo-gallegos"}, "reply_to_user": {"reputation": 3, "user_id": 3897158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd799e13d0d7883019bd3af78ad1eaac?s=128&d=identicon&r=PG&f=1", "display_name": "Easty679", "link": "https://stackoverflow.com/users/3897158/easty679"}, "edited": false, "score": 0, "creation_date": 1449095283, "post_id": 34053033, "comment_id": 55862853, "body": "@Easty679 I updated my post with a program that may be useful to you and also fixed my bugs. Sorry for the trouble."}], "tags": [], "owner": {"reputation": 562, "user_id": 4937581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-busS9MCZ-MM/AAAAAAAAAAI/AAAAAAAAFg8/MKMidpR9z8Y/photo.jpg?sz=128", "display_name": "Alfredo Gallegos", "link": "https://stackoverflow.com/users/4937581/alfredo-gallegos"}, "is_accepted": false, "score": -2, "last_activity_date": 1449095242, "last_edit_date": 1449095242, "creation_date": 1449090552, "answer_id": 34053033, "question_id": 34052829, "link": "https://stackoverflow.com/questions/34052829/python-another-name-error/34053033#34053033", "title": "Python : Another Name Error", "body": "<p>Very glad that you have decided to reach out.</p>\n\n<p>I think regular expressions (python module <code>re</code>) (more info here: <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow\">https://docs.python.org/2/library/re.html</a>) are right up your alley. Regular expressions will allow you to determine if your string matches a \"mold\" or a pattern, which you can define by yourself</p>\n\n<p>Regular expressions are a very broad and deep subject that take a bit of time to get used to, but I think they're absolutely worth your time. Take this introductory, friendly tutorial: <a href=\"http://regexone.com/\" rel=\"nofollow\">http://regexone.com/</a></p>\n\n<p>Then, in python, you can try this:</p>\n\n<pre><code>import re\n\ninput_str = raw_input(\"&gt;?\") #reads user input\n\nif re.match('[0-9]+', input_str):     #if the input matches the pattern \"one or more numbers in the string\"\n    print \"Only letters a-z allowed!\" #error out of the program\n    sys.exit()\n</code></pre>\n\n<p>The thing of importance here is the part with <code>[0-9]+</code>, which means \"one or more numbers, any of them from 0 to 9\".</p>\n\n<p>Alright, I know I messed up with my previous code but to make up for it I present a working alternative, OP can refactor their program a bit like the following:</p>\n\n<pre><code>import re\n\nwhile True:\n    input_str = raw_input(\"What's your name? \") #reads user input \n    if ( re.match('[0-9]+', input_str) ):     # while the input doesn't match the pattern \"one or more numbers in the string\"\n        print \"Your name must NOT include numbers.\" #error out of the program\n    else:\n        break\n\nprint \"if you see this, the entered name fullfilled the logical condition\"\n</code></pre>\n\n<p>Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1449090774, "creation_date": 1449090774, "answer_id": 34053093, "question_id": 34052829, "link": "https://stackoverflow.com/questions/34052829/python-another-name-error/34053093#34053093", "title": "Python : Another Name Error", "body": "<p>You're running this in Python2. In Python2, <code>input</code> evaluates the user's input <em>AS CODE</em>. This means when you do:</p>\n\n<pre><code>&gt;&gt;&gt; input(\"Name: \")\nName: Will\n</code></pre>\n\n<p>It tries to evaluate to some variable named <code>Will</code>. There is no such variable, so it throws a <code>NameError</code>. You can test this by entering <code>\"Will\"</code> (note the quotes). Now it evaluates it as a string and should work properly. But of course you could also write <code>import os; os.listdir()</code> and get a list of the current directory followed by what will likely be a <code>TypeError</code>. <code>input</code> is not safe in Python2.</p>\n\n<p>Instead (in Python2), use <code>raw_input</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 3897158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd799e13d0d7883019bd3af78ad1eaac?s=128&d=identicon&r=PG&f=1", "display_name": "Easty679", "link": "https://stackoverflow.com/users/3897158/easty679"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 34053013, "answer_count": 5, "score": -4, "last_activity_date": 1449095242, "creation_date": 1449089813, "last_edit_date": 1449090681, "question_id": 34052829, "link": "https://stackoverflow.com/questions/34052829/python-another-name-error", "title": "Python : Another Name Error", "body": "<p>I have two sets of code that essentially have the same goal but neither work and come up with the same name error. I'm trying to make it so they only letters are accept as answers, not numbers. When a number is entered as the input the program works fine but letters do not. Pleases also note that I am still new to python and am looking for basic commands if possible. I know their are many other questions like this one but none that I found answered my question. The error that comes up specifically points out the <code>Name = input(\"What's your name?\\n\")</code> line. Thank you in advance!</p>\n\n<h1>1</h1>\n\n<pre><code>LetterCheck = True\nwhile LetterCheck == True:\n    Name = input(\"What's your name?\\n\")                                                     \n    if \"0\" or \"1\" or \"2\" or \"3\" or \"4\" or \"5\" or \"6\" or \"7\" or \"8\" or \"9\" in str(Name):\n        print('Your name must NOT include numbers.')\n    else:\n       LetterCheck = False\nprint(Name) \n</code></pre>\n\n<h1>2</h1>\n\n<pre><code>LetterCheck = True\nwhile LetterCheck == True:\n    Name = input(\"What's your name?\\n\")\n    global Name\n    try:\n        Name = int(Name)\n    except ValueError:\n        Name = str(Name)\n        LetterCheck = False\n    else:\n        print(\"Your name must NOT include numbers\")\nprint(Name)\n</code></pre>\n\n<h1>The Error</h1>\n\n<pre><code>What's your name?\n45\nYour name must NOT include numbers\nWhat's your name?\nWill\n\nTraceback (most recent call last):\n  File \"C:/Users/Will/Documents/Python/Task 1 Debugging.py\", line 3, in &lt;module&gt;\n    Name = input(\"What's your name?\\n\")\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nNameError: name 'Will' is not defined\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1449090199, "post_id": 34052805, "comment_id": 55860116, "body": "related:  <a href=\"http://stackoverflow.com/q/19484705/674039\">Why is Python&#39;s list comprehension loop order backwards?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 2, "creation_date": 1449089934, "post_id": 34052832, "comment_id": 55859942, "body": "<code>[d[&#39;URL&#39;] for i in items for d in i if &#39;URL&#39; in d]</code> if you don&#39;t know where that dictionary is"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 2, "creation_date": 1449089971, "post_id": 34052832, "comment_id": 55859961, "body": "@David542 oh look, my comment answered that."}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1449090021, "post_id": 34052832, "comment_id": 55859998, "body": "@David542 use <code>print [j[&#39;URL&#39;] for i in items for j in i]</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1449090068, "post_id": 34052832, "comment_id": 55860035, "body": "Or maybe <code>filter(None, [d.get(&#39;URL&#39;) for item in items for d in item])</code>"}, {"owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1449090293, "post_id": 34052832, "comment_id": 55860174, "body": "Oops, I didn&#39;t see @AdamSmith&#39;s comment. Answer deleted. I don&#39;t know how both of the solutions are identical except variable names."}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 5, "last_activity_date": 1449090060, "last_edit_date": 1449090060, "creation_date": 1449089826, "answer_id": 34052832, "question_id": 34052805, "link": "https://stackoverflow.com/questions/34052805/multiple-list-comprehension/34052832#34052832", "title": "Multiple list comprehension", "body": "<pre><code>items = [\n   [{'URL': '1234'}, {'ID': 1}],\n   [{'URL': '12344321'}, {'ID': 2}]\n]\nprint [i[0]['URL'] for i in items]\n</code></pre>\n\n<p>Grab the value of key <code>URL</code></p>\n\n<p>If you can have multiple dictionaries in single list use</p>\n\n<pre><code>print [j['URL'] for i in items for j in i]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1449090538, "post_id": 34052912, "comment_id": 55860318, "body": "I always think to myself &quot;I should use <code>operator.itemgetter</code> here!&quot; And then I write a <code>lambda</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1449090693, "post_id": 34052912, "comment_id": 55860404, "body": "@AdamSmith, I defo prefer itemgetter, much more efficient, I am  always looking for an excuse to use it!"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1449090851, "post_id": 34052912, "comment_id": 55860489, "body": "Unless I&#39;m already import <code>operator</code>, trying <code>ggO</code>, <code>import operator</code>, <code>^O</code> is harder than <code>lambda x: x[&#39;URL&#39;]</code> :)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1449095125, "post_id": 34052912, "comment_id": 55862771, "body": "Ah the anonymous downvote with a downvote for a correct answer, well done ;)"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1449090637, "last_edit_date": 1449090637, "creation_date": 1449090141, "answer_id": 34052912, "question_id": 34052805, "link": "https://stackoverflow.com/questions/34052805/multiple-list-comprehension/34052912#34052912", "title": "Multiple list comprehension", "body": "<p>If you like functional:</p>\n\n<pre><code>items = [\n   [{'URL': '1234', 'ID': 1}, {'URL': '2222', 'ID': 2}],\n   [{'URL': '12344321', 'ID': 2}]\n]\n\nfrom operator import itemgetter \nfrom itertools import chain\n\nprint(list(map(itemgetter(\"URL\"), chain.from_iterable(items))))\n['1234', '2222', '12344321']\n</code></pre>\n\n<p><code>chain.from_iterable(items)</code> is equivalent to flattening your list of lists with a double for loop, <code>map(itemgetter(\"URL\")</code> just pulls each <code>URL</code> value from each dicts. </p>\n\n<p>Your own code  failed just because you had the logic backwards, the for over the main iterable comes first then the for over each sublist comes otherwise you are trying to iterate over something that has not yet been defined giving you a <code>NameError</code>:</p>\n\n<pre><code> [i['URL'] for item in items for i in item]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1449090297, "creation_date": 1449090297, "answer_id": 34052960, "question_id": 34052805, "link": "https://stackoverflow.com/questions/34052805/multiple-list-comprehension/34052960#34052960", "title": "Multiple list comprehension", "body": "<p>Think of it in steps. First you want to flatten your outer list</p>\n\n<pre><code>[d for lst in items for d in lst]\n# same order as if you wrote it out in a `for` loop\n# for lst in items:\n#     for d in lst:\n#         yield d\n</code></pre>\n\n<p>this will give you a single flat list of all the dictionaries you have. Then you want to get the values tied to the key <code>\"URL\"</code> in each of those dictionaries. You know you can do that by using the <code>[key]</code> syntax, so just do it in the list comp.</p>\n\n<pre><code>[d[\"URL\"] for lst in items for d in lst]\n</code></pre>\n\n<p>If some of those dictionaries might not have a <code>\"URL\"</code> key, then you can apply a filter to the end</p>\n\n<pre><code>[d[\"URL\"] for lst in items for d in lst if \"URL\" in d]\n</code></pre>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 34052960, "answer_count": 3, "score": 1, "last_activity_date": 1449090637, "creation_date": 1449089749, "last_edit_date": 1449089936, "question_id": 34052805, "link": "https://stackoverflow.com/questions/34052805/multiple-list-comprehension", "title": "Multiple list comprehension", "body": "<p>I have the following nested list:</p>\n\n<pre><code>items = [\n   [{'URL': '1234', 'ID': 1}, {'URL': '2222', 'ID': 2}],\n   [{'URL': '12344321', 'ID': 2}]\n]\n</code></pre>\n\n<p>How would I get all the urls here?</p>\n\n<p>So far I have tried:</p>\n\n<pre><code>urls = [i['URL'] for i in item for item in items]\n</code></pre>\n"}, {"tags": ["python", "c++", "boost"], "comments": [{"owner": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "edited": false, "score": 0, "creation_date": 1449090488, "post_id": 34052773, "comment_id": 55860286, "body": "Did that code even compile? <code>A::foo()</code> is private. So, are <code>B::x</code> and <code>B::y</code>. <code>&amp;B.x</code> does not make sense. Neither does <code>&amp;B.y</code>. Can you please post code that you are actually using?"}, {"owner": {"reputation": 4791, "user_id": 3899471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f65ff7602231a1a1653a7debf32e7f?s=128&d=identicon&r=PG&f=1", "display_name": "kvorobiev", "link": "https://stackoverflow.com/users/3899471/kvorobiev"}, "edited": false, "score": 0, "creation_date": 1449090811, "post_id": 34052773, "comment_id": 55860469, "body": "Please, provide implementation of <code>A::foo()</code> method"}, {"owner": {"reputation": 910, "user_id": 3332581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa1d0b48d4ec4d535c0e7a48882c2eb3?s=128&d=identicon&r=PG", "display_name": "Ashkan", "link": "https://stackoverflow.com/users/3332581/ashkan"}, "reply_to_user": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "edited": false, "score": 0, "creation_date": 1449090861, "post_id": 34052773, "comment_id": 55860494, "body": "@crayzeewulf Corrected the code a bit. My code is in two files and a lot of lines. Should I still post it here?"}, {"owner": {"reputation": 5282, "user_id": 1062948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/432acdf7ac90614c1100bb7275eb5ce5?s=128&d=identicon&r=PG", "display_name": "crayzeewulf", "link": "https://stackoverflow.com/users/1062948/crayzeewulf"}, "edited": false, "score": 0, "creation_date": 1449090912, "post_id": 34052773, "comment_id": 55860508, "body": "Please try: <code>A = interestingLib.A()</code> (notice <code>()</code>). You need to create an object of class A before using it. Also, avoid using variable names that are the same as names of classes."}], "answers": [{"tags": [], "owner": {"reputation": 4791, "user_id": 3899471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f65ff7602231a1a1653a7debf32e7f?s=128&d=identicon&r=PG&f=1", "display_name": "kvorobiev", "link": "https://stackoverflow.com/users/3899471/kvorobiev"}, "is_accepted": false, "score": 2, "last_activity_date": 1449090907, "creation_date": 1449090907, "answer_id": 34053132, "question_id": 34052773, "link": "https://stackoverflow.com/questions/34052773/boost-python-returning-a-class-from-a-method-of-another-class/34053132#34053132", "title": "Boost python, returning a class from a method of another class", "body": "<p>In python you should use</p>\n\n<pre><code>A = interestingLib.A()\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>A = interestingLib.A\n</code></pre>\n\n<p>This code <code>A = interestingLib.A</code> assign to <code>A</code> object of type <code>Boost.Python.class</code>. And with <code>A = interestingLib.A()</code> you create object of type <code>A</code> with default constructor.</p>\n"}], "owner": {"reputation": 910, "user_id": 3332581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa1d0b48d4ec4d535c0e7a48882c2eb3?s=128&d=identicon&r=PG", "display_name": "Ashkan", "link": "https://stackoverflow.com/users/3332581/ashkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449090907, "creation_date": 1449089675, "last_edit_date": 1449090651, "question_id": 34052773, "link": "https://stackoverflow.com/questions/34052773/boost-python-returning-a-class-from-a-method-of-another-class", "title": "Boost python, returning a class from a method of another class", "body": "<p>My problem is that I have two classes like this</p>\n\n<pre><code>class B{\npublic:\n    double x,y;\n}\n\nclass A{\npublic:\n    B foo();\n}\n\n\nBOOST_PYTHON_MODULE(interestingLib){\n    class_&lt;A&gt;(\"A\")\n        .def(\"foo\", &amp;A::foo)\n    ;\n    class_&lt;B&gt;(\"B\")\n        .def_readonly(\"x\",&amp;B::x)\n        .def_readonly(\"y\",&amp;B::y)\n    ;\n}\n</code></pre>\n\n<p>in my python script I call my function <code>foo</code> and get the return, after that I want to see the member variable <code>x</code> like this</p>\n\n<pre><code>A = interestingLib.A\nB = A.foo()\nB.x\n</code></pre>\n\n<p>but I get the error <code>AttributeError: 'NoneType' object has no attribute 'x'</code></p>\n\n<p>could anyone tell me what the problem is?</p>\n"}, {"tags": ["python", "nlp"], "comments": [{"owner": {"reputation": 1415, "user_id": 1391625, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d6cab1133ecef21555b14b6f372b450f?s=128&d=identicon&r=PG", "display_name": "Dylan Lawrence", "link": "https://stackoverflow.com/users/1391625/dylan-lawrence"}, "edited": false, "score": 0, "creation_date": 1449089822, "post_id": 34052771, "comment_id": 55859880, "body": "Which line is the error from?"}, {"owner": {"reputation": 813, "user_id": 5533112, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/231230d012fb1e52721a100327fc0906?s=128&d=identicon&r=PG&f=1", "display_name": "Masyaf", "link": "https://stackoverflow.com/users/5533112/masyaf"}, "reply_to_user": {"reputation": 1415, "user_id": 1391625, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d6cab1133ecef21555b14b6f372b450f?s=128&d=identicon&r=PG", "display_name": "Dylan Lawrence", "link": "https://stackoverflow.com/users/1391625/dylan-lawrence"}, "edited": false, "score": 0, "creation_date": 1449090766, "post_id": 34052771, "comment_id": 55860443, "body": "Edited post for full error report."}], "answers": [{"tags": [], "owner": {"reputation": 9056, "user_id": 318964, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2df406df36a856e16aa7f75b7185550?s=128&d=identicon&r=PG", "display_name": "KT.", "link": "https://stackoverflow.com/users/318964/kt"}, "is_accepted": false, "score": 0, "last_activity_date": 1449164818, "creation_date": 1449164818, "answer_id": 34072793, "question_id": 34052771, "link": "https://stackoverflow.com/questions/34052771/error-when-creating-vector-in-python-from-text-file/34072793#34072793", "title": "Error when creating vector in python from text file", "body": "<p>The <code>vectorizer.fit</code> method expects an iterable of file or string objects (not a single file object), hence you should have <code>vectorizer.fit([f])</code>.</p>\n\n<p>In addition, you cannot reuse the <code>f</code> in the second call to <code>vectorizer.transform</code> (because the file has been read at that moment). What you probably want to do is the following:</p>\n\n<pre><code>vectorizer = CountVectorizer(input=\"file\")\nf = open('D:\\\\test\\\\17.txt')\nbag_of_words = vectorizer.fit_transform([f])\n</code></pre>\n"}], "owner": {"reputation": 813, "user_id": 5533112, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/231230d012fb1e52721a100327fc0906?s=128&d=identicon&r=PG&f=1", "display_name": "Masyaf", "link": "https://stackoverflow.com/users/5533112/masyaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449164818, "creation_date": 1449089665, "last_edit_date": 1449090748, "question_id": 34052771, "link": "https://stackoverflow.com/questions/34052771/error-when-creating-vector-in-python-from-text-file", "title": "Error when creating vector in python from text file", "body": "<p>I want to import data from text file and make vector space representation out of words:</p>\n\n<pre><code>from sklearn.feature_extraction.text import CountVectorizer\n\nvectorizer = CountVectorizer(input=\"file\")\nf = open('D:\\\\test\\\\17.txt')\nbag_of_words = vectorizer.fit(f)\nbag_of_words = vectorizer.transform(f)\nprint(bag_of_words)\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:\\test\\test.py\", line 5, in &lt;module&gt;\n    bag_of_words = vectorizer.fit(f)\nFile \"C:\\Anaconda3\\lib\\site-packages\\sklearn\\feature_extraction\\text.py\", line 776, in fit\nself.fit_transform(raw_documents)\nFile \"C:\\Anaconda3\\lib\\site-packages\\sklearn\\feature_extraction\\text.py\", line 804, in fit_transform\nself.fixed_vocabulary_)\nFile \"C:\\Anaconda3\\lib\\site-packages\\sklearn\\feature_extraction\\text.py\", line 739, in _count_vocab\nfor feature in analyze(doc):\nFile \"C:\\Anaconda3\\lib\\site-packages\\sklearn\\feature_extraction\\text.py\", line 236, in &lt;lambda&gt;\ntokenize(preprocess(self.decode(doc))), stop_words)\nFile \"C:\\Anaconda3\\lib\\site-packages\\sklearn\\feature_extraction\\text.py\", line 110, in decode\ndoc = doc.read()\nAttributeError: 'str' object has no attribute 'read'\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "json"], "answers": [{"tags": [], "owner": {"reputation": 2452, "user_id": 1594060, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d93aa9c4456a600e2fdc404588726354?s=128&d=identicon&r=PG", "display_name": "Josh Rumbut", "link": "https://stackoverflow.com/users/1594060/josh-rumbut"}, "is_accepted": false, "score": 0, "last_activity_date": 1449089720, "creation_date": 1449089720, "answer_id": 34052791, "question_id": 34052739, "link": "https://stackoverflow.com/questions/34052739/manipulating-the-double-quotes-when-creating-a-request-with-python-dumps/34052791#34052791", "title": "Manipulating the double quotes when creating a request with python dumps", "body": "<p>Have you tried:</p>\n\n<pre><code>if users         is not None: payload.update({'users': users})\n</code></pre>\n\n<p>This should work if <code>users</code> is something like <code>users = [\"djones\",\"mjones\",\"todd\"]</code></p>\n"}, {"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1449090114, "creation_date": 1449090114, "answer_id": 34052904, "question_id": 34052739, "link": "https://stackoverflow.com/questions/34052739/manipulating-the-double-quotes-when-creating-a-request-with-python-dumps/34052904#34052904", "title": "Manipulating the double quotes when creating a request with python dumps", "body": "<p>The square brackets denote a list. So you have to put <code>users</code> into a list:</p>\n\n<pre><code>funcURL = \"roles\"\npayload = {}\nif name is not None:\n    payload['name'] = name\nif userStore is not None:\n    payload['userStore'] = userStore\nif users is not None:\n    payload['users'] = [users]\nif tenantid is not None:\n    payload['tenantid'] = tenantid\nif permissions is not None:\n    payload['userClaims'] = permissions\npayload = json.dumps(payload)\nreturn self._call_url('POST', funcURL, payload)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4722311, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bceb7cb222b994c5c58240f1f64c0bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Jones", "link": "https://stackoverflow.com/users/4722311/dave-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1449090526, "creation_date": 1449089539, "last_edit_date": 1449090526, "question_id": 34052739, "link": "https://stackoverflow.com/questions/34052739/manipulating-the-double-quotes-when-creating-a-request-with-python-dumps", "title": "Manipulating the double quotes when creating a request with python dumps", "body": "<p>Looking for some advice customizing requests for json style syntax.  </p>\n\n<p><code>json.dumps</code> will format the like this:</p>\n\n<pre><code>{\"tenantid\": 1, \"name\": \"NewRoleName\", \"users\": \"[djones]\"}\n</code></pre>\n\n<p>But the servers wants something like this:</p>\n\n<pre><code>{\"tenantid\": 1, \"name\": \"NewRoleName\", \"users\": [\"djones\"]}\n</code></pre>\n\n<p>Any easy way to manipulate the double quotes to be placed with in the square brackets?</p>\n\n<pre><code>payload = {}\nfuncURL = \"roles\"\nif name          is not None: payload.update({'name': name})\nif userStore     is not None: payload.update({'userStore': userStore})\nif users         is not None: payload.update({'users': \"[\" + users + \"]\"})\nif tenantid      is not None: payload.update({'tenantid': tenantid})\nif permissions   is not None: payload.update({'userClaims': permissions})\nprint users\nprint payload\npayload = json.dumps(payload)\nreturn self._call_url('POST', funcURL, payload)\n</code></pre>\n\n<p><code>_call_url</code> uses requests to send the payload out:</p>\n\n<pre><code>response = requests.request( methodType, baseURL + \"/\" + funcURL, data=payload, headers=self.headers, timeout=timeout, verify=False)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "pip", "importerror", "moviepy"], "answers": [{"comments": [{"owner": {"reputation": 1926, "user_id": 6732358, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Vyl04.gif?s=128&g=1", "display_name": "Tom Burrows", "link": "https://stackoverflow.com/users/6732358/tom-burrows"}, "edited": false, "score": 2, "creation_date": 1490608202, "post_id": 34052910, "comment_id": 73170557, "body": "I think just <code>pip3 install moviepy</code> is the best way to do this."}], "tags": [], "owner": {"reputation": 452, "user_id": 2550162, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/F3q9x.jpg?s=128&g=1", "display_name": "mhbashari", "link": "https://stackoverflow.com/users/2550162/mhbashari"}, "is_accepted": true, "score": 5, "last_activity_date": 1449090136, "creation_date": 1449090136, "answer_id": 34052910, "question_id": 34052714, "link": "https://stackoverflow.com/questions/34052714/installing-running-modules-in-python-3-beginner/34052910#34052910", "title": "Installing &amp; running modules in Python 3 (Beginner)", "body": "<p>If you are using python in linux you must run pip with python3:</p>\n\n<pre><code>python3 -m pip install moviepy\n</code></pre>\n\n<p>according to python official doc :</p>\n\n<blockquote>\n  <p>On Linux, Mac OS X and other POSIX systems, use the versioned Python\n  commands in combination with the -m switch to run the appropriate copy\n  of pip:</p>\n</blockquote>\n\n<pre><code>python2   -m pip install SomePackage  # default Python 2\npython2.7 -m pip install SomePackage  # specifically Python 2.7\npython3   -m pip install SomePackage  # default Python 3\npython3.4 -m pip install SomePackage  # specifically Python 3.4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14451, "user_id": 1334561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhV7w.jpg?s=128&g=1", "display_name": "Muhammad Soliman", "link": "https://stackoverflow.com/users/1334561/muhammad-soliman"}, "is_accepted": false, "score": 1, "last_activity_date": 1449090184, "creation_date": 1449090184, "answer_id": 34052928, "question_id": 34052714, "link": "https://stackoverflow.com/questions/34052714/installing-running-modules-in-python-3-beginner/34052928#34052928", "title": "Installing &amp; running modules in Python 3 (Beginner)", "body": "<p>Since pip itself is written in python , you could simply run the following in your terminal:</p>\n\n<pre><code>/path/to/python3 /usr/bin/pip install foo\n</code></pre>\n\n<p><strong>More info:</strong></p>\n\n<p>To install pip, securely download <a href=\"https://bootstrap.pypa.io/get-pip.py\" rel=\"nofollow\">get-pip.py</a></p>\n\n<p>Run the following (which may require administrator access):</p>\n\n<pre><code>/path/to/python3 get-pip.py \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 10362801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nd_POGTzse8/AAAAAAAAAAI/AAAAAAAAA-A/Vb4SiEFCgJw/photo.jpg?sz=128", "display_name": "Shiv948", "link": "https://stackoverflow.com/users/10362801/shiv948"}, "is_accepted": false, "score": 0, "last_activity_date": 1561012630, "creation_date": 1561012630, "answer_id": 56680296, "question_id": 34052714, "link": "https://stackoverflow.com/questions/34052714/installing-running-modules-in-python-3-beginner/56680296#56680296", "title": "Installing &amp; running modules in Python 3 (Beginner)", "body": "<p>Try below version of moviepy </p>\n\n<p><code>pip install moviepy==0.2.3.5</code></p>\n"}], "owner": {"reputation": 65, "user_id": 5631883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12a48215fdee20a9a67ca1e223a7c810?s=128&d=identicon&r=PG&f=1", "display_name": "abihuniak", "link": "https://stackoverflow.com/users/5631883/abihuniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3896, "favorite_count": 0, "accepted_answer_id": 34052910, "answer_count": 3, "score": 3, "last_activity_date": 1561012630, "creation_date": 1449089418, "last_edit_date": 1449119187, "question_id": 34052714, "link": "https://stackoverflow.com/questions/34052714/installing-running-modules-in-python-3-beginner", "title": "Installing &amp; running modules in Python 3 (Beginner)", "body": "<p>I am very new to the world of coding, so I will try to provide as much information as i can regarding to my question.</p>\n\n<p>Essentially, I wanted to install a module (moviepy) for Python 3. The site were I found the module suggested I use pip to unpack and install the module, so I did.</p>\n\n<p>In my terminal, I entered <code>pip install moviepy</code> and pip proceeded to unpack and install my module, yay!</p>\n\n<p>I then went over to my IDLE to see if the module would import, <code>import moviepy</code>, but received this error:</p>\n\n<blockquote>\n  <p>ImportError: No module named 'moviepy'</p>\n</blockquote>\n\n<p>Huh? I thought I had just installed moviepy?</p>\n\n<p>Upon further investigation, the module appears to have been written to my Python 2.7 site-packages folder and not my in Python 3 site-packages folder.</p>\n\n<p>So my question is: How can I get my module to install to Python 3?</p>\n\n<p>The modules website says that it is compatible with Python 3.</p>\n\n<p>Im assuming this is a file path issue of some kind, but i don't know where to begin.</p>\n\n<p>I'm currently using a OS X Yosemite version 10.10.2, Python 2.7.6, Python 3.5.0</p>\n\n<p>Any help or comments are greatly appreciated here!\nHelp the n00b!</p>\n"}, {"tags": ["python", "django", "ssl"], "comments": [{"owner": {"reputation": 1044, "user_id": 788180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b24aa1b4993f6d88547e013089456f?s=128&d=identicon&r=PG", "display_name": "chaim", "link": "https://stackoverflow.com/users/788180/chaim"}, "edited": false, "score": 0, "creation_date": 1449091902, "post_id": 34052702, "comment_id": 55861062, "body": "I guess SSL is not turned on by default, so just remove that option."}], "answers": [{"tags": [], "owner": {"reputation": 2880, "user_id": 2848483, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6593ff6dc03719571b02b89e5d23d661?s=128&d=identicon&r=PG", "display_name": "Bren", "link": "https://stackoverflow.com/users/2848483/bren"}, "is_accepted": false, "score": 1, "last_activity_date": 1449191977, "creation_date": 1449191977, "answer_id": 34079344, "question_id": 34052702, "link": "https://stackoverflow.com/questions/34052702/how-to-turn-off-ssl-in-django-database-settings/34079344#34079344", "title": "How to turn off SSL in django database settings", "body": "<p>I downgraded my mysql to 5.6.27 and that worked. </p>\n"}], "owner": {"reputation": 2880, "user_id": 2848483, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6593ff6dc03719571b02b89e5d23d661?s=128&d=identicon&r=PG", "display_name": "Bren", "link": "https://stackoverflow.com/users/2848483/bren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1449191977, "creation_date": 1449089376, "question_id": 34052702, "link": "https://stackoverflow.com/questions/34052702/how-to-turn-off-ssl-in-django-database-settings", "title": "How to turn off SSL in django database settings", "body": "<p>How can I turn off in the django database settings.</p>\n\n<p>I've tried things like:</p>\n\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': '??',\n        'USER': '??',\n        'PASSWORD': '??',\n        'HOST': '??',\n        'PORT': '3306',\n        'SSL' :0\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': '??',\n        'USER': '??',\n        'PASSWORD': '??',\n        'HOST': '??',\n        'PORT': '3306',\n        'OPTIONS' : {'SSL' : 0}\n    }\n}\n</code></pre>\n\n<p>but neither of these work.</p>\n"}, {"tags": ["python", "timer"], "owner": {"reputation": 874, "user_id": 5297860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de25e2f82f50ed8961d02ab17a6a22d9?s=128&d=identicon&r=PG&f=1", "display_name": "luiswill", "link": "https://stackoverflow.com/users/5297860/luiswill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1449089185, "creation_date": 1449089185, "question_id": 34052652, "link": "https://stackoverflow.com/questions/34052652/python-oriented-object-qtpy-timer", "title": "Python Oriented Object, QtPy timer", "body": "<p>I stuck with my programm, the thing is if I call the function <code>increase()</code> my money don't decrease of 1000, but money goes down under 1000. I think I call many times this function, but I am new in OOP and I will be glad if you help me :) </p>\n\n<p>Greetings</p>\n\n<pre>\n\nclass Editor(QtGui.QMainWindow):\n\n    def __init__(self):\n        super(Editor, self).__init__()\n        self.ui=Ui_MainWindow()\n        self.ui.setupUi(self)\n        self.show()\n        self.money = 1\n        self.step = 1\n        self.counter = 1\n\n\n        self.ui.click_money.clicked.connect(self.gagner)\n        self.loop()\n        self.fact = 1\n\n\n\n    def _set_fact(self, new):\n        self.fact = new\n\n    def _set_money(self, new):\n        self.money = new\n\n\n    def gagner(self):\n        self.money += self.step\n        self.ui.money.setText(str(self.money))\n\n\n    def increase(self):\n\n        if self.money > 1000:\n\n            self._set_fact(10)\n            self.ui.mine_1.setText(\"I\")\n            self.money = self.money - 1000\n            self.ui.money.setText(str(self.money))\n\n\n\n    def compteur(self):\n        self.money += 100 * self.fact\n        self.ui.money.setText(str(self.money))\n        self.ui.argent_0.clicked.connect(self.increase)\n\n\n\n    def loop(self):\n        timer = QtCore.QTimer(self)\n        timer.timeout.connect(self.compteur)\n        timer.start(1000)\n\n\n</pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1449089651, "post_id": 34052650, "comment_id": 55859792, "body": "Can you please provide numerical data and your desired output?"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1449089800, "post_id": 34052650, "comment_id": 55859865, "body": "Hint: add <code>print(x)</code> inside your function, and then ask what you wanted <code>x[1]</code> to do with that <code>x</code>."}, {"owner": {"reputation": 160, "user_id": 1976555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdf06b0f2aebbc98215c53449307fd0?s=128&d=identicon&r=PG", "display_name": "cynewulf", "link": "https://stackoverflow.com/users/1976555/cynewulf"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1449094957, "post_id": 34052650, "comment_id": 55862689, "body": "@Alexander I don&#39;t follow. I did provide numerical data. My question includes a minimal example data frame with numerical values generated randomly; the same example used in some of the <code>pandas</code> documentation."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1449095105, "post_id": 34052650, "comment_id": 55862757, "body": "But you don&#39;t provide the desired result, and the desired result cannot be inferred without the numerical data."}, {"owner": {"reputation": 160, "user_id": 1976555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdf06b0f2aebbc98215c53449307fd0?s=128&d=identicon&r=PG", "display_name": "cynewulf", "link": "https://stackoverflow.com/users/1976555/cynewulf"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1449097499, "post_id": 34052650, "comment_id": 55863794, "body": "@Alexander ah, good point, I&#39;ve now added specifically what the desired result would be for the example data provided."}], "answers": [{"comments": [{"owner": {"reputation": 160, "user_id": 1976555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdf06b0f2aebbc98215c53449307fd0?s=128&d=identicon&r=PG", "display_name": "cynewulf", "link": "https://stackoverflow.com/users/1976555/cynewulf"}, "edited": false, "score": 0, "creation_date": 1449095857, "post_id": 34053063, "comment_id": 55863139, "body": "Thanks for the explanation, but I&#39;m still a bit confused.  How could I then modify the above code to give back the first item in the list? (I&#39;ve added my actual use case which is a slightly less trivial function to the question above as well; sorry for not posing a better question to start)"}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 160, "user_id": 1976555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdf06b0f2aebbc98215c53449307fd0?s=128&d=identicon&r=PG", "display_name": "cynewulf", "link": "https://stackoverflow.com/users/1976555/cynewulf"}, "edited": false, "score": 0, "creation_date": 1449096735, "post_id": 34053063, "comment_id": 55863498, "body": "You could do <code>return x.iloc[0]</code> so you rely on position, not label-based indexing. In other words, you select the first item in the grouped <code>Series</code>, not the one that happens to have the label &#39;1&#39; from the original <code>DataFrame</code>."}, {"owner": {"reputation": 160, "user_id": 1976555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdf06b0f2aebbc98215c53449307fd0?s=128&d=identicon&r=PG", "display_name": "cynewulf", "link": "https://stackoverflow.com/users/1976555/cynewulf"}, "edited": false, "score": 0, "creation_date": 1449097626, "post_id": 34053063, "comment_id": 55863843, "body": "Thanks, that&#39;s perfect.  Wasn&#39;t familiar with <code>iloc</code>.  Maybe add that to your answer so it&#39;s clear?"}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 1, "last_activity_date": 1449098006, "last_edit_date": 1449098006, "creation_date": 1449090650, "answer_id": 34053063, "question_id": 34052650, "link": "https://stackoverflow.com/questions/34052650/aggregation-fails-on-function-that-uses-an-index/34053063#34053063", "title": "Aggregation fails on function that uses an index", "body": "<p>From the <a href=\"http://pandas.pydata.org/pandas-docs/stable/groupby.html#aggregation\" rel=\"nofollow\">Aggregation</a> docs -</p>\n\n<blockquote>\n  <p>Aggregating functions are ones that reduce the dimension of the returned objects, for example: mean, sum, size, count, std, var, sem, describe, first, last, nth, min, max. This is what happens when you do for example DataFrame.sum() and get back a Series.</p>\n</blockquote>\n\n<p>If you follow @DSM's suggestion and add <code>print(x)</code> to <code>myf</code>, you'll see that you'll be passing a <code>Series</code> with the <code>index</code> from your original <code>DataFrame</code>. So if you generally ask for <code>x[1]</code>, some of the <code>Series</code> will not have that <code>index</code>.</p>\n\n<p>You could do <code>return x.iloc[0]</code> so you rely on position, not label-based indexing. In other words, you select the first item in the grouped <code>Series</code>, not the one that happens to have the label '1' from the original <code>DataFrame</code>.</p>\n"}], "owner": {"reputation": 160, "user_id": 1976555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfdf06b0f2aebbc98215c53449307fd0?s=128&d=identicon&r=PG", "display_name": "cynewulf", "link": "https://stackoverflow.com/users/1976555/cynewulf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 34053063, "answer_count": 1, "score": 1, "last_activity_date": 1463620639, "creation_date": 1449089159, "last_edit_date": 1463620639, "question_id": 34052650, "link": "https://stackoverflow.com/questions/34052650/aggregation-fails-on-function-that-uses-an-index", "title": "Aggregation fails on function that uses an index", "body": "<p>Apologies for the simple question, I'm an R user who is relatively new to python.  </p>\n\n<p>Consider the following minimal example:</p>\n\n<pre><code>df = pd.DataFrame({'A' : ['foo', 'bar', 'foo', 'bar',\n                              'foo', 'bar', 'foo', 'foo'],\n                   'B' : ['one', 'one', 'two', 'three',\n                              'two', 'two', 'one', 'three'],\n                   'C' : range(0,8),\n                   'D' : range(0,8)})\n</code></pre>\n\n<p>The following throws an error:</p>\n\n<pre><code>def myf(x):\n    return x[2]\n\ndf[[\"A\",\"C\",\"D\"]].groupby('A').aggregate(myf)\n</code></pre>\n\n<p>The desired output would be a pandas table like so:</p>\n\n<pre><code>| A     | myf C | myf D |\n-------------------------\n| foo   | 2     | 2     |\n| bar   | 3     | 3     |\n</code></pre>\n\n<p>From the comments and the documentation, it seems like one can do something like:</p>\n\n<pre><code>def myf(x):\n    return x.first\n</code></pre>\n\n<p>to get the first item, but it's not clear how one would construct a non-built in method that would still get the appropriate index value.  Something like:</p>\n\n<pre><code>def myf(x):\n  return Series(x[1], index=x.index)\n</code></pre>\n\n<p>doesn't seem to work.</p>\n"}, {"tags": ["python", "python-imaging-library"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 2, "creation_date": 1449089893, "post_id": 34052647, "comment_id": 55859912, "body": "You are saving a <code>.gif</code> as a <code>.jpg</code>, I imagine that has a lot to do with it."}, {"owner": {"reputation": 367, "user_id": 1315455, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6bb975ac8d6d0a04634bffb142fec261?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1315455/andrew"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1449090301, "post_id": 34052647, "comment_id": 55860179, "body": "I changed it back to save as a .gif but still get the same error. Yes I believe so. The gif image is there in the folder."}, {"owner": {"reputation": 367, "user_id": 1315455, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6bb975ac8d6d0a04634bffb142fec261?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1315455/andrew"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1449091878, "post_id": 34052647, "comment_id": 55861048, "body": "I deleted the &quot;(3,3,3)&quot; code and it worked. Maybe I need to install more colors on my machine or something?"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1449091959, "post_id": 34052647, "comment_id": 55861105, "body": "I deleted it and it worked for me as well, although I was getting different errors from you. GIFs only go up to 256 colors."}], "answers": [{"tags": [], "owner": {"reputation": 1309, "user_id": 963465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90d19ec4fadc2c91ec8d5b6e6d17ed65?s=128&d=identicon&r=PG", "display_name": "Michiel Overtoom", "link": "https://stackoverflow.com/users/963465/michiel-overtoom"}, "is_accepted": true, "score": 2, "last_activity_date": 1449216400, "last_edit_date": 1449216400, "creation_date": 1449134884, "answer_id": 34062208, "question_id": 34052647, "link": "https://stackoverflow.com/questions/34052647/add-text-on-image-using-pil-error-message/34062208#34062208", "title": "Add text on image using PIL. error message", "body": "<p>The problem is that the GIF picture is palettized. If you convert it first to RGB, your code will work.</p>\n\n<p>Change the line</p>\n\n<pre><code>img = Image.open(savedFileSA)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>img = Image.open(savedFileSA).convert(\"RGB\")\n</code></pre>\n\n<p>Below is the code that works on my machine. It downloads a picture and put a big green 'Sample Text' on it. Note that I'm on OSX, so my paths may differ from yours.</p>\n\n<pre><code>import PIL\nfrom PIL import ImageFont\nfrom PIL import Image\nfrom PIL import ImageDraw\nimport urllib\n\nurlSA = \"http://www.wpc.ncep.noaa.gov/archives/sfc/2015/usfntsfc2015010518.gif\"\nsavedFileSA = \"andrew.gif\"\nurllib.urlretrieve (urlSA, savedFileSA)\n\nimg = Image.open(savedFileSA).convert(\"RGB\")\ndraw = ImageDraw.Draw(img)\nfnt = ImageFont.truetype(\"/Library/Fonts/Comic Sans MS.ttf\", 72)\ndraw.text((10, 10), \"Sample Text\", (0, 128, 0), font=fnt)\n\nimg.show()\nimg.save(\"andrew.jpg\")\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 1315455, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6bb975ac8d6d0a04634bffb142fec261?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1315455/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1581, "favorite_count": 0, "accepted_answer_id": 34062208, "answer_count": 1, "score": 0, "last_activity_date": 1449216400, "creation_date": 1449089147, "last_edit_date": 1449089672, "question_id": 34052647, "link": "https://stackoverflow.com/questions/34052647/add-text-on-image-using-pil-error-message", "title": "Add text on image using PIL. error message", "body": "<p>I have the following code that downloads an image and writes text on the image. The download works fine. The error occurs on the draw.text line. I'm not sure why I am getting an error. The ttf file is in the correct location and pathname is correct. I installed Pillow using pip. I didn't come across any errors with it.</p>\n\n<pre><code>import urllib\n\nurlSA = \"http://www.wpc.ncep.noaa.gov/archives/sfc/\" + year + \"/usfntsfc\" + year + month + day + \"09.gif\"\nsavedFileSA = \"C:/images/sa2000/\" + month + day + yearShort + \".jpg\"\n\nurllib.urlretrieve (urlSA, savedFileSA)\n\n# Add a title to the SA image\nimport PIL\nfrom PIL import ImageFont\nfrom PIL import Image\nfrom PIL import ImageDraw\n\nimg = Image.open(savedFileSA)\ndraw = ImageDraw.Draw(img)\nfnt = ImageFont.truetype(\"C:/images/arial.ttf\", 12)\ndraw.text((10, 10),\"Sample Text\",(3,3,3),font=fnt)\n\nimg.save(savedFileSA)\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\images\\storm_reports_Arc103.py\", line 105, in &lt;module&gt;\ndraw.text((10, 10),\"Sample Text\",(3,3,3),font=fnt)\n  File \"C:\\Python27\\ArcGIS10.3\\lib\\site-packages\\PIL\\ImageDraw.py\", line 253, in text\nink, fill = self._getink(fill)\n  File \"C:\\Python27\\ArcGIS10.3\\lib\\site-packages\\PIL\\ImageDraw.py\", line 129, in _getink\nink = self.palette.getcolor(ink)\n  File \"C:\\Python27\\ArcGIS10.3\\lib\\site-packages\\PIL\\ImagePalette.py\", line 101, in getcolor\nself.palette = [int(x) for x in self.palette]\nValueError: invalid literal for int() with base 10: ''\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "authentication", "saml-2.0"], "comments": [{"owner": {"reputation": 566, "user_id": 4784007, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25f82390733957d15b677030feb59bd7?s=128&d=identicon&r=PG&f=1", "display_name": "chukkwagon", "link": "https://stackoverflow.com/users/4784007/chukkwagon"}, "edited": false, "score": 0, "creation_date": 1480628642, "post_id": 34052628, "comment_id": 69054034, "body": "Katy did you have any luck solving this? I am having a similar problem when I use IDP initated requests from AD FS."}], "owner": {"reputation": 11, "user_id": 5632217, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J9Ma7Inv_OQ/AAAAAAAAAAI/AAAAAAAAAGo/AkJH4aGnvRY/photo.jpg?sz=128", "display_name": "Katy Lion", "link": "https://stackoverflow.com/users/5632217/katy-lion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1449089096, "creation_date": 1449089096, "question_id": 34052628, "link": "https://stackoverflow.com/questions/34052628/parse-signed-response-in-pysaml2", "title": "Parse Signed Response in Pysaml2", "body": "<p>I am attempting to receive an IDP signed request, but I am not sure what I need to configure in order to verify the signature.</p>\n\n<p>I have set up the CONFIG as follows:</p>\n\n<pre><code>'want_response_signed': True, \n'authn_assertions_signed': True,\n</code></pre>\n\n<p>I am also sending these parameters to parse_authn_request_response:</p>\n\n<pre><code>parse_authn_request_response(\n        xmlstr=request.form['SAMLResponse'],\n        binding=entity.BINDING_HTTP_POST,\n        outstanding_certs={\n            'http://somedomain.com': [\n                {\n                    'key': '.../app-private.key',\n                    'cert': '.../app-public.cert'\n                }\n            ]\n        }\n)\n</code></pre>\n\n<p>But I get this traceback in my error.log:</p>\n\n<pre><code>Traceback (most recent call last):\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1817, in wsgi_app\n[Wed Dec 02 20:05:34 2015] [error]     response = self.full_dispatch_request()\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1477, in full_dispatch_request\n[Wed Dec 02 20:05:34 2015] [error]     rv = self.handle_user_exception(e)\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/flask_cors/extension.py\", line 188, in wrapped_function\n[Wed Dec 02 20:05:34 2015] [error]     return cors_after_request(app.make_response(f(*args, **kwargs)))\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1381, in handle_user_exception\n[Wed Dec 02 20:05:34 2015] [error]     reraise(exc_type, exc_value, tb)\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1475, in full_dispatch_request\n[Wed Dec 02 20:05:34 2015] [error]     rv = self.dispatch_request()\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/flask/app.py\", line 1461, in dispatch_request\n[Wed Dec 02 20:05:34 2015] [error]     return self.view_functions[rule.endpoint](**req.view_args)\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/flask_cors/decorator.py\", line 127, in wrapped_function\n[Wed Dec 02 20:05:34 2015] [error]     resp = make_response(f(*args, **kwargs))\n[Wed Dec 02 20:05:34 2015] [error]   File \"/var/www/mysp/app.py\", line 199, in idp_initiated\n[Wed Dec 02 20:05:34 2015] [error]     'cert': '/var/www/mysp/app-public.cert'\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/saml2/client_base.py\", line 581, in parse_authn_request_response\n[Wed Dec 02 20:05:34 2015] [error]     binding, **kwargs)\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/saml2/entity.py\", line 1140, in _parse_response\n[Wed Dec 02 20:05:34 2015] [error]     response = response.verify(keys)\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/saml2/response.py\", line 993, in verify\n[Wed Dec 02 20:05:34 2015] [error]     if self.parse_assertion(keys):\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/saml2/response.py\", line 908, in parse_assertion\n[Wed Dec 02 20:05:34 2015] [error]     if not self._assertion(assertion, False):\n[Wed Dec 02 20:05:34 2015] [error]   File \"/usr/local/lib/python2.7/dist-packages/saml2/response.py\", line 770, in _assertion\n[Wed Dec 02 20:05:34 2015] [error]     raise SignatureError(\"Signature missing for assertion\")\n[Wed Dec 02 20:05:34 2015] [error] SignatureError: Signature missing for assertion\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 1461, "user_id": 2351010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fe05f1f2ca588ee9984cafd0865b490?s=128&d=identicon&r=PG", "display_name": "MPlanchard", "link": "https://stackoverflow.com/users/2351010/mplanchard"}, "edited": false, "score": 0, "creation_date": 1449089113, "post_id": 34052596, "comment_id": 55859502, "body": "This seems like a duplicate of <a href=\"http://stackoverflow.com/questions/3371269/call-int-function-on-every-list-element-in-python\">this question</a>."}, {"owner": {"reputation": 2633, "user_id": 27898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84028aac31ee14ca90aa08c2442e3a1e?s=128&d=identicon&r=PG", "display_name": "mpez0", "link": "https://stackoverflow.com/users/27898/mpez0"}, "edited": false, "score": 1, "creation_date": 1449089134, "post_id": 34052596, "comment_id": 55859515, "body": "<code>[int(x) for x in &lt;list&gt;]</code>"}, {"owner": {"reputation": 17165, "user_id": 532978, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/605b27d2287fbf324b32d55c1f3c0299?s=128&d=identicon&r=PG", "display_name": "JCOC611", "link": "https://stackoverflow.com/users/532978/jcoc611"}, "edited": false, "score": 1, "creation_date": 1449089168, "post_id": 34052596, "comment_id": 55859533, "body": "This question might not be a duplicate, since it appears the OP is asking about a list of lists of string integers, in which case the answer would be <code>[[int(x) for x in sublist] for sublist in empty2]</code>"}, {"owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "reply_to_user": {"reputation": 17165, "user_id": 532978, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/605b27d2287fbf324b32d55c1f3c0299?s=128&d=identicon&r=PG", "display_name": "JCOC611", "link": "https://stackoverflow.com/users/532978/jcoc611"}, "edited": false, "score": 0, "creation_date": 1449089666, "post_id": 34052596, "comment_id": 55859799, "body": "@JCOC611 right I think this it it, my code can get through without an error, but if i set empty3 = [[int(x) for x in sublist] for sublist in empty2] and print empty 3, this list is empty,hmm   EDIT: sorry talking rubbish didn;t put empty3 in the right place"}], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "edited": false, "score": 0, "creation_date": 1449089382, "post_id": 34052636, "comment_id": 55859668, "body": "this throws the error TypeError: unsupported operand type(s) for -: &#39;list&#39; and &#39;int&#39; because, sorry quoted the text wrong , the lists are inside another list...i think?"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "edited": false, "score": 0, "creation_date": 1449089444, "post_id": 34052636, "comment_id": 55859705, "body": "@user3244770 its working for me.Can you post the exact way <code>empty2</code> was created"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 1, "last_activity_date": 1449089119, "creation_date": 1449089119, "answer_id": 34052636, "question_id": 34052596, "link": "https://stackoverflow.com/questions/34052596/converting-lists-in-list-to-int/34052636#34052636", "title": "Converting lists in list to int?", "body": "<pre><code>x=[[],\n['0', '0', '0', '16', '25', '31', '36', '45', '46', '42'],\n['0', '0', '0', '0', '0', '0', '0', '4', '11', '23'],\n['88', '84', '84', '74', '66', '58', '54', '44', '36', '26'],\n['14', '15', '15', '8', '9', '5', '6', '6', '7', '7']]\nprint [map(int,i) for i in x ]\n</code></pre>\n\n<p>This should do it for you.</p>\n\n<p>Output:<code>[[], [0, 0, 0, 16, 25, 31, 36, 45, 46, 42], [0, 0, 0, 0, 0, 0, 0, 4, 11, 23], [88, 84, 84, 74, 66, 58, 54, 44, 36, 26], [14, 15, 15, 8, 9, 5, 6, 6, 7, 7]]</code></p>\n"}], "owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "closed_date": 1449089041, "accepted_answer_id": 34052636, "answer_count": 1, "score": 0, "last_activity_date": 1449089119, "creation_date": 1449088892, "question_id": 34052596, "link": "https://stackoverflow.com/questions/34052596/converting-lists-in-list-to-int", "closed_reason": "Duplicate", "title": "Converting lists in list to int?", "body": "<p>I have a list empty2 which when prints gives the values:</p>\n\n<pre><code>[]\n['0', '0', '0', '16', '25', '31', '36', '45', '46', '42']\n['0', '0', '0', '0', '0', '0', '0', '4', '11', '23']\n['88', '84', '84', '74', '66', '58', '54', '44', '36', '26']\n['14', '15', '15', '8', '9', '5', '6', '6', '7', '7']\n</code></pre>\n\n<p>The function im calling when trying to call items within this list (the individual lists) wants the values in int format.</p>\n\n<p>But I can't seem to find a way to convert each list to int, without destroying the list structure within the lists, which needs to be kept. Any help would great.</p>\n"}, {"tags": ["python", "python-2.7", "python-sphinx", "autodoc", "cross-reference"], "comments": [{"owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 1, "creation_date": 1449136874, "post_id": 34052582, "comment_id": 55879010, "body": "Does this help? <a href=\"http://stackoverflow.com/a/22714510/407651\">stackoverflow.com/a/22714510/407651</a>"}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "reply_to_user": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1449147241, "post_id": 34052582, "comment_id": 55886040, "body": "Yes, and I can even do <code>.b.func_two</code> rather than <code>my_package.b.func_two</code> to get a working link. But I still see &quot;b.func_two&quot; in the docs, and I&#39;m shooting for &quot;func_two&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1449156450, "post_id": 34068506, "comment_id": 55892626, "body": "And: if one sets <code>default_role = &#39;py:obj&#39;</code> in <code>conf.py</code>, one can leave off the <code>:py:meth:</code> part."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1449157277, "post_id": 34068506, "comment_id": 55893250, "body": "Maybe you can also help with <a href=\"http://stackoverflow.com/q/34010116/656912\">another Sphinx question</a>."}], "tags": [], "owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "is_accepted": true, "score": 4, "last_activity_date": 1603858148, "last_edit_date": 1603858148, "creation_date": 1449152714, "answer_id": 34068506, "question_id": 34052582, "link": "https://stackoverflow.com/questions/34052582/how-do-i-refer-to-classes-and-methods-in-other-files-my-project-with-sphinx/34068506#34068506", "title": "How do I refer to classes and methods in other files my project with Sphinx?", "body": "<p>To create cross-references to Python objects, use the roles (<code>:class:</code>, <code>:meth:</code>, etc.) provided by the Python domain. See <a href=\"https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-python-objects\" rel=\"nofollow noreferrer\">https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-python-objects</a>.</p>\n<p>Example:</p>\n<pre><code>:py:meth:`mymodule.MyClass.mymethod`\n</code></pre>\n<p>To get the link text to be only the last part of the target, use a <code>~</code> (tilde) prefix. See <a href=\"https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-syntax\" rel=\"nofollow noreferrer\">https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#cross-referencing-syntax</a>.</p>\n<p>Example:</p>\n<pre><code>:py:meth:`~mymodule.MyClass.mymethod`\n</code></pre>\n"}], "owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1719, "favorite_count": 2, "accepted_answer_id": 34068506, "answer_count": 1, "score": 1, "last_activity_date": 1603858148, "creation_date": 1449088841, "last_edit_date": 1601948343, "question_id": 34052582, "link": "https://stackoverflow.com/questions/34052582/how-do-i-refer-to-classes-and-methods-in-other-files-my-project-with-sphinx", "title": "How do I refer to classes and methods in other files my project with Sphinx?", "body": "<p>I'm trying to write Sphinx docstrings that link to some classes and methods in other parts of my package, but can't figure out how to construct these links or get them to display as I need them to.</p>\n\n<p>I have</p>\n\n<pre><code># a.py\n\nfrom .b import *\n\nclass A(object):\n\n    def func_one():\n        \"\"\"Does stuff using `func_two` from `B`.\"\"\"\n        some_b = B ...\n        some_b.func_two()\n        # ...\n</code></pre>\n\n<p>and</p>\n\n<pre><code># b.py\n\nclass B(object):\n\n    def func_two():\n        # ...\n</code></pre>\n\n<p>where my package is organized </p>\n\n<pre><code>my_package/\n    a.py\n    b.py\n</code></pre>\n\n<p>and I want the Sphinx docs for <code>A.func_one</code> to display as </p>\n\n<blockquote>\n  <p>Does stuff using <code>func_two</code> from <code>B</code>.</p>\n</blockquote>\n\n<p>and to contain links to <code>func_two</code> and <code>B</code>.</p>\n\n<p>I've tried various combinations of the full names of the method and class, but non seem to work. How do I accomplish this?</p>\n"}, {"tags": ["python", "tkinter", "tk"], "comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1449089079, "post_id": 34052543, "comment_id": 55859490, "body": "It&#39;s a good idea to put <code>my</code> in front of all your file names and variable names when you are starting out."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5457684, "user_type": "registered", "profile_image": "https://graph.facebook.com/606649969476013/picture?type=large", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5457684/andreas"}, "edited": false, "score": 0, "creation_date": 1449089201, "post_id": 34052595, "comment_id": 55859555, "body": "Thank you so much, very helpful!"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 5, "last_activity_date": 1449088879, "creation_date": 1449088879, "answer_id": 34052595, "question_id": 34052543, "link": "https://stackoverflow.com/questions/34052543/python-it-does-not-let-me-use-tkinter-root-tk-error/34052595#34052595", "title": "Python: It does not let me use Tkinter root = Tk() error", "body": "<p>You named your file <code>Tkinter.py</code>. So you are importing your own file. Rename your python file, delete <code>Tkinter.pyc</code> and try again.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7649855, "user_type": "registered", "profile_image": "https://graph.facebook.com/1945331735605323/picture?type=large", "display_name": "noob ", "link": "https://stackoverflow.com/users/7649855/noob"}, "is_accepted": false, "score": 0, "last_activity_date": 1488487939, "last_edit_date": 1488487939, "creation_date": 1488487287, "answer_id": 42565535, "question_id": 34052543, "link": "https://stackoverflow.com/questions/34052543/python-it-does-not-let-me-use-tkinter-root-tk-error/42565535#42565535", "title": "Python: It does not let me use Tkinter root = Tk() error", "body": "<p>I tried this and it worked </p>\n\n<pre><code>import tkinter as tk    \nroot = tk.Tk()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5457684, "user_type": "registered", "profile_image": "https://graph.facebook.com/606649969476013/picture?type=large", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5457684/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2442, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1488487939, "creation_date": 1449088699, "last_edit_date": 1449089150, "question_id": 34052543, "link": "https://stackoverflow.com/questions/34052543/python-it-does-not-let-me-use-tkinter-root-tk-error", "title": "Python: It does not let me use Tkinter root = Tk() error", "body": "<p>I am quite new to Python, but know the basics. I have been watching a few tutorials about <code>Tkinter</code>, but even from the start when I type:</p>\n\n<pre><code>from Tkinter import *\n\nroot = Tk()\n</code></pre>\n\n<p>It gives me the error:</p>\n\n<pre><code>&gt;Traceback (most recent call last):\n  File \"/Users/$Name/Desktop/PycharmProjects/untitled/Tkinter.py\", line 1, in &lt;module&gt;\n    from Tkinter import *\n  File \"/Users/$Name/Desktop/PycharmProjects/untitled/Tkinter.py\", line 3, in &lt;module&gt;\n    root = Tk()\nNameError: name 'Tk' is not defined\n</code></pre>\n\n<p>I've tried different things, and I have used <code>IDLE</code>, and it still does not work. I am also on Mac OS X El Capitan if that should matter.</p>\n"}, {"tags": ["python", "memory-profiling"], "answers": [{"tags": [], "owner": {"reputation": 6680, "user_id": 484488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3816bd03efefc4a508ed3e3a84c7ba68?s=128&d=identicon&r=PG", "display_name": "jmilloy", "link": "https://stackoverflow.com/users/484488/jmilloy"}, "is_accepted": true, "score": 0, "last_activity_date": 1462543534, "creation_date": 1462543534, "answer_id": 37074464, "question_id": 34052517, "link": "https://stackoverflow.com/questions/34052517/attributeerror-using-pympler-muppy/37074464#37074464", "title": "AttributeError using pympler / muppy", "body": "<p>This issue is fixed <a href=\"https://github.com/pympler/pympler/issues/24\" rel=\"nofollow\">here</a>.</p>\n\n<p>It turned out to be that some <a href=\"http://www.vtk.org/\" rel=\"nofollow\">vtk</a> objects not having a <code>__flags__</code> attribute. Now muppy supports such types.</p>\n"}], "owner": {"reputation": 6680, "user_id": 484488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3816bd03efefc4a508ed3e3a84c7ba68?s=128&d=identicon&r=PG", "display_name": "jmilloy", "link": "https://stackoverflow.com/users/484488/jmilloy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 37074464, "answer_count": 1, "score": 0, "last_activity_date": 1462543534, "creation_date": 1449088599, "question_id": 34052517, "link": "https://stackoverflow.com/questions/34052517/attributeerror-using-pympler-muppy", "title": "AttributeError using pympler / muppy", "body": "<p>Pympler is not working when I include my library.</p>\n\n<pre><code>from pympler import tracker\nimport my_library\n\ntr = tracker.SummaryTracker()\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 5, in &lt;module&gt;\n    tr = tracker.SummaryTracker()\n  File \"/usr/local/lib/python2.7/dist-packages/pympler/tracker.py\", line 45, in __init__\n    self.s0 = summary.summarize(muppy.get_objects())\n  File \"/usr/local/lib/python2.7/dist-packages/pympler/muppy.py\", line 45, in get_objects\n    if not _is_containerobject(ref):\n  File \"/usr/local/lib/python2.7/dist-packages/pympler/muppy.py\", line 246, in _is_containerobject\n    if type(o).__flags__ &amp; __TPFLAGS_HAVE_GC == 0:\nAttributeError: __flags__\n</code></pre>\n\n<p>If I remove the import of my_library, it works fine. Any ideas where I should start looking?</p>\n\n<p>Alternatively, what should I use as a replacement?</p>\n"}, {"tags": ["python", "shell", "python-2.7", "numpy", "scipy"], "comments": [{"owner": {"reputation": 1461, "user_id": 2351010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fe05f1f2ca588ee9984cafd0865b490?s=128&d=identicon&r=PG", "display_name": "MPlanchard", "link": "https://stackoverflow.com/users/2351010/mplanchard"}, "edited": false, "score": 1, "creation_date": 1449089337, "post_id": 34052427, "comment_id": 55859647, "body": "You can check to see if they&#39;re the same python with <code>import sys; print(sys.executable)</code>.  That being said, for any kind of development, you should consider using a virtualenv and setting up PyCharm to use that as its interpreter."}, {"owner": {"reputation": 1661, "user_id": 5141619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eaaef6fdf502d7df2b2be002fa9ad51c?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/5141619/max"}, "reply_to_user": {"reputation": 1461, "user_id": 2351010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fe05f1f2ca588ee9984cafd0865b490?s=128&d=identicon&r=PG", "display_name": "MPlanchard", "link": "https://stackoverflow.com/users/2351010/mplanchard"}, "edited": false, "score": 0, "creation_date": 1449091567, "post_id": 34052427, "comment_id": 55860881, "body": "thanks they are infact the same python so now I have no idea where the error would be coming from :( @MPlanchard"}, {"owner": {"reputation": 1461, "user_id": 2351010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fe05f1f2ca588ee9984cafd0865b490?s=128&d=identicon&r=PG", "display_name": "MPlanchard", "link": "https://stackoverflow.com/users/2351010/mplanchard"}, "edited": false, "score": 0, "creation_date": 1449092650, "post_id": 34052427, "comment_id": 55861458, "body": "It&#39;s an odd error. It&#39;s definitely related to the PyCharm &quot;pydev&quot; interpreter, but I don&#39;t know what could cause the problem. I would try setting up a fresh virtualenv and installing the mentioned packages, setting that as the interpreter in PyCharm, and seeing if you still get the error."}], "owner": {"reputation": 1661, "user_id": 5141619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eaaef6fdf502d7df2b2be002fa9ad51c?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/5141619/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 474, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1449088307, "creation_date": 1449088307, "question_id": 34052427, "link": "https://stackoverflow.com/questions/34052427/pycharm-shell-issue-that-doesnt-occur-in-terminal", "title": "pycharm shell issue that doesn&#39;t occur in terminal", "body": "<p>I am currently working on a project that calls the Word2Vec class from gensim. I have downloaded gensim via:</p>\n\n<pre><code>pip install -U gensim\n</code></pre>\n\n<p>If I open a python shell and type:</p>\n\n<pre><code>from gensim.models import Word2Vec\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;input&gt;\", line 1, in &lt;module&gt;\n  File \"/Applications/PyCharm.app/Contents/helpers/pydev/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/Library/Python/2.7/site-packages/gensim/__init__.py\", line 6, in &lt;module&gt;\n    from gensim import parsing, matutils, interfaces, corpora, models, similarities, summarization\n  File \"/Applications/PyCharm.app/Contents/helpers/pydev/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/Library/Python/2.7/site-packages/gensim/models/__init__.py\", line 13, in &lt;module&gt;\n    from .word2vec import Word2Vec\n  File \"/Applications/PyCharm.app/Contents/helpers/pydev/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/Library/Python/2.7/site-packages/gensim/models/word2vec.py\", line 100, in &lt;module&gt;\n    from gensim.models.word2vec_inner import train_sentence_sg, train_sentence_cbow, FAST_VERSION,\\\n  File \"/Applications/PyCharm.app/Contents/helpers/pydev/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"__init__.pxd\", line 155, in init gensim.models.word2vec_inner (./gensim/models/word2vec_inner.c:9234)\nValueError: numpy.dtype has the wrong size, try recompiling\n</code></pre>\n\n<p>After uninstalling and reinstalling many scipy, numpy, and gensim variations. And after using the following commands based on what I've read about the above error:</p>\n\n<pre><code>pip uninstall numpy\npip uninstall pandas\npip install pandas\n\neasy_install --upgrade numpy\n\npip install -U gensim\n</code></pre>\n\n<p>Now I get a different error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;input&gt;\", line 1, in &lt;module&gt;\n  File \"/Applications/PyCharm CE.app/Contents/helpers/pydev/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/Library/Python/2.7/site-packages/gensim/__init__.py\", line 6, in &lt;module&gt;\n    from gensim import parsing, matutils, interfaces, corpora, models, similarities, summarization\n  File \"/Applications/PyCharm CE.app/Contents/helpers/pydev/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/Library/Python/2.7/site-packages/gensim/models/__init__.py\", line 13, in &lt;module&gt;\n    from .word2vec import Word2Vec\n  File \"/Applications/PyCharm CE.app/Contents/helpers/pydev/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/Library/Python/2.7/site-packages/gensim/models/word2vec.py\", line 92, in &lt;module&gt;\n    from gensim import utils, matutils  # utility fnc for pickling, common scipy operations etc\nImportError: cannot import name utils\n</code></pre>\n\n<p>If I type:</p>\n\n<pre><code>from gensim import utils\n</code></pre>\n\n<p>I get the same error as above. For some reason utils is not being imported properly from gensim but I don't know why this would be happening. I am fairly new to python and this is rather confusing to me but what I've noticed after all the previous installations one BIG FIX!</p>\n\n<p>If I call:</p>\n\n<pre><code>from gensim import utils\n</code></pre>\n\n<p>The import utils error <strong>does not occur</strong> when I invoke python2.7 in my terminal. But when I use the python interpreter in pycharm (the following version):</p>\n\n<pre><code>2.7.10 (/System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7)\n\nPython 2.7.10 (default, Jul 14 2015, 19:46:27) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin\n</code></pre>\n\n<p>The error still occurs.</p>\n\n<p>When I invoke pycharm in my terminal it calls python from the following library:</p>\n\n<pre><code>Python 2.7.10 (v2.7.10:15c95b7d81dc, May 23 2015, 09:33:12) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\n</code></pre>\n\n<p>I don't know if the python shell in python vs the terminal python shell are different but I don't know why one shell works fine but the other brings up the import utils error. Any help would be much appreciated!</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-1.8", "pythonanywhere"], "answers": [{"tags": [], "owner": {"reputation": 6310, "user_id": 167813, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b7e42d7954660b54a29bff48043693a5?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/167813/glenn"}, "is_accepted": true, "score": 1, "last_activity_date": 1449089442, "creation_date": 1449089442, "answer_id": 34052719, "question_id": 34052404, "link": "https://stackoverflow.com/questions/34052404/python-3-4-django-1-8-pythonanywhere-improperlyconfigured/34052719#34052719", "title": "Python 3.4 Django 1.8 PythonAnywhere ImproperlyConfigured", "body": "<p>That error usually indicates that there's a Django version mismatch so you probably haven't set the virtualenv correctly on the web app tab.</p>\n"}], "owner": {"reputation": 1842, "user_id": 3434076, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/100000105019013/picture?type=large", "display_name": "GriMel", "link": "https://stackoverflow.com/users/3434076/grimel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 34052719, "answer_count": 1, "score": 0, "last_activity_date": 1449089442, "creation_date": 1449088232, "question_id": 34052404, "link": "https://stackoverflow.com/questions/34052404/python-3-4-django-1-8-pythonanywhere-improperlyconfigured", "title": "Python 3.4 Django 1.8 PythonAnywhere ImproperlyConfigured", "body": "<p>Trying to deploy my project on pythonanywhere.</p>\n\n<ul>\n<li>python3.4</li>\n<li>Django 1.8.7</li>\n<li>Username - GriMel</li>\n<li>Project name - TwDTutor</li>\n</ul>\n\n<p><strong>wsgi configuration file</strong></p>\n\n<pre><code>import os\nimport sys\npath = '/home/GriMel/TwDTutor'\nif path not in sys.path:\n    sys.path.append(path)\nos.environ['DJANGO_SETTINGS_MODULE'] = 'TwDTutor.settings'\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n</code></pre>\n\n<p><strong>Static files</strong></p>\n\n<pre><code>/static/admin   /home/GriMel/.virtualenvs/rango/lib/python3.4/site-packages/django/contrib/admin/static/admin\n/static/    /home/GriMel/TwDTutor/rango/static\n</code></pre>\n\n<p>Get the error</p>\n\n<pre><code>django.core.exceptions.ImproperlyConfigured: Module \"django.contrib.auth.middleware\" does not define a \"SessionAuthenticationMiddleware\" attribute/class\n</code></pre>\n"}, {"tags": ["python", "xml", "linux", "python-3.x", "urllib"], "comments": [{"owner": {"reputation": 101, "user_id": 5437817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e2ac5e7f6a9d403eb9002add48c16c?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpJoe", "link": "https://stackoverflow.com/users/5437817/csharpjoe"}, "reply_to_user": {"reputation": 5452, "user_id": 3714940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bwcdU.jpg?s=128&g=1", "display_name": "SiHa", "link": "https://stackoverflow.com/users/3714940/siha"}, "edited": false, "score": 0, "creation_date": 1449133665, "post_id": 34052390, "comment_id": 55876894, "body": "It&#39;s not the same ,becasuse I use urllib and the other topic It used the urllib2 . It is different library"}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1449146469, "post_id": 34052390, "comment_id": 55885540, "body": "Related question explains error <code>urlopen error [Errno -2] Name or service not known</code>. You have same error message. Using different library rarely changes message&#39;s meaning. So you problem seems in network configuration/state, not in your script."}, {"owner": {"reputation": 101, "user_id": 5437817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e2ac5e7f6a9d403eb9002add48c16c?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpJoe", "link": "https://stackoverflow.com/users/5437817/csharpjoe"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1449246976, "post_id": 34052390, "comment_id": 55938532, "body": "I find the a problem , the authentication with url is not working in python but I don&#39;t know how to solve it , beacuse if you wan to auth in tomcat manager app you can auth in URL"}], "owner": {"reputation": 101, "user_id": 5437817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e2ac5e7f6a9d403eb9002add48c16c?s=128&d=identicon&r=PG&f=1", "display_name": "CsharpJoe", "link": "https://stackoverflow.com/users/5437817/csharpjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1449166505, "answer_count": 0, "score": 0, "last_activity_date": 1449089187, "creation_date": 1449088185, "last_edit_date": 1449089187, "question_id": 34052390, "link": "https://stackoverflow.com/questions/34052390/python-3-read-data-from-url", "closed_reason": "Duplicate", "title": "Python 3 Read data from URL", "body": "<p>I have a problem with Python 3 when I want to read from an URL </p>\n\n<pre><code>URL=\"http://\"+USER+\":\"+PASSWORD+\"@127.0.0.1:\"+PORT+\"/manager/status?XML=true\"\nRURL=urllib.request.urlopen(URL)\nXML=RURL.read()\nRURL.close()\n</code></pre>\n\n<p>In Older Python version the following works correctly:</p>\n\n<pre><code>URL=\"http://\"+USER+\":\"+PASSWORD+\"@127.0.0.1:\"+PORT+\"/manager/status?XML=true\"\nRURL=urllib.urlopen(URL)\nXML=RURL.read()\nRURL.close()\n</code></pre>\n\n<p>Now when I run the script I get the following:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/urllib/request.py\", line 1248, in do_open\n    h.request(req.get_method(), req.selector, req.data, headers)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/http/client.py\", line 1061, in request\n    self._send_request(method, url, body, headers)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/http/client.py\", line 1099, in _send_request\n    self.endheaders(body)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/http/client.py\", line 1057, in endheaders\n    self._send_output(message_body)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/http/client.py\", line 902, in _send_output\n    self.send(msg)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/http/client.py\", line 840, in send\n    self.connect()\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/http/client.py\", line 818, in connect\n    self.timeout, self.source_address)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/socket.py\", line 417, in create_connection\n    for res in getaddrinfo(host, port, 0, SOCK_STREAM):\nsocket.gaierror: [Errno -2] Name or service not known\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"./Tomcatxml.py\", line 15, in &lt;module&gt;\n    RURL=urllib.request.urlopen(URL)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/urllib/request.py\", line 156, in urlopen\n    return opener.open(url, data, timeout)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/urllib/request.py\", line 469, in open\n    response = self._open(req, data)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/urllib/request.py\", line 487, in _open\n    '_open', req)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/urllib/request.py\", line 447, in _call_chain\n    result = func(*args)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/urllib/request.py\", line 1268, in http_open\n    return self.do_open(http.client.HTTPConnection, req)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/urllib/request.py\", line 1251, in do_open\n    raise URLError(err)\nurllib.error.URLError: &lt;urlopen error [Errno -2] Name or service not known&gt;\n</code></pre>\n"}, {"tags": ["python", "multithreading", "random", "artificial-intelligence"], "comments": [{"owner": {"reputation": 5844, "user_id": 1827356, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/21f270a4064c6c6721b6649c344f792f?s=128&d=identicon&r=PG", "display_name": "user1827356", "link": "https://stackoverflow.com/users/1827356/user1827356"}, "edited": false, "score": 3, "creation_date": 1449088475, "post_id": 34052364, "comment_id": 55859168, "body": "Why not use yield inside the function to pause? And recall the same function if no other function needs to run. This would make it one thread per bot"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1449088953, "post_id": 34052364, "comment_id": 55859424, "body": "See <a href=\"http://www.dabeaz.com/coroutines/\" rel=\"nofollow noreferrer\">A Curious Course on Coroutines and Concurrency</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1449091781, "post_id": 34052560, "comment_id": 55861002, "body": "You&#39;ve not copied @Rob\u1d69&#39;s answer correctly. You don&#39;t called the actions so they never get to the first <code>yield</code>."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1449091889, "post_id": 34052560, "comment_id": 55861058, "body": "Thanks for the catch. I did not copy Rob although he did post that part first. My answer had the StopIteration catch before his was edited."}], "tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": false, "score": 0, "last_activity_date": 1449091830, "last_edit_date": 1495540324, "creation_date": 1449088754, "answer_id": 34052560, "question_id": 34052364, "link": "https://stackoverflow.com/questions/34052364/pause-and-resume-a-function/34052560#34052560", "title": "Pause and resume a function", "body": "<p>Threads are one good way to do it. To pause the function, use <a href=\"https://docs.python.org/2/library/time.html#time.sleep\" rel=\"nofollow noreferrer\"><code>time.sleep()</code></a>, (based on <a href=\"https://stackoverflow.com/questions/510348/how-can-i-make-a-time-delay-in-python\">How can I make a time delay in Python?</a>):</p>\n\n<pre><code>import time, random\n\n# Time range to sleep, in seconds\ndef randomWait():\n    sleepMin = 1.0\n    sleepMax = 5.0\n    time.sleep(random.uniform(sleepMin, sleepMax))\n\ndef do_action1(*args):\n    print(\"something\")\n    # do something else\n    randomWait()\n    print(\"something\")\n    print(\"else\")\n    randomWait()\n</code></pre>\n\n<p>I used <a href=\"https://docs.python.org/2/library/random.html#random.uniform\" rel=\"nofollow noreferrer\"><code>random.uniform</code></a> in this example, but you are free to make the randomness of the interval as fancy as you would like using the <a href=\"https://docs.python.org/2/library/random.html\" rel=\"nofollow noreferrer\"><code>random</code></a> module or anything else you like.</p>\n\n<p>A threaded solution will allow different actions to run simultaneouly. If you do not want to allow this, use a single thread and use <code>yield</code> as user1827356 suggests:</p>\n\n<pre><code>import time, random\n\n# Time range to sleep, in seconds\ndef randomWait():\n    sleepMin = 1.0\n    sleepMax = 5.0\n    time.sleep(random.uniform(sleepMin, sleepMax))\n\ndef do_action1(*args):\n    print(\"something\")\n    # do something else\n    yield\n    print(\"something\")\n    print(\"else\")\n\n# Other actions defined similarly\n\nactions = [do_action1(), do_action2(), do_action3()]\nwhile actions:\n    randomWait()\n    action = random.choice(actions)\n    try:\n        next(action)\n    except StopIteration:\n        actions.remove(action)\n</code></pre>\n\n<p>Note that in this case your actions are generators. They are basically objects that run the code you define and store the state (pause) whenever they hit a <code>yield</code> keyword. For a single-threaded application, this is probably the best way to go.</p>\n"}, {"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 2, "last_activity_date": 1449089033, "creation_date": 1449089033, "answer_id": 34052614, "question_id": 34052364, "link": "https://stackoverflow.com/questions/34052364/pause-and-resume-a-function/34052614#34052614", "title": "Pause and resume a function", "body": "<p>You could use the <code>yield</code> keyword to create co-routines. Here is one example:</p>\n\n<pre><code>import random\nrandom.seed()\n\ndef do_action1():\n    print(\"Hello\")\n    yield\n    print(\"HELLO!\")\n    yield\n    print(\"hello?\")\ndef do_action2():\n    print(\"Are you there?\")\n    yield\n    print(\"ARE YOU THERE!\")\n    yield\n    print(\"I'm scared.\")\ndef do_action3():\n    print(\"Is somebody out there?\")\n    yield\n    print(\"SOMEBODY IS OUT THERE!\")\n    yield\n    print(\"I'm dead.\")\n\ndef bot(*actions):\n    actions = [action() for action in actions]\n    while actions:\n        action = random.choice(actions)\n        try:\n            next(action)\n        except StopIteration:\n            actions.remove(action)\n    return\n\nbot(do_action1, do_action2, do_action3)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5270337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2318, "favorite_count": 0, "accepted_answer_id": 34052614, "answer_count": 2, "score": 1, "last_activity_date": 1449091830, "creation_date": 1449088077, "last_edit_date": 1449091410, "question_id": 34052364, "link": "https://stackoverflow.com/questions/34052364/pause-and-resume-a-function", "title": "Pause and resume a function", "body": "<p>I'm writing a bot in python and to \"humanize\" it I need to pause and resume functions randomly.\nFunctions can be paused and resumed only at some defined points.</p>\n\n<p>The bot is made of various functions, like</p>\n\n<pre><code>do_action1(*args)\ndo_action2(*args)\ndo_action3(*args)\n...\nstart_bot()\nstop_bot()\n</code></pre>\n\n<p>The function <code>start_bot()</code> calls <code>do_action1()</code>, <code>do_action2()</code>, ... in order and gives them <code>*args</code>.<br>\nI need to find a way to start a <code>do_actionX()</code> function randomly and at some points pause it and run another random <code>do_actionX()</code> function then pause it and resume the previous one and so on...</p>\n\n<p>To start a function randomly I thought I can use a dictionary with functions inside and pick one of them randomly. </p>\n\n<p>I think I can do this with threads, but since my bot is using multiprocessing, would it be a right choice to use multithreading and multiprocessing together?<br>\nI use multiprocessing to run multiple bots at the same time and manage them from a main Python script which is linked to an interface. Each bot instance connects to a different account.</p>\n\n<p>If I use multithreading, how can I make the function stop at some defined points and not randomly?</p>\n\n<p>For example:</p>\n\n<pre><code>def do_action1(*args):\n     print(\"something\")\n     # do something else\n     # &lt;--- at this point the function could be paused\n     print(\"something\")\n     # &lt;--- at this pint the function cannot be paused!\n     print(\"else\")\n     # &lt;--- and here the function could be paused again\n</code></pre>\n\n<p>The times that a function will be paused must be random. Is there a way to do this?<br>\nAre threads the right approach to this issue?</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 10400238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847d14eb5781ce9680d94665f9ed53da?s=128&d=identicon&r=PG&f=1", "display_name": "till Kadabra", "link": "https://stackoverflow.com/users/10400238/till-kadabra"}, "edited": false, "score": 1, "creation_date": 1588501304, "post_id": 34168611, "comment_id": 108915419, "body": "or  <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_latex.html#pandas-dataframe-to-latex\" rel=\"nofollow noreferrer\"><code>df.to_latex()</code></a> in case latex will be used..."}], "tags": [], "owner": {"reputation": 1511, "user_id": 2634197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcf06b128aa25c5e803b04710a600af0?s=128&d=identicon&r=PG&f=1", "display_name": "Pierpaolo", "link": "https://stackoverflow.com/users/2634197/pierpaolo"}, "is_accepted": false, "score": 2, "last_activity_date": 1449620349, "creation_date": 1449620349, "answer_id": 34168611, "question_id": 34052334, "link": "https://stackoverflow.com/questions/34052334/plotting-matplotlib-tables-with-a-multi-index/34168611#34168611", "title": "Plotting matplotlib tables with a multi-index", "body": "<p>A bit of an incomplete answer\n<code>Matplotlib.table.table</code> that is called by <code>pandas.tools.plotting.table</code> iterates through the MultiIndex of the dataframe, that returns the tuples as shown in the table. I checked the source code of both functions and it seems that it is currently they don't suppport any form of multirow or multicolumn table. </p>\n\n<p>If the table is a standalone one, why not use, for example, <code>df.to_html()</code> that supports multiindexes?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table border=\"1\" class=\"dataframe\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr style=\"text-align: right;\"&gt;\r\n      &lt;th&gt;&lt;/th&gt;\r\n      &lt;th&gt;&lt;/th&gt;\r\n      &lt;th&gt;0&lt;/th&gt;\r\n      &lt;th&gt;1&lt;/th&gt;\r\n      &lt;th&gt;2&lt;/th&gt;\r\n      &lt;th&gt;3&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;th rowspan=\"2\" valign=\"top\"&gt;bar&lt;/th&gt;\r\n      &lt;th&gt;one&lt;/th&gt;\r\n      &lt;td&gt;0.578703&lt;/td&gt;\r\n      &lt;td&gt;1.499785&lt;/td&gt;\r\n      &lt;td&gt;-1.144682&lt;/td&gt;\r\n      &lt;td&gt;0.957464&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;two&lt;/th&gt;\r\n      &lt;td&gt;1.116768&lt;/td&gt;\r\n      &lt;td&gt;0.291652&lt;/td&gt;\r\n      &lt;td&gt;-0.095254&lt;/td&gt;\r\n      &lt;td&gt;0.131653&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;th rowspan=\"2\" valign=\"top\"&gt;baz&lt;/th&gt;\r\n      &lt;th&gt;one&lt;/th&gt;\r\n      &lt;td&gt;-1.119140&lt;/td&gt;\r\n      &lt;td&gt;0.245226&lt;/td&gt;\r\n      &lt;td&gt;0.453203&lt;/td&gt;\r\n      &lt;td&gt;-1.827160&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;two&lt;/th&gt;\r\n      &lt;td&gt;0.442228&lt;/td&gt;\r\n      &lt;td&gt;0.160754&lt;/td&gt;\r\n      &lt;td&gt;1.199452&lt;/td&gt;\r\n      &lt;td&gt;0.767720&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;th rowspan=\"2\" valign=\"top\"&gt;foo&lt;/th&gt;\r\n      &lt;th&gt;one&lt;/th&gt;\r\n      &lt;td&gt;0.621110&lt;/td&gt;\r\n      &lt;td&gt;0.334196&lt;/td&gt;\r\n      &lt;td&gt;1.854065&lt;/td&gt;\r\n      &lt;td&gt;0.505222&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;two&lt;/th&gt;\r\n      &lt;td&gt;-0.269477&lt;/td&gt;\r\n      &lt;td&gt;1.294712&lt;/td&gt;\r\n      &lt;td&gt;0.421114&lt;/td&gt;\r\n      &lt;td&gt;0.018712&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;th rowspan=\"2\" valign=\"top\"&gt;qux&lt;/th&gt;\r\n      &lt;th&gt;one&lt;/th&gt;\r\n      &lt;td&gt;-1.736962&lt;/td&gt;\r\n      &lt;td&gt;-2.627593&lt;/td&gt;\r\n      &lt;td&gt;-0.843875&lt;/td&gt;\r\n      &lt;td&gt;-2.108532&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;two&lt;/th&gt;\r\n      &lt;td&gt;-1.200400&lt;/td&gt;\r\n      &lt;td&gt;-0.319079&lt;/td&gt;\r\n      &lt;td&gt;0.529251&lt;/td&gt;\r\n      &lt;td&gt;-1.928900&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2550, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1449620349, "creation_date": 1449087944, "last_edit_date": 1449116122, "question_id": 34052334, "link": "https://stackoverflow.com/questions/34052334/plotting-matplotlib-tables-with-a-multi-index", "title": "Plotting matplotlib tables with a multi-index", "body": "<p>Is it possible to plot a table with a multi-index using matplotlib the same way pandas displays out the table? The most I found on web was this <a href=\"https://github.com/pydata/pandas/issues/2088\" rel=\"noreferrer\">open git issue from 2012</a>.</p>\n\n<p>Given the following example data frame:</p>\n\n<pre><code>arrays = [['bar', 'bar', 'baz', 'baz', 'foo', 'foo', 'qux', 'qux'],\n          ['one', 'two', 'one', 'two', 'one', 'two', 'one', 'two']]\n\ntuples = list(zip(*arrays))\nindex = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])\ndf = pd.DataFrame(np.random.randn(8, 4), index=arrays)\n</code></pre>\n\n<p>Which prints as follows:\n<a href=\"https://i.stack.imgur.com/3DKY0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3DKY0.png\" alt=\"enter image description here\"></a></p>\n\n<p>However when I try to create a table out of this using the following example:</p>\n\n<pre><code>fig=plt.figure(figsize=(9.5, 11))\nplt.gca().axis('off')\nmatplotlib_tab = pd.tools.plotting.table(plt.gca(),\n                                         df, \n                                        loc='upper center', \n                                        colWidths=[0.25]*len(df.columns))    \n\ntable_props=matplotlib_tab.properties()\ntable_cells=table_props['child_artists']\nfor cell in table_cells:\n    cell.set_height(0.024)\n    cell.set_fontsize(12)\n\nfig.text(4.25/8.5, 10.5/11., 'plot', ha='center', fontsize=12)\nplt.plot()\n</code></pre>\n\n<p>I get the following ploted as a table(Note the left index isn't the same):</p>\n\n<p><a href=\"https://i.imgur.com/hC0q4F2.png\" rel=\"noreferrer\"><img src=\"https://i.imgur.com/hC0q4F2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "forms", "xpath", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 1784180, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38df89e68f001d5e904bc3c482fd0bac?s=128&d=identicon&r=PG", "display_name": "Maciej Januszewski", "link": "https://stackoverflow.com/users/1784180/maciej-januszewski"}, "edited": false, "score": 0, "creation_date": 1449090396, "post_id": 34052341, "comment_id": 55860237, "body": "I get: AttributeError: Select instance has no attribute &#39;click&#39;"}, {"owner": {"reputation": 95, "user_id": 1784180, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38df89e68f001d5e904bc3c482fd0bac?s=128&d=identicon&r=PG", "display_name": "Maciej Januszewski", "link": "https://stackoverflow.com/users/1784180/maciej-januszewski"}, "edited": false, "score": 0, "creation_date": 1449090775, "post_id": 34052341, "comment_id": 55860448, "body": "Hmm... Next problem is: Message: element not visible"}, {"owner": {"reputation": 95, "user_id": 1784180, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38df89e68f001d5e904bc3c482fd0bac?s=128&d=identicon&r=PG", "display_name": "Maciej Januszewski", "link": "https://stackoverflow.com/users/1784180/maciej-januszewski"}, "edited": false, "score": 0, "creation_date": 1449090860, "post_id": 34052341, "comment_id": 55860493, "body": "I changed my ID to &quot;s2id_autogen1&quot; and I got:  UnexpectedTagNameException: Message: Select only works on &lt;select&gt; elements, not on &lt;input&gt;"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 0, "last_activity_date": 1449090535, "last_edit_date": 1449090535, "creation_date": 1449087967, "answer_id": 34052341, "question_id": 34052301, "link": "https://stackoverflow.com/questions/34052301/python-selenium-multiple-choice-field-django-select2-cannot-get-a-value-by/34052341#34052341", "title": "Python Selenium - Multiple choice field (django-select2) - Cannot get a value by XPATH", "body": "<p>Locate the select element by <code>id</code>, instantiate the <a href=\"https://selenium-python.readthedocs.org/api.html#selenium.webdriver.support.select.Select\" rel=\"nofollow\"><code>Select</code> object</a>, get the <a href=\"https://selenium-python.readthedocs.org/api.html#selenium.webdriver.support.select.Select.options\" rel=\"nofollow\"><code>.options</code></a> and pick the one randomly using <code>random.choice()</code>:</p>\n\n<pre><code>import random\n\nfrom selenium.webdriver.support.select import Select\n\n# get a random option\nselect_elm = driver.find_element_by_id(\"id_categories\")\nselect = Select(select_elm)\nrandom_option = random.choice(select.options)\n\n# select the random option\nselect_elm.click()\nrandom_option.click()\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 1784180, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38df89e68f001d5e904bc3c482fd0bac?s=128&d=identicon&r=PG", "display_name": "Maciej Januszewski", "link": "https://stackoverflow.com/users/1784180/maciej-januszewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 770, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1449090535, "creation_date": 1449087790, "question_id": 34052301, "link": "https://stackoverflow.com/questions/34052301/python-selenium-multiple-choice-field-django-select2-cannot-get-a-value-by", "title": "Python Selenium - Multiple choice field (django-select2) - Cannot get a value by XPATH", "body": "<p>I'm trying to get a random value from multiple choice field (categories) to make a test in Python Selenium:</p>\n\n<pre><code>tag = driver.find_element_by_xpath(\"//*[@id='s2id_autogen2']\")\n</code></pre>\n\n<p>That works if I want to send just a string, for example:</p>\n\n<pre><code>tag.send_keys(\"some_text\")\n</code></pre>\n\n<p>But I'd like to get those values that are in options (page source code):  </p>\n\n<pre><code>&lt;div class=\"form-select-container\" &gt;\n      &lt;select multiple=\"multiple\" class=\"django-select2\" data-allow-clear=\"false\" data-minimum-input-length=\"0\" id=\"id_categories\" name=\"categories\"&gt;\n      &lt;option value=\"1\"&gt;String1&lt;/option&gt;\n      &lt;option value=\"2\"&gt;String2&lt;/option&gt;\n      &lt;option value=\"3\"&gt;String3&lt;/option&gt;\n&lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And select a random value.</p>\n\n<p>With my code it doesn't work, it doesn't even print the number of elements:</p>\n\n<pre><code>for i in tag:\n    print len(i)\n    #print (random.choice(i))(Keys.ENTER)\n</code></pre>\n\n<p>And this the code from Chrome Console:\n<a href=\"https://i.stack.imgur.com/qBAGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qBAGV.png\" alt=\"Chrome Code\"></a></p>\n"}, {"tags": ["python", "list", "tuples"], "comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1449087556, "post_id": 34052216, "comment_id": 55858733, "body": "... put all the items in a set, then  create a list from the set entries - this has probably been asked before"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1449087782, "post_id": 34052216, "comment_id": 55858850, "body": "well your problem is that <code>(&#39;a&#39;,&#39;b&#39;) != (&#39;b&#39;,&#39;a&#39;)</code> or more specifically, <code>hash((&#39;a&#39;,&#39;b&#39;)) != hash((&#39;b&#39;,&#39;a&#39;))</code>. Do an initial list comprehension that sorts each tuple then convert to a set"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 2, "creation_date": 1449087869, "post_id": 34052216, "comment_id": 55858898, "body": "also, you should probably reword your question since &quot;duplicate in terms of both content and order of items inside&quot; implies that you would want <code>(&#39;a&#39;,&#39;b&#39;)</code> and <code>(&#39;b&#39;,&#39;a&#39;)</code> to not be equal...."}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 6, "last_activity_date": 1449100593, "last_edit_date": 1449100593, "creation_date": 1449087857, "answer_id": 34052316, "question_id": 34052216, "link": "https://stackoverflow.com/questions/34052216/python-generating-a-set-of-tuples-from-a-list-of-tuples-that-doesnt-take-o/34052316#34052316", "title": "Python: Generating a &quot;set of tuples&quot; from a &quot;list of tuples&quot; that doesn&#39;t take order into consideration", "body": "<p>If you did not mind using a frozenset with a set:</p>\n\n<pre><code>l = [('a', 'b'), ('c', 'd'), ('a', 'b'), ('b', 'a')]\n\nprint(set(map(frozenset,l)))\n{frozenset({'a', 'b'}), frozenset({'c', 'd'})}\n</code></pre>\n\n<p>You can convert back to tuple if preferable:</p>\n\n<pre><code>l = [('a', 'b'), ('c', 'd'), ('a', 'b'), ('b', 'a')]\n\nprint(list(map(tuple,set(map(frozenset ,l)))))\n[('a', 'b'), ('d', 'c')]\n</code></pre>\n\n<p>Or using a set and reversing the order of the tuples:</p>\n\n<pre><code>l = [('a', 'b'), ('c', 'd'), ('a', 'b'), ('b', 'a')]\n\nseen, pairs = set(), []\nfor a,b in l:\n    if (a,b) not in seen and (b,a) not in seen:\n        pairs.append((a,b))\n    seen.add((a,b))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1449089310, "post_id": 34052317, "comment_id": 55859630, "body": "I like this solution because it doesn&#39;t make any assumption about the length or original internal order of the tuples."}, {"owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449089317, "post_id": 34052317, "comment_id": 55859633, "body": "@PadraicCunningham, actually previous one was okay. lol. I just preferred  your&#39;s one because it liked the shorthand, but i didn&#39;t notice it won&#39;t sort the list element unfortunately, rather it sorts the list itself."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1449089711, "post_id": 34052317, "comment_id": 55859817, "body": "yep meant <code>a = map(tuple, map(sorted, l))</code>, if it were python2 then <code>imap</code> would be better"}], "tags": [], "owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "is_accepted": false, "score": 4, "last_activity_date": 1449089164, "last_edit_date": 1449089164, "creation_date": 1449087857, "answer_id": 34052317, "question_id": 34052216, "link": "https://stackoverflow.com/questions/34052216/python-generating-a-set-of-tuples-from-a-list-of-tuples-that-doesnt-take-o/34052317#34052317", "title": "Python: Generating a &quot;set of tuples&quot; from a &quot;list of tuples&quot; that doesn&#39;t take order into consideration", "body": "<p>This can solve your problem if order is not important.</p>\n\n<pre><code>a=[('a', 'b'), ('c', 'd'), ('a', 'b'), ('b', 'a')]\n\n\na=map(tuple,[sorted(i) for i in a])\n\nprint list(set(a))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[('a', 'b'), ('c', 'd')]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1449093365, "post_id": 34053352, "comment_id": 55861842, "body": "Good, except that you don&#39;t need to actually create the intermediate list <code>set([ tuple(sorted(t)) for t in a ])</code>. <code>set(tuple(sorted(t)) for t in a)</code> instead."}, {"owner": {"reputation": 3690, "user_id": 2409182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7a914b8bd3a60fde8fd76c505410e21?s=128&d=identicon&r=PG", "display_name": "Eric Citaire", "link": "https://stackoverflow.com/users/2409182/eric-citaire"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1449093855, "post_id": 34053352, "comment_id": 55862114, "body": "True, this is not an OP requirement. But he expects an output like <code>[(&#39;a&#39;, &#39;b&#39;), (&#39;c&#39;, &#39;d&#39;)]</code>, so I figured it has to be a list."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1449094179, "post_id": 34053352, "comment_id": 55862309, "body": "The final form has to be a list; the intermediate list comprehension is unnecessary."}, {"owner": {"reputation": 3690, "user_id": 2409182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7a914b8bd3a60fde8fd76c505410e21?s=128&d=identicon&r=PG", "display_name": "Eric Citaire", "link": "https://stackoverflow.com/users/2409182/eric-citaire"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1449094282, "post_id": 34053352, "comment_id": 55862358, "body": "Ok, I see what you mean. You&#39;re right. I&#39;ll just keep my answer as is, since it&#39;s easier to break it down. :)"}], "tags": [], "owner": {"reputation": 3690, "user_id": 2409182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7a914b8bd3a60fde8fd76c505410e21?s=128&d=identicon&r=PG", "display_name": "Eric Citaire", "link": "https://stackoverflow.com/users/2409182/eric-citaire"}, "is_accepted": true, "score": 6, "last_activity_date": 1449133712, "last_edit_date": 1449133712, "creation_date": 1449091683, "answer_id": 34053352, "question_id": 34052216, "link": "https://stackoverflow.com/questions/34052216/python-generating-a-set-of-tuples-from-a-list-of-tuples-that-doesnt-take-o/34053352#34053352", "title": "Python: Generating a &quot;set of tuples&quot; from a &quot;list of tuples&quot; that doesn&#39;t take order into consideration", "body": "<p>Try this :</p>\n\n<pre><code>a = [('a', 'b'), ('c', 'd'), ('a', 'b'), ('b', 'a')]\nb = list(set([ tuple(sorted(t)) for t in a ]))\n[('a', 'b'), ('c', 'd')]\n</code></pre>\n\n<p><strong>Let's break this down :</strong></p>\n\n<p>If you sort a tuple, it becomes a sorted list.</p>\n\n<pre><code>&gt;&gt;&gt; t = ('b', 'a')\n&gt;&gt;&gt; sorted(t)\n['a', 'b']\n</code></pre>\n\n<p>For each tuple <code>t</code> in <code>a</code>, sort it and convert it back to a tuple.</p>\n\n<pre><code>&gt;&gt;&gt; b = [ tuple(sorted(t)) for t in a ]\n&gt;&gt;&gt; b\n[('a', 'b'), ('c', 'd'), ('a', 'b'), ('a', 'b')]\n</code></pre>\n\n<p>Convert the resulting list <code>b</code> to a set : values are now unique. Convert it back to a list.</p>\n\n<pre><code>&gt;&gt;&gt; list(set(b))\n[('a', 'b'), ('c', 'd')]\n</code></pre>\n\n<p>Et voil\u00e0 !</p>\n\n<p>Note that you can skip the creation of the intermediate list <code>b</code> by using a <a href=\"https://www.python.org/dev/peps/pep-0289/\" rel=\"noreferrer\">generator</a> instead of a <a href=\"https://www.python.org/dev/peps/pep-0202/\" rel=\"noreferrer\">list comprehension</a>.</p>\n\n<pre><code>&gt;&gt;&gt; list(set(tuple(sorted(t)) for t in a))\n[('a', 'b'), ('c', 'd')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9307, "user_id": 705086, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fbeee3d76a35f9de8847f36ee51c28a2?s=128&d=identicon&r=PG", "display_name": "Dima Tisnek", "link": "https://stackoverflow.com/users/705086/dima-tisnek"}, "is_accepted": false, "score": -1, "last_activity_date": 1449135522, "creation_date": 1449135522, "answer_id": 34062440, "question_id": 34052216, "link": "https://stackoverflow.com/questions/34052216/python-generating-a-set-of-tuples-from-a-list-of-tuples-that-doesnt-take-o/34062440#34062440", "title": "Python: Generating a &quot;set of tuples&quot; from a &quot;list of tuples&quot; that doesn&#39;t take order into consideration", "body": "<p>Built-in types to the rescue:</p>\n\n<pre><code>data = [('a', 'b'), ('c', 'd'), ('a', 'b'), ('b', 'a')]\nset(map(frozenset, data))\n{frozenset({'a', 'b'}), frozenset({'c', 'd'})}\n</code></pre>\n"}], "owner": {"reputation": 785, "user_id": 3169198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba8543b246ac6f73343d4701a0aafb34?s=128&d=identicon&r=PG&f=1", "display_name": "Arabasta", "link": "https://stackoverflow.com/users/3169198/arabasta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9809, "favorite_count": 0, "accepted_answer_id": 34053352, "answer_count": 4, "score": 9, "last_activity_date": 1449135522, "creation_date": 1449087445, "question_id": 34052216, "link": "https://stackoverflow.com/questions/34052216/python-generating-a-set-of-tuples-from-a-list-of-tuples-that-doesnt-take-o", "title": "Python: Generating a &quot;set of tuples&quot; from a &quot;list of tuples&quot; that doesn&#39;t take order into consideration", "body": "<p>If I have the list of tuples as the following:</p>\n\n<pre><code>[('a', 'b'), ('c', 'd'), ('a', 'b'), ('b', 'a')]\n</code></pre>\n\n<p>I would like to remove duplicate tuples (duplicate in terms of both content and order of items inside) so that the output would be:</p>\n\n<pre><code>[('a', 'b'), ('c', 'd')]\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>[('b', 'a'), ('c', 'd')]\n</code></pre>\n\n<p>I tried converting it to set then to list but the output would maintain both <code>('b', 'a')</code> and <code>('a', 'b')</code> in the resulting set!</p>\n"}, {"tags": ["python", "macos", "pip"], "comments": [{"owner": {"reputation": 1244, "user_id": 459684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76041fe727fd5be7d649c27a9d0cc2a2?s=128&d=identicon&r=PG", "display_name": "tanjir", "link": "https://stackoverflow.com/users/459684/tanjir"}, "edited": false, "score": 0, "creation_date": 1449087537, "post_id": 34052214, "comment_id": 55858726, "body": "What&#39;s the exact command did you run? What&#39;s the output of &quot;whoami&quot;?"}, {"owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "reply_to_user": {"reputation": 1244, "user_id": 459684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76041fe727fd5be7d649c27a9d0cc2a2?s=128&d=identicon&r=PG", "display_name": "tanjir", "link": "https://stackoverflow.com/users/459684/tanjir"}, "edited": false, "score": 0, "creation_date": 1449087652, "post_id": 34052214, "comment_id": 55858775, "body": "whoami reveals that I am drubio and the exact commands that I run are <code>pip install &lt;package&gt;</code> within my virtual env.  When I type <code>which python</code> and <code>which pip</code> I am inside my <code>venv&#47;bin&#47;pip</code>"}, {"owner": {"reputation": 177, "user_id": 152518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/de156e6e082a877f4d6cbfba1efb30e6?s=128&d=identicon&r=PG", "display_name": "csprabala", "link": "https://stackoverflow.com/users/152518/csprabala"}, "edited": false, "score": 0, "creation_date": 1449088270, "post_id": 34052214, "comment_id": 55859085, "body": "Did you do source venv/bin/activate ?"}, {"owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "edited": false, "score": 0, "creation_date": 1449088512, "post_id": 34052214, "comment_id": 55859192, "body": "I sure did csprabala. I am currently in my viertual environment..... no dice yet."}, {"owner": {"reputation": 7389, "user_id": 360362, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/1yfQ1.jpg?s=128&g=1", "display_name": "Meitham", "link": "https://stackoverflow.com/users/360362/meitham"}, "edited": false, "score": 0, "creation_date": 1449090269, "post_id": 34052214, "comment_id": 55860161, "body": "you might be running the wrong pip.  do <code>which pip</code>"}, {"owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "edited": false, "score": 0, "creation_date": 1449091020, "post_id": 34052214, "comment_id": 55860569, "body": "Thanks for the reply Meitham but it is the right pip. which pip yields <code>&#47;Users&#47;drubio&#47;Desktop&#47;blackduck_directory&#47;venv&#47;bin&#47;pip</code>"}, {"owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "edited": false, "score": 0, "creation_date": 1449092277, "post_id": 34052214, "comment_id": 55861257, "body": "Hey guys, I believe I found the root cause of my problem and that problem seems to be with virtualenv itself. Can you guys gloss over the new post when you have a second and tell me what you think? I&#39;d appreciate it."}], "answers": [{"tags": [], "owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "is_accepted": false, "score": 1, "last_activity_date": 1449098391, "creation_date": 1449098391, "answer_id": 34055000, "question_id": 34052214, "link": "https://stackoverflow.com/questions/34052214/pip-install-no-longer-works-with-virtualenv-somehow-pip-is-trying-to-install-wi/34055000#34055000", "title": "pip install no longer works with virtualenv, somehow pip is trying to install with root", "body": "<p>I found the problem! The problem was in this file <code>/Users/drubio/.pydistutils.cfg</code></p>\n\n<p>For another problem I had (which I can't remember) I needed to place these two lines for a work around:</p>\n\n<pre><code>[install]\nprefix=''\n</code></pre>\n\n<p>Removing those lines made it work. </p>\n"}], "owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1370, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1449098391, "creation_date": 1449087443, "last_edit_date": 1449092220, "question_id": 34052214, "link": "https://stackoverflow.com/questions/34052214/pip-install-no-longer-works-with-virtualenv-somehow-pip-is-trying-to-install-wi", "title": "pip install no longer works with virtualenv, somehow pip is trying to install with root", "body": "<p>------EDIT Starting Over again ---------</p>\n\n<p>I have a problem with virtualenv and I'm not sure how I caused it. The problem that I am having is that I cannot install any flask-extensions onto my flask application's site-packages directory.</p>\n\n<p>I had a previous stackoverflow question that I overwrote before but I believe that I found the root problem and the problem is in virtualenv itself. Here is an error that I get when executing <code>virtualenv env</code>:</p>\n\n<pre><code>New python executable in env/bin/python\nPlease make sure you remove any previous custom paths from your /Users/drubio/.pydistutils.cfg file.\nInstalling setuptools, pip, wheel...\n  Complete output from command /Users/drubio/example/env/bin/python -c \"import sys, pip; sys...d\\\"] + sys.argv[1:]))\" setuptools pip wheel:\n  Ignoring indexes: https://pypi.python.org/simple\nThe directory '/Users/drubio/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\nThe directory '/Users/drubio/Library/Caches/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\nCollecting setuptools\nCollecting pip\nCollecting wheel\nInstalling collected packages: setuptools, pip, wheel\nException:\nTraceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv_support/pip-7.1.2-py2.py3-none-any.whl/pip/basecommand.py\", line 211, in main\n    status = self.run(options, args)\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv_support/pip-7.1.2-py2.py3-none-any.whl/pip/commands/install.py\", line 311, in run\n    root=options.root_path,\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv_support/pip-7.1.2-py2.py3-none-any.whl/pip/req/req_set.py\", line 646, in install\n    **kwargs\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv_support/pip-7.1.2-py2.py3-none-any.whl/pip/req/req_install.py\", line 803, in install\n    self.move_wheel_files(self.source_dir, root=root)\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv_support/pip-7.1.2-py2.py3-none-any.whl/pip/req/req_install.py\", line 998, in move_wheel_files\n    isolated=self.isolated,\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv_support/pip-7.1.2-py2.py3-none-any.whl/pip/wheel.py\", line 339, in move_wheel_files\n    clobber(source, lib_dir, True)\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv_support/pip-7.1.2-py2.py3-none-any.whl/pip/wheel.py\", line 282, in clobber\n    ensure_dir(dest)  # common for the 'include' path\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv_support/pip-7.1.2-py2.py3-none-any.whl/pip/utils/__init__.py\", line 71, in ensure_dir\n    os.makedirs(path)\n  File \"/Users/drubio/example/env/lib/python2.7/os.py\", line 150, in makedirs\n    makedirs(head, mode)\n  File \"/Users/drubio/example/env/lib/python2.7/os.py\", line 150, in makedirs\n    makedirs(head, mode)\n  File \"/Users/drubio/example/env/lib/python2.7/os.py\", line 157, in makedirs\n    mkdir(name, mode)\nOSError: [Errno 13] Permission denied: '/lib'\n----------------------------------------\n...Installing setuptools, pip, wheel...done.\nTraceback (most recent call last):\n  File \"/usr/local/bin/virtualenv\", line 9, in &lt;module&gt;\n    load_entry_point('virtualenv==13.1.2', 'console_scripts', 'virtualenv')()\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv.py\", line 832, in main\n    symlink=options.symlink)\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv.py\", line 1004, in create_environment\n    install_wheel(to_install, py_executable, search_dirs)\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv.py\", line 969, in install_wheel\n    'PIP_NO_INDEX': '1'\n  File \"/Library/Python/2.7/site-packages/virtualenv-13.1.2-py2.7.egg/virtualenv.py\", line 910, in call_subprocess\n    % (cmd_desc, proc.returncode))\n</code></pre>\n\n<p>There is some sort of permission that is being denied in <code>/lib</code> and I'm not sure what that means. Is there a way to completely remove virtualenv. The <code>bin</code> directory for a new application does not contain an activate file or anything.</p>\n\n<p>Also, running these commands result in the following:</p>\n\n<pre><code>(sudo) pip uninstall virtualenv\n zsh: /bin/pip: bad interpreter: /usr/local/opt/python/bin/python2.7: no such file or directory\n sudo: unable to execute /bin/pip: No such file or directory\n</code></pre>\n\n<p>However when I execute <code>which virtualenv</code> and <code>which pip</code> I clearly have them under <code>/usr/local/bin/virtualenv/</code> and <code>/bin/pip</code>.</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["python", "dictionary", "pandas", "indexing"], "answers": [{"tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 2, "last_activity_date": 1449087697, "creation_date": 1449087697, "answer_id": 34052283, "question_id": 34052206, "link": "https://stackoverflow.com/questions/34052206/reorder-columns-based-on-a-dictionary/34052283#34052283", "title": "Reorder Columns Based on a Dictionary", "body": "<p>There is:</p>\n\n<pre><code>df = df.rename(columns=month_dict).sort_index(axis=1)\n</code></pre>\n"}], "owner": {"reputation": 1243, "user_id": 2718796, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b556307b30d0c851497e9591f13a73b6?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/2718796/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 1, "accepted_answer_id": 34052283, "answer_count": 1, "score": 1, "last_activity_date": 1463620542, "creation_date": 1449087409, "last_edit_date": 1463620542, "question_id": 34052206, "link": "https://stackoverflow.com/questions/34052206/reorder-columns-based-on-a-dictionary", "title": "Reorder Columns Based on a Dictionary", "body": "<p>I have a <code>DataFrame</code> that looks like</p>\n\n<pre><code>Day    Oct    Dec    Nov\n1       5      7      3\n2       0      23     8\n3       2      12     10\n</code></pre>\n\n<p>with ~30 records.</p>\n\n<p>Unfortunately, I don't always know what the columns are going to be (it is generated from a live dataset for different months). I know they will be in the set (Jan, Feb, Mar, Apr...Dec) and that there will be three columns, but I don't know which three and I don't know what order. </p>\n\n<p>How can I force them to be in the appropriate calendar order? </p>\n\n<p>I assume I need to sort them as integers somehow by linking the names to a dictionary like </p>\n\n<pre><code>month_dict = {'Jan': 0, \n          'Feb': 1, \n          'Mar': 2, \n          'Apr': 3, \n          'May': 4, \n          'Jun': 5, \n          'Jul': 6,\n          'Aug': 7, \n          'Sep': 8, \n          'Oct': 9, \n          'Nov': 10, \n          'Dec': 11}\n</code></pre>\n\n<p>but I can't figure out how to use that to sort the columns</p>\n"}]