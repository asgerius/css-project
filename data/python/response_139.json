[{"tags": ["python", "html", "beautifulsoup", "python-requests", "urllib"], "comments": [{"owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "edited": false, "score": 1, "creation_date": 1504742679, "post_id": 46085902, "comment_id": 79133900, "body": "Unfortunately a number of modern website frameworks rely extensively on javascript, which of course requests cannot process. If your work requires you to regularly scrape modern webpages, I strongly recommend you get used to selenium, it&#39;s excellent and solves this kind of issue easily."}, {"owner": {"reputation": 684, "user_id": 7073884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tjoEQ.jpg?s=128&g=1", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/7073884/lukasz"}, "reply_to_user": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "edited": false, "score": 0, "creation_date": 1504747045, "post_id": 46085902, "comment_id": 79134836, "body": "@DanielleM. There is ways around javascript with requests. <a href=\"https://stackoverflow.com/a/38081914/7073884\">Link</a>"}, {"owner": {"reputation": 75, "user_id": 8113871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66907ba5f2741b077db8d3f05a1fda5a?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/8113871/rob"}, "reply_to_user": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "edited": false, "score": 0, "creation_date": 1504783130, "post_id": 46085902, "comment_id": 79151551, "body": "@DanielleM. No, it was just for fun. I need to figure out the errors that occur when I use Selenium. First I got a path issue for which the solution was to downgrade, but then something went wrong with the geckodriver and then the recommended solution was to upgrade, so therefore I have focussed on requests"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 8113871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66907ba5f2741b077db8d3f05a1fda5a?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/8113871/rob"}, "edited": false, "score": 0, "creation_date": 1504782947, "post_id": 46086989, "comment_id": 79151429, "body": "Successful, many thanks! So the key was to use the &#39;id&#39; instead of the &#39;value&#39; (which was empty)"}, {"owner": {"reputation": 813, "user_id": 7789884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nYTxD.jpg?s=128&g=1", "display_name": "chad", "link": "https://stackoverflow.com/users/7789884/chad"}, "reply_to_user": {"reputation": 75, "user_id": 8113871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66907ba5f2741b077db8d3f05a1fda5a?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/8113871/rob"}, "edited": false, "score": 0, "creation_date": 1504784217, "post_id": 46086989, "comment_id": 79152350, "body": "Yes the value is empty on initial load, when you try to submit the login form with empty username and password, you&#39;ll see the value being populated."}], "tags": [], "owner": {"reputation": 813, "user_id": 7789884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nYTxD.jpg?s=128&g=1", "display_name": "chad", "link": "https://stackoverflow.com/users/7789884/chad"}, "is_accepted": true, "score": 3, "last_activity_date": 1504751704, "creation_date": 1504751704, "answer_id": 46086989, "question_id": 46085902, "link": "https://stackoverflow.com/questions/46085902/python-requests-fails-to-log-in/46086989#46086989", "title": "Python requests fails to log in", "body": "<p>When submitting a form, you should take in consideration other fields inside the form tags not just the fields you need to fill up. In this case, when you look inside the page source, there is one more field that is being populated upon login.</p>\n\n<p>You can try adding that in your payload:</p>\n\n<pre><code>payload = {'email': 'address@example.com',\n           'password': '*********'\n           'buttons_app_service_user_login[buttonClicked]': 'buttons_app_service_user_login-save'}\n</code></pre>\n\n<p>Let me know if that worked or if you encounter other issues.</p>\n"}], "owner": {"reputation": 75, "user_id": 8113871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66907ba5f2741b077db8d3f05a1fda5a?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/8113871/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 46086989, "answer_count": 1, "score": 5, "last_activity_date": 1504784375, "creation_date": 1504742245, "last_edit_date": 1504784375, "question_id": 46085902, "link": "https://stackoverflow.com/questions/46085902/python-requests-fails-to-log-in", "title": "Python requests fails to log in", "body": "<p>I appreciate the things you're doing here. Usually I am able to figure out my issues with the help of Stackoverflow, but this time I'm stuck. Hopefully you can help me!</p>\n\n<p>The question is fairly simple: how to login on <a href=\"https://en-gb.sports.napoleongames.be/\" rel=\"nofollow noreferrer\">this webpage</a> using <strong>Python's requests</strong>?</p>\n\n<p><em>My steps:</em></p>\n\n<ol>\n<li>Get the login url</li>\n<li>Provide the login details. According to the HTML, I need to provide an 'email' and a 'password'.</li>\n<li>Create a session and use post to login</li>\n<li>Check HTML if login was successful</li>\n</ol>\n\n<p>Unfortunately, the easy approach does not seem to work in this case. For example, the output of <code>details</code> is:</p>\n\n<pre><code>&lt;script&gt;\n    dataLayer = [{\n        'environment': 'production',\n        'loggedIn': '0',\n        'userCode': '',\n        'rank': '',\n        'totalBalance': '0',\n        'overAgeCasino': '0'\n    }];\n&lt;/script&gt;\n</code></pre>\n\n<p>Obviously, <code>'0'</code> of <code>'loggedIn'</code> should change to <code>'1'</code> if the login was successful.</p>\n\n<p>In an example I found that you might have to add a 'csrftoken' and that this can be found as a 'hidden' type in the HTML. However, the name in the type='hidden' part seems to have nothing to do with this and also has no value (<a href=\"https://i.stack.imgur.com/M8HtG.png\" rel=\"nofollow noreferrer\">link to screenshot of HTML</a>). \nSomewhere else I read that a CSFR token is also stored in the CookieJar, but it is not there:</p>\n\n<pre><code>&lt;RequestsCookieJar[&lt;Cookie PHPSESSID=5dib6cf6kpvf29dsn725ljcec7 for .napoleongames.be/&gt;, &lt;Cookie locale=en_GB for .napoleongames.be/&gt;, &lt;Cookie user=false for .napoleongames.be/&gt;]&gt;\n</code></pre>\n\n<p>I find it hard to believe that logging in is not possible, but I've ran out of ideas. If someone knows how to do it with urllib(2), it is also useful. I'd rather not use Selenium as I haven't been able to run it smoothly.</p>\n\n<p><em>Code:</em></p>\n\n<pre><code> import requests\n    from bs4 import BeautifulSoup\n    from datetime import date\n\ndate_str = str(date.today())\nlogin_url = 'https://en-gb.sports.napoleongames.be/user/login'\nprotected_url = 'proctected_url'\n\npayload = {'email': 'address@example.com',\n           'password': '*********'}\n\nwith requests.Session() as session:\n    session.get(login_url)\n    login_page = session.post(login_url,\n                          data=payload)\n\n    html_body = BeautifulSoup(login_page.content, 'html.parser').find(\n        name='body', attrs={'id': 'user_login'})\n    details = html_body.findAll('script')[0]\n    page = session.get(protected_url)\n</code></pre>\n\n<p><em>Headers:</em></p>\n\n<pre><code>{'Date': 'Wed, 06 Sep 2017 23:45:52 GMT', 'Server': 'Apache', 'Expires': 'Thu, 19 Nov 1981 08:52:00 GMT', 'Cache-Control': 'no-store, no-cache, must-revalidate, post-check=0, pre-check=0', 'Pragma': 'no-cache', 'X-Frame-Options': 'SAMEORIGIN', 'X-Cache-Page': 'MISS', 'Set-Cookie': 'locale=en_GB; Expires=Mon, 05-Mar-2018 23:45:52 GMT; Domain=.napoleongames.be; Path=/, user=false; expires=Mon, 05-Mar-2018 23:45:52 GMT; Max-Age=15552000; path=/; domain=.napoleongames.be, loyalty=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/; domain=.napoleongames.be', 'Strict-Transport-Security': 'max-age=15768000', 'Vary': 'Accept-Encoding', 'Content-Encoding': 'gzip', 'Content-Length': '10840', 'Connection': 'close', 'Content-Type': 'text/html'}\n</code></pre>\n"}, {"tags": ["python", "html", "django", "django-templates"], "comments": [{"owner": {"reputation": 3193, "user_id": 8196244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uTuJY.jpg?s=128&g=1", "display_name": "Mauricio Cortazar", "link": "https://stackoverflow.com/users/8196244/mauricio-cortazar"}, "edited": false, "score": 0, "creation_date": 1504742720, "post_id": 46085901, "comment_id": 79133909, "body": "use &gt; and tell what happen"}, {"owner": {"reputation": 1, "user_id": 8571697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ef4d4ef2bec31e61ebf6084a70322a?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/8571697/shawn"}, "reply_to_user": {"reputation": 3193, "user_id": 8196244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uTuJY.jpg?s=128&g=1", "display_name": "Mauricio Cortazar", "link": "https://stackoverflow.com/users/8196244/mauricio-cortazar"}, "edited": false, "score": 0, "creation_date": 1504742759, "post_id": 46085901, "comment_id": 79133918, "body": "Same thing happens. I have tried all the operators"}, {"owner": {"reputation": 6461, "user_id": 6786283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0STiP.jpg?s=128&g=1", "display_name": "Ykh", "link": "https://stackoverflow.com/users/6786283/ykh"}, "edited": false, "score": 0, "creation_date": 1504742936, "post_id": 46085901, "comment_id": 79133963, "body": "make sure data.a is int type not string"}, {"owner": {"reputation": 1, "user_id": 8571697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ef4d4ef2bec31e61ebf6084a70322a?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/8571697/shawn"}, "edited": false, "score": 0, "creation_date": 1504743276, "post_id": 46085901, "comment_id": 79134034, "body": "I just tried adding <code>int()</code> around the data before it&#39;s added to the database and it didn&#39;t work (would it perhaps change to a string when added to the database?)"}, {"owner": {"reputation": 3193, "user_id": 8196244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uTuJY.jpg?s=128&g=1", "display_name": "Mauricio Cortazar", "link": "https://stackoverflow.com/users/8196244/mauricio-cortazar"}, "edited": false, "score": 0, "creation_date": 1504745512, "post_id": 46085901, "comment_id": 79134506, "body": "must be float, has decimal"}, {"owner": {"reputation": 1, "user_id": 8571697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ef4d4ef2bec31e61ebf6084a70322a?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/8571697/shawn"}, "edited": false, "score": 0, "creation_date": 1504747767, "post_id": 46085901, "comment_id": 79135014, "body": "What much be a float? I know <code>a</code> is a float, but that shouldn&#39;t affect the comparison right?"}, {"owner": {"reputation": 1486, "user_id": 4782092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-HENS5rBo98k/AAAAAAAAAAI/AAAAAAAAA-U/0t-L_ulUnfI/photo.jpg?sz=128", "display_name": "almost a beginner", "link": "https://stackoverflow.com/users/4782092/almost-a-beginner"}, "edited": false, "score": 0, "creation_date": 1504748742, "post_id": 46085901, "comment_id": 79135275, "body": "What&#39;s the point of doing this in template?"}], "answers": [{"tags": [], "owner": {"reputation": 1486, "user_id": 4782092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-HENS5rBo98k/AAAAAAAAAAI/AAAAAAAAA-U/0t-L_ulUnfI/photo.jpg?sz=128", "display_name": "almost a beginner", "link": "https://stackoverflow.com/users/4782092/almost-a-beginner"}, "is_accepted": false, "score": 0, "last_activity_date": 1504749177, "creation_date": 1504749177, "answer_id": 46086701, "question_id": 46085901, "link": "https://stackoverflow.com/questions/46085901/if-else-not-working-comparison-operator-in-django/46086701#46086701", "title": "If else not working (comparison operator in Django)", "body": "<p>If you really want to do these operations in the template, the simply convert your variables to string and it should work:</p>\n\n<pre><code>{% if \"29.3\" &lt; \"29.2\" %}\n   &lt;p&gt;correct&lt;/p&gt;\n{% else %}\n   &lt;p&gt;incorrect&lt;/p&gt;\n{% endif %}\n</code></pre>\n\n<blockquote>\n  <p>incorrect</p>\n</blockquote>\n\n<pre><code>{% if \"29.1\" &lt; \"29.2\" %}\n   &lt;p&gt;correct&lt;/p&gt;\n{% else %}\n   &lt;p&gt;incorrect&lt;/p&gt;\n{% endif %}\n</code></pre>\n\n<blockquote>\n  <p>correct</p>\n</blockquote>\n\n<p>You can put everything together by using <a href=\"https://docs.djangoproject.com/en/1.11/ref/templates/builtins/#stringformat\" rel=\"nofollow noreferrer\">stringformat</a> filter. Goodluck,</p>\n"}], "owner": {"reputation": 1, "user_id": 8571697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ef4d4ef2bec31e61ebf6084a70322a?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/8571697/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 586, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1504749177, "creation_date": 1504742242, "question_id": 46085901, "link": "https://stackoverflow.com/questions/46085901/if-else-not-working-comparison-operator-in-django", "title": "If else not working (comparison operator in Django)", "body": "<p>I am using Django 1.11 and I am trying to use the Django templating to do an <code>if .. else ..</code> statement in a html file.</p>\n\n<p>Regular <code>if .. else ..</code> statements work in the Django templating, the only issue I am running into is using the comparison operators (<code>&lt;=, &lt;, &gt;, &gt;=</code>).</p>\n\n<p>I have re-read the docs for Django 1.11 and it definitely seems like it is supported in this version.</p>\n\n<p>Code (view / database):</p>\n\n<p><code>a = 25.2  # passed from view to database</code></p>\n\n<p>HTML template </p>\n\n<pre><code>{% if data.a &lt; 30 %}\n    &lt;p&gt;correct&lt;/p&gt;\n{% else %}\n    &lt;p&gt;incorrect&lt;/p&gt;\n{% endif %}\n</code></pre>\n\n<p>By itself <code>data.a</code> works fine, if I just use <code>{{ data.a }}</code> then it will correctly display <code>25.2</code>, however if I run the above code, then the <code>else</code> statement is always displayed.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "exception", "urllib", "connection-timeout"], "answers": [{"comments": [{"owner": {"reputation": 2089, "user_id": 5616565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xdEXf.jpg?s=128&g=1", "display_name": "DarkSuniuM", "link": "https://stackoverflow.com/users/5616565/darksunium"}, "edited": false, "score": 0, "creation_date": 1504742487, "post_id": 46085917, "comment_id": 79133855, "body": "What will happen to the rest of the code ? if I throw the exception there, the next line will run after the exception, where I defined soup variable"}, {"owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "reply_to_user": {"reputation": 2089, "user_id": 5616565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xdEXf.jpg?s=128&g=1", "display_name": "DarkSuniuM", "link": "https://stackoverflow.com/users/5616565/darksunium"}, "edited": false, "score": 1, "creation_date": 1504742779, "post_id": 46085917, "comment_id": 79133923, "body": "That&#39;s up to you, but bear in mind you&#39;re catching the exception, not throwing it (unless you want). As you&#39;re doing this in a loop, call <code>continue</code> and carry on with the next <code>_object</code>"}], "tags": [], "owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1504742367, "creation_date": 1504742367, "answer_id": 46085917, "question_id": 46085887, "link": "https://stackoverflow.com/questions/46085887/where-and-what-exception-i-should-use-urllib-python3/46085917#46085917", "title": "Where and What exception I should use ? URLLib Python3", "body": "<p>Wrap the urlopen call into a try: except call:</p>\n\n<pre><code>try: \n  _URL = urlopen(req).read()\nexcept Exception as e:\n  print(\"Something happened wrong: {}\".format(e))\n  # do something, eg: continue\n</code></pre>\n"}], "owner": {"reputation": 2089, "user_id": 5616565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xdEXf.jpg?s=128&g=1", "display_name": "DarkSuniuM", "link": "https://stackoverflow.com/users/5616565/darksunium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 46085917, "answer_count": 1, "score": 0, "last_activity_date": 1504742367, "creation_date": 1504742129, "question_id": 46085887, "link": "https://stackoverflow.com/questions/46085887/where-and-what-exception-i-should-use-urllib-python3", "title": "Where and What exception I should use ? URLLib Python3", "body": "<p>I have this script to crawl a website and find the Items I need..</p>\n\n<pre><code>from socket import timeout\nfrom urllib.request import Request, urlopen, URLError\nimport bs4,urllib.parse\ndef track(self):\n    for _object in _objects:\n        req = Request('http://example.com/item.php?id='+str(_object))\n        req.add_header('User-Agent',\n                       'Mozilla 5.0')\n        _URL = urlopen(req).read()\n        soup = bs4.BeautifulSoup(_URL, \"html.parser\")\n        allResults = []\n        i = 1\n\n        for hit in soup.findAll('cite'):\n            if (\"% Off\" in hit.text):\n                allResults.append(str(i) + \". \" + hit.text + \" | Item =&gt; \" + _object)\n                i += 1\n\n        if (len(allResults) == 0):\n            print(\"No result found for this item =&gt; \" + _object)\n        else:\n            for element in allResults:\n                print(element)\n</code></pre>\n\n<p>I want to throw an exception, so when connection failed to the website, or for any other reason it couldn't reach the URL, it prints \"Something happened wrong\"</p>\n\n<p>I know I have to use socket.timeout but where should I put it in the code ?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 1376, "user_id": 7938769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb763364d1cfe2f28ae80068836358a2?s=128&d=identicon&r=PG&f=1", "display_name": "tima", "link": "https://stackoverflow.com/users/7938769/tima"}, "edited": false, "score": 0, "creation_date": 1504742314, "post_id": 46085882, "comment_id": 79133825, "body": "The groups are correctly matched for me <a href=\"https://regex101.com/r/HaN4N3/1\" rel=\"nofollow noreferrer\">regex101.com/r/HaN4N3/1</a> How are you getting the groups in your code?"}, {"owner": {"reputation": 1133, "user_id": 7790438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd56fe083be9265767941c6a049da6da?s=128&d=identicon&r=PG", "display_name": "Fady Saad", "link": "https://stackoverflow.com/users/7790438/fady-saad"}, "edited": false, "score": 0, "creation_date": 1504742913, "post_id": 46085882, "comment_id": 79133960, "body": "You use complicated regex in an easy case, you should just use \\d and it will match each number individually or you can use \\d{2} if you want sure that it will be 2 numbers and in this case it will return one match of the two numbers."}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "reply_to_user": {"reputation": 1133, "user_id": 7790438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd56fe083be9265767941c6a049da6da?s=128&d=identicon&r=PG", "display_name": "Fady Saad", "link": "https://stackoverflow.com/users/7790438/fady-saad"}, "edited": false, "score": 0, "creation_date": 1504742984, "post_id": 46085882, "comment_id": 79133975, "body": "@FadySaad I&#39;ve simplified my situation for the sake of this question, but in reality these things I&#39;m trying to match are in a document of many other letters and numbers so I do need to make sure the &#39;ephgen&#39; is there"}, {"owner": {"reputation": 1376, "user_id": 7938769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb763364d1cfe2f28ae80068836358a2?s=128&d=identicon&r=PG&f=1", "display_name": "tima", "link": "https://stackoverflow.com/users/7938769/tima"}, "edited": false, "score": 0, "creation_date": 1504743007, "post_id": 46085882, "comment_id": 79133979, "body": "I&#39;m getting a <code>yes</code>. I replaced <code>entries[i]</code> with both of your test cases. You may want to print <code>entries[i]</code> in the loop"}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "reply_to_user": {"reputation": 1376, "user_id": 7938769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb763364d1cfe2f28ae80068836358a2?s=128&d=identicon&r=PG&f=1", "display_name": "tima", "link": "https://stackoverflow.com/users/7938769/tima"}, "edited": false, "score": 0, "creation_date": 1504743238, "post_id": 46085882, "comment_id": 79134023, "body": "@tima I&#39;ve edited my question so now <code>entries</code> is closer to what I&#39;m actually dealing with and the loop makes more sense"}, {"owner": {"reputation": 1376, "user_id": 7938769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb763364d1cfe2f28ae80068836358a2?s=128&d=identicon&r=PG&f=1", "display_name": "tima", "link": "https://stackoverflow.com/users/7938769/tima"}, "edited": false, "score": 0, "creation_date": 1504743500, "post_id": 46085882, "comment_id": 79134086, "body": "it works <a href=\"https://repl.it/KmCX/0\" rel=\"nofollow noreferrer\">repl.it/KmCX/0</a>"}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "edited": false, "score": 0, "creation_date": 1504743936, "post_id": 46085882, "comment_id": 79134180, "body": "Thanks, the only thing different now is just that my actual <code>entries</code> is very long and complicated but it should still work. I have no idea why it&#39;s not working on my script."}, {"owner": {"reputation": 1376, "user_id": 7938769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb763364d1cfe2f28ae80068836358a2?s=128&d=identicon&r=PG&f=1", "display_name": "tima", "link": "https://stackoverflow.com/users/7938769/tima"}, "edited": false, "score": 0, "creation_date": 1504744122, "post_id": 46085882, "comment_id": 79134210, "body": "Cool, but just so you know I didn&#39;t make any changes in the link I provided. All the code is copied from this question."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1504745056, "post_id": 46085882, "comment_id": 79134410, "body": "@WynneT You&#39;ll need to post some actual data that fails. And be more careful when copying the code, your posted code had a line break in the regexp string."}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "edited": false, "score": 0, "creation_date": 1504806075, "post_id": 46085882, "comment_id": 79167171, "body": "I have edited my question to reflect the current issue I am facing with not getting any matches. (the code yesterday was a different issue which is fixed now)"}], "answers": [{"tags": [], "owner": {"reputation": 2427, "user_id": 4983398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc9ed33d775a17d6965fd2efbfe4b52?s=128&d=identicon&r=PG", "display_name": "Gardener", "link": "https://stackoverflow.com/users/4983398/gardener"}, "is_accepted": false, "score": 2, "last_activity_date": 1504746417, "creation_date": 1504746417, "answer_id": 46086363, "question_id": 46085882, "link": "https://stackoverflow.com/questions/46085882/using-regex-or-and-capturing-groups-at-the-same-time/46086363#46086363", "title": "Using regex &#39;or&#39; and capturing groups at the same time", "body": "<p>I think that you need to eliminate some of your '?' characters because they are messing up the match.  '?' Must have at least one match.  Also, it helps to use re.DOTALL so that the '.' character includes new lines ('\\n').</p>\n\n<p>Here is what I came up with:</p>\n\n<pre><code>import re\n\nentries = ['other data\\nephdelay = 12\\nephname = cfghjk78.comb\\nother data', 'other data\\nephdelay = 17\\nephname = qwerty.s92\\nother data']\n\npattern = '.*ephname\\s*=\\s*[a-zA-Z\\.]*(\\d+)\\s*|.*ephname\\s*=\\s*[a-zA-Z\\.]*(\\d+)\\.comb\\s*'\n\npObj = re.compile(pattern, re.DOTALL)\n\nmatch = pObj.match(entries[0])\n\nmatch2 = pObj.match(entries[1])\n\nprint(match.group(1))\nprint(\"**********divider\")\nprint(match2.group(1))\n\n\nprint(\"\\n\\nReprinting the input date\\n\\n\")\nprint(entries[0])\nprint(entries[1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 3, "last_activity_date": 1504748627, "last_edit_date": 1504748627, "creation_date": 1504746996, "answer_id": 46086439, "question_id": 46085882, "link": "https://stackoverflow.com/questions/46085882/using-regex-or-and-capturing-groups-at-the-same-time/46086439#46086439", "title": "Using regex &#39;or&#39; and capturing groups at the same time", "body": "<p>The issue you are having is that you have a match in one of two different groups:</p>\n\n<pre><code>entries = ['other data\\nephdelay = 12\\nephname = cfghjk78.comb\\nother data', 'other data\\nephdelay = 17\\nephname = qwerty.s92\\nother data']\n\nfor e in entries:\n    m=re.search(r'\\s?ephname\\s?=\\s?.*?\\.s(\\d+)\\s?|\\s?ephname\\s?=\\s?.*?(\\d+)\\.comb\\s?', e)\n    if m:\n        print \"Group 1: {}, Group 2: {} {}\".format(m.group(1), m.group(2), m.groups())\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Group 1: None, Group 2: 78 (None, '78')\nGroup 1: 92, Group 2: None ('92', None)\n</code></pre>\n\n<p>To print either one, you might do:</p>\n\n<pre><code>for e in entries:\n    m=re.search(r'\\s?ephname\\s?=\\s?.*?\\.s(\\d+)\\s?|\\s?ephname\\s?=\\s?.*?(\\d+)\\.comb\\s?', e)\n    if m:\n        print m.group(1) if m.group(1) is not None else m.group(2)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>78\n92\n</code></pre>\n\n<p>The other alternative is to <a href=\"https://regex101.com/r/YdF5LH/1/\" rel=\"nofollow noreferrer\">change your regex</a> so that the capture is always in group 1:</p>\n\n<pre><code>for e in entries:\n    m=re.search(r'^ephname[ \\t]*=[ \\t]*[^0-9\\n]*(\\d+)(?:\\.comb|\\s)', e, flags=re.M)\n    if m:\n        print m.group(1)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>78\n92\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1376, "user_id": 7938769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb763364d1cfe2f28ae80068836358a2?s=128&d=identicon&r=PG&f=1", "display_name": "tima", "link": "https://stackoverflow.com/users/7938769/tima"}, "is_accepted": true, "score": 0, "last_activity_date": 1504811990, "creation_date": 1504811990, "answer_id": 46103668, "question_id": 46085882, "link": "https://stackoverflow.com/questions/46085882/using-regex-or-and-capturing-groups-at-the-same-time/46103668#46103668", "title": "Using regex &#39;or&#39; and capturing groups at the same time", "body": "<p><em>This answer is based on the edited question.</em></p>\n\n<p>The assignment in the <code>getTerms</code> function is not correct. You are assigning only the first, <code>0</code>, group but the match can be in the second group. Also, you are returning <code>d</code> which you do not change.</p>\n\n<p>Here is how it can be done:</p>\n\n<pre><code># anything above this line was not changed\n\nd = {}\n\n# d is: term - list of matches\nfor i in range(len(terms)):\n  d[terms[i]] = []\n\n# for each entry\nfor entry in entries:\n\n  # for each term\n  for i in range(len(terms)):\n\n    # get match\n    m = re.search(patterns[i], entry)\n\n    # matched\n    if m:\n\n      # check for group 1\n      if m.group(1):\n        # add match to the term list\n        d[terms[i]].append(m.group(1))\n\n      # check for group 2\n      elif m.group(2):\n        # add match to the term list\n        d[terms[i]].append(m.group(2))\n\n    # did not match\n    else:\n      # add null to the term list\n      d[terms[i]].append('NULL')\n\nprint d\nprint\nprint d['ephsol']\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>{'ephsol': ['78', '92'], 'term3': ['NULL', 'NULL'], 'term1': ['NULL', 'NULL']}\n\n['78', '92']\n</code></pre>\n\n<p><a href=\"https://repl.it/Ko2L/0\" rel=\"nofollow noreferrer\">https://repl.it/Ko2L/0</a></p>\n"}], "owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 46103668, "answer_count": 3, "score": 4, "last_activity_date": 1504811990, "creation_date": 1504742109, "last_edit_date": 1504806011, "question_id": 46085882, "link": "https://stackoverflow.com/questions/46085882/using-regex-or-and-capturing-groups-at-the-same-time", "title": "Using regex &#39;or&#39; and capturing groups at the same time", "body": "<p>I'm trying to match the 'ephname' expressions below (depends on the file which one is present), but I only want the numbers to be captured:</p>\n\n<pre><code>entries = ['other data\\nephdelay = 12\\nephname = cfghjk78.comb\\nother data', 'other data\\nephdelay = 17\\nephname = qwerty.s92\\nother data']\n</code></pre>\n\n<p>I'm using this is as my regex, but no matches are showing up (however it works just for one if I pick one and remove the boolean):</p>\n\n<pre><code>\\s?ephname\\s?=\\s?.*?\\.s(\\d+)\\s?|\\s?ephname\\s?=\\s?.*?(\\d+)\\.comb\\s?\n</code></pre>\n\n<p>I've tested this on regex websites and I don't see what the problem is. I want the output to be either '94' or '78' depending on the entry. Why aren't I getting any matches?</p>\n\n<p>Edit:\nIn my code I have this:</p>\n\n<pre><code>import re\ncommonterms = ([\"term1\", \"#term1pattern\"],\n               [\"ephsol\", \"\\s?ephname\\s?=\\s?.*?\\.s(\\d+)\\s?|\\s?ephname\\s?=\\s?.*?(\\d+)\\.comb\\s?\"],\n               [\"term3\", \"#term3pattern\"], ...)\n\nterms = [commonterms[i][0] for i in range(len(commonterms))]\npatterns = [commonterms[i][1] for i in range(len(commonterms))]\n\nd = {t: [] for t in terms}\n\ndef getTerms(entry):\n    for i in range(len(terms)):\n        term = re.search(patterns[i], entry)\n        term = term.groups()[0] if term else 'NULL'\n    return d\n\nfor entry in entries:\n    d = getTerms(entry)\n\nprint d['ephsol']\n</code></pre>\n\n<p>Then when I print <code>d['ephsol']</code> I just get a bunch of NULLs, but I know there should be matches.</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 7503, "user_id": 1059273, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f49fd78553be0a74aef8736864937b5d?s=128&d=identicon&r=PG", "display_name": "cjds", "link": "https://stackoverflow.com/users/1059273/cjds"}, "edited": false, "score": 0, "creation_date": 1504797530, "post_id": 46090245, "comment_id": 79162283, "body": "Works perfectly. I didn&#39;t read the disclaimer on the Django settings page on the proper way to import settings"}], "tags": [], "owner": {"reputation": 12706, "user_id": 3627387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7aebf92f21ecf6e2ce9bb25a113886?s=128&d=identicon&r=PG", "display_name": "Sardorbek Imomaliev", "link": "https://stackoverflow.com/users/3627387/sardorbek-imomaliev"}, "is_accepted": true, "score": 5, "last_activity_date": 1504768962, "creation_date": 1504768962, "answer_id": 46090245, "question_id": 46085879, "link": "https://stackoverflow.com/questions/46085879/override-settings-for-django-test-does-not-seem-to-work/46090245#46090245", "title": "Override Settings for django test does not seem to work", "body": "<p>You problem is that you are using <code>import</code> of settings directly, </p>\n\n<pre><code>from fetchcore_server.settings import AUTH0_SERVER_URL, TOKEN_TIMEOUT\n</code></pre>\n\n<p>but you should use <code>settings</code> object provided by django <a href=\"https://docs.djangoproject.com/en/1.11/topics/settings/#using-settings-in-python-code\" rel=\"noreferrer\">https://docs.djangoproject.com/en/1.11/topics/settings/#using-settings-in-python-code</a></p>\n\n<pre><code>from django.conf import settings\n....\ndef post(self, request, *args, **kwargs):\n    if 'token' in request.data:\n        FetchcoreToken.objects.filter(expiry_time__lte=timezone.now()).delete()\n        print settings.TOKEN_TIMEOUT # this is still original value\n        token = request.data['token']\n        try:\n            fetchcore_token = FetchcoreToken.objects.get(token=token)\n            user = fetchcore_token.user\n            user_id = user.id\n</code></pre>\n\n<p>Also as a sidenote, you could provide all overloaded settings at once</p>\n\n<pre><code>@override_settings(XYZ_REDIRECT=\"http://localhost:8000\", TOKEN_TIMEOUT=0)\nclass CustomTestCase(TestCase):\n</code></pre>\n"}], "owner": {"reputation": 7503, "user_id": 1059273, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f49fd78553be0a74aef8736864937b5d?s=128&d=identicon&r=PG", "display_name": "cjds", "link": "https://stackoverflow.com/users/1059273/cjds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2543, "favorite_count": 0, "accepted_answer_id": 46090245, "answer_count": 1, "score": 1, "last_activity_date": 1504768962, "creation_date": 1504742072, "question_id": 46085879, "link": "https://stackoverflow.com/questions/46085879/override-settings-for-django-test-does-not-seem-to-work", "title": "Override Settings for django test does not seem to work", "body": "<p>I have to override settings in a test in Django</p>\n\n<pre><code>@override_settings(XYZ_REDIRECT=\"http://localhost:8000\")\n@override_settings(TOKEN_TIMEOUT=0)\nclass CustomTestCase(TestCase):\n\n    def setUp(self):\n        self.token = self._generate_auth_token()\n        self.client = Client()\n\n    def test_token_expiry(self):\n        feoken_count = 0\n        client = Client()\n        client.post('/api/v1/auth/login/', {'token': 'AF'})\n        # Over HERE TOKEN_TIMEOUT is not changed\n        self.assertEqual(ABCN.objects.count(), feoken_count)\n</code></pre>\n\n<p>The override settings decorator, however seems not to work. In the other side of the route, I have this code.</p>\n\n<pre><code>from fetchcore_server.settings import AUTH0_SERVER_URL, TOKEN_TIMEOUT\n....\ndef post(self, request, *args, **kwargs):\n    if 'token' in request.data:\n        FetchcoreToken.objects.filter(expiry_time__lte=timezone.now()).delete()\n        print TOKEN_TIMEOUT # this is still original value\n        token = request.data['token']\n        try:\n            fetchcore_token = FetchcoreToken.objects.get(token=token)\n            user = fetchcore_token.user\n            user_id = user.id\n</code></pre>\n\n<p>I tried using the <code>with self.settings(TOKEN_TIMEOUT=0)</code> but even that did not work.</p>\n\n<p>I am not sure how I'm using this wrong</p>\n\n<p>Django docs on the subject: <a href=\"https://docs.djangoproject.com/en/1.11/topics/testing/tools/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.11/topics/testing/tools/</a></p>\n\n<p>In case it is relevant, this is how I run the test</p>\n\n<pre><code>python manage.py test api.tests.integration.v1.users.AuthUserTestCase\n</code></pre>\n"}, {"tags": ["python", "pandas", "csv", "sorting"], "answers": [{"tags": [], "owner": {"reputation": 993, "user_id": 8560382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gpJqa.jpg?s=128&g=1", "display_name": "chrisckwong821", "link": "https://stackoverflow.com/users/8560382/chrisckwong821"}, "is_accepted": true, "score": 0, "last_activity_date": 1504744155, "creation_date": 1504744155, "answer_id": 46086133, "question_id": 46085802, "link": "https://stackoverflow.com/questions/46085802/reordersort-rows-in-csv-using-python-based-on-other-columns/46086133#46086133", "title": "Reorder(Sort) rows in CSV using python based on other columns", "body": "<p>The fast but stupid way is to drop that row and append that later.</p>\n\n<pre><code>data = df\nc = df[df['Parameter1_Calculation']=='ALL']\ndata.drop(c.index).append(c)\n</code></pre>\n\n<p>but this may create unexpected result when you have more than one row</p>\n"}], "owner": {"reputation": 17, "user_id": 8570544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4132d38115534a8c6a7328e5abb52608?s=128&d=identicon&r=PG&f=1", "display_name": "Anks", "link": "https://stackoverflow.com/users/8570544/anks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "accepted_answer_id": 46086133, "answer_count": 1, "score": 0, "last_activity_date": 1504899350, "creation_date": 1504741483, "last_edit_date": 1504899350, "question_id": 46085802, "link": "https://stackoverflow.com/questions/46085802/reordersort-rows-in-csv-using-python-based-on-other-columns", "title": "Reorder(Sort) rows in CSV using python based on other columns", "body": "<p>I am trying to reorder rows in csv where I want to have \"All\" as the last row, in csv. I have tried using sort_index and sort_Values but I have not been able to achieve what I want. Here is my code:</p>\n\n<pre><code>import pandas as pd\nimport csv\n\ndf1=pd.read_csv(\"C:\\\\testfolder\\\\testdemofinal1.csv\",sep=',',na_filter=False)\n\ndf=pd.DataFrame(df1)\n\na=df.pivot_table(index=['Parameter1_Calculation','Parameter2_Calculation'],columns='Measure Names', values='Measure Values',aggfunc='first',dropna=True,margins_name='All')\n</code></pre>\n\n<hr>\n\n<pre><code>#a=a.sort_values(by='Total Earn',ascending=0)\n</code></pre>\n\n<p>This does sort the rows but does not give me the right result. </p>\n\n<hr>\n\n<pre><code>#a=a.sort_index(by=['Parameter1_Calculation','Parameter2_Calculation'],ascending=[True,False])\n</code></pre>\n\n<p>This gives me error.</p>\n\n<pre><code>b=a.to_csv(\"C:\\\\newfile1.csv\",sep=',')\n</code></pre>\n\n<p>I have attached the sample csv below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZE6vG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZE6vG.png\" alt=\"enter image description here\"></a>\nThanks in advance</p>\n\n<p>I have a sample of textual data below:</p>\n\n<pre><code>Parameter1   Parameter2 CPS  CallE  Calls ClickEarn      Clicks  \nABC - Health 8/23/2017  0.78    0    0    31.5          15  \nAd Network   8/23/2017  0.01    0    0     1.3           1  \nAll             All     0.27    0    0    17,502,274    3,493,532\nQuotes       8/23/2017  0       0    0      0            0  \n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1504741561, "post_id": 46085794, "comment_id": 79133686, "body": "Why one line? Just because something terse doesn&#39;t make it better. Anyway, you can use <code>getattr</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1504741585, "post_id": 46085794, "comment_id": 79133689, "body": "If someone passes None to your <code>print_class_property</code>, that&#39;s their bug, not yours. That said, Python doesn&#39;t have a null-coalescing operator or anything like that."}, {"owner": {"reputation": 949, "user_id": 3587534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/1623402510/picture?type=large", "display_name": "CamJohnson26", "link": "https://stackoverflow.com/users/3587534/camjohnson26"}, "edited": false, "score": 0, "creation_date": 1504741634, "post_id": 46085794, "comment_id": 79133697, "body": "Because these objects are properties on a list of objects and I have to do this check about 20 times. I can do a null check everytime but it feels like Python should have something."}, {"owner": {"reputation": 949, "user_id": 3587534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/1623402510/picture?type=large", "display_name": "CamJohnson26", "link": "https://stackoverflow.com/users/3587534/camjohnson26"}, "edited": false, "score": 0, "creation_date": 1504741705, "post_id": 46085794, "comment_id": 79133717, "body": "getattr won&#39;t work because it assumes the object already exists"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1504741730, "post_id": 46085794, "comment_id": 79133719, "body": "@CamJohnson26 See my answer."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1504741899, "post_id": 46085794, "comment_id": 79133757, "body": "@CamJohnson26 <code>getattr</code> has a <code>default</code> argument. Usually in Python, you would probably just use <code>try: ... except AttributeError</code> That would be considered <a href=\"https://stackoverflow.com/questions/11360858/what-is-the-eafp-principle-in-python\"><i>Pythonic</i></a>"}, {"owner": {"reputation": 25901, "user_id": 493928, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ce109c88210d5c36c957082ddfe92d16?s=128&d=identicon&r=PG", "display_name": "khachik", "link": "https://stackoverflow.com/users/493928/khachik"}, "edited": false, "score": 3, "creation_date": 1504742139, "post_id": 46085794, "comment_id": 79133802, "body": "why not <code>b = a.attr if a is not None else &#39;some default value&#39;</code>?"}, {"owner": {"reputation": 25901, "user_id": 493928, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ce109c88210d5c36c957082ddfe92d16?s=128&d=identicon&r=PG", "display_name": "khachik", "link": "https://stackoverflow.com/users/493928/khachik"}, "edited": false, "score": 0, "creation_date": 1504742201, "post_id": 46085794, "comment_id": 79133811, "body": "or if you don&#39;t mind all false values then you can use <code>b = a and a.attr or None</code>"}, {"owner": {"reputation": 380, "user_id": 7438379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ff6c2b99747116f5d5fe35ec3cb45e?s=128&d=identicon&r=PG&f=1", "display_name": "Kamel", "link": "https://stackoverflow.com/users/7438379/kamel"}, "reply_to_user": {"reputation": 25901, "user_id": 493928, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ce109c88210d5c36c957082ddfe92d16?s=128&d=identicon&r=PG", "display_name": "khachik", "link": "https://stackoverflow.com/users/493928/khachik"}, "edited": false, "score": 0, "creation_date": 1574055008, "post_id": 46085794, "comment_id": 104079290, "body": "@khachik i think the reason is a.attr may not have yet existed causing a keyerror"}], "answers": [{"comments": [{"owner": {"reputation": 949, "user_id": 3587534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/1623402510/picture?type=large", "display_name": "CamJohnson26", "link": "https://stackoverflow.com/users/3587534/camjohnson26"}, "edited": false, "score": 1, "creation_date": 1504742584, "post_id": 46085832, "comment_id": 79133881, "body": "This worked great for me, thanks. Any idea why the 3rd parameter isn&#39;t documented?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1504757592, "post_id": 46085832, "comment_id": 79137176, "body": "@ChristianDean: Those are square brackets. Angle brackets are <code>&lt;&gt;</code>."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1504792974, "post_id": 46085832, "comment_id": 79158736, "body": "@user2357112 That&#39;s what I meant. Thanks for the correct."}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": true, "score": 25, "last_activity_date": 1504743532, "last_edit_date": 1592644375, "creation_date": 1504741719, "answer_id": 46085832, "question_id": 46085794, "link": "https://stackoverflow.com/questions/46085794/python-get-property-if-object-is-not-none/46085832#46085832", "title": "Python Get Property if Object is not None", "body": "<p>You can use the built-in function <a href=\"https://docs.python.org/3/library/functions.html#getattr\" rel=\"noreferrer\"><code>getattr</code></a>. It allows an optional third argument that will be returned if the object passed in doesn't have the specified attribute. From the docs:</p>\n<blockquote>\n<p><em><h2>getattr(object, name[, default])</h2></em></p>\n<p>Return the value of the named attribute of object. name must be a string. If the string is the name of one of the object\u2019s attributes, the result is the value of that attribute. For example, <code>getattr(x, 'foobar')</code> is equivalent to <code>x.foobar</code>. <strong>If the named attribute does not exist, <em>default</em> is returned if provided</strong>, otherwise AttributeError is raised.</p>\n</blockquote>\n<p>Bold emphasis mine.</p>\n<pre><code>&gt;&gt;&gt; getattr(None, 'attr', 'default')\n'default'\n</code></pre>\n<p>Here's an example pertaining more to your problem:</p>\n<pre><code>&gt;&gt;&gt; class Class:\n    def __init__(self):\n        self.attr = 'attr'\n\n        \n&gt;&gt;&gt; def func(obj):\n    return getattr(obj, 'attr', 'default')\n\n&gt;&gt;&gt; func(Class())\n'attr'\n&gt;&gt;&gt; func(None)\n'default'\n</code></pre>\n<p>As @juanpa.arrivillaga said in the comments, another common idiom when dealing with cases such as this is to use <a href=\"https://docs.python.org/3/reference/compound_stmts.html?highlight=try#try\" rel=\"noreferrer\"><code>try/except</code></a>. See <a href=\"https://stackoverflow.com/questions/11360858/what-is-the-eafp-principle-in-python\"><em>What is the EAFP principle in Python?</em></a>.</p>\n"}], "owner": {"reputation": 949, "user_id": 3587534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/1623402510/picture?type=large", "display_name": "CamJohnson26", "link": "https://stackoverflow.com/users/3587534/camjohnson26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10827, "favorite_count": 1, "accepted_answer_id": 46085832, "answer_count": 1, "score": 12, "last_activity_date": 1547044469, "creation_date": 1504741374, "question_id": 46085794, "link": "https://stackoverflow.com/questions/46085794/python-get-property-if-object-is-not-none", "title": "Python Get Property if Object is not None", "body": "<p>Is there a Pythonic way to grab a property if an object exists on one line of code? Currently in the code below if someone passes in a None type object the code will break, so I need some clean way to check that it is not None, but on one line of code. C# has the <code>?.</code> syntax that works really well, so looking for something like that.</p>\n\n<pre><code>class MyClass:\n    def __init__():\n        self.my_property = \"Hello, World!\"\n\ndef print_class_property(myClassInstance):\n    print(myClassInstance???.my_property) # Here is where I need something inline\n</code></pre>\n"}, {"tags": ["python", "pandas", "scikit-learn", "scatter-plot"], "answers": [{"tags": [], "owner": {"reputation": 10298, "user_id": 2484720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/A5sYr.jpg?s=128&g=1", "display_name": "Woody Pride", "link": "https://stackoverflow.com/users/2484720/woody-pride"}, "is_accepted": false, "score": 11, "last_activity_date": 1504742355, "creation_date": 1504742355, "answer_id": 46085914, "question_id": 46085762, "link": "https://stackoverflow.com/questions/46085762/sklearn-logistic-regression-plotting-probability-curve-graph/46085914#46085914", "title": "Sklearn logistic regression, plotting probability curve graph", "body": "<p>You can use <a href=\"https://seaborn.pydata.org/generated/seaborn.regplot.html\" rel=\"noreferrer\">seaborn regplot</a> with the following syntax</p>\n\n<pre><code>import seaborn as sns\nsns.regplot(x='balance', y='default', data=data, logistic=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 993, "user_id": 8560382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gpJqa.jpg?s=128&g=1", "display_name": "chrisckwong821", "link": "https://stackoverflow.com/users/8560382/chrisckwong821"}, "is_accepted": true, "score": 8, "last_activity_date": 1504743431, "creation_date": 1504743431, "answer_id": 46086048, "question_id": 46085762, "link": "https://stackoverflow.com/questions/46085762/sklearn-logistic-regression-plotting-probability-curve-graph/46086048#46086048", "title": "Sklearn logistic regression, plotting probability curve graph", "body": "<p>you use <code>predict(X)</code> which gives out the prediction of the class.\nreplace <code>predict(X)</code> with <code>predict_proba(X)[:,1]</code> which would gives out the probability of which the data belong to class 1.</p>\n"}, {"comments": [{"owner": {"reputation": 1334, "user_id": 4320131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-znDV_B7wYUA/AAAAAAAAAAI/AAAAAAAAACY/iQnuCduNK0c/photo.jpg?sz=128", "display_name": "William Baker Morrison", "link": "https://stackoverflow.com/users/4320131/william-baker-morrison"}, "edited": false, "score": 2, "creation_date": 1610376093, "post_id": 65668578, "comment_id": 116105828, "body": "Please add some descriptions of your code to give context to your answer"}, {"owner": {"reputation": 3854, "user_id": 10607772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e478f2600848a3dc5238b7ffb2e148f6?s=128&d=identicon&r=PG", "display_name": "double-beep", "link": "https://stackoverflow.com/users/10607772/double-beep"}, "edited": false, "score": 1, "creation_date": 1610399981, "post_id": 65668578, "comment_id": 116116334, "body": "While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/65668578/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply. <a href=\"/review/low-quality-posts/28052645\">From Review</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 13096091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f03d2f63581eb99117429273d5fe970?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi Panchal", "link": "https://stackoverflow.com/users/13096091/abhi-panchal"}, "is_accepted": false, "score": 0, "last_activity_date": 1610375173, "last_edit_date": 1610375173, "creation_date": 1610374845, "answer_id": 65668578, "question_id": 46085762, "link": "https://stackoverflow.com/questions/46085762/sklearn-logistic-regression-plotting-probability-curve-graph/65668578#65668578", "title": "Sklearn logistic regression, plotting probability curve graph", "body": "<pre><code>x_range = 80\nXs = [i for i in range(x_range)]\nYs = [model.predict_proba([[value]])[0][1] for value in range(x_range)]\n\nplt.scatter(df['X'], df['y'])\nplt.plot(Xs, Ys, color='red')\n</code></pre>\n"}], "owner": {"reputation": 1102, "user_id": 5660197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/97df5665e51bcf688208167c32a7bb4e?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5660197/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27069, "favorite_count": 4, "accepted_answer_id": 46086048, "answer_count": 3, "score": 11, "last_activity_date": 1610375173, "creation_date": 1504741116, "last_edit_date": 1504768610, "question_id": 46085762, "link": "https://stackoverflow.com/questions/46085762/sklearn-logistic-regression-plotting-probability-curve-graph", "title": "Sklearn logistic regression, plotting probability curve graph", "body": "<p>I'm trying to create a logistic regression similar to the ISLR's example, but using python instead</p>\n\n<pre><code>data=pd.read_csv(\"data/Default.csv\")\n\n#first we'll have to convert the strings \"No\" and \"Yes\" to numeric values\ndata.loc[data[\"default\"]==\"No\", \"default\"]=0\ndata.loc[data[\"default\"]==\"Yes\", \"default\"]=1\nX = data[\"balance\"].values.reshape(-1,1)\nY = data[\"default\"].values.reshape(-1,1)\n\nLogR = LogisticRegression()\nLogR.fit(X,np.ravel(Y.astype(int)))\n\n#matplotlib scatter funcion w/ logistic regression\nplt.scatter(X,Y)\nplt.xlabel(\"Credit Balance\")\nplt.ylabel(\"Probability of Default\")\n</code></pre>\n\n<p>But I keep getting the graph on the left, when I want the one on the right:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bdOsp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bdOsp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Edit: <code>plt.scatter(x,LogR.predict(x))</code> was my second, and also wrong guess.</p>\n"}, {"tags": ["python", "python-3.x", "python-sockets", "python-cmd"], "answers": [{"tags": [], "owner": {"reputation": 10352, "user_id": 52273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8e25c72c9528fd7a7610a15f4cad6382?s=128&d=identicon&r=PG", "display_name": "Arafangion", "link": "https://stackoverflow.com/users/52273/arafangion"}, "is_accepted": false, "score": 1, "last_activity_date": 1504741181, "creation_date": 1504741181, "answer_id": 46085770, "question_id": 46085707, "link": "https://stackoverflow.com/questions/46085707/is-it-possible-to-use-pythons-cmd-module-remotely-with-multiple-tcp-clients/46085770#46085770", "title": "Is it possible to use Python&#39;s cmd module remotely with multiple TCP clients?", "body": "<p>You're probably better off investigating and learning Ansible.</p>\n\n<p>Whilst I don't have experience with it, it's been highly recommended to me and it is implemented in and uses Python.</p>\n\n<p>The documentation seems to be quite good.</p>\n\n<p>(I don't use it because I haven't had the need to do this sort of thing - I generally do applications development)</p>\n"}], "owner": {"reputation": 81, "user_id": 2588708, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c70db8b009c8ded9dc565bed2f546861?s=128&d=identicon&r=PG", "display_name": "The CodeWriter", "link": "https://stackoverflow.com/users/2588708/the-codewriter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504741181, "creation_date": 1504740495, "question_id": 46085707, "link": "https://stackoverflow.com/questions/46085707/is-it-possible-to-use-pythons-cmd-module-remotely-with-multiple-tcp-clients", "title": "Is it possible to use Python&#39;s cmd module remotely with multiple TCP clients?", "body": "<p>I created a python script that I'm running on my server which provides a simple command line interface for running custom configuration scripts. I'm using the cmd module to do this and it's been working great so far:</p>\n\n<pre><code>from cmd import Cmd\n\nclass MyPrompt(Cmd):\n\n    def do_run1(self, args):\n        print(\"running config1\")\n\n    def do_run2(self, args):\n        print(\"running config2\")\n\nif __name__ == '__main__':\n    prompt = MyPrompt()\n    prompt.prompt = '&gt; '\n    prompt.cmdloop('Starting prompt...')\n</code></pre>\n\n<p>I also created another script which will open a TCP server and listen for remote clients in a new thread.Clients can send configuration commands to the server and the server will execute them and send back any output. Right now the client is very basic. It can send anything and does not have access to the nice interface that the cmd module provides.It's also up to the server to parse the received message and figure out the command that the client wants to run (via a long if else parser).</p>\n\n<p>I'm trying to combine these 2 scripts, but I'm having a lot of trouble figuring out the best way to do so. I want to allow someone on the server to use the cmd lscript locally, but I also want the cmd script to accept remote clients and give them access to the cmd prompt at the same time. Also, I need a way for commands entered locally and the commands sent by remote clients to be added to a queue in order for the configuration commands to be run one at a time (each command takes a few minutes to run and cannot be executed in parallel).</p>\n\n<p>Can anyone provide some examples or guidance on how I can extend my cmd script to support remote connections? I have no idea where to start and would be very appreciative of any help!</p>\n"}, {"tags": ["python", "performance", "python-3.x", "numpy", "multidimensional-array"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1504741277, "post_id": 46085692, "comment_id": 79133624, "body": "Every column is garantueed to have at least one <code>1</code>?"}, {"owner": {"reputation": 111, "user_id": 6806349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10a0523f45bdf573dc45839b75a60a39?s=128&d=identicon&r=PG&f=1", "display_name": "HarpMan", "link": "https://stackoverflow.com/users/6806349/harpman"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1504741693, "post_id": 46085692, "comment_id": 79133715, "body": "Yes, at least one value 1 will be found in the column. Only values 0 and 1 in the array."}, {"owner": {"reputation": 111, "user_id": 6806349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10a0523f45bdf573dc45839b75a60a39?s=128&d=identicon&r=PG&f=1", "display_name": "HarpMan", "link": "https://stackoverflow.com/users/6806349/harpman"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1504742107, "post_id": 46085692, "comment_id": 79133797, "body": "Thank gentlemens, all the proposed algorithms solved the problem elegantly."}], "answers": [{"tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 2, "last_activity_date": 1504741493, "creation_date": 1504741493, "answer_id": 46085803, "question_id": 46085692, "link": "https://stackoverflow.com/questions/46085692/index-of-the-first-and-last-numbers-1-of-each-column-of-an-2d-array/46085803#46085803", "title": "Index of the first and last numbers 1 of each column of an 2d array", "body": "<p>Let's start with your array:</p>\n\n<pre><code>&gt;&gt;&gt; Q\narray([[1, 1, 1, 0, 0, 0, 0],\n       [0, 1, 1, 1, 0, 0, 0],\n       [1, 0, 0, 0, 1, 0, 1],\n       [0, 0, 0, 1, 0, 1, 1],\n       [1, 0, 1, 0, 0, 0, 0],\n       [0, 0, 1, 0, 0, 0, 1],\n       [0, 0, 0, 1, 0, 1, 0]])\n</code></pre>\n\n<p>To obtain the indices for each column of the first row which contains 1:</p>\n\n<pre><code>&gt;&gt;&gt; np.argmax(Q, axis=0) # Index of first appearance of 1\narray([0, 0, 0, 1, 2, 3, 2])\n</code></pre>\n\n<p>To obtain the indices for each column of the last row which contains 1:</p>\n\n<pre><code>&gt;&gt;&gt; Q.shape[0] - np.argmax(Q[::-1, :], axis=0) - 1 # Index of last appearance of 1\narray([4, 1, 5, 6, 2, 6, 5])\n</code></pre>\n\n<p>To combine them into a dictionary of your liking:</p>\n\n<pre><code>&gt;&gt;&gt; dict(enumerate(zip( np.argmax(Q, axis=0), Q.shape[0] - np.argmax(Q[::-1, :], axis=0) - 1)))\n{0: (0, 4), 1: (0, 1), 2: (0, 5), 3: (1, 6), 4: (2, 2), 5: (3, 6), 6: (2, 5)}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 1, "last_activity_date": 1504742341, "last_edit_date": 1504742341, "creation_date": 1504741841, "answer_id": 46085846, "question_id": 46085692, "link": "https://stackoverflow.com/questions/46085692/index-of-the-first-and-last-numbers-1-of-each-column-of-an-2d-array/46085846#46085846", "title": "Index of the first and last numbers 1 of each column of an 2d array", "body": "<p>Probably the fastest way would be to use the <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.argmax.html#numpy.ndarray.argmax\" rel=\"nofollow noreferrer\"><code>argmax</code></a> method (it works because it finds the position of the <strong>first</strong> maximum) from both sides and then put that in a dictionary. The <code>argmax</code> method has far less overhead (constant factor) than using <code>np.argmax</code> so, especially for small arrays, the method will be much faster.</p>\n\n<p>Because <code>dict</code>, <code>enumerate</code> and <code>zip</code> are faster on lists than arrays I also convert the intermediate arrays to lists (the <code>tolist</code> method is the fastest way to achieve that):</p>\n\n<pre><code>&gt;&gt;&gt; dict(enumerate(zip(Q.argmax(axis=0).tolist(), \n...                    (Q.shape[0]-1-Q[::-1].argmax(axis=0)).tolist())))\n{0: (0, 4), 1: (0, 1), 2: (0, 5), 3: (1, 6), 4: (2, 2), 5: (3, 6), 6: (2, 5)}\n</code></pre>\n\n<p>The <code>Q[::-1]</code> is the reversed array and to get the \"not-reversed\" indices I have to subtract them from <code>Q.shape[0]-1</code>.</p>\n"}], "owner": {"reputation": 111, "user_id": 6806349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10a0523f45bdf573dc45839b75a60a39?s=128&d=identicon&r=PG&f=1", "display_name": "HarpMan", "link": "https://stackoverflow.com/users/6806349/harpman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 46085846, "answer_count": 2, "score": 1, "last_activity_date": 1504742341, "creation_date": 1504740317, "last_edit_date": 1504742217, "question_id": 46085692, "link": "https://stackoverflow.com/questions/46085692/index-of-the-first-and-last-numbers-1-of-each-column-of-an-2d-array", "title": "Index of the first and last numbers 1 of each column of an 2d array", "body": "<p>I have a 2d array (<code>Q</code>) consisting of only zeros and ones (binary matrix). For each column of <code>Q</code> I want to find the index of the first and last row which the value 1 occurs. Each column contains at least one <code>1</code>.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>[[1, 1, 1, 0, 0, 0, 0],\n [0, 1, 1, 1, 0, 0, 0],\n [1, 0, 0, 0, 1, 0, 1],\n [0, 0, 0, 1, 0, 1, 1],\n [1, 0, 1, 0, 0, 0, 0],\n [0, 0, 1, 0, 0, 0, 1],\n [0, 0, 0, 1, 0, 1, 0]]\n\nboundsList = {0: (0, 4), 1: (0, 1), 2: (0, 5), 3: (1, 6), 4: (2, 2), 5: (3, 6), 6: (2, 5)}\n</code></pre>\n\n<p>I implemented an algorithm, it works, but for large arrays it is not efficient:</p>\n\n<pre><code>boundsList = {}\nfor i in range (0, len(Q)):\n    column = Q[:,i]\n    indexesList = []\n    for idx, pos in enumerate (column):\n        if pos == 1:\n            indexesList.append(idx)\n    boundsList[i] = (indexesList[0], indexesList[-1])\n</code></pre>\n\n<p>Can anybody could suggest another simple solution to this problem?</p>\n"}, {"tags": ["python", "matplotlib", "surf"], "comments": [{"owner": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "edited": false, "score": 0, "creation_date": 1504742949, "post_id": 46085635, "comment_id": 79133966, "body": "it&#39;s not clear from the documentation, but removing the 0 presumably defaults to &#39;1&#39; as per the c++ documentation: <a href=\"http://docs.opencv.org/2.4/modules/highgui/doc/reading_and_writing_images_and_video.html?highlight=imread#cv2.imread\" rel=\"nofollow noreferrer\">docs.opencv.org/2.4/modules/highgui/doc/&hellip;</a>"}, {"owner": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "edited": false, "score": 1, "creation_date": 1504743162, "post_id": 46085635, "comment_id": 79134012, "body": "also, <code>plt.imshow(img, &#39;gray&#39;)</code> instructs matplotlib to display the image <code>img</code> using the <code>gray</code> colormap; i.e. the implication is that <code>img</code> is a grayscale image. Otherwise dictating a colormap on a &#39;colour&#39; image does not make sense."}], "answers": [{"comments": [{"owner": {"reputation": 18197, "user_id": 4183191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=128&d=identicon&r=PG", "display_name": "Tasos Papastylianou", "link": "https://stackoverflow.com/users/4183191/tasos-papastylianou"}, "edited": false, "score": 0, "creation_date": 1504743515, "post_id": 46085948, "comment_id": 79134095, "body": "how does this differ to the erroneous line in your question? (or was the last edit intended as an answer?) btw, note that opencv also has an imshow function of its own that you can use instead of matplotlib&#39;s, which would have bypassed this problem. (or equally, pyplot has an imread function you can use instead of opencv&#39;s)"}], "tags": [], "owner": {"reputation": 41029, "user_id": 588855, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f6a798479cf28587a0fe18224d2a94a?s=128&d=identicon&r=PG&f=1", "display_name": "Simplicity", "link": "https://stackoverflow.com/users/588855/simplicity"}, "is_accepted": false, "score": 3, "last_activity_date": 1504742597, "creation_date": 1504742597, "answer_id": 46085948, "question_id": 46085635, "link": "https://stackoverflow.com/questions/46085635/python-displaying-the-image-with-the-original-colors/46085948#46085948", "title": "Python - Displaying the image with the original colors", "body": "<p>Based on <a href=\"http://www.pyimagesearch.com/2014/11/03/display-matplotlib-rgb-image/\" rel=\"nofollow noreferrer\">this tutorial</a>, in order to fix the issue, I had to convert <code>BGR</code> to <code>RGB</code>, as follows:</p>\n\n<pre><code>plt.imshow(cv2.cvtColor(im_out, cv2.COLOR_BGR2RGB))\n</code></pre>\n"}], "owner": {"reputation": 41029, "user_id": 588855, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f6a798479cf28587a0fe18224d2a94a?s=128&d=identicon&r=PG&f=1", "display_name": "Simplicity", "link": "https://stackoverflow.com/users/588855/simplicity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2998, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1504742597, "creation_date": 1504739911, "last_edit_date": 1504742523, "question_id": 46085635, "link": "https://stackoverflow.com/questions/46085635/python-displaying-the-image-with-the-original-colors", "title": "Python - Displaying the image with the original colors", "body": "<p>In the answer to <a href=\"https://stackoverflow.com/questions/40592327/deskewing-scanned-image-to-match-original-image-using-opencv-and-sift-surf\">this question</a>, I wanted to display the image in its original colors, and so removed the <code>gray</code> parameter from this line of code:</p>\n\n<pre><code>plt.imshow(im_out, 'gray')\n</code></pre>\n\n<p>When doing this however I get the image displayed with yellow and purple colors as opposed to the image's original colors.</p>\n\n<p>What should I do to display the image with its original colors?</p>\n\n<p>Thanks.</p>\n\n<p><strong>EDIT 1</strong> I came across <a href=\"http://www.pyimagesearch.com/2014/11/03/display-matplotlib-rgb-image/\" rel=\"nofollow noreferrer\">this tutorial</a>, and seems that I should use:</p>\n\n<pre><code>plt.imshow(cv2.cvtColor(im_out, cv2.COLOR_BGR2RGB))\n</code></pre>\n\n<p>However, when I did this, I got the following:</p>\n\n<pre><code>Calculated scale difference: 0.99\nCalculated rotation difference: 44.51\nOpenCV Error: Assertion failed (scn == 3 || scn == 4) in cvtColor, file /home/user/opencv/modules/imgproc/src/color.cpp, line 10606\nTraceback (most recent call last):\n  File \"align_surf.py\", line 47, in &lt;module&gt;\n    deskew()\n  File \"align_surf.py\", line 9, in deskew\n    plt.imshow(cv2.cvtColor(im_out, cv2.COLOR_BGR2RGB))\ncv2.error: /home/user/opencv/modules/imgproc/src/color.cpp:10606: error: (-215) scn == 3 || scn == 4 in function cvtColor\n</code></pre>\n\n<p>How can I fix this issue?</p>\n\n<p><strong>EDIT 2</strong> The reason of the above was that the image was read as follows in the original code:</p>\n\n<pre><code>orig_image = cv2.imread('1.jpg', 0)\n</code></pre>\n\n<p>So, I simply removed <code>0</code>.</p>\n"}, {"tags": ["python", "spacy"], "comments": [{"owner": {"reputation": 397, "user_id": 6243928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b02fd5d84def518903a7ee8ad7b20d93?s=128&d=identicon&r=PG&f=1", "display_name": "lazary", "link": "https://stackoverflow.com/users/6243928/lazary"}, "edited": false, "score": 0, "creation_date": 1504853207, "post_id": 46085619, "comment_id": 79182915, "body": "if you mean that it gave different results on their demo it&#39;s possible. They have several versions (although i&#39;m not sure which exactly they&#39;re using on their site)."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4267047, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XpERyUBCbOI/AAAAAAAAAAI/AAAAAAAAAD4/yuN2XwPi_Ng/photo.jpg?sz=128", "display_name": "Ravi", "link": "https://stackoverflow.com/users/4267047/ravi"}, "is_accepted": false, "score": 0, "last_activity_date": 1505774287, "last_edit_date": 1505774287, "creation_date": 1505755091, "answer_id": 46284930, "question_id": 46085619, "link": "https://stackoverflow.com/questions/46085619/spacy-results-not-matching-documentation/46284930#46284930", "title": "SpaCy results not matching documentation", "body": "<p>You see the difference because you are using model <strong>en_core_web_md</strong> for Parsing. On their website, they have used default English model (<strong>en_core_web_sm</strong>) for dependency parse example. Look at <a href=\"https://spacy.io/docs/usage/models\" rel=\"nofollow noreferrer\">this link</a> for detailed list of models.</p>\n\n<p>You can make an informed choice about which model to use by referring to <a href=\"https://github.com/explosion/spacy-models/releases\" rel=\"nofollow noreferrer\">SpaCy model releases</a>. This link provides accuracy results on test corpus for various models and NLP tasks.</p>\n"}], "owner": {"reputation": 13, "user_id": 8571606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fZQdIwXRafA/AAAAAAAAAAI/AAAAAAAAAAc/-5lTnppvfCs/photo.jpg?sz=128", "display_name": "Seemeen Karimi", "link": "https://stackoverflow.com/users/8571606/seemeen-karimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1505774287, "creation_date": 1504739810, "last_edit_date": 1504802613, "question_id": 46085619, "link": "https://stackoverflow.com/questions/46085619/spacy-results-not-matching-documentation", "title": "SpaCy results not matching documentation", "body": "<p>I tried out an example of parsing given on the Spacy website <a href=\"https://spacy.io/docs/usage/dependency-parse\" rel=\"nofollow noreferrer\">https://spacy.io/docs/usage/dependency-parse</a>, but my results are not the same as that demonstrated on the website, and my results appear incorrect. I am using spacy version 1.9.0, model en_core_web_md and python version 3.5.2. The example is reproduced below: </p>\n\n<pre><code>from spacy.symbols import nsubj\ndoc = nlp(u'Credit and mortgage account holders must submit their requests.')\nholders = doc[4]\nspan = doc[holders.left_edge.i : holders.right_edge.i + 1]\nspan.merge()\n</code></pre>\n\n<p>The output of span.merge() is</p>\n\n<pre><code>holders\n</code></pre>\n\n<p>Then continuing with the example: </p>\n\n<pre><code>for word in doc:\n    print(word.text, word.pos_, word.dep_, word.head.text)\n</code></pre>\n\n<p>And the output is</p>\n\n<pre><code>Credit NOUN npadvmod submit\nand CCONJ cc Credit\nmortgage NOUN compound account\naccount NOUN conj Credit\nholders NOUN nsubj submit\nmust VERB aux submit\nsubmit VERB ROOT submit\ntheir ADJ poss requests\nrequests NOUN dobj submit\n. PUNCT punct submit\n</code></pre>\n\n<p>However, the website demonstrates a different output:</p>\n\n<pre><code># Credit and mortgage account holders nsubj NOUN submit\n# must VERB aux submit\n# submit VERB ROOT submit\n# their DET det requests\n# requests NOUN dobj submit\n</code></pre>\n\n<p>In the expected result, holders.lefts.i and holders.rights.i are not identical so that span.merge gives us a phrase</p>\n\n<p>Further, I print the noun-chunks of the original Doc object:</p>\n\n<pre><code>doc = nlp(u'Credit and mortgage account holders must submit their requests.')\nfor nchunk in list(doc.noun_chunks):\n  print(nchunk)\n</code></pre>\n\n<p>which gives</p>\n\n<pre><code>holders\ntheir requests\n</code></pre>\n\n<p>I am brand-new to spacy and NLP. Please excuse me if I missed something obvious.</p>\n"}, {"tags": ["python", "praw"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1504739834, "post_id": 46085591, "comment_id": 79133293, "body": "<code>submissions</code> is a <code>dict</code>. You populate that dict with values that are <code>Submission</code> objects: <code>submissions[sm.id] = Submission(sm.id, sm.title, sm.author.name)</code> ... what <i>else</i> were you expecting to see when you accessed one of these objects?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1504740150, "post_id": 46085591, "comment_id": 79133358, "body": "Note, you&#39;ve hopefully created some sort of tree-structure (no cycles) where each node, a <code>Submission</code> has three values: <code>id, author, body</code>. There are many ways of searching through your tree. But you&#39;ll have to implement that yourself."}, {"owner": {"reputation": 119, "user_id": 1810222, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1378eb131458a5b1da8a21ad2042d555?s=128&d=identicon&r=PG", "display_name": "Mal229", "link": "https://stackoverflow.com/users/1810222/mal229"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1504740561, "post_id": 46085591, "comment_id": 79133450, "body": "Thanks for getting back. Yeah I was expecting to see &quot;Added under #&quot; this sounds like I might be going about this all wrong. thanks for the info"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1504740973, "post_id": 46085591, "comment_id": 79133555, "body": "Python doesn&#39;t implement how to represent your object as a string for you. All objects inherit the basic implementation from <code>object</code>. It is up to you to implement that. Or, you <i>might</i> just want to use a <code>dict</code> of <code>dict</code>s to get a feel for things."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1504741539, "post_id": 46085591, "comment_id": 79133681, "body": "Also, you really shouldn&#39;t ask multiple questions, but as to why <code>Submission.addComment</code> is failing, it&#39;s because you are using an <i>instance method</i> directly from the <i>class</i>. You need to use <i>an instance</i>. I don&#39;t think you are necessarily going about this all wrong, just that you don&#39;t seem to have a grasp of OOP in Python. maybe stick to built-in containers like <code>dict</code> and <code>list</code> if you are trying to just hack something together."}, {"owner": {"reputation": 119, "user_id": 1810222, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1378eb131458a5b1da8a21ad2042d555?s=128&d=identicon&r=PG", "display_name": "Mal229", "link": "https://stackoverflow.com/users/1810222/mal229"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1504741658, "post_id": 46085591, "comment_id": 79133706, "body": "Ahh sorry about that. Perfect thanks for that! :)"}], "answers": [{"tags": [], "owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1504739739, "creation_date": 1504739739, "answer_id": 46085607, "question_id": 46085591, "link": "https://stackoverflow.com/questions/46085591/python-issues-with-objects-inside-of-dictionary-cant-get-all-data-back-out/46085607#46085607", "title": "Python issues with objects inside of dictionary? Cant get all data back out", "body": "<p>It is giving you back the entire Submission object - but then you're printing it. How should a submission object look on screen when printed? This is something you can define in the Submission class - check out the first answer in this post: <a href=\"https://stackoverflow.com/questions/1436703/difference-between-str-and-repr-in-python\">Difference between __str__ and __repr__ in Python</a></p>\n\n<p>To explain this further: python doesn't know how to represent a class on screen. Sure, the class has attributes that are strings, lists, dicts etc, but python knows how to print those. Your class you just created? What's important? What should be printed? python doesn't know this, and is smart enough not to make any assumptions. </p>\n\n<p>If you add a <code>__repr__</code> function to your class, python will call it and print whatever that function returns. </p>\n"}], "owner": {"reputation": 119, "user_id": 1810222, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1378eb131458a5b1da8a21ad2042d555?s=128&d=identicon&r=PG", "display_name": "Mal229", "link": "https://stackoverflow.com/users/1810222/mal229"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "accepted_answer_id": 46085607, "answer_count": 1, "score": -2, "last_activity_date": 1504741685, "creation_date": 1504739592, "last_edit_date": 1504741685, "question_id": 46085591, "link": "https://stackoverflow.com/questions/46085591/python-issues-with-objects-inside-of-dictionary-cant-get-all-data-back-out", "title": "Python issues with objects inside of dictionary? Cant get all data back out", "body": "<p>Sorry this is the second post in two days.. I am pulling my hair out with this. I am attempting to take data from reddit and put it into an array in a way I can pull the data out later for tensorflow to parse it. Now the issue is my second object inside of the other object is not giving me whats inside it... \"&lt;<strong>main</strong>.Submission\" why am I getting this back? </p>\n\n<p>Goals of this post:</p>\n\n<p>1: Why am I getting &lt;<strong>main</strong>.Submission> and how should I be doing this.</p>\n\n<pre><code>  File \"C:/automation/git/tensorflow/untitled0.py\", line 35, in &lt;module&gt;\n    submissions[sm.id].addSubSubmission(Submission.addComment(cmt.id, cmt.author.name, cmt.body))\n\nTypeError: addComment() missing 1 required positional argument: 'body'\n</code></pre>\n\n<p>Sorry for the long winded and most likely basic questions. Going from powershell to python was not as straight forward as I thought.. </p>\n\n<p>Thanks\nCody</p>\n\n<p><a href=\"https://i.stack.imgur.com/HIS7K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HIS7K.jpg\" alt=\"error and data back\"></a></p>\n\n<pre><code>import praw\n\n# sets log in data for session\nreddit = praw.Reddit(client_id='bY',\n                     client_secret='v9',\n                     user_agent='android:com.example.myredditapp:'\n                     'v1.2.3 (by /u/r)')\n\nclass Submission(object):\n    def __init__(self, id, title, author):\n        self.id = id\n        self.title = title\n        self.subSubmission = {}\n        self.author = author\n\n    def addComment(self, id, author, body):\n        self.id = id\n        self.author = author\n        self.body = body\n\n    def addSubSubmission(self,submission):\n        self.subSubmission[submission,id] = submission\n\n    def getSubSubmission(self,id):\n        return self.subSubmission[id]\n\nsubmissions = {}\nfor sm in reddit.subreddit('redditdev').hot(limit=2):\n    # pulls the ID and makes that the head of each\n    submissions[sm.id] = Submission(sm.id, sm.title, sm.author.name)\n    mySubmission = reddit.submission(id=sm.id)\n    mySubmission.comments.replace_more(limit=0)\n    # Get all the comments and first post and list their id author and body(comment)\n    for cmt in mySubmission.comments.list():\n        submissions[sm.id].addSubSubmission(Submission.addComment(cmt.id, cmt.author.name, cmt.body))\n\n# My trying to read what all there??!? ##\n\nfor key in submissions.keys():\n    value = submissions[key]\n    print(key, \"=\", value)\n\nfor key, value in submissions.items():\n    print(key, \"=\", value)\n</code></pre>\n\n<h3>expecting to see:</h3>\n\n<pre><code>{Title = test {comment.id = 1111 {Comment = 'blah', Author = 'Bob'}}\n                   {comment.id = 1112 {Comment = 'blah2', Author = 'Bob2'}}\n} \n</code></pre>\n"}, {"tags": ["python", "macos", "matplotlib", "multiprocessing"], "owner": {"reputation": 1749, "user_id": 1179317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c97e780a81e79fa27fda17b56895512b?s=128&d=identicon&r=PG", "display_name": "user1179317", "link": "https://stackoverflow.com/users/1179317/user1179317"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504739386, "creation_date": 1504739386, "question_id": 46085566, "link": "https://stackoverflow.com/questions/46085566/plt-figure-doesnt-work-with-multiprocessing-on-macos", "title": "plt.figure() doesnt work with multiprocessing on macOS", "body": "<p>plt.figure() doesn't seem to work when using multiprocessing and on a macOS (sierra).  Using single thread works ok though.  I am using version 2.0.2 of matplotlib.  </p>\n\n<p>When on windows 7, multiprocessing does work, though i had version 1.5.1 matplotlib.</p>\n\n<p>For simplicity, use the code below for testing.  It stops at plt.figure() with no errors or warnings.  Not sure why.</p>\n\n<pre><code>def plot(log_name,num):\n    numbers = [ random.randint(1,20) for _ in range(10) ]\n    fig = plt.figure()                      ## crashes here, with no error\n    ax = fig.add_subplot(1,1,1)\n    ax.plot(numbers ,numbers ,label=\"test1\")\n    ax.plot(numbers , numbers , label=\"test2\")\n    ax.set_xlabel('Test1')\n    ax.set_ylabel('Test2')\n    ax.legend()\n    fig.savefig(\"figures/\"+str(num)+\".png\")\n    plt.close(fig)\n\nif __name__ == '__main__':\n    freeze_support()\n\n    ## Single process works.  A figure is generated\n    #plot(\"1\",1)\n\n    ## Multiprocesses doesnt work.  No figures will be generated\n    p1 = Process(target=plot,args=(\"1\",1))\n    p1.start()\n    p2 = Process(target=plot, args=(\"2\", 2))\n    p2.start()\n    p1.join()\n    p2.join()\n</code></pre>\n\n<p>Does anybody know a work around to this?</p>\n"}, {"tags": ["python", "api", "redirect", "curl", "flask"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 5713751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e61ab6ffa46be6b3f1929b1a4b09481?s=128&d=identicon&r=PG", "display_name": "alexander", "link": "https://stackoverflow.com/users/5713751/alexander"}, "edited": false, "score": 0, "creation_date": 1504767909, "post_id": 46085889, "comment_id": 79141440, "body": "Thanks a lot for the explanation, that solved the issue. I have remove the trailing slash to get the needed response."}], "tags": [], "owner": {"reputation": 7730, "user_id": 5511849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggmzY.png?s=128&g=1", "display_name": "Grey Li", "link": "https://stackoverflow.com/users/5511849/grey-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1504742133, "creation_date": 1504742133, "answer_id": 46085889, "question_id": 46085562, "link": "https://stackoverflow.com/questions/46085562/why-does-this-default-route-redirect/46085889#46085889", "title": "Why does this default route redirect?", "body": "<p>Here is the <a href=\"http://flask.pocoo.org/docs/0.12/quickstart/#variable-rules\" rel=\"nofollow noreferrer\">documentation</a> about this behavior:</p>\n\n<blockquote>\n  <p>Unique URLs / Redirection Behavior\n  Flask\u2019s URL rules are based on Werkzeug\u2019s routing module. The idea behind that module is to ensure beautiful and unique URLs based on precedents laid down by Apache and earlier HTTP servers.</p>\n  \n  <p>Take these two rules:</p>\n\n<pre><code>@app.route('/projects/')\ndef projects():\n    return 'The project page'\n\n@app.route('/about')\ndef about():\n    return 'The about page'\n</code></pre>\n  \n  <p>Though they look rather similar, they differ in their use of the trailing slash in the URL definition. In the first case, the canonical URL for the projects endpoint has a trailing slash. In that sense, it is similar to a folder on a filesystem. Accessing it without a trailing slash will cause Flask to redirect to the canonical URL with the trailing slash.</p>\n  \n  <p>In the second case, however, the URL is defined without a trailing slash, rather like the pathname of a file on UNIX-like systems. Accessing the URL with a trailing slash will produce a 404 \u201cNot Found\u201d error.</p>\n  \n  <p>This behavior allows relative URLs to continue working even if the trailing slash is omitted, consistent with how Apache and other servers work. Also, the URLs will stay unique, which helps search engines avoid indexing the same page twice.</p>\n</blockquote>\n"}], "owner": {"reputation": 163, "user_id": 5713751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e61ab6ffa46be6b3f1929b1a4b09481?s=128&d=identicon&r=PG", "display_name": "alexander", "link": "https://stackoverflow.com/users/5713751/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 1, "accepted_answer_id": 46085889, "answer_count": 1, "score": 1, "last_activity_date": 1504742133, "creation_date": 1504739349, "question_id": 46085562, "link": "https://stackoverflow.com/questions/46085562/why-does-this-default-route-redirect", "title": "Why does this default route redirect?", "body": "<p>While testing the API functionality with curl, i tried sending a post data to the route below. while watching the debug, the views rather responded to a 301 redirect preventing to grab the needed data. what am i doing wrong?</p>\n\n<p>here is my current views. </p>\n\n<pre><code>from flask import Flask, jsonify, render_template, request\nfrom flask_cors import CORS\napp = Flask(__name__)\n\n\n\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n\n@app.route(\"/api/user/login/\", methods=[\"GET\", \"POST\"])\ndef login(*args, **kwargs):\n    print 'Got request for login'\n    print args\n    print kwargs\n    print request.args\n    print request.args.get(\"username\")\n    print request.values.get(\"username\")\n    print request.method\n\n    response = {'username': 'Erik'}\n\n    dict = request.args\n    for key in dict:\n        print 'form key ' + dict[key]\n\n    # return jsonify(response)\n    return response\n\n\nif __name__ == \"__main__\":\n    app.run(host='0.0.0.0', port=8080)\n</code></pre>\n\n<p>Calling the following code, </p>\n\n<pre><code>curl -d \"username=Flash\" http://0.0.0.0:8080/api/user/login\n</code></pre>\n\n<p>initiates a redirection</p>\n\n<pre><code>/home/user/fab/bin/python2.7 /home/user/PycharmProjects/myelm/server.py\n * Running on http://0.0.0.0:8080/ (Press CTRL+C to quit)\n127.0.0.1 - - [06/Sep/2017 23:04:25] \"POST /api/user/login HTTP/1.1\" 301 -\n</code></pre>\n"}, {"tags": ["python", "anaconda", "ubuntu-16.04", "jupyter"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1504741189, "post_id": 46085556, "comment_id": 79133597, "body": "Well, what is your PATH? What is &quot;it&quot; that is using that Python?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1504741321, "post_id": 46085556, "comment_id": 79133636, "body": "Jupyter has several commands to see the configurations. <code>kernelspec</code>, for example, or <a href=\"https://stackoverflow.com/a/38706165/2308683\">stackoverflow.com/a/38706165/2308683</a> but I don&#39;t think Jupyter comes pre-installed with Anaconda kernel"}], "answers": [{"tags": [], "owner": {"reputation": 1794, "user_id": 1115662, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/27b8f4470c70d54636f518ed2d6b2ed0?s=128&d=identicon&r=PG", "display_name": "GaryBishop", "link": "https://stackoverflow.com/users/1115662/garybishop"}, "is_accepted": false, "score": 3, "last_activity_date": 1504745892, "creation_date": 1504745892, "answer_id": 46086306, "question_id": 46085556, "link": "https://stackoverflow.com/questions/46085556/anaconda-jupyter-notebook-uses-usr-bin-python3/46086306#46086306", "title": "Anaconda Jupyter notebook uses /usr/bin/python3", "body": "<p>I found a kernel.json from 2015 buried down in .local/share/jupyter/kernels/python3/kernel.json that was pointing to /usr/bin/python3. Moving it out of the way seems to have fixed things. </p>\n\n<p>The strategy was to use jupyter --paths to find the places it looks and check each one. </p>\n"}], "owner": {"reputation": 1794, "user_id": 1115662, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/27b8f4470c70d54636f518ed2d6b2ed0?s=128&d=identicon&r=PG", "display_name": "GaryBishop", "link": "https://stackoverflow.com/users/1115662/garybishop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504745892, "creation_date": 1504739305, "last_edit_date": 1504739932, "question_id": 46085556, "link": "https://stackoverflow.com/questions/46085556/anaconda-jupyter-notebook-uses-usr-bin-python3", "title": "Anaconda Jupyter notebook uses /usr/bin/python3", "body": "<p>I have installed Anaconda3-4.4.0 on Ubuntu 16.04. I can't find any variation of virtualenv, PATH hacking, or modifications to kernel.json, that stops it from using /usr/bin/python3 when creating a new notebook. I want it to use the anaconda installed version exclusively so I can have different versions of packages in the anaconda environment. I have removed my ~/.jupyter and ~/.ipython. I have tried virtual environments and everything I can think of.</p>\n\n<p>What do I have to do to get it prevent it from using the system installed version of python3. </p>\n"}, {"tags": ["python", "python-2.7", "visual-studio", "gdata"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1504739349, "post_id": 46085515, "comment_id": 79133182, "body": "Where did pip install it, and what is the value of <code>sys.path</code> in VS?"}, {"owner": {"reputation": 592, "user_id": 1684103, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f80e5ffeb1a827ad5c83bf841a83122?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1684103/mike"}, "edited": false, "score": 0, "creation_date": 1504739506, "post_id": 46085515, "comment_id": 79133214, "body": "Running what code?  Does the top of your code have &quot;import gdata&quot;?"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1504739646, "post_id": 46085515, "comment_id": 79133245, "body": "The error message &quot;No module named gdata&quot; suggests that he is trying to import it.  If he were just trying to use it without importing, the error would be &quot;NameError: name &#39;gdata&#39; is not defined&quot; instead."}, {"owner": {"reputation": 3, "user_id": 4216561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b2774d6cd95104ada1ea0952f245f7?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4216561/matt"}, "edited": false, "score": 0, "creation_date": 1504740357, "post_id": 46085515, "comment_id": 79133404, "body": "I am using &#39;import gdata&#39;"}, {"owner": {"reputation": 1798, "user_id": 2280890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e409f9d13ce2d82edcb84b3f9cfb879?s=128&d=identicon&r=PG", "display_name": "import random", "link": "https://stackoverflow.com/users/2280890/import-random"}, "edited": false, "score": 0, "creation_date": 1504754983, "post_id": 46085515, "comment_id": 79136624, "body": "Perhaps the Python being used by Visual Studio is different. Check from within python running o=in VS using <code>import pip</code> and the <code>print(pip.get_installed_distributions())</code>."}], "owner": {"reputation": 3, "user_id": 4216561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b2774d6cd95104ada1ea0952f245f7?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4216561/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 363, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504738980, "creation_date": 1504738980, "question_id": 46085515, "link": "https://stackoverflow.com/questions/46085515/no-module-named-gdata-when-trying-to-use-gdata-in-python-2-7", "title": "&quot;No module named gdata&quot; when trying to use gdata in Python 2.7", "body": "<p>I'm trying to use gdata in Python 2.7 with Visual Studios. I installed using pip, and tried manually installing. Despite this anytime I try running the code, I get a \"No module named gdata\" from VS, even though <code>pip list</code> says it's installed</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 1412, "user_id": 3809561, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RTS59.jpg?s=128&g=1", "display_name": "yyny", "link": "https://stackoverflow.com/users/3809561/yyny"}, "edited": false, "score": 3, "creation_date": 1504738943, "post_id": 46085483, "comment_id": 79133064, "body": "Do you mean &#39;move <code>stdout</code> into a <code>.txt</code> file&#39;? You can just <code>python myfile.py &gt; out.txt</code>."}, {"owner": {"reputation": 1412, "user_id": 3809561, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RTS59.jpg?s=128&g=1", "display_name": "yyny", "link": "https://stackoverflow.com/users/3809561/yyny"}, "edited": false, "score": 0, "creation_date": 1504739583, "post_id": 46085483, "comment_id": 79133232, "body": "Otherwise, visit <a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/inputoutput.html</a> and Ctrl+F for <code>file</code>."}, {"owner": {"reputation": 11, "user_id": 8571599, "user_type": "registered", "profile_image": "https://graph.facebook.com/1820695421278588/picture?type=large", "display_name": "Diante Cross", "link": "https://stackoverflow.com/users/8571599/diante-cross"}, "reply_to_user": {"reputation": 1412, "user_id": 3809561, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RTS59.jpg?s=128&g=1", "display_name": "yyny", "link": "https://stackoverflow.com/users/3809561/yyny"}, "edited": false, "score": 0, "creation_date": 1504739908, "post_id": 46085483, "comment_id": 79133318, "body": "I&#39;ve tried that but it doesnt work"}, {"owner": {"reputation": 11, "user_id": 8571599, "user_type": "registered", "profile_image": "https://graph.facebook.com/1820695421278588/picture?type=large", "display_name": "Diante Cross", "link": "https://stackoverflow.com/users/8571599/diante-cross"}, "reply_to_user": {"reputation": 1412, "user_id": 3809561, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/RTS59.jpg?s=128&g=1", "display_name": "yyny", "link": "https://stackoverflow.com/users/3809561/yyny"}, "edited": false, "score": 0, "creation_date": 1504739964, "post_id": 46085483, "comment_id": 79133324, "body": "It just says invalid syntax"}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 1, "creation_date": 1504740433, "post_id": 46085483, "comment_id": 79133427, "body": "You are likely using Python 3 then, where print is a function with a file keyword."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 2, "creation_date": 1504740521, "post_id": 46085483, "comment_id": 79133443, "body": "Welcome to Stack Overflow! See: <a href=\"https://meta.stackoverflow.com/questions/253069/whats-the-appropriate-new-current-close-reason-for-how-do-i-do-x\">How do I do X?</a> The expectation on SO is that the user asking a question not only does research to answer their own question but also shares that research, code attempts, and results. This demonstrates that you\u2019ve taken the time to try to help yourself, it saves us from reiterating obvious answers, and most of all it helps you get a more specific and relevant answer! See also: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 2, "creation_date": 1504740572, "post_id": 46085483, "comment_id": 79133457, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5214578/python-print-string-to-text-file\">Python Print String To Text File</a>"}, {"owner": {"reputation": 11, "user_id": 8571599, "user_type": "registered", "profile_image": "https://graph.facebook.com/1820695421278588/picture?type=large", "display_name": "Diante Cross", "link": "https://stackoverflow.com/users/8571599/diante-cross"}, "edited": false, "score": 0, "creation_date": 1504801368, "post_id": 46085483, "comment_id": 79164730, "body": "I am using PyCharm to write and run the code."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1505324939, "post_id": 46085483, "comment_id": 79370796, "body": "This kind of sucks - I wish I could do something about that."}], "answers": [{"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 1, "last_activity_date": 1504786784, "creation_date": 1504786784, "answer_id": 46096182, "question_id": 46085483, "link": "https://stackoverflow.com/questions/46085483/how-do-i-stdout-all-my-outputs-into-one-txt-file/46096182#46096182", "title": "How do I stdout all my outputs into one txt file", "body": "<p><strong><code>Selenium 3.5</code></strong> with <strong><code>Python 3.6.1</code></strong> bindings provides a simpler way to redirect all the <strong><code>Console Outputs</code></strong> into a log file.</p>\n\n<p>You can create a sub-directory within your Project space by the name <code>Log</code> and start redirecting the <strong><code>Console Outputs</code></strong> into a log file as follows:</p>\n\n<pre><code># Firefox\ndriver = webdriver.Firefox(executable_path=r'C:\\your_path\\geckodriver.exe', log_path='./Log/geckodriver.log')\n\n# Chrome\ndriver = webdriver.Chrome(executable_path=r'C:\\your_path\\chromedriver.exe', service_log_path='./Log/chromedriver.log')\n\n# IE\ndriver = webdriver.Ie(executable_path=r'C:\\your_path\\IEDriverServer.exe', log_file='./Log/IEdriver.log')\n</code></pre>\n\n<blockquote>\n  <p>It is worth to mention that the verbosity of the <strong><code>webdriver</code></strong> is easily configurable.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 8571599, "user_type": "registered", "profile_image": "https://graph.facebook.com/1820695421278588/picture?type=large", "display_name": "Diante Cross", "link": "https://stackoverflow.com/users/8571599/diante-cross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504801291, "creation_date": 1504738733, "last_edit_date": 1504801291, "question_id": 46085483, "link": "https://stackoverflow.com/questions/46085483/how-do-i-stdout-all-my-outputs-into-one-txt-file", "title": "How do I stdout all my outputs into one txt file", "body": "<p>I am working on a project here a work and I have print lines being displayed for 5+ elements. I need to add all the outputs into a txt file. I was told I can use a for loop but not sure how. What are my best options.</p>\n\n<pre><code>import unittest\nfrom selenium import webdriver\nimport time\nimport sys\n\ndriver = webdriver.Chrome()\n\ndriver.get('website')\ndriver.maximize_window()\n\n# Displays Time Sheet for Current Day\nelement = driver.find_element_by_xpath('//*[@id=\"page-wrapper\"]/div[1]/h1')  \n# this element is visible\n\nprint(element.text)\n\n# Displays Start Time\nelement = driver.find_element_by_xpath('//*\n[@id=\"pageinner\"]/div/div[1]/div/div/div/div[1]/div[2]/div[1]')\nprint(\"Start time was at:\", element.text)\n\n# Displays End Time\nelement = driver.find_element_by_xpath('//*\n[@id=\"pageinner\"]/div/div[1]/div/div/div/div[4]/div[2]/div[1]')\nprint(\"Clocked out as of:\", element.text)\n\n# Displays when out to Lunch\nelement = driver.find_element_by_xpath('//*[@id=\"page-\ninner\"]/div/div[1]/div/div/div/div[2]/div[2]/div[1]/h3')\nprint(\"I left for Lunch at:\", element.text)\n\n# Displays when back from Lunch\nelement = driver.find_element_by_xpath('//*[@id=\"page-\ninner\"]/div/div[1]/div/div/div/div[3]/div[2]/div[1]/h3')\nprint(\"I arrived back from Lunch at:\", element.text)\n\n# Total Hours for The Day\nelement = driver.find_element_by_xpath('//*[@id=\"page-\ninner\"]/div/div[1]/div/div/div/div[5]/div[2]/div[1]')\nprint(\"I was at work for:\", element.text)\n\n'''\n# Save to txt\nsys.stdout = open('file.txt', 'w')\nprint(element.text)\n'''\n\n# Screenshot\n# driver.save_screenshot('screenshot.png')\n\n\ndriver.close()\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n\n<p>At the end Here I need to save all the prints into a txt file for documentation.</p>\n"}, {"tags": ["python", "sympy"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2770480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18ebad4ca099e4618d4008e0f71d7091?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Streibel", "link": "https://stackoverflow.com/users/2770480/jo%c3%a3o-streibel"}, "edited": false, "score": 0, "creation_date": 1504997502, "post_id": 46122440, "comment_id": 79233891, "body": "I was indeed asking what you answered, on the spot. Thanks a lot!"}], "tags": [], "owner": {"reputation": 10115, "user_id": 1089161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e106a28e171b4407171702b182759f?s=128&d=identicon&r=PG", "display_name": "smichr", "link": "https://stackoverflow.com/users/1089161/smichr"}, "is_accepted": false, "score": 1, "last_activity_date": 1504894722, "creation_date": 1504894722, "answer_id": 46122440, "question_id": 46085452, "link": "https://stackoverflow.com/questions/46085452/how-to-sum-with-conditions-on-sympy/46122440#46122440", "title": "How to Sum with conditions on Sympy?", "body": "<p>I am not sure if you are asking if there is a way you could have defined j so the final result would have simply been 1 or if you want to know how to use what you know (that j is nonnegative and less than or equal to N) to get the result to simplify.</p>\n\n<p>I am not sure how to do the former, but the latter can be done. If you know the condition is true you can use that in your result:</p>\n\n<pre><code>&gt;&gt;&gt; ans = expr.doit()\n</code></pre>\n\n<p>The naive approach is to try do the replacement as you see it, remembering that <code>_j</code> is just how Dumm('j') is represented:</p>\n\n<pre><code>&gt;&gt;&gt; ans.subs(And(0 &lt;= j, j &lt;= N), True)\nPiecewise((1, (0 &lt;= _j) &amp; (_j &lt;= N)), (0, True))\n</code></pre>\n\n<p>This doesn't do anything because <code>0</code> is a python integer and typing <code>0 &lt; j</code> turns it into <code>j  &gt; 0</code> and the replacement is not recognized.</p>\n\n<pre><code>&gt;&gt;&gt; 0 &lt; j\n_j &gt; 0\n</code></pre>\n\n<p>You also might try to substitute in a value for j that should make it true</p>\n\n<pre><code>&gt;&gt;&gt; ans.subs(j,0)\nPiecewise((1, 0 &lt;= N), (0, True))\n</code></pre>\n\n<p>But this fails because N could be positive or negative. If you know that N is nonnegative, you could have created it with that assumption at the start:</p>\n\n<pre><code>&gt;&gt;&gt; N = var('N', nonnegative=True)\n&gt;&gt;&gt; expr = Sum(KroneckerDelta(i, j), (i, 0, N))\n&gt;&gt;&gt; ans = expr.doit()\n&gt;&gt;&gt; ans.subs(j, 0)\n1\n</code></pre>\n\n<p>Alternatively, you could access the exact expression that you know is True through the atoms. The condition that you know is true is an And. We can get a set of all Ands that appear in the ans</p>\n\n<pre><code>&gt;&gt;&gt; ans.atoms(Ans)\nset([(0 &lt;= _j) &amp; (_j &lt;= N)])\n</code></pre>\n\n<p>There is only this one, so we simply pop it from the set and replace it with True in the ans:</p>\n\n<pre><code>&gt;&gt;&gt; ans.subs(_.pop(), True)\n1\n</code></pre>\n\n<p>(If there were more than 1 atom, you would have to convert the set to a list and use an index to select the one in which you were interested.)</p>\n"}], "owner": {"reputation": 1, "user_id": 2770480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18ebad4ca099e4618d4008e0f71d7091?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Streibel", "link": "https://stackoverflow.com/users/2770480/jo%c3%a3o-streibel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504894722, "creation_date": 1504738501, "question_id": 46085452, "link": "https://stackoverflow.com/questions/46085452/how-to-sum-with-conditions-on-sympy", "title": "How to Sum with conditions on Sympy?", "body": "<p>Sorry if this sounds dumb. I'm a beginner with Sympy and really tried to get over this. Failed. So here it goes:</p>\n\n<p>If I do, for example:</p>\n\n<pre><code>&gt;&gt;&gt; i, j = Dummy('i'), Dummy('j')\n&gt;&gt;&gt; N = symbols('N')\n&gt;&gt;&gt; expr = Sum(KroneckerDelta(i,j), (i,0,N))\n&gt;&gt;&gt; expr.doit()\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>Piecewise((1, And(0 &lt;= _j ,_j &lt;= N)), (0, otherwise))\n</code></pre>\n\n<p>It means there's two different results, given conditions.\nMy question is: if I know a priori that indeed the first condition is satisfied (0&lt;=j&lt;=N), how do I let Sympy know of it, so it only outputs the first result?</p>\n"}, {"tags": ["python", "sql-server", "sqlalchemy", "connection-string", "pyodbc"], "comments": [{"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 3, "creation_date": 1504741367, "post_id": 46085451, "comment_id": 79133642, "body": "Your connection URL is missing the ODBC driver name. You need something like <code>mssql+pyodbc:&#47;&#47;scott:tiger@myhost:port&#47;databasename?driver=S&zwnj;&#8203;QL+Server</code> (ref: <a href=\"http://docs.sqlalchemy.org/en/latest/dialects/mssql.html#module-sqlalchemy.dialects.mssql.pyodbc\" rel=\"nofollow noreferrer\">here</a>)."}, {"owner": {"reputation": 377, "user_id": 7887334, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad0e74012495e96a862bf92bd1e32bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/7887334/clay"}, "reply_to_user": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1504796322, "post_id": 46085451, "comment_id": 79161350, "body": "This is still not working.  the <code>sqlalchemy.engine.url.URL()</code> does not have a place to put <code>driver = SQL+Server&#39;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": true, "score": 14, "last_activity_date": 1504801894, "creation_date": 1504801894, "answer_id": 46101255, "question_id": 46085451, "link": "https://stackoverflow.com/questions/46085451/building-a-connection-url-for-mssqlpyodbc-with-sqlalchemy-engine-url-url/46101255#46101255", "title": "Building a connection URL for mssql+pyodbc with sqlalchemy.engine.url.URL", "body": "<p>As stated in the <a href=\"http://docs.sqlalchemy.org/en/latest/dialects/mssql.html#module-sqlalchemy.dialects.mssql.pyodbc\" rel=\"noreferrer\">SQLAlchemy documentation</a>, for <code>mssql+pyodbc</code> connections</p>\n\n<blockquote>\n  <p>Hostname-based connections are <strong>not preferred</strong>, however are supported. The ODBC driver name must be explicitly specified:</p>\n\n<pre><code>engine = create_engine(\"mssql+pyodbc://scott:tiger@myhost:port/databasename?driver=SQL+Server+Native+Client+10.0\")\n</code></pre>\n</blockquote>\n\n<p>For </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>credentials = {\n    'username': 'scott',\n    'password': 'tiger',\n    'host': 'myhost',\n    'database': 'databasename',\n    'port': '1560'}\n</code></pre>\n\n<p>your statement</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>connect_url = sqlalchemy.engine.url.URL(\n    'mssql+pyodbc',\n    username=credentials['username'],\n    password=credentials['password'],\n    host=credentials['host'],\n    port=credentials['port'],\n    query=dict(service_name=credentials['database']))\n</code></pre>\n\n<p>produces the <code>connect_url</code></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mssql+pyodbc://scott:tiger@myhost:1560?service_name=databasename\n</code></pre>\n\n<p>What you really need is</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>connect_url = sqlalchemy.engine.url.URL(\n    'mssql+pyodbc',\n    username=credentials['username'],\n    password=credentials['password'],\n    host=credentials['host'],\n    port=credentials['port'],\n    database=credentials['database'],\n    query=dict(driver='SQL+Server'))\n</code></pre>\n\n<p>which produces</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mssql+pyodbc://scott:tiger@myhost:1560/databasename?driver=SQL+Server\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 7887334, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad0e74012495e96a862bf92bd1e32bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/7887334/clay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10713, "favorite_count": 6, "accepted_answer_id": 46101255, "answer_count": 1, "score": 6, "last_activity_date": 1504802196, "creation_date": 1504738491, "last_edit_date": 1504802196, "question_id": 46085451, "link": "https://stackoverflow.com/questions/46085451/building-a-connection-url-for-mssqlpyodbc-with-sqlalchemy-engine-url-url", "title": "Building a connection URL for mssql+pyodbc with sqlalchemy.engine.url.URL", "body": "<h1>The problem...</h1>\n\n<p>I am trying to connect to a MSSql server via SQLAlchemy.  Here is my code with fake credentials (<em>not my real credentials obviously</em>).</p>\n\n<h1>The code...</h1>\n\n<pre><code>credentials = {\n'username'  : 'SPOTTER_xyz_ACC',\n'password'  : '123Goodbye2016!@#',\n'host'      : 'MARYLQLT01',\n'database'  : 'LRS_DUS',\n'port'      : '1560'}\n\nconnect_url = sqlalchemy.engine.url.URL(\n    'mssql+pyodbc',\n    username=credentials['username'],\n    password=credentials['password'],\n    host=credentials['host'],\n    port=credentials['port'],\n    query=dict(service_name=credentials['database']))\n\nengine = create_engine(connect_url)\nconnection=engine.connect()\n</code></pre>\n\n<p>And this is the .pyodbc error that I am getting.</p>\n\n<pre><code>(pyodbc.Error) ('IM002', '[IM002] [Microsoft][ODBC Driver Manager] Data source\nname not found and no default driver specified (0) (SQLDriverConnect)')\n</code></pre>\n\n<h1>Additional Details</h1>\n\n<p>But, here is what is weird... I if make a pyodbc connection and use Pandas.read_sql, then I can get data without an error.  So I do not understand why I am getting a 'pyodbc' error????</p>\n\n<pre><code>connection=pyodbc.connect(\\\n                          'Driver={SQL Server}; \\\n                          Server=MARYLQLT01; \\\n                          Database=LRS_DUS; \\\n                          UID=SPOTTER_xyz_ACC; \\\n                          PWD=123Goodbye2016!@#')\n\nstmt='select * from PD_SC_All'\ndf=pd.read_sql(stmt,connection)\n</code></pre>\n\n<p>And then I can see the dataframe.</p>\n\n<p>So, why am I getting the <code>(pyodbc.Error)</code> when I try to connect with SQLAlchemy?</p>\n\n<h2>System Information</h2>\n\n<pre><code>Windows 7\nSQLAlchemy: 1.1.11\npyodbc: 4.0.16\n\nPython 3.6.1 |Anaconda custom (64-bit)| (default, May 11 2017, 13:25:24) [MSC v.1900 64 bit (AMD64)]\nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 5.3.0 -- An enhanced Interactive Python.\n?         -&gt; Introduction and overview of IPython's features.\n%quickref -&gt; Quick reference.\nhelp      -&gt; Python's own help system.\nobject?   -&gt; Details about 'object', use 'object??' for extra details.\n</code></pre>\n"}, {"tags": ["python", "pygame", "try-catch", "except"], "answers": [{"tags": [], "owner": {"reputation": 1759, "user_id": 2467544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XP1mx.png?s=128&g=1", "display_name": "Blake O&#39;Hare", "link": "https://stackoverflow.com/users/2467544/blake-ohare"}, "is_accepted": true, "score": 3, "last_activity_date": 1504738591, "creation_date": 1504738591, "answer_id": 46085466, "question_id": 46085390, "link": "https://stackoverflow.com/questions/46085390/how-do-you-use-try-except-for-library-specific-errors/46085466#46085466", "title": "How do you use try except for library specific errors?", "body": "<p><strong>Direct answer to your question</strong>: Since the exceptions are all the same type, then your options are limited to simply checking the exception message and then re-raise the exception if it's not a match. Or since you're only wrapping that function with try/except, it's safe to assume it's a joystick error and not something else. Buuuuut.....</p>\n\n<p><strong>The real answer to your question</strong>: You can check to see how many joysticks are present using <code>pygame.joystick.get_count()</code>. If it's 0, don't call the function. </p>\n"}], "owner": {"reputation": 746, "user_id": 4872540, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ec63ca784fe729eb3e869aa29ad5dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Aeolus", "link": "https://stackoverflow.com/users/4872540/aeolus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 46085466, "answer_count": 1, "score": 2, "last_activity_date": 1504738591, "creation_date": 1504738033, "question_id": 46085390, "link": "https://stackoverflow.com/questions/46085390/how-do-you-use-try-except-for-library-specific-errors", "title": "How do you use try except for library specific errors?", "body": "<p>I am initializing a gamepad in my program, but if the gamepad isn't connected it will return the error: </p>\n\n<pre><code>pygame.error: Invalid joystick device number\n</code></pre>\n\n<p>My current code is this:</p>\n\n<pre><code>try:\n    init_controller()\nexcept pygame.error:\n    use_keyboard = True\n</code></pre>\n\n<p>How would I format the except clause to except only this pygame error and not all pygame errors?</p>\n"}, {"tags": ["python", "mocking", "psycopg2"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1504746234, "post_id": 46085380, "comment_id": 79134640, "body": "First of all: you don&#39;t use string formatting on SQL queries! It is dangerous. Please read: <a href=\"http://initd.org/psycopg/docs/usage.html#query-parameters\" rel=\"nofollow noreferrer\">initd.org/psycopg/docs/usage.html#query-parameters</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 2364563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0e2cfa5398613ba0e1019910a8fcfb?s=128&d=identicon&r=PG", "display_name": "Psykar", "link": "https://stackoverflow.com/users/2364563/psykar"}, "is_accepted": false, "score": 1, "last_activity_date": 1532217921, "creation_date": 1532217921, "answer_id": 51461003, "question_id": 46085380, "link": "https://stackoverflow.com/questions/46085380/python-mock-psycopg2-from-base-class/51461003#51461003", "title": "Python mock psycopg2 from base class", "body": "<p>Mocking the entirety of psycopg2 is easiest. I've added in stubs for your missing functions, but something like this should work:</p>\n\n<pre><code># classa.py\nclass ClassA(ClassB):\n    def __init__(self, params):\n        super().__init__(params)\n        # other params\n\n    def get_current_attr(self):\n        sql = \"SELECT max(attr) FROM {};\".format(self.table_name)\n        self.rs_cursor.execute(sql)\n        current_attr = self.rs_cursor.fetchone()[0]\n        return current_attr\n\n# classb.py\nimport psycopg2\n\nclass ClassB:\n    def __init__(self, params):\n        self.redshift_conn = self.open_redshift_connection()\n        self.redshift_conn.set_isolation_level(\n            psycopg2.extensions.ISOLATION_LEVEL_AUTOCOMMIT)\n        self.rs_cursor = self.redshift_conn.cursor()\n        self.table_name = \"atablename\"\n\n    def open_redshift_connection(self):\n        return psycopg2.connect()\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>from unittest import TestCase, mock\nfrom classa import ClassA\n\nclass Tester(TestCase):\n    @mock.patch(\"classb.psycopg2\")\n    def test_get_current_attr(self, mock_psycopg2):\n        mock_cur = mock_psycopg2.connect().cursor()\n        mock_cur.fetch_one.return_value = 1\n\n        a = ClassA({})\n        result = a.get_current_attr()\n\n        mock_cur.execute.assert_called_with(\n            \"SELECT max(attr) FROM {};\".format(a.table_name)\n        )\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4038636"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1941, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1532217921, "creation_date": 1504738000, "question_id": 46085380, "link": "https://stackoverflow.com/questions/46085380/python-mock-psycopg2-from-base-class", "title": "Python mock psycopg2 from base class", "body": "<p>Hi I am having troubles with mocking cursor object from inherited class.\nHere is some part of my code:</p>\n\n<pre><code># classa.py\nclass ClassA(ClassB):\n    def __init__(self, params):\n        ClassB.__init__(params)\n        # other params\n\n    def get_current_attr(self):\n        sql = \"SELECT max(attr) FROM {};\".format(self.table_name)\n        self.rs_cursor.execute(sql)\n        current_attr = self.rs_cursor.fetchone()[0]\n        return current_attr\n\n# classb.py\nimport psycopg2\n\nclass ClassB:\n    def __init__(self, params):\n        self.redshift_conn = self.open_redshift_connection()\n        self.redshift_conn.set_isolation_level(\n            psycopg2.extensions.ISOLATION_LEVEL_AUTOCOMMIT)\n        self.rs_cursor = self.redshift_conn.cursor()\n</code></pre>\n\n<p>Now I want to mock psycopg2 cursor in get_current_attr() function from ClassA. I tried to do it like this:</p>\n\n<pre><code>@mock.patch(\"mypackage.classa.classb.psycopg2.connect\")\ndef test_get_current_attr(self, mock_connect):\n    mock_con = mock_connect.return_value\n    mock_cur = mock_con.cursor.return_value\n    mock_cur.fetch_one.return_value = 1\n    result = self.gap_load_instance.get_current_batch_id()\n    mock_cur.execute.assert_called_with(\n        \"SELECT max(attr) FROM tablename\"\n    )\n</code></pre>\n\n<p>And I am getting:</p>\n\n<blockquote>\n  <p>raise AssertionError('Expected call: %s\\nNot called' % (expected,))</p>\n</blockquote>\n\n<p>Can anyone help me with this?</p>\n"}, {"tags": ["python", "pdf", "elasticsearch", "search", "indexing"], "answers": [{"tags": [], "owner": {"reputation": 1133, "user_id": 7790438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd56fe083be9265767941c6a049da6da?s=128&d=identicon&r=PG", "display_name": "Fady Saad", "link": "https://stackoverflow.com/users/7790438/fady-saad"}, "is_accepted": true, "score": 2, "last_activity_date": 1504768229, "last_edit_date": 1504768229, "creation_date": 1504739308, "answer_id": 46085557, "question_id": 46085368, "link": "https://stackoverflow.com/questions/46085368/searching-in-large-pdf-files-what-technology-to-use/46085557#46085557", "title": "Searching in large PDF files. What technology to use?", "body": "<p>I made an applicant tracking system which has more than 20,000 CV and the best approach for you is ElasticSearch, Because:</p>\n\n<blockquote>\n  <ol>\n  <li>very high performance </li>\n  <li>100% accuracy for searching</li>\n  <li>very easy to use with simplest APIs</li>\n  <li>easy to backup with replicas</li>\n  </ol>\n</blockquote>\n\n<p>And I recommend to use ElasticSearch amazon service <a href=\"https://aws.amazon.com/elasticsearch-service/\" rel=\"nofollow noreferrer\">ES</a>.</p>\n\n<p>And about UI framework I just use JavaScript with <a href=\"https://fineuploader.com/\" rel=\"nofollow noreferrer\">FineUploader</a> what hepled me a lot with chunking and parallel upload.</p>\n"}], "owner": {"reputation": 1151, "user_id": 1564252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/783d740f9740d9873e81e0c2fd713d31?s=128&d=identicon&r=PG", "display_name": "VSZM", "link": "https://stackoverflow.com/users/1564252/vszm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 46085557, "answer_count": 1, "score": 2, "last_activity_date": 1504768229, "creation_date": 1504737961, "last_edit_date": 1504738732, "question_id": 46085368, "link": "https://stackoverflow.com/questions/46085368/searching-in-large-pdf-files-what-technology-to-use", "title": "Searching in large PDF files. What technology to use?", "body": "<p>I have a side project where I have about 1000 text only PDF files (Average size around 500 kb) on which dataset I want to do fast free text searching. The search results should at least tell the matched text, the PDF File which contained the matched text and optionally the location in the PDF.</p>\n\n<p><em>Does this project sound like a good candidate for cloud hosted elastic search? Or would that be an overkill for this data size? Shall I just go with Apache Lucene and put that in my own web server? Or something completely different?</em></p>\n\n<p>I would also like to put a UI in front of this functionality. I am no UI developer and our team is really lacking in UI expertise. </p>\n\n<p><em>Can you suggest some NoUI framework that generates a UI in front of a Rest API endpoint? Is there such a thing?</em></p>\n\n<p>Our language preference is python in this team as the common divisor.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 592, "user_id": 1684103, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f80e5ffeb1a827ad5c83bf841a83122?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1684103/mike"}, "edited": false, "score": 0, "creation_date": 1504739791, "post_id": 46085334, "comment_id": 79133286, "body": "You haven&#39;t shown the code for schoolmenu(), so we have no idea why it doesn&#39;t return from it."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8549523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605ad3981c1607d8d87081eed7dc185f?s=128&d=identicon&r=PG&f=1", "display_name": "user8549523", "link": "https://stackoverflow.com/users/8549523/user8549523"}, "edited": false, "score": 0, "creation_date": 1504739858, "post_id": 46085423, "comment_id": 79133300, "body": "Thank you so much James, that was exactly the problem"}, {"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "reply_to_user": {"reputation": 9, "user_id": 8549523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605ad3981c1607d8d87081eed7dc185f?s=128&d=identicon&r=PG&f=1", "display_name": "user8549523", "link": "https://stackoverflow.com/users/8549523/user8549523"}, "edited": false, "score": 0, "creation_date": 1504786381, "post_id": 46085423, "comment_id": 79153732, "body": "Please remember to mark the question as answered (the check mark) if you feel the solution is complete."}], "tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 1, "last_activity_date": 1504738288, "creation_date": 1504738288, "answer_id": 46085423, "question_id": 46085334, "link": "https://stackoverflow.com/questions/46085334/python-how-to-print-all-rows-of-my-csv-file-then-recall-my-function/46085423#46085423", "title": "Python-how to print all rows of my csv file then recall my function?", "body": "<p>You are calling the function inside of the <code>for</code> loop.  When it hits the for loop it prints the first line then calls the function again.  Try:</p>\n\n<pre><code>elif option == \"3\":\n    with open('classinfo.csv' , 'r') as classinfoFile:\n         classinfoFileReader = csv.reader(classinfoFile)\n         for row in classinfoFileReader:\n            print(row)\n    schoolmenu()\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8549523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605ad3981c1607d8d87081eed7dc185f?s=128&d=identicon&r=PG&f=1", "display_name": "user8549523", "link": "https://stackoverflow.com/users/8549523/user8549523"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504738309, "creation_date": 1504737770, "last_edit_date": 1504738307, "question_id": 46085334, "link": "https://stackoverflow.com/questions/46085334/python-how-to-print-all-rows-of-my-csv-file-then-recall-my-function", "title": "Python-how to print all rows of my csv file then recall my function?", "body": "<pre><code>elif option == \"3\":\n    with open('classinfo.csv' , 'r') as classinfoFile:\n         classinfoFileReader = csv.reader(classinfoFile)\n         for row in classinfoFileReader:\n            print(row)\n            schoolmenu()\n</code></pre>\n\n<p>This code works perfectly, but when I recall my function under 'print(row)' it the only print the first row of the csv file (bearing in mind that there is 25 lines of code to print). When I take out the function (schoolmenu()) it works how I want it to but as soon as I put it in only the forst row prints. How can I recall the function aswell as having all 25 rows of the file printed??</p>\n"}, {"tags": ["python", "python-3.x", "list", "tuples"], "comments": [{"owner": {"reputation": 1371, "user_id": 7879421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd2f0b0947e1baee9aa1f3700c736084?s=128&d=identicon&r=PG&f=1", "display_name": "voidpro", "link": "https://stackoverflow.com/users/7879421/voidpro"}, "edited": false, "score": 0, "creation_date": 1504765792, "post_id": 46085328, "comment_id": 79140176, "body": "<code>tuple(list_of_numbers)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 1852409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f460273fe6d2eb2ca264ca90abf15e15?s=128&d=identicon&r=PG", "display_name": "BohanZhang", "link": "https://stackoverflow.com/users/1852409/bohanzhang"}, "is_accepted": true, "score": 4, "last_activity_date": 1504765749, "creation_date": 1504765749, "answer_id": 46089308, "question_id": 46085328, "link": "https://stackoverflow.com/questions/46085328/printing-lists-with-brackets-in-python-3-6/46089308#46089308", "title": "Printing lists with brackets in Python 3.6", "body": "<pre><code>print(tuple(list_of_numbers))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>print('(%s)' % ', '.join([str(i) for i in list_of_numbers]))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1504766079, "post_id": 46089314, "comment_id": 79140325, "body": "You can only join a list of strings"}], "tags": [], "owner": {"reputation": 841, "user_id": 7001235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1f93b69eef63bb82d16ab2d38568d50?s=128&d=identicon&r=PG&f=1", "display_name": "J. Meijers", "link": "https://stackoverflow.com/users/7001235/j-meijers"}, "is_accepted": false, "score": 1, "last_activity_date": 1504766332, "last_edit_date": 1504766332, "creation_date": 1504765768, "answer_id": 46089314, "question_id": 46085328, "link": "https://stackoverflow.com/questions/46085328/printing-lists-with-brackets-in-python-3-6/46089314#46089314", "title": "Printing lists with brackets in Python 3.6", "body": "<pre><code>list_of_number_strings = [str(number) for number in list_of_numbers]\nlist_string = \"({})\".format(\", \".join(list_of_number_strings))\nprint(list_string)\n</code></pre>\n\n<p>Should do the trick</p>\n\n<p>The list_of_number_strings uses a simple list comprehension create a list of strings by casting every element in list_of_numbers to a string. \nThen we use simple string formatting and a join to create the string we want to print. </p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 7203259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHRXT.jpg?s=128&g=1", "display_name": "yixing yan", "link": "https://stackoverflow.com/users/7203259/yixing-yan"}, "is_accepted": false, "score": 0, "last_activity_date": 1504765956, "creation_date": 1504765956, "answer_id": 46089368, "question_id": 46085328, "link": "https://stackoverflow.com/questions/46085328/printing-lists-with-brackets-in-python-3-6/46089368#46089368", "title": "Printing lists with brackets in Python 3.6", "body": "<p>tuple will print the round brackets</p>\n\n<pre><code>print(tuple(list_of_numbers))\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8571532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/901e188a7bbd7b2146735913b99ae34d?s=128&d=identicon&r=PG", "display_name": "Alex Apostolu", "link": "https://stackoverflow.com/users/8571532/alex-apostolu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2191, "favorite_count": 1, "accepted_answer_id": 46089308, "answer_count": 3, "score": 1, "last_activity_date": 1504766332, "creation_date": 1504737687, "last_edit_date": 1504765544, "question_id": 46085328, "link": "https://stackoverflow.com/questions/46085328/printing-lists-with-brackets-in-python-3-6", "title": "Printing lists with brackets in Python 3.6", "body": "<p>This question is different from others because I am trying to print lists that have round brackets, not the square ones.</p>\n\n<p>For example; I have this list:</p>\n\n<pre><code>list_of_numbers = [1, 2, 3, 4, 5]\n</code></pre>\n\n<p>When you print out the list, you get this:</p>\n\n<pre><code>[1, 2, 3, 4, 5]\n</code></pre>\n\n<p>I want the printed version to look something like this:</p>\n\n<pre><code>(1, 2, 3, 4, 5)\n</code></pre>\n"}, {"tags": ["python", "r", "string", "format"], "comments": [{"owner": {"reputation": 11979, "user_id": 7958356, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/3288cc17f4bc6be292d857acf9313899?s=128&d=identicon&r=PG&f=1", "display_name": "CPak", "link": "https://stackoverflow.com/users/7958356/cpak"}, "edited": false, "score": 1, "creation_date": 1504737504, "post_id": 46085274, "comment_id": 79132674, "body": "Maybe something like <code>paste(url_start, paste(year,mnth,day,sep=&quot;&#47;&quot;), url_end)</code>"}, {"owner": {"reputation": 208034, "user_id": 516548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8d6b7cb1d943bc7a2f00c390be3fe97?s=128&d=identicon&r=PG", "display_name": "G. Grothendieck", "link": "https://stackoverflow.com/users/516548/g-grothendieck"}, "edited": false, "score": 0, "creation_date": 1504741531, "post_id": 46085274, "comment_id": 79133679, "body": "See <a href=\"https://stackoverflow.com/questions/17475803/sprintf-format-strings-reference-by-name/17476306#17476306\" title=\"sprintf format strings reference by name\">stackoverflow.com/questions/17475803/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 63221, "user_id": 1191259, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FShQs.png?s=128&g=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/1191259/frank"}, "edited": false, "score": 3, "creation_date": 1504742817, "post_id": 46085326, "comment_id": 79133934, "body": "Maybe also worth showing an example illustrating vectorization like <code>&quot;https:...&#47;KBOS&#47;%s&#47;%s&#47;%s&#47;DailyHistory.html&quot; %--% list(1999:2000, mnth, day)</code> or the sprintf equivalent. (I guess in python they would loop this sort of thing instead.)"}, {"owner": {"reputation": 595, "user_id": 8564860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73362f30e48751785a051a1804cb7ce7?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/8564860/john-f"}, "edited": false, "score": 0, "creation_date": 1596644235, "post_id": 46085326, "comment_id": 111879571, "body": "Gets tricky when you&#39;ve got other percentage characters in your text...for example an SQL query with wildcard operators."}], "tags": [], "owner": {"reputation": 33859, "user_id": 4130044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMKvK.jpg?s=128&g=1", "display_name": "LyzandeR", "link": "https://stackoverflow.com/users/4130044/lyzander"}, "is_accepted": true, "score": 54, "last_activity_date": 1504738722, "last_edit_date": 1504738722, "creation_date": 1504737679, "answer_id": 46085326, "question_id": 46085274, "link": "https://stackoverflow.com/questions/46085274/is-there-a-string-formatting-operator-in-r-similar-to-pythons/46085326#46085326", "title": "Is there a string formatting operator in R similar to Python&#39;s %?", "body": "<p>The equivalent in R is <code>sprintf</code>:</p>\n\n<pre><code>year = \"2008\"\nmnth = \"1\"\nday = \"31\"\nurl = sprintf(\"https:.../KBOS/%s/%s/%s/DailyHistory.html\", year, mnth, day)\n#[1] \"https:.../KBOS/2008/1/31/DailyHistory.html\"\n</code></pre>\n\n<p>Also, although I think it is an overkill, you could define an operator yourself too.</p>\n\n<pre><code>`%--%` &lt;- function(x, y) {\n\n  do.call(sprintf, c(list(x), y))\n\n}\n\n\"https:.../KBOS/%s/%s/%s/DailyHistory.html\" %--% c(year, mnth, day)\n#[1] \"https:.../KBOS/2008/1/31/DailyHistory.html\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2509, "user_id": 7051239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUILa.jpg?s=128&g=1", "display_name": "austensen", "link": "https://stackoverflow.com/users/7051239/austensen"}, "is_accepted": false, "score": 34, "last_activity_date": 1522241791, "last_edit_date": 1522241791, "creation_date": 1504738412, "answer_id": 46085437, "question_id": 46085274, "link": "https://stackoverflow.com/questions/46085274/is-there-a-string-formatting-operator-in-r-similar-to-pythons/46085437#46085437", "title": "Is there a string formatting operator in R similar to Python&#39;s %?", "body": "<p>As an alternative to <code>sprintf</code>, you might want to check out <a href=\"https://tidyverse.github.io/glue/\" rel=\"noreferrer\"><code>glue</code></a>.</p>\n\n<p><strong>Update:</strong> In <a href=\"http://stringr.tidyverse.org\" rel=\"noreferrer\">stringr</a> 1.2.0 they've added a wrapper function of <code>glue::glue()</code>, <a href=\"http://stringr.tidyverse.org/reference/str_glue.html\" rel=\"noreferrer\"><code>str_glue()</code></a></p>\n\n<p>\n<br/></p>\n\n<pre class=\"lang-r prettyprint-override\"><code>library(glue)\n\nyear = \"2008\"\nmnth = \"1\"\nday = \"31\"\nurl = glue(\"https:.../KBOS/{year}/{mnth}/{day}/DailyHistory.html\")\n\nurl\n\n#&gt; https:.../KBOS/2008/1/31/DailyHistory.html\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30882, "user_id": 3576984, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/HRCYl.png?s=128&g=1", "display_name": "MichaelChirico", "link": "https://stackoverflow.com/users/3576984/michaelchirico"}, "edited": false, "score": 0, "creation_date": 1522228260, "post_id": 46088328, "comment_id": 86066691, "body": "this is the closest to the flexible <code>format</code> in python. looks quite nice."}], "tags": [], "owner": {"reputation": 34299, "user_id": 3817004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bHP3g.png?s=128&g=1", "display_name": "Uwe", "link": "https://stackoverflow.com/users/3817004/uwe"}, "is_accepted": false, "score": 8, "last_activity_date": 1504761375, "creation_date": 1504761375, "answer_id": 46088328, "question_id": 46085274, "link": "https://stackoverflow.com/questions/46085274/is-there-a-string-formatting-operator-in-r-similar-to-pythons/46088328#46088328", "title": "Is there a string formatting operator in R similar to Python&#39;s %?", "body": "<p>The <code>stringr</code> package has the <code>str_interp()</code> function:</p>\n\n<pre><code>year = \"2008\"\nmnth = \"1\"\nday = \"31\"\nstringr::str_interp(\"https:.../KBOS/${year}/${mnth}/${day}/DailyHistory.html\")\n</code></pre>\n\n<blockquote>\n<pre><code>[1] \"https:.../KBOS/2008/1/31/DailyHistory.html\"\n</code></pre>\n</blockquote>\n\n<p>or using a list (note that now numeric values are passed):</p>\n\n<pre><code>stringr::str_interp(\"https:.../KBOS/${year}/${mnth}/${day}/DailyHistory.html\", \n                            list(year = 2008, mnth = 1, day = 31))\n</code></pre>\n\n<blockquote>\n<pre><code>[1] \"https:.../KBOS/2008/1/31/DailyHistory.html\"\n</code></pre>\n</blockquote>\n\n<p>BTW, formatting directives can also be passed, e.g., if the month fields needs to be two characters wide:</p>\n\n<pre><code>stringr::str_interp(\"https:.../KBOS/${year}/$[02i]{mnth}/${day}/DailyHistory.html\", \n                    list(year = 2008, mnth = 1, day = 31))\n</code></pre>\n\n<blockquote>\n<pre><code>[1] \"https:.../KBOS/2008/01/31/DailyHistory.html\"\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1533, "user_id": 7332065, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/2ae4265336276a4d47e0962e47d3d37f?s=128&d=identicon&r=PG&f=1", "display_name": "Conner M.", "link": "https://stackoverflow.com/users/7332065/conner-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27016, "favorite_count": 9, "accepted_answer_id": 46085326, "answer_count": 3, "score": 38, "last_activity_date": 1548201554, "creation_date": 1504737350, "question_id": 46085274, "link": "https://stackoverflow.com/questions/46085274/is-there-a-string-formatting-operator-in-r-similar-to-pythons", "title": "Is there a string formatting operator in R similar to Python&#39;s %?", "body": "<p>I have a url that I need to send a request to using date variables. The https address takes the date variables. I'd like to assign the dates to the address string using something like the formatting operator % in Python. Does R have a similar operator or do I need to rely on paste()?</p>\n\n<pre><code># Example variables\nyear = \"2008\"\nmnth = \"1\"\nday = \"31\"\n</code></pre>\n\n<p>This is what I would do in Python 2.7:</p>\n\n<pre><code>url = \"https:.../KBOS/%s/%s/%s/DailyHistory.html\" % (year, mnth, day)\n</code></pre>\n\n<p>Or using .format() in 3.+.</p>\n\n<p>The only I'd know to do in R seems verbose and relies on paste:</p>\n\n<pre><code>url_start = \"https:.../KBOS/\"\nurl_end = \"/DailyHistory.html\"\npaste(url_start, year, \"/\", mnth, \"/\", day, url_end) \n</code></pre>\n\n<p>Is there a better way of doing this?</p>\n"}, {"tags": ["python", "selenium", "selenium-chromedriver", "headless", "google-chrome-headless"], "comments": [{"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 2, "creation_date": 1504740652, "post_id": 46085270, "comment_id": 79133476, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29858752/error-message-chromedriver-executable-needs-to-be-available-in-the-path\">Error message: &quot;&#39;chromedriver&#39; executable needs to be available in the path&quot;</a>"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1504740727, "post_id": 46085270, "comment_id": 79133500, "body": "Before posting a question you should spend some time reading the error messages and trying to understand what the errors are. Then you should spend some time googling the errors so you can better understand what the errors mean and how people have solved them. This is a common error and there&#39;s already a solution if you&#39;d spent the time to look for it."}, {"owner": {"reputation": 129, "user_id": 8267290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1484712851619611/picture?type=large", "display_name": "Muhammad Ishaq", "link": "https://stackoverflow.com/users/8267290/muhammad-ishaq"}, "reply_to_user": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 1, "creation_date": 1504769728, "post_id": 46085270, "comment_id": 79142611, "body": "@JeffC actually i was confused in os.path and binary.location . i search alot about it and didnt find a solution thats why i posted this question."}], "answers": [{"comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 129, "user_id": 8267290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1484712851619611/picture?type=large", "display_name": "Muhammad Ishaq", "link": "https://stackoverflow.com/users/8267290/muhammad-ishaq"}, "edited": false, "score": 0, "creation_date": 1504770142, "post_id": 46089751, "comment_id": 79142863, "body": "Alternatively, you can also try <a href=\"https://www.youtube.com/watch?v=PPS89xCgNhk&amp;t=528s\" rel=\"nofollow noreferrer\"><b><code>Mozilla Firefox in Headless Mode</code></b></a>"}, {"owner": {"reputation": 129, "user_id": 8267290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1484712851619611/picture?type=large", "display_name": "Muhammad Ishaq", "link": "https://stackoverflow.com/users/8267290/muhammad-ishaq"}, "edited": false, "score": 0, "creation_date": 1504815233, "post_id": 46089751, "comment_id": 79171625, "body": "my script is working great in local, but i want to run my script remotely , i dont want to run my machine all day"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 8, "last_activity_date": 1509593194, "last_edit_date": 1509593194, "creation_date": 1504767255, "answer_id": 46089751, "question_id": 46085270, "link": "https://stackoverflow.com/questions/46085270/selenium-common-exceptions-webdriverexception-message-chromedriver-executabl/46089751#46089751", "title": "selenium.common.exceptions.WebDriverException: Message: &#39;chromedriver&#39; executable needs to be in PATH error with Headless Chrome", "body": "<p>If we analyze the logs it seems the main issue is with in <strong><code>start os.path.basename(self.path)</code></strong> and subsequent error message <strong><code>selenium.common.exceptions.WebDriverException: Message: 'chromedriver' executable needs to be in PATH</code></strong>.</p>\n\n<p>So it's clear from the error that the Python client was unable to locate the <strong><code>chromedriver</code></strong> binary.</p>\n\n<p>You have to take care of a couple of points here:</p>\n\n<ol>\n<li><strong><code>chrome_options.binary_location</code></strong> : The parameter configures the <strong><code>chrome.exe</code></strong> not the <strong><code>chromedriver.exe</code></strong></li>\n<li><code>os.path.abspath(\"chromedriver\")</code> will pick up the file path of <strong><code>chromedriver</code></strong> but won't append <strong><code>chromedriver.exe</code></strong> at the end.</li>\n<li><p>Here is the sample code on my <code>Windows 8</code> system to start <strong><code>Chrome</code></strong> in <strong><code>Headless Mode</code></strong>:</p>\n\n<pre><code>from selenium import webdriver  \nfrom selenium.webdriver.chrome.options import Options \n\nchrome_options = Options()  \nchrome_options.add_argument(\"--headless\")  \ndriver = webdriver.Chrome(chrome_options=chrome_options, executable_path=r'C:\\Utility\\BrowserDrivers\\chromedriver.exe')  \ndriver.get(\"http://www.duo.com\") \nprint(\"Chrome Browser Initialized in Headless Mode\")\ndriver.quit()\nprint(\"Driver Exited\")\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 652, "user_id": 13353532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8eb40534cf4e89c97b0a17327e5c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Wolf", "link": "https://stackoverflow.com/users/13353532/wolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1600957434, "last_edit_date": 1600957434, "creation_date": 1600957076, "answer_id": 64048446, "question_id": 46085270, "link": "https://stackoverflow.com/questions/46085270/selenium-common-exceptions-webdriverexception-message-chromedriver-executabl/64048446#64048446", "title": "selenium.common.exceptions.WebDriverException: Message: &#39;chromedriver&#39; executable needs to be in PATH error with Headless Chrome", "body": "<p>I had the same error in Linux. The fix is pretty simple. Just run this command and the error will go away.</p>\n<pre><code>sudo apt install chromium-chromedriver\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 8267290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1484712851619611/picture?type=large", "display_name": "Muhammad Ishaq", "link": "https://stackoverflow.com/users/8267290/muhammad-ishaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11111, "favorite_count": 2, "accepted_answer_id": 46089751, "answer_count": 2, "score": 6, "last_activity_date": 1600957434, "creation_date": 1504737336, "last_edit_date": 1524060031, "question_id": 46085270, "link": "https://stackoverflow.com/questions/46085270/selenium-common-exceptions-webdriverexception-message-chromedriver-executabl", "title": "selenium.common.exceptions.WebDriverException: Message: &#39;chromedriver&#39; executable needs to be in PATH error with Headless Chrome", "body": "<p>when i run my script , i got this error </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\ishaq\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\selenium\\webdriver\\common\\service.py\", line 74, in start\n    stdout=self.log_file, stderr=self.log_file)\n  File \"C:\\Users\\ishaq\\AppData\\Local\\Programs\\Python\\Python36\\lib\\subprocess.py\", line 707, in __init__\n    restore_signals, start_new_session)\n  File \"C:\\Users\\ishaq\\AppData\\Local\\Programs\\Python\\Python36\\lib\\subprocess.py\", line 992, in _execute_child\n    startupinfo)\nFileNotFoundError: [WinError 2] The system cannot find the file specified\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:/Users/ishaq/AppData/Local/Programs/Python/Python36/headless.py\", line 9, in &lt;module&gt;\n    driver = webdriver.Chrome(executable_path=os.path.abspath(\"chromedriver\"),   chrome_options=chrome_options)\n  File \"C:\\Users\\ishaq\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\selenium\\webdriver\\chrome\\webdriver.py\", line 62, in __init__\n    self.service.start()\n  File \"C:\\Users\\ishaq\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\selenium\\webdriver\\common\\service.py\", line 81, in start\n    os.path.basename(self.path), self.start_error_message)\nselenium.common.exceptions.WebDriverException: Message: 'chromedriver' executable needs to be in PATH. Please see https://sites.google.com/a/chromium.org/chromedriver/home\n</code></pre>\n\n<p>here is my script </p>\n\n<pre><code>import os  \nfrom selenium import webdriver  \nfrom selenium.webdriver.common.keys import Keys  \nfrom selenium.webdriver.chrome.options import Options \n\nchrome_options = Options()  \nchrome_options.add_argument(\"--headless\")  \nchrome_options.binary_location = \nr'C:\\Users\\ishaq\\Desktop\\chrome\\chromedriver.exe'    \ndriver = webdriver.Chrome(executable_path=os.path.abspath(\"chromedriver\"),   \nchrome_options=chrome_options)  \ndriver.get(\"http://www.duo.com\") \n\nmagnifying_glass = driver.find_element_by_id(\"js-open-icon\")  \nif magnifying_glass.is_displayed():  \n  magnifying_glass.click()  \nelse:  \n  menu_button = driver.find_element_by_css_selector(\".menu-trigger.local\")  \n  menu_button.click() \n\nsearch_field = driver.find_element_by_id(\"site-search\")  \nsearch_field.clear()  \nsearch_field.send_keys(\"Olabode\")  \nsearch_field.send_keys(Keys.RETURN)  \nassert \"Looking Back at Android Security in 2016\" in driver.page_source\ndriver.close()\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 297, "user_id": 4971610, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a03c6ba71a165cb2be5f5eee3b9b1f02?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4971610/matt"}, "is_accepted": false, "score": 2, "last_activity_date": 1504814484, "creation_date": 1504814484, "answer_id": 46104206, "question_id": 46085238, "link": "https://stackoverflow.com/questions/46085238/python-2-7-error-importing-slate/46104206#46104206", "title": "Python 2.7: Error importing slate", "body": "<p>So, this is kind of awkward (answering my own question), but I found a solution just in case anyone else is running into the same problem. </p>\n\n<p>Step 1: Uninstall pdfminer</p>\n\n<p><code>pip uninstall pdfminer</code></p>\n\n<p>Step 2: Install a specific version of pdfminer: 20110515 (this <em>seems</em> to be the last version that worked with slate)</p>\n\n<p><code>pip install pdfminer==20110515</code></p>\n"}], "owner": {"reputation": 297, "user_id": 4971610, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a03c6ba71a165cb2be5f5eee3b9b1f02?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4971610/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504814484, "creation_date": 1504737144, "last_edit_date": 1504770692, "question_id": 46085238, "link": "https://stackoverflow.com/questions/46085238/python-2-7-error-importing-slate", "title": "Python 2.7: Error importing slate", "body": "<p>I am having a problem using slate for Python. When I try to import the slate library, I receive this error:</p>\n\n<p><code>\u00ccmportError: cannot import name PDFDocument</code></p>\n\n<p>I installed slate using pip (Ubuntu 17 terminal), the exact command I used was: </p>\n\n<p><code>pip install slate</code></p>\n\n<p>Here are some things that I have tried to resolve the issue:</p>\n\n<ol>\n<li>Installed PDFMiner, which slate depends on.</li>\n<li><p>Imported all of pdfminer before attempting to import slate</p></li>\n<li><p>I tried this command in the terminal:\n<code>pip install --upgrade --\nignoreinstalled slate==0.3 pdfminer==20110515</code> but received an error that version 0.3 for slate was invalid. </p></li>\n</ol>\n\n<p>I am just trying to test this simple script:</p>\n\n<pre><code>import slate\n\npdf = 'test.pdf'\n\nwith open(pdf) as f:\n    doc = slate.PDF(f)\n\nfor page in doc[:2]:\n    print page\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "string"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1504739086, "post_id": 46085215, "comment_id": 79133110, "body": "Do you mean you have different <code>bytes</code> objects, each encoded differently? I  don&#39;t understand what you want to do <code>bytes --ascii--&gt; str --???--&gt; bytes</code>?"}, {"owner": {"reputation": 654, "user_id": 3749379, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/721ac4a4083feedc514f442b6c8cd9ea?s=128&d=identicon&r=PG&f=1", "display_name": "Thagor", "link": "https://stackoverflow.com/users/3749379/thagor"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1504771657, "post_id": 46085215, "comment_id": 79143832, "body": "yes I have a group of <code>bytes</code> objects all have different encodings. I need to put all of them into a container that does not accept <code>bytes</code> objects only <code>string</code> objects. Then I get them out of the container and I can decode them properly with the correct encoding."}], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 3, "last_activity_date": 1504737177, "creation_date": 1504737177, "answer_id": 46085248, "question_id": 46085215, "link": "https://stackoverflow.com/questions/46085215/convert-bytes-to-ascii-and-back-save-in-python/46085248#46085248", "title": "Convert bytes to ascii and back save in Python?", "body": "<pre><code>x = x.decode().encode('ascii',errors='ignore')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1798, "user_id": 2280890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e409f9d13ce2d82edcb84b3f9cfb879?s=128&d=identicon&r=PG", "display_name": "import random", "link": "https://stackoverflow.com/users/2280890/import-random"}, "edited": false, "score": 1, "creation_date": 1504739217, "post_id": 46085264, "comment_id": 79133145, "body": "if you don&#39;t know the encoding, you can try using <a href=\"https://pypi.python.org/pypi/chardet\" rel=\"nofollow noreferrer\">chardet</a> to guess."}], "tags": [], "owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "is_accepted": false, "score": 0, "last_activity_date": 1504737275, "creation_date": 1504737275, "answer_id": 46085264, "question_id": 46085215, "link": "https://stackoverflow.com/questions/46085215/convert-bytes-to-ascii-and-back-save-in-python/46085264#46085264", "title": "Convert bytes to ascii and back save in Python?", "body": "<p>You use the <code>encode</code> and <code>decode</code> methods for this, and supply the desired encoding to them. It's not clear to me if you know the encoding beforehand. If you don't know it you're in trouble. You may have to guess the encoding in some way, risking garbage output.</p>\n"}, {"comments": [{"owner": {"reputation": 435, "user_id": 701403, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/46a1096d9a7fa0568909d1dde3b47ef9?s=128&d=identicon&r=PG", "display_name": "thejinx0r", "link": "https://stackoverflow.com/users/701403/thejinx0r"}, "edited": false, "score": 0, "creation_date": 1571266015, "post_id": 46091227, "comment_id": 103187423, "body": "While using <code>eval</code>  does work, it felts a little unsafe for what I wanted to do. I found an answer that avoids the eval: <a href=\"https://stackoverflow.com/a/51775154/701403\">stackoverflow.com/a/51775154/701403</a>"}], "tags": [], "owner": {"reputation": 654, "user_id": 3749379, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/721ac4a4083feedc514f442b6c8cd9ea?s=128&d=identicon&r=PG&f=1", "display_name": "Thagor", "link": "https://stackoverflow.com/users/3749379/thagor"}, "is_accepted": true, "score": 0, "last_activity_date": 1504771851, "creation_date": 1504771851, "answer_id": 46091227, "question_id": 46085215, "link": "https://stackoverflow.com/questions/46085215/convert-bytes-to-ascii-and-back-save-in-python/46091227#46091227", "title": "Convert bytes to ascii and back save in Python?", "body": "<p>OK I found a solution which is much easier than I thought</p>\n\n<pre><code>mybytes = '\u00eb\u00fd\u0111\u00fe\u00e9'.encode()\nstr_mybytes = str(mybytes)\nagain_mybytes = eval(str_mybytes)\ndecoded = again_mybytes.decode('utf8')\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 3749379, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/721ac4a4083feedc514f442b6c8cd9ea?s=128&d=identicon&r=PG&f=1", "display_name": "Thagor", "link": "https://stackoverflow.com/users/3749379/thagor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9661, "favorite_count": 0, "accepted_answer_id": 46091227, "answer_count": 3, "score": 1, "last_activity_date": 1608593651, "creation_date": 1504737009, "last_edit_date": 1608593651, "question_id": 46085215, "link": "https://stackoverflow.com/questions/46085215/convert-bytes-to-ascii-and-back-save-in-python", "title": "Convert bytes to ascii and back save in Python?", "body": "<p>I'm Using python 3.5</p>\n\n<p>I have a couple of byte strings representing text that is encoded in various codecs so: <code>b'mybytesstring'</code> , now some are <code>Utf8</code> encoded other are <code>latin1</code> and so on. What I want to in the following order is:</p>\n\n<ul>\n<li>transform the bytes string into an ascii like string.</li>\n<li>transform the ascii like string back to a bytes string.</li>\n<li>decode the bytes string with correct codec.</li>\n</ul>\n\n<p>The problem is that I have to move the bytes string into something that does not accept bytes objects so I'm looking for a solution that lets me do <code>bytes -&gt; ascii -&gt; bytes</code> safely.</p>\n"}, {"tags": ["python", "datetime", "dictionary"], "comments": [{"owner": {"reputation": 4130, "user_id": 205292, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uwYjh.jpg?s=128&g=1", "display_name": "MikeTheReader", "link": "https://stackoverflow.com/users/205292/mikethereader"}, "edited": false, "score": 0, "creation_date": 1504736846, "post_id": 46085167, "comment_id": 79132484, "body": "Have you tried using <code>OrderedDict</code> when you define <code>d</code>? <a href=\"https://docs.python.org/2/library/collections.html#collections.OrderedDict\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}, {"owner": {"reputation": 4130, "user_id": 205292, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uwYjh.jpg?s=128&g=1", "display_name": "MikeTheReader", "link": "https://stackoverflow.com/users/205292/mikethereader"}, "edited": false, "score": 0, "creation_date": 1504737069, "post_id": 46085167, "comment_id": 79132537, "body": "Or use python 3.6, which orders dicts by default."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1504785636, "post_id": 46085167, "comment_id": 79153263, "body": "Without Example Data of <code>entries</code> I&#39;m not able to do a Testrun, also show the Output you get <b>and</b> the Output you want. <a href=\"https://stackoverflow.com/posts/46085167/edit\">Edit</a> your Question accordingly."}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "reply_to_user": {"reputation": 4130, "user_id": 205292, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uwYjh.jpg?s=128&g=1", "display_name": "MikeTheReader", "link": "https://stackoverflow.com/users/205292/mikethereader"}, "edited": false, "score": 0, "creation_date": 1504785933, "post_id": 46085167, "comment_id": 79153456, "body": "@MikeTheReader Oh hey, that&#39;s interesting. Thanks!"}], "owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504785475, "creation_date": 1504736663, "last_edit_date": 1504785475, "question_id": 46085167, "link": "https://stackoverflow.com/questions/46085167/inserting-null-values-into-dictionary-when-order-matters", "title": "Inserting &#39;null&#39; values into dictionary when order matters", "body": "<p>I have a <code>list</code> called <code>entries</code> which is composed of multiple strings.  </p>\n\n<blockquote>\n  <p>Each entry in <code>entries</code> has data and also <strong>either</strong><br>\n  <code>closeloop</code> <strong>or</strong> <code>txup cycle</code>, <code>txdown cycle</code>, <code>rxup cycle</code> and <code>rxdown cycle</code><br>\n  followed by times, and the date comes from somewhere else in the entry<br>\n  (taken care of by the 'utdate' in my <code>dtdict</code>).  </p>\n</blockquote>\n\n<p>The order of each entry in <code>entries</code> matters, and I need to update my dictionary <code>d</code> with the dates/times after they've been converted to UTC, but for every 'closeloop' entry I need that corresponding value in the dictionary to be 'NULL'. Here's what I have:</p>\n\n<pre><code>import re\nfrom datetime import datetime\nimport pytz\n\nrawdates = []\nconverted_dt = []\nconverted_txup = []\nlocal = pytz.timezone(\"Etc/GMT+4\")\nd = {}\ndtdict = {'txup': '#regexpattern',\n         'txdown': '#regexpattern',\n         'rxup': '#regexpattern',\n         'rxdown': '#regexpattern',\n         'utdate': '#regexpattern'}\n\ncycle_entries = [e for e in entries if 'cycle' in e]\nclloop_entries = [e for e in entries if 'closeloop' in e]\n\ntxupmatches = re.findall(dtdict['txup'], str(entries))\ntxdownmatches = re.findall(dtdict['txdown'], str(entries))\nrxupmatches = re.findall(dtdict['rxup'], str(entries))\nrxdownmatches = re.findall(dtdict['rxdown'], str(entries))\n\nfor entry in cycle_entries:\n    dates = datetime.strptime(re.search(dtdict['utdate'], entry).group(0), '%c')\n    localdatestr = str(dates.strftime('%Y-%m-%d'))\n    rawdates.append(localdatestr)\nfor i in range(len(cycle_entries)):\n    local_time = datetime.strptime(rawdates[i]+' '+txupmatches[i], '%Y-%m-%d %X')\n    localized_time = local.localize(local_time)\n    utc_time_str = str(localized_time.astimezone(pytz.utc).strftime('%Y-%m-%d %X')\n    converted_txup.append(utc_time_str)\nfor entry in entries:\n    d.update({'txup': converted_txup if re.search(dtdict['txup'], entry) else 'NULL'})\n</code></pre>\n\n<p>But this doesn't do what I want -- when I print <code>d['txup']</code> I need a list of values which includes a converted datetime string for every 'cycle' entry and the value 'NULL' for every 'closeloop' entry in the same order as each entry appears in <code>entries</code>. Anyone know how to take care of this problem?</p>\n\n<p>I'm also going to have to add additional lines of code to do the same thing for 'txdown', 'rxup', and 'rxdown', so if there's a more efficient way of doing the same thing also please let me know.</p>\n"}, {"tags": ["python", "html", "python-requests", "google-image-search"], "answers": [{"tags": [], "owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "is_accepted": true, "score": 2, "last_activity_date": 1504737525, "creation_date": 1504737525, "answer_id": 46085302, "question_id": 46085165, "link": "https://stackoverflow.com/questions/46085165/not-quite-understanding-how-to-preform-a-request-of-googles-servers-with-python/46085302#46085302", "title": "Not quite understanding how to preform a request of googles servers with python requests", "body": "<p><a href=\"https://stackoverflow.com/questions/22657548/is-it-ok-to-scrape-data-from-google-results\">Google doesn't like people using scraping to access search results</a>.  They prefer that you use their API instead.</p>\n\n<p>The API they offer is called <a href=\"https://developers.google.com/custom-search/\" rel=\"nofollow noreferrer\">Google Custom Search</a>.  It supports searching for images.  To use their API, you'll need an adsense account.  Use the API key you get from that to make your API calls.</p>\n\n<p>The URL you'll want to hit is</p>\n\n<pre><code>searchUrl = \"https://www.googleapis.com/customsearch/v1?q=\" + \\\n             searchTerm + \"&amp;start=\" + startIndex + \"&amp;key=\" + key + \"&amp;cx=\" + cx + \\\n             \"&amp;searchType=image\"\n</code></pre>\n\n<p>pass that through requests to get a JSON file back with your results.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/35622615/search-image-on-google-images-with-the-new-custom-search-api\">Here's</a> some further reading.</p>\n"}], "owner": {"reputation": 61, "user_id": 7555983, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/466f1d03531aef1ceb151d580620be0c?s=128&d=identicon&r=PG&f=1", "display_name": "problemlow", "link": "https://stackoverflow.com/users/7555983/problemlow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 46085302, "answer_count": 1, "score": 1, "last_activity_date": 1504737525, "creation_date": 1504736629, "question_id": 46085165, "link": "https://stackoverflow.com/questions/46085165/not-quite-understanding-how-to-preform-a-request-of-googles-servers-with-python", "title": "Not quite understanding how to preform a request of googles servers with python requests", "body": "<p>My problem just now is not being able to form the request of googles servers properly, I've tried putting in all the request headers that my browser(Chrome) uses but that doesn't seem to work. The end goal for this is to be able to specify a search term, resolution and the file type of jpg in the request and to download the image to a folder. Any suggestions would be welcome and thanks in advance</p>\n\n<p>Heres my code so far:</p>\n\n<pre><code>def funRequestsDownload(searchTerm):\nprint(\"Getting image for track \", searchTerm)\nheaders = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36', 'content-length': bytes(searchTerm, 'utf-8')}\nqueryStringParameters = {'hl': \"en\", \"tbm\": \"isch\", \"source\": \"hp\", \"biw\":1109, \"bih\": 475, \"q\": \"SEARCH TERMS\", \"oq\":\"meme\", \"gs_l\":\"img.3..35i39k1j0l9.21651.21983.0.22205.10.10.0.0.0.0.131.269.2j1.3.0....0...1.1.64.img..7.3.267.0.4mTf5BYtfj8\"}\npayload = {'value': searchTerm}\nurl = 'http://www.google.co.uk'\ndataDump = requests.get(url, data=payload, headers=headers, \"Query String Parameters\"=queryStringParameters)\ntemp = dataDump.content\nwith open('C:/Users/Jordan/Desktop/Music Program/temp.html', 'w') as file:\n    file.write(str(temp))\n    file.close\nreturn(temp)\nprint(\"Downloaded image for track \", searchTerm)\n</code></pre>\n\n<p>Side note, I know the only thing im saving is the html of the page, this is because it is returning a bad request page and i want to look at said error. </p>\n"}, {"tags": ["python", "numpy", "matrix"], "comments": [{"owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 0, "creation_date": 1504736462, "post_id": 46085127, "comment_id": 79132367, "body": "Do you have any code so far?"}, {"owner": {"reputation": 163, "user_id": 3156381, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ed6ed91e11fff4843f3c991e551994e3?s=128&d=identicon&r=PG&f=1", "display_name": "mathemagician", "link": "https://stackoverflow.com/users/3156381/mathemagician"}, "reply_to_user": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 0, "creation_date": 1504736618, "post_id": 46085127, "comment_id": 79132422, "body": "I can do it with a loop but was just wondering if there is a more standard way."}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1504736824, "post_id": 46085127, "comment_id": 79132479, "body": "Can you post your <code>for</code> loop version?"}], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 3, "last_activity_date": 1504737185, "creation_date": 1504737185, "answer_id": 46085251, "question_id": 46085127, "link": "https://stackoverflow.com/questions/46085127/adding-all-elements-of-a-multi-dimensional-array-in-python/46085251#46085251", "title": "Adding all elements of a multi-dimensional array in Python", "body": "<p>You can sum over axis by specifying <code>axis</code> parameter; Here you want to keep the third axis and <em>collapse</em> all the other axises, hence just use <code>axis=(0,1,3)</code>:</p>\n\n<pre><code>np.sum(A, axis=(0,1,3))\n</code></pre>\n\n<hr>\n\n<p><em>Example</em>:</p>\n\n<pre><code>A = np.arange(24).reshape((2,2,3,2))\n\n# for loop approach\nz = A.shape[2]\nv = np.empty(z)\nfor i in range(z):\n    v[i] = np.sum(A[:,:,i,:])\n\nv\n# array([  76.,   92.,  108.])\n\n# sum over axis\nnp.sum(A, axis=(0,1,3))\n# array([ 76,  92, 108])\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 3156381, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ed6ed91e11fff4843f3c991e551994e3?s=128&d=identicon&r=PG&f=1", "display_name": "mathemagician", "link": "https://stackoverflow.com/users/3156381/mathemagician"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "closed_date": 1504759167, "accepted_answer_id": 46085251, "answer_count": 1, "score": 0, "last_activity_date": 1504737185, "creation_date": 1504736357, "last_edit_date": 1504737016, "question_id": 46085127, "link": "https://stackoverflow.com/questions/46085127/adding-all-elements-of-a-multi-dimensional-array-in-python", "closed_reason": "Duplicate", "title": "Adding all elements of a multi-dimensional array in Python", "body": "<p>I have an array A, which is x-by-y-by-z-by-w dimensional. I would like to get a z dimensional vector v, where each element of v is the sum of the elements of A controling for the coordinate of v. Is there a way I can do this w/o loops using numpy?</p>\n\n<p>Here is how I would do it with a loop</p>\n\n<pre><code>for i in range(z):\n   v[i] = np.sum(A[:,:,i,:])\n</code></pre>\n"}, {"tags": ["javascript", "python", "forms", "input", "web.py"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "edited": false, "score": 0, "creation_date": 1504741690, "post_id": 46085511, "comment_id": 79133714, "body": "The change had no effect. I see from your Source where I went wrong, but it did not fix things."}, {"owner": {"reputation": 1105, "user_id": 8273686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBqSF.png?s=128&g=1", "display_name": "Frish", "link": "https://stackoverflow.com/users/8273686/frish"}, "reply_to_user": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "edited": false, "score": 0, "creation_date": 1504743370, "post_id": 46085511, "comment_id": 79134059, "body": "I&#39;m less of an expert on Python, however could your issue arise from the indentation of &quot;return data.username&quot; in class PostRegistration? From what I know of Python it looks like you&#39;re calling the return outside of the POST(self) function."}, {"owner": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "edited": false, "score": 0, "creation_date": 1504747796, "post_id": 46085511, "comment_id": 79135021, "body": "Thanks for the feedback. The indentation of &quot;return data.username is actually correct. It may look strange due to the print statement above, but I believe that the issue is somewhere wayyyy before the final return statement in the main python controller."}, {"owner": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "edited": false, "score": 0, "creation_date": 1504906029, "post_id": 46085511, "comment_id": 79212191, "body": "I apologize. I did not quite see the error that you pointed out. You are correct about the indentation error. Aside from that, it still does not work as desired."}], "tags": [], "owner": {"reputation": 1105, "user_id": 8273686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBqSF.png?s=128&g=1", "display_name": "Frish", "link": "https://stackoverflow.com/users/8273686/frish"}, "is_accepted": false, "score": 1, "last_activity_date": 1504740429, "last_edit_date": 1504740429, "creation_date": 1504738964, "answer_id": 46085511, "question_id": 46085125, "link": "https://stackoverflow.com/questions/46085125/web-input-not-taking-on-form-data/46085511#46085511", "title": "web.input() not taking on form data", "body": "<p>I think your jQuery selector here is wrong:</p>\n\n<p><code>var form = $(\"register-form\").serialize();</code></p>\n\n<p>Ought to be </p>\n\n<pre><code>var form = $(\"#register-form\").serialize();\n</code></pre>\n\n<p><a href=\"https://api.jquery.com/id-selector/\" rel=\"nofollow noreferrer\">Source</a></p>\n\n<p>This would possibly result in no element being selected for .serialize() to serialize.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "edited": false, "score": 0, "creation_date": 1504905938, "post_id": 46104477, "comment_id": 79212168, "body": "You are correct. Rather than copy and paste the code, I typed it so that I could review each line individually. The correction you&#39;ve made to my syntax does not change the fact that data still captures no information from the form."}], "tags": [], "owner": {"reputation": 3438, "user_id": 2205785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FY5zS.png?s=128&g=1", "display_name": "pbuck", "link": "https://stackoverflow.com/users/2205785/pbuck"}, "is_accepted": false, "score": 0, "last_activity_date": 1504906398, "last_edit_date": 1504906398, "creation_date": 1504815528, "answer_id": 46104477, "question_id": 46085125, "link": "https://stackoverflow.com/questions/46085125/web-input-not-taking-on-form-data/46104477#46104477", "title": "web.input() not taking on form data", "body": "<p>Indentation error:</p>\n\n<pre><code>class PostRegistration:\n    def POST(self):\n        data = web.input()\n    print \"data:   \" + str(data) # This line is for debugging\n    return data.username\n</code></pre>\n\n<p>Needs to be:</p>\n\n<pre><code>class PostRegistration:\n    def POST(self):\n       data = web.input()\n       print \"data:   \" + str(data) # This line is for debugging\n       return data.username\n</code></pre>\n\n<p>On the jquery side, <code>.serialize()</code> will ignore all inputs which do not have a <code>name</code> attribute. That's why you're not getting anything sent across the wire.</p>\n\n<p>Solution is add <code>name='username'</code> to your input.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "edited": false, "score": 1, "creation_date": 1505009648, "post_id": 46135034, "comment_id": 79235729, "body": "Thank you very much for this post. This did the trick. I guess next time I&#39;ll look harder for the answer to my question. Thanks!!"}, {"owner": {"reputation": 26, "user_id": 8581958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5534d5cd779fa83bf03d8ac76bf57ea2?s=128&d=identicon&r=PG&f=1", "display_name": "FolksyBeer", "link": "https://stackoverflow.com/users/8581958/folksybeer"}, "reply_to_user": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "edited": false, "score": 0, "creation_date": 1505027509, "post_id": 46135034, "comment_id": 79238293, "body": "were you able to fix the 500 error from the data.username line? im still stuck on that"}, {"owner": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "edited": false, "score": 0, "creation_date": 1505333995, "post_id": 46135034, "comment_id": 79375725, "body": "yes. By adding the name=&quot;username&quot; attribute in the HTML file it worked perfectly. I can now take the user input and send it to my MongoDB."}], "tags": [], "owner": {"reputation": 26, "user_id": 8581958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5534d5cd779fa83bf03d8ac76bf57ea2?s=128&d=identicon&r=PG&f=1", "display_name": "FolksyBeer", "link": "https://stackoverflow.com/users/8581958/folksybeer"}, "is_accepted": true, "score": 1, "last_activity_date": 1504990596, "creation_date": 1504990596, "answer_id": 46135034, "question_id": 46085125, "link": "https://stackoverflow.com/questions/46085125/web-input-not-taking-on-form-data/46135034#46135034", "title": "web.input() not taking on form data", "body": "<p>it looks like the serialize method is omitting all of the fields because they dont include a name attribute. if you add it to the register entries like this:</p>\n\n<pre><code>&lt;div class=\"form-group label-static is-empty\"&gt;\n        &lt;label for=\"username\" class=\"control-label\"&gt;Username&lt;/label&gt;\n        &lt;input id=\"username\" class=\"form-control\" type=\"text\" name=\"username\" placeholder=\"Choose a username\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>then the form variable will populate. this still returns a 500 error when trying to access a field with the line data.username....</p>\n\n<p>sources:\n<a href=\"https://stackoverflow.com/questions/3547035/javascript-getting-html-form-values\">JavaScript - Getting HTML form values</a>\n<a href=\"https://api.jquery.com/serialize/\" rel=\"nofollow noreferrer\">https://api.jquery.com/serialize/</a></p>\n"}], "owner": {"reputation": 13, "user_id": 8571507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f826b16c62df4c7f2b4e0b2581175c3c?s=128&d=identicon&r=PG&f=1", "display_name": "j3private", "link": "https://stackoverflow.com/users/8571507/j3private"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 46135034, "answer_count": 3, "score": 1, "last_activity_date": 1504990596, "creation_date": 1504736356, "last_edit_date": 1504906204, "question_id": 46085125, "link": "https://stackoverflow.com/questions/46085125/web-input-not-taking-on-form-data", "title": "web.input() not taking on form data", "body": "<p>So I'm trying to create a simple registration form for users to enter their info, and submit for processing. I'm having trouble with grabbing the form data. The way the site is setup, I've got the \"/register\" form that then sends an ajax request to the url \"/postregister\". From there, enters the class that gets the data from web.input(), and then references the data for whatever I need to. Or at least that's the intention...</p>\n\n<p>The problem that I have lies in the very first step: Grabbing the form data from \"/register\" page. Nothing is actually passed along.</p>\n\n<p>Here is the register.html</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;h2&gt;Register Account&lt;/h2&gt;\n    &lt;br /&gt;&lt;br /&gt;\n    &lt;form id=\"register-form\"&gt;\n        &lt;div class=\"form-group label-static is-empty&gt;\n        &lt;label for=\"username\" class=\"control-label\"&gt;Username&lt;/label&gt;\n        &lt;input id=\"username\" class=\"form-control\" type=\"text\" placeholder=\"Choose a username...\"/&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\" class=\"btn btn-info\"&gt;Submit &lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The main controller.py:</p>\n\n<pre><code>import web\n\nurls = (\n    '/', 'Home',\n    '/register', 'Register',\n    '/postregistration', 'PostRegistration'\n)\n\nrender = web.template.render(\"Views/Templates\", base=\"MainLayout\")\napp = web.application(urls, globals())\n\nclass Home:\n    def GET(self):\n        return render.Home()\n\nclass Register:\n    def GET(self):\n        return self.Register()\n\nclass PostRegistration:\n    def POST(self):\n        data = web.input()\n        print \"data:   \" + str(data) # This line is for debugging\n        return data.username\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>\n\n<p>plus the js:</p>\n\n<pre><code>$(document).ready(function() {\n    console.log(\"loaded\");\n\n    $(document).on(\"submit\", \"#register-form\", function(e) {\n        e.preventDefault();\n\n        var form = $(\"#register-form\").serialize();\n        console.log(form); //This is just for debugging\n    $.ajax({\n        url: '/postregistration',\n        type: 'POST',\n        data: form,\n        success: function(response){\n        console.log(response);\n        }\n    });\n    });\n});\n</code></pre>\n\n<p>When I run the controller.py, and navigate to localhost:8080/register, I'm prompted with the form to fill out. <em>Success!</em> Now I enter the information and click submit. <strong>Problem!!</strong> When checking the console log, the form is not actually being captured. An \"AttributeError\" is raised, with AttributeError: 'username'. And sure enough, the controller.py prints:</p>\n\n<pre><code>data:   &lt;storage {}&gt;\n</code></pre>\n\n<p>So I see that web.input() grabs no data. Going back a little further, in the web console, I can see that \"loaded\" is written, then when I click submit, I can see that something (but actually nothing) is written to the console. Again, all signs point to me not grabbing the form data. Any ideas where I've gone wrong?</p>\n"}, {"tags": ["python", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8571525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ef50377f41769c777cbb9556e7785e?s=128&d=identicon&r=PG&f=1", "display_name": "Zel", "link": "https://stackoverflow.com/users/8571525/zel"}, "edited": false, "score": 0, "creation_date": 1504742473, "post_id": 46085405, "comment_id": 79133853, "body": "Thank you so much! This is extremely helpful - managed to log in now."}], "tags": [], "owner": {"reputation": 13885, "user_id": 7811673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc232c9c0c9748fdd3dec0d5b816fb7?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.adam", "link": "https://stackoverflow.com/users/7811673/t-m-adam"}, "is_accepted": true, "score": 0, "last_activity_date": 1504739337, "last_edit_date": 1504739337, "creation_date": 1504738153, "answer_id": 46085405, "question_id": 46085114, "link": "https://stackoverflow.com/questions/46085114/how-do-i-login-authenticate-through-api-on-kace-1000-system-management-appliance/46085405#46085405", "title": "How do I login/authenticate through API on KACE 1000 System Management Appliance 7.0", "body": "<p>The <code>params</code> argument sends the data in the URL's query string. According to the <a href=\"http://support-public.cfm.quest.com/40686_K1000_7.1_API_Reference_en-US.pdf\" rel=\"nofollow noreferrer\">api docs</a> the credentials should be sent in the body of the POST request, which means you should use the <code>data</code> argument.  </p>\n\n<pre><code>session = requests.session()\ndata = {'password': password,\n                  'userName': username,\n                  'organizationName': org_name}\nsession.headers = {'Accept': 'application/json',\n                   'Content-Type': 'application/json',\n                   'x-dell-api-version': '5'}\nlogin_path = 'SERVER/ams/shared/api/security/login'\nresponse = session.post(login_path, data=data)\n</code></pre>\n\n<p>Note that <code>data</code> will url encode your data. If you want to send json formated data use the <code>json</code> argument instead.</p>\n"}], "owner": {"reputation": 13, "user_id": 8571525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ef50377f41769c777cbb9556e7785e?s=128&d=identicon&r=PG&f=1", "display_name": "Zel", "link": "https://stackoverflow.com/users/8571525/zel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 46085405, "answer_count": 1, "score": 1, "last_activity_date": 1504743505, "creation_date": 1504736292, "last_edit_date": 1504743505, "question_id": 46085114, "link": "https://stackoverflow.com/questions/46085114/how-do-i-login-authenticate-through-api-on-kace-1000-system-management-appliance", "title": "How do I login/authenticate through API on KACE 1000 System Management Appliance 7.0", "body": "<p>Here is my python code:</p>\n\n<pre><code>import requests\n\ndef main():\n    username = 'test'\n    password = 'test'\n    org_name = 'Default'\n\n    session = requests.session()\n    session.params = {'password': password,\n                      'userName': username,\n                      'organizationName': org_name}\n    session.headers = {'Accept': 'application/json',\n                       'Content-Type': 'application/json',\n                       'x-dell-api-version': '5'}\n\n    login_path = 'SERVER/ams/shared/api/security/login'\n\n    response = session.post(login_path)\n\n    print(response)\n    print(response.json())\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>I am able to log in manually through the browser with the account test and password test as an admin. However, when running the above code I get</p>\n\n<blockquote>\n  <p>&lt; Response [401] ><br>\n  {'errorCode': 29, 'errorDescription': 'Login Failed: Incorrect user name or password.'}</p>\n</blockquote>\n\n<p>I've been stuck on this for more than an entire day at work. I need to get access to the API in order to run queries with scripts. I called customer support and they . made me wait for 1 hour before telling me no engineers were available. ANY help would be greatly appreciated. I want to be able to get a CSRF token with a status 200 response from the post request.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "edited": false, "score": 0, "creation_date": 1504736606, "post_id": 46085091, "comment_id": 79132416, "body": "You wrote: files= [&#39;FileX,&#39;FileY&#39;, &#39;FileZ&#39;]. Is it only a typo here or did it appear in your code as well? It should be files= [&#39;FileX&#39;,&#39;FileY&#39;, &#39;FileZ&#39;], that is, you forgot &#39; after X"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 2831637, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ebc0179a0bf564819688f8998866eb49?s=128&d=identicon&r=PG&f=1", "display_name": "Korzak", "link": "https://stackoverflow.com/users/2831637/korzak"}, "edited": false, "score": 0, "creation_date": 1505146914, "post_id": 46085179, "comment_id": 79282421, "body": "This worked beautifully, thank you!  It causes something else to happen that I can&#39;t solve, however. All the blank values (from blank cells in source .xslx file) convert to &quot;nan&quot; when this apply runs, and I cannot get rid of them no mater what I try.  I&#39;ve tried using .fillna(), and .replace() on np.nan to change the nan&#39;s over to some other string (the final output .xslx file can&#39;t say &quot;nan&quot;, it has to say &quot;Missing&quot; or something like that.  Any help would be appreciated!"}, {"owner": {"reputation": 289, "user_id": 6341997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dab4bf3d25bf21155354fdc61c76a20?s=128&d=identicon&r=PG&f=1", "display_name": "neocortex", "link": "https://stackoverflow.com/users/6341997/neocortex"}, "reply_to_user": {"reputation": 325, "user_id": 2831637, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ebc0179a0bf564819688f8998866eb49?s=128&d=identicon&r=PG&f=1", "display_name": "Korzak", "link": "https://stackoverflow.com/users/2831637/korzak"}, "edited": false, "score": 1, "creation_date": 1505148022, "post_id": 46085179, "comment_id": 79283061, "body": "Not 100% sure what you mean, but did you use <code>fillna</code> before the conversion to <code>str</code>? Something like: <code>df.apply(lambda x: x.fillna(&#39;Missing&#39;).astype(&#39;str&#39;).apply(lambda y: y[:10]))</code>"}, {"owner": {"reputation": 325, "user_id": 2831637, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ebc0179a0bf564819688f8998866eb49?s=128&d=identicon&r=PG&f=1", "display_name": "Korzak", "link": "https://stackoverflow.com/users/2831637/korzak"}, "edited": false, "score": 0, "creation_date": 1505744403, "post_id": 46085179, "comment_id": 79526118, "body": "That did it.  Thank you!  I didn&#39;t know I could just keeping stacking on different transformations into the same line."}, {"owner": {"reputation": 289, "user_id": 6341997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dab4bf3d25bf21155354fdc61c76a20?s=128&d=identicon&r=PG&f=1", "display_name": "neocortex", "link": "https://stackoverflow.com/users/6341997/neocortex"}, "reply_to_user": {"reputation": 325, "user_id": 2831637, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ebc0179a0bf564819688f8998866eb49?s=128&d=identicon&r=PG&f=1", "display_name": "Korzak", "link": "https://stackoverflow.com/users/2831637/korzak"}, "edited": false, "score": 0, "creation_date": 1506005721, "post_id": 46085179, "comment_id": 79654522, "body": "Great, glad to help. Appreciate if you mark this as answered if it solved your problem"}], "tags": [], "owner": {"reputation": 289, "user_id": 6341997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dab4bf3d25bf21155354fdc61c76a20?s=128&d=identicon&r=PG&f=1", "display_name": "neocortex", "link": "https://stackoverflow.com/users/6341997/neocortex"}, "is_accepted": false, "score": 1, "last_activity_date": 1504736784, "creation_date": 1504736784, "answer_id": 46085179, "question_id": 46085091, "link": "https://stackoverflow.com/questions/46085091/transform-a-set-of-pandas-columns-in-one-operation-rather-than-multiple-ones/46085179#46085179", "title": "Transform a set of pandas columns in one operation, rather than multiple ones?", "body": "<p>How about something like this: </p>\n\n<pre><code>df.apply(lambda x: x.astype('str').apply(lambda y: y[:10]))\n</code></pre>\n\n<p>The first apply is on each column (converting the column to <code>str</code>), the second apply is on each entry of the column that truncates.</p>\n"}, {"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 1, "last_activity_date": 1504736953, "creation_date": 1504736953, "answer_id": 46085198, "question_id": 46085091, "link": "https://stackoverflow.com/questions/46085091/transform-a-set-of-pandas-columns-in-one-operation-rather-than-multiple-ones/46085198#46085198", "title": "Transform a set of pandas columns in one operation, rather than multiple ones?", "body": "<p>Only a <code>Series</code> has the <code>.str</code> attribute, a <code>DataFrame</code> does not. You have to work with individual columns:</p>\n\n<pre><code>df[files].apply(lambda x: x.astype(str).str[:1], axis=1)\n</code></pre>\n\n<p>The error that you reported in the original post is related to something else. I could not reproduce it.</p>\n"}, {"tags": [], "owner": {"reputation": 11863, "user_id": 1762211, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc8759842af428f995e2ce7a03adb609?s=128&d=identicon&r=PG", "display_name": "Mohamed Ali JAMAOUI", "link": "https://stackoverflow.com/users/1762211/mohamed-ali-jamaoui"}, "is_accepted": false, "score": 0, "last_activity_date": 1504736974, "creation_date": 1504736974, "answer_id": 46085201, "question_id": 46085091, "link": "https://stackoverflow.com/questions/46085091/transform-a-set-of-pandas-columns-in-one-operation-rather-than-multiple-ones/46085201#46085201", "title": "Transform a set of pandas columns in one operation, rather than multiple ones?", "body": "<p>You need to apply <code>str[:10]</code> column-wise as follows:</p>\n\n<pre><code> df_combined[files].astype(str).apply(lambda x: x.str[:10], axis=1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1504741378, "last_edit_date": 1504741378, "creation_date": 1504739045, "answer_id": 46085523, "question_id": 46085091, "link": "https://stackoverflow.com/questions/46085091/transform-a-set-of-pandas-columns-in-one-operation-rather-than-multiple-ones/46085523#46085523", "title": "Transform a set of pandas columns in one operation, rather than multiple ones?", "body": "<p>This will accomplish your task:</p>\n\n<pre><code>df_combined.loc[:, files] = df_combined.loc[:, files].apply(\n    lambda series: series.astype(str).str[:11])\n</code></pre>\n\n<p>(or using a list comprehension):</p>\n\n<pre><code>df.apply(lambda series: [str(val)[:11] for val in series])\n</code></pre>\n\n<p>However, this seems odd to me.  Perhaps you want some level of decimal precision?</p>\n\n<p>For example, these show the same modified string values despite being off my factors of 10:</p>\n\n<pre><code>df = pd.DataFrame([100000000 * 10 ** n for n in range(5)])\n&gt;&gt;&gt; df\n               0\n0      100000000\n1     1000000000\n2    10000000000\n3   100000000000\n4  1000000000000\n\n&gt;&gt;&gt; df.apply(lambda series: series.astype(str).str[:11])\n             0\n0    100000000\n1   1000000000\n2  10000000000\n3  10000000000\n4  10000000000\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 2831637, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ebc0179a0bf564819688f8998866eb49?s=128&d=identicon&r=PG&f=1", "display_name": "Korzak", "link": "https://stackoverflow.com/users/2831637/korzak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1504741378, "creation_date": 1504736131, "question_id": 46085091, "link": "https://stackoverflow.com/questions/46085091/transform-a-set-of-pandas-columns-in-one-operation-rather-than-multiple-ones", "title": "Transform a set of pandas columns in one operation, rather than multiple ones?", "body": "<p>So I have a set of columns in a dataframe that all need to be converted into strings (from floats), and then truncated to the first 11 characters.  I can do this just fine with one column at a time, but how can I do it for five or six at once?</p>\n\n<p>Here is what I have working:</p>\n\n<pre><code>df_combined['FileX'] = df_combined['FileX'].astype(str).str[:10]\n</code></pre>\n\n<p>That prints out exactly what I expect, and transforms the whole column (verified in output file).  However, I have columns for files X, Y, Z, AA, etc, and would like to perform the same operation on all of them.  Ideally, I would do this in one go, rather than repeat the above for each.  </p>\n\n<p>Something like this:</p>\n\n<pre><code>files= ['FileX,'FileY', 'FileZ']\ndf_combined[files] = df_combined[files].astype(str).str[:10]\n</code></pre>\n\n<p>That gets me a \"set not hashable\" error, though.  Is there a way to do this?</p>\n\n<p>Thanks for any help!!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "edited": false, "score": 0, "creation_date": 1504736117, "post_id": 46085043, "comment_id": 79132261, "body": "It&#39;s not entirely clear what you&#39;re wanting from the question, and you&#39;re asking multiple things - try to be more precise about a <i>single</i> issue you have."}, {"owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "edited": false, "score": 0, "creation_date": 1504749185, "post_id": 46085043, "comment_id": 79135380, "body": "@kovac Please edit your question to fix misspellings and be more precise. You got two answers right now but you even didn&#39;t made a substantial comment on them. Effectively this is wasting people&#39;s time here."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 7773992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/73c835e7352aac571bb8ec9e917993e3?s=128&d=identicon&r=PG&f=1", "display_name": "kovac", "link": "https://stackoverflow.com/users/7773992/kovac"}, "edited": false, "score": 0, "creation_date": 1504736893, "post_id": 46085106, "comment_id": 79132494, "body": "Sorry, it&#39;s a. Actually, i want the code stop  in  16200 seconds."}, {"owner": {"reputation": 338, "user_id": 7152553, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K1zzfrQU5WU/AAAAAAAAAAI/AAAAAAAABig/AqMD13sY074/photo.jpg?sz=128", "display_name": "eshanrh", "link": "https://stackoverflow.com/users/7152553/eshanrh"}, "reply_to_user": {"reputation": 147, "user_id": 7773992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/73c835e7352aac571bb8ec9e917993e3?s=128&d=identicon&r=PG&f=1", "display_name": "kovac", "link": "https://stackoverflow.com/users/7773992/kovac"}, "edited": false, "score": 0, "creation_date": 1504746793, "post_id": 46085106, "comment_id": 79134782, "body": "In that case, just replace 15 by 16200! Also, can you explain a little further about what <code>a</code> is? Is it just an incrementor?"}, {"owner": {"reputation": 147, "user_id": 7773992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/73c835e7352aac571bb8ec9e917993e3?s=128&d=identicon&r=PG&f=1", "display_name": "kovac", "link": "https://stackoverflow.com/users/7773992/kovac"}, "edited": false, "score": 0, "creation_date": 1504819545, "post_id": 46085106, "comment_id": 79173659, "body": "i just want <code>a</code> increase when funtion run . 1, 2 ,3 ,4 ......5 . Then it stop the code. I know this is not a good code. But i just try to think how to solve my problem."}], "tags": [], "owner": {"reputation": 338, "user_id": 7152553, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K1zzfrQU5WU/AAAAAAAAAAI/AAAAAAAABig/AqMD13sY074/photo.jpg?sz=128", "display_name": "eshanrh", "link": "https://stackoverflow.com/users/7152553/eshanrh"}, "is_accepted": false, "score": 0, "last_activity_date": 1504736226, "creation_date": 1504736226, "answer_id": 46085106, "question_id": 46085043, "link": "https://stackoverflow.com/questions/46085043/how-can-i-stop-timer-code/46085106#46085106", "title": "How can i stop timer code", "body": "<p>I'm not sure what the multithreading is about, but if you just want the code to stop in ~15 seconds, I would try this:</p>\n\n<pre><code>import time\nimport sys\ndef data():\n    start = time.time()\n    while (start-time.time()&lt;=15):\n        #code\n    sys.exit()\n</code></pre>\n\n<p>I don't know what the <code>i</code> is, or what it's keeping track of, but this should work!</p>\n"}, {"tags": [], "owner": {"reputation": 1133, "user_id": 7790438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd56fe083be9265767941c6a049da6da?s=128&d=identicon&r=PG", "display_name": "Fady Saad", "link": "https://stackoverflow.com/users/7790438/fady-saad"}, "is_accepted": false, "score": 0, "last_activity_date": 1504737086, "creation_date": 1504737086, "answer_id": 46085224, "question_id": 46085043, "link": "https://stackoverflow.com/questions/46085043/how-can-i-stop-timer-code/46085224#46085224", "title": "How can i stop timer code", "body": "<p>About stopping the code for 15 seconds, Why don't just use time.sleep() and about exit the sys.exit() will do the trick like:</p>\n\n<pre><code>import time \nimport sys\n\ndef data():\n\n    a=0\n    a+=1\n    print(a)\n    time.sleep(15) #stop the code for 15 seconds\n    if a==5:\n      sys.exit()\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 7773992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/73c835e7352aac571bb8ec9e917993e3?s=128&d=identicon&r=PG&f=1", "display_name": "kovac", "link": "https://stackoverflow.com/users/7773992/kovac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504739500, "creation_date": 1504735788, "last_edit_date": 1504739500, "question_id": 46085043, "link": "https://stackoverflow.com/questions/46085043/how-can-i-stop-timer-code", "title": "How can i stop timer code", "body": "<pre><code>def data():\n\n    a=0\n    a+=1\n    print(a)\n    #if a==5:\n      #sys.exit()\n    b=threading.Timer(3, data) \n    b.start() \n\nif __name__ == \"__main__\": \n    data() \n</code></pre>\n\n<p>\u2460I want to try stop this code about 15 seconds\n(Actually,I  need to stop the time is about 16200 second, and it's must be very precise )</p>\n\n<p>(i want to know is there a better timer code?)</p>\n\n<p>i have tried many times to make <code>i</code> to be <code>5</code>,but i don't know how to do</p>\n\n<p><code>a</code> will be zero everytime.</p>\n"}, {"tags": ["python", "audio", "signals", "noise", "pyaudio"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1504738629, "post_id": 46085011, "comment_id": 79132973, "body": "Is this a signal processing question or a coding question?  You might want to search/ask over at <a href=\"https://dsp.stackexchange.com/\">dsp.stackexchange.com</a>.  white noise == random amplitude/period..??"}, {"owner": {"reputation": 81, "user_id": 7902731, "user_type": "registered", "profile_image": "https://graph.facebook.com/297969800640266/picture?type=large", "display_name": "Roger", "link": "https://stackoverflow.com/users/7902731/roger"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1504788320, "post_id": 46085011, "comment_id": 79155108, "body": "It is a code question. I want to create Python code to generate a white noise signal and filter it."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 2, "creation_date": 1504790979, "post_id": 46085011, "comment_id": 79157195, "body": "How do you define white noise and what type of filter do you want to apply?  Does the solution you provided give the desired result? If not what is wrong with it?  What is the expected result?  Can you provide a minimal example of the input?  Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 2531, "user_id": 3043335, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0z7kk.jpg?s=128&g=1", "display_name": "Oleg Melnikov", "link": "https://stackoverflow.com/users/3043335/oleg-melnikov"}, "edited": false, "score": 1, "creation_date": 1515172515, "post_id": 46085011, "comment_id": 83212926, "body": "Great Python question for StackOverflow. The white noise def is on Wikipedia. Here is an example of white noise wav file: <a href=\"https://drive.google.com/file/d/1k7LKEYzzIg6l6nbil4b5oVMyy9gFlWcF/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1k7LKEYzzIg6l6nbil4b5oVMyy9gFlWcF/&hellip;</a>"}], "owner": {"reputation": 81, "user_id": 7902731, "user_type": "registered", "profile_image": "https://graph.facebook.com/297969800640266/picture?type=large", "display_name": "Roger", "link": "https://stackoverflow.com/users/7902731/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2586, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1565398052, "creation_date": 1504735631, "question_id": 46085011, "link": "https://stackoverflow.com/questions/46085011/how-to-create-a-white-noise-signal-in-python-and-filter-the-noise-signal-with-b", "title": "How to create a white noise signal in Python, and filter the noise signal with bandpass filter?", "body": "<p>I'm doing a project about speech processing. I wonder how to create a white noise signal in Python, and filter the noise signal with bandpass filter?</p>\n\n<pre><code>import pyaudio\nimport numpy as np\nimport scipy.signal as signal\n\nCHUNK = 64 #the block size\nQ = 50\n\npa = pyaudio.PyAudio()\nstream = pa.open(format=pyaudio.paFloat32,\n                            channels=1,\n                            rate=44100,\n                            output=True)\nwhile True:\n    noise = np.random.uniform(-1,1,CHUNK)\n    b,a = signal.iirfilter(1,[2*500*(1-1/(2*Q))/44100,2*500*(1+1/(2*Q))/44100])\n    output = signal.lfilter(b,a,noise)\n    output.astype(np.float32)\n    output = output.tobytes()\n    stream.write(output)\n</code></pre>\n\n<p>Is the code right? And what is the difference between <code>signal.iirfilter</code> and <code>signal.butter</code>?\nThank you very much.</p>\n"}, {"tags": ["python", "pandas", "line-count"], "comments": [{"owner": {"reputation": 599, "user_id": 6010099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTWr7.png?s=128&g=1", "display_name": "Grigory", "link": "https://stackoverflow.com/users/6010099/grigory"}, "edited": false, "score": 0, "creation_date": 1504735529, "post_id": 46084962, "comment_id": 79132095, "body": "To answer your question you need to just open your file and look at it content. In case of csv, for example,  first row stands for header, and others for actual data, so for that case <code>row count = line_count -1</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6346, "user_id": 2587908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LhXQO.jpg?s=128&g=1", "display_name": "sfjac", "link": "https://stackoverflow.com/users/2587908/sfjac"}, "is_accepted": true, "score": 1, "last_activity_date": 1504735509, "creation_date": 1504735509, "answer_id": 46084996, "question_id": 46084962, "link": "https://stackoverflow.com/questions/46084962/python-pandas-is-line-count-similar-to-row-count-in-pandas/46084996#46084996", "title": "(Python/Pandas) Is line count similar to row count in pandas", "body": "<p>Not necessarily. For example, the file could have headers, in which case it would have one more row than the data frame. Depending on how the data frame is read from the file, there are other ways to cause Pandas to ignore lines in the file (you can have it ignore comment lines, for instance).</p>\n"}], "owner": {"reputation": 1574, "user_id": 3612634, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/z4pyN.png?s=128&g=1", "display_name": "tisaconundrum", "link": "https://stackoverflow.com/users/3612634/tisaconundrum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 46084996, "answer_count": 1, "score": 0, "last_activity_date": 1504735552, "creation_date": 1504735313, "last_edit_date": 1504735552, "question_id": 46084962, "link": "https://stackoverflow.com/questions/46084962/python-pandas-is-line-count-similar-to-row-count-in-pandas", "title": "(Python/Pandas) Is line count similar to row count in pandas", "body": "<p>There are a few ways to get the amount of rows for a pandas dataframe.</p>\n\n<p>My question is; can I get the actual row count by simply knowing the line count for a file? And if not, what is one way I can find the row count without having to load the dataframe in?</p>\n\n<p>Here is a situation where I was able to get line count and row count to be the same. </p>\n\n<pre><code>...\ns1 = len(df.index) # get the row count.\n\nwith open(filename) as f: # open a file and count the lines, actual line count is 6377\n    for i, l in enumerate(f):\n        pass\ns2 = i + 1 # row count\ns2 = s2 - 2 # line count -2\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>s1 = {int} 6375\ns2 = {int} 6375\n</code></pre>\n"}, {"tags": ["python", "docopt"], "comments": [{"owner": {"reputation": 4318, "user_id": 681870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd42a5f2e0cec71c5b93f0113273213?s=128&d=identicon&r=PG", "display_name": "J. P. Petersen", "link": "https://stackoverflow.com/users/681870/j-p-petersen"}, "edited": false, "score": 0, "creation_date": 1504861553, "post_id": 46084887, "comment_id": 79187692, "body": "It works fine for me. Could you be using an old version of docopt?"}], "answers": [{"comments": [{"owner": {"reputation": 425, "user_id": 7477689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyxZT.jpg?s=128&g=1", "display_name": "darkmattercoder", "link": "https://stackoverflow.com/users/7477689/darkmattercoder"}, "edited": false, "score": 1, "creation_date": 1505414702, "post_id": 46112807, "comment_id": 79416037, "body": "Thanks for those additions. The default option is a very good thing!"}], "tags": [], "owner": {"reputation": 4318, "user_id": 681870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd42a5f2e0cec71c5b93f0113273213?s=128&d=identicon&r=PG", "display_name": "J. P. Petersen", "link": "https://stackoverflow.com/users/681870/j-p-petersen"}, "is_accepted": false, "score": 1, "last_activity_date": 1504861939, "creation_date": 1504861939, "answer_id": 46112807, "question_id": 46084887, "link": "https://stackoverflow.com/questions/46084887/docopt-only-proceedes-when-an-optional-part-is-given/46112807#46112807", "title": "Docopt only proceedes when an optional part is given", "body": "<p>The example you have given works here. So maye it has something to do with the docopt version you are using. Regarding the notation you are almost on the right track, only some small details are missing.</p>\n\n<p>Before the options, there should be a line that says \"Options:\". Docopt looks for this, and interprets the lines after. In the options part it is possible to set default values for options too.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>\"\"\"Usage:\n  rsnapshot-once [-c CFGFILE] (sync|hourly|daily|monthly)\n\nOptions:\n  -c CFGFILE  specify the configfile that rsnapshot should use \n              [default: /etc/rsnapshot.conf]\n\"\"\"\n</code></pre>\n\n<p>Then the user will also see what the default value is.</p>\n"}, {"tags": [], "owner": {"reputation": 425, "user_id": 7477689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyxZT.jpg?s=128&g=1", "display_name": "darkmattercoder", "link": "https://stackoverflow.com/users/7477689/darkmattercoder"}, "is_accepted": true, "score": 1, "last_activity_date": 1509535167, "last_edit_date": 1509535167, "creation_date": 1505414622, "answer_id": 46226247, "question_id": 46084887, "link": "https://stackoverflow.com/questions/46084887/docopt-only-proceedes-when-an-optional-part-is-given/46226247#46226247", "title": "Docopt only proceedes when an optional part is given", "body": "<p>I got it working. Finally the problem was that I used tabs to format my usage docstring:</p>\n\n<pre><code>\"\"\"\n\\t\\t\\tUsage:\n\\t\\t\\trsnapshot-once [-c CFGFILE] (sync|hourly|daily|monthly)\n\n\\t\\t\\tOptions:\n\\t\\t\\t-c CFGFILE        specify the configfile that rsnapshot should use\n\"\"\"\n</code></pre>\n\n<p>When I change this to be:</p>\n\n<pre><code>\"\"\"\n            Usage:\n            rsnapshot-once [-c CFGFILE] (sync|hourly|daily|monthly)\n\n            Options:\n            -c CFGFILE      specify the configfile that rsnapshot should use\n\"\"\"\n</code></pre>\n\n<p>It works fine...</p>\n\n<p>There is a similar issue I found after I figured out what the problem was: <a href=\"https://github.com/docopt/docopt/issues/368\" rel=\"nofollow noreferrer\">https://github.com/docopt/docopt/issues/368</a></p>\n\n<p>EDIT: While from a functional point of view, the arguments are parsed correctly when no tabs are used. But in case the call is wrong, only the \"Usage:\"-Part of the docstring is printed. The \"Options:\"-Part is not. Can any of you confirm that?</p>\n\n<p>For example, compare those variants:</p>\n\n<p>1a. <a href=\"http://try.docopt.org/?doc=Usage%3A%0D%0Atest+%5B-f+FILE%5D+%28a%7Cb%29%0D%0A%0D%0AOptions%3A%0D%0A-f+FILE++++description%0D%0A+++++++++++%5Bdefault%3A+%2Ftmp%2Ftest%5D&amp;argv=a\" rel=\"nofollow noreferrer\">Valid call</a></p>\n\n<p>1b. <a href=\"http://try.docopt.org/?doc=Usage%3A%0D%0Atest+%5B-f+FILE%5D+%28a%7Cb%29%0D%0A%0D%0AOptions%3A%0D%0A-f+FILE++++description%0D%0A+++++++++++%5Bdefault%3A+%2Ftmp%2Ftest%5D&amp;argv=\" rel=\"nofollow noreferrer\">Invalid call(option part is not printed)</a></p>\n\n<p>2a. <a href=\"http://try.docopt.org/?doc=Usage%3A%0D%0Atest+%5B-f+FILE%5D+%28a%7Cb%29%0D%0AOptions%3A%0D%0A-f+FILE++++description%0D%0A+++++++++++%5Bdefault%3A+%2Ftmp%2Ftest%5D&amp;argv=a\" rel=\"nofollow noreferrer\">Valid call (but not working)</a></p>\n\n<p>2b. <a href=\"http://try.docopt.org/?doc=Usage%3A%0D%0Atest+%5B-f+FILE%5D+%28a%7Cb%29%0D%0AOptions%3A%0D%0A-f+FILE++++description%0D%0A+++++++++++%5Bdefault%3A+%2Ftmp%2Ftest%5D&amp;argv=\" rel=\"nofollow noreferrer\">Invalid call (Text is printed as expected)</a></p>\n"}], "owner": {"reputation": 425, "user_id": 7477689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyxZT.jpg?s=128&g=1", "display_name": "darkmattercoder", "link": "https://stackoverflow.com/users/7477689/darkmattercoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 46226247, "answer_count": 2, "score": 1, "last_activity_date": 1509535167, "creation_date": 1504734786, "question_id": 46084887, "link": "https://stackoverflow.com/questions/46084887/docopt-only-proceedes-when-an-optional-part-is-given", "title": "Docopt only proceedes when an optional part is given", "body": "<p>I'm trying to learn pythons docopt module and have the following simple script:</p>\n\n<pre><code>\"\"\" Usage:\nrsnapshot-once [-c CFGFILE] (sync|hourly|daily|monthly)\n\n    -c CFGFILE  specify the configfile that rsnapshot should use\n\"\"\"\n\nimport logging\nimport sys\n\nfrom docopt import docopt\n\nargs = docopt(__doc__, version='0.0.1-alpha')\n\nlogging.basicConfig(stream=sys.stdout, level=logging.DEBUG, formatter=logging.BASIC_FORMAT)\nlogging.debug(\"Parsed arguments:\\n\" + str(args));\n\nif not args.get(\"-c\"):\n    args['CFGFILE'] = \"/etc/rsnapshot.conf\"\n</code></pre>\n\n<p>When invoked from the command line with the -c option:</p>\n\n<pre><code>% ./rsnapshot-once.py -c someconfigfile sync                                                                \nDEBUG:root:Parsed arguments:\n{'-c': True,\n 'CFGFILE': 'someconfigfile',\n 'daily': False,\n 'hourly': False,\n 'monthly': False,\n 'sync': True}\n</code></pre>\n\n<p>When only the command is passed:</p>\n\n<pre><code>% ./rsnapshot-once.py daily                                                                               \nUsage:\n        rsnapshot-once [-c CFGFILE] (sync|hourly|daily|monthly)\n</code></pre>\n\n<p>It seems, that I am misunderstanding something. Could anyone give me a hint, what I'm doing wrong?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "mysql", "sqlalchemy"], "comments": [{"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 1, "creation_date": 1504765728, "post_id": 46084859, "comment_id": 79140133, "body": "You can&#39;t issue queries (updating a video) while you&#39;re still fetching results for your last query (<code>for video in s</code>)."}, {"owner": {"reputation": 741, "user_id": 841980, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/25e3e6285fa004d2252ca7eb2ce4a09b?s=128&d=identicon&r=PG", "display_name": "jblz", "link": "https://stackoverflow.com/users/841980/jblz"}, "reply_to_user": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1504784397, "post_id": 46084859, "comment_id": 79152471, "body": "This led me to solving this. I added the required contents of &#39;s&#39; to a list and and closed the db connection before progressing. Thank you."}], "owner": {"reputation": 741, "user_id": 841980, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/25e3e6285fa004d2252ca7eb2ce4a09b?s=128&d=identicon&r=PG", "display_name": "jblz", "link": "https://stackoverflow.com/users/841980/jblz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1346, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504784854, "creation_date": 1504734643, "last_edit_date": 1504784854, "question_id": 46084859, "link": "https://stackoverflow.com/questions/46084859/sqlalchemy-commands-out-of-sync-you-cant-run-this-command-now", "title": "SQLAlchemy - &quot;Commands out of sync; you can&#39;t run this command now&quot;", "body": "<p>I'm trying to commit data to a MySQL database via SQLAlchemy. I'm stuck between either the log advising its being committed, but isn't, or getting the below error.</p>\n\n<pre><code>\"Commands out of sync; you can't run this command now\"\n</code></pre>\n\n<p>This error is produced with barebones configuraton (not all tables pasted for brevity)</p>\n\n<pre><code>db = create_engine('mysql://xxxxx:xxxx@127.0.0.1:3306/ytDb?charset=utf8', convert_unicode=True)\ndb.echo = True\n\nDBSession = sessionmaker(bind=db)\nBase = declarative_base()\n\ndef init_db():\n\n  Base.metadata.create_all(bind=db)\n\nclass UnprocessedVideos(Base):\n  __tablename__ = 'unprocessedvideos'\n\n  videoId = Column(VARCHAR(3072), primary_key=True)\n  playlistId = Column(VARCHAR(3072))\n  processed = Column(Integer)\n  processedAt = Column(DateTime)\n  searchTerm = Column(VARCHAR(500))\n</code></pre>\n\n<p>My understanding is, because I've not called either of the below, that my objects should automatically commit.</p>\n\n<blockquote>\n  <p>autocommit=False</p>\n  \n  <p>autoflush=False</p>\n</blockquote>\n\n<pre><code>Session = DBSession()\n    s = Session.query(UnprocessedVideos).filter(UnprocessedVideos.processed == None).yield_per(10000)\n    if not s:\n        print(\"No results\")\n    else:\n        for video in s:\n                    # Lots of code stripped out. Left to show the other to ORM commits if certain conditions are matched\n                    for url in urls:\n                        try:\n                            session1 = DBSession()\n                            session1.merge(ScrapedVideos(\n                                videoId = video.videoId,\n                                title =  title,\n                                description = description,\n                                published = published,\n                                viewcount = viewcount,\n                                tags = str(tags)\n                                ))\n\n                        except sqlalchemy.exc.IntegrityError as exc:\n                            reason = exc.message\n                            if reason.endswith('is not unique'):\n                                db.rollback()\n\n            print(\"Setting processed here\")\n            video.processed = 1\n            video.processedAt = time.strftime('%Y-%m-%d %H:%M:%S')\n            video.searchTerm=\"amiworking\"\n            Session.merge(video)\n</code></pre>\n\n<p>In this configuration, I received the following error in the log</p>\n\n<blockquote>\n  <p>sqlalchemy.exc.ProgrammingError: (raised as a result of Query-invoked\n  autoflush; consider using a session.no_autoflush block if this flush\n  is occurring prematurely) (_mysql_exceptions.ProgrammingError) (2014,\n  \"Commands out of sync; you can't run this command now\") [SQL: 'UPDATE\n  unprocessedvideos SET processed=%s, <code>processedAt</code>=%s, <code>searchTerm</code>=%s\n  WHERE unprocessedvideos.<code>videoId</code> = %s'] [parameters: (1, '2017-09-06\n  22:37:18', 'amiworking', '-816LEY-F9U')]</p>\n</blockquote>\n\n<p>I've tried amending the <strong>autocommit</strong> and <strong>autoflush</strong> in my <strong>sessionmaker</strong> to False. When these are disabling and I manually run the following after the <strong>Session.merge</strong>, the log from db.echo=True states its  successfully committing the <strong>video</strong> objects contents- but this is not the case at all.</p>\n\n<pre><code>Session.flush()\nSession.commit()\nSession.close()\n</code></pre>\n\n<p>Can someone please advise where I'm going wrong with this session? </p>\n"}, {"tags": ["python", "pandas", "dictionary", "dataframe", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1504743148, "post_id": 46084843, "comment_id": 79134009, "body": "This is a very involved problem. What have you done to solve it?"}, {"owner": {"reputation": 7287, "user_id": 8062491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rd6rD.png?s=128&g=1", "display_name": "Gilles Gouaillardet", "link": "https://stackoverflow.com/users/8062491/gilles-gouaillardet"}, "edited": false, "score": 0, "creation_date": 1504746519, "post_id": 46084843, "comment_id": 79134724, "body": "please share your efforts !"}, {"owner": {"reputation": 105, "user_id": 8469482, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/70c3978fad48106c07cb5dd3a686b62c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv", "link": "https://stackoverflow.com/users/8469482/rajiv"}, "reply_to_user": {"reputation": 7287, "user_id": 8062491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rd6rD.png?s=128&g=1", "display_name": "Gilles Gouaillardet", "link": "https://stackoverflow.com/users/8062491/gilles-gouaillardet"}, "edited": false, "score": 0, "creation_date": 1504764863, "post_id": 46084843, "comment_id": 79139679, "body": "@GillesGouaillardet Updated question to give answer to my own question."}, {"owner": {"reputation": 105, "user_id": 8469482, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/70c3978fad48106c07cb5dd3a686b62c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv", "link": "https://stackoverflow.com/users/8469482/rajiv"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1504764881, "post_id": 46084843, "comment_id": 79139691, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Updated question to give answer to my own question."}, {"owner": {"reputation": 7287, "user_id": 8062491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rd6rD.png?s=128&g=1", "display_name": "Gilles Gouaillardet", "link": "https://stackoverflow.com/users/8062491/gilles-gouaillardet"}, "edited": false, "score": 0, "creation_date": 1504766671, "post_id": 46084843, "comment_id": 79140647, "body": "thanks @Rajiv ! do you mean you solved your problem ? or do you need help with your code that does not produce the expected result ?"}, {"owner": {"reputation": 105, "user_id": 8469482, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/70c3978fad48106c07cb5dd3a686b62c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv", "link": "https://stackoverflow.com/users/8469482/rajiv"}, "edited": false, "score": 0, "creation_date": 1504805024, "post_id": 46084843, "comment_id": 79166620, "body": "That code works."}], "owner": {"reputation": 105, "user_id": 8469482, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/70c3978fad48106c07cb5dd3a686b62c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv", "link": "https://stackoverflow.com/users/8469482/rajiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1504764818, "creation_date": 1504734549, "last_edit_date": 1504764818, "question_id": 46084843, "link": "https://stackoverflow.com/questions/46084843/how-to-check-column-values-of-a-dataframe-with-dictionary-items", "title": "How to check column values of a dataframe with dictionary items", "body": "<p>I have a dataframe as follows:</p>\n\n<pre><code>&gt;&gt;&gt; df\n     ID   first    last\n0   123     Joe  Thomas\n1   456   James   Jonas\n2   675   James   Jonas\n3   457   James  Thomas\n4   676  Joseph  Thomas\n5   678    Joey  Thomas\n6   670     Jim   Jonas\n7   671    Katy   Perry\n</code></pre>\n\n<p>And then I have a dictionary which has keys as \"nick name\" and value list as all the names that have that particular nickname as follows:</p>\n\n<pre><code>nicknames =  {'KATY': ['KATHERINE', 'KATHLEEN'], 'CHET': ['CHESTER'], 'PENNY': ['PENELOPE'], 'PAT': ['PATRICIA', 'PATRICK'], 'BART': ['BARTHOLOMEW'], 'BELLE': ['ARABELLA', 'BELINDA', 'ISABEL', 'ISABELLE', 'ROSABEL'], 'JOE': ['JOSEPH', 'JOSHUA'], 'JOEY': ['JOSEPH', 'JOSOPHINE'], 'JIM': ['JAMES']}\n</code></pre>\n\n<p>From the dataframe, I want to check all the rows that have nicknames and for them a proper name exists in another row. And get the output as:</p>\n\n<pre><code>output = [[123, 678], [670]]\n</code></pre>\n\n<p>How do I get that? Thanks!</p>\n\n<p>ANSWER:</p>\n\n<pre><code>    final1={}\n    final=[]\n    tuplist = zip(df['ID'], df['first'], df['last'])\n    for i in range(len(tuplist)):\n        if tuplist[i][1].upper() in nicknames.keys():\n            val_list = nicknames.get(tuplist[i][1].upper())\n            for item in val_list:\n                l1 = [j[1].upper() for j in tuplist]\n                l2 = [j[2] for j in tuplist if j[1].upper() == item]\n                if item in l1 and tuplist[i][2] in l2: \n                    final.append((tuplist[i][0], item))\n                    break\n    #print final\n\n    c = Counter([y[1] for y in final])\n    for t in final:\n        final1[t[0]] = c.get(t[1])   \n    return final1\n</code></pre>\n"}, {"tags": ["python", "django", "synapse"], "comments": [{"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "edited": false, "score": 0, "creation_date": 1504734586, "post_id": 46084811, "comment_id": 79131777, "body": "I&#39;ve edited out the full secret/ids you had in code. I&#39;d suggest invalidating them in Synapse and issuing new credentials."}, {"owner": {"reputation": 646, "user_id": 8246827, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-jle2fpBmktI/AAAAAAAAAAI/AAAAAAAAIMA/BLgTIn0PxtE/photo.jpg?sz=128", "display_name": "Omar Jandali", "link": "https://stackoverflow.com/users/8246827/omar-jandali"}, "reply_to_user": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "edited": false, "score": 0, "creation_date": 1504736240, "post_id": 46084811, "comment_id": 79132300, "body": "thank you. i realized after that I have my client id and client secret... lol"}], "answers": [{"comments": [{"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "reply_to_user": {"reputation": 646, "user_id": 8246827, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-jle2fpBmktI/AAAAAAAAAAI/AAAAAAAAIMA/BLgTIn0PxtE/photo.jpg?sz=128", "display_name": "Omar Jandali", "link": "https://stackoverflow.com/users/8246827/omar-jandali"}, "edited": false, "score": 0, "creation_date": 1504736708, "post_id": 46084835, "comment_id": 79132442, "body": "@OmarJandali sure thing, what&#39;s the question? Feel free to edit it into your original question and let me know."}, {"owner": {"reputation": 646, "user_id": 8246827, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-jle2fpBmktI/AAAAAAAAAAI/AAAAAAAAIMA/BLgTIn0PxtE/photo.jpg?sz=128", "display_name": "Omar Jandali", "link": "https://stackoverflow.com/users/8246827/omar-jandali"}, "edited": false, "score": 0, "creation_date": 1504745806, "post_id": 46084835, "comment_id": 79134556, "body": "I have a problem and i wanted to know if you would know how to fix this problem i am getting with the user command... the following is the message that i am getting. <code>AttributeError at &#47;setup_profile&#47; type object &#39;User&#39; has no attribute &#39;create&#39; Request Method:\tPOST Request URL:\thttp:&#47;&#47;127.0.0.1:8000&#47;setup_profile&#47; Django Version:\t1.8.6 Exception Type:\tAttributeError Exception Value:\t type object &#39;User&#39; has no attribute &#39;create&#39; Exception Location:\tC:\\Users\\OmarJandali\\Desktop\\opentab\\opentab\\tab\\v&zwnj;&#8203;iews.py in createUserSynapse, line 1104</code> @birryree"}], "tags": [], "owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "is_accepted": true, "score": 3, "last_activity_date": 1504734510, "creation_date": 1504734510, "answer_id": 46084835, "question_id": 46084811, "link": "https://stackoverflow.com/questions/46084811/key-error-client-id-django/46084835#46084835", "title": "Key Error = client_id -- django", "body": "<p>Your code looks like it should be using the keys directly, whereas you're trying to access environment variables.</p>\n\n<p>Basically, don't try to access these values via <code>os.environ()</code>, as it will make your application search for an environment variable named <code>client_id_...YiBl</code>.</p>\n\n<pre><code>from synapse_pay_rest import Client\n\nargs = {\n    'client_id': 'client_id_...YiBl',\n    'client_secret':'client_secret_...C3IF',\n    'fingerprint': '599378e9a63ec2002d7dd48b',\n    'ip_address': '127.0.0.1',\n    'development_mode':True,\n    'logging':False\n}\n\nclient = Client(**args)\n</code></pre>\n"}], "owner": {"reputation": 646, "user_id": 8246827, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-jle2fpBmktI/AAAAAAAAAAI/AAAAAAAAIMA/BLgTIn0PxtE/photo.jpg?sz=128", "display_name": "Omar Jandali", "link": "https://stackoverflow.com/users/8246827/omar-jandali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 0, "accepted_answer_id": 46084835, "answer_count": 1, "score": 1, "last_activity_date": 1504734548, "creation_date": 1504734381, "last_edit_date": 1504734548, "question_id": 46084811, "link": "https://stackoverflow.com/questions/46084811/key-error-client-id-django", "title": "Key Error = client_id -- django", "body": "<p>I have an api that i am using for a project that I am working on. I am getting a key errror for the client Id that I have to pass in order ot call the api. THe api that i am using is Synapse. If anyone knows what is cuasing the error or how I can fix this key error, it would be a lit of help... Here is the full error. </p>\n\n<pre><code>KeyError at /\n'client_id_...6YiBl'\nRequest Method: GET\nRequest URL:    http://127.0.0.1:8000/\nDjango Version: 1.8.6\nException Type: KeyError\nException Value:    \n'client_id_...YiBl'\nException Location: C:\\Users\\OmarJandali\\AppData\\Local\\Programs\\Python\\Python36\\lib\\os.py in __getitem__, line 669\nPython Executable:  C:\\Users\\OmarJandali\\AppData\\Local\\Programs\\Python\\Python36\\python.exe\nPython Version: 3.6.1\nPython Path:    \n['C:\\\\Users\\\\OmarJandali\\\\Desktop\\\\opentab\\\\opentab',\n 'C:\\\\Users\\\\OmarJandali\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python36\\\\python36.zip',\n 'C:\\\\Users\\\\OmarJandali\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python36\\\\DLLs',\n 'C:\\\\Users\\\\OmarJandali\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python36\\\\lib',\n 'C:\\\\Users\\\\OmarJandali\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python36',\n 'C:\\\\Users\\\\OmarJandali\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python36\\\\lib\\\\site-packages']\n</code></pre>\n\n<p>here is the code:</p>\n\n<pre><code>import os\nfrom synapse_pay_rest import Client\n\nargs = {\n    'client_id': os.environ['client_id_...YiBl'],\n    'client_secret': os.environ['client_secret_...C3IF'],\n    'fingerprint': '599378e9a63ec2002d7dd48b',\n    'ip_address': '127.0.0.1',\n    'development_mode':True,\n    'logging':False\n}\n\nclient = Client(**args)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 2, "creation_date": 1504734396, "post_id": 46084803, "comment_id": 79131699, "body": "What have you tried? What went wrong? You need to ask a specific question. Simply dumping what appears to be homework is inappropriate."}, {"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "edited": false, "score": 0, "creation_date": 1504734401, "post_id": 46084803, "comment_id": 79131701, "body": "Do you have any code demonstrating what you&#39;ve tried?"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1504734403, "post_id": 46084803, "comment_id": 79131702, "body": "I&#39;ll show you mine if you show me yours..."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1504734547, "post_id": 46084803, "comment_id": 79131759, "body": "chew on this <code>print(&quot; &quot;.join([y for x in ([str(i)]*i for i in range(1,4)) for y in x]))</code>"}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1504734786, "post_id": 46084803, "comment_id": 79131850, "body": "this only prints the last line of the expected output however :-p"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1504735063, "post_id": 46084803, "comment_id": 79131946, "body": "@ChristianDean promises promises :)"}, {"owner": {"reputation": 12273, "user_id": 1048539, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b2bfeca28ec73556f395bed4668f9e16?s=128&d=identicon&r=PG", "display_name": "enderland", "link": "https://stackoverflow.com/users/1048539/enderland"}, "edited": false, "score": 0, "creation_date": 1504735198, "post_id": 46084803, "comment_id": 79131981, "body": "Thanks for the edit, it&#39;s a lot better now!"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1504735247, "post_id": 46084803, "comment_id": 79131998, "body": "@ChristianDean LOL again: <a href=\"https://stackoverflow.com/questions/46084911/what-is-the-working-rule-of-this-program-explanation\" title=\"what is the working rule of this program explanation\">stackoverflow.com/questions/46084911/&hellip;</a>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1504735263, "post_id": 46084803, "comment_id": 79132004, "body": "a lot better but too late... Better luck next time. good luck to you, there&#39;s actually a good chance of reopening. I&#39;ve sent a reopen request to SOCVR"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1504735397, "post_id": 46084803, "comment_id": 79132044, "body": "@Jean-Fran&#231;oisFabre It&#39;s never to late! &lt;/joking&gt;"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1504735453, "post_id": 46084803, "comment_id": 79132066, "body": "thumbs up for reopening that one. It was a close call ... and they say SO is elitist and bashful. Proved them wrong :)"}], "answers": [{"comments": [{"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1504734663, "post_id": 46084846, "comment_id": 79131810, "body": "Whoops, sorry. I&#39;m new here. Why is this? (I understand if this is not the space to discuss this).  I just thought it was a nice little puzzle, that&#39;s all. :-)"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 5, "creation_date": 1504734715, "post_id": 46084846, "comment_id": 79131825, "body": "Don&#39;t encourage people who show no effort and expect work to be done for them. Especially when there&#39;s a good chance it&#39;s a homework problem."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1504734715, "post_id": 46084846, "comment_id": 79131826, "body": "it&#39;s not so bad, but probably has been asked before, and mostly, too broad. OP doesn&#39;t provide any directions on how to solve this or how he/she tried to solve this. well if the question is properly worded, it may get some upvotes/not that much downvotes, but not here."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1504735421, "post_id": 46084846, "comment_id": 79132050, "body": "now you can <a href=\"https://stackoverflow.com/posts/46084846/edit\">edit</a> your post to show OP errors &amp; explain your code. Code only answers, no way..."}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1504735808, "post_id": 46084846, "comment_id": 79132169, "body": "voil&#224;! c&#39;est fait! :-)"}, {"owner": {"reputation": 51, "user_id": 5912127, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/77fcc2b7a5b6188bab57d92759b22665?s=128&d=identicon&r=PG&f=1", "display_name": "Hobby", "link": "https://stackoverflow.com/users/5912127/hobby"}, "edited": false, "score": 0, "creation_date": 1504735894, "post_id": 46084846, "comment_id": 79132194, "body": "Actually I have found the answer according to your post. Just adding (j*(str(j) +&quot; &quot;)"}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1504736084, "post_id": 46084846, "comment_id": 79132247, "body": "ah, great! yes, you would have saved many people a lot of time if you would have provided your own code from the start. anyway, I&#39;m happy your problem is solved. :-)"}], "tags": [], "owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "is_accepted": false, "score": -1, "last_activity_date": 1504736022, "last_edit_date": 1504736022, "creation_date": 1504734563, "answer_id": 46084846, "question_id": 46084803, "link": "https://stackoverflow.com/questions/46084803/how-to-write-such-a-number-pattern-problems-in-python-3/46084846#46084846", "title": "How to write such a number pattern problems in python 3?", "body": "<p>Here is a method that does what you're requesting.</p>\n\n<pre><code>def numbers(n: int) -&gt; None:\n    for i in range(1, n+2):\n        for j in range(1, i):\n            print(j * (str(j) + ' '), end='')\n        print()\n</code></pre>\n\n<ol>\n<li>First, we loop over all numbers from 1 to <code>n+1</code>. </li>\n<li>Then, we loop over all numbers from 1 to the current number we are working with, minus one (that's why we have the <code>n+2</code> in the outer loop). </li>\n<li>Now we have all the information we need to print our line: we are printing <code>j</code> times the value of <code>j</code> followed by a space, appending it to whatever was printed on this line already before.</li>\n<li>Finally, after finishing our line, we print a newline, so we can start fresh in the next outer loop.</li>\n</ol>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": -3, "last_activity_date": 1504734743, "creation_date": 1504734743, "answer_id": 46084882, "question_id": 46084803, "link": "https://stackoverflow.com/questions/46084803/how-to-write-such-a-number-pattern-problems-in-python-3/46084882#46084882", "title": "How to write such a number pattern problems in python 3?", "body": "<pre><code>&gt;&gt;&gt; print(*[' '.join(map(str, [n for n in range(1, n+1) for n in [n]*n])) for n in range(1, n+1)], sep='\\n')\n1\n1 2 2\n1 2 2 3 3 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "is_accepted": false, "score": -1, "last_activity_date": 1504735970, "creation_date": 1504735970, "answer_id": 46085071, "question_id": 46084803, "link": "https://stackoverflow.com/questions/46084803/how-to-write-such-a-number-pattern-problems-in-python-3/46085071#46085071", "title": "How to write such a number pattern problems in python 3?", "body": "<p>You're missing a key thing in the code you've given (as below):</p>\n\n<pre><code>n = eval(input(\"Enter a positive integer: \"))\n\na=1\nfor i in range(1,n+1):\n    for j in range(1,a+1):\n        print(j,\" \",sep=\"\",end=\"\")\n    a+=1\n    print()\n</code></pre>\n\n<p>Within the <code>for j in range(...)</code> loop, where you actually print out each number, you only print the each number out once, rather than <code>j</code> times (where <code>j</code> is the current number).</p>\n\n<p>You can fix this by using a special behavior of Python (string 'multiplication').</p>\n\n<pre><code>n = eval(input(\"Enter a positive integer: \"))\n\na = 1\nfor i in range(1, n+1):\n    for j in range(1, a+1):\n        print('{} '.format(j) * j, end=\"\")\n        a += 1\n    print()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5912127, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/77fcc2b7a5b6188bab57d92759b22665?s=128&d=identicon&r=PG&f=1", "display_name": "Hobby", "link": "https://stackoverflow.com/users/5912127/hobby"}, "edited": false, "score": 0, "creation_date": 1504737064, "post_id": 46085072, "comment_id": 79132535, "body": "Thank you so much for giving me such great suggestion!"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 51, "user_id": 5912127, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/77fcc2b7a5b6188bab57d92759b22665?s=128&d=identicon&r=PG&f=1", "display_name": "Hobby", "link": "https://stackoverflow.com/users/5912127/hobby"}, "edited": false, "score": 0, "creation_date": 1504738004, "post_id": 46085072, "comment_id": 79132825, "body": "@WeizhengZhang Glad to help out :-)"}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 0, "last_activity_date": 1504736868, "last_edit_date": 1504736868, "creation_date": 1504735988, "answer_id": 46085072, "question_id": 46084803, "link": "https://stackoverflow.com/questions/46084803/how-to-write-such-a-number-pattern-problems-in-python-3/46085072#46085072", "title": "How to write such a number pattern problems in python 3?", "body": "<p>You were close. Your problem is that you need to use <code>j</code> to print the current number <code>j</code> times. Thankfully, Python makes this easy by using <em>sequence multiplication</em>. That is, Python allows you to multiply a sequence - like a string - by a number. The contents of the string is replicated the amount of times it was multiplied by:</p>\n\n<pre><code>&gt;&gt;&gt; 'a' * 3\n'aaa'\n&gt;&gt;&gt; '1' * 4\n'1111'\n</code></pre>\n\n<p>Thus, you can convert the current integer <code>j</code> to a string, and multiplied the string by <code>j</code>:</p>\n\n<pre><code>for j in range(1, a + 1):\n    print((str(j) + ' ') * j, sep='', end=\"\")\n</code></pre>\n\n<p>With the above change your code now outputs:</p>\n\n<pre><code>Enter a positive integer:  3\n1 \n1 2 2 \n1 2 2 3 3\n</code></pre>\n\n<p>Here are a few more ways you can improve your code.</p>\n\n<ul>\n<li><p>Avoid <code>eval</code> like the black plague. It's very dangerous security-wise. Of course, you probably don't even have to worry about this now, but better not get in the habit. There's always a Better Way <sup>TM</sup>. In this case, use the built-in function <code>int</code>.</p></li>\n<li><p>Rather than keeping an explicit counter with <code>a</code>, use the built-in function <code>enumerate</code>.</p></li>\n</ul>\n\n<p>With the above improvements, your code becomes:</p>\n\n<pre><code>n = int(input(\"Enter a positive integer: \"))\n\nfor a, i in enumerate(range(1, n + 1), 1):\n    for j in range(1, a + 1):\n        print((str(j) + ' ') * j, sep='', end=\"\")\n    print()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6457283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00859e615953357f6378b3125480a64b?s=128&d=identicon&r=PG&f=1", "display_name": "James Audretsch", "link": "https://stackoverflow.com/users/6457283/james-audretsch"}, "is_accepted": false, "score": -1, "last_activity_date": 1530708625, "last_edit_date": 1530708625, "creation_date": 1504738744, "answer_id": 46085485, "question_id": 46084803, "link": "https://stackoverflow.com/questions/46084803/how-to-write-such-a-number-pattern-problems-in-python-3/46085485#46085485", "title": "How to write such a number pattern problems in python 3?", "body": "<p>You are definitely on the right track. Let's look closer at your code:</p>\n\n<pre><code>n = eval(input(\"Enter a positive integer: \"))\n\na=1\nfor i in range(1,n+1):\n    for j in range(1,a+1):\n        print(j,\" \",sep=\"\",end=\"\")\n    a+=1\n    print()    \n</code></pre>\n\n<p><strong>i</strong> is going iterate from 1 to <strong>n</strong>. That's a good intuition, as we need every number. </p>\n\n<p><strong>j</strong> is going iterate from 1 to <strong>a</strong>. A way to debug the code is to work through an example. Let's say <strong>i</strong> will iterate in range(1, 3). The first time in the loop, <strong>j</strong> will iterate in range(1, 2) and it'll print \"1\". The second time,  <strong>j</strong> will iterate in range(1, 3) and it'll print \"1 2\". There's our problem; we wanted 2 to print out twice! </p>\n\n<p><strong>i</strong> is actually the number we want to print, <strong>j</strong> is the number of times we want to print the number. We actually don't need the <strong>a</strong> variable: </p>\n\n<pre><code>n = int(input(\"Enter a positive integer: \"))\n\nmessage = \"\" \nfor i in range(1, n + 1):\n    for j in range(0, i):\n        message += str(i) + \" \"\n    print(message)\n</code></pre>\n\n<p>We can condense this further. I try to think of it in my head first, and then code it. </p>\n\n<p>\"I want 1 once, 2 twice, 3 thrice, etc.\". This means, we don't even need an inner loop. You know how many times you want to print <strong>i</strong>... <strong>i</strong> times!</p>\n\n<pre><code>message = \"\"\nfor i in range(1, n + 1):\n    message += (str(i) + \" \") * i\n    print(message)\n</code></pre>\n\n<p>Also, notice the style in your code. PEP8 has guidelines for how to write proper Python code. Notice:</p>\n\n<ul>\n<li><p>Using \"int\" is better than \"eval\" if possible, because you only want your program to take numbers.</p></li>\n<li><p>Spacing in parenthesis \"range(1, a+1)\" is better than \"range(1,a+1)\".</p></li>\n<li><p>Variable declarations like \"a = 1\" is better than \"a=1\".</p></li>\n</ul>\n\n<p>These best practices will make your code more readable :)</p>\n"}], "owner": {"reputation": 51, "user_id": 5912127, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/77fcc2b7a5b6188bab57d92759b22665?s=128&d=identicon&r=PG&f=1", "display_name": "Hobby", "link": "https://stackoverflow.com/users/5912127/hobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1530708625, "creation_date": 1504734321, "last_edit_date": 1504734926, "question_id": 46084803, "link": "https://stackoverflow.com/questions/46084803/how-to-write-such-a-number-pattern-problems-in-python-3", "title": "How to write such a number pattern problems in python 3?", "body": "<p>For example, if given a number 3, the program will print</p>\n\n<pre><code>1\n1 2 2\n1 2 2 3 3 3\n</code></pre>\n\n<p>OK,what I have tried like this:</p>\n\n<pre><code>n = eval(input(\"Enter a positive integer: \"))\n\na=1\nfor i in range(1,n+1):\n    for j in range(1,a+1):\n        print(j,\" \",sep=\"\",end=\"\")\n    a+=1\n    print()\n</code></pre>\n\n<p>It will print like:</p>\n\n<pre><code>1\n1 2\n1 2 3\n</code></pre>\n"}, {"tags": ["python", "treeview", "gtk", "gnome", "glade"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 2312900, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ff293d976b04a90b404604e478f0b532?s=128&d=identicon&r=PG", "display_name": "user2312900", "link": "https://stackoverflow.com/users/2312900/user2312900"}, "edited": false, "score": 0, "creation_date": 1504975446, "post_id": 46129816, "comment_id": 79228068, "body": "I did. I&#39;m still having problems connecting my liststore to the TreeView widget in my Glade UI."}, {"owner": {"reputation": 273, "user_id": 4134855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f428fb63801c388db1f5d3b8abc6ab3e?s=128&d=identicon&r=PG", "display_name": "mna", "link": "https://stackoverflow.com/users/4134855/mna"}, "edited": false, "score": 0, "creation_date": 1586778603, "post_id": 46129816, "comment_id": 108243823, "body": "Should be self.AllDataTreeView.append_column(column)"}], "tags": [], "owner": {"reputation": 20, "user_id": 2937793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82df397526913b91a63254543608f5f4?s=128&d=identicon&r=PG&f=1", "display_name": "Giedrius.S", "link": "https://stackoverflow.com/users/2937793/giedrius-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1505129649, "last_edit_date": 1505129649, "creation_date": 1504953860, "answer_id": 46129816, "question_id": 46084781, "link": "https://stackoverflow.com/questions/46084781/python-how-to-display-pandas-dataframe-to-a-gtk-treeview-widget-made-in-glade/46129816#46129816", "title": "Python: How to display Pandas DataFrame to a Gtk TreeView widget made in Glade", "body": "<p>Take a look about Gtk.TreeView at <a href=\"https://python-gtk-3-tutorial.readthedocs.io/en/latest/treeview.html\" rel=\"nofollow noreferrer\">https://python-gtk-3-tutorial.readthedocs.io/en/latest/treeview.html</a></p>\n\n<pre><code># create model like this\nstore = Gtk.ListStore(str, str, str)\n\n# fill it with your data\nfor row in df.itertuples():\n    store.append([row[0], row[1], row[2]])\n\n# set it as TreeView model\nself.AllDataTreeView.set_model(store)\n\n# Create and append columns\nfor i, col in enumerate(df.columns, start=1):\n    renderer = Gtk.CellRendererText()\n    column = Gtk.TreeViewColumn(col, renderer, text=i)\n    self.AllDataTreeView.append_column(col)\n\n# in yours init function change from this\nself.window.show()\n# to this\nself.window.show_all()\n</code></pre>\n\n<p>And you should be fine</p>\n"}, {"comments": [{"owner": {"reputation": 1827, "user_id": 4380853, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Hu3IE.jpg?s=128&g=1", "display_name": "Amir Afianian", "link": "https://stackoverflow.com/users/4380853/amir-afianian"}, "edited": false, "score": 0, "creation_date": 1609854933, "post_id": 65580112, "comment_id": 115947524, "body": "Welcome to StackOverflow, please consider adding more explanations to your answers."}], "tags": [], "owner": {"reputation": 11, "user_id": 14944960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96236dadec88e07579ccdd623f6705b0?s=128&d=identicon&r=PG&f=1", "display_name": "kash_u77", "link": "https://stackoverflow.com/users/14944960/kash-u77"}, "is_accepted": false, "score": 1, "last_activity_date": 1609854295, "creation_date": 1609854295, "answer_id": 65580112, "question_id": 46084781, "link": "https://stackoverflow.com/questions/46084781/python-how-to-display-pandas-dataframe-to-a-gtk-treeview-widget-made-in-glade/65580112#65580112", "title": "Python: How to display Pandas DataFrame to a Gtk TreeView widget made in Glade", "body": "<p>Maybe it will be useful for someone.\nIt should work without glade UI.</p>\n<pre><code>#import\nimport pandas as pd\nimport gi\ngi.require_version(&quot;Gtk&quot;, &quot;3.0&quot;)\nfrom gi.repository import Gtk\n\nd = {'one' : pd.Series([1., 2., 3.], index=['a', 'b', 'c']), 'two' : pd.Series([1., 2., 3., 4.], index=['a', 'b', 'c', 'd'])}\ndf = pd.DataFrame(d)\n\nprint(df)\n\nclass PandasViewer(Gtk.Window):\n    def __init__(self):\n        Gtk.Window.__init__(self, title=&quot;PandasViewer&quot;)\n\n        # Create a layout\n        self.box = Gtk.Box(spacing = 6)\n        self.add(self.box)\n\n        # Create the ListStore model\n        self.pd_ls_model = Gtk.ListStore(str, float, float)\n        for row in df.itertuples():\n        self.pd_ls_model.append(list(row))\n        # Create the TreeView and add the columns\n        self.treeview = Gtk.TreeView.new_with_model(self.pd_ls_model)\n        for i, column_title in enumerate(df.columns, start=1):\n            renderer = Gtk.CellRendererText()\n            column   = Gtk.TreeViewColumn(column_title, renderer, text=i)\n            self.treeview.append_column(column)\n\n        # Place TreeView inside the layout\n        self.box.add(self.treeview)\n        self.show()\n\nwin = PandasViewer()\nwin.connect(&quot;destroy&quot;, Gtk.main_quit)\nwin.show_all()\nGtk.main()\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 2312900, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ff293d976b04a90b404604e478f0b532?s=128&d=identicon&r=PG", "display_name": "user2312900", "link": "https://stackoverflow.com/users/2312900/user2312900"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609854295, "creation_date": 1504734163, "question_id": 46084781, "link": "https://stackoverflow.com/questions/46084781/python-how-to-display-pandas-dataframe-to-a-gtk-treeview-widget-made-in-glade", "title": "Python: How to display Pandas DataFrame to a Gtk TreeView widget made in Glade", "body": "<p>I am building a UI where I can allow the user to manipulate data and select the parameters they wish to use. I am having trouble displaying the Pandas DataFrame to the TreeView widget that was made I made in Glade.</p>\n\n<p>Below is my Glade XML file that contains the Gtk TreeView widget:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!-- Generated with glade 3.19.0 --&gt;\n&lt;interface&gt;\n  &lt;requires lib=\"gtk+\" version=\"3.12\"/&gt;\n  &lt;object class=\"GtkWindow\" id=\"MainWindow\"&gt;\n    &lt;property name=\"can_focus\"&gt;False&lt;/property&gt;\n    &lt;child&gt;\n      &lt;object class=\"GtkTreeView\" id=\"AllDataTreeView\"&gt;\n        &lt;property name=\"visible\"&gt;True&lt;/property&gt;\n        &lt;property name=\"can_focus\"&gt;True&lt;/property&gt;\n        &lt;child internal-child=\"selection\"&gt;\n          &lt;object class=\"GtkTreeSelection\" id=\"treeview-selection1\"/&gt;\n        &lt;/child&gt;\n      &lt;/object&gt;\n    &lt;/child&gt;\n  &lt;/object&gt;\n&lt;/interface&gt;\n</code></pre>\n\n<p>And here is my Python script that calls and builds the Gtk-Glade UI, with the Pandas DataFrame I would like to display.</p>\n\n<pre><code>import pandas as pd\n\nimport gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk\n\n#%% dataframe to be displayed:\nd = {'one' : pd.Series([1., 2., 3.], index=['a', 'b', 'c']), 'two' : pd.Series([1., 2., 3., 4.], index=['a', 'b', 'c', 'd'])}\ndf = pd.DataFrame(d)\n\n\n#%%\n\nclass Handler:\n#############################    \n##  INITIALIZATIONS/EXITS  ##\n#############################  \n    def __init__(self): #initializes the glade file used as well as any windows or text/image viewers#\n        self.gladefile = \"ShowDataExample.glade\"\n        self.builder = Gtk.Builder()\n        self.builder.add_from_file(self.gladefile)\n        self.builder.connect_signals(self)\n        self.window = self.builder.get_object(\"MainWindow\")\n        # TreeView\n        self.AllDataTreeView = self.builder.get_object(\"AllDataTreeView\")\n        # show glade setup\n        self.window.show()\n\n    def on_gtk_quit_activate(self, menuitem, data=None): #closes window when you click on quit from the file chooser#\n        print \"quit from menu\"\n        Gtk.main_quit()\n\n    def onDeleteWindow(self, *args): #closes window when you click on the x at the top of the window#\n        Gtk.main_quit(*args)       \n\n\n\n\nif __name__ == \"__main__\": #Calls on the UI#\n  main = Handler()\n  Gtk.main()\n</code></pre>\n\n<p>Any input, or links to useful examples would be much appreciated!</p>\n"}, {"tags": ["python", "mysql", "airflow", "apache-airflow"], "comments": [{"owner": {"reputation": 4558, "user_id": 1969152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8acc442341104960e3b61e07f5698449?s=128&d=identicon&r=PG", "display_name": "Daniel Huang", "link": "https://stackoverflow.com/users/1969152/daniel-huang"}, "edited": false, "score": 0, "creation_date": 1504912184, "post_id": 46084744, "comment_id": 79213784, "body": "What you have looks correct. <a href=\"https://github.com/apache/incubator-airflow/blob/master/airflow/hooks/mysql_hook.py#L55-L59\" rel=\"nofollow noreferrer\">MySqlHook</a> establishes a connection with <code>MySQLdb.connect(..., charset=&#39;utf8&#39;, use_unicode=True)</code>, so it might be worth trying that out in shell directly. Also make sure you are selecting the correct <code>conn_id</code>!"}, {"owner": {"reputation": 5359, "user_id": 375267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/j5PvY.jpg?s=128&g=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/375267/aaron"}, "reply_to_user": {"reputation": 4558, "user_id": 1969152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8acc442341104960e3b61e07f5698449?s=128&d=identicon&r=PG", "display_name": "Daniel Huang", "link": "https://stackoverflow.com/users/1969152/daniel-huang"}, "edited": false, "score": 0, "creation_date": 1505155943, "post_id": 46084744, "comment_id": 79287129, "body": "odd. by &quot;test in shell directly&quot; to you mean something other than the two examples I provided here? and thanks, good to know i&#39;m on the right track. i&#39;ll keep playing with it and make sure that I haven&#39;t scrambled my connections...."}, {"owner": {"reputation": 275, "user_id": 1331768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24efb8e63dc2b430b311f553f035e878?s=128&d=identicon&r=PG", "display_name": "lolcode", "link": "https://stackoverflow.com/users/1331768/lolcode"}, "edited": false, "score": 0, "creation_date": 1560957448, "post_id": 46084744, "comment_id": 99909518, "body": "Did you ever find the issue? I have the exact same error going from a dataframe to_sql."}, {"owner": {"reputation": 5359, "user_id": 375267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/j5PvY.jpg?s=128&g=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/375267/aaron"}, "reply_to_user": {"reputation": 275, "user_id": 1331768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24efb8e63dc2b430b311f553f035e878?s=128&d=identicon&r=PG", "display_name": "lolcode", "link": "https://stackoverflow.com/users/1331768/lolcode"}, "edited": false, "score": 0, "creation_date": 1561044452, "post_id": 46084744, "comment_id": 99944026, "body": "@lolcode man, it&#39;s been a bit. first, triple, triple check your connections like Daniel Huang suggested. second, make sure that the instance that you are writing to has its default charset to utf-8. if you&#39;re using AWS, for example, it will spin up the DB with <code>latin1</code> by default. you can override this by explicitly passing in <code>utf8</code>, but with the default set you can handle a lot of your write errors. if that works mind lettting me know so that I can write an answer?"}, {"owner": {"reputation": 71, "user_id": 781719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c693257ef912be5ad961afe486f9df?s=128&d=identicon&r=PG", "display_name": "Ning Liu", "link": "https://stackoverflow.com/users/781719/ning-liu"}, "edited": false, "score": 1, "creation_date": 1572016699, "post_id": 46084744, "comment_id": 103441631, "body": "It seems that Airflow has fixed this issue.  I am using Airflow 1.10.5.  Adding &quot;charset&quot; in &quot;Extra&quot; works."}, {"owner": {"reputation": 5359, "user_id": 375267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/j5PvY.jpg?s=128&g=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/375267/aaron"}, "edited": false, "score": 0, "creation_date": 1572366475, "post_id": 46084744, "comment_id": 103533546, "body": "Great news! I&#39;m starting to play around with Dagster these days, but I&#39;m glad to hear that the platform is making progress :)"}], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 1011250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f71e3a17e43f60dcc1d06fc88d34273?s=128&d=identicon&r=PG", "display_name": "Justin", "link": "https://stackoverflow.com/users/1011250/justin"}, "edited": false, "score": 0, "creation_date": 1561668324, "post_id": 56692753, "comment_id": 100151084, "body": "I extended <code>MySqlHook</code> to include this method, changing the <code>hook</code> parameter to <code>self</code>, and this worked perfectly. Nice one!"}], "tags": [], "owner": {"reputation": 275, "user_id": 1331768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24efb8e63dc2b430b311f553f035e878?s=128&d=identicon&r=PG", "display_name": "lolcode", "link": "https://stackoverflow.com/users/1331768/lolcode"}, "is_accepted": true, "score": 2, "last_activity_date": 1561059183, "creation_date": 1561059183, "answer_id": 56692753, "question_id": 46084744, "link": "https://stackoverflow.com/questions/46084744/how-to-explicitly-declare-charset-utf8-for-airflow-connections/56692753#56692753", "title": "How to explicitly declare charset=utf8 for Airflow connections", "body": "<p>I realised that this is a bug in Airflow and I have reported it here: <a href=\"https://issues.apache.org/jira/browse/AIRFLOW-4824\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/AIRFLOW-4824</a></p>\n\n<p>For now I have a workaround with the following code:</p>\n\n<pre><code>def get_uri(hook):\n    conn = hook.get_connection(getattr(hook, hook.conn_name_attr))\n    login = ''\n    if conn.login:\n        login = '{conn.login}:{conn.password}@'.format(conn=conn)\n    host = conn.host\n    if conn.port is not None:\n        host += ':{port}'.format(port=conn.port)\n    charset = ''\n    if conn.extra_dejson.get('charset', False):\n        chrs = conn.extra_dejson[\"charset\"]\n        if chrs.lower() == 'utf8' or chrs.lower() == 'utf-8':\n            charset = '?charset=utf8'\n    return '{conn.conn_type}://{login}{host}/{conn.schema}{charset}'.format(\n        conn=conn, login=login, host=host, charset=charset)\n</code></pre>\n\n<p>And then use it as follows:</p>\n\n<pre><code>url = get_uri(sql_hook)\nfrom sqlalchemy import create_engine\nengine = create_engine(url)\n</code></pre>\n\n<p>The real solution will be to send a pull request to the project overriding get_uri in mysql_hook.py.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11817615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pzXfwgVbC-0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcvn7z1ZmNEQybQuQ53NBNLCQIBMA/photo.jpg?sz=128", "display_name": "Lvtao Wang", "link": "https://stackoverflow.com/users/11817615/lvtao-wang"}, "is_accepted": false, "score": 1, "last_activity_date": 1563778840, "creation_date": 1563778840, "answer_id": 57140642, "question_id": 46084744, "link": "https://stackoverflow.com/questions/46084744/how-to-explicitly-declare-charset-utf8-for-airflow-connections/57140642#57140642", "title": "How to explicitly declare charset=utf8 for Airflow connections", "body": "<pre><code>from sqlalchemy import create_engine\nfrom airflow.hooks.mysql_hook import MySqlHook\n\nconn = MySqlHook(mysql_conn_id='conn_id')\nuri = conn.get_uri()\nengine = create_engine(uri+'?charset=utf8')\ndf.to_sql('test_table', engine, if_exists='append', index=False)\n\n</code></pre>\n\n<p>I fixed the problem by the code above.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7988034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oXFrJFthSyc/AAAAAAAAAAI/AAAAAAAAANA/pbASlVwAM9k/photo.jpg?sz=128", "display_name": "wolf", "link": "https://stackoverflow.com/users/7988034/wolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1595910427, "creation_date": 1595910427, "answer_id": 63127023, "question_id": 46084744, "link": "https://stackoverflow.com/questions/46084744/how-to-explicitly-declare-charset-utf8-for-airflow-connections/63127023#63127023", "title": "How to explicitly declare charset=utf8 for Airflow connections", "body": "<p>I fixed the problem by the way and work well (edited in file airflow.cfg):</p>\n<pre><code>sql_alchemy_conn = mysql://user:password@host:port/airflow?charset=utf8\n</code></pre>\n"}], "owner": {"reputation": 5359, "user_id": 375267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/j5PvY.jpg?s=128&g=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/375267/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2310, "favorite_count": 0, "accepted_answer_id": 56692753, "answer_count": 3, "score": 4, "last_activity_date": 1595910427, "creation_date": 1504733954, "question_id": 46084744, "link": "https://stackoverflow.com/questions/46084744/how-to-explicitly-declare-charset-utf8-for-airflow-connections", "title": "How to explicitly declare charset=utf8 for Airflow connections", "body": "<p>This sequence: </p>\n\n<pre><code>from airflow.hooks.mysql_hook import MySqlHook\nconn = MySqlHook(mysql_conn_id='conn_id')\nengine = conn.get_sqlalchemy_engine()\ndf.to_sql('test_table', engine, if_exists='append', index=False)\n</code></pre>\n\n<p>produces the following: </p>\n\n<pre><code>UnicodeEncodeError: 'latin-1' codec can't encode character '\\ufffd' in position 57: ordinal not in range(256)\n</code></pre>\n\n<p>This sequence works great:</p>\n\n<pre><code>from sqlalchemy import create_engine\nengine = create_engine(\"mysql://{0}:{1}@{2}/capone?charset=utf8\".format(user, pwd, host))\ndf.to_sql('test_table', engine, if_exists='append', index=False)\n</code></pre>\n\n<p>The key is in explicitly declaring the <code>charset</code>. I have attempted to do this in airflow as follows with <code>{\"charset\": \"utf8\"}</code>: </p>\n\n<p><a href=\"https://i.stack.imgur.com/kGaNe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kGaNe.png\" alt=\"enter image description here\"></a></p>\n\n<p>But this has not fixed the error. I've restarted my dev environment since making the changes and the admin panel lets me know that the edit was successful. How can I work with Airflow connections to my charsets as utf8? </p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1504739340, "post_id": 46084656, "comment_id": 79133178, "body": "Did you look through all the documentation?"}], "answers": [{"comments": [{"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "edited": false, "score": 0, "creation_date": 1504735424, "post_id": 46084920, "comment_id": 79132051, "body": "<code>numpy.apply_over_axes</code> seems to apply a function to one axis at a time.  I am trying to apply a function to multiple axes simultaneously."}, {"owner": {"reputation": 2600, "user_id": 6914989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fm2Ar.png?s=128&g=1", "display_name": "FabienP", "link": "https://stackoverflow.com/users/6914989/fabienp"}, "reply_to_user": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "edited": false, "score": 0, "creation_date": 1504762951, "post_id": 46084920, "comment_id": 79138865, "body": "Actually apply_along_axis uses 1-d only functions, but apply_over_axes uses multi axes, short description of the function is: &quot;Apply a function repeatedly over multiple axes&quot;."}], "tags": [], "owner": {"reputation": 2600, "user_id": 6914989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fm2Ar.png?s=128&g=1", "display_name": "FabienP", "link": "https://stackoverflow.com/users/6914989/fabienp"}, "is_accepted": false, "score": 0, "last_activity_date": 1504734975, "creation_date": 1504734975, "answer_id": 46084920, "question_id": 46084656, "link": "https://stackoverflow.com/questions/46084656/numpy-apply-along-n-spaces/46084920#46084920", "title": "numpy apply along n-spaces", "body": "<p>I guess you're looking for something like <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.apply_over_axes.html#numpy.apply_over_axes\" rel=\"nofollow noreferrer\"><code>numpy.apply_over_axes</code></a> coupled with a <code>for</code> loop to iterate other the varying axes.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 1, "last_activity_date": 1504760008, "last_edit_date": 1504760008, "creation_date": 1504749415, "answer_id": 46086728, "question_id": 46084656, "link": "https://stackoverflow.com/questions/46084656/numpy-apply-along-n-spaces/46086728#46086728", "title": "numpy apply along n-spaces", "body": "<p>The 'basic' apply-along-axis model is to iterate on one axis, and pass the other to your function:</p>\n\n<pre><code>In [197]: def foo(x):         # return same size\n     ...:     return x*2\n     ...: np.array([foo(x) for x in np.arange(12).reshape(3,4)])\n     ...: \nOut[197]: \narray([[ 0,  2,  4,  6],\n       [ 8, 10, 12, 14],\n       [16, 18, 20, 22]])\nIn [198]: def foo(x):\n     ...:     return x.sum()   # return one less dim\n     ...: np.array([foo(x) for x in np.arange(12).reshape(3,4)])\n     ...: \nOut[198]: array([ 6, 22, 38])\nIn [199]: def foo(x):\n     ...:     return x.sum(keepdims=True)   # condense the dim\n     ...: np.array([foo(x) for x in np.arange(12).reshape(3,4)])\n     ...: \nOut[199]: \narray([[ 6],\n       [22],\n       [38]])\n</code></pre>\n\n<p>Your 4d problem can be massaged to fit this.</p>\n\n<pre><code>In [200]: arr_4d = np.arange(24).reshape(2,3,2,2)\nIn [201]: arr_2d = arr_4d.reshape(6,4).T\nIn [202]: res = np.array([foo(x) for x in arr_2d])\nIn [203]: res\nOut[203]: \narray([[60],\n       [66],\n       [72],\n       [78]])\nIn [204]: res.reshape(2,2)\nOut[204]: \narray([[60, 66],\n       [72, 78]])\n</code></pre>\n\n<p>which is the equivalent of doing:</p>\n\n<pre><code>In [205]: arr_4d[:,:,0,0].sum()\nOut[205]: 60\nIn [206]: foo(arr_4d[:,:,0,0].ravel())\nOut[206]: array([60])\n</code></pre>\n\n<p><code>apply_along_axis</code> requires a function that takes a 1d array, but can be applied thus:</p>\n\n<pre><code>In [209]: np.apply_along_axis(foo,0,arr_4d.reshape(6,2,2))\nOut[209]: \narray([[[60, 66],\n        [72, 78]]])\n</code></pre>\n\n<p><code>foo</code> could reshape its input to 2d, and pass it to a function that takes 2d.  <code>apply_along_index</code> uses <code>np.ndindex</code> to generate the indices for the iteration axes.</p>\n\n<pre><code>In [212]: list(np.ndindex(2,2))\nOut[212]: [(0, 0), (0, 1), (1, 0), (1, 1)]\n</code></pre>\n\n<p><code>np.vectorize</code> normally works with a function that takes a scalar.  But recent versions have a <code>signature</code> parameter, which I believe could be used to work with your case.  It may require transposing the input so it iterates on the first two axes, passing the last two to function.  See my answer at <a href=\"https://stackoverflow.com/a/46004266/901925\">https://stackoverflow.com/a/46004266/901925</a>.</p>\n\n<p>None of these approaches offers a speed advantage.</p>\n\n<hr>\n\n<p>Without reshaping or swapping, I can iterate with the help of <code>ndindex</code>.</p>\n\n<p>Define a function that expects a 2d input:</p>\n\n<pre><code>def foo2(x):\n    return x.sum(axis=1, keepdims=True) # 2d\n</code></pre>\n\n<p>Index iterator for the last 2 dim of <code>arr_4d</code>:</p>\n\n<pre><code>In [260]: idx = np.ndindex(arr_4d.shape[-2:])\n</code></pre>\n\n<p>Do test calc to determine the shape of the return.  <code>vectorize</code> and <code>apply...</code> do this sort of test.</p>\n\n<pre><code>In [261]: r1 = foo2(arr_4d[:,:,0,0]).shape\nIn [262]: r1\nOut[262]: (2, 1)\n</code></pre>\n\n<p>The result array:</p>\n\n<pre><code>In [263]: res = np.zeros(r1+arr_4d.shape[-2:])\nIn [264]: res.shape\nOut[264]: (2, 1, 2, 2)\n</code></pre>\n\n<p>Now iterate:</p>\n\n<pre><code>In [265]: for i,j in idx:\n     ...:     res[...,i,j] = foo2(arr_4d[...,i,j])\n     ...:     \nIn [266]: res\nOut[266]: \narray([[[[ 12.,  15.],\n         [ 18.,  21.]]],\n\n\n       [[[ 48.,  51.],\n         [ 54.,  57.]]]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "is_accepted": false, "score": 0, "last_activity_date": 1504802999, "creation_date": 1504802999, "answer_id": 46101550, "question_id": 46084656, "link": "https://stackoverflow.com/questions/46084656/numpy-apply-along-n-spaces/46101550#46101550", "title": "numpy apply along n-spaces", "body": "<p>I rolled my own.  I'd be interested to know if there are any performance differences between this and @hpaulj's method and if there is reason to believe that writing a custom c module would be offer significant improvement.  Of course @hpaulj's method is more general, since this is specific to my needing to just perform an operation on the array in place.</p>\n\n<pre><code>def apply_along_space(f, np_array, axes):\n    # apply the function f on each subspace given by iterating over the axes listed in axes, e.g. axes=(0,2)\n    for slic in itertools.product(*map(lambda ax: range(np_array.shape[ax]) if ax in axes else [slice(None,None,None)], range(len(np_array.shape)))):\n        f(np_array[slic])\n    return np_array\n</code></pre>\n"}], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1821, "favorite_count": 0, "accepted_answer_id": 46086728, "answer_count": 3, "score": 1, "last_activity_date": 1504802999, "creation_date": 1504733573, "question_id": 46084656, "link": "https://stackoverflow.com/questions/46084656/numpy-apply-along-n-spaces", "title": "numpy apply along n-spaces", "body": "<p>I have a 4d array, and I would like to apply a function to each 2d slice taken by iterating over the last two dimensions.  Viz, apply f(2d_array) to (x,y,0,0), and f(2d_array) to (x,y,0,1), etc etc.  My function operates on the array in place, so the dimensions would be the same, but a general solution would return an array of shape (x',y',w,z), where w and z are the last two dimensions of the original array.</p>\n\n<p>This could obviously be generalized to mD slices over an nD array.</p>\n\n<p>Is there any built-in functionality that does this thing?</p>\n"}, {"tags": ["python", "sqlalchemy"], "comments": [{"owner": {"reputation": 602, "user_id": 6067848, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bbdbf33d547c68c612b905912455dd4c?s=128&d=identicon&r=PG&f=1", "display_name": "Josh D", "link": "https://stackoverflow.com/users/6067848/josh-d"}, "edited": false, "score": 0, "creation_date": 1504733850, "post_id": 46084620, "comment_id": 79131476, "body": "Thanks guys, but not working, says keyword can&#39;t be expression, I edited the question"}, {"owner": {"reputation": 1785, "user_id": 1079254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ph7Ij.jpg?s=128&g=1", "display_name": "Calumah", "link": "https://stackoverflow.com/users/1079254/calumah"}, "edited": false, "score": 0, "creation_date": 1504734177, "post_id": 46084620, "comment_id": 79131601, "body": ".values() use &quot;named arguments&quot; but where() method use tbl.c.column_name"}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 1, "creation_date": 1504734240, "post_id": 46084620, "comment_id": 79131632, "body": "Using a single <code>=</code> turns your where clause into an expression, which is illegal. use <code>==</code> instead."}, {"owner": {"reputation": 602, "user_id": 6067848, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bbdbf33d547c68c612b905912455dd4c?s=128&d=identicon&r=PG&f=1", "display_name": "Josh D", "link": "https://stackoverflow.com/users/6067848/josh-d"}, "reply_to_user": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1504734284, "post_id": 46084620, "comment_id": 79131651, "body": "@Bart Van Loon That&#39;s the answer!! Thanks!"}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 1, "creation_date": 1504734353, "post_id": 46084620, "comment_id": 79131679, "body": "no problem. I already gave it as a real answer too :-)"}], "answers": [{"tags": [], "owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "is_accepted": true, "score": 4, "last_activity_date": 1504734590, "last_edit_date": 1504734590, "creation_date": 1504734167, "answer_id": 46084782, "question_id": 46084620, "link": "https://stackoverflow.com/questions/46084620/sql-alchemy-typeerror-where-got-an-unexpected-keyword-argument/46084782#46084782", "title": "SQL Alchemy TypeError: where() got an unexpected keyword argument", "body": "<p>You need to use <code>.where(tbl.c.ImportInfoID_FK==398)</code>. See <a href=\"http://docs.sqlalchemy.org/en/latest/core/dml.html?highlight=whereclause#sqlalchemy.sql.expression.update.params.whereclause\" rel=\"nofollow noreferrer\">here</a> for more explanation.</p>\n"}], "owner": {"reputation": 602, "user_id": 6067848, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bbdbf33d547c68c612b905912455dd4c?s=128&d=identicon&r=PG&f=1", "display_name": "Josh D", "link": "https://stackoverflow.com/users/6067848/josh-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2176, "favorite_count": 0, "accepted_answer_id": 46084782, "answer_count": 1, "score": 3, "last_activity_date": 1504734590, "creation_date": 1504733407, "last_edit_date": 1504733802, "question_id": 46084620, "link": "https://stackoverflow.com/questions/46084620/sql-alchemy-typeerror-where-got-an-unexpected-keyword-argument", "title": "SQL Alchemy TypeError: where() got an unexpected keyword argument", "body": "<p>Simple Python SQLAlchemy <code>where()</code>, but driving me crazy with this error. Can't figure it out.</p>\n\n<pre><code>In [1]: import sqlalchemy as sa\n   ...: import pandas as pd\n   ...: \n   ...: import etl_utils as eu\n\nIn [2]: engine = eu.set_db('s','username',input('enter password:\\t'),\n   ...:                    sql_database_name='DBNAME')\n\nIn [3]: meta = sa.MetaData(engine)\n   ...: meta.reflect()\n</code></pre>\n\n<p>... redacted ...</p>\n\n<pre><code>In [6]: tbl\nOut[6]: Table('factSecurityPrices', MetaData(bind=Engine(mssql+pyodbc:///?odbc_connect=Driver={ODBC Driver 13 for SQL Server};Server=redacted)), Column('SecurityID_FK', INTEGER(), ForeignKey('dimSecurities.SecurityID_PK'), table=&lt;factSecurityPrices&gt;), Column('ImportInfoID_FK', INTEGER(), ForeignKey('dimImportInfo.ImportInfoID_PK'), table=&lt;factSecurityPrices&gt;), Column('PriceDate', DATETIME(), table=&lt;factSecurityPrices&gt;), Column('SecurityPrice', DECIMAL(precision=22, scale=4), table=&lt;factSecurityPrices&gt;), schema=None)\nIn [7]: tbl.update().where(ImportInfoID_FK=398).values(SecurityPrice=8.5)\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-7-dfa9428585e6&gt;\", line 1, in &lt;module&gt;\n    tbl.update().where(ImportInfoID_FK=398).values(SecurityPrice=8.5)\n\nTypeError: where() got an unexpected keyword argument 'ImportInfoID_FK'\n</code></pre>\n\n<p>Why on earth can't I pass a <code>kwarg</code> to <code>where()</code>?? All the examples and documentation online show that you could!</p>\n\n<p><strong>Edit:</strong>\nTried using the suggestions in the comments, didn't work:</p>\n\n<pre><code>In [8]: tbl.update().where(tbl.ImportInfoID_FK=398).values(SecurityPrice=8.5)\n  File \"&lt;ipython-input-8-53fb97b0906a&gt;\", line 1\n    tbl.update().where(tbl.ImportInfoID_FK=398).values(SecurityPrice=8.5)\n                      ^\nSyntaxError: keyword can't be an expression\n\n\nIn [9]: tbl.update().where(tbl.c.ImportInfoID_FK=398).values(SecurityPrice=8.5)\n  File \"&lt;ipython-input-9-c1ceb5a2591f&gt;\", line 1\n    tbl.update().where(tbl.c.ImportInfoID_FK=398).values(SecurityPrice=8.5)\n                      ^\nSyntaxError: keyword can't be an expression\n</code></pre>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "edited": false, "score": 0, "creation_date": 1504733487, "post_id": 46084606, "comment_id": 79131345, "body": "How big is this file? How much memory is in your computer? What does a line look like?"}, {"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1504733515, "post_id": 46084606, "comment_id": 79131362, "body": "You don&#39;t have enough memory to read the line as a single string. Figure out how you can process the file a little at a time and not hold it all in memory."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1504733517, "post_id": 46084606, "comment_id": 79131365, "body": "What line ending convention does your file use? It would appear you are getting the error because <code>readline</code> isn&#39;t finding the expected line ending and reading the entire file into memory as a result."}, {"owner": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1504734045, "post_id": 46084606, "comment_id": 79131553, "body": "@chepner If the file is opened with <code>open</code> in a non-binary mode, universal newlines should apply so it shouldn&#39;t matter which line ending is used. In any case, there is a really long line for the first line."}], "answers": [{"tags": [], "owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "is_accepted": false, "score": 4, "last_activity_date": 1504734041, "creation_date": 1504734041, "answer_id": 46084758, "question_id": 46084606, "link": "https://stackoverflow.com/questions/46084606/single-line-from-file-is-too-big/46084758#46084758", "title": "Single Line from file is too big?", "body": "<p><code>filehandle.readline()</code> breaks lines via the newline character (<code>\\n</code>) - if your file has gigantic lines, or no new lines at all, you'll need to figure out a different way of chunking it. </p>\n\n<p>Normally you might read the file in chunks and process those chunks one by one. </p>\n\n<p>Can you figure out how you might break up the file? Could you, for example, only read 1024 bytes at a time, and work with that chunk? </p>\n\n<p>If not, it's often easier to clean up the format of the file instead of designing a complicated reader. </p>\n"}], "owner": {"reputation": 81, "user_id": 8426944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f88500ed84e9628e54fd9a13e970193?s=128&d=identicon&r=PG&f=1", "display_name": "Goku241", "link": "https://stackoverflow.com/users/8426944/goku241"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1504734794, "creation_date": 1504733335, "last_edit_date": 1504733630, "question_id": 46084606, "link": "https://stackoverflow.com/questions/46084606/single-line-from-file-is-too-big", "title": "Single Line from file is too big?", "body": "<p>In python, I'm reading a large file, and I want to add each line(after some modifications) to an empty list. I want to do this to only the first few lines, so I did:</p>\n\n<pre><code>X = []\nfor line in range(3):\n\n    i = file.readline()\n    m = str(i)\n    X.append(m)\n</code></pre>\n\n<p>However, an error shows up, and says there is a MemoryError for the line \n<code>i = file.readline()</code>.</p>\n\n<p>What should I do? It is the same even if I make the range 1 (although I don't know how that affects the line, since it's inside the loop).</p>\n\n<p>How do I not get the error code? I'm iterating, and I can't make it into a binary file because the file isn't just integers - there's decimals and non-numerical characters.</p>\n\n<p>The txt file is 5 gigs. </p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1504732947, "post_id": 46084500, "comment_id": 79131086, "body": "please fix your indention and provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. we have no way of knowing how you are getting the variables day_val, hour_val, or min_val"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1504733023, "post_id": 46084500, "comment_id": 79131118, "body": "You are using <code>global</code> in classes. Global variables are best avoided and you would be best off using class attributes."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1504733562, "post_id": 46084500, "comment_id": 79131382, "body": "you are creating new intvars every second, but you never use them for anything."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8571297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d20c9643b70cbe876957cd29ec2fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Beach", "link": "https://stackoverflow.com/users/8571297/jonathan-beach"}, "edited": false, "score": 0, "creation_date": 1504758941, "post_id": 46084949, "comment_id": 79137523, "body": "I updated the code so you can get a better idea of what i was trying to do.  Looking at your code, I&#39;ll definitely give that a shot.  I was using global variables in case I wound up needing them somewhere else in parts I haven&#39;t done yet but I see how using class attributes would be good.  Is the use of globals a programming etiquette deal or is there deeper meaning?"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 11, "user_id": 8571297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d20c9643b70cbe876957cd29ec2fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Beach", "link": "https://stackoverflow.com/users/8571297/jonathan-beach"}, "edited": false, "score": 0, "creation_date": 1504759040, "post_id": 46084949, "comment_id": 79137543, "body": "It&#39;s considered bad practice in any programming languages. There are a few good reason to not use global variables. You will find several post on the topic here on stack overflow"}], "tags": [], "owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "is_accepted": false, "score": 0, "last_activity_date": 1504759271, "last_edit_date": 1504759271, "creation_date": 1504735211, "answer_id": 46084949, "question_id": 46084500, "link": "https://stackoverflow.com/questions/46084500/using-tkinter-intvar-to-update-a-label/46084949#46084949", "title": "Using tkinter IntVar to update a label", "body": "<p>After reviewing your code I have made some changes to how you are formatting your strings and how you are apply strings to your labels.</p>\n\n<p>Your class def was not working for me so I rewrote it with a standard method I use to create a tkinter class.</p>\n\n<p>I don't believe you can have both a <code>text = \"string'</code> and a <code>textvariable = StringVar()</code> at the same time. So I have formatted the data into your string var.</p>\n\n<p>The way you had it set up it would not work for a few reason. You cant use multiple IntVar()'s in a textvariable so you need to first combine them into a string variable and then use that as your update method to the label.</p>\n\n<p>I have changed your string concatination removing the <code>+</code> method and using <code>format()</code> instead as this is the correct method currently.</p>\n\n<p>I also added <code>self.string_var.set</code> to your <code>countdown()</code> method so we can keep this updated with the countdown.</p>\n\n<p>Take a look at this code and let me know if you have any question.</p>\n\n<pre><code>import tkinter as tk\n\n\nclass Grow_Cycle(tk.Frame):\n\n    def __init__(self, master, *args, **kwargs):\n        tk.Frame.__init__(self, master, *args, **kwargs)\n        self.master = master\n\n        self.day_val = 1\n        self.hour_val = 0\n        self.min_val = 0\n\n        self.day_lef = tk.IntVar()\n        self.day_lef.set(1)\n        self.hour_lef = tk.IntVar()\n        self.hour_lef.set(0)\n        self.min_lef = tk.IntVar()\n        self.min_lef.set(0)\n        self.sec_lef = tk.IntVar()\n        self.sec_lef.set(0)\n\n        self.day_rem = 0\n        self.hour_rem = 0\n        self.min_rem = 0\n\n        self.string_var = tk.StringVar()\n        self.string_var2 = tk.StringVar()\n\n        self.string_var.set(\n            \"You have remaining:\\n{} days,\\n{} hours,\\n{} minutes,\\n{} seconds\".format(self.day_lef.get(), self.hour_lef.get(), self.min_lef.get(), self.sec_lef.get()))\n\n        self.time_state = tk.Label(self.master, text = (\n            \"You have selected:\\n {} days,\\n {} hours,\\n {} minutes\").format(self.day_val, self.hour_val, self.min_val))\n        self.time_state.grid(row = 1, column = 1)\n\n        self.bttn_3 = tk.Button(self.master, bg = \"red\", text = \"Cancel\", command = self.cancel)\n        self.bttn_3.grid(row = 2, column = 0, ipadx = 50, ipady = 20, padx = 20, pady = 100)\n        self.temp1 = (self.day_val * 86400)+(self.hour_val * 3600)+(self.min_val * 60)\n\n        self.remaining = tk.Label(self.master, textvariable = self.string_var)\n        self.remaining.grid(column = 1, row = 2)\n\n        self.countdown()\n\n    def cancel(self):\n        self.remaining.destroy()\n        self.bttn_3.destroy()\n        self.time_state.destroy()\n        self.temp1 = 0\n\n    def countdown(self):\n        self.string_var.set(\n            \"You have remaining:\\n{} days,\\n{} hours,\\n{} minutes,\\n{} seconds\".format(self.day_lef.get(), self.hour_lef.get(), self.min_lef.get(), self.sec_lef.get()))\n\n        if self.temp1 &gt; 0:\n            self.temp1 -= 1\n\n            self.day_lef.set(int(self.temp1 / 86400))\n            self.day_rem = self.temp1 % 86400\n\n            self.hour_lef.set(int(self.day_rem / 3600))\n            self.hour_rem = self.day_rem % 3600\n\n            self.min_lef.set(int(self.hour_rem / 60))\n            self.min_rem = self.hour_rem % 60\n\n            self.sec_lef.set(int(self.min_rem % 60)) \n\n            root.after(1000, self.countdown)                  \n        else:\n            self.cancel()\n\n\nif __name__ == \"__main__\":\n    root = tk.Tk()\n    Grow_Cycle(root)\n    root.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8571297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3d20c9643b70cbe876957cd29ec2fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Beach", "link": "https://stackoverflow.com/users/8571297/jonathan-beach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504759271, "creation_date": 1504732766, "last_edit_date": 1504758357, "question_id": 46084500, "link": "https://stackoverflow.com/questions/46084500/using-tkinter-intvar-to-update-a-label", "title": "Using tkinter IntVar to update a label", "body": "<p>Having taken a class on C and Assembly, I decided I wanted to learn python.  This is my first attempt with it so please excuse any abuse of notation.\nThe following is the portion of my GUI I have created to control a grow cycle.  I am having an issue with the use IntVar.  I have created a countdown to the end-of-cycle (see countdown method).  I have tried including the self.remaining label within Countdown, it does show the countdown but the label showing the countdown does not destroy with the cancel button and time_state label at end-of-cycle.  With the self.remaining label put in the <strong>init</strong> using IntVar, it shows the initial countdown in days,hours, mins,secs but stays with that initial value and does not update as countdown is repeated.  Shouldn't using IntVar this way update the day_val, hour_val, min_val, and sec_val in the self.remaining label?</p>\n\n<pre><code>from tkinter import *\nimport time\nclass Grow_Cycle():\n    def __init__(self): \n        self.time_state = Label(app, text = (\"You have selected:\\n     \"+str(day_val)+\" days,\\n \"+str(hour_val)+\" hours,\\n \"+str(min_val)+\" minutes\"))\n        self.time_state.grid(column = 1, row =1)\n        self.bttn_3 = Button(app, text = \"Cancel\", command = self.cancel)\n        self.bttn_3.configure(bg = \"red\")\n        self.bttn_3.grid(row = 2, column = 0, \n                         ipadx = 50, ipady = 20,\n                         padx = 20, pady = 100)\n        self.temp1 = (day_val * 86400)+(hour_val * 3600)+(min_val * 60)\n        self.countdown()                                        \n        self.remaining = Label(app, text = (\"You have remaining:\\n\"+str(day_lef.get())+\" days,\\n\"\n                                        +str(hour_lef.get())+\" hours,\\n\"\n                                        +str(min_lef.get())+\" minutes,\\n\"\n                                        +str(sec_lef.get())+\" seconds\"),\n                                        textvariable = (day_lef, hour_lef, min_lef, sec_lef))                                            \n        self.remaining.grid(column = 1, row = 2)             \n    def cancel(self):\n        self.remaining.destroy()\n        self.bttn_3.destroy()\n        self.time_state.destroy()\n        self.temp1 = 0        \ndef countdown(self):\n    if self.temp1 &gt; 0:\n        self.temp1 -= 1            \n        global day_lef\n        day_lef = IntVar()\n        day_lef.set(int(self.temp1 / 86400))\n        day_rem = self.temp1 % 86400            \n        global hour_lef\n        hour_lef = IntVar()\n        hour_lef.set(int(day_rem / 3600))\n        hour_rem = day_rem % 3600            \n        global min_lef\n        min_lef = IntVar()\n        min_lef.set(int(hour_rem / 60))\n        min_rem = hour_rem % 60            \n        global sec_lef\n        sec_lef = IntVar()\n        sec_lef.set(int(min_rem % 60))                        \n        clock.after(1000, self.countdown)                  \n    else:\n        self.cancel()   \ndef tick():\n    global time1\n    time2 = time.strftime('%H:%M:%S\\n\\n%m-%d-%Y')\n    if time2 != time1:\n        time1 = time2\n        clock.config(text=time2)\n    clock.after(200, tick)       \ndef grow():\n    # Grow Time set window\n    set_grow_time = Toplevel(app)\n    set_grow_time.title(\"Enter Cycle Time\")\n    set_grow_time.geometry(\"240x400\")\n    # Set Day\n    set_day_grow = Spinbox(set_grow_time, from_ = 0, to_ = 10)\n    set_day_grow.grid(column = 0, row =0,\n                      padx = 20, pady = 20)\n    set_day_grow.config(width = 10)\n    set_day_lbl = Label(set_grow_time, text = \"Set Day: 0 to 10\")\n    set_day_lbl.grid(column = 1, row = 0)    \n    # Set Hour\n    set_hour_grow = Spinbox(set_grow_time, from_ = 0, to_ = 23)\n    set_hour_grow.grid(column = 0, row = 1,\n                       padx = 20, pady = 20)\n    set_hour_grow.config(width = 10)\n    set_hour_lbl = Label(set_grow_time, text = \"Set Hour: 0 to 23\")\n    set_hour_lbl.grid(column = 1, row = 1)    \n    # Set Minute\n    set_min_grow = Spinbox(set_grow_time, from_ = 0, to_ = 59)\n    set_min_grow.grid(column = 0, row = 2,\n                      padx = 20, pady = 20)\n    set_min_grow.config(width = 10)\n    set_hour_lbl = Label(set_grow_time, text = \"Set Minute: 0 to 59\")\n    set_hour_lbl.grid(column = 1, row = 2)    \n    # Confirm Selection\n    def fetch_time():\n        global day_val\n        day_val = int(set_day_grow.get())\n        global hour_val \n        hour_val = int(set_hour_grow.get())\n        global min_val\n        min_val = int(set_min_grow.get())\n        Grow_Cycle()        \n    confirm_grow_time = Button(set_grow_time, text = \"OK\", command = lambda: (fetch_time(), set_grow_time.destroy()))\n    confirm_grow_time.grid(column = 0, row = 3)\n    cancel_grow_time = Button(set_grow_time, text = \"Cancel\", command = set_grow_time.destroy)\n    cancel_grow_time.grid(column = 1, row = 3)         \ndef clean():\n    pass # will finish later\ndef cancel():\n    pass # will finish later       \n# main\n# Main Loop Begin\nroot = Tk()\nroot.title(\"Grower\")\nroot.geometry(\"1280x720\")\napp = Frame(root)\napp.grid()\ntime1 = ''\nclock = Label(app)\nclock.config(font = (\"Impact\", 20))\nclock.grid(column = 1, row = 0,\n           ipadx = 20, ipady = 20,\n           padx = 50, pady =50)\n# Button Setup\nbttn_1 = Button(app, text = \"Grow\", command = grow)\nbttn_1.configure(bg = \"light green\")\nbttn_1.grid(column = 0, row = 0, \n            ipadx = 50, ipady = 20,\n            padx = 20, pady = 100)\nbttn_2 = Button(app, text = \"Clean\", command = clean)\nbttn_2.configure(bg = \"cyan\")\nbttn_2.grid(row = 1, column = 0, \n           ipadx = 50, ipady = 20,\n           padx = 20, pady = 100)\n\ntick()\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "sockets", "dns", "hosts"], "comments": [{"owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "edited": false, "score": 0, "creation_date": 1504733039, "post_id": 46084496, "comment_id": 79131128, "body": "What&#39;s the error?"}, {"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "edited": false, "score": 0, "creation_date": 1504733214, "post_id": 46084496, "comment_id": 79131214, "body": "What happens when you do <code>socket.gethostbyname(&#39;www.example.domain.com&#39;)</code>?"}, {"owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "edited": false, "score": 0, "creation_date": 1504733363, "post_id": 46084496, "comment_id": 79131284, "body": "In your updated code, the address in sendto() is a string, not a tuple - and it&#39;s missing a port number as well."}, {"owner": {"reputation": 1237, "user_id": 3781320, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/40f10b7ce3156c7372e355d0e5e498de?s=128&d=identicon&r=PG&f=1", "display_name": "RandomEli", "link": "https://stackoverflow.com/users/3781320/randomeli"}, "reply_to_user": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "edited": false, "score": 0, "creation_date": 1504734245, "post_id": 46084496, "comment_id": 79131634, "body": "@birryree It will be able to resolve the domain string."}, {"owner": {"reputation": 1237, "user_id": 3781320, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/40f10b7ce3156c7372e355d0e5e498de?s=128&d=identicon&r=PG&f=1", "display_name": "RandomEli", "link": "https://stackoverflow.com/users/3781320/randomeli"}, "reply_to_user": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "edited": false, "score": 0, "creation_date": 1504734336, "post_id": 46084496, "comment_id": 79131674, "body": "@DanielleM. It&#39;s a typo, I fixed that."}], "answers": [{"comments": [{"owner": {"reputation": 1237, "user_id": 3781320, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/40f10b7ce3156c7372e355d0e5e498de?s=128&d=identicon&r=PG&f=1", "display_name": "RandomEli", "link": "https://stackoverflow.com/users/3781320/randomeli"}, "edited": false, "score": 0, "creation_date": 1504734665, "post_id": 46084648, "comment_id": 79131811, "body": "Ok, so just another general question, is <code>python3 socket</code> able to resolve domain name by default?"}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "reply_to_user": {"reputation": 1237, "user_id": 3781320, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/40f10b7ce3156c7372e355d0e5e498de?s=128&d=identicon&r=PG&f=1", "display_name": "RandomEli", "link": "https://stackoverflow.com/users/3781320/randomeli"}, "edited": false, "score": 0, "creation_date": 1504737528, "post_id": 46084648, "comment_id": 79132681, "body": "and yes, they do this, as it is usually handled at the operating system level where the socket API calls are processed"}], "tags": [], "owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "is_accepted": true, "score": 2, "last_activity_date": 1504733539, "creation_date": 1504733539, "answer_id": 46084648, "question_id": 46084496, "link": "https://stackoverflow.com/questions/46084496/why-cant-python-socket-resolve-domain-name-here/46084648#46084648", "title": "Why can&#39;t python socket resolve domain name here?", "body": "<p>Your code has several mistakes:</p>\n\n<p>You're using a UDP socket primitive <code>sendto()</code> on an IP socket.\nAlso, the format of the address parameter is incorrect, it usually is a tuple (hostname, port).</p>\n\n<p>So, either create a proper UDP socket:</p>\n\n<pre><code>mysocket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\nmysocket.sendto(b'data', ('hostname', 9999))\n</code></pre>\n\n<p>or use <code>connect</code> + <code>send</code>/<code>sendall</code> instead:</p>\n\n<pre><code>mysocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nmysocket.connect(('hostname', 9999))\nmysocket.sendall(b'data')\n</code></pre>\n"}], "owner": {"reputation": 1237, "user_id": 3781320, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/40f10b7ce3156c7372e355d0e5e498de?s=128&d=identicon&r=PG&f=1", "display_name": "RandomEli", "link": "https://stackoverflow.com/users/3781320/randomeli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2003, "favorite_count": 0, "accepted_answer_id": 46084648, "answer_count": 1, "score": 1, "last_activity_date": 1504733539, "creation_date": 1504732758, "last_edit_date": 1504733258, "question_id": 46084496, "link": "https://stackoverflow.com/questions/46084496/why-cant-python-socket-resolve-domain-name-here", "title": "Why can&#39;t python socket resolve domain name here?", "body": "<p>I'm using python socket to connect to a server for logging purpose. The IP address of the server is <code>x.x.x.x</code> (I just hide this, <code>x</code> can be number from 0 to 255) and, and my domain name could be <code>www.example.domain.com</code>. I've written this <code>x.x.x.x www.example.domain.com</code> in <code>/etc/hosts</code> with <code>sudo</code> access. However, when I tried to use the domain name in my program, python socket just failed to resolve the domain name. </p>\n\n<pre><code>import socket\n\nmysocket = socket.socket(socket.AF_INET,socket.SOCK_STREAM)\n'''Block of code'''\nmysocket.sendto('Hello!', 'www.example.domain.com')\nmysocket.close()\n</code></pre>\n\n<p>The error message here is: </p>\n\n<blockquote>\n  <p>socket.gaierror: [Errno 8] nodename nor servname provided, or not\n  known</p>\n</blockquote>\n\n<p>If I change <code>www.example.domain.com</code> to a plain text host name such as <code>testLogger</code>, python socket is able to resolve that. I can <code>ping</code> the domain name on my machine, so I'm just wondering why python socket can't resolve the domain name in this scenario.</p>\n"}, {"tags": ["python", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1504733137, "post_id": 46084476, "comment_id": 79131180, "body": "What are you trying to detect from the sinogram?"}, {"owner": {"reputation": 3545, "user_id": 1583052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8ac8174d6655935bbe8bba5267260f6?s=128&d=identicon&r=PG", "display_name": "Dipu", "link": "https://stackoverflow.com/users/1583052/dipu"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1504733246, "post_id": 46084476, "comment_id": 79131220, "body": "I need to get the dominating angle of the image. I am trying to fix the tilt before character segmentation for an OCR system"}, {"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1504733296, "post_id": 46084476, "comment_id": 79131241, "body": "Post an image and a possible desired output."}, {"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 1, "creation_date": 1504736526, "post_id": 46084476, "comment_id": 79132390, "body": "Dude post the original images where we can test something on, not this resized/merged version."}, {"owner": {"reputation": 3545, "user_id": 1583052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8ac8174d6655935bbe8bba5267260f6?s=128&d=identicon&r=PG", "display_name": "Dipu", "link": "https://stackoverflow.com/users/1583052/dipu"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1504739339, "post_id": 46084476, "comment_id": 79133177, "body": "I&#39;ve added some sample images. let me know if you need more."}], "answers": [{"tags": [], "owner": {"reputation": 1866, "user_id": 8128190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894371b5ca172f31b51cfcb727091855?s=128&d=identicon&r=PG&f=1", "display_name": "singrium", "link": "https://stackoverflow.com/users/8128190/singrium"}, "is_accepted": true, "score": 4, "last_activity_date": 1560443635, "last_edit_date": 1560443635, "creation_date": 1554118739, "answer_id": 55454222, "question_id": 46084476, "link": "https://stackoverflow.com/questions/46084476/radon-transformation-in-python/55454222#55454222", "title": "Radon transformation in python", "body": "<p>Well, I had a similar problem.. After spending some time googling the issue, I found a solution that worked for me. I hope it helps.</p>\n\n<pre><code>import numpy as np\nimport cv2\n\nfrom skimage.transform import radon\n\n\nfilename = 'your_filename'\n# Load file, converting to grayscale\nimg = cv2.imread(filename)\nI = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\nh, w = I.shape\n# If the resolution is high, resize the image to reduce processing time.\nif (w &gt; 640):\n    I = cv2.resize(I, (640, int((h / w) * 640)))\nI = I - np.mean(I)  # Demean; make the brightness extend above and below zero\n# Do the radon transform\nsinogram = radon(I)\n# Find the RMS value of each row and find \"busiest\" rotation,\n# where the transform is lined up perfectly with the alternating dark\n# text and white lines\nr = np.array([np.sqrt(np.mean(np.abs(line) ** 2)) for line in sinogram.transpose()])\nrotation = np.argmax(r)\nprint('Rotation: {:.2f} degrees'.format(90 - rotation))\n\n# Rotate and save with the original resolution\nM = cv2.getRotationMatrix2D((w/2, h/2), 90 - rotation, 1)\ndst = cv2.warpAffine(img, M, (w, h))\ncv2.imwrite('rotated.jpg', dst)\n</code></pre>\n\n<p><strong>Test:</strong><br>\nOriginal image:<br>\n<a href=\"https://i.stack.imgur.com/6y241.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6y241.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Rotated image: (rotation degree is -9\u00b0)<br>\n<a href=\"https://i.stack.imgur.com/OmUqS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmUqS.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>CREDITS:</strong><br>\n<a href=\"https://gist.github.com/endolith/334196bac1cac45a4893#file-rotation_spacing-py\" rel=\"nofollow noreferrer\">Detecting rotation and line spacing of image of page of text using Radon transform</a> </p>\n\n<p>The problem is that after rotating the image, you will get some black borders. For your case, I think it will not affect the OCR processing.</p>\n"}], "owner": {"reputation": 3545, "user_id": 1583052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a8ac8174d6655935bbe8bba5267260f6?s=128&d=identicon&r=PG", "display_name": "Dipu", "link": "https://stackoverflow.com/users/1583052/dipu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4207, "favorite_count": 3, "accepted_answer_id": 55454222, "answer_count": 1, "score": 3, "last_activity_date": 1560443635, "creation_date": 1504732685, "last_edit_date": 1504739274, "question_id": 46084476, "link": "https://stackoverflow.com/questions/46084476/radon-transformation-in-python", "title": "Radon transformation in python", "body": "<p>Here is a dummy code:</p>\n\n<pre><code>def radon(img):\n    theta = np.linspace(-90., 90., 180, endpoint=False)\n    sinogram = skimage.transform.radon(img, theta=theta, circle=True)\n    return sinogram\n# end def\n</code></pre>\n\n<p>I need to get the sinogram this code outputs without using <code>skimage</code>. But I am unable to find any implementation in python. Can you provide an implementation using only OpenCV, numpy or any other light-weight libraries?</p>\n\n<p><strong>Edit</strong>: I need this to get the dominating angle of the image. I am trying to fix the tilt before character segmentation for an OCR system. Examples are given below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SEJHH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SEJHH.png\" alt=\"enter image description here\"></a></p>\n\n<p>On the left side are the inputs, and on the right side are the desired output. </p>\n\n<p><strong>Edit 2</strong>: If you can provide any other ways to get this output, it will help too.</p>\n\n<p><strong>Edit 3</strong>: Some sample images:\n<a href=\"https://drive.google.com/open?id=0B2MwGW-_t275Q2Nxb3k3TGg4N1U\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0B2MwGW-_t275Q2Nxb3k3TGg4N1U</a></p>\n"}, {"tags": ["python", "python-2.7", "powershell", "subprocess"], "comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 3, "creation_date": 1504732668, "post_id": 46084409, "comment_id": 79130964, "body": "What output do you expect? What do you get? What do you get if you don&#39;t catch the error and potentially hide parts of it?"}, {"owner": {"reputation": 592, "user_id": 1684103, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f80e5ffeb1a827ad5c83bf841a83122?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1684103/mike"}, "edited": false, "score": 0, "creation_date": 1504738883, "post_id": 46084409, "comment_id": 79133044, "body": "What is the output of test_me.ps1 when you run it in PowerShell?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4365528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08865ee06081c3a974c310d015e8b754?s=128&d=identicon&r=PG&f=1", "display_name": "Dcase Mhrz", "link": "https://stackoverflow.com/users/4365528/dcase-mhrz"}, "is_accepted": false, "score": 0, "last_activity_date": 1504735067, "creation_date": 1504735067, "answer_id": 46084932, "question_id": 46084409, "link": "https://stackoverflow.com/questions/46084409/running-powershell-script-from-python-not-working/46084932#46084932", "title": "Running PowerShell script from Python not working", "body": "<p>In your code you just tried to output the exception Error while you wont get any because the python file you tried to run is not getting any error.</p>\n\n<hr>\n\n<p><strong>Check how the logic applies</strong></p>\n\n<p>I think you can accomplish it by returning data from the main python file and then getting it on a file to read from this script.</p>\n"}, {"tags": [], "owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "is_accepted": true, "score": 0, "last_activity_date": 1504738379, "creation_date": 1504738379, "answer_id": 46085433, "question_id": 46084409, "link": "https://stackoverflow.com/questions/46084409/running-powershell-script-from-python-not-working/46085433#46085433", "title": "Running PowerShell script from Python not working", "body": "<p>You want something along the lines of:</p>\n\n<pre><code>output = subprocess.call(\n    [\n        \"powershell\",\n        \"-File\", \"./test_me.ps1\",\n        \"-Name\", input_data['name'], \n        \"-Age\", input_data['age'], \n        \"Place\", input_data['place']\n    ])\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8480026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e03421b398f1b1d6487cd7640a7441dc?s=128&d=identicon&r=PG&f=1", "display_name": "NewPythoner", "link": "https://stackoverflow.com/users/8480026/newpythoner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 46085433, "answer_count": 2, "score": -1, "last_activity_date": 1504738379, "creation_date": 1504732322, "last_edit_date": 1504737077, "question_id": 46084409, "link": "https://stackoverflow.com/questions/46084409/running-powershell-script-from-python-not-working", "title": "Running PowerShell script from Python not working", "body": "<p>I am trying to run PowerShell script <code>test_me.ps1</code>, which takes 3 arguments: <code>-Name name</code>, <code>-Age age</code>, <code>-Place place</code>.</p>\n\n<p><code>input_data</code> is what I am passing from my pytest.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>try:\n    output = subprocess.call(\n        [\n            \"powershell.exe\",\n            \"-Name\" + input_data['name'],\n            \"-Age\" + input_data['age'],\n            \"Place\" + input_data['place']\n        ], '&amp;{. \"./test_me.ps1\"}')\nexcept subprocess.CalledProcessError, e:\n    print \"subprocess CalledProcessError.output = \" + e.output\nprint output\n</code></pre>\n\n<p>I want to check output.</p>\n"}, {"tags": ["python", "tensorflow", "protoc"], "comments": [{"owner": {"reputation": 98, "user_id": 201765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70937ac5bcaabf59da326eb7ec11e574?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/201765/igor"}, "edited": false, "score": 0, "creation_date": 1507929821, "post_id": 46084375, "comment_id": 80423309, "body": "Hi!  You need the protoc binary.  I see it&#39;s mentioned here <a href=\"https://github.com/tensorflow/models/blob/4f32535fe7040bb1e429ad0e3c948a492a89482d/research/object_detection/g3doc/installation.md#installation\" rel=\"nofollow noreferrer\">github.com/tensorflow/models/blob/&hellip;</a>, but I think you need to install it separately.   Does this <a href=\"https://github.com/google/protobuf/blob/master/src/README.md#c-installation---windows\" rel=\"nofollow noreferrer\">github.com/google/protobuf/blob/master/src/&hellip;</a> help?"}, {"owner": {"reputation": 1005, "user_id": 7857541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hFKHV.jpg?s=128&g=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/7857541/yash"}, "edited": false, "score": 0, "creation_date": 1549895815, "post_id": 46084375, "comment_id": 96058014, "body": "Check this Video- <a href=\"https://youtu.be/COlbP62-B-U?t=368\" rel=\"nofollow noreferrer\">youtu.be/COlbP62-B-U?t=368</a>"}], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 2947209, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1399363422/picture?type=large", "display_name": "Syed Anwar Fahim", "link": "https://stackoverflow.com/users/2947209/syed-anwar-fahim"}, "edited": false, "score": 0, "creation_date": 1540960379, "post_id": 47585716, "comment_id": 93050511, "body": "hi i have installed protobuf separately but it still giving me same error as above"}], "tags": [], "owner": {"reputation": 129, "user_id": 7318337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XhPpK.png?s=128&g=1", "display_name": "Salaudeen Abdulrahman", "link": "https://stackoverflow.com/users/7318337/salaudeen-abdulrahman"}, "is_accepted": true, "score": 0, "last_activity_date": 1512094881, "creation_date": 1512094881, "answer_id": 47585716, "question_id": 46084375, "link": "https://stackoverflow.com/questions/46084375/protobuf-compilation-issues/47585716#47585716", "title": "Protobuf Compilation Issues", "body": "<p>You need to install the Protocols buffer library first.</p>\n\n<p>pip install from your command line as shown below:</p>\n\n<pre><code>pip install protobuf\n</code></pre>\n\n<p>Then run your protoc command again</p>\n"}], "owner": {"reputation": 59, "user_id": 8308479, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7545cbda1fae1c817d3d41e0b60551c7?s=128&d=identicon&r=PG&f=1", "display_name": "singhcpt", "link": "https://stackoverflow.com/users/8308479/singhcpt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3776, "favorite_count": 0, "accepted_answer_id": 47585716, "answer_count": 1, "score": 2, "last_activity_date": 1549356930, "creation_date": 1504732185, "question_id": 46084375, "link": "https://stackoverflow.com/questions/46084375/protobuf-compilation-issues", "title": "Protobuf Compilation Issues", "body": "<p>I've been trying to run a TensorFlow library and in order to do that I have to compile Protobuf libraries. I'm using the following command: </p>\n\n<pre><code>C:\\tensorflow-master\\tensorflow\\models&gt;protoc object_detection/protos/*.proto --python_out=.\n</code></pre>\n\n<p>The following error comes up: </p>\n\n<pre><code>'protoc' is not recognized as an internal or external command,\n</code></pre>\n\n<p>operable program or batch file.</p>\n\n<p>I'm not sure what the issue is here. I'm running it out of the TensorFlow models directory, but it's still not recognizing protoc. </p>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "return"], "comments": [{"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 1, "creation_date": 1504732248, "post_id": 46084363, "comment_id": 79130780, "body": "You could create a list of tuples within the method and then return the list, or yield the tuples and use an iterator to get the values from the method by iterating over the results"}], "answers": [{"comments": [{"owner": {"reputation": 2444, "user_id": 3462509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d081277a16d009abe7b9447ed8171f84?s=128&d=identicon&r=PG&f=1", "display_name": "Solaxun", "link": "https://stackoverflow.com/users/3462509/solaxun"}, "reply_to_user": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1504732341, "post_id": 46084376, "comment_id": 79130819, "body": "sure - just providing an example of any arbitrary collection."}, {"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1504732556, "post_id": 46084376, "comment_id": 79130920, "body": "I don&#39;t know why it takes 10 minutes more to accept your answer. However very much thankful to you. I thought in the first place that this post would be saturated with unlimited downvotes because of my lack of knowledge but in reality you people are so helpful."}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1504732567, "post_id": 46084376, "comment_id": 79130925, "body": "wouldn&#39;t a list of tuples be more efficient than a list of lists in this scenario?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1504732884, "post_id": 46084376, "comment_id": 79131055, "body": "@BartVanLoon marginally. It&#39;s the sort of thing I wouldn&#39;t worry either way. But maybe I would just use a <code>tuple</code>, or even better, a <code>namedtuple</code>."}, {"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1504733141, "post_id": 46084376, "comment_id": 79131184, "body": "@Solaxun, I suppose you should care for providing with the same script using tuple as well. Thanks in advance."}, {"owner": {"reputation": 2444, "user_id": 3462509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d081277a16d009abe7b9447ed8171f84?s=128&d=identicon&r=PG&f=1", "display_name": "Solaxun", "link": "https://stackoverflow.com/users/3462509/solaxun"}, "reply_to_user": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1504733197, "post_id": 46084376, "comment_id": 79131205, "body": "@Topto We all start somewhere - glad to help. You typically only get downvoted into oblivion if you ask something that has been answered already, or you don&#39;t provide any concrete examples demonstrating that you have at least attempted your problem."}, {"owner": {"reputation": 2444, "user_id": 3462509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d081277a16d009abe7b9447ed8171f84?s=128&d=identicon&r=PG&f=1", "display_name": "Solaxun", "link": "https://stackoverflow.com/users/3462509/solaxun"}, "edited": false, "score": 0, "creation_date": 1504733265, "post_id": 46084376, "comment_id": 79131228, "body": "if you want a list of tuples, you can just change [title, link] to remove the brackets: title,link."}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 1, "creation_date": 1504733564, "post_id": 46084376, "comment_id": 79131383, "body": "no, since <code>append</code> only takes one argument and two would be given. you need to replace the []&#39;s with ()&#39;s"}, {"owner": {"reputation": 2444, "user_id": 3462509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d081277a16d009abe7b9447ed8171f84?s=128&d=identicon&r=PG&f=1", "display_name": "Solaxun", "link": "https://stackoverflow.com/users/3462509/solaxun"}, "reply_to_user": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 1, "creation_date": 1504733808, "post_id": 46084376, "comment_id": 79131458, "body": "Oops - yeah missed the parenthesis.  Good catch.  For appending, you would need to do (title,link) as @BartVanLoon mentioned.  However creating a tuple is signified by comma, not parenthesis (common point of confusion).  So, for example, if you created an intermediate variable <code>title_and_link = title,title_link</code> then you would only need to append <code>title_and_link</code> , parens not necessary."}, {"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1504734356, "post_id": 46084376, "comment_id": 79131680, "body": "Thanks a trillion to everyone for making such invaluable comments."}], "tags": [], "owner": {"reputation": 2444, "user_id": 3462509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d081277a16d009abe7b9447ed8171f84?s=128&d=identicon&r=PG&f=1", "display_name": "Solaxun", "link": "https://stackoverflow.com/users/3462509/solaxun"}, "is_accepted": true, "score": 4, "last_activity_date": 1504732189, "creation_date": 1504732189, "answer_id": 46084376, "question_id": 46084363, "link": "https://stackoverflow.com/questions/46084363/using-return-function-instead-of-print-in-a-scraper/46084376#46084376", "title": "Using &quot;return&quot; function instead of &quot;print&quot; in a scraper", "body": "<p>As soon as you return from a function, you exit the for loop.</p>\n\n<p>You should keep a list inside abacus, and append to the list on each iteration.  After the loop is finished, then return the list.</p>\n\n<p>For example:</p>\n\n<pre><code>import requests\nfrom lxml import html\n\nmain_link = \"http://onlinelibrary.wiley.com/journal/10.1111/(ISSN)1467-6281/issues\"\n\ndef abacus_scraper(main_link):\n    results = []\n    tree = html.fromstring(requests.get(main_link).text)\n    for titles in tree.cssselect(\"a.issuesInYear\"):\n        title = titles.cssselect(\"span\")[0].text\n        title_link = titles.attrib['href']\n        results.append([title, title_link])\n    return results\n\nprint(abacus_scraper(main_link))\n</code></pre>\n"}], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1504732625, "accepted_answer_id": 46084376, "answer_count": 1, "score": -1, "last_activity_date": 1504732610, "creation_date": 1504732131, "last_edit_date": 1504732610, "question_id": 46084363, "link": "https://stackoverflow.com/questions/46084363/using-return-function-instead-of-print-in-a-scraper", "closed_reason": "Duplicate", "title": "Using &quot;return&quot; function instead of &quot;print&quot; in a scraper", "body": "<p>In my script below if I take out \"return\" statement and place there \"print\" then I get all the results. However, If i run it as it is, i get only the first item. My question is how I can get all the results using \"return\" in this case, I meant, what should be the process?</p>\n\n<p>Here is the script:</p>\n\n<pre><code>import requests\nfrom lxml import html\n\nmain_link = \"http://onlinelibrary.wiley.com/journal/10.1111/(ISSN)1467-6281/issues\"\n\ndef abacus_scraper(main_link):\n    tree = html.fromstring(requests.get(main_link).text)\n    for titles in tree.cssselect(\"a.issuesInYear\"):\n        title = titles.cssselect(\"span\")[0].text\n        title_link = titles.attrib['href']\n        return title, title_link\n\nprint(abacus_scraper(main_link))\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>('2017 - Volume 53 Abacus', '/journal/10.1111/(ISSN)1467-6281/issues?activeYear=2017')\n</code></pre>\n"}, {"tags": ["python", "google-bigquery", "google-cloud-platform", "google-cloud-dataflow", "google-cloud-pubsub"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4173489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf23ca17dcbf082ea01293884f6cdd50?s=128&d=identicon&r=PG", "display_name": "Marco Rigodanzo", "link": "https://stackoverflow.com/users/4173489/marco-rigodanzo"}, "edited": false, "score": 0, "creation_date": 1504943854, "post_id": 46107826, "comment_id": 79219268, "body": "OK, thank you Eugene. I was hoping to use python. Do you know if this will change in the future? Can you also address me to an example of code reading from Pub/Sub and writing to BigQuery in java?"}, {"owner": {"reputation": 16592, "user_id": 278042, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/cd3a7820c69adfd1e8c62152248343c3?s=128&d=identicon&r=PG", "display_name": "jkff", "link": "https://stackoverflow.com/users/278042/jkff"}, "reply_to_user": {"reputation": 61, "user_id": 4173489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf23ca17dcbf082ea01293884f6cdd50?s=128&d=identicon&r=PG", "display_name": "Marco Rigodanzo", "link": "https://stackoverflow.com/users/4173489/marco-rigodanzo"}, "edited": false, "score": 0, "creation_date": 1504982211, "post_id": 46107826, "comment_id": 79230023, "body": "I believe this example uses both <a href=\"https://github.com/apache/beam/blob/master/examples/java8/src/main/java/org/apache/beam/examples/complete/game/LeaderBoard.java\" rel=\"nofollow noreferrer\">github.com/apache/beam/blob/master/examples/java8/src/main/j&zwnj;&#8203;ava/&hellip;</a>. Yes, Python will eventually catch up with Java (potentially via Beam&#39;s currently-in-development portability framework which will allow Python pipelines to use Java transforms), but I can&#39;t predict what the timeline will be."}], "tags": [], "owner": {"reputation": 16592, "user_id": 278042, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/cd3a7820c69adfd1e8c62152248343c3?s=128&d=identicon&r=PG", "display_name": "jkff", "link": "https://stackoverflow.com/users/278042/jkff"}, "is_accepted": false, "score": 2, "last_activity_date": 1504838452, "creation_date": 1504838452, "answer_id": 46107826, "question_id": 46084361, "link": "https://stackoverflow.com/questions/46084361/streaming-from-pub-sub-to-bigquery/46107826#46107826", "title": "Streaming from Pub/Sub to BigQuery", "body": "<p>Beam Python does not support writing to BigQuery from streaming pipelines. For now, you will need to use Beam Java - you can use respectively <code>PubsubIO.readStrings()</code> and <code>BigQueryIO.writeTableRows()</code>.</p>\n"}], "owner": {"reputation": 61, "user_id": 4173489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf23ca17dcbf082ea01293884f6cdd50?s=128&d=identicon&r=PG", "display_name": "Marco Rigodanzo", "link": "https://stackoverflow.com/users/4173489/marco-rigodanzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1875, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1504888642, "creation_date": 1504732124, "last_edit_date": 1504888642, "question_id": 46084361, "link": "https://stackoverflow.com/questions/46084361/streaming-from-pub-sub-to-bigquery", "title": "Streaming from Pub/Sub to BigQuery", "body": "<p>I am trying to stream some data from google PubSub into BigQuery using a python dataflow.\nFor testing purposes I have adapted the following code <a href=\"https://github.com/GoogleCloudPlatform/DataflowSDK-examples/blob/master/python/dataflow_examples/cookbook/bigquery_schema.py\" rel=\"noreferrer\">https://github.com/GoogleCloudPlatform/DataflowSDK-examples/blob/master/python/dataflow_examples/cookbook/bigquery_schema.py</a> into a streaming pipeline by setting </p>\n\n<pre><code>options.view_as(StandardOptions).streaming = True\n</code></pre>\n\n<p>So then I changed the record_ids pipeline to read from Pub/Sub </p>\n\n<pre><code># ADDED THIS\nlines = p | 'Read PubSub' &gt;&gt; beam.io.ReadStringsFromPubSub(INPUT_TOPIC) | beam.WindowInto(window.FixedWindows(15))\n# CHANGED THIS # record_ids = p | 'CreateIDs' &gt;&gt; beam.Create(['1', '2', '3', '4', '5'])\nrecord_ids = lines | 'Split' &gt;&gt; (beam.FlatMap(split_fn).with_output_types(unicode))\nrecords = record_ids | 'CreateRecords' &gt;&gt; beam.Map(create_random_record)\nrecords | 'Write' &gt;&gt; beam.io.Write(\n    beam.io.BigQuerySink(\n        OUTPUT,\n        schema=table_schema,\n        create_disposition=beam.io.BigQueryDisposition.CREATE_IF_NEEDED,\n        write_disposition=beam.io.BigQueryDisposition.WRITE_TRUNCATE))\n</code></pre>\n\n<p>Note: I have been whitelisted by google to run the code (in alpha)</p>\n\n<p>Now when I try it I have an error </p>\n\n<p>Workflow failed. Causes: (f215df7c8fcdbb00): Unknown streaming sink: bigquery</p>\n\n<p>You can find the full code here: <a href=\"https://github.com/marcorigodanzo/gcp_streaming_test/blob/master/my_bigquery_schema.py\" rel=\"noreferrer\">https://github.com/marcorigodanzo/gcp_streaming_test/blob/master/my_bigquery_schema.py</a></p>\n\n<p>I think that this has to do with the pipeline being now of type streaming, can anyone please tell me how to do a bigQuery write in a streaming pipeline?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1504732272, "post_id": 46084316, "comment_id": 79130789, "body": "Additionally, please note that you should always use the generic [python] tag and include any version specific tags, optionally."}, {"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "edited": false, "score": 0, "creation_date": 1504732432, "post_id": 46084316, "comment_id": 79130863, "body": "If you really need a precise value, Python has the <code>decimal</code> module."}], "answers": [{"tags": [], "owner": {"reputation": 2986, "user_id": 1930814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/k3Cu7.jpg?s=128&g=1", "display_name": "Dalton C&#233;zane", "link": "https://stackoverflow.com/users/1930814/dalton-c%c3%a9zane"}, "is_accepted": true, "score": 2, "last_activity_date": 1504732317, "last_edit_date": 1592644375, "creation_date": 1504732317, "answer_id": 46084406, "question_id": 46084316, "link": "https://stackoverflow.com/questions/46084316/python-2-7-subtracting-two-decimals-4-3-and-2-7-but-not-getting-a-specific-an/46084406#46084406", "title": "Python 2.7- Subtracting two decimals (4.3 and 2.7) but not getting a specific answer", "body": "<p>This is because of the numerical representation of both decimal numbers (<code>4.7</code> and <code>2.3</code>) in binary:</p>\n<blockquote>\n<p>4.7 is represented in binary as 100.10110011001100110011...</p>\n<p>2.3 is represented in binary as 10.01001100110011001101...</p>\n</blockquote>\n<p>As you can see, both are periodic tithes in binary. This is why you do not obtain a precise result.</p>\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 35, "user_id": 6285919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cBn6L.png?s=128&g=1", "display_name": "DamagedSoul97", "link": "https://stackoverflow.com/users/6285919/damagedsoul97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1504733191, "accepted_answer_id": 46084406, "answer_count": 1, "score": -1, "last_activity_date": 1504732317, "creation_date": 1504731875, "last_edit_date": 1504732169, "question_id": 46084316, "link": "https://stackoverflow.com/questions/46084316/python-2-7-subtracting-two-decimals-4-3-and-2-7-but-not-getting-a-specific-an", "closed_reason": "Duplicate", "title": "Python 2.7- Subtracting two decimals (4.3 and 2.7) but not getting a specific answer", "body": "<p>When I subtract 4.7 from 2.3, I get a number with 16 decimal places, instead of getting a specific number with one decimal place. How come it doesn't give you a specific answer?</p>\n"}, {"tags": ["python", "ajax", "dmz"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1504731952, "post_id": 46084300, "comment_id": 79130657, "body": "This is not a programming question and therefor off-topic."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1504732043, "post_id": 46084300, "comment_id": 79130695, "body": "Why does being in the secure zone mean you can&#39;t add an SSL certificate to it?"}], "owner": {"reputation": 33, "user_id": 6701731, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PWzo69GLvdI/AAAAAAAAAAI/AAAAAAAACB0/QsfLbh7RZK8/photo.jpg?sz=128", "display_name": "Gustavo Rojo Blasquez", "link": "https://stackoverflow.com/users/6701731/gustavo-rojo-blasquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504731817, "creation_date": 1504731817, "question_id": 46084300, "link": "https://stackoverflow.com/questions/46084300/how-to-send-ajax-request-from-dmz-to-internal-secure-network", "title": "How to send ajax request from DMZ to Internal Secure Network?", "body": "<p>When trying to send an ajax request from DMZ to Internal Local Network, I receive the error \"Mixed Content: The page at 'URL' was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint\".\nOne solution found in Google was to add the SSL certificate to the computer where the web service is. However my web service is in the secure zone of the network (with no access to internet) so I cann't add the SSL certificate to it.\nAny suggestions would be helpful.\nThanks.</p>\n"}, {"tags": ["python", "html", "django"], "answers": [{"comments": [{"owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "edited": false, "score": 0, "creation_date": 1504739138, "post_id": 46084474, "comment_id": 79133125, "body": "Damn how the hell did that happen, I don&#39;t eve remember changing them"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 2, "last_activity_date": 1504732681, "creation_date": 1504732681, "answer_id": 46084474, "question_id": 46084261, "link": "https://stackoverflow.com/questions/46084261/cant-iterate-through-users-list-with-django-tags/46084474#46084474", "title": "Can&#39;t iterate through Users list with django tags", "body": "<p>Your context dictionary is the wrong way round: you've swapped the keys and values. It should be:</p>\n\n<pre><code>return render(request, 'profile_test.html', {'form': form, 'user': user, 'all_users': all_users})\n</code></pre>\n"}], "owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 46084474, "answer_count": 1, "score": 0, "last_activity_date": 1504732681, "creation_date": 1504731618, "question_id": 46084261, "link": "https://stackoverflow.com/questions/46084261/cant-iterate-through-users-list-with-django-tags", "title": "Can&#39;t iterate through Users list with django tags", "body": "<p>I'm creating a friends list feature for a website, right now I'm just testing it. So I'm trying to display all Users with a little button beside their name that would send a friend request to them. But when I do it nothing appears on the page</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;h1&gt;My profile&lt;/h1&gt;\n    {% for each_user in all_users %}\n        &lt;a href=\"{% url 'change_friends' operation='add' pk=each_user.pk %}\"&gt; Click &lt;/a&gt;\n        &lt;h3&gt;{{ each_user.first_name }}&lt;h3&gt;\n    {% endfor %}\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>def profile_test(request):\n    #going to use this view to display the profile page, and test alterations to it\n    form = ImageUploadForm(request.POST, request.FILES)\n    user = User.objects.get(id=request.user.id)\n    all_users = User.objects.all()\n    if request.method == \"POST\":\n        user.userprofile.img = request.FILES.get('uploaded_image')\n        user.userprofile.save()\n        return HttpResponseRedirect(reverse(\"profile_test\"))\n    else:\n        print 'invalid'\n        form = ImageUploadForm()\n\n    return render(request, 'profile_test.html', {form:'form', user: 'user', all_users:'all_users'})\n\ndef change_friends(request, operation, pk):\n    #this view will manage a user's friends\n    other_user = User.objects.get(pk=pk)\n    #a list of primary keys\n\n    if operation == 'add':\n        Friend.objects.add_friend(\n            request.user, other_user, message='Hi, I would like to add you')\n\n    elif operation == 'remove':\n        Friend.objects.remove_friend(request.user, other_user)\n\n\n    return redirect('profile_test')\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "apply"], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1504731724, "creation_date": 1504731724, "answer_id": 46084280, "question_id": 46084251, "link": "https://stackoverflow.com/questions/46084251/pandas-dataframe-apply-function-to-create-new-column-based-on-selected-row/46084280#46084280", "title": "Pandas dataframe apply function to create new column based on selected row", "body": "<p>Maybe try this.</p>\n\n<pre><code>df.assign(C=df.index-1)\nOut[28]: \n     A    B  C\n0  foo  bar -1\n1  bar  foo  0\n2  foo  bar  1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 5812306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c4626dd4faf372d8e011ad97361e632?s=128&d=identicon&r=PG&f=1", "display_name": "Henry Thomas", "link": "https://stackoverflow.com/users/5812306/henry-thomas"}, "is_accepted": true, "score": 0, "last_activity_date": 1505164263, "last_edit_date": 1505164263, "creation_date": 1504759691, "answer_id": 46088020, "question_id": 46084251, "link": "https://stackoverflow.com/questions/46084251/pandas-dataframe-apply-function-to-create-new-column-based-on-selected-row/46088020#46088020", "title": "Pandas dataframe apply function to create new column based on selected row", "body": "<p>Found the answer I was looking for. For those interested:</p>\n\n<pre><code>def applyCol(row):\n    return row.name - USER_SELECTED_INDEX #row.name resolves to the index\n\ndf['C'] = df.apply(applyCol, axis=1)\n</code></pre>\n\n<p>Happy coding!</p>\n"}], "owner": {"reputation": 396, "user_id": 5812306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c4626dd4faf372d8e011ad97361e632?s=128&d=identicon&r=PG&f=1", "display_name": "Henry Thomas", "link": "https://stackoverflow.com/users/5812306/henry-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 46088020, "answer_count": 2, "score": 0, "last_activity_date": 1505164263, "creation_date": 1504731570, "question_id": 46084251, "link": "https://stackoverflow.com/questions/46084251/pandas-dataframe-apply-function-to-create-new-column-based-on-selected-row", "title": "Pandas dataframe apply function to create new column based on selected row", "body": "<p>I am trying to generate a new column in a dataframe that is equal to the current rows index minus the index of the row originally selected by a user. Say we have this dataframe:</p>\n\n<pre><code>     A    B C\n0  foo  bar  \n1  bar  foo  \n2  foo  bar  \n</code></pre>\n\n<p>and our user has selected row 1. I want the values of column C to be this:</p>\n\n<pre><code>    A    B   C\n0  foo  bar -1\n1  bar  foo  0\n2  foo  bar  1\n</code></pre>\n\n<p>I already know this can sort of be implemented by iterating through the dataframe using something like this:</p>\n\n<pre><code>for index,row in df.iterrows():\n    df['C'].loc[index] = index - USER_SELECTED_INDEX\n</code></pre>\n\n<p>however this is very slow. So slow in fact that it doesn't work.</p>\n\n<p>My question is, how can I use df.apply to speed things up? And how can I pass the index of the current row to my function that is being applied? I want to do something like:</p>\n\n<pre><code>def applyCol(index):\n    df['C'].loc[index] = index - USER_SELECTED_INDEX\n\ndf['C'] = df.apply(applyCol, axis=1)\n</code></pre>\n"}, {"tags": ["python", "html", "csv", "flask", "jinja2"], "comments": [{"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1504732835, "post_id": 46084145, "comment_id": 79131037, "body": "I think you have better options to draw a label (field name) and a text input (new field name), instead of the select part, it will be easier to handle, and its also more handy for users"}, {"owner": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "reply_to_user": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1504734928, "post_id": 46084145, "comment_id": 79131907, "body": "I will be using different CSV files with a different number of columns, therefore, I am not sure how many labels and text inputs will be required. I thought giving a selection menu would be a better idea and update it every time."}, {"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1504735943, "post_id": 46084145, "comment_id": 79132209, "body": "Inside the <code>for</code> loop you can draw one label and one input in a line, exactly like you did for one option of the selection menu. Maybe you had an easier idea to get the new title from user ?"}, {"owner": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "reply_to_user": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1504752663, "post_id": 46084145, "comment_id": 79136179, "body": "Could you show me an example to how to do it and after getting the text input how to handle it Flask?"}, {"owner": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "reply_to_user": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1505927917, "post_id": 46084145, "comment_id": 79617195, "body": "Hi @PRMoureu I could not try out the code you posted earlier due to some health issues. If will be grateful if you could repost the code?"}, {"owner": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "reply_to_user": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1505929291, "post_id": 46084145, "comment_id": 79618050, "body": "Thanks, I will just try and let you know."}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "edited": false, "score": 0, "creation_date": 1507701461, "post_id": 46381965, "comment_id": 80309376, "body": "return render_template(&#39;main.html&#39;, title=data, filename=savepath)"}, {"owner": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "edited": false, "score": 0, "creation_date": 1508465514, "post_id": 46381965, "comment_id": 80630681, "body": "Thanks. It has been very useful for me.&#39;for index in range(1, len(request.form)):           newtitles.append(request.form.get(&#39;field-&#39; + str(index)))&#39; These two lines did not work for me, so i found out the number of fields--           <code>for index in range(1, numofField+1):           newtitles.append(request.form[&#39;field-&#39; + str(index)])</code>"}, {"owner": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "edited": false, "score": 0, "creation_date": 1508981098, "post_id": 46381965, "comment_id": 80836204, "body": "How to apply form validation to the names i enter. I want the length of the names of to be of size 8 with no special characters?"}, {"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "reply_to_user": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "edited": false, "score": 1, "creation_date": 1508997892, "post_id": 46381965, "comment_id": 80840875, "body": "Hi, you can test the function from this <a href=\"https://stackoverflow.com/questions/24774367/how-to-validate-html-textbox-not-to-allow-special-characters-and-space\">post</a> for the special characters, and apply <code>maxlength=&quot;8&quot;</code> inside the tag <code>&lt;input type=&quot;text&quot; maxlength=&quot;8&quot;...</code>"}, {"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "reply_to_user": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "edited": false, "score": 0, "creation_date": 1508999700, "post_id": 46381965, "comment_id": 80841738, "body": "Note that this only works with keypress, you may need to check this in the view instead if you want to prevent copypasted forbidden characters. Next step could be to use WTF forms with validators"}], "tags": [], "owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "is_accepted": true, "score": 1, "last_activity_date": 1506191502, "last_edit_date": 1506191502, "creation_date": 1506185186, "answer_id": 46381965, "question_id": 46084145, "link": "https://stackoverflow.com/questions/46084145/how-to-update-the-fieldnames-of-a-csv-file-given-by-user-input/46381965#46381965", "title": "How to update the fieldnames of a csv file given by user input?", "body": "<p><strong>The Template</strong></p>\n\n<p>As said in the comments previously, you should replace the selection menu by a list of <code>label</code> and text <code>input</code> (in the html template). This makes the process much easier for you and mostly for users, they can update all fields instead of editing them one by one.</p>\n\n<p>The text input can be identified by a name containing the loop index, so you can match the original field in the POST request (even if two fieldnames are equal). The default value is the original title, so user can keep it or modify.</p>\n\n<p>Display Example: </p>\n\n<pre><code>Field 1 : Title1\nField 2 : Title2\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;form class=\"col s12\" action=\"/update\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;h2&gt;Update Fieldnames&lt;/h2&gt;\n                {% for x in title %}\n                  &lt;label&gt; Field {{ loop.index }} : &lt;/label&gt;\n                  &lt;input type=\"text\" name=\"field-{{ loop.index }}\" value=\"{{ x }}\" &gt;&lt;/input&gt;\n                  &lt;br&gt;\n                {% endfor %}\n            &lt;input type=\"hidden\" name=\"filename\" value= {{filename}}&gt;&lt;/input&gt;\n            &lt;button class=\"btn\" type=\"submit\" value=\"Update\"&gt;Submit&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The filename is added as <em>hidden input</em> in the form to be able to reach the file in the view, and handle the fields update.</p>\n\n<p>This requires to add the variable in the <code>render_template</code> statement :</p>\n\n<pre><code>return render_template('main.html', title=data, filename=savepath) #according to the variable in the function save_in()\n</code></pre>\n\n<hr>\n\n<p><strong>The View</strong></p>\n\n<p>Then the <code>update</code> view can grab the <code>request.form</code> values and create a new list of fieldnames. </p>\n\n<pre><code>@app.route(\"/update\", methods=['POST'])\ndef update():\n    filepath = request.form['filename']\n    newtitles = []\n    for index in range(1, len(request.form)):  # begin at 1 and leave filename out\n        newtitles.append(request.form.get('field-' + str(index)))\n\n    rows = [newtitles] # stores the new header\n\n    with open(filepath, 'r') as csv_in :\n        reader = csv.reader(csv_in)\n        next(reader, None) # ignores the original header\n        for row in reader:\n            rows.append(row) # stores all rows\n\n    with open(filepath, 'w') as csv_out:\n        writer = csv.writer(csv_out)\n        writer.writerows(rows) # writes all rows, including new header\n\n    return \"\"\"&lt;html&gt;&lt;div&gt;New titles updated: {} to the file {}&lt;/div&gt;&lt;/html&gt;\"\"\".format(newtitles, filepath)\n</code></pre>\n\n<p>The file is replaced by a new version, it takes some lines more to achieve this, but if you prefer keeping the original version, you can get some inspiration from <a href=\"https://stackoverflow.com/a/14257599/6655211\">this post</a>.</p>\n"}], "owner": {"reputation": 199, "user_id": 5433480, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PmpcGN-qKTQ/AAAAAAAAAAI/AAAAAAAAE5U/K3ojNtqXBeQ/photo.jpg?sz=128", "display_name": "gkuhu", "link": "https://stackoverflow.com/users/5433480/gkuhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 2, "accepted_answer_id": 46381965, "answer_count": 1, "score": 2, "last_activity_date": 1506191502, "creation_date": 1504731103, "last_edit_date": 1506186638, "question_id": 46084145, "link": "https://stackoverflow.com/questions/46084145/how-to-update-the-fieldnames-of-a-csv-file-given-by-user-input", "title": "How to update the fieldnames of a csv file given by user input?", "body": "<p>I am trying to build an application which takes different CSV files with a different number of columns. For example, my CSV file has around 30 columns whose field names have special characters. So, I would like to update the field names given by the user.I have a CSV file that looks something like this:</p>\n\n<pre><code>ques.1,ques.2\n3,5\n5,1\n</code></pre>\n\n<p>I want to update the column names <code>ques.1, ques.2</code> with the titles given by the user (TV, Radio).</p>\n\n<h2>Python:</h2>\n\n<pre><code>def upload():\n    if request.method == 'POST':\n        # check if the post request has the file part\n        if 'file' not in request.files:\n            flash('No file part')\n            return redirect(request.url)\n        file = request.files['file']\n\n        # if user does not select file, browser also\n        # submit a empty part without filename\n        if file.filename == '':\n            flash('No selected file')\n            return redirect(request.url)\n\n        if file and allowed_file(file.filename):\n            app.logger.info('File Saved')\n\n            filename = secure_filename(file.filename)\n            savepath = os.path.join(app.config['UPLOAD_FOLDER'], filename)\n            flash(savepath)\n            file.save(savepath)\n\n            save_in(savepath)\n\n            return redirect(url_for('upload', filename=filename))\n\n    return render_template('pages/placeholder.upload.html') \n</code></pre>\n\n<hr>\n\n<pre><code>def save_in(savepath):\n    app.logger.info(savepath)\n\n    csv_rows = []\n\n    with open(savepath) as csvfile:\n        reader = csv.DictReader(csvfile)\n        title = reader.fieldnames\n        for row in reader:\n            csv_rows.extend([{title[i]:row[title[i]] for i in range(len(title))}])\n</code></pre>\n\n<p>I have tried to populate the field names in a selection menu. But I am not able to figure out how to make the user:</p>\n\n<ol>\n<li>Choose the field-name to update from the selection menu.</li>\n<li>Enter the new field name.</li>\n<li>Click on the \"update\" button to change the field name.</li>\n</ol>\n\n<h2>HTML</h2>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;form class=\"col s12\" action=\"/upload\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"input-field col s12 m6\"&gt;\n             &lt;label&gt;Update Fieldnames&lt;/label&gt;\n                &lt;select class=\"icons\"&gt;\n                {% for x in title %}\n                &lt;option value=\"{{ x }}\"{% if loop.first %} SELECTED{% endif %}&gt;{{ x }}&lt;/option&gt;\n                {% endfor %}\n                &lt;/select&gt;\n                &lt;button class=\"btn\" type=\"submit\" value=\"Update\"&gt;Submit&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2142, "user_id": 7923124, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y53Pw.jpg?s=128&g=1", "display_name": "Chetan_Vasudevan", "link": "https://stackoverflow.com/users/7923124/chetan-vasudevan"}, "edited": false, "score": 0, "creation_date": 1504731293, "post_id": 46084134, "comment_id": 79130379, "body": "How do you expect your output to be is it rgb format ?"}, {"owner": {"reputation": 1674, "user_id": 6613299, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WGQGV.jpg?s=128&g=1", "display_name": "Rohit-Pandey", "link": "https://stackoverflow.com/users/6613299/rohit-pandey"}, "reply_to_user": {"reputation": 2142, "user_id": 7923124, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y53Pw.jpg?s=128&g=1", "display_name": "Chetan_Vasudevan", "link": "https://stackoverflow.com/users/7923124/chetan-vasudevan"}, "edited": false, "score": 0, "creation_date": 1504731351, "post_id": 46084134, "comment_id": 79130403, "body": "In coloured pixel format?@ Chetan Vasudevan"}, {"owner": {"reputation": 1674, "user_id": 6613299, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WGQGV.jpg?s=128&g=1", "display_name": "Rohit-Pandey", "link": "https://stackoverflow.com/users/6613299/rohit-pandey"}, "reply_to_user": {"reputation": 2142, "user_id": 7923124, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y53Pw.jpg?s=128&g=1", "display_name": "Chetan_Vasudevan", "link": "https://stackoverflow.com/users/7923124/chetan-vasudevan"}, "edited": false, "score": 0, "creation_date": 1504731788, "post_id": 46084134, "comment_id": 79130591, "body": "My output in colored dot format."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1504731915, "post_id": 46084134, "comment_id": 79130644, "body": "<a href=\"https://pypi.python.org/pypi/colored\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/colored</a> ...  its probably worth noting it appears that you are using the &quot;colored&quot; package ... windows doesnt usually work very well with ansii escape sequences in my experience (however here is my output on a tty terminal <a href=\"https://i.imgur.com/AHiQUWf.png\" rel=\"nofollow noreferrer\">i.imgur.com/AHiQUWf.png</a>)"}, {"owner": {"reputation": 1563, "user_id": 3404040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JrNTUKgimeo/AAAAAAAAAAI/AAAAAAAAACw/-9QAfnVSUDs/photo.jpg?sz=128", "display_name": "Take_Care_", "link": "https://stackoverflow.com/users/3404040/take-care"}, "edited": false, "score": 0, "creation_date": 1504736407, "post_id": 46084134, "comment_id": 79132356, "body": "why You just don&#39;t use some charater which looks like pixel for ex this \u2588, the only problem probably will be unicode support."}], "owner": {"reputation": 1674, "user_id": 6613299, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WGQGV.jpg?s=128&g=1", "display_name": "Rohit-Pandey", "link": "https://stackoverflow.com/users/6613299/rohit-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504731410, "creation_date": 1504731057, "question_id": 46084134, "link": "https://stackoverflow.com/questions/46084134/how-to-get-coloured-pixel-from-hex-colour-code-in-python", "title": "How to get coloured pixel from hex colour code in python?", "body": "<p>This is my code for converting text into color pixel but it prints only dot of a particular color.</p>\n\n<pre><code>from colored import fg, bg, attr\nd={}\nd[\"a\"]=\"#800000\"\nd[\"b\"]=\"#c0c0c0\"\nd[\"c\"]=\"#ffff00\" \nd[\"d\"]=\"#000080\"\nd[\"e\"]=\"#ffffff\"\nd[\"f\"]=\"#ff00ff\"\nd[\"g\"]=\"#808080\"\nd[\"h\"]=\"#008080\"\nd[\"i\"]=\"#005f00\"\nd[\"j\"]=\"#00afff\"\nd[\"k\"]=\"#00ffff\"\nd[\"l\"]=\"#5f0000\" \nd[\"m\"]=\"#5f5f5f\"\nd[\"n\"]=\"#5f5fd7\"\nd[\"o\"]=\"#5f8700\"\nd[\"p\"]=\"#5fff5f\"\nd[\"q\"]=\"#870087\"\nd[\"r\"]=\"#875faf\"\nd[\"s\"]=\"#878787\"\nd[\"t\"]=\"#af00af\"\nd[\"u\"]=\"#af5f87\"\nd[\"v\"]=\"#afff00\"\nd[\"w\"]=\"#d75fff\"\nd[\"x\"]=\"#d787d7\"\nd[\"y\"]=\"#d7afff\"\nd[\"z\"]=\"#ffd700\"\nfor key in d:\n    color = fg(d[key])\n    res = attr('reset')\n    print (color + \".\" + res)\n</code></pre>\n\n<p>This above program print dots of particular color. I want to print a <code>pixel</code> of a particular color.</p>\n"}, {"tags": ["python", "scikit-learn", "decision-tree"], "comments": [{"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1504777946, "post_id": 46084098, "comment_id": 79148096, "body": "Maybe this can help: <a href=\"http://scikit-learn.org/stable/auto_examples/tree/plot_unveil_tree_structure.html#sphx-glr-auto-examples-tree-plot-unveil-tree-structure-py\" rel=\"nofollow noreferrer\">scikit-learn.org/stable/auto_examples/tree/&hellip;</a>"}, {"owner": {"reputation": 6472, "user_id": 1090367, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PNgBE.jpg?s=128&g=1", "display_name": "Selah", "link": "https://stackoverflow.com/users/1090367/selah"}, "reply_to_user": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1504796572, "post_id": 46084098, "comment_id": 79161554, "body": "That example helped me find the feature and threshold values, but I don&#39;t see a way to extract probabilities for each node other than artificially creating a sample based on each decision path.  And that would only get me terminal nodes :/"}], "answers": [{"tags": [], "owner": {"reputation": 6472, "user_id": 1090367, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PNgBE.jpg?s=128&g=1", "display_name": "Selah", "link": "https://stackoverflow.com/users/1090367/selah"}, "is_accepted": true, "score": 1, "last_activity_date": 1505833651, "creation_date": 1505833651, "answer_id": 46303912, "question_id": 46084098, "link": "https://stackoverflow.com/questions/46084098/predicted-classification-probability-from-a-tree-node-in-trained-sklearn-decisio/46303912#46303912", "title": "Predicted classification probability from a tree node in trained sklearn DecisionTreeClassifier", "body": "<p>I discovered that values is the count of samples that fall in each class and my \"prediction probability\" can be considered the proportion of samples that fall in a given class.  Thus I can calculate it using the following:</p>\n\n<pre><code>samples = dtc.tree_.n_node_samples\nclass1_positives = dtc.tree_.value[:,0,1]\nprobs = (class1_positives/samples).tolist()\n</code></pre>\n"}], "owner": {"reputation": 6472, "user_id": 1090367, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PNgBE.jpg?s=128&g=1", "display_name": "Selah", "link": "https://stackoverflow.com/users/1090367/selah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1102, "favorite_count": 0, "accepted_answer_id": 46303912, "answer_count": 1, "score": 1, "last_activity_date": 1505833651, "creation_date": 1504730882, "last_edit_date": 1592644375, "question_id": 46084098, "link": "https://stackoverflow.com/questions/46084098/predicted-classification-probability-from-a-tree-node-in-trained-sklearn-decisio", "title": "Predicted classification probability from a tree node in trained sklearn DecisionTreeClassifier", "body": "<p>I have fit an instance of DecisionTreeClassifier and I am trying to extract prediction probabilities for each node.  I need this in order to create custom decision tree visualization similar to what is shown below.</p>\n<p>I can export features and thresholds for each node.</p>\n<pre><code>dtc.tree_.feature\nOut[72]: array([93, 36, 92, 51, 84, -2, 20, -2, -2, -2, -2, -2,  6, -2, -2])\n\ndtc.tree_.threshold\nOut[73]: \narray([ 50.5       ,   0.5       ,  85.50991821,   0.5       ,\n         5.5       ,  -2.        ,   0.5       ,  -2.        ,\n        -2.        ,  -2.        ,  -2.        ,  -2.        ,\n         0.5       ,  -2.        ,  -2.        ])\n</code></pre>\n<p>Ideally I would export prediction probabilities for each node using something similar to this.</p>\n<pre><code>dtc.tree_.probability\nOut[xx]:\narray([0.50, 0.42, 0.21, 0.45, 0.62, ....])\n</code></pre>\n<p>Is this possible?</p>\n<p><a href=\"https://i.stack.imgur.com/MbcW3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MbcW3.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "owner": {"reputation": 654, "user_id": 3749379, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/721ac4a4083feedc514f442b6c8cd9ea?s=128&d=identicon&r=PG&f=1", "display_name": "Thagor", "link": "https://stackoverflow.com/users/3749379/thagor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1504777607, "creation_date": 1504730793, "last_edit_date": 1504770242, "question_id": 46084078, "link": "https://stackoverflow.com/questions/46084078/how-to-print-something-to-the-stderr-webui-of-an-application", "title": "How to &quot;print&quot; something to the stderr webui of an application", "body": "<p>I'm using Spark 2.2.0 with pyspark.\nfrom my master's web UI I can navigate to the webUI of a running application. There I can open the stderr log which presents me with information about the application. Like for example:</p>\n\n<pre><code>17/09/06 17:20:02 INFO Executor: Starting executor ID 0 on host 1.1.1.1\n17/09/06 17:20:02 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 11111.\n17/09/06 17:20:02 INFO NettyBlockTransferService: Server created on 1.1.1.1:11111\n</code></pre>\n\n<p>and so on.</p>\n\n<p>now I want to output information from my application to this weblog and I seem to not really to understand how to do that. The two things I tried are:</p>\n\n<pre><code>logger = sc._jvm.org.apache.log4j.LogManager.getRootLogger()\nlogger.warn('This will show up as expected')\n</code></pre>\n\n<p>and </p>\n\n<pre><code>log4jLogger = sc._jvm.org.apache.log4j\nlogger = log4jLogger.LogManager.getLogger(__name__)\nlogger.info(\"pyspark script logger initialized\")\n</code></pre>\n\n<p>both without a result.</p>\n\n<p>so how do I manage to output something on the WebUI log of an spark application?</p>\n"}, {"tags": ["python", "index-error"], "comments": [{"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1504731005, "post_id": 46084074, "comment_id": 79130245, "body": "what value is <code>i</code> when the error occurs? and does the error persist if you move the <code>findall</code> operation outside of the loop?"}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "reply_to_user": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1504731040, "post_id": 46084074, "comment_id": 79130256, "body": "I&#39;m not sure, but I tried both 0 and 131 and those both worked outside of the loop."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 2, "creation_date": 1504731045, "post_id": 46084074, "comment_id": 79130258, "body": "First, why do you calculate <code>re.findall(dtdict[&#39;tx&#39;], str(entries))</code> in the loop? It does no change. Calculate it once before the loop starts (as <code>times</code>) and use the list in the loop."}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1504731169, "post_id": 46084074, "comment_id": 79130312, "body": "@DYZ tried your suggestion just now, but I&#39;m still getting the same error."}, {"owner": {"reputation": 7592, "user_id": 840582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/R97cw.png?s=128&g=1", "display_name": "Chen A.", "link": "https://stackoverflow.com/users/840582/chen-a"}, "edited": false, "score": 0, "creation_date": 1504731196, "post_id": 46084074, "comment_id": 79130326, "body": "you should move <code>times = re.findall(dtdict[&#39;tx&#39;], str(entries))</code> outside the for loop to compute this once and note 132 times."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 2, "creation_date": 1504731243, "post_id": 46084074, "comment_id": 79130353, "body": "Once you do what I suggested, get rid of <code>i</code> entirely: <code>for r,t in zip(rawdates,times): localtime = r+t; print(localtime)</code>. No <code>i</code> - no problem."}, {"owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "edited": false, "score": 0, "creation_date": 1504731618, "post_id": 46084074, "comment_id": 79130513, "body": "Thank you, it works now after moving the <code>findall</code> outside the loop! I didn&#39;t have to remove the <code>i</code> either."}], "answers": [{"tags": [], "owner": {"reputation": 7592, "user_id": 840582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/R97cw.png?s=128&g=1", "display_name": "Chen A.", "link": "https://stackoverflow.com/users/840582/chen-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1504731531, "creation_date": 1504731531, "answer_id": 46084238, "question_id": 46084074, "link": "https://stackoverflow.com/questions/46084074/list-index-out-of-range-error-but-cant-see-why/46084238#46084238", "title": "List index out of range error, but can&#39;t see why?", "body": "<p>Assuming your lists contains strings, you can use <code>zip</code> function to iterate over both lists simultenously:</p>\n\n<pre><code>&gt;&gt;&gt; times = ['1', '2', '3', '4']\n&gt;&gt;&gt; rawdates = ['raw1', 'raw2', 'raw3', 'raw4']\n&gt;&gt;&gt; for time, rawdate in zip(times, rawdates):\n    localt = time + rawdate\n    print localt\n\n\n1raw1\n2raw2\n3raw3\n4raw4\n</code></pre>\n\n<p>Note that both variables are computed before the <code>for</code> loop.\nYou can also use <code>itertools.izip</code> which makes an iterator instead of a list.</p>\n\n<p><a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow noreferrer\">Python's zip function docs</a></p>\n"}], "owner": {"reputation": 1052, "user_id": 8474432, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/71c628c0ad8557384540efe8c7cdab1e?s=128&d=identicon&r=PG&f=1", "display_name": "curious_cosmo", "link": "https://stackoverflow.com/users/8474432/curious-cosmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504731531, "creation_date": 1504730779, "question_id": 46084074, "link": "https://stackoverflow.com/questions/46084074/list-index-out-of-range-error-but-cant-see-why", "title": "List index out of range error, but can&#39;t see why?", "body": "<p>This is pretty simple, but I can't figure out why I'm getting the 'list index out of range' error. I have a list called 'cycle_entries' and a list called 'rawdates' which both have a length of 132:</p>\n\n<pre><code>print len(cycle_entries)\nprint len(rawdates)\n132\n132\n</code></pre>\n\n<p>The output of this is also a list of length 132:</p>\n\n<pre><code>times = re.findall(dtdict['tx'], str(entries))\nprint len(times)\n132\n</code></pre>\n\n<p>However, when I try to iterate from index [0] to [131] I'm getting an error.</p>\n\n<pre><code>for i in range(len(cycle_entries)):\n    localtime = rawdates[i]+re.findall(dtdict['tx'], str(entries))[i]\n    print localtime\n\nIndexError: list index out of range\n</code></pre>\n\n<p>I can't figure out why, because this works:</p>\n\n<pre><code>test = rawdates[131]+re.findall(dtdict['tx'], str(entries))[131]\nprint test\n</code></pre>\n\n<p>Anyone know why it works normally but I get the error inside the loop?</p>\n"}, {"tags": ["python", "pandas", "dictionary", "dataframe", "group-by"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1504731261, "post_id": 46084008, "comment_id": 79130364, "body": "drop duplicated first"}, {"owner": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "edited": false, "score": 1, "creation_date": 1504734467, "post_id": 46084008, "comment_id": 79131727, "body": "Closest to a pandas solution I could concoct. It&#39;s not even a sure thing: <code>df1 = pd.melt(df.groupby(&#39;first&#39;).apply(lambda x: x.drop_duplicates([&#39;last&#39;], keep=&#39;last&#39;)), &#39;ID&#39;, [&#39;first&#39;, &#39;last&#39;], &#39;denoms&#39;, &#39;names&#39;); df1[df1.names.duplicated(keep=False)].groupby(&#39;names&#39;)[&#39;ID&#39;]&zwnj;&#8203;.apply(list).to_dict&zwnj;&#8203;()</code>."}, {"owner": {"reputation": 171, "user_id": 4174975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNpRi.png?s=128&g=1", "display_name": "Projski", "link": "https://stackoverflow.com/users/4174975/projski"}, "reply_to_user": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "edited": false, "score": 0, "creation_date": 1511204058, "post_id": 46084008, "comment_id": 81751396, "body": "What version of python and pandas are you using? The code in your update suggests you are using a different version than what @Abdou is using, which is why you may not be able to appreciate his comment answer... If you are able to answer your question then please post it as an answer to your question and accept it. Your request for improvement suggestions will probably be more successful in codereview.stackexchange.com"}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 4174975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNpRi.png?s=128&g=1", "display_name": "Projski", "link": "https://stackoverflow.com/users/4174975/projski"}, "is_accepted": false, "score": 0, "last_activity_date": 1511205200, "creation_date": 1511205200, "answer_id": 47399405, "question_id": 46084008, "link": "https://stackoverflow.com/questions/46084008/how-to-groupby-in-pandas-dataframe-by-one-column-only-if-other-column-value-is-n/47399405#47399405", "title": "How to groupby in pandas dataframe by one column only if other column value is not same", "body": "<p>Building off of the answer that @Abdou provided in the comment, I can confirm this works in Python version 2.7.13 using Pandas version 0.20.1, and also in Python version 3.6.2 using Pandas version 0.20.3:</p>\n\n<pre><code>from __future__ import division, print_function\nimport pandas as pd\nimport sys\n\n\ndef main():\n\n    print(\"python version is: %s\" % sys.version)\n    print(\"pandas version: %s\" % pd.__version__)\n\n    df = pd.DataFrame(data={'first': ['Joe','James','James','James'],\n                            'last': ['Thomas','Jonas','Jonas','Thomas'],\n                            'ID': [123, 456, 675, 457]})\n\n    grouped = df.groupby('first')\\\n                .apply(lambda x: x.drop_duplicates(['last'], keep='last'))\n\n    melted = pd.melt(grouped, 'ID', ['first', 'last'], 'denoms', 'names')\n\n    result = melted[melted.names.duplicated(keep=False)]\\\n                .groupby('names')['ID']\n\n    print(result.apply(list).to_dict())\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 8469482, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/70c3978fad48106c07cb5dd3a686b62c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv", "link": "https://stackoverflow.com/users/8469482/rajiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1511205200, "creation_date": 1504730468, "last_edit_date": 1504733784, "question_id": 46084008, "link": "https://stackoverflow.com/questions/46084008/how-to-groupby-in-pandas-dataframe-by-one-column-only-if-other-column-value-is-n", "title": "How to groupby in pandas dataframe by one column only if other column value is not same", "body": "<p>I have a dataframe as follows:</p>\n\n<pre><code>df\n     ID  first    last\n0   123    Joe  Thomas\n1   456  James   Jonas\n2   675  James   Jonas\n3   457  James  Thomas\n</code></pre>\n\n<p>I want an output as follows:</p>\n\n<pre><code>{'Thomas': [123, 457], 'James':[675, 457]} \n</code></pre>\n\n<p>such that for all the rows where <code>'last'</code> is same but <code>'first'</code> is different or where <code>'first'</code> is same but <code>'last'</code> is different, get IDs for those.</p>\n\n<p>I'm trying to do it as follows:</p>\n\n<pre><code>    for i in zip(df['ID'], df['first'], df['last']):\n...     last.setdefault(i[2],[])\n...     first.setdefault(i[1],[])\n...     last[i[2]].append(i[0])\n...     first[i[1]].append(i[0])\n</code></pre>\n\n<p>with which I get the output as:</p>\n\n<pre><code>&gt;&gt;&gt; first\n{'James': [456, 675, 457], 'Joe': [123]}\n&gt;&gt;&gt; last\n{'Thomas': [123, 457], 'Jonas': [456, 675]}\n</code></pre>\n\n<p>But this only groups by either 'first' or 'last' and does not check that the other one should not be same. How do I get the desired output?</p>\n\n<p>UPDATE:</p>\n\n<p>dropped duplicates as:</p>\n\n<pre><code>df = df.drop_duplicates(subset=['first', 'last'], take_last=False)\n</code></pre>\n\n<p>ANSWER:</p>\n\n<p>Did it this way. Not sure if this is correct. Any suggestions?</p>\n\n<pre><code>new_d = pd.melt(df.sort_values('ID').drop_duplicates(['first','last']),'ID').groupby('value').ID.apply(list).to_dict()\n\nlow_d = {k:v for k, v in new_d.items() if len(v)!=1}\n</code></pre>\n"}, {"tags": ["python", "mongodb", "python-3.x", "utf-8"], "comments": [{"owner": {"reputation": 12312, "user_id": 290187, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GoNpV.png?s=128&g=1", "display_name": "T McKeown", "link": "https://stackoverflow.com/users/290187/t-mckeown"}, "edited": false, "score": 0, "creation_date": 1504747840, "post_id": 46084002, "comment_id": 79135033, "body": "use c# ;) just kidding, I can&#39;t help ya!"}], "answers": [{"comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1504731173, "post_id": 46084107, "comment_id": 79130317, "body": "note: this leaves behind an extraneous <code>C</code>, notice it here  ---&gt; <code>&#39;{&quot;id&quot;:&quot;xxx&quot;,&quot;timestamp&quot;:xxx,&quot;payloadType&quot;:&quot;xxx&quot;,&quot;payload&quot;:{&zwnj;&#8203;&quot;protocol&quot;:&quot;xxx&quot;,&quot;zo&zwnj;&#8203;neID&quot;:xxx,&quot;zoneName&quot;&zwnj;&#8203;:&quot;xxx&quot;,&quot;eventType&quot;:&quot;&zwnj;&#8203;xxx&quot;}}C{&quot;id&quot;:&quot;xxx&quot;,&quot;&zwnj;&#8203;timestamp&quot;:xxx,&quot;payl&zwnj;&#8203;oadType&quot;:&quot;xxx&quot;,&quot;payl&zwnj;&#8203;oad&quot;:{&quot;protocol&quot;:&quot;xx&zwnj;&#8203;x&quot;,&quot;zoneID&quot;:xxx,&quot;zon&zwnj;&#8203;eName&quot;:&quot;xxx&quot;,&quot;eventT&zwnj;&#8203;ype&quot;:&quot;xx}}&#39;</code>"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1504731882, "post_id": 46084107, "comment_id": 79130631, "body": "@aws_apprentice No matter how you proceed, there is no way to tell that C from any other legal ASCII character."}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 0, "creation_date": 1504732376, "post_id": 46084107, "comment_id": 79130834, "body": "indeed. if the C is recurrent and predictable in that position however, it could be used to split the string into parts readable by <code>json.loads</code>. :-)"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1504732611, "post_id": 46084107, "comment_id": 79130940, "body": "A clear way to express your solution: <code>&#39;&#39;.join(char for char in data if char in string.printable)</code>"}, {"owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "edited": false, "score": 1, "creation_date": 1504733463, "post_id": 46084107, "comment_id": 79131331, "body": "yes, that&#39;s essentially the same. not convinced if it&#39;s &quot;a clear way&quot; however, but I like it. thanks! :-)"}], "tags": [], "owner": {"reputation": 1075, "user_id": 8485638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AUJ5DXtlptE/AAAAAAAAAAI/AAAAAAAAHdw/U5sC1vnQ9Ic/photo.jpg?sz=128", "display_name": "Bart Van Loon", "link": "https://stackoverflow.com/users/8485638/bart-van-loon"}, "is_accepted": false, "score": 0, "last_activity_date": 1504730923, "creation_date": 1504730923, "answer_id": 46084107, "question_id": 46084002, "link": "https://stackoverflow.com/questions/46084002/python-remove-extended-ascii/46084107#46084107", "title": "Python - Remove extended ascii", "body": "<p>what about something like:</p>\n\n<pre><code>import string\n\ncleaned_string = ''\nfor char in ugly_string:\n    if char in string.printable:\n        cleaned_string += char\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/46059104/filtering-text-encoded-with-utf-8-to-only-contain-latin-alphabet-characters/46059540#46059540\">This question</a> also deals with a similar problem.</p>\n"}, {"tags": [], "owner": {"reputation": 2212, "user_id": 6935152, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f02ebbd76d4b518363a38bbbdf8e2c7f?s=128&d=identicon&r=PG&f=1", "display_name": "kaza", "link": "https://stackoverflow.com/users/6935152/kaza"}, "is_accepted": false, "score": 1, "last_activity_date": 1504731225, "creation_date": 1504731225, "answer_id": 46084162, "question_id": 46084002, "link": "https://stackoverflow.com/questions/46084002/python-remove-extended-ascii/46084162#46084162", "title": "Python - Remove extended ascii", "body": "<pre><code>import re\n\nstr='\u00be\u00ef\u00fa\u00c0\u00ef{\"id\":\"xxx\",\"timestamp\":xxx,\"payloadType\":\"xxx\",\"payload\":{\"protocol\":\"xxx\",\"zoneID\":xxx,\"zoneName\":\"xxx\",\"eventType\":\"xxx\"}}\u2019\u00c2C\u00ba\u00be\u00ef\u00fa\u00c0\u00ef{\"id\":\"xxx\",\"timestamp\":xxx,\"payloadType\":\"xxx\",\"payload\":{\"protocol\":\"xxx\",\"zoneID\":xxx,\"zoneName\":\"xxx\",\"eventType\":\"xx}}'\n\nstr=re.sub('[^\\x00-\\x7F]','',str)\nprint(str)\n</code></pre>\n\n<p>Should produce output as...</p>\n\n<pre><code>'{\"id\":\"xxx\",\"timestamp\":xxx,\"payloadType\":\"xxx\",\"payload\":{\"protocol\":\"xxx\",\"zoneID\":xxx,\"zoneName\":\"xxx\",\"eventType\":\"xxx\"}}C{\"id\":\"xxx\",\"timestamp\":xxx,\"payloadType\":\"xxx\",\"payload\":{\"protocol\":\"xxx\",\"zoneID\":xxx,\"zoneName\":\"xxx\",\"eventType\":\"xx}}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 3, "last_activity_date": 1504732301, "last_edit_date": 1504732301, "creation_date": 1504731761, "answer_id": 46084286, "question_id": 46084002, "link": "https://stackoverflow.com/questions/46084002/python-remove-extended-ascii/46084286#46084286", "title": "Python - Remove extended ascii", "body": "<p>Encode the string to bytes and then decode back to ASCII:</p>\n\n<pre><code>data.encode().decode('ascii',errors='ignore')\n# {\"id\":\"xxx\",\"timestamp\":xxx,...}}\n</code></pre>\n\n<p>You can also use regular expressions to remove all characters outside of the outermost curly braces:</p>\n\n<pre><code>re.sub(r'^[^{]*(?={)|(?&lt;=})[^}{]*(?={)|(?&lt;=})[^}]*$', '', data)\n</code></pre>\n\n<p>The latter mechanism incidentally also removes the ASCII 'C' character that you do not want.</p>\n"}, {"tags": [], "owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "is_accepted": false, "score": 0, "last_activity_date": 1504733130, "last_edit_date": 1504733130, "creation_date": 1504732234, "answer_id": 46084389, "question_id": 46084002, "link": "https://stackoverflow.com/questions/46084002/python-remove-extended-ascii/46084389#46084389", "title": "Python - Remove extended ascii", "body": "<p>If the garbage bytes do not contain opening curly braces, you can do something like this:</p>\n\n<pre><code>def decode_all(data):\n    decoder = JSONDecoder()\n    end_index = 0\n\n    while data:\n        try:\n            data = data[data.index('{', end_index):]\n        except ValueError:\n            break\n\n        obj, end_index = decoder.raw_decode(data)\n        yield obj\n</code></pre>\n\n<p>Otherwise, without knowing what those garbage bytes can contain and whether or not your JSON is pure ASCII, I think the best solution would be to try parsing a JSON-encoded object out of your data over and over and skipping the garbage bytes implicitly:</p>\n\n<pre><code>from json import JSONDecoder\n\ndata = '''\u00be\u00ef\u00fa\u00c0\u00ef{\"id\":\"123\",\"timestamp\":123,\"payloadType\":\"123\",\"payload\":{\"protocol\":\"123\",\"zoneID\":123,\"zoneName\":\"123\",\"eventType\":\"123\"}}\u2019\u00c2C\u00ba\u00be\u00ef\u00fa\u00c0\u00ef{\"id\":\"123\",\"timestamp\":123,\"payloadType\":\"123\",\"payload\":{\"protocol\":\"123\",\"zoneID\":123,\"zoneName\":\"123\",\"eventType\":\"xx\"}}'''\n\ndef decode_all(data):\n    decoder = JSONDecoder()\n\n    while data:\n        try:\n            obj, end_index = decoder.raw_decode(data)\n            data = data[end_index:]\n\n            yield obj\n        except ValueError:\n            end_index = None\n\n        start = data.find('{')\n\n        if start == -1:\n            break\n        elif end_index is None and start == 0:\n            start = 1\n\n        data = data[start:]\n\nfor o in decode_all(data):\n    print(o)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 9568054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5f79d671935fdefa15133585427c0c?s=128&d=identicon&r=PG&f=1", "display_name": "zeb", "link": "https://stackoverflow.com/users/9568054/zeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1553613026, "creation_date": 1553613026, "answer_id": 55360475, "question_id": 46084002, "link": "https://stackoverflow.com/questions/46084002/python-remove-extended-ascii/55360475#55360475", "title": "Python - Remove extended ascii", "body": "<p>I used <strong>exifread</strong>. In short, use <strong>.printable</strong> to get a string of the value.\nHere is the code to get the value of some select tags and pack them in a dictionary called context:</p>\n\n<pre><code>photo_file = '/absolute/path/photo.jpg'\nf = open(latest_f, 'rb')\ntags = exifread.process_file(f)\nselect_tags = ['Image Make', 'Image Model','EXIF DateTimeOriginal', 'EXIF ExposureTime']\ncontext = dict()\nfor i, tag in enumerate(select_tags):\n   context[tag] = tags[select_tags[i]]*.printable*\nprint(context)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8571189, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209765395525776/picture?type=large", "display_name": "Matt", "link": "https://stackoverflow.com/users/8571189/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1553613026, "creation_date": 1504730452, "last_edit_date": 1504731105, "question_id": 46084002, "link": "https://stackoverflow.com/questions/46084002/python-remove-extended-ascii", "title": "Python - Remove extended ascii", "body": "<p>Okay, so I am new to the whole python world so bear with me. </p>\n\n<p>Background: We are trying to offload logs into mongo to be able to query and search for them quicker. The device already prints them in a decent format EXCEPT in between each }{ to begin and end the data object something like this: </p>\n\n<pre><code>\u00be\u00ef\u00fa\u00c0\u00ef{\"id\":\"xxx\",\"timestamp\":xxx,\"payloadType\":\"xxx\",\"payload\":{\"protocol\":\"xxx\",\"zoneID\":xxx,\"zoneName\":\"xxx\",\"eventType\":\"xxx\"}}\u2019\u00c2C\u00ba\u00be\u00ef\u00fa\u00c0\u00ef{\"id\":\"xxx\",\"timestamp\":xxx,\"payloadType\":\"xxx\",\"payload\":{\"protocol\":\"xxx\",\"zoneID\":xxx,\"zoneName\":\"xxx\",\"eventType\":\"xx}}\n</code></pre>\n\n<p>Using the following I've been able to convert it to bytes then back to a string which outputs as: </p>\n\n<pre><code>f = open('logfile', 'r')\nfile_data = f.read()\nf.close()\n\ndata = file_data.encode('utf-8')\n\nprint(str(data))\n\n&gt;&gt;&gt;b'\\xc2\\xbe\\xc3\\xaf\\xc3\\xba\\xc3\\x80\\x01\\xc3\\xaf{\"id\":\"xxx\",\"timestamp\":xxx,\"payloadType\":\"xxx\",\"payload\":{\"protocol\":\"xxx\",\"zoneID\":xxx,\"zoneName\":\"xxx\",\"eventType\":\"xxx\"}}\n</code></pre>\n\n<p>In my mind this is easier to deal with than the ugly characters seen above but I don't know. </p>\n\n<p>This is just a sample..there are thousands upon thousands of lines returned in this log. In my mind, ideally the best way to go about this would be to remove all characters at the beginning of the string before { and all characters in between }}{</p>\n"}, {"tags": ["python", "nao-robot"], "answers": [{"tags": [], "owner": {"reputation": 948, "user_id": 912510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57bf3a0a50026aca52065779a2c5af08?s=128&d=identicon&r=PG", "display_name": "JLS", "link": "https://stackoverflow.com/users/912510/jls"}, "is_accepted": true, "score": 2, "last_activity_date": 1505346544, "creation_date": 1505346544, "answer_id": 46208416, "question_id": 46083988, "link": "https://stackoverflow.com/questions/46083988/stop-python-script-running-on-a-nao-robot-touching-his-head/46208416#46208416", "title": "Stop Python script running on a nao robot touching his head", "body": "<p>Instead of subscribing to TouchChanged, you can subscribe to the head only with the 3 events (for the 3 tactile buttons):</p>\n\n<ul>\n<li>FrontTactilTouched</li>\n<li>MiddleTactilTouched</li>\n<li>RearTactilTouched</li>\n</ul>\n\n<p>They will be raised with value 1 when touch starts, and 0 when touch ends. So you will want to filter and only stop your dance when value is 1.</p>\n"}], "owner": {"reputation": 25, "user_id": 8463617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf14ce9183a99af4105c4c3690fa7719?s=128&d=identicon&r=PG", "display_name": "Luis Hongo", "link": "https://stackoverflow.com/users/8463617/luis-hongo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 46208416, "answer_count": 1, "score": 1, "last_activity_date": 1505346544, "creation_date": 1504730382, "question_id": 46083988, "link": "https://stackoverflow.com/questions/46083988/stop-python-script-running-on-a-nao-robot-touching-his-head", "title": "Stop Python script running on a nao robot touching his head", "body": "<p>My problem is the following. I have a script in Python that is executed so that the robot does perform various actions without stopping until the execution stops, however for security reasons (in case the robot goes crazy and wants to kill us all) I need to add this instruction to stop it using the touch sensor of his head in case this is pressed.</p>\n\n<p>I read a little about the ALTouch module with which the TouchChanged() module can be generated, but it acts on all the sensors (including movements) and not only with the touch sensor on the head.</p>\n\n<p>Any ideas or related documentation will be welcomed.</p>\n\n<p>Here\u00b4s some of my code:</p>\n\n<pre><code>class SoundProcessingModule(object):\n\n    def __init__( self, app):\n\n        ttsProxy.say(\"Touch my head at any moment to stop me\")\n\n        super(SoundProcessingModule, self).__init__()\n        app.start()\n        session = app.session\n\n        self.audio_service = session.service(\"ALAudioDevice\")\n        self.isProcessingDone = False\n        self.nbOfFramesToProcess = 100\n        self.framesCount=0\n        self.micFront = []\n        self.module_name = \"SoundProcessingModule\"\n\n    def startProcessing(self):\n        self.audio_service.setClientPreferences(self.module_name, 16000, 3, 0)\n        self.audio_service.subscribe(self.module_name)\n\n        while self.isProcessingDone == False:\n            time.sleep(1)\n\n        self.audio_service.unsubscribe(self.module_name)\n\n    def processRemote(self, nbOfChannels, nbOfSamplesByChannel, timeStamp, inputBuffer):\n        #ReadyToDance\n        postureProxy.goToPosture(\"StandInit\", 0.5)\n\n        self.framesCount = self.framesCount + 1\n        if (self.framesCount &lt;= self.nbOfFramesToProcess):\n            print(self.framesCount)\n            self.micFront=self.convertStr2SignedInt(inputBuffer)\n            rmsMicFront = self.calcRMSLevel(self.micFront)\n            print (\"Nivel RMS del microfono frontal = \" + str(rmsMicFront))\n            rmsArray.insert(self.framesCount-1,rmsMicFront)\n\n            #-40 y -30\n            if promedio &gt;= -40 and promedio &lt;= -30 :\n                #Some dance moves    \n\n            #-29 y -20\n            elif promedio &gt;= -29 and promedio &lt;= -20:\n                #Some dance moves\n\n            #-19 y -11\n            elif promedio &gt;= -19 and promedio &lt;= -11:\n                #Some dance moves\n\n        else :\n            self.isProcessingDone=True\n            #Plot RMS signal\n            plt.plot(rmsArray)\n            plt.ylabel('RMS')\n            plt.xlabel('Frames')\n            plt.text(np.argmin(rmsArray), np.min(rmsArray) - 0.1, u'M\u00ednimo', fontsize=10, horizontalalignment='center',\n                     verticalalignment='center')  \n            plt.text(np.argmax(rmsArray), np.max(rmsArray) + 0.1, u'M\u00e1ximo', fontsize=10, horizontalalignment='center',\n                     verticalalignment='center')  \n            print(\"\")\n            print (\"El promedio total del sonido es: \" + str(np.mean(rmsArray)))\n            print(\"El maximo total del sonido es: \" + str(np.max(rmsArray)))\n            print(\"El minimo total del sonido es: \" + str(np.min(rmsArray)))\n            plt.show()\n            postureProxy.goToPosture(\"Sit\", 1.0)\n\n    def calcRMSLevel(self,data) :\n        rms = 20 * np.log10( np.sqrt( np.sum( np.power(data,2) / len(data)  )))\n        return rms\n\n    def convertStr2SignedInt(self, data) :\n        signedData=[]\n        ind=0;\n        for i in range (0,len(data)/2) :\n            signedData.append(data[ind]+data[ind+1]*256)\n            ind=ind+2\n\n        for i in range (0,len(signedData)) :\n            if signedData[i]&gt;=32768 :\n                signedData[i]=signedData[i]-65536\n\n        for i in range (0,len(signedData)) :\n            signedData[i]=signedData[i]/32768.0\n\n        return signedData\n\n\ndef StiffnessOn(proxy):\n    # We use the \"Body\" name to signify the collection of all joints\n    pNames = \"Body\"\n    pStiffnessLists = 1.0\n    pTimeLists = 1.0\n    proxy.stiffnessInterpolation(pNames, pStiffnessLists, pTimeLists)\n\nif __name__ == \"__main__\":\n    parser = argparse.ArgumentParser()\n    #Es necesario estar al pendiente de la IP del robot para moficarla\n    parser.add_argument(\"--ip\", type=str, default=\"nao.local\",\n                        help=\"Robot IP address. On robot or Local Naoqi: use '127.0.0.1'.\")\n    parser.add_argument(\"--port\", type=int, default=9559,\n                        help=\"Naoqi port number\")\n\n    args = parser.parse_args()\n        # Inicializamos proxys.\n    try:\n        proxy = ALProxy(\"ALMotion\", \"nao.local\", 9559)\n    except Exception, e:\n        print \"Could not create proxy to ALMotion\"\n        print \"Error was: \", e\n\n    try:\n        postureProxy = ALProxy(\"ALRobotPosture\", \"nao.local\", 9559)\n    except Exception, e:\n        print \"Could not create proxy to ALRobotPosture\"\n        print \"Error was: \", e\n\n    try:\n        ttsProxy = ALProxy(\"ALTextToSpeech\" , \"nao.local\", 9559)\n    except Exception, e:\n        print \"Could not create proxy to ALTextToSpeech\"\n        print \"Error was: \", e\n\n    try:\n        memory = ALProxy(\"ALMemory\" , \"nao.local\", 9559)\n    except Exception, e:\n        print \"Could not create proxy to ALMemory\"\n        print \"Error was: \", e\n\n    try:\n        connection_url = \"tcp://\" + args.ip + \":\" + str(args.port)\n        app = qi.Application([\"SoundProcessingModule\", \"--qi-url=\" + connection_url])\n    except RuntimeError:\n        print (\"Can't connect to Naoqi at ip \\\"\" + args.ip + \"\\\" on port \" + str(args.port) +\".\\n\"\n               \"Please check your script arguments. Run with -h option for help.\")\n        sys.exit(1)\n\n    MySoundProcessingModule = SoundProcessingModule(app)\n    app.session.registerService(\"SoundProcessingModule\", MySoundProcessingModule)\n    MySoundProcessingModule.startProcessing()\n</code></pre>\n\n<p>The robot dances according to the RMS level captured from the front mic, but I need to stop it at anytime when the head sensor (or any sensor) is touched.</p>\n"}, {"tags": ["python", "numpy", "nan"], "comments": [{"owner": {"reputation": 747, "user_id": 1850007, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4700ed4e1a96fb7c67922d47dd5a0c04?s=128&d=identicon&r=PG", "display_name": "Lost1", "link": "https://stackoverflow.com/users/1850007/lost1"}, "reply_to_user": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1504731739, "post_id": 46083974, "comment_id": 79130566, "body": "@BradSolomon i meant, I am writing this in the middle of a program. is there an inplace replacement function?"}], "answers": [{"comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 2, "creation_date": 1504732165, "post_id": 46084308, "comment_id": 79130749, "body": "I don&#39;t think it&#39;s actually about the in-place operation (well, <code>a[a&lt;1.5]</code> = np.nan is also in-place) but about avoiding assignment so that it can be done in one-line."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 4, "last_activity_date": 1504733670, "last_edit_date": 1504733670, "creation_date": 1504731849, "answer_id": 46084308, "question_id": 46083974, "link": "https://stackoverflow.com/questions/46083974/numpy-array-filter-and-replace/46084308#46084308", "title": "numpy array filter and replace", "body": "<blockquote>\n  <p>Is this [<code>RuntimeWarning</code>] because my list had np.nan?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Is there anything I can do to prevent this?</p>\n</blockquote>\n\n<p>In your case, this warning can be safely ignored.  So that you don't accidentally suppress unrelated warnings, please <em>don't put anything else inside the context manager besides the one line shown</em>.  </p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; a = np.array([1,2,3,4,np.nan])\n&gt;&gt;&gt; with np.errstate(invalid='ignore'):\n...     a[a&lt;1.5] = np.nan\n...     \n&gt;&gt;&gt; a\narray([ nan,   2.,   3.,   4.,  nan])\n</code></pre>\n\n<p>This operates in-place, a copy is not created here.  To return a copy, with the original <code>a</code> unmodified, prefer the <a href=\"https://stackoverflow.com/a/46084469/674039\">masked array approach</a>.  </p>\n"}, {"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1504733100, "post_id": 46084469, "comment_id": 79131156, "body": "It should be mentioned: this creates a copy."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1504733486, "post_id": 46084469, "comment_id": 79131343, "body": "It is avoidable, and I showed <a href=\"https://stackoverflow.com/a/46084308/674039\">how</a>.  Using a masked array approach is good too, mind you, I just thought this was worth mentioning because we often care about details of performance and memory usage when using numpy."}], "tags": [], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "is_accepted": false, "score": 1, "last_activity_date": 1504732662, "creation_date": 1504732662, "answer_id": 46084469, "question_id": 46083974, "link": "https://stackoverflow.com/questions/46083974/numpy-array-filter-and-replace/46084469#46084469", "title": "numpy array filter and replace", "body": "<p>Another option that gets you to your return statement as desired:</p>\n\n<pre><code>mask = ~np.isnan(a)\nmask[mask] &amp;= a[mask] &lt; 1.5\nreturn np.where(mask, np.nan, a)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>def ma_lessthan(arr, num):\n    mask = ~np.isnan(arr)\n    mask[mask] &amp;= arr[mask] &lt; num\n    return np.where(mask, np.nan, arr)\n\nprint(ma_lessthan(a, 1.5))\n[ nan   2.   3.   4.  nan]\n</code></pre>\n\n<p><code>mask</code> credit to: <a href=\"https://stackoverflow.com/a/25346972/7954504\">@Jaime</a>.</p>\n"}], "owner": {"reputation": 747, "user_id": 1850007, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4700ed4e1a96fb7c67922d47dd5a0c04?s=128&d=identicon&r=PG", "display_name": "Lost1", "link": "https://stackoverflow.com/users/1850007/lost1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "accepted_answer_id": 46084308, "answer_count": 2, "score": 4, "last_activity_date": 1504733670, "creation_date": 1504730331, "last_edit_date": 1504732608, "question_id": 46083974, "link": "https://stackoverflow.com/questions/46083974/numpy-array-filter-and-replace", "title": "numpy array filter and replace", "body": "<p>I have an array </p>\n\n<pre><code>a = np.array([1,2,3,4,np.nan])\n</code></pre>\n\n<p>I would like to replace anything which is less than 1.5 by <code>np.nan</code>, i.e. I would like </p>\n\n<pre><code>a = np.array([np.nan,2,3,4,np.nan])\n</code></pre>\n\n<p>how do I do that?</p>\n\n<p>I did</p>\n\n<pre><code> a[a&lt;1.5] = np.nan\n</code></pre>\n\n<p>I got the following run time warning error in IPython (Py3.4) <code>RuntimeWarning: invalid value encountered in less</code>. Is this because my list had <code>np.nan</code>? Is there anything I can do to prevent this?</p>\n\n<p>Also is there a way doing this inline without assigning? Instead of doing </p>\n\n<pre><code>a[a&lt;1.5]=np.nan \nreturn a \n</code></pre>\n\n<p>I can just do</p>\n\n<pre><code> return a... \n</code></pre>\n\n<p>where that .... is something that need filling in.</p>\n"}, {"tags": ["python", "pandas", "sorting", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 806, "user_id": 7747528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QCL4c.jpg?s=128&g=1", "display_name": "python_enthusiast", "link": "https://stackoverflow.com/users/7747528/python-enthusiast"}, "edited": false, "score": 0, "creation_date": 1504731741, "post_id": 46084052, "comment_id": 79130567, "body": "Somehow it says that the name &#39;x&#39; is not defined. I thought that here &#39;x&#39; could be just anything. Do I have to define it first?"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 806, "user_id": 7747528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QCL4c.jpg?s=128&g=1", "display_name": "python_enthusiast", "link": "https://stackoverflow.com/users/7747528/python-enthusiast"}, "edited": false, "score": 1, "creation_date": 1504731859, "post_id": 46084052, "comment_id": 79130624, "body": "@LauraSimonsenLeal Oh, sorry, I made a mistake; I fixed it in my edit."}, {"owner": {"reputation": 806, "user_id": 7747528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QCL4c.jpg?s=128&g=1", "display_name": "python_enthusiast", "link": "https://stackoverflow.com/users/7747528/python-enthusiast"}, "edited": false, "score": 0, "creation_date": 1504735984, "post_id": 46084052, "comment_id": 79132223, "body": "The error went back to &#39;IndexError: string index out of range&#39;. =/"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 806, "user_id": 7747528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QCL4c.jpg?s=128&g=1", "display_name": "python_enthusiast", "link": "https://stackoverflow.com/users/7747528/python-enthusiast"}, "edited": false, "score": 1, "creation_date": 1504736093, "post_id": 46084052, "comment_id": 79132254, "body": "@LauraSimonsenLeal please put a full reproducible example in your question - on my end this works."}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 806, "user_id": 7747528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QCL4c.jpg?s=128&g=1", "display_name": "python_enthusiast", "link": "https://stackoverflow.com/users/7747528/python-enthusiast"}, "edited": false, "score": 1, "creation_date": 1504773232, "post_id": 46084052, "comment_id": 79144806, "body": "@LauraSimonsenLeal I edited my answer regarding sorting <code>pandas</code> data frames."}, {"owner": {"reputation": 806, "user_id": 7747528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QCL4c.jpg?s=128&g=1", "display_name": "python_enthusiast", "link": "https://stackoverflow.com/users/7747528/python-enthusiast"}, "edited": false, "score": 0, "creation_date": 1504781962, "post_id": 46084052, "comment_id": 79150768, "body": "It worked mind-blowingly well!! I wish I can be as awesome as you in this someday. Thank you for all your help."}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 806, "user_id": 7747528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QCL4c.jpg?s=128&g=1", "display_name": "python_enthusiast", "link": "https://stackoverflow.com/users/7747528/python-enthusiast"}, "edited": false, "score": 1, "creation_date": 1504784148, "post_id": 46084052, "comment_id": 79152297, "body": "@LauraSimonsenLeal No problem. All I did was google it and read the documentation, but I guess that takes practice, too. :)"}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 3, "last_activity_date": 1504773203, "last_edit_date": 1504773203, "creation_date": 1504730656, "answer_id": 46084052, "question_id": 46083900, "link": "https://stackoverflow.com/questions/46083900/how-to-properly-use-operator-itemgetter-to-do-double-sort/46084052#46084052", "title": "How to properly use operator.itemgetter to do double sort", "body": "<p><code>operator.itemgetter(a, b, c)</code> is equivalent to <code>lambda x: x[a][b][c]</code>, not to <code>lambda x: (x[a], x[b], x[c])</code>.</p>\n\n<p>What you really want is:</p>\n\n<pre><code>sorted(df, key=lambda x: (x[1], x[3]))\n</code></pre>\n\n<p>Also note that I changed the indices 2 and 4 to 1 and 3; Python indexes start with 0.</p>\n\n<hr>\n\n<p>Since you appear to be using <code>pandas</code> DataFrames, not lists (next time, mention that in your question), here's how you sort a DataFrame by value:</p>\n\n<pre><code>df.sort_values(['time', 'number'])\n</code></pre>\n\n<p>Call <code>df.sort_values</code> with a column or a list of columns to sort by. Don't assign this to anything; <code>df.sort_values</code> works in-place.</p>\n"}], "owner": {"reputation": 806, "user_id": 7747528, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QCL4c.jpg?s=128&g=1", "display_name": "python_enthusiast", "link": "https://stackoverflow.com/users/7747528/python-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1394, "favorite_count": 0, "accepted_answer_id": 46084052, "answer_count": 1, "score": 0, "last_activity_date": 1504773326, "creation_date": 1504730044, "last_edit_date": 1504773326, "question_id": 46083900, "link": "https://stackoverflow.com/questions/46083900/how-to-properly-use-operator-itemgetter-to-do-double-sort", "title": "How to properly use operator.itemgetter to do double sort", "body": "<p>I am trying to use itemgetter to do a double sort in python, but I can't seem to grasp it. What I want to do is first sort by 'var2' and then by 'var4', but keeping it sorted by 'var2'. I have the following piece of code that should help (I adapted it from another SO question):</p>\n\n<pre><code>df = df[['var1', 'var2', 'var3', 'var4']]\ndf = sorted(df, key=operator.itemgetter(1,2))\n</code></pre>\n\n<p>but I am not sure what the arguments mean for itemgetter. I tried running it the way it is, but all I get are the variables' names.</p>\n\n<p>I also tried doing </p>\n\n<pre><code>df = sorted(df, key=operator.itemgetter(2,4))\n</code></pre>\n\n<p>but I get the following error: 'IndexError: string index out of range'.</p>\n\n<p>Please help.</p>\n\n<p><strong>Edit: example</strong> </p>\n\n<p>I have four variables: date, time, price and a number. I want to sort the dataframe by date, but within each date I want to sort it by the number. I hope this makes sense. </p>\n\n<pre><code>date            time        price   number\n\n09/02/2008  00:20:38    46.0    9987\n\n09/03/2009  07:00:49    46.65   8551\n\n07/05/2008  07:00:51    46.75   13681\n\n08/02/2008  07:00:57    46.75   14022\n\n09/02/2008  07:01:00    46.75   10270\n\n09/08/2008  07:01:11    46.75   14850\n\n09/02/2008  07:01:22    46.75   20568\n\n08/02/2008  07:01:24    46.75   15683\n\n09/02/2008  07:02:16    46.65   11698\n</code></pre>\n"}, {"tags": ["python", "image-processing", "python-imaging-library", "pillow"], "comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1504730520, "post_id": 46083880, "comment_id": 79129998, "body": "You might not have been searching with the term &quot;flood-fill&quot;, which it sounds like you want to do, i.e. <a href=\"https://stackoverflow.com/questions/10026346/how-to-flood-fill-part-of-a-bitmap-enclosed-by-a-black-border-with-my-chosen-col\">How to flood-fill part of a bitmap enclosed by a black border with my chosen color?</a>"}, {"owner": {"reputation": 61, "user_id": 5919219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PB8Ka.png?s=128&g=1", "display_name": "Thomas Eggenberger", "link": "https://stackoverflow.com/users/5919219/thomas-eggenberger"}, "reply_to_user": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1504739083, "post_id": 46083880, "comment_id": 79133107, "body": "Thanks for the suggestion Nick T. I had run across that page as well. The problem I am having with using that method is that I can not figure out to grab the shape I&#39;m trying to fill. floodfill(img, (x,y), value, border) takes 4 parameters, I&#39;m having trouble with the (x,y) as I don&#39;t want a specific pixel but rather the entire shape. Thanks for any suggestions."}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1504740859, "post_id": 46083880, "comment_id": 79133530, "body": "I would restate the question then as &quot;how do I find a point inside a shape&quot; or something to that effect."}, {"owner": {"reputation": 13255, "user_id": 6885902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9eWg.jpg?s=128&g=1", "display_name": "Jeru Luke", "link": "https://stackoverflow.com/users/6885902/jeru-luke"}, "edited": false, "score": 1, "creation_date": 1504951598, "post_id": 46083880, "comment_id": 79221219, "body": "You can find the shape by finding contours. In your image you would have one contour. After doing so, you can find the centroid of the contour and use that point to perform floodfill operation."}], "answers": [{"tags": [], "owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1566150228, "creation_date": 1566150228, "answer_id": 57546955, "question_id": 46083880, "link": "https://stackoverflow.com/questions/46083880/fill-in-a-hollow-shape-using-python-and-pillow-pil/57546955#57546955", "title": "Fill in a hollow shape using Python and pillow (PIL)", "body": "<p>There are several ways of doing this. You could do as I do here, and fill all the areas outside the outline with magenta, then make everything that is not magenta into black, and then revert all artificially magenta-coloured pixels to white.</p>\n\n<p>I have interspersed intermediate images in the code, but you can just grab all the bits of code and collect them together in order to have a working lump of code.</p>\n\n<pre><code>#!/usr/bin/env python3\n\nfrom PIL import Image, ImageDraw\nimport numpy as np\n\n# Open the image\nim = Image.open('octagon.png').convert('RGB')\n\n# Make all background (exterior to octagon) pixels magenta (255,0,255)\nImageDraw.floodfill(im,xy=(0,0),value=(255,0,255),thresh=200)\n# DEBUG\nim.save('intermediate.png')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zIej7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIej7.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code># Make everything not magenta black\nn  = np.array(im)\nn[(n[:, :, 0:3] != [255,0,255]).any(2)] = [0,0,0]\n\n# Revert all artifically filled magenta pixels to white\nn[(n[:, :, 0:3] == [255,0,255]).all(2)] = [255,255,255]\n\nImage.fromarray(n).save('result.png')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4Y6LT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Y6LT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or, you could fill all the background with magenta, then locate a white pixel and flood-fill with black using that white pixel as a seed. The method you choose depends on the expected colours of your images, and the degree to which you wish to preserve anti-aliasing and so on.</p>\n"}], "owner": {"reputation": 61, "user_id": 5919219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PB8Ka.png?s=128&g=1", "display_name": "Thomas Eggenberger", "link": "https://stackoverflow.com/users/5919219/thomas-eggenberger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2924, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1566150228, "creation_date": 1504729979, "last_edit_date": 1504737525, "question_id": 46083880, "link": "https://stackoverflow.com/questions/46083880/fill-in-a-hollow-shape-using-python-and-pillow-pil", "title": "Fill in a hollow shape using Python and pillow (PIL)", "body": "<p>I am trying to write a method that will fill in a given shape so that it becomes solid black.</p>\n\n<p>Example:\nThis octagon which initially is only an outline, will turn into a solid black octagon, however this should work with any shape as long as all edges are closed. </p>\n\n<p><a href=\"https://i.stack.imgur.com/SZ5sl.png\" rel=\"noreferrer\">Octagon</a></p>\n\n<pre><code>def img_filled(im_1, im_2):\n    img_fill_neg = ImageChops.subtract(im_1, im_2)\n    img_fill = ImageOps.invert(img_fill_neg)\n    img_fill.show()\n</code></pre>\n\n<p>I have read the docs 10x over and have found several other ways to manipulate the image, however I can not find an example to fill in a pre-existing shape within the image. I see that using floodfill() is an option, although I'm not sure how to grab the shape I want to fill.</p>\n\n<p>Note: I do not have access to any other image processing libraries for this task.</p>\n"}, {"tags": ["python", "numpy", "time", "unix-timestamp"], "comments": [{"owner": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 1, "creation_date": 1504730344, "post_id": 46083875, "comment_id": 79129912, "body": "Why not <a href=\"https://docs.python.org/3/library/time.html#time.time\" rel=\"nofollow noreferrer\"><code>time.time()</code></a>? <code>time.ctime()</code> returns a string."}, {"owner": {"reputation": 517, "user_id": 6087589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/508f85f9b3e192f11456dbff7a6a840c?s=128&d=identicon&r=PG&f=1", "display_name": "anitasp", "link": "https://stackoverflow.com/users/6087589/anitasp"}, "reply_to_user": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 0, "creation_date": 1504730514, "post_id": 46083875, "comment_id": 79129990, "body": "thanks, it worked with int(time.time())"}, {"owner": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 0, "creation_date": 1504730885, "post_id": 46083875, "comment_id": 79130189, "body": "Also note that your first error is attempting to cast a function, <code>time.ctime</code>, and not the return of the function, <code>time.ctime()</code>. It&#39;s still going to error out, but it&#39;s important to recognize the difference in returns between the two syntax."}], "answers": [{"tags": [], "owner": {"reputation": 2421, "user_id": 4508178, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vUogy15CTss/AAAAAAAAAAI/AAAAAAAAAAg/mD8TEjxHpt4/photo.jpg?sz=128", "display_name": "Derte Trdelnik", "link": "https://stackoverflow.com/users/4508178/derte-trdelnik"}, "is_accepted": false, "score": 2, "last_activity_date": 1504730548, "creation_date": 1504730548, "answer_id": 46084023, "question_id": 46083875, "link": "https://stackoverflow.com/questions/46083875/convert-pythons-time-ctime-to-unix-time-stamp/46084023#46084023", "title": "convert python&#39;s time.ctime() to unix time stamp", "body": "<p><code>time.ctime()</code> returns a string representation of the time</p>\n\n<p>use <code>strptime</code> from module <code>datetime</code> to parse string to a datetime object</p>\n\n<pre><code>import datetime\nimport time\nt = datetime.datetime.strptime(time.ctime(), \"%a %b %d %H:%M:%S %Y\")\nprint(t.timestamp()) #1504730409.0\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3.6/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow noreferrer\">https://docs.python.org/3.6/library/datetime.html#strftime-strptime-behavior</a></p>\n"}, {"tags": [], "owner": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "is_accepted": true, "score": 1, "last_activity_date": 1504730738, "creation_date": 1504730738, "answer_id": 46084066, "question_id": 46083875, "link": "https://stackoverflow.com/questions/46083875/convert-pythons-time-ctime-to-unix-time-stamp/46084066#46084066", "title": "convert python&#39;s time.ctime() to unix time stamp", "body": "<p><a href=\"https://docs.python.org/3/library/time.html#time.ctime\" rel=\"nofollow noreferrer\"><code>time.ctime()</code></a> returns a <em>string</em> representation of the current time, as returned (in seconds since the epoch) by <code>time.time()</code>.</p>\n\n<p>You can cut out the middleman and use <a href=\"https://docs.python.org/3/library/time.html#time.time\" rel=\"nofollow noreferrer\"><code>time.time()</code></a> on its own, which returns a floating point representation of the seconds:</p>\n\n<pre><code>t = int(time.time())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5367, "user_id": 19315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2usiR.jpg?s=128&g=1", "display_name": "PiedPiper", "link": "https://stackoverflow.com/users/19315/piedpiper"}, "is_accepted": false, "score": 1, "last_activity_date": 1504730745, "creation_date": 1504730745, "answer_id": 46084068, "question_id": 46083875, "link": "https://stackoverflow.com/questions/46083875/convert-pythons-time-ctime-to-unix-time-stamp/46084068#46084068", "title": "convert python&#39;s time.ctime() to unix time stamp", "body": "<p>You can do it more easily this way:</p>\n\n<pre><code>import time\nmath.floor(time.time())\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 6087589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/508f85f9b3e192f11456dbff7a6a840c?s=128&d=identicon&r=PG&f=1", "display_name": "anitasp", "link": "https://stackoverflow.com/users/6087589/anitasp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1698, "favorite_count": 2, "accepted_answer_id": 46084066, "answer_count": 3, "score": 0, "last_activity_date": 1504730745, "creation_date": 1504729960, "question_id": 46083875, "link": "https://stackoverflow.com/questions/46083875/convert-pythons-time-ctime-to-unix-time-stamp", "title": "convert python&#39;s time.ctime() to unix time stamp", "body": "<p>I am trying to convert the current time ('Wed Sep  6 15:31:35 2017') that returns Python3.5 to Unix time stamp.</p>\n\n<pre><code>time.ctime.astype(np.int64)\n</code></pre>\n\n<p>I am getting this error:</p>\n\n<blockquote>\n  <p>AttributeError: 'builtin_function_or_method' object has no attribute 'astype'</p>\n</blockquote>\n\n<p>when I try </p>\n\n<pre><code>np.int64(time.ctime())\n</code></pre>\n\n<p>I get:</p>\n\n<blockquote>\n  <p>ValueError: invalid literal for int() with base 10: 'Wed Sep  6 15:34:08 2017'</p>\n</blockquote>\n"}, {"tags": ["python", "virtualenv", "virtualenvwrapper"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 1, "creation_date": 1504730496, "post_id": 46083869, "comment_id": 79129982, "body": "Are you tried to use <code>pip3</code>? If you wanna have env for Python3 run this <code>python3 -m venv ENV</code>"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1504732299, "post_id": 46083869, "comment_id": 79130798, "body": "When you just run <code>python</code> which version is shown?"}, {"owner": {"reputation": 10796, "user_id": 1105249, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/083d54b8327a76a1dcf57df507ab7b34?s=128&d=identicon&r=PG", "display_name": "Luis Masuelli", "link": "https://stackoverflow.com/users/1105249/luis-masuelli"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1504800048, "post_id": 46083869, "comment_id": 79163976, "body": "@KlausD. The default python version I use, is Python 2.7. Should I change the default python option before running mkvirtualenv? What&#39;s the purpose of the -p option in virtualenv if so?"}], "answers": [{"tags": [], "owner": {"reputation": 10796, "user_id": 1105249, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/083d54b8327a76a1dcf57df507ab7b34?s=128&d=identicon&r=PG", "display_name": "Luis Masuelli", "link": "https://stackoverflow.com/users/1105249/luis-masuelli"}, "is_accepted": false, "score": 2, "last_activity_date": 1504885454, "last_edit_date": 1504885454, "creation_date": 1504884060, "answer_id": 46119756, "question_id": 46083869, "link": "https://stackoverflow.com/questions/46083869/why-is-virtualenvwrapper-creating-paths-related-to-python2-instead-of-python3/46119756#46119756", "title": "Why is virtualenvwrapper creating paths related to python2 instead of python3?", "body": "<p>Found it!</p>\n\n<p>There was no issue with <code>virtualenv</code> or <code>virtualenvwrapper</code>. The issue was with <code>ipython</code>. Actually, there is no issue specifically with <code>ipython</code> but with the way the scripts are accessible inside a virtualenv.</p>\n\n<p>Globally, I had <code>ipython</code> installed (which works with the global <code>python27</code>). When I installed <code>ipython</code> in my local python3 environment, the (shell) path was not updated until I somehow refresh the environment again (e.g. deactivating, activating again). So when I tried again, the <code>ipython</code> was the appropriate (the local <code>ipython</code> in my environment with 3.5), and the generated path was the expected one.</p>\n"}], "owner": {"reputation": 10796, "user_id": 1105249, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/083d54b8327a76a1dcf57df507ab7b34?s=128&d=identicon&r=PG", "display_name": "Luis Masuelli", "link": "https://stackoverflow.com/users/1105249/luis-masuelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504885454, "creation_date": 1504729944, "question_id": 46083869, "link": "https://stackoverflow.com/questions/46083869/why-is-virtualenvwrapper-creating-paths-related-to-python2-instead-of-python3", "title": "Why is virtualenvwrapper creating paths related to python2 instead of python3?", "body": "<p>I updated the versions of mkvirtualenv and virtualenv</p>\n\n<blockquote>\n  <p>$ sudo pip install --upgrade virtualenv virtualenvwrapper</p>\n</blockquote>\n\n<p>because my whole life I only used Python 2, and wanted to use -now- Python 3. The <code>virtualenvwrapper</code> had some issues.</p>\n\n<p>Then I tried creating a virtual environment for my python3 installation:</p>\n\n<blockquote>\n  <p>$ mkvirtualenv py3test -p /usr/bin/python3</p>\n</blockquote>\n\n<p>The environment is created in <code>~/.virtualenvs/py3test</code>. Once active, I want to install a package I made:</p>\n\n<blockquote>\n  <p>(py3test)$ pip install python-cantrips\n  (py3test)$ pip freeze</p>\n</blockquote>\n\n<p>And the package is appropriately installed. Then I install <code>ipython</code> and run it:</p>\n\n<blockquote>\n  <p>(py3test)$ pip install ipython\n  (py3test)$ ipython</p>\n</blockquote>\n\n<p>And I enter <code>ipython</code> appropriately. But then I...</p>\n\n<pre><code>import cantrips\n</code></pre>\n\n<p>And it explodes with an <code>ImportError</code>. Then I check <code>sys.path</code>. And the issue is here: <strong>sys.path includes a path like: '/home/myuser/.virtualenvs/py3test/lib/python2.7/site-packages'</strong>. I don't remember whether the path is exact or not, since I am not in such computer right now. But I can have one thing for sure: the environment was created with python3 (the directory is not python2.7 but python3.5 in my virtualenv).</p>\n\n<p>So: Why is virtualenv creating an environment for python3 but adding me the paths as if it was a python2.7 environment instead?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1504733696, "post_id": 46083840, "comment_id": 79131427, "body": "Can you post the full traceback? You&#39;re calling <code>.split()</code> somewhere, but it&#39;s not in the code you presented."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8151026"}, "reply_to_user": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1504734183, "post_id": 46083840, "comment_id": 79131606, "body": "I editet my issue."}, {"owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1504736275, "post_id": 46083840, "comment_id": 79132312, "body": "Can you please post your <code>create_card()</code> function? Your error cannot find a Board object with the title_board variable you are passing here: <code>unique_board = Board.objects.get(title=title_board)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8151026"}, "reply_to_user": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1504736601, "post_id": 46083840, "comment_id": 79132414, "body": "<a href=\"https://pastebin.com/WVP2U14y\" rel=\"nofollow noreferrer\">pastebin.com/WVP2U14y</a> I fight with it since 4h..."}, {"owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1504736854, "post_id": 46083840, "comment_id": 79132485, "body": "Are you sure a Board exists with EXACTLY whatever title you are passing in your request?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8151026"}, "reply_to_user": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1504737018, "post_id": 46083840, "comment_id": 79132525, "body": "If we delete from views.py lines:  cards = board.cards context = {&#39;cards&#39;: cards}, everything works."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8151026"}, "edited": false, "score": 0, "creation_date": 1504730433, "post_id": 46083963, "comment_id": 79129950, "body": "I try it, but when I trying again add new card I got: Not Found: /board/table/card/create/ issue. This is valid. First post is valid, next no"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8151026"}, "edited": false, "score": 0, "creation_date": 1504731058, "post_id": 46083963, "comment_id": 79130265, "body": "I&#39;m add &quot;.all &quot; but I can&#39;t send new form. AttributeError: &#39;NoneType&#39; object has no attribute &#39;split&#39;"}], "tags": [], "owner": {"reputation": 4614, "user_id": 5729960, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/eD2Hw.jpg?s=128&g=1", "display_name": "wencakisa", "link": "https://stackoverflow.com/users/5729960/wencakisa"}, "is_accepted": false, "score": 0, "last_activity_date": 1504730514, "last_edit_date": 1504730514, "creation_date": 1504730280, "answer_id": 46083963, "question_id": 46083840, "link": "https://stackoverflow.com/questions/46083840/django-filter-queryset-issue/46083963#46083963", "title": "django filter() queryset issue", "body": "<p>You can access directly your cards by doing <code>board.cards</code></p>\n\n<pre><code>def board_detail(request, slug):\n    board = get_object_or_404(Board, title=slug)\n    cards = board.cards\n    # ___________^\n\n    template = 'board/board_detail.html'\n    context = {'board': board, 'cards': cards}\n\n    return render(request, template, context)\n</code></pre>\n\n<p>And then in your template:</p>\n\n<pre><code>{% for card in cards %}\n    &lt;p&gt;{{ card.title_card }}&lt;/p&gt;\n{% endfor %}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8571193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/211880e5bf041bc3325657256fd2b842?s=128&d=identicon&r=PG&f=1", "display_name": "Racheli Moskowitz", "link": "https://stackoverflow.com/users/8571193/racheli-moskowitz"}, "is_accepted": false, "score": 0, "last_activity_date": 1504730342, "creation_date": 1504730342, "answer_id": 46083976, "question_id": 46083840, "link": "https://stackoverflow.com/questions/46083840/django-filter-queryset-issue/46083976#46083976", "title": "django filter() queryset issue", "body": "<p>Why access the model manager of cards? If you only want the cards for that board, try board.cards. And you can filter that further</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8151026"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1505102868, "creation_date": 1504729764, "last_edit_date": 1592644375, "question_id": 46083840, "link": "https://stackoverflow.com/questions/46083840/django-filter-queryset-issue", "title": "django filter() queryset issue", "body": "<p>I want to show only specific cards, related with specific post:</p>\n<h1>UPDATE:</h1>\n<p>Current issue:</p>\n<pre><code>Internal Server Error: /board/table/card/create/\nTraceback (most recent call last):\n  File &quot;C:\\Program Files\\Python36\\lib\\site-packages\\django\\core\\handlers\\excepti\non.py&quot;, line 41, in inner\n    response = get_response(request)\n</code></pre>\n"}, {"tags": ["jquery", "python", "angularjs", "google-app-engine"], "answers": [{"tags": [], "owner": {"reputation": 1192, "user_id": 6913202, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X_1Ir2VfZ_k/AAAAAAAAAAI/AAAAAAAAAEg/SGtgCfhKoe0/photo.jpg?sz=128", "display_name": "Kalyan", "link": "https://stackoverflow.com/users/6913202/kalyan"}, "is_accepted": true, "score": 0, "last_activity_date": 1504737523, "creation_date": 1504737523, "answer_id": 46085300, "question_id": 46083830, "link": "https://stackoverflow.com/questions/46083830/set-firebase-token-on-multipart-form-data-post-request/46085300#46085300", "title": "Set firebase token on multipart/form-data POST request", "body": "<p>Let's say you have the uploaded files in an array called uploadedfiles, you can add the files to Form data and then assign your authorization token in the headers</p>\n\n<pre><code>var token = &lt;Your token&gt;;\n\nvar fd = new FormData();\nvar fileCount = 0;\nangular.forEach(uploadedfiles, function (uploadedFile) {\n                    fileCount += 1;\n                    fd.append(\"file\" + fileCount, uploadedFile);\n                 });\n\n$http.post(uri, fd, {\n                    transformRequest: angular.identity,\n                    headers: {\n                                'Content-Type': undefined,\n                                'Authorization': JSON.stringify(token)                                                              \n                            }\n                    }\n                )\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 7225462, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zXjhD.jpg?s=128&g=1", "display_name": "SLLegendre", "link": "https://stackoverflow.com/users/7225462/sllegendre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 46085300, "answer_count": 1, "score": 0, "last_activity_date": 1504737523, "creation_date": 1504729727, "question_id": 46083830, "link": "https://stackoverflow.com/questions/46083830/set-firebase-token-on-multipart-form-data-post-request", "title": "Set firebase token on multipart/form-data POST request", "body": "<p>I want to upload a picture to my google app engine standard env. backend that employs firebase auth. More specifically, I want to save the picture to the blobstore. \nI use angularJS (i.e. 1.x) for the frontend.\nI use the cloud enpoints framework, however for the blob upload, I have a minimal WSGIApplication. \nGoogle <a href=\"https://cloud.google.com/appengine/docs/standard/python/blobstore/#Python_Uploading_a_blob\" rel=\"nofollow noreferrer\">requires</a>:</p>\n\n<blockquote>\n  <p># To upload files to the blobstore, the request method must be \"POST\"\n   # and enctype must be set to \"multipart/form-data\".</p>\n</blockquote>\n\n<p>My Plan is to also set the 'Authorization' Header to include the firebase token (seem viable?)</p>\n\n<p>If I use a simple <code>&lt;form&gt;</code> element, I cannot set the header (right?)</p>\n\n<p>Is there a simple way to do this using angularJS? </p>\n\n<p>If it is only possible using jQuery's ajax request, could you show me how (for dummies, I have been using google's gapi client library and in combination with angularJS managed to avoid having to deal with jQuery)?   </p>\n"}, {"tags": ["python", "tqdm"], "answers": [{"comments": [{"owner": {"reputation": 1574, "user_id": 3612634, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/z4pyN.png?s=128&g=1", "display_name": "tisaconundrum", "link": "https://stackoverflow.com/users/3612634/tisaconundrum"}, "edited": false, "score": 0, "creation_date": 1504731557, "post_id": 46083994, "comment_id": 79130487, "body": "I&#39;m getting a <code>AttributeError: &#39;TextFileReader&#39; object has no attribute &#39;columns&#39;</code> error. What does this mean?"}, {"owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "reply_to_user": {"reputation": 1574, "user_id": 3612634, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/z4pyN.png?s=128&g=1", "display_name": "tisaconundrum", "link": "https://stackoverflow.com/users/3612634/tisaconundrum"}, "edited": false, "score": 1, "creation_date": 1504732779, "post_id": 46083994, "comment_id": 79131009, "body": "Without knowing more, the TextFileReader object does not have an attribute named &#39;columns&#39; - but you&#39;re trying to access it via <code>tfr.columns</code>"}, {"owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "reply_to_user": {"reputation": 1574, "user_id": 3612634, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/z4pyN.png?s=128&g=1", "display_name": "tisaconundrum", "link": "https://stackoverflow.com/users/3612634/tisaconundrum"}, "edited": false, "score": 0, "creation_date": 1504732925, "post_id": 46083994, "comment_id": 79131077, "body": "Check out the docs for <code>TextFileReader</code>, and how to use iterate over the chunks it reads from the file. <a href=\"http://pandas.pydata.org/pandas-docs/stable/io.html#io-chunking\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/io.html#io-chunking</a>"}, {"owner": {"reputation": 185, "user_id": 5790939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fea7055af8f4caa9fbe9453960e24335?s=128&d=identicon&r=PG&f=1", "display_name": "Red Sparrow", "link": "https://stackoverflow.com/users/5790939/red-sparrow"}, "edited": false, "score": 0, "creation_date": 1525270843, "post_id": 46083994, "comment_id": 87292057, "body": "Would also be interested to find out how to implement this. I also would like to use <code>tqdm</code> for loading an hdf5 file with pandas with <code>pd.read_hdf</code>. Has someone figured this out ?"}], "tags": [], "owner": {"reputation": 2933, "user_id": 3434388, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uZ9Hf.jpg?s=128&g=1", "display_name": "Danielle M.", "link": "https://stackoverflow.com/users/3434388/danielle-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1504730406, "creation_date": 1504730406, "answer_id": 46083994, "question_id": 46083813, "link": "https://stackoverflow.com/questions/46083813/python-tqdm-getting-all-zeros-in-timer-when-working-with-pandas/46083994#46083994", "title": "(Python/tqdm) Getting all zeros in timer when working with Pandas", "body": "<p><code>tqdm</code> requires an iterator. While you are using the <code>iterator=True</code> option for <code>read_csv</code>, you are assigning the resulting <code>TextFileReader</code> object back to <code>df</code>, without actually iterating on it. </p>\n\n<p>Try something like:</p>\n\n<pre><code>tfr = pd.read_csv(filename, header=[0, 1], chunksize=chunksize, iterator=True\nwith tqdm() as pbar:\n  # do something with the chunk\n  pbar.update()\n</code></pre>\n\n<p>I've never used tqdm so that may not work out of the box - you might need to calculate file size and how many chunks that will take etc.</p>\n"}, {"comments": [{"owner": {"reputation": 1574, "user_id": 3612634, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/z4pyN.png?s=128&g=1", "display_name": "tisaconundrum", "link": "https://stackoverflow.com/users/3612634/tisaconundrum"}, "edited": false, "score": 0, "creation_date": 1596756576, "post_id": 63156209, "comment_id": 111921138, "body": "Thank you for adding an additional answer. This is an old question, but your solution is definitely clever."}], "tags": [], "owner": {"reputation": 376, "user_id": 5299750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-5Bgs6Ybumnw/AAAAAAAAAAI/AAAAAAAAAGc/egwMfJPg5MM/photo.jpg?sz=128", "display_name": "Christian Steinmeyer", "link": "https://stackoverflow.com/users/5299750/christian-steinmeyer"}, "is_accepted": false, "score": 1, "last_activity_date": 1596033838, "creation_date": 1596033838, "answer_id": 63156209, "question_id": 46083813, "link": "https://stackoverflow.com/questions/46083813/python-tqdm-getting-all-zeros-in-timer-when-working-with-pandas/63156209#63156209", "title": "(Python/tqdm) Getting all zeros in timer when working with Pandas", "body": "<p>In addition to the other answer, that manually updates the <code>tqdm</code> progress bar, I'd like to suggest an alternative that might be a little more intuitive:</p>\n<pre class=\"lang-py prettyprint-override\"><code>text_file_reader = pd.read_csv(filename, chunksize=chunksize, iterator=True)\nfor chunk in tqdm(text_file_reader):\n    # chunk is a pd.DataFrame with *chunksize* rows of pd.read_csv(filename)\n    # (the last chunk might have fewer rows)\n\n    # do something with the chunk\n</code></pre>\n<p>This will not give you a standard progress bar slowly filling up to 100%. Instead, you will get information about how many chunks were already processed and what their average processing time was: like so:</p>\n<pre><code>18/? [00:22&lt;00:00, 1.29s/it]\n</code></pre>\n<p>One might be able to fill the progress bar with meaningful data - however, as I see it this would require some kind of estimate of number or rows from file size which doesn't seem trivial to me.</p>\n"}], "owner": {"reputation": 1574, "user_id": 3612634, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/z4pyN.png?s=128&g=1", "display_name": "tisaconundrum", "link": "https://stackoverflow.com/users/3612634/tisaconundrum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "accepted_answer_id": 46083994, "answer_count": 2, "score": 0, "last_activity_date": 1596033838, "creation_date": 1504729658, "question_id": 46083813, "link": "https://stackoverflow.com/questions/46083813/python-tqdm-getting-all-zeros-in-timer-when-working-with-pandas", "title": "(Python/tqdm) Getting all zeros in timer when working with Pandas", "body": "<p>I'm trying to display a progress bar whenever a file is loaded into pandas. But all I get back is this.</p>\n\n<pre><code>0it [00:00, ?it/s]\n</code></pre>\n\n<p>Here is the code I'm working with.\n<br>I'm importing tqdm based on some examples that I've found.</p>\n\n<pre><code>from tqdm import tqdm\n...\n\ndef function(self):\n    params = self.getGuiParams()\n    filename = params['fileNameLineEdit']\n    keyname = params['dataSetNameLineEdit']\n    try:\n        print('Loading data file: ' + str(filename))\n        self.datakeys.append(keyname)\n        chunksize = 50000\n        df = tqdm(pd.read_csv(filename, header=[0, 1], chunksize=chunksize, iterator=True))\n        self.data[keyname] = spectral_data(df)\n    except Exception as e:\n        print('Problem reading data: {}'.format(e))\n</code></pre>\n"}, {"tags": ["python", "pandas", "split-apply-combine"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 5935911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VBlrY.jpg?s=128&g=1", "display_name": "Mark Pedigo", "link": "https://stackoverflow.com/users/5935911/mark-pedigo"}, "edited": false, "score": 0, "creation_date": 1504730609, "post_id": 46083955, "comment_id": 79130049, "body": "It&#39;s a small dataset, so that works just fine. Thanks much!"}], "tags": [], "owner": {"reputation": 284, "user_id": 1622954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40a31b7a8d585876da1131e03341d58?s=128&d=identicon&r=PG", "display_name": "Phik", "link": "https://stackoverflow.com/users/1622954/phik"}, "is_accepted": true, "score": 1, "last_activity_date": 1504730253, "creation_date": 1504730253, "answer_id": 46083955, "question_id": 46083804, "link": "https://stackoverflow.com/questions/46083804/python-pandas-aggregate-series-data-within-a-dataframe/46083955#46083955", "title": "Python Pandas Aggregate Series Data Within a DataFrame", "body": "<p>This works</p>\n\n<pre><code>result = df.groupby(['account', 'account_type'])\\\n       .apply(lambda x : [sum(y) for y in zip(*x[\"data\"])])\n</code></pre>\n\n<p>However it may be slow for a large dataset </p>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1504731039, "creation_date": 1504731039, "answer_id": 46084130, "question_id": 46083804, "link": "https://stackoverflow.com/questions/46083804/python-pandas-aggregate-series-data-within-a-dataframe/46084130#46084130", "title": "Python Pandas Aggregate Series Data Within a DataFrame", "body": "<pre><code>&gt;&gt;&gt; df.groupby(['account', 'account_type']).apply(\n        lambda group: tuple(group['data'].apply(pd.Series).sum()))\naccount  account_type\n1        A               (5, 7, 9)\n         B               (7, 8, 9)\n2        A               (1, 3, 5)\n         B               (2, 4, 6)\ndtype: object\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 5935911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VBlrY.jpg?s=128&g=1", "display_name": "Mark Pedigo", "link": "https://stackoverflow.com/users/5935911/mark-pedigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 1, "accepted_answer_id": 46083955, "answer_count": 2, "score": 1, "last_activity_date": 1504731039, "creation_date": 1504729615, "question_id": 46083804, "link": "https://stackoverflow.com/questions/46083804/python-pandas-aggregate-series-data-within-a-dataframe", "title": "Python Pandas Aggregate Series Data Within a DataFrame", "body": "<p>Within a dataframe, I am trying split-apply-combine to a column which contains series data element-wise. (I've searched SO but haven't found anything pertaining to series within data frames.)</p>\n\n<p>The data frame:</p>\n\n<pre><code>import pandas as pd\nfrom pandas import Series, DataFrame\n\nimport numpy as np\n\nex = {'account': [1, 1, 1, 2, 2],\n      'subaccount': [1, 2, 3, 1, 2],\n      'account_type':  ['A', 'A', 'B', 'A', 'B'],\n      'data': [(1, 2, 3), (4, 5, 6), (7, 8, 9), (1, 3, 5), (2, 4, 6)]}\n\ndf = DataFrame(ex, columns=['account', 'subaccount', 'account_type', 'data'])\n</code></pre>\n\n<p>Then I groupby and aggregate, like so.</p>\n\n<pre><code>result = (df.groupby(['account', 'account_type'])\n           .agg({'subaccount': np.sum}))\n</code></pre>\n\n<p>This gives me </p>\n\n<pre><code>                       subaccount\naccount  account_type\n1        A             3\n         B             3\n2        A             1\n         B             2\n</code></pre>\n\n<p>but what I want is</p>\n\n<pre><code>                      subaccount\naccount  account_type\n1        A            (5, 7, 9)\n         B            (7, 8, 9)\n2        A            (1, 3, 5)\n         B            (2, 4, 6)\n</code></pre>\n\n<p>I'm probably missing something obvious, but the solution escapes me.</p>\n"}, {"tags": ["python", "pandas", "join", "merge"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1504729704, "post_id": 46083786, "comment_id": 79129577, "body": "What is the difference between the two outputs?"}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "reply_to_user": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1504729788, "post_id": 46083786, "comment_id": 79129619, "body": "If there isn&#39;t a difference then I don&#39;t have a problem. It just didn&#39;t seem like the expected outcome based on all the examples about joins that I saw online."}, {"owner": {"reputation": 578, "user_id": 8168425, "user_type": "registered", "profile_image": "https://graph.facebook.com/1944395912440089/picture?type=large", "display_name": "Chandan Suri", "link": "https://stackoverflow.com/users/8168425/chandan-suri"}, "edited": false, "score": 0, "creation_date": 1504729798, "post_id": 46083786, "comment_id": 79129626, "body": "Have u tried to see one entry from the final data frame?"}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "edited": false, "score": 0, "creation_date": 1504729824, "post_id": 46083786, "comment_id": 79129633, "body": "Chandran Suri, how do I do that?"}, {"owner": {"reputation": 578, "user_id": 8168425, "user_type": "registered", "profile_image": "https://graph.facebook.com/1944395912440089/picture?type=large", "display_name": "Chandan Suri", "link": "https://stackoverflow.com/users/8168425/chandan-suri"}, "edited": false, "score": 0, "creation_date": 1504729869, "post_id": 46083786, "comment_id": 79129672, "body": "According to me it&#39;s just that the table cannot be fitted in a single window that&#39;s why it is showing it that way. Otherwise your query is correct and the final data frame is the same as what you desire it to be.. it&#39;s the same..."}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "edited": false, "score": 0, "creation_date": 1504729992, "post_id": 46083786, "comment_id": 79129740, "body": "It still looks that way if I expact the window. I&#39;m confused because ValueB0 has its own set of numbers on the left side."}, {"owner": {"reputation": 578, "user_id": 8168425, "user_type": "registered", "profile_image": "https://graph.facebook.com/1944395912440089/picture?type=large", "display_name": "Chandan Suri", "link": "https://stackoverflow.com/users/8168425/chandan-suri"}, "edited": false, "score": 0, "creation_date": 1504730017, "post_id": 46083786, "comment_id": 79129750, "body": "You can confirm by just outputting any one tuple from the final data frame formed."}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "edited": false, "score": 0, "creation_date": 1504730109, "post_id": 46083786, "comment_id": 79129797, "body": "How do I do that?"}, {"owner": {"reputation": 578, "user_id": 8168425, "user_type": "registered", "profile_image": "https://graph.facebook.com/1944395912440089/picture?type=large", "display_name": "Chandan Suri", "link": "https://stackoverflow.com/users/8168425/chandan-suri"}, "edited": false, "score": 0, "creation_date": 1504730446, "post_id": 46083786, "comment_id": 79129957, "body": "Just store the merged datframe in another variable. Let the variable be fin_df. Then write. fin_df(0)... Change the braces to square ones. What you get?"}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "reply_to_user": {"reputation": 578, "user_id": 8168425, "user_type": "registered", "profile_image": "https://graph.facebook.com/1944395912440089/picture?type=large", "display_name": "Chandan Suri", "link": "https://stackoverflow.com/users/8168425/chandan-suri"}, "edited": false, "score": 0, "creation_date": 1504730576, "post_id": 46083786, "comment_id": 79130032, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/153807/discussion-between-ifthenifthen-and-chandan-suri\">continue this discussion in chat</a>."}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "edited": false, "score": 0, "creation_date": 1504730598, "post_id": 46083786, "comment_id": 79130044, "body": "Nevermind, work blocks chat. I get a lot of key errors."}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "edited": false, "score": 0, "creation_date": 1504730616, "post_id": 46083786, "comment_id": 79130052, "body": "does variable[0] work for dataframes, however?"}, {"owner": {"reputation": 547, "user_id": 6077548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/707d5b73ba4beaf6e783984ca3ccb304?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin Taschenberger", "link": "https://stackoverflow.com/users/6077548/marvin-taschenberger"}, "edited": false, "score": 0, "creation_date": 1504731110, "post_id": 46083786, "comment_id": 79130283, "body": "try <code>df.loc[0]</code>"}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "edited": false, "score": 0, "creation_date": 1504731172, "post_id": 46083786, "comment_id": 79130316, "body": "Thank you Marvin, it works."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1504732869, "post_id": 46083786, "comment_id": 79131049, "body": "add this line to before your code <code>pd.set_option(&#39;expand_frame_repr&#39;, False)</code>"}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "edited": false, "score": 0, "creation_date": 1504733213, "post_id": 46083786, "comment_id": 79131212, "body": "Much better!!!!!"}, {"owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "edited": false, "score": 0, "creation_date": 1504733357, "post_id": 46083786, "comment_id": 79131277, "body": "If you answer with that, I&#39;ll give you credit"}], "answers": [{"tags": [], "owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "is_accepted": false, "score": 0, "last_activity_date": 1504731206, "creation_date": 1504731206, "answer_id": 46084160, "question_id": 46083786, "link": "https://stackoverflow.com/questions/46083786/merges-and-joins-in-pandas/46084160#46084160", "title": "Merges and joins in pandas", "body": "<p>The join is correct - no further information is needed.</p>\n"}, {"tags": [], "owner": {"reputation": 578, "user_id": 8168425, "user_type": "registered", "profile_image": "https://graph.facebook.com/1944395912440089/picture?type=large", "display_name": "Chandan Suri", "link": "https://stackoverflow.com/users/8168425/chandan-suri"}, "is_accepted": true, "score": 0, "last_activity_date": 1504731398, "creation_date": 1504731398, "answer_id": 46084212, "question_id": 46083786, "link": "https://stackoverflow.com/questions/46083786/merges-and-joins-in-pandas/46084212#46084212", "title": "Merges and joins in pandas", "body": "<p>See this. I had a datframe and it showed me like this, but the datframe was one intact data frame...</p>\n\n<p><a href=\"https://i.stack.imgur.com/2L5Fx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2L5Fx.jpg\" alt=\"see this you may get some idea\"></a></p>\n"}], "owner": {"reputation": 227, "user_id": 8003784, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a3a725e57c8f8ef409caf584dc0644e?s=128&d=identicon&r=PG&f=1", "display_name": "ifthenifthen", "link": "https://stackoverflow.com/users/8003784/ifthenifthen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 46084212, "answer_count": 2, "score": -5, "last_activity_date": 1504731398, "creation_date": 1504729540, "question_id": 46083786, "link": "https://stackoverflow.com/questions/46083786/merges-and-joins-in-pandas", "title": "Merges and joins in pandas", "body": "<p>I am joining two DataFrame tables that show sums of elements from two different months. </p>\n\n<p>Here is df1: </p>\n\n<pre><code>     Query                                        ValueA0\n0       IO1_DerivativeReceivables_ChathamLocal    673437.850000\n1               IO2_CollateralCalledforReceipt     60000.000000\n2          OO1_DerivativePayables_ChathamLocal     73537.550000\n</code></pre>\n\n<p>Here is df2:</p>\n\n<pre><code>                   Query                           ValueB0\n0       IO1_DerivativeReceivables_ChathamLocal    336705.200000\n1               IO2_CollateralCalledforReceipt     20920.000000\n2          OO1_DerivativePayables_ChathamLocal     11299.130000\n</code></pre>\n\n<p>Note that the queries are the same, but the values are different.</p>\n\n<p>I tried to join them with the following code:</p>\n\n<pre><code>import pandas as pd\npd.merge(df1, df2, on='Query')\n</code></pre>\n\n<p>This was my result:</p>\n\n<pre><code> Query                                                   ValueA0     \\\n0       IO1_DerivativeReceivables_ChathamLocal    673437.850000\n1               IO2_CollateralCalledforReceipt     60000.000000\n2          OO1_DerivativePayables_ChathamLocal     73537.550000\n\n       ValueB0\n0    336705.200000\n1     20920.000000\n2     11299.130000\n</code></pre>\n\n<p>This is what I was expecting:</p>\n\n<pre><code>         Query                                         ValueA0        ValueB0  \n0       IO1_DerivativeReceivables_ChathamLocal    673437.850000      336705.200000\n1               IO2_CollateralCalledforReceipt     60000.000000      20920.000000\n2          OO1_DerivativePayables_ChathamLocal     73537.550000      11299.130000\n</code></pre>\n\n<p>How do I do this? The join seems fairly simple. I have tried several variations of joins and always end up with the tables appearing as though they are separated. Is this correct?</p>\n"}, {"tags": ["python", "django", "heroku"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1504730042, "post_id": 46083785, "comment_id": 79129764, "body": "Are you tried to use <code>STATICFILES_DIRS = (os.path.join(PROJECT_ROOT, &quot;static&quot;),)</code>"}, {"owner": {"reputation": 1141, "user_id": 3232194, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/e9d620c17e153d59c1fb6ead2b345b11?s=128&d=identicon&r=PG&f=1", "display_name": "jaimers", "link": "https://stackoverflow.com/users/3232194/jaimers"}, "reply_to_user": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1504736791, "post_id": 46083785, "comment_id": 79132469, "body": "@marni yea i tried it. :("}], "answers": [{"comments": [{"owner": {"reputation": 1141, "user_id": 3232194, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/e9d620c17e153d59c1fb6ead2b345b11?s=128&d=identicon&r=PG&f=1", "display_name": "jaimers", "link": "https://stackoverflow.com/users/3232194/jaimers"}, "edited": false, "score": 0, "creation_date": 1504736550, "post_id": 46083907, "comment_id": 79132398, "body": "oh wait, yeah i tried that too.. I had <code>STATICFILES_DIRS</code> as <code>theme&#47;static</code> or is it suppose to be something else?"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 0, "last_activity_date": 1504730067, "creation_date": 1504730067, "answer_id": 46083907, "question_id": 46083785, "link": "https://stackoverflow.com/questions/46083785/heroku-and-static-files-same-404-error/46083907#46083907", "title": "heroku and static files, same 404 error", "body": "<p>STATIC_ROOT and STATICFILES_DIRS shouldn't be the same. The first is where collectstatic will put files to be served - and where WhiteNoise will serve them from. The second is where they are stored in development.</p>\n"}], "owner": {"reputation": 1141, "user_id": 3232194, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/e9d620c17e153d59c1fb6ead2b345b11?s=128&d=identicon&r=PG&f=1", "display_name": "jaimers", "link": "https://stackoverflow.com/users/3232194/jaimers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504730067, "creation_date": 1504729537, "question_id": 46083785, "link": "https://stackoverflow.com/questions/46083785/heroku-and-static-files-same-404-error", "title": "heroku and static files, same 404 error", "body": "<p>ive been looking at this for weeks and it has been driving me insane.\nit is the usual <code>404 error</code> when deploying to heroku.\nCan someone advise me what is the purpose of this static file and this complication on heroku?\nAnd secondly, what should I do? I tried so many things already.</p>\n\n<p>settings.py</p>\n\n<pre><code>DEBUG = False\nPROJECT_ROOT = BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\nSTATIC_URL ='/static/'\nSTATIC_ROOT = os.path.join(PROJECT_ROOT, 'static')\nSTATICFILES_DIRS = (os.path.join(os.path.realpath(PROJECT_ROOT), \"/static\"),)\nSTATICFILES_FINDERS = ('django.contrib.staticfiles.finders.FileSystemFinder',)\nSTATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'\n</code></pre>\n\n<p>wsgi.py</p>\n\n<pre><code>import os\nfrom django.core.wsgi import get_wsgi_application\nfrom mezzanine.utils.conf import real_project_name\nfrom whitenoise.django import DjangoWhiteNoise\n\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\",\n                      \"%s.settings\" % real_project_name(appname))\n\napplication = get_wsgi_application()\napplication = DjangoWhiteNoise(application)\n</code></pre>\n\n<p>yes, I've done <code>python manage.py collectstatic</code>\nI've also tried adding that in <code>Procfile</code></p>\n"}, {"tags": ["python", "python-2.7", "serialization"], "comments": [{"owner": {"reputation": 2890, "user_id": 4027688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87fcbc5d23f768c0aa1c7b0f716feafb?s=128&d=identicon&r=PG&f=1", "display_name": "bphi", "link": "https://stackoverflow.com/users/4027688/bphi"}, "edited": false, "score": 1, "creation_date": 1504729531, "post_id": 46083755, "comment_id": 79129489, "body": "pickle should be able to store and load any Python object"}, {"owner": {"reputation": 260, "user_id": 3657967, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100001086341232/picture?type=large", "display_name": "acai", "link": "https://stackoverflow.com/users/3657967/acai"}, "reply_to_user": {"reputation": 2890, "user_id": 4027688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87fcbc5d23f768c0aa1c7b0f716feafb?s=128&d=identicon&r=PG&f=1", "display_name": "bphi", "link": "https://stackoverflow.com/users/4027688/bphi"}, "edited": false, "score": 0, "creation_date": 1504729939, "post_id": 46083755, "comment_id": 79129715, "body": "Thanks. I tried but I want to avoid writing on disk. Any advise how I can do that?"}], "owner": {"reputation": 260, "user_id": 3657967, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100001086341232/picture?type=large", "display_name": "acai", "link": "https://stackoverflow.com/users/3657967/acai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504729882, "creation_date": 1504729403, "last_edit_date": 1504729882, "question_id": 46083755, "link": "https://stackoverflow.com/questions/46083755/what-are-the-best-ways-to-serialize-a-pandas-pivottable", "title": "What are the Best Ways to Serialize a Pandas PivotTable", "body": "<p>How can I serialize and deserialize a pivot table in pandas (see example below)? I tried a few different ways already like csv, json, pickles, etc, but none of them worked when I try to deserialize the data back to objects. </p>\n\n<pre><code>&gt;&gt;&gt; table = pivot_table(df, values='D', index=['A', 'B'],\n...                     columns=['C'], aggfunc=np.sum)\n&gt;&gt;&gt; table\n          small  large\nfoo  one  1      4\n     two  6      NaN\nbar  one  5      4\n     two  6      7\n</code></pre>\n\n<p>Update: I tried pickle but it was not satisfying because I need to send the data to an in-house database and I want to avoid writing on the disk - maybe I was wrong but I could not pass a buffer as an argument to the pd.to_pickle method.</p>\n"}, {"tags": ["python", "pymodbus3"], "owner": {"reputation": 11, "user_id": 5438494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af7c76eea042f598c4c236cdac2974ab?s=128&d=identicon&r=PG&f=1", "display_name": "Gilberto Marcial", "link": "https://stackoverflow.com/users/5438494/gilberto-marcial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504729375, "creation_date": 1504729375, "question_id": 46083750, "link": "https://stackoverflow.com/questions/46083750/how-to-read-file-request-with-pymodbus", "title": "how to read file request with pymodbus", "body": "<p>Actually I'm working with modbus protocol, and I need make a program using pymodbus library however I don't know many things about this protocol. I know to do basic somethings, for example: read input/holding registers but I need read the waveforms. In the device's docs says that I have to write the Read-File request for file 128 and then read the data from the file response block, but I don't know how. How to write the Read-File request with pymodbus? I need to use write_register()? I hope you can help me and sorry for my english</p>\n"}, {"tags": ["python", "indexing"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1504729247, "creation_date": 1504729247, "answer_id": 46083725, "question_id": 46083708, "link": "https://stackoverflow.com/questions/46083708/how-to-index-1d-array-without-singleton-dimension-in-python-by-1d-array-with-sin/46083725#46083725", "title": "How to index 1d array without singleton dimension in python by 1d array with singleton dimension?", "body": "<p>Only <code>a</code> is a 1D array. Singleton dimensions are still dimensions.</p>\n\n<p>Remove the second dimension from <code>b</code>:</p>\n\n<pre><code>a[b[:, 0] &gt; 0]\n</code></pre>\n\n<p><code>b[:, 0]</code> takes a view of <code>b</code>'s data, not a copy.</p>\n"}], "owner": {"reputation": 747, "user_id": 4305702, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/ca6d645fad4dabd2bc1e9d14fe7a70a0?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4305702/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 46083725, "answer_count": 1, "score": 0, "last_activity_date": 1504729247, "creation_date": 1504729150, "question_id": 46083708, "link": "https://stackoverflow.com/questions/46083708/how-to-index-1d-array-without-singleton-dimension-in-python-by-1d-array-with-sin", "title": "How to index 1d array without singleton dimension in python by 1d array with singleton dimension?", "body": "<p>what is the procedure to index variations of 1d arrays in python?</p>\n\n<p>For example, consider the following example:</p>\n\n<pre><code>a = np.ones(100)\nb = np.ones(100, 1)\na[b &gt; 0]\nIndexError                                Traceback (most recent call last)\n&lt;ipython-input-14-05e3ddce24c9&gt; in &lt;module&gt;()\n----&gt; 1 a[b == 1]\n\nIndexError: too many indices for array\n</code></pre>\n\n<p>How would I do this indexing, without creating a new array?</p>\n"}, {"tags": ["python", "pandas", "if-statement", "conditional", "where-clause"], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1504729613, "creation_date": 1504729613, "answer_id": 46083803, "question_id": 46083676, "link": "https://stackoverflow.com/questions/46083676/python-flag-based-on-conditional-if-logic-using-three-different-columns/46083803#46083803", "title": "python flag based on conditional if logic using three different columns", "body": "<p>There may be a better way to solve your problem, but this worksm too:</p>\n\n<pre><code>fc = df[df['first_transaction_flag'] == 'Y'][['Customer', 'medium']]\nfc['first_channel'] = 'Y'\ndf = df.merge(fc, how='outer').fillna(0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3248, "user_id": 5187157, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/grcf9.jpg?s=128&g=1", "display_name": "jeangelj", "link": "https://stackoverflow.com/users/5187157/jeangelj"}, "edited": false, "score": 0, "creation_date": 1504729882, "post_id": 46083833, "comment_id": 79129678, "body": "Thank you so much - do you mind explaining &#39;first&#39; in the very end of the statement and where you defined that the column first_channel should display a Y for the match?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 3248, "user_id": 5187157, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/grcf9.jpg?s=128&g=1", "display_name": "jeangelj", "link": "https://stackoverflow.com/users/5187157/jeangelj"}, "edited": false, "score": 0, "creation_date": 1504730099, "post_id": 46083833, "comment_id": 79129790, "body": "I added some explanation"}, {"owner": {"reputation": 3248, "user_id": 5187157, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/grcf9.jpg?s=128&g=1", "display_name": "jeangelj", "link": "https://stackoverflow.com/users/5187157/jeangelj"}, "edited": false, "score": 0, "creation_date": 1504730189, "post_id": 46083833, "comment_id": 79129835, "body": "Great - thank you! I just ran it and it gives me Y/N - this is perfect; thank you very much"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1504730367, "post_id": 46083833, "comment_id": 79129925, "body": "This works if the table is properly sorted, i.e. the <code>first_transaction_flag</code> is set to <code>Y</code> for the first transaction.  To ensure the desired behavior, you may want to consider pre-sorting via <code>df.sort_values([&#39;Customer&#39;, &#39;first_transaction_flag&#39;], ascending=[True, False])</code>"}, {"owner": {"reputation": 3248, "user_id": 5187157, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/grcf9.jpg?s=128&g=1", "display_name": "jeangelj", "link": "https://stackoverflow.com/users/5187157/jeangelj"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1504731003, "post_id": 46083833, "comment_id": 79130244, "body": "Thank you @Alexander - I had no idea and my huge df was definitely not sorted that way - you saved me quite a lot of trouble shooting later on, thank you !"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1504730066, "last_edit_date": 1504730066, "creation_date": 1504729749, "answer_id": 46083833, "question_id": 46083676, "link": "https://stackoverflow.com/questions/46083676/python-flag-based-on-conditional-if-logic-using-three-different-columns/46083833#46083833", "title": "python flag based on conditional if logic using three different columns", "body": "<pre><code>cols = ['Customer', 'medium']\ncol = 'first_transaction_flag'\ndf.assign(first_channel=df.groupby(cols)[col].transform('first'))\n\n  Customer  transaction_id    medium first_transaction_flag first_channel\n0      ABC           12345   organic                      Y             Y\n1      ABC           23456     email                      0             0\n2      ABC           34567   organic                      0             Y\n3      BCD           45678   organic                      0             0\n4      BCD           56789  referral                      0             0\n</code></pre>\n\n<hr>\n\n<p><strong>Explanation</strong>  </p>\n\n<p><code>'first'</code> will grab the first result within a group and <code>transform</code> broadcasts it across all indices for that group.  </p>\n"}], "owner": {"reputation": 3248, "user_id": 5187157, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/grcf9.jpg?s=128&g=1", "display_name": "jeangelj", "link": "https://stackoverflow.com/users/5187157/jeangelj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 46083833, "answer_count": 2, "score": 1, "last_activity_date": 1504730066, "creation_date": 1504729013, "question_id": 46083676, "link": "https://stackoverflow.com/questions/46083676/python-flag-based-on-conditional-if-logic-using-three-different-columns", "title": "python flag based on conditional if logic using three different columns", "body": "<p>I have the following df based on google analytics data: </p>\n\n<pre><code>Customer | transaction_id | medium   | first_transaction_flag\nABC        12345            organic      Y\nABC        23456            email        0    \nABC        34567            organic      0\nBCD        45678            organic      0\nBCD        56789            referral     0\n</code></pre>\n\n<p>In the above df, the transaction 12345 has a first_transaction_flag of Y, which means that this was the customer's first transaction ever. </p>\n\n<p>I need to add a second flag labeled first_channel. What it should do is flag for that one customer that channel, where they were acquired as their first_channel = Y for all subsequent transactions. This would be the output:</p>\n\n<pre><code>Customer | transaction_id | medium   | first_transaction_flag | first_channel\nABC        12345            organic      Y                       Y\nABC        23456            email        0                       0\nABC        34567            organic      0                       Y             \nBCD        45678            organic      0                       0\nBCD        56789            referral     0                       0\n</code></pre>\n\n<p>Basically, it would be a conditional if statement: if first_transaction_flag = Y, then mark the same combo of customer and medium as Y. I was trying to think if it is possible with a loc or np.where statement, but didn't get far. </p>\n"}, {"tags": ["python", "r", "pandas", "dataframe", "linear-regression"], "comments": [{"owner": {"reputation": 2455, "user_id": 5440712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fvs9d.png?s=128&g=1", "display_name": "dmi3kno", "link": "https://stackoverflow.com/users/5440712/dmi3kno"}, "edited": false, "score": 0, "creation_date": 1504729372, "post_id": 46083644, "comment_id": 79129420, "body": "including 0 in the formula suppresses intercept. Read more here: <a href=\"https://stats.stackexchange.com/questions/174298/what-does-the-formula-y-x-0-in-r-actually-calculate\" title=\"what does the formula y x 0 in r actually calculate\">stats.stackexchange.com/questions/174298/&hellip;</a>"}, {"owner": {"reputation": 1571, "user_id": 722950, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/178d85934b6799e9910c0f25d712a8da?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/722950/craig"}, "reply_to_user": {"reputation": 2455, "user_id": 5440712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fvs9d.png?s=128&g=1", "display_name": "dmi3kno", "link": "https://stackoverflow.com/users/5440712/dmi3kno"}, "edited": false, "score": 0, "creation_date": 1504729495, "post_id": 46083644, "comment_id": 79129469, "body": "Thanks @dmi3kno - but even then how would a log of a vector depend on another vector? Isn&#39;t the stuff on the left side of the <code>~</code> independent?"}], "answers": [{"comments": [{"owner": {"reputation": 1571, "user_id": 722950, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/178d85934b6799e9910c0f25d712a8da?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/722950/craig"}, "edited": false, "score": 0, "creation_date": 1504729658, "post_id": 46083776, "comment_id": 79129550, "body": "Thanks @ayhan but I&#39;m still getting the same error: <code>sm.ols(formula=&quot;np.log(in_data) ~ minutes - 1&quot;, data=model_data).fit()</code>, resulting in  ` patsy.PatsyError: Number of rows mismatch between data argument and np.log(in_data) (1 versus 4)     np.log(in_data) ~ minutes - 1     ^^^^^^^^^^^^^^^^^ `"}, {"owner": {"reputation": 547, "user_id": 6077548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/707d5b73ba4beaf6e783984ca3ccb304?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin Taschenberger", "link": "https://stackoverflow.com/users/6077548/marvin-taschenberger"}, "reply_to_user": {"reputation": 1571, "user_id": 722950, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/178d85934b6799e9910c0f25d712a8da?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/722950/craig"}, "edited": false, "score": 0, "creation_date": 1504729849, "post_id": 46083776, "comment_id": 79129652, "body": "@Craig Could you tell us the respective dimensions?"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "reply_to_user": {"reputation": 1571, "user_id": 722950, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/178d85934b6799e9910c0f25d712a8da?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/722950/craig"}, "edited": false, "score": 0, "creation_date": 1504729854, "post_id": 46083776, "comment_id": 79129658, "body": "@Craig Sorry I thought the error came from the use of <code>+ 0</code>. Can you include a reproducible sample for the Python example as well? Because with your R example I am able to produce correct results (I used <code>model_data = pd.DataFrame({&#39;in_data&#39;: in_data, &#39;minutes&#39;: minutes})</code>) where <code>in_data = (0.5, 0.6, 0.7)</code> and <code>minutes = (30, 60, 90)</code>."}, {"owner": {"reputation": 1571, "user_id": 722950, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/178d85934b6799e9910c0f25d712a8da?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/722950/craig"}, "edited": false, "score": 0, "creation_date": 1504730316, "post_id": 46083776, "comment_id": 79129903, "body": "Thanks @ayhan - the problem was in the way I had constructed the dataframe. Looks like it&#39;s working now. One more dumb question please - I see the correct value of the coefficient when I print result.summary(), how would I extract that value and assign it to a variable?"}, {"owner": {"reputation": 1571, "user_id": 722950, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/178d85934b6799e9910c0f25d712a8da?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/722950/craig"}, "reply_to_user": {"reputation": 547, "user_id": 6077548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/707d5b73ba4beaf6e783984ca3ccb304?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin Taschenberger", "link": "https://stackoverflow.com/users/6077548/marvin-taschenberger"}, "edited": false, "score": 0, "creation_date": 1504730353, "post_id": 46083776, "comment_id": 79129920, "body": "@MarvinTaschenberger it was a dumb user error - I had constructed the frame wrongly"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "reply_to_user": {"reputation": 1571, "user_id": 722950, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/178d85934b6799e9910c0f25d712a8da?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/722950/craig"}, "edited": false, "score": 0, "creation_date": 1504730514, "post_id": 46083776, "comment_id": 79129992, "body": "@Craig You need to access the <code>params</code> attribute. <code>result.params</code>  returns a Series where the keys are the names of the variables and the values are the coefficients. Since you only have one variable this will be a one element Series. You can further take the value with <code>result..params[&#39;minutes&#39;]</code>. You might want to check <code>dir(result)</code> to see what other attributes that object has."}], "tags": [], "owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "is_accepted": true, "score": 3, "last_activity_date": 1504729484, "creation_date": 1504729484, "answer_id": 46083776, "question_id": 46083644, "link": "https://stackoverflow.com/questions/46083644/rs-lm-function-in-pandas/46083776#46083776", "title": "R&#39;s lm function in Pandas", "body": "<p>A multiple linear regression equation is of the form <code>y = b0 + b1x1 + b2x2 + ... +bkxk</code> where <code>b0</code> is the intercept or the constant. You can exclude this constant from the model by using <code>0 +</code> in R. Another way of doing that is to use <code>- 1</code> which works both in R and patsy. So you need to change your result to:</p>\n\n<pre><code>result = sm.ols(formula=\"np.log(in_data) ~ minutes - 1\", data=model_data).fit()\n</code></pre>\n"}], "owner": {"reputation": 1571, "user_id": 722950, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/178d85934b6799e9910c0f25d712a8da?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/722950/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 0, "accepted_answer_id": 46083776, "answer_count": 1, "score": 2, "last_activity_date": 1504729577, "creation_date": 1504728876, "last_edit_date": 1504729577, "question_id": 46083644, "link": "https://stackoverflow.com/questions/46083644/rs-lm-function-in-pandas", "title": "R&#39;s lm function in Pandas", "body": "<p>I have the following <code>lm</code> function in R:</p>\n\n<pre><code>in_data &lt;- c(0.5, 0.6, 0.7)\nminutes &lt;- c(30, 60, 90)\nfoobar &lt;- lm(log(in_data) ~ 0 + hours)\n</code></pre>\n\n<p>Questions</p>\n\n<ul>\n<li>I understand the <code>~</code> operator is used to separate the left- and\nright-hand sides in a model formula. So in this case, does it\ntranslate to <code>log(in_data) is dependent on 0 and hours</code>??? I'm totally lost here, especially on how the log of a vector depends on 0 and another vector </li>\n<li>If I were to attempt to port this to Pandas, what would be the most straightforward way? I tried something on the lines of:</li>\n</ul>\n\n<p>.</p>\n\n<pre><code>import statsmodels.formula.api as sm\nimport numpy as np\nresult = sm.ols(formula=\"np.log(in_data) ~ 0 + minutes\", data=model_data).fit()\n</code></pre>\n\n<p>But that threw an error:</p>\n\n<pre><code>patsy.PatsyError: Number of rows mismatch between data argument and np.log(in_data) (1 versus 4)\n    np.log(in_data) ~ 0 + minutes\n    ^^^^^^^^^^^^^^^^^\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql"], "owner": {"reputation": 219, "user_id": 2669843, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/010bbc1477ea4fb89f930b7dfa87cc90?s=128&d=identicon&r=PG", "display_name": "dmcmulle", "link": "https://stackoverflow.com/users/2669843/dmcmulle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504728857, "creation_date": 1504728857, "question_id": 46083638, "link": "https://stackoverflow.com/questions/46083638/why-does-select-for-update-never-work-for-me-in-django-postgres", "title": "Why does select_for_update never work for me in Django + Postgres?", "body": "<p>I feel like I have some conceptual mis-understandings of 'select_for_update' in django.</p>\n\n<p>Lets start with a few simple lines of code</p>\n\n<pre><code>Rank is a Django model.\nReport is a Django model, with a bunch of Rank's.  \n</code></pre>\n\n<p>Like so:</p>\n\n<pre><code>class Rank(models.Model):\n    search_term = models.CharField()\n    rank = models.IntegerField()\n    created_on = models.DateTimeField()\n\nclass Report(models.Model):\n    ranks = models.ManyToManyField('Rank')\n</code></pre>\n\n<p>Simple enough.</p>\n\n<p>I have a worker, his job is to check the last unique iteration of a 'rank' object based on the search term.  So if we have a search term 'foo', foo could have say 12 entries.  If the last entry is older than 24 hours, than we want to make a new entry to see what the new ranking is.</p>\n\n<p>With me so far?</p>\n\n<p>Okay.  So, here's where the problem happens.  Obviously, there are more than 1 worker.  So here is how I attempted to make sure to only write one record:</p>\n\n<pre><code>with transaction.atomic():\n    # hidden code.. select the max (created_on) model of unique search_term\n\n    # loop through the maxes\n    for r in ranks:\n        if q['max_date'] &lt;= one_day_ago:\n            ids_we_need_to_update.append(q['rank_id'])\n\n    rows_to_update = Rank.objects.select_for_update(skip_locked=True).filter(pk__in=ids_we_need_to_update)[:16]\n\n    for rtu in rows_to_update:\n        #update row....\n        rtu.save()\n</code></pre>\n\n<p>To my disappointment, I woke up this morning to see that a race condition had occurred, and the same search_term had been inserted into the Rank database twice, 2 seconds apart from each other.</p>\n\n<p>What am I not getting?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "transpose"], "comments": [{"owner": {"reputation": 7436, "user_id": 5514476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP6t0.jpg?s=128&g=1", "display_name": "DJK", "link": "https://stackoverflow.com/users/5514476/djk"}, "edited": false, "score": 1, "creation_date": 1504730925, "post_id": 46083606, "comment_id": 79130210, "body": "you should provide a sample of the data frame, we cant test <code>test_table</code> because we don&#39;t have <code>row_list</code> variable. Please read how to make a <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\">reproducible pandas example</a> so that someone can better assist you."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6570204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1c907f2ff2cdc430f69ad1a02418865?s=128&d=identicon&r=PG&f=1", "display_name": "user6570204", "link": "https://stackoverflow.com/users/6570204/user6570204"}, "edited": false, "score": 0, "creation_date": 1505675555, "post_id": 46086086, "comment_id": 79498340, "body": "This worked perfectly! I am still trying to understand exactly what you did in the second half as there are some functions I am unfamiliar with, but thank you so much!"}], "tags": [], "owner": {"reputation": 496, "user_id": 3212593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a81b75f8f080ab557122933113ee98fc?s=128&d=identicon&r=PG&f=1", "display_name": "user3212593", "link": "https://stackoverflow.com/users/3212593/user3212593"}, "is_accepted": false, "score": 1, "last_activity_date": 1504743710, "creation_date": 1504743710, "answer_id": 46086086, "question_id": 46083606, "link": "https://stackoverflow.com/questions/46083606/transposing-complex-dataframe-in-pandas-python/46086086#46086086", "title": "Transposing complex DataFrame in Pandas/Python", "body": "<p>Mock df:</p>\n\n<pre><code>df = pd.DataFrame(columns=['Name', 'List 1', 'List 2'], data=[['A', [1,2,3,4], [1,2,3,4]], ['B', [1,2,3,4], [1,2,3,4]], ['C', [1,2,3,4], [1,2,3,4]]])\n</code></pre>\n\n<p>Get 'Name' out of the way:</p>\n\n<pre><code>df.set_index('Name', inplace=True)\n\n                List 1        List 2\n    Name                            \n    A     [1, 2, 3, 4]  [1, 2, 3, 4]\n    B     [1, 2, 3, 4]  [1, 2, 3, 4]\n    C     [1, 2, 3, 4]  [1, 2, 3, 4]\n\nn_name = len(df.index)\nn_list = len(df.columns)\nn_item = len(df.iat[0, 0])\n</code></pre>\n\n<p>The df values now has a shape of (3,2). We need to reshape to, in this mock df, a (6,) array to remove one dimension. We then make it a list.</p>\n\n<pre><code>vals = list(df.values.reshape((n_list * n_name),))\n\n[[1, 2, 3, 4],\n [1, 2, 3, 4],\n [1, 2, 3, 4],\n [1, 2, 3, 4],\n [1, 2, 3, 4],\n [1, 2, 3, 4]]\n</code></pre>\n\n<p>Now we get the values for the index levels. Since 'Name' is the first level, we want that level repeated by the number of unique values in the next level, so we use repeat. The level with lists, we want to maintain order, so we use tile. Then your column names are added:</p>\n\n<pre><code>idx_name = np.repeat(df.index.values, n_list)\nidx_list = np.tile(df.columns.values, n_name)\ncolumns = ['Col' + str(n) for n in list(range(1, n_item+1))]\n</code></pre>\n\n<p>Create final df:</p>\n\n<pre><code>df = pd.DataFrame(data=vals, index=[idx_name, idx_list], columns=columns)\n\n          Col1  Col2  Col3  Col4\nA List 1     1     2     3     4\n  List 2     1     2     3     4\nB List 1     1     2     3     4\n  List 2     1     2     3     4\nC List 1     1     2     3     4\n  List 2     1     2     3     4\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>df = pd.DataFrame(columns=['Name', 'List 1', 'List 2'], data=[['A', [1,2,3,4], [1,2,3,4]], ['B', [1,2,3,4], [1,2,3,4]], ['C', [1,2,3,4], [1,2,3,4]]])\n\ndf.set_index('Name', inplace=True)\n\nn_name = len(df.index)\nn_list = len(df.columns)\nn_item = len(df.iat[0, 0])\n\nvals = list(df.values.reshape((n_list * n_name),))\nidx_name = np.repeat(df.index.values, n_list)\nidx_list = np.tile(df.columns.values, n_name)\ncolumns = ['Col' + str(n) for n in list(range(1, n_item+1))]\n\ndf = pd.DataFrame(data=vals, index=[idx_name, idx_list], columns=columns)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6570204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1c907f2ff2cdc430f69ad1a02418865?s=128&d=identicon&r=PG&f=1", "display_name": "user6570204", "link": "https://stackoverflow.com/users/6570204/user6570204"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504752499, "creation_date": 1504728764, "last_edit_date": 1504752499, "question_id": 46083606, "link": "https://stackoverflow.com/questions/46083606/transposing-complex-dataframe-in-pandas-python", "title": "Transposing complex DataFrame in Pandas/Python", "body": "<p>I have a pandas DataFrame composed of a list of objects and then 4 lists of 12 values for each object. It has the general form:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oWmjt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oWmjt.png\" alt=\"Current Data\"></a></p>\n\n<p>I would like to transpose the dataframe and have hierarchical indices ('Name', 'names of 4 lists'). The general form of this would look like <a href=\"https://i.stack.imgur.com/Nq4iB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nq4iB.png\" alt=\"Desired Result\"></a></p>\n\n<p>I have tried the following, with rows_list being my source data:</p>\n\n<pre><code>import pandas as pd\n\ntest_table = pd.DataFrame(rows_list, columns=(\"name\", \"frac_0\", \"frac_1\",\"frac_2\", \"frac_3\"))\n\nname = pd.Series(test_table['name'])\n\ndel test_table['name']\ntest_table = test_table.T\ntest_table = test_table.sort_index([subjectname])\n</code></pre>\n\n<p>This gives me a TypeError that states </p>\n\n<blockquote>\n  <p>\"unhashable type: 'list'\". </p>\n</blockquote>\n\n<p>A simple <code>test_table.T</code> operation also doesn't give me what I need, as I need columns to correspond to items in the (<em>List1, List2,</em> etc) lists, and the rows to be indexed by name and then <em>List1, List2</em>. I've gone back and forth with adding new columns, or trying to build a brand new DataFrame from multiple series, but nothing seems to work.</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "django", "operationalerror"], "comments": [{"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1504729202, "post_id": 46083579, "comment_id": 79129337, "body": "did you done <code>makemigrations</code> and <code>migrate</code>?"}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "reply_to_user": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1504729419, "post_id": 46083579, "comment_id": 79129441, "body": "Yes, I did.I deleted them after the error and made them again.Still the same error."}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1504730178, "post_id": 46083579, "comment_id": 79129831, "body": "what database do you use?"}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "reply_to_user": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1504730302, "post_id": 46083579, "comment_id": 79129896, "body": "I&#39;m using SQLite3"}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1504730755, "post_id": 46083579, "comment_id": 79130125, "body": "please, look is <code>__init__.py</code> inside your <code>migrations</code> and  can you try <code>.&#47;manage.py dbshell</code> and inside the dbshell <code>.schema books_review</code>, please add result to the question in code formated"}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "reply_to_user": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 0, "creation_date": 1504731821, "post_id": 46083579, "comment_id": 79130613, "body": "Updated.Still the same -  table books_review has no column named book_id"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504734951, "post_id": 46084643, "comment_id": 79131915, "body": "Did exactly as you said and now I can&#39;t create authors and books, but the exception this time is - OperationalError at /books/  no such table: books_author"}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504765872, "post_id": 46084643, "comment_id": 79140233, "body": "CommandError: Unable to serialize database: no such table: books_book - When I did the 2nd step."}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "reply_to_user": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504765974, "post_id": 46084643, "comment_id": 79140279, "body": "what is your app name?"}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504766523, "post_id": 46084643, "comment_id": 79140572, "body": "App name is books"}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "reply_to_user": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504766724, "post_id": 46084643, "comment_id": 79140678, "body": "try start from step 3 until step 8, if you will have any messages write it here"}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504767479, "post_id": 46084643, "comment_id": 79141194, "body": "No errors while running them now, the operationalerror is gone too, now i get 404 when I submit the review for a book"}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "reply_to_user": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504767590, "post_id": 46084643, "comment_id": 79141264, "body": "you need create new <code>user</code> and <code>book</code>"}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504767784, "post_id": 46084643, "comment_id": 79141367, "body": "I createsuperuser  and book, after that I pressed Review, I mean I can&#39;t access books If I&#39;m not logged and can&#39;t write review if I don&#39;t have a book."}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "reply_to_user": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504768073, "post_id": 46084643, "comment_id": 79141540, "body": "you have new trouble, <code>return redirect(&#39;book_detail.html&#39;, id=book.id)</code> need replace <code>book_detail.html</code> on your detail book url name"}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504768690, "post_id": 46084643, "comment_id": 79141915, "body": "But, I don&#39;t use url in urls.py for book_detail.html since I include the add_review_to_book.html in the book_detail.html, should work like that. &lt;a class=&quot;btn btn-default&quot; href=&quot;{% url &#39;add_review_to_book&#39; id=book.id %}&quot;&gt;Add review&lt;/a&gt; thats in my book_detail.html, the full code of book_detail is on my question."}, {"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "reply_to_user": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504769953, "post_id": 46084643, "comment_id": 79142739, "body": "cool!, glad to help, please don&#39;t forget to accept the answer."}, {"owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "edited": false, "score": 0, "creation_date": 1504771517, "post_id": 46084643, "comment_id": 79143748, "body": "Took me awhile, I&#39;m new to this community too, thanks once again!"}], "tags": [], "owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "is_accepted": true, "score": 1, "last_activity_date": 1504766662, "last_edit_date": 1504766662, "creation_date": 1504733518, "answer_id": 46084643, "question_id": 46083579, "link": "https://stackoverflow.com/questions/46083579/django-operationalerror-at-books-add-review-to-book/46084643#46084643", "title": "Django OperationalError at /books/add_review_to_book", "body": "<p>as i can see, you have no two fields <code>book</code> and <code>author</code>, possible you broke migrations, try to do next steps:</p>\n\n<ol>\n<li>dump data <code>./manage.py dumpdata auth.user &gt; users.json</code></li>\n<li><code>./manage.py dumpdata books.book &gt; book.json</code></li>\n<li>remove sqlite database <code>rm db.sqlite3</code></li>\n<li>remove migrations folder <code>rm -rf books/migrations</code></li>\n<li>recreate books\\migrations <code>mkdir books/migrations</code></li>\n<li>create init.py <code>touch books\\migrations\\__init__.py</code></li>\n<li>create new migration <code>./manage.py makemigrations</code></li>\n<li>apply migrations <code>./manage.py migrate</code></li>\n<li>load data <code>./manage.py loaddata *.json</code></li>\n<li>test your code</li>\n</ol>\n\n<p>hope it help you</p>\n"}], "owner": {"reputation": 49, "user_id": 8571090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831cdba779ee4b9c389a63ec518a242f?s=128&d=identicon&r=PG&f=1", "display_name": "mastaofthepasta", "link": "https://stackoverflow.com/users/8571090/mastaofthepasta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 46084643, "answer_count": 1, "score": 0, "last_activity_date": 1504766662, "creation_date": 1504728642, "last_edit_date": 1504732260, "question_id": 46083579, "link": "https://stackoverflow.com/questions/46083579/django-operationalerror-at-books-add-review-to-book", "title": "Django OperationalError at /books/add_review_to_book", "body": "<p>I'm stuck for 2 days on this error,I'm new to Django and I am trying to write  reviews for books.When I open the review form and type some text and after that submit it, I get this error - </p>\n\n<pre><code>OperationalError at /books/add_review_to_book/8\ntable books_review has no column named book_id.\n</code></pre>\n\n<p>Everything looks okay for me heres the code:</p>\n\n<p>My models.py</p>\n\n<pre><code>class Book(models.Model):\n\n    user = models.ForeignKey(User, default=1)\n    title = models.CharField(max_length=100, null=True)\n    author = models.ForeignKey('Author', on_delete=models.CASCADE, null=True)\n\n    def __str__(self):\n        return self.title + ' - ' + self.author\n\n\nclass Author(models.Model):\n    first_name = models.CharField(max_length=50, null=True)\n    last_name = models.CharField(max_length=50, null=True)\n\n\nclass Review(models.Model):\n    book = models.ForeignKey('Book', related_name='reviews')\n    author = models.CharField(max_length=200)\n    text = models.TextField()\n    created_date = models.DateTimeField(default=timezone.now)\n\n    def __str__(self):\n        return self.text\n</code></pre>\n\n<p>My views.py:</p>\n\n<pre><code>def add_review_to_book(request, id):\n    book = get_object_or_404(Book, id=id)\n    if request.method == \"POST\":\n        form = ReviewsForm(request.POST)\n        if form.is_valid():\n            review = form.save(commit=False)\n            review.book = book\n            review.save()\n            return redirect('book_detail.html', id=book.id)\n    else:\n        form = ReviewsForm()\n    return render(request, 'books/add_review_to_book.html', {'form': form})\n</code></pre>\n\n<p>My forms.py:</p>\n\n<pre><code>class ReviewsForm(forms.ModelForm):\n\n    class Meta:\n        model = Review\n        fields = ('author', 'text')\n</code></pre>\n\n<p>My html that takes the form add_review_to_book:</p>\n\n<pre><code>{% block content %}\n        &lt;hr&gt;\n    &lt;a class=\"btn btn-default\" href=\"{% url 'add_review_to_book' id=book.id %}\"&gt;Add review&lt;/a&gt;\n{% for review in book.reviews.all %}\n    {% if user.is_authenticated %}\n    &lt;div class=\"review\"&gt;\n        &lt;div class=\"date\"&gt;\n            {{ review.created_date }}\n        &lt;/div&gt;\n        &lt;strong&gt;{{ review.author }}&lt;/strong&gt;\n        &lt;p&gt;{{ review.text|linebreaks }}&lt;/p&gt;\n    &lt;/div&gt;\n    {% endif %}\n{% empty %}\n    &lt;p&gt;No comments&lt;/p&gt;\n{% endfor %}\n{% endblock content %}\n</code></pre>\n\n<p>I deleted migrations and made them again, I still get the same error when I try to write a review. Thanks in advance.</p>\n\n<p>Edit: Result after running .schema books_review in dbshell -</p>\n\n<p><code>CREATE TABLE IF NOT EXISTS \"books_review\" (\"id\" integer NOT NULL PRIMARY KEY AUTOINCREMENT, \"text\" text NOT NULL);</code></p>\n\n<p>Still <code>table books_review has no column named book_id</code> :(</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 2, "creation_date": 1504728645, "post_id": 46083558, "comment_id": 79129052, "body": "<code>numbers</code> is a list of strings... you need to convert them to <code>int</code> or <code>float</code>: <code>numbers = map(float, user_input.split(&#39;,&#39;))</code>. The <code>map()</code> call applies <code>float()</code> to each member of the list, generating a list of floats."}, {"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1504728695, "post_id": 46083558, "comment_id": 79129089, "body": "see <a href=\"https://stackoverflow.com/questions/4663306/get-a-list-of-numbers-as-input-from-the-user\" title=\"get a list of numbers as input from the user\">stackoverflow.com/questions/4663306/&hellip;</a>"}, {"owner": {"reputation": 11973, "user_id": 2748311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7578b7380f9af68b327f0ab26961cb83?s=128&d=identicon&r=PG", "display_name": "excaza", "link": "https://stackoverflow.com/users/2748311/excaza"}, "edited": false, "score": 2, "creation_date": 1504728746, "post_id": 46083558, "comment_id": 79129113, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2376464/typeerror-unsupported-operand-types-for-str-and-int\">TypeError: unsupported operand type(s) for -: &#39;str&#39; and &#39;int&#39;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "is_accepted": false, "score": 2, "last_activity_date": 1575833452, "last_edit_date": 1575833452, "creation_date": 1504728682, "answer_id": 46083590, "question_id": 46083558, "link": "https://stackoverflow.com/questions/46083558/homework-help-typeerror-unsupported-operand-types-for-str-and-str/46083590#46083590", "title": "Homework Help: TypeError: unsupported operand type(s) for -: &#39;str&#39; and &#39;str&#39;", "body": "<p>Because you try to use string for arithmetic operator. This will help</p>\n\n<pre><code>numbers = [float(i) for i in user_input.split(',')]\n</code></pre>\n\n<p>Wrong Code maybe</p>\n"}, {"tags": [], "owner": {"reputation": 5045, "user_id": 7688996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKydk.png?s=128&g=1", "display_name": "Mohd", "link": "https://stackoverflow.com/users/7688996/mohd"}, "is_accepted": false, "score": 1, "last_activity_date": 1504728833, "creation_date": 1504728833, "answer_id": 46083629, "question_id": 46083558, "link": "https://stackoverflow.com/questions/46083558/homework-help-typeerror-unsupported-operand-types-for-str-and-str/46083629#46083629", "title": "Homework Help: TypeError: unsupported operand type(s) for -: &#39;str&#39; and &#39;str&#39;", "body": "<p>When you use <code>input().split()</code> you get a list of strings, so you should convert it to floats, heres an example using list comprehension:</p>\n\n<pre><code>numbers = [float(x) for x in user_input.split(',')]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8571111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c505ce74391e91d6b90120fa7cb79d95?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel White", "link": "https://stackoverflow.com/users/8571111/samuel-white"}, "edited": false, "score": 0, "creation_date": 1504729388, "post_id": 46083695, "comment_id": 79129424, "body": "This is what I get when I use your fix. What is the deal now? Traceback (most recent call last):   File &quot;C:\\Users\\smwht\\Desktop\\Python Stuff\\ComputeAngles.py&quot;, line 14, in &lt;module&gt;     c = math.sqrt((x1 - x2) * (x1 + x2) + (y1 - y2) * (y1 - y2)) ValueError: math domain error"}, {"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "reply_to_user": {"reputation": 11, "user_id": 8571111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c505ce74391e91d6b90120fa7cb79d95?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel White", "link": "https://stackoverflow.com/users/8571111/samuel-white"}, "edited": false, "score": 0, "creation_date": 1504729559, "post_id": 46083695, "comment_id": 79129504, "body": "Because the evaluated number inside <code>math.sqrt(...)</code> is negative. What are you trying to calculate?"}, {"owner": {"reputation": 11, "user_id": 8571111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c505ce74391e91d6b90120fa7cb79d95?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel White", "link": "https://stackoverflow.com/users/8571111/samuel-white"}, "edited": false, "score": 0, "creation_date": 1504729741, "post_id": 46083695, "comment_id": 79129598, "body": "Never mind! It was because inside one of my () I had a + and in the other I had a -. My bad. My program works now! Thank you for your help!"}], "tags": [], "owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1504729399, "last_edit_date": 1504729399, "creation_date": 1504729100, "answer_id": 46083695, "question_id": 46083558, "link": "https://stackoverflow.com/questions/46083558/homework-help-typeerror-unsupported-operand-types-for-str-and-str/46083695#46083695", "title": "Homework Help: TypeError: unsupported operand type(s) for -: &#39;str&#39; and &#39;str&#39;", "body": "<p><code>input()</code> returns a string, <code>split()</code> returns an array of strings, you can use <code>float()</code> to convert them to numbers:</p>\n\n<pre><code>x1,y1,x2,y2,x3,y3 = float(numbers[0]), float(numbers[1]), float(numbers[2]), float(numbers[3]), float(numbers[4]), float(numbers[5])\n</code></pre>\n\n<p>Or for less code:</p>\n\n<pre><code>x1,y1,x2,y2,x3,y3 = map(float, numbers)\n</code></pre>\n\n<p>Even less:</p>\n\n<pre><code>x1,y1,x2,y2,x3,y3 = map(float, input('Enter three points: ').split(','))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1504734454, "creation_date": 1504734454, "answer_id": 46084825, "question_id": 46083558, "link": "https://stackoverflow.com/questions/46083558/homework-help-typeerror-unsupported-operand-types-for-str-and-str/46084825#46084825", "title": "Homework Help: TypeError: unsupported operand type(s) for -: &#39;str&#39; and &#39;str&#39;", "body": "<p>A spiffed-up version with lots of comments:</p>\n\n<pre><code># you can import just the functions you want, and\n#   call them directly like sqrt() instead of math.sqrt()\nfrom math import acos, degrees, sqrt\n\n# functions make it easy to reuse, document and test bits of code\n\ndef get_floats(prompt, sep=None):\n    # A docstring - if you type \"help(get_floats)\" it will display this.\n    \"\"\"\n    Prompt until one or more numbers are entered\n    \"\"\"\n    nums = []\n    while not nums:  # repeat until nums is not empty\n        string = input(prompt)\n        try:\n            # a list comprehension - do something to each item in a list,\n            #   and return the results as another list.\n            # In this case, each piece of the split string gets converted to float()\n            nums = [float(s) for s in string.split(sep)]\n        except ValueError:\n            # exceptions help you to handle unexpected problems,\n            #   like if someone tries to enter 'banana' when asked for a number\n            pass\n    return nums\n\ndef dist(p1, p2):\n    \"\"\"\n    Return Cartesian distance between two points\n    \"\"\"\n    # zip() is a very useful function for combining several lists in parallel -\n    #   if you call zip(list1, list2, list3) it will give you the first\n    #   item from each list, then the second item from each, etc.\n    # In this case, we treat each point as a list of coordinates - [x1, y1, z1]\n    #   and when we zip two points we get the coordinates in each dimension:\n    #   zip([x1, y1, z1], [x2, y2, z2])  -&gt;  [[x1, x2], [y1, y2], [z1, z2]]\n    #\n    # The loop,  (b - a) ** 2 for a, b in zip(p1, p2)\n    #   is a generator expression - it's like a list comprehension,\n    #   but it yields a value at a time instead of a whole list at once.\n    #   It is sometimes a little bit slower, but takes less memory.\n    # \n    # For each pair of coordinates we square the difference -\n    #   then we sum all of the squares and take the root,\n    #   which gives us Cartesian distance.\n    #\n    # The neat thing is, this loop doesn't care how many dimensions you give it -\n    #   it will work on 2d points, or 3d, or 5d. If you give it a pair\n    #   of 27-dimensional points, it will happily return the distance\n    #   in 27-dimensional space.\n    return sqrt(sum((b - a) ** 2 for a, b in zip(p1, p2)))\n\ndef get_angle(a, b, c, use_degrees=True):\n    \"\"\"\n    Given the lengths of three sides of a triangle,\n      return the angle opposite side c\n    \"\"\"\n    # using cosine law\n    angle = acos((a * a + b * b - c * c) / (2 * a * b))\n    if use_degrees:\n        angle = degrees(angle)\n    return angle\n\ndef main():\n    # get points of a triangle\n    p1 = get_floats(\"Enter point 1: \", \",\")\n    p2 = get_floats(\"Enter point 2: \", \",\")\n    p3 = get_floats(\"Enter point 3: \", \",\")\n\n    # get side lengths\n    a = dist(p2, p3)\n    b = dist(p1, p3)\n    c = dist(p1, p2)\n\n    # get angles\n    A = get_angle(b, c, a)\n    B = get_angle(a, c, b)\n    C = get_angle(a, b, c)\n\n    # show results using string formatting (automatically rounds the result)\n    print(\n        \"The three angles are {:0.2f}, {:0.2f} and {:0.2f}\"\n        .format(A, B, C)\n    )\n\nmain()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8571111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c505ce74391e91d6b90120fa7cb79d95?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel White", "link": "https://stackoverflow.com/users/8571111/samuel-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1056, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1575833452, "creation_date": 1504728544, "last_edit_date": 1504728657, "question_id": 46083558, "link": "https://stackoverflow.com/questions/46083558/homework-help-typeerror-unsupported-operand-types-for-str-and-str", "title": "Homework Help: TypeError: unsupported operand type(s) for -: &#39;str&#39; and &#39;str&#39;", "body": "<p>Having much trouble figuring out what I have done wrong. I am a student in a intro python course. The prof does not explain things very well. </p>\n\n<p>We are trying to compute the angles of a triangle. He wants us to use .split so we can enter the values all at once. And go from there. I think that is where my problem might lie. Here is my code. </p>\n\n<pre><code>import math\nuser_input = (input('Enter three points: '))\n\nnumbers = user_input.split(',')\n\nx1,y1,x2,y2,x3,y3 = numbers[0], numbers[1], numbers[2], numbers[3], \nnumbers[4], numbers[5]\n\na = math.sqrt((x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3))\nb = math.sqrt((x1 - x3) * (x1 - x3) + (y1 - y3) * (y2 - y3))\nc = math.sqrt((x1 - x2) * (x1 + x2) + (y1 - y2) * (y1 - y2))\n\nA = math.degrees(math.acos((a * a - b * b - c * c) / (-2 * b * c)))\nB = math.degrees(math.acos((b * b - a * a - c * c) / (-2 * a * c)))\nC = math.degrees(math.acos((c * c - b * b - a * a) / (-2 * a * b)))\n\nprint(\"The three angles are \", round(A * 100) / 100.0,\n  round(B * 100) / 100.0, round(C * 100) / 100.0)\n</code></pre>\n\n<p>And when I try to enter values for my triangle I get this error. I am quite new, so I am not sure exactly how to fix this. </p>\n\n<pre><code>Enter three points: 1, 1, 6.5, 1, 6.5, 2.5\n</code></pre>\n\n<blockquote>\n  <p>Traceback (most recent call last):<br>\n    File \"C:\\Users\\smwht\\Desktop\\Python Stuff\\ComputeAngles.py\", line 12, in &lt;module><br>\n      a = math.sqrt((x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3))<br>\n  TypeError: unsupported operand type(s) for -: 'str' and 'str'<br></p>\n</blockquote>\n"}, {"tags": ["python", "string", "list", "type-conversion"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1504728505, "post_id": 46083526, "comment_id": 79128988, "body": "Your original list is illegal. Please check quotation marks and commas."}], "answers": [{"comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1504729093, "post_id": 46083633, "comment_id": 79129283, "body": "<code>i.replace(&quot;.&quot;,&quot;&quot;)</code> is always cheaper and faster than <code>re.sub(&quot;\\.&quot;, &#39;&#39;, i)</code>. And you should <i>never</i> use <code>eval</code>: <a href=\"https://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/blog/201206/eval_really_is_dangerous.html</a>"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1504729593, "last_edit_date": 1504729593, "creation_date": 1504728849, "answer_id": 46083633, "question_id": 46083526, "link": "https://stackoverflow.com/questions/46083526/convert-list-of-string-representations-of-lists-of-strings-of-floats-separated-b/46083633#46083633", "title": "Convert list of string representations of lists of strings of floats separated by spaces to list of lists of integers", "body": "<p>You can try this:</p>\n\n<pre><code>import re\ns = [\"['0.' '1.' '0.']\", \"['1.' '0.' '0.']\", \"['0.' '1.' '1.']\"]\nnew_data = [map(int, list(eval(re.sub(\"\\.\", '', i))[0])) for i in s]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[0, 1, 0], [1, 0, 0], [0, 1, 1]]\n</code></pre>\n\n<p>Solution without eval:</p>\n\n<pre><code>s = [\"['0.' '1.' '0.']\", \"['1.' '0.' '0.']\", \"['0.' '1.' '1.']\"]\nnew_data = [map(int, re.findall(\"\\d+\", i[1:-1])) for i in s]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[0, 1, 0], [1, 0, 0], [0, 1, 1]]\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 3721815, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6tjFJ.jpg?s=128&g=1", "display_name": "Pearl Philip", "link": "https://stackoverflow.com/users/3721815/pearl-philip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1504729593, "creation_date": 1504728431, "question_id": 46083526, "link": "https://stackoverflow.com/questions/46083526/convert-list-of-string-representations-of-lists-of-strings-of-floats-separated-b", "title": "Convert list of string representations of lists of strings of floats separated by spaces to list of lists of integers", "body": "<p>I have a list that looks like this:</p>\n\n<pre><code>['['0.' '1.' '0.']', \n '['1.' '0.' '0.']', ....,\n '['0.' '1.' '1.']']\n</code></pre>\n\n<p>I would like to have it look like this in Python:</p>\n\n<pre><code>[[0, 1, 0], \n [1, 0, 0],\n [0, 1, 1]]\n</code></pre>\n\n<p>I can't figure it out using strip(), split() and ast.literal_eval(). Thanks!</p>\n"}, {"tags": ["python", "python-2.7", "csv"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1504728732, "post_id": 46083510, "comment_id": 79129106, "body": "You cannot read the same open file twice. Either rewind it before reading for the second time, or close and open again. Better yet, count everything you need when you read the file for the first time."}, {"owner": {"reputation": 1165, "user_id": 856164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/502fbfda197235b34104df16bfacaf05?s=128&d=identicon&r=PG", "display_name": "Vadym", "link": "https://stackoverflow.com/users/856164/vadym"}, "edited": false, "score": 0, "creation_date": 1504729093, "post_id": 46083510, "comment_id": 79129284, "body": "Have you tried <code>ordersFile.seek(0)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1504728851, "post_id": 46083617, "comment_id": 79129160, "body": "Isn&#39;t <code>for row in reader:orders.extend(row)</code> just <code>orders=list(reader)</code>?"}, {"owner": {"reputation": 419, "user_id": 6142261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05939c689f9bcca6a96e8842232bc24c?s=128&d=identicon&r=PG&f=1", "display_name": "user6142261", "link": "https://stackoverflow.com/users/6142261/user6142261"}, "edited": false, "score": 1, "creation_date": 1504729237, "post_id": 46083617, "comment_id": 79129358, "body": "@birryree Thanks, and could you share a different approach as well?"}, {"owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "reply_to_user": {"reputation": 419, "user_id": 6142261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05939c689f9bcca6a96e8842232bc24c?s=128&d=identicon&r=PG&f=1", "display_name": "user6142261", "link": "https://stackoverflow.com/users/6142261/user6142261"}, "edited": false, "score": 0, "creation_date": 1504731000, "post_id": 46083617, "comment_id": 79130243, "body": "@user6142261 - would you say all your stuff can be done in one pass (if so, other answers have that covered)? Do you not want to read everything into memory? Are you open to using third-party libs? Do you have <i>huge</i> CSV files?"}], "tags": [], "owner": {"reputation": 67949, "user_id": 297696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/782a7a5f79b342bb12dc0aaae3a0c34d?s=128&d=identicon&r=PG", "display_name": "wkl", "link": "https://stackoverflow.com/users/297696/wkl"}, "is_accepted": false, "score": 6, "last_activity_date": 1504728908, "last_edit_date": 1504728908, "creation_date": 1504728800, "answer_id": 46083617, "question_id": 46083510, "link": "https://stackoverflow.com/questions/46083510/reading-csv-file-twice-in-python/46083617#46083617", "title": "Reading csv file twice in python", "body": "<p>You're just reading right through your CSV file, but if you want to work on the data in multiple passes, you should read the contents into a variable. Then you don't have to re-read the file every time you need to do stuff with it.</p>\n\n<pre><code>import csv\n\n# Read order rows into our list\n# Here I use a context manager so that the file is automatically\n# closed upon exit\nwith open('orders.csv') as orders_file:\n    reader = csv.reader(orders_file, delimiter=',')\n    orders = list(reader)\n\n# Find order employeeID=5, shipCountry=\"Brazil\"\nprint \"Find order employeeID=5, shipCountry=\\\"Brazil\\\"\"\nfor order in orders:\n    if order[2] == '5' and order[13] == 'Brazil':\n        print order\n\n# Find order employeeID=5\nprint \"Find order employeeID=5\"\nfor order in orders:\n    if order[2] == '5':\n        print order\n</code></pre>\n\n<p>If your CSV file is too huge to fit into memory (or you don't want to read it all into memory for some reason), then you'll need a different approach. If you need that, please leave a comment.</p>\n"}, {"tags": [], "owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "is_accepted": false, "score": 3, "last_activity_date": 1504728819, "creation_date": 1504728819, "answer_id": 46083623, "question_id": 46083510, "link": "https://stackoverflow.com/questions/46083510/reading-csv-file-twice-in-python/46083623#46083623", "title": "Reading csv file twice in python", "body": "<p>It's better to read through files <em>once</em> because I/O is likely to be the slowest part of your program.</p>\n\n<p>If you need to re-read the file, you can either close it and re-open it, or <a href=\"https://docs.python.org/3/tutorial/inputoutput.html#methods-of-file-objects\" rel=\"nofollow noreferrer\"><code>seek()</code></a> to the beginning, i.e. add <code>ordersFile.seek(0)</code> between your loops.</p>\n"}, {"tags": [], "owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "is_accepted": false, "score": 3, "last_activity_date": 1504728851, "creation_date": 1504728851, "answer_id": 46083635, "question_id": 46083510, "link": "https://stackoverflow.com/questions/46083510/reading-csv-file-twice-in-python/46083635#46083635", "title": "Reading csv file twice in python", "body": "<p>What you can do is simply convert the reader object result into a list :</p>\n\n<pre><code>with open('orders.csv', 'rb') as ordersFile:\n    ordersR = list(csv.reader(ordersFile, delimiter=','))\n</code></pre>\n\n<p>The reader object is like a generator, once you have iterate the values, you cannot begin a second loop to read the values again.</p>\n"}, {"tags": [], "owner": {"reputation": 11863, "user_id": 1762211, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc8759842af428f995e2ce7a03adb609?s=128&d=identicon&r=PG", "display_name": "Mohamed Ali JAMAOUI", "link": "https://stackoverflow.com/users/1762211/mohamed-ali-jamaoui"}, "is_accepted": false, "score": 0, "last_activity_date": 1504728855, "creation_date": 1504728855, "answer_id": 46083637, "question_id": 46083510, "link": "https://stackoverflow.com/questions/46083510/reading-csv-file-twice-in-python/46083637#46083637", "title": "Reading csv file twice in python", "body": "<p>This a good case for using the pandas module (you need to install it: <code>pip install pandas</code>)</p>\n\n<p>After that, you just read the file once, and perform any type of fitering easily </p>\n\n<p>for instance, to read and filter the file more that once, follow this example: </p>\n\n<pre><code>import pandas as pd \n\n# read csv into a dataframe \ndf = pd.read_csv('orders.csv', delimiter=',') \n\n# get the data that has employeeID == 5\ndf1 = df[df[\"employeeID\"] == 5]\nprint(df1) \n\n# get the data that has employeeID == 5 and  shipCountry=\\\"Brazil\\\"\n\ndf2 = df[(df[\"employeeID\"] == 5)&amp; (df[\"shipCountry\"] == \"Brazil\")]\nprint(df2) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "is_accepted": false, "score": 1, "last_activity_date": 1504729951, "creation_date": 1504729951, "answer_id": 46083873, "question_id": 46083510, "link": "https://stackoverflow.com/questions/46083510/reading-csv-file-twice-in-python/46083873#46083873", "title": "Reading csv file twice in python", "body": "<p>if you do not want to store all your data in a list, this is a pure generator-based approach to iterate over your csv file twice. using <a href=\"https://docs.python.org/3/library/itertools.html?itertools.tee#itertools.tee\" rel=\"nofollow noreferrer\"><code>itertools.tee</code></a>:</p>\n\n<pre><code>with open('orders.csv', 'r') as file:\n    rows0, rows1 = tee(reader(file, delimiter=','))\n\n    for row in rows0:\n        print(row)  # search for something...\n\n    print()\n\n    for row in rows1:\n        print(row)  # search for a different thing...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7592, "user_id": 840582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/R97cw.png?s=128&g=1", "display_name": "Chen A.", "link": "https://stackoverflow.com/users/840582/chen-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1504730466, "creation_date": 1504730466, "answer_id": 46084007, "question_id": 46083510, "link": "https://stackoverflow.com/questions/46083510/reading-csv-file-twice-in-python/46084007#46084007", "title": "Reading csv file twice in python", "body": "<p>As @<strong>Nick T</strong> mentioned above, I/O is considered expensive comparing to RAM access, so if you need to iterate over your file more than once, it is better to save it to a variable.</p>\n\n<p>You also can combine multiple conditions in a single for loop, so it performs faster (single iteration):</p>\n\n<pre><code>with open('orders.csv', 'rb') as ordersFile:\n    orders = list(csv.reader(ordersFile, delimiter=','))\n\n# Find order employeeID=5, shipCountry=\"Brazil\"\nemp = []\ncountry = []\nfor order in orders:\n    if order[2] == '5':\n        if order[13] == 'Brazil':\n            country.append(order)\n        else:\n            emp.append(order)\n\n print 'emp id=5 and shippingcountry=Brazil: {}'.format(country)\n print 'emp id=5: {}'.format(emp)\n</code></pre>\n\n<p>Note that this isn't scalable, you probably don't want to add any more <code>if</code> logic in this block as it becomes not readable</p>\n"}], "owner": {"reputation": 419, "user_id": 6142261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05939c689f9bcca6a96e8842232bc24c?s=128&d=identicon&r=PG&f=1", "display_name": "user6142261", "link": "https://stackoverflow.com/users/6142261/user6142261"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5473, "favorite_count": 1, "answer_count": 6, "score": 3, "last_activity_date": 1504730466, "creation_date": 1504728370, "question_id": 46083510, "link": "https://stackoverflow.com/questions/46083510/reading-csv-file-twice-in-python", "title": "Reading csv file twice in python", "body": "<p>Here is my Python code:</p>\n\n<pre><code>import csv\n\n# Reading\nordersFile = open('orders.csv', 'rb')\nordersR = csv.reader(ordersFile, delimiter=',')\n\n# Find order employeeID=5, shipCountry=\"Brazil\"\nprint \"Find order employeeID=5, shipCountry=\\\"Brazil\\\"\"\nfor order in ordersR:\n    if order[2] == '5' and order[13] == 'Brazil':\n        print order\n# Find order employeeID=5\nprint \"Find order employeeID=5\"\nfor order in ordersR:\n    if order[2] == '5':\n        print order\nordersFile.close()\n</code></pre>\n\n<p>I can print something of \"# Find order employeeID=5, shipCountry=\"Brazil\"\", but I got nothing for # Find order employeeID=5. I was thinking of how to reading(selecting) rows in the same csv files more than one time.</p>\n"}, {"tags": ["python", "random"], "answers": [{"tags": [], "owner": {"reputation": 1864, "user_id": 5441799, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/E408y.jpg?s=128&g=1", "display_name": "Bricky", "link": "https://stackoverflow.com/users/5441799/bricky"}, "is_accepted": false, "score": 2, "last_activity_date": 1504728721, "creation_date": 1504728721, "answer_id": 46083601, "question_id": 46083502, "link": "https://stackoverflow.com/questions/46083502/how-can-i-generate-random-multiples-of-20-in-python/46083601#46083601", "title": "How can I generate random multiples of 20 in Python?", "body": "<p>You can generate a random integer in the range of 0 through <code>(game area width / 20)</code>, and then multiply that by 20.</p>\n\n<p>For example if your game's width is 100px, you generate a number between 0 and 5, then multiply that by 20, to get 0/20/40/60/80/100.</p>\n\n<pre><code>x = floor(random(0, width / 20)) * 20\n</code></pre>\n\n<p>Alternatively, you can generate a number between 1-100, and then subtract the remainder of dividing by 20:</p>\n\n<pre><code>x = random(0, 100)\nx = x - (x % 20)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "is_accepted": false, "score": 0, "last_activity_date": 1504728744, "creation_date": 1504728744, "answer_id": 46083603, "question_id": 46083502, "link": "https://stackoverflow.com/questions/46083502/how-can-i-generate-random-multiples-of-20-in-python/46083603#46083603", "title": "How can I generate random multiples of 20 in Python?", "body": "<p>you can generate a random integer between like 1 and ten. Multiply this by 20 and that will be your random move. Or choose some reasonable maximum that snake can move if 10 is not correct. </p>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 5379421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3085cc6b988e91314e7c479e9ea7bcb0?s=128&d=identicon&r=PG&f=1", "display_name": "Deja", "link": "https://stackoverflow.com/users/5379421/deja"}, "is_accepted": false, "score": 1, "last_activity_date": 1504729109, "creation_date": 1504729109, "answer_id": 46083698, "question_id": 46083502, "link": "https://stackoverflow.com/questions/46083502/how-can-i-generate-random-multiples-of-20-in-python/46083698#46083698", "title": "How can I generate random multiples of 20 in Python?", "body": "<pre><code>import random\n\nprint(random.randint(1,11)*20)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7445791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d80799dcd939409d7d0a54b5be9afb?s=128&d=identicon&r=PG&f=1", "display_name": "Kadosh", "link": "https://stackoverflow.com/users/7445791/kadosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1504740925, "creation_date": 1504728347, "last_edit_date": 1504740925, "question_id": 46083502, "link": "https://stackoverflow.com/questions/46083502/how-can-i-generate-random-multiples-of-20-in-python", "title": "How can I generate random multiples of 20 in Python?", "body": "<p>I have built a snake game such that the snake moves 20 pixels at a time. Every time the snake stands on the same point as the apple, the game generates two random numbers to use as the coordinates for the next apple.</p>\n\n<p>The problem is that if the two numbers aren't multiples of 20 then it is impossible for the snake to ever stand on the apple, as illustrated in this picture.</p>\n\n<p><a href=\"https://i.stack.imgur.com/E2osh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E2osh.png\" alt=\"\"></a>.</p>\n\n<p>Is there a way to generate random numbers that are always multiples of 20?</p>\n"}, {"tags": ["python", "arrays"], "comments": [{"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "edited": false, "score": 0, "creation_date": 1504728433, "post_id": 46083473, "comment_id": 79128946, "body": "What about <code>A=[1,2,2,2,2,3,4,5,2,2,2,2,2,6,7,2,2,2]</code>? What do you want for that in case of <code>2</code>?"}, {"owner": {"reputation": 972, "user_id": 2395659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/798bd830bb5658e0f1983e201f57048d?s=128&d=identicon&r=PG", "display_name": "lloyd", "link": "https://stackoverflow.com/users/2395659/lloyd"}, "edited": false, "score": 2, "creation_date": 1504728766, "post_id": 46083473, "comment_id": 79129124, "body": "What&#39;s your question? Have you tried solving the problem? What did you try? It sounds like you want this problem completely solved for you without trying. Sorry if that&#39;s not the case (correct me if I&#39;m wrong), but that&#39;s not what SO is for."}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1504729021, "post_id": 46083473, "comment_id": 79129245, "body": "<code>itertools.groupby</code> will probably be helpful, but it&#39;s hard to tell without more info"}, {"owner": {"reputation": 3, "user_id": 4992975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724589b95fc6e863c5803adb06407984?s=128&d=identicon&r=PG", "display_name": "user4992975", "link": "https://stackoverflow.com/users/4992975/user4992975"}, "reply_to_user": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "edited": false, "score": 0, "creation_date": 1504765826, "post_id": 46083473, "comment_id": 79140201, "body": "@MrGeek : 2 is the repeated number in this array and I would expect the output corresponding to the repeated number 2 to be the corresponding starting and ending index  : [1,4],[8,12],[15,17]"}, {"owner": {"reputation": 3, "user_id": 4992975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724589b95fc6e863c5803adb06407984?s=128&d=identicon&r=PG", "display_name": "user4992975", "link": "https://stackoverflow.com/users/4992975/user4992975"}, "reply_to_user": {"reputation": 972, "user_id": 2395659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/798bd830bb5658e0f1983e201f57048d?s=128&d=identicon&r=PG", "display_name": "lloyd", "link": "https://stackoverflow.com/users/2395659/lloyd"}, "edited": false, "score": 0, "creation_date": 1504766336, "post_id": 46083473, "comment_id": 79140460, "body": "@lloyd : See my trial below"}], "answers": [{"comments": [{"owner": {"reputation": 142, "user_id": 8506394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a93c2019912edcaa304fed98f6ea25af?s=128&d=identicon&r=PG&f=1", "display_name": "Geralt.O.Rivia", "link": "https://stackoverflow.com/users/8506394/geralt-o-rivia"}, "edited": false, "score": 0, "creation_date": 1504729036, "post_id": 46083589, "comment_id": 79129250, "body": "Edited the sample code to iterate through each unique number and return the respective start/end indices"}, {"owner": {"reputation": 3, "user_id": 4992975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724589b95fc6e863c5803adb06407984?s=128&d=identicon&r=PG", "display_name": "user4992975", "link": "https://stackoverflow.com/users/4992975/user4992975"}, "edited": false, "score": 0, "creation_date": 1504770432, "post_id": 46083589, "comment_id": 79143054, "body": "In fact, for a different array of : A=     [1,2,2,2,2,2,2,2,2,2,3,5,5,5,5,5,5,5,6,7,2,2,2] the output is : 1 &gt;&gt; [0, 0] 2 &gt;&gt; [1, 22] 3 &gt;&gt; [10, 10] 5 &gt;&gt; [11, 17] 6 &gt;&gt; [18, 18] 7 &gt;&gt; [19, 19] The repeated  2 at different locations is not captured!"}, {"owner": {"reputation": 142, "user_id": 8506394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a93c2019912edcaa304fed98f6ea25af?s=128&d=identicon&r=PG&f=1", "display_name": "Geralt.O.Rivia", "link": "https://stackoverflow.com/users/8506394/geralt-o-rivia"}, "reply_to_user": {"reputation": 3, "user_id": 4992975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724589b95fc6e863c5803adb06407984?s=128&d=identicon&r=PG", "display_name": "user4992975", "link": "https://stackoverflow.com/users/4992975/user4992975"}, "edited": false, "score": 0, "creation_date": 1504798281, "post_id": 46083589, "comment_id": 79162792, "body": "If that&#39;s the case, you should provide a few expected inputs and outputs to explain exactly what you are trying to do. Based on what is described in your original question, this code works, because it provides the first and last occurring index for any integer in the list. Are you trying to assess the start/end indices of GROUPS of recurring integers in a list?"}], "tags": [], "owner": {"reputation": 142, "user_id": 8506394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a93c2019912edcaa304fed98f6ea25af?s=128&d=identicon&r=PG&f=1", "display_name": "Geralt.O.Rivia", "link": "https://stackoverflow.com/users/8506394/geralt-o-rivia"}, "is_accepted": true, "score": 0, "last_activity_date": 1504800349, "last_edit_date": 1504800349, "creation_date": 1504728680, "answer_id": 46083589, "question_id": 46083473, "link": "https://stackoverflow.com/questions/46083473/finding-starting-and-ending-index-of-consecutive-numbers-in-python/46083589#46083589", "title": "Finding starting and ending index of consecutive numbers in python", "body": "<p>This code should help count groups of repeating integers in a list- </p>\n\n<pre><code>#! /usr/bin/python3\n\nA=[1,2,2,2,2,2,2,2,2,2,3,5,5,5,5,5,5,5,6,7]\nB = [1,2,2,2,2,2,2,2,2,2,3,5,5,5,5,5,5,5,6,7,2,2,2]\n\ndef repeatingNumbers(numList):\n    i = 0\n\n    while i &lt; len(numList) - 1:\n        n = numList[i]\n        startIndex = i\n        while i &lt; len(numList) - 1 and numList[i] == numList[i + 1]:\n            i = i + 1\n\n        endIndex = i\n\n        print(\"{0} &gt;&gt; {1}\".format(n, [startIndex, endIndex]))\n        i = i + 1\n\nrepeatingNumbers(B)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 4992975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724589b95fc6e863c5803adb06407984?s=128&d=identicon&r=PG", "display_name": "user4992975", "link": "https://stackoverflow.com/users/4992975/user4992975"}, "is_accepted": false, "score": 0, "last_activity_date": 1504766295, "creation_date": 1504766295, "answer_id": 46089459, "question_id": 46083473, "link": "https://stackoverflow.com/questions/46083473/finding-starting-and-ending-index-of-consecutive-numbers-in-python/46089459#46089459", "title": "Finding starting and ending index of consecutive numbers in python", "body": "<p>My code is as follows :</p>\n\n<pre><code>A=[1,2,2,2,2,2,2,2,2,2,3,5,5,5,5,5,5,5,6,7]\n\n\nimport numpy as np\nxdiff = np.diff(A) == 0\n\nxdiff_bol= xdiff.astype(np.int)\nii = np.concatenate((np.array([0]),xdiff_bol,np.array([0])))\nsta = np.array([0,1])\n</code></pre>\n\n<p>The output is as follows :</p>\n\n<pre><code>array([0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0])\n</code></pre>\n\n<p>All the [0,1] block is the starting index of a repeated number while [1,0] is the ending index of a repeated number. </p>\n\n<p>So, how do i identify the index position of [1,0] and [1,0] in my output array? </p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4992975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724589b95fc6e863c5803adb06407984?s=128&d=identicon&r=PG", "display_name": "user4992975", "link": "https://stackoverflow.com/users/4992975/user4992975"}, "edited": false, "score": 0, "creation_date": 1504809100, "post_id": 46102957, "comment_id": 79168733, "body": "How can my code be optimised for speed ? Any better way of coding?"}], "tags": [], "owner": {"reputation": 3, "user_id": 4992975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724589b95fc6e863c5803adb06407984?s=128&d=identicon&r=PG", "display_name": "user4992975", "link": "https://stackoverflow.com/users/4992975/user4992975"}, "is_accepted": false, "score": 0, "last_activity_date": 1504809038, "creation_date": 1504809038, "answer_id": 46102957, "question_id": 46083473, "link": "https://stackoverflow.com/questions/46083473/finding-starting-and-ending-index-of-consecutive-numbers-in-python/46102957#46102957", "title": "Finding starting and ending index of consecutive numbers in python", "body": "<pre><code>A=[1,2,2,2,2,2,2,2,2,2,3,5,5,5,5,5,5,5,6,7]\nA = [1,2,2,2,2,2,2,2,2,2,3,5,5,5,5,5,5,5,6,7,2,2,2]\n\n\nxdiff = np.diff(A) == 0\nxdiff_bol= xdiff.astype(np.int)\nii = np.concatenate((np.array([0]),xdiff_bol,np.array([0])))\n\nstart_index=[]\nend_index=[]\n\nfor index,number in enumerate(ii):\n\n   if (index+1) !=(len(ii)):\n\n        if (number==0) &amp; (ii[index+1])==1:\n        start_index.append(index)\n\n        if (number==1) &amp; (ii[index+1]==0):\n        end_index.append(index)\n\n\n\nRepeat = np.array(A)\nRepeat = Repeat[start_index]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4992975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724589b95fc6e863c5803adb06407984?s=128&d=identicon&r=PG", "display_name": "user4992975", "link": "https://stackoverflow.com/users/4992975/user4992975"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1492, "favorite_count": 0, "accepted_answer_id": 46083589, "answer_count": 3, "score": -5, "last_activity_date": 1504809038, "creation_date": 1504728232, "question_id": 46083473, "link": "https://stackoverflow.com/questions/46083473/finding-starting-and-ending-index-of-consecutive-numbers-in-python", "title": "Finding starting and ending index of consecutive numbers in python", "body": "<p>I have the array</p>\n\n<pre><code>A=[1,2,2,2,2,2,2,2,2,2,3,5,5,5,5,5,5,5,6,7]\n</code></pre>\n\n<p>I want to find all starting and ending indices of numbers that are repeated. I expect:</p>\n\n<p>2 >>> [1,9]<br>\n5 >>> [11,17]</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy", "mean"], "comments": [{"owner": {"reputation": 18044, "user_id": 12892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c866ac84e832e585c6bd3abe1149c47?s=128&d=identicon&r=PG", "display_name": "Cristian Ciupitu", "link": "https://stackoverflow.com/users/12892/cristian-ciupitu"}, "edited": false, "score": 3, "creation_date": 1521842420, "post_id": 46083461, "comment_id": 85920567, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20432278/calculate-numpy-std-of-each-pandas-dataframes-column\">Calculate numpy.std of each pandas.DataFrame&#39;s column?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 5244077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28be8266a73fa62b7f4fe6521e4ddf0b?s=128&d=identicon&r=PG&f=1", "display_name": "psimeson", "link": "https://stackoverflow.com/users/5244077/psimeson"}, "edited": false, "score": 0, "creation_date": 1504728464, "post_id": 46083501, "comment_id": 79128971, "body": "Could you please explain it more?"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 1, "creation_date": 1504728482, "post_id": 46083501, "comment_id": 79128976, "body": "Look at the docs for <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.std.html\" rel=\"nofollow noreferrer\">numpy.std</a> see the ddof default = zero, and <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.std.html\" rel=\"nofollow noreferrer\">pandas.DataFrame.std</a> see ddof default = one."}, {"owner": {"reputation": 175, "user_id": 5244077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28be8266a73fa62b7f4fe6521e4ddf0b?s=128&d=identicon&r=PG&f=1", "display_name": "psimeson", "link": "https://stackoverflow.com/users/5244077/psimeson"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1504728629, "post_id": 46083501, "comment_id": 79129047, "body": "Thanks @ScottBoston it makes sense. I had no idea about ddof"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 3, "creation_date": 1504728801, "post_id": 46083501, "comment_id": 79129143, "body": "There you go, more explanation."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 9, "last_activity_date": 1521841907, "last_edit_date": 1521841907, "creation_date": 1504728345, "answer_id": 46083501, "question_id": 46083461, "link": "https://stackoverflow.com/questions/46083461/different-result-for-std-between-pandas-and-numpy/46083501#46083501", "title": "Different result for std between pandas and numpy", "body": "<p>When calculating the standard deviation it matters whether you are estimating the standard deviation of an entire population with a smaller sample of that population or are you calculating the standard deviation of the entire population.</p>\n\n<p>If it is a smaller sample of a larger population, you need what is called the <em>sample standard deviation</em>.  As it turns out, when you divide the sum of squared differences from the mean by the number of observations, you end up with a biased estimator.  We correct for that by dividing by one less than the number of observations.  We control for this with the argument <code>ddof=1</code> for sample standard deviation or <code>ddof=0</code> for population standard deviation.</p>\n\n<p>Truth is, it doesn't matter much if your sample size is large.  But you will see small differences.</p>\n\n<p>Use the degrees of freedom argument in your <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.std.html\" rel=\"nofollow noreferrer\"><code>pandas.DataFrame.std</code></a> call:</p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv(\"https://s3.amazonaws.com/demo-datasets/wine.csv\")\nnumeric_data = data.drop(\"color\", 1)\nnumeric_data1 = ((numeric_data - numeric_data.mean()) /\n                 numeric_data.std(ddof=0))  # &lt;&lt;&lt;\nnumeric_data2 = ((numeric_data - np.mean(numeric_data, axis=0)) /\n                 np.std(numeric_data, axis=0))\n\nnp.isclose(numeric_data1, numeric_data2).all()  # -&gt; True\n</code></pre>\n\n<p>Or in the <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.std.html\" rel=\"nofollow noreferrer\"><code>np.std</code></a> call:</p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv(\"https://s3.amazonaws.com/demo-datasets/wine.csv\")\nnumeric_data = data.drop(\"color\", 1)\nnumeric_data1 = ((numeric_data - numeric_data.mean()) /\n                 numeric_data.std())\nnumeric_data2 = ((numeric_data - np.mean(numeric_data, axis=0)) /\n                 np.std(numeric_data, axis=0, ddof=1))  # &lt;&lt;&lt;\n\nnp.isclose(numeric_data1, numeric_data2).all()  # -&gt; True\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 5244077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28be8266a73fa62b7f4fe6521e4ddf0b?s=128&d=identicon&r=PG&f=1", "display_name": "psimeson", "link": "https://stackoverflow.com/users/5244077/psimeson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 1, "accepted_answer_id": 46083501, "answer_count": 1, "score": 4, "last_activity_date": 1521842211, "creation_date": 1504728188, "last_edit_date": 1521842211, "question_id": 46083461, "link": "https://stackoverflow.com/questions/46083461/different-result-for-std-between-pandas-and-numpy", "title": "Different result for std between pandas and numpy", "body": "<p>I am trying to subtract every element in the column from its mean and divide by the standard deviation. I did it in two different ways (<code>numeric_data1</code> and <code>numeric_data2</code>):</p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv(\"https://s3.amazonaws.com/demo-datasets/wine.csv\")\nnumeric_data = data.drop(\"color\", 1)\nnumeric_data1 = ((numeric_data - numeric_data.mean()) /\n                 numeric_data.std())\nnumeric_data2 = ((numeric_data - np.mean(numeric_data, axis=0)) /\n                 np.std(numeric_data, axis=0))\n\ntype(numeric_data1)  # -&gt; pandas.core.frame.DataFrame\ntype(numeric_data2)  # -&gt; pandas.core.frame.DataFrame\n</code></pre>\n\n<p>Both are pandas dataframes and they should have the same result. However, I get different results:</p>\n\n<pre><code>numeric_data2 == numeric_data1  # -&gt; False\n</code></pre>\n\n<p>I think the problem stems from how numpy and pandas handle numeric precision:</p>\n\n<pre><code>numeric_data.mean() == np.mean(numeric_data, axis=0)      # -&gt; True\nnumeric_data.std(axis=0) == np.std(numeric_data, axis=0)  # -&gt; False\n</code></pre>\n\n<p>For mean numpy and pandas gave me the same thing, but for standard deviation, I got little different results.</p>\n\n<p>Is my assessment correct or am I making some blunder?</p>\n"}, {"tags": ["python", "arrays", "numpy", "slice"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1504728083, "post_id": 46083412, "comment_id": 79128785, "body": "Is you one-element list <code>[list([&#39;Vehicle Sales Anfavea units&#39;,&#39;Brazil&#39;,&#39;184,815.00&#39;])]</code> intentional or did you actually mean <code>[&#39;Vehicle Sales Anfavea units&#39;,&#39;Brazil&#39;,&#39;184,815.00&#39;]</code>? In the latter case, the answer is <code>eg[:,[1,2]]</code>. In the former case, <code>eg[:,0,[1,2]]</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1504728570, "post_id": 46083412, "comment_id": 79129020, "body": "This is not a 2D array. You may want to familiarize yourself with the syntax to construct lists and arrays before you go further; the <code>list</code> calls are redundant, and the brackets around the <code>list</code> calls are most likely not doing anything you want."}, {"owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "edited": false, "score": 0, "creation_date": 1504729231, "post_id": 46083412, "comment_id": 79129354, "body": "i get the point, but the format of this array is because I am getting the data from another source."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1504729666, "post_id": 46083412, "comment_id": 79129552, "body": "Are you saying this is the <code>repr</code> of the array? That&#39;s very different from if you had actually executed the code you posted."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1504729740, "post_id": 46083412, "comment_id": 79129597, "body": "I&#39;m pretty sure it would have said <code>dtype=object</code> in the <code>repr</code> if it had that explicit <code>list</code> notation, though."}, {"owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "edited": false, "score": 0, "creation_date": 1504730093, "post_id": 46083412, "comment_id": 79129783, "body": "My bad, the data has &#39;dtype=object&#39; i did not include that in the original sample, but have edited it now."}], "answers": [{"tags": [], "owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1504731635, "creation_date": 1504731635, "answer_id": 46084266, "question_id": 46083412, "link": "https://stackoverflow.com/questions/46083412/numpy-slicing-inner-array-of-a-2d-array-in-one-go/46084266#46084266", "title": "numpy slicing inner array of a 2D array in one go", "body": "<p>OK, so taking your data as is,</p>\n\n<pre><code>import numpy as np\neg = np.array([\n   [ list(['Vehicle Sales Anfavea units','Brazil','184,815.00'])],\n   [ list(['Commodity Price Index MoM % m/m', 'Brazil', '-0.58'])],\n   [ list(['Commodity Price Index YoY % y/y', 'Brazil', '0.54'])]\n ], dtype=object)\n</code></pre>\n\n<p>You can simply run following one liner to get needed values.</p>\n\n<pre><code>x = [ i.tolist() for i in [i[0][1:] for i in eg] ]\n</code></pre>\n\n<p><code>[i[0][1:] for i in eg]</code> parses list of list and <code>i.tolist()</code> converts <code>np.array</code> value to a <code>list</code>  </p>\n\n<pre><code>&gt;&gt;&gt; \n&gt;&gt;&gt; x\n[['Brazil', '184,815.00'], ['Brazil', '-0.58'], ['Brazil', '0.54']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1504732670, "post_id": 46084272, "comment_id": 79130966, "body": "You didn&#39;t start with the same array; your&#39;s is (3,1,3), not (3,2) with lists."}, {"owner": {"reputation": 20694, "user_id": 531222, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9bec8a835a986f86131125137da13a83?s=128&d=identicon&r=PG&f=1", "display_name": "tamasgal", "link": "https://stackoverflow.com/users/531222/tamasgal"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1504768545, "post_id": 46084272, "comment_id": 79141828, "body": "I copy pasted his example."}], "tags": [], "owner": {"reputation": 20694, "user_id": 531222, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9bec8a835a986f86131125137da13a83?s=128&d=identicon&r=PG&f=1", "display_name": "tamasgal", "link": "https://stackoverflow.com/users/531222/tamasgal"}, "is_accepted": false, "score": 0, "last_activity_date": 1504731683, "creation_date": 1504731683, "answer_id": 46084272, "question_id": 46083412, "link": "https://stackoverflow.com/questions/46083412/numpy-slicing-inner-array-of-a-2d-array-in-one-go/46084272#46084272", "title": "numpy slicing inner array of a 2D array in one go", "body": "<p>Here is one way, you'll get some \"nesting\" though:</p>\n\n<pre><code>In [1]: from numpy import array\n\nIn [2]: eg = array([\n   ...:    [ list(['Vehicle Sales Anfavea units','Brazil','184,815.00'])],\n   ...:    [ list(['Commodity Price Index MoM % m/m', 'Brazil', '-0.58'])],\n   ...:    [ list(['Commodity Price Index YoY % y/y', 'Brazil', '0.54'])]\n   ...:  ], dtype=object)\n\nIn [3]: eg[:,:,-2:]\nOut[3]:\narray([[['Brazil', '184,815.00']],\n\n       [['Brazil', '-0.58']],\n\n       [['Brazil', '0.54']]], dtype=object)\n</code></pre>\n\n<p>You can however \"squeeze\" it:</p>\n\n<pre><code>In [4]: import numpy as np\n\nIn [5]: np.squeeze(eg[:,:,-2:])\nOut[5]:\narray([['Brazil', '184,815.00'],\n       ['Brazil', '-0.58'],\n       ['Brazil', '0.54']], dtype=object)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1504734861, "post_id": 46084362, "comment_id": 79131882, "body": "<code>np.array(arr.tolist())</code> is a convenient way to turn an object array of lists into a regular array, though I can&#39;t say whether it&#39;s the most efficient."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1504733023, "last_edit_date": 1504733023, "creation_date": 1504732127, "answer_id": 46084362, "question_id": 46083412, "link": "https://stackoverflow.com/questions/46083412/numpy-slicing-inner-array-of-a-2d-array-in-one-go/46084362#46084362", "title": "numpy slicing inner array of a 2D array in one go", "body": "<p>It looks like the display of a (3,1) object array, containing 3 lists:</p>\n\n<pre><code>In [168]: arr = np.zeros((3,1),object)\nIn [169]: arr[:,0]=[['Vehicle Sales Anfavea units','Brazil','184,815.00'],['Comm\n     ...: odity Price Index MoM % m/m', 'Brazil', '-0.58'],['Commodity Price Ind\n     ...: ex YoY % y/y', 'Brazil', '0.54']]\nIn [170]: arr\nOut[170]: \narray([[list(['Vehicle Sales Anfavea units', 'Brazil', '184,815.00'])],\n       [list(['Commodity Price Index MoM % m/m', 'Brazil', '-0.58'])],\n       [list(['Commodity Price Index YoY % y/y', 'Brazil', '0.54'])]], dtype=object)\n</code></pre>\n\n<p>A simple copy-n-paste creates a (3,1,3) array objects (strings); not a 2d array of lists.</p>\n\n<p>Since you want a slice of the lists, you'll have use a list comprehension</p>\n\n<pre><code>In [171]: [a[-2:] for a in arr.ravel()]\nOut[171]: [['Brazil', '184,815.00'], ['Brazil', '-0.58'], ['Brazil', '0.54']]\nIn [172]: np.array(_)\nOut[172]: \narray([['Brazil', '184,815.00'],\n       ['Brazil', '-0.58'],\n       ['Brazil', '0.54']],\n      dtype='&lt;U10')\n</code></pre>\n\n<p>Notice that this final array is (3,2) string dtype, not an object array of lists.</p>\n\n<p>Another approach is to turn it into a 2d string array, and index that:</p>\n\n<pre><code>In [174]: np.stack(arr.ravel())\nOut[174]: \narray([['Vehicle Sales Anfavea units', 'Brazil', '184,815.00'],\n       ['Commodity Price Index MoM % m/m', 'Brazil', '-0.58'],\n       ['Commodity Price Index YoY % y/y', 'Brazil', '0.54']],\n      dtype='&lt;U31')\nIn [175]: _.shape\nOut[175]: (3, 3)\nIn [176]: __[:,-2:]\nOut[176]: \narray([['Brazil', '184,815.00'],\n       ['Brazil', '-0.58'],\n       ['Brazil', '0.54']],\n      dtype='&lt;U31')\n</code></pre>\n\n<p>More about this use of <code>stack</code> at <a href=\"https://stackoverflow.com/questions/46064280/how-to-turn-array-of-array-into-single-high-dimension-array\">How to turn array of array into single high dimension array?</a></p>\n\n<hr>\n\n<p>To keep the object array of lists structure, an inplace replacement might be easiest:</p>\n\n<pre><code>In [180]: arr1=arr.copy()\nIn [181]: arr1.shape\nOut[181]: (3, 1)\nIn [182]: for a in arr1.ravel():\n     ...:     a[:] = a[-2:]\n     ...:     \nIn [183]: arr1\nOut[183]: \narray([[list(['Brazil', '184,815.00'])],\n       [list(['Brazil', '-0.58'])],\n       [list(['Brazil', '0.54'])]], dtype=object)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1504734763, "creation_date": 1504734763, "answer_id": 46084883, "question_id": 46083412, "link": "https://stackoverflow.com/questions/46083412/numpy-slicing-inner-array-of-a-2d-array-in-one-go/46084883#46084883", "title": "numpy slicing inner array of a 2D array in one go", "body": "<p>Your array may look like</p>\n\n<pre><code>array([\n   [ list(['Vehicle Sales Anfavea units','Brazil','184,815.00'])],\n   [ list(['Commodity Price Index MoM % m/m', 'Brazil', '-0.58'])],\n   [ list(['Commodity Price Index YoY % y/y', 'Brazil', '0.54'])]\n ], dtype=object)\n</code></pre>\n\n<p>but running that as code will not reproduce your array, and trying to slice the sublists as if they were part of the array's structure won't work.</p>\n\n<p>You have a 2-dimensional array of object dtype whose elements are lists. Since version 1.13, NumPy will explicitly show <code>list(...)</code> for lists inside an array in the <code>repr</code> view, but NumPy won't see the <code>list(...)</code> notation if you try to execute the <code>repr</code> representation as code, and it will infer the depth of the array from the input, usually not preserving the lists.</p>\n\n<hr>\n\n<p>You need to eliminate the redundant singleton dimension, convert the array of lists to a normal multidimensional array, and then slice:</p>\n\n<pre><code>eg = eg[:, 0]\neg = numpy.array(eg.tolist())\neg = eg[:, 1:]\n</code></pre>\n"}], "owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 46084362, "answer_count": 4, "score": -3, "last_activity_date": 1504734763, "creation_date": 1504727966, "last_edit_date": 1504730496, "question_id": 46083412, "link": "https://stackoverflow.com/questions/46083412/numpy-slicing-inner-array-of-a-2d-array-in-one-go", "title": "numpy slicing inner array of a 2D array in one go", "body": "<p>consider the below array (EDIT: the format of the array is because I get this data from another source, basically the data is nested list of lists of unequal elements)</p>\n\n<pre><code>eg = array([\n   [ list(['Vehicle Sales Anfavea units','Brazil','184,815.00'])],\n   [ list(['Commodity Price Index MoM % m/m', 'Brazil', '-0.58'])],\n   [ list(['Commodity Price Index YoY % y/y', 'Brazil', '0.54'])]\n ], dtype=object)\n</code></pre>\n\n<p>how can i slice this array in a <code>single attempt</code> to get last two elements in each row? my desired output should be something like</p>\n\n<pre><code>([\n['Brazil','184,815.00'],\n['Brazil', '-0.58'],\n['Brazil', ''0.54']\n])\n</code></pre>\n"}, {"tags": ["python", "tkinter", "tktable"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1504734752, "post_id": 46083399, "comment_id": 79131836, "body": "I don&#39;t see anywhere in the code where you&#39;ve tried any of the &quot;insert&quot; methods."}, {"owner": {"reputation": 449, "user_id": 5834574, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MjKPW.gif?s=128&g=1", "display_name": "Krusaderjake", "link": "https://stackoverflow.com/users/5834574/krusaderjake"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1504740086, "post_id": 46083399, "comment_id": 79133347, "body": "@BryanOakley I couldn&#39;t find any example to help me understand what the docs were trying to say. I did try the insert method first but could not get it working. Please share if you are able to get the insert method working."}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 6883701, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f65041982d901614c75d015d029e6e0?s=128&d=identicon&r=PG&f=1", "display_name": "Dogod", "link": "https://stackoverflow.com/users/6883701/dogod"}, "edited": false, "score": 0, "creation_date": 1512696344, "post_id": 46085739, "comment_id": 82372924, "body": "Sorry to trouble you and how did you install the tktable module successfully? I am struggling with the installation. Could you advise please? Thank you very much."}], "tags": [], "owner": {"reputation": 449, "user_id": 5834574, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MjKPW.gif?s=128&g=1", "display_name": "Krusaderjake", "link": "https://stackoverflow.com/users/5834574/krusaderjake"}, "is_accepted": true, "score": 1, "last_activity_date": 1504740878, "creation_date": 1504740878, "answer_id": 46085739, "question_id": 46083399, "link": "https://stackoverflow.com/questions/46083399/how-to-insert-set-data-in-a-tkinter-tktable/46085739#46085739", "title": "How to insert/set data in a Tkinter TkTable", "body": "<p>Well I figured out a solution by defining a <code>tktable.ArrayVar(master)</code> variable after revisiting the example in the download of TkTable. Please post if there are better solutions.</p>\n\n<p>Here is my example I could get working to load pre-existing data values into a TkTable:</p>\n\n<pre><code>import tkinter as tk\nimport tktable\n\ndef table_test():\n    #### DEFINES THE INTERFACE ####\n    master = tk.Tk()\n    master.geometry('500x200+250+200')\n    master.title('Dogs')\n    #### DEFINING THE TABLE ####\n    tb = tktable.Table(master,\n                       state='disabled',\n                       width=50,\n                       titlerows=1,\n                       rows=5,\n                       cols=4,\n                       colwidth=20)\n    columns = ['Breed','Price','Location','Age']\n    #### LIST OF LISTS DEFINING THE ROWS AND VALUES IN THOSE ROWS ####\n    values = [['Doodle','1500','Chicago','1'],\n              ['Pug','700','Kansas City','2'],\n              ['Westie','1000','Lincoln','1'],\n              ['Poodle','900','Atlanta','2']]\n    #### SETS THE DOGS INTO THE TABLE ####\n    #### VVVVVVVVVVVVVVVVVVVVVVVVVVV ####\n    #DEFINING THE VAR TO USE AS DATA IN TABLE\n    var = tktable.ArrayVar(master)\n    row_count=0\n    col_count=0\n    #SETTING COLUMNS\n    for col in columns:\n        index = \"%i,%i\" % (row_count,col_count)\n        var[index] = col\n        col_count+=1\n    row_count=1\n    col_count=0\n    #SETTING DATA IN ROWS\n    for row in values:\n        for item in row:\n            print(item)\n            index = \"%i,%i\" % (row_count,col_count)\n            ## PLACING THE VALUE IN THE INDEX CELL POSITION ##\n            var[index] = item\n            #### IGNORE THIS IF YOU WANT, JUST SETTING SOME CELL COLOR ####\n            try:\n                if int(item) &gt; 999:\n                    tb.tag_cell('green',index)\n            except:\n                pass\n            ###############################################################\n            col_count+=1       \n        col_count=0\n        row_count+=1\n    #### ABOVE CODE SETS THE DOG INTO THE TABLE ####\n    ################################################\n    #### VARIABLE PARAMETER SET BELOW ON THE 'TB' USES THE DATA DEFINED ABOVE ####\n    tb['variable'] = var\n    tb.pack()\n    #tb.tag_cell('green',index)\n    tb.tag_configure('green', background='green')\n    #### MAINLOOPING ####\n    tk.mainloop()\ntable_test()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jARx8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jARx8.jpg\" alt=\"Example TkTable\"></a></p>\n"}], "owner": {"reputation": 449, "user_id": 5834574, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MjKPW.gif?s=128&g=1", "display_name": "Krusaderjake", "link": "https://stackoverflow.com/users/5834574/krusaderjake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7822, "favorite_count": 0, "accepted_answer_id": 46085739, "answer_count": 1, "score": 4, "last_activity_date": 1504840232, "creation_date": 1504727905, "last_edit_date": 1504840232, "question_id": 46083399, "link": "https://stackoverflow.com/questions/46083399/how-to-insert-set-data-in-a-tkinter-tktable", "title": "How to insert/set data in a Tkinter TkTable", "body": "<p>I'm having trouble following the TkTable docs at how to insert predefined values into a TkTable for Tkinter GUI. Docs: <a href=\"https://www.eso.org/projects/vlt/sw-dev/tcl8.3.3/tktable2.7/tkTable.html\" rel=\"nofollow noreferrer\">https://www.eso.org/projects/vlt/sw-dev/tcl8.3.3/tktable2.7/tkTable.html</a></p>\n\n<p>I researched into this and I have been unable to find a suitable answer documented anywhere for how to insert predefined values into a TkTable... this is an unanswered question I found:\n<a href=\"https://stackoverflow.com/questions/43428127/set-value-into-tktable\">set value into tktable</a></p>\n\n<p><strong>Does anyone know how this is done?</strong></p>\n\n<p>Here is my example code derived from the example provided after downloading TkTable (I can set 1 dog into the table, but I have no idea how to use the set method to iterate over the list successfully to insert one cell after the other):</p>\n\n<pre><code>import tkinter as tk\nimport tktable\n\ndef table_test():\n\n    #### DEFINES THE GUI ####\n    master = tk.Tk()\n    master.geometry('800x800+250+200')\n    master.title('Dogs')\n\n    #### SETS THE DOG INTO THE TABLE ####\n    def callback_dogs(event):\n        values = ['Doodle','Pug','Westie','Poodle']\n        for item in values:\n            return item\n\n    #### DEFINING THE TKTABLE ####\n    tb = tktable.Table(master, state='disabled', width=15, titlerows=1, rows=3, cols=2, command=callback_dogs)\n    tb.pack(expand=1)\n\n    #### MAINLOOPING ####\n    master.attributes('-topmost',True)\n    master.after_idle(master.attributes,'-topmost',False)\n    tk.mainloop()\n\ntable_test()\n</code></pre>\n"}, {"tags": ["python", "numpy", "scipy", "differential-equations"], "comments": [{"owner": {"reputation": 21073, "user_id": 3088138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114f33fdece969de35d41038fb0eeb46?s=128&d=identicon&r=PG&f=1", "display_name": "Lutz Lehmann", "link": "https://stackoverflow.com/users/3088138/lutz-lehmann"}, "edited": false, "score": 0, "creation_date": 1504729055, "post_id": 46083368, "comment_id": 79129259, "body": "Are you sure that the input <code>y</code> is semantically a time derivative and not just the state <code>y=[P,Q]</code>resp. <code>P,Q = y</code>? This relabeling would also avoid the confusion from occurring."}, {"owner": {"reputation": 125, "user_id": 8571015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96b7a8dc2c52891db1262c239d0889bd?s=128&d=identicon&r=PG&f=1", "display_name": "JakobJakobson13", "link": "https://stackoverflow.com/users/8571015/jakobjakobson13"}, "reply_to_user": {"reputation": 21073, "user_id": 3088138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114f33fdece969de35d41038fb0eeb46?s=128&d=identicon&r=PG&f=1", "display_name": "Lutz Lehmann", "link": "https://stackoverflow.com/users/3088138/lutz-lehmann"}, "edited": false, "score": 0, "creation_date": 1504729348, "post_id": 46083368, "comment_id": 79129407, "body": "Semantivally you are right. The differential equation describes the state and no derivative of the system. But as I initially just wanted to code within five minutes I didn&#39;t put much thought into this. In a next version I will alter it."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 8571015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96b7a8dc2c52891db1262c239d0889bd?s=128&d=identicon&r=PG&f=1", "display_name": "JakobJakobson13", "link": "https://stackoverflow.com/users/8571015/jakobjakobson13"}, "edited": false, "score": 0, "creation_date": 1504729875, "post_id": 46083512, "comment_id": 79129675, "body": "Thank you very much. The next time I will try not to overwrite my variable within the same line. Regards"}], "tags": [], "owner": {"reputation": 4435, "user_id": 3157209, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f09e0aa62a26ffcf34ba27a698880238?s=128&d=identicon&r=PG&f=1", "display_name": "zimmerrol", "link": "https://stackoverflow.com/users/3157209/zimmerrol"}, "is_accepted": true, "score": 1, "last_activity_date": 1504728374, "creation_date": 1504728374, "answer_id": 46083512, "question_id": 46083368, "link": "https://stackoverflow.com/questions/46083368/scipy-two-ways-of-implementing-a-differential-equation-two-different-solutions/46083512#46083512", "title": "Scipy: Two ways of implementing a differential equation: two different solutions: answered", "body": "<p>In your first version you perform the updates not at the same time, as you execute the to lines</p>\n\n<pre><code>dP_dt = -kt*dP_dt*R(t) - kt*beta*(R(t))**2\ndQ_dt = +kt*dP_dt*R(t) + kt*beta*(R(t))**2\n</code></pre>\n\n<p>not simulatnously; therefore, you use the already updated <code>dP_dt</code> to update <code>dQ_dt</code>. This is a faulty implementation of the <code>ODE</code> system. Your second approach is better, as it does not have this kind of error. You either have to return the updated values directly, or you have to save the newly calculated values of <code>dP_dt</code> in another variable before calculating the new <code>dQ_dt</code>.</p>\n\n<pre><code>new_dP_dt = -kt*dP_dt*R(t) - kt*beta*(R(t))**2\nnew_dQ_dt = +kt*dP_dt*R(t) + kt*beta*(R(t))**2\n\nreturn [new_dP_dt, new_dQ_dt]\n</code></pre>\n\n<p>this would solve your problem.</p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 8571015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96b7a8dc2c52891db1262c239d0889bd?s=128&d=identicon&r=PG&f=1", "display_name": "JakobJakobson13", "link": "https://stackoverflow.com/users/8571015/jakobjakobson13"}, "edited": false, "score": 0, "creation_date": 1504729866, "post_id": 46083602, "comment_id": 79129669, "body": "Thank you very much. The next time I will try not to overwrite my variable within the same line. Regards"}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 1, "last_activity_date": 1504729077, "last_edit_date": 1504729077, "creation_date": 1504728739, "answer_id": 46083602, "question_id": 46083368, "link": "https://stackoverflow.com/questions/46083368/scipy-two-ways-of-implementing-a-differential-equation-two-different-solutions/46083602#46083602", "title": "Scipy: Two ways of implementing a differential equation: two different solutions: answered", "body": "<p>In <code>CIDNP_1</code> you change the value of <code>dP_dt</code> before using the new value to calculate <code>dQ_dt</code>:</p>\n\n<pre><code>dP_dt = -kt*dP_dt*R(t) - kt*beta*(R(t))**2   # changed dP_dt!\ndQ_dt = +kt*dP_dt*R(t) + kt*beta*(R(t))**2   # use the changed value!\n</code></pre>\n\n<p>In <code>CIDNP_2</code> you calculate them simultaneously, ie <code>dQ_dt</code> is calculated with the original value of <code>dP_dt</code>, not the changed one. You can think of it like</p>\n\n<pre><code>a = -kt*dP_dt*R(t) - kt*beta*(R(t))**2       # no overwriting -\nb = +kt*dP_dt*R(t) + kt*beta*(R(t))**2       # uses original value of dP_dt\nreturn [a, b]\n</code></pre>\n\n<p>You could also probably speed things up a bit like</p>\n\n<pre><code>def CIDNP_3(y, t):\n    dP_dt, dQ_dt = y\n    R_t = R0 / (1 + kt * R0 * t)\n    res = kt * R_t * (dP_dt + beta * R_t)\n    return [-res, res]\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 8571015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96b7a8dc2c52891db1262c239d0889bd?s=128&d=identicon&r=PG&f=1", "display_name": "JakobJakobson13", "link": "https://stackoverflow.com/users/8571015/jakobjakobson13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 46083512, "answer_count": 2, "score": 1, "last_activity_date": 1504730094, "creation_date": 1504727742, "last_edit_date": 1504730094, "question_id": 46083368, "link": "https://stackoverflow.com/questions/46083368/scipy-two-ways-of-implementing-a-differential-equation-two-different-solutions", "title": "Scipy: Two ways of implementing a differential equation: two different solutions: answered", "body": "<p>I was trying to solve a differential equation for my thesis in chemistry and there I stumbled over a question regarding the differential equation solver \"odeint\" of scipy.</p>\n\n<p>First I implemented the differential by the function CIDNP_1 (CIDNP is a chemical phenomena, that explains the unusual variables) according the the example on the scipy website. But the solution is way off even the right direction.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport scipy.integrate\n\nR0 = 5e+5\nkt = 5e5/R0\nbeta = 3/R0\n\ndef CIDNP_1(y, t):\n    dP_dt, dQ_dt = y\n\n    def R(t):\n        return R0/(1 + kt*R0*t)\n\n    dP_dt = -kt*dP_dt*R(t) - kt*beta*(R(t))**2\n    dQ_dt = +kt*dP_dt*R(t) + kt*beta*(R(t))**2\n    return [dP_dt, dQ_dt]\n\n\ndef CIDNP_2(y, t):    \n    dP_dt, dQ_dt = y\n\n    def R(t):\n        return R0/(1 + kt*R0*t)\n\n    return [-kt*dP_dt*R(t) - kt*beta*(R(t))**2, \\\n            +kt*dP_dt*R(t) + kt*beta*(R(t))**2]\n\ny0 = [-1, +1]\nt = np.linspace(1e-9, 100e-6, 1e3)\nsol_1 = scipy.integrate.odeint(CIDNP_1, y0, t)\nsol_2 = scipy.integrate.odeint(CIDNP_2, y0, t)\n</code></pre>\n\n<p>Then I altered my solution to CIDNP_2 what gave the correct result but in my eyes there is no difference in the implementation as the variables dP_dt and dQ_dt are not altered in implementation CIDNP_1.</p>\n\n<p>So as anyone can give me a hint why the implementation CIDNP_1 gives the wrong result I'd be very lucky as then at least the last two hours weren't completely lost.</p>\n\n<p>Regards,</p>\n\n<p>Jakob</p>\n"}, {"tags": ["python", "python-3.x", "machine-learning", "tensorflow", "artificial-intelligence"], "comments": [{"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 1, "creation_date": 1504728714, "post_id": 46083360, "comment_id": 79129095, "body": "First thing I notice: I usually just do <code>saver.restore(sess, dir + name_root)</code> where <code>name_root</code> does not include the extension <code>.index</code> or whatever. Doubt that&#39;s the problem, but thought I&#39;d mention it."}, {"owner": {"reputation": 2502, "user_id": 834565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/HkiQW.png?s=128&g=1", "display_name": "MohamedEzz", "link": "https://stackoverflow.com/users/834565/mohamedezz"}, "edited": false, "score": 0, "creation_date": 1504736197, "post_id": 46083360, "comment_id": 79132284, "body": "Same here. I usually get just give the <code>name.ckpt</code> without the trailing extensions; the saver would then read all 3 files : index, meta, and data-00000-of-00001"}, {"owner": {"reputation": 489, "user_id": 2082009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f1e19921ba3ecdcd40bf55a6196aca?s=128&d=identicon&r=PG", "display_name": "Saurabh Saxena", "link": "https://stackoverflow.com/users/2082009/saurabh-saxena"}, "edited": false, "score": 0, "creation_date": 1504752948, "post_id": 46083360, "comment_id": 79136231, "body": "Have you tried <code>saver.restore(sess, tf.train.latest_checkpoint(dir))</code>?"}], "owner": {"reputation": 71, "user_id": 3738781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61acd905a6a4a3a2c8d649fb24231b7c?s=128&d=identicon&r=PG&f=1", "display_name": "SStensors", "link": "https://stackoverflow.com/users/3738781/sstensors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504727713, "creation_date": 1504727713, "question_id": 46083360, "link": "https://stackoverflow.com/questions/46083360/tensorflow-failing-to-restore-index-file", "title": "Tensorflow failing to restore .index file", "body": "<p>I am currently attempting to import a tensorflow model. I have all the files needed for import in a directory, x.meta, x.index, x.chkp.data-00000-of-00001, and the checkpoint file.</p>\n\n<p>I first run</p>\n\n<pre><code>saver = tf.train.import_meta_graph(meta_name)\n</code></pre>\n\n<p>which runs completely fine.\nThen I attempt to import the .index file into a regular session</p>\n\n<pre><code>saver.restore(sess,dir+index_name)\n</code></pre>\n\n<p>and the code fails.</p>\n\n<p>I get this error: </p>\n\n<pre><code>tensorflow.python.framework.errors_impl.NotFoundError: Tensor name \"z/w\" not found in checkpoint files ./x.index\n</code></pre>\n\n<p>The strange thing is that depending on when I run it, I get different errors! Sequential runs will return different tensors that fail to be found, no matter if I close my shell or not.</p>\n\n<p>I've tried restarting my machine, I retrained my network and used fresh files, I'm out of ideas.</p>\n"}, {"tags": ["python", "api"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1504774314, "post_id": 46083350, "comment_id": 79145532, "body": "Change to <code>bittrex = Bittrex(APIKEY, SECRETKEY)</code>, without enclosed in <code>&quot;&quot;</code>."}, {"owner": {"reputation": 125, "user_id": 5226914, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10200728186284936/picture?type=large", "display_name": "hunsnowboarder", "link": "https://stackoverflow.com/users/5226914/hunsnowboarder"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1504774489, "post_id": 46083350, "comment_id": 79145650, "body": "Thank you for your comment. Actually it is the api key itself. Edited the original post because it was misleading. Still the problem persists."}], "answers": [{"tags": [], "owner": {"reputation": 1056, "user_id": 640123, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/aee20ecc9a72830adf3a85fe466efeb3?s=128&d=identicon&r=PG", "display_name": "kroe", "link": "https://stackoverflow.com/users/640123/kroe"}, "is_accepted": false, "score": 0, "last_activity_date": 1519814905, "creation_date": 1519814905, "answer_id": 49027722, "question_id": 46083350, "link": "https://stackoverflow.com/questions/46083350/bittrex-invalid-api-key-error-in-python/49027722#49027722", "title": "Bittrex invalid api key error in python", "body": "<p>This happens from time to time on TREX they got a bug on their backend i believe, please report to their support.</p>\n\n<p>I have done and i'm waiting on their side.</p>\n\n<p>On my case the key works and then after sometimes it says it's invalid but then it says its valid again. Pretty annoying</p>\n"}], "owner": {"reputation": 125, "user_id": 5226914, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10200728186284936/picture?type=large", "display_name": "hunsnowboarder", "link": "https://stackoverflow.com/users/5226914/hunsnowboarder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 681, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519814905, "creation_date": 1504727672, "last_edit_date": 1504774525, "question_id": 46083350, "link": "https://stackoverflow.com/questions/46083350/bittrex-invalid-api-key-error-in-python", "title": "Bittrex invalid api key error in python", "body": "<p>Please help me if you can.\nI am using python 2.7 with the bittrex wrapper. I requested and received the bittrex api key and secret key as well. </p>\n\n<p>If I use the bittrex.ticker() command, I get all the results, however when I want to get my balances I get an invalid api key error. </p>\n\n<p>I am 100% sure that my API keys are right. I checked them several times, even requested a new API key and i got the same error. So there must be something else.</p>\n\n<p>If you can or have any idea what could be wrong, please help.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>from bittrex import Bittrex\n\nAPIKEY = \"XXXXXXXXX\"\n\nSECRETKEY = \"XXXXXXXXX\"\n\nbittrex = Bittrex(APIKEY, SECRETKEY)\n\n\nprint bittrex.get_balances()\n</code></pre>\n\n<p>The error message i am getting :</p>\n\n<pre><code>{u'message': u'APIKEY_INVALID', u'result': None, u'success': False}\n</code></pre>\n\n<p>Thank you in advance for your help!</p>\n"}, {"tags": ["python", "operating-system"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1504727785, "post_id": 46083337, "comment_id": 79128637, "body": "This is why you shouldn&#39;t build command line strings for <code>os.system</code>."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 8253871, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad9809691b19218a1b1cb2d69d0d327?s=128&d=identicon&r=PG&f=1", "display_name": "Elo97234c", "link": "https://stackoverflow.com/users/8253871/elo97234c"}, "edited": false, "score": 0, "creation_date": 1504728075, "post_id": 46083420, "comment_id": 79128780, "body": "The reason im using os.system instead of sub process is because i need File 1.py to continue its duty without have to waiting for Main.py to complete"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 133, "user_id": 8253871, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad9809691b19218a1b1cb2d69d0d327?s=128&d=identicon&r=PG&f=1", "display_name": "Elo97234c", "link": "https://stackoverflow.com/users/8253871/elo97234c"}, "edited": false, "score": 0, "creation_date": 1504728177, "post_id": 46083420, "comment_id": 79128820, "body": "@Elo97234c: <code>os.system</code> also waits for the other process to finish."}, {"owner": {"reputation": 133, "user_id": 8253871, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad9809691b19218a1b1cb2d69d0d327?s=128&d=identicon&r=PG&f=1", "display_name": "Elo97234c", "link": "https://stackoverflow.com/users/8253871/elo97234c"}, "edited": false, "score": 0, "creation_date": 1504728616, "post_id": 46083420, "comment_id": 79129044, "body": "No it does not. It starts the python file and that is it. Its not a sub process. Its a new process"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 133, "user_id": 8253871, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad9809691b19218a1b1cb2d69d0d327?s=128&d=identicon&r=PG&f=1", "display_name": "Elo97234c", "link": "https://stackoverflow.com/users/8253871/elo97234c"}, "edited": false, "score": 0, "creation_date": 1504728739, "post_id": 46083420, "comment_id": 79129109, "body": "@Elo97234c: <code>os.system</code> returns the exit status of the new process; how do you imagine it would do that without waiting for the process to exit?"}, {"owner": {"reputation": 133, "user_id": 8253871, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad9809691b19218a1b1cb2d69d0d327?s=128&d=identicon&r=PG&f=1", "display_name": "Elo97234c", "link": "https://stackoverflow.com/users/8253871/elo97234c"}, "edited": false, "score": 0, "creation_date": 1504729714, "post_id": 46083420, "comment_id": 79129586, "body": "Thanks for the info mate!"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1504728452, "last_edit_date": 1504728452, "creation_date": 1504728007, "answer_id": 46083420, "question_id": 46083337, "link": "https://stackoverflow.com/questions/46083337/passing-variables-as-arugements/46083420#46083420", "title": "Passing variables as Arugements", "body": "<p><code>\"boo\"</code> is <code>sys.argv[3]</code>, because you used string formatting with no escaping to build your command line string, resulting in the call</p>\n\n<pre><code>os.system('\"F:\\\\Main.py\" tester foo boo')\n</code></pre>\n\n<p>Rather than using <code>os.system</code>, it's much safer to execute subprocesses with the <a href=\"https://docs.python.org/3/library/subprocess.html\" rel=\"nofollow noreferrer\"><code>subprocess</code> module</a>:</p>\n\n<pre><code>import subprocess\n\nsubprocess.run([\"F:\\\\Main.py\", id, value])\n</code></pre>\n\n<p>but considering that the other program is also a Python program, it sounds like you're using separate scripts to organize your code when you should probably be using modules and functions, so launching separate processes with any tool is probably not how you should go about this.</p>\n\n<p>If you don't want to wait for the worker to finish, you can use <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.Popen\" rel=\"nofollow noreferrer\"><code>subprocess.Popen</code></a> instead of <code>subprocess.run</code>. <code>os.system</code> would never have given you that behavior; <code>os.system</code> also waits for the worker to finish. It may be better to use <code>threading</code> or <code>multiprocessing</code>, though.</p>\n\n<p>Also, backslashes should be escaped, as in <code>\"F:\\\\Main.py\"</code>, not <code>\"F:\\Main.py\"</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 8253871, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad9809691b19218a1b1cb2d69d0d327?s=128&d=identicon&r=PG&f=1", "display_name": "Elo97234c", "link": "https://stackoverflow.com/users/8253871/elo97234c"}, "edited": false, "score": 0, "creation_date": 1504729213, "post_id": 46083447, "comment_id": 79129342, "body": "My full file path would be, &quot;F:\\Program Test\\Main.py&quot; by trying out your code it get &#39;&#39;&#39;F:\\Program&#39; is not recognized as an internal or external command, operable program or batch file."}, {"owner": {"reputation": 133, "user_id": 8253871, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad9809691b19218a1b1cb2d69d0d327?s=128&d=identicon&r=PG&f=1", "display_name": "Elo97234c", "link": "https://stackoverflow.com/users/8253871/elo97234c"}, "edited": false, "score": 0, "creation_date": 1504729311, "post_id": 46083447, "comment_id": 79129392, "body": "The spacing between &#39;Program&#39; and &#39;Tes&#39;t is causing the issue i tried replacing with &#39;&#39;\\\\&quot; and added &#39;@&#39; to the begining still no luck"}], "tags": [], "owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "is_accepted": false, "score": 0, "last_activity_date": 1504728129, "creation_date": 1504728129, "answer_id": 46083447, "question_id": 46083337, "link": "https://stackoverflow.com/questions/46083337/passing-variables-as-arugements/46083447#46083447", "title": "Passing variables as Arugements", "body": "<p>This happens because OS split argument by space. For managed, it needs to put a variable in <code>\"name boo\"</code>. In your case:</p>\n\n<pre><code>os.system('\"F:\\Main.py\" \"{}\" \"{}\"'.format(id, value))\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 8253871, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/aad9809691b19218a1b1cb2d69d0d327?s=128&d=identicon&r=PG&f=1", "display_name": "Elo97234c", "link": "https://stackoverflow.com/users/8253871/elo97234c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 46083420, "answer_count": 2, "score": -1, "last_activity_date": 1504728452, "creation_date": 1504727626, "last_edit_date": 1504728019, "question_id": 46083337, "link": "https://stackoverflow.com/questions/46083337/passing-variables-as-arugements", "title": "Passing variables as Arugements", "body": "<p>Im passsing two varibales to another python file, in this manner. <br></p>\n\n<pre><code> os.system('\"F:\\Main.py\" %s `%s' % (id, value))\n</code></pre>\n\n<p>Refer the above example:</p>\n\n<h1>File 1.py</h1>\n\n<pre><code>id=\"tester\"\nvalue=\"foo boo\"\nos.system('\"F:\\Main.py\" %s %s' % (id, value))\n</code></pre>\n\n<h1>Main.py</h1>\n\n<pre><code>argu1=sys.argv[1]\nargu2=sys.argv[2]\nprint(\"Argument 1 is\", argu1)\nprint(\"Argument 2 is\", argu2)\n</code></pre>\n\n<p><b>It Prints</b></p>\n\n<pre><code>Argument 1 is tester\nArgument 1 is foo\n</code></pre>\n\n<p>As you may have noticed the <i>'boo'</i> part is missing. <br>Why is it missing and how can i fix this?</p>\n\n<p><b>PS.</b>\n<br>\nThe reason im using os.system instead of sub process is because i need <i>File 1.py</i> to continue its duty without have to waiting for <i>Main.py</i> to complete</p>\n"}, {"tags": ["python", "nlp", "gensim", "word2vec", "doc2vec"], "answers": [{"tags": [], "owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "is_accepted": false, "score": 5, "last_activity_date": 1504745500, "creation_date": 1504745500, "answer_id": 46086255, "question_id": 46083322, "link": "https://stackoverflow.com/questions/46083322/multiple-tags-for-single-document-in-doc2vec-taggeddocument/46086255#46086255", "title": "Multiple tags for single document in doc2vec. TaggedDocument", "body": "<p>Yes, it's possible to supply multiple tags per document, and that's why the <code>tags</code> property of <code>TaggedDocument</code> should be a list, and why a key used to refer to learned doc-vectors is called a 'tag' rather than an 'id'. (While the original 'Paragraph Vectors' paper on which gensim <code>Doc2Vec</code> is based only described using one unique identifier per document, this is a natural extension.)</p>\n\n<p>To get any doc-vector, you must access it via the <code>docvecs</code> property of the model, not the model itself. (The model itself, inheriting functionality from <code>Word2Vec</code>, will contain <em>word-vectors</em>, not doc-vectors, and those word-vectors will only be meaningful in some <code>Doc2Vec</code> modes.) </p>\n\n<p>So after training, you'd get the doc-vectors of your example data via operations like the following:</p>\n\n<pre><code>model.docvecs['UID_1']\nmodel.docvecs['action']\n</code></pre>\n\n<p>Keep in mind that when you're training more vectors, you'll likely need more data. In a rough sense, whatever valuable generalizations that can be made from your data come from compressing the original data into a smaller representation. If you train a larger model \u2013 more word-vectors document-tag-vectors as internal tunable parameters \u2013 on the same amount of data, the results may be more 'diluted' or even 'overfit'. (That is, it may come to reflect memorized idiosyncrasies of the training data, rather than generalizable insights useful for downstream purposes or new texts).</p>\n"}], "owner": {"reputation": 707, "user_id": 7415539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78d4ec7a6fdee9283ba328e32fd1bbe0?s=128&d=identicon&r=PG&f=1", "display_name": "unknown_jy", "link": "https://stackoverflow.com/users/7415539/unknown-jy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2520, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1504849293, "creation_date": 1504727537, "question_id": 46083322, "link": "https://stackoverflow.com/questions/46083322/multiple-tags-for-single-document-in-doc2vec-taggeddocument", "title": "Multiple tags for single document in doc2vec. TaggedDocument", "body": "<p>Is it possible to to train a doc2vec model where a single document has multiple tags?\nFor example, in movie reviews,</p>\n\n<pre><code>doc0 = doc2vec.TaggedDocument(words=review0,tags=['UID_0','horror','action'])\ndoc1 = doc2vec.TaggedDocument(words=review1,tags=['UID_1','drama','action','romance'])\n</code></pre>\n\n<p>In such case where each document has a unique tag (UID) and multiple categorical tags, how do I access the vector after the training? For example, what would be the most proper syntax to call</p>\n\n<pre><code>model['UID_1']\n</code></pre>\n"}, {"tags": ["python", "django", "url"], "answers": [{"comments": [{"owner": {"reputation": 1138, "user_id": 4858818, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/869adf1790a0e3fa9a1b90cdb7b19c8c?s=128&d=identicon&r=PG&f=1", "display_name": "F.M.F.", "link": "https://stackoverflow.com/users/4858818/f-m-f"}, "edited": false, "score": 0, "creation_date": 1504728277, "post_id": 46083382, "comment_id": 79128868, "body": "I used to have it this way, but changed it to this, because I want to have a <code>&#47;recent</code> -site in the same app. Adding app_name didn&#39;t resolve it."}, {"owner": {"reputation": 4614, "user_id": 5729960, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/eD2Hw.jpg?s=128&g=1", "display_name": "wencakisa", "link": "https://stackoverflow.com/users/5729960/wencakisa"}, "reply_to_user": {"reputation": 1138, "user_id": 4858818, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/869adf1790a0e3fa9a1b90cdb7b19c8c?s=128&d=identicon&r=PG&f=1", "display_name": "F.M.F.", "link": "https://stackoverflow.com/users/4858818/f-m-f"}, "edited": false, "score": 0, "creation_date": 1504728418, "post_id": 46083382, "comment_id": 79128941, "body": "@J.B. Is <code>scoring</code> registered in your <code>INSTALLED_APPS</code> ?"}], "tags": [], "owner": {"reputation": 4614, "user_id": 5729960, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/eD2Hw.jpg?s=128&g=1", "display_name": "wencakisa", "link": "https://stackoverflow.com/users/5729960/wencakisa"}, "is_accepted": true, "score": 2, "last_activity_date": 1504727824, "creation_date": 1504727824, "answer_id": 46083382, "question_id": 46083316, "link": "https://stackoverflow.com/questions/46083316/django-template-url-tag-wrong-target/46083382#46083382", "title": "Django: template url tag wrong target", "body": "<p>At first, you can add the <code>^scoring</code> prefix in the main <code>urls.py</code> file, instead of writing it everywhere in your scoring urls:</p>\n\n<pre><code>urlpatterns = [\n    url(r'^admin/', admin.site.urls),\n    url(r'^scoring/', include('scoring.urls', namespace='scoring')),\n]\n</code></pre>\n\n<p>Then in your scoring <code>urls.py</code> make sure to add <a href=\"https://docs.djangoproject.com/en/1.11/topics/http/urls/#url-namespaces-and-included-urlconfs\" rel=\"nofollow noreferrer\"><code>app_name</code></a>:</p>\n\n<pre><code>app_name = 'scoring'\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'^(?P&lt;query_id&gt;[0-9]+)/$', views.get_table_data, name='table_api'),\n]\n</code></pre>\n\n<p>(Note that I removed the <code>scoring</code> prefix in the url patterns.)</p>\n\n<p>Now, as you've added <code>app_name</code>, the reversing in your template should work as expected.</p>\n"}], "owner": {"reputation": 1138, "user_id": 4858818, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/869adf1790a0e3fa9a1b90cdb7b19c8c?s=128&d=identicon&r=PG&f=1", "display_name": "F.M.F.", "link": "https://stackoverflow.com/users/4858818/f-m-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 46083382, "answer_count": 1, "score": 0, "last_activity_date": 1504727824, "creation_date": 1504727509, "question_id": 46083316, "link": "https://stackoverflow.com/questions/46083316/django-template-url-tag-wrong-target", "title": "Django: template url tag wrong target", "body": "<p>I have in my main urls:</p>\n\n<pre><code>urlpatterns = [\n    url(r'^admin/', admin.site.urls),\n    url(r'', include('scoring.urls', namespace='scoring')),\n]\n</code></pre>\n\n<p>and in my app urls:</p>\n\n<pre><code>urlpatterns = [\n    url(r'scoring/(?P&lt;query_id&gt;[0-9]+)/$', views.get_table_data, name='table_api'),\n    url(r'^scoring/$', views.index, name='index'),\n]\n</code></pre>\n\n<p>and in my template:</p>\n\n<pre><code>&lt;li&gt;&lt;a href=\"{% url 'scoring:index' %}\"&gt;Scoring&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>but what <code>{% url 'scoring:index' %}</code>generates is <code>localhost/</code>instead of <code>localhost/scoring</code>. Why?</p>\n"}]