[{"tags": ["python", "pytest", "unit-testing"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 4711118, "user_type": "registered", "profile_image": "https://graph.facebook.com/910884812287406/picture?type=large", "display_name": "Sven van der Burg", "link": "https://stackoverflow.com/users/4711118/sven-van-der-burg"}, "edited": false, "score": 3, "creation_date": 1526635829, "post_id": 28009926, "comment_id": 87831598, "body": "Thanks, this helped me a lot in migrating from unittest to py.test. One comment though: I think instead of <code>@pytest.usefixtures</code> <code>@pytest.mark.usefixtures</code> should be used."}], "tags": [], "owner": {"reputation": 733, "user_id": 4466705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b156a3a1ebc040d35ab3698665def85?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Karpeev", "link": "https://stackoverflow.com/users/4466705/ilya-karpeev"}, "is_accepted": true, "score": 51, "last_activity_date": 1576181571, "last_edit_date": 1576181571, "creation_date": 1421585940, "answer_id": 28009926, "question_id": 27954702, "link": "https://stackoverflow.com/questions/27954702/unittest-vs-pytest/28009926#28009926", "title": "unittest Vs pytest", "body": "<p>1) First of all, you can declare those fixtures not only in conftest.py, but in every Python module you want. And you can import that module. \nAlso you can use fixtures in the same way as you used setUp method:</p>\n\n<pre><code>@pytest.fixture(scope='class')\ndef input(request):\n    request.cls.varA = 1\n    request.cls.varB = 2\n    request.cls.varC = 3\n    request.cls.modified_varA = 2\n\n@pytest.usefixtures('input')\nclass TestClass:\n    def test_1(self):\n        do_something_with_self.varA, self.varB\n\n    def test_2(self):\n        do_something_with_self_modified_varA, self.varC\n</code></pre>\n\n<p>or you can define separate variables in separate fixtures:</p>\n\n<pre><code>def fixture_a():\n    return varA\n\ndef fixture_b():\n    return varB\n\ndef fixture_c():\n    return varC\n\ndef fixture_mod_A():\n    return modified_varA\n</code></pre>\n\n<p>or make one fixture which returns all the variables (why not?)\nor even make indirect parametrized fixture which returns variables by your choice (quite confusing way):</p>\n\n<pre><code>@pytest.fixture()\ndef parametrized_input(request):\n   vars = {'varA': 1, 'varB': 2, 'varC': 3}\n   var_names = request.param\n   return (vars[var_name] for var_name in var_names)\n\n@pytest.mark.parametrize('parametrized_input', [('varA', 'varC')], indirect=True)\ndef test_1(parametrized_input)\n   varA, varC = parametrized_input\n   ...\n</code></pre>\n\n<p>Or even you can make fixture factory which will make fixtures for you on the fly. Sounds curiously when you have only 5 tests and 5 configurations of variables, but when you get hundreds of both, it can be useful.</p>\n\n<p>3) Of course you can. But I recommend you not to import this file directly, but use command line option pointing what file to import. In this case you can choose another file with variables without changing your code.</p>\n\n<p>4) I use classes in my tests because I migrated from nosetest. I didn't mention any problem with using classes in pytest.</p>\n\n<p>5) In that case I propose you to do the following:\nfist make the function with desired actions:</p>\n\n<pre><code>def some_actions(a, b):\n    # some actions here\n    ...\n    return c\n</code></pre>\n\n<p>then use it both in test and fixture:</p>\n\n<pre><code>def test():\n    assert some_actions(1,2) == 10\n\n@pytest.fixture()\ndef some_fixture():\n     return some_actions(1,2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1852, "user_id": 3130747, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5b9df374982831838fda1c5abb634781?s=128&d=identicon&r=PG&f=1", "display_name": "baxx", "link": "https://stackoverflow.com/users/3130747/baxx"}, "edited": false, "score": 17, "creation_date": 1600122146, "post_id": 54626154, "comment_id": 112982896, "body": "&quot;An important reasons also is that unittest will remain free. However, if you want to use pytest for some reason (bitbucket etc), there are tools to convert your tests and make the code less readable.&quot; I&#39;m not sure what you mean here, are you implying that pytest <i>won&#39;t</i> be free? Also, what do you mean by &#39;free&#39; here? The last paragraph is quite confusing to me"}, {"owner": {"reputation": 3956, "user_id": 1913115, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/40dd3c289d9b058bdaee7acc4e92d185?s=128&d=identicon&r=PG&f=1", "display_name": "ierdna", "link": "https://stackoverflow.com/users/1913115/ierdna"}, "edited": false, "score": 0, "creation_date": 1606960072, "post_id": 54626154, "comment_id": 115124665, "body": "my only complaint about unittest is that they use custom syntax operations like <code>self.assertEqual(some_var, 5)</code> as opposed to a clean <code>assert some_var == 5</code> in pytest"}, {"owner": {"reputation": 2195, "user_id": 286795, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/3504f2272601b09fe9139d988281cbd0?s=128&d=identicon&r=PG", "display_name": "matthiash", "link": "https://stackoverflow.com/users/286795/matthiash"}, "edited": false, "score": 1, "creation_date": 1616508444, "post_id": 54626154, "comment_id": 118019911, "body": "&quot;However, if you want to use pytest for some reason (bitbucket etc)&quot; Is pytest better integrated with bitbucket than unittest?"}], "tags": [], "owner": {"reputation": 744, "user_id": 1430552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d51a94cb59008a20e13f6cbc2ad5c6b?s=128&d=identicon&r=PG", "display_name": "Bart Mensfort", "link": "https://stackoverflow.com/users/1430552/bart-mensfort"}, "is_accepted": false, "score": 27, "last_activity_date": 1549872017, "creation_date": 1549872017, "answer_id": 54626154, "question_id": 27954702, "link": "https://stackoverflow.com/questions/27954702/unittest-vs-pytest/54626154#54626154", "title": "unittest Vs pytest", "body": "<p>I think unittest is easier to read. For new testers, unittest is really easy. It is working out of the box. You depend on the Python implementation, but they will not change the interface coming years. </p>\n\n<p>I like to organize my tests in such a way that I have maximum 1 test per file. In that case I don't depend on classes... but I import classes from every test to do stuff.</p>\n\n<p>Some websites complain about colours in unittest is not possible. I think that is a joke, since my unittests create JUNIT output reports for Jenkins and others. There are great tools (even 1 file) to convert JUNIT to a website, that's not the responsibility of a test tool.</p>\n\n<p>Also, some people complain you need a lot of code to start a unittest. I disagree, it takes 4 lines of code to create a unittest! But Pytest needs to know all the difficult annotations, which are not normal for a simple Python developer.</p>\n\n<p>An important reasons also is that unittest will remain free. However, if you want to use pytest for some reason (bitbucket etc), there are tools to convert your tests and make the code less readable.</p>\n\n<p>Have fun!</p>\n"}], "owner": {"reputation": 887, "user_id": 4362655, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80cf15152b8eaa37c69f92890f44c1c1?s=128&d=identicon&r=PG&f=1", "display_name": "LuckyStarr", "link": "https://stackoverflow.com/users/4362655/luckystarr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100929, "favorite_count": 35, "accepted_answer_id": 28009926, "answer_count": 2, "score": 73, "last_activity_date": 1576181571, "creation_date": 1421279996, "last_edit_date": 1421293535, "question_id": 27954702, "link": "https://stackoverflow.com/questions/27954702/unittest-vs-pytest", "title": "unittest Vs pytest", "body": "<p>In unittest, I can setUp variables in a class and then the methods of this class can chose whichever variable it wants to use...</p>\n\n<pre><code>class test_class(unittest.TestCase):\n    def setUp(self):        \n        self.varA = 1\n        self.varB = 2\n        self.varC = 3\n        self.modified_varA = 2\n\n    def test_1(self):\n        do_something_with_self.varA, self.varB\n\n    def test_2(self):\n        do_something_with_self_modified_varA, self.varC\n</code></pre>\n\n<p>So in unittest, it was easy to put bunch of tests together that could go under one class and then use many different variables (varA and varB) for different methods. In pytest, I created a fixture in conftest.py instead of a class in unittest, like this...</p>\n\n<pre><code>@pytest.fixture(scope=\"module\")\ndef input1():\n    varA = 1\n    varB = 2\n    return varA, varB\n\n@pytest.fixture(scope=\"module\")\ndef input2():\n    varA = 2\n    varC = 3\n    return varA, varC\n</code></pre>\n\n<p>I feed this input1 and input2 to my functions in a different file (let's say test_this.py) for two different functions. Here are the questions based on information above...</p>\n\n<ol>\n<li><p>Since I can't just declare local variables in conftest.py as I can't simply import this file. Is there a better way of declaring different variables here that can be used in different functions in test_this.py ? I have five different configurations in my actual testing for these variables, defining that many different fixtures in conftest.py and use them as function argument in five different functions in test_this.py sounds painful, I would rather go back to unittest class structure, define my variables and pick and choose what I want</p></li>\n<li><p>Should I just declare global variables in test_this.py and use them in the functions the way I want ? Seems a bit not pythonic. This variables are only used by the functions in this file.</p></li>\n<li><p>Let's say I have test_that.py and test_them.py as well. If I have some shared variables between these different files, how would I declare them ? just create a file calle variables.py in the directory where all these test files are and do an import whenever I need ? This way I can keep all data in a separate.</p></li>\n<li><p>Is it my impression that pytest discourages using a class to organize your functions ? Every example I read online, it all seem to employ bunch of functions with fixtures only. What is a configuration of defining class and methods and organize tests in pytest ?</p></li>\n<li><p>I have a test scenario where I have to use result of one function into another. With pytest, I have an assert that is at the end of a function not a return so I won't be able to use this function  as a fixture. How do I accomplish this ? I know this is not a good practice that my one test relies on another but is there a work around ?</p></li>\n</ol>\n\n<p>Thanks in advance for your answers.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 8742, "user_id": 3393459, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a319b01208db420f5f8c6a7c3a24a3c?s=128&d=identicon&r=PG&f=1", "display_name": "exp1orer", "link": "https://stackoverflow.com/users/3393459/exp1orer"}, "is_accepted": false, "score": 0, "last_activity_date": 1421284567, "creation_date": 1421284567, "answer_id": 27955342, "question_id": 27954698, "link": "https://stackoverflow.com/questions/27954698/is-loc-the-best-way-to-build-a-pandas-dataframe/27955342#27955342", "title": "Is .loc the best way to build a pandas DataFrame?", "body": "<p>If I understand correctly, I think it would be much faster to:</p>\n\n<ol>\n<li>Import the whole csv into a dataframe using <code>pandas.read_csv</code>.</li>\n<li>Select the rows of interest from the dataframe.</li>\n<li>Append the rows to your other dataframe using <code>df.append(other_df)</code>.</li>\n</ol>\n\n<p>If you provide more information about what criteria you are using in step 2 I can provide code there as well.</p>\n"}, {"tags": [], "owner": {"reputation": 6048, "user_id": 3437504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/G7yH4.jpg?s=128&g=1", "display_name": "Bob Haffner", "link": "https://stackoverflow.com/users/3437504/bob-haffner"}, "is_accepted": false, "score": 0, "last_activity_date": 1421288506, "creation_date": 1421288506, "answer_id": 27955836, "question_id": 27954698, "link": "https://stackoverflow.com/questions/27954698/is-loc-the-best-way-to-build-a-pandas-dataframe/27955836#27955836", "title": "Is .loc the best way to build a pandas DataFrame?", "body": "<p>A couple of options that come to mind</p>\n\n<p>1) Parse the file as you are currently doing, but build a dict intend of appending to your dataframe.  After you're done with that convert that dict to a Dataframe and then use concat() to combine it with the existing Dataframe</p>\n\n<p>2) Bring that csv into pandas using read_csv() and then filter/parse on what you want then do a concat() with the existing dataframe</p>\n"}, {"tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": false, "score": 1, "last_activity_date": 1421302583, "creation_date": 1421302583, "answer_id": 27957747, "question_id": 27954698, "link": "https://stackoverflow.com/questions/27954698/is-loc-the-best-way-to-build-a-pandas-dataframe/27957747#27957747", "title": "Is .loc the best way to build a pandas DataFrame?", "body": "<p><strong>No</strong>, you should never build a dataframe row-by-row. Each time you do this the entire dataframe has to be copied (it's not extended inplace) so you are using n + (n - 1) + (n - 2) + ... + 1, O(n^2), memory (which has to be garbage collected)... which is terrible, hence it's taking hours!</p>\n\n<p>You want to use <code>read_csv</code>, and you have a few options:</p>\n\n<ul>\n<li><p>read in the entire file in one go (this should be fine with 700mb even with just a few gig of ram).</p>\n\n<pre><code>pd.read_csv('your_file.csv')\n</code></pre></li>\n<li><p>read in the csv in chunks and then glue them together (in memory)... tbh I don't think this will actually use less memory than the above, but is often useful if you are doing some munging at this step.</p>\n\n<pre><code>pd.concat(pd.read_csv('foo.csv', chunksize=100000)) \u00a0# not sure what optimum value is for chunksize\n</code></pre></li>\n<li><p>read the csv in chunks and save them into pytables (rather than in memory), if you have more data than memory (and you've already bought more memory) then use pytables/hdf5!</p>\n\n<pre><code>store = pd.HDFStore('store.h5')\nfor df in pd.read_csv('foo.csv', chunksize=100000):\n    store.append('df', df)\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 4455614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce2d40bdcd5b5fd6d5eb707c327a3e27?s=128&d=identicon&r=PG&f=1", "display_name": "Ramneet Singh Rekhi", "link": "https://stackoverflow.com/users/4455614/ramneet-singh-rekhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1421302583, "creation_date": 1421279977, "last_edit_date": 1421281585, "question_id": 27954698, "link": "https://stackoverflow.com/questions/27954698/is-loc-the-best-way-to-build-a-pandas-dataframe", "title": "Is .loc the best way to build a pandas DataFrame?", "body": "<p>I have a fairly large csv file (700mb) which  is assembled as follows:</p>\n\n<pre>\nqCode   Date    Value\n\nA_EVENTS    11/17/2014  202901\n\nA_EVENTS    11/4/2014   801\n\nA_EVENTS    11/3/2014   2.02E+14\n\nA_EVENTS    10/17/2014  203901\n\n\netc. \n</pre>\n\n<p>I am parsing this file to get specific  values, and then using DF.loc to populate a pre-existing DataFrame, i.e. the code:</p>\n\n<p>for line in fileParse:</p>\n\n<pre><code>code=line[0]\n\nfor point in fields:\n    if(point==code[code.find('_')+1:len(code)]):\n        date=line[1]\n        year,quarter=quarter_map(date)\n        value=float(line[2])\n        pos=line[0].find('_')\n        ticker=line[0][0:pos]\n\n        i=ticker+str(int(float(year)))+str(int(float(quarter)))\n        df.loc[i,point]=value\n\n    else:\n        pass\n</code></pre>\n\n<p>the question I have is .loc the most efficient way to add values to a existing DataFrame? As this operation seems to take over 10 hours...</p>\n\n<p>fyi fields are the col that are in the DF (values i'm interested in) and the index (i) is a string...</p>\n\n<p>thanks</p>\n"}, {"tags": ["python", "oop", "inheritance", "super", "siblings"], "comments": [{"owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1421280613, "post_id": 27954695, "comment_id": 44304578, "body": "I don&#39;t have time to write a full answer, but I think the docs are referring to multiple inheritance. If class C inherits from both A and B then you could consider A and B to be &#39;siblings&#39; in some sense. <code>super()</code> calls in the body of A on an instance of C will delegate to B. See <a href=\"http://stackoverflow.com/questions/3277367/how-does-pythons-super-work-with-multiple-inheritance\">this question</a> for the low-down."}, {"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 1, "creation_date": 1421280697, "post_id": 27954695, "comment_id": 44304608, "body": "The accepted answer to this question here explains the details of how <code>super()</code> can indeed call parent but also sibling classes: <a href=\"http://stackoverflow.com/questions/5033903/python-super-method-and-calling-alternatives\" title=\"python super method and calling alternatives\">stackoverflow.com/questions/5033903/&hellip;</a>"}, {"owner": {"reputation": 1403, "user_id": 1027946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6mHjN.jpg?s=128&g=1", "display_name": "golem", "link": "https://stackoverflow.com/users/1027946/golem"}, "reply_to_user": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1421280878, "post_id": 27954695, "comment_id": 44304672, "body": "@SimeonVisser, I&#39;ve seen that question, even starred it. It doesn&#39;t give a clear answer to what a sibling class is. This question is related to that one, but clearly isn&#39;t a duplicate."}, {"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1421314286, "post_id": 27954695, "comment_id": 44314254, "body": "@golem: well, in that example you can see a case where <code>super()</code> calls a sibling class instead of the parent class (both <code>B</code> and <code>C</code> are children of <code>A</code>). A sibling class indeed means what you think it means: two classes that have the same parent class and thus they&#39;re siblings. <code>super()</code> can call parent classes as well as sibling classes. Hope this helps - if not please let me know."}, {"owner": {"reputation": 1403, "user_id": 1027946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6mHjN.jpg?s=128&g=1", "display_name": "golem", "link": "https://stackoverflow.com/users/1027946/golem"}, "reply_to_user": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1421339552, "post_id": 27954695, "comment_id": 44329176, "body": "@SimeonVisser, please unmark the question as duplicate so I can move my answer from the question body to an answer. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 1403, "user_id": 1027946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6mHjN.jpg?s=128&g=1", "display_name": "golem", "link": "https://stackoverflow.com/users/1027946/golem"}, "edited": false, "score": 0, "creation_date": 1421342376, "post_id": 27968762, "comment_id": 44331077, "body": "Thanks, I&#39;ve come to the same conclusion. I think the more precise definition would be <i>parent&#39;s sibling which is also a base class of a given child</i> - the definition I used in my own answer."}, {"owner": {"reputation": 17066, "user_id": 1135948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5edf3c92c5e52ed83cbd5ebd98f4c18d?s=128&d=identicon&r=PG", "display_name": "lmm", "link": "https://stackoverflow.com/users/1135948/lmm"}, "reply_to_user": {"reputation": 1403, "user_id": 1027946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6mHjN.jpg?s=128&g=1", "display_name": "golem", "link": "https://stackoverflow.com/users/1027946/golem"}, "edited": false, "score": 0, "creation_date": 1421342427, "post_id": 27968762, "comment_id": 44331109, "body": "No, that&#39;s not an accurate definition. <code>B</code> is not a <i>parent&#39;s sibling</i> of <code>C</code>. It&#39;s a <i>sibling</i> of <code>C</code>."}, {"owner": {"reputation": 1403, "user_id": 1027946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6mHjN.jpg?s=128&g=1", "display_name": "golem", "link": "https://stackoverflow.com/users/1027946/golem"}, "edited": false, "score": 0, "creation_date": 1421342671, "post_id": 27968762, "comment_id": 44331246, "body": "B is a first parent, C is a second parent. B and C are siblings. In <i>parent&#39;s sibling which is also a base class of a given child</i> substitute and you&#39;ll get: B&#39;s sibling which is also a base class of D. That is C =)."}, {"owner": {"reputation": 17066, "user_id": 1135948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5edf3c92c5e52ed83cbd5ebd98f4c18d?s=128&d=identicon&r=PG", "display_name": "lmm", "link": "https://stackoverflow.com/users/1135948/lmm"}, "reply_to_user": {"reputation": 1403, "user_id": 1027946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6mHjN.jpg?s=128&g=1", "display_name": "golem", "link": "https://stackoverflow.com/users/1027946/golem"}, "edited": false, "score": 0, "creation_date": 1421360352, "post_id": 27968762, "comment_id": 44340869, "body": "<code>B</code> is not a parent <i>in <code>C</code></i>, which is what&#39;s calling <code>super</code> and getting <code>B</code>."}], "tags": [], "owner": {"reputation": 17066, "user_id": 1135948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5edf3c92c5e52ed83cbd5ebd98f4c18d?s=128&d=identicon&r=PG", "display_name": "lmm", "link": "https://stackoverflow.com/users/1135948/lmm"}, "is_accepted": false, "score": 3, "last_activity_date": 1421340903, "creation_date": 1421340903, "answer_id": 27968762, "question_id": 27954695, "link": "https://stackoverflow.com/questions/27954695/what-is-a-sibling-class-in-python/27968762#27968762", "title": "What is a sibling class in Python?", "body": "<p>A sibling is a class with the same parent, as you suspected. The case you're missing is that <code>super</code> could call a sibling method <em>if this class itself is being multiply inherited from</em>:</p>\n\n<pre><code>class A(object):\n  def something(self):\n    print(\"A\")\nclass B(A):\n  def something(self):\n    print(\"B\")\nclass C(A):\n  def something(self):\n    print(\"C, about to call super()\")\n    super(C, self).something()\nclass D(C, B):\n  def something(self):\n    super(D, self).something()\n\n&gt;&gt;&gt; D().something()\nC, about to call super()\nB\n</code></pre>\n\n<p>In <code>C</code>, we called <code>super()</code>, but we got <code>B</code> - which is a sibling, <em>not</em> a parent and <em>not</em> the parent of a sibling, but an actual direct sibling of <code>C</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 11923, "user_id": 1577947, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f343750acd1f96953260b47c705582d9?s=128&d=identicon&r=PG", "display_name": "Jarad", "link": "https://stackoverflow.com/users/1577947/jarad"}, "edited": false, "score": 0, "creation_date": 1581639400, "post_id": 27968913, "comment_id": 106514184, "body": "So <code>ClassA</code> and <code>ClassB</code> are considered &quot;sibling&quot; classes because they both inherit from <code>Class0</code>? I&#39;m having trouble understanding why <code>ClassB</code> comes <b>after</b> <code>ClassA</code> when the MRO is printed."}, {"owner": {"reputation": 600, "user_id": 187322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3edc6a6814f337cc7c710663f558f04?s=128&d=identicon&r=PG", "display_name": "David M", "link": "https://stackoverflow.com/users/187322/david-m"}, "edited": false, "score": 0, "creation_date": 1587496043, "post_id": 27968913, "comment_id": 108533558, "body": "I was exceptionally confused by this MRO, because the Python documentation for Classes says that MRO is &quot;depth-first, left-to-right&quot; - this implies &quot;MethodA of Class0&quot; should be printed first.  Turns out Python has another rule which basically says an ancestor class (eg Class0) cannot be chosen to resolve a method call if there is a descendant of Class0 later in the MRO that could resolve the call.  This is called the &quot;good head&quot; rule and ensures that the most specific (re-)definition of the method takes precedence."}], "tags": [], "owner": {"reputation": 1403, "user_id": 1027946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6mHjN.jpg?s=128&g=1", "display_name": "golem", "link": "https://stackoverflow.com/users/1027946/golem"}, "is_accepted": true, "score": 11, "last_activity_date": 1421341477, "creation_date": 1421341477, "answer_id": 27968913, "question_id": 27954695, "link": "https://stackoverflow.com/questions/27954695/what-is-a-sibling-class-in-python/27968913#27968913", "title": "What is a sibling class in Python?", "body": "<p>After some further research and reading <a href=\"https://rhettinger.wordpress.com/2011/05/26/super-considered-super/\" rel=\"noreferrer\">Python\u2019s super() considered super!</a> article I came to the following conclusions:</p>\n\n<ol>\n<li><p>A sibling class is what I was thinking it was. It is a class that inherits from the same parent. It is the definition of the Python documentation that threw me off the course. It seems that when Python documentation says <em>delegates method calls to a parent or sibling class</em> it means <em>to a parent or parent's sibling which is also a base class of a given child</em>. That is a diamond inheritance must take place.</p></li>\n<li><p><code>super()</code> function delegates a method call to a <strong>parent's</strong> sibling class automatically based on MRO (method resolution order).</p></li>\n</ol>\n\n<p>Here's an interesting case I found while experimenting with <code>super()</code> function:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Class0(object):\n    def MethodA(self):\n        print(\"MethodA of Class0\")\n\nclass ClassA(Class0):\n    def MethodA(self):\n        super(ClassA, self).MethodA()\n        print(\"MethodA of ClassA\")\n\nclass ClassB(Class0):\n    def MethodA(self):\n        print(\"MethodA of ClassB\")\n\nclass ClassC(ClassA, ClassB):\n    def MethodA(self):\n        super(ClassC, self).MethodA()\n\nif __name__ == '__main__':\n    ClassC().MethodA()\n</code></pre>\n\n<p>The code will print</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>MethodA of ClassB\nMethodA of ClassA\n</code></pre>\n\n<p>If you as me wonder why <em>MethodA of Class0</em> never gets printed, here is the explanation as I understand it. The MRO of the ClassC as printed with <code>print(ClassC.__mro__)</code> is </p>\n\n<p><code>(&lt;class '__main__.ClassC'&gt;, &lt;class '__main__.ClassA'&gt;, &lt;class '__main__.ClassB'&gt;, &lt;class '__main__.Class0'&gt;, &lt;class 'object'&gt;)</code>. </p>\n\n<p>Now if you follow the MRO the super() function of MethodA() of ClassC will call the MethodA() of ClassA, which before printing will call MethodA() of classB (since it's next in MRO). And the MethodA() of ClassB in its turn will just print and exit since it doesn't use super() function to delegate the method call further up the MRO chain.</p>\n"}], "owner": {"reputation": 1403, "user_id": 1027946, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6mHjN.jpg?s=128&g=1", "display_name": "golem", "link": "https://stackoverflow.com/users/1027946/golem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4868, "favorite_count": 7, "accepted_answer_id": 27968913, "answer_count": 2, "score": 12, "last_activity_date": 1421341523, "creation_date": 1421279960, "last_edit_date": 1421341523, "question_id": 27954695, "link": "https://stackoverflow.com/questions/27954695/what-is-a-sibling-class-in-python", "title": "What is a sibling class in Python?", "body": "<p>Python 2 documentation says that <a href=\"https://docs.python.org/2/library/functions.html#super\" rel=\"noreferrer\">super()</a> function <em>\"returns a proxy object that delegates method calls to a parent or sibling class of type.\"</em></p>\n\n<p>The questions:</p>\n\n<ol>\n<li>What is a sibling class in Python?</li>\n<li>How do you delegate a method call to a sibling class?</li>\n</ol>\n\n<p>My presumption was that a sibling for a given class is a class that inherits from the same parent. I drafted the following code to see how a method call can be delegated to a sibling, but it didn't work. What do I do or understand wrong?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class ClassA(object):\n    def MethodA(self):\n        print \"MethodA of ClassA\"\n\nclass ClassB(ClassA):\n    def MethodB(self):\n        print \"MethodB of ClassB\"\n\nclass ClassC(ClassA):\n    def MethodA(self):\n        super(ClassC, self).MethodA()\n\n    def MethodB(self):\n        super(ClassC, self).MethodB()\n\nif __name__ == '__main__':\n    ClassC().MethodA() # Works as expected\n\n    # Fail while trying to delegate method to a sibling.\n    ClassC().MethodB() # AttirbuteError: 'super' object has no attribute 'MethodB'\n</code></pre>\n"}, {"tags": ["python", "web-scraping", "scrapy", "web-crawler", "local"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1421280065, "last_edit_date": 1495535485, "creation_date": 1421280065, "answer_id": 27954709, "question_id": 27954677, "link": "https://stackoverflow.com/questions/27954677/crawling-local-files-with-scrapy-without-an-active-project/27954709#27954709", "title": "Crawling local files with Scrapy without an active project?", "body": "<p>As an option, you can <em>run Scrapy from a script</em>, here is a <a href=\"https://gist.github.com/alecxe/fc1527d6d9492b59c610\" rel=\"nofollow noreferrer\">self-contained example script</a> and the <a href=\"https://stackoverflow.com/a/27744766/771848\">overview</a> of the approach used.</p>\n\n<p>This doesn't mean you have to put everything in one file. You can still have <code>spider.py</code>, <code>items.py</code>, <code>pipelines.py</code> - just import them correctly in the script you start crawling from.</p>\n"}], "owner": {"reputation": 1453, "user_id": 2175846, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2a98ad5920c8e1c26c92f9310116a4d9?s=128&d=identicon&r=PG&f=1", "display_name": "false_azure", "link": "https://stackoverflow.com/users/2175846/false-azure"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1533, "favorite_count": 0, "accepted_answer_id": 27954709, "answer_count": 1, "score": 1, "last_activity_date": 1421281128, "creation_date": 1421279851, "last_edit_date": 1495541438, "question_id": 27954677, "link": "https://stackoverflow.com/questions/27954677/crawling-local-files-with-scrapy-without-an-active-project", "title": "Crawling local files with Scrapy without an active project?", "body": "<p>Is it possible to crawl local files with Scrapy 0.18.4 without having an active project? I've seen <a href=\"https://stackoverflow.com/questions/19385837/python-scrapy-on-offline-local-data\">this</a> answer and it looks promising, but to use the <code>crawl</code> command you need a project.</p>\n\n<p>Alternatively, is there an easy/minimalist way to set up a project for an existing spider? I have my spider, pipelines, middleware, and items defined in one Python file. I've created a scrapy.cfg file with only the project name. This lets me use <code>crawl</code>, but since I don't have a spiders folder Scrapy can't find my spider. Can I point Scrapy to the right directory, or do I need to split my items, spider, etc. up into separate files?</p>\n\n<p>[edit] I forgot to say that I'm running the spider using <code>Crawler.crawl(my_spider)</code> - ideally I'd still like to be able to run the spider like that, but can run it in a subprocess from my script if that's not possible.</p>\n\n<p>Turns out the suggestion in the answer I linked does work - <a href=\"http://localhost:8000\" rel=\"nofollow noreferrer\">http://localhost:8000</a> can be used as a start_url, so there's no need for a project.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1421279748, "post_id": 27954585, "comment_id": 44304302, "body": "<code>is</code> is the identity operator. For example <code>a = []; a is a</code> returns <code>True</code>. <code>for i in lst</code> iterates on values, not on indexes. (<code>1, 2, 3</code>, not <code>0, 1, 2</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": false, "score": 3, "last_activity_date": 1421279600, "last_edit_date": 1592644375, "creation_date": 1421279291, "answer_id": 27954589, "question_id": 27954585, "link": "https://stackoverflow.com/questions/27954585/variable-functions-as-a-list-but-isnt-technically-a-list-python/27954589#27954589", "title": "Variable functions as a list but isn&#39;t technically a list? [Python]", "body": "<p>the list index out of range is because <code>thelist[3]</code> is not an allowed thing to call.</p>\n<p>the <code>for</code> loop is trying to print <code>thelist[i]</code> for each <code>i</code> in <code>thelist</code>.  In this case <code>thelist</code> has <code>1</code>, <code>2</code>, and <code>3</code>.  So it's trying to print <code>thelist[1]</code> (which is 2), <code>thelist[2]</code> (which is 3), and then <code>thelist[3]</code> which is undefined.</p>\n<p>A bit more detail:</p>\n<pre><code>thelist = ['puppy', 1, 'dog']\nfor i in thelist:\n    print i\n</code></pre>\n<p>gives</p>\n<blockquote>\n<p>puppy</p>\n<p>1</p>\n<p>dog</p>\n</blockquote>\n<p>as for <code>thelist is list</code>, instead try <code>type(thelist)</code>.  The type of <code>thelist</code> is <code>list</code>.  So testing whether <code>thelist</code> <em>is</em> <code>list</code> (that is it is the class of things which we call list) rather than is a <code>list</code> (that is it is an example of the list class) will return <code>False</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 2, "creation_date": 1421279632, "post_id": 27954615, "comment_id": 44304262, "body": "even better: <code>for v in thelist:  print v</code>"}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 1, "creation_date": 1421279797, "post_id": 27954615, "comment_id": 44304318, "body": "@Joel You provided this answer, so why should I copy it. I provide alternative answer."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1421280331, "post_id": 27954615, "comment_id": 44304471, "body": "I think it would be better to have the three versions in the same place, rather than 2 and expect OP to notice the third in my answer - might get skipped over since my answer might be &quot;too long&quot;.  Anyways, no hopefully no offense caused."}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": false, "score": 0, "last_activity_date": 1421279477, "creation_date": 1421279477, "answer_id": 27954615, "question_id": 27954585, "link": "https://stackoverflow.com/questions/27954585/variable-functions-as-a-list-but-isnt-technically-a-list-python/27954615#27954615", "title": "Variable functions as a list but isn&#39;t technically a list? [Python]", "body": "<p>If you want to interate over a list using indices, than you should do as follows:</p>\n\n<pre><code>for i,v in enumerate(thelist):\n    print(thelist[i])\n</code></pre>\n\n<p>Or alternatively:</p>\n\n<pre><code>for i in range(len(thelist)):\n    print(thelist[i])  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "is_accepted": false, "score": 0, "last_activity_date": 1421279486, "creation_date": 1421279486, "answer_id": 27954617, "question_id": 27954585, "link": "https://stackoverflow.com/questions/27954585/variable-functions-as-a-list-but-isnt-technically-a-list-python/27954617#27954617", "title": "Variable functions as a list but isn&#39;t technically a list? [Python]", "body": "<p>in python the default indexing strart from <code>0</code> and ends to its lenght-1</p>\n\n<p>so thelist=d[foo] ie <code>[1,2,3]</code> will have index <code>0,1,2</code></p>\n\n<pre><code>for i in thelist:     # here i the element of list not index\n    print thelist[i]\n\n\nfor i in range(len(thelist)):   # here i the index of list\n    print thelist[i]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1290, "user_id": 923871, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Gs6mI.jpg?s=128&g=1", "display_name": "Riccardo", "link": "https://stackoverflow.com/users/923871/riccardo"}, "is_accepted": false, "score": 0, "last_activity_date": 1421280106, "last_edit_date": 1421280106, "creation_date": 1421279775, "answer_id": 27954663, "question_id": 27954585, "link": "https://stackoverflow.com/questions/27954585/variable-functions-as-a-list-but-isnt-technically-a-list-python/27954663#27954663", "title": "Variable functions as a list but isn&#39;t technically a list? [Python]", "body": "<pre><code>for l1 in thelist:\n   print l1\n</code></pre>\n\n<p>you get:</p>\n\n<pre><code>1\n2\n3\n</code></pre>\n\n<p>in your code you're trying to access list using the list elements as index. Instead, to iterate over list' indexes, you should use <code>range(len(theList))</code>(from <code>0</code> to <code>len(theList) -1</code>) or <code>reversed(range(len(theList))</code> (from <code>len(theList) -1</code> to <code>0</code>).</p>\n\n<p>to check if a variable is a list use <code>types</code></p>\n\n<pre><code>import types\nx = [1,2,3]\nif type(x) is types.ListType:\n    print 'x is a list'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4202745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cb5601539e2a12bc230ad624036da14?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/4202745/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1421280321, "creation_date": 1421280321, "answer_id": 27954748, "question_id": 27954585, "link": "https://stackoverflow.com/questions/27954585/variable-functions-as-a-list-but-isnt-technically-a-list-python/27954748#27954748", "title": "Variable functions as a list but isn&#39;t technically a list? [Python]", "body": "<p>Each time you go through the for loop, i is set to one of the items in the list.</p>\n\n<p>You'll also want to use the type() function to compare the types of thelist and a list (really []).</p>\n\n<pre><code>d={'foo':[1,2,3]}\nthelist = d['foo']\nfor i in thelist:\n    print i\n\nprint type(thelist)\nprint type(thelist) is type([])\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>1\n2\n3\n&lt;type 'list'&gt;\nTrue\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 2669652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H0h1h.png?s=128&g=1", "display_name": "MpegEVIL", "link": "https://stackoverflow.com/users/2669652/mpegevil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1421280321, "creation_date": 1421279234, "question_id": 27954585, "link": "https://stackoverflow.com/questions/27954585/variable-functions-as-a-list-but-isnt-technically-a-list-python", "title": "Variable functions as a list but isn&#39;t technically a list? [Python]", "body": "<p>I'm pulling a list from a dictionary like so:</p>\n\n<pre><code>d={foo:[1,2,3]}\nthelist=d[foo]\n</code></pre>\n\n<p>I'm able to get items from indexes of thelist but not like this:</p>\n\n<pre><code>for i in thelist:\n    print thelist[i]\n</code></pre>\n\n<p>I get an error saying the \"list index is out of range\"</p>\n\n<p>Additionally, when I run</p>\n\n<pre><code>thelist is list\n</code></pre>\n\n<p>it returns False</p>\n\n<p>whats going on here</p>\n"}, {"tags": ["python", "python-3.x", "statsmodels"], "answers": [{"comments": [{"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1421766373, "post_id": 27955026, "comment_id": 44479332, "body": "update: scipy 0.15.1 has been released which fixes the backwards compatibility problem, and released versions of statsmodels should work using scipy 0.15.1."}], "tags": [], "owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "is_accepted": false, "score": 1, "last_activity_date": 1421282157, "creation_date": 1421282157, "answer_id": 27955026, "question_id": 27954504, "link": "https://stackoverflow.com/questions/27954504/cannot-import-statsmodels-api-due-to-scipy-import-error/27955026#27955026", "title": "Cannot import statsmodels.api due to scipy import error", "body": "<p>This is a current bug. Please see <a href=\"https://github.com/statsmodels/statsmodels/issues/2184\" rel=\"nofollow\">here</a> for more details. You can downgrade scipy to 0.14 or update statmodels to master.</p>\n"}, {"tags": [], "owner": {"reputation": 418, "user_id": 7430988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b59a823ea64c8aadabc1b9b0912e776?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7430988/abhishek"}, "is_accepted": false, "score": 0, "last_activity_date": 1546668822, "creation_date": 1546668822, "answer_id": 54049486, "question_id": 27954504, "link": "https://stackoverflow.com/questions/27954504/cannot-import-statsmodels-api-due-to-scipy-import-error/54049486#54049486", "title": "Cannot import statsmodels.api due to scipy import error", "body": "<p>For me, this problem occured when I was using Python 2(2.7.12).\nIt worked fine with python3 (3.6.3)</p>\n"}], "owner": {"reputation": 736, "user_id": 4317363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/36de5dfa781f22965f225c6f88a93824?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/4317363/asdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1621, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1546668822, "creation_date": 1421278810, "question_id": 27954504, "link": "https://stackoverflow.com/questions/27954504/cannot-import-statsmodels-api-due-to-scipy-import-error", "title": "Cannot import statsmodels.api due to scipy import error", "body": "<p>For <code>import statsmodels.api</code>\nI get </p>\n\n<pre><code> File \"C:\\Users\\Saul Ramirez\\AppData\\Local\\Continuum\\Anaconda3\\lib\\site-packages\\statsmodels\\tools\\linalg.py\", line 23, in &lt;module&gt;\n    from scipy.linalg import calc_lwork\n\nImportError: cannot import name 'calc_lwork'\n</code></pre>\n\n<p>When I check the directory above, the module calc_lwork is not in scipy.linalg.<br>\nWhen I check the scipy master branch on github, calc_lwork is not in scipy.linalg.<br>\nDid I install/build something incorrectly? </p>\n\n<p>I am using the latest statsmodels and scipy, Spyder (Python 3.4)</p>\n"}, {"tags": ["python", "string", "pandas", "dataframe", "web-scraping"], "comments": [{"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1555840902, "post_id": 27954343, "comment_id": 98234443, "body": "Tagged <a href=\"https://stackoverflow.com/questions/tagged/web-scraping\">web-scraping</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1421281216, "creation_date": 1421281216, "answer_id": 27954893, "question_id": 27954343, "link": "https://stackoverflow.com/questions/27954343/how-to-use-str-replace-method-on-all-columns-in-a-scraped-pandas-dataframe/27954893#27954893", "title": "How to use `str.replace()` method on all columns in a scraped Pandas dataframe?", "body": "<p>For data analyisys it make sense to use <code>float</code> instead of <code>string</code> entries. So you could write a function which tries to convert each entry:</p>\n\n<pre><code>def f(s):\n    \"\"\" convert string to float if possible \"\"\"\n    s = s.strip()  # remove spaces at beginning and end of string\n    if s.endswith('%'):  # remove %, if exists\n        s = s[:-1]\n    try:\n        return float(s)\n    except ValueError: # converting did not work\n        return s  # return original string\n\nlf2 = letter_freq_all.applymap(f)  # convert all entries \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 4364054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/agpGe.png?s=128&g=1", "display_name": "Rini Parekh", "link": "https://stackoverflow.com/users/4364054/rini-parekh"}, "edited": false, "score": 0, "creation_date": 1421290411, "post_id": 27954954, "comment_id": 44306902, "body": "Thank you, meloncholy! I tried your code and it worked. :) I was wondering if you could explain more in detail how your code works. It looks like you converted all the string values with the percent signs to nan type. I guess I&#39;m just a bit confused about how this line of code is able to convert from nan to float. I haven&#39;t really seen this syntax before      .replace({r&#39;[^0-9\\.]&#39;: &#39;&#39;, &#39;&#39;: np.nan}, regex=True)"}, {"owner": {"reputation": 1952, "user_id": 648802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/337f9b142f397d8dad911494c1caac1d?s=128&d=identicon&r=PG", "display_name": "meloncholy", "link": "https://stackoverflow.com/users/648802/meloncholy"}, "reply_to_user": {"reputation": 33, "user_id": 4364054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/agpGe.png?s=128&g=1", "display_name": "Rini Parekh", "link": "https://stackoverflow.com/users/4364054/rini-parekh"}, "edited": false, "score": 0, "creation_date": 1421306558, "post_id": 27954954, "comment_id": 44310958, "body": "It&#39;s possible to give pandas&#39; <a href=\"http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.replace.html\" rel=\"nofollow noreferrer\">replace</a> a dict of from (keys) and to (values) pairs. So here, I replaced anything that wasn&#39;t a number with &#39;&#39; in each value and, separately, replaced empty strings with <code>nan</code>. It&#39;s (kinda) equivalent to <code>.replace(r&#39;[^0-9\\.]&#39;, &#39;&#39;, regex=True).replace(&#39;&#39;, np.nan)</code>."}, {"owner": {"reputation": 1952, "user_id": 648802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/337f9b142f397d8dad911494c1caac1d?s=128&d=identicon&r=PG", "display_name": "meloncholy", "link": "https://stackoverflow.com/users/648802/meloncholy"}, "reply_to_user": {"reputation": 33, "user_id": 4364054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/agpGe.png?s=128&g=1", "display_name": "Rini Parekh", "link": "https://stackoverflow.com/users/4364054/rini-parekh"}, "edited": false, "score": 0, "creation_date": 1421307228, "post_id": 27954954, "comment_id": 44311199, "body": "Nans are of type float. I changed empty cells to floats so I could convert every cell to a float using <code>astype</code> (as I only had numbers-as-strings or nans by that point)."}], "tags": [], "owner": {"reputation": 1952, "user_id": 648802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/337f9b142f397d8dad911494c1caac1d?s=128&d=identicon&r=PG", "display_name": "meloncholy", "link": "https://stackoverflow.com/users/648802/meloncholy"}, "is_accepted": false, "score": 1, "last_activity_date": 1421281681, "creation_date": 1421281681, "answer_id": 27954954, "question_id": 27954343, "link": "https://stackoverflow.com/questions/27954343/how-to-use-str-replace-method-on-all-columns-in-a-scraped-pandas-dataframe/27954954#27954954", "title": "How to use `str.replace()` method on all columns in a scraped Pandas dataframe?", "body": "<p>Think this works. I've used panda's <a href=\"http://pandas.pydata.org/pandas-docs/stable/basics.html#matching-broadcasting-behavior\" rel=\"nofollow\">broadcasting capabilities</a> to replace values in 1 column (actually several columns) at once.</p>\n\n<pre><code># Ignore first col with letters in it.\ncols = letter_freq_all.columns[1:]\n\n# Replace the columns `cols` in the DF\nletter_freq_all[cols] = (\n    letter_freq_all[cols]\n    # Replace things that aren't numbers and change any empty entries to nan\n    # (to allow type conversion)\n    .replace({r'[^0-9\\.]': '', '': np.nan}, regex=True)\n    # Change to float and convert from %s\n    .astype(np.float64) / 100\n)\n\nletter_freq_all.head()\n\n\n Letter  French [14]  German [15]  Spanish [16]  Portuguese [17]  ...\n0      a      0.07636      0.06516       0.11525          0.14634   \n1      b      0.00901      0.01886       0.02215          0.01043   \n2      c      0.03260      0.02732       0.04019          0.03882   \n3      d      0.03669      0.05076       0.05510          0.04992   \n4      e      0.14715      0.16396       0.12681          0.11570 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 4460115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b3a4a90062f453306b386f445cf8b63?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Bartos", "link": "https://stackoverflow.com/users/4460115/matt-bartos"}, "is_accepted": true, "score": 2, "last_activity_date": 1421379929, "creation_date": 1421379929, "answer_id": 27976997, "question_id": 27954343, "link": "https://stackoverflow.com/questions/27954343/how-to-use-str-replace-method-on-all-columns-in-a-scraped-pandas-dataframe/27976997#27976997", "title": "How to use `str.replace()` method on all columns in a scraped Pandas dataframe?", "body": "<p>The most succinct way to accomplish your goal is to use the str.replace() method with regular expressions:</p>\n\n<p>1) Rename columns:</p>\n\n<pre><code>letter_freq_all.columns = pd.Series(letter_freq_all.columns).str.replace('\\[\\d+\\]', '').str.strip()\n</code></pre>\n\n<p>2) Replace asterisks and percent signs and convert to decimal fraction:</p>\n\n<pre><code>letter_freq_all.apply(lambda x: x.str.replace('[%*]', '').astype(float)/100, axis=1)\n</code></pre>\n\n<p>In this case, apply() performs the str.replace() method on each column. </p>\n\n<p>Learn more about regex metacharacters here:</p>\n\n<p><a href=\"https://www.hscripts.com/tutorials/regular-expression/metacharacter-list.php\" rel=\"nofollow\">https://www.hscripts.com/tutorials/regular-expression/metacharacter-list.php</a></p>\n"}], "owner": {"reputation": 33, "user_id": 4364054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/agpGe.png?s=128&g=1", "display_name": "Rini Parekh", "link": "https://stackoverflow.com/users/4364054/rini-parekh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5644, "favorite_count": 1, "accepted_answer_id": 27976997, "answer_count": 3, "score": 3, "last_activity_date": 1555840768, "creation_date": 1421277844, "last_edit_date": 1555840768, "question_id": 27954343, "link": "https://stackoverflow.com/questions/27954343/how-to-use-str-replace-method-on-all-columns-in-a-scraped-pandas-dataframe", "title": "How to use `str.replace()` method on all columns in a scraped Pandas dataframe?", "body": "<p>I'm a Python/Pandas beginner in data analysis. I am trying to import(/scrape) a table from a Wikipedia article on letter frequency, clean it, and turn it into a data frame. </p>\n\n<p>Here's the code I used to turn the table into a dataframe called <code>letter_freq_all</code>:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nletter_freq_all = pd.read_html('http://en.wikipedia.org/wiki/Letter_frequency', header=0)[4]\nletter_freq_all\n</code></pre>\n\n<p>I want to clean the data and properly format it for data analysis:</p>\n\n<ul>\n<li>I want to remove the square brackets with numbers from the column names and make sure there is no whitespace padding on either side</li>\n<li>I also want to remove the percent signs and any asterisks from each column so I can convert each of the columns to a float type.</li>\n<li>So far, I have unsuccessfully attempted to remove the % signs from all of the columns. </li>\n</ul>\n\n<p>This is the code I tried:</p>\n\n<pre><code>letter_freq_all2 = [str.replace(i,'%','') for i in letter_freq_all]\n</code></pre>\n\n<p>Instead of getting a new dataframe that does not have any % signs, I just got a list of all the columns in letter_freq_all: </p>\n\n<pre><code>['Letter','French [14]','German [15]','Spanish [16]','Portuguese [17]','Esperanto  [18]','Italian[19]','Turkish[20]','Swedish[21]','Polish[22]','Dutch [23]','Danish[24]','Icelandic[25]','Finnish[26]','Czech']\n</code></pre>\n\n<p>Then I tried getting rid of the % sign in just one column:</p>\n\n<pre><code>letter_freq_all3 = [str.replace(i,'%','') for i in letter_freq_all['Italian[19]']]**\n</code></pre>\n\n<p>When I did this, the <code>str.replace</code> method sort of worked - I got a list which did not have any <code>%</code> signs (I was expecting to get a series). </p>\n\n<p><strong>So, how can I get rid of the <code>%</code> sign in all of the columns in my dataframe <code>letter_freq_all</code>? Also, how can I get rid of all the brackets and extra white space padding from all of the columns? I'm guessing I might have to use the <code>.split()</code> method</strong> </p>\n"}, {"tags": ["python", "datetime", "pandas", "time-series"], "answers": [{"tags": [], "owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "is_accepted": false, "score": 0, "last_activity_date": 1421278823, "creation_date": 1421278823, "answer_id": 27954506, "question_id": 27954248, "link": "https://stackoverflow.com/questions/27954248/python-2-7-pandas-how-to-replace-values-at-1200-with-values-from-1155/27954506#27954506", "title": "Python 2.7 &amp; Pandas: How to replace values at 12:00 with values from 11:55?", "body": "<p>You can do it like this:</p>\n\n<pre><code>import datetime\n\ntimes = ts.index.time\nts[times==datetime.time(19, 40)] = ts[times==datetime.time(19, 35)].values\n</code></pre>\n"}], "owner": {"reputation": 3493, "user_id": 1367204, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eb24ce2c5d3ff481ac1ecba67ff51039?s=128&d=identicon&r=PG", "display_name": "user1367204", "link": "https://stackoverflow.com/users/1367204/user1367204"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421278823, "creation_date": 1421277380, "question_id": 27954248, "link": "https://stackoverflow.com/questions/27954248/python-2-7-pandas-how-to-replace-values-at-1200-with-values-from-1155", "title": "Python 2.7 &amp; Pandas: How to replace values at 12:00 with values from 11:55?", "body": "<p>I have a timeseries. The index is a type datetimeindex. The values are random values. </p>\n\n<p>Timeseries I have:</p>\n\n<pre><code>2015-01-02 19:30:00-05:00    61\n2015-01-02 19:35:00-05:00    63\n2015-01-02 19:40:00-05:00    65\n2015-01-05 19:30:00-05:00    38\n2015-01-05 19:35:00-05:00    39\n2015-01-05 19:40:00-05:00    34\n2015-01-06 19:30:00-05:00    17\n2015-01-06 19:35:00-05:00    18\n2015-01-06 19:40:00-05:00    15\n</code></pre>\n\n<p>How do I explicitly say 'replace the values at 19:40:00 with the values at 19:35:00?</p>\n\n<p>Timeseries I want:</p>\n\n<pre><code>2015-01-02 19:30:00-05:00    61\n2015-01-02 19:35:00-05:00    63\n2015-01-02 19:40:00-05:00    63\n2015-01-05 19:30:00-05:00    38\n2015-01-05 19:35:00-05:00    39\n2015-01-05 19:40:00-05:00    39\n2015-01-06 19:30:00-05:00    17\n2015-01-06 19:35:00-05:00    18\n2015-01-06 19:40:00-05:00    18\n</code></pre>\n"}, {"tags": ["python", "web.py"], "answers": [{"tags": [], "owner": {"reputation": 2486, "user_id": 2255594, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vrBrq.jpg?s=128&g=1", "display_name": "Geraint Anderson", "link": "https://stackoverflow.com/users/2255594/geraint-anderson"}, "is_accepted": true, "score": 0, "last_activity_date": 1421351819, "creation_date": 1421351819, "answer_id": 27971921, "question_id": 27954230, "link": "https://stackoverflow.com/questions/27954230/webpy-template-with-session-threadeddict-error/27971921#27971921", "title": "webpy template with session - ThreadedDict error", "body": "<p>I have finally figured this one out.  Sessions.username doesn't exist by default and needs to be defined.  I used the initializer to set it.</p>\n\n<pre><code>session = web.session.Session(app, web.session.DiskStore('sessions'), initializer={'username': 'test_user'})\n</code></pre>\n"}], "owner": {"reputation": 2486, "user_id": 2255594, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vrBrq.jpg?s=128&g=1", "display_name": "Geraint Anderson", "link": "https://stackoverflow.com/users/2255594/geraint-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 27971921, "answer_count": 1, "score": 0, "last_activity_date": 1421351819, "creation_date": 1421277275, "last_edit_date": 1495540705, "question_id": 27954230, "link": "https://stackoverflow.com/questions/27954230/webpy-template-with-session-threadeddict-error", "title": "webpy template with session - ThreadedDict error", "body": "<p>I have just started using web.py and am going through the documentation.  I'm trying to use session information in a template and have followed the instructions here <a href=\"http://webpy.org/cookbook/session_in_template\" rel=\"nofollow noreferrer\">http://webpy.org/cookbook/session_in_template</a> however I get the an error ending with the following:</p>\n\n<blockquote>\n  <p>AttributeError: 'ThreadedDict' object has no attribute 'username'</p>\n  \n  <p>127.0.0.1:53865 - - [14/Jan/2015 22:55:44] \"HTTP/1.1 GET /\" - 500 Internal Server Error</p>\n</blockquote>\n\n<p>The code I'm trying to use is from this example: <a href=\"http://webpy.org/docs/0.3/sessions\" rel=\"nofollow noreferrer\">http://webpy.org/docs/0.3/sessions</a></p>\n\n<p>I have included what I have below:</p>\n\n<p>bin/login.py</p>\n\n<pre><code>import web\n\nurls = (\n    '/', 'Index',\n    '/login', 'Login',\n    '/logout', 'Logout'\n)\n\nweb.config.debug = False\napp = web.application(urls, locals())\nsession = web.session.Session(app, web.session.DiskStore('sessions'))\n\nclass Index:\n    def GET(self):\n        if session.get('logged_in', False):\n            render = web.template.render('templates', globals={'context': session})\n            return render.logout()\n        return '&lt;h1&gt;You are not logged in&lt;/h1&gt;&lt;a href=\"/login\"&gt;Login now&lt;/a&gt;'\n\nclass Login:\n    def GET(self):\n        session.logged_in = True\n        raise web.seeother('/')\n\nclass Logout:\n    def GET(self):\n        session.logged_in = False\n        raise web.seeother('/')\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n\n<p>templates/logout.html</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;span&gt;You are logged in as &lt;b&gt;$context.username&lt;/b&gt;&lt;/span&gt;\n&lt;a href=\"/logout\"&gt;Logout&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I have tried setting <code>session['username'] = 'CRC'</code> in the globals as suggested in <a href=\"https://stackoverflow.com/questions/10906963/webpy-sessions-with-templates\">WebPy Sessions with Templates</a> but I get the same problem.</p>\n\n<p>Can anyone see what's going wrong here?</p>\n\n<p>Thanks,</p>\n\n<p>Ger</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 1659, "user_id": 3216660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UhP8.png?s=128&g=1", "display_name": "TidB", "link": "https://stackoverflow.com/users/3216660/tidb"}, "edited": false, "score": 3, "creation_date": 1421276983, "post_id": 27954166, "comment_id": 44303368, "body": "Well, if you have <code>e</code> already defined, why do you need it to be returned?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 1659, "user_id": 3216660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UhP8.png?s=128&g=1", "display_name": "TidB", "link": "https://stackoverflow.com/users/3216660/tidb"}, "edited": false, "score": 1, "creation_date": 1421277216, "post_id": 27954166, "comment_id": 44303448, "body": "@TidB -- It&#39;s the first element <i>equal</i> to <code>e</code> -- objects can define their own equality in interesting ways... (whether or not they <i>should</i> is another discussion all together)"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421277365, "post_id": 27954166, "comment_id": 44303505, "body": "It seems pointless to return <code>e</code> from <code>list.remove(e)</code> because the return value would just be <code>e</code>. Perhaps you&#39;d like something that wouldn&#39;t raise a <code>ValueError</code> when e` wasn&#39;t found."}], "answers": [{"comments": [{"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 0, "creation_date": 1421277110, "post_id": 27954185, "comment_id": 44303412, "body": "To be pedantic, if you do <code>x.remove(e1)</code>, <code>e2</code> is the removed element it&#39;s possible for <code>e1 == e2</code> without <code>e1 is e2</code>, and therefore you want a particular instance of that element - of course, a system that relies on that is very questionable."}, {"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 3, "creation_date": 1421277165, "post_id": 27954185, "comment_id": 44303431, "body": "@sacma This is a valid answer to the question, the answer being that the asked-for functionality shouldn&#39;t be needed."}, {"owner": {"reputation": 1659, "user_id": 3216660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UhP8.png?s=128&g=1", "display_name": "TidB", "link": "https://stackoverflow.com/users/3216660/tidb"}, "edited": false, "score": 0, "creation_date": 1421277232, "post_id": 27954185, "comment_id": 44303454, "body": "If it&#39;s really necessary to get the value that&#39;s in the list, use <code>list.index()</code>."}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 1, "creation_date": 1421287945, "post_id": 27954185, "comment_id": 44306379, "body": "@sacma &quot;But don&#39;t do that, because that would be terrible.&quot; That&#39;s how this answer addresses the situation you&#39;re raising."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4447887"}, "reply_to_user": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1421288082, "post_id": 27954185, "comment_id": 44306406, "body": "@jpmc26 Are you walking in my profile and criticizing  me?"}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 1, "creation_date": 1421288128, "post_id": 27954185, "comment_id": 44306418, "body": "@sacma No, I&#39;m going through the Close Queue. O_o I don&#39;t know why you&#39;d even think that. As far as I know, this is my first encounter with you."}], "tags": [], "owner": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "is_accepted": true, "score": 4, "last_activity_date": 1421277339, "last_edit_date": 1421277339, "creation_date": 1421276997, "answer_id": 27954185, "question_id": 27954166, "link": "https://stackoverflow.com/questions/27954166/how-to-remove-and-return-element-in-python-list/27954185#27954185", "title": "How to remove and return element in python list", "body": "<p>I mean, there is <a href=\"https://docs.python.org/3/tutorial/datastructures.html\" rel=\"nofollow\"><code>list.remove</code></a>, yes. </p>\n\n<pre><code>&gt;&gt;&gt; x = [1,2,3]\n&gt;&gt;&gt; x.remove(1)\n&gt;&gt;&gt; x\n[2, 3]\n</code></pre>\n\n<p>I don't know why you need it to return the removed element, though. You've already passed it to <code>list.remove</code>, so you know what it is... I guess if you've overloaded <code>__eq__</code> on the objects in the list so that it doesn't actually correspond to some reasonable notion of equality, you could have problems. But don't do that, because that would be terrible.</p>\n\n<p>If you have done that terrible thing, it's not difficult to roll your own function that does this:</p>\n\n<pre><code>def remove_and_return(lst, item):\n    return lst.pop(lst.index(item))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 0, "creation_date": 1421277456, "post_id": 27954249, "comment_id": 44303535, "body": "It is, however, worth taking a look at what you are doing and asking if relying on getting a particular instance of an element considered equal to the one you have is a good design idea (it&#39;s almost definitely not)."}, {"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 0, "creation_date": 1421277536, "post_id": 27954249, "comment_id": 44303558, "body": "Also, can I suggest <code>extract()</code> as a good name for this method?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 1, "creation_date": 1421277742, "post_id": 27954249, "comment_id": 44303624, "body": "@Lattyware -- Sure you can :-).  And I described the practice of having non-equal equal things as &quot;pathological&quot;.  Admittedly, there are (very common) libraries whose objects are subject to this problem.  <code>numpy.ndarray</code> instances come to mind immediately... it&#39;s a bit sad that concessions needed to be made, but I think that the numpy devs did the right thing here since overriding <code>==</code> to return an array really makes the syntax for more common things that you do with numpy a lot nicer."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": 2, "last_activity_date": 1421277381, "creation_date": 1421277381, "answer_id": 27954249, "question_id": 27954166, "link": "https://stackoverflow.com/questions/27954166/how-to-remove-and-return-element-in-python-list/27954249#27954249", "title": "How to remove and return element in python list", "body": "<p>Is there a builtin?  No.  Probably because if you already know the element you want to remove, then why bother returning it?<sup>1</sup></p>\n\n<p>The best you can do is get the index, and then pop it.  Ultimately, this isn't such a big deal -- Chaining 2 O(n) algorithms is still O(n), so you still scale roughly the same ...</p>\n\n<pre><code>def extract(lst, item):\n    idx = lst.index(item)\n    return lst.pop(idx)\n</code></pre>\n\n<p><sup><sup>1</sup>Sure, there are pathological cases where the item returned might not be the item you already know... but they aren't important enough to warrant a new method which takes only 3 lines to write yourself :-)</sup></p>\n"}, {"comments": [{"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 0, "creation_date": 1421277489, "post_id": 27954257, "comment_id": 44303545, "body": "<code>list.pop(i)</code> returns <code>a</code>, so no need to get it separately."}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "reply_to_user": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 0, "creation_date": 1421277542, "post_id": 27954257, "comment_id": 44303562, "body": "@Lattyware: I just needed to name the value to compare it to <code>e</code> in the explaination"}, {"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 0, "creation_date": 1421277578, "post_id": 27954257, "comment_id": 44303573, "body": "I see, might want to clarify that in the answer."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1421277924, "post_id": 27954257, "comment_id": 44303692, "body": "an example where this (strange) condition could hold is it <code>e</code> and <code>a</code> are <code>numpy.ndarray</code> instances.  Of course, this answer doesn&#39;t help there because their <code>__eq__</code> doesn&#39;t return a boolean -- or even something with a non-ambiguous boolean value :-)"}], "tags": [], "owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "is_accepted": false, "score": 1, "last_activity_date": 1421277424, "creation_date": 1421277424, "answer_id": 27954257, "question_id": 27954166, "link": "https://stackoverflow.com/questions/27954166/how-to-remove-and-return-element-in-python-list/27954257#27954257", "title": "How to remove and return element in python list", "body": "<p>Strictly speaking, you would need something like:</p>\n\n<pre><code>def remove(lst, e):\n    i = lst.index(e)\n    # error if e not in lst\n    a = lst[i]\n    lst.pop(i)\n    return a\n</code></pre>\n\n<p>Which would make sense only if <code>e == a</code> is true, but <code>e is a</code> is false, and you really need <code>a</code> instead of <code>e</code>.</p>\n\n<p>In most case, though, I would say that this suggest something suspicious in your code.</p>\n\n<p>A short version would be :</p>\n\n<pre><code>a = lst.pop(lst.index(e))\n</code></pre>\n"}], "owner": {"reputation": 30401, "user_id": 1497454, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/0a1b529539a71d7255c4215112c8385d?s=128&d=identicon&r=PG", "display_name": "omega", "link": "https://stackoverflow.com/users/1497454/omega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 27954185, "answer_count": 3, "score": 0, "last_activity_date": 1421277424, "creation_date": 1421276890, "question_id": 27954166, "link": "https://stackoverflow.com/questions/27954166/how-to-remove-and-return-element-in-python-list", "title": "How to remove and return element in python list", "body": "<p>In python you can do list.pop(i) which removes and returns the element in index i, but is there a built in function like list.remove(e) where it removes and returns the first element equal to e?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "macos", "python-2.7", "ipython", "ipython-notebook"], "answers": [{"tags": [], "owner": {"reputation": 15859, "user_id": 975114, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9cca3ab47e2685d05b75880de0faee63?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/975114/amit-verma"}, "is_accepted": true, "score": 5, "last_activity_date": 1421368761, "creation_date": 1421368761, "answer_id": 27975560, "question_id": 27954158, "link": "https://stackoverflow.com/questions/27954158/problems-setting-up-a-new-theme-in-ipython/27975560#27975560", "title": "Problems setting up a new theme in Ipython?", "body": "<p>You can do it with <code>curl</code> or by manually downloading the theme. I have given steps for both the options below.</p>\n\n<p>Create a custom profile using the following command:</p>\n\n<pre><code>ipython profile create ocean\n</code></pre>\n\n<p>Replace the content of the default stylesheet <code>custom.css</code> with that of the required theme using the following command</p>\n\n<p><strong>Using curl:</strong></p>\n\n<pre><code>curl -o `ipython locate profile ocean`/static/custom/custom.css https://raw.githubusercontent.com/nsonnad/base16-ipython-notebook/master/base16-ocean-dark.css\n</code></pre>\n\n<p>Start the <code>IPython</code> notebook by specifying the custom profile e.g.</p>\n\n<pre><code>ipython notebook --profile=ocean\n</code></pre>\n\n<hr>\n\n<p><strong>Alternative:</strong></p>\n\n<p>If you are not able to download using <code>curl</code>, you can simply download the <code>base16-ocean-dark.css</code> and replace the <code>custom.css</code> in the custom directory of your created profile.</p>\n\n<p>Locate the profile directory:</p>\n\n<pre><code>ipython locate profile ocean\n</code></pre>\n\n<p>Go to its <code>static/custom</code> directory and replace the content of <code>custom.css</code> with that of downloaded <code>css</code> file.\nStart the <code>IPython</code> notebook by specifying the custom profile as shown above.</p>\n"}, {"comments": [{"owner": {"reputation": 297, "user_id": 649920, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/7A2m9.jpg?s=128&g=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/649920/ilya"}, "edited": false, "score": 0, "creation_date": 1465289766, "post_id": 35838264, "comment_id": 62826850, "body": "Hey, I did what you&#39;ve suggested, but get an issue &quot;Theme grade3 not found. Available: &quot; and empty list follows, apparently. I looked into <code>jupyterthemes&#47;__init__.py</code> and there this error appears when get_theme() method returns the list of themes that does not contain grade3. But to be honest, I have a feeling it looks in a wrong directory. At the same time, I could not install it from git, so I installed it from the zip file - not sure whether there is expected to be any difference."}, {"owner": {"reputation": 10209, "user_id": 1637673, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102059d423f2265e737117ce0947e7ee?s=128&d=identicon&r=PG", "display_name": "Mithril", "link": "https://stackoverflow.com/users/1637673/mithril"}, "reply_to_user": {"reputation": 297, "user_id": 649920, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/7A2m9.jpg?s=128&g=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/649920/ilya"}, "edited": false, "score": 0, "creation_date": 1465291532, "post_id": 35838264, "comment_id": 62828023, "body": "@llya Do you have <code>.jupyter</code>, <code>.jupyter-themes</code> folders in user home?  And there need a <code>custom</code> folder under <code>.jupyter</code>. PS: I am using windows, maybe other os would have some different."}, {"owner": {"reputation": 297, "user_id": 649920, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/7A2m9.jpg?s=128&g=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/649920/ilya"}, "edited": false, "score": 0, "creation_date": 1465295879, "post_id": 35838264, "comment_id": 62831023, "body": "I am also using Windows. I only have <code>.jupyter</code> folder there, with a single file <code>migrated</code> with no extension."}, {"owner": {"reputation": 297, "user_id": 649920, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/7A2m9.jpg?s=128&g=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/649920/ilya"}, "edited": false, "score": 0, "creation_date": 1465296116, "post_id": 35838264, "comment_id": 62831159, "body": "I&#39;ve created the <code>.jupyter-themes</code> folder there (you need to create a folder <code>.jupyter-themes.</code> with an additional dot in the end, it is removed by Windows Explorer), and copied there .css files from git. Then it worked. I don&#39;t understand how could this folder be created automatically though."}, {"owner": {"reputation": 10209, "user_id": 1637673, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102059d423f2265e737117ce0947e7ee?s=128&d=identicon&r=PG", "display_name": "Mithril", "link": "https://stackoverflow.com/users/1637673/mithril"}, "reply_to_user": {"reputation": 297, "user_id": 649920, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/7A2m9.jpg?s=128&g=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/649920/ilya"}, "edited": false, "score": 0, "creation_date": 1465296494, "post_id": 35838264, "comment_id": 62831416, "body": "@Ilya maybe you should post an issue to jupyter-themes.In my case, just install it and all done"}], "tags": [], "owner": {"reputation": 10209, "user_id": 1637673, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102059d423f2265e737117ce0947e7ee?s=128&d=identicon&r=PG", "display_name": "Mithril", "link": "https://stackoverflow.com/users/1637673/mithril"}, "is_accepted": false, "score": 5, "last_activity_date": 1499061617, "last_edit_date": 1499061617, "creation_date": 1457335432, "answer_id": 35838264, "question_id": 27954158, "link": "https://stackoverflow.com/questions/27954158/problems-setting-up-a-new-theme-in-ipython/35838264#35838264", "title": "Problems setting up a new theme in Ipython?", "body": "<p>Amit's answer isn't fit for <code>ipython=&gt;4.0</code>, as <code>jupyter</code> is divided from it now.</p>\n\n<p>You can try <a href=\"https://github.com/dunovank/jupyter-themes\" rel=\"nofollow noreferrer\">jupyter-themes</a>.\nIt is suit for <code>ipython=&gt;4.0</code> and much more easy to install.</p>\n\n<blockquote>\n  <p><strong>Install jupyter-themes</strong></p>\n\n<pre><code>$ pip install --upgrade jupyterthemes\n</code></pre>\n  \n  <p><strong>Pick a theme and install</strong>    </p>\n\n<pre><code># list themes (located in ~/.jupyter-themes)\n$ jt -l\n\n# install theme (-t) for jupyter nb\n# theme names: oceans16 | grade3 | space-legos\n$ jt -t grade3\n\n# install a theme (-t) with toolbar (-T) enabled\n$ jt -T -t grade3\n\n# install a theme (-t) and set font-size (-f), default value is 11\n$ jt -f 12 -t grade3\n\n# reset (-r) to default for jupyter theme\n$ jt -r\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 6588147, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pNFxcRzaqLU/AAAAAAAAAAI/AAAAAAAAB0I/SX1gZS0alvU/photo.jpg?sz=128", "display_name": "dunovank", "link": "https://stackoverflow.com/users/6588147/dunovank"}, "is_accepted": false, "score": 2, "last_activity_date": 1468481201, "creation_date": 1468481201, "answer_id": 38368032, "question_id": 27954158, "link": "https://stackoverflow.com/questions/27954158/problems-setting-up-a-new-theme-in-ipython/38368032#38368032", "title": "Problems setting up a new theme in Ipython?", "body": "<p>I've added jupyter-themes to pypi under the name jupyterthemes. </p>\n\n<p>To install the latest version:</p>\n\n<pre><code>#uninstall any old versions\npip uninstall jupyter-themes \n#install the latest version (no hyphen)\npip install jupyterthemes\n</code></pre>\n\n<p>Hopefully that takes care of any issues people were having with themes not showing up (@llya). </p>\n"}], "owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3867, "favorite_count": 1, "accepted_answer_id": 27975560, "answer_count": 3, "score": 2, "last_activity_date": 1499061617, "creation_date": 1421276869, "question_id": 27954158, "link": "https://stackoverflow.com/questions/27954158/problems-setting-up-a-new-theme-in-ipython", "title": "Problems setting up a new theme in Ipython?", "body": "<p>I would like to use another theme for Ipython notebook so I following this <a href=\"https://github.com/nsonnad/base16-ipython-notebook\" rel=\"nofollow\">instructions</a> the problem is I'm in OSX and I dont have the wget, I installed it homebrew. Could somebody help me to set ipython notebooks in a dark theme?. I tried this:</p>\n\n<pre><code>brew /Users/user/.ipython/profile_notebooks/static/custom/custom.css\nhttps://raw.githubusercontent.com/nsonnad/base16-ipython-notebook/master/base16-ocean-dark.css\n</code></pre>\n"}, {"tags": ["python", "django", "tastypie"], "comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1421276957, "post_id": 27954127, "comment_id": 44303356, "body": "Do you have some sample code you could show?"}, {"owner": {"reputation": 966, "user_id": 1541708, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bc40fdc6462319c9f432ac2fb94ea7a8?s=128&d=identicon&r=PG", "display_name": "crizzwald", "link": "https://stackoverflow.com/users/1541708/crizzwald"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1421282030, "post_id": 27954127, "comment_id": 44304996, "body": "@Joel I have added some source. There are a few more endpoints in the prepend_urls, but I just removed them since they are all written the same just using different verbs (&quot;Driver&quot;, &quot;Putter&quot;, etc). Granted, these endpoints do work and function just fine when I call them, but I am wanting to create some type of documentation for them. So spitting out all the routes will suffice. Thanks!"}], "owner": {"reputation": 966, "user_id": 1541708, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bc40fdc6462319c9f432ac2fb94ea7a8?s=128&d=identicon&r=PG", "display_name": "crizzwald", "link": "https://stackoverflow.com/users/1541708/crizzwald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421284973, "creation_date": 1421276753, "last_edit_date": 1421284973, "question_id": 27954127, "link": "https://stackoverflow.com/questions/27954127/tastypie-list-endpoints-added-using-prepend-urls", "title": "Tastypie list endpoints added using prepend_urls", "body": "<p>I am trying to figure out how to show all endpoints from an API I've written. In browsing to the root of the API, I see a list of resources and a single get endpoint. How do I generate a list to show all endpoints? I tried django-tastypie-swagger but had the same results. It only listed a few GET methods for each resource and didn't show all the prepend_urls that I added to the resource. Any help is appreciated!</p>\n\n<p>Edit:</p>\n\n<p>I have some helper methods in the get_manufacturer_wedges to help with the response. Side note, I'm very new to python and this whole stack. I come from a c#.net background. I am building a golf app.</p>\n\n<pre><code>class ManufacturerResource(BaseMongoResource):\n\n    class Meta:\n        max_limit = 0\n        queryset = Manufacturer.objects.all().order_by('id')\n        allowed_methods = ('get')\n        resource_name = 'manufacturers'\n        include_resource_uri = False\n\n    def prepend_urls(self):\n    return [\n        url(r\"^(?P&lt;resource_name&gt;%s)/(?P&lt;pk&gt;[\\w\\d_.-]+)/wedges/$\" % self._meta.resource_name,\n            self.wrap_view('get_manufacturer_wedges'), name=\"api_get_manufacturer_wedges\"),\n    ]\n\n    def get_manufacturer_wedges(self, request, **kwargs):\n        prim_key = kwargs['pk'] + \"|Wedge\"\n        wedges = Club.objects(_id__startswith=prim_key).order_by('name')\n        return self.create_response(request, HelperMethods.obj_to_list(wedges))\n</code></pre>\n\n<p>Here is the output when I go to the root of the api (/api/v1/):</p>\n\n<pre><code>{\n  \"file_upload\" : {\n    \"schema\" : \"/api/v1/file_upload/schema/\",\n    \"list_endpoint\" : \"/api/v1/file_upload/\"\n  },\n  \"members\" : {\n    \"schema\" : \"/api/v1/members/schema/\",\n    \"list_endpoint\" : \"/api/v1/members/\"\n  },\n  \"manufacturers\" : {\n    \"schema\" : \"/api/v1/manufacturers/schema/\",\n    \"list_endpoint\" : \"/api/v1/manufacturers/\"\n  },\n  \"courses\" : {\n    \"schema\" : \"/api/v1/courses/schema/\",\n    \"list_endpoint\" : \"/api/v1/courses/\"\n  },\n  \"clubs\" : {\n    \"schema\" : \"/api/v1/clubs/schema/\",\n    \"list_endpoint\" : \"/api/v1/clubs/\"\n  }\n}\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "python-2.7", "mocking"], "answers": [{"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 6472, "user_id": 1090367, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PNgBE.jpg?s=128&g=1", "display_name": "Selah", "link": "https://stackoverflow.com/users/1090367/selah"}, "edited": false, "score": 0, "creation_date": 1421278329, "post_id": 27954173, "comment_id": 44303821, "body": "No problem.  Happy to help."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1421276917, "creation_date": 1421276917, "answer_id": 27954173, "question_id": 27954122, "link": "https://stackoverflow.com/questions/27954122/python-mock-open-assert-several-write-calls/27954173#27954173", "title": "python mock_open assert several write calls", "body": "<p>According to the docs, <code>assert_called_with</code> and <code>assert_called_once_with</code> only pass if the call is the most recent one<sup>1</sup>.  The trick us to use <code>assert_any_call</code>, or <code>assert_has_calls</code>.</p>\n\n<pre><code>file_handle_mock.write.assert_has_calls([\n    mock.call('blah1'),\n    mock.call('blah2'),\n])\n</code></pre>\n\n<p><sup><sup>1</sup>It's kinda hidden in the docs for <a href=\"https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock.assert_any_call\" rel=\"nofollow\">assert_any_call</a>, so we can't really blame you for missing it...</sup></p>\n"}], "owner": {"reputation": 6472, "user_id": 1090367, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PNgBE.jpg?s=128&g=1", "display_name": "Selah", "link": "https://stackoverflow.com/users/1090367/selah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1421, "favorite_count": 0, "accepted_answer_id": 27954173, "answer_count": 1, "score": 1, "last_activity_date": 1421276917, "creation_date": 1421276741, "question_id": 27954122, "link": "https://stackoverflow.com/questions/27954122/python-mock-open-assert-several-write-calls", "title": "python mock_open assert several write calls", "body": "<p>I am trying to test some code that does logging.</p>\n\n<pre><code>logfile = open(file_name, 'w')\nlogfile.write(\"blah1\")\nlogfile.write(\"blah2\")\n</code></pre>\n\n<p>I'd like to assert that both blah1 and blah2 get written.  My test function looks like this:</p>\n\n<pre><code>def test_it(self):\n    logger.open = mock_open()\n    logger.time.time = Mock(return_value=12345)\n\n    logger.run_me()\n\n    logger.open.assert_called_once_with('test_12345.log', 'w');\n    file_handle_mock = logger.open()\n    file_handle_mock.write.assert_called_with(\"blah1\")\n    file_handle_mock.write.assert_called_with(\"blah2\")\n</code></pre>\n\n<p>But it gives me an error:</p>\n\n<pre><code>AssertionError: Expected call: write('blah1')\nActual call: write('blah2')\n</code></pre>\n\n<p>How can I properly test multiple calls to the write function?</p>\n\n<p>Versions:\nPython 2.7.6\nmock==1.0.1</p>\n"}, {"tags": ["python", "lambda"], "comments": [{"owner": {"reputation": 1659, "user_id": 3216660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UhP8.png?s=128&g=1", "display_name": "TidB", "link": "https://stackoverflow.com/users/3216660/tidb"}, "edited": false, "score": 0, "creation_date": 1421276606, "post_id": 27954068, "comment_id": 44303212, "body": "Well, just use <code>min()</code>. Anyway, what&#39;s the &quot;lambda value&quot; you&#39;re talking about?"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1421276613, "post_id": 27954068, "comment_id": 44303215, "body": "<code>min(myList, key=f)</code>"}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 2, "creation_date": 1421276732, "post_id": 27954068, "comment_id": 44303269, "body": "Take more care in choosing your variable names. Do <i>not</i> use names of builtins as variables."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 1, "creation_date": 1421276859, "post_id": 27954068, "comment_id": 44303318, "body": "I presume <code>f(i)&lt;f(max)</code> is supposed to be <code>f(i)&lt;f(min)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 1, "last_activity_date": 1421276611, "creation_date": 1421276611, "answer_id": 27954094, "question_id": 27954068, "link": "https://stackoverflow.com/questions/27954068/how-to-get-smallest-element-in-list-using-lambda-in-python/27954094#27954094", "title": "How to get smallest element in list using lambda in python?", "body": "<p>You can just say</p>\n\n<pre><code>min(l, key=f)\n</code></pre>\n\n<p>Where <code>l</code> is your list, and <code>f</code> is your comparator function</p>\n\n<p>Also, do not name your variable <code>list</code>, do not name your variable <code>min</code>, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "is_accepted": false, "score": 5, "last_activity_date": 1421278145, "last_edit_date": 1421278145, "creation_date": 1421276666, "answer_id": 27954104, "question_id": 27954068, "link": "https://stackoverflow.com/questions/27954068/how-to-get-smallest-element-in-list-using-lambda-in-python/27954104#27954104", "title": "How to get smallest element in list using lambda in python?", "body": "<p>using reduce:</p>\n\n<pre><code>reduce(lambda x, y: min(x, y, key=f), lst)\n</code></pre>\n\n<p>But you can also use <code>min</code> directly:</p>\n\n<pre><code>min(lst, key=f)\n</code></pre>\n\n<p>because <code>min</code> can be used to compare 2 elements or an iterable of elements</p>\n"}], "owner": {"reputation": 30401, "user_id": 1497454, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/0a1b529539a71d7255c4215112c8385d?s=128&d=identicon&r=PG", "display_name": "omega", "link": "https://stackoverflow.com/users/1497454/omega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1306, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1421278145, "creation_date": 1421276474, "question_id": 27954068, "link": "https://stackoverflow.com/questions/27954068/how-to-get-smallest-element-in-list-using-lambda-in-python", "title": "How to get smallest element in list using lambda in python?", "body": "<p>In python I have a list of elements, and I want to get the smallest element based on its lambda value. Something like this</p>\n\n<pre><code>def g(list, f):\n    min = list[0]\n    for i in list:\n        if f(i) &lt; f(max):\n             min = i\n    return min\n</code></pre>\n\n<p>How can this be done in 1 line using lambda functions?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "classification", "nltk", "svm", "naivebayes"], "comments": [{"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 1, "creation_date": 1421276707, "post_id": 27953980, "comment_id": 44303260, "body": "Use <code>scikit-learn</code> and try out <code>panda</code>. 1.6 million is not that much. Given that the vocabulary would have been ~1 million. And also remove singleton"}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "reply_to_user": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1421276787, "post_id": 27953980, "comment_id": 44303296, "body": "@alvas, any specific tutorial site?"}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1421276846, "post_id": 27953980, "comment_id": 44303310, "body": "Take a look at <a href=\"http://scikit-learn.org/stable/tutorial/\" rel=\"nofollow noreferrer\">scikit-learn.org/stable/tutorial</a> and <a href=\"https://github.com/EducationalTestingService/skll\" rel=\"nofollow noreferrer\">github.com/EducationalTestingService/skll</a> and <a href=\"http://pandas.pydata.org/\" rel=\"nofollow noreferrer\">pandas.pydata.org</a>"}, {"owner": {"reputation": 123770, "user_id": 577088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5UZyo.jpg?s=128&g=1", "display_name": "senderle", "link": "https://stackoverflow.com/users/577088/senderle"}, "edited": false, "score": 2, "creation_date": 1421278387, "post_id": 27953980, "comment_id": 44303849, "body": "You might also try <a href=\"http://ufldl.stanford.edu/wiki/index.php/PCA\" rel=\"nofollow noreferrer\">dimension</a> <a href=\"http://ufldl.stanford.edu/wiki/index.php/Whitening\" rel=\"nofollow noreferrer\">reduction</a> to capture some high percentage of the variance of the data. Not sure how well it works for large, sparse feature vectors like these though."}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 1, "creation_date": 1421318492, "post_id": 27953980, "comment_id": 44316577, "body": "could you post the data up somewhere on gdrive or something, then possibly we can try and find a solution for you."}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "reply_to_user": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1422360524, "post_id": 27953980, "comment_id": 44709653, "body": "@alvas, sorry for late.. <a href=\"http://goo.gl/oqStKr\" rel=\"nofollow noreferrer\">goo.gl/oqStKr</a> This is the link of Dataset. I also provide it with my post.. Thank you.."}, {"owner": {"reputation": 1050, "user_id": 6438168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k9QIU.jpg?s=128&g=1", "display_name": "James Pringle", "link": "https://stackoverflow.com/users/6438168/james-pringle"}, "edited": false, "score": 1, "creation_date": 1422645084, "post_id": 27953980, "comment_id": 44846704, "body": "What classes are you trying to predict? Is it related to the number at the beginning of the tweet?"}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "reply_to_user": {"reputation": 1050, "user_id": 6438168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k9QIU.jpg?s=128&g=1", "display_name": "James Pringle", "link": "https://stackoverflow.com/users/6438168/james-pringle"}, "edited": false, "score": 0, "creation_date": 1422646916, "post_id": 27953980, "comment_id": 44847598, "body": "yes.. number at the beginning of the tweet is category @JamesPringle"}, {"owner": {"reputation": 1050, "user_id": 6438168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k9QIU.jpg?s=128&g=1", "display_name": "James Pringle", "link": "https://stackoverflow.com/users/6438168/james-pringle"}, "edited": false, "score": 0, "creation_date": 1422649619, "post_id": 27953980, "comment_id": 44848867, "body": "I am curious, then, why does <code>training.csv</code> have only two categories (0 and 4), while <code>testing.csv</code> has three categories (0, 2, and 4)? Seems to me that from training it would be impossible to produce a 2 as a prediction."}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422659654, "post_id": 27953980, "comment_id": 44853046, "body": "2 is for neutral.. To check how many neutral tweets are considered as positive and negative.. Its my opinion.. Actually I will ignore it.."}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 1, "creation_date": 1422717794, "post_id": 27953980, "comment_id": 44865128, "body": "Do you have to use Naive Bayes or does it not matter as long as the trained model is accurate enough?"}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1422718364, "post_id": 27953980, "comment_id": 44865280, "body": "Can you please edit your post, properly explaining what you want to predict based on what? Looking at your csv I&#39;m not able to immediately understand your features and labels."}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "reply_to_user": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1422722906, "post_id": 27953980, "comment_id": 44866664, "body": "@runDOSrun, I editted my post. tnx. SVM will be perfect for me actually.."}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1422798714, "post_id": 27953980, "comment_id": 44883646, "body": "Another question: Does it really matter how long it trains? Do you want to keep training your model on a daily basis with new data automatically or just <i>once</i> and then be done with it?"}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1422798953, "post_id": 27953980, "comment_id": 44883734, "body": "And: I am very unsure about your split between training and test data. test has 500 samples and training more than a million. This seems like teaching someone astrophysics only to ask him about &quot;1+1=?&quot; afterwards. How did you come to these sizes?"}], "answers": [{"comments": [{"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422804317, "post_id": 28255445, "comment_id": 44885296, "body": "This is helpful. I need to adjust my training and testing dataset"}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422804989, "post_id": 28255445, "comment_id": 44885521, "body": "<code>featureList = [&#39;obama&#39;,&#39;usa&#39;,&#39;bieber&#39;]</code> why this three feature? I tried all unique words. But it gives memory error.. Any techniques?"}, {"owner": {"reputation": 5592, "user_id": 606496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZwPBQ.jpg?s=128&g=1", "display_name": "mjspier", "link": "https://stackoverflow.com/users/606496/mjspier"}, "reply_to_user": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 1, "creation_date": 1422806883, "post_id": 28255445, "comment_id": 44886148, "body": "The three features were just a guess from me for testing. I saw that this three words occur in some tweets. I thought you have your own list. If you want to use all unique words, I think this implementation will not work. Mostly you don&#39;t want to use all unique words though as many words are maybe only present in one tweet. Maybe it would be good to use the words which occur the most. It is also not so clear to me what you want to predict."}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422807943, "post_id": 28255445, "comment_id": 44886488, "body": "Is it possible to get 80% accuracy somehow?"}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1422808891, "post_id": 28255445, "comment_id": 44886750, "body": "I agree with superbly. Using all words might be more data than needed (as said in my answer, you might need to prune the feature list). It&#39;s hard to tell really because you never told us what exactly you&#39;re trying to predict with this data. I think you need to formulate your problem properly before any more numbers are crunched by someone else than you."}], "tags": [], "owner": {"reputation": 5592, "user_id": 606496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZwPBQ.jpg?s=128&g=1", "display_name": "mjspier", "link": "https://stackoverflow.com/users/606496/mjspier"}, "is_accepted": false, "score": 3, "last_activity_date": 1422733650, "last_edit_date": 1422733650, "creation_date": 1422731368, "answer_id": 28255445, "question_id": 27953980, "link": "https://stackoverflow.com/questions/27953980/how-to-train-large-dataset-for-classification/28255445#28255445", "title": "How to train large Dataset for classification", "body": "<p>I have an option here. It took 3 minutes on my machine (I should really get a new one :P).</p>\n\n<pre><code>macbook 2006\n2 GHz Intel Core 2 Duo\n2 GB DDR2 SDRAM\n</code></pre>\n\n<p>The achieved accuracy was: 0.355421686747</p>\n\n<p>I'm sure if you tune the vector machine you can get better results.</p>\n\n<p>First I changed the format of the csv files so it can be easier imported. \nI just replaced the first whitespace with a comma which can be used as delimiter during import.</p>\n\n<pre><code>cat testing.csv | sed 's/\\ /,/' &gt; test.csv\ncat training.csv | sed 's/\\ /,/' &gt; train.csv\n</code></pre>\n\n<p>In python I used pandas to read the csv files and list comprehension to extract the features. This is much faster than for loops.\nAfterwards I used sklearn to train a support vector machine.</p>\n\n<pre><code>import pandas\nfrom sklearn import svm\nfrom sklearn.metrics import accuracy_score\n\nfeatureList = ['obama','usa','bieber']\n\ntrain_df = pandas.read_csv('train.csv',sep=',',dtype={'label':int, 'tweet':str})\ntest_df = pandas.read_csv('test.csv',sep=',',dtype={'label':int, 'tweet':str})\n\ntrain_features = [[w in str(tweet) for w in featureList] for tweet in train_df.values[:,1]]\ntest_features = [[w in str(tweet) for w in featureList] for tweet in test_df.values[:,1]]\ntrain_labels = train_df.values[:,0]\ntest_labels = test_df.values[:,0]\n\nclf = svm.SVC(max_iter=1000)\nclf.fit(train_features, train_labels)\nprediction = clf.predict(test_features)\n\nprint 'accuracy: ',accuracy_score(test_labels.tolist(), prediction.tolist())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422803500, "post_id": 28264188, "comment_id": 44885067, "body": "What is the accuracy if you ignore test tweets with label 2?"}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422804252, "post_id": 28264188, "comment_id": 44885279, "body": "Thank you, I will try splitting 80/20% for train/test and will inform you ."}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "reply_to_user": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422804344, "post_id": 28264188, "comment_id": 44885308, "body": "If I do that it goes up from 0.36 to 0.5 (test size 369, train 50k, 3 features, SVM, class 0 and 4 are split 50/50). Using a training size of 6k it&#39;s still 0.5 indicating the problem I talked about. You should also definitely &quot;test&quot; with your training data to see at which point you reach 100% or the error converges - stop training at exactly that point as any more training will produce the same or worse results."}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422804763, "post_id": 28264188, "comment_id": 44885455, "body": "how did you select this 3 features..? I thought all unique words will be features"}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422804912, "post_id": 28264188, "comment_id": 44885497, "body": "could you please tell me what will be accuracy if you split training Dataset 80/20% into training set and test set?"}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "reply_to_user": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422805425, "post_id": 28264188, "comment_id": 44885667, "body": "I just randomly took superbly&#39;s 3 features to have a baseline. All unique words <i>can</i> be features but it depends on what exactly you&#39;re trying to accomplish and thus which algorithm you choose to train. Using scikit you can use bag of words and sparse representation: <a href=\"http://scikit-learn.org/dev/modules/feature_extraction.html#text-feature-extraction\" rel=\"nofollow noreferrer\">scikit-learn.org/dev/modules/&hellip;</a>"}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422807875, "post_id": 28264188, "comment_id": 44886471, "body": "This is new Dataset link <a href=\"http://goo.gl/VRttrT\" rel=\"nofollow noreferrer\">goo.gl/VRttrT</a> . I used 40k training and 10k testing tweets. and also 2k features. But accuracy is 0.50. This is low i think"}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "reply_to_user": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422808716, "post_id": 28264188, "comment_id": 44886699, "body": "Yes, 0.5 is random and as that quite bad. You need to find out where the error on the <i>training set</i> converges. The test accuracy might very well go from 0 to 1 and from 1 back to 0.5-0. Unless you test the parameters extensively it&#39;s hard to tell if your 0.5 is &quot;on the way up to 1.0&quot; or &quot;way down from 1.0&quot;. If it&#39;s on the &quot;way down&quot;, you&#39;re training too much."}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "edited": false, "score": 0, "creation_date": 1422809626, "post_id": 28264188, "comment_id": 44886966, "body": "How can I check this? <code>&quot;on the way up to 1.0</code> or <code>way down from 1.0</code> ? I have no idea how to do this? How can i prevent when i&#39;m starting way down from 1"}, {"owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "reply_to_user": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1422809758, "post_id": 28264188, "comment_id": 44887008, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/70002/discussion-between-aerofoil-kite-and-rundosrun\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "is_accepted": false, "score": 4, "last_activity_date": 1422803408, "creation_date": 1422803408, "answer_id": 28264188, "question_id": 27953980, "link": "https://stackoverflow.com/questions/27953980/how-to-train-large-dataset-for-classification/28264188#28264188", "title": "How to train large Dataset for classification", "body": "<p>Before speeding up the training I'd personally make sure that you actually need to. While not a direct answer to your question, I'll try to provide a different angle which you might or might not be missing (hard to tell from your initial post).</p>\n\n<p>Take e.g. superbly's implementation as a baseline. 1.6Mio training and 500 test samples with 3 features yields 0.35 accuracy.</p>\n\n<p>Using the exact same setup, you can go as low as 50k training samples without losing accuracy, in fact the accuracy will <strong>slightly go up</strong> - probably because you are overfitting with that many examples (you can check this running his code with a smaller sample size). I'm pretty sure that using a neural network at this stage would give horrible accuracy with this setup (the SVM can be kinda tuned to overcome overfitting though that's not my point).</p>\n\n<p>You wrote in your initial post that you have 55k features (which you deleted for some reason?). This number should correlate with your training set size. Since you didn't specify your list of features it's not really possible to give you a proper working model or test my assumption.</p>\n\n<p>However, I highly suggest that you reduce your training data as a first step and see a) how well you perform and b) at which point possible overfitting occurs. I would also adjust the test size to be of a higher size. 500-1.6Mio is kind of a weird split of the sets. Try 80/20% for train/test. \nAs a third step check your feature list size. Is it representative of what you need? If there's unnecessary/duplicate features in that list, you should consider pruning. </p>\n\n<p>As a final thought, if you come back to longer training sizes (e.g. because you decide that you <strong>do</strong> in fact need much more data than provided now), consider if slow learning really is an issue (besides testing your model). Many state-of-the-art classifiers are trained for days/weeks using GPU computing. Training time doesn't matter in that case because they're only trained once and possibly only updated with small batches of data when they \"go online\".</p>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 1229341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f6a123cee3d42b7cfce60b81164a93?s=128&d=identicon&r=PG", "display_name": "farmi", "link": "https://stackoverflow.com/users/1229341/farmi"}, "is_accepted": true, "score": 4, "last_activity_date": 1422825107, "creation_date": 1422825107, "answer_id": 28267950, "question_id": 27953980, "link": "https://stackoverflow.com/questions/27953980/how-to-train-large-dataset-for-classification/28267950#28267950", "title": "How to train large Dataset for classification", "body": "<p>Following what superbly proposed about the features extraction you could use the tfidvectorizer in scikit library to extract the important words from the tweets. Using the default configuration, coupled with a simple LogisticRegression it gives me 0.8 accuracy.Hope that helps. \nHere is an example on how to use it for you problem: </p>\n\n<pre><code>    train_df_raw = pd.read_csv('train.csv',header=None, names=['label','tweet'])\ntest_df_raw = pd.read_csv('test.csv',header=None, names=['label','tweet'])\ntrain_df_raw =  train_df_raw[train_df_raw['tweet'].notnull()]\ntest_df_raw =  test_df_raw[test_df_raw['tweet'].notnull()]\ntest_df_raw =  test_df_raw[test_df_raw['label']!=2]\n\ny_train = [x if x==0 else 1 for x in train_df_raw['label'].tolist()]\ny_test = [x if x==0 else 1 for x in test_df_raw['label'].tolist()]\nX_train = train_df_raw['tweet'].tolist()\nX_test = test_df_raw['tweet'].tolist()\n\nprint('At vectorizer')\nvectorizer = TfidfVectorizer()\nX_train = vectorizer.fit_transform(X_train)\nprint('At vectorizer for test data')\nX_test = vectorizer.transform(X_test)\n\nprint('at Classifier')\nclassifier = LogisticRegression()\nclassifier.fit(X_train, y_train)\n\npredictions = classifier.predict(X_test)\nprint 'Accuracy:', accuracy_score(y_test, predictions)\n\nconfusion_matrix = confusion_matrix(y_test, predictions)\nprint(confusion_matrix)\n\nAccuracy: 0.8\n[[135  42]\n [ 30 153]]\n</code></pre>\n"}], "owner": {"reputation": 11023, "user_id": 1924666, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YzCUy.jpg?s=128&g=1", "display_name": "Shahriar", "link": "https://stackoverflow.com/users/1924666/shahriar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10295, "favorite_count": 11, "accepted_answer_id": 28267950, "answer_count": 3, "score": 6, "last_activity_date": 1422825107, "creation_date": 1421276062, "last_edit_date": 1422723531, "question_id": 27953980, "link": "https://stackoverflow.com/questions/27953980/how-to-train-large-dataset-for-classification", "title": "How to train large Dataset for classification", "body": "<p>I have a training dataset of 1600000 tweets. How can I train this type of huge data. </p>\n\n<p>I have tried something using <code>nltk.NaiveBayesClassifier</code>. It will take more than 5 days to train if I run.</p>\n\n<pre><code>def extract_features(tweet):\n\n    tweet_words = set(tweet)\n    features = {}\n    for word in featureList:\n        features['contains(%s)' % word] = (word in tweet_words)\n\n    return features\n\n\ntraining_set = nltk.classify.util.apply_features(extract_features, tweets)\n\nNBClassifier = nltk.NaiveBayesClassifier.train(training_set)  # This takes lots of time  \n</code></pre>\n\n<p>What should I do?</p>\n\n<p>I need to classify my Dataset using SVM and naive bayes.</p>\n\n<p>Dataset I want to use : <a href=\"http://goo.gl/oqStKr\" rel=\"nofollow\">Link</a></p>\n\n<p>Sample(training Dataset):</p>\n\n<pre><code>Label     Tweet\n0         url aww bummer you shoulda got david carr third day\n4         thankyou for your reply are you coming england again anytime soon\n</code></pre>\n\n<p>Sample(testing Dataset):</p>\n\n<pre><code>Label     Tweet\n4         love lebron url\n0         lebron beast but still cheering the til the end\n^\nI have to predict Label 0/4 only\n</code></pre>\n\n<p>How can I train this huge dataset efficiently?</p>\n"}, {"tags": ["python", "type-conversion"], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1421276539, "post_id": 27954037, "comment_id": 44303185, "body": "@sacma, the OP&#39;s input according to the question only has trailing letters but translate will still remove both A and g to leave just 10, re will also work"}, {"owner": {"reputation": 2663, "user_id": 3467349, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b632fff81a1301f7870594ca4170aa7?s=128&d=identicon&r=PG&f=1", "display_name": "user3467349", "link": "https://stackoverflow.com/users/3467349/user3467349"}, "edited": false, "score": 0, "creation_date": 1421277552, "post_id": 27954037, "comment_id": 44303565, "body": "I think in all practical cases you are going to want <code>re</code> an easy list comprehension with <code>s.isdigit()</code> is possible but like translate you won&#39;t have any context."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 2663, "user_id": 3467349, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b632fff81a1301f7870594ca4170aa7?s=128&d=identicon&r=PG&f=1", "display_name": "user3467349", "link": "https://stackoverflow.com/users/3467349/user3467349"}, "edited": false, "score": 0, "creation_date": 1421277656, "post_id": 27954037, "comment_id": 44303595, "body": "@user3467349, the range is -19 to 100 so I am presuming whole numbers, isdigit will not keep the <code>-</code> where the regex and translate will."}, {"owner": {"reputation": 2663, "user_id": 3467349, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b632fff81a1301f7870594ca4170aa7?s=128&d=identicon&r=PG&f=1", "display_name": "user3467349", "link": "https://stackoverflow.com/users/3467349/user3467349"}, "edited": false, "score": 0, "creation_date": 1421277785, "post_id": 27954037, "comment_id": 44303638, "body": "Ah I missed the context, but if you wanted to preserve <code>-</code> you could use <code>not s.isalpha()</code>."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 3, "last_activity_date": 1421279225, "last_edit_date": 1421279225, "creation_date": 1421276301, "answer_id": 27954037, "question_id": 27953969, "link": "https://stackoverflow.com/questions/27953969/converting-str-to-int-in-python-only-numbers-w-o-characters/27954037#27954037", "title": "Converting str to int in Python, only numbers w/o characters", "body": "<p>str.translate will remove any letters:</p>\n\n<pre><code>s = \"10A\"\nfrom string import ascii_letters\nprint(int(s.translate(None,ascii_letters)))\n10\n</code></pre>\n\n<p>Or use re:</p>\n\n<pre><code>import re\nprint(int(re.findall(\"\\-?\\d+\",s))[0])\n10\nIn [22]: s = \"-100A\"   \nIn [23]: int(re.findall(\"\\-?\\d+\",s)[0])\nOut[23]: -100\n\nIn [24]: int(s.translate(None,ascii_letters))\nOut[24]: -100\n</code></pre>\n\n<p>I would also change your code a bit:</p>\n\n<pre><code>class Mojaklasa: # unless there are more methods I would not use a class \n    def przenumeruj_pdb(self):\n        nazwa = raw_input('Podaj nazwe pliku: ')\n        with open(nazwa) as plik, open(\"out.txt\", \"w\") as write: # with will close your iles \n            for line in plik: # iterate over file object\n                j = line.split()\n                if len(j) &gt; 5 and j[0] == \"ATOM\": # same as nested if's\n                    write.write(\"{}\\n\".format(j[5].translate(None, ascii_letters)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1421277930, "creation_date": 1421277930, "answer_id": 27954361, "question_id": 27953969, "link": "https://stackoverflow.com/questions/27953969/converting-str-to-int-in-python-only-numbers-w-o-characters/27954361#27954361", "title": "Converting str to int in Python, only numbers w/o characters", "body": "<p>Here's an overall-improved approach:</p>\n\n<pre><code>import re\n\nclass Mojaklasa:\n    def przenumeruj_pdb(self):\n        nazwa=raw_input('Podaj nazwe pliku: ')\n        with open(nazwa) as plik, open('out.txt','w') as zapis:\n            for i in plik:\n                j = i.split()\n                if len(j) &lt;= 5: continue\n                if j[0] == \"ATOM\":\n                    mo = re.match(r'\\d+', j[5])\n                    if mo is None: continue\n                    zapis.write(mo.group() + '\\n')\n</code></pre>\n\n<p>I have not improved your choice of identifiers (except for some confusion between <code>write</code> and <code>zapis</code>), but improvements include (a) useful indenting, (b) use of <code>with</code> to open files (so they're automatically closed), (c) extraction of leading digits only via <code>re</code> (the one most germane to your Q), (d) use of <code>if/continue</code> lines rather than indenting (as \"flat is better than nested\").  Plus perhaps some I may be forgetting:-)</p>\n\n<p>I <strong>would</strong> also recommend renaming <code>j</code> to <code>line</code> and <code>i</code> to <code>fields</code> (or whatever the equivalents in your chosen language) as <code>i</code> and <code>j</code> \"sound\" a lot like integer loop counters or the like, which is very confusing:-).</p>\n"}, {"tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 1, "last_activity_date": 1421279960, "last_edit_date": 1421279960, "creation_date": 1421279018, "answer_id": 27954549, "question_id": 27953969, "link": "https://stackoverflow.com/questions/27953969/converting-str-to-int-in-python-only-numbers-w-o-characters/27954549#27954549", "title": "Converting str to int in Python, only numbers w/o characters", "body": "<p>You can replace a lot of logic with a properly formatted regular expression.</p>\n\n<pre><code>for i in plik:\n    m = re.match(r'ATOM\\s+.*?\\s+.*?\\s+.*?\\s+.*?\\s+(-?\\d+)', i)\n    if m:\n        write.write(m.group(1) + '\\n')\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 3541098, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100003243811528/picture?type=large", "display_name": "user3541098", "link": "https://stackoverflow.com/users/3541098/user3541098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 27954037, "answer_count": 3, "score": 1, "last_activity_date": 1421279960, "creation_date": 1421276022, "last_edit_date": 1421279573, "question_id": 27953969, "link": "https://stackoverflow.com/questions/27953969/converting-str-to-int-in-python-only-numbers-w-o-characters", "title": "Converting str to int in Python, only numbers w/o characters", "body": "<p>I'm a beginner in Python and I can't find an answer to my problem. I have a file with some data and I want to get numbers from this file. My program looks like this:</p>\n\n<pre><code>class Mojaklasa:\ndef przenumeruj_pdb(self):\n    nazwa=raw_input('Podaj nazwe pliku: ')\n    plik=open(nazwa).readlines()\n    write=open('out.txt','w')\n    for i in plik:\n        j=i.split()\n        if len(j)&gt;5:\n            if j[0] == \"ATOM\":\n                    write.write(j[5])\n                    write.write(\"\\n\")\n    zapis.close()\n</code></pre>\n\n<p>The 5th field in file has some numbers from -19 to 100, and it's working perfectly. But sometimes the 5th field has numbers with a letter, f.e. 28A and only want 28. Converting to int doesn't work. How can I do this?</p>\n"}, {"tags": ["python", "ftp", "ftplib"], "comments": [{"owner": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "edited": false, "score": 2, "creation_date": 1421276266, "post_id": 27953923, "comment_id": 44303073, "body": "Not 100 % sure, but it might be complaining because you&#39;ve added <code>ftp:&#47;&#47;</code> in the address, which isn&#39;t needed because it&#39;ll always use the ftp protocol. The error you&#39;re getting means that the computer cannot find an ip matching the host you&#39;ve entered."}], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "is_accepted": true, "score": 3, "last_activity_date": 1421276591, "creation_date": 1421276591, "answer_id": 27954089, "question_id": 27953923, "link": "https://stackoverflow.com/questions/27953923/python-and-ftplib-unable-to-login/27954089#27954089", "title": "Python and ftplib, unable to login?", "body": "<p>Thanks Joel Hinz, I just needed to remove 'ftp://' from my hostname. Thanks!</p>\n"}], "owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1529, "favorite_count": 0, "accepted_answer_id": 27954089, "answer_count": 1, "score": 1, "last_activity_date": 1421276591, "creation_date": 1421275847, "question_id": 27953923, "link": "https://stackoverflow.com/questions/27953923/python-and-ftplib-unable-to-login", "title": "Python and ftplib, unable to login?", "body": "<p>I'm learning Python and I tried using the FTPLib module for Python with this code:</p>\n\n<pre><code>import ftplib\n\nconnect = ftplib.FTP('ftp://www.website.com')\nconnect.login = ('username', 'password')\ndata = []\nconnect.dir(data.append)\nconnect.quit()\nfor line in data:\n    print line\n</code></pre>\n\n<p>(I'm aware that the website, username and password is incorrect, I used my website data which I don't want to share) I received the following error after running the code:</p>\n\n<pre><code> Traceback (most recent call last):\n  File \"ftp.py\", line 3, in &lt;module&gt;\n    ftp = FTP('ftp://www.website.com')   # connect to host, default port\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ftplib.py\", line 120, in __init__\n    self.connect(host)\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ftplib.py\", line 135, in connect\n    self.sock = socket.create_connection((self.host, self.port), self.timeout)\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/socket.py\", line 553, in create_connection\n    for res in getaddrinfo(host, port, 0, SOCK_STREAM):\nsocket.gaierror: [Errno 8] nodename nor servname provided, or not known\n</code></pre>\n\n<p>Just to clarify, I'm using Python 2.7 on a Mac. I don't think there is anymore details I could share. Thank you for your help!</p>\n"}, {"tags": ["python", "python-3.x", "lambda"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1421275927, "post_id": 27953895, "comment_id": 44302946, "body": "try printing the <code>repr</code> of the strings, there may well be something you cannot see"}, {"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1421276194, "post_id": 27953895, "comment_id": 44303045, "body": "@ Padraic Cunningham: Thanks for the suggestion, but the repr of both strings is just the intended string."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1421276218, "post_id": 27953895, "comment_id": 44303055, "body": "Can you reproduce the problem in a self-contained way (ideally one that&#39;s independent of Qt)?"}, {"owner": {"reputation": 10262, "user_id": 1355221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfc365d660f7ef400090b891daf117fe?s=128&d=identicon&r=PG", "display_name": "dansalmo", "link": "https://stackoverflow.com/users/1355221/dansalmo"}, "edited": false, "score": 0, "creation_date": 1421276588, "post_id": 27953895, "comment_id": 44303209, "body": "what does code for self.ap.parse_answer look like?  Is it missing a required self argument?"}, {"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1421276649, "post_id": 27953895, "comment_id": 44303232, "body": "@BrenBarn: I&#39;m attempting to do so now."}, {"owner": {"reputation": 11412, "user_id": 617159, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc43cf2d76ce0981a21c0e5a817f96f5?s=128&d=identicon&r=PG", "display_name": "Lambda Fairy", "link": "https://stackoverflow.com/users/617159/lambda-fairy"}, "edited": false, "score": 3, "creation_date": 1421276688, "post_id": 27953895, "comment_id": 44303248, "body": "Does Qt itself pass extra arguments to the callback? They could clobber your captures."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1421276714, "post_id": 27953895, "comment_id": 44303264, "body": "Also, note that what you &quot;capture&quot; with your defaults could be overridden when the callback is actually called."}, {"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "reply_to_user": {"reputation": 10262, "user_id": 1355221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfc365d660f7ef400090b891daf117fe?s=128&d=identicon&r=PG", "display_name": "dansalmo", "link": "https://stackoverflow.com/users/1355221/dansalmo"}, "edited": false, "score": 0, "creation_date": 1421276977, "post_id": 27953895, "comment_id": 44303363, "body": "@dansalmo: parse_answer() is an if statement comparing the two strings which conditionally calls additional functions. parse_answer() is currently is receiving all required positional arguments. I have verified that the False is genuinely being passed to the parse_answer()."}], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "edited": false, "score": 0, "creation_date": 1421278164, "post_id": 27954232, "comment_id": 44303768, "body": "I appreciate the suggestion, but the issue seems to have something to do with Qt going over the lambda captures. At no time in my code do I explicitly set either of the variables to be captures to a boolean."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "edited": false, "score": 1, "creation_date": 1421278587, "post_id": 27954232, "comment_id": 44303900, "body": "I wasn&#39;t suggesting you ever explicitly set either variable to be a boolean.  I could have just as easily used <code>3</code> and <code>4</code> instead of <code>True</code> and <code>False</code> in my example.  The point was that whatever was calling the <code>lambda</code> function was sending it arguments.  Those arguments were going to overwrite whatever the defaults were that you tried to assign."}], "tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": false, "score": 1, "last_activity_date": 1421277693, "last_edit_date": 1421277693, "creation_date": 1421277286, "answer_id": 27954232, "question_id": 27953895, "link": "https://stackoverflow.com/questions/27953895/first-lambda-capture-of-local-variable-always-false/27954232#27954232", "title": "First lambda capture of local variable always False", "body": "<p>I'm pretty sure it's just the following:</p>\n\n<p>When we define default arguments in the function definition <code>f(keyword=default...)</code> but in the call we don't explicitly state <code>keyword=value</code> then it cares about order of arguments, even if they appear to match the keyword.  So I believe your <code>lambda</code> function cares about the order of what it's receiving, not the default values you're assigning.  In your first example, <code>ca</code> gets whatever the first argument is being sent to <code>lambda</code> and <code>a</code> gets whatever the second one is.  In your second example <code>a</code> gets whatever the first argument is and <code>ca</code> gets whatever the second one is.  The fact that you've defined default values for them isn't doing anything, unless whatever is calling the <code>lambda</code> is sending it nothing.</p>\n\n<p>If I define a function</p>\n\n<pre><code>def f(a=1,b=2):\n    return (a,b)\n</code></pre>\n\n<p>and then call it as</p>\n\n<pre><code>a=True\nb=False\n(x,y) = f(a,b)\n</code></pre>\n\n<p>I'll find <code>x=True</code>, <code>b=False</code></p>\n\n<p>but if instead I call it as</p>\n\n<pre><code>a=True\nb=False\n(x,y) = f(b,a)\n</code></pre>\n\n<p>I'll find <code>x=False</code>, <code>b=True</code> because when I call it this way it understands that the first argument of the call is <code>a</code> and the second is <code>b</code>.</p>\n\n<p>If I use the third option (which is what I think you're anticipating)</p>\n\n<pre><code>(x,y) = f(b=False, a=True)\n</code></pre>\n\n<p>then I get <code>x=True</code>, <code>y=False</code>.  I think this is the behavior you thought you would get.</p>\n"}, {"comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 1, "creation_date": 1421279113, "post_id": 27954387, "comment_id": 44304074, "body": "Given this, why send lambda arguments with defaults at all?  Just do  <code>lambda x : self.ap.parse_answer(current_answer, correct_answer)</code>"}, {"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 1, "creation_date": 1421279510, "post_id": 27954387, "comment_id": 44304224, "body": "@Joel: I&#39;m creating multiple pushbuttons iteratively with different functions connected to them. My code originally had it they way you suggest, but that connects the same function (the final one generated) to all pushbuttons created."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1421279794, "post_id": 27954387, "comment_id": 44304316, "body": "just be careful with your approach - if any call would ever send two arguments, your <code>a</code> would get overwritten again."}, {"owner": {"reputation": 9485, "user_id": 20371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/32c7a412ad0caf812ae974df5eb8ffcd?s=128&d=identicon&r=PG", "display_name": "Yawar", "link": "https://stackoverflow.com/users/20371/yawar"}, "edited": false, "score": 0, "creation_date": 1421279799, "post_id": 27954387, "comment_id": 44304319, "body": "@Jefe - ah, you were hitting this bug: <a href=\"http://math.andrej.com/2009/04/09/pythons-lambda-is-broken/\" rel=\"nofollow noreferrer\">math.andrej.com/2009/04/09/pythons-lambda-is-broken</a> - hmm, I thought this was fixed in Python 3."}, {"owner": {"reputation": 9485, "user_id": 20371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/32c7a412ad0caf812ae974df5eb8ffcd?s=128&d=identicon&r=PG", "display_name": "Yawar", "link": "https://stackoverflow.com/users/20371/yawar"}, "edited": false, "score": 1, "creation_date": 1421281482, "post_id": 27954387, "comment_id": 44304848, "body": "The <code>sacrificial</code> argument is called <code>checked</code>: <a href=\"http://doc.qt.io/qt-5/qabstractbutton.html#clicked\" rel=\"nofollow noreferrer\">doc.qt.io/qt-5/qabstractbutton.html#clicked</a> - it indicates whether the button is checked (i.e. with a checkmark) or not."}, {"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "reply_to_user": {"reputation": 9485, "user_id": 20371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/32c7a412ad0caf812ae974df5eb8ffcd?s=128&d=identicon&r=PG", "display_name": "Yawar", "link": "https://stackoverflow.com/users/20371/yawar"}, "edited": false, "score": 0, "creation_date": 1421281693, "post_id": 27954387, "comment_id": 44304906, "body": "@Yawar: Thanks for the info; behavior now understood. If you submit that as an answer I&#39;ll gladly accept it."}, {"owner": {"reputation": 9485, "user_id": 20371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/32c7a412ad0caf812ae974df5eb8ffcd?s=128&d=identicon&r=PG", "display_name": "Yawar", "link": "https://stackoverflow.com/users/20371/yawar"}, "edited": false, "score": 0, "creation_date": 1421283397, "post_id": 27954387, "comment_id": 44305346, "body": "@Jefe - thanks :-) I&#39;ve submitted an answer, hope it is well-phrased."}], "tags": [], "owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "is_accepted": false, "score": 0, "last_activity_date": 1421278035, "creation_date": 1421278035, "answer_id": 27954387, "question_id": 27953895, "link": "https://stackoverflow.com/questions/27953895/first-lambda-capture-of-local-variable-always-false/27954387#27954387", "title": "First lambda capture of local variable always False", "body": "<p>Based on the comments of BrenBarn and Lambda Fairy I decided to assume Qt was resetting the value of the first argument to False.</p>\n\n<p>As a work-around, I added a third positional argument to ap.parse_answer, and had the lambda expression capture a trivial local variable before capturing the two vital variables:</p>\n\n<pre><code>pushbutton.clicked.connect(lambda sacrificial=\"\",a=answer,ca=current_answer: \n                                      self.ap.parse_answer(sacrificial, ca, a))\n</code></pre>\n\n<p>The variable that Qt writes over just gets ignored by the called function, and the code works.</p>\n\n<p>If I add a print(sacrificial_variable) call to ap.parse_answer(), not surprisingly its value is False.</p>\n"}, {"tags": [], "owner": {"reputation": 9485, "user_id": 20371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/32c7a412ad0caf812ae974df5eb8ffcd?s=128&d=identicon&r=PG", "display_name": "Yawar", "link": "https://stackoverflow.com/users/20371/yawar"}, "is_accepted": true, "score": 2, "last_activity_date": 1421283340, "creation_date": 1421283340, "answer_id": 27955188, "question_id": 27953895, "link": "https://stackoverflow.com/questions/27953895/first-lambda-capture-of-local-variable-always-false/27955188#27955188", "title": "First lambda capture of local variable always False", "body": "<p>You are always seeing <code>False</code> as the first argument passed in to your callback lambda because Qt defines the signal <a href=\"http://doc.qt.io/qt-5/qabstractbutton.html#clicked\" rel=\"nofollow\"><code>QAbstractButton::clicked</code></a> to take a single argument with a default value of <code>False</code>. Since your lambda is handling that signal, it gets called with <code>False</code>.</p>\n\n<p>For the benefit of others: because the lambda gets called only with a single argument, the second and third parameters get their default values, which the OP has now defined as the values of the in-scope variables <code>answer</code> and <code>current_answer</code>.</p>\n"}], "owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 1, "accepted_answer_id": 27955188, "answer_count": 3, "score": 2, "last_activity_date": 1421283340, "creation_date": 1421275738, "question_id": 27953895, "link": "https://stackoverflow.com/questions/27953895/first-lambda-capture-of-local-variable-always-false", "title": "First lambda capture of local variable always False", "body": "<p>Connecting a lambda function to a Qt widget, lambda needs to capture two local variables and pass them to an external function. I'm having an issue that's stumping me because it is definitely positional:</p>\n\n<pre><code>pushbutton.clicked.connect(lambda ca=current_answer, a=correct_answer:\n            self.ap.parse_answer(ca, a))\n</code></pre>\n\n<p>passes <code>(False, \"desired correct_answer string\")</code>, while switching the order of the local variable captures:</p>\n\n<pre><code>pushbutton.clicked.connect(lambda a=correct_answer,ca=current_answer:\n            self.ap.parse_answer(ca, a))\n</code></pre>\n\n<p>passes <code>(\"desired current_answer string\", False)</code></p>\n\n<p>Whichever variable I capture first is always set to False while the second variable capture is always what is intended.</p>\n\n<p>This suggests that there isn't something else in my code assigning False to either <code>current_answer</code> or <code>correct_answer</code>, and a print() statement inserted immediately prior to calling the lambda function confirms that both variables are set to the desired strings. Maybe I'm just not capturing the variables correctly, but after doing some reading I can't find any issue with my syntax. My variable captures look the same as numerous examples I have found.</p>\n"}, {"tags": ["python", "command-line-arguments", "argparse"], "comments": [{"owner": {"reputation": 4670, "user_id": 731240, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BZhQx.jpg?s=128&g=1", "display_name": "dg99", "link": "https://stackoverflow.com/users/731240/dg99"}, "edited": false, "score": 1, "creation_date": 1421276061, "post_id": 27953878, "comment_id": 44302996, "body": "What version of Python is this?  Just out of curiosity, what happens if you change the line <code>class User:</code> to <code>class User(object):</code>?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1421276472, "post_id": 27953878, "comment_id": 44303158, "body": "If you do <code>help(user)</code>, do you get help for the object you are expecting to?  This seems quite strange with the code you&#39;ve provided ... (also note, python2.x has a builtin <code>user</code> module, but it doesn&#39;t have a <code>User</code> class in it, so it&#39;s unlikely that you&#39;re accidentally importing that . . .)"}, {"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 0, "creation_date": 1421276636, "post_id": 27953878, "comment_id": 44303224, "body": "The problem is not in the code you&#39;ve shown us.  Are you sure that <code>batch-insert.py</code> and <code>user.py</code> are in the same directory?  Are you sure you saved your last changes to <code>user.py</code>?"}, {"owner": {"reputation": 1, "user_id": 4455480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cfe6a8f5d0b03eee41a649af74ef0a3?s=128&d=identicon&r=PG&f=1", "display_name": "stinkycat", "link": "https://stackoverflow.com/users/4455480/stinkycat"}, "edited": false, "score": 0, "creation_date": 1421363903, "post_id": 27953878, "comment_id": 44342182, "body": "Python 2.6.6 (r266:84292, Sep 11 2012, 08:28:27)  [GCC 4.4.6 20120305 (Red Hat 4.4.6-4)] on linux2"}, {"owner": {"reputation": 1, "user_id": 4455480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cfe6a8f5d0b03eee41a649af74ef0a3?s=128&d=identicon&r=PG&f=1", "display_name": "stinkycat", "link": "https://stackoverflow.com/users/4455480/stinkycat"}, "reply_to_user": {"reputation": 4670, "user_id": 731240, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BZhQx.jpg?s=128&g=1", "display_name": "dg99", "link": "https://stackoverflow.com/users/731240/dg99"}, "edited": false, "score": 0, "creation_date": 1421363924, "post_id": 27953878, "comment_id": 44342188, "body": "@dg99: nothing happens when i do that; same error."}, {"owner": {"reputation": 1, "user_id": 4455480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cfe6a8f5d0b03eee41a649af74ef0a3?s=128&d=identicon&r=PG&f=1", "display_name": "stinkycat", "link": "https://stackoverflow.com/users/4455480/stinkycat"}, "reply_to_user": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 0, "creation_date": 1421363977, "post_id": 27953878, "comment_id": 44342211, "body": "@jgritty, yes they are in the same directory."}, {"owner": {"reputation": 4670, "user_id": 731240, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BZhQx.jpg?s=128&g=1", "display_name": "dg99", "link": "https://stackoverflow.com/users/731240/dg99"}, "edited": false, "score": 0, "creation_date": 1421364251, "post_id": 27953878, "comment_id": 44342296, "body": "Can you edit your question to include more of file <code>user.py</code>?  Also, what happens if you change line 3 to read <code>import user</code> and change the beginning of line 16 to read <code>u = user.User(args...)</code>?"}], "owner": {"reputation": 1, "user_id": 4455480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cfe6a8f5d0b03eee41a649af74ef0a3?s=128&d=identicon&r=PG&f=1", "display_name": "stinkycat", "link": "https://stackoverflow.com/users/4455480/stinkycat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 880, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421275659, "creation_date": 1421275659, "question_id": 27953878, "link": "https://stackoverflow.com/questions/27953878/typeerror-init-takes-exactly-4-arguments-3-given", "title": "TypeError: __init__() takes exactly 4 arguments (3 given)", "body": "<p>I'm trying to instantiate instances of a User class in user.py based on the number of command-line arguments passed to a python program. I'm getting <code>TypeError: __init__() takes exactly 4 arguments (3 given)</code>. Here's the code:</p>\n\n<pre><code>#!/usr/bin/python\nimport sys, argparse\nfrom user import User\n\nif __name__ == \"__main__\":\n  # Parse args\n  parser = argparse.ArgumentParser(\"Batch insert\")\n  parser.add_argument('-d','--dbfilepath', dest='dbfilepath', help='Absolute path and filename of the sqlite database file', required=False, default='/usr/local/foo/bar.sqlite')\n  parser.add_argument('-v','--verbose', dest='verbose', help='Verbose output', required=False, action='store_true')\n  parser.add_argument('-l', '--list', help='comma-delimited list of username password pairs', required=True, type=str)\n  args = parser.parse_args()\n  my_list = [str(item) for item in args.list.split(',')]\n  # Only continue if we have even number of items in the un/pw list\n  if len(my_list) % 2 == 0:\n    count = 0\n    u = User(args.dbfilepath, args.verbose)\n    while (count &lt; len(my_list)):\n      u.create(my_list[count], my_list[count+1])\n      count = count + 1\n</code></pre>\n\n<p>file user.py:</p>\n\n<pre><code>class User:\n\n  def __init__(self, dbfilepath, verbose=False):\n    self._verbose = verbose\n\n    # Open DB and get cursor\n    self._con = sqlite3.connect(dbfilepath)\n    self._cursor = self._con.cursor()\n</code></pre>\n\n<p>Execution:</p>\n\n<pre><code>./batch-insert.py -d /tmp/sql.sqlite -v --list stinky,cat\n\nTraceback (most recent call last):\n  File \"./create-users-batch.py\", line 15, in &lt;module&gt;\n    u = User(args.dbfilepath, args.verbose)\nTypeError: __init__() takes exactly 4 arguments (3 given)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "function", "return", "nonetype"], "comments": [{"owner": {"reputation": 1659, "user_id": 3216660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UhP8.png?s=128&g=1", "display_name": "TidB", "link": "https://stackoverflow.com/users/3216660/tidb"}, "edited": false, "score": 1, "creation_date": 1421275296, "post_id": 27953740, "comment_id": 44302669, "body": "Take a look at the nested if and insert your numbers there and check what they produce."}, {"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 2, "creation_date": 1421275406, "post_id": 27953740, "comment_id": 44302717, "body": "Think about x=-1, y=0."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1421275871, "post_id": 27953740, "comment_id": 44302927, "body": "Also, be careful here -- on python2.x (which it appears that you are using by your print statements), <code>3&#47;2 == 1  # True</code>, but <code>not_equal</code> will probably say <code>False</code> in this case :-)."}], "answers": [{"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "edited": false, "score": 2, "creation_date": 1421276081, "post_id": 27953829, "comment_id": 44303006, "body": "To be fair, the answer provided by @JoelHinz is (IMHO) a lot easier to understand.  When I read his answer I can clearly see the problem, specifically, in some cases <code>equal</code> doesn&#39;t get set -- In your explanation, It&#39;s a lot harder to discern exactly what you&#39;re trying to say (even though, ultimately, you are trying to say the same thing)."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4447887"}, "is_accepted": false, "score": 0, "last_activity_date": 1421275448, "creation_date": 1421275448, "answer_id": 27953829, "question_id": 27953740, "link": "https://stackoverflow.com/questions/27953740/defining-not-equal-function-in-python/27953829#27953829", "title": "Defining not_equal Function in Python", "body": "<pre><code>if x == 0 or y == 0: #avoid error message for dividing by 0\n         if ((y+1)/(x+1)) == 1:\n             equal = False\n\nprint not_equal(0, 3)\nprint not_equal(4, 0)\n</code></pre>\n\n<p>This ones, put them in to your <code>if</code> statement;</p>\n\n<pre><code>(y+1)/(x+1)= 1/4 and 1/4 != 1.\n(y+1)/(x+1)= 5/1 and 5 != 1. \n</code></pre>\n\n<p>So your <code>if</code> statement is never process unless x and y = 0 .</p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 4413198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0d4684f366be39d0e7813ea76b99b389?s=128&d=identicon&r=PG&f=1", "display_name": "numbersloth", "link": "https://stackoverflow.com/users/4413198/numbersloth"}, "edited": false, "score": 0, "creation_date": 1421275673, "post_id": 27953839, "comment_id": 44302815, "body": "Ahhh, so I added an else condition within this first if loop that if it didn&#39;t equal 1, it would return True. Great! Thanks!"}, {"owner": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "reply_to_user": {"reputation": 67, "user_id": 4413198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0d4684f366be39d0e7813ea76b99b389?s=128&d=identicon&r=PG&f=1", "display_name": "numbersloth", "link": "https://stackoverflow.com/users/4413198/numbersloth"}, "edited": false, "score": 0, "creation_date": 1421275695, "post_id": 27953839, "comment_id": 44302829, "body": "Exactly. :) Good luck with your project!"}], "tags": [], "owner": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "is_accepted": true, "score": 3, "last_activity_date": 1421275472, "creation_date": 1421275472, "answer_id": 27953839, "question_id": 27953740, "link": "https://stackoverflow.com/questions/27953740/defining-not-equal-function-in-python/27953839#27953839", "title": "Defining not_equal Function in Python", "body": "<p>When you supply a 0 as either x or y, this code is triggered:</p>\n\n<pre><code>if x == 0 or y == 0: #avoid error message for dividing by 0\n     if ((y+1)/(x+1)) == 1:\n         equal = False\n</code></pre>\n\n<p>Now, for (0, 4), Python checks if (4+1)/(0+1) equals 1, and since it doesn't, it never sets <code>equal</code> to anything.</p>\n"}, {"comments": [{"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 0, "creation_date": 1421275565, "post_id": 27953849, "comment_id": 44302773, "body": "That would be too easy."}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 1, "creation_date": 1421275674, "post_id": 27953849, "comment_id": 44302816, "body": "@jgritty, some are born simple, some achieve simplicity, and some have simplicity thrust upon them... I belong in the latter group!-)"}, {"owner": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 0, "creation_date": 1421276235, "post_id": 27953849, "comment_id": 44303064, "body": "I guess OP should explain why the simplest answer is not sufficient.  I assumed there must be some reason they didn&#39;t use this approach."}, {"owner": {"reputation": 67, "user_id": 4413198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0d4684f366be39d0e7813ea76b99b389?s=128&d=identicon&r=PG&f=1", "display_name": "numbersloth", "link": "https://stackoverflow.com/users/4413198/numbersloth"}, "edited": false, "score": 0, "creation_date": 1421278741, "post_id": 27953849, "comment_id": 44303947, "body": "We were supposed to use conditional statements, sorry for not posting the whole assignment"}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 67, "user_id": 4413198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0d4684f366be39d0e7813ea76b99b389?s=128&d=identicon&r=PG&f=1", "display_name": "numbersloth", "link": "https://stackoverflow.com/users/4413198/numbersloth"}, "edited": false, "score": 0, "creation_date": 1421279744, "post_id": 27953849, "comment_id": 44304300, "body": "@numbersloth, with conditional statements, <code>if a==b: return True</code> and of course <code>else: return False</code> will work very well too!-)"}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 3, "last_activity_date": 1421275705, "last_edit_date": 1421275705, "creation_date": 1421275541, "answer_id": 27953849, "question_id": 27953740, "link": "https://stackoverflow.com/questions/27953740/defining-not-equal-function-in-python/27953849#27953849", "title": "Defining not_equal Function in Python", "body": "<p>Why do anything so convoluted?!  After all the hypothesis is that <code>!=</code> disappears, but I see nothing about <code>==</code>, so it should still be there!-)</p>\n\n<pre><code>def not_equal(a, b):\n    return not (a==b)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4195674, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8wOGrL8CR0Q/AAAAAAAAAAI/AAAAAAAAA5s/fvSY9hfc2BA/photo.jpg?sz=128", "display_name": "TheOneHyer", "link": "https://stackoverflow.com/users/4195674/theonehyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1421275717, "creation_date": 1421275717, "answer_id": 27953891, "question_id": 27953740, "link": "https://stackoverflow.com/questions/27953740/defining-not-equal-function-in-python/27953891#27953891", "title": "Defining not_equal Function in Python", "body": "<p>The error may arise because of an error in declaring the equal variable. Declare the variable <code>equal</code> explicitly before using it, i.e. <code>equal = None</code>.</p>\n\n<p>Alternatively, here is a function to accomplish the same goal (since <code>==</code> is still allowed by your assignment):</p>\n\n<pre><code>def not_equal(x, y):\n    if x == y:\n        equal = False\n    else:\n        equal = True\n    return equal\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4413198, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0d4684f366be39d0e7813ea76b99b389?s=128&d=identicon&r=PG&f=1", "display_name": "numbersloth", "link": "https://stackoverflow.com/users/4413198/numbersloth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 27953839, "answer_count": 4, "score": -1, "last_activity_date": 1421275717, "creation_date": 1421275043, "question_id": 27953740, "link": "https://stackoverflow.com/questions/27953740/defining-not-equal-function-in-python", "title": "Defining not_equal Function in Python", "body": "<p>So the assignment is to imagine that python does not have != built in, and to write a function not_equal that takes two parameters and gives the same result as the != operator.</p>\n\n<p>I've written he following code:</p>\n\n<pre><code>def not_equal(x, y):\n     if x == 0 or y == 0: #avoid error message for dividing by 0\n         if ((y+1)/(x+1)) == 1:\n             equal = False\n     elif x/y == 1:\n         equal = False\n     else:\n         equal = True\n     return equal\n</code></pre>\n\n<p>and tested the following test cases:</p>\n\n<pre><code>print not_equal(3, 4)\nprint not_equal(5, 5)\nprint not_equal(0, 3)\nprint not_equal(4, 0)\n</code></pre>\n\n<p>The first two work, but the second two give me the following error message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/dvanderknaap/Desktop/My Python Programs/hw2.py\", line 73, in &lt;module&gt;\n    print not_equal(0, 3)\n  File \"/Users/dvanderknaap/Desktop/My Python Programs/hw2.py\", line 67, in not_equal\n    return equal\nUnboundLocalError: local variable 'equal' referenced before assignment\n</code></pre>\n\n<p>Why?</p>\n"}, {"tags": ["python", "sympy", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 883, "user_id": 1840190, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/961a65aef6705198711d64c70638b494?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/1840190/craig"}, "edited": false, "score": 0, "creation_date": 1421346806, "post_id": 27953986, "comment_id": 44333663, "body": "Thank you! That was just what I had been searching for."}], "tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": true, "score": 4, "last_activity_date": 1421276463, "last_edit_date": 1421276463, "creation_date": 1421276078, "answer_id": 27953986, "question_id": 27953715, "link": "https://stackoverflow.com/questions/27953715/substitute-sympy-function-with-arbitrary-arguments/27953986#27953986", "title": "substitute sympy function with arbitrary arguments", "body": "<p>When you're doing <a href=\"http://docs.sympy.org/latest/tutorial/manipulation.html\" rel=\"nofollow\">advanced expression manipulation</a> like this (okay, your example is still simple), the <a href=\"http://docs.sympy.org/latest/modules/core.html?highlight=replace#sympy.core.basic.Basic.replace\" rel=\"nofollow\">replace method</a> is very useful:</p>\n\n<pre><code>test.replace(f, lambda arg: 2*arg)  # returns: 2*x + 2*y\n</code></pre>\n\n<p>From the docs:</p>\n\n<blockquote>\n  <p>[replace] Traverses an expression tree and performs replacement of matching subexpressions from the bottom to the top of the tree. </p>\n</blockquote>\n\n<p>The 2nd example of the docs show that any function can be replaced by another that works on its arguments, as shown above for your example as well.</p>\n"}], "owner": {"reputation": 883, "user_id": 1840190, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/961a65aef6705198711d64c70638b494?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/1840190/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 27953986, "answer_count": 1, "score": 4, "last_activity_date": 1421276463, "creation_date": 1421274912, "question_id": 27953715, "link": "https://stackoverflow.com/questions/27953715/substitute-sympy-function-with-arbitrary-arguments", "title": "substitute sympy function with arbitrary arguments", "body": "<p>This should be an easy task, but I'm having a hard time getting it to work in Sympy.\nI want to substitute an undefined function with arbitrary arguments with a specific formula for example:</p>\n\n<pre><code>from sympy import *\nvar('a b c')\nf= Function('f')\ntest= f(a+b)\nlin= test.subs({f(c):2*(c)})\nprint(lin)\n</code></pre>\n\n<p>I want this to print out </p>\n\n<pre><code>2*(a+b)\n</code></pre>\n\n<p>However, for that I have to use</p>\n\n<pre><code>lin= test.subs({f(a+b):2*(a+b)})\n</code></pre>\n\n<p>Do I have to define f as a class in order to do this substitution?</p>\n"}, {"tags": ["python", "loops", "csv", "compare"], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1421275077, "post_id": 27953631, "comment_id": 44302572, "body": "Ids would be better as a set, 0(1) as opposed to linear"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1421275304, "post_id": 27953631, "comment_id": 44302671, "body": "No worries, won&#39;t matter on small input but will be much more efficient dealing with large input."}, {"owner": {"reputation": 33, "user_id": 4455388, "user_type": "registered", "profile_image": "https://graph.facebook.com/1033797403/picture?type=large", "display_name": "Adrian Oceguera", "link": "https://stackoverflow.com/users/4455388/adrian-oceguera"}, "edited": false, "score": 0, "creation_date": 1421282544, "post_id": 27953631, "comment_id": 44305114, "body": "You all are Gods among men!  Worked Perfect and exactly how I want it to. You rock!!"}], "tags": [], "owner": {"reputation": 2643, "user_id": 2444293, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/12e2df5d1a7f43ca9123592dbf8f9f99?s=128&d=identicon&r=PG", "display_name": "VHarisop", "link": "https://stackoverflow.com/users/2444293/vharisop"}, "is_accepted": true, "score": 3, "last_activity_date": 1421275161, "last_edit_date": 1421275161, "creation_date": 1421274522, "answer_id": 27953631, "question_id": 27953589, "link": "https://stackoverflow.com/questions/27953589/how-do-i-delete-rows-in-one-csv-based-on-rows-in-another-csv-using-specific-colu/27953631#27953631", "title": "How do I delete rows in one CSV based on rows in another CSV using specific columns to compare", "body": "<p>You could extract all of the ID's in the second file and look those up every time you check one of the rows of the first file.</p>\n\n<p>For example:</p>\n\n<pre><code># extract ID column from CSV file 2 into a set\nIds = { row[1] for row in smartee }\n\n# pick only rows whose ID is in Ids \nfiltered_rows = [item for item in aeries if item[1] in Ids] \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1421275056, "creation_date": 1421275056, "answer_id": 27953743, "question_id": 27953589, "link": "https://stackoverflow.com/questions/27953589/how-do-i-delete-rows-in-one-csv-based-on-rows-in-another-csv-using-specific-colu/27953743#27953743", "title": "How do I delete rows in one CSV based on rows in another CSV using specific columns to compare", "body": "<p>First, read CSV2 to make just a set of IDs:</p>\n\n<pre><code>with open(CSV2) as f:\n    r = csv.DictReader(f)\n    theids = set(row['ID'] for row in r)\n</code></pre>\n\n<p>Then, while reading CSV1, just check if the ID is in the set:</p>\n\n<pre><code>with open(CSV1) as f, open(CSV1 + '.new', 'w') as out:\n    r = csv.DictReader(r)\n    w = csv.DictWriter(out, r.fieldnames)\n    for row in r:\n        if row['ID'] in theids:\n            w.writerow(row)\n</code></pre>\n\n<p>This assumes the CSV files are suitable for dict-based read/write (i.e first row is a list of column names), but is easy to tweak if the col names come from other information too.</p>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1421279799, "last_edit_date": 1421279799, "creation_date": 1421279404, "answer_id": 27954604, "question_id": 27953589, "link": "https://stackoverflow.com/questions/27953589/how-do-i-delete-rows-in-one-csv-based-on-rows-in-another-csv-using-specific-colu/27954604#27954604", "title": "How do I delete rows in one CSV based on rows in another CSV using specific columns to compare", "body": "<p>Depending on what you plan on doing with the relevant rows of data, you might be able to use Python's built-in <a href=\"https://docs.python.org/2/library/functions.html?highlight=filter#filter\" rel=\"nofollow\"><code>filter()</code></a> function to do what you need:</p>\n\n<pre><code>import csv\n\n# first get the ids    \nwith open('Smartee.csv', 'rb') as smarteeCSV:  # CSV2\n    ids = set(row['ID'] for row in csv.DictReader(smarteeCSV, delimiter=','))\n\nwith open('aeriesEditable.csv', 'rb') as aeriesCSV:  # CSV1\n    relevant = filter(lambda row: if row['ID'] in ids,\n                        csv.DictReader(aeriesCSV, delimiter=','))\n\n# relevant will be a list containing the desired rows from CSV1\n</code></pre>\n\n<p>If you want to iteratively process the rows, for the second part you could use a <code>for</code> loop over the results of calling the <a href=\"https://docs.python.org/2/library/itertools.html#itertools.ifilter\" rel=\"nofollow\"><code>itertools.ifilter()</code></a> function similarly instead. </p>\n"}], "owner": {"reputation": 33, "user_id": 4455388, "user_type": "registered", "profile_image": "https://graph.facebook.com/1033797403/picture?type=large", "display_name": "Adrian Oceguera", "link": "https://stackoverflow.com/users/4455388/adrian-oceguera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1283, "favorite_count": 0, "accepted_answer_id": 27953631, "answer_count": 3, "score": 1, "last_activity_date": 1421279799, "creation_date": 1421274315, "last_edit_date": 1421274808, "question_id": 27953589, "link": "https://stackoverflow.com/questions/27953589/how-do-i-delete-rows-in-one-csv-based-on-rows-in-another-csv-using-specific-colu", "title": "How do I delete rows in one CSV based on rows in another CSV using specific columns to compare", "body": "<p>I have two CSV files, <code>CSV1</code> and <code>CSV2</code>, with multiple columns and rows. One of the columns is titled <code>ID</code>.</p>\n\n<p>What I want to do is check <code>CSV1</code>'s rows and if there is an <code>ID</code> in <code>CSV2</code>'s <code>ID</code> column that matches <code>CSV1</code>'s rows <code>ID</code>, then I want to keep that row. If there's no match, then I want to delete the row from <code>CSV1</code>.</p>\n\n<p>Basically the data in <code>CSV1</code> is relevant to me, but only the people that are in <code>CSV2</code>. The unique connection between the two is the <code>ID</code> column. So I need to check all the rows in <code>CSV1</code> to see if that Row <code>ID</code> is in a row in <code>CSV2</code>.</p>\n\n<p>Here's what I have so far. </p>\n\n<pre><code>import csv\nsmarteeCSV = open(\"Smartee.csv\", \"r\")\naeriesCSV = open(\"aeriesEditable.csv\", \"r+\")\n\naeries = csv.reader(aeriesCSV, delimiter=',')##CSV1\nsmartee = csv.reader(smarteeCSV, delimiter=',')##CSV2    \n\nfor row in aeries:\n    for item in smartee\n    if row[1] != item[1]##indexes for the columns with the ids\n</code></pre>\n\n<p>I can already tell I'm not on the right track, so can anyone assist?</p>\n"}, {"tags": ["python", "egg", "python-wheel"], "answers": [{"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": true, "score": 3, "last_activity_date": 1421275856, "creation_date": 1421275856, "answer_id": 27953925, "question_id": 27953362, "link": "https://stackoverflow.com/questions/27953362/if-you-publish-python-using-wheel-format-do-you-still-need-to-publish-them-as-eg/27953925#27953925", "title": "If you publish Python using wheel format do you still need to publish them as egg?", "body": "<p>Can you assume your prospective users will all have pip >= 1.4 and/or setuptools >= 0.8?  If so, wheels are fine.  If not, an egg will help them, since previous releases of pip and setuptools don't support wheels.  The fact that their Python is 2.6 or better is no guarantee that their installation tools will be reasonably recent, I believe.</p>\n"}], "owner": {"reputation": 135876, "user_id": 99834, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/63c50004c4f6eaf3235b9ea836f4b6cf?s=128&d=identicon&r=PG", "display_name": "sorin", "link": "https://stackoverflow.com/users/99834/sorin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "accepted_answer_id": 27953925, "answer_count": 1, "score": 4, "last_activity_date": 1421275856, "creation_date": 1421273261, "question_id": 27953362, "link": "https://stackoverflow.com/questions/27953362/if-you-publish-python-using-wheel-format-do-you-still-need-to-publish-them-as-eg", "title": "If you publish Python using wheel format do you still need to publish them as egg?", "body": "<p>Assuming that you are supporting Python 2.6 or newer, does it make any sense to publish .egg packages or is enough to publish .whl ones?</p>\n\n<p>In my case, the packages are pure python.</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "is_accepted": true, "score": 1, "last_activity_date": 1421273471, "creation_date": 1421273471, "answer_id": 27953411, "question_id": 27953351, "link": "https://stackoverflow.com/questions/27953351/namespace-django-app-names/27953411#27953411", "title": "Namespace django app names", "body": "<p>Create a python package <code>mycompany</code> (i.e. folder with <strong>init</strong>.py file inside), inside create package <code>app</code>.</p>\n\n<p>There is also namespace term in django urls, can be noticed in calls like <code>reverse('namespace:view-name')</code>, here is the doc for these: <a href=\"https://docs.djangoproject.com/en/1.7/topics/http/urls/#url-namespaces\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.7/topics/http/urls/#url-namespaces</a></p>\n"}], "owner": {"reputation": 4192, "user_id": 197681, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UP9gT.jpg?s=128&g=1", "display_name": "wmorrell", "link": "https://stackoverflow.com/users/197681/wmorrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 27953411, "answer_count": 1, "score": 0, "last_activity_date": 1421273471, "creation_date": 1421273229, "question_id": 27953351, "link": "https://stackoverflow.com/questions/27953351/namespace-django-app-names", "title": "Namespace django app names", "body": "<p>I have tried searching around for this, but searches including \"django\", \"app\", and \"namespace\" all bring up topics mostly relating to URLConf, not what I want to know.</p>\n\n<p>In Django settings, apps included in a project are listed in the <code>INSTALLED_APPS</code> setting. Most community-released apps are not \"namespaced\" in that the app name consists of only letters, numbers, and underscores. There are official apps like \"django.contrib.sites\" that are \"namespaced\" with dot-syntax. What I cannot seem to find is: how do I do this? For example, if I want to create an app like \"mycompany.app\". The <code>startapp</code> command of manage.py does not allow naming like this if I try <code>./manage.py \"mycompany.app\"</code>, complaining of invalid characters.</p>\n\n<p>So what Python and/or Django magic am I missing to create and use apps in this way? Or is there some reason why doing this is discouraged, and I should only make apps like \"mycompany_app\"?</p>\n"}, {"tags": ["python", "matplotlib", "plot", "legend"], "comments": [{"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1421274056, "post_id": 27953340, "comment_id": 44302104, "body": "Why not just add two text labels with <code>ax.text()</code>?"}, {"owner": {"reputation": 772, "user_id": 1866416, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/90fd4f68ec401045fd8aab9e8a147a10?s=128&d=identicon&r=PG", "display_name": "Olga ", "link": "https://stackoverflow.com/users/1866416/olga"}, "reply_to_user": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1421276416, "post_id": 27953340, "comment_id": 44303134, "body": "@OliverW., I tried <code>ax1.text(.6, .06, r&#39;Hello&#39;)</code>. It doesn&#39;t work. And <code>ax1.annotate(&#39;text&#39;, xytext=(.6, .06))</code> also"}], "answers": [{"tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1421276874, "creation_date": 1421276874, "answer_id": 27954161, "question_id": 27953340, "link": "https://stackoverflow.com/questions/27953340/text-in-legend-for-matplotlib-plot/27954161#27954161", "title": "Text in legend for matplotlib plot", "body": "<p>Use the <code>text</code> method of the axes object.\nAlso, remember that the default is that the first 2 arguments of <code>ax1.text</code> are in <em>data coordinates</em>, so in your example, <code>Hello</code> will be put at <code>(x,y)=(.6, .06)</code>, unless you also add the parameter <code>transform=ax1.transAxes</code> to <code>ax1.text</code>, like so:</p>\n\n<pre><code>ax1.text(.60, .06, r'Hello', transform=ax1.transAxes)\n</code></pre>\n\n<p>That will add the text label a little over halfway from the left and a little higher than the bottom of the axes.</p>\n"}], "owner": {"reputation": 772, "user_id": 1866416, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/90fd4f68ec401045fd8aab9e8a147a10?s=128&d=identicon&r=PG", "display_name": "Olga ", "link": "https://stackoverflow.com/users/1866416/olga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1107, "favorite_count": 0, "accepted_answer_id": 27954161, "answer_count": 1, "score": 0, "last_activity_date": 1421276874, "creation_date": 1421273203, "last_edit_date": 1421275913, "question_id": 27953340, "link": "https://stackoverflow.com/questions/27953340/text-in-legend-for-matplotlib-plot", "title": "Text in legend for matplotlib plot", "body": "<p>I have a plot and want a legend placed in the upper right corner without any frame around with two lines: </p>\n\n<pre><code>a = 10\nb = 3*pi\n</code></pre>\n\n<p>Those lines are some coefficients of my plotted function. </p>\n\n<p>So far, I have </p>\n\n<pre><code>ax1.plot(x, y, label='a')\nax1.legend([\"a = 10\", \"b = 3*pi\"], loc=\"upper right\", ncol=1, frameon=False)\n</code></pre>\n\n<p>But that keeps lines type or color next to my two strings. How to remove them?\nPut it in the title is not an option. There is a different text.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 6, "creation_date": 1421272726, "post_id": 27953197, "comment_id": 44301496, "body": "<code>str.split()</code> is <b><i>not</i></b> deprecated. The old <code>string</code> module functions are, because we now have proper methods."}, {"owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "edited": false, "score": 1, "creation_date": 1421272810, "post_id": 27953197, "comment_id": 44301550, "body": "Also, what&#39;s your definition of the first word? Everything up to, and including, the first comma and the spaces immediately following the comma?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4447887"}, "edited": false, "score": 1, "creation_date": 1421272857, "post_id": 27953197, "comment_id": 44301568, "body": "What is <code>line</code> ? A string? A list? A line from a file?"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 2, "creation_date": 1421273081, "post_id": 27953197, "comment_id": 44301678, "body": "Are all the strings just like that? (use <code>str.split()</code>) Or might have some complexity like quoted fields? (use the <code>csv</code> module)"}, {"owner": {"reputation": 189, "user_id": 4018564, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a076a67424590ba79585fc234a7a84f0?s=128&d=identicon&r=PG&f=1", "display_name": "Elena", "link": "https://stackoverflow.com/users/4018564/elena"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421273368, "post_id": 27953197, "comment_id": 44301791, "body": "@Martijn Pieters, sorry maybe sounds dummy but could you then explain please why it&#39;s in section Deprecated (<a href=\"https://docs.python.org/2/library/string.html#7.1.6\" rel=\"nofollow noreferrer\">docs.python.org/2/library/string.html#7.1.6</a>. Deprecated string functions) and not deprecated?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421273462, "post_id": 27953197, "comment_id": 44301831, "body": "@Elena: because those are <b>functions</b>. See the <a href=\"https://docs.python.org/2/library/stdtypes.html#string-methods\" rel=\"nofollow noreferrer\"><i>String Methods</i> section</a> for the (newer) string <b>methods</b>."}, {"owner": {"reputation": 189, "user_id": 4018564, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a076a67424590ba79585fc234a7a84f0?s=128&d=identicon&r=PG&f=1", "display_name": "Elena", "link": "https://stackoverflow.com/users/4018564/elena"}, "edited": false, "score": 0, "creation_date": 1421273653, "post_id": 27953197, "comment_id": 44301916, "body": "aa, now I got it. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 240, "user_id": 3721256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3nIn.jpg?s=128&g=1", "display_name": "Paedolos", "link": "https://stackoverflow.com/users/3721256/paedolos"}, "is_accepted": true, "score": 2, "last_activity_date": 1421273173, "creation_date": 1421273173, "answer_id": 27953333, "question_id": 27953197, "link": "https://stackoverflow.com/questions/27953197/delete-the-first-word-and-everything-after-third-comma-python-2-7/27953333#27953333", "title": "Delete the first word and everything after third comma - Python 2.7", "body": "<p>Here's a couple of tricks you could use to achieve what you want:</p>\n\n<ol>\n<li>Use .split(', ') to break your line into an array of words</li>\n<li>Use the sub-array notation ([1:3] for example) to keep the second and third words</li>\n<li>Reconstruct the array back into a line using .join, supplying any delimiter you'd like (e.g. a new comma)</li>\n</ol>\n\n<p>For example:</p>\n\n<pre><code>', '.join(\"aaa, bbb, ccc, dddd, eeee\".split(', ')[1:3])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4458, "user_id": 130453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9510a3b34bd894d94d4a670ea05662e?s=128&d=identicon&r=PG", "display_name": "corn3lius", "link": "https://stackoverflow.com/users/130453/corn3lius"}, "is_accepted": false, "score": 1, "last_activity_date": 1421273600, "creation_date": 1421273600, "answer_id": 27953427, "question_id": 27953197, "link": "https://stackoverflow.com/questions/27953197/delete-the-first-word-and-everything-after-third-comma-python-2-7/27953427#27953427", "title": "Delete the first word and everything after third comma - Python 2.7", "body": "<pre><code>def wordsTwoAndThree( csvString, sep ): \n    return sep.join(csvString.split(sep)[1:3])\n\nprint( wordsTwoAndThree(\"aaaaaaa, bbbbbbb, ccccccc, ddddddd\", ',') )\n</code></pre>\n\n<p>Similarly to @Paedolos 's suggestion. </p>\n"}], "owner": {"reputation": 189, "user_id": 4018564, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a076a67424590ba79585fc234a7a84f0?s=128&d=identicon&r=PG&f=1", "display_name": "Elena", "link": "https://stackoverflow.com/users/4018564/elena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "closed_date": 1421288312, "accepted_answer_id": 27953333, "answer_count": 2, "score": -4, "last_activity_date": 1421305279, "creation_date": 1421272618, "last_edit_date": 1421305279, "question_id": 27953197, "link": "https://stackoverflow.com/questions/27953197/delete-the-first-word-and-everything-after-third-comma-python-2-7", "closed_reason": "Needs details or clarity", "title": "Delete the first word and everything after third comma - Python 2.7", "body": "<p>Say I have a line like this:</p>\n\n<pre><code>aaaaaaa, bbbbbbb, ccccccc, ddddddd\n</code></pre>\n\n<p>And I need to cut it to look like this:</p>\n\n<pre><code>bbbbbbb, ccccccc\n</code></pre>\n\n<p>So how to delete the first word and everything after third comma ?</p>\n"}, {"tags": ["python", "elasticsearch"], "comments": [{"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 1, "creation_date": 1421310891, "post_id": 27953124, "comment_id": 44312624, "body": "I&#39;ll use the bulk api for that purpose but if you don&#39;t give us more information about your data size or specificity of your hardware and what you are trying to achieve, we will not be able to help you!"}, {"owner": {"reputation": 231, "user_id": 3055367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2d1bdd35ffa6785265f9ed7ea946b6d1?s=128&d=identicon&r=PG&f=1", "display_name": "huhahihi", "link": "https://stackoverflow.com/users/3055367/huhahihi"}, "reply_to_user": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421326888, "post_id": 27953124, "comment_id": 44321046, "body": "@eliasah thanks. I&#39;ve edited my answer with the details..."}, {"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421327080, "post_id": 27953124, "comment_id": 44321155, "body": "are you using Logstash, a river or another solution?"}, {"owner": {"reputation": 231, "user_id": 3055367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2d1bdd35ffa6785265f9ed7ea946b6d1?s=128&d=identicon&r=PG&f=1", "display_name": "huhahihi", "link": "https://stackoverflow.com/users/3055367/huhahihi"}, "reply_to_user": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421327470, "post_id": 27953124, "comment_id": 44321377, "body": "yes, I am using the elasticsearch twitter river at the moment. But if it cant keep up in the future, I am fine with writing my own code to stream and index the tweets..."}, {"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421328525, "post_id": 27953124, "comment_id": 44321925, "body": "You also have logstash as alternative solution which is good. How about your river settings, and more specifically the bulk_size parameter? and how much resource did you give for elasticsearch? how much RAM?"}, {"owner": {"reputation": 231, "user_id": 3055367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2d1bdd35ffa6785265f9ed7ea946b6d1?s=128&d=identicon&r=PG&f=1", "display_name": "huhahihi", "link": "https://stackoverflow.com/users/3055367/huhahihi"}, "reply_to_user": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421352052, "post_id": 27953124, "comment_id": 44336538, "body": "Whats the additional benefit of using Logstash? I just don&#39;t understand it&#39;s use case for something like tweets, in fact anything outside the logs use case. I read about it and seems like it reads input from Redis, but if I have to setup Redis, I might as well just use the Redis river to directly index into ES!"}, {"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 1, "creation_date": 1421352298, "post_id": 27953124, "comment_id": 44336664, "body": "First, rivers are deprecated and they will be removed in further versions. Second, Logstash is more flexible than rivers. Ex: you might want to perform an extra preprocessing on the input. The rivers don&#39;t allow that unlike Logstash."}, {"owner": {"reputation": 231, "user_id": 3055367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2d1bdd35ffa6785265f9ed7ea946b6d1?s=128&d=identicon&r=PG&f=1", "display_name": "huhahihi", "link": "https://stackoverflow.com/users/3055367/huhahihi"}, "reply_to_user": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421353601, "post_id": 27953124, "comment_id": 44337349, "body": "Ah, makes sense. Thanks! So, like you mentioned Logstash can do pre-processing. I assume it won&#39;t be distributed i.e. doing large calculations on data to add a new field would run on the same machine and probably slow down the entire thing?"}, {"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421354978, "post_id": 27953124, "comment_id": 44338083, "body": "Large computing or distributed? That&#39;s two different things. Logstash can be distributed but I&#39;m not sure it can handle large computing algorithms."}, {"owner": {"reputation": 231, "user_id": 3055367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2d1bdd35ffa6785265f9ed7ea946b6d1?s=128&d=identicon&r=PG&f=1", "display_name": "huhahihi", "link": "https://stackoverflow.com/users/3055367/huhahihi"}, "reply_to_user": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421355490, "post_id": 27953124, "comment_id": 44338373, "body": "I meant distributing to parallelize big calculations on data. So, you mean I can setup a Logstash cluster to utilize the Twitter input, then do some calculations and send to ES cluster? In this case would all Logstash nodes fetch and process the data?"}, {"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1421489002, "post_id": 27953124, "comment_id": 44386258, "body": "Some how yes! The terminology you are using is not quite accurate thought. But you can consider your Logstash &quot;nodes&quot; as rivers. And &quot;big calculations&quot; on data cannot be handled in both streaming processes (river or Logstash). You are not trying to apply classification algorithms upon tweets stream I suppose. So I think that Logstash can do the job for you!"}], "answers": [{"tags": [], "owner": {"reputation": 663, "user_id": 947594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa62beee2f22a55e90ea786d928853b4?s=128&d=identicon&r=PG", "display_name": "pgratton", "link": "https://stackoverflow.com/users/947594/pgratton"}, "is_accepted": false, "score": 1, "last_activity_date": 1421341371, "creation_date": 1421341371, "answer_id": 27968878, "question_id": 27953124, "link": "https://stackoverflow.com/questions/27953124/how-to-scale-elasticsearch-that-it-can-index-a-large-number-of-documents-per-sec/27968878#27968878", "title": "How to scale elasticsearch that it can index a large number of documents per second?", "body": "<p>A few highlights that come from experiments and articles:</p>\n\n<ul>\n<li><p>Since you will do a lot of writing, make sure you start with a good number of primary shards. You can make that decision based on the number of nodes you will have/need. Basically, you want to make sure that your primary shards are distributed on different nodes so they can share the work. You can't change the number of primary shards once your index is created, so think it out.</p></li>\n<li><p>Do not assign more than 50% of your machine's memory to ES. The rest will be used by Lucene (see <a href=\"http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/heap-sizing.html\" rel=\"nofollow\">http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/heap-sizing.html</a>)</p></li>\n<li><p>Use a SSD. When indexing, I/O plays a big role (see <a href=\"http://www.elasticsearch.org/blog/performance-considerations-elasticsearch-indexing/\" rel=\"nofollow\">http://www.elasticsearch.org/blog/performance-considerations-elasticsearch-indexing/</a>)</p></li>\n<li><p>Generally: I/O > Memory > Multiple CPU Cores > Fast single CPU (see <a href=\"http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/hardware.html\" rel=\"nofollow\">http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/hardware.html</a>)</p></li>\n<li><p>Pretty much each setup is unique, so the best way to find out what the optimal configurations are for you is to try it out. Elasticsearch has a great monitoring tool called Marvel (<a href=\"http://www.elasticsearch.org/overview/marvel/\" rel=\"nofollow\">http://www.elasticsearch.org/overview/marvel/</a>)</p></li>\n</ul>\n\n<p>Have fun !</p>\n"}], "owner": {"reputation": 231, "user_id": 3055367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2d1bdd35ffa6785265f9ed7ea946b6d1?s=128&d=identicon&r=PG&f=1", "display_name": "huhahihi", "link": "https://stackoverflow.com/users/3055367/huhahihi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421341371, "creation_date": 1421272360, "last_edit_date": 1421326833, "question_id": 27953124, "link": "https://stackoverflow.com/questions/27953124/how-to-scale-elasticsearch-that-it-can-index-a-large-number-of-documents-per-sec", "title": "How to scale elasticsearch that it can index a large number of documents per second?", "body": "<p>I have a basic elasticsearch cluster at the moment in which I am using a river to index data. I want to scale for future growth in two phases. Number of documents indexed per second is what could be the bottleneck.</p>\n\n<ol>\n<li>Phase 1: Indexing 100 documents per second into elasticsearch</li>\n<li>Phase 2: Indexing 10000 documents per second into elasticsearch</li>\n</ol>\n\n<p>How should I go about it?</p>\n\n<p>Thanks-in-advance!</p>\n\n<p>Edit:<br>\nI am trying to index the Twitter stream.\nEach document = around 2 KB.\nHardware is flexible. Right now I have magnetic disks (with 50 GB RAM) but getting SSD (and better config) is no biggie.</p>\n"}, {"tags": ["python", "web", "webpage", "wget"], "answers": [{"tags": [], "owner": {"reputation": 5351, "user_id": 2514521, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ogO4d.png?s=128&g=1", "display_name": "AMADANON Inc.", "link": "https://stackoverflow.com/users/2514521/amadanon-inc"}, "is_accepted": false, "score": 1, "last_activity_date": 1421272718, "creation_date": 1421272718, "answer_id": 27953219, "question_id": 27953118, "link": "https://stackoverflow.com/questions/27953118/trying-to-save-information-on-different-webpages/27953219#27953219", "title": "Trying to save information on different webpages", "body": "<p>To retrieve a web page in Python, rather than using wget, I would reccomend using python's urllib2 - <a href=\"https://docs.python.org/2/howto/urllib2.html\" rel=\"nofollow\">https://docs.python.org/2/howto/urllib2.html</a></p>\n\n<p>Once you have retrieved the web page, you can parse it using BeautifulSoup - <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow\">http://www.crummy.com/software/BeautifulSoup/bs4/doc/</a> - it will parse the html for you, and you can go right to the pieces of the web page you want. </p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4455280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RuY0M8sJkx4/AAAAAAAAAAI/AAAAAAAADVU/HcsqGWLeNDM/photo.jpg?sz=128", "display_name": "Rafael Carrascosa", "link": "https://stackoverflow.com/users/4455280/rafael-carrascosa"}, "is_accepted": false, "score": 2, "last_activity_date": 1421273124, "creation_date": 1421273124, "answer_id": 27953319, "question_id": 27953118, "link": "https://stackoverflow.com/questions/27953118/trying-to-save-information-on-different-webpages/27953319#27953319", "title": "Trying to save information on different webpages", "body": "<p>Every once in a while I have the same problem, what I usually do is a small script like this:</p>\n\n<pre><code>url = \"www.yoursite.com/topics\"\ncustom_regex = re.compile(\"insert your a regex here\")\nreq = urllib2.Request(url, headers={\"User-Agent\": \"Magic Browser\"})\ntext = urllib2.urlopen(req).read()\nfor link in custom_regex.findall(text):\n    print link\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>python script.py &gt; urls.txt\nwget -i urls\n</code></pre>\n\n<p>The <code>-i</code> option tells wget to download all urls listed in a file, one url per line.</p>\n"}], "owner": {"reputation": 765, "user_id": 2386790, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7caa9c2626843e05f36717a99afa8825?s=128&d=identicon&r=PG", "display_name": "l00kitsjake", "link": "https://stackoverflow.com/users/2386790/l00kitsjake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1421273124, "creation_date": 1421272331, "question_id": 27953118, "link": "https://stackoverflow.com/questions/27953118/trying-to-save-information-on-different-webpages", "title": "Trying to save information on different webpages", "body": "<p>I have a website where there is information about topic (explaining what it is). Each topic has its own webpage. Each webpage is set up the same, and I want to retrieve this information all automatically. I was thinking on using something like wget to grab the info automatically, but Im new with wget so I dont know if it will work nor do I know how I would run it to go to each page and get the information I want.</p>\n\n<p>I hope I've made a little sense here. Like I said, my attempt at the problem is using wget and maybe a python script? Im not asking for a script on how to do it, just looking for some direction.</p>\n"}, {"tags": ["python", "image", "opencv", "computer-vision", "opencv3.0"], "comments": [{"owner": {"reputation": 634, "user_id": 4245330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wabOp.jpg?s=128&g=1", "display_name": "cziemba", "link": "https://stackoverflow.com/users/4245330/cziemba"}, "edited": false, "score": 1, "creation_date": 1421272536, "post_id": 27953069, "comment_id": 44301401, "body": "this line: <code>cv2.imshow(&#39;Old_Frame&#39;, old_frame_resized)</code> where is old_frame_resized defined?"}, {"owner": {"reputation": 1683, "user_id": 3377126, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ea448f812418066f9e62ebf9a98bc0be?s=128&d=identicon&r=PG&f=1", "display_name": "user3377126", "link": "https://stackoverflow.com/users/3377126/user3377126"}, "reply_to_user": {"reputation": 634, "user_id": 4245330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wabOp.jpg?s=128&g=1", "display_name": "cziemba", "link": "https://stackoverflow.com/users/4245330/cziemba"}, "edited": false, "score": 0, "creation_date": 1421274413, "post_id": 27953069, "comment_id": 44302285, "body": "Oh sorry, it is actually cv2.imshow(&#39;Old_Frame&#39;, old_frame). This error still exists though"}, {"owner": {"reputation": 634, "user_id": 4245330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wabOp.jpg?s=128&g=1", "display_name": "cziemba", "link": "https://stackoverflow.com/users/4245330/cziemba"}, "edited": false, "score": 2, "creation_date": 1421332870, "post_id": 27953069, "comment_id": 44324491, "body": "Any idea which <code>imshow</code> is throwing the error? The error likely means the image is empty. I suggest checking the <code>cap.read()</code> return values, specifically the <code>ret</code> value for False, meaning the capture failed."}, {"owner": {"reputation": 1976, "user_id": 1722383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7kni.png?s=128&g=1", "display_name": "gfkri", "link": "https://stackoverflow.com/users/1722383/gfkri"}, "reply_to_user": {"reputation": 634, "user_id": 4245330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wabOp.jpg?s=128&g=1", "display_name": "cziemba", "link": "https://stackoverflow.com/users/4245330/cziemba"}, "edited": false, "score": 2, "creation_date": 1421335608, "post_id": 27953069, "comment_id": 44326414, "body": "I agree with @cziemba. I found the following in the opencv doc <a href=\"http://docs.opencv.org/trunk/doc/py_tutorials/py_gui/py_video_display/py_video_display.html\" rel=\"nofollow noreferrer\">(Getting Started with Videos)</a>: cap.read() returns a bool (True/False). If frame is read correctly, it will be True. So you can check end of the video by checking this return value.  Sometimes, cap may not have initialized the capture. In that case, this code shows error. You can check whether it is initialized or not by the method cap.isOpened(). If it is True, OK. Otherwise open it using cap.open()."}, {"owner": {"reputation": 381, "user_id": 1588301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c61a127b97fb174b3f5d56e5ef1941?s=128&d=identicon&r=PG", "display_name": "G. F&#252;hr", "link": "https://stackoverflow.com/users/1588301/g-f%c3%bchr"}, "edited": false, "score": 0, "creation_date": 1440255202, "post_id": 27953069, "comment_id": 52202941, "body": "I also had some problems in the past that the first few frames of VideoCapture can be empty, all null values. While reading from cameras, of course, not videos."}, {"owner": {"reputation": 1, "user_id": 7951425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhU9a.png?s=128&g=1", "display_name": "A.ATLASSI", "link": "https://stackoverflow.com/users/7951425/a-atlassi"}, "edited": false, "score": 0, "creation_date": 1559831364, "post_id": 27953069, "comment_id": 99549928, "body": "The answer to this question is covered in the following link <a href=\"https://stackoverflow.com/a/31342428/7951425\">stackoverflow.com/a/31342428/7951425</a>"}], "answers": [{"comments": [{"owner": {"reputation": 709, "user_id": 5544999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yvdYx.jpg?s=128&g=1", "display_name": "hoohoo-b", "link": "https://stackoverflow.com/users/5544999/hoohoo-b"}, "edited": false, "score": 2, "creation_date": 1589271388, "post_id": 33819978, "comment_id": 109219161, "body": "HAHAHA I&#39;m so glad it was such a simple error on my side. Thanks a lot!!!"}], "tags": [], "owner": {"reputation": 766, "user_id": 5123380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcbcb207335a599b42d72bbb268442d3?s=128&d=identicon&r=PG&f=1", "display_name": "Gauranga", "link": "https://stackoverflow.com/users/5123380/gauranga"}, "is_accepted": false, "score": 24, "last_activity_date": 1503088300, "last_edit_date": 1503088300, "creation_date": 1447999343, "answer_id": 33819978, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/33819978#33819978", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>This error message </p>\n\n<blockquote>\n  <p>error: (-215)size.width>0 &amp;&amp; size.height>0 in function imshow </p>\n</blockquote>\n\n<p>simply  means that imshow() is not getting video frame from input-device.\n You can try using </p>\n\n<pre><code>cap = cv2.VideoCapture(1) \n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>cap = cv2.VideoCapture(0) \n</code></pre>\n\n<p>&amp; see if the problem still persists. </p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 5706312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc3527fd915aee51a9bbc0d95174764d?s=128&d=identicon&r=PG&f=1", "display_name": "moises stevend meza rodriguez", "link": "https://stackoverflow.com/users/5706312/moises-stevend-meza-rodriguez"}, "is_accepted": false, "score": 0, "last_activity_date": 1450772938, "last_edit_date": 1450772938, "creation_date": 1450770620, "answer_id": 34410879, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/34410879#34410879", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<pre><code>while(cap.isOpened()):\n\n    ret, img = cap.read()\n    print img\n    if img==None:   #termino los frames?\n        break   #si, entonces terminar programa\n    #gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n    cv2.imshow('img2',img)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 6679189, "user_type": "registered", "profile_image": "https://graph.facebook.com/1784960521781234/picture?type=large", "display_name": "\ubc15\uad11\uc720", "link": "https://stackoverflow.com/users/6679189/%eb%b0%95%ea%b4%91%ec%9c%a0"}, "is_accepted": false, "score": 5, "last_activity_date": 1506080147, "last_edit_date": 1506080147, "creation_date": 1470329972, "answer_id": 38773341, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/38773341#38773341", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>You have to delay</p>\n\n<p>Example Code:</p>\n\n<pre><code>import cv2\nimport numpy as np\nimport time\n\ncam = cv2.VideoCapture(0)\ntime.sleep(2)\n\nwhile True:\n    ret,frame = cam.read()\n    cv2.imshow('webcam', frame)\n    if cv2.waitKey(1)&amp;0xFF == ord('q'):\n        break\n\ncam.release()\ncv2.destroyAllWindows()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 759, "user_id": 6932839, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/62p5n.jpg?s=128&g=1", "display_name": "arnpry", "link": "https://stackoverflow.com/users/6932839/arnpry"}, "edited": false, "score": 0, "creation_date": 1566564529, "post_id": 39207189, "comment_id": 101706815, "body": "This solution worked for me after receiving the same error"}], "tags": [], "owner": {"reputation": 21, "user_id": 4836730, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153199614410211/picture?type=large", "display_name": "Zed86M", "link": "https://stackoverflow.com/users/4836730/zed86m"}, "is_accepted": false, "score": 2, "last_activity_date": 1472476903, "last_edit_date": 1472476903, "creation_date": 1472476309, "answer_id": 39207189, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/39207189#39207189", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>In these two lines:</p>\n\n<pre><code>mask = cv2.line(mask, (a,b),(c,d), color[i].tolist(), 2)\n\nframe = cv2.circle(frame,(a, b),5,color[i].tolist(),-1)\n</code></pre>\n\n<p>try instead:</p>\n\n<pre><code>cv2.line(mask, (a,b),(c,d), color[i].tolist(), 2)\n\ncv2.circle(frame,(a, b),5,color[i].tolist(),-1)\n</code></pre>\n\n<p>I had the same problem and the variables were being returned empty</p>\n"}, {"tags": [], "owner": {"reputation": 236, "user_id": 6674443, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1389596527747482/picture?type=large", "display_name": "Irum Zahra Awan", "link": "https://stackoverflow.com/users/6674443/irum-zahra-awan"}, "is_accepted": false, "score": 0, "last_activity_date": 1478861076, "creation_date": 1478861076, "answer_id": 40546307, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/40546307#40546307", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p><code>cv2.circle</code> and <code>cv2.lines</code> are not working. Mask and frame both are returning <code>None</code>. these functions (line and circle) are in opencv 3 but not in older versions.</p>\n"}, {"tags": [], "owner": {"reputation": 467, "user_id": 7424365, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XKL8RUEGa3c/AAAAAAAAAAI/AAAAAAAAAMM/exJ-sa2MI0Q/photo.jpg?sz=128", "display_name": "Cristian Q", "link": "https://stackoverflow.com/users/7424365/cristian-q"}, "is_accepted": false, "score": 17, "last_activity_date": 1484554717, "creation_date": 1484554717, "answer_id": 41672017, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/41672017#41672017", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>I have the same problem, fix the ret in capture video</p>\n\n<pre><code>import numpy as np\nimport cv2\n\n# Capture video from file\ncap = cv2.VideoCapture('video1.avi')\n\nwhile True:\n\n    ret, frame = cap.read()\n\n    if ret == True:\n\n        gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n\n        cv2.imshow('frame',gray)\n\n\n        if cv2.waitKey(30) &amp; 0xFF == ord('q'):\n            break\n\n    else:\n        break\n\ncap.release()\ncv2.destroyAllWindows()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2241, "user_id": 5550284, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/980f96ac0688d25bbbd0a4baf050ee44?s=128&d=identicon&r=PG&f=1", "display_name": "Souvik Ray", "link": "https://stackoverflow.com/users/5550284/souvik-ray"}, "edited": false, "score": 0, "creation_date": 1514263732, "post_id": 45763097, "comment_id": 82917452, "body": "Not a solution to the problem!"}], "tags": [], "owner": {"reputation": 1, "user_id": 8400932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6288e9aa51d45babe710c23fd934d?s=128&d=identicon&r=PG&f=1", "display_name": "pasagar", "link": "https://stackoverflow.com/users/8400932/pasagar"}, "is_accepted": false, "score": -1, "last_activity_date": 1503081789, "last_edit_date": 1503081789, "creation_date": 1503081540, "answer_id": 45763097, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/45763097#45763097", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>Check if you have <strong>\"opencv_ffmpeg330.dll\"</strong> in python27 root directory or of the python version you are using. If not you will find it in <strong>\"....\\OpenCV\\opencv\\build\\bin\"</strong>.</p>\n\n<p>Choose the appropriate version and copy the dll into the root directory of your python installation and re-run the program</p>\n"}, {"tags": [], "owner": {"reputation": 539, "user_id": 1851492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b97d9081f8a51413ef1866d5d735aeba?s=128&d=identicon&r=PG", "display_name": "allenyllee", "link": "https://stackoverflow.com/users/1851492/allenyllee"}, "is_accepted": false, "score": 0, "last_activity_date": 1510752881, "creation_date": 1510752881, "answer_id": 47308803, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/47308803#47308803", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>I use ssh to connect to remote server and have python code execute cv2.VideoCapture(0) to capture remote webcam, then encounter this error message:</p>\n\n<blockquote>\n  <p>error: (-215)size.width>0 &amp;&amp; size.height>0 in function imshow</p>\n</blockquote>\n\n<p>Finally, I have to grant access to /dev/video0 (which is my webcam device) with my user account and the error message was gone. Use usermod to add user into group video</p>\n\n<pre><code>usermod -a -G video user\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5776531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1058e40ea912254c92224cdcc0fd678b?s=128&d=identicon&r=PG", "display_name": "Ethan Kuo", "link": "https://stackoverflow.com/users/5776531/ethan-kuo"}, "is_accepted": false, "score": 1, "last_activity_date": 1516778452, "creation_date": 1516778452, "answer_id": 48416879, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/48416879#48416879", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>I also met the error message in raspberry pi 3, but my solution is reload kernel of camera after search on google, hope it can help you.</p>\n\n<p>sudo modprobe bcm2835-v4l2</p>\n\n<p>BTW, for this error please check your camera and file path is workable or not</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 7130613, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J5uCcRHBIjY/AAAAAAAAAAI/AAAAAAAADuw/ZAgu9P-_pLo/photo.jpg?sz=128", "display_name": "Par bas", "link": "https://stackoverflow.com/users/7130613/par-bas"}, "is_accepted": false, "score": 0, "last_activity_date": 1524477319, "creation_date": 1524477319, "answer_id": 49978141, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/49978141#49978141", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>This is a problem with space consumption or choosing the wrong camera.\nMy suggestion in to restart kernel and clear output and run it again.\nIt works then.</p>\n"}, {"comments": [{"owner": {"reputation": 668, "user_id": 2443498, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eaf6994f982872c3419e14c73fc5110a?s=128&d=identicon&r=PG", "display_name": "Luca Giorgi", "link": "https://stackoverflow.com/users/2443498/luca-giorgi"}, "edited": false, "score": 0, "creation_date": 1549042667, "post_id": 51331481, "comment_id": 95776035, "body": "Thanks, this was my problem as well with Windows paths"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1595725704, "post_id": 51331481, "comment_id": 111573465, "body": "I had the same issue and found out that there was a typo in file name. Thanks for the answer!"}], "tags": [], "owner": {"reputation": 71, "user_id": 9685615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WGsou.jpg?s=128&g=1", "display_name": "abadymoezain", "link": "https://stackoverflow.com/users/9685615/abadymoezain"}, "is_accepted": false, "score": 7, "last_activity_date": 1605260946, "last_edit_date": 1605260946, "creation_date": 1531509069, "answer_id": 51331481, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/51331481#51331481", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>I had this problem.</p>\n<p>Solution: <strong>Update the path of the image.</strong></p>\n<p>If the path contains (for example: <code>\\n or \\t or \\a</code>) it adds to the corruption. Therefore, change every back-slash &quot;\\&quot; with front-slash &quot;/&quot; and it will not make create error but fix the issue of reading path.</p>\n<p>Also double check the file path/name. any typo in the name or path also gives the same error.</p>\n"}, {"tags": [], "owner": {"reputation": 12946, "user_id": 6064933, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zto2h.jpg?s=128&g=1", "display_name": "jdhao", "link": "https://stackoverflow.com/users/6064933/jdhao"}, "is_accepted": false, "score": 4, "last_activity_date": 1545038574, "creation_date": 1545038574, "answer_id": 53812186, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/53812186#53812186", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>I have also met this issue. In my case, the image path is wrong, so the img read is <code>NoneType</code>. After I correct the image path, I can show it without any issue.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6919730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6d5c263a6011869c4c4a2152c65ff4?s=128&d=identicon&r=PG&f=1", "display_name": "JKarouta", "link": "https://stackoverflow.com/users/6919730/jkarouta"}, "is_accepted": false, "score": 0, "last_activity_date": 1552471850, "creation_date": 1552471850, "answer_id": 55139252, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/55139252#55139252", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>Although this is an old thread, I got this error as well and the solution that worked for me is not mentioned here. </p>\n\n<p>Simply put, in my case the webcam was still in use on the background, as I saw the LED light being on. I have not yet been able to reproduce the issue, so I'm not sure a simple <code>cv2.VideoCapture(0).release()</code> would have solved it. I'll edit this post if and when I have found it out.</p>\n\n<p>For me a restart of my PC solved the issue, without changing anything to the code.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 11247443, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pZCSTONb7a4/AAAAAAAAAAI/AAAAAAAAAQo/JI9j7rZ5xCA/photo.jpg?sz=128", "display_name": "Vimal Prabhu", "link": "https://stackoverflow.com/users/11247443/vimal-prabhu"}, "is_accepted": false, "score": -1, "last_activity_date": 1553357097, "last_edit_date": 1553357097, "creation_date": 1553350845, "answer_id": 55314665, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/55314665#55314665", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>Simply use an image extension like <code>.jpeg</code> or <code>.png</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 10923026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08d89a59f60c9cda57638ccd0322edc?s=128&d=identicon&r=PG&f=1", "display_name": "universality", "link": "https://stackoverflow.com/users/10923026/universality"}, "is_accepted": false, "score": 1, "last_activity_date": 1571403447, "creation_date": 1571403447, "answer_id": 58451410, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/58451410#58451410", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>That error also shows when the video has played fine and the script will finish but that error always throws because the imshow() will get empty frames after all frames have been consumed. </p>\n\n<p>That is especially the case if you are playing a short (few sec) video file and you don't notice that the video actually played on the background (behind your code editor) and after that the script ends with that error.</p>\n"}, {"tags": [], "owner": {"reputation": 8962, "user_id": 1984636, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/kUf56.jpg?s=128&g=1", "display_name": "sivi", "link": "https://stackoverflow.com/users/1984636/sivi"}, "is_accepted": false, "score": 0, "last_activity_date": 1577984997, "creation_date": 1577984997, "answer_id": 59567282, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/59567282#59567282", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>This Error can also occur if you slice a negative point and pass it to the array. So check if you did </p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 11830394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7a46f0bfdc33ff427ccc7a1d67e8769?s=128&d=identicon&r=PG&f=1", "display_name": "ASRodrigo", "link": "https://stackoverflow.com/users/11830394/asrodrigo"}, "is_accepted": false, "score": 0, "last_activity_date": 1612275374, "creation_date": 1612275374, "answer_id": 66011500, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow/66011500#66011500", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>I was facing the same problem while trying to open images containing spaces and special\ncharacters like the following \u00b4</p>\n<p>So, after modifying the images names removing their spaces and special characters, everything worked perfectly.</p>\n"}], "owner": {"reputation": 1683, "user_id": 3377126, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/ea448f812418066f9e62ebf9a98bc0be?s=128&d=identicon&r=PG&f=1", "display_name": "user3377126", "link": "https://stackoverflow.com/users/3377126/user3377126"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161843, "favorite_count": 4, "protected_date": 1593178496, "answer_count": 17, "score": 47, "last_activity_date": 1612275374, "creation_date": 1421272129, "last_edit_date": 1421274378, "question_id": 27953069, "link": "https://stackoverflow.com/questions/27953069/opencv-error-215size-width0-size-height0-in-function-imshow", "title": "OpenCV Error: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow", "body": "<p>I am trying to make a face tracker that combines Haar Cascade Classification with Lucas Kanade good feature detection. However, I keep getting an error that I cannot figure out what it means nor how to solve it.</p>\n\n<p>Can anyone help me here?</p>\n\n<p>Error:</p>\n\n<pre><code>line 110, in &lt;module&gt;\ncv2.imshow('frame',img)\nerror: /build/buildd/opencv-2.4.8+dfsg1/modules/highgui/src/window.cpp:269: \nerror: (-215)size.width&gt;0 &amp;&amp; size.height&gt;0 in function imshow\n</code></pre>\n\n<p>Code: </p>\n\n<pre><code>from matplotlib import pyplot as plt\nimport numpy as np\n\nimport cv2\n\nface_classifier = cv2.CascadeClassifier('haarcascades/haarcascade_frontalface_default.xml')\n\n\ncap = cv2.VideoCapture(0)\n\n\n# params for ShiTomasi corner detection\nfeature_params = dict( maxCorners = 200,\n                       qualityLevel = 0.01,\n                       minDistance = 10,\n                       blockSize = 7 )\n\n# Parameters for lucas kanade optical flow\nlk_params = dict( winSize  = (15,15),\n                  maxLevel = 2,\n                  criteria = (cv2.TERM_CRITERIA_EPS | cv2.TERM_CRITERIA_COUNT, 10, 0.03))\n\n# Create some random colors\ncolor = np.random.randint(0,255,(100,3))\n\n# Take first frame and find corners in it\nret, old_frame = cap.read()\n\n\n\ncv2.imshow('Old_Frame', old_frame)\ncv2.waitKey(0)\nold_gray = cv2.cvtColor(old_frame, cv2.COLOR_BGR2GRAY)\nrestart = True\n#while restart == True:\nface = face_classifier.detectMultiScale(old_gray, 1.2, 4)\n\nif len(face) == 0:\n    print \"This is empty\"\n\nfor (x,y,w,h) in face:\n    focused_face = old_frame[y: y+h, x: x+w]\n\ncv2.imshow('Old_Frame', old_frame)\n\nface_gray = cv2.cvtColor(old_frame,cv2.COLOR_BGR2GRAY)\n\ngray = cv2.cvtColor(focused_face,cv2.COLOR_BGR2GRAY)\n\ncorners_t = cv2.goodFeaturesToTrack(gray, mask = None, **feature_params)\ncorners = np.int0(corners_t)\n\nprint corners\n\nfor i in corners:\n    ix,iy = i.ravel()\n    cv2.circle(focused_face,(ix,iy),3,255,-1)\n    cv2.circle(old_frame,(x+ix,y+iy),3,255,-1)\n\nplt.imshow(old_frame),plt.show()\n\n\n# Create a mask image for drawing purposes\nmask = np.zeros_like(old_frame)\n\nwhile(1):\n    ret,frame = cap.read()\n    frame_gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n\n    # calculate optical flow\n    p1, st, err = cv2.calcOpticalFlowPyrLK(old_gray, frame_gray, corners_t, None, **lk_params)\n\n    # Select good points\n    good_new = p1[st==1]\n    good_old = corners_t[st==1]\n\n    # draw the tracks\n    print \"COLORING TIME!\"\n    for i,(new,old) in enumerate(zip(good_new,good_old)):\n        print i\n        print color[i]\n        a,b = new.ravel()\n        c,d = old.ravel()\n        mask = cv2.line(mask, (a,b),(c,d), color[i].tolist(), 2)\n        frame = cv2.circle(frame,(a, b),5,color[i].tolist(),-1)\n        if i == 99:\n            break\n    img = cv2.add(frame,mask)\n\n    cv2.imshow('frame',img)\n    k = cv2.waitKey(30) &amp; 0xff\n    if k == 27:\n        break\n\n    # Now update the previous frame and previous points\n    old_gray = frame_gray.copy()\n    p0 = good_new.reshape(-1,1,2)\n\ncv2.destroyAllWindows()\ncap.release()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "numpy", "matplotlib", "fractals"], "answers": [{"tags": [], "owner": {"reputation": 3364, "user_id": 1884171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uisYs.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/1884171/andrew"}, "is_accepted": true, "score": 5, "last_activity_date": 1421280094, "creation_date": 1421280094, "answer_id": 27954713, "question_id": 27953051, "link": "https://stackoverflow.com/questions/27953051/how-to-improve-poor-visuals-of-julia-sets-made-using-matplotlib/27954713#27954713", "title": "How to improve poor visuals of Julia sets made using matplotlib?", "body": "<p>There are three main ways to improve this plot:</p>\n\n<p>1 - Instead of a scatter plot, create an N by N matrix where the value of each point determines the color at that point. Then use <code>plt.imshow(...)</code></p>\n\n<p>2 - Experiment with different colormaps (<code>plt.imshow(...cmap=\"RdGy\")</code>)</p>\n\n<p>3 - Increase the number of points to improve sharpness. That is, increase the denominator in your statements defining <code>c_range</code> and <code>r_range</code></p>\n\n<p>I have edited your code to implement these changes. Look for the <code># CHANGED</code> comments. The new figure looks much nicer.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\n# Plot ranges\nr_min, r_max = -2.0, 2.0\nc_min, c_max = -2.0, 2.0\n\n# Even intervals for points to compute orbits of\n# CHANGED\nr_range = np.arange(r_min, r_max, (r_max - r_min) / 500.0)\nc_range = np.arange(c_min, c_max, (c_max - c_min) / 500.0)\n\nc = complex(-0.624, 0.435)\nxs = []\nys = []\n# CHANGED\nmat = np.zeros((len(c_range),len(r_range)))\ncolors = []\n\n# CHANGED\nmatComp = 0 # Index of the new mat values\nmatReal = 0\nfor comp in c_range:\n    for real in r_range:\n        z = complex(real, comp)\n\n        escaped = False\n        for i in range(0, 50):\n            z = z*z + c\n\n            if abs(z) &gt; max(abs(c), 2):\n                escaped = True\n                # CHANGED\n                mat[matComp, matReal]=i\n\n                # Colors correspond to escape speed\n                if i &lt; 7:\n                    colors.append((1.0 - .055* i, 0.0, 0.0))\n\n                if i &gt;= 7 and i &lt; 14:\n                    colors.append((1.0 - .025*i, .6 - .025*i, 0))\n\n                if i &gt;= 14 and i &lt; 21:\n                    colors.append((1.0 - .0035*i, 1.0 - .0045*i, 0.0))\n\n                if i &gt;= 21 and i &lt; 28:\n                    colors.append((0.0, 1.0 - .0045*i, 0.0))\n\n                if i &gt;= 28 and i &lt; 35:\n                    colors.append((0.0, 0.0, 1.0 - .0055*i))\n\n                if i &gt;= 35 and i &lt; 42:\n                    colors.append((.435 - .0055*i, 0.0, 1.0 - .0055*i))    \n\n                if i &gt;= 42:\n                    colors.append((0.62 - .005*i, 0, 1.0 - .005*i))\n                break\n        # CHANGED\n        matReal += 1\n\n\n        xs.append(real)\n        ys.append(comp)\n\n        # Points that don't escape are black\n        if escaped == False:\n            colors.append((0.0, 0.0, 0.0))\n    # CHANGED\n    matComp+=1\n    matReal=0\n\n#CHANGED\nfig = plt.figure(figsize=(15,15))\nplt.imshow(mat, cmap=\"RdGy\", extent=[-2,2,-2,2])\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/dIn8J.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 391, "user_id": 1475521, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b18ff2f3ed0705c16a276eb4f3c72d18?s=128&d=identicon&r=PG", "display_name": "Stumbleine75", "link": "https://stackoverflow.com/users/1475521/stumbleine75"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "accepted_answer_id": 27954713, "answer_count": 1, "score": 2, "last_activity_date": 1421280094, "creation_date": 1421272072, "last_edit_date": 1421273321, "question_id": 27953051, "link": "https://stackoverflow.com/questions/27953051/how-to-improve-poor-visuals-of-julia-sets-made-using-matplotlib", "title": "How to improve poor visuals of Julia sets made using matplotlib?", "body": "<p>If you run the code I've included below (python 2.7) you'll find that the resultant image is dark and blurry and almost seems to have lines running across it. I realize that using the scatter function to plot something like this is probably an abuse of the functionality.  </p>\n\n<p>I've looked through the documentation and got lost in it and was just hoping that someone could show me how to make my Julia sets look as nice as the pretty color plates you see in books and online. </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n# Plot ranges\nr_min, r_max = -2.0, 2.0\nc_min, c_max = -2.0, 2.0\n\n# Even intervals for points to compute orbits of\nr_range = np.arange(r_min, r_max, (r_max - r_min) / 200.0)\nc_range = np.arange(c_min, c_max, (c_max - c_min) / 200.0)\n\nc = complex(-0.624, 0.435)\nxs = []\nys = []\ncolors = []\n\nfor comp in c_range:\n    for real in r_range:\n        z = complex(real, comp)\n\n        escaped = False\n        for i in range(0, 50):\n            z = z*z + c\n\n            if abs(z) &gt; max(abs(c), 2):\n                escaped = True\n\n                # Colors correspond to escape speed\n                if i &lt; 7:\n                    colors.append((1.0 - .055* i, 0.0, 0.0))\n\n                if i &gt;= 7 and i &lt; 14:\n                    colors.append((1.0 - .025*i, .6 - .025*i, 0))\n\n                if i &gt;= 14 and i &lt; 21:\n                    colors.append((1.0 - .0035*i, 1.0 - .0045*i, 0.0))\n\n                if i &gt;= 21 and i &lt; 28:\n                    colors.append((0.0, 1.0 - .0045*i, 0.0))\n\n                if i &gt;= 28 and i &lt; 35:\n                    colors.append((0.0, 0.0, 1.0 - .0055*i))\n\n                if i &gt;= 35 and i &lt; 42:\n                    colors.append((.435 - .0055*i, 0.0, 1.0 - .0055*i))    \n\n                if i &gt;= 42:\n                    colors.append((0.62 - .005*i, 0, 1.0 - .005*i))\n                break\n\n\n        xs.append(real)\n        ys.append(comp)\n\n        # Points that don't escape are black\n        if escaped == False:\n            colors.append((0.0, 0.0, 0.0))\n\nplt.axis([-2, 2, -2, 2])\nplt.xlabel('x0')\nplt.ylabel('c')\nplt.scatter(xs, ys, c = colors, alpha = .2)\nplt.show()\n</code></pre>\n\n<p>Edit: Here's a result of the above - <a href=\"https://imgur.com/bdtZGVh\" rel=\"nofollow\">https://imgur.com/bdtZGVh</a></p>\n"}, {"tags": ["jquery", "python", "ajax", "json"], "answers": [{"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 1, "last_activity_date": 1421272414, "creation_date": 1421272414, "answer_id": 27953143, "question_id": 27953036, "link": "https://stackoverflow.com/questions/27953036/ajax-json-query-directly-to-python-generated-html-gets-undefined/27953143#27953143", "title": "ajax json query directly to python generated html gets undefined", "body": "<p>If I'm reading your javascript correctly, the responseText property is only set <em>after the request has completed</em>.  Normally, these things execute asynchronously, so you register a function to be called after the data has been received.  e.g.</p>\n\n<pre><code>function drawTable() {\n  var drawChart = function(jsonData) {\n      // Create our data table out of JSON data loaded from server.\n      var data = new google.visualization.DataTable(jsonData);\n\n      // Instantiate and draw our chart, passing in some options.\n      var chart = new google.visualization.LineChart(document.getElementById('chart_div'));\n      chart.draw(data, {width: 400, height: 240});\n  };\n\n  $.ajax({\n      type: \"GET\",\n      url: \"http://192.168.1.123:8099/cgi-bin/test.py\",\n      dataType:\"json\",\n      async: false\n  }).done(drawChart);\n\n}\n</code></pre>\n\n<p>More examples can be found on in the <a href=\"http://api.jquery.com/jquery.ajax/#entry-examples\" rel=\"nofollow\">jquery ajax documentation</a>.</p>\n"}], "owner": {"reputation": 57, "user_id": 1492810, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3b48bc62e13fe19bca38e481f43ec2b?s=128&d=identicon&r=PG", "display_name": "user1492810", "link": "https://stackoverflow.com/users/1492810/user1492810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 27953143, "answer_count": 1, "score": 0, "last_activity_date": 1421272414, "creation_date": 1421272015, "question_id": 27953036, "link": "https://stackoverflow.com/questions/27953036/ajax-json-query-directly-to-python-generated-html-gets-undefined", "title": "ajax json query directly to python generated html gets undefined", "body": "<p>I've been struggling three weeks for now and I'm at the dead end. Sysadmins are s*tty developers :)</p>\n\n<p>I'm trying to build lightweight cgi-bin python scripts to collect data and convert it into json format.\nThen I use plain html page to make ajax query to python scripts to get data and draw my charts (periodically, people love real-time stuff)</p>\n\n<p>These should be as light as possible, because they work on raspberry.</p>\n\n<p>One of my python scripts that collects the data</p>\n\n<pre><code>#!/usr/bin/python\n\nimport sqlite3\nimport gviz_api\n\n# enable debugging\nimport cgitb\ncgitb.enable()\n\ndef dict_factory(cursor, row):\n    d = {}\n    for idx, col in enumerate(cursor.description):\n        d[col[0]] = row[idx]\n    return d\n\nconnection = sqlite3.connect(\"templog.db\")\nconnection.row_factory = dict_factory\ncursor = connection.cursor()\ncursor.execute(\"select temp, status from data where ID = (select MAX(ID) from data)\")\n# fetch all or one we'll go for all.\nresults = cursor.fetchall()\nconnection.close()\n\nschema = {\"temp\": (\"number\", \"temp\"),\"status\": (\"number\", \"status\")}\ndata = results\n\n# Loading it into gviz_api.DataTable\ndata_table = gviz_api.DataTable(schema)\ndata_table.LoadData(data)\njson = data_table.ToJSon(columns_order=(\"temp\", \"status\"),order_by=\"temp\")\n#print results\n\n#print \"Content-type: application/json\\n\\n\"\nprint \"Content-type: application/json\"\nprint\n\nprint json\n</code></pre>\n\n<p>This works like a charm when I open it up on my browser and it gives me what I need in corrent format for Google jsapi</p>\n\n<pre><code>{\"rows\":[{\"c\":[{\"v\":21.062},{\"v\":0}]}],\"cols\":[{\"type\":\"number\",\"id\":\"temp\",\"label\":\"temp\"},{\"type\":\"number\",\"id\":\"status\",\"label\":\"status\"}]}\n</code></pre>\n\n<p>Below is my html that needs the json data from python script to draw the chart</p>\n\n<pre><code>    &lt;html&gt;\n  &lt;head&gt;\n    &lt;!--Load the AJAX API--&gt;\n    &lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n    // Load the Visualization API and the piechart package.\n    google.load('visualization', '1', {'packages':['corechart']});\n\n    // Set a callback to run when the Google Visualization API is loaded.\n    google.setOnLoadCallback(drawTable);\n\n    function drawTable() {\n      var jsonData = $.ajax({\n          type: \"GET\",\n          url: \"http://192.168.1.123:8099/cgi-bin/test.py\",\n          dataType:\"json\",\n          async: false\n          }).responseText;\n          alert(jsonData);\n\n      // Create our data table out of JSON data loaded from server.\n      var data = new google.visualization.DataTable(jsonData);\n\n      // Instantiate and draw our chart, passing in some options.\n      var chart = new google.visualization.LineChart(document.getElementById('chart_div'));\n      chart.draw(data, {width: 400, height: 240});\n    }\n\n    &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;!--Div that will hold the pie chart--&gt;\n    &lt;div id=\"chart_div\"&gt;&lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Unfortunately I got \"undefined\" alert when html is making ajax query directly to python script.</p>\n\n<p>Then I copied json output 1:1 to plain static html file and replaced ajax URL to .html instead of dynamic .py, and it works.</p>\n\n<p>My question is - are there some limitations for what I'm trying to do or is there something wrong with my code?</p>\n\n<p>My code is based on examples\n<a href=\"https://developers.google.com/chart/interactive/docs/php_example\" rel=\"nofollow\">https://developers.google.com/chart/interactive/docs/php_example</a>\n<a href=\"https://developers.google.com/chart/interactive/docs/dev/gviz_api_lib\" rel=\"nofollow\">https://developers.google.com/chart/interactive/docs/dev/gviz_api_lib</a></p>\n"}, {"tags": ["python", "django", "amazon-web-services", "docker", "amazon-elastic-beanstalk"], "answers": [{"comments": [{"owner": {"reputation": 2220, "user_id": 376489, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/30554c0ce3304aef325fff9daf2dfafe?s=128&d=identicon&r=PG", "display_name": "MrColes", "link": "https://stackoverflow.com/users/376489/mrcoles"}, "edited": false, "score": 2, "creation_date": 1437079974, "post_id": 27989521, "comment_id": 50894903, "body": "Isn\u2019t this undesirable, since it would lead to every machine in your pool running the startup scripts for something that you maybe want to only be <code>leader_only</code>?"}], "tags": [], "owner": {"reputation": 21, "user_id": 4455075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/889ddf9394eea5b5b02b8b9f75be9439?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Young", "link": "https://stackoverflow.com/users/4455075/jim-young"}, "is_accepted": false, "score": 1, "last_activity_date": 1421429496, "creation_date": 1421429496, "answer_id": 27989521, "question_id": 27953023, "link": "https://stackoverflow.com/questions/27953023/aws-elastic-beanstalk-container-commands-in-python-3-4-docker-container/27989521#27989521", "title": "AWS Elastic Beanstalk container_commands in Python 3.4 Docker Container", "body": "<p>AWS Support pointed me to adding a custom Dockerfile.  I used my Dockerfile's ENTRYPOINT to override the default from the base image so I could slip in my own script to trigger the syncdb command.</p>\n\n<p>ref: <a href=\"https://forums.aws.amazon.com/message.jspa?messageID=595630\" rel=\"nofollow\">https://forums.aws.amazon.com/message.jspa?messageID=595630</a></p>\n"}], "owner": {"reputation": 21, "user_id": 4455075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/889ddf9394eea5b5b02b8b9f75be9439?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Young", "link": "https://stackoverflow.com/users/4455075/jim-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421429496, "creation_date": 1421271954, "last_edit_date": 1421273298, "question_id": 27953023, "link": "https://stackoverflow.com/questions/27953023/aws-elastic-beanstalk-container-commands-in-python-3-4-docker-container", "title": "AWS Elastic Beanstalk container_commands in Python 3.4 Docker Container", "body": "<p>I have a <code>Django 1.6</code> application running on Python 3.4 that I\u2019d like to deploy on <code>AWS Elastic Beanstalk</code>, so I\u2019ve selected \u201cPreconfigured - Docker/Python\u201d (i.e., Python 3.4) as my configuration but deployments fail on the <code>container_command</code> to run <code>django-admin.py</code>. The same placeholder app bundle runs as expected on the \u201cPreconfigured/Python\u201d configuration (i.e., Python 2.7) without error.</p>\n\n<p>According to the <a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/customize-containers-ec2.html#customize-containers-format-container_commands\" rel=\"nofollow\">documentation</a> <code>.ebextension</code> config <code>container_commands</code> are run after the application and web server have been set up and the application version file has been extracted, but before the application is deployed. That appears to be the case for the Python 2.7 container but not the Python 3.4 Docker container.</p>\n\n<p>To test the theory, I added a script to my bundle to peek at the environment and executed it as a <code>container_command</code>. The Python 2.7 container uses Python 2.7, has pip packages installed from <code>requirements.txt</code>, and finds <code>django-admin.py</code> as expected. The Python 3.4 Docker container, however, uses Python 2.6 during the container_command phase and thus doesn\u2019t have the environment set up to find <code>django-admin.py</code> or installed pip packages.</p>\n\n<p>How can I get the the Preconfigured - Docker/Python (3.4) container to execute <code>container_commands</code> in the intended environment? Is there a step missing to activate the container and/or it\u2019s virtualenv before triggering <code>container_commands</code>?</p>\n"}, {"tags": ["php", "python", "django", "curl"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1421272145, "post_id": 27953008, "comment_id": 44301225, "body": "Ah, you were asking something different; now that I fixed the formatting to reveal the querydict."}, {"owner": {"reputation": 66223, "user_id": 164998, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/703c2eaf093a7caf1008362209d2903e?s=128&d=identicon&r=PG", "display_name": "Jason McCreary", "link": "https://stackoverflow.com/users/164998/jason-mccreary"}, "edited": false, "score": 1, "creation_date": 1421272493, "post_id": 27953008, "comment_id": 44301378, "body": "I doubt <i>PHP</i> is <i>doing</i> anything. Especially since <code>$data_string</code> is correct. The better question is what are <i>you</i> doing? Did you sniff the traffic to see if PHP is indeed sending what Python receives?"}, {"owner": {"reputation": 328, "user_id": 462800, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c64710ab871840dd334b6970923635c?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/462800/michael"}, "edited": false, "score": 0, "creation_date": 1421273785, "post_id": 27953008, "comment_id": 44301972, "body": "I am certain that PHP is not doing what my original curl script is doing, and that is what I want it to do. I have not sniffed the data. The request from curl, swidt, java, angular and python work as expected."}], "answers": [{"comments": [{"owner": {"reputation": 328, "user_id": 462800, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c64710ab871840dd334b6970923635c?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/462800/michael"}, "edited": false, "score": 0, "creation_date": 1421274109, "post_id": 27953204, "comment_id": 44302133, "body": "I am doing that, but the result is a dict where all the key values are in the key field. I cannot change the server side. I might just swap out PHP for another language that I am more familiar with."}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1421272647, "creation_date": 1421272647, "answer_id": 27953204, "question_id": 27953008, "link": "https://stackoverflow.com/questions/27953008/php-curl-is-changing-json-before-posting-it/27953204#27953204", "title": "PHP curl is changing JSON before posting it", "body": "<p>I'm no PHP expert, but it may not matter: if <code>request.DATA</code> is a <code>QueryDict</code>, you can simply use <code>arealdict = request.DATA.dict()</code> to get a real <code>dict</code> out of it.   Should there be any repeated fields this will pick just one of their multiple values, but that shouldn't matter for your specific use case since it seems to have no repeated fields anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 328, "user_id": 462800, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c64710ab871840dd334b6970923635c?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/462800/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1421516871, "creation_date": 1421516871, "answer_id": 28002375, "question_id": 27953008, "link": "https://stackoverflow.com/questions/27953008/php-curl-is-changing-json-before-posting-it/28002375#28002375", "title": "PHP curl is changing JSON before posting it", "body": "<p>Turns out that I was overwriting the application/json header later on in my login code. That is why some requests appeared to work fine.</p>\n\n<p>Sinc eteh content type was not set, Django treated the request as a form post which resulted in the mangled request.DATA.</p>\n"}], "owner": {"reputation": 328, "user_id": 462800, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c64710ab871840dd334b6970923635c?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/462800/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1421516871, "creation_date": 1421271865, "last_edit_date": 1421274542, "question_id": 27953008, "link": "https://stackoverflow.com/questions/27953008/php-curl-is-changing-json-before-posting-it", "title": "PHP curl is changing JSON before posting it", "body": "<p>I have an API written in django, which is able to process the following request correctly.</p>\n\n<pre><code>curl -H \"Content-Type: application/json\" -d '{\"name\":\"a\",\"description\":\"b\",\"props\":    {\"Notes\":\"c\"}}' http://127.0.0.1:8000/en/api/asset/ -H 'Authorization: Token     114ada7e487b2cdbc9277d377e4d20640a606bb2'\n</code></pre>\n\n<p>If I print request.DATA at the Django side I get the following:</p>\n\n<pre><code>(Pdb) print request.DATA\n{u'props': {u'Notes': u'c'}, u'name': u'a', u'description': u'b'}\n</code></pre>\n\n<p>I have the following piece of PHP code which I want to use to make the exact same request</p>\n\n<pre><code>$data_string = json_encode($values['json_parameters']);\nerror_log($data_string, 0);\n//curl_setopt($curl, CURLOPT_CUSTOMREQUEST, $method);\ncurl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($curl, CURLOPT_HTTPHEADER, array(\n    'Content-Type: application/json',\n    'Content-Length: ' . strlen($data_string))\n);\nerror_log(\"Method: \".$method, 0);\nif ($method == 'POST') {\n    curl_setopt($curl, CURLOPT_POST, 1);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $data_string);\n}\n</code></pre>\n\n<p>$data_string contains {\"name\":\"a\",\"description\":\"b\",\"props\":{\"Notes\":\"c\"}}.</p>\n\n<p>When this query hits the backend I get the following:</p>\n\n<pre><code>(Pdb) print request.DATA\n&lt;QueryDict: {u'{\"name\":\"a\",\"description\":\"b\",\"props\":{\"Notes\":\"c\"}}': [u'']}&gt;\n</code></pre>\n\n<p>What is PHP doing to my JSON before it sends it? How can I post the exact same data using PHP as per my curl request above? </p>\n\n<ul>\n<li>It does work for requests that don't have nested JSON</li>\n</ul>\n"}, {"tags": ["python", "bash", "ssh"], "comments": [{"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "edited": false, "score": 1, "creation_date": 1421272419, "post_id": 27953000, "comment_id": 44301345, "body": "What are you using to connect to each host?  Need to find out how that library or tool is prompting on the console, in order to detect it, or bypass it e.g by using a <code>pty</code> (it&#39;s also crucial what environment you&#39;re running on -- if Windows, I believe <code>pty</code>s are not supported and don&#39;t know how to work around <b>that</b>)."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1421272726, "post_id": 27953000, "comment_id": 44301495, "body": "Post the code anyway. At this point you haven&#39;t even told us how you&#39;re connecting to the hosts."}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1421273157, "post_id": 27953000, "comment_id": 44301708, "body": "Please click <code>edit</code> underneath your question and paste your code into your question rather than in ill-formatted, difficult-to-read comments. Indent by 4 spaces. Thank you."}, {"owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1421333423, "post_id": 27953000, "comment_id": 44324875, "body": "It&#39;s <code>fabric</code>, and you can set <code>env</code> variable <code>skip_bad_hosts</code> to bypass unreachable hosts. So add <code>env.skip_bad_hosts = True</code> above the task definition."}, {"owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1421333605, "post_id": 27953000, "comment_id": 44325016, "body": "Also, <code>env.warn_only = True</code> will just throw a warning rather than an error on any <code>run</code>, <code>sudo</code> or <code>local</code> errors."}], "owner": {"reputation": 153, "user_id": 3968265, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/a6684a63c9cb2b67a1c59a1ef986417e?s=128&d=identicon&r=PG&f=1", "display_name": "Carl_Friedrich_Gauss", "link": "https://stackoverflow.com/users/3968265/carl-friedrich-gauss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436195567, "creation_date": 1421271817, "last_edit_date": 1436195567, "question_id": 27953000, "link": "https://stackoverflow.com/questions/27953000/in-a-list-skip-a-host-that-i-cannnot-access", "title": "In a list, skip a host that I cannnot access", "body": "<p>SOLVED:</p>\n\n<p>I figured out the fix for this was adding <code>env.abort_on_prompts = True</code> to my fab file</p>\n\n<hr>\n\n<p>This is a very specific question ... but I have a python definition that checks for the OS version of a specific host. It goes line by line through the list, attempts to connect to the host and outputs the OS information it finds. But that is just background ...</p>\n\n<p>So my real question is if I can skip the hosts I cannot access. Many hosts it does fine with, but it will hit one where the screen prompts for \"Login password for 'yourAdminUser':\". I want to know if there is a way that I can get the script to realize when this is being output to the console, that it should terminate that connection attempt and then move on to the next line. </p>\n\n<p>I would paste my code but it is only a few lines and I have nothing in it to expect this error of a password that I do not have.</p>\n\n<p>Thanks</p>\n\n<p>EDIT : I've pasted my definition below. </p>\n\n<pre><code>def get_os():\n    put(local_path=\"scripts/check_OS.ksh\",remote_path=\"/tmp/check_OS.ksh\")\n    sudo('chmod u+x /tmp/check_OS.ksh')\n    output = sudo(\"/tmp/check_OS.ksh\")\n    print green(\"OS: {}\".format(output))\n</code></pre>\n"}, {"tags": ["python", "events", "monitoring"], "comments": [{"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 2, "creation_date": 1421271640, "post_id": 27952868, "comment_id": 44300994, "body": "What is your question? Can you give a (small) example of the input data and the expected output data?"}, {"owner": {"reputation": 19, "user_id": 1068578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/044b4db25ca2ecb913daacac502a966d?s=128&d=identicon&r=PG", "display_name": "maphilli14", "link": "https://stackoverflow.com/users/1068578/maphilli14"}, "reply_to_user": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1421282456, "post_id": 27952868, "comment_id": 44305091, "body": "I&#39;m looking to count the number of times something occours while iterating over the json stream.  Count N number of events found in X amount of time.  This rate can then be compared to a high water threshold.  Let&#39;s say I get 4 events in 60 seconds.  How do I attach an &#39;age&#39; to an event such that it &#39;goes away&#39; after the time window of 60 seconds?   I think this is a statistical poisson distribution, but have no idea how to use or code in python."}], "answers": [{"tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1421285344, "creation_date": 1421285344, "answer_id": 27955458, "question_id": 27952868, "link": "https://stackoverflow.com/questions/27952868/use-python-to-count-the-number-of-events-in-a-specified-amount-of-time/27955458#27955458", "title": "Use python to count the number of events in a specified amount of time", "body": "<p>Keep a <a href=\"https://docs.python.org/3.4/library/collections.html#collections.deque\" rel=\"nofollow\">double-ended queue</a> and insert and pop items from it based on the timestamp value that you get from the json stream.</p>\n\n<pre><code>import datetime\nfrom collections import deque\n\nthreshold = 4\nqueue = deque()\nfor l in s.makefile() :\n    # fill the queue\n    record = json.loads(l)\n    try:\n        if record['Event'] == 'StarLost':\n            timestamp = datetime.datetime.fromtimestamp(record['Timestamp'])\n            print('Star Lost at time {}.'.format(timestamp.isoformat()))\n            queue.append((timestamp, record))\n    except KeyError:\n        pass # there was no 'Event' in the record\n    # clear the queue from old records\n    try:\n        while queue[0][0] &lt; datetime.datetime.now() - datetime.timedelta(seconds=60):\n            queue.popleft()\n    except IndexError:\n        pass # there are no records in the queue.\n    # analyze the queue\n    if len(queue) &gt; threshold:\n        print('There were more than {} events over the last minute!'.format(threshold))\n</code></pre>\n\n<p>This solution assumes you've got <code>s.makefile()</code> generating json data non-stop.\nIdeally, you'd put the part that clears the queue and the part that analyzes the queue in different threads from the thread that fills the queue, but if you can't come up with the solution above yourself, then <a href=\"https://docs.python.org/2/library/threading.html\" rel=\"nofollow\">threading</a> is not for you now, although I gave the start for it by using the thread-safe <code>deque</code>. Do read up on it though if you want to make this solution better. </p>\n"}], "owner": {"reputation": 19, "user_id": 1068578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/044b4db25ca2ecb913daacac502a966d?s=128&d=identicon&r=PG", "display_name": "maphilli14", "link": "https://stackoverflow.com/users/1068578/maphilli14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1560, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421285344, "creation_date": 1421271275, "question_id": 27952868, "link": "https://stackoverflow.com/questions/27952868/use-python-to-count-the-number-of-events-in-a-specified-amount-of-time", "title": "Use python to count the number of events in a specified amount of time", "body": "<p>I'm monitoring a json stream for specific events.  I'd like to count the number of events that occur in a specific amount of time, say events per minute, then compare to a high water mark to take action.</p>\n\n<pre><code>for l in s.makefile() :\nm = json.loads(l)\nif 'Event' in m and m['Event'] == 'StarLost' :\n    print 'Star Lost at time= ' + str(datetime.datetime.fromtimestamp(m['Timestamp']))\n</code></pre>\n"}, {"tags": ["python", "function", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 2827, "user_id": 3084842, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wuYvF.jpg?s=128&g=1", "display_name": "Medulla Oblongata", "link": "https://stackoverflow.com/users/3084842/medulla-oblongata"}, "edited": false, "score": 0, "creation_date": 1421272833, "post_id": 27953065, "comment_id": 44301560, "body": "Is it possible to reduce your second bit of code to just one line?"}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 2827, "user_id": 3084842, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wuYvF.jpg?s=128&g=1", "display_name": "Medulla Oblongata", "link": "https://stackoverflow.com/users/3084842/medulla-oblongata"}, "edited": false, "score": 0, "creation_date": 1421273103, "post_id": 27953065, "comment_id": 44301681, "body": "You mean like this: <code>z, fig = myfun(2,3); plt.show(fig)</code>? You can omit the second line if you don&#39;t want to show the plot at all."}, {"owner": {"reputation": 2827, "user_id": 3084842, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wuYvF.jpg?s=128&g=1", "display_name": "Medulla Oblongata", "link": "https://stackoverflow.com/users/3084842/medulla-oblongata"}, "edited": false, "score": 0, "creation_date": 1421273333, "post_id": 27953065, "comment_id": 44301777, "body": "Sorry, I mean combining <code>z, fig = myfun(2,3)</code> and <code>plt.show(fig)</code> into a single command i.e. a single line. If this involves writing a lot more code in <code>myfun</code>, then it might be more convenient to just have <code>z, fig = myfun(2,3); plt.show(fig)</code>."}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 2827, "user_id": 3084842, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wuYvF.jpg?s=128&g=1", "display_name": "Medulla Oblongata", "link": "https://stackoverflow.com/users/3084842/medulla-oblongata"}, "edited": false, "score": 0, "creation_date": 1421273483, "post_id": 27953065, "comment_id": 44301847, "body": "I don&#39;t quite get your intention, do you want to show the plot or not? Do you want to have a figure handle returned(for example to save it to disk later)?"}, {"owner": {"reputation": 2827, "user_id": 3084842, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wuYvF.jpg?s=128&g=1", "display_name": "Medulla Oblongata", "link": "https://stackoverflow.com/users/3084842/medulla-oblongata"}, "edited": false, "score": 0, "creation_date": 1421273701, "post_id": 27953065, "comment_id": 44301936, "body": "I want to be able to show the plot -- this should be a command embedded within the <code>myfun</code> function call... but I think your original answer is acceptable anyway."}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 2827, "user_id": 3084842, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wuYvF.jpg?s=128&g=1", "display_name": "Medulla Oblongata", "link": "https://stackoverflow.com/users/3084842/medulla-oblongata"}, "edited": false, "score": 0, "creation_date": 1421273803, "post_id": 27953065, "comment_id": 44301981, "body": "I am still at a loss sorry, if you want to show the plot from within the function call then why not keep your original code?"}], "tags": [], "owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "is_accepted": true, "score": 2, "last_activity_date": 1421272120, "creation_date": 1421272120, "answer_id": 27953065, "question_id": 27952857, "link": "https://stackoverflow.com/questions/27952857/python-controlling-figure-outputs-from-functions/27953065#27953065", "title": "Python controlling figure outputs from functions", "body": "<p>You can do it like this:</p>\n\n<pre><code>def myfun(a,b):\n    x = np.linspace(1,10,100)\n    y = np.linspace(2,20,100)\n    z = a*x - b*y\n\n    fig, ax = plt.subplots()\n    ax.plot(x,z)\n    return z, fig\n</code></pre>\n\n<p>Afterwards you can do:</p>\n\n<pre><code>z, fig = myfun(2,3)  #  nothing is shown\nplt.show(fig)        #  now show the figure\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2827, "user_id": 3084842, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wuYvF.jpg?s=128&g=1", "display_name": "Medulla Oblongata", "link": "https://stackoverflow.com/users/3084842/medulla-oblongata"}, "is_accepted": false, "score": 0, "last_activity_date": 1421801957, "creation_date": 1421801957, "answer_id": 28057892, "question_id": 27952857, "link": "https://stackoverflow.com/questions/27952857/python-controlling-figure-outputs-from-functions/28057892#28057892", "title": "Python controlling figure outputs from functions", "body": "<p>It's not an elegant way of doing it, but including a <code>showfig</code> input option seems to work. Let <code>showfig=1</code> to display the figure, and <code>showfig=0</code> to not show a figure and instead let <code>myfig</code> = a string.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ndef myfun(a,b,showfig):\n    x = np.linspace(1,10,100)\n    y = np.linspace(2,20,100)\n    z = a*x - b*y\n\n    if showfig == 1:\n        plt.figure()\n        plt.plot(x,z)\n        myfig = plt.show()\n        return z, myfig\n    else:\n        myfig = 'figure not shown'        \n        return z, myfig\n\nz, myfig = myfun(2,3,0)\n</code></pre>\n"}], "owner": {"reputation": 2827, "user_id": 3084842, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wuYvF.jpg?s=128&g=1", "display_name": "Medulla Oblongata", "link": "https://stackoverflow.com/users/3084842/medulla-oblongata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 27953065, "answer_count": 2, "score": 2, "last_activity_date": 1421801957, "creation_date": 1421271211, "question_id": 27952857, "link": "https://stackoverflow.com/questions/27952857/python-controlling-figure-outputs-from-functions", "title": "Python controlling figure outputs from functions", "body": "<p>If I generate a figure from within a function, is there a simple way to not show the figure output? My following function always outputs a figure even when I have a <code>_</code> when calling the function.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ndef myfun(a,b):\n    x = np.linspace(1,10,100)\n    y = np.linspace(2,20,100)\n    z = a*x - b*y\n\n    plt.figure()\n    plt.plot(x,z)\n\n    myfig = plt.show()\n\n    return z, myfig\n\nz, _ = myfun(2,3)\n</code></pre>\n\n<p>It would be ideal to not introduce any more input parameters in <code>myfun</code>.</p>\n"}, {"tags": ["python", "python-2.7", "calculator", "currency"], "comments": [{"owner": {"reputation": 70911, "user_id": 712603, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mCoc7.jpg?s=128&g=1", "display_name": "David Robinson", "link": "https://stackoverflow.com/users/712603/david-robinson"}, "edited": false, "score": 1, "creation_date": 1421271367, "post_id": 27952819, "comment_id": 44300859, "body": "The code you provide gives an error- did you mean to change <code>interest_total = 0</code> to <code>interest_sum = 0</code>?"}, {"owner": {"reputation": 773, "user_id": 1484189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4N92m.jpg?s=128&g=1", "display_name": "gankoji", "link": "https://stackoverflow.com/users/1484189/gankoji"}, "edited": false, "score": 1, "creation_date": 1421271378, "post_id": 27952819, "comment_id": 44300866, "body": "It looks like you&#39;re not calculating the total anew each time you adjust the payment. Since your code compounds interest monthly, you should recalculate the total each time the payment changes."}, {"owner": {"reputation": 15, "user_id": 4440621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fe2828ac7befc2e65ee84efe75f904?s=128&d=identicon&r=PG&f=1", "display_name": "Dovi", "link": "https://stackoverflow.com/users/4440621/dovi"}, "reply_to_user": {"reputation": 70911, "user_id": 712603, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mCoc7.jpg?s=128&g=1", "display_name": "David Robinson", "link": "https://stackoverflow.com/users/712603/david-robinson"}, "edited": false, "score": 1, "creation_date": 1421271625, "post_id": 27952819, "comment_id": 44300990, "body": "@DavidRobinson Yes, I&#39;ve revised the code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4447887"}, "edited": false, "score": 1, "creation_date": 1421271753, "post_id": 27952819, "comment_id": 44301047, "body": "There is a huge problem here, did you ever try to change the value of <code>payment</code> ? I did and everytime the result is same = <code>340</code>. So something wrong on your function logic."}, {"owner": {"reputation": 70911, "user_id": 712603, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/mCoc7.jpg?s=128&g=1", "display_name": "David Robinson", "link": "https://stackoverflow.com/users/712603/david-robinson"}, "edited": false, "score": 1, "creation_date": 1421271924, "post_id": 27952819, "comment_id": 44301120, "body": "@sacma That&#39;s only if you change the value of payment to something below 340. see the last few lines."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4440621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fe2828ac7befc2e65ee84efe75f904?s=128&d=identicon&r=PG&f=1", "display_name": "Dovi", "link": "https://stackoverflow.com/users/4440621/dovi"}, "edited": false, "score": 0, "creation_date": 1421274161, "post_id": 27953022, "comment_id": 44302157, "body": "So my function didn&#39;t run for each new payment amount because there was no variable to set balance to initial value?"}, {"owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "reply_to_user": {"reputation": 15, "user_id": 4440621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fe2828ac7befc2e65ee84efe75f904?s=128&d=identicon&r=PG&f=1", "display_name": "Dovi", "link": "https://stackoverflow.com/users/4440621/dovi"}, "edited": false, "score": 0, "creation_date": 1421276110, "post_id": 27953022, "comment_id": 44303016, "body": "You called your function only once with initial payment, that&#39;s it"}], "tags": [], "owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "is_accepted": true, "score": 0, "last_activity_date": 1421271954, "creation_date": 1421271954, "answer_id": 27953022, "question_id": 27952819, "link": "https://stackoverflow.com/questions/27952819/credit-calculator-generates-wrong-output/27953022#27953022", "title": "Credit calculator generates wrong output", "body": "<p>We need to run the balance count function for each new payment amount, since the interest sum will be smaller for bigger payments. So</p>\n\n<pre><code>balance = 3329\nannualInterestRate = 0.2\npayment = 10\n\n\ndef year_balance(init_payment, init_balance):\n    \"\"\" Calculates total debt after 12 months \"\"\"\n    interest_sum = 0\n    unpaid = init_balance\n    for month in range(12):\n        # balance after monthly payment\n        unpaid -= init_payment\n        # monthly interest of remaining balance\n        unpaid += unpaid * (annualInterestRate / 12.0)\n    return unpaid\n\nwhile year_balance(payment, balance) &gt; 0:\n    payment += 10\n\nprint(\"Lowest payment: \", payment)\n</code></pre>\n\n<p>Note: this is in case you make a payment before the credit period began. If you've done that after a month, you should first add monthly interest rate.</p>\n"}, {"tags": [], "owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "is_accepted": false, "score": 2, "last_activity_date": 1421272321, "last_edit_date": 1421272321, "creation_date": 1421271963, "answer_id": 27953025, "question_id": 27952819, "link": "https://stackoverflow.com/questions/27952819/credit-calculator-generates-wrong-output/27953025#27953025", "title": "Credit calculator generates wrong output", "body": "<p>You don't really need iteration to compute the monthly repayments. Instead, you could use the closed-form solution:</p>\n\n<pre><code>loan_amount = 3329\nannual_interest_rate = 0.2\nmonthly_repayment = ((loan_amount * annual_interest_rate / 12.) /\n                     (1 - (1 + annual_interest_rate / 12.) ** -12))\nprint monthly_repayment\n</code></pre>\n\n<p>This assumes monthly repayments and monthly compounding. For the general formulas see, for example, <a href=\"https://www.easycalculation.com/mortgage/loan-payment-amount.php\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 15, "user_id": 4440621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fe2828ac7befc2e65ee84efe75f904?s=128&d=identicon&r=PG&f=1", "display_name": "Dovi", "link": "https://stackoverflow.com/users/4440621/dovi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 27953022, "answer_count": 2, "score": 1, "last_activity_date": 1421272853, "creation_date": 1421271050, "last_edit_date": 1421272853, "question_id": 27952819, "link": "https://stackoverflow.com/questions/27952819/credit-calculator-generates-wrong-output", "title": "Credit calculator generates wrong output", "body": "<p>I need to calculate the minimum fixed monthly payment needed in order pay off a credit card balance within 12 months. The right answer should be 310, but I get 340. I was editing code for a few hours, yet didn't find any suitable solution. What is wrong here? How is it possible to fix it?</p>\n\n<pre><code>balance = 3329\nannualInterestRate = 0.2\npayment = 10\n\ndef year_balance(init_payment, init_balance):\n    \"\"\" Calculates total debt after 12 months \"\"\"\n    interest_sum = 0\n    for month in range(12):\n        # balance after monthly payment\n        unpaid = init_balance - init_payment \n        # monthly interest of remaining balance\n        interest = unpaid * (annualInterestRate / 12.0) \n        interest_sum += interest\n    yearly = init_balance + interest_sum # total debt after 12 months\n    return yearly\n\ntotal = year_balance(payment, balance) # total debt after 12 months\n\nwhile total - payment * 12 &gt; 0: \n# checks if payment is big enough to fully repay the credit after 12 months \n    payment += 10\n\nprint \"Lowest payment: \", payment\n</code></pre>\n"}, {"tags": ["python", "google-app-engine", "parameter-passing"], "comments": [{"owner": {"reputation": 6798, "user_id": 258564, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9641c9cbc9c51aca5340892140cc1bbc?s=128&d=identicon&r=PG", "display_name": "aschmid00", "link": "https://stackoverflow.com/users/258564/aschmid00"}, "edited": false, "score": 1, "creation_date": 1421271839, "post_id": 27952817, "comment_id": 44301095, "body": "this question is very unclear to me. are you talking about query strings? do you have code you could show?"}, {"owner": {"reputation": 293, "user_id": 2377174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tmnNb.png?s=128&g=1", "display_name": "kxtronic", "link": "https://stackoverflow.com/users/2377174/kxtronic"}, "reply_to_user": {"reputation": 6798, "user_id": 258564, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9641c9cbc9c51aca5340892140cc1bbc?s=128&d=identicon&r=PG", "display_name": "aschmid00", "link": "https://stackoverflow.com/users/258564/aschmid00"}, "edited": false, "score": 0, "creation_date": 1421473531, "post_id": 27952817, "comment_id": 44383332, "body": "Hi @aschmid00, thanks for the reply. I added code to the question and explained what I had done so far. Maybe the question is clearer now?"}], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 2377174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tmnNb.png?s=128&g=1", "display_name": "kxtronic", "link": "https://stackoverflow.com/users/2377174/kxtronic"}, "edited": false, "score": 0, "creation_date": 1421473440, "post_id": 27953086, "comment_id": 44383316, "body": "Hi gcobb, thanks but maybe I wasn&#39;t clear enough in my question. I had already adapted the code in the tutorial to pass the contents of the search box in the form to a request handler: the search string is  passed without problems. My real question is how do I pass a parameter not from the form but from code? e.g. to allow/deny users access to certain parts of the system I need to pass the user_id or his authorization level to the different modules. BTW, I&#39;m validating the user against a list in the datastore where I can check which modules the user can access and if its r/o or r/w."}, {"owner": {"reputation": 46, "user_id": 4455262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uxppk.png?s=128&g=1", "display_name": "Guy Cobb", "link": "https://stackoverflow.com/users/4455262/guy-cobb"}, "reply_to_user": {"reputation": 293, "user_id": 2377174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tmnNb.png?s=128&g=1", "display_name": "kxtronic", "link": "https://stackoverflow.com/users/2377174/kxtronic"}, "edited": false, "score": 0, "creation_date": 1421783699, "post_id": 27953086, "comment_id": 44489920, "body": "A hidden input field would allow you to pass along form data that is not generally visible to the user, but this is a risky way to do auth since a savvy user can easily change the value sent to the server. It&#39;s probably safer to send some user identification to the server and have the server side check what access the user has."}], "tags": [], "owner": {"reputation": 46, "user_id": 4455262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uxppk.png?s=128&g=1", "display_name": "Guy Cobb", "link": "https://stackoverflow.com/users/4455262/guy-cobb"}, "is_accepted": false, "score": 1, "last_activity_date": 1421272200, "creation_date": 1421272200, "answer_id": 27953086, "question_id": 27952817, "link": "https://stackoverflow.com/questions/27952817/gae-python-how-can-i-pass-and-retrieve-a-parameter-to-a-request-handler/27953086#27953086", "title": "GAE Python how can I pass and retrieve a parameter to a request handler?", "body": "<p>If you're talking about a request coming from a web page that the user fills out and submits then the getting started tutorial <a href=\"https://cloud.google.com/appengine/docs/python/gettingstartedpython27/handlingforms\" rel=\"nofollow\">here</a> has some examples of how to do this. Specifically, the parameters from an HTML form will be part of the <a href=\"https://webapp-improved.appspot.com/guide/request.html\" rel=\"nofollow\">request</a> object that your request handler code receives and you just grab them out by name in your handler code. The links assume that you're using the webapp2 framework but the process is the same for other frameworks.</p>\n"}], "owner": {"reputation": 293, "user_id": 2377174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tmnNb.png?s=128&g=1", "display_name": "kxtronic", "link": "https://stackoverflow.com/users/2377174/kxtronic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1447237366, "creation_date": 1421271037, "last_edit_date": 1447237366, "question_id": 27952817, "link": "https://stackoverflow.com/questions/27952817/gae-python-how-can-i-pass-and-retrieve-a-parameter-to-a-request-handler", "title": "GAE Python how can I pass and retrieve a parameter to a request handler?", "body": "<p>--- Rewrote question to make it clearer and included code ---</p>\n\n<p>I'm building my first GAE python app, and need to figure out how to pass parameters among the different modules of my system in such a way that the different request handlers can pick these parameters up.</p>\n\n<p>I have a main page for my app, it is a page with buttons the user can click on to jump to the different system blocks (Products, Recipes, Orders..). The user logs in on the main page, and this login should be pervasive through all blocks of the system.  </p>\n\n<p>The href's on the main page now look like:</p>\n\n<pre><code>&lt;a href=\"products\"&gt;Products\n&lt;a href=\"recipes\"&gt;Recipes\n&lt;a href=\"orders\"&gt;Orders\n</code></pre>\n\n<p>Not all users have access to all blocks, I keep a list in the datastore with access rights.</p>\n\n<p>Now take the Products page: the user should only be allowed acces to this page if his/her login in the datastore indicates enough access rights to that page.</p>\n\n<p>The user clicks on the product link (or button) in the main page, and lands on the \"../products\" page which is in the products.py file.</p>\n\n<p>In products.py I offer the user (again) to select from different options. By default the user gets directed to the first handler, and sees a new list of options.</p>\n\n<pre><code>application = webapp2.WSGIApplication([\n    ('/products', ProductsPage),\n    ('/products-save', SaveProduct),\n    ('/products-find', FindProduct),\n    ('/products-delete', DeleteProduct),    \n    ('/products-search', SearchProducts),\n], debug = True)\n</code></pre>\n\n<p>Suppose the user now chooses to create or save a product. He will be directed to the ../products-save page, which is handled by SaveProduct.</p>\n\n<p>This request handler starts with:</p>\n\n<pre><code>class SaveProduct(webapp2.RequestHandler):\n    def post(self):\n        # if user_id is authorized to create / modify products:\n        #     code ...\n        # else display nice message \"not enough rights\" \n</code></pre>\n\n<p>I got the user_id on the main page, and need to transport it through all the intermediate steps so it arrives at the final function (SaveProduct in this example) on anther .py file in order for it to validate if the user has enough rights.</p>\n\n<p>My question is: how do I do this?</p>\n\n<p>I have checked the webapp2 docs for the config option and about get, but didn't find what I was looking for.</p>\n"}, {"tags": ["python", "python-2.7", "list-comprehension"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1421270847, "post_id": 27952759, "comment_id": 44300581, "body": "What is your expected output?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421272360, "post_id": 27952759, "comment_id": 44301313, "body": "I edited your question to include both variants; I answered your initial question based on the index error."}], "answers": [{"comments": [{"owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1421271164, "post_id": 27952816, "comment_id": 44300752, "body": "You&#39;re correct. Forgot my else, clause. Modified OP."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1421271425, "post_id": 27952816, "comment_id": 44300879, "body": "@user2242044 you cannot use <code>else</code> there, that&#39;s a syntax error. You are <i>filtering</i> the list comprehension."}, {"owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1421271576, "post_id": 27952816, "comment_id": 44300962, "body": "Makes sense, but came here looking for help"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1421271829, "post_id": 27952816, "comment_id": 44301092, "body": "@user2242044: sure, but I had to figure out what you were trying to achieve first."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1421272433, "last_edit_date": 1421272433, "creation_date": 1421271030, "answer_id": 27952816, "question_id": 27952759, "link": "https://stackoverflow.com/questions/27952759/list-comprehension-out-or-range-error-or-syntax-error/27952816#27952816", "title": "List comprehension out or range error or syntax error", "body": "<p>Your second list in <code>List1</code> has no value <code>'Configuration1'</code> at index 2, so the list comprehension is empty. Indexing an empty list gives an index error:</p>\n\n<pre><code>&gt;&gt;&gt; List1 = [[u'Case1', u'DP1', u'Configuration1', u'New'], [u'Case2', u'DP2', u'Configuration2', u'New']]\n&gt;&gt;&gt; List2 = [[u'DP1', u'EB1', u'Typ1'], [u'DP2', u'EB2', u'Type2'], [u'DP3', u'EB3', u'Type2']]\n&gt;&gt;&gt; item = List2[1]\n&gt;&gt;&gt; [x for x in List1 if x[1] == item[0] and x[2] == 'Configuration1']\n[]\n&gt;&gt;&gt; [x for x in List1 if x[1] == item[0] and x[2] == 'Configuration1'][0]\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nIndexError: list index out of range\n</code></pre>\n\n<p>Your altered syntax is invalid; you cannot use <code>else</code> in a list comprehension <code>if</code> filter:</p>\n\n<pre><code>&gt;&gt;&gt; [x for x in List1 if (x[1] == item[0] and x[2] == 'Configuration1') else None]\n  File \"&lt;stdin&gt;\", line 1\n    [x for x in List1 if (x[1] == item[0] and x[2] == 'Configuration1') else None]\n                                                                           ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>That's because the <code>if</code> part is <em>not</em> a conditional expression but part of the list comprehension syntax. The <code>if</code> test <em>filters</em> the elements. You'd use a conditional expression in the left-hand side expression of a list comprehension, but doing so makes no sense here.</p>\n\n<p>You should turn <code>List1</code> into a dictionary if you wanted to look up matching data:</p>\n\n<pre><code>configuration_data = {(entry[1], entry[2]): entry[3] for entry in List1}\n</code></pre>\n\n<p>This maps the items at indexes 1 and 2 to the element at index 3, so you can then simply use dictionary lookups to fill in your new list objects for <code>List2</code>:</p>\n\n<pre><code>List2 = [[item[0], configuration_data.get((item[0], 'Configuration1'), None)]\n         for item in List2]\n</code></pre>\n\n<p>This list comprehension achieves the same effect as what you tried to do with your <code>for</code> loop with enumerate; produce a new list with matching configuration data:</p>\n\n<pre><code>&gt;&gt;&gt; List1 = [[u'Case1', u'DP1', u'Configuration1', u'New'], [u'Case2', u'DP2', u'Configuration2', u'New']]\n&gt;&gt;&gt; List2 = [[u'DP1', u'EB1', u'Typ1'], [u'DP2', u'EB2', u'Type2'], [u'DP3', u'EB3', u'Type2']]\n&gt;&gt;&gt; configuration_data = {(entry[1], entry[2]): entry[3] for entry in List1}\n&gt;&gt;&gt; [[item[0], configuration_data.get((item[0], 'Configuration1'), None)] for item in List2]\n[[u'DP1', u'New'], [u'DP2', None], [u'DP3', None]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4455280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RuY0M8sJkx4/AAAAAAAAAAI/AAAAAAAADVU/HcsqGWLeNDM/photo.jpg?sz=128", "display_name": "Rafael Carrascosa", "link": "https://stackoverflow.com/users/4455280/rafael-carrascosa"}, "reply_to_user": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1421273430, "post_id": 27953122, "comment_id": 44301817, "body": "@user2242044 It&#39;s there because after the list comprehension you take the 4-th element with <code>[3]</code>... so all objects in the list comprehension should be indexable and have a 4th element."}], "tags": [], "owner": {"reputation": 21, "user_id": 4455280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RuY0M8sJkx4/AAAAAAAAAAI/AAAAAAAADVU/HcsqGWLeNDM/photo.jpg?sz=128", "display_name": "Rafael Carrascosa", "link": "https://stackoverflow.com/users/4455280/rafael-carrascosa"}, "is_accepted": false, "score": 0, "last_activity_date": 1421272349, "creation_date": 1421272349, "answer_id": 27953122, "question_id": 27952759, "link": "https://stackoverflow.com/questions/27952759/list-comprehension-out-or-range-error-or-syntax-error/27953122#27953122", "title": "List comprehension out or range error or syntax error", "body": "<p>The if syntax for list comprehensions doesn't allows an \"else\".\nThis list comprehension generates the output you expect:</p>\n\n<pre><code>[item[0],[x if (x[1] == item[0] and x[2] == 'Configuration1') else [None] * 4 for x in List1][0][3]]\n</code></pre>\n\n<p>I just swapped the if..else to the front of the list comprehension and changed the <code>None</code> for a list so when you index it with <code>[3]</code> it doesn't throw an error.</p>\n"}], "owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3048, "favorite_count": 0, "accepted_answer_id": 27952816, "answer_count": 2, "score": 0, "last_activity_date": 1421272433, "creation_date": 1421270806, "last_edit_date": 1421272322, "question_id": 27952759, "link": "https://stackoverflow.com/questions/27952759/list-comprehension-out-or-range-error-or-syntax-error", "title": "List comprehension out or range error or syntax error", "body": "<p>I have two lists that I would like to combine with list comprehension, but keep getting an <code>IndexError: List index out of range</code> error:</p>\n\n<pre><code>List1 = [[u'Case1', u'DP1', u'Configuration1', u'New'], [u'Case2', u'DP2', u'Configuration2', u'New']]\nList2 = [[u'DP1', u'EB1', u'Typ1'], [u'DP2', u'EB2', u'Type2'], [u'DP3', u'EB3', u'Type2']]\n\n\nfor key, item in enumerate(List2):\n     List2[key] =  [item[0],[x for x in List1 if (x[1] == item[0] and x[2] == 'Configuration1')][0][3]]\n\nprint List2\n</code></pre>\n\n<p>I tried to add <code>else None</code> but then get a <code>SyntaxError: invalid syntax</code> exception:</p>\n\n<pre><code>List2[key] =  [item[0],[x for x in List1 if (x[1] == item[0] and x[2] == 'Configuration1') else None][0][3]]\n</code></pre>\n\n<p>My expected output would be:</p>\n\n<pre><code>[[u'DP1', u'New'], [u'DP2', None], [u'DP3',None]]\n</code></pre>\n"}, {"tags": ["python", "django", "session"], "comments": [{"owner": {"reputation": 347, "user_id": 885524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022d52ed8da3d3d1b1eda2050bc77332?s=128&d=identicon&r=PG", "display_name": "Vinta", "link": "https://stackoverflow.com/users/885524/vinta"}, "edited": false, "score": 0, "creation_date": 1421299943, "post_id": 27952676, "comment_id": 44309036, "body": "Where do you call the <code>seller_email()</code> method?"}], "answers": [{"comments": [{"owner": {"reputation": 34900, "user_id": 493161, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ef45d137e9629d3fbe9c5f84997ac5ff?s=128&d=identicon&r=PG", "display_name": "jcomeau_ictx", "link": "https://stackoverflow.com/users/493161/jcomeau-ictx"}, "edited": false, "score": 0, "creation_date": 1421276773, "post_id": 27952788, "comment_id": 44303289, "body": "I don&#39;t care about how it works in a management command, most of my code won&#39;t work that way."}], "tags": [], "owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "is_accepted": false, "score": 1, "last_activity_date": 1421270890, "creation_date": 1421270890, "answer_id": 27952788, "question_id": 27952676, "link": "https://stackoverflow.com/questions/27952676/django-session-data-obtainable-from-models-py-without-key/27952788#27952788", "title": "Django session data obtainable from models.py without key", "body": "<p>Because the model shouldn't know anything about session, that creates unnecessary entanglement(?) beetween different components and violation of MVC pattern.</p>\n\n<p>What I suggest to do, is to call the function, specifying parameters needed to get a proper result, viewer object in this case.</p>\n\n<p>If using the code in the question, how do you expect your model to work if it's used in a management command (where there is no http request and as a result no session) ?\nOr from a celery job ?</p>\n"}], "owner": {"reputation": 34900, "user_id": 493161, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ef45d137e9629d3fbe9c5f84997ac5ff?s=128&d=identicon&r=PG", "display_name": "jcomeau_ictx", "link": "https://stackoverflow.com/users/493161/jcomeau-ictx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421301065, "creation_date": 1421270434, "last_edit_date": 1495542437, "question_id": 27952676, "link": "https://stackoverflow.com/questions/27952676/django-session-data-obtainable-from-models-py-without-key", "title": "Django session data obtainable from models.py without key", "body": "<p>I want to access a session variable from a model, in order to customize what gets shown in a template using <code>{{item.seller_email}}</code>. relevant code from models.py:</p>\n\n<pre><code>SESSION_STORE = import_module(settings.SESSION_ENGINE).SessionStore\nclass Item(Action):\n    def seller_email(self):\n        seller = self.get_seller()\n        session = SESSION_STORE()\n        debug('session: %s' % vars(session))\n        viewer = fetch(Client, email = session.get('client', None))\n        administrator = viewer.is_admin() if viewer else False\n        debug('viewer: %s, administrator: %s' % (viewer, administrator))\n        if administrator:\n            return seller.email\n        else:\n            return seller.anonymized[16:]       \n</code></pre>\n\n<p>the answer here seems to say that this is not possible nor desired, but I lack the understanding of Django's session mechanism to be sure: <a href=\"https://stackoverflow.com/questions/9220484/access-session-request-information-outside-of-views-in-django\">Access session / request information outside of views in Django</a></p>\n\n<p>this seems to indicate that the current session can be retrieved outside of views, though, just by not passing a key: <a href=\"https://docs.djangoproject.com/en/1.6/topics/http/sessions/#using-sessions-out-of-views\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.6/topics/http/sessions/#using-sessions-out-of-views</a>, but I've tried it both that way and the above way with the same results: an \"empty\" session is created.</p>\n\n<p>I'm sure there are other, better ways of doing this, and I will find one myself, but can someone familiar with Django internals explain why this is not possible?</p>\n"}, {"tags": ["python", "graph-tool"], "comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1421270905, "post_id": 27952655, "comment_id": 44300615, "body": "What is Python&#39;s &quot;graph_tool&quot;?  Are you using networkx?"}, {"owner": {"reputation": 1318, "user_id": 1513331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d2ec9c84fa248c7b95d0ada25db2d5b9?s=128&d=identicon&r=PG&f=1", "display_name": "nobillygreen", "link": "https://stackoverflow.com/users/1513331/nobillygreen"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1421271214, "post_id": 27952655, "comment_id": 44300775, "body": "<a href=\"http://graph-tool.skewed.de/\" rel=\"nofollow noreferrer\">graph-tool.skewed.de</a>"}, {"owner": {"reputation": 1219, "user_id": 431033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/847f3f4282d7fa43c368219840c123ad?s=128&d=identicon&r=PG&f=1", "display_name": "Lack", "link": "https://stackoverflow.com/users/431033/lack"}, "edited": false, "score": 0, "creation_date": 1421294746, "post_id": 27952655, "comment_id": 44307876, "body": "You ask, &quot;Is there an easy way&quot; but then say &quot;I know there are easy ways of doing this&quot;? Then what are they and what&#39;s lacking in their efficiency?"}, {"owner": {"reputation": 1318, "user_id": 1513331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d2ec9c84fa248c7b95d0ada25db2d5b9?s=128&d=identicon&r=PG&f=1", "display_name": "nobillygreen", "link": "https://stackoverflow.com/users/1513331/nobillygreen"}, "edited": false, "score": 0, "creation_date": 1421346485, "post_id": 27952655, "comment_id": 44333505, "body": "You are right, poor wording on my part. I re-worded it to make it more clear."}], "answers": [{"tags": [], "owner": {"reputation": 4525, "user_id": 180962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa21ab3e7b0fdcc3058400a35aef75b?s=128&d=identicon&r=PG", "display_name": "Tiago Peixoto", "link": "https://stackoverflow.com/users/180962/tiago-peixoto"}, "is_accepted": true, "score": 5, "last_activity_date": 1421313905, "creation_date": 1421313905, "answer_id": 27960249, "question_id": 27952655, "link": "https://stackoverflow.com/questions/27952655/weighted-degree-distribution-in-pythons-graph-tool/27960249#27960249", "title": "Weighted Degree Distribution in Python&#39;s graph_tool", "body": "<p>Yes, this is easy. You have to obtain a property map of the weighted degrees, and then do a histogram:</p>\n\n<pre><code>d = g.degree_property_map(\"out\", weight)   # weight is an edge property map\nbins = linspace(d.a.min(), d.a.max(), 40)  # linear bins\nh = vertex_hist(g, d, bins)\n</code></pre>\n"}], "owner": {"reputation": 1318, "user_id": 1513331, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d2ec9c84fa248c7b95d0ada25db2d5b9?s=128&d=identicon&r=PG&f=1", "display_name": "nobillygreen", "link": "https://stackoverflow.com/users/1513331/nobillygreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 1, "accepted_answer_id": 27960249, "answer_count": 1, "score": 4, "last_activity_date": 1421346556, "creation_date": 1421270360, "last_edit_date": 1421346556, "question_id": 27952655, "link": "https://stackoverflow.com/questions/27952655/weighted-degree-distribution-in-pythons-graph-tool", "title": "Weighted Degree Distribution in Python&#39;s graph_tool", "body": "<p>In Pythons <a href=\"http://graph-tool.skewed.de/\" rel=\"nofollow\">graph_tool</a>, is there an easy way to calculate the weighted degree distribution (sum of the weights on out-going, in-coming, or all edges)?</p>\n\n<p>In the <strong>Stats</strong> package, <strong>vertex_hist</strong> gives the un-weighted in-degree, out-degree, and total-degree histograms, but there doesn't seem to be a way to get the weighted version of these.</p>\n\n<p>Note: I am working with 31,000 vertices and >10 million edges. I am looking for a way to do this utilizing graph_tool as as much as possible.</p>\n"}, {"tags": ["python", "pycharm"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1421270453, "post_id": 27952638, "comment_id": 44300385, "body": "What environment is set for the project? See <a href=\"https://www.jetbrains.com/pycharm/webhelp/configuring-python-interpreter-for-a-project.html\" rel=\"nofollow noreferrer\">jetbrains.com/pycharm/webhelp/&hellip;</a>"}, {"owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "reply_to_user": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "edited": false, "score": 0, "creation_date": 1421270580, "post_id": 27952638, "comment_id": 44300447, "body": "The answer in @Andy&#39;s comment is good, you should specify interpreter."}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 0, "closed_date": 1421270647, "answer_count": 0, "score": 0, "last_activity_date": 1421271611, "creation_date": 1421270292, "last_edit_date": 1421271611, "question_id": 27952638, "link": "https://stackoverflow.com/questions/27952638/usr-bin-env-python3-4-within-pycharm-project", "closed_reason": "Duplicate", "title": "#!/usr/bin/env python3.4 within PyCharm project", "body": "<p>I copied a project online and it contains</p>\n\n<p><code>#!/usr/bin/env python3.4</code></p>\n\n<p>When running on the terminal this is fine. But I want to debug with PyCharm. I am getting the error</p>\n\n<p><code>ImportError: No module named queue</code></p>\n\n<p>Because in python 3 the module is called <code>Queue</code> </p>\n\n<p>I don't think PyCharm is recognizing #!/usr/bin/env python3.4` or it is not running the program in python 3. How can I fix this issue?</p>\n\n<p><strong><em>EDIT:</em></strong></p>\n\n<p>I changed the interpreter to python 3.4 but the same error is occurring =/ The settings have been changed but I noticed that the auto correct leads to Python 2 methods. Not sure how I can fix this.<img src=\"https://i.stack.imgur.com/r7FxV.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/hU5Rk.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "django", "localization", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "is_accepted": true, "score": 4, "last_activity_date": 1421282171, "creation_date": 1421282171, "answer_id": 27955028, "question_id": 27952608, "link": "https://stackoverflow.com/questions/27952608/django-rest-framework-localization/27955028#27955028", "title": "Django Rest Framework Localization", "body": "<p>This is <em>not supported well</em>\u00a0in Django REST framework 3.0, and <em>it's not supported at all</em> in versions before that.</p>\n\n<p>Most of the strings that DRF uses to display things such as error notices are translatable, and some of them match the Django translations, but for the most part you need to manually find out the translation strings and do the translations on your own. The other option is to <a href=\"http://www.django-rest-framework.org/api-guide/exceptions/#custom-exception-handling\" rel=\"nofollow\">override the exception handler</a> and translate within there.</p>\n\n<p>With that said, Django REST framework 3.1 <a href=\"https://github.com/tomchristie/django-rest-framework/pull/2373\" rel=\"nofollow\">provides a guide on translating</a>\u00a0and is hooked up to Transifex. If you want your translation included by default in 3.1 (and other future releases), <a href=\"https://www.transifex.com/projects/p/django-rest-framework/\" rel=\"nofollow\">help us and recommend translations on Transifex</a>.</p>\n"}], "owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2325, "favorite_count": 1, "accepted_answer_id": 27955028, "answer_count": 1, "score": 4, "last_activity_date": 1421282171, "creation_date": 1421270207, "question_id": 27952608, "link": "https://stackoverflow.com/questions/27952608/django-rest-framework-localization", "title": "Django Rest Framework Localization", "body": "<p>I was wondering, if is there any way to add localization to <code>django-rest-framework</code> api. Because I want to change default message errors. </p>\n"}, {"tags": ["python", "homebrew"], "comments": [{"owner": {"reputation": 45645, "user_id": 1056563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bc888aa658ab0e0d2a4d305ad7f69123?s=128&d=identicon&r=PG", "display_name": "StephenBoesch", "link": "https://stackoverflow.com/users/1056563/stephenboesch"}, "edited": false, "score": 0, "creation_date": 1509719048, "post_id": 27952596, "comment_id": 81145716, "body": "Thanks for this question. I have received dismissive treatment when asking about packages not being found after <code>pip install</code> (and even when using the <i>brew</i> version).  I am on the verge of dumping <code>brew</code> version of python due to their mishandling of package installs."}], "answers": [{"comments": [{"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421271343, "post_id": 27952773, "comment_id": 44300841, "body": "That&#39;s not the issue: I&#39;ve confirmed that it&#39;s Brew&#39;s Python and Brew&#39;s PIP that are running; <code>&#47;usr&#47;local&#47;bin</code> is ahead of <code>&#47;usr&#47;bin</code> (always has been); the only thing in <code>PYTHONPATH </code> is a directory where I keep some packages I&#39;ve written (setting it to nothing doesn&#39;t change the behavior)."}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421271590, "post_id": 27952773, "comment_id": 44300970, "body": "@raxacoricofallapatorius, please try setting the <code>PYTHONPATH</code>, I edited my answer."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421271712, "post_id": 27952773, "comment_id": 44301022, "body": "That will put the Brew packages on the path for the system&#39;s Python as well though, right? And it hardcodes to 2.7."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421272719, "post_id": 27952773, "comment_id": 44301490, "body": "That will work; but the question is, Should I do it? Maybe Brew is supposed to work this way \u2014 i.e. it <i>prevents duplicates</i> and assumes that any package that you have in the system <code>site-packages</code> is meant to stay there unless you remove it and then install into Brew&#39;s; and only <code>pip</code> and <code>setuptools</code> are duplicated (and put first in Brewed Python&#39;s path)."}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421273011, "post_id": 27952773, "comment_id": 44301639, "body": "You can decide what you want, I for example don&#39;t have the system&#39;s <code>site-packages</code> in my <code>PYTHONPATH</code>, to avoid incompatibilities between python versions, I don&#39;t use the system&#39;s Python anymore, so why would I want to use the old packages? In your case may be you want one or the other to have preference."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421273136, "post_id": 27952773, "comment_id": 44301700, "body": "Yes, agreed. I just want to make sure I understand the intended design \u2014 and whether what I&#39;m seeing is expected \u2014 before I much around; that&#39;s the main question. I&#39;ve expanded the question a bit to focus on that."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421273471, "post_id": 27952773, "comment_id": 44301839, "body": "(Not the main question; but how, by they way, would I get the System&#39;s <code>site-packages</code> <i>off</i> of my <code>PYTHONPATH</code> \u2014 I don&#39;t put it there with nothing I know of?)"}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421273685, "post_id": 27952773, "comment_id": 44301929, "body": "Sorry I think this has become a <a href=\"http://meta.stackexchange.com/questions/43478/exit-strategies-for-chameleon-questions\">Chameleon question</a>,:-). Please make a new question for the intention issue and the PYTHONPATH is easy, just edit the .bash_profile, .bashrc."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421274278, "post_id": 27952773, "comment_id": 44302213, "body": "No, the OQ is about &quot;Shouldn&#39;t Homebrew&#39;s packages be searched first?&quot;: whether it&#39;s supposed to be that way an whether I should change it. I&#39;ll add a new question though about <i>how</i> to change it by removing the System&#39;s <code>site-packages</code> as you suggest."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421275226, "post_id": 27952773, "comment_id": 44302637, "body": "(Can&#39;t add a question today \u2014 hit my limit \u2014 in the meantime: a hit about how to remove my system&#39;s <code>site-packages</code> from the search path that Brew&#39;s Python uses to find packages?)"}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421280057, "post_id": 27952773, "comment_id": 44304392, "body": "I answered the first question. I left the second out because I don&#39;t have homebrew installed right now. I agree it would belong better in a new question."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421280710, "post_id": 27952773, "comment_id": 44304612, "body": "I can see that the presence of both site packages is intended to ensure access to system site packages; but what confuses me is the <i>order</i>; is that intended too?"}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421281817, "post_id": 27952773, "comment_id": 44304941, "body": "Yes, that is why they recommend appending instead of prepending. They had extensive discussions about what should be the default behaviour that works best for the majority of users. You shouldn&#39;t take their recommendation so seriously and adapt it to your own situation. There is not an ideal solution for all cases."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421282176, "post_id": 27952773, "comment_id": 44305027, "body": "Cool. I just wanted to make sure I it wasn&#39;t a sign of a messed up configuration. I think your suggestion about entirely removing the system&#39;s site packages from my my Brew Python is the way to go; I&#39;ll have to wait to ask a new question about that."}, {"owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "reply_to_user": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421282377, "post_id": 27952773, "comment_id": 44305073, "body": "In theory you can leave the old packages, if you have new homebrew versions and <code>PYTHONPATH</code> is correctly set these will be picked first. Also consider Anaconda."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421282576, "post_id": 27952773, "comment_id": 44305126, "body": "Yes, I&#39;d leave them. I just want to get them out of Brew&#39;s sight too. (There&#39;s other odd stuff going on too; like I get errors about <code>The directory &#39;...&#39; or its parent directory is not owned by the current user and the cache has been disabled.</code> using Brew&#39;s pip (for anything, even <code>list</code>. More questions when I can.)"}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1421342926, "post_id": 27952773, "comment_id": 44331403, "body": "Note though that there may be <a href=\"http://stackoverflow.com/q/27969359/656912\">problems with cutting out the system</a> entirely (though I agree it&#39;s a desirable approach)."}, {"owner": {"reputation": 5518, "user_id": 892260, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b21f13b2388dab1c90910e64b84e7a9?s=128&d=identicon&r=PG", "display_name": "Tim Smith", "link": "https://stackoverflow.com/users/892260/tim-smith"}, "edited": false, "score": 1, "creation_date": 1421775883, "post_id": 27952773, "comment_id": 44485725, "body": "Hi! I&#39;m a Homebrew maintainer. It&#39;s probably a misfeature that the /Library site-packages is considered before the one in Homebrew&#39;s prefix. There&#39;s an open issue about changing that here: <a href=\"https://github.com/Homebrew/homebrew/pull/28597\" rel=\"nofollow noreferrer\">github.com/Homebrew/homebrew/pull/28597</a> and I&#39;ll probably spend some time on it soon."}], "tags": [], "owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "is_accepted": true, "score": 10, "last_activity_date": 1421279651, "last_edit_date": 1421279651, "creation_date": 1421270853, "answer_id": 27952773, "question_id": 27952596, "link": "https://stackoverflow.com/questions/27952596/python-packages-in-wrong-location-after-installing-homebrew-python/27952773#27952773", "title": "Python packages in wrong location after installing Homebrew Python?", "body": "<p>That is the intended behaviour. The rationale behind it is that you can keep using your old installed modules despite the fact that you are now using a new homebrewed Python. </p>\n\n<p>Now this has some drawbacks, for example some libraries like numpy, won't work across different Python versions, so if you had installed numpy it will be imported from the old system's <code>site-packages</code> and won't work.</p>\n\n<p>There are at least two ways to change <code>sys.path</code>:</p>\n\n<p><strong>Use a <code>.pth</code> file:</strong></p>\n\n<p>Python will pick that from some of the builtin locations (ex: ~/Library/Python/2.7/lib/python/site-packages/homebrew.pth). This appends to <code>sys.path</code> which is not ideal but has the advantage that it won't be picked by Python 3. It is currently the <a href=\"https://github.com/Homebrew/homebrew/issues/27138\">recommended method</a>. You can achieve this with:</p>\n\n<pre><code>echo \"$(brew --prefix)/lib/python2.7/site-packages\" &gt; ~/Library/Python/2.7/lib/python/site-packages/homebrew.pth\n</code></pre>\n\n<p><strong>Set <code>PYTHONPATH</code>:</strong></p>\n\n<p>This gets prepended to <code>sys.path</code>, it has the drawback that is global to all python versions so it is not recommended if you are going to use different python versions. You can do it by adding to your <code>.bash_profile</code>:</p>\n\n<pre><code>export PYTHONPATH=`brew --prefix`/lib/python2.7/site-packages:$PYTHONPATH\n</code></pre>\n\n<p>I personally used option 2 with homebrew-python (I now use and recommend Anaconda). My reasons were that I didn't care about system's Python or Python 3 at the time. </p>\n"}], "owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11126, "favorite_count": 6, "accepted_answer_id": 27952773, "answer_count": 1, "score": 9, "last_activity_date": 1421279651, "creation_date": 1421270172, "last_edit_date": 1495542283, "question_id": 27952596, "link": "https://stackoverflow.com/questions/27952596/python-packages-in-wrong-location-after-installing-homebrew-python", "title": "Python packages in wrong location after installing Homebrew Python?", "body": "<p>After installing Homebrew's Python onto a system with an established Apple Python, the last entries listed by <code>sys.path</code> using Homebrew's Python are</p>\n\n<pre><code>/Library/Python/2.7/site-packages\n/usr/local/lib/python2.7/site-package\n</code></pre>\n\n<p>This is the reverse of the order I expect. Shouldn't Homebrew's packages be searched first? (In fact, <a href=\"https://stackoverflow.com/q/13001273/656912\">shouldn't it</a> be the <em>only</em> place searched?) That's what's <a href=\"https://github.com/Homebrew/homebrew/blob/master/share/doc/homebrew/Homebrew-and-Python.md#site-packages-and-the-pythonpath\" rel=\"nofollow noreferrer\">implied in the documentation</a>. Where is it set and how can I (or should I) change it?</p>\n\n<p>Or is this the way Brewed Python is supposed to work? Is it designed to <em>prevent duplicate packages</em> and assume that any package in the system <code>site-packages</code> is meant to stay there unless explicitly uninstalled and then subsequently installed (into Brew's); with the exception of <code>pip</code> and <code>setuptools</code> which <em>are</em> duplicated (and put first in Brewed Python's path).</p>\n"}, {"tags": ["python", "python-3.x", "pyqt"], "comments": [{"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 1, "creation_date": 1421290249, "post_id": 27952580, "comment_id": 44306867, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/27208706/pyqt-connect-inside-for-loop-vs-separate-calls-results-in-different-behavior\">PyQt connect inside for loop vs. separate calls results in different behavior</a>"}], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "edited": false, "score": 0, "creation_date": 1421271337, "post_id": 27952714, "comment_id": 44300838, "body": "Very interesting, and I think this explains some other trouble I&#39;ve had with lambda expressions as well.  In this case, I&#39;m not sure. Every push button is now passing <code>False</code> as the value of <code>current_answer</code> to <code>parse_answer()</code>. Button names are still being set correctly, so a variable known to contain a string is being fed into the lambda, but if I add a <code>print()</code> statement to <code>parse_answers()</code> to display the arguments passed to it, the lambda seems to be making the assignment <code>ca=False</code>."}, {"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "reply_to_user": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "edited": false, "score": 0, "creation_date": 1421271621, "post_id": 27952714, "comment_id": 44300984, "body": "@Jefe:  I&#39;m not sure what your exact issue is, but in the example you posted, the variable: <code>answer</code> isn&#39;t being assigned anywhere, so that may be part of it.  Maybe your actual code isn&#39;t what you posted here?"}, {"owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "edited": false, "score": 0, "creation_date": 1421272345, "post_id": 27952714, "comment_id": 44301307, "body": "I&#39;m sure it has everything to do with a lack of comprehension about lambda functions on my part, but it&#39;s an odd issue. Which ever assignment made first in the lambda expression gets set to False instead. So, <code>lambda ca=current_answer, a=answer: self.ap.parse_answer(ca, a)</code> passes (False, &quot;answer string&quot;) and <code>lambda a=answer, ca=current_answer: self.ap.parse_answer(ca, a)</code> passes (&quot;current answer string&quot;, False) to parse_answer()."}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "reply_to_user": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "edited": false, "score": 0, "creation_date": 1421290486, "post_id": 27952714, "comment_id": 44306918, "body": "@Jefe If you are still having problems, posting a minimilistic working example that demonstrates the odd behaviour may help others debug the problem."}], "tags": [], "owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "is_accepted": true, "score": 1, "last_activity_date": 1421270580, "last_edit_date": 1495542041, "creation_date": 1421270580, "answer_id": 27952714, "question_id": 27952580, "link": "https://stackoverflow.com/questions/27952580/pyqt-connect-call-affecting-multiple-widgets/27952714#27952714", "title": "PyQt connect() call affecting multiple widgets", "body": "<p>Your issue is that you're not <strong>capturing</strong> the values in the lambda function.  Because of the way Python's scoping rules work, you're using the same value (the last one) each time.</p>\n\n<p>Change the lambda line to this to <code>capture</code> the variables you want:</p>\n\n<pre><code>answer_disp.clicked.connect(\n    lambda ca=current_answer, a=answer: self.ap.parse_answer(ca, a))\n</code></pre>\n\n<p>There are other related questions/answers that may give you more of an explanation about this (like <a href=\"https://stackoverflow.com/questions/2295290/what-do-lambda-function-closures-capture-in-python\">here</a>)</p>\n"}], "owner": {"reputation": 537, "user_id": 4246412, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3oYN4.jpg?s=128&g=1", "display_name": "Jeffrey Swan", "link": "https://stackoverflow.com/users/4246412/jeffrey-swan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 27952714, "answer_count": 1, "score": 0, "last_activity_date": 1421270580, "creation_date": 1421270116, "question_id": 27952580, "link": "https://stackoverflow.com/questions/27952580/pyqt-connect-call-affecting-multiple-widgets", "title": "PyQt connect() call affecting multiple widgets", "body": "<p>Making PushButton widgets for a program. The intent was to create each PushButton, connect it to a function which compared two string values, <code>ap.parse_answer()</code>, then add the PushButton to the appropriate cell of a QGridLayout:</p>\n\n<pre><code>answers = [\"this\", \"that\", \"the other\", \"one more\"]\ncorrect_answer = \"this\"\n\nfor grid_pos in [(i,j) for i in range(0,2) for j in range(0,2)]:\n        answer_disp = AnswerDisplay()\n        current_answer = answers.pop()\n        answer_disp.setText(current_answer)\n        answer_disp.clicked.connect(\n            lambda: self.ap.parse_answer(current_answer, answer))\n        answer_grid.addWidget(answer_disp, *grid_pos)\n</code></pre>\n\n<p>Here is the AnswerDisplay class:</p>\n\n<pre><code>class AnswerDisplay(QtGui.QPushButton):\n    def __init__(self):\n        super(AnswerDisplay, self).__init__()\n        answer_font = QtGui.QFont()\n        answer_font.setWeight(24)\n        answer_font.setPixelSize(20)\n        self.setFont(answer_font)\n</code></pre>\n\n<p>Unfortunately, what happens is the same function gets connected to each button. The last function generated end up on all the buttons, so it seems the connect is being reapplied to previous created buttons. But how do I address this? My approach can't be completely invalid because the setText() function correctly sets the text for each button without overwriting the previous assignments.</p>\n\n<p>I tried to address the issue making an single AnswerDisplay and then copying it with deepcopy():</p>\n\n<pre><code>for grid_pos in [(i,j) for i in range(0,2) for j in range(0,2)]:\n    disp = AnswerDisplay()\n    answer_disp = deepcopy(disp)\n    super(AnswerDisplay, answer_disp).__init__()\n    ...\n</code></pre>\n\n<p>but it produced the same undesired result.</p>\n\n<p>I've done some searching, but all I've found are questions from people trying to get the kind of result I'm trying <em>not</em> to get. Any help would be appreciated.</p>\n"}, {"tags": ["python", "sql", "pyqt", "pyqt4", "pyodbc"], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 4334546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df552e542e92345089822d8420dfb5a2?s=128&d=identicon&r=PG&f=1", "display_name": "SKoczian", "link": "https://stackoverflow.com/users/4334546/skoczian"}, "is_accepted": true, "score": 29, "last_activity_date": 1421855782, "last_edit_date": 1421855782, "creation_date": 1421855386, "answer_id": 28071336, "question_id": 27952555, "link": "https://stackoverflow.com/questions/27952555/sql-update-statement-but-using-pyodbc/28071336#28071336", "title": "SQL Update statement but using pyodbc", "body": "<p>You can execute an UPDATE statement just as you now execute your INSERT:</p>\n\n<pre><code>    cnxn = pyodbc.connect('Driver={Microsoft Access Driver (*.mdb, *.accdb)}; Dbq=C:\\\\Users\\\\...............(file location)')\n    cursor = cnxn.cursor()\n    cursor.execute(\"UPDATE progress SET CockpitDrill = ? WHERE progress_primarykey = ?\", newcockpitdrillvalue, oldprimarykeyvalue)\n    cnxn.commit()\n</code></pre>\n\n<p>Does that help? \"progress_primarykey\" is the assumed name I've given to the primary key field in your database table. That's supposing you just want to change one record and you know its primary key.</p>\n"}], "owner": {"reputation": 179, "user_id": 3276553, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9496ef454aee9aeba1dc5150f7bf033?s=128&d=identicon&r=PG&f=1", "display_name": "MrPython", "link": "https://stackoverflow.com/users/3276553/mrpython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25795, "favorite_count": 1, "accepted_answer_id": 28071336, "answer_count": 1, "score": 10, "last_activity_date": 1421855782, "creation_date": 1421270031, "question_id": 27952555, "link": "https://stackoverflow.com/questions/27952555/sql-update-statement-but-using-pyodbc", "title": "SQL Update statement but using pyodbc", "body": "<p>I am using a pyodbc driver to connect to a microsoft access table using SQL. Does anyone know how I go about replacing fields within this table?? I have though about deleting the row and then putting the row back but that would change the primary key due to the autonumber in access.</p>\n\n<p>I have this for inserting into the Progress table:</p>\n\n<pre><code>        cnxn = pyodbc.connect('Driver={Microsoft Access Driver (*.mdb, *.accdb)}; Dbq=C:\\\\Users\\\\...............(file location)')\n        cursor = cnxn.cursor()\n        cursor.execute(\"insert into Progress(CockpitDrill,Mirrors,MoveOff,TurnLeft) values (?,?,?,?)\",cockpit,mirrors,moveOff,turnLeft,)\n        cnxn.commit()\n</code></pre>\n\n<p>So how would I replace these fields. Let's say I wanted to change CockpitDrill from '2' to '3', (They are all strings).</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "file-handling"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1421269865, "post_id": 27952481, "comment_id": 44300000, "body": "Probably better to just remove the commented out code, since it&#39;s not relevant to your question."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1421270010, "post_id": 27952481, "comment_id": 44300096, "body": "<code>surname.lower()</code> is <b>always true</b>, so your <code>else</code> is never executed. If you wanted to test if both <code>surname</code> and <code>firstName</code> are found in <code>line</code> you&#39;ll have to do separate tests for both: <code>if surname.lower() in line.lower() and firstName.lower() in line.lower():</code>."}, {"owner": {"reputation": 115, "user_id": 3157627, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2e54c63bf596060e0e586a33c0dee793?s=128&d=identicon&r=PG&f=1", "display_name": "joyalrj22", "link": "https://stackoverflow.com/users/3157627/joyalrj22"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421270347, "post_id": 27952481, "comment_id": 44300307, "body": "@MartijnPieters but both conditions need to be met so i cant split it into if and elif, but if I use if surname.lower() in line.lower() and firstName.lower() in line.lower():the text file still remains untouched"}, {"owner": {"reputation": 115, "user_id": 3157627, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2e54c63bf596060e0e586a33c0dee793?s=128&d=identicon&r=PG&f=1", "display_name": "joyalrj22", "link": "https://stackoverflow.com/users/3157627/joyalrj22"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421270394, "post_id": 27952481, "comment_id": 44300346, "body": "@MartijnPieters Also this code seemed to work about a month ago"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421270429, "post_id": 27952481, "comment_id": 44300366, "body": "@joyalrj22: if the code worked a month ago then <code>surname</code> was an empty string; that&#39;s the only way the <code>if</code> test would actually ever be false for some lines. Next thing to check: does <code>data</code> actually contain anything or is it empty?"}, {"owner": {"reputation": 115, "user_id": 3157627, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2e54c63bf596060e0e586a33c0dee793?s=128&d=identicon&r=PG&f=1", "display_name": "joyalrj22", "link": "https://stackoverflow.com/users/3157627/joyalrj22"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421270621, "post_id": 27952481, "comment_id": 44300471, "body": "@MartijnPieters Aha yes i am testing on an empty test file, so yes, data is empty - does that affect it at all?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1421270732, "post_id": 27952481, "comment_id": 44300516, "body": "<b>Of course</b> it does, because then your <code>for</code> loop has nothing to iterate over. No code in the loop will ever be executed."}], "owner": {"reputation": 115, "user_id": 3157627, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2e54c63bf596060e0e586a33c0dee793?s=128&d=identicon&r=PG&f=1", "display_name": "joyalrj22", "link": "https://stackoverflow.com/users/3157627/joyalrj22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1421269957, "answer_count": 0, "score": 0, "last_activity_date": 1421269891, "creation_date": 1421269740, "last_edit_date": 1421269891, "question_id": 27952481, "link": "https://stackoverflow.com/questions/27952481/python-program-not-writing-to-file", "closed_reason": "Duplicate", "title": "Python program not writing to file", "body": "<p>I am creating a quiz program, and i want to be able to save the users score to a text file. However my code that is supposed to write to a text file is not; the text file seems to be untouched. No errors are encountered.</p>\n\n<pre><code>with open(\"Class {0} data.txt\".format(classNo),\"r\") as src:\n\n        # list containing all data from file, one line is one item in list\n        data = src.readlines()\n\n        for ind,line in enumerate(data):\n\n            if surname.lower() and firstName.lower() in line.lower():\n                # overwrite the relevant item in data with the updated score\n                data[ind] = \"{0} {1}\\n\".format(line.rstrip(),score)\n                rewrite = True\n\n            else:\n                with open(\"Class {0} data.txt\".format(classNo),\"a\") as src: \n                    src.write(\"{0},{1} : {2}{3} \".format(surname, firstName, score,\"\\n\"))\n\n    if rewrite == True:\n        # reopen src in write mode and overwrite all the records with the items in data\n        with open(\"Class {} data.txt\".format(classNo),\"w\") as src: \n            src.writelines(data)\n    flag = False\n</code></pre>\n"}, {"tags": ["python", "psychopy"], "comments": [{"owner": {"reputation": 2271, "user_id": 3592211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4503144df77da1c12c3c3f922629c5ca?s=128&d=identicon&r=PG", "display_name": "Michael MacAskill", "link": "https://stackoverflow.com/users/3592211/michael-macaskill"}, "edited": false, "score": 0, "creation_date": 1421313765, "post_id": 27952448, "comment_id": 44313976, "body": "You don&#39;t actually show your loop structure here, so it is hard to know how your code works. event.getKeys() is designed for checking what was pressed at a given instance in time, so it is best suited to being in a reasonably tight loop (e.g. checking on every screen refresh). Otherwise, it is quite possible, for example, to check for a keypress before a reaction time has elapsed. We can&#39;t tell from the above when you are checking, and whether keypresses could slip through. If you could strip the extraneous detail out to make a minimal reproducible example, that would also be useful."}, {"owner": {"reputation": 1052, "user_id": 2225833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/989727c895fd35c282863d192091c536?s=128&d=identicon&r=PG&f=1", "display_name": "mmagnuski", "link": "https://stackoverflow.com/users/2225833/mmagnuski"}, "edited": false, "score": 0, "creation_date": 1428405461, "post_id": 27952448, "comment_id": 47139579, "body": "You could also use event.waitKeys() - it is also possible to specify timeout for waitKeys."}], "owner": {"reputation": 29, "user_id": 4211423, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_a9sIDUcqc/AAAAAAAAAAI/AAAAAAAAABA/bYqiheAUBsw/photo.jpg?sz=128", "display_name": "Ben", "link": "https://stackoverflow.com/users/4211423/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421269631, "creation_date": 1421269631, "question_id": 27952448, "link": "https://stackoverflow.com/questions/27952448/psychopy-getkeys-trouble", "title": "Psychopy GetKeys trouble", "body": "<p>I've been battling this issue for several hours and my attempts to find a solution online have come up blank. Hopefully someone here has some insight.</p>\n\n<p>In the course of an experiment, participants see a series of stimuli followed by masks with no user input. However, on some trials we want to throw in \"catch\" trials to make sure the participant is still engaged.</p>\n\n<p>So ideally, the flow would look like:</p>\n\n<p>stim->mask->stim->mask...->catch trial->mask (register keypress - \"I saw it\")->stim->mask...</p>\n\n<p>The problem I'm having is that when I call event.getKeys('space') it invariably returns an empty list.</p>\n\n<p>Here's a snippet of relevant code:</p>\n\n<pre><code>            if stimCount &gt;= min(catchTrials)+mod[modCount] and stimCount &lt;= max(catchTrials)+mod[modCount] and beenDisplayed == 0:\n                print 1\n                test = random.randint(0,1)\n                if test == 1 or stimCount % 20 == 0:\n                    print 2\n                    actualStim.setSF(0)\n                    actualStim.setOri(0)\n                    doCatch(catchTimeout) # this displays the \"catch\" stim\n                    doMask(MaskTimeout,maskNum) # this is the mask\n                    print stimCount+1, 'catch', catchResponse # debug line\n                    beenDisplayed = 1\n                    modCount += 1\n                    inCatch = 1\n                    keys = event.getKeys([\"space\"]) # should return *something* that was pressed?\n                    print 'keys = ',keys\n                    if len(keys) &gt; 0: # logic given a keypress\n                        print 'pressed'\n                        catchResponse[0] = 1\n                    else:\n                        print 'not pressed'\n                        catchResponse[0] = 0\n\n                else:\n                    maskNum = str(1) \n                    doFixate(FixateTimeout)\n                    actualStim.setSF(Circle1[stimCount][1])\n                    actualStim.setOri(Circle1[stimCount][2])\n                    #doMask(MaskTimeout,maskNum)\n                    print stimCount+1, inCatch\n                    if inCatch == 1:\n                        print str(keyMap[response[\"firstKey\"]])\n                    doStimulus(None, StimTimeout, None)\n                    doMask(MaskTimeout,maskNum)\n\n  Output: \n    5 0\n    1\n    6 0\n    1\n    2\n    7 catch [0, 1]\n    keys =  []\n    not pressed\n    8 0\n</code></pre>\n\n<p>As I understand it, event.getKeys() returns a list of all keys pressed since the last getKeys was called, or a clearEvent is called.</p>\n\n<p>In this case, I don't understand why keys is always empty. I've tried moving the getKeys event all over the loop and to no avail.</p>\n\n<p>I would greatly appreciate any help,\nBen</p>\n"}, {"tags": ["python", "jupyter-notebook", "ipython"], "answers": [{"comments": [{"owner": {"reputation": 4261, "user_id": 2668831, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Lq8l9.jpg?s=128&g=1", "display_name": "Louis Maddox", "link": "https://stackoverflow.com/users/2668831/louis-maddox"}, "edited": false, "score": 0, "creation_date": 1449490607, "post_id": 27952661, "comment_id": 56014355, "body": "In addition, if this is from a &#39;magic&#39; command rather than a Python function <a href=\"http://stackoverflow.com/questions/20704063/pipe-ipython-magic-output-to-a-variable\">see this question</a>"}, {"owner": {"reputation": 7965, "user_id": 503826, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/610f9ec2a3482c1706afb5a79d766219?s=128&d=identicon&r=PG", "display_name": "kelloti", "link": "https://stackoverflow.com/users/503826/kelloti"}, "edited": false, "score": 1, "creation_date": 1598048235, "post_id": 27952661, "comment_id": 112341630, "body": "Amazing! This is like discovering <code>goto</code> all over again!"}], "tags": [], "owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": true, "score": 38, "last_activity_date": 1421270378, "creation_date": 1421270378, "answer_id": 27952661, "question_id": 27952428, "link": "https://stackoverflow.com/questions/27952428/programmatically-get-current-ipython-notebook-cell-output/27952661#27952661", "title": "Programmatically get current IPython notebook cell output?", "body": "<p>IPython's <a href=\"http://ipython.org/ipython-doc/stable/interactive/reference.html#output-caching-system\">output caching system</a> defines several global variables:</p>\n\n<ul>\n<li>[<code>_</code>] (a single underscore): stores previous output, like Python\u2019s default interpreter.</li>\n<li>[<code>__</code>] (two underscores): next previous.</li>\n<li>[<code>___</code>] (three underscores): next-next previous.</li>\n</ul>\n\n<p>Additionally, after each output <code>x</code> is created, there is a variable <code>_&lt;x&gt;</code> created with the output as its value. For example:</p>\n\n<pre><code>In [12]: lst = [i for i in range(11)]\n\nIn [13]: lst\nOut[13]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\nIn [14]: _13\nOut[14]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n\n<p>Also, if you're interested, <code>_i&lt;x&gt;</code> contains the contents of the input cell <code>x</code>:</p>\n\n<pre><code>In [15]: _i12\nOut[15]: 'lst = [i for i in range(11)]'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 462, "user_id": 6255436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c6d52f2184fe91cdd34558ec482cfe?s=128&d=identicon&r=PG", "display_name": "havlock", "link": "https://stackoverflow.com/users/6255436/havlock"}, "edited": false, "score": 1, "creation_date": 1524407149, "post_id": 42376443, "comment_id": 86949615, "body": "If used in Jupyter (yes, I know the question has Ipython as a headline) this doesn&#39;t work quite as I at least expected. Out[3] for example does not give the output of cell 3, but the third output of any kind. Eg if you run cell 1 three times, Out[3] will be the third value."}], "tags": [], "owner": {"reputation": 356, "user_id": 2609272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hN7KA.jpg?s=128&g=1", "display_name": "Jay Patel", "link": "https://stackoverflow.com/users/2609272/jay-patel"}, "is_accepted": false, "score": 10, "last_activity_date": 1487705962, "creation_date": 1487705962, "answer_id": 42376443, "question_id": 27952428, "link": "https://stackoverflow.com/questions/27952428/programmatically-get-current-ipython-notebook-cell-output/42376443#42376443", "title": "Programmatically get current IPython notebook cell output?", "body": "<p>You can get the output of the cell X by using <code>_</code> or <code>Out[X]</code>. Such as:</p>\n\n<pre><code>In [1]: 2 + 35\nOut[1]: 37\nIn [2]: _ + 3\nOut[2]: 40 \nIn [3]: lst = [i for i in range(5)]\n        lst\nOut[3]: [0, 1, 2, 3, 4]\nIn [4]: Out[1] #Using the output of Cell 1\nOut[4]: 37\nIn [5]: Out[3][1] #Using the output of Cell 3\nOut[5]: 1\n</code></pre>\n\n<p>Here, If you want to get the output of the previous cell, then you can use <code>_</code>. You can use two (<code>__</code>) or three underscores(<code>___</code>) as well to refer to output of the next previous and next-next previous cells respectively.</p>\n\n<p>However, if you have many cells in the notebook and you want to refer some particular cell, then <code>Out[X]</code> will be helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 3354, "user_id": 9201239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/weI7h.jpg?s=128&g=1", "display_name": "stason", "link": "https://stackoverflow.com/users/9201239/stason"}, "is_accepted": false, "score": 3, "last_activity_date": 1545268491, "creation_date": 1545268491, "answer_id": 53861257, "question_id": 27952428, "link": "https://stackoverflow.com/questions/27952428/programmatically-get-current-ipython-notebook-cell-output/53861257#53861257", "title": "Programmatically get current IPython notebook cell output?", "body": "<p>The existing answers don't work for when a cell calls a function that generates its own <code>stdout</code>.</p>\n\n<p>I found a different solution that catches all of the output of the previous cell, no matter how it was produced.</p>\n\n<pre><code># cell 1:\n%%capture output\nprint(\"blah\")\nfunc_that_prints(\"Bha\")\n# -----------------\n# cell 2:\nprev_cell_output = str(output)\n# do something with prev_cell_output\n</code></pre>\n\n<p>Note that <code>%%capture</code> line must the very first line of a cell for it to work. <code>output</code> can be renamed to any other variable name. There will be no output for the first cell displayed (as it'll be captured).</p>\n\n<p><code>output</code> becomes available only in the following cell. It is a <code>utils.io.CapturedIO</code> object, so you can stringify it, or even call <code>.show()</code> on it, which will display its contents.</p>\n\n<p>For more information, e.g. capturing just <code>stdout</code>, or just <code>stderr</code> use the <a href=\"https://ipython.readthedocs.io/en/stable/interactive/magics.html#cellmagic-capture\" rel=\"nofollow noreferrer\">reference</a>.</p>\n"}], "owner": {"reputation": 2732, "user_id": 997338, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RNGFD.png?s=128&g=1", "display_name": "killajoule", "link": "https://stackoverflow.com/users/997338/killajoule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16796, "favorite_count": 8, "accepted_answer_id": 27952661, "answer_count": 3, "score": 24, "last_activity_date": 1618909906, "creation_date": 1421269551, "last_edit_date": 1618909906, "question_id": 27952428, "link": "https://stackoverflow.com/questions/27952428/programmatically-get-current-ipython-notebook-cell-output", "title": "Programmatically get current IPython notebook cell output?", "body": "<p>I have an imported function that runs in an IPython notebook (input cell X) which produces an output (in output cell X). After the function runs, I have some more code (also in input cell X); is there any way for that code to retrieve the current output (in output cell X)?</p>\n<p>There may be other ways to do what I am trying to achieve; but I am curious if the above is possible.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1421269474, "post_id": 27952366, "comment_id": 44299777, "body": "Iterate over the lists?"}, {"owner": {"reputation": 296, "user_id": 3372045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40f554472e90aa17eb76d9021e52558e?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/3372045/matthew"}, "reply_to_user": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1421269936, "post_id": 27952366, "comment_id": 44300045, "body": "@AshwiniChaudhary: Should I delete?"}], "answers": [{"comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1421269544, "post_id": 27952406, "comment_id": 44299815, "body": "This is the best solution because it short-circuits. It will at worst be O(N), but it must be by definition of the problem. At best you will hit the short circuit and bail earlier."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 7, "last_activity_date": 1421269469, "creation_date": 1421269469, "answer_id": 27952406, "question_id": 27952366, "link": "https://stackoverflow.com/questions/27952366/how-to-test-if-a-nested-python-list-contains-a-given-string/27952406#27952406", "title": "How to test if a nested Python list contains a given string", "body": "<p>You can't avoid having to loop and scan through elements here; but you can at least avoid having to scan all lists, and delegate the task of scanning each sublist to Python C code.</p>\n\n<p>Use the <a href=\"https://docs.python.org/3/library/functions.html#any\"><code>any()</code> function</a> to test each sublist in a generator expression:</p>\n\n<pre><code>any(search in sublist for sublist in l)\n</code></pre>\n\n<p><code>any()</code> will stop iterating over the generator expression the moment if finds a <code>True</code> value (e.g. when <code>search in sublist</code> found a match).</p>\n"}], "owner": {"reputation": 296, "user_id": 3372045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40f554472e90aa17eb76d9021e52558e?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/3372045/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2102, "favorite_count": 0, "closed_date": 1421269530, "accepted_answer_id": 27952406, "answer_count": 1, "score": 0, "last_activity_date": 1421269546, "creation_date": 1421269337, "question_id": 27952366, "link": "https://stackoverflow.com/questions/27952366/how-to-test-if-a-nested-python-list-contains-a-given-string", "closed_reason": "Duplicate", "title": "How to test if a nested Python list contains a given string", "body": "<p>I have a nested list of Python strings, like this one:</p>\n\n<pre><code>l = [['a', 'b', 'c'], ['d', 'e', 'f']]\n</code></pre>\n\n<p>I would like to quickly test if a given string is equal to any of the strings in any of the sublists. I could write a function to flatten the list, but the test needs to happen in a time-critical portion of my program. Is there a faster or more elegant way to do this?</p>\n"}, {"tags": ["python", "python-3.x", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 2, "creation_date": 1421282955, "post_id": 27952411, "comment_id": 44305224, "body": "This worked fine for me some months ago.  Make sure to install numpy first."}, {"owner": {"reputation": 504, "user_id": 7155015, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/99ccb1305420ee9350efd765c5e75fc5?s=128&d=identicon&r=PG", "display_name": "LRDPRDX", "link": "https://stackoverflow.com/users/7155015/lrdprdx"}, "edited": false, "score": 0, "creation_date": 1568285430, "post_id": 27952411, "comment_id": 102230115, "body": "I don&#39;t see a version for Python 3.4 there."}], "tags": [], "owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": true, "score": 4, "last_activity_date": 1421269492, "creation_date": 1421269492, "answer_id": 27952411, "question_id": 27952349, "link": "https://stackoverflow.com/questions/27952349/how-to-install-scipy-in-windows-7-with-python-3-4-2/27952411#27952411", "title": "How to Install scipy in Windows 7 with Python 3.4.2", "body": "<p>Try installing <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy\" rel=\"nofollow\"><code>numpy</code></a> and <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#scipy\" rel=\"nofollow\"><code>scipy</code></a> from Christoph Gohlke's Python Extension Packages for Windows repository. These are already compiled and statically linked to Intel's MKL library for increased performance, so all you need to do is download the appropriate <code>.exe</code> file for your version and \"bit-ness\" of Python, then run the downloaded file and it'll install.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 3787247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91988e5d89a2509a931ac2a254834b45?s=128&d=identicon&r=PG&f=1", "display_name": "Amarjit Chandhial", "link": "https://stackoverflow.com/users/3787247/amarjit-chandhial"}, "is_accepted": false, "score": 1, "last_activity_date": 1421780785, "last_edit_date": 1421780785, "creation_date": 1421780361, "answer_id": 28053149, "question_id": 27952349, "link": "https://stackoverflow.com/questions/27952349/how-to-install-scipy-in-windows-7-with-python-3-4-2/28053149#28053149", "title": "How to Install scipy in Windows 7 with Python 3.4.2", "body": "<p>This is related.</p>\n\n<p>I am having problems installing Scipy wheel file (no exe available) for Python 2.7.9, 64 bit on Window 7.</p>\n\n<p>I have downloaded the whl file: scipy-0.15.1-cp27-none-win_amd64.whl from Christoph Gohlke's Python Extension Packages for Windows repository, into my Downloads folder.</p>\n\n<p>I have then tried the following at cmd prompt:</p>\n\n<p>pip2 install c:\\users\\ name \\Downloads\\scipy-0.15.1-cp27-none-win_amd64.whl</p>\n\n<p>And I get weird error\nException Traceback etc etc.</p>\n\n<p>If I use just pip, I get unknown or unsupported command 'install'. And yes, I have set my environment variable PATH to include both</p>\n\n<p>C:\\Python27;C:\\Python27\\Scripts</p>\n\n<p>And numpy MKL 1.9.1. 64 bit is already installed.</p>\n\n<p>And I have downloaded and successfully installed wheel package.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 3787247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91988e5d89a2509a931ac2a254834b45?s=128&d=identicon&r=PG&f=1", "display_name": "Amarjit Chandhial", "link": "https://stackoverflow.com/users/3787247/amarjit-chandhial"}, "is_accepted": false, "score": 1, "last_activity_date": 1421834484, "creation_date": 1421834484, "answer_id": 28064302, "question_id": 27952349, "link": "https://stackoverflow.com/questions/27952349/how-to-install-scipy-in-windows-7-with-python-3-4-2/28064302#28064302", "title": "How to Install scipy in Windows 7 with Python 3.4.2", "body": "<p>With advice, the answer to my problem is:</p>\n\n<p>At the CMD prompt, specify the path to pip.exe and include double quotes for the path to where the whl file is downloaded.</p>\n\n<p>For example,</p>\n\n<blockquote>\n  <p>C:\\Python27\\Scripts\\pip.exe install \"C:\\Users\\ name \\Downloads\\scipy-0.15.1-cp27-none-win_amd64.whl\"</p>\n</blockquote>\n"}], "owner": {"reputation": 19515, "user_id": 3604745, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/U7HAo.png?s=128&g=1", "display_name": "Hack-R", "link": "https://stackoverflow.com/users/3604745/hack-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7276, "favorite_count": 0, "accepted_answer_id": 27952411, "answer_count": 3, "score": 2, "last_activity_date": 1421834484, "creation_date": 1421269233, "question_id": 27952349, "link": "https://stackoverflow.com/questions/27952349/how-to-install-scipy-in-windows-7-with-python-3-4-2", "title": "How to Install scipy in Windows 7 with Python 3.4.2", "body": "<p>I'm having trouble installing <code>scipy</code>. When I run</p>\n\n<p><code>python -m pip install scipy</code></p>\n\n<p>I get the following messages:</p>\n\n<pre><code>------------------------------------------------------------\nC:\\Python34\\lib\\site-packages\\pip\\__main__.py run on 01/14/15 15:56:16\nDownloading/unpacking scipy\n  Getting page https://pypi.python.org/simple/scipy/\n  URLs to search for versions for scipy:\n  * https://pypi.python.org/simple/scipy/\n  Analyzing links from page https://pypi.python.org/simple/scipy/\n    Skipping https://pypi.python.org/packages/2.7/s/scipy/scipy-0.13.3-cp27-none-macosx_10_6_intel.whl#md5=4bc791c9f37645380cab2843e63d18db (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/3.3/s/scipy/scipy-0.13.3-cp33-cp33m-macosx_10_6_intel.whl#md5=ca634955b1757fe5e22c6a8a035bb328 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/3.4/s/scipy/scipy-0.13.3-cp34-cp34m-macosx_10_6_intel.whl#md5=0042a2e09d1632b47ed4fdb411cf9821 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.10.0-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=310a518b189f32116da85e1762126b1a (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.11.0-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=b385333496b8b25a5782c2a7a35413d3 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.12.0-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=8230187d0f2580bbdf78fa1b56b01087 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.13.0-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=0b3c405ba421f43cf97837c5aa172515 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.14.0-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=f56df58dd416119a23d1c58316da5c26 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.14.0-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=d3728a6d43c3265003db3781cbd4660f (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.14.1-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=6bdf3109da07d8d6caeb438777d312dc (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.14.1rc1-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=1e6c155aa0bf5a248d3e46cf1d0ff44a (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.14.1rc1.dev_205726a-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=25c79e26aef2696a651c611b113c4965 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.14.1rc1.dev_52fb336-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=77ed947568d9d7b42f71ca84dce6b590 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp27/s/scipy/scipy-0.15.0-cp27-none-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=7c431a473ac65fd7cab4859c3743088b (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp33/s/scipy/scipy-0.13.0-cp33-cp33m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=d451fff29fd3d7aa501d6206bfed15f2 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp33/s/scipy/scipy-0.14.0-cp33-cp33m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=f2b504a8e3d5ee0ae33d7052a994a029 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp33/s/scipy/scipy-0.14.0-cp33-cp33m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=0ff3c20cb8e9c5c38e5a18cda3178ca7 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp33/s/scipy/scipy-0.14.1-cp33-cp33m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=423c77aa343f76c30788166400696f68 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp33/s/scipy/scipy-0.14.1rc1-cp33-cp33m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=bbe1317ca465c1246a71a86a5c380f0f (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp33/s/scipy/scipy-0.14.1rc1.dev_205726a-cp33-cp33m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=27038263a15a4c125ded37f7f1dff9d3 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp33/s/scipy/scipy-0.14.1rc1.dev_52fb336-cp33-cp33m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=b7514dd98239f5ec98fe290947a62906 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp33/s/scipy/scipy-0.15.0-cp33-cp33m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=f6c96a2cb737ad9f3f47db5089f8eba4 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp34/s/scipy/scipy-0.13.0-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=dcd20dad203d301f0b5ec7aa0bb49aa3 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp34/s/scipy/scipy-0.14.0-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=f5cf7e6eec6f7d41c6e46f32834d675d (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp34/s/scipy/scipy-0.14.0-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.whl#md5=de679794f46812c784845835371539f4 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp34/s/scipy/scipy-0.14.1-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=1c9eca63055d0e64b9b9d241ec5f9c0f (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp34/s/scipy/scipy-0.14.1rc1-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=ebdd363cfce65ceb62c456a8e6047ef7 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp34/s/scipy/scipy-0.14.1rc1.dev_205726a-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=755003a1d318c5b7e47c3e3b930f955d (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp34/s/scipy/scipy-0.14.1rc1.dev_52fb336-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=45c8e4c39aff1eb30b870796e039adce (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Skipping https://pypi.python.org/packages/cp34/s/scipy/scipy-0.15.0-cp34-cp34m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl#md5=4b7fc70b09576ef91e3ff4b005816379 (from https://pypi.python.org/simple/scipy/) because it is not compatible with this Python\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.10.0.tar.gz#md5=e357c08425fd031dce63bc4905789088 (from https://pypi.python.org/simple/scipy/), version: 0.10.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.10.0.zip#md5=d1a4242266739433dcfe2096b0ab4007 (from https://pypi.python.org/simple/scipy/), version: 0.10.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.10.1.tar.gz#md5=6ad976549e22e04ca93e70cf55b70a22 (from https://pypi.python.org/simple/scipy/), version: 0.10.1\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.10.1.zip#md5=4156cc1b765eb186de9518a94b6c3518 (from https://pypi.python.org/simple/scipy/), version: 0.10.1\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.11.0.tar.gz#md5=842c81d35fd63579c41a8ca21a2419b9 (from https://pypi.python.org/simple/scipy/), version: 0.11.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.11.0.zip#md5=40b700ddde9ddab643b640fff7a9d753 (from https://pypi.python.org/simple/scipy/), version: 0.11.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.12.0.tar.gz#md5=8fb4da324649f655e8557ea92b998786 (from https://pypi.python.org/simple/scipy/), version: 0.12.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.12.0.zip#md5=e4b9f3cb2e965fc8751faedfb9164d08 (from https://pypi.python.org/simple/scipy/), version: 0.12.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.12.1.tar.gz#md5=906278290152fedfe79029371ca584a5 (from https://pypi.python.org/simple/scipy/), version: 0.12.1\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.12.1.zip#md5=3f23065fc45152c92c3588dad2f20c62 (from https://pypi.python.org/simple/scipy/), version: 0.12.1\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.13.0.tar.gz#md5=ffa1e9bfd2bbdf3f17f4cf8139084098 (from https://pypi.python.org/simple/scipy/), version: 0.13.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.13.0.zip#md5=bd588ce8255e4d5427b5b19e9da2d4c7 (from https://pypi.python.org/simple/scipy/), version: 0.13.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.13.1.tar.gz#md5=e082fe358a2b39cff235e5af4240f5a5 (from https://pypi.python.org/simple/scipy/), version: 0.13.1\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.13.1.zip#md5=485411032b02583b4eb63caec6f2a916 (from https://pypi.python.org/simple/scipy/), version: 0.13.1\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.13.2.tar.gz#md5=fcd110802b0bf3505ba567cf831566e1 (from https://pypi.python.org/simple/scipy/), version: 0.13.2\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.13.2.zip#md5=9befa30e546fba762a0c1695a509f731 (from https://pypi.python.org/simple/scipy/), version: 0.13.2\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.13.3.tar.gz#md5=0547c1f8e8afad4009cc9b5ef17a2d4d (from https://pypi.python.org/simple/scipy/), version: 0.13.3\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.13.3.zip#md5=20ff3a867cc5925ef1d654aed2ff7e88 (from https://pypi.python.org/simple/scipy/), version: 0.13.3\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.14.0.tar.gz#md5=d7c7f4ccf8b07b08d6fe49d5cd51f85d (from https://pypi.python.org/simple/scipy/), version: 0.14.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.14.0.zip#md5=7ee4fa9e756bab6b46b79f77c821cb68 (from https://pypi.python.org/simple/scipy/), version: 0.14.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.14.1.tar.gz#md5=1bfedd3197b3e3f8cd131ae2c06a1bf5 (from https://pypi.python.org/simple/scipy/), version: 0.14.1\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.14.1.zip#md5=4bfc35d3683e0ef397157f84040df5b0 (from https://pypi.python.org/simple/scipy/), version: 0.14.1\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.15.0.tar.gz#md5=639112f077f0aeb6d80718dc5019dc7a (from https://pypi.python.org/simple/scipy/), version: 0.15.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.15.0.zip#md5=09641b11ac17f1c141979c60a3f60895 (from https://pypi.python.org/simple/scipy/), version: 0.15.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.8.0.tar.gz#md5=f0bfc6141b90e6a31555b31486602251 (from https://pypi.python.org/simple/scipy/), version: 0.8.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.9.0.tar.gz#md5=ebfef6e8e82d15c875a4ee6a46d4e1cd (from https://pypi.python.org/simple/scipy/), version: 0.9.0\n    Found link https://pypi.python.org/packages/source/s/scipy/scipy-0.9.0.zip#md5=a37933c9e3c4fdf8d087624cd7dcb47d (from https://pypi.python.org/simple/scipy/), version: 0.9.0\n  Using version 0.15.0 (newest of versions: 0.15.0, 0.15.0, 0.14.1, 0.14.1, 0.14.0, 0.14.0, 0.13.3, 0.13.3, 0.13.2, 0.13.2, 0.13.1, 0.13.1, 0.13.0, 0.13.0, 0.12.1, 0.12.1, 0.12.0, 0.12.0, 0.11.0, 0.11.0, 0.10.1, 0.10.1, 0.10.0, 0.10.0, 0.9.0, 0.9.0, 0.8.0)\n  Downloading from URL https://pypi.python.org/packages/source/s/scipy/scipy-0.15.0.tar.gz#md5=639112f077f0aeb6d80718dc5019dc7a (from https://pypi.python.org/simple/scipy/)\n  Running setup.py (path:C:\\Users\\cooluser\\AppData\\Local\\Temp\\pip_build_cooluser\\scipy\\setup.py) egg_info for package scipy\n    non-existing path in 'numpy\\\\distutils': 'site.cfg'\n    non-existing path in 'numpy\\\\f2py': 'docs'\n    non-existing path in 'numpy\\\\f2py': 'f2py.1'\n    non-existing path in 'numpy\\\\lib': 'benchmarks'\n    Running from numpy source directory.\n    C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\system_info.py:1526: UserWarning:\n        Atlas (http://math-atlas.sourceforge.net/) libraries not found.\n        Directories to search for the libraries can be specified in the\n        numpy/distutils/site.cfg file (section [atlas]) or by setting\n        the ATLAS environment variable.\n      warnings.warn(AtlasNotFoundError.__doc__)\n    C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\system_info.py:1535: UserWarning:\n        Blas (http://www.netlib.org/blas/) libraries not found.\n        Directories to search for the libraries can be specified in the\n        numpy/distutils/site.cfg file (section [blas]) or by setting\n        the BLAS environment variable.\n      warnings.warn(BlasNotFoundError.__doc__)\n\nI HAD TO CUT SOME STUFF OUT HERE TO MAKE IT FIT IN THE CHARACTER LIMIT\n\n        return cmd.easy_install(req)\n      File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 593, in easy_install\n        return self.install_item(spec, dist.location, tmpdir, deps)\n      File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 623, in install_item\n        dists = self.install_eggs(spec, download, tmpdir)\n      File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 809, in install_eggs\n        return self.build_and_install(setup_script, setup_base)\n      File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1015, in build_and_install\n        self.run_setup(setup_script, setup_base, args)\n      File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1003, in run_setup\n        raise DistutilsError(\"Setup script exited with %s\" % (v.args[0],))\n    distutils.errors.DistutilsError: Setup script exited with error: Unable to find vcvarsall.bat\n    Complete output from command python setup.py egg_info:\n    non-existing path in 'numpy\\\\distutils': 'site.cfg'\n\nnon-existing path in 'numpy\\\\f2py': 'docs'\n\nnon-existing path in 'numpy\\\\f2py': 'f2py.1'\n\nnon-existing path in 'numpy\\\\lib': 'benchmarks'\n\nRunning from numpy source directory.\n\nC:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\system_info.py:1526: UserWarning:\n\n    Atlas (http://math-atlas.sourceforge.net/) libraries not found.\n\n    Directories to search for the libraries can be specified in the\n\n    numpy/distutils/site.cfg file (section [atlas]) or by setting\n\n    the ATLAS environment variable.\n\n  warnings.warn(AtlasNotFoundError.__doc__)\n\nC:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\system_info.py:1535: UserWarning:\n\n    Blas (http://www.netlib.org/blas/) libraries not found.\n\n    Directories to search for the libraries can be specified in the\n\n    numpy/distutils/site.cfg file (section [blas]) or by setting\n\n    the BLAS environment variable.\n\n  warnings.warn(BlasNotFoundError.__doc__)\n\nC:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\system_info.py:1538: UserWarning:\n\n    Blas (http://www.netlib.org/blas/) sources not found.\n\n    Directories to search for the sources can be specified in the\n\n    numpy/distutils/site.cfg file (section [blas_src]) or by setting\n\n    the BLAS_SRC environment variable.\n\n  warnings.warn(BlasSrcNotFoundError.__doc__)\n\nC:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\system_info.py:1432: UserWarning:\n\n    Atlas (http://math-atlas.sourceforge.net/) libraries not found.\n\n    Directories to search for the libraries can be specified in the\n\n    numpy/distutils/site.cfg file (section [atlas]) or by setting\n\n    the ATLAS environment variable.\n\n  warnings.warn(AtlasNotFoundError.__doc__)\n\nC:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\system_info.py:1443: UserWarning:\n\n    Lapack (http://www.netlib.org/lapack/) libraries not found.\n\n    Directories to search for the libraries can be specified in the\n\n    numpy/distutils/site.cfg file (section [lapack]) or by setting\n\n    the LAPACK environment variable.\n\n  warnings.warn(LapackNotFoundError.__doc__)\n\nC:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\system_info.py:1446: UserWarning:\n\n    Lapack (http://www.netlib.org/lapack/) sources not found.\n\n    Directories to search for the sources can be specified in the\n\n    numpy/distutils/site.cfg file (section [lapack_src]) or by setting\n\n    the LAPACK_SRC environment variable.\n\n  warnings.warn(LapackSrcNotFoundError.__doc__)\n\nC:\\Python34\\lib\\distutils\\dist.py:260: UserWarning: Unknown distribution option: 'define_macros'\n\n  warnings.warn(msg)\n\nTraceback (most recent call last):\n\n  File \"C:\\Python34\\lib\\distutils\\core.py\", line 148, in setup\n\n    dist.run_commands()\n\n  File \"C:\\Python34\\lib\\distutils\\dist.py\", line 955, in run_commands\n\n    self.run_command(cmd)\n\n  File \"C:\\Python34\\lib\\distutils\\dist.py\", line 974, in run_command\n\n    cmd_obj.run()\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\bdist_egg.py\", line 177, in run\n\n    self.run_command(\"egg_info\")\n\n  File \"C:\\Python34\\lib\\distutils\\cmd.py\", line 313, in run_command\n\n    self.distribution.run_command(command)\n\n  File \"C:\\Python34\\lib\\distutils\\dist.py\", line 974, in run_command\n\n    cmd_obj.run()\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\command\\egg_info.py\", line 10, in run\n\n  File \"C:\\Python34\\lib\\distutils\\cmd.py\", line 313, in run_command\n\n    self.distribution.run_command(command)\n\n  File \"C:\\Python34\\lib\\distutils\\dist.py\", line 974, in run_command\n\n    cmd_obj.run()\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\command\\build_src.py\", line 153, in run\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\command\\build_src.py\", line 164, in build_sources\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\command\\build_src.py\", line 299, in build_library_sources\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\command\\build_src.py\", line 386, in generate_sources\n\n  File \"numpy\\core\\setup.py\", line 684, in get_mathlib_info\n\n  File \"C:\\Python34\\lib\\distutils\\command\\config.py\", line 243, in try_link\n\n    self._check_compiler()\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\command\\config.py\", line 57, in _check_compiler\n\n  File \"C:\\Python34\\lib\\distutils\\msvc9compiler.py\", line 371, in initialize\n\n    vc_env = query_vcvarsall(VERSION, plat_spec)\n\n  File \"C:\\Python34\\lib\\distutils\\msvc9compiler.py\", line 259, in query_vcvarsall\n\n    raise DistutilsPlatformError(\"Unable to find vcvarsall.bat\")\n\ndistutils.errors.DistutilsPlatformError: Unable to find vcvarsall.bat\n\n\n\nDuring handling of the above exception, another exception occurred:\n\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1000, in run_setup\n\n    run_setup(setup_script, args)\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\sandbox.py\", line 50, in run_setup\n\n    lambda: execfile(\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\sandbox.py\", line 100, in run\n\n    return func()\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\sandbox.py\", line 52, in &lt;lambda&gt;\n\n    {'__file__':setup_script, '__name__':'__main__'}\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\compat.py\", line 78, in execfile\n\n    exec(compile(source, fn, 'exec'), globs, locs)\n\n  File \"setup.py\", line 251, in &lt;module&gt;\n\n  File \"setup.py\", line 243, in setup_package\n\n\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\easy_install-pccllqug\\numpy-1.9.1\\numpy\\distutils\\core.py\", line 169, in setup\n\n  File \"C:\\Python34\\lib\\distutils\\core.py\", line 163, in setup\n\n    raise SystemExit(\"error: \" + str(msg))\n\nSystemExit: error: Unable to find vcvarsall.bat\n\n\n\nDuring handling of the above exception, another exception occurred:\n\n\n\nTraceback (most recent call last):\n\n  File \"&lt;string&gt;\", line 17, in &lt;module&gt;\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\pip_build_cooluser\\scipy\\setup.py\", line 249, in &lt;module&gt;\n\n    setup_package()\n\n  File \"C:\\Users\\cooluser\\AppData\\Local\\Temp\\pip_build_cooluser\\scipy\\setup.py\", line 246, in setup_package\n\n    setup(**metadata)\n\n  File \"C:\\Python34\\lib\\distutils\\core.py\", line 108, in setup\n\n    _setup_distribution = dist = klass(attrs)\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\dist.py\", line 239, in __init__\n\n    self.fetch_build_eggs(attrs.pop('setup_requires'))\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\dist.py\", line 263, in fetch_build_eggs\n\n    parse_requirements(requires), installer=self.fetch_build_egg\n\n  File \"C:\\Python34\\lib\\site-packages\\pkg_resources.py\", line 564, in resolve\n\n    dist = best[req.key] = env.best_match(req, self, installer)\n\n  File \"C:\\Python34\\lib\\site-packages\\pkg_resources.py\", line 802, in best_match\n\n    return self.obtain(req, installer) # try and download/install\n\n  File \"C:\\Python34\\lib\\site-packages\\pkg_resources.py\", line 814, in obtain\n\n    return installer(requirement)\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\dist.py\", line 313, in fetch_build_egg\n\n    return cmd.easy_install(req)\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 593, in easy_install\n\n    return self.install_item(spec, dist.location, tmpdir, deps)\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 623, in install_item\n\n    dists = self.install_eggs(spec, download, tmpdir)\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 809, in install_eggs\n\n    return self.build_and_install(setup_script, setup_base)\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1015, in build_and_install\n\n    self.run_setup(setup_script, setup_base, args)\n\n  File \"C:\\Python34\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1003, in run_setup\n\n    raise DistutilsError(\"Setup script exited with %s\" % (v.args[0],))\n\ndistutils.errors.DistutilsError: Setup script exited with error: Unable to find vcvarsall.bat\n\n----------------------------------------\nCleaning up...\n  Removing temporary dir C:\\Users\\cooluser\\AppData\\Local\\Temp\\pip_build_cooluser...\nCommand python setup.py egg_info failed with error code 1 in C:\\Users\\cooluser\\AppData\\Local\\Temp\\pip_build_cooluser\\scipy\nException information:\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\site-packages\\pip\\basecommand.py\", line 122, in main\n    status = self.run(options, args)\n  File \"C:\\Python34\\lib\\site-packages\\pip\\commands\\install.py\", line 278, in run\n    requirement_set.prepare_files(finder, force_root_egg_info=self.bundle, bundle=self.bundle)\n  File \"C:\\Python34\\lib\\site-packages\\pip\\req.py\", line 1229, in prepare_files\n    req_to_install.run_egg_info()\n  File \"C:\\Python34\\lib\\site-packages\\pip\\req.py\", line 325, in run_egg_info\n    command_desc='python setup.py egg_info')\n  File \"C:\\Python34\\lib\\site-packages\\pip\\util.py\", line 697, in call_subprocess\n    % (command_desc, proc.returncode, cwd))\npip.exceptions.InstallationError: Command python setup.py egg_info failed with error code 1 in C:\\Users\\cooluser\\AppData\\Local\\Temp\\pip_build_cooluser\\scipy\n</code></pre>\n"}, {"tags": ["python", "ssl", "openssl"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 4454719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e44378165bcc14b7e33f2ccf81ee7f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Phalse", "link": "https://stackoverflow.com/users/4454719/phalse"}, "edited": false, "score": 0, "creation_date": 1421338119, "post_id": 27952783, "comment_id": 44328229, "body": "The ubuntu box I am using is not connected to the internet."}, {"owner": {"reputation": 334, "user_id": 3869542, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/814f26ada78696136409f36ffd412477?s=128&d=identicon&r=PG&f=1", "display_name": "VT_Drew", "link": "https://stackoverflow.com/users/3869542/vt-drew"}, "reply_to_user": {"reputation": 111, "user_id": 4454719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e44378165bcc14b7e33f2ccf81ee7f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Phalse", "link": "https://stackoverflow.com/users/4454719/phalse"}, "edited": false, "score": 0, "creation_date": 1421429008, "post_id": 27952783, "comment_id": 44369740, "body": "Can you use a usb stick/external drive on the machine? If so just download the .tar.gz file to the usb stick on another machine (that can access the internet) then pop the usb stick into the ubuntu box and do &quot;pip install /home/username/ssl-1.16.tar.gz&quot;. Obviously you need to replace /home/username with the path to the file."}, {"owner": {"reputation": 111, "user_id": 4454719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e44378165bcc14b7e33f2ccf81ee7f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Phalse", "link": "https://stackoverflow.com/users/4454719/phalse"}, "edited": false, "score": 0, "creation_date": 1421430912, "post_id": 27952783, "comment_id": 44370699, "body": "pip is not installed on this version of linux, can you do something similar with yum?"}, {"owner": {"reputation": 381, "user_id": 1089391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0593fd935f73ffa657c58d1dfec509e6?s=128&d=identicon&r=PG", "display_name": "Beldar", "link": "https://stackoverflow.com/users/1089391/beldar"}, "edited": false, "score": 6, "creation_date": 1502129509, "post_id": 27952783, "comment_id": 78066265, "body": "This is useless, this is what happens when you run <code>pip install ssl</code>  <code>pip is configured with locations that require TLS&#47;SSL, however the ssl module in Python is not available.</code>  Shocker..."}], "tags": [], "owner": {"reputation": 334, "user_id": 3869542, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/814f26ada78696136409f36ffd412477?s=128&d=identicon&r=PG&f=1", "display_name": "VT_Drew", "link": "https://stackoverflow.com/users/3869542/vt-drew"}, "is_accepted": false, "score": 3, "last_activity_date": 1455788760, "last_edit_date": 1455788760, "creation_date": 1421270880, "answer_id": 27952783, "question_id": 27952343, "link": "https://stackoverflow.com/questions/27952343/install-python-ssl-module-on-linux-without-recompiling/27952783#27952783", "title": "Install python ssl module on linux without recompiling", "body": "<p><strong>NOTE:</strong> Python >= 2.6 already has SSL support built-in, there's no need to install <code>ssl</code> package. </p>\n\n<p>Install package from pypi: </p>\n\n<pre><code>pip install ssl\n</code></pre>\n\n<p>If you're missing <code>pip</code> command, install it for your distribution:</p>\n\n<p>RedHat/Centos:</p>\n\n<pre><code>yum install python-pip\n</code></pre>\n\n<p>Debian/Ubuntu</p>\n\n<pre><code>apt-get install python-pip\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 4454719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e44378165bcc14b7e33f2ccf81ee7f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Phalse", "link": "https://stackoverflow.com/users/4454719/phalse"}, "edited": false, "score": 1, "creation_date": 1421338182, "post_id": 27954528, "comment_id": 44328286, "body": "Doesn&#39;t this require the source for python?  I am trying to do this with no source.  You may have explained that, but I misunderstood."}, {"owner": {"reputation": 8024, "user_id": 836144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XquN9.jpg?s=128&g=1", "display_name": "Hassek", "link": "https://stackoverflow.com/users/836144/hassek"}, "edited": false, "score": 0, "creation_date": 1459179509, "post_id": 27954528, "comment_id": 60158976, "body": "It looks like there is no other way for python to use ssl without compiling it."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "reply_to_user": {"reputation": 8024, "user_id": 836144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XquN9.jpg?s=128&g=1", "display_name": "Hassek", "link": "https://stackoverflow.com/users/836144/hassek"}, "edited": false, "score": 0, "creation_date": 1459180998, "post_id": 27954528, "comment_id": 60159765, "body": "@Hassek - yes and no. If you use a binary compatible OpenSSL 0.9.8, then No, there&#39;s no need to recompile Python. However, OpenSSL 0.9.8 is End-of-Life (EOL) and it lack most ECC and TLS 1.2, so you probably want to avoid it. OpenSSL 1.0.2 and 1.1.0 are the way to proceed, and in case, Yes, you must recompile Python. Its easy to recompile once you know where to look for the SSL bits (as shown above)."}], "tags": [], "owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "is_accepted": false, "score": 6, "last_activity_date": 1421282232, "last_edit_date": 1421282232, "creation_date": 1421278903, "answer_id": 27954528, "question_id": 27952343, "link": "https://stackoverflow.com/questions/27952343/install-python-ssl-module-on-linux-without-recompiling/27954528#27954528", "title": "Install python ssl module on linux without recompiling", "body": "<blockquote>\n  <p>Is it possible to install the SSL module for python on a linux box that already has OpenSSL installed without recompiling python?</p>\n</blockquote>\n\n<p>Yes. Python's <code>setup.py</code> uses the following logic to detect OpenSSL:</p>\n\n<pre><code>search_for_ssl_incs_in = [\n                      '/usr/local/ssl/include',\n                      '/usr/contrib/ssl/include/'\n                     ]\n\nssl_incs = find_file('openssl/ssl.h', inc_dirs,\n                     search_for_ssl_incs_in\n\nssl_libs = find_library_file(self.compiler, 'ssl',lib_dirs,\n                             ['/usr/local/ssl/lib',\n                              '/usr/contrib/ssl/lib/'\n                             ] )\n\nif (ssl_incs is not None and\n    ssl_libs is not None):\n    exts.append( Extension('_ssl', ['_ssl.c'],\n                           include_dirs = ssl_incs,\n                           library_dirs = ssl_libs,\n                           libraries = ['ssl', 'crypto'],\n                           depends = ['socketmodule.h']), )\n</code></pre>\n\n<p>The point is Python is <em>not</em> static linking against <code>libssl</code> and <code>libcrypto</code>. (Some static linking occurs with <code>cctyes</code>, but nothing else).</p>\n\n<p>Now, the bad thing is that the project uses system paths <em>before</em> your locally installed paths. For example, the project uses <code>inc_dirs</code> (system) <em>before</em> <code>search_for_ssl_incs_in</code> (local). (See more on this below).</p>\n\n<p>After you run <code>configure</code>, you will have a <code>Modules/Setup</code> with the following lines commented out:</p>\n\n<pre><code># Socket module helper for SSL support; you must comment out the other\n# socket line above, and possibly edit the SSL variable:\n#SSL=/usr/local/ssl\n#_ssl _ssl.c \\\n#   -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \\\n#   -L$(SSL)/lib -lssl -lcrypto\n</code></pre>\n\n<p>Again, no static linking. (And this assumes the previous version of Python uncommented those lines).</p>\n\n<p>So you should be able to build a <em>binary compatible</em> version of OpenSSL and use <code>LD_LIBRARY_PATH</code> or <code>LD_PREOLAD</code> to ensure Python uses your updated version of OpenSSL.</p>\n\n<p>OpenSSL 0.9.7 and  0.9.8 are binary compatible. OpenSSL 1.0.0, 1.0.1 and 1.0.2 are binary compatible. OpenSSL 0.9.8 and 1.0.0 are <em>not</em> binary compatible.</p>\n\n<h2>----------</h2>\n\n<p>Here's the problem with Python's setup placing system includes <em>before</em> local includes:</p>\n\n<pre><code>export CFLAGS=\"-I/usr/local/ssl/darwin/include\"; export LDFLAGS=\"-L/usr/local/ssl/darwin/lib\"\n&lt;edit Setup search_for_ssl_incs_in and search_for_ssl_incs_in&gt;\n./configure\n&lt;edit Modules/Setup&gt;\nmake\n...\n/Users/jww/Python-3.4.2/Modules/_ssl.c:390:9: warning: \n      'ERR_peek_last_error' is deprecated [-Wdeprecated-declarations]\n    e = ERR_peek_last_error();\n        ^\n/usr/include/openssl/err.h:274:15: note: 'ERR_peek_last_error' declared here\nunsigned long ERR_peek_last_error(void) DEPRECATED_IN_MAC_OS_X_VERSION_1...\n              ^\n/Users/jww/Python-3.4.2/Modules/_ssl.c:393:15: warning: \n      'SSL_get_error' is deprecated [-Wdeprecated-declarations]\n        err = SSL_get_error(obj-&gt;ssl, ret);\n...\n</code></pre>\n\n<p>Python used the down level version 0.9.8 version of OpenSSL provided by Apple, and not my recent OpenSSL 1.0.1k. That's despite me (1) exporting them in <code>CFLAGS</code> and <code>LDFLAGS</code>; (2) editing <code>Setup</code>; and (3) editing <code>Modules/Setup</code>.</p>\n\n<p>And I still have runtime path problems to contend with, so I'll need to use <code>LD_PRELOAD_PATH</code>, <code>DYNLIB_LIBRARY_PATH</code>, etc.</p>\n"}], "owner": {"reputation": 111, "user_id": 4454719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e44378165bcc14b7e33f2ccf81ee7f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Phalse", "link": "https://stackoverflow.com/users/4454719/phalse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28051, "favorite_count": 2, "answer_count": 2, "score": 11, "last_activity_date": 1455788760, "creation_date": 1421269196, "question_id": 27952343, "link": "https://stackoverflow.com/questions/27952343/install-python-ssl-module-on-linux-without-recompiling", "title": "Install python ssl module on linux without recompiling", "body": "<p>Is it possible to install the SSL module for python on a linux box that already has OpenSSL installed without recompiling python?  I was hoping it would be as simple as copying over a few files and including them in the library path.  Python version is 2.4.3.\nThanks!</p>\n"}, {"tags": ["python", "html", "wordpress", "d3.js", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 4670292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rr8PyhCTWfM/AAAAAAAAAAI/AAAAAAAABfI/mYD7dYSjcu8/photo.jpg?sz=128", "display_name": "Fabian Dubois", "link": "https://stackoverflow.com/users/4670292/fabian-dubois"}, "is_accepted": false, "score": 0, "last_activity_date": 1447829369, "creation_date": 1447829369, "answer_id": 33773517, "question_id": 27952338, "link": "https://stackoverflow.com/questions/27952338/inputing-an-mpld3-graph-into-wordpress/33773517#33773517", "title": "Inputing an MPLD3 graph into Wordpress", "body": "<p>I suspect that the d3.js and mpld3.js were not found, which would explain why you don't see the chart.\nThere is a d3_url and mpld3_url that you may want to provide and set to the url of a CDN where the files are available for example See <a href=\"https://mpld3.github.io/modules/API.html#mpld3.fig_to_html\" rel=\"nofollow\">https://mpld3.github.io/modules/API.html#mpld3.fig_to_html</a></p>\n\n<p>Even after setting that properly you may have problems as this is not the recommended way to use javascript within wordpress. You can also try an embed with stricter separation from wordpress: see <a href=\"http://www.datamaplab.com/posts/embedding-javascript-visualization-wordpress/\" rel=\"nofollow\">http://www.datamaplab.com/posts/embedding-javascript-visualization-wordpress/</a> for reference.</p>\n"}], "owner": {"reputation": 11, "user_id": 4307403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b341226119e36ba9f76f36282d99cee?s=128&d=identicon&r=PG&f=1", "display_name": "viho", "link": "https://stackoverflow.com/users/4307403/viho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493212501, "creation_date": 1421269179, "last_edit_date": 1421271024, "question_id": 27952338, "link": "https://stackoverflow.com/questions/27952338/inputing-an-mpld3-graph-into-wordpress", "title": "Inputing an MPLD3 graph into Wordpress", "body": "<p>I'm having trouble getting my <strong>mpld3</strong> plot to show up in my <strong>Wordpress</strong> page. I make my plot, then use <code>mpld3.save_html()</code> to get an html file that contains my figure. However, when I paste this code into my Wordpress page (using the Text editor, not the visual editor) nothing happens. I paste both the script and div tags. I know my javascript is working because I can write <code>alert('Hello');</code> inside script tags, which works fine. I've also tried installing the \"Insert Javascript &amp; CSS\" plugin, which also did not work.</p>\n\n<p>Is there some way to embed these graphs into <strong>Wordpress</strong>, and if not, how does one embed interactive charts in a <strong>Wordpress</strong> post?</p>\n"}, {"tags": ["python", "pycharm"], "answers": [{"comments": [{"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "edited": false, "score": 0, "creation_date": 1421270336, "post_id": 27952376, "comment_id": 44300300, "body": "You seem to be pretty good at using PyCharm I have another question if you dont mind helping =D <a href=\"http://stackoverflow.com/questions/27952638/usr-bin-env-python3-4-within-pycharm-project\" title=\"usr bin env python3 4 within pycharm project\">stackoverflow.com/questions/27952638/&hellip;</a>"}, {"owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "reply_to_user": {"reputation": 1819, "user_id": 2522849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fjZiO.jpg?s=128&g=1", "display_name": "DrumM", "link": "https://stackoverflow.com/users/2522849/drumm"}, "edited": false, "score": 0, "creation_date": 1517744985, "post_id": 27952376, "comment_id": 84211704, "body": "@DrumM not sure I understand you. Can you clarify and give an example what you&#39;re trying to do ?"}, {"owner": {"reputation": 1819, "user_id": 2522849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fjZiO.jpg?s=128&g=1", "display_name": "DrumM", "link": "https://stackoverflow.com/users/2522849/drumm"}, "edited": false, "score": 0, "creation_date": 1517869837, "post_id": 27952376, "comment_id": 84262249, "body": "easy: like you would do on a command line, adding variables to it: e.g.: ./program.py $LIST_OF_FILES It&#39;s just a pain in the *** if the list of files you want to test, you always have to change the config..."}, {"owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "reply_to_user": {"reputation": 1819, "user_id": 2522849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fjZiO.jpg?s=128&g=1", "display_name": "DrumM", "link": "https://stackoverflow.com/users/2522849/drumm"}, "edited": false, "score": 0, "creation_date": 1517998644, "post_id": 27952376, "comment_id": 84319722, "body": "@DrumM - there is a tick to open confuguration screen on each launch. That&#39;s one option. Option 2: get output of your shell command inside python app you&#39;re debugging. Option 3: specify the facilitator as the launch app. It will gather required data and then run the code you&#39;re trying to debug"}, {"owner": {"reputation": 3226, "user_id": 4449035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-cDrTIBwolm0/AAAAAAAAAAI/AAAAAAAANmE/OK9Bjdfpl7g/photo.jpg?sz=128", "display_name": "Brady Dowling", "link": "https://stackoverflow.com/users/4449035/brady-dowling"}, "edited": false, "score": 1, "creation_date": 1546449817, "post_id": 27952376, "comment_id": 94857864, "body": "Note that arguments with spaces in them should be wrapper in double quotes, <i>not single quotes</i>. This tripped me up for a little bit."}, {"owner": {"reputation": 746, "user_id": 11520760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e8299df2e833690cfd0a9af7029dcb?s=128&d=identicon&r=PG&f=1", "display_name": "basilisk", "link": "https://stackoverflow.com/users/11520760/basilisk"}, "edited": false, "score": 0, "creation_date": 1578999241, "post_id": 27952376, "comment_id": 105613633, "body": "I can&#39;t see python and the edit configuration section!"}, {"owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "reply_to_user": {"reputation": 746, "user_id": 11520760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e8299df2e833690cfd0a9af7029dcb?s=128&d=identicon&r=PG&f=1", "display_name": "basilisk", "link": "https://stackoverflow.com/users/11520760/basilisk"}, "edited": false, "score": 0, "creation_date": 1579082964, "post_id": 27952376, "comment_id": 105644815, "body": "@basilisk What IDE are you using? And what do you see ?"}], "tags": [], "owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "is_accepted": true, "score": 85, "last_activity_date": 1555050833, "last_edit_date": 1555050833, "creation_date": 1421269382, "answer_id": 27952376, "question_id": 27952331, "link": "https://stackoverflow.com/questions/27952331/debugging-with-pycharm-terminal-arguments/27952376#27952376", "title": "Debugging with PyCharm terminal arguments", "body": "<p>Menu: <code>Run</code> -> <code>Edit configurations</code> -> <code>\"+\" (add new config)</code> -> <code>Python</code>.</p>\n\n<p>Script name: <code>program.py</code></p>\n\n<p>If you need to debug a script from installed packages, such as <code>tox</code>, you can specify the full path too. For example:\nScript name: <code>/home/your_user/.envs/env_name/bin/tox</code></p>\n\n<p>Above <code>/home/your_user/.envs/env_name</code> is a path to virtual environment containing <code>tox</code> package.</p>\n\n<p>Script params: <code>-t input1 -t1 input2</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7368058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2991cf0fdaf12b5748f036daab500f91?s=128&d=identicon&r=PG&f=1", "display_name": "ArjunM", "link": "https://stackoverflow.com/users/7368058/arjunm"}, "is_accepted": false, "score": 1, "last_activity_date": 1530394559, "last_edit_date": 1530394559, "creation_date": 1530375288, "answer_id": 51116540, "question_id": 27952331, "link": "https://stackoverflow.com/questions/27952331/debugging-with-pycharm-terminal-arguments/51116540#51116540", "title": "Debugging with PyCharm terminal arguments", "body": "<p>It was almost correct but just needed little correction with full script path.</p>\n\n<p>Menu: <code>Run-&gt;Edit configurations-&gt;\"+\" (add new config)-&gt;Python</code>.</p>\n\n<p>Script name: <code>path + /program.py</code></p>\n\n<p>Script params: <code>-t input1 -t1 input2</code></p>\n"}, {"comments": [{"owner": {"reputation": 306, "user_id": 3642162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yRR0w.jpg?s=128&g=1", "display_name": "ijuneja", "link": "https://stackoverflow.com/users/3642162/ijuneja"}, "edited": false, "score": 0, "creation_date": 1610779308, "post_id": 57890463, "comment_id": 116244745, "body": "In case its not clear, the parameter 1 and parameter 2 are not place holders but actual values."}], "tags": [], "owner": {"reputation": 353, "user_id": 9396756, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--k3BE3oHnAA/AAAAAAAAAAI/AAAAAAAAHYk/e7NJ7T3NMEk/photo.jpg?sz=128", "display_name": "Jebaseelan Ravi", "link": "https://stackoverflow.com/users/9396756/jebaseelan-ravi"}, "is_accepted": false, "score": 24, "last_activity_date": 1568209040, "creation_date": 1568209040, "answer_id": 57890463, "question_id": 27952331, "link": "https://stackoverflow.com/questions/27952331/debugging-with-pycharm-terminal-arguments/57890463#57890463", "title": "Debugging with PyCharm terminal arguments", "body": "<p>Just the image wise representation of answer</p>\n\n<p>step 1: Click on the <code>Run</code> menu click <code>Edit configuration</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/ocxAB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ocxAB.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Select <code>+</code> in top right corner and select <code>python</code></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/4tCM0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4tCM0.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"3\">\n<li>Provide the <code>name</code> ,<code>absolutepath of the script/ select the script by clicking three dots(green marker</code>, <code>script paramters</code> and <code>python interpreter</code></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/DUWQO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DUWQO.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37088, "favorite_count": 14, "accepted_answer_id": 27952376, "answer_count": 3, "score": 57, "last_activity_date": 1568209040, "creation_date": 1421269146, "question_id": 27952331, "link": "https://stackoverflow.com/questions/27952331/debugging-with-pycharm-terminal-arguments", "title": "Debugging with PyCharm terminal arguments", "body": "<p>I have been using PyCharm for a bit so I am not an expert. </p>\n\n<p>How I normally ran my programs was with the terminal like so:</p>\n\n<p><code>program.py -t input1 -t1 input2</code></p>\n\n<p>I was wondering how can I debug this? </p>\n\n<p>For other programs I wrote, I did not have any arguments so debugging was simply setting break points and pressing debug.</p>\n"}, {"tags": ["python", "if-statement", "terminal", "tic-tac-toe"], "comments": [{"owner": {"reputation": 21720, "user_id": 1520841, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PXzxR.jpg?s=128&g=1", "display_name": "Joel Hinz", "link": "https://stackoverflow.com/users/1520841/joel-hinz"}, "edited": false, "score": 0, "creation_date": 1421269397, "post_id": 27952227, "comment_id": 44299739, "body": "For starters, you can get rid of loads by shortening all of the <code>if S[n] == X: winner = X &#47; if S[x] == O: winner = O</code> to just <code>winner = S[n]</code>. That&#39;ll save you 24 lines of code. :)"}, {"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1421269942, "post_id": 27952227, "comment_id": 44300050, "body": "Consider using <code>for</code> loops and <code>range</code>."}, {"owner": {"reputation": 5183, "user_id": 3155195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96fb82a06f0a269039e913211ac44fcd?s=128&d=identicon&r=PG&f=1", "display_name": "zehnpaard", "link": "https://stackoverflow.com/users/3155195/zehnpaard"}, "edited": false, "score": 1, "creation_date": 1421270116, "post_id": 27952227, "comment_id": 44300168, "body": "This question is a better fit for <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>, where the focus is about making existing running code better."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1421270298, "post_id": 27952227, "comment_id": 44300276, "body": "I assume the game stops when there is a winner?  You can probably write a <code>testRow</code> and <code>testCol</code> function for whatever row/column has the last input.  Then just do a test diagonals if that entry is on a diagonal."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 4352521, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/59bedf08b8ecfb3fa8dcaffab4c91c8d?s=128&d=identicon&r=PG&f=1", "display_name": "supersmarty1234", "link": "https://stackoverflow.com/users/4352521/supersmarty1234"}, "edited": false, "score": 0, "creation_date": 1421270663, "post_id": 27952669, "comment_id": 44300487, "body": "wow thanks, this is much easier, however, how do i make the trios variable work with the list S and it&#39;s indexes."}, {"owner": {"reputation": 2545, "user_id": 2962364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f0160627ff4551f2af40e93e17dfa1?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/2962364/roberto"}, "edited": false, "score": 0, "creation_date": 1421441667, "post_id": 27952669, "comment_id": 44375948, "body": "Something like, <code>for trio in trios</code> <code>if S[trio[0]] == S[trio[1]] == S[trio[2]]...</code>"}], "tags": [], "owner": {"reputation": 2545, "user_id": 2962364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f0160627ff4551f2af40e93e17dfa1?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/2962364/roberto"}, "is_accepted": true, "score": 1, "last_activity_date": 1421270399, "creation_date": 1421270399, "answer_id": 27952669, "question_id": 27952227, "link": "https://stackoverflow.com/questions/27952227/simplifying-python-if-statements/27952669#27952669", "title": "Simplifying Python If Statements", "body": "<p>Your code looks for \"trios\" of positions; you might as well have an object that holds this info:</p>\n\n<pre><code>trios = ((0,1,2), (3,4,5), (6,7,8), (0,3,6), (1,4,7), (2,5,8), (0,4,8), (2,4,6))\n</code></pre>\n\n<p>Then CheckWin would just loop through every trio, do that check you're doing, and return a winner if the trio matches. This way, CheckWin would be less than 10 lines of code.  </p>\n\n<p>I don't want to give it all away because I'm sure you can do it :)  </p>\n\n<p>Also, you don't need a global variable called \"winner\" inside CheckWin; just have CheckWin return the winner (or \"\"), and store the result in a variable outside the function itself.<br>\nI.e.</p>\n\n<pre><code>winner = CheckWin(S)\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2113422"}, "is_accepted": false, "score": 0, "last_activity_date": 1421275077, "creation_date": 1421275077, "answer_id": 27953750, "question_id": 27952227, "link": "https://stackoverflow.com/questions/27952227/simplifying-python-if-statements/27953750#27953750", "title": "Simplifying Python If Statements", "body": "<p>Have you tried using a loop instead?</p>\n\n<pre><code>X, O = 'X', 'O'\nS    = [X,O,X,O,X,O,O,X,O] # Test values\ndef CheckWin(S):\n    index      = 0\n    has_winner = False\n    while index &lt; len(S):\n        print index\n        if index &lt;= 6: # after this point you won't find a winner (or you run this after every turn?)\n            if (index % 3 == 0 and S[index] == S[index + 1] and S[index] == S[index + 2]): # horizontals\n                has_winner = True\n            elif index &lt; 3: # verticals and diagonals (you only need the first row to know this)\n                if (S[index] == S[(index + 3)] and S[index] == S[index + 6]) or \\\n                   (index == 0 and S[index] == S[4] and S[index] == S[8]) or \\\n                   (index == 2 and S[index] == S[4] and S[index] == S[6]):\n                    has_winner = True\n        if has_winner: # I'm using this to prevent duplicating code above (one if less)\n            if S[index] in [X,O]:\n                return S[index]\n        index += 1\n    return has_winner # If we have a winner but the X or O criterion isn't met, it returns False\nwinner = CheckWin(S)\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 4352521, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/59bedf08b8ecfb3fa8dcaffab4c91c8d?s=128&d=identicon&r=PG&f=1", "display_name": "supersmarty1234", "link": "https://stackoverflow.com/users/4352521/supersmarty1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 27952669, "answer_count": 2, "score": 0, "last_activity_date": 1421275077, "creation_date": 1421268806, "question_id": 27952227, "link": "https://stackoverflow.com/questions/27952227/simplifying-python-if-statements", "title": "Simplifying Python If Statements", "body": "<p>I am a beginner with python, and I am creating a two player tic tac toe game in terminal.  In total, this code takes up 139 lines, (this below being the relevant part of code I am having trouble with), however, this CheckWin function takes up around 40 lines of code, which I think is quite a lot compared to the amount of lines in this code, and considering that it performs a somewhat basic function.  Basically, in the game, this function checks whether a row, column, or diagonal, has three X's or three O's, and if it does, it assigns X to the winner and O to the winner.  Anyway, here is the code.  </p>\n\n<pre><code>X = \"X\"\nO = \"O\"\nempty = \" \" \nS = [\" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \"]\n\ndef CheckWin(S):\n    global winner\n    winner = \"\"\n    if S[0] == S[1] == S[2] != empty:\n        if S[0] == X:\n            winner = X\n        if S[0] == O:\n            winner = O\n    if S[3] == S[4] == S[5] != empty:\n        if S[3] == X:\n            winner = X\n        if S[3] == O:\n            winner = O\n    if S[6] == S[7] == S[8] != empty:\n        if S[6] == X:\n            winner = X\n        if S[6] == O:\n            winner = O\n    if S[0] == S[3] == S[6] != empty:\n        if S[0] == X:\n            winner = X\n        if S[0] == O:\n            winner = O\n    if S[1] == S[4] == S[7] != empty:\n        if S[1] == X:\n            winner = X\n        if S[1] == O:\n            winner = O\n    if S[2] == S[5] == S[8] != empty:\n        if S[2] == X:\n            winner = X\n        if S[2] == O:\n            winner = O\n    if S[0] == S[4] == S[8] != empty:\n        if S[0] == X:\n            winner = X\n        if S[0] == O:\n            winner = O\n    if S[2] == S[4] == S[6] != empty:\n        if S[2] == X:\n            winner = X\n        if S[2] == O:\n            winner = O\n</code></pre>\n\n<p>Basically, I need help making the function much much simpler.  However, I do not want to eliminate the X, O, and winner variables, nor do I want to eliminate the list index method with the list S.  Even though, is there a way to simplify all these If statements, keeping these things?  If so, how?  </p>\n"}, {"tags": ["python", "scikit-image"], "answers": [{"tags": [], "owner": {"reputation": 790, "user_id": 4287229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-gsMV6l92NRA/AAAAAAAAAAI/AAAAAAAACA0/lcnFfDu_xtA/photo.jpg?sz=128", "display_name": "Pamungkas Jayuda", "link": "https://stackoverflow.com/users/4287229/pamungkas-jayuda"}, "is_accepted": false, "score": 0, "last_activity_date": 1422546877, "creation_date": 1422546877, "answer_id": 28218979, "question_id": 27952185, "link": "https://stackoverflow.com/questions/27952185/error-in-scikit-image-example-rag-thresholding/28218979#28218979", "title": "Error in scikit-image example: RAG Thresholding", "body": "<p>i have try your code. Also On Ubuntu 14.04. <strong>ITS WORK WELL</strong>\nI just install <em>scipy</em> : <a href=\"http://www.scipy.org/\" rel=\"nofollow\">http://www.scipy.org/</a></p>\n\n<p>or you can install manual with pip this all list :</p>\n\n<pre><code># pip install numpy --upgrade\n# pip install scipy --upgrade\n# pip install matplotlib --upgrade\n# pip install ipython --upgrade\n# pip install pandas --upgrade\n# pip install sympy --upgrade\n# pip install nose --upgrade\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4454656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4886d7246e91aab9a9c7fcf5f8d0249d?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Tees", "link": "https://stackoverflow.com/users/4454656/matthew-tees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 547, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422546877, "creation_date": 1421268646, "question_id": 27952185, "link": "https://stackoverflow.com/questions/27952185/error-in-scikit-image-example-rag-thresholding", "title": "Error in scikit-image example: RAG Thresholding", "body": "<p>I am new the the scikit-learning package, I was going through some of the tutorials and came to this example : <a href=\"http://scikit-image.org/docs/dev/auto_examples/plot_rag_mean_color.html#example-plot-rag-mean-color-py\" rel=\"nofollow\">http://scikit-image.org/docs/dev/auto_examples/plot_rag_mean_color.html#example-plot-rag-mean-color-py</a></p>\n\n<pre><code>from skimage import graph, data, io, segmentation, color\nfrom matplotlib import pyplot as plt\n\n\nimg = data.coffee()\n\nlabels1 = segmentation.slic(img, compactness=30, n_segments=400)\nout1 = color.label2rgb(labels1, img, kind='avg')\n\ng = graph.rag_mean_color(img, labels1)\nlabels2 = graph.cut_threshold(labels1, g, 29)\nout2 = color.label2rgb(labels2, img, kind='avg')\n\nplt.figure()\nio.imshow(out1)\nplt.figure()\nio.imshow(out2)\nio.show()\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"ColorThresh.py\", line 8, in &lt;module&gt;\nout1 = color.label2rgb(labels1, img, kind='avg')\nTypeError: label2rgb() got an unexpected keyword argument 'kind'\n</code></pre>\n\n<p>Documentation on function:</p>\n\n<p><strong><a href=\"http://scikit-image.org/docs/dev/api/skimage.color.html?highlight=label2rgb#skimage.color.label2rgb\" rel=\"nofollow\">http://scikit-image.org/docs/dev/api/skimage.color.html?highlight=label2rgb#skimage.color.label2rgb</a></strong></p>\n\n<p>I am running on ubuntu 14.04</p>\n\n<p>scikit-image (0.10.1)</p>\n\n<p>python (2.7.6)</p>\n\n<p>Any Suggestions?</p>\n"}, {"tags": ["c#", "python", "c++", "math", "pca"], "comments": [{"owner": {"reputation": 5231, "user_id": 1387346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CKtdC.png?s=128&g=1", "display_name": "Cimbali", "link": "https://stackoverflow.com/users/1387346/cimbali"}, "edited": false, "score": 0, "creation_date": 1421334269, "post_id": 27952094, "comment_id": 44325475, "body": "Maybe you should include in the question the answers to the questions that once were in comments here, especially the specifics on the matrix."}, {"owner": {"reputation": 266835, "user_id": 51816, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0e54bb28182bcd9df39704751306df27?s=128&d=identicon&r=PG", "display_name": "Joan Venge", "link": "https://stackoverflow.com/users/51816/joan-venge"}, "reply_to_user": {"reputation": 5231, "user_id": 1387346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CKtdC.png?s=128&g=1", "display_name": "Cimbali", "link": "https://stackoverflow.com/users/1387346/cimbali"}, "edited": false, "score": 0, "creation_date": 1421535011, "post_id": 27952094, "comment_id": 44398791, "body": "@Cimbali: Not sure why they were deleted but I will try to add what I remember."}], "answers": [{"comments": [{"owner": {"reputation": 13141, "user_id": 1834147, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a0991b9f14a94a126187ac3aa342d3d2?s=128&d=identicon&r=PG", "display_name": "tmyklebu", "link": "https://stackoverflow.com/users/1834147/tmyklebu"}, "edited": false, "score": 1, "creation_date": 1421277302, "post_id": 27952895, "comment_id": 44303480, "body": "No, don&#39;t do that.  Finding eigenvalues via the characteristic polynomial is numerically unstable."}, {"owner": {"reputation": 13141, "user_id": 1834147, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a0991b9f14a94a126187ac3aa342d3d2?s=128&d=identicon&r=PG", "display_name": "tmyklebu", "link": "https://stackoverflow.com/users/1834147/tmyklebu"}, "edited": false, "score": 0, "creation_date": 1421335140, "post_id": 27952895, "comment_id": 44326074, "body": "Yes.  It looks like you avoided most of the usual bugs here.  But in your code, an <code>r</code> close to <code>-1</code> leads to a <code>phi</code> around <code>M_PI&#47;3</code> plus error on the order of <b>the square root of</b> the distance between <code>r</code> and <code>-1</code>.  This error perturbs <code>cos</code> by a similar amount  I took the bait and found a bad matrix for your code:  <code>[0x1.f1de4a71dea6p-1,-0x1.32245edca28p-4,0; -0x1.32245edca28p-4,0x1.af4cd633c31p-3,0; 0,0,0x1.f5965a029b8ap-1]</code>.  (Those numbers are in C99 hexfloat notation.)  Your approach only gets about 32 significant bits."}, {"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1421541683, "post_id": 27952895, "comment_id": 44400317, "body": "Double precision IEEE floating point numbers have 17 digits of precision.  That&#39;s it."}, {"owner": {"reputation": 5231, "user_id": 1387346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CKtdC.png?s=128&g=1", "display_name": "Cimbali", "link": "https://stackoverflow.com/users/1387346/cimbali"}, "edited": false, "score": 0, "creation_date": 1421542166, "post_id": 27952895, "comment_id": 44400399, "body": "They have a 52 bit mantissa, if that&#39;s what you&#39;re trying to say. With 1 implicit bit that&#39;s a maximum precision of around 10^-16 (normalized for the exponent of course). So 32 bits in a pathological case is pretty bad, and certainly much worse than what you&#39;d expect, but then the precision you need depends on the applications..."}], "tags": [], "owner": {"reputation": 5231, "user_id": 1387346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CKtdC.png?s=128&g=1", "display_name": "Cimbali", "link": "https://stackoverflow.com/users/1387346/cimbali"}, "is_accepted": true, "score": 3, "last_activity_date": 1421336665, "last_edit_date": 1486565976, "creation_date": 1421271398, "answer_id": 27952895, "question_id": 27952094, "link": "https://stackoverflow.com/questions/27952094/how-to-find-the-largest-eigenvector-of-a-matrix/27952895#27952895", "title": "How to find the largest eigenvector of a matrix?", "body": "<p>Let us recap what you are asking, to clarify :</p>\n\n<ol>\n<li>Find an eigenvector of a matrix <code>mat</code></li>\n<li>This eigenvector should be associated with the largest eigenvalue of the matrix</li>\n<li>The matrix is the symmetric covariance matrix of a <a href=\"http://en.wikipedia.org/wiki/Principal_component_analysis\" rel=\"nofollow noreferrer\">principal component analysis</a>. <strong>In particular, it is symmetric.</strong></li>\n<li>Your matrix is square <strong>of size 3 by 3</strong>, as shown in your code by <code>matrix3 mat = ...</code> and confirmed in a (now deleted) comment.</li>\n</ol>\n\n<p>Under these very specific circumstances, the following answer applies. However tmyklebu warns against numerical instability of this approach for some pathological matrices, typically when <code>r</code> is close to <code>-1</code>.</p>\n\n<hr>\n\n<p>Alright, lets start with a bit of reading from <a href=\"http://en.wikipedia.org/wiki/Characteristic_polynomial\" rel=\"nofollow noreferrer\">wikipedia's page on Characteristic polynomials</a></p>\n\n<blockquote>\n  <p>In linear algebra, the characteristic polynomial of a square matrix is a polynomial, which is invariant under matrix similarity and has the eigenvalues as roots. <img src=\"https://upload.wikimedia.org/math/f/6/f/f6fe4fa336f1255262578af6f7bcecf2.png\" alt=\"det(zI-A)\"></p>\n</blockquote>\n\n<p>blah blah blah, let's skip directly to the <a href=\"http://en.wikipedia.org/wiki/Eigenvalue_algorithm#3.C3.973_matrices\" rel=\"nofollow noreferrer\">3x3 matrix section in the page on Eigenvalue algorithms</a>.</p>\n\n<blockquote>\n  <p>If A is a 3\u00d73 matrix, then its characteristic equation can be expressed as:\n  <img src=\"https://upload.wikimedia.org/math/3/6/8/368d6fcf38d02c589e77e415a02b08ad.png\" alt=\"det(zI-A)\"></p>\n</blockquote>\n\n<p>Followed a few lines later by (more or less) this pseudo-code, <strong>for symmetric matrices</strong> (which you say you have, if I'm not mistaken -- otherwise you might have complex eigenvalues) :</p>\n\n<pre><code>p1 = A(1,2)^2 + A(1,3)^2 + A(2,3)^2\nif (p1 == 0) \n   % A is diagonal.\n   eig1 = A(1,1)\n   eig2 = A(2,2)\n   eig3 = A(3,3)\nelse\n   q = (A(1,1) + A(2,2) + A(3,3)) / 3\n   p2 = (A(1,1) - q)^2 + (A(2,2) - q)^2 + (A(3,3) - q)^2 + 2 * p1\n   p = sqrt(p2 / 6)\n   B = (1 / p) * (A - q * I)       % I is the identity matrix\n   r = determinant(B) / 2\n\n   % In exact arithmetic for a symmetric matrix  -1 &lt;= r &lt;= 1\n   % but computation error can leave it slightly outside this range.\n   if (r &lt;= -1) \n      phi = pi / 3\n   elseif (r &gt;= 1)\n      phi = 0\n   else\n      phi = acos(r) / 3\n   end\n\n   % the eigenvalues satisfy eig3 &lt;= eig2 &lt;= eig1\n   eig1 = q + 2 * p * cos(phi)\n   eig3 = q + 2 * p * cos(phi + (2*pi/3))\n   eig2 = 3 * q - eig1 - eig3     % since trace(A) = eig1 + eig2 + eig3\nend\n</code></pre>\n\n<p>So you want <code>max(eig1,eig2,eig3)</code> in the first case, <code>eig1</code> in the second case. Let us call <code>e</code> this largest eigenvalue.</p>\n\n<p>For the eigenvector, you can now just solve <code>(A-e*I)x=0</code></p>\n"}, {"tags": [], "owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "is_accepted": false, "score": 1, "last_activity_date": 1421333850, "last_edit_date": 1492088034, "creation_date": 1421333850, "answer_id": 27966232, "question_id": 27952094, "link": "https://stackoverflow.com/questions/27952094/how-to-find-the-largest-eigenvector-of-a-matrix/27966232#27966232", "title": "How to find the largest eigenvector of a matrix?", "body": "<p>There are different algorithms for finding eigenvalues.  Some work from smallest to largest, like QR; others work from largest to smallest, like power iteration or Jacobi-Davidson.  </p>\n\n<p>Maybe a switch of algorithm is what you want.  Try power method and see if that helps.</p>\n\n<p><a href=\"https://scicomp.stackexchange.com/questions/1681/what-is-the-fastest-way-to-calculate-the-largest-eigenvalue-of-a-general-matrix\">https://scicomp.stackexchange.com/questions/1681/what-is-the-fastest-way-to-calculate-the-largest-eigenvalue-of-a-general-matrix</a></p>\n"}], "owner": {"reputation": 266835, "user_id": 51816, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0e54bb28182bcd9df39704751306df27?s=128&d=identicon&r=PG", "display_name": "Joan Venge", "link": "https://stackoverflow.com/users/51816/joan-venge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1972, "favorite_count": 0, "accepted_answer_id": 27952895, "answer_count": 2, "score": -1, "last_activity_date": 1421535041, "creation_date": 1421268358, "last_edit_date": 1421535041, "question_id": 27952094, "link": "https://stackoverflow.com/questions/27952094/how-to-find-the-largest-eigenvector-of-a-matrix", "title": "How to find the largest eigenvector of a matrix?", "body": "<p>I am trying to implement this without success and I have to do this without using external modules numpy, etc. There are 3 modules in the app I am coding this, Python and C#, C++ but no other fancy libraries other than standard ones.</p>\n\n<p>On a separate application, I used numpy's svd and it works very accurately. So I am using it to match my results. My method is PCA and everything is good up to this point. But after I calculate my symmetric covariance matrix, I don't know how to find the largest eigenvector.</p>\n\n<p>The data set is always 3d points, x, y and z.</p>\n\n<pre><code>vector center;\nfor(point p in points):\n    center += p;\ncenter /= points.count;\n\nsumxx = 0;\nsumxy = 0;\nsumxz = 0;\nsumyy = 0;\nsumyz = 0;\nsumzz = 0;\nfor(point p in points):\n    vector s = p - center;\n    sumxx += s.x * s.x;\n    sumxy += s.x * s.y;\n    sumxz += s.x * s.z;\n    sumyy += s.y * s.y;\n    sumyz += s.y * s.z;\n    sumzz += s.z * s.z;\n\nmatrix3 mat = invert(matrix3(sumxx, sumxy, sumxz, sumxy, sumyy, sumyz, sumxz, sumyz, sumzz));\nvector n;\nif (determinant(mat) &gt; 0)\n    normal = find_largest_eigenvalue\n</code></pre>\n"}, {"tags": ["python", "django", "django-templates"], "answers": [{"comments": [{"owner": {"reputation": 4337, "user_id": 3783804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/36541fef4fa53fb45c6d28704c434c44?s=128&d=identicon&r=PG&f=1", "display_name": "byrdr", "link": "https://stackoverflow.com/users/3783804/byrdr"}, "edited": false, "score": 0, "creation_date": 1421268479, "post_id": 27952101, "comment_id": 44299261, "body": "Perfect, that&#39;s exactly what I was looking for. Thanks"}, {"owner": {"reputation": 3101, "user_id": 271586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80634f6917aff4b5daf3eb86932696f2?s=128&d=identicon&r=PG", "display_name": "Pran", "link": "https://stackoverflow.com/users/271586/pran"}, "edited": false, "score": 0, "creation_date": 1421268559, "post_id": 27952101, "comment_id": 44299303, "body": "Ah, you type faster than I do :)"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 3101, "user_id": 271586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80634f6917aff4b5daf3eb86932696f2?s=128&d=identicon&r=PG", "display_name": "Pran", "link": "https://stackoverflow.com/users/271586/pran"}, "edited": false, "score": 1, "creation_date": 1421268655, "post_id": 27952101, "comment_id": 44299353, "body": "@Pran you should have beaten me - slept for like 1 hour today and, I think, I&#39;m still drunk :) I&#39;ve just probably opened the question earlier."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 4, "last_activity_date": 1421268395, "creation_date": 1421268395, "answer_id": 27952101, "question_id": 27952065, "link": "https://stackoverflow.com/questions/27952065/django-reading-index-of-each-item-returned/27952101#27952101", "title": "Django reading index of each item returned", "body": "<p>Sounds like you are asking about <a href=\"https://docs.djangoproject.com/en/1.7/ref/templates/builtins/#for\" rel=\"noreferrer\"><code>forloop.counter</code></a>:</p>\n\n<blockquote>\n  <p><code>forloop.counter</code> - The current iteration of the loop (1-indexed)</p>\n</blockquote>\n\n<pre><code>{% for entry in latest_entries %}\n    &lt;li class=\"list-item\"&gt;\n        &lt;button class=\"button button-circle\"&gt;&lt;span class=\"list-index\"&gt;{{ forloop.counter }}&lt;/span&gt;&lt;/button&gt;\n        &lt;a class=\"SidebarLatestTitle\" href=\"{{ entry.get_absolute_url }}\"&gt;{{ entry.title }}&lt;/a&gt;\n    &lt;/li&gt;\n{% endfor %}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3101, "user_id": 271586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80634f6917aff4b5daf3eb86932696f2?s=128&d=identicon&r=PG", "display_name": "Pran", "link": "https://stackoverflow.com/users/271586/pran"}, "is_accepted": false, "score": 1, "last_activity_date": 1421268518, "creation_date": 1421268518, "answer_id": 27952151, "question_id": 27952065, "link": "https://stackoverflow.com/questions/27952065/django-reading-index-of-each-item-returned/27952151#27952151", "title": "Django reading index of each item returned", "body": "<p><a href=\"https://docs.djangoproject.com/en/1.7/ref/templates/builtins/#for\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.7/ref/templates/builtins/#for</a></p>\n\n<p>Using the magical <code>forloop.counter</code> or <code>forloop.counter0</code></p>\n"}], "owner": {"reputation": 4337, "user_id": 3783804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/36541fef4fa53fb45c6d28704c434c44?s=128&d=identicon&r=PG&f=1", "display_name": "byrdr", "link": "https://stackoverflow.com/users/3783804/byrdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 27952101, "answer_count": 2, "score": 1, "last_activity_date": 1421268518, "creation_date": 1421268259, "last_edit_date": 1421268478, "question_id": 27952065, "link": "https://stackoverflow.com/questions/27952065/django-reading-index-of-each-item-returned", "title": "Django reading index of each item returned", "body": "<p>I'm returning a list of items in a standard for loop in the template. Is is possible to get the index value of each item returned.</p>\n\n<pre><code>{% for entry in latest_entries %}\n    &lt;li class=\"list-item\"&gt;\n        &lt;button class=\"button button-circle\"&gt;&lt;span class=\"list-index\"&gt;1&lt;/span&gt;&lt;/button&gt;\n        &lt;a class=\"SidebarLatestTitle\" href=\"{{ entry.get_absolute_url }}\"&gt;{{ entry.title }}&lt;/a&gt;\n    &lt;/li&gt;\n {% endfor %}\n</code></pre>\n\n<p>I'd like for the hard-coded '1' in the button to return the correct number in the list. If 10 results are returned then (1-10). Does Django provide a way to access this number?</p>\n"}, {"tags": ["python", "django", "datetime", "sqlite"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 2887514, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e84501efaee17d87c8ce562fd803b3a4?s=128&d=identicon&r=PG", "display_name": "Termanater13", "link": "https://stackoverflow.com/users/2887514/termanater13"}, "edited": false, "score": 0, "creation_date": 1421288419, "post_id": 27952271, "comment_id": 44306491, "body": "this helps with datefields not datetimefields"}], "tags": [], "owner": {"reputation": 3623, "user_id": 174653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4e9217b0e0e481780bd38c297eec666?s=128&d=identicon&r=PG", "display_name": "tcarobruce", "link": "https://stackoverflow.com/users/174653/tcarobruce"}, "is_accepted": true, "score": 6, "last_activity_date": 1421291972, "last_edit_date": 1421291972, "creation_date": 1421268937, "answer_id": 27952271, "question_id": 27952063, "link": "https://stackoverflow.com/questions/27952063/pulling-all-unique-years-from-datetime-fields-from-a-django-model/27952271#27952271", "title": "pulling all unique years from datetime fields from a django model", "body": "<p>The QuerySet method <a href=\"https://docs.djangoproject.com/en/1.7/ref/models/querysets/#datetimes\" rel=\"noreferrer\">datetimes</a> handles this:</p>\n\n<pre><code>&gt;&gt;&gt; SomeModel.objects.all().datetimes('date_field', 'year')\n[datetime.date(2014, 1, 1), datetime.date(2015, 1, 1)]\n\n&gt;&gt;&gt; [d.year for d in SomeModel.objects.all().datetimes('date_field', 'year')]\n[2014, 2015]\n</code></pre>\n\n<p>Updated to use <code>datetimes</code> for <code>DateTimeField</code> fields. For a <code>DateField</code>, use <a href=\"https://docs.djangoproject.com/en/1.7/ref/models/querysets/#dates\" rel=\"noreferrer\">dates</a>.</p>\n"}], "owner": {"reputation": 45, "user_id": 2887514, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e84501efaee17d87c8ce562fd803b3a4?s=128&d=identicon&r=PG", "display_name": "Termanater13", "link": "https://stackoverflow.com/users/2887514/termanater13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1597, "favorite_count": 1, "accepted_answer_id": 27952271, "answer_count": 1, "score": 0, "last_activity_date": 1421291972, "creation_date": 1421268256, "question_id": 27952063, "link": "https://stackoverflow.com/questions/27952063/pulling-all-unique-years-from-datetime-fields-from-a-django-model", "title": "pulling all unique years from datetime fields from a django model", "body": "<p>running sqlite3 and the defulte datetime field how can I pull all unique years/months/days from the data base without iterating though all entries. Distinct does not appear to work with sqlite3, and without the slow iteration of all the dates I can not think of another way to do this.</p>\n\n<p>to be clear I want to pull all unique values from the database, and not filter to them.</p>\n"}, {"tags": ["python", "set"], "answers": [{"tags": [], "owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "is_accepted": true, "score": 5, "last_activity_date": 1421268359, "creation_date": 1421268359, "answer_id": 27952095, "question_id": 27952058, "link": "https://stackoverflow.com/questions/27952058/python-pop-on-unordered-sets/27952095#27952095", "title": "Python: .pop() on unordered sets", "body": "<p>No.</p>\n\n<p>\"Arbitrary\" means the implementation returns whichever element is most convenient.  You are not guaranteed randomness.  Use <code>random.sample()</code> or <code>random.shuffle()</code> if you need random selection.</p>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 838074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xMo5U.png?s=128&g=1", "display_name": "legaultmarc", "link": "https://stackoverflow.com/users/838074/legaultmarc"}, "is_accepted": false, "score": 1, "last_activity_date": 1421268573, "creation_date": 1421268573, "answer_id": 27952171, "question_id": 27952058, "link": "https://stackoverflow.com/questions/27952058/python-pop-on-unordered-sets/27952171#27952171", "title": "Python: .pop() on unordered sets", "body": "<p>I think the best way would be to use <code>random.shuffle</code></p>\n\n<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; li = [\"bob\", \"rachel\", \"sara\", \"david\"]\n&gt;&gt;&gt; random.shuffle(li)\n&gt;&gt;&gt; li\n['sara', 'bob', 'david', 'rachel']\n</code></pre>\n\n<p>If you want to get the elements one by one, you can then use <code>li.pop()</code>.</p>\n"}], "owner": {"reputation": 430, "user_id": 2449301, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dd26bd7fe8e4b70e0bc48e9a1150e908?s=128&d=identicon&r=PG", "display_name": "Djones4822", "link": "https://stackoverflow.com/users/2449301/djones4822"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 27952095, "answer_count": 2, "score": 1, "last_activity_date": 1421268573, "creation_date": 1421268228, "last_edit_date": 1421268502, "question_id": 27952058, "link": "https://stackoverflow.com/questions/27952058/python-pop-on-unordered-sets", "title": "Python: .pop() on unordered sets", "body": "<p>I have a question regarding the .pop() method. In the documentation, it states that on sets:</p>\n\n<blockquote>\n  <p>Remove and return an arbitrary element from the set.</p>\n</blockquote>\n\n<p>So what exactly does \"arbitrary\" mean? Like, for example: If I wanted to build a queue from a list of users where position is determined at random, could I enter in all users into a set, and then build a randomly assigned queue using .pop()?</p>\n\n<p>So the code would look something like</p>\n\n<pre><code>queue_set = {'bob','rachel','sara','david'}\nqueue = dequeue([])\nwhile queue_set:\n        queue.append(queue_set.pop())\n</code></pre>\n\n<p>Would that be a reasonable way to randomly assign members to an index? Or is the .pop() reliant on some way the data is entered or something?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "input", "integer"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1421268136, "post_id": 27952021, "comment_id": 44299102, "body": "please post the code you are using in your question. We can&#39;t tell what you&#39;re missing if we don&#39;t know what you&#39;re doing..."}, {"owner": {"reputation": 812, "user_id": 2097159, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/25bbccaf149c63cdb3a6c5b27cb9c492?s=128&d=identicon&r=PG", "display_name": "user2097159", "link": "https://stackoverflow.com/users/2097159/user2097159"}, "edited": false, "score": 0, "creation_date": 1421268173, "post_id": 27952021, "comment_id": 44299117, "body": "Check for a space on the first input if it has no space get a second input"}], "answers": [{"comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1421268501, "post_id": 27952086, "comment_id": 44299277, "body": "Looks like the OP is using python 3."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4330943"}, "edited": false, "score": 0, "creation_date": 1421268624, "post_id": 27952086, "comment_id": 44299327, "body": "Can I just use input instead of raw_input? I dont think python 3 has a raw_input. Im also using int() to convert the input into integers."}, {"owner": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "edited": false, "score": 0, "creation_date": 1421268662, "post_id": 27952086, "comment_id": 44299357, "body": "<code>raw_input</code> from Python 2 is <code>input</code> in Python 3."}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1421268812, "post_id": 27952086, "comment_id": 44299439, "body": "@ncerice fixed my answer. Good luck."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4330943"}, "edited": false, "score": 1, "creation_date": 1421269421, "post_id": 27952086, "comment_id": 44299752, "body": "@ReutSharabani thanks so much Reut. Looks like I have much more to learn about python than I thought :)"}], "tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": true, "score": 2, "last_activity_date": 1421269710, "last_edit_date": 1495541234, "creation_date": 1421268333, "answer_id": 27952086, "question_id": 27952021, "link": "https://stackoverflow.com/questions/27952021/python-basic-input-confusion/27952086#27952086", "title": "Python Basic Input Confusion", "body": "<p>the input terminates on new line (more percisely, the <code>sys.stdin</code> flushes on new line), so you get the entire line. To split it use:</p>\n\n<pre><code>inputs = input(\"Enter something\").split() # read input and split it\nprint inputs\n</code></pre>\n\n<p>applying to your code, it would look like this:</p>\n\n<pre><code># helper function to keep the code DRY\ndef get_numbers(message):\n    try:\n        # this is called list comprehension\n        return [int(x) for x in input(message).split()]\n    except:\n        # input can produce errors such as casting non-ints\n        print(\"Error while reading numbers\")\n        return []\n\ndef main():\n     # 1: create the list - wait for at least two numbers\n     nums = []\n     while len(nums) &lt; 2:\n         nums.extend(get_numbers(\"Enter numbers please: \"))\n     # only keep two first numbers, this is called slicing\n     nums = nums[:2]\n     # summarize using the built-in standard 'sum' function\n     numSum = sum(nums)\n     numProduct = nums[0] * nums[1]\n     print(\"sum = \",numSum)\n     print(\"product = \",numProduct)\n\nmain()\n</code></pre>\n\n<p><strong>Notes on what's used here:</strong></p>\n\n<p>You can use <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a> to construct lists from iterable objects.</p>\n\n<p>You can use <a href=\"https://docs.python.org/2/library/functions.html#sum\" rel=\"nofollow noreferrer\">sum</a> from the <a href=\"https://docs.python.org/2/library/functions.html\" rel=\"nofollow noreferrer\">standard library functions</a> to summarize lists.</p>\n\n<p>You can <a href=\"https://stackoverflow.com/questions/509211/explain-pythons-slice-notation\">slice</a> lists if you only want a part of the list.</p>\n"}, {"comments": [{"owner": {"reputation": 366, "user_id": 4474498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ff34b625c81a3793a4eaaee6704b95?s=128&d=identicon&r=PG&f=1", "display_name": "iamjayp", "link": "https://stackoverflow.com/users/4474498/iamjayp"}, "edited": false, "score": 0, "creation_date": 1423204507, "post_id": 28359833, "comment_id": 45062484, "body": "You asked for using input instead of raw_input. So answer is you can use only input instead of raw_input. Because raw_input is used to enter the string value and input is for entering only the integer values."}], "tags": [], "owner": {"reputation": 366, "user_id": 4474498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ff34b625c81a3793a4eaaee6704b95?s=128&d=identicon&r=PG&f=1", "display_name": "iamjayp", "link": "https://stackoverflow.com/users/4474498/iamjayp"}, "is_accepted": false, "score": 0, "last_activity_date": 1423204218, "creation_date": 1423204218, "answer_id": 28359833, "question_id": 27952021, "link": "https://stackoverflow.com/questions/27952021/python-basic-input-confusion/28359833#28359833", "title": "Python Basic Input Confusion", "body": "<p>Here I have modified your code.</p>\n\n<p><code>def main():\n     num1 = int(input(\"Enter first number : \"))\n     num2 = int(input(\"\\nEnter second number : \"))\n     if(num1&lt;=0 or num2&lt;=0):\n         print(\"Enter valid number\")\n     else:\n         numSum = num1 + num2\n         numProduct = num1 * num2\n         print(\"sum of the given numbers is = \",numSum)\n         print(\"product of the given numbers is = \",numProduct)\n     main()</code></p>\n\n<p>If you enter invalid number it prints message Enter valid number.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4330943"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 27952086, "answer_count": 2, "score": 1, "last_activity_date": 1423204218, "creation_date": 1421268070, "last_edit_date": 1421346474, "question_id": 27952021, "link": "https://stackoverflow.com/questions/27952021/python-basic-input-confusion", "title": "Python Basic Input Confusion", "body": "<p>So I am trying to teach myself python and I am having some problems accomplishing this task. I am trying to read in two integers from the keyboard, but the problem is that they can either be read in on the same line or on two different lines.</p>\n\n<p>Example Inputs: </p>\n\n<pre><code>23 45\n</code></pre>\n\n<p>or</p>\n\n<pre><code>23\n45\n</code></pre>\n\n<p>Each number should go to its own  variable.\nIm pretty sure I should make use of the strip/split functions, but what else am I missing? I just really dont know how to go about this... Thanks.</p>\n\n<p>Here is what Im working with, but obviously this version takes the numbers one on each line.</p>\n\n<pre><code>def main():\n  num1 = int(input())\n  num2 = int(input())\n  numSum = num1 + num2\n  numProduct = num1 * num2\n  print(\"sum = \",numSum)\n  print(\"product = \",numProduct)\nmain()\n</code></pre>\n"}, {"tags": ["python", "neo4j", "redhat", "py2neo"], "answers": [{"comments": [{"owner": {"reputation": 770, "user_id": 2338089, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4803ef48161c24d8ef58edfaff009d50?s=128&d=identicon&r=PG", "display_name": "adam", "link": "https://stackoverflow.com/users/2338089/adam"}, "edited": false, "score": 0, "creation_date": 1421350971, "post_id": 27959674, "comment_id": 44335988, "body": "I couldn&#39;t get it fixed, even with installing openssl, but I&#39;m fairly certain this is an issue with my RedHat and not py2neo/python. After installing openssl I still have to chase down a bunch of other dependencie"}], "tags": [], "owner": {"reputation": 4250, "user_id": 823822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc3df1c732144084a706d768564bd4?s=128&d=identicon&r=PG", "display_name": "Nigel Small", "link": "https://stackoverflow.com/users/823822/nigel-small"}, "is_accepted": true, "score": 0, "last_activity_date": 1421311840, "creation_date": 1421311840, "answer_id": 27959674, "question_id": 27951888, "link": "https://stackoverflow.com/questions/27951888/py2neo-offline-install-failing/27959674#27959674", "title": "py2neo offline install failing", "body": "<p><code>HTTPSConnection</code> should come with the standard library and isn't part of py2neo itself:</p>\n\n<p><a href=\"https://docs.python.org/2/library/httplib.html#httplib.HTTPSConnection\" rel=\"nofollow\">https://docs.python.org/2/library/httplib.html#httplib.HTTPSConnection</a></p>\n\n<p>I don't know specifically about how RedHat package Python but it's possible you need to install SSL support in addition to the main language. I believe this is a separate compilation option:</p>\n\n<p><a href=\"http://www.webtop.com.au/blog/compiling-python-with-ssl-support-fedora-10-2009020237\" rel=\"nofollow\">http://www.webtop.com.au/blog/compiling-python-with-ssl-support-fedora-10-2009020237</a></p>\n"}], "owner": {"reputation": 770, "user_id": 2338089, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4803ef48161c24d8ef58edfaff009d50?s=128&d=identicon&r=PG", "display_name": "adam", "link": "https://stackoverflow.com/users/2338089/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 27959674, "answer_count": 1, "score": 0, "last_activity_date": 1421311840, "creation_date": 1421267475, "question_id": 27951888, "link": "https://stackoverflow.com/questions/27951888/py2neo-offline-install-failing", "title": "py2neo offline install failing", "body": "<p>I'm trying to install py2neo on an offline machine. I can't use pip because I'm not connected to the internet. I'm trying to install py2neo-2.0.3 with python2.7.9 on redhat. When I run <code>python setup.py install</code> I get <code>ImportError: cannot import name HTTPSConnection</code>. </p>\n\n<pre><code>Traceback (most recent call last):\n    File \"setup.py\", line 29, in &lt;module&gt;\n     from py2neo import __author__, __email__, __license__, __package__, __version__\n    File \"usr/lib/py2neo-2.0.3/py2neo/__init__.py\" line 27, in &lt;module&gt;\n     from py2neo.core import * \n    File \"usr/lib/py2neo-2.0.3/py2neo/core.py\", line 28, in &lt;module&gt;\n     from py2neo.env import NEO4J_AUTH_TOKEN, NEO4J_URI\n    File \"usr/lib/py2neo-2.0.3/py2neo/env.py\", line 21, in &lt;module&gt;\n     from py2neo.packages.httpstream.packages.urimagic import URI\n    File \"usr/lib/py2neo-2.0.3/py2neo/packages/httpstream/__init__.py\", line 32, in &lt;module&gt;\n     from .http import *\n    File \"usr/lib/py2neo-2.0.3/py2neo/packages/httpstream/http.py\", line 31, in &lt;module&gt;\n     from httplib import (BadStatusLine, CannotSendRequest,\nImportError: cannot import name HTTPSConnection\n</code></pre>\n\n<p>I've tried installing httpstream but that didn't fix the import error. </p>\n"}, {"tags": ["python", "timestamp"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1421267476, "post_id": 27951831, "comment_id": 44298787, "body": "What did you try do far? Your question isn&#39;t 100% clear, do you mean you have a list of time stamps and you only want to print the ones that fall in the last 5 minutes from now?"}, {"owner": {"reputation": 4173, "user_id": 1189851, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0bc8894e7c25435b1fd7ff377a6fbd53?s=128&d=identicon&r=PG", "display_name": "user1189851", "link": "https://stackoverflow.com/users/1189851/user1189851"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1421268187, "post_id": 27951831, "comment_id": 44299123, "body": "I have one timestamp and I want go back 5 mins back from this timestamp and print each minute in the same format."}], "answers": [{"tags": [], "owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "is_accepted": true, "score": 1, "last_activity_date": 1421269706, "creation_date": 1421269706, "answer_id": 27952469, "question_id": 27951831, "link": "https://stackoverflow.com/questions/27951831/python-timestamp-find-all-timestamps-as-string-before-5-mins/27952469#27952469", "title": "python timestamp : Find all timestamps as string before 5 mins", "body": "<pre><code>from datetime import datetime, timedelta\ns = \"20150101000\"\nts = datetime.strptime(s, '%Y%m%d%H%M')\nfor x in range(1,6):\n    (ts - timedelta(minutes=x)).strftime('%Y%m%d%H%M')\n</code></pre>\n\n<hr>\n\n<p>Output:</p>\n\n<pre><code>'201412312359'\n'201412312358'\n'201412312357'\n'201412312356'\n'201412312355'\n</code></pre>\n\n<hr>\n\n<p>This is using the <a href=\"https://docs.python.org/2/library/datetime.html#datetime.timedelta\" rel=\"nofollow\">timedelta</a> function in a loop to subtract one minute at a time from your string. </p>\n"}], "owner": {"reputation": 4173, "user_id": 1189851, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0bc8894e7c25435b1fd7ff377a6fbd53?s=128&d=identicon&r=PG", "display_name": "user1189851", "link": "https://stackoverflow.com/users/1189851/user1189851"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "closed_date": 1421278021, "accepted_answer_id": 27952469, "answer_count": 1, "score": -1, "last_activity_date": 1421269706, "creation_date": 1421267263, "question_id": 27951831, "link": "https://stackoverflow.com/questions/27951831/python-timestamp-find-all-timestamps-as-string-before-5-mins", "closed_reason": "Needs more focus", "title": "python timestamp : Find all timestamps as string before 5 mins", "body": "<p>I have a string like \"<code>201501010003</code>\" representing a timestamp like <code>YYYYMMDDHHMM</code>.</p>\n\n<p>I want to go back 5 mins and print all the timestamps for each minute like:</p>\n\n<pre><code>201501010002\n201501010001\n201501010000\n201412122359\n201412122358\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms", "django-testing", "django-modeladmin"], "answers": [{"comments": [{"owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "edited": false, "score": 0, "creation_date": 1421268365, "post_id": 27951943, "comment_id": 44299216, "body": "This returns <code>ValueError: The Person could not be changed because the data didn&#39;t validate.</code>"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 1, "creation_date": 1421268727, "post_id": 27951943, "comment_id": 44299391, "body": "<code>self.assertEquals(user.first_name, &quot;has_changed&quot;)</code> will by definition fail, as the data in <code>user</code> is not reloaded from the database, so it cannot be changed."}, {"owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "edited": false, "score": 0, "creation_date": 1421269485, "post_id": 27951943, "comment_id": 44299783, "body": "How to make personform valid or what made it invalid?"}, {"owner": {"reputation": 26441, "user_id": 202168, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/481f8ec4fe0149f2b3851eee91c23b8e?s=128&d=identicon&r=PG", "display_name": "Anentropic", "link": "https://stackoverflow.com/users/202168/anentropic"}, "reply_to_user": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1421269775, "post_id": 27951943, "comment_id": 44299945, "body": "@knbk fixed now I think"}, {"owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "edited": false, "score": 0, "creation_date": 1421270486, "post_id": 27951943, "comment_id": 44300402, "body": "i just did not include &#39;user&#39; in fields"}, {"owner": {"reputation": 26441, "user_id": 202168, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/481f8ec4fe0149f2b3851eee91c23b8e?s=128&d=identicon&r=PG", "display_name": "Anentropic", "link": "https://stackoverflow.com/users/202168/anentropic"}, "edited": false, "score": 0, "creation_date": 1421270843, "post_id": 27951943, "comment_id": 44300579, "body": "ah, didn&#39;t notice that in the model admin class :)"}, {"owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "edited": false, "score": 0, "creation_date": 1421271893, "post_id": 27951943, "comment_id": 44301109, "body": "&#39;user&#39; field is not present now on my form. But it is steel probably a good idea to exclude field explicitly."}, {"owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "edited": false, "score": 0, "creation_date": 1421271951, "post_id": 27951943, "comment_id": 44301135, "body": "The test above fails with &quot;personform not valid&quot;. How to make it pass?"}, {"owner": {"reputation": 26441, "user_id": 202168, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/481f8ec4fe0149f2b3851eee91c23b8e?s=128&d=identicon&r=PG", "display_name": "Anentropic", "link": "https://stackoverflow.com/users/202168/anentropic"}, "edited": false, "score": 0, "creation_date": 1421272822, "post_id": 27951943, "comment_id": 44301555, "body": "well I have to assume you have some fields on the <code>Person</code> model that become required in <code>PersonForm</code>, so you need to supply some additional values in the <code>data</code> dict"}, {"owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "reply_to_user": {"reputation": 26441, "user_id": 202168, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/481f8ec4fe0149f2b3851eee91c23b8e?s=128&d=identicon&r=PG", "display_name": "Anentropic", "link": "https://stackoverflow.com/users/202168/anentropic"}, "edited": false, "score": 0, "creation_date": 1421273943, "post_id": 27951943, "comment_id": 44302047, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/68842/discussion-between---and-anentropic\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "reply_to_user": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1421310564, "post_id": 27951943, "comment_id": 44312463, "body": "You were right not putting field <code>user</code> into <code>AdminModel</code> fields list makes field <code>user</code> invisible, but does not imply exclusion. I set exclude strictly as you suggested and then test worked for me. Thank you, @knbk and @Anentropic"}], "tags": [], "owner": {"reputation": 26441, "user_id": 202168, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/481f8ec4fe0149f2b3851eee91c23b8e?s=128&d=identicon&r=PG", "display_name": "Anentropic", "link": "https://stackoverflow.com/users/202168/anentropic"}, "is_accepted": true, "score": 1, "last_activity_date": 1421326659, "last_edit_date": 1421326659, "creation_date": 1421267767, "answer_id": 27951943, "question_id": 27951777, "link": "https://stackoverflow.com/questions/27951777/how-to-test-modelform-save-method-saves-changes-in-model/27951943#27951943", "title": "How to test ModelForm save() method saves changes in model?", "body": "<pre><code>def test_form_saves_values_to_instance_user_on_save(self):\n    \"\"\"\n    test form saves name, surname, email values to corresponding User object\n    when commiting form\n    \"\"\"\n    person = Person.objects.get(user__username='admin')\n    personform = PersonForm(instance=person, data={'name': 'has_changed'})\n\n    if personform.is_valid():\n        person = personform.save()\n        self.assertEquals(person.user.first_name, \"has_changed\")\n    else:\n        self.fail(\"personform not valid\")\n</code></pre>\n\n<p>I think you also need to exclude the <code>user</code> field from your form</p>\n\n<pre><code>class PersonForm(ModelForm):\n    class Meta:\n        model = Person\n        exclude = ('user',)\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "is_accepted": false, "score": 1, "last_activity_date": 1421267917, "creation_date": 1421267917, "answer_id": 27951983, "question_id": 27951777, "link": "https://stackoverflow.com/questions/27951777/how-to-test-modelform-save-method-saves-changes-in-model/27951983#27951983", "title": "How to test ModelForm save() method saves changes in model?", "body": "<p>Pass the new data as a dictionary to your form (as first positional argument or as <code>data</code>), and assert that <code>personform.cleaned_data['name']</code> is equal to <code>User.objects.get(pk=user.pk).username</code>. Then do the same for <code>surname</code> and <code>email</code>. </p>\n\n<p>Note that <code>first_name</code> and <code>last_name</code> have a <code>max_length</code> of 30, while your form fields have a <code>max_length</code> of 100. </p>\n"}], "owner": {"reputation": 1242, "user_id": 2068356, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ac85f46a5b81289a982e3789601b1232?s=128&d=identicon&r=PG", "display_name": "Sashko Lykhenko", "link": "https://stackoverflow.com/users/2068356/sashko-lykhenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1633, "favorite_count": 0, "accepted_answer_id": 27951943, "answer_count": 2, "score": 1, "last_activity_date": 1421326659, "creation_date": 1421267061, "last_edit_date": 1421310915, "question_id": 27951777, "link": "https://stackoverflow.com/questions/27951777/how-to-test-modelform-save-method-saves-changes-in-model", "title": "How to test ModelForm save() method saves changes in model?", "body": "<p>I have overridden <code>AdminModel</code>'s <code>ModelForm</code> to make <code>User</code> fields edible and savable from <code>Person</code>'s admin change form.</p>\n\n<pre><code>class Person(models.Model):\n    user = models.OneToOneField(User)\n    #and also some char, text fields\n\n    @property\n    def name(self):\n        return self.user.first_name\n    @name.setter\n    def name(self, value):\n        self.user.first_name = value\n\n    #and by analogy surname and email properties\n\n\nclass PersonForm(ModelForm):\n    class Meta:\n        model = Person\n\n    name = forms.CharField(max_length=100, required=False)\n    surname = forms.CharField(max_length=100, required=False)\n    email = forms.EmailField(required=False)\n\n    def save(self, commit=True):\n        instance = super(PersonForm, self).save(commit)  \n        user = instance.user\n        user.first_name = self.cleaned_data['name']\n        user.last_name = self.cleaned_data['surname']\n        user.email = self.cleaned_data['email']\n        user.save()\n        return instance\n\nclass PersonAdmin(admin.ModelAdmin):\n    fields = ['name', 'surname', 'email', 'and_others']\n\n    form = PersonForm\n\nadmin.site.register(Person, PersonAdmin)\n</code></pre>\n\n<p>However I am struggling with writing a test that checks save() method:</p>\n\n<pre><code>def test_form_saves_values_to_instance_user_on_save(self):\n    \"\"\"\n    test that, form saves name, surname, email values to corresponding User\n    when commiting form\n    \"\"\"\n    user = User.objects.get(username='admin')\n    person = Person.objects.get(user=user)\n    personform = PersonForm(instance=person, data={'name': 'has_changed'})\n\n    # if uncommented raisesValueError: The Person could not be changed\n    # because the data didn't validate.\n    # personform.save()\n\n    self.assertEquals(\"has_changed\", User.objects.get(pk=user.pk).first_name)\n</code></pre>\n\n<p><strong>upd</strong> test</p>\n\n<p><strong>upd</strong> solution. It turned out that I had unfilled requested invisible field 'user'. Exclusion made form valid and test passing. </p>\n\n<p>admin.py</p>\n\n<pre><code>class PersonForm(ModelForm):\n    class Meta:\n        model = Person\n        exclude = ('user',)\n# ...\n</code></pre>\n\n<p>tests.py</p>\n\n<pre><code>def test_form_saves_values_to_instance_user_on_save(self):\n    \"\"\"\n    test that, form saves name, surname, email values to corresponding User\n    when commiting form\n    \"\"\"\n\n    person = Person.objects.get(user__username='admin')\n    personform = PersonForm(instance=person, data={'name': 'has_changed'})\n\n    if personform.is_valid():\n        person = personform.save()\n        self.assertEquals(User.objects.get(pk=person.user.pk).first_name, \"has_changed\")\n    else:\n        self.fail(\"personform not valid\")\n</code></pre>\n"}, {"tags": ["python", "linux", "bash", "sh", "fedora"], "comments": [{"owner": {"reputation": 8028, "user_id": 629116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c95f3924fe76d31c79ec303dc18c9dc5?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/629116/isaac"}, "edited": false, "score": 0, "creation_date": 1421267381, "post_id": 27951765, "comment_id": 44298736, "body": "<code>&#47;path&#47;to&#47;teqc</code> might not be the same as <code>path&#47;to&#47;teqc</code>.  Is this a typo in your question?"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1421267401, "post_id": 27951765, "comment_id": 44298744, "body": "You could just add <code>&#47;path&#47;to</code> to your <code>PATH</code> variable, which may (or may not) be more elegant."}, {"owner": {"reputation": 11, "user_id": 4454933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436ca837f7d323eaec803816e4156047?s=128&d=identicon&r=PG&f=1", "display_name": "Nicol&#225;s Godoy", "link": "https://stackoverflow.com/users/4454933/nicol%c3%a1s-godoy"}, "reply_to_user": {"reputation": 8028, "user_id": 629116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c95f3924fe76d31c79ec303dc18c9dc5?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/629116/isaac"}, "edited": false, "score": 0, "creation_date": 1421270115, "post_id": 27951765, "comment_id": 44300167, "body": "@Isaac Yes, sorry about that. It&#39;s just a typo."}, {"owner": {"reputation": 11, "user_id": 4454933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436ca837f7d323eaec803816e4156047?s=128&d=identicon&r=PG&f=1", "display_name": "Nicol&#225;s Godoy", "link": "https://stackoverflow.com/users/4454933/nicol%c3%a1s-godoy"}, "reply_to_user": {"reputation": 2643, "user_id": 2444293, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/12e2df5d1a7f43ca9123592dbf8f9f99?s=128&d=identicon&r=PG", "display_name": "VHarisop", "link": "https://stackoverflow.com/users/2444293/vharisop"}, "edited": false, "score": 0, "creation_date": 1421270516, "post_id": 27951765, "comment_id": 44300420, "body": "@VHarisop I read that question before posting but it didn&#39;t help me"}, {"owner": {"reputation": 11, "user_id": 4454933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436ca837f7d323eaec803816e4156047?s=128&d=identicon&r=PG&f=1", "display_name": "Nicol&#225;s Godoy", "link": "https://stackoverflow.com/users/4454933/nicol%c3%a1s-godoy"}, "reply_to_user": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1421270545, "post_id": 27951765, "comment_id": 44300434, "body": "@ShellFish The program has to be able to run on any computer, so I prefer not to modify more files than necessary on my machine"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1421271223, "post_id": 27951765, "comment_id": 44300784, "body": "@Nicol&#225;sGodoy Adding something to <code>PATH</code> doesn&#39;t require you to edit anything more than <code>.bashrc</code> which you&#39;re already editing. You just delete the alias and add <code>export PATH=&quot;$PATH:&#47;path&#47;to&#47;scripts&quot;</code>. Also make sure when the script gets called, the correct user is process owner, otherwise the <code>.bashrc</code> read will be a different one."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 1, "creation_date": 1421272962, "post_id": 27951765, "comment_id": 44301622, "body": "<code>os.system()</code> most likely cares nothing about any aliases you&#39;ve set... Try putting the full path in instead of just the program name. Alternatively, make sure that your <code>PATH</code> contains <code>path&#47;to</code> so that the program can be found when the shell searches for it..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4454933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436ca837f7d323eaec803816e4156047?s=128&d=identicon&r=PG&f=1", "display_name": "Nicol&#225;s Godoy", "link": "https://stackoverflow.com/users/4454933/nicol%c3%a1s-godoy"}, "edited": false, "score": 0, "creation_date": 1421270703, "post_id": 27951913, "comment_id": 44300507, "body": "It works!! Thank you very much. Now I just must modify the code to create a symbolic link on every computer that run the script. I&#39;m really thankful :)"}, {"owner": {"reputation": 4061, "user_id": 1775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vzyZN.png?s=128&g=1", "display_name": "ShellFish", "link": "https://stackoverflow.com/users/1775715/shellfish"}, "edited": false, "score": 0, "creation_date": 1421271371, "post_id": 27951913, "comment_id": 44300860, "body": "Nice, +1 for elegant solution!"}], "tags": [], "owner": {"reputation": 10839, "user_id": 1126127, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ac5eb6a83c3e7d40a197e8cf32f26faf?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1126127/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1421267629, "creation_date": 1421267629, "answer_id": 27951913, "question_id": 27951765, "link": "https://stackoverflow.com/questions/27951765/python-cant-execute-terminal-script-using-sh-nor-bash/27951913#27951913", "title": "Python can&#39;t execute terminal script, using sh nor bash", "body": "<p>I would suggest creating a symbolic link to your program .</p>\n\n<pre><code>ln -s /path/to/teqc /usr/bin/teqc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "is_accepted": false, "score": 0, "last_activity_date": 1421275047, "last_edit_date": 1421275047, "creation_date": 1421274355, "answer_id": 27953596, "question_id": 27951765, "link": "https://stackoverflow.com/questions/27951765/python-cant-execute-terminal-script-using-sh-nor-bash/27953596#27953596", "title": "Python can&#39;t execute terminal script, using sh nor bash", "body": "<p>I think the problem is that the environment variable PATH is not the same when you run the command in the code using subprocess.</p>\n\n<ol>\n<li>One solution would be to have a soft link in as suggested in the previous answer</li>\n<li><p>Other thing you can do is to have your code set the environment before you execute your command using subprocess the os module comes has a os.environ dictionary which can be used to append the path using something like this</p>\n\n<pre><code>import os\nimport subprocess\nos.environ['PATH'] += \":/path/to/teqc\"\nsubprocess.Popen(['teqc -tr d input'],stdout=subprocess.PIPE,stderr=subprocess.PIPE,shell=True)\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 4454933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436ca837f7d323eaec803816e4156047?s=128&d=identicon&r=PG&f=1", "display_name": "Nicol&#225;s Godoy", "link": "https://stackoverflow.com/users/4454933/nicol%c3%a1s-godoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "closed_date": 1421275343, "answer_count": 2, "score": 1, "last_activity_date": 1421275047, "creation_date": 1421266998, "last_edit_date": 1421271017, "question_id": 27951765, "link": "https://stackoverflow.com/questions/27951765/python-cant-execute-terminal-script-using-sh-nor-bash", "closed_reason": "Duplicate", "title": "Python can&#39;t execute terminal script, using sh nor bash", "body": "<p>i hope you guys can help me with this problem because i'm really stuck... I'm trying to execute a program from python and, for some reason, it doesn't work. The script is located at:</p>\n\n<pre><code>path/to/teqc\n</code></pre>\n\n<p>I've added this line to the .bashrc file:</p>\n\n<pre><code>alias teqc='path/to/teqc'\n</code></pre>\n\n<p>and, when i run </p>\n\n<p><code>teqc -tr d input &gt;output</code></p>\n\n<p>on a terminal it works fine... but, if i run it on a python program, it shows:</p>\n\n<pre><code>sh: teqc: command not found\n</code></pre>\n\n<p>the code i've been using on python is:</p>\n\n<pre><code>os.system('teqc -tr d input &gt;output')\n</code></pre>\n\n<p>I tried using</p>\n\n<pre><code>subprocess.Popen('teqc -tr d input &gt;output', shell=True, executable=\"/bin/bash\")\n</code></pre>\n\n<p>but the only result was to change the error message to</p>\n\n<pre><code>/bin/bash: teqc: command not found\n</code></pre>\n\n<p>Any help would be really appreciated :)</p>\n\n<p>P.D. I forgot to specify, the operating system is Fedora 21</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 8742, "user_id": 3393459, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a319b01208db420f5f8c6a7c3a24a3c?s=128&d=identicon&r=PG&f=1", "display_name": "exp1orer", "link": "https://stackoverflow.com/users/3393459/exp1orer"}, "edited": false, "score": 0, "creation_date": 1421271674, "post_id": 27951690, "comment_id": 44301007, "body": "In general it is undesirable to store non-scalar values in pandas DataFrames. Perhaps there is a better way to construct the dataframe, or maybe dataframes are not the right storage for your data."}], "answers": [{"comments": [{"owner": {"reputation": 926, "user_id": 602969, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3f06106f04bf2c5bc8d096dbd7a13e41?s=128&d=identicon&r=PG", "display_name": "MarkokraM", "link": "https://stackoverflow.com/users/602969/markokram"}, "edited": false, "score": 0, "creation_date": 1421332729, "post_id": 27951774, "comment_id": 44324411, "body": "Accepted for appreciation of short explanation."}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 4, "last_activity_date": 1421267036, "creation_date": 1421267036, "answer_id": 27951774, "question_id": 27951690, "link": "https://stackoverflow.com/questions/27951690/is-it-possible-to-filter-pandas-dataframe-column-if-column-is-a-list/27951774#27951774", "title": "Is it possible to filter Pandas DataFrame column if column is a list?", "body": "<p><code>isin</code> returns whether the column value is in what you pass.  You want to check if what you pass is in the column value.</p>\n\n<p>As far as I know there is no direct shortcut for this, but you can do it using <code>map</code>:</p>\n\n<pre><code>&gt;&gt;&gt; dafr[dafr.b.map(lambda x: 2 in x)]\n    a          b\n0  1  [1, 2, 3]\n1  2  [2, 3, 4]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 926, "user_id": 602969, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3f06106f04bf2c5bc8d096dbd7a13e41?s=128&d=identicon&r=PG", "display_name": "MarkokraM", "link": "https://stackoverflow.com/users/602969/markokram"}, "edited": false, "score": 0, "creation_date": 1421332660, "post_id": 27951775, "comment_id": 44324370, "body": "Kudos for fastest reply!"}], "tags": [], "owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "is_accepted": false, "score": 3, "last_activity_date": 1421267039, "creation_date": 1421267039, "answer_id": 27951775, "question_id": 27951690, "link": "https://stackoverflow.com/questions/27951690/is-it-possible-to-filter-pandas-dataframe-column-if-column-is-a-list/27951775#27951775", "title": "Is it possible to filter Pandas DataFrame column if column is a list?", "body": "<pre><code>dafr[dafr['b'].apply(lambda x: 2 in x)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1023, "user_id": 3860158, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/PDqD5.jpg?s=128&g=1", "display_name": "Nobel", "link": "https://stackoverflow.com/users/3860158/nobel"}, "is_accepted": false, "score": 0, "last_activity_date": 1506171879, "creation_date": 1506171879, "answer_id": 46379883, "question_id": 27951690, "link": "https://stackoverflow.com/questions/27951690/is-it-possible-to-filter-pandas-dataframe-column-if-column-is-a-list/46379883#46379883", "title": "Is it possible to filter Pandas DataFrame column if column is a list?", "body": "<p>If you stored b as column of tuples rather than column of lists, <code>afr[dafr['b'].apply(lambda x: 2 in x)]</code>\nwill execute quite fast.</p>\n"}], "owner": {"reputation": 926, "user_id": 602969, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3f06106f04bf2c5bc8d096dbd7a13e41?s=128&d=identicon&r=PG", "display_name": "MarkokraM", "link": "https://stackoverflow.com/users/602969/markokram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "accepted_answer_id": 27951774, "answer_count": 3, "score": 2, "last_activity_date": 1506171879, "creation_date": 1421266742, "question_id": 27951690, "link": "https://stackoverflow.com/questions/27951690/is-it-possible-to-filter-pandas-dataframe-column-if-column-is-a-list", "title": "Is it possible to filter Pandas DataFrame column if column is a list?", "body": "<pre><code>import pandas as pd\n\ndafr = pd.DataFrame({'a': [1,2,3], 'b': [[1,2,3],[2,3,4],[3,4,5]]})\n</code></pre>\n\n<p>I try to do something like:</p>\n\n<pre><code>dafr[dafr['b'].isin(2)]\n</code></pre>\n\n<p>which should return rows that has lists: [1,2,3] &amp; [2,3,4]. </p>\n\n<p>I wonder if this is possible?</p>\n"}, {"tags": ["python", "django", "redis"], "answers": [{"comments": [{"owner": {"reputation": 14905, "user_id": 931303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1798bf4504775c89be6686fa6fc74e3?s=128&d=identicon&r=PG", "display_name": "Jorge Leitao", "link": "https://stackoverflow.com/users/931303/jorge-leitao"}, "edited": false, "score": 0, "creation_date": 1421268866, "post_id": 27951894, "comment_id": 44299471, "body": "Crap. I took the notation from Django-Celery: <code>BROKER_URL = &#39;redis:&#47;&#47;127.0.0.1:20789&#47;0&#39;</code> by mistake. Thanks!"}], "tags": [], "owner": {"reputation": 26441, "user_id": 202168, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/481f8ec4fe0149f2b3851eee91c23b8e?s=128&d=identicon&r=PG", "display_name": "Anentropic", "link": "https://stackoverflow.com/users/202168/anentropic"}, "is_accepted": true, "score": 2, "last_activity_date": 1421267499, "creation_date": 1421267499, "answer_id": 27951894, "question_id": 27951678, "link": "https://stackoverflow.com/questions/27951678/redis-in-django-redis-exceptions-connectionerror-error-2-connecting-to-127-0/27951894#27951894", "title": "Redis in Django: redis.exceptions.ConnectionError: Error -2 connecting to 127.0.0.1:20789:0. Name or service not known", "body": "<p>I'm guessing, but you have:</p>\n\n<pre><code>'LOCATION': '127.0.0.1:20789:0'\n</code></pre>\n\n<p>Whereas readme for django-redis-cache specifies:</p>\n\n<pre><code>'LOCATION': '&lt;host&gt;:&lt;port&gt;'\n</code></pre>\n\n<p>i.e. without the <code>:&lt;db&gt;</code> on the end</p>\n\n<p><a href=\"https://github.com/sebleier/django-redis-cache\" rel=\"nofollow\">https://github.com/sebleier/django-redis-cache</a></p>\n"}], "owner": {"reputation": 14905, "user_id": 931303, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1798bf4504775c89be6686fa6fc74e3?s=128&d=identicon&r=PG", "display_name": "Jorge Leitao", "link": "https://stackoverflow.com/users/931303/jorge-leitao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2708, "favorite_count": 0, "accepted_answer_id": 27951894, "answer_count": 1, "score": 0, "last_activity_date": 1421267499, "creation_date": 1421266707, "last_edit_date": 1495542289, "question_id": 27951678, "link": "https://stackoverflow.com/questions/27951678/redis-in-django-redis-exceptions-connectionerror-error-2-connecting-to-127-0", "title": "Redis in Django: redis.exceptions.ConnectionError: Error -2 connecting to 127.0.0.1:20789:0. Name or service not known", "body": "<p>I'm using django-cache-redis, and I'm stuck in the following paradox:</p>\n\n<pre><code># in `python manage.py shell`\nimport redis\nr = redis.StrictRedis(host='127.0.0.1', port=20789, db=0)\nr.set('foo', 'bar')  # returns True\n\nfrom django.core.cache import cache\ncache.set('foo', 'bar', 1)  # raises redis.exceptions.ConnectionError\n</code></pre>\n\n<blockquote>\n  <p>Traceback (most recent call last):\n     redis.exceptions.ConnectionError: Error -2 connecting to 127.0.0.1:20789:0. Name or service not known.</p>\n</blockquote>\n\n<p>Notice that the host, the port and the db are the same in both cases.</p>\n\n<p>The use of <code>import redis</code> was already a debug; using redis-ctl also works. I also tried changing from <code>127.0.0.1</code> to <code>localhost</code>, as per <a href=\"https://stackoverflow.com/q/25175919/931303\">this question</a>, without success.</p>\n\n<p>Any idea of what this might be?</p>\n\n<p>My <code>CACHES</code> config is already the minimal one:</p>\n\n<pre><code>CACHES = {\n    'default': {\n        'BACKEND': 'redis_cache.cache.RedisCache',\n        'LOCATION': '127.0.0.1:20789:0',\n        'TIMEOUT': 60*60*24,\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "selenium"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421266648, "post_id": 27951658, "comment_id": 44298418, "body": "So why don&#39;t you actually read the link given to you? And why are you trying to encode a byte string? You&#39;d have to <b>decode</b> to unicode."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421266736, "post_id": 27951658, "comment_id": 44298454, "body": "Apart from the PEP link, you really should read up on Unicode first: <a href=\"http://joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a> by Joel Spolsky, the  <a href=\"http://docs.python.org/2/howto/unicode.html\" rel=\"nofollow noreferrer\">Python Unicode HOWTO</a> and <a href=\"http://nedbatchelder.com/text/unipain.html\" rel=\"nofollow noreferrer\">Pragmatic Unicode</a> by Ned Batchelder"}, {"owner": {"reputation": 93, "user_id": 4364204, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/17ca5546daac0c1d79e1d60672d57c30?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Zukel", "link": "https://stackoverflow.com/users/4364204/grant-zukel"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1421267041, "post_id": 27951658, "comment_id": 44298591, "body": "Theres no link given when you split by name it will separates into about 7 index values &#39;this is all the post selenium loads, because its what is loaded by default when my browser visits my profile&#39;, then each row on the page is separated by this char &#194;&#183;. thus, if i split each index entry with the special char &#194;&#183; i will get them broken into individual rows. This will make it easier to parse things like time difference between post etc."}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 4364204, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/17ca5546daac0c1d79e1d60672d57c30?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Zukel", "link": "https://stackoverflow.com/users/4364204/grant-zukel"}, "is_accepted": false, "score": 0, "last_activity_date": 1421267935, "creation_date": 1421267935, "answer_id": 27951987, "question_id": 27951658, "link": "https://stackoverflow.com/questions/27951658/python-how-do-i-split-a-string-using-a-special-character-encoding-error-being-re/27951987#27951987", "title": "Python how do I split a string using a special character encoding error being returned", "body": "<p>Figured it out: I had to set the encoding of the script to utf 8.</p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding: utf-8 -*-\nfrom selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.keys import Keys\nfrom bs4 import BeautifulSoup\n\ndriver = webdriver.Firefox()\ndriver.get(\"https://www.facebook.com/fbusername\")\ninputEmail = driver.find_element_by_id(\"email\")\ninputEmail.send_keys(\"fbemail\")\ninputPass = driver.find_element_by_id(\"pass\")\ninputPass.send_keys(\"fbpasswd\")\ninputPass.submit()\npage_text = (driver.page_source).encode('utf-8')\nsoup = BeautifulSoup(page_text)\nparse_data = soup.get_text().encode('utf-8').split('\u00b7')\nfor i,v in enumerate(parse_data):\n    print i,v\n\nparse_data = soup.get_text().encode('utf-8').split('First Last')\nfor i,v in enumerate(parse_data):\n    print i,v\n\nlatest_message = parse_data[4]\nlatest_message = parse_data[4].split('\u00b7')\n\ndriver.close()\nprint latest_message\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4364204, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/17ca5546daac0c1d79e1d60672d57c30?s=128&d=identicon&r=PG&f=1", "display_name": "Grant Zukel", "link": "https://stackoverflow.com/users/4364204/grant-zukel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 979, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1421267935, "creation_date": 1421266603, "last_edit_date": 1421266713, "question_id": 27951658, "link": "https://stackoverflow.com/questions/27951658/python-how-do-i-split-a-string-using-a-special-character-encoding-error-being-re", "title": "Python how do I split a string using a special character encoding error being returned", "body": "<p>I am using selenium web driver to parse all text from a facebook profile, i.e. data mining. I need to parse by a special character but I'm getting a error when I try. I'm not sure why because I encode it before I use it but its still returning an error.</p>\n\n<p>The character im trying to search is '\u00c2\u00b7'</p>\n\n<p>If I split by this character each post will be broken up by row.</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.keys import Keys\nfrom bs4 import BeautifulSoup\n\ndriver = webdriver.Firefox()\ndriver.get(\"https://www.facebook.com/userprofilelink\")\ninputEmail = driver.find_element_by_id(\"email\")\ninputEmail.send_keys(\"fbemail\")\ninputPass = driver.find_element_by_id(\"pass\")\ninputPass.send_keys(\"fbpasswd\")\ninputPass.submit()\npage_text = (driver.page_source).encode('utf-8')\nsoup = BeautifulSoup(page_text)\nparse_data = soup.get_text().encode('utf-8').split('Name how it appears on post John Doe')\nlatest_message = parse_data[3]\n</code></pre>\n\n<p>This is where my error is occurring. I get :</p>\n\n<pre><code>SyntaxError: Non-ASCII character '\\xc2' in file  C:\\Users\\Administraor\\workspace\\NagioPlugins\\selinium_test.py on line 19, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>search_string = ('\u00c2\u00b7').encode('utf-8')\nlatest_message = parse_data[3].split(search_string)\nprint latest_message\ndriver.close()\n\nprint latest_message\n</code></pre>\n"}, {"tags": ["python", "list", "dictionary", "markov-chains"], "comments": [{"owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 1, "creation_date": 1421346193, "post_id": 27951634, "comment_id": 44333332, "body": "Why did you massacre your own post?"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 0, "creation_date": 1421693832, "post_id": 27951634, "comment_id": 44447935, "body": "@Mr.Polywhirl Is this <i>suicide</i> or <i>murder</i>? I am confused"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421267869, "post_id": 27951905, "comment_id": 44298946, "body": "I didn&#39;t know what was easier, but im gonna try this, and see what I get."}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421270802, "post_id": 27951905, "comment_id": 44300563, "body": "should I change &#39;path/to/input&#39; unto my file name? or there where I have the frequences of the letters from the text?"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421298857, "post_id": 27951905, "comment_id": 44308757, "body": "Yes, change <code>path&#47;to&#47;input</code> to your filename"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421333661, "post_id": 27951905, "comment_id": 44325056, "body": "@py.codan: what&#39;s wrong? I&#39;m adding the dictionary solution, which is much more readable"}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421338681, "post_id": 27951905, "comment_id": 44328617, "body": "<code>print total</code>  gives me this error: <code>NameError: name &#39;total&#39; is not defined </code>"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421339936, "post_id": 27951905, "comment_id": 44329430, "body": "@py.codan: You might need to update your post with exactly what code you&#39;re trying, and a full traceback"}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421340088, "post_id": 27951905, "comment_id": 44329526, "body": "I forgot to type :  <code>expect:      pass</code>"}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421340170, "post_id": 27951905, "comment_id": 44329584, "body": "but I got a <code>counts[given][i] &#47;= totals[given] ZeroDivisionError: division by zero</code> at the first post u gave."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421340986, "post_id": 27951905, "comment_id": 44330171, "body": "@py.codan: I highly recommend you go with option (2). It&#39;s far more readable"}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421341229, "post_id": 27951905, "comment_id": 44330347, "body": "It doesn&#39;t work either, I want it to be like a big table, but when I say <code>print total</code> at the option (2), it&#39;s says that &#39;total&#39; is not defined."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421345181, "post_id": 27951905, "comment_id": 44332808, "body": "@py.codan: I need to see your code, exactly. Edit your post with your current code, and I&#39;ll try to debug"}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421345782, "post_id": 27951905, "comment_id": 44333103, "body": "@inspectorG4dget, can I get your email?"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421355198, "post_id": 27951905, "comment_id": 44338212, "body": "@py.codan: I&#39;m not going to do your homework for you. You&#39;ve already asked another question about this same problem. Therefore, I strongly encourage you to try it yourself. If you really, <i>really</i> want my email, it&#39;s <i>really</i> not that hard to find"}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421356379, "post_id": 27951905, "comment_id": 44338826, "body": "I didn&#39;t ask for your mail to do my homework, please don&#39;t understand it like that. It was meant so I could send you my current code, as you asked for. Sorry for the misunderstanding."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 1, "creation_date": 1421402299, "post_id": 27951905, "comment_id": 44354014, "body": "You could just as easily add your current code to your question - you clearly know how to edit your own post. That way, you&#39;re likely to get help faster rom the rest of the community as well"}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421591364, "post_id": 27951905, "comment_id": 44409118, "body": "? What does the this &quot;answer&quot; refer to?  Because it&#39;s assigned to an empty dictionary?"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421593416, "post_id": 27951905, "comment_id": 44409717, "body": "@py.codan: I&#39;ve explained what <code>answer</code> does in my post. It starts off as an empty dictionary, which then gets populated with stuff"}, {"owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421594104, "post_id": 27951905, "comment_id": 44409898, "body": "Is the idea that there must be a collected dictionary with all the letters and probabilities?"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "edited": false, "score": 0, "creation_date": 1421600362, "post_id": 27951905, "comment_id": 44411878, "body": "@py.codan: I&#39;m not sure what that means. <code>answer</code> contains all the conditional probabilities of the the characters in the input file. These probabilities can be accessed as shown in my answer"}], "tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": true, "score": 0, "last_activity_date": 1421340959, "last_edit_date": 1421340959, "creation_date": 1421267569, "answer_id": 27951905, "question_id": 27951634, "link": "https://stackoverflow.com/questions/27951634/how-do-i-program-bigram-as-a-table-in-python/27951905#27951905", "title": "How do I program bigram as a table in python?", "body": "<p>Assuming your file has no other punctuation (easy enough to strip out):</p>\n\n<pre><code>import itertools\n\ndef pairwise(s):\n    a,b = itertools.tee(s)\n    next(b)\n    return zip(a,b)\n\ncounts = [[0 for _ in range(52)] for _ in range(52)]  # nothing has occurred yet\nwith open('path/to/input') as infile:\n    for a,b in pairwise(char for line in infile for word in line.split() for char in word):  # get pairwise characters from the text\n        given = ord(a) - ord('a')  # index (in `counts`) of the \"given\" character\n        char = ord(b) - ord('a')   # index of the character that follows the \"given\" character\n        counts[given][char] += 1\n\n# now that we have the number of occurrences, let's divide by the totals to get conditional probabilities\n\ntotals = [sum(count[i] for i in range(52)) for count in counts]\nfor given in range(52):\n    if not totals[given]:\n        continue\n    for i in range(len(counts[given])):\n        counts[given][i] /= totals[given]\n</code></pre>\n\n<p>I haven't tested this, but it should be a good start</p>\n\n<p>Here's a dictionary version, which should be easier to read and debug:</p>\n\n<pre><code>counts = {}\nwith open('path/to/input') as infile:\n    for a,b in pairwise(char for line in infile for word in line.split() for char in word):\n        given = ord(a) - ord('a')\n        char = ord(b) - ord('a')\n        if given not in counts:\n            counts[given] = {}\n        if char not in counts[given]:\n            counts[given][char] = 0\n        counts[given][char] += 1\n\nanswer = {}\nfor given, chardict in answer.items():\n    total = sum(chardict.values())\n    for char, count in chardict.items():\n        answer[given][char] = count/total\n</code></pre>\n\n<p>Now, <code>answer</code> contains the probabilities you are after. If you want the probability of 'a', given 'b', look at <code>answer['b']['a']</code></p>\n"}], "owner": {"reputation": 89, "user_id": 4449819, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a7ec92d948d4ed281737088416cf95e?s=128&d=identicon&r=PG&f=1", "display_name": "py.codan", "link": "https://stackoverflow.com/users/4449819/py-codan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 0, "accepted_answer_id": 27951905, "answer_count": 1, "score": 0, "last_activity_date": 1489852308, "creation_date": 1421266491, "last_edit_date": 1592644375, "question_id": 27951634, "link": "https://stackoverflow.com/questions/27951634/how-do-i-program-bigram-as-a-table-in-python", "title": "How do I program bigram as a table in python?", "body": "<p>I'm doing this homework, and I am stuck at this point.\nI can't program <a href=\"https://en.wikipedia.org/wiki/Bigram#Bigram_frequency_in_the_English_language\" rel=\"nofollow noreferrer\">Bigram frequency in the English language</a>, 'conditional probability' in python?</p>\n<blockquote>\n<p><img src=\"https://upload.wikimedia.org/math/1/f/7/1f7854aa03dea69ef2d29b0805bae2e5.png\" alt=\"\" /></p>\n<p>That is, the probability <img src=\"https://upload.wikimedia.org/math/a/8/d/a8d03cda6ea34797ccd3d2638076b6a3.png\" alt=\"P()\" />  of a token <img src=\"https://upload.wikimedia.org/math/4/e/a/4ea9f15d5b0b0982f8ee8852d61679f5.png\" alt=\"W_n\" /> given the preceding token <img src=\"https://upload.wikimedia.org/math/0/f/5/0f577b243af9a89cc9edb72f1762c6ce.png\" alt=\"W_{n-1}\" /> is equal to the probability of their bigram, or the co-occurrence of the two tokens <img src=\"https://upload.wikimedia.org/math/c/5/0/c50d67d970bdca99e907c18b0125e774.png\" alt=\"P(W_{n-1},W_n)\" />, divided by the probability of the preceding token.</p>\n</blockquote>\n<p>I have a text with many letters, then I have calculated the probability for the letters in this text, so the letter 'a' appears <code>0.015%</code> compared to the letters in the text.</p>\n<p>The letters are from <code>^a-zA-Z</code>, and what I want is:<br />\nHow can I make a table with the lengths of the alphabet ((alphabet)x(alphabet)), and how do I calculate the conditional probability for every single situation?</p>\n<p>It's like:</p>\n<pre><code>[[(a|a),(b|a),(c|a),...,(z|a),...(Z|a)]\n [(a|b),(b|b),(c|b),...,(z|b),...(Z|b)]\n                    ...       ...\n [(a|Z),(b|Z),(c|Z),...,(z|Z),...(Z|Z)]]\n</code></pre>\n<p>and for this I should calculate the probability, like: What's the chances that you get the letter 'a' if you at this point have an letter 'a', and so on.</p>\n<p>I can't get started, hope you  can kickstart me, and hope that it's clear what I need to solve.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 0, "creation_date": 1421266458, "post_id": 27951580, "comment_id": 44298319, "body": "Related: <a href=\"http://stackoverflow.com/questions/6025714/tools-for-static-type-checking-in-python\" title=\"tools for static type checking in python\">stackoverflow.com/questions/6025714/&hellip;</a>"}, {"owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "edited": false, "score": 0, "creation_date": 1421266490, "post_id": 27951580, "comment_id": 44298336, "body": "Not <i>exactly</i> what you&#39;re looking for, but would probably be useful: <a href=\"http://www.pylint.org/\" rel=\"nofollow noreferrer\">pylint.org</a>"}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 0, "creation_date": 1421266905, "post_id": 27951580, "comment_id": 44298525, "body": "I am new to Python, but have been mostly impressed with the static checking that is done by PyCharm IDE.  The column containing scroll bar for the code editing window shows the position of all the warnings. I suspect under the hood it&#39;s running a well known static code checking tool that one of the other commenters have suggested.  In any case, I try to annotate as many variables and parameters as I can, resolve all the major warnings, and make that little box at the top of the scroll bar turn green."}], "answers": [{"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 0, "last_activity_date": 1421266462, "creation_date": 1421266462, "answer_id": 27951627, "question_id": 27951580, "link": "https://stackoverflow.com/questions/27951580/force-python-to-run-every-line-of-code/27951627#27951627", "title": "Force python to run every line of code", "body": "<p>No, there is no such facility, although you may find a tool like <a href=\"http://www.pylint.org/\" rel=\"nofollow\">pylint</a> useful.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7374988, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h02ZaDOJZWU/AAAAAAAAAAI/AAAAAAAAAEQ/P2VoJHLIHLY/photo.jpg?sz=128", "display_name": "jps", "link": "https://stackoverflow.com/users/7374988/jps"}, "is_accepted": false, "score": 0, "last_activity_date": 1602348629, "creation_date": 1602348629, "answer_id": 64295938, "question_id": 27951580, "link": "https://stackoverflow.com/questions/27951580/force-python-to-run-every-line-of-code/64295938#64295938", "title": "Force python to run every line of code", "body": "<p>If, by evaluate, you mean &quot;run every line of code,&quot; you'd do this:</p>\n<ol>\n<li>Press the ESC key</li>\n<li>Hold CNTRL + A on a PC, but CMD + A on a Mac</li>\n<li>Hit SHIFT + RETURN on a Mac (I think that would be CNTRL + RETURN on a PC)</li>\n</ol>\n"}], "owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 661, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1602348629, "creation_date": 1421266281, "question_id": 27951580, "link": "https://stackoverflow.com/questions/27951580/force-python-to-run-every-line-of-code", "title": "Force python to run every line of code", "body": "<p>I have inherited a large number of python scripts that don't come with unit tests <a href=\"http://zap2it.tmsimg.com/assets/p184522_b_h3_aa.jpg\" rel=\"nofollow\">(good times)</a>. Eventually I will have unit tests for most of these scripts. Until then I would like to force python to evaluate every potential code path because I'm finding lovely things like name errors in function calls. </p>\n\n<p>Is there a way to force python to evaluate every line of code (including lines in uncalled functions or exception handlers) other than unit tests?</p>\n"}, {"tags": ["python", "iteration", "frequency", "choice", "population"], "answers": [{"tags": [], "owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "is_accepted": true, "score": 1, "last_activity_date": 1421267275, "creation_date": 1421267275, "answer_id": 27951835, "question_id": 27951529, "link": "https://stackoverflow.com/questions/27951529/fixation-in-population-with-weighted-choices-using-python/27951835#27951835", "title": "Fixation in population with weighted choices using Python", "body": "<p>Your issue is that you're not resetting <code>p_freq= 0.1</code>, and <code>q_freq= 1 - p_freq</code> after each simulation.  You need to reset them in your: <code>for sim in range(n):</code> loop (otherwise they retain the value from the last sim).</p>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 27951835, "answer_count": 1, "score": 0, "last_activity_date": 1479941682, "creation_date": 1421266144, "last_edit_date": 1479941682, "question_id": 27951529, "link": "https://stackoverflow.com/questions/27951529/fixation-in-population-with-weighted-choices-using-python", "title": "Fixation in population with weighted choices using Python", "body": "<p>I'm trying to do a simulation to see how quickly a population fixates.  The population consists of 1s (or p) and 0s (or q) while each individual has 2 elements (either 1-1, 1-0, or 0-0).  </p>\n\n<p>N is population and since each member of the population has 2 elements, the population pool will be 2*N (in this case 20)</p>\n\n<p>initial frequency of the 1s is 0.1 and by default, q is 1 - 0.1 = 0.9</p>\n\n<p>So the initial population is [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</p>\n\n<p>for the next population, i'm randomly choosing (weighted choice) based on the frequencies (p_freq and q_freq) and iterating through this until the population fixates to either all 1s or all 0s.  Once it fixates, I'm trying to record the generation in which it fixates in either the p_fix or q_fix lists</p>\n\n<p>So I've gotten this to work for one simulation, but i'm trying to get it to work for n= 100 simulations and I cant figure out how to structure it to get the loop to keep going to fill in the p_fix and q_fix lists correctly</p>\n\n<pre><code>#!/usr/bin/env python2.7\nimport random\n\nN= 10\nn= 100\np_freq= 0.1\nq_freq= 1 - p_freq\n\nsimulation= 0\np_fix= []\nq_fix= []\n\nfor sim in range(n):\n    generation= 0\n    #Current population\n    p_alleles= int(p_freq * 2*N)*[1]\n    q_alleles= int(q_freq * 2*N)*[0]\n    population= p_alleles + q_alleles\n    while (sum(population) != 2*N) and (sum(population) != 0):\n        #Checking current population for fixation\n\n        #Next generation\n        next_population= []\n        for i in range(2*N): next_population.append(random.choice(population))\n\n        #Resetting parameters\n\n        p_freq= float(sum(next_population))/(2*N)\n        q_freq= 1 - p_freq\n        population= next_population\n\n        #Counts\n        generation += 1\n    if sum(population) == 2*N: \n        p_fix.append(generation)\n    if sum(population) == 0: \n        q_fix.append(generation)\n    simulation += 1\n</code></pre>\n\n<p>my results when I print out p_fix and q_fix:</p>\n\n<pre><code>p []\nq [3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n</code></pre>\n\n<p>it shoudln't be the 0th generation for all simulations after the first simulation.  it does make sense, however, that the population is fixing to q because 90% of the original population was q (i.e. 0s). the frequencies change for each population (which is why i reset them) and that leads to fixation.  Population size stays the same.  </p>\n\n<p><strong>How can I get this to run for multiple simulations?</strong></p>\n"}, {"tags": ["python", "matplotlib", "scipy"], "comments": [{"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 2, "creation_date": 1421268001, "post_id": 27951521, "comment_id": 44299017, "body": "use a <a href=\"http://nbviewer.ipython.org/github/dpsanders/matplotlib-examples/blob/master/colorline.ipynb\" rel=\"nofollow noreferrer\">LineCollection</a>"}, {"owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "edited": false, "score": 1, "creation_date": 1421270761, "post_id": 27951521, "comment_id": 44300535, "body": "What type of plot are you referring to?  A line (e.g. <code>ax.plot(...)</code>), points (e.g. <code>ax.scatter(...)</code> or <code>ax.plot(..., ls=&#39;none&#39;)</code>), an image or gridded data (e.g. <code>imshow</code>/<code>pcolormesh</code>/<code>pcolor</code>), or something else?"}, {"owner": {"reputation": 4428, "user_id": 2058333, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Ux6ck.jpg?s=128&g=1", "display_name": "El Dude", "link": "https://stackoverflow.com/users/2058333/el-dude"}, "edited": false, "score": 0, "creation_date": 1421271118, "post_id": 27951521, "comment_id": 44300732, "body": "The line color of the plot. I know how to set it globally, but how about short segments?"}], "answers": [{"tags": [], "owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "is_accepted": true, "score": 3, "last_activity_date": 1421294033, "last_edit_date": 1421294033, "creation_date": 1421293696, "answer_id": 27956507, "question_id": 27951521, "link": "https://stackoverflow.com/questions/27951521/plot-color-all-larger-than-different-color/27956507#27956507", "title": "Plot: color all larger than different color", "body": "<p>Using a <a href=\"http://matplotlib.org/examples/pylab_examples/multicolored_line.html\" rel=\"nofollow noreferrer\"><code>LineCollection</code></a> is the proper way to go, but you can also do an easy version in one line of code using masked arrays:</p>\n\n<p><img src=\"https://i.stack.imgur.com/QZLeI.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import numpy as np\nimport numpy.ma as ma\nimport matplotlib.pyplot as plt\n\n# make a weird continuous function\nr, t = np.random.random((100,)), np.arange(0, 100, .01)    \ny = sum(r[3*i+0]*np.sin(r[3*i+1]*t + 10*r[3*+2]) for i in range(10))\n\n# generate the masked array\nmask = ma.masked_less(y, 1.1)\n\nplt.plot(t, y, 'k', linewidth=3)\nplt.plot(t, mask, 'r', linewidth=3.2)\nplt.show()\n</code></pre>\n\n<p>The cheat here is that it draws over the original data with the filtered data so sometimes the underlying curve can show, depending on how it's rendered.  I made the red line here a bit thicker, but I'm not sure whether it made a difference.  The advantage is that it's basically one line, <code>ma.masked_less(y, 1.1)</code>, for a threshold of <code>1.1</code>.</p>\n\n<p>The reason masked arrays are needed here is that otherwise there would be a line connecting the different segments, and the mask causes these points to not be plotted.</p>\n"}], "owner": {"reputation": 4428, "user_id": 2058333, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Ux6ck.jpg?s=128&g=1", "display_name": "El Dude", "link": "https://stackoverflow.com/users/2058333/el-dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1518, "favorite_count": 0, "accepted_answer_id": 27956507, "answer_count": 1, "score": 2, "last_activity_date": 1421294033, "creation_date": 1421266099, "question_id": 27951521, "link": "https://stackoverflow.com/questions/27951521/plot-color-all-larger-than-different-color", "title": "Plot: color all larger than different color", "body": "<p>In a plot, how can I color all values above a threshold in a different color? Like everything above mean + std or mean + 2*std ?</p>\n"}, {"tags": ["python", "parallel-processing"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421269103, "post_id": 27951504, "comment_id": 44299596, "body": "It&#39;s hard to tell from the simplified code, but where is the process spending most of its time, computing the <code>eval()</code>s or reading/writing the files?"}, {"owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421270625, "post_id": 27951504, "comment_id": 44300474, "body": "All my variables are written in files for minimize RAM usage. My script generate a lot of data so I can&#39;t store all of them in memory."}, {"owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421270857, "post_id": 27951504, "comment_id": 44300590, "body": "The only process I want parallelize is the first for loop. I&#39;m thinking about doing eight lines at once."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421276971, "post_id": 27951504, "comment_id": 44303362, "body": "That statement&#39;s a bit confusing since the second for loop is nested inside the first. Writing everything to files may complicate the matter if you need simultaneous write access to the same one from concurrent processes or threads. In concurrent programming access to any shared resource has to be controlled by locks or semaphores or something similar."}, {"owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421305424, "post_id": 27951504, "comment_id": 44310543, "body": "I can split the initial file  and  merge at final step. Thks to talk me about this upcoming issue. Like I said  it&#39;s the first loop that I would parallelize."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421314992, "post_id": 27951504, "comment_id": 44314646, "body": "Being able to to write to separate files output files will be very helpful. I&#39;m now trying to determine if <code>linecache</code> is thread-safe (due to its internal cache). Also, can you describe (in your question) what kind of expressions the <code>eval()</code> calls are processing? It&#39;s necessary to know what they&#39;re doing in order to determine if they can safely run in parallel."}, {"owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421315567, "post_id": 27951504, "comment_id": 44314977, "body": "It evals a sympy geometric expression."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421315903, "post_id": 27951504, "comment_id": 44315205, "body": "OK, again, good. Bad news is <code>linecache</code> doesn&#39;t look thread-safe. Could you use <code>mmap</code> which would make the lines look like a huge array in memory? See <a href=\"http://stackoverflow.com/questions/2787276/python-huge-file-reading-by-using-linecache-vs-normal-file-access-open\">this</a> question. It fact it may be that you don&#39;t need to use parallel processing at all because the issue may be file i/o."}, {"owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421316996, "post_id": 27951504, "comment_id": 44315791, "body": "Or I can just duplicate the source file. Nmap in my experience make just blow up my memory. In my computer stats I see that only one core is in use, and he is in full use."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421321760, "post_id": 27951504, "comment_id": 44318209, "body": "If you have and want to use multiple cores the <code>multiprocessing</code> module is the way to go. You can define a <code>Pool</code> of functions and pass each one parameters that tell it which files to read and write. As far as the <code>eval()</code>s go, <code>threading</code> really doesn&#39;t run Python code in parallel due the GIL (Global Interpreter Lock) which isn&#39;t released so another thread can run until the current one waits for I/O."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421322048, "post_id": 27951504, "comment_id": 44318371, "body": "I suggest you <a href=\"http://stackoverflow.com/questions/582336/how-can-you-profile-a-python-script/7693928#7693928\">profile your code</a> with the Python profiler and see what&#39;s delaying things the most,"}, {"owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421322677, "post_id": 27951504, "comment_id": 44318740, "body": "I&#39;ll test profile soon. Ok for multiprocessing module. But I&#39;m not sure how I can do it? Can you help me with it?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421323965, "post_id": 27951504, "comment_id": 44319441, "body": "Basically I&#39;d start by making your current code a function that has the files it uses passed to it as arguments instead of using fixed strings as it does now. Initialization code would need be written that determined what set of separate files to past each process to work on and store them in a list of filename argument tuples. i.e. <code>[(f1a,f2a,f3a), (f1b,f2b,f3b), etc]</code>. Then create a fixed sized <code>Pool</code> called <code>my_pool</code> and start separate process that will use it by using <code>my_pool.map(&lt;Name_of_function_made_from_your_code&gt;, &lt;list of filename tuples?)</code>"}, {"owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421411143, "post_id": 27951504, "comment_id": 44358977, "body": "I&#39;ve accomplished something like you said, but the list of argument is bigger than memory (it why I store this elements in the <code>fin2</code> file)   Is their a way to pass line of a file in argument? (see EDIT)"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421428978, "post_id": 27951504, "comment_id": 44369725, "body": "Since the <code>fin2</code> file is only being read, multiple sub-processes should be able to access it at the same time. But in general, yes, it&#39;s possible to exchange data using Queues and PIpes. as well as share data in memory between process (although the latter is discouraged). Data can also be written to a temporary file and just the file name passed as a argument."}, {"owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421488204, "post_id": 27951504, "comment_id": 44386059, "body": "Thanks martineau, but I really don&#39;t see what you meant I must do... I post a new edit, (EDIT2), perhaps its more clear..."}], "owner": {"reputation": 67, "user_id": 4362092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_XRu4S6cEE4/AAAAAAAAAAI/AAAAAAAAYEk/FovERULo35g/photo.jpg?sz=128", "display_name": "Alex Jud", "link": "https://stackoverflow.com/users/4362092/alex-jud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1421504059, "creation_date": 1421266014, "last_edit_date": 1421488138, "question_id": 27951504, "link": "https://stackoverflow.com/questions/27951504/how-can-i-parallelize-this-python-script", "title": "How can I parallelize this python script", "body": "<p>Hey I've got a working script but it work on k-combinations so it work long...\nI want to parallelize a for loop to divide the work time.</p>\n\n<p>Here is the simplified code:</p>\n\n<pre><code>fin2 = open('combi_nod.txt','r')\nfor lines in fin2:\n    (i, j) = eval(lines)\n    edgefile = open('edge.adjlist', 'a')\n    count = 0\n    for element in intersection(\n            eval(linecache.getline('triangleset.txt', i+1)),\n            eval(linecache.getline('triangleset.txt', j+1))):\n        if element not in merge:\n           count = 1\n           break\n    if count == 0:\n        edgefile.write(' ' + str(j))\n    edgefile.close()\nfin2.close()\n</code></pre>\n\n<p>How can I do this?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>After some modification I have accomplished the multiprocessing loop. But their is a associate issue:</p>\n\n<p>in my initial <code>for</code> loop I search in the <code>combi_nod.txt</code> file;\n<code>combi_nod.txt</code> content is the <code>itertools.combinaison</code> of large number. (so, at a point I can anymore store them in variable)</p>\n\n<p>My multiprocessing loop work with a list of this <code>itertools.combinaison</code> because I haven't see a way to pass line of a file in arguments (so I have a memory issue), have you a new Idea?</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p>For clarification, here is the code like it is a this point:</p>\n\n<pre><code>def intersterer(lines):\n  (i, j) = lines\n  counttt = 0\n  for element in some_stuff:\n    if element not in merge:\n      counttt = 1\n      break\n  if counttt == 0:\n     return (int(i), int(j))\n  else:\n     return (0, 0)\n\nfin2 = open('combi_nod.txt','w')\nfor trian_c in itertools.combinations(xrange(0, counter_tri), 2):\n#counter_tri is a large number\n    fin2.write(str(trian_c) + \"\\n\")\nfin2.close()\nfin2 = open('combi_nod.txt','r')\n\nif __name__ == '__main__':\n    pool = Pool() \n    listt = pool.map(intersterer, itertools.combinations(xrange(0, counter_tri), 2))  \n    f2(listt)\n    if (0,0) in listt: listt.remove((0,0))\n</code></pre>\n\n<p>and I want to have something working like:</p>\n\n<pre><code>listt = pool.map(intersterer, fin2) \n</code></pre>\n\n<p>But all my tests doesn't work at all...\nHelp...</p>\n"}, {"tags": ["python", "printing", "win32com"], "comments": [{"owner": {"reputation": 102, "user_id": 4454974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a16e66807b9e69ec46000800d8cc765?s=128&d=identicon&r=PG&f=1", "display_name": "Msg", "link": "https://stackoverflow.com/users/4454974/msg"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1421271222, "post_id": 27951496, "comment_id": 44300783, "body": "My apologies, but actually the &#39;Copies=2&#39; doesn&#39;t even work: it only prints one copy (I just edited my language to hopefully reflect this), which is the source of my problem! Thank you."}, {"owner": {"reputation": 240, "user_id": 11120544, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ohFNO-_hnV0/AAAAAAAAAAI/AAAAAAAAAtk/_Ctybs0q1uI/photo.jpg?sz=128", "display_name": "Apps 247", "link": "https://stackoverflow.com/users/11120544/apps-247"}, "edited": false, "score": 0, "creation_date": 1593434012, "post_id": 27951496, "comment_id": 110771195, "body": "I&#39;ve had the exact same problem, it seems the win32com module doesn&#39;t take those parameters into account. You could simply execute it twice if 2 copies is all you want, but for other parameters like <code>PrintZoomColumn</code> it would prove a problem."}], "owner": {"reputation": 102, "user_id": 4454974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a16e66807b9e69ec46000800d8cc765?s=128&d=identicon&r=PG&f=1", "display_name": "Msg", "link": "https://stackoverflow.com/users/4454974/msg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561461602, "creation_date": 1421265982, "last_edit_date": 1481597394, "question_id": 27951496, "link": "https://stackoverflow.com/questions/27951496/how-to-print-multiple-copies-of-a-file-using-win32com-or-an-alternative", "title": "How to print multiple copies of a file using win32com (or an alternative)", "body": "<p>I'm trying to send multiple copies of a file to a printer using the win32com library. Printing a single copy works fine, but it appears the Copies parameter doesn't affect the number of copies printed (even if I put Copies=2, as below, it only ever prints out a single page).</p>\n\n<pre><code>from win32com import client\n\nword = client.Dispatch(\"Word.Application\")\n\nword.Documents.Open(file_to_print)\nword.ActivePrinter = printer\nword.ActiveDocument.PrintOut(Copies=2)\n\nword.ActiveDocument.Close()\nword.Quit()\n</code></pre>\n\n<p>If this additional information helps, I am using Python 3.4 and Word 2013.</p>\n\n<p>If there is a superior way to just open and then print a .docx file from python that would also be a wonderful answer. Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1421266068, "post_id": 27951458, "comment_id": 44298136, "body": "<code>b[1][1]</code> is two <code>__getitem__</code> calls, one for <code>b[1]</code> and the other calling <code>__getitem__</code> on the result of that.  Your list of lists can&#39;t control what they both do.  The easiest thing is to make your <code>__getitem__</code> accept a tuple so that you can do <code>b[1, 1]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 4, "last_activity_date": 1421266098, "creation_date": 1421266098, "answer_id": 27951520, "question_id": 27951458, "link": "https://stackoverflow.com/questions/27951458/python-list-of-list-getitem/27951520#27951520", "title": "Python: list of list __getitem__", "body": "<p>You can return the <code>row</code> that's represented by the sublist</p>\n\n<pre><code>def __getitem__(self, row):\n    return self.data[row]\n</code></pre>\n\n<p>For example</p>\n\n<pre><code>&gt;&gt;&gt; t = Test(2,5)\n&gt;&gt;&gt; t.data\n[[' ', ' '],\n [' ', ' '],\n [' ', ' '],\n [' ', ' '],\n [' ', ' ']]\n</code></pre>\n\n<p>Getting a row</p>\n\n<pre><code>&gt;&gt;&gt; t[1]\n[' ', ' ']\n</code></pre>\n\n<p>Getting an element</p>\n\n<pre><code>&gt;&gt;&gt; t[1][0]\n' '\n</code></pre>\n\n<p>Note that the second operation, <code>[0]</code> in the example above, doesn't need you to define it because it will simply call <code>__getitem__</code> from <code>list</code> because that's what it is.</p>\n"}, {"tags": [], "owner": {"reputation": 3706, "user_id": 1847419, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/4oKLO.jpg?s=128&g=1", "display_name": "fnl", "link": "https://stackoverflow.com/users/1847419/fnl"}, "is_accepted": false, "score": 1, "last_activity_date": 1421266122, "creation_date": 1421266122, "answer_id": 27951526, "question_id": 27951458, "link": "https://stackoverflow.com/questions/27951458/python-list-of-list-getitem/27951526#27951526", "title": "Python: list of list __getitem__", "body": "<p>Just return the row:</p>\n\n<pre><code>def __getitem__(self, row):\n    return self.data[row]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1390, "user_id": 1273987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b3f583352439f5fd7d2787f7c7402c4d?s=128&d=identicon&r=PG", "display_name": "Ziofil", "link": "https://stackoverflow.com/users/1273987/ziofil"}, "edited": false, "score": 0, "creation_date": 1565011706, "post_id": 27951579, "comment_id": 101206095, "body": "Couldn&#39;t you use a <code>@classmethod</code> decorator and pass the class? Then you could return another instance of the same class."}, {"owner": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "reply_to_user": {"reputation": 1390, "user_id": 1273987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b3f583352439f5fd7d2787f7c7402c4d?s=128&d=identicon&r=PG", "display_name": "Ziofil", "link": "https://stackoverflow.com/users/1273987/ziofil"}, "edited": false, "score": 0, "creation_date": 1565065577, "post_id": 27951579, "comment_id": 101223288, "body": "Well, if you use a <code>@classmethod</code>, then it can only use class (not instance) variables in the function, and all instances of the class will get the same result - probably not what you want. But you&#39;re on the right track - you can have <code>__getitem__</code> (that is not a @classmethod, just a regular descriptor) on a class, create another instance of the same class. For instance, in <code>etree.Element</code>s, calling <code>element[0]</code> will return another <code>Element</code> that is the first child, and this can be nested as deep as desired."}], "tags": [], "owner": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "is_accepted": true, "score": 6, "last_activity_date": 1421266278, "creation_date": 1421266278, "answer_id": 27951579, "question_id": 27951458, "link": "https://stackoverflow.com/questions/27951458/python-list-of-list-getitem/27951579#27951579", "title": "Python: list of list __getitem__", "body": "<p>The fundamental thing you need to understand is that for syntax like <code>b[1][2]</code>, there are <em>two</em> <code>__getitem__</code> calls. First, <code>b.__getitem__(1)</code> is called, and that returns an object. Then, <code>returned_object.__getitem__(2)</code> is called. So, whatever class <code>b</code> is does NOT have full control over this whole process.</p>\n\n<p>In your example above, if you defined it as </p>\n\n<pre><code>def __getitem__(self, row):\n    return self.data[row]\n</code></pre>\n\n<p>then <code>b[1][2]</code> would first call <code>b.__getitem__(1)</code>, which would return <code>self.data[1]</code>, which would be a list. That list also supports <code>__getitem__</code>, and so next <code>list.__getitem__(2)</code> would be called.</p>\n\n<p>If you want control over <em>both</em> of those, then you need to define another class that represents columns, the parent class would need to return one of those objects instead of the raw list, and then that one can implement its own <code>__getitem__</code> for custom functionality.</p>\n\n<p>Other choice is to support syntax like <code>b[1,2]</code> which is legal - it will call <code>b.__getitem__((1,2))</code> with <code>(1,2)</code> as a tuple (you can put <em>anything</em> in there really), but it's not as natural.</p>\n"}], "owner": {"reputation": 2313, "user_id": 3490050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d1942d1bdb08f32060b27c91ac7e323d?s=128&d=identicon&r=PG", "display_name": "rookie", "link": "https://stackoverflow.com/users/3490050/rookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9574, "favorite_count": 1, "accepted_answer_id": 27951579, "answer_count": 3, "score": 4, "last_activity_date": 1421266278, "creation_date": 1421265851, "last_edit_date": 1495540317, "question_id": 27951458, "link": "https://stackoverflow.com/questions/27951458/python-list-of-list-getitem", "title": "Python: list of list __getitem__", "body": "<p>I've created a <code>Board</code> class for a connect 4 game that makes use of a list of lists. I'd like to have the object support indexing for both the rows and the columns of the board:</p>\n\n<pre><code>class Test:\n    def __init__(self, cols, rows):\n        self.cols = cols\n        self.rows = rows\n        self.data = [[' '] * cols for row in range(rows)]\n\n    def __iter__(self):\n        yield from self.data\n\n    def __getitem__(self, row):\n        pass\n        # what should this be?\n</code></pre>\n\n<p>I know I need to define <code>__getitem__</code> but what should this method be to allow syntax such as <code>b[1][1]</code>? I've taken a look at <a href=\"https://stackoverflow.com/questions/20032493/getitem-with-slices-on-a-list-of-lists\">some past questions</a> but I can't seem to find the answer I'm looking for. </p>\n\n<p><strong>Edit</strong>: maybe the following is the correct way to do things?</p>\n\n<pre><code>def __getitem__(self, row):\n    return self.data[row]\n</code></pre>\n"}, {"tags": ["python", "c", "python-c-api", "python-c-extension"], "answers": [{"comments": [{"owner": {"reputation": 1010, "user_id": 2067665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0c86e226759ee03937af84103fd1b1ab?s=128&d=identicon&r=PG", "display_name": "ragingSloth", "link": "https://stackoverflow.com/users/2067665/ragingsloth"}, "edited": false, "score": 0, "creation_date": 1421266391, "post_id": 27951557, "comment_id": 44298292, "body": "my understanding is that the difference in size of both the exponent and mantissa would make manual coercion of a double to a float somewhat non-trivial and potentially dangerous"}, {"owner": {"reputation": 121, "user_id": 4249333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202bb7771266a843c2e1327999192a59?s=128&d=identicon&r=PG&f=1", "display_name": "david1024", "link": "https://stackoverflow.com/users/4249333/david1024"}, "reply_to_user": {"reputation": 1010, "user_id": 2067665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0c86e226759ee03937af84103fd1b1ab?s=128&d=identicon&r=PG", "display_name": "ragingSloth", "link": "https://stackoverflow.com/users/2067665/ragingsloth"}, "edited": false, "score": 0, "creation_date": 1421266599, "post_id": 27951557, "comment_id": 44298389, "body": "yes, the exponent is the &#39;fit&#39; part.  Doubles and Floats are both approximations, there will be loss of precision in almost all conversion cases anyway."}, {"owner": {"reputation": 1010, "user_id": 2067665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0c86e226759ee03937af84103fd1b1ab?s=128&d=identicon&r=PG", "display_name": "ragingSloth", "link": "https://stackoverflow.com/users/2067665/ragingsloth"}, "edited": false, "score": 0, "creation_date": 1421266672, "post_id": 27951557, "comment_id": 44298429, "body": "loss of precision is inevitable, but bit level manipulation of doubles to approximate a float sounds like there would be inevitable edge cases in which serious errors occur  due to the primitive nature of the conversion method."}], "tags": [], "owner": {"reputation": 121, "user_id": 4249333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202bb7771266a843c2e1327999192a59?s=128&d=identicon&r=PG&f=1", "display_name": "david1024", "link": "https://stackoverflow.com/users/4249333/david1024"}, "is_accepted": false, "score": 0, "last_activity_date": 1421266209, "creation_date": 1421266209, "answer_id": 27951557, "question_id": 27951419, "link": "https://stackoverflow.com/questions/27951419/convert-pyfloatobject-to-float/27951557#27951557", "title": "convert PyFloatObject to float", "body": "<p>Short answer is yes, as long as your 'double' will fit (with respect to magnitude) into a 'float'. however you may need to round it or truncate it to single precision.</p>\n\n<p>using IEEE 754 floating point representations....</p>\n\n<p>\"float is defined as IEEE 754 single precision, double is defined as double precision, and long double is defined as IEEE 754 extended precision or some form of quad precision where available (e.g., Intel 80 bit double extended precision on x86 or x86-64 platforms), else double precision. Previously, all C90 floating operations were defined to occur in double-precision, with subsequent rounding to single precision, to store results, where necessary.\"</p>\n\n<p>Data quoted regarding '754 is from <a href=\"http://en.wikipedia.org/wiki/C99\" rel=\"nofollow\">http://en.wikipedia.org/wiki/C99</a> (c99 c spec description on wikipedia) while it isn't python specific, IEEE 754 is general, and not c-specific)</p>\n\n<p>What version of python are you using?  You may want to use (from <a href=\"https://docs.python.org/2/c-api/float.html\" rel=\"nofollow\">https://docs.python.org/2/c-api/float.html</a>)</p>\n\n<p>double PyFloat_AsDouble(PyObject *pyfloat)\nReturn a C double representation of the contents of pyfloat. If pyfloat is not a Python floating point object but has a <strong>float</strong>() method, this method will first be called to convert pyfloat into a float. This method returns -1.0 upon failure, so one should call PyErr_Occurred() to check for errors.</p>\n"}, {"tags": [], "owner": {"reputation": 1748, "user_id": 99279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ea76ee226b4cdb598055de1eb1d67a?s=128&d=identicon&r=PG", "display_name": "sterin", "link": "https://stackoverflow.com/users/99279/sterin"}, "is_accepted": false, "score": 2, "last_activity_date": 1421340227, "creation_date": 1421340227, "answer_id": 27968512, "question_id": 27951419, "link": "https://stackoverflow.com/questions/27951419/convert-pyfloatobject-to-float/27968512#27968512", "title": "convert PyFloatObject to float", "body": "<p>From the <a href=\"https://docs.python.org/2/library/stdtypes.html#typesnumeric\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>Floating point numbers are usually implemented using <code>double</code> in C;</p>\n</blockquote>\n\n<p>In other words, the Python <code>float</code> type is just a C <code>double</code>, so there is not magic Python function to convert a Python <code>float</code> to a C <code>float</code> other than what is normally available with C to convert <code>double</code> to <code>float</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1010, "user_id": 2067665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0c86e226759ee03937af84103fd1b1ab?s=128&d=identicon&r=PG", "display_name": "ragingSloth", "link": "https://stackoverflow.com/users/2067665/ragingsloth"}, "is_accepted": false, "score": 0, "last_activity_date": 1421343214, "creation_date": 1421343214, "answer_id": 27969486, "question_id": 27951419, "link": "https://stackoverflow.com/questions/27951419/convert-pyfloatobject-to-float/27969486#27969486", "title": "convert PyFloatObject to float", "body": "<p>sprintf into a buffer followed by atoi seems to do the trick</p>\n"}], "owner": {"reputation": 1010, "user_id": 2067665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0c86e226759ee03937af84103fd1b1ab?s=128&d=identicon&r=PG", "display_name": "ragingSloth", "link": "https://stackoverflow.com/users/2067665/ragingsloth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2096, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1421343214, "creation_date": 1421265694, "question_id": 27951419, "link": "https://stackoverflow.com/questions/27951419/convert-pyfloatobject-to-float", "title": "convert PyFloatObject to float", "body": "<p>I have a <code>PyFloatObject</code> that I want to convert to a <code>C float</code>. However, <code>PyObjectFloat</code> only provides a conversion to double. Can I safely cast a double to a float, or is there a function to convert <code>PyObject</code> to <code>float</code> i.e. <code>PyObject_AsFloat</code>.</p>\n"}, {"tags": ["python", "web-services", "iis"], "comments": [{"owner": {"reputation": 11204, "user_id": 1236217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vZwn9.png?s=128&g=1", "display_name": "Namphibian", "link": "https://stackoverflow.com/users/1236217/namphibian"}, "edited": false, "score": 1, "creation_date": 1421270166, "post_id": 27951406, "comment_id": 44300193, "body": "IIS3 when the PC was still BC...."}, {"owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "edited": false, "score": 1, "creation_date": 1421278698, "post_id": 27951406, "comment_id": 44303927, "body": "IIS 3? I guess built-in component of Windows Server 2003 is IIS 6.0. IIS 3 used to come with Windows NT Server 4.0 sp3. May be this link will give heads up. <a href=\"http://support.microsoft.com/kb/276494\" rel=\"nofollow noreferrer\">support.microsoft.com/kb/276494</a>"}, {"owner": {"reputation": 1107, "user_id": 1474895, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8a0be1e42c28f7853d9a91f9cb17b5?s=128&d=identicon&r=PG", "display_name": "Cody Brown", "link": "https://stackoverflow.com/users/1474895/cody-brown"}, "edited": false, "score": 0, "creation_date": 1421353564, "post_id": 27951406, "comment_id": 44337331, "body": "Well I think I am bountying this question."}], "owner": {"reputation": 1107, "user_id": 1474895, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c8a0be1e42c28f7853d9a91f9cb17b5?s=128&d=identicon&r=PG", "display_name": "Cody Brown", "link": "https://stackoverflow.com/users/1474895/cody-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1421265650, "creation_date": 1421265650, "question_id": 27951406, "link": "https://stackoverflow.com/questions/27951406/enable-python-on-iis-3-on-windows-server-2003", "title": "Enable Python on IIS 3 on Windows Server 2003", "body": "<p>I've been developing python applications for a good long time now, never had a major issue, that is until I tried to enable it on Windows Server 2003. The oldest I had worked on before this is 2008, which is easy to get Python up and running: <a href=\"http://support.microsoft.com/kb/276494\" rel=\"nofollow\">http://support.microsoft.com/kb/276494</a></p>\n\n<p>The Windows Server 2003 is scheduled to be upgraded in a few months, but until then I am working in  the stone age. I believe the IIS it is running is 3, but all I can see is Microsoft Management Console 3.0 version 5.2 R2 when trying to figure it out.</p>\n\n<p>I've tried a few variants of the same method to get it working, but have had zero luck. I've got python installed, I've added it as an application (maybe), set up it to recognize .py files, but still nothing. </p>\n\n<p><strong>If anyone can point me at a resource or provide some instructions that would be great.</strong></p>\n\n<p>Here are some of my limitations:</p>\n\n<ul>\n<li>I cannot upgrade IIS</li>\n<li>I cannot install any add-ons to IIS</li>\n<li>I can't simply create a port and have it go to my Windows 8 PC.</li>\n</ul>\n"}, {"tags": ["python", "xpath", "scrapy"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 4455053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae7b4485a167fb5f1c51ec2c22d8d095?s=128&d=identicon&r=PG", "display_name": "Charles Smith", "link": "https://stackoverflow.com/users/4455053/charles-smith"}, "is_accepted": true, "score": 0, "last_activity_date": 1421267003, "creation_date": 1421267003, "answer_id": 27951766, "question_id": 27951383, "link": "https://stackoverflow.com/questions/27951383/python-scrapy-only-saving-1-item-to-db-iteration/27951766#27951766", "title": "Python + Scrapy, only saving 1 item to db, Iteration", "body": "<p>The problem is your xpath is limited to a single list entry</p>\n\n<pre><code>news_items_xpath = '//*[@id=\"section-news\"]/section/ul/li[1]/div'\n</code></pre>\n\n<p>Remove the [1]</p>\n\n<pre><code>news_items_xpath = '//*[@id=\"section-news\"]/section/ul/li/div'\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 4238995, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c8c432def5631b16eda731af9a52f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Toothfairy", "link": "https://stackoverflow.com/users/4238995/toothfairy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 27951766, "answer_count": 1, "score": 0, "last_activity_date": 1421267003, "creation_date": 1421265576, "question_id": 27951383, "link": "https://stackoverflow.com/questions/27951383/python-scrapy-only-saving-1-item-to-db-iteration", "title": "Python + Scrapy, only saving 1 item to db, Iteration", "body": "<p>I'm playing around with Python and the Scrapy library, the idea is to spider a url , saving the desired fields into a db (in this case news items), unfortunately it currently only saves 1 list item and not several.. It does not seem to iterate correctly.</p>\n\n<p>Very thankful for any help</p>\n\n<p><br /><br /></p>\n\n<pre><code>from scrapy.spider import BaseSpider\nfrom scrapy.selector import HtmlXPathSelector\nfrom scrapy.contrib.loader import XPathItemLoader\nfrom scrapy.contrib.loader.processor import Join, MapCompose\nfrom scraper_app.items import ListItem\n\nclass ListSpider(BaseSpider):\n\n    name = \"news_list\"\n    allowed_domains = [\"example.com\"]\n    start_urls = [\"http://www.example.com/Default/Section/1\"]\n\n    news_items_xpath = '//*[@id=\"section-news\"]/section/ul/li[1]/div'\n    item_fields = { 'title': './/div/h3',\n    'link': './/div/h3/a',\n    'description': './/div/p/text()',\n    'date': './/div/div[2]'}\n\n\n    def parse(self, response):\n\n        selector = HtmlXPathSelector(response)\n\n        # iterate over deals\n        for news in selector.select(self.news_items_xpath):\n            loader = XPathItemLoader(ListItem(), selector=news)\n\n            # define processors\n            loader.default_input_processor = MapCompose(unicode.strip)\n            loader.default_output_processor = Join()\n\n            # iterate over fields and add xpaths to the loader\n            for field, xpath in self.item_fields.iteritems():\n                loader.add_xpath(field, xpath)\n            yield loader.load_item()\n</code></pre>\n\n<p><br /><br /></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"section-news\" class=\"block secondary\"&gt;\n            &lt;section class=\"inner\"&gt;\n                &lt;ul class=\"thumbs\"&gt;\n                    &lt;li&gt;\n                        &lt;div&gt;\n                            &lt;div class=\"img\"&gt;\n                                &lt;a href=\"/Detail/2015/01/14/393107/AntiIsraelism-not-antiSemitism\"&gt;&lt;img src=\"http://217.218.67.233/photo/20150114/59b5efd9-3c1c-47b1-a014-4ca0fedadeb6.jpg\" alt=\"uk jews\" /&gt;&lt;i class=\"icon-play\"&gt;&lt;/i&gt;&lt;/a&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"desc\"&gt;\n                                &lt;h3 class=\"title\"&gt;&lt;a href=\"/Detail/2015/01/14/393107/AntiIsraelism-not-antiSemitism\"&gt;\u2018Anti-Israelism not anti-Semitism\u2019&lt;/a&gt;&lt;/h3&gt;\n                                &lt;div class=\"date\"&gt;Wed Jan 14, 2015 7:27PM&lt;/div&gt;\n                                &lt;p&gt;A new survey which reveals that nearly half of Britons hold anti-Semitic views.&lt;/p&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/li&gt;\n                    &lt;li&gt;\n                        &lt;div&gt;\n                            &lt;div class=\"img\"&gt;\n                                &lt;a href=\"/Detail/2015/01/14/393095/Turkey-bans-arms-delivery-reports\"&gt;&lt;img src=\"http://217.218.67.233/photo/20150114/2de1eb77-ba2a-49c9-a232-ab4cf82ffc1d.jpg\" alt=\"Syria-militants\" /&gt;&lt;/a&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"desc\"&gt;\n                                &lt;h3 class=\"title\"&gt;&lt;a href=\"/Detail/2015/01/14/393095/Turkey-bans-arms-delivery-reports\"&gt;Turkey bans arms delivery reports&lt;/a&gt;&lt;/h3&gt;\n                                &lt;div class=\"date\"&gt;Wed Jan 14, 2015 7:22PM&lt;/div&gt;\n                                &lt;p&gt;Turkey bans media reports on alleged arms delivery to militants in Syria.&lt;/p&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/li&gt;\n                    &lt;li&gt;\n                        &lt;div&gt;\n                            &lt;div class=\"img\"&gt;\n                                &lt;a href=\"/Detail/2015/01/14/393099/Egypt-Israel-gas-imports-possible\"&gt;&lt;img src=\"http://217.218.67.233/photo/20150114/c63935fb-8221-43fc-8103-6f49f013cbfd.jpg\" alt=\"Egypt-Israel\" /&gt;&lt;/a&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"desc\"&gt;\n                                &lt;h3 class=\"title\"&gt;&lt;a href=\"/Detail/2015/01/14/393099/Egypt-Israel-gas-imports-possible\"&gt;Egypt: Israel gas imports possible&lt;/a&gt;&lt;/h3&gt;\n                                &lt;div class=\"date\"&gt;Wed Jan 14, 2015 7:11PM&lt;/div&gt;\n                                &lt;p&gt;Egypt says importing gas from Israel is a possibility.&lt;/p&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/li&gt;\n</code></pre>\n"}, {"tags": ["python", "pandas", "merge", "concat"], "answers": [{"comments": [{"owner": {"reputation": 1782, "user_id": 963989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb8dc7d321a527514b75c942623efa6?s=128&d=identicon&r=PG", "display_name": "benjaminmgross", "link": "https://stackoverflow.com/users/963989/benjaminmgross"}, "edited": false, "score": 0, "creation_date": 1421270504, "post_id": 27952520, "comment_id": 44300412, "body": "I&#39;m <b>really</b> surprised there isn&#39;t out of the box functionality for this (because it seems like trivial use case).  Before I RTD I thought <code>concat( [df_1, df_2], join_axes = my_axis)</code> was the specific functionality I was looking for, however, you most  certainly would know!   Thanks for the response @unutbu!"}, {"owner": {"reputation": 1782, "user_id": 963989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb8dc7d321a527514b75c942623efa6?s=128&d=identicon&r=PG", "display_name": "benjaminmgross", "link": "https://stackoverflow.com/users/963989/benjaminmgross"}, "edited": false, "score": 0, "creation_date": 1421332898, "post_id": 27952520, "comment_id": 44324512, "body": "For completeness, the fastest implementation I could come up with was:  <code>def join_on_index(df_list, index):     return pandas.concat( map( lambda x: x.reindex(index), df_list), axis = 1)</code>"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 1782, "user_id": 963989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb8dc7d321a527514b75c942623efa6?s=128&d=identicon&r=PG", "display_name": "benjaminmgross", "link": "https://stackoverflow.com/users/963989/benjaminmgross"}, "edited": false, "score": 0, "creation_date": 1421333129, "post_id": 27952520, "comment_id": 44324681, "body": "Interesting! Feel free to post that as an answer (and accept it if you find that&#39;s the best solution.) The reason why I chose to avoid <code>concat</code> here is because it <a href=\"http://stackoverflow.com/q/27908868/190597\">can raise an error</a> if the index contains duplicates while <code>join</code> does not."}, {"owner": {"reputation": 1782, "user_id": 963989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb8dc7d321a527514b75c942623efa6?s=128&d=identicon&r=PG", "display_name": "benjaminmgross", "link": "https://stackoverflow.com/users/963989/benjaminmgross"}, "edited": false, "score": 0, "creation_date": 1421333216, "post_id": 27952520, "comment_id": 44324739, "body": "Then maybe I&#39;ll post it as an answer for completeness, but I will certainly <b>only</b> accept yours as the correct answer :-)"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 2, "last_activity_date": 1421269908, "creation_date": 1421269908, "answer_id": 27952520, "question_id": 27951324, "link": "https://stackoverflow.com/questions/27951324/pandas-concat-dataframe-on-different-index/27952520#27952520", "title": "pandas concat DataFrame on different Index", "body": "<p>I don't think there is an out-of-the-box Pandas function for doing this.\nHowever, it's not hard to build your own:</p>\n\n<pre><code>def select_join(dfs, index):\n    result = dfs[0].reindex(index)\n    for df in dfs[1:]:\n        result = result.join(df, how='inner')\n    return result\n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport string\nimport itertools as IT\n\ncolumns = iter(string.letters)\ndfs = []\nfor i in range(3):\n    d1 = pd.DataFrame( np.random.randn(15, 4), \n                           columns = list(IT.islice(columns, 4)), \n                           index = pd.DatetimeIndex(start = '01/01/2001', \n                                                    freq = 'b', \n                                                    periods = 15))\n    dfs.append(d1)\n\nind = range(0, 10, 2)\nmy_index = d1.index[ind].copy()\nprint(select_join(dfs, my_index))\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>                   a         b         c         d         e         f  \\\n2001-01-01  0.228430 -1.154375 -0.612703 -2.760826 -0.877355 -0.071581   \n2001-01-03  1.452750  1.341027  0.051486  1.231563  0.428353  1.320172   \n2001-01-05 -0.966979 -1.997200 -0.376060 -0.692346 -1.689897  0.549653   \n2001-01-09 -0.117443 -0.888103  2.092829 -0.467220 -1.083004 -1.443015   \n2001-01-11 -0.168980 -0.152663  0.365618  0.444175 -1.472091 -0.578182   \n\n                   g         h         i         j         k         l  \n2001-01-01 -0.098758  0.920457 -1.072377 -0.627720  0.223060  0.903130  \n2001-01-03  1.962124  1.134501 -0.209813 -2.309090  0.358121  0.655156  \n2001-01-05  1.088195 -1.705393 -0.161167 -0.339617  0.945495  0.220701  \n2001-01-09  0.970829  1.931192  0.943150 -1.895580  0.815188 -1.485206  \n2001-01-11  0.747193 -1.221069 -0.164531 -0.395197 -0.754051  0.922090  \n</code></pre>\n\n<hr>\n\n<p>Regarding the second consideration: It is impossible to return a view if <code>index</code>\nis arbitrary. The DataFrame stores data (of like dtype) in a NumPy array. When\nyou select arbitrary rows from a NumPy array, space for a new array is allocated\nand the rows are copied from the original array into the new array. Only when\nthe selection can be expressed as a basic slice is a view returned. This\nlimitation of NumPy -- a very hard limitation to remove! -- bubbles up into\nPandas, causing DataFrames to return copies when the index is not expressible as\na basic slice.</p>\n"}, {"tags": [], "owner": {"reputation": 1782, "user_id": 963989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb8dc7d321a527514b75c942623efa6?s=128&d=identicon&r=PG", "display_name": "benjaminmgross", "link": "https://stackoverflow.com/users/963989/benjaminmgross"}, "is_accepted": false, "score": 1, "last_activity_date": 1421333835, "creation_date": 1421333835, "answer_id": 27966224, "question_id": 27951324, "link": "https://stackoverflow.com/questions/27951324/pandas-concat-dataframe-on-different-index/27966224#27966224", "title": "pandas concat DataFrame on different Index", "body": "<h2>Different Methods &amp; Their Times (for Completeness)</h2>\n\n<p>I've accepted @unutbu's answer, but I thought it might be valuable to show the two functions I created (and @unutbu's) and their different <code>%timeit</code>values in case anyone wants to use it:</p>\n\n<h2>Create the <code>df_list</code> and <code>my_index</code>:</h2>\n\n<pre><code>dfs = []\nfor i in range(5):\n    tmp = pandas.DataFrame( numpy.random.randn(1000, 4), \n                            columns = list(itertools.islice(columns, 4)), \n                            index = pandas.DatetimeIndex(start = '01/01/2000', \n                                                         freq = 'b', \n                                                         periods = 1000)\n    )\n\n    dfs.append(tmp)\n\nind = range(0, 1000, 2)\nmy_index = tmp.index[ind].copy()\n</code></pre>\n\n<h2>3 Different Implementations</h2>\n\n<pre><code>def join_on_index_a(df_list, index):\n    return pandas.concat( \n                          map( lambda x: x.reindex(index), df_list), \n                          axis = 1\n    )\n\n#@unutbu's implementation\ndef join_on_index_b(df_list, index):\n    result = dfs[0].reindex(index)\n    for df in dfs[1:]:\n        result = result.join(df, how='inner')\n    return result\n\ndef join_on_index_c(df_list, index):\n    return pandas.concat( map( lambda x: x.loc[index, :], df_list), axis = 1)\n</code></pre>\n\n<h2>The Results Using iPython <code>%timeit</code></h2>\n\n<pre><code>In [49]: %timeit join_on_index_a(dfs, my_index)\n1000 loops, best of 3: 1.85 ms per loop\n\nIn [50]: %timeit join_on_index_b(dfs, my_index)\n100 loops, best of 3: 1.94 ms per loop\n\nIn [51]: %timeit join_on_index_c(dfs, my_index)\n100 loops, best of 3: 21.5 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 1782, "user_id": 963989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb8dc7d321a527514b75c942623efa6?s=128&d=identicon&r=PG", "display_name": "benjaminmgross", "link": "https://stackoverflow.com/users/963989/benjaminmgross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1874, "favorite_count": 1, "accepted_answer_id": 27952520, "answer_count": 2, "score": 1, "last_activity_date": 1421333835, "creation_date": 1421265403, "question_id": 27951324, "link": "https://stackoverflow.com/questions/27951324/pandas-concat-dataframe-on-different-index", "title": "pandas concat DataFrame on different Index", "body": "<h2>General Issue</h2>\n\n<p>I have an arbitrary list of <code>pandas.DataFrame</code>'s (let's use 2 to keep the example clear), and I want to <code>concat</code> them on an <code>Index</code> that:</p>\n\n<ol>\n<li>is neither the <code>inner</code> nor the <code>outer</code> join of the existing <code>DataFrames</code></li>\n<li>is a different, separate <code>Index</code>, but <strong>only</strong> has dates within all the <code>DataFrame</code>'s</li>\n</ol>\n\n<p>For example, take the following 2 <code>DataFrame</code>'s (note the difference in <code>Index</code> shapes):</p>\n\n<pre><code>In [01]: d1 = pandas.DataFrame( numpy.random.randn(15, 4), \n                                columns = ['a', 'b', 'c', 'd'], \n                                index = pandas.DatetimeIndex(start = '01/01/2001', \n                                                             freq = 'b', \n                                                             periods = 15)\n          )\n\nIn [02]: d2 = pandas.DataFrame( numpy.random.randn(17, 4), \n                                columns = ['e', 'f', 'g', 'h'], \n                                index = pandas.DatetimeIndex(start = '01/05/2001', \n                                                             freq = 'b', \n                                                             periods = 17)\n          )\n</code></pre>\n\n<p>I would like to join these two <code>DataFrame</code>'s on an intersecting <code>Index</code>, such <code>my_index</code>, constructed here:</p>\n\n<pre><code>In [03]: ind = range(0, 10, 2)\nIn [04]: my_index = d2.index[ind].copy()\n</code></pre>\n\n<p>So the following result should have the same results as:</p>\n\n<pre><code>In [05]: d1.loc[my_index, :].join(d2.loc[my_index, :] )\nOut[65]: \n               a         b         c         d         e         f  \\\n2001-01-05  1.702556 -0.885554  0.766257 -0.731700 -1.071232  1.806680   \n2001-01-09 -0.968689 -0.700311  1.024988 -0.705764  0.804285 -0.337177   \n2001-01-11  1.249893 -0.613356  1.975736 -0.093838  0.428004  0.634204   \n2001-01-15  0.430000  0.502100  0.194092  0.588685 -0.507332  1.404635   \n2001-01-17  1.005721  0.604771 -2.296667  0.157201  1.583537  1.359332   \n\n               g         h  \n2001-01-05 -1.183528  1.260880  \n2001-01-09  0.352487  0.700853  \n2001-01-11  1.060694  0.040667  \n2001-01-15 -0.044510  0.565152  \n2001-01-17 -0.731624 -0.331027  \n</code></pre>\n\n<h2>Personal Considerations</h2>\n\n<p>Because this is for a larger application, and I will have an arbitrary number of <code>DataFrame</code>'s I'd like to:</p>\n\n<ol>\n<li>Use existing <code>pandas</code> functionality instead of building my own hack, i.e. <code>reduce( map ( ) )</code> etc.</li>\n<li>Return views of the intersection of the <code>DataFrame</code>'s instead of creating copies of the <code>DataFrame</code>'s</li>\n</ol>\n"}, {"tags": ["python", "csv", "counter"], "comments": [{"owner": {"reputation": 3706, "user_id": 1847419, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/4oKLO.jpg?s=128&g=1", "display_name": "fnl", "link": "https://stackoverflow.com/users/1847419/fnl"}, "edited": false, "score": 1, "creation_date": 1421266692, "post_id": 27951295, "comment_id": 44298437, "body": "Just create a list of counters, one for each column you wish to count."}], "answers": [{"comments": [{"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "reply_to_user": {"reputation": 1213, "user_id": 3907887, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/90e501d7dea5a4e354d95c52b778bb11?s=128&d=identicon&r=PG&f=1", "display_name": "abn", "link": "https://stackoverflow.com/users/3907887/abn"}, "edited": false, "score": 1, "creation_date": 1421267441, "post_id": 27951683, "comment_id": 44298770, "body": "Added simpler code to swap <code>all</code> + <code>map</code> for <code>any</code>, and you&#39;re welcome :)"}], "tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": true, "score": 1, "last_activity_date": 1421267418, "last_edit_date": 1421267418, "creation_date": 1421266723, "answer_id": 27951683, "question_id": 27951295, "link": "https://stackoverflow.com/questions/27951295/get-counts-of-strings-in-each-csv-column-using-python/27951683#27951683", "title": "Get counts of strings in each CSV column using Python", "body": "<p>This can work using a <code>Counter</code> for each header:</p>\n\n<pre><code>#!/usr/bin/env python\nfrom collections import Counter, defaultdict\nimport csv\n\nheader_counter = defaultdict(Counter)\n\nwith open('filename.csv') as input_file:\n    r = csv.reader(input_file, delimiter=',')\n    # read headers\n    headers = next(r)\n    for row in r:\n        # count values for each row to add in header context\n        row_val = sum([w.isdigit() for w in row])\n        # zip each row with headers to know where to count\n        for header, val in zip(headers, row):\n            # count only non-digits\n            if not any(map(str.isdigit, val)):\n                header_counter[header].update({val: row_val})\n\nfor k, v in header_counter.iteritems():\n    print k, v\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Header3 Counter({'ABCS': 2, 'gf': 1})\nHeader1 Counter({'AA': 1, 'BDDV': 1, 'ABCS': 1})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3706, "user_id": 1847419, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/4oKLO.jpg?s=128&g=1", "display_name": "fnl", "link": "https://stackoverflow.com/users/1847419/fnl"}, "is_accepted": false, "score": 1, "last_activity_date": 1421267212, "creation_date": 1421267212, "answer_id": 27951816, "question_id": 27951295, "link": "https://stackoverflow.com/questions/27951295/get-counts-of-strings-in-each-csv-column-using-python/27951816#27951816", "title": "Get counts of strings in each CSV column using Python", "body": "<p>Partial solution only (you still need to filter columns with digits on the second iteration of your CSV reader).</p>\n\n<pre><code>import csv\nimport collections\n\nwith open('filename.csv') as input_file:\n  r = csv.reader(input_file, delimiter=',')\n  headers = next(r)\n  count_number = [collections.Counter() for I in Len(headers)]\n\n  for row in r:\n    for i, val in enumerate(row):\n      count_number[i][val] += 1\n\nprint [cr.most_common() for cr in count_number]\n</code></pre>\n"}], "owner": {"reputation": 1213, "user_id": 3907887, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/90e501d7dea5a4e354d95c52b778bb11?s=128&d=identicon&r=PG&f=1", "display_name": "abn", "link": "https://stackoverflow.com/users/3907887/abn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2765, "favorite_count": 0, "accepted_answer_id": 27951683, "answer_count": 2, "score": 3, "last_activity_date": 1421267418, "creation_date": 1421265301, "last_edit_date": 1421266452, "question_id": 27951295, "link": "https://stackoverflow.com/questions/27951295/get-counts-of-strings-in-each-csv-column-using-python", "title": "Get counts of strings in each CSV column using Python", "body": "<p>I have a CSV file like this:</p>\n\n<pre><code>Header1,Header2,Header3,Header4\nAA,12,ABCS,A1\nBDDV,34,ABCS,BB2\nABCS,5666,gf,KK0\n</code></pre>\n\n<p>where a column can have only letters/words, or just numbers or both. I have multiple files like this and the columns are not necessarily the same in each. I'd like to get the counts of each element in a column that has only letters and no numbers in it. </p>\n\n<p>My desired output is </p>\n\n<pre><code>Header1- [('AA', 1),('BDDV',1),('ABCS',1)] Header3- [('ABCS', 2),('gf', 1)]\n</code></pre>\n\n<p>Here, though both the columns have 'ABCS', I'd like to count them separately for each column. </p>\n\n<p>I can get the count by hardcoding the column number like below:</p>\n\n<pre><code>import csv\nimport collections\n\ncount_number = collections.Counter()\nwith open('filename.csv') as input_file:\n    r = csv.reader(input_file, delimiter=',')\n    headers = next(r)\n    for row in r:\n        count_number[row[1]] += 1\n\nprint count_number.most_common()\n</code></pre>\n\n<p>but I'm confused on how to do it with respect to columns. </p>\n"}, {"tags": ["python", "matplotlib", "colors", "contour"], "comments": [{"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1421269367, "post_id": 27951280, "comment_id": 44299728, "body": "Isn&#39;t that what you would expect? <code>colors</code> takes a sequence of colors. In your case it tries to interpret <code>1</code>, not (1,0,0) , as a rgb color. <code>colors=&quot;#ff0000&quot;</code> appears to work as expected."}], "answers": [{"tags": [], "owner": {"reputation": 92, "user_id": 6935985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCrlV.jpg?s=128&g=1", "display_name": "Alex Bj&#246;rling", "link": "https://stackoverflow.com/users/6935985/alex-bj%c3%b6rling"}, "is_accepted": false, "score": 2, "last_activity_date": 1476009850, "creation_date": 1476009850, "answer_id": 39942701, "question_id": 27951280, "link": "https://stackoverflow.com/questions/27951280/python-matplotlib-to-rgba-invalid-rgba-arg/39942701#39942701", "title": "Python/Matplotlib -&gt; to_rgba: Invalid rgba arg", "body": "<p>As pointed out in the comments, <code>plt.contour()</code> expects a sequence of colors. If you want to specify an RGB tuple, make it the first element of such a sequence.</p>\n\n<pre><code>plt.contour(grid, levels = contours, colors = ((1,0,0),) )\n</code></pre>\n\n<p>or</p>\n\n<pre><code>plt.contour(grid, levels = contours, colors = [(1,0,0),] )\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 4454944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ed366ee770542303dabb07941bb7da?s=128&d=identicon&r=PG&f=1", "display_name": "mrvj", "link": "https://stackoverflow.com/users/4454944/mrvj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5917, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1476009850, "creation_date": 1421265235, "question_id": 27951280, "link": "https://stackoverflow.com/questions/27951280/python-matplotlib-to-rgba-invalid-rgba-arg", "title": "Python/Matplotlib -&gt; to_rgba: Invalid rgba arg", "body": "<p>I'm trying to plot contours and have previously used a RGB tuple to specify the color (only one for all contours) - however, now I get a ValueError from to_rgba:</p>\n\n<pre><code>ValueError: to_rgba: Invalid rgba arg \"1\"\nto_rgb: Invalid rgb arg \"1\"\ncannot convert argument to rgb sequence\n</code></pre>\n\n<p>Here is an example:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\ngrid = np.random.random((10,10))\ncontours = np.linspace(0, 1, 10)\n</code></pre>\n\n<p>Now this works!</p>\n\n<pre><code>plt.contour(grid, levels = contours, colors = 'r')\nplt.show()\n</code></pre>\n\n<p>But this does NOT work!</p>\n\n<pre><code>plt.contour(grid, levels = contours, colors = (1,0,0))\nplt.show()\n</code></pre>\n\n<p>Am I doing something wrong or is this bug (/new feature) in Matplotlib? Thanks.</p>\n"}, {"tags": ["python", "ubuntu", "tkinter", "vlc", "clickable"], "answers": [{"comments": [{"owner": {"reputation": 2291, "user_id": 4241079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-nEs9ONa-vpM/AAAAAAAAAAI/AAAAAAAABOs/I1FH6ZR-ZSM/photo.jpg?sz=128", "display_name": "Fahadkalis", "link": "https://stackoverflow.com/users/4241079/fahadkalis"}, "edited": false, "score": 0, "creation_date": 1421270065, "post_id": 27951717, "comment_id": 44300129, "body": "How do I open this on vlc player by one-click"}, {"owner": {"reputation": 2291, "user_id": 4241079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-nEs9ONa-vpM/AAAAAAAAAAI/AAAAAAAABOs/I1FH6ZR-ZSM/photo.jpg?sz=128", "display_name": "Fahadkalis", "link": "https://stackoverflow.com/users/4241079/fahadkalis"}, "edited": false, "score": 0, "creation_date": 1421273061, "post_id": 27951717, "comment_id": 44301663, "body": "I get error <b>tex.tag_bind(linkname, &quot;&lt;1&gt;&quot;, lambda event, filename=f: open(filename)) IOError: [Errno 2] No such file or directory: &#39;video.h264&#39;</b>"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 2291, "user_id": 4241079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-nEs9ONa-vpM/AAAAAAAAAAI/AAAAAAAABOs/I1FH6ZR-ZSM/photo.jpg?sz=128", "display_name": "Fahadkalis", "link": "https://stackoverflow.com/users/4241079/fahadkalis"}, "edited": false, "score": 2, "creation_date": 1421273120, "post_id": 27951717, "comment_id": 44301689, "body": "@FahadUddin: probably because it&#39;s just passing the name of the file, not the whole path. You&#39;ll likely want to pass the whole path. This was just an illustration of how to make clickable text, not a complete solution to your problem."}, {"owner": {"reputation": 2291, "user_id": 4241079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-nEs9ONa-vpM/AAAAAAAAAAI/AAAAAAAABOs/I1FH6ZR-ZSM/photo.jpg?sz=128", "display_name": "Fahadkalis", "link": "https://stackoverflow.com/users/4241079/fahadkalis"}, "edited": false, "score": 0, "creation_date": 1421273474, "post_id": 27951717, "comment_id": 44301843, "body": "how do i tell Openfile to open this file on VLC because after mentioning the correct path .... on command line cursor is just blinking"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 2291, "user_id": 4241079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-nEs9ONa-vpM/AAAAAAAAAAI/AAAAAAAABOs/I1FH6ZR-ZSM/photo.jpg?sz=128", "display_name": "Fahadkalis", "link": "https://stackoverflow.com/users/4241079/fahadkalis"}, "edited": false, "score": 0, "creation_date": 1421276158, "post_id": 27951717, "comment_id": 44303033, "body": "@FahadUddin: that&#39;s a different question. The comment section isn&#39;t intended to be for extended discussions."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1421266863, "creation_date": 1421266863, "answer_id": 27951717, "question_id": 27951158, "link": "https://stackoverflow.com/questions/27951158/how-to-make-text-clickable-in-tkinter-python-on-ubuntu/27951717#27951717", "title": "how to make text clickable in tkinter python on Ubuntu", "body": "<p>You can add tags to spans of characters in the text widget, and you can set bindings on tags. So, a simple solution is to create a unique tag for each filename, and a unique binding for that tag.</p>\n\n<p>For example:</p>\n\n<pre><code>def viewFile():\n    for f in os.listdir(path):\n        if f.endswith(\".h264\"):\n            linkname=\"link-\" + f\n            tex.insert(END,f + \"\\n\", linkname)\n            tex.tag_configure(linkname, foreground=\"blue\", underline=True)\n            tex.tag_bind(linkname, \"&lt;1&gt;\", lambda event, filename=f: openFile(filename))\n</code></pre>\n\n<p>This will cause a function named <code>openFile</code> to be called with one argument, which is the filename. You can then do whatever you want in that function.</p>\n"}, {"comments": [{"owner": {"reputation": 2291, "user_id": 4241079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-nEs9ONa-vpM/AAAAAAAAAAI/AAAAAAAABOs/I1FH6ZR-ZSM/photo.jpg?sz=128", "display_name": "Fahadkalis", "link": "https://stackoverflow.com/users/4241079/fahadkalis"}, "edited": false, "score": 0, "creation_date": 1421270600, "post_id": 27951764, "comment_id": 44300458, "body": "First how do I install python-swap and It is given an syntax error on line 2"}], "tags": [], "owner": {"reputation": 165, "user_id": 2488921, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/15d87299174316765f69e82f9e17a924?s=128&d=identicon&r=PG", "display_name": "clan", "link": "https://stackoverflow.com/users/2488921/clan"}, "is_accepted": false, "score": 0, "last_activity_date": 1421266995, "creation_date": 1421266995, "answer_id": 27951764, "question_id": 27951158, "link": "https://stackoverflow.com/questions/27951158/how-to-make-text-clickable-in-tkinter-python-on-ubuntu/27951764#27951764", "title": "how to make text clickable in tkinter python on Ubuntu", "body": "<p>an easy way to do this is loop over all the files and create a button for each with the file name like so</p>\n\n<pre><code> fram = Frame(root)\n files = os.listdir(path):\n for f in range(0, len(files), 1):\n    if files[f].endswith(\".h264\"):\n        name = files[f].split(\".\")\n        b = Button(fram, text=name[0])\n        b.bind('&lt;Button&gt;', openV)\n        b.grid(row=f, column=1)\n</code></pre>\n\n<p>now your <code>openV</code> fuction should look like this to actually open the file</p>\n\n<pre><code>def openV(event):\n     b = event.widget()\n     properties = b.config() #get all config for this widget, conveniently the only value right now is text\n     n = properties[0]\n     bashCommand = \"vlc \" + n + \".h264\" # this is the command to actually be exectuted\n     os.system(bashCommand)\n</code></pre>\n\n<p>make sure you have python-swap installed on your system or you will get an error with <code>os.system()</code>\nyou do not need to have unique ids since 2 files with the same name and extension in the same folder cannot exist!</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4408850"}, "is_accepted": false, "score": 2, "last_activity_date": 1421277488, "creation_date": 1421277488, "answer_id": 27954268, "question_id": 27951158, "link": "https://stackoverflow.com/questions/27951158/how-to-make-text-clickable-in-tkinter-python-on-ubuntu/27954268#27954268", "title": "how to make text clickable in tkinter python on Ubuntu", "body": "<p>try this line in the last to open video on VLC</p>\n\n<pre><code>tex.tag_bind(linkname, \"&lt;1&gt;\", lambda event, filename =path+'/'+f: subprocess.call(['vlc',filename]))\n</code></pre>\n"}], "owner": {"reputation": 2291, "user_id": 4241079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-nEs9ONa-vpM/AAAAAAAAAAI/AAAAAAAABOs/I1FH6ZR-ZSM/photo.jpg?sz=128", "display_name": "Fahadkalis", "link": "https://stackoverflow.com/users/4241079/fahadkalis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 865, "favorite_count": 0, "accepted_answer_id": 27951717, "answer_count": 3, "score": 0, "last_activity_date": 1421277488, "creation_date": 1421264814, "question_id": 27951158, "link": "https://stackoverflow.com/questions/27951158/how-to-make-text-clickable-in-tkinter-python-on-ubuntu", "title": "how to make text clickable in tkinter python on Ubuntu", "body": "<p>I am writing a program in python on Ubuntu, to import and print the names of video files from a folder but It is printing as  a simple text, not in a click-able form.</p>\n\n<p>I want to make them clickable &amp; open on video player 'vlc' on one click.</p>\n\n<p>Can you plz guide me to do that?</p>\n\n<pre><code>import io,sys,os,subprocess \nfrom Tkinter import *\n\ndef viewFile():\n    for f in os.listdir(path):\n        if f.endswith(\".h264\"):\n            tex.insert(END,f + \"\\n\")\n\nif __name__ == '__main__':\n    root = Tk()\n\n    mainframe= root.title(\"FILE MANAGER APPLICATION\")                         # Program Objective\n    mainframe= root.attributes('-fullscreen', True)\n\n    step = LabelFrame(root,text=\"FILE MANAGER\", font = \"Arial 20 bold   italic\")\n    step.grid(row=0, columnspan=7, sticky='W',padx=100, pady=5, ipadx=130, ipady=25)\n\n    Button(step,    text=\"File View\",   font = \"Arial 8 bold    italic\",    activebackground=\"turquoise\",   width=30, height=5, command=viewFile).grid      (row= 1, column =2)\n    Button(step,    text=\"Exit\",        font = \"Arial 8 bold    italic\",    activebackground=\"turquoise\",   width=20, height=5, command=root.quit).grid     (row= 1, column =5)\n\n    tex = Text(master=root)\n    scr=Scrollbar(root,orient =VERTICAL,command=tex.yview)\n    scr.grid(row=2, column=2, rowspan=15, columnspan=1, sticky=NS)\n    tex.grid(row=2, column=1, sticky=W)\n    tex.config(yscrollcommand=scr.set,font=('Arial', 8, 'bold', 'italic'))\n\n    global process\n    path = os.path.expanduser(\"~/python\")                   # Define path To play, delete, or rename video\n    root.mainloop()\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": false, "score": 1, "last_activity_date": 1421264762, "creation_date": 1421264762, "answer_id": 27951141, "question_id": 27951038, "link": "https://stackoverflow.com/questions/27951038/the-kernel-has-died-and-the-automatic-restart-has-failed/27951141#27951141", "title": "The kernel has died, and the automatic restart has failed", "body": "<p>Open a Python interpreter session, and run the following:</p>\n\n<pre><code>import sys\nfrom pprint import pprint as pp\n\npp(sys.path)\n</code></pre>\n\n<p>You'll notice that the first entry is <code>''</code>, which means the current directory. When <code>pdb</code> tries to import a module named <code>cmd</code>, it's actually importing the file in your current directory, which (I would assume) doesn't have the code it's looking for. Removing or renaming that file fixes your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "is_accepted": true, "score": 2, "last_activity_date": 1421267300, "creation_date": 1421267300, "answer_id": 27951842, "question_id": 27951038, "link": "https://stackoverflow.com/questions/27951038/the-kernel-has-died-and-the-automatic-restart-has-failed/27951842#27951842", "title": "The kernel has died, and the automatic restart has failed", "body": "<p>The last lines of your traceback show that CPython's module <code>pdb</code> is being imported while IPython starts up. <a href=\"https://hg.python.org/cpython/file/98f16237e1e2/Lib/pdb.py#l72\" rel=\"nofollow\">Line 72 of the pdb.py source</a> shows that another module called <code>cmd</code> is imported by \"pdb.py\".</p>\n\n<p>The <a href=\"https://docs.python.org/3.4/tutorial/modules.html#the-module-search-path\" rel=\"nofollow\">Python docs</a> show the following order when searching for imports, which I believe is the same for IPython:</p>\n\n<ol>\n<li>Current working directory  </li>\n<li><a href=\"https://docs.python.org/3.4/using/cmdline.html#envvar-PYTHONPATH\" rel=\"nofollow\">PYTHONPATH</a>  </li>\n<li>Installation dependent defaults</li>\n</ol>\n\n<p>Since the startup process involves an import of a module called <code>cmd</code> and there is a file called \"cmd.py\" in the first place the interpreter looks, it attempts to import that file, which of course doesn't have the things it's looking for. Specifically, your file \"cmd.py\" doesn't have the <a href=\"https://docs.python.org/3.4/library/cmd.html#cmd.Cmd\" rel=\"nofollow\">Cmd class</a>, so the <code>AttributeError</code> is raised.</p>\n\n<p>Removing or renaming \"cmd.py\" in your current working directory will resolve the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5499823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5834bcdcce8ccd9aacb59561c8fc5e32?s=128&d=identicon&r=PG&f=1", "display_name": "CodeConfusion", "link": "https://stackoverflow.com/users/5499823/codeconfusion"}, "is_accepted": false, "score": -1, "last_activity_date": 1471301032, "creation_date": 1471301032, "answer_id": 38964116, "question_id": 27951038, "link": "https://stackoverflow.com/questions/27951038/the-kernel-has-died-and-the-automatic-restart-has-failed/38964116#38964116", "title": "The kernel has died, and the automatic restart has failed", "body": "<p>I just ran across this problem and started to frantically search for a reason why the kernel is dying. For myself, at least, the solution came to me by trial and error.</p>\n\n<p>I tried opening a new notebook in another directory and the kernel did not die there. So I figured out that the kernel was dying only for that specific directory path. The reason behind this was: <strong>I already had an active session of iPython with that very directory path on another machine.</strong> As soon as I ended the session on the other machine, problem solved.</p>\n"}], "owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9321, "favorite_count": 0, "accepted_answer_id": 27951842, "answer_count": 3, "score": -1, "last_activity_date": 1481539883, "creation_date": 1421264365, "last_edit_date": 1448605012, "question_id": 27951038, "link": "https://stackoverflow.com/questions/27951038/the-kernel-has-died-and-the-automatic-restart-has-failed", "title": "The kernel has died, and the automatic restart has failed", "body": "<p>I am getting the following <code>error</code> when I run <code>ipython notebook</code> from directory with contains a file named <code>cmd.py</code></p>\n\n<p>So my question is <strong>WHY?</strong> because everything is perfect when I rename or remove the file.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/home/me/.virtualenvs/demo/lib/python3.4/site-packages/IPython    /__init__.py\", line 48, in &lt;module&gt;\n    from .core.application import Application\n  File \"/home/me/.virtualenvs/demo/lib/python3.4/site-packages/IPython    /core/application.py\", line 40, in &lt;module&gt;\n    from IPython.core import release, crashhandler\n  File \"/home/me/.virtualenvs/demo/lib/python3.4/site-packages/IPython    /core/crashhandler.py\", line 28, in &lt;module&gt;\n    from IPython.core import ultratb\n  File \"/home/me/.virtualenvs/demo/lib/python3.4/site-packages/IPython/core/ultratb.py\", line 110, in &lt;module&gt;\n    from IPython.core import debugger\n  File \"/home/me/.virtualenvs/demo/lib/python3.4/site-packages/IPython/core/debugger.py\", line 59, in &lt;module&gt;\n    from pdb import Pdb as OldPdb\n  File \"/usr/local/lib/python3.4/pdb.py\", line 135, in &lt;module&gt;\n    class Pdb(bdb.Bdb, cmd.Cmd):\nAttributeError: 'module' object has no attribute 'Cmd'\n2015-01-14 22:23:36.895 [NotebookApp] WARNING | KernelRestarter: restart failed\n2015-01-14 22:23:36.896 [NotebookApp] WARNING | Kernel 1005e1cf-b1b4-4f9d-        af22-e65c310cfa51 died, removing from map.\nERROR:root:kernel 1005e1cf-b1b4-4f9d-af22-e65c310cfa51 restarted failed!\n</code></pre>\n"}, {"tags": ["python", "mongodb", "pandas", "pickle"], "answers": [{"comments": [{"owner": {"reputation": 8813, "user_id": 508907, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/gRGJK.jpg?s=128&g=1", "display_name": "ntg", "link": "https://stackoverflow.com/users/508907/ntg"}, "edited": false, "score": 1, "creation_date": 1511458641, "post_id": 27956545, "comment_id": 81876429, "body": "+1!, What is important is: This works even when the pickle is not a dataframe:)! It worked in my case at least, and I had stored a directory containing string keys and Dataframes as values."}], "tags": [], "owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "is_accepted": false, "score": 7, "last_activity_date": 1421293964, "creation_date": 1421293964, "answer_id": 27956545, "question_id": 27950991, "link": "https://stackoverflow.com/questions/27950991/pandas-backwards-compatibility-issue-with-pickle-0-14-1-and-0-15-2/27956545#27956545", "title": "Pandas backwards compatibility issue with pickle 0.14.1 and 0.15.2", "body": "<p>This was explicity mentioned as the <code>Index</code> class now no-longer sub-classes <code>ndarray</code> but a pandas object, see <a href=\"http://pandas.pydata.org/pandas-docs/stable/whatsnew.html#whatsnew-0150-refactoring\" rel=\"noreferrer\">here</a>.</p>\n\n<p>You simply need to use <code>pd.read_pickle</code> to read the pickles.</p>\n"}], "owner": {"reputation": 83, "user_id": 3525590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkrxR.jpg?s=128&g=1", "display_name": "Mike D", "link": "https://stackoverflow.com/users/3525590/mike-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4781, "favorite_count": 2, "answer_count": 1, "score": 7, "last_activity_date": 1421293964, "creation_date": 1421264135, "last_edit_date": 1495539910, "question_id": 27950991, "link": "https://stackoverflow.com/questions/27950991/pandas-backwards-compatibility-issue-with-pickle-0-14-1-and-0-15-2", "title": "Pandas backwards compatibility issue with pickle 0.14.1 and 0.15.2", "body": "<p>We're using pandas Dataframe as our primary data container for our time series data.  We pack the dataframe into binary blobs into a mongoDB document for storage along with keys for meta data about the time series blob.</p>\n\n<p>We ran into an error when we upgraded from pandas 0.14.1 to 0.15.2.</p>\n\n<p>Create binary blob of pandas Dataframe (0.14.1)</p>\n\n<pre><code>import lz4   \nimport cPickle\n\nbd = lz4.compress(cPickle.dumps(df,cPickle.HIGHEST_PROTOCOL))\n</code></pre>\n\n<p><strong>Error Case</strong>: Read back in from mongoDB with pandas 0.15.2</p>\n\n<pre><code>cPickle.loads(lz4.decompress(bd))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-37-76f7b0b41426&gt; in &lt;module&gt;()\n----&gt; 1 cPickle.loads(lz4.decompress(bd))\nTypeError: ('_reconstruct: First argument must be a sub-type of ndarray', &lt;built-in function _reconstruct&gt;, (&lt;class 'pandas.core.index.Index'&gt;, (0,), 'b'))\n</code></pre>\n\n<p><strong>Success Case</strong>: Read back in from mongoDB with pandas 0.14.1 with no error.</p>\n\n<p>This seems to be similar to an old stack thread <a href=\"https://stackoverflow.com/questions/20444593/pandas-compiled-from-source-default-pickle-behavior-changed\">Pandas compiled from source: default pickle behavior changed</a> \nWith a helpful comment from <a href=\"https://stackoverflow.com/users/644898/jeff\">https://stackoverflow.com/users/644898/jeff</a> </p>\n\n<blockquote>\n  <p>The error message you are seeing `TypeError: _reconstruct: First argument\n  must be a sub-type of ndarray is that the python default unpickler\n  makes sure that the class hierarchy that was pickled is exactly the\n  same what it is recreating. Since Series has changed between versions\n  this is no longer possible with the default unpickler, (this IMHO is a\n  bug in the way pickle works). In any event, pandas will unpickle\n  pre-0.13 pickles that have Series objects.\"</p>\n</blockquote>\n\n<p>Any ideas on workaround or solutions?</p>\n\n<p><strong>To recreate error:</strong> </p>\n\n<p>Setup in pandas 0.14.1 env:</p>\n\n<pre><code>df = pd.DataFrame(np.random.randn(10,10))\ncPickle.dump(df,open(\"cp0141.p\",\"wb\"))\ncPickle.load(open('cp0141.p','r')) # no error\n</code></pre>\n\n<p>Create error in pandas 0.15.2 env:</p>\n\n<pre><code>cPickle.load(open('cp0141.p','r'))\nTypeError: ('_reconstruct: First argument must be a sub-type of ndarray', &lt;built-in function_reconstruct&gt;, (&lt;class 'pandas.core.index.Int64Index'&gt;, (0,), 'b'))\n</code></pre>\n"}, {"tags": ["python", "celery"], "answers": [{"tags": [], "owner": {"reputation": 8792, "user_id": 589983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0681aebb373e874cc4aa8458ecde3ba?s=128&d=identicon&r=PG", "display_name": "garnertb", "link": "https://stackoverflow.com/users/589983/garnertb"}, "is_accepted": true, "score": 16, "last_activity_date": 1596501695, "last_edit_date": 1596501695, "creation_date": 1421266715, "answer_id": 27951681, "question_id": 27950963, "link": "https://stackoverflow.com/questions/27950963/how-to-keep-track-of-retries-in-celery/27951681#27951681", "title": "How to keep track of retries in celery", "body": "<p>The number of the current retry can be found on the <code>request.retries</code> attribute of your task.</p>\n<pre><code>@app.task(retries=3, default_retry_delay=1)\ndef fail():\n    try:\n        assert False\n    except Exception as e:\n      print 'Try {0}/{1}'.format(fail.request.retries, fail.max_retries)\n      # Print log message with current retry\n      raise fail.retry(exc=e)\n\n\n[2015-01-14 15:15:55,702: WARNING/Worker-1] Try 0/3\n[2015-01-14 15:15:58,604: WARNING/Worker-3] Try 1/3\n[2015-01-14 15:16:00,605: WARNING/Worker-2] Try 2/3\n[2015-01-14 15:16:02,607: WARNING/Worker-6] Try 3/3\n      \n</code></pre>\n<p>Celery uses a similar method internally: <a href=\"https://github.com/celery/celery/blob/b0cfa0d818743262a032c541cce2fa8c43fabad4/celery/app/task.py#L558\" rel=\"nofollow noreferrer\">https://github.com/celery/celery/blob/b0cfa0d818743262a032c541cce2fa8c43fabad4/celery/app/task.py#L558</a></p>\n"}], "owner": {"reputation": 1175, "user_id": 386998, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/49e0de3c0b9d4caf3833af136f0792b5?s=128&d=identicon&r=PG", "display_name": "Paulo SantAnna", "link": "https://stackoverflow.com/users/386998/paulo-santanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3880, "favorite_count": 1, "accepted_answer_id": 27951681, "answer_count": 1, "score": 8, "last_activity_date": 1596501695, "creation_date": 1421264019, "last_edit_date": 1517900290, "question_id": 27950963, "link": "https://stackoverflow.com/questions/27950963/how-to-keep-track-of-retries-in-celery", "title": "How to keep track of retries in celery", "body": "<p>In Celery how do I keep track of the current retry? I know I can do something like this:</p>\n\n<pre><code>@app.task(bind=True, default_retry_delay=900, max_retries=5)\ndef send_email(self, sender=None, to=None, subject=None, message=None):\n  try:\n    # Send email\n  except Exception as e:\n    # Print log message with current retry\n    self.retry(e)\n</code></pre>\n\n<p>But I would like to say this is try 1/5..2/5 and so on.</p>\n"}, {"tags": ["python", "sublimetext2", "eoferror"], "comments": [{"owner": {"reputation": 967, "user_id": 851370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yVAnU.jpg?s=128&g=1", "display_name": "Nick Dickinson-Wilde", "link": "https://stackoverflow.com/users/851370/nick-dickinson-wilde"}, "edited": false, "score": 0, "creation_date": 1421264993, "post_id": 27950927, "comment_id": 44297578, "body": "Are  you running this from within Sublime? or directly via the Python interpreter?"}], "answers": [{"tags": [], "owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "is_accepted": false, "score": 0, "last_activity_date": 1421265808, "last_edit_date": 1495542041, "creation_date": 1421265808, "answer_id": 27951445, "question_id": 27950927, "link": "https://stackoverflow.com/questions/27950927/eoferror-in-python-repl-didnt-work/27951445#27951445", "title": "EOFError in Python, REPL didn&#39;t work", "body": "<p>The problem is when you run python scripts inside sublime, it <a href=\"https://stackoverflow.com/a/27772814/2387772\">doesn't handle</a> the <code>raw_input</code> part. You have three options:</p>\n\n<ol>\n<li>install a package that deals with this (such as sublimeREPL which you mention didn't work - so either a problem with the package or - more probable - you didn't install it correctly)</li>\n<li>run the script from the windows cmd</li>\n<li>avoid using <code>raw_input</code> entirely (pretty much no one uses it anyway)</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 4100591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecef5e8e6ef88de550cf262484cd82f1?s=128&d=identicon&r=PG&f=1", "display_name": "felixvir", "link": "https://stackoverflow.com/users/4100591/felixvir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "closed_date": 1421420934, "answer_count": 1, "score": -1, "last_activity_date": 1421265808, "creation_date": 1421263844, "last_edit_date": 1421264847, "question_id": 27950927, "link": "https://stackoverflow.com/questions/27950927/eoferror-in-python-repl-didnt-work", "closed_reason": "Duplicate", "title": "EOFError in Python, REPL didn&#39;t work", "body": "<p>So I am fairly new to writing in Python (and using Sublime 2 on a Windows 8.1), and I kept getting:</p>\n\n<pre><code>EOFError: EOF when reading a line\n</code></pre>\n\n<p>I made a very simple program:</p>\n\n<pre><code>f = raw_input('Enter a number')\nprint f\n</code></pre>\n\n<p>However even this returns:</p>\n\n<pre><code>Enter a numberTraceback (most recent call last):\nFile \"C:\\Users\\\\*****\\Documents\\Programming\\test.py\", line 1, in &lt;module&gt;\nf = raw_input('Enter a number')\nEOFError: EOF when reading a line\n[Finished in 0.4s with exit code 1]\n</code></pre>\n\n<p>Many other solutions had installing SublimeREPL, I installed this and the problem persists. Other solutions don't seem relevant.</p>\n\n<p>Any ideas what is causing this error?</p>\n"}, {"tags": ["python", "pandas", "python-unittest"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1421263825, "post_id": 27950891, "comment_id": 44296901, "body": "What do you mean &quot;you cannot get it to&quot;?  Is there an error?  If so, what is the error?  What do you want to happen, and what happens instead?"}, {"owner": {"reputation": 2370, "user_id": 4402407, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8181937c9174541a00e1db4408df074?s=128&d=identicon&r=PG&f=1", "display_name": "tjb305", "link": "https://stackoverflow.com/users/4402407/tjb305"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1421264534, "post_id": 27950891, "comment_id": 44297293, "body": "I do not get an error, the test runs successfully whatever I put in the test. What I want to be able to do is produce tests which test functions that manipulate a pandas dataframe and confirm their behaviour using a small test dataframe."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1421265045, "post_id": 27950891, "comment_id": 44297611, "body": "You&#39;ll need to show an actual example with actual data that isn&#39;t working."}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 1, "creation_date": 1421311957, "post_id": 27950891, "comment_id": 44313099, "body": "When you are using <code>self</code>, you have to put these functions inside a class."}, {"owner": {"reputation": 2370, "user_id": 4402407, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8181937c9174541a00e1db4408df074?s=128&d=identicon&r=PG&f=1", "display_name": "tjb305", "link": "https://stackoverflow.com/users/4402407/tjb305"}, "edited": false, "score": 0, "creation_date": 1421344162, "post_id": 27950891, "comment_id": 44332220, "body": "Thanks for the help, I&#39;ve tried to get an example to work with an embedded data frame but with no luck. I will tomorrow try building the class to see if that fixes the problem."}], "answers": [{"comments": [{"owner": {"reputation": 1682, "user_id": 1843329, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/82f213cbe91062878e3a17f4fe28ef62?s=128&d=identicon&r=PG", "display_name": "snark", "link": "https://stackoverflow.com/users/1843329/snark"}, "edited": false, "score": 3, "creation_date": 1583333800, "post_id": 42413541, "comment_id": 107081437, "body": "Import from <code>pandas.testing</code> in the latest pandas - see <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.testing.assert_frame_equal.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/reference/api/&hellip;</a>"}], "tags": [], "owner": {"reputation": 434, "user_id": 7592435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879d1db6c98c74fc6964e60831242f75?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Slack", "link": "https://stackoverflow.com/users/7592435/adam-slack"}, "is_accepted": true, "score": 30, "last_activity_date": 1545156196, "last_edit_date": 1545156196, "creation_date": 1487846862, "answer_id": 42413541, "question_id": 27950891, "link": "https://stackoverflow.com/questions/27950891/how-to-use-a-pandas-data-frame-in-a-unit-test/42413541#42413541", "title": "How to use a pandas data frame in a unit test", "body": "<p>Pandas has some utilities for testing.</p>\n\n<pre><code>import unittest\nimport pandas as pd\nfrom pandas.util.testing import assert_frame_equal # &lt;-- for testing dataframes\n\nclass DFTests(unittest.TestCase):\n\n    \"\"\" class for running unittests \"\"\"\n\n    def setUp(self):\n        \"\"\" Your setUp \"\"\"\n        TEST_INPUT_DIR = 'data/'\n        test_file_name =  'testdata.csv'\n        try:\n            data = pd.read_csv(INPUT_DIR + test_file_name,\n                sep = ',',\n                header = 0)\n        except IOError:\n            print 'cannot open file'\n        self.fixture = data\n\n    def test_dataFrame_constructedAsExpected(self):\n        \"\"\" Test that the dataframe read in equals what you expect\"\"\"\n        foo = pd.DataFrame()\n        assert_frame_equal(self.fixture, foo)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 5565552, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AP54ME6fTd0/AAAAAAAAAAI/AAAAAAAAABM/ZA-MdDHUXXA/photo.jpg?sz=128", "display_name": "Steven", "link": "https://stackoverflow.com/users/5565552/steven"}, "is_accepted": false, "score": 20, "last_activity_date": 1548772985, "last_edit_date": 1548772985, "creation_date": 1524777463, "answer_id": 50051968, "question_id": 27950891, "link": "https://stackoverflow.com/questions/27950891/how-to-use-a-pandas-data-frame-in-a-unit-test/50051968#50051968", "title": "How to use a pandas data frame in a unit test", "body": "<p>If you are using latest pandas, I think the following way is a bit cleaner:</p>\n\n<pre><code>import pandas as pd\n\npd.testing.assert_frame_equal(my_df, expected_df)\npd.testing.assert_series_equal(my_series, expected_series)\npd.testing.assert_index_equal(my_index, expected_index)\n</code></pre>\n\n<p>Each of these functions will raise <code>AssertionError</code> if they are not \"equal\".</p>\n\n<p>For more information and options: <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/general_utility_functions.html#testing-functions\" rel=\"noreferrer\">https://pandas.pydata.org/pandas-docs/stable/reference/general_utility_functions.html#testing-functions</a></p>\n"}, {"tags": [], "owner": {"reputation": 3518, "user_id": 3384609, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1cb30cda6294521f9c6e60277504c5c2?s=128&d=identicon&r=PG", "display_name": "Clintm", "link": "https://stackoverflow.com/users/3384609/clintm"}, "is_accepted": false, "score": 0, "last_activity_date": 1601065000, "creation_date": 1601065000, "answer_id": 64070838, "question_id": 27950891, "link": "https://stackoverflow.com/questions/27950891/how-to-use-a-pandas-data-frame-in-a-unit-test/64070838#64070838", "title": "How to use a pandas data frame in a unit test", "body": "<p>You could do something like this as well with <code>snapshottest</code>.</p>\n<p><a href=\"https://stackoverflow.com/a/64070787/3384609\">https://stackoverflow.com/a/64070787/3384609</a></p>\n"}], "owner": {"reputation": 2370, "user_id": 4402407, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8181937c9174541a00e1db4408df074?s=128&d=identicon&r=PG&f=1", "display_name": "tjb305", "link": "https://stackoverflow.com/users/4402407/tjb305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21052, "favorite_count": 5, "accepted_answer_id": 42413541, "answer_count": 3, "score": 21, "last_activity_date": 1601065000, "creation_date": 1421263705, "last_edit_date": 1421264420, "question_id": 27950891, "link": "https://stackoverflow.com/questions/27950891/how-to-use-a-pandas-data-frame-in-a-unit-test", "title": "How to use a pandas data frame in a unit test", "body": "<p>I am developing a set of python scripts to pre-process a dataset then produce a series of machine learning models using scikit-learn. I would like to develop a set of unittests to check the data pre-processing functions, and would like to be able to use a small test pandas dataframe for which I can determine the answers for and use it in assert statements.</p>\n\n<p>I cannot seem to get it to load the dataframe and to pass it to the unit tests using self. My code looks something like this;</p>\n\n<pre><code>def setUp(self):\n    TEST_INPUT_DIR = 'data/'\n    test_file_name =  'testdata.csv'\n    try:\n        data = pd.read_csv(INPUT_DIR + test_file_name,\n            sep = ',',\n            header = 0)\n    except IOError:\n        print 'cannot open file'\n    self.fixture = data\n\ndef tearDown(self):\n    del self.fixture\n\ndef test1(self):    \n    self.assertEqual(somefunction(self.fixture), somevalue)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["python", "scipy", "sparse-matrix"], "answers": [{"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1421279755, "post_id": 27954150, "comment_id": 44304304, "body": "I&#39;d leave <code>D</code> in its default <code>dia</code> format, and let <code>sparse</code> transform it during the addition.  <code>M+M.T</code> is <code>csr</code>, the best format for math."}], "tags": [], "owner": {"reputation": 28915, "user_id": 108184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f11d5dec13b8e2d9abe53f4b66192e9?s=128&d=identicon&r=PG", "display_name": "pv.", "link": "https://stackoverflow.com/users/108184/pv"}, "is_accepted": false, "score": 0, "last_activity_date": 1421276856, "creation_date": 1421276856, "answer_id": 27954150, "question_id": 27950827, "link": "https://stackoverflow.com/questions/27950827/diagonal-sparse-matrix-obtained-from-a-sparse-coo-matrix/27954150#27954150", "title": "Diagonal sparse matrix obtained from a sparse coo_matrix", "body": "<p>You probably want</p>\n\n<pre><code>from scipy.sparse import diags\nD = diags(M.diagonal(), 0, format='coo')\n</code></pre>\n\n<p>This will still build an M-size 1d array as an intermediate step, but that will probably not be so bad.</p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 3334721, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Uu9IG.jpg?s=128&g=1", "display_name": "Alain", "link": "https://stackoverflow.com/users/3334721/alain"}, "edited": false, "score": 0, "creation_date": 1421330280, "post_id": 27955833, "comment_id": 44322923, "body": "Great ! Thanks for your detailed and precised answer."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 1, "last_activity_date": 1421351435, "last_edit_date": 1421351435, "creation_date": 1421288481, "answer_id": 27955833, "question_id": 27950827, "link": "https://stackoverflow.com/questions/27950827/diagonal-sparse-matrix-obtained-from-a-sparse-coo-matrix/27955833#27955833", "title": "Diagonal sparse matrix obtained from a sparse coo_matrix", "body": "<p>I have come up with a faster <code>coo</code>  diagonal:</p>\n\n<pre><code>msk = M.row==M.col\nD1 = sparse.coo_matrix((M.data[msk],(M.row[msk],M.col[msk])),shape=M.shape)\n</code></pre>\n\n<p><code>sparse.tril</code> uses this method with <code>mask = A.row + k &gt;= A.col</code>  (<code>sparse/extract.py</code>)</p>\n\n<p>Some times for a (100,100) <code>M</code> (and <code>M1 = M.tocsr()</code>)</p>\n\n<pre><code>In [303]: timeit msk=M.row==M.col; D1=sparse.coo_matrix((M.data[msk],(M.row[msk],M.col[msk])),shape=M.shape)\n10000 loops, best of 3: 115 \u00b5s per loop\n\nIn [305]: timeit D=sparse.diags(M.diagonal(),0)\n1000 loops, best of 3: 358 \u00b5s per loop\n</code></pre>\n\n<p>So the <code>coo</code> way of getting the diagional is fast, at least for this small, and very sparse matrix (only 1 time in the diagonal)</p>\n\n<p>If I start with the <code>csr</code> form, the <code>diags</code> is faster.  That's because <code>.diagonal</code> works in the <code>csr</code> format:</p>\n\n<pre><code>In [306]: timeit D=sparse.diags(M1.diagonal(),0)\n10000 loops, best of 3: 176 \u00b5s per loop\n</code></pre>\n\n<p>But creating <code>D</code> is a small part of the overall calculation.  Again, working with <code>M1</code> is faster.   The sum is done in <code>csr</code> format.</p>\n\n<pre><code>In [307]: timeit M+M.T-D\n1000 loops, best of 3: 1.35 ms per loop\n\nIn [308]: timeit M1+M1.T-D\n1000 loops, best of 3: 1.11 ms per loop\n</code></pre>\n\n<hr>\n\n<p>Another way to do the whole thing is to take advantage of that fact that <code>coo</code> allows duplicate <code>i,j</code> values, which will be summed when converted to <code>csr</code> format.  So you could stack the <code>row, col, data</code> arrays for <code>M</code> with those for <code>M.T</code> (see <code>M.transpose</code> for how those are constructed), along with masked values for <code>D</code>.  (or the masked diagonals could be removed from <code>M</code> or <code>M.T</code>)</p>\n\n<p>For example:</p>\n\n<pre><code>def MplusMT(M):\n    msk=M.row!=M.col;\n    data=np.concatenate([M.data, M.data[msk]])\n    rows=np.concatenate([M.row, M.col[msk]])\n    cols=np.concatenate([M.col, M.row[msk]])\n    MM=sparse.coo_matrix((data, (rows, cols)), shape=M.shape)\n    return MM\n\n# alt version with a more explicit D\n#    msk=M.row==M.col;\n#    data=np.concatenate([M.data, M.data,-M.data[msk]])\n</code></pre>\n\n<p><code>MplusMT</code> as written is very fast because it is just doing array concatenation, not summation.  To do that we have to convert it to a <code>csr</code> matrix.</p>\n\n<pre><code>MplusMT(M).tocsr() \n</code></pre>\n\n<p>which takes considerably longer.  Still this approach is, in my limited testing, more than 2x faster than <code>M+M.T-D</code>.  So it's a potential tool for constructing complex sparse matrices.</p>\n"}], "owner": {"reputation": 371, "user_id": 3334721, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Uu9IG.jpg?s=128&g=1", "display_name": "Alain", "link": "https://stackoverflow.com/users/3334721/alain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 27955833, "answer_count": 2, "score": 1, "last_activity_date": 1421351435, "creation_date": 1421263430, "last_edit_date": 1421264603, "question_id": 27950827, "link": "https://stackoverflow.com/questions/27950827/diagonal-sparse-matrix-obtained-from-a-sparse-coo-matrix", "title": "Diagonal sparse matrix obtained from a sparse coo_matrix", "body": "<p>I built some sparse matrix <code>M</code> in Python using the <code>coo_matrix</code> format. I would like to find an efficient way to compute: </p>\n\n<pre><code>A = M + M.T - D\n</code></pre>\n\n<p>where <code>D</code> is the restriction of <code>M</code> to its diagonal (<code>M</code> is potentially very large). I can't find a way to efficiently build <code>D</code> while keeping a <code>coo_matrix</code> format. Any ideas?</p>\n\n<p>Could <code>D = scipy.sparse.spdiags(coo_matrix.diagonal(M),0,M.shape[0],M.shape[0])</code> be a solution?</p>\n"}, {"tags": ["python", "mongodb", "pymongo"], "answers": [{"comments": [{"owner": {"reputation": 21948, "user_id": 618967, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vfh11.jpg?s=128&g=1", "display_name": "A. Jesse Jiryu Davis", "link": "https://stackoverflow.com/users/618967/a-jesse-jiryu-davis"}, "edited": false, "score": 0, "creation_date": 1421418345, "post_id": 27966529, "comment_id": 44362968, "body": "@clifgray is there anything else I can help you with, or will you accept my answer as correct?"}, {"owner": {"reputation": 3970, "user_id": 1352749, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d3d72b87946369cced309b80d7653d76?s=128&d=identicon&r=PG", "display_name": "clifgray", "link": "https://stackoverflow.com/users/1352749/clifgray"}, "edited": false, "score": 0, "creation_date": 1421695093, "post_id": 27966529, "comment_id": 44448534, "body": "thanks for following up, a short follow up. This code will be running on the client side computer but the mongo database will be on a main server. Is it reasonable to have 5-10 MongoClient instances running here on different client computers all connected to the main server?"}, {"owner": {"reputation": 21948, "user_id": 618967, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vfh11.jpg?s=128&g=1", "display_name": "A. Jesse Jiryu Davis", "link": "https://stackoverflow.com/users/618967/a-jesse-jiryu-davis"}, "reply_to_user": {"reputation": 3970, "user_id": 1352749, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d3d72b87946369cced309b80d7653d76?s=128&d=identicon&r=PG", "display_name": "clifgray", "link": "https://stackoverflow.com/users/1352749/clifgray"}, "edited": false, "score": 0, "creation_date": 1421718200, "post_id": 27966529, "comment_id": 44457564, "body": "Certainly, the MongoDB server is designed to handle thousands, even tens of thousands, of concurrent clients."}], "tags": [], "owner": {"reputation": 21948, "user_id": 618967, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vfh11.jpg?s=128&g=1", "display_name": "A. Jesse Jiryu Davis", "link": "https://stackoverflow.com/users/618967/a-jesse-jiryu-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1421334669, "creation_date": 1421334669, "answer_id": 27966529, "question_id": 27950801, "link": "https://stackoverflow.com/questions/27950801/where-to-put-client-and-db-connection-in-python-file/27966529#27966529", "title": "Where to put client and db connection in python file", "body": "<p>Your code is correct. You should continue to use the same MongoClient instance for all operations in your application, this will ensure that all operations share the same connection pool and use as few connections as possible--this will maximize your efficiency. MongoClient is thread-safe so this will work even if you have concurrent operations on multiple threads.</p>\n"}], "owner": {"reputation": 3970, "user_id": 1352749, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d3d72b87946369cced309b80d7653d76?s=128&d=identicon&r=PG", "display_name": "clifgray", "link": "https://stackoverflow.com/users/1352749/clifgray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "accepted_answer_id": 27966529, "answer_count": 1, "score": 0, "last_activity_date": 1421347217, "creation_date": 1421263317, "last_edit_date": 1421347217, "question_id": 27950801, "link": "https://stackoverflow.com/questions/27950801/where-to-put-client-and-db-connection-in-python-file", "title": "Where to put client and db connection in python file", "body": "<p>So I am building a mongo database class that will be provide access to inserting documents to the insertion service and provide access for viewing documents via a querying service. Right now I have the following for my database.py class:</p>\n\n<pre><code>import pymongo \n\nclient = pymongo.MongoClient('mongodb://localhost:27017/')\ndb_connection = client['my_database']\n\nclass DB_Object(object):\n\n    \"\"\" A class providing structure and access to the Database \"\"\"\n\n    def add_document(self, json_obj):\n        coll = db_connection[\"some collection\"]\n        document = {\n            \"name\" : \"imma name\",\n            \"raw value\" : 777,\n            \"converted value\" : 333\n        }\n        coll.insert(document)\n\n    def query_response(self, query):\n            \"\"\"query logic here\"\"\"\n</code></pre>\n\n<p>If I want concurrent queries and inserts with this class being called by multiple services is this the correct location for the lines:</p>\n\n<pre><code>client = pymongo.MongoClient('mongodb://localhost:27017/')\ndb_connection = client['my_database']\n</code></pre>\n\n<p>And is this a standard way to provide access?</p>\n"}, {"tags": ["python", "python-2.7", "colander"], "comments": [{"owner": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "edited": false, "score": 0, "creation_date": 1421267259, "post_id": 27950726, "comment_id": 44298680, "body": "The first thing that pops to mind is that that&#39;s where the <code>missing=None</code> is for. Is passing <code>&quot;testMark&quot;:None</code> accepted?"}, {"owner": {"reputation": 137, "user_id": 1360903, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/151ce052d0cb3290cdcd4250f7ea0285?s=128&d=identicon&r=PG", "display_name": "RohitS", "link": "https://stackoverflow.com/users/1360903/rohits"}, "reply_to_user": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "edited": false, "score": 0, "creation_date": 1421268982, "post_id": 27950726, "comment_id": 44299533, "body": "missing=None implies that when the field is missing from the deserialized response, its value is replaced by None. My problem is what to do when the field is present the response but it has an incorrect value"}], "answers": [{"tags": [], "owner": {"reputation": 9722, "user_id": 991572, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/32c3a43c2f79abe038e8ec5d9f306b29?s=128&d=identicon&r=PG", "display_name": "allcaps", "link": "https://stackoverflow.com/users/991572/allcaps"}, "is_accepted": false, "score": 0, "last_activity_date": 1421271591, "creation_date": 1421271591, "answer_id": 27952946, "question_id": 27950726, "link": "https://stackoverflow.com/questions/27950726/allow-unknown-values/27952946#27952946", "title": "Allow Unknown values", "body": "<p>You could write your own SchemaType that accepts any value but deserialises it to a float or null.</p>\n\n<p><a href=\"http://docs.pylonsproject.org/projects/colander/en/latest/extending.html\" rel=\"nofollow\">http://docs.pylonsproject.org/projects/colander/en/latest/extending.html</a></p>\n\n<pre><code>class MyFloat(colander.Float):\n\n    def deserialize(self, node, cstruct):\n        if isinstance(cstruct, float):\n            return cstruct\n        else:\n            return null\n</code></pre>\n\n<p>I didn't test this, but I hope you get the idea.</p>\n"}], "owner": {"reputation": 137, "user_id": 1360903, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/151ce052d0cb3290cdcd4250f7ea0285?s=128&d=identicon&r=PG", "display_name": "RohitS", "link": "https://stackoverflow.com/users/1360903/rohits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1421271591, "creation_date": 1421262991, "last_edit_date": 1421264995, "question_id": 27950726, "link": "https://stackoverflow.com/questions/27950726/allow-unknown-values", "title": "Allow Unknown values", "body": "<p>I am using colander while de-serializing JSON response. There is a field that is configured to have numbers only, but sometimes the response has null or non-numeric value for this field and then my application throws invalid error. Is there a way I could handle it in my program to give a default value, say NA, to the field.\nHere is an example to explain the situation:</p>\n\n<p>This is a sample:</p>\n\n<pre><code>class SampleClass(colander.MappingSchema):\n    name = colander.SchemaNode(colander.String())\n    testMark  = colander.SchemaNode(colander.Float(), missing=None)\n\n\nclass Sample(colander.MappingSchema):\n    type = colander.SchemaNode(colander.String())\n    student = colander.SampleStudent()\n\nI want the following JSON to be accepted and not throw error for testMark as null\n\n{  \n   \"type\":\"test\",\n   \"student\":{  \n      \"name\":\"a name\",\n      \"testMark\":null\n   }\n}\n</code></pre>\n\n<p>My apologies if there is something wrong in code, this is my first time in python.\nHope I have made the scenario clear. I would want to give the testMark field a default value, say NA, whenever the test mark is not a number.</p>\n\n<p>P.S. This is just a sample scenario, can't post the actual scenario here.</p>\n"}, {"tags": ["python", "arrays", "performance", "numpy"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1421263025, "post_id": 27950580, "comment_id": 44296466, "body": "Have you considered performance analysis (profiling, etc.)?"}, {"owner": {"reputation": 51, "user_id": 3479119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f63332be88595b0eedcab5de53fb37?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morse", "link": "https://stackoverflow.com/users/3479119/matt-morse"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1421263256, "post_id": 27950580, "comment_id": 44296593, "body": "In terms of deciding which method is more efficient? It will take a week or two to get the OOP solution up and running fully, and I&#39;m trying to evaluate whether that time is worth investing."}, {"owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "edited": false, "score": 4, "creation_date": 1421263538, "post_id": 27950580, "comment_id": 44296755, "body": "Who said numpy arrays are faster than python data structures? Depends on what you&#39;re doing and how you access the data."}, {"owner": {"reputation": 51, "user_id": 3479119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f63332be88595b0eedcab5de53fb37?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morse", "link": "https://stackoverflow.com/users/3479119/matt-morse"}, "edited": false, "score": 0, "creation_date": 1421263789, "post_id": 27950580, "comment_id": 44296879, "body": "It seemed to be the general consensus from what I could find. I&#39;d be delighted to wrong; it means I can have fast readable code :)"}, {"owner": {"reputation": 24730, "user_id": 2298070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A6aVe.jpg?s=128&g=1", "display_name": "Steve Barnes", "link": "https://stackoverflow.com/users/2298070/steve-barnes"}, "edited": false, "score": 3, "creation_date": 1421263895, "post_id": 27950580, "comment_id": 44296942, "body": "&quot;Premature optimisation is the root of all evil&quot; - complex and difficult code comes a close second - start with the simple clear approach and see if you need to optimise then profile and hit the points that will give the most benefit possibly with some Cython or C."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1421263945, "post_id": 27950580, "comment_id": 44296970, "body": "You don&#39;t need to get it <i>&quot;up and running fully&quot;</i>, just enough to see whether the bottleneck operations are going to be a killer. If you&#39;re not using matrix operations much you may not be getting the most of <code>numpy</code>. Bear in mind too that there are other aspects; having a more intuitive model will affect further development and maintenance time, as you comment. We can&#39;t tell you whether that&#39;s critical for whatever your use case is."}, {"owner": {"reputation": 2663, "user_id": 3467349, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7b632fff81a1301f7870594ca4170aa7?s=128&d=identicon&r=PG&f=1", "display_name": "user3467349", "link": "https://stackoverflow.com/users/3467349/user3467349"}, "edited": false, "score": 0, "creation_date": 1421264035, "post_id": 27950580, "comment_id": 44297021, "body": "Why can&#39;t you just wrap the numpy arrays in a class, rather than changing the data-structure?"}, {"owner": {"reputation": 51, "user_id": 3479119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f63332be88595b0eedcab5de53fb37?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morse", "link": "https://stackoverflow.com/users/3479119/matt-morse"}, "edited": false, "score": 0, "creation_date": 1421264461, "post_id": 27950580, "comment_id": 44297249, "body": "jonrsharpe - the numpy arrays are embodying a weird condensed way to represent a graph my research group came up with two years ago that is now out of date. All of the related algorithms are built on top of that data structure, so it&#39;s nontrivial (at least from what I can see) to just test the bottlenecks.  Future development is important, since I&#39;m the sole developer at this point. It&#39;d be ideal if someone can take up the mantle at some point, but is clarity worth a performance hit? I feel like the answer is probably yes, but I&#39;m trying to see how big of a tradeoff this would be."}, {"owner": {"reputation": 51, "user_id": 3479119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f63332be88595b0eedcab5de53fb37?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morse", "link": "https://stackoverflow.com/users/3479119/matt-morse"}, "edited": false, "score": 0, "creation_date": 1421264535, "post_id": 27950580, "comment_id": 44297294, "body": "user3467349 - the numpy arrays are wrapped in a class, but the operations that need to be done on the arrays need to be rewritten and involve many reallocations and data copying."}, {"owner": {"reputation": 51, "user_id": 3479119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f63332be88595b0eedcab5de53fb37?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morse", "link": "https://stackoverflow.com/users/3479119/matt-morse"}, "edited": false, "score": 0, "creation_date": 1421264593, "post_id": 27950580, "comment_id": 44297335, "body": "Steve Barnes - I think you&#39;re right. A clear working model with room for improvement is ideal."}, {"owner": {"reputation": 16669, "user_id": 1231929, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hLiYk.jpg?s=128&g=1", "display_name": "jme", "link": "https://stackoverflow.com/users/1231929/jme"}, "edited": false, "score": 1, "creation_date": 1421268715, "post_id": 27950580, "comment_id": 44299380, "body": "There&#39;s always a tradeoff... sure, you don&#39;t want to optimize prematurely, but you also don&#39;t want to spend a week writing code that has a good chance of being too slow for your needs. Numpy can be unreadable when compared to pure python, but you can stuff the borderline-unreadable bits into small functions or classes that are named and documented well. It can be difficult, but I&#39;d try to guess what parts of the algorithm will be the bottleneck and do a back-of-the-envelope calculation as to whether the factor of 10-100 speedup you get with numpy will be noticeable."}, {"owner": {"reputation": 51, "user_id": 3479119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f63332be88595b0eedcab5de53fb37?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morse", "link": "https://stackoverflow.com/users/3479119/matt-morse"}, "edited": false, "score": 0, "creation_date": 1421269036, "post_id": 27950580, "comment_id": 44299560, "body": "Steve Barnes raised a good point about Cython. Clear but slow Python code could be ran through Cython and ultimately get the best of both worlds."}, {"owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1421276275, "post_id": 27950580, "comment_id": 44303079, "body": "If your number of arrays is very large, you could take a look at <code>tables</code> (<a href=\"http://www.pytables.org/\" rel=\"nofollow noreferrer\">pytables.org</a>), which allows you to organize arrays in hierarchical structures. As a bonus, you&#39;ll get a data viewer GUI (<a href=\"http://vitables.org/\" rel=\"nofollow noreferrer\">vitables.org</a>)."}, {"owner": {"reputation": 51, "user_id": 3479119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f63332be88595b0eedcab5de53fb37?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morse", "link": "https://stackoverflow.com/users/3479119/matt-morse"}, "edited": false, "score": 0, "creation_date": 1421415044, "post_id": 27950580, "comment_id": 44361099, "body": "I think I&#39;m going to take Steve Barnes&#39; advice and rewrite a clear usable and maintainable implementation of my code, profile and optimize the Python code as much as possible, then use Cython to get the performance I really need. Unless anyone has any better ideas, of course."}], "owner": {"reputation": 51, "user_id": 3479119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f63332be88595b0eedcab5de53fb37?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morse", "link": "https://stackoverflow.com/users/3479119/matt-morse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1421262363, "creation_date": 1421262363, "question_id": 27950580, "link": "https://stackoverflow.com/questions/27950580/many-numpy-arrays-vs-few-python-classes", "title": "Many Numpy Arrays vs Few Python Classes", "body": "<p>I'm working on a project that heavily relies on reasonably small 2D Numpy arrays to represent our data (where small is around 100 x 4, at worst). The problem with this representation is that is extremely cumbersome and unclear given the context of the problem, terrible to maintain, and very bug prone. For example, my current task, in the context of these arrays, requires adding and removing multiple rows, and allocating a large number of them. I decided that an object-oriented, graph-based approach would be far clearer to use on my end and more generic for future development. After sitting down and designing most of the functionality on paper, there will probably be 5 or 6 larger classes with internal dictionaries (representing adjacency lists for graphs), that remove the need for Numpy arrays and are much clearer to interpret.</p>\n\n<p>It is well known that Numpy arrays blow Python data structures out of the water in terms of  indexing speed and most other functionality. However, I also know that Python dictionaries are highly optimized and are fairly efficient in their own right. My dilemma is whether or not reallocating many Numpy arrays and copying values back and forth is more or less efficient than a few persisting classes that can be edited easily without reallocation, but will have slower indexing time than a Numpy array.</p>\n\n<p>It's worth noting that I'm not using much of Numpy functionality other than <code>np.where()</code>, which can be worked around if necessary. Also the algorithm scales not in the size of arrays but in the <em>number</em> of arrays; a harder problem will have more arrays, but not necessarily larger ones.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "setuptools", "nunjucks"], "answers": [{"tags": [], "owner": {"reputation": 1924, "user_id": 1286760, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f1deafc721d7dd9e9e7c2e37a6b96fcf?s=128&d=identicon&r=PG", "display_name": "4Z4T4R", "link": "https://stackoverflow.com/users/1286760/4z4t4r"}, "is_accepted": true, "score": 6, "last_activity_date": 1421274812, "creation_date": 1421274812, "answer_id": 27953695, "question_id": 27950551, "link": "https://stackoverflow.com/questions/27950551/how-to-execute-a-safe-bash-shell-command-within-setup-py/27953695#27953695", "title": "How to execute a (safe) bash shell command within setup.py?", "body": "<p>Pardon the quick self-answer.  I hope this helps someone out there in the ether.  I want to share this now that I've worked out a solution I'm satisfied with.</p>\n\n<p>Here's a solution that's safe and based on <a href=\"http://www.niteoweb.com/blog/setuptools-run-custom-code-during-install\" rel=\"noreferrer\" title=\"setuptools override\">Peter Lamut's write-up</a>.  Note that this does <em>not</em> use shell=True in the subprocess invocation.  You may bypass grunt-task requirements on your python deployment system and also use this for obfuscation and JS packaging all the same.</p>\n\n<pre><code>from setuptools import setup\nfrom setuptools.command.install import install\nimport subprocess\nimport os\n\nclass CustomInstallCommand(install):\n    \"\"\"Custom install setup to help run shell commands (outside shell) before installation\"\"\"\n    def run(self):\n        dir_path = os.path.dirname(os.path.realpath(__file__))\n        template_path = os.path.join(dir_path, 'src/path/to/templates')\n        templatejs_path = os.path.join(dir_path, 'src/path/to/templates.js')\n        templatejs = subprocess.check_output([\n            'nunjucks-precompile',\n            '--include',\n            '[\"\\\\.tmpl$\"]',\n            template_path\n        ])\n        f = open(templatejs_path, 'w')\n        f.write(templatejs)\n        f.close()\n        install.run(self)\n\nsetup(cmdclass={'install': CustomInstallCommand},\n      ...\n     )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 7456497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ch0QdsUVrg8/AAAAAAAAAAI/AAAAAAAAAD8/UicqDxTbygM/photo.jpg?sz=128", "display_name": "Dhruv Aggarwal", "link": "https://stackoverflow.com/users/7456497/dhruv-aggarwal"}, "is_accepted": false, "score": -1, "last_activity_date": 1498016488, "creation_date": 1498016488, "answer_id": 44666477, "question_id": 27950551, "link": "https://stackoverflow.com/questions/27950551/how-to-execute-a-safe-bash-shell-command-within-setup-py/44666477#44666477", "title": "How to execute a (safe) bash shell command within setup.py?", "body": "<p>I think that the link <a href=\"https://seasonofcode.com/posts/how-to-add-custom-build-steps-and-commands-to-setuppy.html\" rel=\"nofollow noreferrer\">here</a> encapsulates what you are trying to achieve.</p>\n"}], "owner": {"reputation": 1924, "user_id": 1286760, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f1deafc721d7dd9e9e7c2e37a6b96fcf?s=128&d=identicon&r=PG", "display_name": "4Z4T4R", "link": "https://stackoverflow.com/users/1286760/4z4t4r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3420, "favorite_count": 2, "accepted_answer_id": 27953695, "answer_count": 2, "score": 3, "last_activity_date": 1498016488, "creation_date": 1421262252, "last_edit_date": 1430126181, "question_id": 27950551, "link": "https://stackoverflow.com/questions/27950551/how-to-execute-a-safe-bash-shell-command-within-setup-py", "title": "How to execute a (safe) bash shell command within setup.py?", "body": "<p>I use nunjucks for templating the frontend in a python project.  Nunjucks templates <em>must</em> be precompiled in production.  I don't use extensions or asynchronous filters in the nunjucks templates.  Rather than use grunt-task to listen for changes to my templates, I prefer to use the nunjucks-precompile command (offered via npm) to sweep the entire templates directory into templates.js.  </p>\n\n<p>The idea is to have the <code>nunjucks-precompile --include [\"\\\\.tmpl$\"] path/to/templates &gt; templates.js</code> command execute within setup.py so I can simply piggyback our deployer scripts' regular execution.</p>\n\n<p>I found <a href=\"http://www.niteoweb.com/blog/setuptools-run-custom-code-during-install\" rel=\"nofollow\" title=\"a setuptools override\">a setuptools override</a> and <a href=\"https://docs.python.org/2/distutils/apiref.html#distutils.core.run_setup\" rel=\"nofollow\" title=\"distutils scripts argument\">a distutils scripts argument</a> might serve the right purpose, but I'm not so sure either is the simplest approach to execution.</p>\n\n<p>Another approach is to use <code>subprocess</code> to execute the command directly within setup.py, but I've been cautioned against this (rather preemptively IMHO). I don't really deeply understand why not.</p>\n\n<p>Any ideas? Affirmations? Confirmations?</p>\n\n<p><strong>Update (04/2015):</strong> - If you don't have the <code>nunjucks-precompile</code> command available, simply use Node Package Manager to install nunjucks like so:</p>\n\n<pre><code>$ npm install nunjucks\n</code></pre>\n"}, {"tags": ["python", "url"], "answers": [{"comments": [{"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421265871, "post_id": 27950825, "comment_id": 44298044, "body": "ok, so maybe use urlparse to extract the path part to pass as the second parameter?"}, {"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421266040, "post_id": 27950825, "comment_id": 44298117, "body": "hmm nope, that won&#39;t work either, because urlparse().path has a leading &#39;/&#39; in front of it in such cases."}, {"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421266658, "post_id": 27950825, "comment_id": 44298427, "body": "also doesn&#39;t seem to work if there are too many <code>..</code>, e.g. <code>urljoin(&quot;http:&#47;&#47;x.com&#47;a&#47;b&#47;page.html&quot;,&quot;..&#47;..&#47;..&#47;index.html&quot;,F&zwnj;&#8203;alse)</code> -&gt; <code>&#39;http:&#47;&#47;x.com&#47;..&#47;index.html&#39;</code>"}, {"owner": {"reputation": 4070, "user_id": 2381321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c927b813ead9cd423f4f7189379a4b53?s=128&d=identicon&r=PG", "display_name": "zord", "link": "https://stackoverflow.com/users/2381321/zord"}, "reply_to_user": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421266675, "post_id": 27950825, "comment_id": 44298432, "body": "I&#39;m not sure I fully understand your situation. Where is the <code>&quot;http:&#47;&#47;x.com&#47;..&#47;..&#47;X&quot;</code> value coming from in your example?"}, {"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421266744, "post_id": 27950825, "comment_id": 44298458, "body": "i&#39;m scraping a set of pages (for migration) and these occasionally occur in the HREF of an anchor here and there."}, {"owner": {"reputation": 4070, "user_id": 2381321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c927b813ead9cd423f4f7189379a4b53?s=128&d=identicon&r=PG", "display_name": "zord", "link": "https://stackoverflow.com/users/2381321/zord"}, "reply_to_user": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421267494, "post_id": 27950825, "comment_id": 44298800, "body": "I see. I added another idea to my answer."}, {"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421267611, "post_id": 27950825, "comment_id": 44298847, "body": "nice update, but unfortunately that still doesn&#39;t work if there are too many <code>..</code> in the URL. e.g. <code>urljoin(&#39;http:&#47;&#47;x.com&#47;..&#47;index.html&#39;,&#39;.&#39;)</code> -&gt; <code>&#39;http:&#47;&#47;x.com&#47;..&#47;&#39;</code>."}, {"owner": {"reputation": 4070, "user_id": 2381321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c927b813ead9cd423f4f7189379a4b53?s=128&d=identicon&r=PG", "display_name": "zord", "link": "https://stackoverflow.com/users/2381321/zord"}, "reply_to_user": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421267928, "post_id": 27950825, "comment_id": 44298982, "body": "As the linked answer states: this only works for directory urls, not for files. But I thought it might help. Btw, since that url is invalid, what would be your expected result?"}, {"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421268062, "post_id": 27950825, "comment_id": 44299060, "body": "If I put the URL into a browser, it modifies it to <code>http:&#47;&#47;x.com&#47;index.html</code>.  But, it is starting to look like the solution in this case is to simply find and fix all the offending links."}, {"owner": {"reputation": 4070, "user_id": 2381321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c927b813ead9cd423f4f7189379a4b53?s=128&d=identicon&r=PG", "display_name": "zord", "link": "https://stackoverflow.com/users/2381321/zord"}, "reply_to_user": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421270288, "post_id": 27950825, "comment_id": 44300272, "body": "I added my last resort idea to my answer. It&#39;s not pretty, but still better than hand fixing all the bad links."}, {"owner": {"reputation": 4070, "user_id": 2381321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c927b813ead9cd423f4f7189379a4b53?s=128&d=identicon&r=PG", "display_name": "zord", "link": "https://stackoverflow.com/users/2381321/zord"}, "reply_to_user": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421918964, "post_id": 27950825, "comment_id": 44548088, "body": "@Michael Some response would have been nice."}, {"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1421942256, "post_id": 27950825, "comment_id": 44562559, "body": "thanks, i&#39;ll accept since that looks like it should work.  unfortunately, by that time i had (in parallel) already managed to manually all 60 or so bad links."}], "tags": [], "owner": {"reputation": 4070, "user_id": 2381321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c927b813ead9cd423f4f7189379a4b53?s=128&d=identicon&r=PG", "display_name": "zord", "link": "https://stackoverflow.com/users/2381321/zord"}, "is_accepted": true, "score": 2, "last_activity_date": 1421270597, "last_edit_date": 1495541863, "creation_date": 1421263424, "answer_id": 27950825, "question_id": 27950432, "link": "https://stackoverflow.com/questions/27950432/python-urljoin-not-removing-superflous-dots/27950825#27950825", "title": "Python urljoin not removing superflous dots", "body": "<p>I think you should use an absolute <code>base</code> and a relative <code>url</code>.<br>\nIf you call it like this, it removes the dots:</p>\n\n<pre><code>urljoin(\"http://x.com/a/b/page.html\",\"../../index.html\",False)\n# result: 'http://x.com/index.html'\n\nurljoin(\"http://x.com/a/b/page.html\",\"./index.html\",False)\n# result: 'http://x.com/a/b/index.html'\n</code></pre>\n\n<p>I found a way to normalize a url in <a href=\"https://stackoverflow.com/questions/4317242/python-how-to-resolve-urls-containing\">this answer</a>. Example:</p>\n\n<pre><code>urljoin('http://www.example.com/foo/bar/../../baz/bux/', '.')\n# result: 'http://www.example.com/baz/bux/'\n</code></pre>\n\n<p>I think the invalid url handling (too much <code>..</code>) can only be handled \"manually\", like this:</p>\n\n<pre><code>def remove_extra_dots(url):\n    parsed = list(urlparse(url))\n    dirs = []\n    for name in parsed[2].split(\"/\"):\n        if name == \"..\":\n            if len(dirs) &gt; 1:\n                dirs.pop()\n        else:\n            dirs.append(name)\n    parsed[2] = \"/\".join(dirs)\n    return urlunparse(parsed)\n</code></pre>\n\n<p>This will eliminate all <code>..</code>s from the url, even the invalid ones. Examples:</p>\n\n<pre><code>\"http://x.com/a/b/c/../../X\"  #-&gt;  http://x.com/a/X\n\"http://x.com/a/b/../../X\"    #-&gt;  http://x.com/X\n\"http://x.com/../../X\"        #-&gt;  http://x.com/X\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1129, "user_id": 2280091, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ad1d1d134a0b9f0e0637279f8f72e52?s=128&d=identicon&r=PG", "display_name": "obskyr", "link": "https://stackoverflow.com/users/2280091/obskyr"}, "is_accepted": false, "score": 1, "last_activity_date": 1478810821, "last_edit_date": 1495542851, "creation_date": 1478810821, "answer_id": 40536710, "question_id": 27950432, "link": "https://stackoverflow.com/questions/27950432/python-urljoin-not-removing-superflous-dots/40536710#40536710", "title": "Python urljoin not removing superflous dots", "body": "<p>It's a bit of a bug! According to <a href=\"https://tools.ietf.org/html/rfc3986#section-5.2.4\" rel=\"nofollow noreferrer\">RFC 3986</a>, those superfluous <code>..</code> segments should be removed. No Python standard library function I've been able to find really does the job correctly.</p>\n\n<hr>\n\n<p>The existing answer is slightly incorrect in a couple of ways, sadly. URL resolution is a bit more complicated than one might expect.</p>\n\n<p>In addition to the shortcomings of <code>urljoin</code> mentioned there (it doesn't resolve URLs when joining an absolute path, and it doesn't handle excessive <code>..</code>s), joining an URL with <code>.</code> will remove the last segment. For example, <code>urljoin('http://example.com/dir/./wrong/../file.txt', '.')</code> will result in <code>'http://example.com/dir/'</code>, removing the file and thus making you have to add it back in. Also, <code>urljoin('http://example.com/dir/..', '.')</code> results in <code>'http://example.com/dir/'</code>, which is just simply wrong for your case.</p>\n\n<p>Not only that, the <code>remove_extra_dots</code> function provided actually has a bug in it. If the URL ends in a trailing dot segment (which the last bug in the previous paragraph renders impossible, but if it was somehow fixed), a trailing slash <em>won't</em> be added. Consider <code>remove_extra_dots('http://example.com/..')</code>. This should result in <code>'http://example.com/'</code>, but actually results in <code>'http://example.com'</code> (note the missing slash). It's a small difference, but a lot of sites do redirects on receiving missing slashes, so you might get unexpected results.</p>\n\n<hr>\n\n<p>The following function completely resolves URLs - that is, both <code>.</code>s and <code>..</code>s - following RFC 3986. Without having to rely on <code>urljoin</code>, too!</p>\n\n<pre><code>try:\n    # Python 3\n    from urllib.parse import urlsplit, urlunsplit\nexcept ImportError:\n    # Python 2\n    from urlparse import urlsplit, urlunsplit\n\ndef resolve_url(url):\n    parts = list(urlsplit(url))\n    segments = parts[2].split('/')\n    segments = [segment + '/' for segment in segments[:-1]] + [segments[-1]]\n    resolved = []\n    for segment in segments:\n        if segment in ('../', '..'):\n            if resolved[1:]:\n                resolved.pop()\n        elif segment not in ('./', '.'):\n            resolved.append(segment)\n    parts[2] = ''.join(resolved)\n    return urlunsplit(parts)\n</code></pre>\n\n<p>You can then call it when you have your complete URL (in your case, after joining) as following.</p>\n\n<pre><code>&gt;&gt;&gt; resolve_url(\"http://example.com/dir/../../thing/.\")\n'http://example.com/thing/'\n</code></pre>\n\n<p>For more information on what works/doesn't work, see <a href=\"https://stackoverflow.com/a/40536115/2280091\">a similar answer I wrote on the subject</a>.</p>\n"}], "owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 989, "favorite_count": 0, "accepted_answer_id": 27950825, "answer_count": 2, "score": 0, "last_activity_date": 1478810821, "creation_date": 1421261835, "question_id": 27950432, "link": "https://stackoverflow.com/questions/27950432/python-urljoin-not-removing-superflous-dots", "title": "Python urljoin not removing superflous dots", "body": "<p>I'm using urljoin to get the absolute URL of links of a page.  For the most part it does a good job at things like resolving relative links, but I notice that for some reason it does not remove superflous dots in some cases.  For example:</p>\n\n<pre><code>&gt;&gt;&gt; urljoin(\"http://x.com\",\"http://x.com/../../X\",False)\n'http://x.com/../../X'\n&gt;&gt;&gt; urljoin(\"http://x.com\",\"http://x.com/./../X\",False)\n'http://x.com/./../X'\n</code></pre>\n\n<p>If I give such an URL to a web browser, it corrects it fine, but if I try to use Python's urlopen() it throws an exception (urllib2.HTTPError: HTTP Error 400: Bad Request).</p>\n\n<p>Is this expected behavior?  Is there some other Python function that correctly removes these dots that I should be using instead, or is this a bug?</p>\n"}, {"tags": ["python", "string", "escaping"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1421261939, "post_id": 27950393, "comment_id": 44295897, "body": "Those strings aren&#39;t the same. The first string <code>repr</code>s to <code>4\\xe7\\xef\\xe4</code>, the second one to <code>4\\\\347\\\\357\\\\344</code>."}, {"owner": {"reputation": 24055, "user_id": 315427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0852b879b171828b74a63d3bef359bc3?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/315427/pablo"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1421262216, "post_id": 27950393, "comment_id": 44296048, "body": "So how to modify last 2 examples to make it same?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1421262502, "post_id": 27950393, "comment_id": 44296205, "body": "<code>&#39;4&#39;+&#39;&#39;.join(chr(int(str(n), 8)) for n in (347, 357, 344))</code>"}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 1, "creation_date": 1421264936, "post_id": 27950393, "comment_id": 44297537, "body": "why is &quot;\\347&quot; becoming &quot;\\xe7&quot;?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1421267236, "post_id": 27950393, "comment_id": 44298671, "body": "@Daniel Octal 347 equals hex e7. Seee my answer."}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1421269925, "post_id": 27950393, "comment_id": 44300037, "body": "@ David Heffernan, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 24055, "user_id": 315427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0852b879b171828b74a63d3bef359bc3?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/315427/pablo"}, "edited": false, "score": 0, "creation_date": 1421261904, "post_id": 27950431, "comment_id": 44295880, "body": "<code>xxx = &quot;4\\\\%d\\\\%d\\\\%d&quot; % (347, 357, 344)</code> doesn&#39;t work either, same error <code>No such file or directory</code>"}, {"owner": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "reply_to_user": {"reputation": 24055, "user_id": 315427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0852b879b171828b74a63d3bef359bc3?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/315427/pablo"}, "edited": false, "score": 0, "creation_date": 1421261958, "post_id": 27950431, "comment_id": 44295909, "body": "@Pablo this does not escape either; what is the exact filename you are trying to produce?"}, {"owner": {"reputation": 24055, "user_id": 315427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0852b879b171828b74a63d3bef359bc3?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/315427/pablo"}, "edited": false, "score": 0, "creation_date": 1421262070, "post_id": 27950431, "comment_id": 44295963, "body": "exact file name is in unknown codepage, which I don&#39;t have to detect and that is not a task. <code>ls -b</code> on terminal reveals the file name in C style escaped sequence as in first example, which I need to construct."}], "tags": [], "owner": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "is_accepted": true, "score": 3, "last_activity_date": 1421278942, "last_edit_date": 1421278942, "creation_date": 1421261835, "answer_id": 27950431, "question_id": 27950393, "link": "https://stackoverflow.com/questions/27950393/why-rename-doesnt-work/27950431#27950431", "title": "Why rename doesn&#39;t work?", "body": "<p>The second example does not escape:\n<code>\"4\\%d\\%d\\%d\" % (347, 357, 344)</code> yields <code>4\\\\347\\\\357\\\\344</code></p>\n\n<p>The first one does, yielding <code>4\\xe7\\xef\\xe4</code></p>\n\n<p>The last one also does not escape.</p>\n\n<p><strong>UPDATE</strong>\nTo get the result you are seeking, try</p>\n\n<p><code>'4'+''.join([chr(int(str(z),8)) for z in [347, 357, 344]])</code></p>\n"}, {"comments": [{"owner": {"reputation": 24055, "user_id": 315427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0852b879b171828b74a63d3bef359bc3?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/315427/pablo"}, "edited": false, "score": 0, "creation_date": 1421262111, "post_id": 27950483, "comment_id": 44295991, "body": "So how to escape properly `\\` to get the same result?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 24055, "user_id": 315427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0852b879b171828b74a63d3bef359bc3?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/315427/pablo"}, "edited": false, "score": 0, "creation_date": 1421262213, "post_id": 27950483, "comment_id": 44296046, "body": "I do not understand that question"}], "tags": [], "owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "is_accepted": false, "score": 0, "last_activity_date": 1421267331, "last_edit_date": 1421267331, "creation_date": 1421262033, "answer_id": 27950483, "question_id": 27950393, "link": "https://stackoverflow.com/questions/27950393/why-rename-doesnt-work/27950483#27950483", "title": "Why rename doesn&#39;t work?", "body": "<pre><code>\"4\\347\\357\\344\"\n</code></pre>\n\n<p>This literal contains escaped octal sequences. The other strings do not and are different. </p>\n\n<pre>\n>>> s1 = \"4\\347\\357\\344\"\n>>> s2 = \"4\\%d\\%d\\%d\" % (347, 357, 344)\n>>> print s1 == s2\nFalse\n>>> print repr(s1)\n'4\\xe7\\xef\\xe4'\n>>> print repr(s2)\n'4\\\\347\\\\357\\\\344'\n</pre>\n\n<p>As you can see, <code>s1</code> and <code>s2</code> are not equal. As for the representation of <code>s1</code>, octal 347 is equal to hexadecimal e7. And so on. </p>\n\n<p>In summary, <code>os.rename</code> works, but your strings differ. </p>\n"}], "owner": {"reputation": 24055, "user_id": 315427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0852b879b171828b74a63d3bef359bc3?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/315427/pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 2, "accepted_answer_id": 27950431, "answer_count": 2, "score": 0, "last_activity_date": 1421278942, "creation_date": 1421261682, "question_id": 27950393, "link": "https://stackoverflow.com/questions/27950393/why-rename-doesnt-work", "title": "Why rename doesn&#39;t work?", "body": "<p>The following rename command of directory works fine</p>\n\n<pre><code>os.rename(\"4\\347\\357\\344\",\"newname\")\n</code></pre>\n\n<p>However, this one fails, telling \"No such file or directory\"</p>\n\n<pre><code>xxx = \"4\\%d\\%d\\%d\" % (347, 357, 344)\nos.rename(xxx, \"newname\")\n</code></pre>\n\n<p>I also tried following and it failed</p>\n\n<pre><code>xxx = \"4\" + \"\\\\\" + str(int(s1)) + \"\\\\\" + str(int(s2)) + \"\\\\\" + str(int(s3))\n</code></pre>\n\n<p>Last 2 ways are constructing same string as first literal, if I print. So why they don't work?</p>\n"}, {"tags": ["python", "angularjs", "api", "eve"], "comments": [{"owner": {"reputation": 5233, "user_id": 1520701, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aJvf1.jpg?s=128&g=1", "display_name": "Fisherman", "link": "https://stackoverflow.com/users/1520701/fisherman"}, "edited": false, "score": 0, "creation_date": 1460877789, "post_id": 27950344, "comment_id": 60938102, "body": "<a href=\"http://stackoverflow.com/questions/25727306/request-header-field-access-control-allow-headers-is-not-allowed-by-access-contr/30554385#30554385\" title=\"request header field access control allow headers is not allowed by access contr\">stackoverflow.com/questions/25727306/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4531, "user_id": 967859, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5Ugmj.jpg?s=128&g=1", "display_name": "Narek Mamikonyan", "link": "https://stackoverflow.com/users/967859/narek-mamikonyan"}, "reply_to_user": {"reputation": 20068, "user_id": 1426157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/65d40c9749feaf1208c16337f19c0947?s=128&d=identicon&r=PG&f=1", "display_name": "iJade", "link": "https://stackoverflow.com/users/1426157/ijade"}, "edited": false, "score": 0, "creation_date": 1421301301, "post_id": 27950593, "comment_id": 44309341, "body": "Did you enable CORS also in your server ?"}, {"owner": {"reputation": 20068, "user_id": 1426157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/65d40c9749feaf1208c16337f19c0947?s=128&d=identicon&r=PG&f=1", "display_name": "iJade", "link": "https://stackoverflow.com/users/1426157/ijade"}, "edited": false, "score": 0, "creation_date": 1421301399, "post_id": 27950593, "comment_id": 44309359, "body": "I&#39;m not really sure ..is there any way to test if CORS is enabled in web server. Is testing web service using POSTMAN let&#39;s us know if CORS is enabled ..... do know any way to test if CORS is enabled ??"}], "tags": [], "owner": {"reputation": 4531, "user_id": 967859, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5Ugmj.jpg?s=128&g=1", "display_name": "Narek Mamikonyan", "link": "https://stackoverflow.com/users/967859/narek-mamikonyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1421301748, "last_edit_date": 1421301748, "creation_date": 1421262435, "answer_id": 27950593, "question_id": 27950344, "link": "https://stackoverflow.com/questions/27950344/python-eve-no-access-control-allow-origin-header-is-present-on-the-requested/27950593#27950593", "title": "Python Eve : No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource", "body": "<p>Also you need to turn on CORS on your AngularJS app </p>\n\n<pre><code>var myApp = angular.module('myApp', [\n    'myAppApiService']);\n\nmyApp.config(['$httpProvider', function($httpProvider) {\n        $httpProvider.defaults.useXDomain = true;\n        delete $httpProvider.defaults.headers.common['X-Requested-With'];\n    }\n]);\n</code></pre>\n\n<p>A server supporting CORS must respond to requests with several access control headers:</p>\n\n<pre><code>Access-Control-Allow-Origin: \"*\"\n</code></pre>\n\n<p>By default, CORS requests are not made with cookies. If the server includes this header, then we can send cookies along with our request by setting the withCredentials option to true.</p>\n\n<pre><code>Access-Control-Allow-Credentials (optional)\n</code></pre>\n\n<p>If we set the withCredentials option in our request to true, but the server does not respond with this header, then the request will fail and vice versa.</p>\n"}, {"comments": [{"owner": {"reputation": 20068, "user_id": 1426157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/65d40c9749feaf1208c16337f19c0947?s=128&d=identicon&r=PG&f=1", "display_name": "iJade", "link": "https://stackoverflow.com/users/1426157/ijade"}, "edited": false, "score": 0, "creation_date": 1421299917, "post_id": 27951306, "comment_id": 44309032, "body": "Hey , I just tried calling the Eve API using POSTMAN and found that the response header doesn&#39;t return <code>Access-Control-Allow-Origin: *</code>. So, I think the <code>X_DOMAIN</code> isn&#39;t working. Any thoughts on this one ??"}], "tags": [], "owner": {"reputation": 6351, "user_id": 323269, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3550767c858c787c35c280047ff789c?s=128&d=identicon&r=PG", "display_name": "Nicola Iarocci", "link": "https://stackoverflow.com/users/323269/nicola-iarocci"}, "is_accepted": false, "score": 2, "last_activity_date": 1421311626, "last_edit_date": 1421311626, "creation_date": 1421265334, "answer_id": 27951306, "question_id": 27950344, "link": "https://stackoverflow.com/questions/27950344/python-eve-no-access-control-allow-origin-header-is-present-on-the-requested/27951306#27951306", "title": "Python Eve : No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource", "body": "<p>Eve will trigger a CORS response only if</p>\n\n<ul>\n<li>the request includes a <code>Origin</code> header</li>\n<li><code>X_DOMAIN</code> is set in your configuration file (<code>settings.py</code>)</li>\n</ul>\n\n<p>Since latter condition seems satisfied already, I would make sure that the request is a proper CORS request and it includes an <code>Origin</code> header.</p>\n\n<p><strong>UPDATE after reading the comment below</strong>\nI think that Postman restricts the Origin header. Try with curl instead: </p>\n\n<pre><code>curl -H \"Origin: http://example.com\" --verbose http://localhost:5000\n</code></pre>\n\n<p>With <code>X_DOMAIN</code> set to <code>*</code> that request should return something like so:</p>\n\n<pre><code>&lt; HTTP/1.0 200 OK\n&lt; Content-Type: application/json\n&lt; Content-Length: 141\n&lt; Access-Control-Allow-Origin: http://example.com\n&lt; Vary: Origin\n&lt; Access-Control-Allow-Headers:\n&lt; Access-Control-Expose-Headers:\n&lt; Access-Control-Allow-Methods: HEAD, OPTIONS, GET\n&lt; Access-Control-Allow-Max-Age: 21600\n&lt; Server: Eve/0.5 Werkzeug/0.9.6 Python/2.7.8\n&lt; Date: Thu, 15 Jan 2015 08:41:08 GMT\n</code></pre>\n\n<p>If this works then the server is serving CORS request properly. You can then fiddle with <code>X_HEADERS</code> and other CORS server-side settings as you need.</p>\n"}, {"comments": [{"owner": {"reputation": 554, "user_id": 2012113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DYEoI.jpg?s=128&g=1", "display_name": "Andrew Clavin", "link": "https://stackoverflow.com/users/2012113/andrew-clavin"}, "edited": false, "score": 1, "creation_date": 1469124719, "post_id": 32057565, "comment_id": 64420353, "body": "Was having same problem, this helped, used <a href=\"http://flask.pocoo.org/snippets/56/\" rel=\"nofollow noreferrer\">flask.pocoo.org/snippets/56</a> for writing a decorator, had to switch basestring to str for python 3 in the decorator script."}, {"owner": {"reputation": 1164, "user_id": 496456, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/274219a82e601812d832a810b83cf8c2?s=128&d=identicon&r=PG", "display_name": "uglycoyote", "link": "https://stackoverflow.com/users/496456/uglycoyote"}, "reply_to_user": {"reputation": 554, "user_id": 2012113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DYEoI.jpg?s=128&g=1", "display_name": "Andrew Clavin", "link": "https://stackoverflow.com/users/2012113/andrew-clavin"}, "edited": false, "score": 0, "creation_date": 1511901910, "post_id": 32057565, "comment_id": 82038310, "body": "This sounds useful to me, but the answer is not detailed enough for me to understand what to do with it.  What does &quot;write your own decorator&quot; mean? The snippet pointed to by @AndrewClavin seems to provide a decorator, but what does the decorator decorate?  How do you make it work?  Thanks."}], "tags": [], "owner": {"reputation": 88, "user_id": 1041889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda1508efd93f13abd360dbefd7dd102?s=128&d=identicon&r=PG", "display_name": "user1041889", "link": "https://stackoverflow.com/users/1041889/user1041889"}, "is_accepted": false, "score": 4, "last_activity_date": 1439837280, "creation_date": 1439837280, "answer_id": 32057565, "question_id": 27950344, "link": "https://stackoverflow.com/questions/27950344/python-eve-no-access-control-allow-origin-header-is-present-on-the-requested/32057565#32057565", "title": "Python Eve : No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource", "body": "<p>FWIW, I had similar problem.</p>\n\n<p>Then I learned that only schema defined APIs will get the effect of X_DOMAINS header. The api if any you define on your own using something like <code>app = Eve(settings=blah)</code> and the <code>@app.route()</code> will not be affected by the X_DOMAINS header. So, in that case, you need to write your own decorator. </p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2469450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a0f3b896bc483c9fbb9a13d9c29ed52?s=128&d=identicon&r=PG", "display_name": "jemiaymen", "link": "https://stackoverflow.com/users/2469450/jemiaymen"}, "is_accepted": false, "score": 2, "last_activity_date": 1475229007, "last_edit_date": 1475229007, "creation_date": 1475227151, "answer_id": 39787993, "question_id": 27950344, "link": "https://stackoverflow.com/questions/27950344/python-eve-no-access-control-allow-origin-header-is-present-on-the-requested/39787993#39787993", "title": "Python Eve : No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource", "body": "<p>You must config eve as.</p>\n\n<pre><code>X_DOMAINS = '*'\nX_HEADERS = ['Authorization','Content-type']\nand angular as \n$http.defaults.headers.common['Authorization'] = 'Basic ' + auth;\n</code></pre>\n\n<p>That's work for me.</p>\n"}, {"tags": [], "owner": {"reputation": 1164, "user_id": 496456, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/274219a82e601812d832a810b83cf8c2?s=128&d=identicon&r=PG", "display_name": "uglycoyote", "link": "https://stackoverflow.com/users/496456/uglycoyote"}, "is_accepted": false, "score": 0, "last_activity_date": 1511913042, "creation_date": 1511913042, "answer_id": 47542875, "question_id": 27950344, "link": "https://stackoverflow.com/questions/27950344/python-eve-no-access-control-allow-origin-header-is-present-on-the-requested/47542875#47542875", "title": "Python Eve : No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource", "body": "<p>I was able to get past my issues by using <code>pip install flask-cors</code> and then editing my eve application to use it:</p>\n\n<pre><code>from flask.ext.cors import CORS\napp = Eve()\nCORS(app)\n</code></pre>\n"}], "owner": {"reputation": 20068, "user_id": 1426157, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/65d40c9749feaf1208c16337f19c0947?s=128&d=identicon&r=PG&f=1", "display_name": "iJade", "link": "https://stackoverflow.com/users/1426157/ijade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4744, "favorite_count": 0, "answer_count": 5, "score": 3, "last_activity_date": 1511913042, "creation_date": 1421261490, "last_edit_date": 1421266688, "question_id": 27950344, "link": "https://stackoverflow.com/questions/27950344/python-eve-no-access-control-allow-origin-header-is-present-on-the-requested", "title": "Python Eve : No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource", "body": "<p>I have written an API using Python EVE framework. While trying to access the API from an AngularJS app it shows an error as shown below :</p>\n\n<pre><code>XMLHttpRequest cannot load http://127.0.0.1:5000/user/jay3dec. Request header field Authorization is not allowed by Access-Control-Allow-Headers. \n</code></pre>\n\n<p>In order to correct the above error I added the following to the settings.py </p>\n\n<pre><code>X_DOMAINS = '*'\nX_HEADERS = 'Authorization'\n</code></pre>\n\n<p>Now the above error disappears and a new error shows in the console :</p>\n\n<pre><code>XMLHttpRequest cannot load http://127.0.0.1:5000/user/jay3dec. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:8000' is therefore not allowed access. \n</code></pre>\n\n<p>But I have already added the <code>X_DOMAINS = '*'</code> in my settings.py .</p>\n\n<p>Here is the angularjs code:</p>\n\n<pre><code>    $scope.validate = function() {\n\n    var encodedUserNameAndPassword = Base64.encode($scope.username + ':' + $scope.password);\n\n    $http.defaults.headers.put = {\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\n        'Access-Control-Allow-Headers': '*'\n    };\n    $http.defaults.headers.common['Authorization'] = 'Basic ' + encodedUserNameAndPassword;\n\n    $http({\n        method: 'GET',\n        url: 'http://127.0.0.1:5000/user/jay3dec'\n    }).\n    success(function(data, status, headers, config) {\n        console.log(data);\n    }).\n    error(function(data, status, headers, config) {\n        alert(data);\n\n    });\n}\n</code></pre>\n\n<p>Can any spot what may be the issue</p>\n"}, {"tags": ["python", "segmentation-fault", "gtk3", "pygobject"], "comments": [{"owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "edited": false, "score": 3, "creation_date": 1421261615, "post_id": 27950296, "comment_id": 44295718, "body": "In a nutshell, you can&#39;t handle a segfault using Python exception machinery. The clean solution would be to get to the bottom of the crash and fix it."}, {"owner": {"reputation": 2331, "user_id": 3672754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/XX1DD.jpg?s=128&g=1", "display_name": "rsm", "link": "https://stackoverflow.com/users/3672754/rsm"}, "reply_to_user": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "edited": false, "score": 0, "creation_date": 1421262411, "post_id": 27950296, "comment_id": 44296166, "body": "@NPE that&#39;s what I was afraid of :s, currently I don&#39;t have the skills to fix the problem :/"}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1428558987, "post_id": 27950296, "comment_id": 47215050, "body": "You should have the skills to write a bug report though!"}], "answers": [{"tags": [], "owner": {"reputation": 5214, "user_id": 439494, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7aa99d0eed60260a2937e56cf9560138?s=128&d=identicon&r=PG", "display_name": "Havok", "link": "https://stackoverflow.com/users/439494/havok"}, "is_accepted": true, "score": 6, "last_activity_date": 1421283538, "last_edit_date": 1495541312, "creation_date": 1421283092, "answer_id": 27955155, "question_id": 27950296, "link": "https://stackoverflow.com/questions/27950296/using-try-to-avoiding-a-segmentation-fault/27955155#27955155", "title": "using &quot;try&quot; to avoiding a segmentation fault", "body": "<p>Sorry, you can't handle it. A segfault is caused by memory corruption, reading or writing beyond boundaries of owned memory, double frees, and a few other. </p>\n\n<p>You can found a few examples of issues that cause a segfault here:</p>\n\n<p><a href=\"https://gist.github.com/carlos-jenkins/8873932\" rel=\"noreferrer\">https://gist.github.com/carlos-jenkins/8873932</a></p>\n\n<p>The operating system will kill the offending program, you can't do much about it. Your only solution is to correct the root problem. </p>\n\n<p>You can run a program using the tool Valgrind, it will allow you to find exactly where the problem is:</p>\n\n<p><a href=\"http://valgrind.org/\" rel=\"noreferrer\">http://valgrind.org/</a></p>\n\n<p>On Ubuntu, just <code>sudo apt-get install valgrind</code> and then <code>valgrind &lt;program cmd&gt;</code> will launch the program. This offcourse will be a lot slower, but will identify the problem most of the time.</p>\n\n<p>Side note: Technically you can catch a SIGSEV signal by registering a callback for this signal. But you shouldn't. See this answer for more information:</p>\n\n<p><a href=\"https://stackoverflow.com/a/10203062/439494\">https://stackoverflow.com/a/10203062/439494</a></p>\n"}, {"comments": [{"owner": {"reputation": 1278, "user_id": 4625475, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T04Mw.jpg?s=128&g=1", "display_name": "Matteo Ferla", "link": "https://stackoverflow.com/users/4625475/matteo-ferla"}, "edited": false, "score": 1, "creation_date": 1578653551, "post_id": 59027583, "comment_id": 105517729, "body": "The top answer states this is generally dangerous and I wanted to expand on that (for any reader). The signal is caught in the main thread, so if there are multiple treads or cores, the code will likely just hang awaiting offending thread and finding the culprit is not trivial as it may have involved memory leakage etc. so fixing the source is better. NB. catching SIGINT (someone asked it to die) this way is totally fine."}], "tags": [], "owner": {"reputation": 393, "user_id": 3758879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VGKCZ.jpg?s=128&g=1", "display_name": "where23", "link": "https://stackoverflow.com/users/3758879/where23"}, "is_accepted": false, "score": 2, "last_activity_date": 1574669946, "creation_date": 1574669946, "answer_id": 59027583, "question_id": 27950296, "link": "https://stackoverflow.com/questions/27950296/using-try-to-avoiding-a-segmentation-fault/59027583#59027583", "title": "using &quot;try&quot; to avoiding a segmentation fault", "body": "<p>You can handle the signal <code>SIGSEGV</code> with the function you specified, as following</p>\n\n<pre><code>from signal import signal, SIGSEGV\ndef handler( sigNum, frame ):\n  print( \"handle signal\", sigNum )\nsignal(SIGSEGV, handler)\n</code></pre>\n"}], "owner": {"reputation": 2331, "user_id": 3672754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/XX1DD.jpg?s=128&g=1", "display_name": "rsm", "link": "https://stackoverflow.com/users/3672754/rsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5299, "favorite_count": 1, "accepted_answer_id": 27955155, "answer_count": 2, "score": 4, "last_activity_date": 1574669946, "creation_date": 1421261341, "last_edit_date": 1548188839, "question_id": 27950296, "link": "https://stackoverflow.com/questions/27950296/using-try-to-avoiding-a-segmentation-fault", "title": "using &quot;try&quot; to avoiding a segmentation fault", "body": "<p>Recently in one of my programs I got a segmentation fault problem. I managed to find the line that its is causing the problem but I haven't find the way of fixing it.</p>\n\n<p>the line:</p>\n\n<pre><code>self.window_player.add(self.vlc)\n</code></pre>\n\n<p>where <code>self.vlc</code> is a widget and <code>self.window_player</code> is an empty <code>Gtk.Window()</code> created in glade.</p>\n\n<p>The line is at the <code>__init__</code> of my program, so actually this problem only happen when launching the program. The weird fact is that <strong>the error only appears like 1 of 10 times</strong> (of launching the program)</p>\n\n<p>the error:\n<code>Segmentation fault</code> is the only output that I get from the terminal</p>\n\n<p>So I tried:</p>\n\n<pre><code>while True:\n    try:\n        self.window_player.add(self.vlc)\n        break\n    except:\n        print \"segmentation\"\n</code></pre>\n\n<p>The problem is that the segmentation fault don't seems to be excepted by the <code>try</code>!</p>\n"}, {"tags": ["python", "matlab", "numeric"], "comments": [{"owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "edited": false, "score": 0, "creation_date": 1421264667, "post_id": 27950143, "comment_id": 44297371, "body": "Are you solving this symbolically or using numerical methods?  This might be more suited for math.stackexchange.com"}, {"owner": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "reply_to_user": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "edited": false, "score": 0, "creation_date": 1421265837, "post_id": 27950143, "comment_id": 44298032, "body": "I&#39;m solving symbolic. In math.stackexchange I have no reputation points, so I can&#39;t comment my questions and everything is way more difficult."}, {"owner": {"reputation": 8354, "user_id": 2917957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06c73ad68d6b98c2e2529d69ab0402bc?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/2917957/david"}, "edited": false, "score": 0, "creation_date": 1421271150, "post_id": 27950143, "comment_id": 44300746, "body": "Just use <code>ode45</code> and solve numerically, the accuracy should be perfectly fine, since you have numbers for your variables."}, {"owner": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "edited": false, "score": 0, "creation_date": 1421275591, "post_id": 27950143, "comment_id": 44302785, "body": "ode45 looks just like what I need from the docs. I don&#39;t understand the initial conditions vector, what does it mean?"}, {"owner": {"reputation": 8181, "user_id": 3121310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bEYC2.jpg?s=128&g=1", "display_name": "TroyHaskin", "link": "https://stackoverflow.com/users/3121310/troyhaskin"}, "edited": false, "score": 0, "creation_date": 1421285576, "post_id": 27950143, "comment_id": 44305895, "body": "<code>ode45</code> is ill-suited to solve this equation since beam problems are boundary value problems with at least one piece of data at both ends.  <code>bvp4c</code> or <code>bvp5c</code> are the correct utilities."}], "answers": [{"comments": [{"owner": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "edited": false, "score": 0, "creation_date": 1421275225, "post_id": 27953504, "comment_id": 44302635, "body": "I was solving symbolic because sympy was the only thing I knew, wanted numeric, but now I think I want your answer. How do I make sympy draw stuff like yours? mine draw things way more difficult to read."}, {"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "reply_to_user": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "edited": false, "score": 1, "creation_date": 1421275399, "post_id": 27953504, "comment_id": 44302714, "body": "You mean the pretty unicode? If your terminal supports it, enable it with <a href=\"http://docs.sympy.org/latest/tutorial/printing.html\" rel=\"nofollow noreferrer\"><code>pretty_printing()</code></a>"}], "tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": true, "score": 3, "last_activity_date": 1421273931, "creation_date": 1421273931, "answer_id": 27953504, "question_id": 27950143, "link": "https://stackoverflow.com/questions/27950143/numeric-solve-transcendental-equation-in-python-or-matlab/27953504#27953504", "title": "Numeric solve transcendental equation in python or Matlab", "body": "<p>If you wanted to solve it symbolically, you could, with e.g. <a href=\"http://docs.sympy.org/\" rel=\"nofollow\">sympy</a>:</p>\n\n<pre><code>from __future__ import division\nfrom sympy import *\nx = symbols('x')\nw = symbols('w', cls=Function)\na,b,E,J =  symbols('a b E J')\nequ = E*J*diff(w(x),x,4) - a*x -b - w(x)\ndsolve(equ, w(x))\n# This generates a function that is too generic and too big to copy-paste\n# Let's make some assumptions\nJ = Symbol('J', real=True, positive=True)\nE = Symbol('E', real=True, positive=True)\nequ = E*J*diff(w(x),x,4) - a*x -b - w(x)\ndsolve(equ, w(x))\n</code></pre>\n\n<p>which results in:</p>\n\n<pre><code>               -x                 x                                                           \n           \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500       \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500                                                      \n           4 ___ 4 ___       4 ___ 4 ___                                                      \n           \u2572\u2571 E \u22c5\u2572\u2571 J        \u2572\u2571 E \u22c5\u2572\u2571 J          \u239b     x     \u239e         \u239b     x     \u239e          \nw(x) = C\u2081\u22c5\u212f            + C\u2082\u22c5\u212f            + C\u2083\u22c5sin\u239c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u239f + C\u2084\u22c5cos\u239c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u239f - a\u22c5x - b\n                                                 \u239c4 ___ 4 ___\u239f         \u239c4 ___ 4 ___\u239f          \n                                                 \u239d\u2572\u2571 E \u22c5\u2572\u2571 J \u23a0         \u239d\u2572\u2571 E \u22c5\u2572\u2571 J \u23a0          \n</code></pre>\n\n<p>Which you could probably even simplify further, given extra information about your boundary conditions. You'll need them in any case, because you still have 4 unknown coefficients.</p>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 3850072, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/58c2344927b9ea9c73cf92ba3dafdad3?s=128&d=identicon&r=PG&f=1", "display_name": "FliegenderZirkus", "link": "https://stackoverflow.com/users/3850072/fliegenderzirkus"}, "is_accepted": false, "score": 0, "last_activity_date": 1421274835, "creation_date": 1421274835, "answer_id": 27953701, "question_id": 27950143, "link": "https://stackoverflow.com/questions/27950143/numeric-solve-transcendental-equation-in-python-or-matlab/27953701#27953701", "title": "Numeric solve transcendental equation in python or Matlab", "body": "<p>Let me add a solution using the Symbolic toolbox in Matlab:</p>\n\n<pre><code>syms q x w(x) a b E I\nq = a*x+b+w(x);\nsol = dsolve(E*I*diff(diff(diff(diff(w)))) == q)\nsol_part = subs(sol,[E I],[2e5 100]) % etc.\n</code></pre>\n\n<p>You can add the boundary conditions as separate equations to the <code>dsolve</code> command, thus forming a system of equations.</p>\n"}], "owner": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1091, "favorite_count": 0, "accepted_answer_id": 27953504, "answer_count": 2, "score": 1, "last_activity_date": 1502486027, "creation_date": 1421260825, "last_edit_date": 1421260884, "question_id": 27950143, "link": "https://stackoverflow.com/questions/27950143/numeric-solve-transcendental-equation-in-python-or-matlab", "title": "Numeric solve transcendental equation in python or Matlab", "body": "<p>I have a Euler-Bernoulli equation I'm trying to solve where:</p>\n\n<pre><code>q(x) = a*x + b + w(x)\n</code></pre>\n\n<p>Euler-Bernoulli equation:</p>\n\n<pre><code>E * I * diff(w(x), x, x, x, x) = q(x) \n</code></pre>\n\n<p>I don't really know if this is Transcendental, but I have E, I, a, b and know my integration limits too (0 to H). I have numbers for E, I, a, b and H.</p>\n\n<p>How can I obtain points of w(x),x varying x from 0 to H? </p>\n"}, {"tags": ["python", "arrays", "slice"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4454711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922a49dfd53b942bdffecafcbaad958a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike D", "link": "https://stackoverflow.com/users/4454711/mike-d"}, "edited": false, "score": 0, "creation_date": 1421264406, "post_id": 27950816, "comment_id": 44297223, "body": "Thanks... this is good stuff. The &quot;find&quot; is part of the numpy package and is similar to the Matlab find.... it returns the indices where the selected constraint is true. This is one of those times where the transition from Matlab to Python is not straight forward. So following your example to a larger array....     &gt;&gt;&gt;&gt;lon = np.arange(10) &gt;&gt;&gt; lat = np.linspace(40,50,17) &gt;&gt;&gt; quant = np.random.random((len(lon),len(lat)))"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "reply_to_user": {"reputation": 21, "user_id": 4454711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922a49dfd53b942bdffecafcbaad958a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike D", "link": "https://stackoverflow.com/users/4454711/mike-d"}, "edited": false, "score": 0, "creation_date": 1421266516, "post_id": 27950816, "comment_id": 44298348, "body": "Do you mean <code>np.where</code>?"}], "tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": false, "score": 2, "last_activity_date": 1421263386, "creation_date": 1421263386, "answer_id": 27950816, "question_id": 27950129, "link": "https://stackoverflow.com/questions/27950129/python-2-d-array-slicing-valueerror-operands-could-not-be-broadcast-togethe/27950816#27950816", "title": "Python + 2-D array slicing + valueerror: operands could not be broadcast together", "body": "<p>I don't know what your <code>find</code> function does, but you can use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.ix_.html\" rel=\"nofollow\"><code>np.ix_</code></a>.  First let's make some dummy data:</p>\n\n<pre><code>&gt;&gt;&gt; lon = np.arange(10)\n&gt;&gt;&gt; lat = np.linspace(40,50,17)\n&gt;&gt;&gt; quant = np.random.random((len(lon),len(lat)))\n&gt;&gt;&gt; ii = (lon &gt;= 2) &amp; (lon &lt; 5)\n&gt;&gt;&gt; jj = (lat &gt;= 42) &amp; (lat &lt;= 44)\n</code></pre>\n\n<p>which gives me (for this data)</p>\n\n<pre><code>&gt;&gt;&gt; ii\narray([False, False,  True,  True,  True, False, False, False, False, False], dtype=bool)\n&gt;&gt;&gt; jj\narray([False, False, False, False,  True,  True,  True, False, False,\n       False, False, False, False, False, False, False, False], dtype=bool)\n</code></pre>\n\n<p>When we feed this into <code>np.ix_</code>, we get something we can use to index:</p>\n\n<pre><code>&gt;&gt;&gt; np.ix_(ii,jj)\n(array([[2],\n       [3],\n       [4]]), array([[4, 5, 6]]))\n</code></pre>\n\n<p>and so</p>\n\n<pre><code>&gt;&gt;&gt; quant[np.ix_(ii,jj)]\narray([[ 0.51567424,  0.84138194,  0.6267137 ],\n       [ 0.1865154 ,  0.7785198 ,  0.16720573],\n       [ 0.80563691,  0.82990892,  0.28402503]])\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4454711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922a49dfd53b942bdffecafcbaad958a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike D", "link": "https://stackoverflow.com/users/4454711/mike-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421263386, "creation_date": 1421260757, "last_edit_date": 1421260997, "question_id": 27950129, "link": "https://stackoverflow.com/questions/27950129/python-2-d-array-slicing-valueerror-operands-could-not-be-broadcast-togethe", "title": "Python + 2-D array slicing + valueerror: operands could not be broadcast together", "body": "<p>This has been kicking my butt for a bit....</p>\n\n<p>I have the following information:</p>\n\n<pre><code> 1. a 1-D array of longitudes\n 2. a 1-D array of latitudues\n 3. a 2-D array of some quantity (sized len(lat),len(long))\n</code></pre>\n\n<p>What I want to do is get a subset of the array based on a range of latitudes and longitudes</p>\n\n<p>I've tried something like this</p>\n\n<pre><code>ii = find( (lon &gt;= xlims[0]) &amp; (lon &lt;= xlims[1]) )\njj = find( (lat &gt;= ylims[0]) &amp; (lat &lt;= ylims[1]) )\nz=array[jj, ii]\n\nValueError: shape mismatch: objects cannot be broadcast to a single shape\n\nI have tried this using a boolean approach\n\nii = ( (lon &gt;= xlims[0]) &amp; (lon &lt;= xlims[1]) )\njj = ( (lat &gt;= ylims[0]) &amp; (lat &lt;= ylims[1]) )\n</code></pre>\n\n<p>but get the same error. </p>\n\n<p>There is probably something subtle here I am missing... any thoughts?</p>\n"}, {"tags": ["python", "perl", "batch-file", "scripting"], "comments": [{"owner": {"reputation": 59189, "user_id": 778560, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52ebdc4690fff7b07d3644c4cb7b255a?s=128&d=identicon&r=PG", "display_name": "Aacini", "link": "https://stackoverflow.com/users/778560/aacini"}, "edited": false, "score": 1, "creation_date": 1421523705, "post_id": 27950092, "comment_id": 44395699, "body": "@Community: Why the downvotes on this question? If you downvote it, at least explain your reasons in a comment... :("}, {"owner": {"reputation": 441, "user_id": 943571, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vmckI.jpg?s=128&g=1", "display_name": "Jiraheta", "link": "https://stackoverflow.com/users/943571/jiraheta"}, "reply_to_user": {"reputation": 59189, "user_id": 778560, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52ebdc4690fff7b07d3644c4cb7b255a?s=128&d=identicon&r=PG", "display_name": "Aacini", "link": "https://stackoverflow.com/users/778560/aacini"}, "edited": false, "score": 0, "creation_date": 1422640901, "post_id": 27950092, "comment_id": 44844659, "body": "I was thinking the same thing..."}], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 2665510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206d5329545626249295c231282fe994?s=128&d=identicon&r=PG", "display_name": "wilkesybear", "link": "https://stackoverflow.com/users/2665510/wilkesybear"}, "is_accepted": false, "score": 2, "last_activity_date": 1421262001, "creation_date": 1421262001, "answer_id": 27950474, "question_id": 27950092, "link": "https://stackoverflow.com/questions/27950092/how-to-extract-multiple-text-on-a-text-file-with-a-scripting-language/27950474#27950474", "title": "How to extract multiple text on a text file with a scripting language", "body": "<p>I would use <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow\">regular expressions</a> to do this:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport re\n\nwith open('batch01.txt') as infile, open('result.txt', 'w') as outfile:\n    for line in infile:\n        m = re.search('(EDID description|- Current video timing): (.*)', line)\n        if m is not None:\n            outfile.write(m.group(2) + '\\n') \n</code></pre>\n\n<p>This will print out</p>\n\n<pre><code>1280x720p 60Hz\nE01A0A8A.xml\n1280x720p 60Hz\nE01A0C88.xml\n1280x720p 60Hz\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4692, "user_id": 4289293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d437940933d37d70f44e4091659c39?s=128&d=identicon&r=PG&f=1", "display_name": "rchang", "link": "https://stackoverflow.com/users/4289293/rchang"}, "is_accepted": false, "score": 1, "last_activity_date": 1421262353, "last_edit_date": 1421262353, "creation_date": 1421262043, "answer_id": 27950491, "question_id": 27950092, "link": "https://stackoverflow.com/questions/27950092/how-to-extract-multiple-text-on-a-text-file-with-a-scripting-language/27950491#27950491", "title": "How to extract multiple text on a text file with a scripting language", "body": "<p>It seems you actually need to be checking whether a given line starts with certain substrings, rather than a full exact comparison (which is what the <code>==</code> operator gives you).  Instead, your <code>for</code> loop should use the <code>startswith</code> method to look at the beginning of the line and look closer to this:</p>\n\n<pre><code>for line in infile:\n    if line.strip().startswith(\"EDID description:\"):\n        copy = True\n    elif line.strip().startswith(\"Report complete.on:\"):  # Based on your data, it seems like you need to check for these as well - maybe not?\n        copy = True\n    elif line.strip().startswith(\"- Current video timing\"):\n        copy = True\n    else:\n        copy = False\n    if copy:\n        outfile.write(line)\n</code></pre>\n\n<p>But the loop can be streamlined significantly:</p>\n\n<pre><code>prefixes = [\n \"EDID description:\", \"Report complete.on:\", \"- Current video timing\"\n]\nfor line in infile:\n    for prefix in prefixes:\n        if line.strip().startswith(prefix):\n            outfile.write(line)\n            break\n</code></pre>\n\n<p>This eliminates the multi-branched <code>if</code>/<code>elif</code> structure as well as the boolean <code>copy</code> flag.</p>\n\n<p>With your sample input data, I got this in the result file:</p>\n\n<pre><code>Report complete.on: E01A040E.xml\n- Current video timing: 1280x720p 60Hz\nEDID description: E01A0A8A.xml\n- Current video timing: 1280x720p 60Hz\nEDID description: E01A0C88.xml\n- Current video timing: 1280x720p 60Hz\n</code></pre>\n\n<p>Again, I'm not sure whether you wanted that \"Report complete.on\" line or not, but it looked to me like you do.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3587345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bdd44f6c8b873368634ab238f312e8b?s=128&d=identicon&r=PG&f=1", "display_name": "user3587345", "link": "https://stackoverflow.com/users/3587345/user3587345"}, "is_accepted": false, "score": 1, "last_activity_date": 1421262174, "creation_date": 1421262174, "answer_id": 27950529, "question_id": 27950092, "link": "https://stackoverflow.com/questions/27950092/how-to-extract-multiple-text-on-a-text-file-with-a-scripting-language/27950529#27950529", "title": "How to extract multiple text on a text file with a scripting language", "body": "<p>Without actually running this I see three issues that you need to resolve.</p>\n\n<ol>\n<li>Your equality conditions in the if/elif control structure will never be true.</li>\n<li>Assume for a moment that what I described in number 1 is true; the final elif will not actually be reached because once either of the preceeding expressions evaluates as true, the rest of the if/elif short-circuits and doesn't check for additional conditions.</li>\n<li>You need to \"reset\" copy = False before the next iteration of your for loop otherwise copy will remain true for everything after the first time copy = True is set.</li>\n</ol>\n\n<p>Suggested fixes:</p>\n\n<ol>\n<li>Use something like 'line.strip().find('EDID description:')' to determine if the line <strong>contains</strong> the string you are looking for.  Again,  you need to determine if the substring is <strong>in</strong> the line, <strong>not equal to the line.</strong></li>\n<li>You need to move your copy operation outside of the if/elif structure.  That is, instead of making it part of the same if/elif structure, create a separate 'if copy:' structure after the current one to output the line if the line was found.</li>\n<li>After you output the line, set copy=False so that the next iteration of the for loop is initialized properly.  Otherwise you'll have every line after the first match print.</li>\n</ol>\n\n<p>Something like this:  (I have not actually tested this...)</p>\n\n<pre><code>#!/usr/bin/env python\n\ninFile = open(\"batch01.txt\")\noutFile = open(\"result.txt\", \"w\")\n\nwith open('batch01.txt') as infile, open('result.txt', 'w') as outfile:\n    copy = False\n    for line in infile:\n        # use the find to see if the line CONTAINS the string you are looking for\n        if line.strip().find(\"EDID description:\"):\n            copy = True\n        elif line.strip().find(\"- Current video timing\"):\n            copy = True\n\n        # make this a separate if\n        if copy:\n            outfile.write(line)\n\n        # reset this to False to it can be evaluated and set properly in the next iteration\n        copy = False\n\ninFile.close()\noutFile.close()\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 441, "user_id": 943571, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vmckI.jpg?s=128&g=1", "display_name": "Jiraheta", "link": "https://stackoverflow.com/users/943571/jiraheta"}, "edited": false, "score": 0, "creation_date": 1421350540, "post_id": 27951424, "comment_id": 44335744, "body": "this was exactly what I was looking to do. But didn&#39;t know if it would be possible to be done in a batch file. Would you mind explaining why of the &quot;tokens=3,5,6&quot; I am assuming that %%a %%b %%c correspond to the each tokens, is that correct? thank you so much."}, {"owner": {"reputation": 441, "user_id": 943571, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vmckI.jpg?s=128&g=1", "display_name": "Jiraheta", "link": "https://stackoverflow.com/users/943571/jiraheta"}, "edited": false, "score": 0, "creation_date": 1421352428, "post_id": 27951424, "comment_id": 44336739, "body": "quick question, let say that there is no Current video timing and instead for it to be blank. I would like for it to say No VSYNC detected. I played around with your code but haven&#39;t been able to achieve it at this point."}, {"owner": {"reputation": 59189, "user_id": 778560, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52ebdc4690fff7b07d3644c4cb7b255a?s=128&d=identicon&r=PG", "display_name": "Aacini", "link": "https://stackoverflow.com/users/778560/aacini"}, "reply_to_user": {"reputation": 441, "user_id": 943571, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vmckI.jpg?s=128&g=1", "display_name": "Jiraheta", "link": "https://stackoverflow.com/users/943571/jiraheta"}, "edited": false, "score": 0, "creation_date": 1421523374, "post_id": 27951424, "comment_id": 44395603, "body": "Exactly. Each letter correspond to the next token defined in <code>&quot;tokens=...</code> part. By default, the tokens in the input line are separated by spaces or tabs. See the edit in my answer and compare how I used the tokens now vs. the previous version."}], "tags": [], "owner": {"reputation": 59189, "user_id": 778560, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52ebdc4690fff7b07d3644c4cb7b255a?s=128&d=identicon&r=PG", "display_name": "Aacini", "link": "https://stackoverflow.com/users/778560/aacini"}, "is_accepted": true, "score": 1, "last_activity_date": 1421523087, "last_edit_date": 1421523087, "creation_date": 1421265712, "answer_id": 27951424, "question_id": 27950092, "link": "https://stackoverflow.com/questions/27950092/how-to-extract-multiple-text-on-a-text-file-with-a-scripting-language/27951424#27951424", "title": "How to extract multiple text on a text file with a scripting language", "body": "<p>Below there is a Batch-file .bat solution, that I think is simpler...</p>\n\n<p><strong>EDIT</strong>: <em>Program modifed as requested in comment</em></p>\n\n<pre><code>@echo off\n(for /F \"tokens=3-6\" %%a in ('findstr /L \".xml Current\" batch01.txt') do (\n   if \"%%b\" equ \"\" (\n      set /P \"=%%a - \" &lt; NUL\n   ) else (\n      if \"%%c\" equ \"\" (\n         echo No VSYNC detected\n      ) else (\n         echo Current video timing: %%c %%d\n      )\n   )\n)) &gt; result.txt\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>E01A040E.xml - Current video timing: 1280x720p 60Hz\nE01A0A8A.xml - Current video timing: 1280x720p 60Hz\nE01A0C88.xml - Current video timing: 1280x720p 60Hz\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 943571, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vmckI.jpg?s=128&g=1", "display_name": "Jiraheta", "link": "https://stackoverflow.com/users/943571/jiraheta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 27951424, "answer_count": 4, "score": -3, "last_activity_date": 1421523087, "creation_date": 1421260640, "question_id": 27950092, "link": "https://stackoverflow.com/questions/27950092/how-to-extract-multiple-text-on-a-text-file-with-a-scripting-language", "title": "How to extract multiple text on a text file with a scripting language", "body": "<p>Most likely this has been asked but I haven't been able to get a good sense of codes out there to achieve what I am after.</p>\n\n<p>I have a text file with 1000 entries like the following 3 consecutive entries. out of that text file I want to extract</p>\n\n<p><strong>number.xml</strong> and its corresponding <strong>Current video timing: 1280x720p 60Hz</strong>\nand spit it on a text file one by one. </p>\n\n<pre><code>Report complete.on: E01A040E.xml\nEDID raw data:\n---  00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F\n000  00 FF FF FF FF FF FF 00 4C 2D FC 08 00 00 00 00 \n010  29 15 01 03 80 10 09 78 0A EE 91 A3 54 4C 99 26 \n020  0F 50 54 BD EE 00 81 C0 01 01 01 01 01 01 01 01 \n030  01 01 01 01 01 01 66 21 56 AA 51 00 1E 30 46 8F \n040  33 00 A0 5A 00 00 00 1E 01 1D 00 72 51 D0 1E 20 \n050  6E 28 55 00 A0 5A 00 00 00 1E 00 00 00 FD 00 18 \n060  4B 0F 44 17 00 0A 20 20 20 20 20 20 00 00 00 FC \n070  00 53 41 4D 53 55 4E 47 0A 20 20 20 20 20 01 6D \n080  02 03 1F F1 47 84 05 03 10 20 22 07 23 09 07 07 \n090  83 01 00 00 E2 00 0F 67 03 0C 00 10 00 B8 2D 01 \n0A0  1D 80 18 71 1C 16 20 58 2C 25 00 A0 5A 00 00 00 \n0B0  9E 8C 0A D0 8A 20 E0 2D 10 10 3E 96 00 A0 5A 00 \n0C0  00 00 18 02 3A 80 18 71 38 2D 40 58 2C 45 00 A0 \n0D0  5A 00 00 00 1E 00 00 00 00 00 00 00 00 00 00 00 \n0E0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n0F0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 FD \n+5V: OK\nVideo information:\n- Current video timing: 1280x720p 60Hz\n- Incoming video matches CEA-861 VIC 4 and 69 exactly\n- HDMI video detected\n- Received AVI VIC 4\n- Color space: YCbCr 4:4:4 8 bpc\n# \nEDID description: E01A0A8A.xml\nEDID raw data:\n---  00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F\n000  00 FF FF FF FF FF FF 00 4C 2D FC 08 00 00 00 00 \n010  29 15 01 03 80 10 09 78 0A EE 91 A3 54 4C 99 26 \n020  0F 50 54 BD EE 00 81 C0 01 01 01 01 01 01 01 01 \n030  01 01 01 01 01 01 66 21 56 AA 51 00 1E 30 46 8F \n040  33 00 A0 5A 00 00 00 1E 01 1D 00 72 51 D0 1E 20 \n050  6E 28 55 00 A0 5A 00 00 00 1E 00 00 00 FD 00 18 \n060  4B 0F 44 17 00 0A 20 20 20 20 20 20 00 00 00 FC \n070  00 53 41 4D 53 55 4E 47 0A 20 20 20 20 20 01 6D \n080  02 03 1F F1 47 84 05 03 10 20 22 07 23 09 07 07 \n090  83 01 00 00 E2 00 0F 67 03 0C 00 10 00 B8 2D 01 \n0A0  1D 80 18 71 1C 16 20 58 2C 25 00 A0 5A 00 00 00 \n0B0  9E 8C 0A D0 8A 20 E0 2D 10 10 3E 96 00 A0 5A 00 \n0C0  00 00 18 02 3A 80 18 71 38 2D 40 58 2C 45 00 A0 \n0D0  5A 00 00 00 1E 00 00 00 00 00 00 00 00 00 00 00 \n0E0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n0F0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 FD \n+5V: OK\nVideo information:\n- Current video timing: 1280x720p 60Hz\n- Incoming video matches CEA-861 VIC 4 and 69 exactly\n- HDMI video detected\n- Received AVI VIC 4\n- Color space: YCbCr 4:4:4 8 bpc\n# \nEDID description: E01A0C88.xml\nEDID raw data:\n---  00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F\n000  00 FF FF FF FF FF FF 00 08 59 42 00 01 00 00 00 \n010  01 16 01 03 80 45 27 78 0A D0 DD A9 53 49 9D 23 \n020  11 47 4A A3 08 00 81 C0 81 00 81 0F 81 40 81 80 \n030  95 00 B3 00 01 01 52 35 80 80 70 38 1F 40 20 20 \n040  13 00 C4 8E 21 00 00 1E 46 20 00 A4 51 00 2A 30 \n050  50 80 37 00 20 46 21 00 00 1A 00 00 00 FC 00 4E \n060  53 2D 33 32 4C 32 34 30 41 31 33 0A 00 00 00 FD \n070  00 37 4C 1E 50 11 00 0A 20 20 20 20 20 20 01 23 \n080  02 03 20 73 48 05 04 03 02 01 06 07 90 26 09 07 \n090  07 15 07 50 83 01 00 00 67 03 0C 00 10 00 B8 2D \n0A0  01 1D 00 72 51 D0 1E 20 6E 28 55 00 C4 8E 21 00 \n0B0  00 1E 8C 0A D0 8A 20 E0 2D 10 10 3E 96 00 13 8E \n0C0  21 00 00 18 01 1D 80 18 71 1C 16 20 58 2C 25 00 \n0D0  C4 8E 21 00 00 9E 00 00 00 00 00 00 00 00 00 00 \n0E0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 \n0F0  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 53 \n+5V: OK\nVideo information:\n- Current video timing: 1280x720p 60Hz\n- Incoming video matches CEA-861 VIC 4 and 69 exactly\n- HDMI video detected\n- Received AVI VIC 4\n- Color space: YCbCr 4:4:4 8 bpc\n</code></pre>\n\n<p>this is the code I have so far but hasnt worked for me. This is done in python, but if it can be done any other scripting language. Just that I am not to used to doing scripting. Thanks a million to those that give a helping hand.</p>\n\n<pre><code>#!/usr/bin/env python\n\ninFile = open(\"batch01.txt\")\noutFile = open(\"result.txt\", \"w\")\n\nwith open('batch01.txt') as infile, open('result.txt', 'w') as outfile:\n    copy = False\n    for line in infile:\n        if line.strip() == \"EDID description:\":\n            copy = True\n        elif line.strip() == \"- Current video timing\":\n            copy = True\n        elif copy:\n            outfile.write(line)\n\ninFile.close()\noutFile.close()\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 1417, "user_id": 1597897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3soCY.jpg?s=128&g=1", "display_name": "Franko Leon Tokali\u0107", "link": "https://stackoverflow.com/users/1597897/franko-leon-tokali%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1421268929, "creation_date": 1421268929, "answer_id": 27952263, "question_id": 27950090, "link": "https://stackoverflow.com/questions/27950090/problems-with-a-bind-function-from-tkinter-in-python/27952263#27952263", "title": "Problems with a bind function from tkinter in Python", "body": "<p>I don't know what the actual problem was with my original code, but I kind of just bypassed it. I added a dictionary with button as a key and option as a value and I just used the <code>par_event.widget</code> to get the option and it's description, which is working fine:</p>\n\n<pre><code>buttonOption = {}\n\ndef onMouseEnter(par_event):\n    helpLabel.configure(text = buttonOption[par_event.widget].desc)\n    return\n\ndef onMouseLeave(par_event):\n    helpLabel.configure(text = '')\n    return\n\nclass GUIMode(Mode):\n    def run(self):\n        #...\n        for iOption in self.options:\n            iOption.button = Button(wrapper, text = iOption.name, bg = '#004A7F', fg = 'white')\n            iOption.button.bind('&lt;Enter&gt;', lambda par_event: onMouseEnter(par_event))\n            iOption.button.bind('&lt;Leave&gt;', lambda par_event: onMouseLeave(par_event))\n            buttonOption[iOption.button] = iOption\n        #...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1417, "user_id": 1597897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3soCY.jpg?s=128&g=1", "display_name": "Franko Leon Tokali\u0107", "link": "https://stackoverflow.com/users/1597897/franko-leon-tokali%c4%87"}, "edited": false, "score": 0, "creation_date": 1421279105, "post_id": 27954079, "comment_id": 44304069, "body": "I see, so instead of adding a new field to Option, I create a list of buttons, which I also add in the dictionary and keep the workaround from my answer? Or did I misunderstand"}, {"owner": {"reputation": 1417, "user_id": 1597897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3soCY.jpg?s=128&g=1", "display_name": "Franko Leon Tokali\u0107", "link": "https://stackoverflow.com/users/1597897/franko-leon-tokali%c4%87"}, "edited": false, "score": 0, "creation_date": 1421279180, "post_id": 27954079, "comment_id": 44304098, "body": "I also can&#39;t seem to grasp the idea of &quot;iOption is evaluated after the loops are complete&quot;. Shouldn&#39;t iOption be iterating over each value in self.options and thus being evaluated at the begginning?"}, {"owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "reply_to_user": {"reputation": 1417, "user_id": 1597897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3soCY.jpg?s=128&g=1", "display_name": "Franko Leon Tokali\u0107", "link": "https://stackoverflow.com/users/1597897/franko-leon-tokali%c4%87"}, "edited": false, "score": 0, "creation_date": 1421280896, "post_id": 27954079, "comment_id": 44304679, "body": "I added the section beginning &quot;I split out the\u2026&quot; in hopes of addressing your questions."}, {"owner": {"reputation": 1417, "user_id": 1597897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3soCY.jpg?s=128&g=1", "display_name": "Franko Leon Tokali\u0107", "link": "https://stackoverflow.com/users/1597897/franko-leon-tokali%c4%87"}, "edited": false, "score": 0, "creation_date": 1421281488, "post_id": 27954079, "comment_id": 44304850, "body": "Thanks, I think I understand now. Console has had no problems because it is pretty much completely decoupled, and I see now that I definitely should not add the button field to Option, because it would further couple the GUI view. So I should be keeping the buttons in the view, and I&#39;m pretty sure that I can use the dictionary part and current solution, it doesn&#39;t couple the model really, right?"}], "tags": [], "owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "is_accepted": true, "score": 1, "last_activity_date": 1421280789, "last_edit_date": 1421280789, "creation_date": 1421276558, "answer_id": 27954079, "question_id": 27950090, "link": "https://stackoverflow.com/questions/27950090/problems-with-a-bind-function-from-tkinter-in-python/27954079#27954079", "title": "Problems with a bind function from tkinter in Python", "body": "<p>The problem is that the value of iOption is evaluated after the </p>\n\n<pre><code>for iOption in self.option:\n</code></pre>\n\n<p>loops are complete. Since you reset iOption on each iteration, when the loop is completed iOption has the same value, namely the last element in self.options. You can demonstrate this at-event-time binding with the snippet:</p>\n\n<pre><code>    def debug_late_bind(event):\n        print(iOption)\n        onMouseEnter(event, iOption)\n\n    for iOption in self.options:\n        iOption.button = Button(wrapper, text = iOption.name,\n            bg = '#004A7F', fg = 'white')\n        iOption.button.bind('&lt;Enter&gt;', debug_late_bind)\n</code></pre>\n\n<p>which will show that all  events that iOption has the same value. </p>\n\n<p>I split out the use of iOption  to debug_late_bind to show that iOption comes in from the class scope and <strong>is not</strong> evaluated when the bind() call is executed. A more simple example would be</p>\n\n<pre><code>def print_i():\n     print(i)\n\nfor i in range(5):\n    pass\n\nprint_i()\n</code></pre>\n\n<p>which prints \"4\" because that is the last value that was assigned to i. This is why every call in your code to <code>onMouseEnter(par_event, iOption)</code> has the same value for iOption; it is evaluated at the time of the event, not the time of the bind. I suggest that you read up on <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow\">model view controller</a> and understand how you've tangled the view and the controller. The primary reason this has happened is that you've got two views (console and tk) which should be less coupled with the model. </p>\n\n<p>Extracting the .widget property of the event is a decent workaround, but better still would be to <em>not</em> overwrite the scalar iOption, but instead use list of individual buttons. The code </p>\n\n<pre><code>for n, iOption in enumerate(self.options):\n</code></pre>\n\n<p>would help in creating a list. In your proposed workaround, you are encoding too much of the iOption model in the tkinter view. That's bound to bite you again at some point. </p>\n"}], "owner": {"reputation": 1417, "user_id": 1597897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3soCY.jpg?s=128&g=1", "display_name": "Franko Leon Tokali\u0107", "link": "https://stackoverflow.com/users/1597897/franko-leon-tokali%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 27954079, "answer_count": 2, "score": 2, "last_activity_date": 1421280789, "creation_date": 1421260634, "question_id": 27950090, "link": "https://stackoverflow.com/questions/27950090/problems-with-a-bind-function-from-tkinter-in-python", "title": "Problems with a bind function from tkinter in Python", "body": "<p>I am working on an application that is supposed to support both running from a console and from a GUI. The application has several options to choose from, and since in both running modes the program is going to have the same options obviously, I made a generalisation:</p>\n\n<pre><code>class Option:\n    def __init__(self, par_name, par_desc):\n        self.name = par_name\n        self.desc = par_desc\n\nclass Mode():\n    def __init__(self):\n        self.options = []\n        self.options.append(Option('Option1', 'Desc1'))\n        self.options.append(Option('Option2', 'Desc2'))\n        self.options.append(Option('Option3', 'Desc3'))\n        self.options.append(Option('Option4', 'Desc4'))\n        self.options.append(Option('Option5', 'Desc5'))\n        #And so on\n</code></pre>\n\n<p>The problem is that in GUI, those options are going to be buttons, so I have to add a new field to an Option class and I'm doing it like this:</p>\n\n<pre><code>def onMouseEnter(par_event, par_option):\n    helpLabel.configure(text = par_option.desc)\n    return\n\ndef onMouseLeave(par_event):\n    helpLabel.configure(text = '')\n    return\n\nclass GUIMode(Mode):\n    #...\n    for iOption in self.options:\n        iOption.button = Button(wrapper, text = iOption.name, bg = '#004A7F', fg = 'white')\n        iOption.button.bind('&lt;Enter&gt;', lambda par_event: onMouseEnter(par_event, iOption))\n        iOption.button.bind('&lt;Leave&gt;', lambda par_event: onMouseLeave(par_event))\n    #...\n</code></pre>\n\n<p>There is also a \"help label\" showing the description of the option every time a mouse hovers over it, so there I am binding those functions.</p>\n\n<p>What is happening is that while I am indeed successfully adding a new field with a button, the bind function seems to mess up and the result is this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XATkt.jpg\" alt=\"enter image description here\"></p>\n\n<p>Help label is always showing the description of the last option added, no matter over which button I hover. The problem seems to go away if I directly modify the Option class instead, like this:</p>\n\n<pre><code>class Option:\n    def __init__(self, par_name, par_desc):\n        self.name = par_name\n        self.desc = par_desc\n        self.button = Button(wrapper, text = self.name, bg = '#004A7F', fg = 'white')\n        self.button.bind('&lt;Enter&gt;', lambda par_event: onMouseEnter(par_event, self))\n        self.button.bind('&lt;Leave&gt;', lambda par_event: onMouseLeave(par_event))\n</code></pre>\n\n<p>But I obviously can't keep it that way because the console mode will get those fields too which I don't really want. Isn't this the same thing, however? Why does it matter if I do it in a constructor with <code>self</code> or in a loop later? I therefore assume that the problem might be in a way I dynamically add the field to the class?</p>\n\n<p>Here is the full minimal and runnable test code or whatever it is called, if you want to mess with it: <a href=\"http://pastebin.com/0PWnF2P0\" rel=\"nofollow noreferrer\">http://pastebin.com/0PWnF2P0</a></p>\n\n<p>Thank you for your time</p>\n"}]