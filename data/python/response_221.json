[{"tags": ["python", "hbase", "apache-knox"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 10777364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2ba4da7d2a75dacd80c3fd9d6d1a676?s=128&d=identicon&r=PG&f=1", "display_name": "EEsparaquia", "link": "https://stackoverflow.com/users/10777364/eesparaquia"}, "edited": false, "score": 0, "creation_date": 1554479554, "post_id": 55513095, "comment_id": 97781708, "body": "So is there a way to allow the RPC protocol in knox, or should I limited to work with the RESP API? btw that was a great answer."}, {"owner": {"reputation": 3747, "user_id": 729819, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mVbmc.jpg?s=128&g=1", "display_name": "Ben Watson", "link": "https://stackoverflow.com/users/729819/ben-watson"}, "reply_to_user": {"reputation": 93, "user_id": 10777364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2ba4da7d2a75dacd80c3fd9d6d1a676?s=128&d=identicon&r=PG&f=1", "display_name": "EEsparaquia", "link": "https://stackoverflow.com/users/10777364/eesparaquia"}, "edited": false, "score": 1, "creation_date": 1554480537, "post_id": 55513095, "comment_id": 97782290, "body": "The function of Knox is to act as a gateway to your cluster, ensuring external access is restricted to REST requests through a single URL and port. I&#39;m afraid RPC won&#39;t work. The Java HBase API has the ability to work via REST, but it doesn&#39;t look like there&#39;s anything similar for Happybase. You could ask the developers <a href=\"https://github.com/wbolster/happybase\" rel=\"nofollow noreferrer\">github.com/wbolster/happybase</a>"}], "tags": [], "owner": {"reputation": 3747, "user_id": 729819, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mVbmc.jpg?s=128&g=1", "display_name": "Ben Watson", "link": "https://stackoverflow.com/users/729819/ben-watson"}, "is_accepted": true, "score": 1, "last_activity_date": 1554371985, "creation_date": 1554371985, "answer_id": 55513095, "question_id": 55505959, "link": "https://stackoverflow.com/questions/55505959/how-to-interact-to-hbase-via-knox-using-python/55513095#55513095", "title": "How to interact to Hbase via knox using Python?", "body": "<p>As you identified, the only way to talk to HBase through Knox is via HBase's REST API. Happybase is trying to connect directly to HBase via RPC, which Knox will block.</p>\n\n<p>You can't use Happybase from outside a cluster with Knox enabled.</p>\n\n<p>A good tutorial for using the HBase REST API with Python can be found <a href=\"https://blog.cloudera.com/blog/2013/03/how-to-use-the-apache-hbase-rest-interface-part-1/\" rel=\"nofollow noreferrer\">here</a>. In case the link ever dies, some of the most useful commands from this article are:</p>\n\n<ul>\n<li><p>Look at a table's schema:</p>\n\n<pre><code>request = requests.get(baseurl + \"/\" + tablename + \"/schema\")\n</code></pre></li>\n<li><p>Insert a row:</p>\n\n<pre><code>cellset = Element('CellSet')\n\nlinenumber = 0;\n\nfor line in shakespeare:      \n    rowKey = username + \"-\" + filename + \"-\" + str(linenumber).zfill(6)\n    rowKeyEncoded = base64.b64encode(rowKey)\n\n    row = SubElement(cellset, 'Row', key=rowKeyEncoded)\n\n    messageencoded = base64.b64encode(line.strip())\n    linenumberencoded = encode(linenumber)\n    usernameencoded = base64.b64encode(username)\n\n    # Add bleet cell\n    cell = SubElement(row, 'Cell', column=messagecolumnencoded)\n    cell.text = messageencoded\n\n    # Add username cell\n    cell = SubElement(row, 'Cell', column=usernamecolumnencoded)\n    cell.text = usernameencoded\n\n    # Add Line Number cell\n    cell = SubElement(row, 'Cell', column=linenumbercolumnencoded)\n    cell.text = linenumberencoded\n\n    linenumber = linenumber + 1\n\n    # Submit XML to REST server\n    request = requests.post(baseurl + \"/\" + tablename + \"/fakerow\", data=tostring(cellset), headers={\"Content-Type\" : \"text/xml\", \"Accept\" : \"text/xml\"})\n</code></pre></li>\n<li><p>Delete a table:</p>\n\n<pre><code>request = requests.delete(baseurl + \"/\" + tablename + \"/schema\")\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 93, "user_id": 10777364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2ba4da7d2a75dacd80c3fd9d6d1a676?s=128&d=identicon&r=PG&f=1", "display_name": "EEsparaquia", "link": "https://stackoverflow.com/users/10777364/eesparaquia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 55513095, "answer_count": 1, "score": 1, "last_activity_date": 1554371985, "creation_date": 1554335913, "question_id": 55505959, "link": "https://stackoverflow.com/questions/55505959/how-to-interact-to-hbase-via-knox-using-python", "title": "How to interact to Hbase via knox using Python?", "body": "<p>I'm trying to interact with hbase throght knox using Python, In python \nThe admin give a list of knox API endpoints for hive, hbase and spark like:\n<code>https://knox-devl.www.mysite.com:9042/gateway/MYSITEHDO/hbaseversion/cluster</code></p>\n\n<p>Now, since I'm using Python's happybase library, my connection code is</p>\n\n<pre><code>import happybase\n\nconnection=happybase.Connection('https://knox-devl.www.mysite.com/gateway/MYSITEHDO/hbaseversion/cluster',port=9042)\nconnection.open()\nprint(connection.tables())\n</code></pre>\n\n<p>The error it show is:\n<code>thriftpy.transport.TTransportException: TTransportException(message=\"Could not connect to ('https://knox-devl.www.mysite.com/gateway/MYSITEHDO/hbaseversion/cluster', 9042)\", type=1)</code></p>\n\n<p>Also I tried with Phoenixdb lib</p>\n\n<pre><code>import phoenixdb\n\ndatabase_url = 'https://knox-devl.www.mysite.com:9042/gateway/MYSITEHDO/hbaseversion/cluster'\nconn = phoenixdb.connect(database_url, autocommit=True)\ncursor = conn.cursor()\ncursor.execute(\"SHOW tables\")\n</code></pre>\n\n<p>But I'm getting another error: \n<code>phoenixdb.errors.InterfaceError: ('RPC request failed', None, None, BadStatusLine(\"''\",))\nException phoenixdb.errors.InterfaceError: InterfaceError('RPC request failed', None, None, BadStatusLine(\"''\",)) in &lt;bound method Connection.__del__ of &lt;phoenixdb.connection.Connection object at 0x10bc97d90&gt;&gt; ignored</code></p>\n\n<p>The only way I can get some of the data through curl:</p>\n\n<pre><code>curl -i -k -u guest:guest-password 'https://knox-devl.www.mysite.com:9042/gateway/MYSITEHDO/hbaseversion/cluster'\n</code></pre>\n\n<p>But there is no SQL commands there.</p>\n\n<p>did anyone know how to do this or there something I'm missing here, like ask for a different URL or enable something on the cluster?</p>\n"}, {"tags": ["python", "switch-statement"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1554336119, "post_id": 55505956, "comment_id": 97717741, "body": "change to  <code>def switch(f):     print(&#39;Switch got: &#39;, f)     func = {         1: func1,         2: func2,         3: func3         }.get(f)     return func() if func is not None else False</code>"}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 1, "creation_date": 1554336537, "post_id": 55505956, "comment_id": 97717834, "body": "<a href=\"https://stackoverflow.com/a/60215/102441\">The third answer on that page</a> looks like exactly what you need"}, {"owner": {"reputation": 1531, "user_id": 11037602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de54afdad247d5f10886d3f130fba85?s=128&d=identicon&r=PG&f=1", "display_name": "Justcurious", "link": "https://stackoverflow.com/users/11037602/justcurious"}, "reply_to_user": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1554336912, "post_id": 55505956, "comment_id": 97717935, "body": "@Eric Not sure I could use lambda, because the actual code is more complex than the one posted. But I get your point. Thanks"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1554337988, "post_id": 55505956, "comment_id": 97718166, "body": "&quot;for some reason all the functions inside were being called&quot; because <i>you are explicitly calling them</i>"}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1554339610, "post_id": 55505956, "comment_id": 97718510, "body": "@ZeCarioca: <code>lambda: my_complex_code()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554336534, "post_id": 55505970, "comment_id": 97717832, "body": "I think having it return the result of calling type <code>bool</code> as the default is at best obscure."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 6, "last_activity_date": 1554336046, "creation_date": 1554336046, "answer_id": 55505970, "question_id": 55505956, "link": "https://stackoverflow.com/questions/55505956/are-python-switches-dict-supposed-to-call-every-func-inside/55505970#55505970", "title": "Are python &#39;switches&#39; (dict) supposed to call every func inside?", "body": "<blockquote>\n  <p>Is this the expected behavior in Python?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Is there a way around, where only the function that corresponds to the key is called?</p>\n</blockquote>\n\n<p>Don't actually call the functions when you create your dispatch dict:</p>\n\n<pre><code>def switch(k):\n    print('Switch got: ', k)\n    func = {\n        1: func1,\n        2: func2,\n        3: func3,\n    }.get(k, bool)\n    var = func()\n    return var\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 11302879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ba6547b8e1666eb9ead1781f37eb9d?s=128&d=identicon&r=PG&f=1", "display_name": "JonAmazon", "link": "https://stackoverflow.com/users/11302879/jonamazon"}, "is_accepted": false, "score": 1, "last_activity_date": 1554336363, "creation_date": 1554336363, "answer_id": 55505996, "question_id": 55505956, "link": "https://stackoverflow.com/questions/55505956/are-python-switches-dict-supposed-to-call-every-func-inside/55505996#55505996", "title": "Are python &#39;switches&#39; (dict) supposed to call every func inside?", "body": "<p>The act of initializing that dictionary when the function 'switch' is called also calls the functions. Try something like this,</p>\n\n<pre><code>def switch(f):\n    print('Switch got: ', f)\n    var = {\n        1: func1,\n        2: func2,\n        3: func3\n        }.get(f,False)\n    if not var:\n      return false\n    return var()\n</code></pre>\n"}], "owner": {"reputation": 1531, "user_id": 11037602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de54afdad247d5f10886d3f130fba85?s=128&d=identicon&r=PG&f=1", "display_name": "Justcurious", "link": "https://stackoverflow.com/users/11037602/justcurious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 55505970, "answer_count": 2, "score": 1, "last_activity_date": 1554336363, "creation_date": 1554335890, "question_id": 55505956, "link": "https://stackoverflow.com/questions/55505956/are-python-switches-dict-supposed-to-call-every-func-inside", "title": "Are python &#39;switches&#39; (dict) supposed to call every func inside?", "body": "<p>I was trying to code something with the use of a python switch, simulated in a dict as suggested in: <a href=\"https://stackoverflow.com/questions/60208/replacements-for-switch-statement-in-python\">Replacements for switch statement in Python?</a> [Second answer, by Nick]</p>\n\n<p>When I tested, for some reason all the functions inside were being called, tried a simple code to see what was wrong and the problem repeated. See:</p>\n\n<pre><code>def switch(f):\n    print('Switch got: ', f)\n    var = {\n        1: func1(),\n        2: func2(),\n        3: func3()\n        }.get(f,False)\n    return var\n\ndef func3():\n    fb = 'Func3 called'\n    print(fb)\n    return fb\n\ndef func1():\n    rsp = 'Func1 called'\n    print(rsp)\n    return rsp\n\ndef func2():\n    rsp = 'Func2 called'\n    print(rsp)\n    return rsp\n\nvar = switch(1)\nprint(var)\n</code></pre>\n\n<p>My expected return was just:</p>\n\n<pre><code>Switch got:  1\nFunc1 called\n</code></pre>\n\n<p>Instead i got:</p>\n\n<pre><code>Switch got:  1\nFunc1 called\nFunc2 called\nFunc3 called\nFunc1 called\n</code></pre>\n\n<p>What I got from it is that python seems to run every func inside the dict before calling the proper key (1 in the example). </p>\n\n<p><strong>Is this the expected behavior in Python?</strong></p>\n\n<p><strong>Is there a way around, where only the function that corresponds to the key is called?</strong></p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql", "pyspark-sql"], "answers": [{"tags": [], "owner": {"reputation": 22506, "user_id": 7579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e064cb6036830f4883abb0450f6afd7e?s=128&d=identicon&r=PG", "display_name": "Shaido", "link": "https://stackoverflow.com/users/7579547/shaido"}, "is_accepted": true, "score": 3, "last_activity_date": 1554342910, "creation_date": 1554342910, "answer_id": 55506743, "question_id": 55505930, "link": "https://stackoverflow.com/questions/55505930/spark-df-pivot-error-method-pivotclass-java-lang-string-class-java-lang-stri/55506743#55506743", "title": "Spark DF pivot error: Method pivot([class java.lang.String, class java.lang.String]) does not exist", "body": "<p>The problem is the <code>values=\"value\"</code> parameter in the <code>pivot</code> function. This should be used for a list of actual values to pivot on, not a column name. From the <a href=\"https://spark.apache.org/docs/2.2.0/api/python/pyspark.sql.html#pyspark.sql.GroupedData.pivot\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>values \u2013 List of values that will be translated to columns in the output DataFrame.</p>\n</blockquote>\n\n<p>and an example:</p>\n\n<blockquote>\n<pre><code>df4.groupBy(\"year\").pivot(\"course\", [\"dotNET\", \"Java\"]).sum(\"earnings\").collect()\n[Row(year=2012, dotNET=15000, Java=20000), Row(year=2013, dotNET=48000, Java=30000)]\n</code></pre>\n</blockquote>\n\n<p>For the example in the question <code>values</code> should be set to <code>[\"00:00\",\"00:15\", \"00:30\"]</code>. However, the <code>values</code> argument is often not necessary (but will make the pivot more efficient), so you can simply change to:</p>\n\n<pre><code>df = df.groupBy([\"name\",\"date\"]).pivot(\"time\").agg(first(\"value\"))\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 11308481, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TrspG4xyG-4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds6vgSiTUr6r_BmOP_apHPI9rsgg/mo/photo.jpg?sz=128", "display_name": "NITS", "link": "https://stackoverflow.com/users/11308481/nits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "accepted_answer_id": 55506743, "answer_count": 1, "score": 3, "last_activity_date": 1554343185, "creation_date": 1554335709, "last_edit_date": 1554343185, "question_id": 55505930, "link": "https://stackoverflow.com/questions/55505930/spark-df-pivot-error-method-pivotclass-java-lang-string-class-java-lang-stri", "title": "Spark DF pivot error: Method pivot([class java.lang.String, class java.lang.String]) does not exist", "body": "<p>I am a newbie at using Spark dataframes. I am trying to use the <code>pivot</code> method with Spark (Spark version 2.x) and running into the following error:</p>\n\n<blockquote>\n  <p>Py4JError: An error occurred while calling o387.pivot. Trace:\n  py4j.Py4JException: Method pivot([class java.lang.String, class java.lang.String]) does not exist</p>\n</blockquote>\n\n<p>Even though I have the <code>agg</code> function as <code>first</code> here, I really do not need to apply any aggregation.</p>\n\n<p>My dataframe looks like this:</p>\n\n<pre><code>+-----+-----+----------+-----+\n| name|value|      date| time|\n+-----+-----+----------+-----+\n|name1|100.0|2017-12-01|00:00|\n|name1|255.5|2017-12-01|00:15|\n|name1|333.3|2017-12-01|00:30|\n\n</code></pre>\n\n<p>Expected:</p>\n\n<pre><code>+-----+----------+-----+-----+-----+\n| name|      date|00:00|00:15|00:30|\n+-----+----------+-----+-----+-----+\n|name1|2017-12-01|100.0|255.5|333.3|\n\n</code></pre>\n\n<p>The way I am trying:</p>\n\n<pre><code>df = df.groupBy([\"name\",\"date\"]).pivot(pivot_col=\"time\",values=\"value\").agg(first(\"value\")).show\n</code></pre>\n\n<p>What is my mistake here? </p>\n"}, {"tags": ["python", "pandas", "series"], "answers": [{"tags": [], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "is_accepted": true, "score": 1, "last_activity_date": 1554336444, "last_edit_date": 1554336444, "creation_date": 1554335794, "answer_id": 55505938, "question_id": 55505923, "link": "https://stackoverflow.com/questions/55505923/pandas-series-values-at-array-of-index-values/55505938#55505938", "title": "pandas: series values at array of index values", "body": "<p>It is possible:</p>\n\n<pre><code>&gt;&gt;&gt; series[[1,1,1,4]]\n1    1\n1    1\n1    1\n4    6\ndtype: int64\n&gt;&gt;&gt; series[[1,1,1,4]].values\narray([1, 1, 1, 6])\n</code></pre>\n"}], "owner": {"reputation": 2517, "user_id": 5058116, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e8b3aa44d365bdecde8cda380de17513?s=128&d=identicon&r=PG&f=1", "display_name": "alex_lewis", "link": "https://stackoverflow.com/users/5058116/alex-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55505938, "answer_count": 1, "score": 1, "last_activity_date": 1554336444, "creation_date": 1554335628, "question_id": 55505923, "link": "https://stackoverflow.com/questions/55505923/pandas-series-values-at-array-of-index-values", "title": "pandas: series values at array of index values", "body": "<p>I have a <code>pandas</code> <code>Series</code> instance defined as follows:</p>\n\n<pre><code>import pandas as pd\ntimestamps = [1,2,3,4,5,6,7,8,9,10]\nquantities = [1,9,6,6,6,4,4,4,5,2]\nseries = pd.Series(quantities, index=timestamps)\n</code></pre>\n\n<p>Is it possible to supply an array of index values and retrieve the quantities at them? And if it is, what's the fastest way of achieving this, please?</p>\n\n<p>For example, if I supply:</p>\n\n<pre><code>timestamps = [1,1,1,4]\n</code></pre>\n\n<p>I expect the following back from <code>series</code>:</p>\n\n<pre><code>quantities = [1,1,1,6]\n</code></pre>\n\n<p>Thanks for any help here.</p>\n"}, {"tags": ["python", "seaborn"], "comments": [{"owner": {"reputation": 11, "user_id": 11308512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0853cd830e0672eff8ac2b2260512493?s=128&d=identicon&r=PG&f=1", "display_name": "Eureka", "link": "https://stackoverflow.com/users/11308512/eureka"}, "reply_to_user": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "edited": false, "score": 1, "creation_date": 1554336304, "post_id": 55505905, "comment_id": 97717776, "body": "Thank you @Emma. I did look through that document. The problem is that it only seems to discuss how to plot the distribution, not how to draw a sample from it"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554336420, "post_id": 55505905, "comment_id": 97717802, "body": "Since seaborn is a <b><i>plot</i></b>ting library, it is probably expected that it can only <b><i>plot</i></b> distributions and cannot draw random samples."}, {"owner": {"reputation": 11, "user_id": 11308512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0853cd830e0672eff8ac2b2260512493?s=128&d=identicon&r=PG&f=1", "display_name": "Eureka", "link": "https://stackoverflow.com/users/11308512/eureka"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554337051, "post_id": 55505905, "comment_id": 97717961, "body": "@ImportanceOfBeingErnest Yes, you&#39;re probably right. That&#39;s what I am concerned about. I think I&#39;ll try to find an alternative method to draw samples from then."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554337484, "post_id": 55505905, "comment_id": 97718061, "body": "Maybe <a href=\"https://stackoverflow.com/questions/21100716/fast-arbitrary-distribution-random-sampling\">this</a> is a good start."}], "owner": {"reputation": 11, "user_id": 11308512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0853cd830e0672eff8ac2b2260512493?s=128&d=identicon&r=PG&f=1", "display_name": "Eureka", "link": "https://stackoverflow.com/users/11308512/eureka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554335474, "creation_date": 1554335474, "question_id": 55505905, "link": "https://stackoverflow.com/questions/55505905/how-do-you-draw-a-sample-from-a-seaborn-distplot-distribution", "title": "How do you draw a sample from a Seaborn distplot distribution?", "body": "<p>I have made a density distribution with the following code:</p>\n\n<pre><code>sns.distplot(df['Amount'], hist=True, kde=True,\n             color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 4})\n</code></pre>\n\n<p>How can I draw a random sample from this distribution?</p>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1554335148, "post_id": 55505838, "comment_id": 97717515, "body": "That&#39;s a hilarious failure mode! Don&#39;t <code>sudo pip</code>. The system site-packages is for the system only, and should not be messed with or you&#39;re gonna make your computer a big mess. To make a fresh environment, learn to use <a href=\"https://docs.python.org/3/library/venv.html\" rel=\"nofollow noreferrer\"><code>venv</code></a>."}, {"owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 1, "creation_date": 1554335211, "post_id": 55505838, "comment_id": 97717531, "body": "@sgerbhctim, why don&#39;t you just create a virtual environment?"}, {"owner": {"reputation": 2338, "user_id": 1058584, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/54d2091353ad0b7ada8597f45d25c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "sgerbhctim", "link": "https://stackoverflow.com/users/1058584/sgerbhctim"}, "edited": false, "score": 0, "creation_date": 1554335259, "post_id": 55505838, "comment_id": 97717543, "body": "I do usually use them, but I wanted a base line interpreter to inherit from sometimes."}, {"owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 0, "creation_date": 1554335350, "post_id": 55505838, "comment_id": 97717573, "body": "@sgerbhctim, you can also use <a href=\"https://github.com/pyenv/pyenv\" rel=\"nofollow noreferrer\"><code>pyenv</code></a> to manage different versions of Python. What OS are you using?"}, {"owner": {"reputation": 2338, "user_id": 1058584, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/54d2091353ad0b7ada8597f45d25c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "sgerbhctim", "link": "https://stackoverflow.com/users/1058584/sgerbhctim"}, "edited": false, "score": 0, "creation_date": 1554335440, "post_id": 55505838, "comment_id": 97717589, "body": "MacOS 10.14.2, I set my <code>bash_profile</code> to recognize <code>python</code> as <code>python3</code> if that is what you are asking.. same as <code>pip3</code> to <code>pip</code>"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1554335447, "post_id": 55505838, "comment_id": 97717591, "body": "<code>venv</code> doesn&#39;t care about what site-packages are installed in the underlying interpreter, that&#39;s the whole point. Trying to remove them to make a &quot;fresh&quot; environment is totally misguided."}, {"owner": {"reputation": 2338, "user_id": 1058584, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/54d2091353ad0b7ada8597f45d25c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "sgerbhctim", "link": "https://stackoverflow.com/users/1058584/sgerbhctim"}, "edited": false, "score": 0, "creation_date": 1554335479, "post_id": 55505838, "comment_id": 97717595, "body": "I use <code>virtualenv</code>, I just want to clean my underlying interpreter now!"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1554335659, "post_id": 55505838, "comment_id": 97717628, "body": "I don&#39;t know how many times to tell you. You don&#39;t want to &quot;clean&quot; the underlying interpreter. It&#39;s like opening up your car bonnet and removing random pieces of machinery to try and &quot;clean&quot; it. They&#39;re all there for a reason and it&#39;s the OS or package manager&#39;s job (probably <code>brew</code> or <code>macports</code> in your case) to make sure there&#39;s a consistent set of packages there on system level."}], "owner": {"reputation": 2338, "user_id": 1058584, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/54d2091353ad0b7ada8597f45d25c6fb?s=128&d=identicon&r=PG&f=1", "display_name": "sgerbhctim", "link": "https://stackoverflow.com/users/1058584/sgerbhctim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554335180, "creation_date": 1554334940, "question_id": 55505838, "link": "https://stackoverflow.com/questions/55505838/how-to-remove-these-packages-from-pip", "title": "how to remove these packages from pip?", "body": "<p>I decided to start a fresh environment for Python and <code>pip</code>.  I ran the command:</p>\n\n<p><code>pip uninstall -y -r &lt;(pip freeze)</code></p>\n\n<p>Some packages were giving me permissions errors, so I <code>sudo pip uninstall</code> those, one of those being <code>certifi</code></p>\n\n<p>Now, when I run <code>pip list</code>:</p>\n\n<pre><code>Package    Version  \n---------- ---------\n-          rtifi    \n-ailer     0.8.1    \n-ertifi    2019.3.9 \n-rtifi     2018.4.16\npip        19.0.3   \nsetuptools 40.9.0\n</code></pre>\n\n<p>which is very weird.  </p>\n\n<p>I have tried to: </p>\n\n<p><code>pip install --upgrade --force-reinstall pip</code></p>\n\n<p><code>pip install --upgrade --force-reinstall setuptools</code></p>\n\n<p>but am still resulting in the same list.</p>\n\n<p>How do I complete clean out my installed pip packages?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10089868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GEFH1.jpg?s=128&g=1", "display_name": "npally", "link": "https://stackoverflow.com/users/10089868/npally"}, "edited": false, "score": 0, "creation_date": 1554336705, "post_id": 55505982, "comment_id": 97717875, "body": "I knew it was going to be something dumb like that. Thank you."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1554336208, "creation_date": 1554336208, "answer_id": 55505982, "question_id": 55505819, "link": "https://stackoverflow.com/questions/55505819/why-arent-xtick-labels-aligning/55505982#55505982", "title": "Why aren&#39;t Xtick labels aligning?", "body": "<p>I suppose the labels themselves are well aligned, but you will have a lot of whitespaces in your labels.</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nticks = [\"    AAA    \", \n         \"BB         \",\n         \"   CCCCCCCC\",\n         \"  DDD      \"]\ny = [3,4,5,4]\n\nplt.figure(figsize=(3,3))\nplt.plot(ticks, y)\nplt.tick_params(axis=\"x\", rotation=90)\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hCyHA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hCyHA.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 10089868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GEFH1.jpg?s=128&g=1", "display_name": "npally", "link": "https://stackoverflow.com/users/10089868/npally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 55505982, "answer_count": 1, "score": 1, "last_activity_date": 1554336208, "creation_date": 1554334786, "last_edit_date": 1554335946, "question_id": 55505819, "link": "https://stackoverflow.com/questions/55505819/why-arent-xtick-labels-aligning", "title": "Why aren&#39;t Xtick labels aligning?", "body": "<p>I am trying to plot a group by object but the x axis labels are not aligning. Any help? Thanks.</p>\n\n<p>My code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>gdp_by_region.plot(kind='bar', align= 'center')\nplt.xticks(fontsize= 'small')\n\nplt.show()\n</code></pre>\n\n<p>Outcome:</p>\n\n<p><img src=\"https://i.stack.imgur.com/yY381.png\" alt=\"plot pic\"></p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554335699, "post_id": 55505812, "comment_id": 97717636, "body": "you can try to use <code>pady=value</code> or <code>pady=(top,bottom)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11269077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sean Preston", "link": "https://stackoverflow.com/users/11269077/sean-preston"}, "edited": false, "score": 0, "creation_date": 1554416356, "post_id": 55506003, "comment_id": 97755529, "body": "Thank-you very much, this did the job (:"}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 2, "last_activity_date": 1554336433, "creation_date": 1554336433, "answer_id": 55506003, "question_id": 55505812, "link": "https://stackoverflow.com/questions/55505812/off-set-position-of-tkinter-scale-using-the-grid-manager/55506003#55506003", "title": "Off-set position of tkinter scale using the .grid manager", "body": "<p>Using <code>sticky='s'</code> and <code>sticky='n'</code> to stick to bottom (south) and  top (north) of cell I got this </p>\n\n<p><a href=\"https://i.stack.imgur.com/pjdSh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjdSh.png\" alt=\"enter image description here\"></a></p>\n\n<p>I didn't use different values in <code>pady</code></p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\n\nl = tk.Label(root, text='Label')\nl.grid(column=1, row=0, padx=5, sticky='s', pady=10)\n\ne = tk.Entry(root)\ne.grid(column=2, row=0, padx=20, sticky='s', pady=10)\n\ns = tk.Scale(root, from_=0, to=10, orient='horizontal')\ns.grid(column=3, row=0, padx=5, sticky='n', pady=10)\n\nroot.mainloop()\n</code></pre>\n\n<hr>\n\n<p>Using <code>sticky</code> with <code>pady=(0,20)</code> for one widget I got this</p>\n\n<p><a href=\"https://i.stack.imgur.com/K2vlU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K2vlU.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\n\nl = tk.Label(root, text='Label')\nl.grid(column=1, row=0, padx=5, sticky='s', pady=10)\n\ne = tk.Entry(root)\ne.grid(column=2, row=0, padx=20, sticky='s', pady=10)\n\ns = tk.Scale(root, from_=0, to=10, orient='horizontal')\ns.grid(column=3, row=0, padx=5, sticky='n', pady=(0,20))\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11269077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sean Preston", "link": "https://stackoverflow.com/users/11269077/sean-preston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 55506003, "answer_count": 1, "score": 2, "last_activity_date": 1554336433, "creation_date": 1554334687, "last_edit_date": 1554335423, "question_id": 55505812, "link": "https://stackoverflow.com/questions/55505812/off-set-position-of-tkinter-scale-using-the-grid-manager", "title": "Off-set position of tkinter scale using the .grid manager", "body": "<p>I am currently writing a simple piece of inventory management software for a school python assessment. My GUI involves listing out all of the items in stock, and giving the user the ability to stock/sell multiple items at once. This was achieved by placing an entry (amount to buy) and a scale widget (amount to sell) next to each item, and utilizing an \"apply\" button to enact the changes (For context, the scenario is a comic book store):</p>\n\n<p><a href=\"https://i.imgur.com/7cesQm5.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/7cesQm5.png</a></p>\n\n<p>This is the code that I have used to create the new widgets from each file (all of which are contained in a dictionary, pulled from a CSV file):</p>\n\n<pre><code>itteration = 2\n\nlabels = {}\n\nnameTitle = Label(main, text=\"Title\").grid(row=1, column=1, padx=5)\nstockTitle = Label(main, text=\"Stock\").grid(row=1, column=2, padx=5)\nbuyTitle = Label(main, text=\"Amount to Buy\").grid(row=1, column=3, padx=5)\nsellTitle = Label(main, text=\"Amount to Sell\").grid(row=1, column=4, padx=5)\n\nfor item in comic_books:\n\n    name = item.replace(\" \", \"\")\n    nameStock = \"{}Stock\".format(item).replace(\" \", \"\")\n    nameBuy = \"{}Buy\".format(item).replace(\" \", \"\")\n    nameSell = \"{}Sell\".format(item).replace(\" \", \"\")\n    labels[name] = Label(main, text=item+\":\")\n    labels[name].grid(column=1, row=itteration, padx=5)\n    labels[nameStock] = Label(main, text=comic_books.get(item))\n    labels[nameStock].grid(column=2, row=itteration, padx=5)\n    labels[nameBuy] = Entry(main)\n    labels[nameBuy].grid(column=3, row=itteration, padx=20)\n    labels[nameSell] = Scale(main, from_=0, to=comic_books.get(item), orient=HORIZONTAL)\n    labels[nameSell].grid(column=4, row=itteration, padx=5)\n    itteration += 1\n</code></pre>\n\n<p>However, I am not a fan of how the the scales appear to be centering themselves in the row based on both the center of the slider, and the number on top. This makes the slider appear lower than the entry widget next to it.</p>\n\n<p><a href=\"https://i.imgur.com/9CQTvWS.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/9CQTvWS.png</a></p>\n\n<p>My question is: how would I go about potentially offsetting the position of the scale widgets upwards by a given amount (maybe 5-10px?) from its original position, to push the actual slider in line with the entry widget before it?</p>\n\n<p>Please let me know if you need any extra clarification</p>\n\n<p>Cheers,</p>\n\n<p>-Sean</p>\n"}, {"tags": ["python", "csv"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4258983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5xtm-yaL7To/AAAAAAAAAAI/AAAAAAAABJY/KziWb1nJ6nA/photo.jpg?sz=128", "display_name": "d6stringer", "link": "https://stackoverflow.com/users/4258983/d6stringer"}, "edited": false, "score": 0, "creation_date": 1554336079, "post_id": 55505868, "comment_id": 97717736, "body": "ah-ha! that makes sense. now to get rid of the extra line (but I think i have that one already!"}], "tags": [], "owner": {"reputation": 53052, "user_id": 728795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74899fd197722b4ddaeb21de21c6b313?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/728795/andrei"}, "is_accepted": true, "score": 2, "last_activity_date": 1554335205, "creation_date": 1554335205, "answer_id": 55505868, "question_id": 55505773, "link": "https://stackoverflow.com/questions/55505773/all-of-my-data-from-columns-of-one-file-go-into-one-column-in-my-output-file-ho/55505868#55505868", "title": "All of my data from columns of one file go into one column in my output file. How to keep it the same?", "body": "<p>Once you've read the line, it becomes a single item as far as Python is concerned. Sure, maybe it is a string which has comma separated values in it, but it is a single item still. So <code>[line]</code> is a list of 1 item, no matter how it is formatted.\\</p>\n\n<p>If you want to make sure the line is recognized as a list of separate values, you need to make it such, perhaps with split:</p>\n\n<pre><code>result_writer.writerow(line.split('&lt;input file delimiter here&gt;'))\n</code></pre>\n\n<p>Now the line becomes a list of 4 items, so it makes sense for csv writer to write them as 4 separated values in the file.</p>\n"}], "owner": {"reputation": 35, "user_id": 4258983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5xtm-yaL7To/AAAAAAAAAAI/AAAAAAAABJY/KziWb1nJ6nA/photo.jpg?sz=128", "display_name": "d6stringer", "link": "https://stackoverflow.com/users/4258983/d6stringer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 55505868, "answer_count": 1, "score": 0, "last_activity_date": 1554335205, "creation_date": 1554334503, "last_edit_date": 1554335001, "question_id": 55505773, "link": "https://stackoverflow.com/questions/55505773/all-of-my-data-from-columns-of-one-file-go-into-one-column-in-my-output-file-ho", "title": "All of my data from columns of one file go into one column in my output file. How to keep it the same?", "body": "<p>I'm trying to delete some number of data rows from a file, essentially just because there are too many data points. I can easily print them to IDLE but when I try to write the lines to a file, all of the data from one row goes into one column. I'm definitely a noob but it seems like this should be \"trivial\" </p>\n\n<p>I've tried it with writerow and writerows, zip(), with and without [], I've changed the delimiter and line terminator. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import csv\n\nfilename = \"velocity_result.csv\"\n\nwith open(filename, \"r\") as source:\n    for i, line in enumerate(source):\n         if i % 2 == 0:\n             with open (\"result.csv\", \"ab\") as result:\n                result_writer = csv.writer(result, quoting=csv.QUOTE_ALL, delimiter=',', lineterminator='\\n')\n                result_writer.writerow([line])\n\n</code></pre>\n\n<p>This is what happens:</p>\n\n<pre><code>    input = |a|b|c|d| &lt;row\n           |e|f|g|h|\n    output = |abcd|\n                    &lt;every other row deleted\n    (just one column)\n</code></pre>\n\n<p>My expectaion is</p>\n\n<pre><code>\n    input = |a|b|c|d| &lt;row\n           |e|f|g|h|\n    output = |a|b|c|d|\n                       &lt;every other row deleted\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1554334525, "post_id": 55505761, "comment_id": 97717372, "body": "<code>ax=None</code> is a default parameter in the sense that it will take that value if <code>ax</code> is not explicitly specified in the function call. You don&#39;t necessary know what value it might take, but you can handle the case where the user doesn&#39;t provide any value at all"}, {"owner": {"reputation": 2237, "user_id": 10970202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa7071ecb8f3b81bb2245d9fe6789ad?s=128&d=identicon&r=PG&f=1", "display_name": "haneulkim", "link": "https://stackoverflow.com/users/10970202/haneulkim"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1554334615, "post_id": 55505761, "comment_id": 97717395, "body": "Oh okay so if user inputs ax=None all the time there is no need for that ax=None parameter?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1554334662, "post_id": 55505761, "comment_id": 97717405, "body": "Why do you think it&#39;s called the &quot;default&quot;?  Look at entry #6 in the dictionary.  <a href=\"https://www.dictionary.com/browse/default\" rel=\"nofollow noreferrer\">dictionary.com/browse/default</a>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1554334708, "post_id": 55505761, "comment_id": 97717419, "body": "If they specified it as <code>None</code> on <i>every</i> function call, then yes, it would be equivalent. You&#39;re just giving a default value if it&#39;s <i>not</i> specified, and nothing about doing that suggests that a user wouldn&#39;t actually want to specify it."}, {"owner": {"reputation": 4323, "user_id": 1720199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cODPq.jpg?s=128&g=1", "display_name": "cglacet", "link": "https://stackoverflow.com/users/1720199/cglacet"}, "edited": false, "score": 0, "creation_date": 1554335026, "post_id": 55505761, "comment_id": 97717487, "body": "Note that in this case you can shorten that to <code>ax = ax or plt.gca()</code>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 4323, "user_id": 1720199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cODPq.jpg?s=128&g=1", "display_name": "cglacet", "link": "https://stackoverflow.com/users/1720199/cglacet"}, "edited": false, "score": 0, "creation_date": 1554335181, "post_id": 55505761, "comment_id": 97717523, "body": "@cglacet that is not equivalent, and indeed, a main motivating reason behind the addition of conditional expressions was to avoid people using those sorts of constructs."}, {"owner": {"reputation": 4323, "user_id": 1720199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cODPq.jpg?s=128&g=1", "display_name": "cglacet", "link": "https://stackoverflow.com/users/1720199/cglacet"}, "edited": false, "score": 0, "creation_date": 1554336628, "post_id": 55505761, "comment_id": 97717854, "body": "I never said it was equivalent, but in this case <code>ax</code> will never evaluate to false if it&#39;s a proper axis object, so in some way it&#39;s just fine in this case (or I&#39;m missing something?). On the other hand I agree that having an operator for it would be better."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 4323, "user_id": 1720199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cODPq.jpg?s=128&g=1", "display_name": "cglacet", "link": "https://stackoverflow.com/users/1720199/cglacet"}, "edited": false, "score": 0, "creation_date": 1554337182, "post_id": 55505761, "comment_id": 97717989, "body": "@cglacet right, you are thinking of the conditional exression: <code>x if cond else y</code>, see the <a href=\"https://www.python.org/dev/peps/pep-0308/#adding-a-conditional-expression\" rel=\"nofollow noreferrer\">motivations behind the PEP that added them</a>"}, {"owner": {"reputation": 4323, "user_id": 1720199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cODPq.jpg?s=128&g=1", "display_name": "cglacet", "link": "https://stackoverflow.com/users/1720199/cglacet"}, "edited": false, "score": 0, "creation_date": 1554339501, "post_id": 55505761, "comment_id": 97718487, "body": "Ah I thought you meant <a href=\"https://www.python.org/dev/peps/pep-0505/\" rel=\"nofollow noreferrer\">PEP 505</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2237, "user_id": 10970202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa7071ecb8f3b81bb2245d9fe6789ad?s=128&d=identicon&r=PG&f=1", "display_name": "haneulkim", "link": "https://stackoverflow.com/users/10970202/haneulkim"}, "edited": false, "score": 0, "creation_date": 1554334664, "post_id": 55505782, "comment_id": 97717407, "body": "wait so if I set default parameter and user inputs ax=something_else that will override my default ax=None?"}, {"owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "reply_to_user": {"reputation": 2237, "user_id": 10970202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa7071ecb8f3b81bb2245d9fe6789ad?s=128&d=identicon&r=PG&f=1", "display_name": "haneulkim", "link": "https://stackoverflow.com/users/10970202/haneulkim"}, "edited": false, "score": 0, "creation_date": 1554334694, "post_id": 55505782, "comment_id": 97717414, "body": "@h_musk Yes, it will."}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1554334706, "post_id": 55505782, "comment_id": 97717418, "body": "Yes, exactly.  That&#39;s the whole purpose of this construct in Python.  That&#39;s why it is called a <b>default</b> parameter value."}], "tags": [], "owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "is_accepted": false, "score": 1, "last_activity_date": 1554334553, "creation_date": 1554334553, "answer_id": 55505782, "question_id": 55505761, "link": "https://stackoverflow.com/questions/55505761/why-set-default-parameter-then-run-if-statement-in-python/55505782#55505782", "title": "why set default parameter then run if statement in python?", "body": "<p>No.  <code>ax=None</code> says what value to give <strong>ax</strong> if it isn't explicitly provided.  If it is explicitly provided, it might not be <strong>None</strong>.</p>\n\n<p>If I call the method in question this way:</p>\n\n<p>foo.plot_svc(model, someNonNullValue)</p>\n\n<p>Then <strong>ax</strong> will be the value in <strong>someNoneNullValue</strong>, not <strong>None</strong>.</p>\n"}, {"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1554334792, "post_id": 55505798, "comment_id": 97717436, "body": "<code>plt</code> is almost surely from <code>import matplotlib.pyplot as plt</code>"}, {"owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1554334820, "post_id": 55505798, "comment_id": 97717444, "body": "@wim Yeah, probably. I&#39;m not a <code>matplotlib</code> guy."}], "tags": [], "owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "is_accepted": false, "score": 1, "last_activity_date": 1554334794, "last_edit_date": 1554334794, "creation_date": 1554334629, "answer_id": 55505798, "question_id": 55505761, "link": "https://stackoverflow.com/questions/55505761/why-set-default-parameter-then-run-if-statement-in-python/55505798#55505798", "title": "why set default parameter then run if statement in python?", "body": "<p>Not necessarily. Default parameters make a parameter <em>optional</em>, not discluded from the function. So when you call this:</p>\n\n<pre><code>plot_svc(my_model, my_ax, plot_support=True)\n</code></pre>\n\n<p>You're using all the arguments, so <code>ax</code> is defined in the scope. But if I do this:</p>\n\n<pre><code>plot_svc(my_model, plot_support=True)\n</code></pre>\n\n<p>... the function assumes that <code>ax</code> is None because that's what you set the default parameter as. So then if the user doesn't pass in <code>ax</code>, then <code>ax</code> can be set inside the function.</p>\n\n<p>IMO, a most likely better solution would be to do this:</p>\n\n<pre><code>def plot_svc(model, ax=plt.gca(), plot_support=True):\n    ...\n</code></pre>\n\n<p>Because the way the code currently has it, basically it's redundantly checking if we want to fallback to the default instead of just including <code>plt.gca</code> as the default.</p>\n\n<p><em>As for what <code>plt.gca</code> does, I don't know, please include the library you're using.</em></p>\n"}, {"comments": [{"owner": {"reputation": 2237, "user_id": 10970202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa7071ecb8f3b81bb2245d9fe6789ad?s=128&d=identicon&r=PG&f=1", "display_name": "haneulkim", "link": "https://stackoverflow.com/users/10970202/haneulkim"}, "edited": false, "score": 0, "creation_date": 1554334717, "post_id": 55505803, "comment_id": 97717420, "body": "Thanks! didn&#39;t know default parameters can be overwritten"}], "tags": [], "owner": {"reputation": 966, "user_id": 324449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2176ef875c25c8653329e175a7e084cb?s=128&d=identicon&r=PG", "display_name": "Max Gasner", "link": "https://stackoverflow.com/users/324449/max-gasner"}, "is_accepted": true, "score": 2, "last_activity_date": 1554334634, "creation_date": 1554334634, "answer_id": 55505803, "question_id": 55505761, "link": "https://stackoverflow.com/questions/55505761/why-set-default-parameter-then-run-if-statement-in-python/55505803#55505803", "title": "why set default parameter then run if statement in python?", "body": "<p>Because ax might not be None when the function is called.</p>\n\n<pre><code>def f(x=None):\n    if x is None:\n        return True\n    return False\n\n&gt;&gt;&gt; f(None)\nTrue\n&gt;&gt;&gt; f()\nTrue\n&gt;&gt;&gt; f(3)\nFalse\n</code></pre>\n"}], "owner": {"reputation": 2237, "user_id": 10970202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa7071ecb8f3b81bb2245d9fe6789ad?s=128&d=identicon&r=PG&f=1", "display_name": "haneulkim", "link": "https://stackoverflow.com/users/10970202/haneulkim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 55505803, "answer_count": 3, "score": 1, "last_activity_date": 1554350422, "creation_date": 1554334387, "last_edit_date": 1554350422, "question_id": 55505761, "link": "https://stackoverflow.com/questions/55505761/why-set-default-parameter-then-run-if-statement-in-python", "title": "why set default parameter then run if statement in python?", "body": "<p>I came across code that looks like:</p>\n\n<pre><code>def plot_svc(model, ax=None, plot_support=True):\n    \"\"\"function to plot 2-D SVC\"\"\"\n    if ax is None:\n        ax=plt.gca()\n</code></pre>\n\n<p>if we are going to set default parameter <code>ax=None</code> why use if statement, don't we know that <code>ax</code> is <code>None</code>?\nSo can't we just write:</p>\n\n<pre><code>def plot_svc(model, ax=None, plot_support=True):\n    \"\"\"function to plot 2-D SVC\"\"\"\n    ax=plt.gca()\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "text", "tkinter"], "comments": [{"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554333858, "post_id": 55505683, "comment_id": 97717217, "body": "why are you doing <code>option1.config(text=capital)</code> for all conditions of the <code>if-elif-else</code> ?"}, {"owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 0, "creation_date": 1554334000, "post_id": 55505683, "comment_id": 97717251, "body": "@Linooos, I just tried running your code, and I got that <code>answerPos</code> is not defined. Would you mind providing all your code."}, {"owner": {"reputation": 1290, "user_id": 4180176, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/1022787394506806/picture?type=large", "display_name": "Joshua Nixon", "link": "https://stackoverflow.com/users/4180176/joshua-nixon"}, "edited": false, "score": 1, "creation_date": 1554334366, "post_id": 55505683, "comment_id": 97717335, "body": "Calling <code>.grid</code> returns <code>None</code>. You need to define and grid your buttons on two different lines"}], "owner": {"reputation": 43, "user_id": 9442275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791f3d5e8a792564cbbd76f24b760726?s=128&d=identicon&r=PG&f=1", "display_name": "linus", "link": "https://stackoverflow.com/users/9442275/linus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1554337995, "answer_count": 0, "score": 0, "last_activity_date": 1554334157, "creation_date": 1554333787, "question_id": 55505683, "link": "https://stackoverflow.com/questions/55505683/cant-update-the-text-of-a-button-on-button-press", "closed_reason": "Duplicate", "title": "Can&#39;t update the text of a button on button press", "body": "<p>I want to change the text of a button when I press another button, but I get this error message: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\&lt;user&gt;\\Documents\\Projects\\Python\\geography_mc.py\", line \n267, in &lt;module&gt;\n    generate()\n  File \"C:\\Users\\&lt;user&gt;\\Documents\\Projects\\Python\\geography_mc.py\", line \n239, in generate\n    option1.config(text=capital)\nAttributeError: 'NoneType' object has no attribute 'config'\n</code></pre>\n\n<p>I've already tried the two methods I've seen online (\".config()\", and the other one I can't remember), but neither seem to work.</p>\n\n<p>This is my code:</p>\n\n<pre><code>def generate():\n    global country\n    global capital\n    global answerPos\n\n    countryInt = random.randint(1, 195)\n    answerPos = random.randint(1, 4)\n    country = list(countries)[countryInt]\n    capital = countries[country]\n    if answerPos == 1:\n        option1.config(text=capital)\n    elif answerPos == 2:\n        option1.config(text=capital)\n    elif answerPos == 3:\n        option1.config(text=capital)\n    else:\n        option1.config(text=capital)\n\n    output.config(text=\"Country: \" + country)\n    compare.config(text=\"\")\n\n\ndef submit(x):\n\n    if x == answerPos:\n        compare.config(text=\"Correct!\")\n    else:\n        compare.config(text=\"Wrong, it's \" + capital)\n\nsubmit1 = submit(1)\nsubmit2 = submit(2)\nsubmit3 = submit(3)\nsubmit4 = submit(4)\n\n\nButton(window, text=\"Next\", command=generate).grid(row=7, column=0, padx=5, sticky=W)\n\noption1 = Button(window, text=\"\", command=submit1).grid(row=5, column=0, padx=5, sticky=W)\noption2 = Button(window, text=\"\", command=submit2).grid(row=5, column=0, padx=57, sticky=W)\noption3 = Button(window, text=\"\", command=submit3).grid(row=6, column=0, padx=5, sticky=W)\noption4 = Button(window, text=\"\", command=submit4).grid(row=6, column=0, padx=57, sticky=W)\n\ngenerate()\nwindow.mainloop()\n</code></pre>\n\n<p>As far as I can figure it should change the text on the button to the value of \ncapital, but it doesn't like something about the way I'm trying to do it as it just wont run the program. If anyone can let me know what I'm missing that'd be great.</p>\n\n<p>Using python 3.7.0 and tkinter library.</p>\n"}, {"tags": ["python", "c++", "windows", "user-interface", "automation"], "comments": [{"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554333395, "post_id": 55505622, "comment_id": 97717120, "body": "like any window? even a windows window for example?"}, {"owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "reply_to_user": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554333480, "post_id": 55505622, "comment_id": 97717138, "body": "@andreihondrari Exactly. However I would of course pursue how to achieve the same in Linux if I succeed in Windows."}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554333568, "post_id": 55505622, "comment_id": 97717153, "body": "my personal opinion is that what you are asking is pretty SciFi. You would need to pinpoint the application&#39;s RAM spectrum and steal all the information from there, that if of course you know how to interpret the bits at those addresses."}, {"owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "reply_to_user": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554333924, "post_id": 55505622, "comment_id": 97717233, "body": "@andreihondrari Probably, but I decided to ask because some person may make a good point. It comes to me as a task that is open to many view points and ideas."}, {"owner": {"reputation": 226, "user_id": 4241932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XpYS9.jpg?s=128&g=1", "display_name": "Matthew0898", "link": "https://stackoverflow.com/users/4241932/matthew0898"}, "edited": false, "score": 0, "creation_date": 1554334391, "post_id": 55505622, "comment_id": 97717340, "body": "Probably a stupid thought, but what about getting the data from a screen reader?"}, {"owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "reply_to_user": {"reputation": 226, "user_id": 4241932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XpYS9.jpg?s=128&g=1", "display_name": "Matthew0898", "link": "https://stackoverflow.com/users/4241932/matthew0898"}, "edited": false, "score": 0, "creation_date": 1554335114, "post_id": 55505622, "comment_id": 97717509, "body": "@Matthew0898 Very good idea in my opinion :) However it seems the application I am working on does not naturally support this. Besides, it actually comes down to the idea I already tried."}], "owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1554333406, "creation_date": 1554333287, "last_edit_date": 1554333406, "question_id": 55505622, "link": "https://stackoverflow.com/questions/55505622/obtain-text-from-running-application", "title": "Obtain text from running application", "body": "<p>Is it possible in a known way to obtain text within a running application GUI (presented to the screen, in menus or sidebars etc.), in a programmatic way ?</p>\n\n<p>I have thought of somehow viewing the memory management of the program however this would prove difficult if a lot of dynamic allocation (the string) is going on (and I don't know how to).</p>\n\n<p>I finally did use automated screenshots and text recognition from the images to achieve this, however this is clearly inefficient and I wanted to ask if there is a clever way that I am not aware of ?</p>\n"}, {"tags": ["python", "keras", "urllib", "conda"], "comments": [{"owner": {"reputation": 5285, "user_id": 5495304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h7m4z.png?s=128&g=1", "display_name": "Gerges", "link": "https://stackoverflow.com/users/5495304/gerges"}, "edited": false, "score": 0, "creation_date": 1554333815, "post_id": 55505584, "comment_id": 97717203, "body": "which backend are you using?"}, {"owner": {"reputation": 23, "user_id": 2193122, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/91b33f90e686a6beaace35ab4906a851?s=128&d=identicon&r=PG", "display_name": "user2193122", "link": "https://stackoverflow.com/users/2193122/user2193122"}, "reply_to_user": {"reputation": 5285, "user_id": 5495304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h7m4z.png?s=128&g=1", "display_name": "Gerges", "link": "https://stackoverflow.com/users/5495304/gerges"}, "edited": false, "score": 0, "creation_date": 1554334551, "post_id": 55505584, "comment_id": 97717382, "body": "Tensorflow, but I did not specify it. I have seen messages saying it is using tf backend. Keep in mind , the initial import of Keras generates the error."}, {"owner": {"reputation": 5285, "user_id": 5495304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h7m4z.png?s=128&g=1", "display_name": "Gerges", "link": "https://stackoverflow.com/users/5495304/gerges"}, "edited": false, "score": 0, "creation_date": 1554340812, "post_id": 55505584, "comment_id": 97718764, "body": "if <code>import tensorflow</code> works, then i suggest using tensorflow&#39;s built-in keras, unless you think you might be using a different backend at some later point."}, {"owner": {"reputation": 23, "user_id": 2193122, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/91b33f90e686a6beaace35ab4906a851?s=128&d=identicon&r=PG", "display_name": "user2193122", "link": "https://stackoverflow.com/users/2193122/user2193122"}, "reply_to_user": {"reputation": 5285, "user_id": 5495304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h7m4z.png?s=128&g=1", "display_name": "Gerges", "link": "https://stackoverflow.com/users/5495304/gerges"}, "edited": false, "score": 0, "creation_date": 1554346912, "post_id": 55505584, "comment_id": 97719992, "body": "if I type :    &quot;import tensorflow&quot; I get the same error.  The first part of the stack trace mentions this line:  &quot;...\\python\\keras_<i>init_</i>.py, line 24&quot;"}, {"owner": {"reputation": 23, "user_id": 2193122, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/91b33f90e686a6beaace35ab4906a851?s=128&d=identicon&r=PG", "display_name": "user2193122", "link": "https://stackoverflow.com/users/2193122/user2193122"}, "reply_to_user": {"reputation": 5285, "user_id": 5495304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h7m4z.png?s=128&g=1", "display_name": "Gerges", "link": "https://stackoverflow.com/users/5495304/gerges"}, "edited": false, "score": 0, "creation_date": 1554347453, "post_id": 55505584, "comment_id": 97720093, "body": "Now I have uninstalled all my versions of python and anaconda and reinstalled the latest anaconda. The import fails with the original error message if I run it from a script file but it works fine if I copy and paste the same command at a prompt."}, {"owner": {"reputation": 23, "user_id": 2193122, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/91b33f90e686a6beaace35ab4906a851?s=128&d=identicon&r=PG", "display_name": "user2193122", "link": "https://stackoverflow.com/users/2193122/user2193122"}, "reply_to_user": {"reputation": 5285, "user_id": 5495304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h7m4z.png?s=128&g=1", "display_name": "Gerges", "link": "https://stackoverflow.com/users/5495304/gerges"}, "edited": false, "score": 0, "creation_date": 1554348316, "post_id": 55505584, "comment_id": 97720252, "body": "Ok, I was able to finally run the import and I got no error. After I reinstalled everything I made a new conda env, used conda to install pip in that env, then activated the env and used pip to install keras and later tensorflow. The issue might have been because I was trying to do a &quot;conda install -n keras keras&quot; and that didn&#39;t work for whatever reason."}, {"owner": {"reputation": 23, "user_id": 2193122, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/91b33f90e686a6beaace35ab4906a851?s=128&d=identicon&r=PG", "display_name": "user2193122", "link": "https://stackoverflow.com/users/2193122/user2193122"}, "reply_to_user": {"reputation": 5285, "user_id": 5495304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h7m4z.png?s=128&g=1", "display_name": "Gerges", "link": "https://stackoverflow.com/users/5495304/gerges"}, "edited": false, "score": 0, "creation_date": 1554348772, "post_id": 55505584, "comment_id": 97720363, "body": "One other aspect of this is that my original script still does not run in the original directory. Every time I run it from that dir a folder called <b>pycache</b> gets recreated and there is a *.pyc file in that dir. I delete the dir, try again, it fails w/ original error and the dir is recreated once again. When I made a new work folder and put my script in there the same command runs w/o error and does not create the <b>pycache</b> directory. Does anybody know what this is about?"}], "owner": {"reputation": 23, "user_id": 2193122, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/91b33f90e686a6beaace35ab4906a851?s=128&d=identicon&r=PG", "display_name": "user2193122", "link": "https://stackoverflow.com/users/2193122/user2193122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554332926, "creation_date": 1554332926, "question_id": 55505584, "link": "https://stackoverflow.com/questions/55505584/can-not-get-keras-set-up-using-conda", "title": "can not get keras set up using conda", "body": "<p>I have been trying to create a conda environment and install keras all afternoon. I have used pip to remove anything that wasn't part of my conda environment. I have deleted my conda environment and started fresh about a dozen times. </p>\n\n<p>Most of my attempts are something like :</p>\n\n<pre><code>conda env create -n keras python=3.5\nactivate keras\nconda install  keras\npython\nimport keras\n</code></pre>\n\n<p>At this point, I get a full page stack trace that ends with </p>\n\n<pre><code>    from six.moves.urllib.request import urlopen\nImportError: cannot import name 'urlopen'\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pygame"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554333817, "post_id": 55505573, "comment_id": 97717204, "body": "draw line instead all points between 2 points."}, {"owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "edited": false, "score": 0, "creation_date": 1554334291, "post_id": 55505573, "comment_id": 97717315, "body": "<a href=\"https://stackoverflow.com/questions/8869668/drawing-with-mouse-causes-gaps-between-pixels\" title=\"drawing with mouse causes gaps between pixels\">stackoverflow.com/questions/8869668/&hellip;</a>"}, {"owner": {"reputation": 181, "user_id": 9378580, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tFyklaDye1s/AAAAAAAAAAI/AAAAAAAAAY0/uktTPcAqxng/photo.jpg?sz=128", "display_name": "Normy Haddad", "link": "https://stackoverflow.com/users/9378580/normy-haddad"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554334478, "post_id": 55505573, "comment_id": 97717362, "body": "@furas yes I know that, but i wouldn&#39;t be able to control how thick the line is going veritcal or horizontal like I showed in the gif"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554335214, "post_id": 55505573, "comment_id": 97717533, "body": "so you will have to calculate all points between 2 points and draw them - it shouldn&#39;t be hard. <code>max(x2-x1, y2-y1)</code> and you know how many steps you will need - how many points you will have to draw. In every step you have to move <code>(x2-x1)&#47;steps</code> and <code>(y2-y1)&#47;steps</code> Probably using float values to keep (x,y) you should have smoother line."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1554337598, "post_id": 55505573, "comment_id": 97718082, "body": "@NormyHaddad <code>clock.tick()</code> does not speed up anything, quite the opposite! It is supposed to take an argument that is the frame rate you want to cap the game at. And it&#39;s only supposed to be called once each frame!"}, {"owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "edited": false, "score": 3, "creation_date": 1554338808, "post_id": 55505573, "comment_id": 97718350, "body": "Since I cant post my answer.  Use Bresenham&#39;s algorithm (or other) to calculate a point-list between the previous mouse position and the current one.  Then at each position along that line, draw the correct primitive for the tool in use.  Air-brush will still be tricky though. - <a href=\"https://en.wikipedia.org/wiki/Bresenham&#39;s_line_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bresenham&#39;s_line_algorithm</a>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1554392727, "post_id": 55505573, "comment_id": 97744639, "body": "Yes, Bresenham&#39;s algorithm has been the standard for such applications, since at least 1981 (when I encountered it in school)."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1554425512, "last_edit_date": 1554425512, "creation_date": 1554425187, "answer_id": 55526786, "question_id": 55505573, "link": "https://stackoverflow.com/questions/55505573/how-do-i-make-pygame-draw-along-all-points-on-a-line-between-2-points/55526786#55526786", "title": "How do I make pygame draw along all points on a line between 2 points?", "body": "<p>I created minimal working example using method from my comment.</p>\n\n<p>I remember previous point (or None) to draw missing points between new point and previous one.</p>\n\n<p>I calculate how many points I will have to add</p>\n\n<pre><code>steps = max(abs(x-prev_x), abs(y-prev_y))\n</code></pre>\n\n<p>and distance between points</p>\n\n<pre><code>dx = (x - prev_x)/steps\ndy = (y - prev_y)/steps\n</code></pre>\n\n<p>and then I can loop to draw missing points</p>\n\n<pre><code>for _ in range(steps):\n    prev_x += dx\n    prev_y += dy\n    pygame.draw.circle(display, BLACK, (round(prev_x - 5), round(prev_y - 5)), 10)\n</code></pre>\n\n<p>Full code</p>\n\n<pre><code>import pygame\n\n# --- constants --- (uppercase)\nBLACK = (  0,   0,   0)\nWHITE = (255, 255, 255)\n\nWIDTH = 800\nHEIGHT = 600\nFPS = 60\n\n# --- functions --- (lowercase)\n\ndef airbrush(brushSize = 3):\n    global prev_x\n    global prev_y\n\n    click = pygame.mouse.get_pressed()\n    if click[0] == 1:\n        x, y = pygame.mouse.get_pos()\n        if x &gt;= 0 and x &lt;= WIDTH and y &gt;= 0 and y &lt;= HEIGHT0:\n            pygame.draw.circle(display, BLACK, (x - 5, y - 5), 10)\n\n        # if there is previous point then draw missing points \n        if prev_x is not None:\n            diff_x = x - prev_x\n            diff_y = y - prev_y\n            steps = max(abs(diff_x), abs(diff_y))\n\n            # skip if distance is zero (error: dividing by zero)\n            if steps &gt; 0:\n                dx = diff_x / steps\n                dy = diff_y / steps\n                for _ in range(steps):\n                    prev_x += dx\n                    prev_y += dy\n                    pygame.draw.circle(display, BLACK, (round(prev_x - 5), round(prev_y - 5)), 10)\n        prev_x = x # remeber previous point\n        prev_y = y # remeber previous point\n    else:\n        prev_x = None # there is no previous point\n        prev_y = None # there is no previous point\n\n# --- main ---\n\npygame.init()\n\ndisplay = pygame.display.set_mode((WIDTH, HEIGHT), pygame.DOUBLEBUF)\n\nprev_x = None # at start there is no previous point\nprev_y = None # at start there is no previous point\n\ndisplay.fill(WHITE)\nclock = pygame.time.Clock()\n\nwhile True:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            pygame.quit()\n            quit()\n\n    airbrush()\n    pygame.display.update()\n    clock.tick(FPS)\n</code></pre>\n\n<p>if you remove lines</p>\n\n<pre><code>prev_x = x\nprev_y = y\n</code></pre>\n\n<p>then you get version without missing points.</p>\n"}], "owner": {"reputation": 181, "user_id": 9378580, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tFyklaDye1s/AAAAAAAAAAI/AAAAAAAAAY0/uktTPcAqxng/photo.jpg?sz=128", "display_name": "Normy Haddad", "link": "https://stackoverflow.com/users/9378580/normy-haddad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 1, "accepted_answer_id": 55526786, "answer_count": 1, "score": 5, "last_activity_date": 1554425512, "creation_date": 1554332829, "last_edit_date": 1554370247, "question_id": 55505573, "link": "https://stackoverflow.com/questions/55505573/how-do-i-make-pygame-draw-along-all-points-on-a-line-between-2-points", "title": "How do I make pygame draw along all points on a line between 2 points?", "body": "<p>I am trying to make a brush function that draws onto a canvas with a calligraphy style of brush, thin one way, thick the other. Right now, the actual drawing of the brush footprint works, but the code does not run fast enough, and the actual line keeps cutting (as shown in the gif).</p>\n\n<p>This is my code right now:</p>\n\n<pre><code>import pygame\nimport os\nimport random\nfrom pygame.locals import *\n\nflags = DOUBLEBUF\n\npygame.init()\npygame.event.set_allowed([QUIT])\n\ncurrent_path = os.path.dirname(__file__) #The directory the main file is in\niconPath = os.path.join(current_path, 'images') #The icon folder path\n\ndisplayWidth = 1280\ndisplayHeight = 720\n\ngameDisplay = pygame.display.set_mode((displayWidth, displayHeight), flags)\ngameDisplay.set_alpha(None)\npygame.display.set_caption('PyPaint')\n\nblack = (0, 0, 0)\nwhite = (255, 255, 255)\ngrey = (200, 200, 200)\ncyan = (0, 200, 255)\ngreen = (0, 150, 0)\nlightGreen = (0, 255, 0)\nred = (150, 0, 0)\nlightRed = (255, 0, 0)\n\nsmallfont = pygame.font.SysFont(\"arial\", 40)\nmedfont = pygame.font.SysFont(\"arial\", 60)\nlargefont = pygame.font.SysFont(\"arial\", 80)\n\nairbrushIcon = pygame.image.load(os.path.join(iconPath, \"airbrush.png\"))\npencilIcon = pygame.image.load(os.path.join(iconPath, \"pencil.png\"))\ncalligraphyIcon = pygame.image.load(os.path.join(iconPath, \"calligraphy.png\"))\neraserIcon = pygame.image.load(os.path.join(iconPath, \"eraser.png\"))\n\nclock = pygame.time.Clock()\nFPS = 60\n\nairbrushMode = False\ncalligraphyMode = False\neraserMode = False\n\ndef paintScreen():\n    global airbrushMode\n    global calligraphyMode\n    global eraserMode\n    airbrushMode = False\n    paint = True\n    gameDisplay.fill(cyan)\n    message_to_screen('Welcome to PyPaint', black, -300, 'large')\n    click = pygame.mouse.get_pressed()\n    pygame.draw.rect(gameDisplay, white, (50, 120, displayWidth - 100, displayHeight - 240))\n    while paint:\n        cur = pygame.mouse.get_pos()\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                pygame.quit()\n                quit()\n\n        button('X', 20, 20, 50, 50, red, lightRed, action = 'quit')\n        icon(airbrushIcon, white, 50, displayHeight - 101, 51, 51, white, grey, 'airbrush')\n        icon(pencilIcon, white, 140, displayHeight - 101, 51, 51, white, grey, 'pencil')\n        icon(calligraphyIcon, white, 230, displayHeight - 101, 51, 51, white, grey, 'calligraphy')\n        icon(eraserIcon, white, 320, displayHeight - 101, 51, 51, white, grey, 'eraser')\n        pygame.draw.rect(gameDisplay, cyan, (0, 120, 50, displayHeight - 100))#to clean up the left border of the canvas\n        pygame.draw.rect(gameDisplay, cyan, (displayWidth - 50, 120, 50, displayHeight - 100))#to clean up the right border of the canvas\n        pygame.draw.rect(gameDisplay, cyan, (0, displayHeight - 120, displayWidth, 20))#to clean up the bottom of the canvas\n        pygame.draw.rect(gameDisplay, cyan, (0, 100, displayWidth, 20))#to clean up the top of the canvas\n        if airbrushMode == True:\n            airbrush()\n        elif calligraphyMode == True:\n            calligraphy()\n        elif eraserMode == True:\n            eraser()\n        pygame.display.update()\n\ndef icon(icon, colour, x, y, width, height, inactiveColour, activeColour, action = None):\n    global airbrushMode\n    global calligraphyMode\n    global eraserMode\n    cur = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if x + width &gt; cur[0] &gt; x and y + height &gt; cur[1] &gt; y:#if the cursor is over the button\n        pygame.draw.rect(gameDisplay, activeColour, (x, y, width, height))\n        gameDisplay.blit(icon, (x, y))\n        if click[0] == 1 and action != None: #if clicked\n            if action == 'quit':\n                pygame.quit()\n                quit()\n            elif action == 'pencil':\n                pencilMode = True\n                airbrushMode = False\n                calligraphyMode = False\n                eraserMode = False\n            elif action == 'airbrush':\n                airbrushMode = True\n                calligraphyMode = False\n                pencilMode = False\n                eraserMode = False\n            elif action == 'calligraphy':\n                calligraphyMode = True\n                airbrushMode = False\n                pencilMode = False\n                eraserMode = False\n            elif action == 'eraser':\n                eraserMode = True\n                airbrushMode = False\n                pencilMode = False\n                calligraphyMode = False\n    else:\n        pygame.draw.rect(gameDisplay, inactiveColour, (x, y, width, height))\n        gameDisplay.blit(icon, (x, y))\n\ndef button(text, x, y, width, height, inactiveColour, activeColour, action = None):\n    cur = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if x + width &gt; cur[0] &gt; x and y + height &gt; cur[1] &gt; y:\n        pygame.draw.rect(gameDisplay, activeColour, (x, y, width, height))\n        if click[0] == 1 and action != None:\n            if action == 'quit':\n                pygame.quit()\n                quit()\n    else:\n        pygame.draw.rect(gameDisplay, inactiveColour, (x, y, width, height))\n    text_to_button(text, black, x, y, width, height)\n\ndef text_to_button(msg, colour, buttonx, buttony, buttonwidth, buttonheight, size = 'small'):\n    textSurf, textRect = text_objects (msg, colour, size)\n    textRect.center = ((buttonx + (buttonwidth/2)), buttony + (buttonheight/2))\n    gameDisplay.blit(textSurf, textRect)\n\ndef message_to_screen(msg, colour, y_displace = 0, size = 'small'):\n    textSurf, textRect = text_objects (msg, colour, size)\n    textRect.center = (displayWidth / 2), (displayHeight / 2) + y_displace\n    gameDisplay.blit(textSurf, textRect)\n\ndef airbrush(brushSize = 3):\n    cur = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if cur[0] &gt;= 50 and cur[0] &lt;= displayWidth - 50 and cur[1] &gt;= 120 and cur[1] &lt;= displayHeight - 120:\n        if click[0] == 1:\n            pygame.draw.circle(gameDisplay, black, (cur[0] + random.randrange(-brushSize * 2, brushSize * 2), cur[1] + random.randrange(-brushSize * 2, brushSize * 2)), random.randrange(1, brushSize * 2))\n\ndef calligraphy(brushSize = 3):\n    cur = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if cur[0] &gt;= 50 and cur[0] &lt;= displayWidth - 50 and cur[1] &gt;= 120 and cur[1] &lt;= displayHeight - 120:#if cursor is on the canvas\n        if click[0] == 1:\n            pygame.draw.rect(gameDisplay, black, (cur[0] - brushSize / 2, cur[1] - brushSize / 4, brushSize, brushSize * 3))\n\ndef eraser(brushSize = 3):\n    cur = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if cur[0] &gt;= 50 and cur[0] &lt;= displayWidth - 50 and cur[1] &gt;= 120 and cur[1] &lt;= displayHeight - 120:#if cursor is on the canvas\n        if click[0] == 1:\n            pygame.draw.rect(gameDisplay, white, (cur[0] - brushSize / 2, cur[1] - brushSize / 2, brushSize * 6, brushSize * 6))\n\ndef text_objects(text, colour, size):\n    if size == 'small':\n        textSurface = smallfont.render (text, True, colour)\n    elif size == 'medium':\n        textSurface = medfont.render (text, True, colour)\n    elif size == 'large':\n        textSurface = largefont.render (text, True, colour)\n    return textSurface, textSurface.get_rect() \n\npaintScreen()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DHyWj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DHyWj.gif\" alt=\"line splitting\"></a></p>\n\n<p>I tried adding <code>clock.tick()</code> to several different functions to try to run it as fast as possible, but it still cuts the same way. I even tested it on a newer, faster computer, and there was no difference, which means that the issue lies within python and not the computer. How can I allow pygame to draw on all points on a line between 2 points?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 3, "creation_date": 1554336501, "post_id": 55505568, "comment_id": 97717826, "body": "It seems that you need to work through a tutorial on calling Python functions, rather than a Stack Overflow posting."}], "answers": [{"comments": [{"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "edited": false, "score": 0, "creation_date": 1554333293, "post_id": 55505596, "comment_id": 97717102, "body": "You might want to use <code>print arrival()</code> so you can see the result."}], "tags": [], "owner": {"reputation": 114, "user_id": 11279937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f426fe3ecf7b3e3f2fb5030b3ad5607c?s=128&d=identicon&r=PG&f=1", "display_name": "coffeewin", "link": "https://stackoverflow.com/users/11279937/coffeewin"}, "is_accepted": false, "score": 2, "last_activity_date": 1554333104, "last_edit_date": 1554333104, "creation_date": 1554333052, "answer_id": 55505596, "question_id": 55505568, "link": "https://stackoverflow.com/questions/55505568/how-to-set-up-functions/55505596#55505596", "title": "How to set up functions", "body": "<p>To call a python function, you use the name of the function. For instance, If your function is:</p>\n\n<pre><code>def arrival():\n    miles = input(\"Enter miles:  \")\n    mph = input(\"Enter miles per hour  \")\n    arrivaldate = get_departure_time() + (miles / mph)\n</code></pre>\n\n<p>You can use it by calling</p>\n\n<pre><code>arrival()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11308412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2976b64215ca0991c5bfdab83e659a87?s=128&d=identicon&r=PG&f=1", "display_name": "RagingTaurus", "link": "https://stackoverflow.com/users/11308412/ragingtaurus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554334418, "creation_date": 1554332802, "last_edit_date": 1554334418, "question_id": 55505568, "link": "https://stackoverflow.com/questions/55505568/how-to-set-up-functions", "title": "How to set up functions", "body": "<p>I am new to Stack Overflow, so sorry if this is a bad format. I am not sure how to get this program up and running with multiple functions. I'm not asking for my homework to be done for me. I just would like to know how to call functions or if you can point me in the right direction to get this code running, thank you!</p>\n\n<pre><code>from datetime import datetime\n\nmph = 0\n\ndef main():\n    print(\"Arrival Time Estimator\\n\")\n\n\ndef get_departure_date(arrival_time):\n    while True:\n        date_str = input(\"Enter departure date (YYYY-MM-DD): \")\n        try:\n            departure_date = datetime.strptime(date_str, \"%Y-%m-%d\")\n        except ValueError:\n            print(\"Invalid date format. Try again. \")\n            continue\n\n        if departure_date &lt;= get_departure_time():\n            print(\"Departure date must be after arrival date. \" +\n                  \"Try again.\")\n            continue\n        else:\n            return departure_date\n\ndef get_departure_time():\n    while True:\n        time_str = input(\"Enter departure time (HH:MM AM/PM): \")\n        try:\n            depart_time = datetime.strptime(time_str, \"%H-%M %p\")\n        except ValueError: \n            print(\"Invalid date format. Try again.\")\n            continue\n\n        now = datetime.now\n        arrivaldate = get_departure_time() + (miles / mph)\n        today = datetime(now.year, now.month, now.day)\n        if depart_time &lt; today:\n            print(\"Arrival date must be today or later. Try again.\")\n            continue\n        else:\n            return arrival()\n\ndef arrival():\n    miles = input(\"Enter miles:  \")\n    mph = input(\"Enter miles per hour  \")\n    arrivaldate = get_departure_time() + (miles / mph)\n</code></pre>\n"}, {"tags": ["python", "permutation"], "comments": [{"owner": {"reputation": 309, "user_id": 10113213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_HkX7M2jWzM/AAAAAAAAAAI/AAAAAAAAAeY/sO4p6-w4xEI/photo.jpg?sz=128", "display_name": "Bhanu Tez", "link": "https://stackoverflow.com/users/10113213/bhanu-tez"}, "edited": false, "score": 1, "creation_date": 1554333054, "post_id": 55505566, "comment_id": 97717054, "body": "what do you mean &quot;on the spot of 2&quot;? reframe your question. Unable to understand what you meant."}, {"owner": {"reputation": 2179, "user_id": 67591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64d6477f402edc037da317708924193d?s=128&d=identicon&r=PG", "display_name": "IvyMike", "link": "https://stackoverflow.com/users/67591/ivymike"}, "edited": false, "score": 0, "creation_date": 1554345194, "post_id": 55505566, "comment_id": 97719635, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6284396/permutations-with-unique-values\">permutations with unique values</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3493, "user_id": 11263560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8qB1s.jpg?s=128&g=1", "display_name": "recnac", "link": "https://stackoverflow.com/users/11263560/recnac"}, "is_accepted": false, "score": 0, "last_activity_date": 1554345611, "creation_date": 1554345611, "answer_id": 55507068, "question_id": 55505566, "link": "https://stackoverflow.com/questions/55505566/permutations-with-repetition-in-pythonto-don-t-use-set-or-uniform-method/55507068#55507068", "title": "permutations with repetition in python(to don t use set() or uniform() method )", "body": "<p>Here are several efficient solutions which not use <code>set</code>, basically about avoid inserting duplicated element.</p>\n\n<pre><code># To handle duplication, just avoid inserting a number before any of its duplicates.\ndef permuteUnique1(nums):\n    ans = [[]]\n    for n in nums:\n        new_ans = []\n        for l in ans:\n            for i in range(len(l) + 1):\n                new_ans.append(l[:i] + [n] + l[i:])\n                if i &lt; len(l) and l[i] == n: break  # handles duplication\n        ans = new_ans\n    return ans\n\n\n# Duplication happens when we insert the duplicated element before and after the same element,\n# to eliminate duplicates, just insert only after the same element.\ndef permuteUnique2(nums):\n    if not nums:\n        return []\n    nums.sort()\n    ans = [[]]\n    for n in nums:\n        new_ans = []\n        l = len(ans[-1])\n        for seq in ans:\n            for i in range(l, -1, -1):\n                if i &lt; l and seq[i] == n:\n                    break\n                new_ans.append(seq[:i] + [n] + seq[i:])\n        ans = new_ans\n    return ans\n\n\n# Build the list of permutations one number at a time, insert the number into each already built permutation\n# but only before other instances of the same number, never after.\ndef permuteUnique3(nums):\n    perms = [[]]\n    for n in nums:\n        perms = [p[:i] + [n] + p[i:]\n                 for p in perms\n                 for i in range((p + [n]).index(n) + 1)]\n    return perms\n\n\n# or as \"one-liner\" using reduce:\nfrom functools import reduce\ndef permuteUnique4(nums):\n    return reduce(lambda perms, n: [p[:i] + [n] + p[i:]\n                                    for p in perms\n                                    for i in range((p + [n]).index(n) + 1)],\n                  nums, [[]])\n</code></pre>\n\n<p>you can find more solutions and expaination in <a href=\"https://leetcode.com/problems/permutations-ii/\" rel=\"nofollow noreferrer\">LeetCode</a>.\nHope that will help you, and comment if you have further questions. : )</p>\n"}], "owner": {"reputation": 39, "user_id": 10542181, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A3X1xWDVRqY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUhjQn8aPMa98x52tzVJ4MNoLtBog/mo/photo.jpg?sz=128", "display_name": "Seyed Ali Aletaha", "link": "https://stackoverflow.com/users/10542181/seyed-ali-aletaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554357564, "creation_date": 1554332787, "last_edit_date": 1554357564, "question_id": 55505566, "link": "https://stackoverflow.com/questions/55505566/permutations-with-repetition-in-pythonto-don-t-use-set-or-uniform-method", "title": "permutations with repetition in python(to don t use set() or uniform() method )", "body": "<p>I have a list like this: </p>\n\n<pre><code>from itertools import permutations\nl = [1,1,1,1,1,1,1,2]\n</code></pre>\n\n<p>The duplicate '1' entries in the original list mean that the distinct permutations only depend on where the '2' appears in the output; so there are only 8 distinct permutations.  But the permutations() function will generate all  factorial(8)=40320 permutations.  I know I can remove duplicate outputs using set() function after the fact, but the algorithm is still O(N!) and I would like something more efficient.</p>\n"}, {"tags": ["python", "json", "pandas", "csv"], "comments": [{"owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "edited": false, "score": 0, "creation_date": 1554341540, "post_id": 55505557, "comment_id": 97718878, "body": "can you share a sample of your csv file please"}, {"owner": {"reputation": 406, "user_id": 9035838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YqxVQ.jpg?s=128&g=1", "display_name": "edinho", "link": "https://stackoverflow.com/users/9035838/edinho"}, "edited": false, "score": 0, "creation_date": 1554349403, "post_id": 55505557, "comment_id": 97720491, "body": "have you tried index=False?"}], "answers": [{"tags": [], "owner": {"reputation": 1465, "user_id": 6005206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bef51f0075d42a6032b547533c4e560?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Ingle", "link": "https://stackoverflow.com/users/6005206/nilesh-ingle"}, "is_accepted": false, "score": 0, "last_activity_date": 1554598740, "creation_date": 1554598740, "answer_id": 55554767, "question_id": 55505557, "link": "https://stackoverflow.com/questions/55505557/pandas-converting-csv-to-json-organize-with-groupby-and-then-remove-index-ke/55554767#55554767", "title": "Pandas - Converting CSV to JSON - organize with groupby and then remove index key", "body": "<p>The code below deletes the key not needed.</p>\n\n<p><strong>Step-1:</strong></p>\n\n<p>Assign a variable.</p>\n\n<pre><code>data = {\n        \"salesperson\": \"John Doe\",\n        \"values\": [\n            {\n                \"region\": \"North America\",\n                \"state\": \"Connecticut\",\n                \"salesperson\": \"John Doe\"\n            }]\n       }\n</code></pre>\n\n<p><strong>Step-2:</strong> \nDelete key</p>\n\n<pre><code>del data['salesperson']\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/WalvM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WalvM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 167, "user_id": 7406944, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/aba63f896022c67c0536485ac26fb2b5?s=128&d=identicon&r=PG&f=1", "display_name": "Erik B", "link": "https://stackoverflow.com/users/7406944/erik-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1554932320, "creation_date": 1554932320, "answer_id": 55621668, "question_id": 55505557, "link": "https://stackoverflow.com/questions/55505557/pandas-converting-csv-to-json-organize-with-groupby-and-then-remove-index-ke/55621668#55621668", "title": "Pandas - Converting CSV to JSON - organize with groupby and then remove index key", "body": "<p>I had to apply <code>drop</code> to the key before applying <code>to_dict()</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>result = df.groupby(df.salesperson).apply(\n    lambda x: x.drop('salesperson', 1).to_dict('records')).to_json(orient='index')\n</code></pre>\n\n<p>This removed the key from the resulting JSON values while preserving it as the index.</p>\n"}], "owner": {"reputation": 167, "user_id": 7406944, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/aba63f896022c67c0536485ac26fb2b5?s=128&d=identicon&r=PG&f=1", "display_name": "Erik B", "link": "https://stackoverflow.com/users/7406944/erik-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554932320, "creation_date": 1554332687, "question_id": 55505557, "link": "https://stackoverflow.com/questions/55505557/pandas-converting-csv-to-json-organize-with-groupby-and-then-remove-index-ke", "title": "Pandas - Converting CSV to JSON - organize with groupby and then remove index key", "body": "<p>I have a CSV file that I'm trying to convert to JSON with Pandas. It has multiple headers but for the sake of simplicity let's just say it has 3: \"region\", \"state\", and \"salesperson\". Three columns, three rows that often have repeating values within (state names and such).</p>\n\n<p>My ideal result is:</p>\n\n<pre><code>{\n    \"salesperson\": [\n        {\n            \"name\": \"John Doe\",\n            \"values\": [\n                {\n                    \"region\": \"North America\",\n                    \"state\": \"Connecticut\"\n                },\n                {\n                    \"region\": \"North America\",\n                    \"state\": \"Vermont\"\n                }\n            ]\n        },\n        {\n            \"name\": \"Jane Doe\",\n            \"values\": [\n                {\n                    \"region\": \"North America\",\n                    \"state\": \"New York\"\n                },\n                {\n                    \"region\": \"North America\",\n                    \"state\": \"New Hampshire\"\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>This is what I currently have for reading the data and turning it into JSON.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df = pd.read_csv('Foo.csv', encoding=\"ISO-8859-1\",\n                    escapechar='\\\\')\nresult = (df.groupby(['salesperson'])\n            .apply(lambda x: x.to_dict('r'))\n            .to_json(orient='table')\n            )\nreturn result\n</code></pre>\n\n<p><code>.to_json(orient='table')</code> is close, it gives me</p>\n\n<pre><code>\"data\": [\n    {\n        \"salesperson\": \"John Doe\",\n        \"values\": [\n            {\n                \"region\": \"North America\",\n                \"state\": \"Connecticut\",\n                \"salesperson\": \"John Doe\"\n            },\n</code></pre>\n\n<p>However \"salesperson\" is still in the \"values\". I've tried </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>result = (df.groupby(['salesperson'])\n            .apply(lambda x: x.to_dict('r'))\n            .drop('salesperson')\n            .to_json(orient='table')\n            )\n</code></pre>\n\n<p>But that doesn't seem to be the correct way.</p>\n\n<p>I'm not sure how to tell it to use \"salesperson\" as the index &amp; remove it from the output, without actually editing the JSON file after it's created.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1554332568, "post_id": 55505537, "comment_id": 97716943, "body": "There problem is here: <code>size= J(a,b)</code>. Scripts run top-to-bottom and <code>a</code> has not been defined by that point. The name doesn&#39;t exist when you <i>call</i> the function - it doesn&#39;t matter if you then do <code>a = (n)</code> inside the function (the parentheses are pointless here btw). On the other hand, <code>b</code> <i>never</i> exists in the global scope where you actually call the function"}, {"owner": {"reputation": 2568, "user_id": 6939324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Tjoe.jpg?s=128&g=1", "display_name": "SuperKogito", "link": "https://stackoverflow.com/users/6939324/superkogito"}, "edited": false, "score": 2, "creation_date": 1554332688, "post_id": 55505537, "comment_id": 97716968, "body": "why is <code>J(a,b)</code> defined twice ?"}, {"owner": {"reputation": 1446, "user_id": 2923937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e584af3bf364d2fa35ea9be1eb305ad?s=128&d=identicon&r=PG&f=1", "display_name": "Perplexabot", "link": "https://stackoverflow.com/users/2923937/perplexabot"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1554332726, "post_id": 55505537, "comment_id": 97716981, "body": "To add to @roganjosh &#39;s comment. The <code>a = (n)</code> is local to J()&#39;s scope."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1554332744, "post_id": 55505537, "comment_id": 97716988, "body": "If not done already you should work through the <a href=\"https://docs.python.org/3/tutorial/\" rel=\"nofollow noreferrer\">Python tutorial</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11308358, "user_type": "registered", "profile_image": "https://graph.facebook.com/2263149507260592/picture?type=large", "display_name": "Jeremy  Kong", "link": "https://stackoverflow.com/users/11308358/jeremy-kong"}, "edited": false, "score": 0, "creation_date": 1554333651, "post_id": 55505564, "comment_id": 97717173, "body": "ya. I should definitely go through the tutorial..  I meant to set a as variable n and b as variable n-2 in order to shown all possible permutations of the function."}, {"owner": {"reputation": 1122, "user_id": 9190768, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AqQ0Tq9uHGU/AAAAAAAAAAI/AAAAAAAAANk/yhbqJYjQPqc/photo.jpg?sz=128", "display_name": "Trooper Z", "link": "https://stackoverflow.com/users/9190768/trooper-z"}, "reply_to_user": {"reputation": 21, "user_id": 11308358, "user_type": "registered", "profile_image": "https://graph.facebook.com/2263149507260592/picture?type=large", "display_name": "Jeremy  Kong", "link": "https://stackoverflow.com/users/11308358/jeremy-kong"}, "edited": false, "score": 0, "creation_date": 1554333852, "post_id": 55505564, "comment_id": 97717212, "body": "@JeremyKong if it answers your question, don&#39;t forget to click the check mark"}], "tags": [], "owner": {"reputation": 1122, "user_id": 9190768, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AqQ0Tq9uHGU/AAAAAAAAAAI/AAAAAAAAANk/yhbqJYjQPqc/photo.jpg?sz=128", "display_name": "Trooper Z", "link": "https://stackoverflow.com/users/9190768/trooper-z"}, "is_accepted": true, "score": 0, "last_activity_date": 1554332746, "creation_date": 1554332746, "answer_id": 55505564, "question_id": 55505537, "link": "https://stackoverflow.com/questions/55505537/how-to-define-a-variable-in-python/55505564#55505564", "title": "How to define a variable in Python", "body": "<p>You need to define <code>a</code> and <code>b</code> or replace them with values. They act as placeholders for the values that are being inputted as your function caller. The <code>a</code> and <code>b</code> in the function are only local to the function, where when you call it, it sets the argument as the variable and treats it that way inside the function.</p>\n\n<pre><code>a = \"value\" #replace with your value, if not string, remove quotes\nb = \"value\"  \nsize = J(a,b)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>size = J(value1, value2)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11308358, "user_type": "registered", "profile_image": "https://graph.facebook.com/2263149507260592/picture?type=large", "display_name": "Jeremy  Kong", "link": "https://stackoverflow.com/users/11308358/jeremy-kong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "accepted_answer_id": 55505564, "answer_count": 1, "score": 0, "last_activity_date": 1554332746, "creation_date": 1554332507, "question_id": 55505537, "link": "https://stackoverflow.com/questions/55505537/how-to-define-a-variable-in-python", "title": "How to define a variable in Python", "body": "<p>I am a first time learner of Python and i am trying to define the variable a in my function. \nHow can i do it? \nWhenever i run this function, it says name 'a' is not defined.\nand if there is anything more wrong, where did i get it wrong?</p>\n\n<pre><code>n= int(input (\"choose your number &gt;2     \"))\n\ndef J(a,b):\n    a = (n)\n    b = (n-2)\n    for (a) in range (n):\n        for (b) in range (n-2):\n            if a==b:\n                print ()\ndef J(a,b):\n    return math.factorial (a)// math.factorial (b)\nsize= J(a,b)\nif size&gt;40:\n    a=input (\"the pernutations would fill more than one screeen \"\n           +\"still want to see th`enter code here`em all? yes or no    \")\n    if a==\"yes\":\n        print (J(a,b))\n    if a==\"no\":`enter code here`\n        print ()\n</code></pre>\n"}, {"tags": ["python", "image", "bmp"], "comments": [{"owner": {"reputation": 698, "user_id": 5785085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759b874ae3ffb0d9d3e48f0b84de6dbb?s=128&d=identicon&r=PG&f=1", "display_name": "CIAndrews", "link": "https://stackoverflow.com/users/5785085/ciandrews"}, "edited": false, "score": 0, "creation_date": 1554336495, "post_id": 55505521, "comment_id": 97717823, "body": "Have a look <a href=\"https://stackoverflow.com/questions/8729459/how-do-i-create-a-bmp-file-with-pure-python\">here</a>"}, {"owner": {"reputation": 7517, "user_id": 7641078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yB95H.png?s=128&g=1", "display_name": "Eduardo Baitello", "link": "https://stackoverflow.com/users/7641078/eduardo-baitello"}, "edited": false, "score": 0, "creation_date": 1554344852, "post_id": 55505521, "comment_id": 97719561, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8729459/how-do-i-create-a-bmp-file-with-pure-python\">How do I create a BMP file with pure Python?</a>"}, {"owner": {"reputation": 3762, "user_id": 1019850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a36366207331039bf9baacbeafefa7e?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1019850/david"}, "edited": false, "score": 0, "creation_date": 1554346608, "post_id": 55505521, "comment_id": 97719920, "body": "Styled the text a bit. The question is quite clear, but perhaps you can search for existing  solutions first before opening duplicate questions. To make your questions looking more attracting you can read this help: <a href=\"https://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a>. Don&#39;t mind, many new users start with improvable questions ;-)"}, {"owner": {"reputation": 11, "user_id": 11308401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd0f3b7580b74e574fc440f0f6e7e50?s=128&d=identicon&r=PG&f=1", "display_name": "StarDirk", "link": "https://stackoverflow.com/users/11308401/stardirk"}, "edited": false, "score": 0, "creation_date": 1554743931, "post_id": 55505521, "comment_id": 97855756, "body": "Thank you for all your reply. Still new to here and I will learn how to improve on asking questions!"}], "answers": [{"comments": [{"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 11, "user_id": 11308401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd0f3b7580b74e574fc440f0f6e7e50?s=128&d=identicon&r=PG&f=1", "display_name": "StarDirk", "link": "https://stackoverflow.com/users/11308401/stardirk"}, "edited": false, "score": 0, "creation_date": 1554975599, "post_id": 55560149, "comment_id": 97950154, "body": "Excellent - please consider accepting it as your answer <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work/5235#5235\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "tags": [], "owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1554648144, "creation_date": 1554648144, "answer_id": 55560149, "question_id": 55505521, "link": "https://stackoverflow.com/questions/55505521/plot-monochrome-bmp-format-in-python/55560149#55560149", "title": "Plot monochrome bmp format in Python", "body": "<p>You can do it like this with PIL/Pillow:</p>\n\n<pre><code>from PIL import Image\nfrom io import BytesIO \n\n# Get your string called \"bmp\" wherever/however you got it\n\n# Open string as PIL image\nim = Image.open(BytesIO(bmp))\n</code></pre>\n\n<p>Yo can now display the image with:</p>\n\n<pre><code>im.show()\n</code></pre>\n\n<p>You can get the size of the image with:</p>\n\n<pre><code>print(im.size)\n</code></pre>\n\n<p>And you can save it as a JPEG or anything else you fancy like this:</p>\n\n<pre><code>im.save('result.jpg')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11308401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd0f3b7580b74e574fc440f0f6e7e50?s=128&d=identicon&r=PG&f=1", "display_name": "StarDirk", "link": "https://stackoverflow.com/users/11308401/stardirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554648144, "creation_date": 1554332366, "last_edit_date": 1554346608, "question_id": 55505521, "link": "https://stackoverflow.com/questions/55505521/plot-monochrome-bmp-format-in-python", "title": "Plot monochrome bmp format in Python", "body": "<p>I want to plot a string of monochrome bmp (something like <code>0x424D36020000000000003E0000.......</code>) in Python, and further convert the plot to JPG or some common type of image.<br>\nDoes anyone know how to do so?<br>\nThanks</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8889770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8b12e4434fd6d6dac17443f5d6fb84?s=128&d=identicon&r=PG&f=1", "display_name": "C. Dunph", "link": "https://stackoverflow.com/users/8889770/c-dunph"}, "edited": false, "score": 0, "creation_date": 1554385632, "post_id": 55506182, "comment_id": 97739834, "body": "I had suspected the simplicity of the model could have something to do with it, so thanks for clearing that up."}], "tags": [], "owner": {"reputation": 1101, "user_id": 2426955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f266a64c1fe618b6f530280519b14022?s=128&d=identicon&r=PG", "display_name": "zephyrus", "link": "https://stackoverflow.com/users/2426955/zephyrus"}, "is_accepted": true, "score": 1, "last_activity_date": 1554338064, "creation_date": 1554338064, "answer_id": 55506182, "question_id": 55505516, "link": "https://stackoverflow.com/questions/55505516/is-there-a-reason-a-ml-model-would-converge-quickly-on-a-substantial-amount-of-t/55506182#55506182", "title": "Is there a reason a ML model would converge quickly on a substantial amount of training data?", "body": "<p>By \"speed\" I assume you mean the <em>number of steps</em> to convergence. In this case, convergence speed has nothing to do with the hardware used -- that just improves the <em>time</em> (leaving aside the small effects that accelerators may have on numerical accuracy). The code you posted looks like a very simple model with few operations, so it's not surprising that it runs quickly on a cpu. </p>\n\n<blockquote>\n  <p>Also when inspecting training and validation loss, I'm finding that they are roughly equal, what does this mean.</p>\n</blockquote>\n\n<p>This is good, it means that you are not overfitting. If the validation loss becomes larger than the training loss this would indicate overfitting.</p>\n"}], "owner": {"reputation": 33, "user_id": 8889770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff8b12e4434fd6d6dac17443f5d6fb84?s=128&d=identicon&r=PG&f=1", "display_name": "C. Dunph", "link": "https://stackoverflow.com/users/8889770/c-dunph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55506182, "answer_count": 1, "score": 1, "last_activity_date": 1554338064, "creation_date": 1554332340, "question_id": 55505516, "link": "https://stackoverflow.com/questions/55505516/is-there-a-reason-a-ml-model-would-converge-quickly-on-a-substantial-amount-of-t", "title": "Is there a reason a ML model would converge quickly on a substantial amount of training data?", "body": "<p>I am building a simple machine learning model using keras. I'm hoping to set the model up to perform scalar regression. The model I built reached convergence on the training loss incredibly quickly, after approximately 9 epochs. The training data consists of around 84000 examples consisting of 6 features.</p>\n\n<p>I am running the model for 100 epochs with a batch size of 250. I am using a validation set which is 20% of the training set.</p>\n\n<p>Since I'm running this on my local machine(Single CPU, no GPU) I was expecting it to take a lot longer to run to convergence, is there a reason this could be happening?</p>\n\n<p>Here's the model definition:</p>\n\n<pre><code>def regression_model():\n    model = keras.Sequential()\n\n    model.add(layers.Dense(64, activation=tf.nn.relu,\n          input_shape(train_data.shape[1],)))\n    model.add(layers.Dense(32, activation=tf.nn.relu))\n    model.add(layers.Dense(32, activation=tf.nn.relu))\n    model.add(layers.Dense(1))\n    optimizer = tf.keras.optimizers.RMSprop(0.001)\n\n    model.compile(loss='mse', optimizer=optimizer, metrics=['mae'])\n    return model\n</code></pre>\n\n<p>Also when inspecting training and validation loss, I'm finding that they are roughly equal, what does this mean. any help that could be provided on this would be appreciated!</p>\n"}, {"tags": ["python", "docker", "ubuntu"], "answers": [{"tags": [], "owner": {"reputation": 408, "user_id": 6716901, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4d479229b0eab7369d1b1ba94ce65749?s=128&d=identicon&r=PG&f=1", "display_name": "VolArt", "link": "https://stackoverflow.com/users/6716901/volart"}, "is_accepted": false, "score": 1, "last_activity_date": 1554333516, "last_edit_date": 1554333516, "creation_date": 1554333089, "answer_id": 55505598, "question_id": 55505460, "link": "https://stackoverflow.com/questions/55505460/docker-compose-up-oserror-errno-99-cannot-assign-requested-address/55505598#55505598", "title": "docker-compose up: OSError: [Errno 99] Cannot assign requested address", "body": "<p>Try to add in your matching_server service</p>\n\n<pre><code>links: \n  - db\n</code></pre>\n\n<p>and remove expose: \"12345\"</p>\n"}], "owner": {"reputation": 224, "user_id": 10897535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e0efe171b76852c1abb1477d44946b1?s=128&d=identicon&r=PG&f=1", "display_name": "OEurix", "link": "https://stackoverflow.com/users/10897535/oeurix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2030, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554333516, "creation_date": 1554331799, "question_id": 55505460, "link": "https://stackoverflow.com/questions/55505460/docker-compose-up-oserror-errno-99-cannot-assign-requested-address", "title": "docker-compose up: OSError: [Errno 99] Cannot assign requested address", "body": "<p>I am using <code>docker-compose up</code> to run a python file, however, there is error info:</p>\n\n<pre><code>matching_server_1  | Traceback (most recent call last):\nmatching_server_1  |   File \"server.py\", line 65, in &lt;module&gt;\nmatching_server_1  |     server = TCPServer((HOST, PORT), RequestHandler)\nmatching_server_1  |   File \"/usr/local/lib/python3.7/socketserver.py\", line 452, in __init__\nmatching_server_1  |     self.server_bind()\nmatching_server_1  |   File \"/usr/local/lib/python3.7/socketserver.py\", line 466, in server_bind\nmatching_server_1  |     self.socket.bind(self.server_address)\nmatching_server_1  | OSError: [Errno 99] Cannot assign requested address\n</code></pre>\n\n<p>But the program runs well by <code>python3 server.py</code> without docker.</p>\n\n<p>The structure of the project is:</p>\n\n<pre><code>root\n   |\u2014docker-compose.yml\n   |\u2014matching_engine\n         |\u2014Dockerfile\n         |-server.py (main)\n         |-.......\n</code></pre>\n\n<p>and my Dockerfile is:</p>\n\n<pre><code>FROM python:3\nENV PYTHONUNBUFFERED 1\nRUN mkdir /src\nWORKDIR /src\nADD requirements.txt /src/\nRUN pip install -r requirements.txt\nADD . /src/\n</code></pre>\n\n<p>and my docker-compose.yml is:</p>\n\n<pre><code>version: '2'\n\nservices:\n  db:\n    image: postgres\n    environment:\n      POSTGRES_PASSWORD: passw0rd\n      POSTGRES_USER: postgres\n      POSTGRES_DB: EXCHANGEMACHINE\n    volumes:\n      - /var/lib/docker/volumes/data-volume:/var/lib/postgresql/data\n    restart: always\n  matching_server:\n    build: ./matching_engine\n    user: nobody\n    command: bash -c \"python3 server.py\"\n    volumes:\n      - ./matching_engine:/src\n    ports:\n      - \"12345:12345\"\n    expose:\n      - \"12345\"\n    depends_on:\n      - db\n</code></pre>\n\n<p>and the code that reports error in <code>server.py</code> is:</p>\n\n<pre><code>if __name__ == '__main__':\n    HOST = '0.0.0.0'\n    PORT = 12345\n    server = TCPServer((HOST, PORT), RequestHandler)\n    server.serve_forever()\n</code></pre>\n\n<p>What is going wrong in this situation? Thanks!</p>\n"}, {"tags": ["python", "pyside2"], "answers": [{"comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1554332153, "post_id": 55505455, "comment_id": 97716845, "body": "Exactly, in the mousePressEvent method the hide method is called <a href=\"https://code.qt.io/cgit/qt/qtbase.git/tree/src/widgets/widgets/qsplashscreen.cpp?h=dev#n166\" rel=\"nofollow noreferrer\">code.qt.io/cgit/qt/qtbase.git/tree/src/widgets/widgets/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1677, "user_id": 1438498, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1c3ced77282314a961e904664a9026ec?s=128&d=identicon&r=PG", "display_name": "Rjak", "link": "https://stackoverflow.com/users/1438498/rjak"}, "is_accepted": true, "score": 1, "last_activity_date": 1554331749, "creation_date": 1554331749, "answer_id": 55505455, "question_id": 55505454, "link": "https://stackoverflow.com/questions/55505454/how-do-i-disable-the-default-click-to-dismiss-behaviour-of-qsplashscreen/55505455#55505455", "title": "How do I disable the default &quot;click-to-dismiss&quot; behaviour of QSplashScreen?", "body": "<p>For my purposes, all I had to do was override mousePressEvent() and pass.</p>\n\n<pre><code>def mousePressEvent(self, event):\n    # disable default \"click-to-dismiss\" behaviour\n    pass\n</code></pre>\n\n<p>This prevented clicks from dismissing the screen, but did not affect mouse events on UI elements I laid out over top of the splash screen, so it ticked all my boxes.</p>\n"}], "owner": {"reputation": 1677, "user_id": 1438498, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1c3ced77282314a961e904664a9026ec?s=128&d=identicon&r=PG", "display_name": "Rjak", "link": "https://stackoverflow.com/users/1438498/rjak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 55505455, "answer_count": 1, "score": 0, "last_activity_date": 1554333064, "creation_date": 1554331749, "last_edit_date": 1554333064, "question_id": 55505454, "link": "https://stackoverflow.com/questions/55505454/how-do-i-disable-the-default-click-to-dismiss-behaviour-of-qsplashscreen", "title": "How do I disable the default &quot;click-to-dismiss&quot; behaviour of QSplashScreen?", "body": "<p>I am using a QSplashScreen to get some desired behaviour for free: image display, centering, easy framelessness.</p>\n\n<p>The problem is that for my use case, I do not want clicks on the image to dismiss the screen.</p>\n\n<p>I have tried overriding eventFilter as so many c++ posts about this very behaviour suggest, but in PySide 2.x.x / Qt5 that method is never called.</p>\n\n<pre><code>class MySplashScreen(QtWidgets.QSplashScreen):\n    def __init__(self, my_pixmap):\n        super(MySplashScreen, self).\n            __init__(my_pixmap, QtCore.Qt.FramelessWindowHint)\n\n        self.setWindowFlags(QtCore.Qt.WindowStaysOnTopHint |\n                            QtCore.Qt.FramelessWindowHint)\n\n    def eventFilter(self, object, event):\n        print(\"never called\")\n</code></pre>\n\n<p>Is there something else simple that I'm missing?</p>\n"}, {"tags": ["python", "opencv", "wand"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7135120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1200711d11ad334f57d0f22cc9480adf?s=128&d=identicon&r=PG&f=1", "display_name": "Kay", "link": "https://stackoverflow.com/users/7135120/kay"}, "edited": false, "score": 0, "creation_date": 1554401839, "post_id": 55514649, "comment_id": 97749359, "body": "Thanks a lot, Andreas! Maybe a separate question, but since I am running this on aws EC2, I don&#39;t seem to be able to find a way to show the image, any suggestions?"}, {"owner": {"reputation": 385, "user_id": 4215297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38dfd5f5c83c0fbba02de014a891d649?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4215297/andreas"}, "reply_to_user": {"reputation": 59, "user_id": 7135120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1200711d11ad334f57d0f22cc9480adf?s=128&d=identicon&r=PG&f=1", "display_name": "Kay", "link": "https://stackoverflow.com/users/7135120/kay"}, "edited": false, "score": 0, "creation_date": 1554790373, "post_id": 55514649, "comment_id": 97869548, "body": "Well it&#39;s hard to display an image in a terminal in such a way that it is helpfull. Especially a RGB image. If you convert it to gray, and use numpy&#39;s <a href=\"https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.set_printoptions.html\" rel=\"nofollow noreferrer\">set_printoptions</a>, you can be able to display some more of it. Don&#39;t know how large your image is."}], "tags": [], "owner": {"reputation": 385, "user_id": 4215297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38dfd5f5c83c0fbba02de014a891d649?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4215297/andreas"}, "is_accepted": true, "score": 0, "last_activity_date": 1554376762, "creation_date": 1554376762, "answer_id": 55514649, "question_id": 55505448, "link": "https://stackoverflow.com/questions/55505448/why-using-cv2-imread-to-read-an-image-created-by-wand-from-pdf-file-return-all-2/55514649#55514649", "title": "Why using cv2.imread to read an image created by Wand from pdf file return all 255 for all RGB?", "body": "<p>See all the dots? The printing of the image is just showing a few pixels of the image. Assuming you have a pdf text document with a white background, it is safe to assume that all the edge pixels are white. The print will typically show you the corners of the image. </p>\n\n<p>To show the image use</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>image = cv2.imread('test_file.jpg')\ncv2.imshow('Image', image)\ncv2.waitKey(0)\n</code></pre>\n\n<p>This will display the image in a window, and wait for you to press a key before disappearing. </p>\n"}, {"tags": [], "owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "is_accepted": false, "score": 0, "last_activity_date": 1554519990, "creation_date": 1554519990, "answer_id": 55545496, "question_id": 55505448, "link": "https://stackoverflow.com/questions/55505448/why-using-cv2-imread-to-read-an-image-created-by-wand-from-pdf-file-return-all-2/55545496#55545496", "title": "Why using cv2.imread to read an image created by Wand from pdf file return all 255 for all RGB?", "body": "<p>Wand images are not numpy arrays and so cannot be simply opened in cv2. In Wand 5.3, there will be a way to import and export Wand images to and from numpy arrays. </p>\n\n<p>In Wand 5.2, you can use import_pixels to convert a numpy array to a Wand image. In Wand 5.2, you can export a Wand image to numpy array that you should be able to use in cv2. </p>\n\n<pre><code>import numpy as np\nfrom wand.image import Image\n\nwith Image(filename='rose.png') as img: \n    matrix = np.array(img)\n</code></pre>\n\n<p>matrix will be a numpy array that you should then be able to use in OpenCV</p>\n"}], "owner": {"reputation": 59, "user_id": 7135120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1200711d11ad334f57d0f22cc9480adf?s=128&d=identicon&r=PG&f=1", "display_name": "Kay", "link": "https://stackoverflow.com/users/7135120/kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3047, "favorite_count": 0, "accepted_answer_id": 55514649, "answer_count": 2, "score": 0, "last_activity_date": 1554519990, "creation_date": 1554331718, "question_id": 55505448, "link": "https://stackoverflow.com/questions/55505448/why-using-cv2-imread-to-read-an-image-created-by-wand-from-pdf-file-return-all-2", "title": "Why using cv2.imread to read an image created by Wand from pdf file return all 255 for all RGB?", "body": "<p>I am trying to identify blobs of text in a pdf file. So say for example, there are different sections in an academic paper, and I want to identify the title as a section, the authors and addresses as a section, and the abstract as a section. </p>\n\n<p>One solution i am thinking is to use cv2. I first convert pdf to a image using Wand using the following codes:</p>\n\n<pre><code>from wand.color import Color\nfrom wand.image import Image as Img\nwith Img(filename='./files/paper.pdf', resolution=300) as img:\n    img.background_color = Color(\"white\")\n    img.alpha_channel = 'remove'\n    img.save(filename='test_file.jpg')\n</code></pre>\n\n<p>However, when I am trying to open the jpg file in cv2 with:</p>\n\n<pre><code>image = cv2.imread('test_file.jpg')\n\nprint image\n</code></pre>\n\n<p>the printout shows that all the values in that image is 255 for all pixels.</p>\n\n<pre><code>array([[[255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255],\n        ...,\n        [255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255]],\n\n       [[255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255],\n        ...,\n        [255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255]],\n\n       [[255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255],\n        ...,\n        [255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255]],\n\n       ...,\n\n       [[255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255],\n        ...,\n        [255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255]],\n\n       [[255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255],\n        ...,\n        [255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255]],\n\n       [[255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255],\n        ...,\n        [255, 255, 255],\n        [255, 255, 255],\n        [255, 255, 255]]], dtype=uint8)\n</code></pre>\n\n<p>And then, when i want to use cv2.dnn.blobFromImage(), it just won't get it right.</p>\n\n<p>What's going on? Was it because the pdf didn't get converted correctly into an image? But i tried </p>\n\n<pre><code>from PIL import Image\ntext = pytesseract.image_to_string(Image.open('test_file.jpg'))\n</code></pre>\n\n<p>, it returned all text to me...</p>\n"}, {"tags": ["python", "python-3.x", "label", "k-means", "unsupervised-learning"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1554331719, "post_id": 55505415, "comment_id": 97716720, "body": "And presumably you get the <code>print</code> output you want? <code>print</code>ing to stdout does not change the underlying data (it&#39;s just throw-away output); I assume you actually want to <code>map</code> categories to to the DataFrame column that contains numerical values (or whatever structure you have that you&#39;re iterating through)"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1554331798, "post_id": 55505415, "comment_id": 97716741, "body": "Please show some snippet of output from <code>print(labels)</code>. Is it a numpy array, a pandas DataSeries, other?"}, {"owner": {"reputation": 468, "user_id": 11156090, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iIVwV26iIQs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRFG06E1nX-7yyt1hs0e96yf--Uw/mo/photo.jpg?sz=128", "display_name": "rzaratx", "link": "https://stackoverflow.com/users/11156090/rzaratx"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1554332571, "post_id": 55505415, "comment_id": 97716944, "body": "My labels look like this when I print them [1 1 1 1 1 1 1 1 1 0 0 2 ... 0 2 2 2 0 2 2 2 2 0 2 0 2 0 0 2 2 0]"}], "answers": [{"tags": [], "owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "is_accepted": true, "score": 1, "last_activity_date": 1554333553, "creation_date": 1554333553, "answer_id": 55505650, "question_id": 55505415, "link": "https://stackoverflow.com/questions/55505415/how-to-print-a-string-to-replace-the-value-of-the-labels-in-unsupervised-learnin/55505650#55505650", "title": "How to print a string to replace the value of the labels in unsupervised learning", "body": "<p><code>print</code> just writes your output to stdout, it doesn't change the underlying data. The output is throw-away. You use \"print\" multiple times in your question when I think you want to actually modify the data. One way to do this would be to use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.select.html\" rel=\"nofollow noreferrer\"><code>numpy.select</code></a>.</p>\n\n<pre><code>import numpy as np\n\nlabels = np.array([0, 1, 1, 2, 0, 1, 2, 0]) # Fake data\n\n# Now use select to replace the numerical values with categories\nreplacements = ['narrow', 'wide', 'normal']\nnew_labels = np.select([labels == 0, labels == 1, labels == 2],\n                       replacements)\n</code></pre>\n\n<p>I'm not entirely sure what optimisations <code>numpy</code> can give here because I didn't specify a dtype for the output array (like I might with an accumulator) and we're going from a numerical type to a string type. It's possible that this just drops out as a python loop and there's no benefit from this syntax over treating it like a regular list, and mapping the integers to categories from a dictionary by iterating. The syntax certainly doesn't lend itself to more categories than you use in your question.</p>\n"}], "owner": {"reputation": 468, "user_id": 11156090, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iIVwV26iIQs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRFG06E1nX-7yyt1hs0e96yf--Uw/mo/photo.jpg?sz=128", "display_name": "rzaratx", "link": "https://stackoverflow.com/users/11156090/rzaratx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 55505650, "answer_count": 1, "score": 0, "last_activity_date": 1554333553, "creation_date": 1554331509, "last_edit_date": 1554331713, "question_id": 55505415, "link": "https://stackoverflow.com/questions/55505415/how-to-print-a-string-to-replace-the-value-of-the-labels-in-unsupervised-learnin", "title": "How to print a string to replace the value of the labels in unsupervised learning", "body": "<p>I am using <code>sklearn.cluster.KMeans</code> to categorise data. By printing my labels, I can see that <code>KMeans</code> is working, However, the labels are printed as numerical values (0, 1, or 2).</p>\n\n<p>After this, I want to reprint the labels as strings, such as \"narrow\", \"wide\" and \"normal\".</p>\n\n<p>This is my attempt using <code>if-elif</code> statements:</p>\n\n<pre><code>csv= \"data.csv\"\ndata = pd.read_csv(csv, header = None, low_memory = False)\nmodel = KMeans(n_clusters = 3, random_state = 1)\nmodel.fit(data)\nlabels = model.predict(data)\nprint(labels)\nfor category in lables:\n    if category == 0:\n        print('narrow')\n    elif category == 1:\n        print('wide')\n    elif category == 2:\n        print('normal')\n    else:\n        print('Unlabeled Data')\nnp.savetxt(\"category.csv\", category, delimiter = ',')\n</code></pre>\n"}, {"tags": ["python", "graph", "tree"], "comments": [{"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 3, "creation_date": 1554331496, "post_id": 55505389, "comment_id": 97716663, "body": "why does your tree have the ability of adding multiple parents? Kind of makes it a graph rather than a tree."}, {"owner": {"reputation": 315, "user_id": 6355745, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5acfa91889240a86e938d359c2cd12ef?s=128&d=identicon&r=PG&f=1", "display_name": "FatimahFatCakes", "link": "https://stackoverflow.com/users/6355745/fatimahfatcakes"}, "reply_to_user": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554331614, "post_id": 55505389, "comment_id": 97716694, "body": "Sorry I meant to say graph. I have edited the post to reflect this."}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 1, "creation_date": 1554332091, "post_id": 55505389, "comment_id": 97716822, "body": "what exactly did you encounter as an issue when you tried to build the graph?"}, {"owner": {"reputation": 315, "user_id": 6355745, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5acfa91889240a86e938d359c2cd12ef?s=128&d=identicon&r=PG&f=1", "display_name": "FatimahFatCakes", "link": "https://stackoverflow.com/users/6355745/fatimahfatcakes"}, "reply_to_user": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554332412, "post_id": 55505389, "comment_id": 97716907, "body": "I don&#39;t know how to go around and build the graph. Like adding the children with those requirements recursively (or not recursively), and formatting the nodes properly."}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 1, "creation_date": 1554332611, "post_id": 55505389, "comment_id": 97716955, "body": "In the file, the start node and end node are also three digit representations?"}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 1, "creation_date": 1554332684, "post_id": 55505389, "comment_id": 97716967, "body": "When you have to do those operations, like adding 1 or subtracting 1, is it relative to the current node or in general to the whole state of the graph?"}, {"owner": {"reputation": 315, "user_id": 6355745, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5acfa91889240a86e938d359c2cd12ef?s=128&d=identicon&r=PG&f=1", "display_name": "FatimahFatCakes", "link": "https://stackoverflow.com/users/6355745/fatimahfatcakes"}, "reply_to_user": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554333466, "post_id": 55505389, "comment_id": 97717134, "body": "Yes, the start node and end node are also three digit representations. I&#39;m not quite sure what you mean by the second question. So for example, if the start node is 330, and end node is 110. The graph will create the children of 320 resulting in childs (220, 420, 310, 330, and 321), then the graph creates childs for 220 resulting in childs ( 230, 210 and 221)"}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 1, "creation_date": 1554333747, "post_id": 55505389, "comment_id": 97717192, "body": "aha, so for each child you must execute all of those operations, and the result of each operation will be a child. What happens if one operation somewhere in the graph results in a child with the same 3-digit formation as another one that already exists in the graph?"}, {"owner": {"reputation": 315, "user_id": 6355745, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5acfa91889240a86e938d359c2cd12ef?s=128&d=identicon&r=PG&f=1", "display_name": "FatimahFatCakes", "link": "https://stackoverflow.com/users/6355745/fatimahfatcakes"}, "reply_to_user": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554334071, "post_id": 55505389, "comment_id": 97717273, "body": "That is fine, as long as they are not the same node. Two nodes are the same if a) they have the same 3 digits; and b) they have the same \u2018child\u2019 nodes. Also, there cannot be any cycles in the graph."}, {"owner": {"reputation": 315, "user_id": 6355745, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5acfa91889240a86e938d359c2cd12ef?s=128&d=identicon&r=PG&f=1", "display_name": "FatimahFatCakes", "link": "https://stackoverflow.com/users/6355745/fatimahfatcakes"}, "reply_to_user": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554334389, "post_id": 55505389, "comment_id": 97717339, "body": "@andreihondrari I have edited the post with an example"}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554375627, "post_id": 55505389, "comment_id": 97733161, "body": "and what is <code>You cannot change the same digit twice in two successive moves.</code> suppose to mean?"}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "reply_to_user": {"reputation": 315, "user_id": 6355745, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5acfa91889240a86e938d359c2cd12ef?s=128&d=identicon&r=PG&f=1", "display_name": "FatimahFatCakes", "link": "https://stackoverflow.com/users/6355745/fatimahfatcakes"}, "edited": false, "score": 0, "creation_date": 1554385850, "post_id": 55505389, "comment_id": 97739974, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/191260/discussion-between-andreihondrari-and-fatimahfatcakes\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 1, "creation_date": 1554400996, "post_id": 55517614, "comment_id": 97748976, "body": "@FatimahFatCakes did this help you out?"}], "tags": [], "owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "is_accepted": true, "score": 2, "last_activity_date": 1603359091, "last_edit_date": 1603359091, "creation_date": 1554385758, "answer_id": 55517614, "question_id": 55505389, "link": "https://stackoverflow.com/questions/55505389/how-to-build-this-graph-in-python/55517614#55517614", "title": "How to build this graph in Python?", "body": "<p>First of all you need to create a model of the <code>Node</code> and to generate the graph, we first must make some assumptions:</p>\n<ul>\n<li>it is an undirected graph</li>\n<li>the distance between the nodes is of equal value or lacking importance</li>\n<li>the <code>Node</code>'s will require some sort of identification number</li>\n<li>the generation of the neighbours is relative to the current <code>Node</code>, hence the functionality should be part of the <code>Node</code> instance</li>\n<li>if we don't specify a limit the <code>Graph</code> could be generated infinitely, hence we must introduce the notion of <code>max_spread</code></li>\n</ul>\n<p>Hence the code for the <code>Node</code> will look like:</p>\n<pre><code>from copy import copy\n\ndef check_three_digits(value_name, digits):\n    assert len(digits) == 3, &quot;The {} should be of precise length 3. Actual: {}&quot;.format(value_name, digits)\n    assert digits.isdigit(), &quot;The {} should consist of 3 digits. Actual {}&quot;.format(value_name, digits)\n\n\nclass Node:\n\n    _node_count = 0\n\n    def __init__(self, data: str):\n        check_three_digits(&quot;data param&quot;, data)\n        self._id = Node._node_count\n        self._data = data\n        self._neighbours = []\n        Node._node_count += 1\n\n    @property\n    def id(self):\n        return self._id\n\n    @property\n    def data(self):\n        return copy(self._data)\n\n    @property\n    def neighbours(self):\n        return copy(self._neighbours)\n\n    def add_neighbour(self, neighbour):\n        self._neighbours.append(neighbour)\n\n    def _new_neighbour(self, data):\n        new_neighbour = Node(data)\n        new_neighbour.add_neighbour(self)\n        return new_neighbour\n\n    def generate_neighbours(self, forbidden_nodes_digits=[]):\n        first_digit = self._data[0]\n        second_digit = self._data[1]\n        third_digit = self._data[2]\n\n        first_digit_num = int(first_digit)\n        second_digit_num = int(second_digit)\n        third_digit_num = int(third_digit)\n        sub_first_digit_num = first_digit_num - 1\n        add_first_digit_num = first_digit_num + 1\n\n        sub_second_digit_num = second_digit_num - 1\n        add_second_digit_num = second_digit_num + 1\n\n        sub_third_digit_num = third_digit_num - 1\n        add_third_digit_num = third_digit_num + 1\n\n        sub_first_digit_num = first_digit_num if sub_first_digit_num &lt; 0 else sub_first_digit_num\n        add_first_digit_num = first_digit_num if add_first_digit_num &gt; 9 else add_first_digit_num\n\n        sub_second_digit_num = second_digit_num if sub_second_digit_num &lt; 0 else sub_second_digit_num\n        add_second_digit_num = second_digit_num if add_second_digit_num &gt; 9 else add_second_digit_num\n\n        sub_third_digit_num = third_digit_num if sub_third_digit_num &lt; 0 else sub_third_digit_num\n        add_third_digit_num = third_digit_num if add_third_digit_num &gt; 9 else add_third_digit_num\n\n\n        for ndigits in [\n            &quot;{}{}{}&quot;.format(str(sub_first_digit_num), second_digit, third_digit),\n            &quot;{}{}{}&quot;.format(str(add_first_digit_num), second_digit, third_digit),\n            &quot;{}{}{}&quot;.format(first_digit, str(sub_second_digit_num), third_digit),\n            &quot;{}{}{}&quot;.format(first_digit, str(add_second_digit_num), third_digit),\n            &quot;{}{}{}&quot;.format(first_digit, second_digit, str(sub_third_digit_num)),\n            &quot;{}{}{}&quot;.format(first_digit, second_digit, str(add_third_digit_num)),\n        ]:\n            if ndigits in forbidden_nodes_digits:\n                continue\n\n            self._neighbours.append(self._new_neighbour(ndigits))\n\n\n    def __repr__(self):\n        return str(self)\n\n    def __str__(self):\n        return &quot;Node({})&quot;.format(self._data)\n</code></pre>\n<p>in order to generate the graph we have:</p>\n<pre><code>def generate_nodes(node, end_node_digits, forbidden_nodes_digits, visited_nodes=None, current_spread=0, max_spread=4):\n    &quot;&quot;&quot;\n    Handles the generation of the graph.\n\n    :node: the current node to generate neighbours for\n    :end_node_digits: the digits at which to stop spreading further the graph from the current spread.\n    :visited_nodes: Marks the nodes for which neighbours generation happened, to avoid repetition and infinite recursion.\n    :current_spread: Marks the current level at which neighbours are being generated.\n    :max_spread: Defined the max spread over which the graph should no longer generate neighbours for nodes.\n    &quot;&quot;&quot;\n\n    # initialize the kwargs with None values\n    if visited_nodes is None:\n        visited_nodes = []\n\n    # mark the current node as visited\n    visited_nodes.append(node.id)\n\n    # no reason to generate further since we hit the max spread limit\n    if current_spread &gt;= max_spread:\n        return\n\n    # generate the neighbours for the current node\n    node.generate_neighbours(forbidden_nodes_digits)\n\n    # if we generated the end node, fall back, no need to generate further\n    if end_node_digits in [n.data for n in node.neighbours]:\n        return\n\n    # make sure to generate neighbours for the current node's neighbours as well\n    for neighbour in node.neighbours:\n        if neighbour.id in visited_nodes:\n            continue\n\n        generate_nodes(\n            neighbour, end_node_digits, forbidden_nodes_digits,\n            visited_nodes=visited_nodes, current_spread=current_spread + 1, max_spread=max_spread\n        )\n</code></pre>\n<p>A Breadth First Search algorithm for such a model would look like:</p>\n<pre><code>def bfs(node, end_node_digits, visited_nodes=None, path=None):\n    &quot;&quot;&quot;\n    Looks for a specific digit sequence in the graph starting from a specific node.\n    :node: the node to start search from.\n    :end_node_digits: The digit sequence to look for.\n    :visited_nodes: The nodes for which BFS was already performed. Used to avoid infinite recursion and cyclic traversal.\n    :path: The search path that lead to this node.\n    &quot;&quot;&quot;\n\n    # initialize the None kwargs\n    if visited_nodes is None:\n        visited_nodes = []\n\n    if path is None:\n        path = &quot;&quot;\n    path += &quot;({}, {}) &quot;.format(node.id, node.data)\n\n    # mark the current node as visited\n    visited_nodes.append(node.id)\n\n    # if we find the end node we can safely report back the match\n    if node.data == end_node_digits:\n        return path\n\n    # if the current node doesn't match the end node then we look into the neighbours\n    for neighbour in node.neighbours:\n\n        # exclude the visited nodes (obviously excluding the node that generated these nodes)\n        if neighbour.id in visited_nodes:\n            continue\n\n        # do a BFS in the subdivision of the graph\n        result_path = bfs(neighbour, end_node_digits, visited_nodes, path)\n\n        # if a match was found in the neighbour subdivision, report it back\n        if result_path is not None:\n            return result_path\n\n    return None\n</code></pre>\n<p>We can exemplify the functionality of the code written by assuming as an example the <code>input.txt</code> like:</p>\n<pre><code>320\n221\n330 420\n</code></pre>\n<p>and the <code>__main__</code> block like:</p>\n<pre><code>if __name__ == '__main__':\n\n    # retrieve the nodes from the input file\n    start_node_digits = None\n    end_node_digits = None\n    forbidden_nodes_digits = []\n\n    with open(&quot;input.txt&quot;, &quot;r&quot;) as pf:\n        start_node_digits = pf.readline().strip()\n        end_node_digits = pf.readline().strip()\n        forbidden_nodes_digits = pf.readline().split()\n\n    forbidden_nodes_digits = [fnode.strip() for fnode in forbidden_nodes_digits]\n    print(&quot;Start node digits: {}&quot;.format(start_node_digits))\n    print(&quot;End node digits: {}&quot;.format(end_node_digits))\n    print(&quot;Forbidden nodes digits: {}&quot;.format(forbidden_nodes_digits))\n\n    # validate the input nodes data\n    check_three_digits(&quot;start node&quot;, start_node_digits)\n    check_three_digits(&quot;end node&quot;, end_node_digits)\n    for fnode_digits in forbidden_nodes_digits:\n        check_three_digits(&quot;forbidden node&quot;, fnode_digits)\n\n    # create the first node and generate the graph\n    first_node = Node(start_node_digits)\n    print(&quot;Generate nodes for graph....&quot;)\n    max_spread = 2\n    generate_nodes(first_node, end_node_digits, forbidden_nodes_digits, max_spread=max_spread)\n\n    # poerform a BFS for a sequence of digits\n    print(&quot;BFS for {}&quot;.format(end_node_digits))\n    match_path = bfs(first_node, end_node_digits)\n    print(&quot;BFS search result: {}&quot;.format(match_path))\n</code></pre>\n<p>We could also visualize the graph by using these functions:</p>\n<pre><code>import networkx as nx\nimport matplotlib.pyplot as plt\n\ndef _draw_node(graph, node, visited_nodes=None):\n\n    # initialize kwargs with None values\n    if visited_nodes is None:\n        visited_nodes = []\n\n    # mark node as visited\n    visited_nodes.append(node.id)\n\n    for neighbour in node.neighbours:\n        if neighbour.id in visited_nodes:\n            continue\n\n        graph.add_node(neighbour.id)\n        graph.add_edge(node.id, neighbour.id)\n        nx.set_node_attributes(graph, {neighbour.id: {'data': neighbour.data}})\n\n        _draw_node(graph, neighbour, visited_nodes)\n\n\ndef draw_graph(first_node, start_node_digits, end_node_digits, forbidden_nodes_digits, fig_scale, fig_scale_exponent=1.2):\n    g = nx.Graph()\n\n    # add first node to the draw figure\n    g.add_node(first_node.id)\n    nx.set_node_attributes(g, {first_node.id: {'data': first_node.data}})\n    _draw_node(g, first_node)\n\n    # prepare graph drawing\n    labels = nx.get_node_attributes(g, 'data')\n    fig = plt.figure(frameon=False)\n    INCH_FACTOR = 5  # inches\n    fig_scale = fig_scale ** fig_scale_exponent\n    fig.set_size_inches(fig_scale * INCH_FACTOR, fig_scale * INCH_FACTOR)\n\n    nodes_attributes = nx.get_node_attributes(g, 'data')\n\n    color_map = []\n    for n in g:\n        ndata = nodes_attributes[n]\n        if ndata == start_node_digits:\n            color_map.append('yellow')\n        elif ndata == end_node_digits:\n            color_map.append('cyan')\n        elif ndata in forbidden_nodes_digits:\n            # just in case something slips\n            color_map.append('red')\n        else:\n            color_map.append(&quot;#e5e5e5&quot;)\n\n    # actually draw the graph and save it to a PNG.\n    nx.draw_networkx(\n        g, with_labels=True, labels=labels, node_size=600,\n        node_color=color_map,\n        # node_color='#e5e5e5',\n        font_weight='bold', font_size=&quot;10&quot;,\n        pos=nx.drawing.nx_agraph.graphviz_layout(g)\n    )\n    plt.savefig(&quot;graph.png&quot;, dpi=100)\n</code></pre>\n<p>which can be called in the <code>__main__</code> block like:</p>\n<pre><code>print(&quot;Draw graph...&quot;)\ndraw_graph(first_node, start_node_digits, end_node_digits, forbidden_nodes_digits, fig_scale=max_spread, fig_scale_exponent=1)\n</code></pre>\n<p>The graph looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/0mjO7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mjO7.png\" alt=\"graph\" /></a></p>\n<p>For which the BFS result will be something like: <code>(0, 320) (1, 220) (10, 221)</code></p>\n<p>Now I'm not sure if this is entirely according to spec, but this should be a good starting point. There are also multiple ways to implement a graph, some people use lists of vertices and edges.</p>\n<p>For <code>networkx</code>'s <code>graphviz</code> you will need to install via pip the <code>pygraphviz</code> package, and if you're on linux, you might need to do <code>sudo apt-get install graphviz libgraphviz-dev pkg-config</code></p>\n"}], "owner": {"reputation": 315, "user_id": 6355745, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5acfa91889240a86e938d359c2cd12ef?s=128&d=identicon&r=PG&f=1", "display_name": "FatimahFatCakes", "link": "https://stackoverflow.com/users/6355745/fatimahfatcakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 55517614, "answer_count": 1, "score": 2, "last_activity_date": 1603359091, "creation_date": 1554331349, "last_edit_date": 1554334359, "question_id": 55505389, "link": "https://stackoverflow.com/questions/55505389/how-to-build-this-graph-in-python", "title": "How to build this graph in Python?", "body": "<p>I am practicing Python want to create a graph in python with a starting node and some requirements for the children. The value of each node will be 3 digits (e.g. 320, 110), and I want to generate the children in the following order:</p>\n\n<ul>\n<li>1 is subtracted from the first digit</li>\n<li>1 is added to the first digit</li>\n<li>1 is subtracted from the second digit</li>\n<li>1 is added to the second digit</li>\n<li>1 is subtracted from the third digit</li>\n<li>1 is added to the third digit</li>\n</ul>\n\n<p>The input of the start node and goal node is from a text file, and they might have a third line with a list of forbidden numbers which are numbers that the search algorithm cannot visit. </p>\n\n<p>Constraints:</p>\n\n<ul>\n<li>You cannot add to the digit 9 or subtract from the digit 0;</li>\n<li>You cannot make a move that transforms the current number into one of \nthe forbidden numbers;</li>\n<li>You cannot change the same digit twice in two successive moves.</li>\n</ul>\n\n<p>Note that since the numbers have 3 digits, at the beginning there are at most 6 possible moves from starting node.\nAfter the first move, the branching factor is at most 4, due to the constraints on the moves and especially due to constraint 3.</p>\n\n<p>I have already implemented a Node class for my graph, but I am having problems with actually building the graph. </p>\n\n<p>This is what I have done with the Node class:</p>\n\n<pre><code>class Node(object):\n    def __init__(self, data):\n        self.data = data\n        self.children = []\n        self.parent = []\n\n    def add_child(self, obj):\n        self.children.append(obj)\n\n    def add_parent(self, obj):\n        self.parent.append(obj)\n\nroot = Node(320)\n\ndef get_root():\n    print(root.data)\n\n# some things I've tried\n# p = Node(root.data-100)\n# p.add_parent(root.data)\n# root.add_child(p.data)\n# set_root(320)\nget_root()\n# print(root.data)\n# print(root.children)\n# print(p.parent)\n# p = Node(root.data-100)\n</code></pre>\n\n<p>I have implemented a BFS which gives the correct path output when give a graph, but I am unable to create the actual graph to use in this BFS. Here is my BFS:</p>\n\n<pre><code>visited = set()\n\ndef bfs(graph_to_search, start, end):\n    queue = [[start]]\n    # visited = set()\n\n    while queue:\n        # Gets the first path in the queue\n        path = queue.pop(0)\n\n        # Gets the last node in the path\n        vertex = path[-1]\n\n        # Checks if we got to the end\n        if vertex == end:\n            return path\n        # We check if the current node is already in the visited nodes \n            set in order not to recheck it\n        elif vertex not in visited:\n            # enumerate all adjacent nodes, construct a new path \n                    and push it into the queue\n            for current_neighbour in graph_to_search.get(vertex[]):\n                new_path = list(path)\n                new_path.append(current_neighbour)\n                queue.append(new_path)\n\n            # Mark the vertex as visited\n            visited.add(vertex)\n</code></pre>\n\n<p>Example:\nWith a start node: 320 and end node: 110, with no forbidden nodes, A BFS search on this graph would look like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0cwkI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cwkI.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/z6Gg3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z6Gg3.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Any help would be very much appreciated. Thank you.</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 1305, "user_id": 8748308, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d381645435bac3e6d4c7d041f6c9e93d?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hendry", "link": "https://stackoverflow.com/users/8748308/a-hendry"}, "is_accepted": false, "score": 1, "last_activity_date": 1561832253, "creation_date": 1561832253, "answer_id": 56819844, "question_id": 55505379, "link": "https://stackoverflow.com/questions/55505379/where-is-tf-contrib-layers-recompute-grad-in-tensorflow-2-0/56819844#56819844", "title": "Where is tf.contrib.layers.recompute_grad in TensorFlow 2.0?", "body": "<p>Ya, they didn't move it. This is a big error on Google's part. I won't move to Tensorflow 2 for this reason. Recomputing gradients and creating memory efficient graphs is EXTREMELY helpful, if not vital.</p>\n"}], "owner": {"reputation": 6228, "user_id": 16480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/81b0eda1a755030312d63998980d6b7a?s=128&d=identicon&r=PG", "display_name": "Geoffrey Irving", "link": "https://stackoverflow.com/users/16480/geoffrey-irving"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1561832253, "creation_date": 1554331279, "question_id": 55505379, "link": "https://stackoverflow.com/questions/55505379/where-is-tf-contrib-layers-recompute-grad-in-tensorflow-2-0", "title": "Where is tf.contrib.layers.recompute_grad in TensorFlow 2.0?", "body": "<p>Does TensorFlow 2.0 have any support for making a computation as \"recompute during the gradient pass\" to save memory?  TensorFlow 1.x has <a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/layers/recompute_grad\" rel=\"nofollow noreferrer\">tf.contrib.layers.recompute_grad</a>, but <code>contrib</code> is gone in TF 2.0 and it doesn't look like anyone moved <code>recompute_grad</code>.</p>\n"}, {"tags": ["python", "keras", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 973, "user_id": 10721563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tGUHp.png?s=128&g=1", "display_name": "Ozan Yurtsever", "link": "https://stackoverflow.com/users/10721563/ozan-yurtsever"}, "edited": false, "score": 0, "creation_date": 1554368168, "post_id": 55511543, "comment_id": 97728567, "body": "Thanks for the answer. I have shuffled the dataset and it didn&#39;t help. I have not tried plotting the dataset or testing-on-training methods yet but I tried to convert this classification problem into binary classification. I convert my &quot;6&quot; labels into &quot;1&quot; label which is being &quot;angry&quot; or not angry and eliminated other emotions from the labels. With binary classification, I managed to have the above %80 accuracy. But whenever labels increases, the model is dying. That&#39;s why I was thinking my model always tries to predict the same class and that is why I am having &quot;1/6&quot; accuracy."}], "tags": [], "owner": {"reputation": 2113, "user_id": 1626564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/aaf1eb19bb7d33eb7af04ad9aae96a1f?s=128&d=identicon&r=PG", "display_name": "pitfall", "link": "https://stackoverflow.com/users/1626564/pitfall"}, "is_accepted": false, "score": 1, "last_activity_date": 1554367489, "creation_date": 1554367489, "answer_id": 55511543, "question_id": 55505340, "link": "https://stackoverflow.com/questions/55505340/non-weighted-class-labels-accuracy-does-not-change/55511543#55511543", "title": "Non-weighted class labels - Accuracy does not change", "body": "<p>Having a balanced dataset, i.e. each class has the same number of samples, is better than an imbalanced one. So I don't think this is the issue. </p>\n\n<ul>\n<li><p>If you have not shuffle your data in training, you should definitely do it. </p></li>\n<li><p>If you have done this, I think it will be better for you to check your dataset and network. </p>\n\n<ul>\n<li><p>For dataset, simply plotting some samples, and see whether you can classify them correctly. If you can't do it, this implies something wrong with your data.</p></li>\n<li><p>For model, simply run the testing-on-train experiment, which uses a very small number of samples, say 100, and use the exact same training set for testing. The idea is that if your network works, it should quickly overfit to this smaller dataset. Otherwise, this means your network suffers some serious problems.</p></li>\n</ul></li>\n</ul>\n\n<p>Some other quick tips:</p>\n\n<ul>\n<li>use a moderate batch size, say 16 or 32</li>\n<li>remove all batch-normalization layers if you have them</li>\n<li>try different learning rates</li>\n</ul>\n"}], "owner": {"reputation": 973, "user_id": 10721563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tGUHp.png?s=128&g=1", "display_name": "Ozan Yurtsever", "link": "https://stackoverflow.com/users/10721563/ozan-yurtsever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554368662, "creation_date": 1554330977, "last_edit_date": 1554368662, "question_id": 55505340, "link": "https://stackoverflow.com/questions/55505340/non-weighted-class-labels-accuracy-does-not-change", "title": "Non-weighted class labels - Accuracy does not change", "body": "<p>I have a classification problem which tries to predict 6 classes. The input feature is the ECG signal. Here are the labels of the dataset;</p>\n\n<blockquote>\n  <p>anger, calmness, disgust, fear, happiness, sadness</p>\n</blockquote>\n\n<p>Here is how the dataset looks like;</p>\n\n<pre><code>                                               ecg      0  1  2  3  4  5\n0    [[0.1912, 0.3597, 0.3597, 0.3597, 0.3597, 0.35...  1  0  0  0  0  0\n1    [[0.2179, 0.4172, 0.4172, 0.4172, 0.4172, 0.41...  1  0  0  0  0  0\n2    [[0.1986, 0.3537, 0.3537, 0.3537, 0.3537, 0.35...  0  1  0  0  0  0\n3    [[0.2808, 0.5145, 0.5145, 0.5145, 0.5145, 0.51...  0  1  0  0  0  0\n4    [[0.1758, 0.2977, 0.2977, 0.2977, 0.2977, 0.29...  0  0  1  0  0  0\n5    [[0.2183, 0.396, 0.396, 0.396, 0.396, 0.396, 0...  0  0  1  0  0  0\n6    [[0.204, 0.3869, 0.3869, 0.3869, 0.3869, 0.386...  0  0  0  1  0  0\n7    [[0.1695, 0.2823, 0.2823, 0.2823, 0.2823, 0.28...  0  0  0  1  0  0\n8    [[0.2005, 0.3575, 0.3575, 0.3575, 0.3575, 0.35...  0  0  0  0  1  0\n9    [[0.1969, 0.344, 0.344, 0.344, 0.344, 0.344, 0...  0  0  0  0  1  0\n10   [[0.2312, 0.4141, 0.4141, 0.4141, 0.4141, 0.41...  0  0  0  0  0  1\n11   [[0.1862, 0.3084, 0.3084, 0.3084, 0.3084, 0.30...  0  0  0  0  0  1\n12   [[0.2605, 0.47, 0.47, 0.47, 0.47, 0.47, 0.3814...  1  0  0  0  0  0\n13   [[0.2154, 0.3733, 0.3733, 0.3733, 0.3733, 0.37...  1  0  0  0  0  0\n.                            .                          .  .  .  .  .  .\n.                            .                          .  .  .  .  .  .\n.                            .                          .  .  .  .  .  .\n.                            .                          .  .  .  .  .  .\n</code></pre>\n\n<p>As you can see, I have one-hot encoded my labels. </p>\n\n<p>The problem is, whatever I try, the accuracy is not going above <code>0.2</code> and it is always repeating itself on every epoch. The reason why I called this dataset as <code>\"non-weighted\"</code> is because there is the same number of instances for each class labels. For example, if there is 60 row of data which is labeled as <code>\"anger\"</code>, then there is also 60 <code>\"calmness\"</code>, 60 <code>\"disgust\"</code> and so on. I thought, it is causing the model to predict always the same class and that is why the accuracy does not change. </p>\n\n<p>Is there any way to solve this problem? Thanks in advance.</p>\n\n<p><strong>Edit:</strong>\nI have tried to convert this classification problem into a <strong>\"binary classification.\"</strong> I simply eliminated all of the labels and convert them into a single label which is being <strong>angry</strong> or <strong>not angry</strong>. In my keras model, I only changed the loss function from <strong>\"categorical-crossentropy\"</strong> to <strong>\"binary-crossentropy\"</strong>. After that, the accuracy of the model dramatically changed and I had above %80 accuracy. So, I don't know what does it mean and what should I understand from this result. But somehow, when there is more than 2 classes in my dataset and it is not a binary classification problem, the accuracy is below %20 and it is repeating itself on every epoch.</p>\n"}, {"tags": ["python", "pandas", "python-multiprocessing"], "comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1554330889, "post_id": 55505311, "comment_id": 97716459, "body": "Just wondering, did you have a look at dask?"}, {"owner": {"reputation": 5650, "user_id": 4045275, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f1fcadfa97c97cd83ed2f95399c5855b?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista anonymous", "link": "https://stackoverflow.com/users/4045275/pythonista-anonymous"}, "reply_to_user": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1554330968, "post_id": 55505311, "comment_id": 97716485, "body": "I forgot to mention I had looked at dask: it has a read_csv module, but not a read_excel. And, like I said, converting to CSV is rarely a better solution for me"}, {"owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "edited": false, "score": 2, "creation_date": 1554331065, "post_id": 55505311, "comment_id": 97716516, "body": "I don&#39;t think your approach will work. While one process is trying to read from the excel file, won&#39;t the other processes have to wait until the synchronization lock is closed? That is why it is slower. You should think about your problem a little differently. Stream the records from your excel in chunks to the process pool from your parent process instead of having the pool workers all try to access the file simultaneously."}, {"owner": {"reputation": 5650, "user_id": 4045275, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f1fcadfa97c97cd83ed2f95399c5855b?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista anonymous", "link": "https://stackoverflow.com/users/4045275/pythonista-anonymous"}, "edited": false, "score": 0, "creation_date": 1554331258, "post_id": 55505311, "comment_id": 97716588, "body": "I am not sure I am following: it&#39;s slower because, every time a process reads from the file, it locks it? So two processes cannot read from the same file at the same time? Are you suggesting different processes should access the same sheet? Why would that work and not be subject to the lock?"}, {"owner": {"reputation": 5650, "user_id": 4045275, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f1fcadfa97c97cd83ed2f95399c5855b?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista anonymous", "link": "https://stackoverflow.com/users/4045275/pythonista-anonymous"}, "edited": false, "score": 0, "creation_date": 1554331309, "post_id": 55505311, "comment_id": 97716607, "body": "What if I made copies of the file? Could process 1 access sheet 1 from file 1, while process 2 reads sheet 2 from file 2, etc? Would that work, or would it still be subject to the synchronization lock?"}, {"owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "edited": false, "score": 1, "creation_date": 1554331466, "post_id": 55505311, "comment_id": 97716654, "body": "Yeah, you are starting each process in parallel at the same time; your empirical results suggest to me that only one can access at a time via pd.read_excel method. If you logged with the process id in your target function you&#39;ll probably see that the processes are all taking turns to read data from excel and calculate their response. To fix this, i would read all of the relevant data in the main process in memory, then submit that data to the process pool as an argument for the workers to consume."}, {"owner": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "edited": false, "score": 1, "creation_date": 1554413870, "post_id": 55505311, "comment_id": 97754707, "body": "For the record, IO has almost nothing to do with this issue, and locking has nothing at all to do with it: the problem is that <code>xlrd</code> processes every row of every sheet every time you call <code>read_excel</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "edited": false, "score": 0, "creation_date": 1554349675, "post_id": 55505968, "comment_id": 97720546, "body": "This code has numerous errors - I corrected at least five of them trying to get it to run. It still fails, because <code>xl.dump</code> doesn&#39;t do what you think it does - it dumps debug data, none of the contents of the file. Even if this did somehow make the file available to the subprocesses, it wouldn&#39;t help - it would still be no faster than the original question&#39;s code, because of the problem with xlrd I described in my answer. Please make sure you do at least minimal testing of your solutions before posting them."}, {"owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "reply_to_user": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "edited": false, "score": 0, "creation_date": 1554375439, "post_id": 55505968, "comment_id": 97733047, "body": "Thanks Nathan, it was an outline meant to illustrate an idea. I did not say it was a working solution."}], "tags": [], "owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "is_accepted": false, "score": -1, "last_activity_date": 1554336038, "creation_date": 1554336038, "answer_id": 55505968, "question_id": 55505311, "link": "https://stackoverflow.com/questions/55505311/how-to-import-multiple-excel-sheets-into-pandas-with-multiprocessing/55505968#55505968", "title": "How to import multiple Excel sheets into pandas with multiprocessing?", "body": "<p>Here is an outline of how you can bypass file lock and achieve concurrency with little changes to your code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import io\nimport xlrd\nfrom functools import partial\n\ndef read_sheet(buff, sheetname):\n    # reads 1 row only, to retrieve column names and sheet names\n    df = pd.read_excel(buff, sheetname=sheetname)\n    return df\n\nif __name__=='__main__':\n    start=time.time()\n    time_par = time.time() -start\n    xl = xlrd.open_workbook(\"myfile.xls\")  # you fill in this\n    sheets = xl.book.sheet_names()\n    buff = io.BytesIO()\n    xl.dump(buff)\n    buff.seek(0)\n    target = partial(read_sheet, buff)\n    with Pool(num_processes) as p:\n        dfs = p.map(target, sheetnames)\n    time_as = time.time() - start - time_par\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5650, "user_id": 4045275, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f1fcadfa97c97cd83ed2f95399c5855b?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista anonymous", "link": "https://stackoverflow.com/users/4045275/pythonista-anonymous"}, "edited": false, "score": 0, "creation_date": 1554376762, "post_id": 55507458, "comment_id": 97733860, "body": "How do I get the results of the async function into a list? I am asking because I want to understand how the function works , even though it is not very well-suited for this specific task"}, {"owner": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "reply_to_user": {"reputation": 5650, "user_id": 4045275, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f1fcadfa97c97cd83ed2f95399c5855b?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista anonymous", "link": "https://stackoverflow.com/users/4045275/pythonista-anonymous"}, "edited": false, "score": 0, "creation_date": 1554413720, "post_id": 55507458, "comment_id": 97754652, "body": "The docs for the object <code>map_async</code> returns are here: <a href=\"https://docs.python.org/3.6/library/multiprocessing.html#multiprocessing.pool.AsyncResult\" rel=\"nofollow noreferrer\">docs.python.org/3.6/library/&hellip;</a>. in short, call <code>get</code> with an optional timeout to get a list of results, or give <code>map_async</code> a callback argument that will be called with each result as it becomes available."}, {"owner": {"reputation": 5650, "user_id": 4045275, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f1fcadfa97c97cd83ed2f95399c5855b?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista anonymous", "link": "https://stackoverflow.com/users/4045275/pythonista-anonymous"}, "edited": false, "score": 0, "creation_date": 1554415091, "post_id": 55507458, "comment_id": 97755163, "body": "Thank you, but I am afraid I still do not fully understand. Could you please show me how I should modify the code so as to store the output of map_async?"}], "tags": [], "owner": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "is_accepted": false, "score": 1, "last_activity_date": 1554349088, "creation_date": 1554349088, "answer_id": 55507458, "question_id": 55505311, "link": "https://stackoverflow.com/questions/55505311/how-to-import-multiple-excel-sheets-into-pandas-with-multiprocessing/55507458#55507458", "title": "How to import multiple Excel sheets into pandas with multiprocessing?", "body": "<p>A couple of things are going on here:</p>\n\n<ul>\n<li>The 36 seconds that <code>parallel_read_async</code> seems to be taking is in fact entirely taken up by the call to <code>pd.read_excel('excel_write_example.xlsx', nrows=1, sheet_name=None)</code>. <code>map_async</code> returns immediately, giving you the <code>MapResult</code> object, and you're immediately causing an exception by trying to iterate over it, so in this version essentially no work is being done by the <code>read_single_sheet</code> function.</li>\n<li>Furthermore, <code>pd.read_excel</code> with <code>sheet_name=None</code> is taking exactly as long as with <code>sheet_name='1'</code> etc. - so in your <code>parallel_read</code> function, each process is doing the work of parsing every row of every sheet. This is why it takes so much longer.</li>\n</ul>\n\n<p>And now that I've written out, I remember that my company ran into this same problem, and we ended up implementing our own xlsx parser because of it. There's simply no way with xlrd - which pandas uses - to open an xlsx file without parsing it completely.</p>\n\n<p>If you have the option to produce (or receive?) xls files instead, those should be much quicker to work with. Besides that, the export-to-csv option may be your best bet, if the speed of the non-parallel processing is unacceptable.</p>\n"}, {"tags": [], "owner": {"reputation": 5650, "user_id": 4045275, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f1fcadfa97c97cd83ed2f95399c5855b?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista anonymous", "link": "https://stackoverflow.com/users/4045275/pythonista-anonymous"}, "is_accepted": false, "score": 2, "last_activity_date": 1555358125, "last_edit_date": 1555358125, "creation_date": 1554377376, "answer_id": 55514869, "question_id": 55505311, "link": "https://stackoverflow.com/questions/55505311/how-to-import-multiple-excel-sheets-into-pandas-with-multiprocessing/55514869#55514869", "title": "How to import multiple Excel sheets into pandas with multiprocessing?", "body": "<p><strong>I am posting this as an answer because, while it doesn\u2019t answer the question of how to do it in Python, it still provides a feasible alternative to speed up the reading time materially, so it can be of interest to any Python user</strong>; additionally, it relies only on open-source software, and requires the user to learn only a couple of commands in R.</p>\n\n<p><em>My solution is: do it in R!</em></p>\n\n<p>I posted about it <a href=\"https://stackoverflow.com/questions/55513145/fastest-way-to-read-large-excel-xlsx-files-to-parallelize-or-not\">here</a> , which also shows my (very minimal) code ; basically, on the same file, R\u2019s <code>readxl</code> took 5.6 seconds. To recap:</p>\n\n<ul>\n<li>Python from xlsx: 33 seconds</li>\n<li>Python from CSV: ca. 2 seconds</li>\n<li>R from xlsx: 5.6 seconds</li>\n</ul>\n\n<p>The link also has an answer which shows parallelising can speed up the process even more.</p>\n\n<p>I believe the key difference is that the <code>pandas.read_cs</code>v relies on C code, while <code>pandas.read_excel</code> relies on more Python code. R's <code>readxl</code> is probably based on C. It might be possible to use a C parser to import xlsx files into Python, but AFAIK no such parser is available as of now.</p>\n\n<p>It is a feasible solution because, after importing into R, you can easily export to a format which retains all the information on data types, and which Python can read from (SQL, parquet, etc). Not everyone will have a SQL server available, but formats like parquet or sqlite don't require any additional software. </p>\n\n<p>So <strong>the changes to the workflow are minimal: the initial data loading, which, at least in my case, tends to be a one-off, is in R, and everything else continues to be in Python.</strong></p>\n\n<p>I also noticed that exporting the same sheets to SQL is much faster with R and <code>DBI::dbWriteTable</code> than with <code>pandas</code> (4.25 sec vs 18.4 sec).</p>\n"}], "owner": {"reputation": 5650, "user_id": 4045275, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f1fcadfa97c97cd83ed2f95399c5855b?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista anonymous", "link": "https://stackoverflow.com/users/4045275/pythonista-anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1640, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1555358125, "creation_date": 1554330820, "question_id": 55505311, "link": "https://stackoverflow.com/questions/55505311/how-to-import-multiple-excel-sheets-into-pandas-with-multiprocessing", "title": "How to import multiple Excel sheets into pandas with multiprocessing?", "body": "<p><strong>I am trying to use multiprocessing on a 12-core machine to read an Excel file</strong> \u2013 a 60MB file with 15 sheets and 10,000 rows each. Importing all the sheets with pandas.read_csv and no parallelisation still takes about 33 seconds.</p>\n\n<p>If I use pool.map() it works, but it takes longer than the non-parallel version: 150 seconds vs 33!</p>\n\n<p>If I use pool.map_async() it takes 36 seconds, but I can`t seem to access (and cannot therefore check) the output!</p>\n\n<p><strong>My questions are:</strong></p>\n\n<ul>\n<li>what am I doing wrong? both pool.map and pool.map_async take roughly\nthe same time even if I set nrows=10 in the read_single_sheet\nfunction; same time whether it reads 10 rows or 10,000 \u2013 how is that\npossible?</li>\n<li>How do I get the results of pool.map_async()? I have tried\n<code>output = [p.get() for p in dataframes]</code> but it doesn`t work: </li>\n</ul>\n\n<blockquote>\n  <p>MapResult\n         object is not iterable</p>\n</blockquote>\n\n<ul>\n<li>Is this more of a IO-bound than a CPU-bound\nproblem? Still, why does pool.map take so long?</li>\n</ul>\n\n<p>Reading the same data from CSV (each Excel sheet saved to a separate CSV) takes 2 seconds on my machine. However, CSV is not really a good option for what I need to do. I often have 10 to 20 mid-sized tabs; converting them manually may often take longer than waiting for pandas to read them, plus if I receive updated versions I have to do the manual conversion again.</p>\n\n<p>I know I could use a VBA script in Excel to automatically save each sheet to CSV, but data types are most often inferred correctly when reading from Excel \u2013 not so with CSV, especially for dates (my dates are never ISO yyyy-mm-dd): I\u2019d have to identify the date fields, specify the format, etc \u2013 just reading from Excel would often be faster. Especially because these tasks tend to be one-offs: I import the data once, maybe twice or 3 times if I receive an update, store it in SQL and then all my Python scripts read from SQL.</p>\n\n<p>The code I am using to read the file is:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport time\nimport multiprocessing\nfrom multiprocessing import Pool\ndef parallel_read():\n    pool = Pool(num_cores)\n    # reads 1 row only, to retrieve column names and sheet names\n    mydic = pd.read_excel('excel_write_example.xlsx', nrows=1, sheet_name=None)\n    sheets =[]\n    for d in mydic:\n        sheets.extend([d])\n    dataframes  = pool.map( read_single_sheet , sheets  )\n    return dataframes\n\ndef parallel_read_async():\n    pool = Pool(num_cores)\n    # reads 1 row only, to retrieve column names and sheet names\n    mydic = pd.read_excel('excel_write_example.xlsx', nrows=1, sheet_name=None)\n    sheets =[]\n    for d in mydic:\n        sheets.extend([d])\n    dataframes  = pool.map_async( read_single_sheet , sheets  ) \n    output = None\n    # this below doesn`t work - can`t understand why\n    output = [p.get() for p in dataframes]\n    return output\n\ndef read_single_sheet(sheet):\n    out = pd.read_excel('excel_write_example.xlsx', sheet_name=sheet )\n    return out\n\nnum_cores = multiprocessing.cpu_count() \n\nif __name__=='__main__':\n    start=time.time()\n    out_p = parallel_read()\n    time_par = time.time() -start\n\n    out_as = parallel_read_async()\n    time_as = time.time() - start - time_par\n</code></pre>\n\n<p>The code I used to create the Excel is:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\nsheets = 15\nrows= int(10e3)\n\nwriter = pd.ExcelWriter('excel_write_example.xlsx')\n\ndef create_data(sheets, rows):\n    df = {} # dictionary of dataframes\n    for i in range(sheets):\n        df[i] = pd.DataFrame(data= np.random.rand(rows,30) )\n        df[i]['a'] = 'some long random text'\n        df[i]['b'] = 'some more random text'\n        df[i]['c'] = 'yet more text'\n    return df\n\ndef data_to_excel(df, writer):\n    for d in df:\n        df[d].to_excel(writer, sheet_name = str(d), index=False)\n    writer.close()\n\ndf = create_data(sheets, rows)\ndata_to_excel(df, writer)\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 3, "creation_date": 1554331369, "post_id": 55505289, "comment_id": 97716626, "body": "The error seems to be telling the truth: inside <code>Calculate</code> you haven&#39;t defined a variable named <code>annualInterestrate</code>. What value do you think it should have?"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1554331548, "post_id": 55505289, "comment_id": 97716677, "body": "I don&#39;t quite understand the <code>self.annualInterestRateVar.get()</code> bit. There is nowhere to put that information into your GUI. Shouldn&#39;t it just be a normal variable and not a <code>tkinter.DoubleVar()</code>?"}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1554332478, "post_id": 55505289, "comment_id": 97716929, "body": "set(), setatrr(), getattr() build-in functions."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1554367215, "post_id": 55505289, "comment_id": 97727949, "body": "Change to <code>self.annualInterestRate = 5.0</code>, this makes the variable a <code>class member</code>."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1554433968, "creation_date": 1554433968, "answer_id": 55527699, "question_id": 55505289, "link": "https://stackoverflow.com/questions/55505289/question-about-tkinter-annualinterestrate-is-not-defined/55527699#55527699", "title": "question about tkinter, annualInterestRate is not defined", "body": "<p>In last line in <code>Calculate</code> you try to get value from variable <code>annualInterestRate</code> and assign to <code>self.annualInterestRateVar</code></p>\n\n<pre><code>self.annualInterestRateVar.set(annualInterestRate)\n</code></pre>\n\n<p>But <code>annualInterestRate</code> is local variable which exists only in <code>Calculate</code> and has nothing to do with local variable <code>annualInterestRate</code> which exists in <code>getMonthlyPayment</code></p>\n\n<p>So you try to get value from variable <code>annualInterestRate</code> but you didn't assign any value to <code>annualInterestRate</code> in <code>Calculate</code>. </p>\n\n<p>For Python you try to get value from variable which you never created. So Python display </p>\n\n<pre><code> annualInterestRate is not defined\n</code></pre>\n\n<p>I don't know what value you try to assing in <code>self.annualInterestRateVar.set(...)</code>. If it is value from local variable <code>annualInterestRate</code> which exists in <code>getMonthlyPayment</code> then maybe you should return it from <code>getMonthlyPayment</code></p>\n\n<pre><code>return monthlyPayment, annualInterestRate\n</code></pre>\n\n<p>and assing in <code>Calculate</code></p>\n\n<pre><code>monthlyPayment, annualInterestRate = self.getMonthlyPayment(...)\n</code></pre>\n\n<hr>\n\n<p>BTW: you have wrong indention in <code>while</code> loop in <code>getMonthlyPayment</code> and it will exit <code>getMonthlyPayment</code> after first loop.</p>\n"}], "owner": {"reputation": 1, "user_id": 11308270, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iLMngjHEgz0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbdcvYqj5fSM09dmkRKS9beohCZw/mo/photo.jpg?sz=128", "display_name": "vincent lara", "link": "https://stackoverflow.com/users/11308270/vincent-lara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554433968, "creation_date": 1554330733, "last_edit_date": 1554340806, "question_id": 55505289, "link": "https://stackoverflow.com/questions/55505289/question-about-tkinter-annualinterestrate-is-not-defined", "title": "question about tkinter, annualInterestRate is not defined", "body": "<p>I need some help with my code, my assignment is to calculate monthly payment, and total payment with a given interest. The user enters a loan amount and years. The program then displays the payments in a window using tkinter until the interest reaches 8.0. </p>\n\n<p>My problem is that I can't get my program to display the interest, it only displays 0.0 but gives me the error \"annualInterestRate is not defined\", the program displays the monthly and total payment just fine but only the first line and doesn't continue showing the rest of the payments.</p>\n\n<p>I'm really new to programming so any tips are appreciated.</p>\n\n<p>Here's a link to the full file: <a href=\"https://pastebin.com/AUicQzu0\" rel=\"nofollow noreferrer\">https://pastebin.com/AUicQzu0</a></p>\n\n<pre><code>def Calculate(self):\n    monthlyPayment = self.getMonthlyPayment(\n        float(self.loanamountVar.get()),\n        int(self.yearsVar.get()),\n        float(self.annualInterestRateVar.get()))\n\n    self.monthlyPaymentVar.set(format(monthlyPayment, '10.2f'))\n    totalPayment = float(self.monthlyPaymentVar.get()) * 12 * int(self.yearsVar.get())\n    self.totalPaymentVar.set(format(totalPayment, '10.2f'))\n    self.annualInterestRateVar.set(annualInterestRate)\n\ndef getMonthlyPayment(self, loanamount, years, annualInterestRate):\n\n    annualInterestRate = 5.0\n    while annualInterestRate &lt;= 8.0:\n        monthlyInterestRate = annualInterestRate / 1200\n        monthlyPayment = loanamount * monthlyInterestRate / (1 - 1 / (1 + monthlyInterestRate) ** (years * 12))\n        annualInterestRate += 1.0 / 8\n        return monthlyPayment\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 3, "creation_date": 1554331029, "post_id": 55505271, "comment_id": 97716506, "body": "There are a lot of <code>return</code>s in the code before the  last part. If one of them is executed, the function execution ends there."}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554331213, "post_id": 55505271, "comment_id": 97716572, "body": "have you tried calling <code>digDig</code> ? dumb question I know... just wanted to make sure."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1554331558, "post_id": 55505271, "comment_id": 97716680, "body": "Your posted code defines two variables and two functions, and then quits.  The code is not at all minimal, and you haven&#39;t traced the control flow of ranPipe.  You generally exit the <code>while True</code> loop by leaving the function, so you don&#39;t reach the conversion code."}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 9872359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379457a0605f333084cbe0f31f60f377?s=128&d=identicon&r=PG&f=1", "display_name": "zacm", "link": "https://stackoverflow.com/users/9872359/zacm"}, "is_accepted": true, "score": 0, "last_activity_date": 1554331745, "creation_date": 1554331745, "answer_id": 55505452, "question_id": 55505271, "link": "https://stackoverflow.com/questions/55505271/why-doesnt-part-of-my-code-run-at-the-end-of-a-function/55505452#55505452", "title": "Why doesn&#39;t part of my code run at the end of a function?", "body": "<p>To answer your question, you call <code>ranPipe</code> with the parameter <code>north=1</code>, so when you get to the third while loop, you have the line <code>if north == 1:</code> which evaluates to true, resulting in the return being executed and the function being exited.</p>\n\n<p>Just as an addendum of things I saw while going through your code:\nYou are using <code>prePipe</code> in your function <code>ranPipe</code>, but haven't defined it in that function; you only defined it in digDig, and  you're using <code>for x in range(conChart)</code>, but the <code>range</code> function accepts an integer: you need to specify <code>len(conChart)</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 6815357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4495da8662a170081fdc2e7d2a4d71e?s=128&d=identicon&r=PG&f=1", "display_name": "BadProgrammingCO", "link": "https://stackoverflow.com/users/6815357/badprogrammingco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55505452, "answer_count": 1, "score": 0, "last_activity_date": 1554331745, "creation_date": 1554330644, "question_id": 55505271, "link": "https://stackoverflow.com/questions/55505271/why-doesnt-part-of-my-code-run-at-the-end-of-a-function", "title": "Why doesn&#39;t part of my code run at the end of a function?", "body": "<p>I'm creating a program that generates a random series of pipe characters to create a block of pipes. At the end of my ranPipe() function, there is a makeshift converter that changes the text representing a pipe character to the character. For some reason, this doesn't seem to run -- testing it with print()s both inside the for loop of the converter and outside (just at the end of the function), it doesn't seem to run (or at least, it doesn't print). </p>\n\n<p>I cannot just create a new function for the conversion, as it relies on variables used in ranPipe(), and I'm not very good with global variable declarations, so it causes more problems than it solves. It also must be referenced point of the ranPipe() function, because it should go after the checks seen earlier on in the code.</p>\n\n<p>Why would this be, and how can I fix it? \n(Code below)</p>\n\n<pre><code>import random\n\nfinCheck = 0\npipeNums = {\n    ##Note: Structure of values is icon, upcon, downcon, leftcon, rightcon\n    \"vertCon\": \"\u25511100\",\n    \"horiCon\": \"\u25500011\",\n    \"leftCornUpper\": \"\u25540101\",\n    \"rightCornUpper\": \"\u25570110\",\n    \"leftCornLower\": \"\u255a1001\",\n    \"rightCornLower\": \"\u255d1010\",\n    \"vertConMidL\": \"\u25601101\",\n    \"vertConMidR\": \"\u25631110\",\n    \"horiConMidN\": \"\u25660111\",\n    \"horiConMidS\": \"\u25691011\",\n    \"cross\": \"\u256c1111\"\n}\n\ndef ranPipe(north, south, left, right):\n    ##Generates a random piece\n    curPipe = random.choice(list(pipeNums))\n\n    ##Resets piece check\n    finCheck = 0\n\n    ##Start of piece check looop\n    while finCheck &lt; 3:\n        ##If the piece doesn't match previous piece, regen.\n        while (curPipe[1] == \"1\" and prePipe[2] == \"0\") or (curPipe[3] == \"1\" and prePipe[4] == \"0\") or (curPipe[4] == \"1\" and prePipe[3] == \"0\"):\n            curPipe = random.choice(list(pipeNums))\n        ##Adds to check total when this completes\n        finCheck += 1\n\n        ##Additional checks for edge pieces.\n        while True:\n            if north == 1:\n                while curPipe[1] == \"1\":\n                    curPipe = random.choice(list(pipeNums))\n                return curPipe\n            elif south == 1:\n                while curPipe[2] == \"1\":\n                    curPipe = random.choice(list(pipeNums))\n                return curPipe\n            elif left == 1:\n                while curPipe[3] == \"1\":\n                    curPipe = random.choice(list(pipeNums))\n                return curPipe\n            elif right == 1:\n                while curPipe[4] == \"1\":\n                    curPipe = random.choice(list(pipeNums))\n                return curPipe\n            break\n\n        ##Adds to check total when this completes\n        finCheck += 1\n\n        ##Runs one more general check. Adds if it passes, otherwise all check points are removed and it repeats.\n        while True:\n            if (curPipe[1] == \"1\" and prePipe[2] == \"0\") or (curPipe[3] == \"1\" and prePipe[4] == \"0\") or (curPipe[4] == \"1\" and prePipe[3] == \"0\"):\n                finCheck = 0\n                curPipe = random.choice(list(pipeNums))\n            else:\n                finCheck += 1\n                break\n\n    ##Converts the value of the current pipe to its value rather than its name    \n    conChart = ['\u2551', '\u2550', '\u2554', '\u2557', '\u255a', '\u255d', '\u2560', '\u2563', '\u2566', '\u2569', '\u256c']\n    for x in range(conChart):\n        if curPipe == pipeNums[x]:\n            curPipe = conChart[x]\n\ndef digDig(length, width):\n    print(\"What length do want your pipes to be?\")\n    length = int(input(\"Note: The length and width of your creation may vary, as it is counted in number of characters rather than a definite measure.\\n\"))\n    width = int(input(\"And the width?\\n\"))\n\n    ##Start of code, top corner\n    prePipe = random.choice(list(pipeNums))\n    print(prePipe)\n\n    ##Top line\n    for x in range(length):\n        print(ranPipe(1, 0, 0, 1))\n</code></pre>\n\n<p>(I appreciate that my code is (a) not very pythonic in places, and (b) incomplete. While I always appreciate help in making my code more efficient, I am specifically asking for help with the problem with my converter, and would prefer for the focus to be on that rather than my convoluted code).</p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5", "qcombobox"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 2, "creation_date": 1554331295, "post_id": 55505197, "comment_id": 97716603, "body": "when I run it in console on Linux then I get <code>AttributeError: &#39;int&#39; object has no attribute &#39;toPyObject&#39;</code>. It works correctly when I remove <code>.toPyObject()</code>"}, {"owner": {"reputation": 579, "user_id": 3605534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/619ed4b84cfd48e0a07b10b76188dd4b?s=128&d=identicon&r=PG&f=1", "display_name": "GSandro_Strongs", "link": "https://stackoverflow.com/users/3605534/gsandro-strongs"}, "edited": false, "score": 0, "creation_date": 1554331885, "post_id": 55505197, "comment_id": 97716759, "body": "Oh yes. You&#39;re ok. I was migrating from PyQt4 and with toPyObject ran. So I did it with your help, thanks a lot."}], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 3605534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/619ed4b84cfd48e0a07b10b76188dd4b?s=128&d=identicon&r=PG&f=1", "display_name": "GSandro_Strongs", "link": "https://stackoverflow.com/users/3605534/gsandro-strongs"}, "edited": false, "score": 0, "creation_date": 1554332129, "post_id": 55505416, "comment_id": 97716841, "body": "Thanks a lot. Yes I was migrating from pyqt4"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 579, "user_id": 3605534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/619ed4b84cfd48e0a07b10b76188dd4b?s=128&d=identicon&r=PG&f=1", "display_name": "GSandro_Strongs", "link": "https://stackoverflow.com/users/3605534/gsandro-strongs"}, "edited": false, "score": 1, "creation_date": 1554332227, "post_id": 55505416, "comment_id": 97716859, "body": "@GSandro_Strongs In PyQt5 are the simplest and readable things since PyQt uses the native types of python"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 3, "last_activity_date": 1554331509, "creation_date": 1554331509, "answer_id": 55505416, "question_id": 55505197, "link": "https://stackoverflow.com/questions/55505197/how-can-i-get-itemdata-from-qcombobox/55505416#55505416", "title": "How can I get itemdata from qcombobox?", "body": "<p>It seems to me that you are using an outdated tutorial, in PyQt4 you had to convert the PyQt object to python native object using the <code>toPyObject()</code> method, but in PyQt5 it is no longer necessary:</p>\n\n<pre><code>def showId(self):\n    id_us = self.comboBox.itemData(self.comboBox.currentIndex()) # .toPyObject()\n    print('VAL ',id_us)\n</code></pre>\n\n<p>As a recommendation, it uses the terminal or CMD to obtain the error messages since the IDEs have problems with handling the PyQt error messages.</p>\n"}], "owner": {"reputation": 579, "user_id": 3605534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/619ed4b84cfd48e0a07b10b76188dd4b?s=128&d=identicon&r=PG&f=1", "display_name": "GSandro_Strongs", "link": "https://stackoverflow.com/users/3605534/gsandro-strongs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 55505416, "answer_count": 1, "score": 2, "last_activity_date": 1560041897, "creation_date": 1554330179, "last_edit_date": 1560041897, "question_id": 55505197, "link": "https://stackoverflow.com/questions/55505197/how-can-i-get-itemdata-from-qcombobox", "title": "How can I get itemdata from qcombobox?", "body": "<p>I have a problem when I clicked in a QtWidgets.QPushButton to show the itemData from a QtWidgets.QComboBox. I fill my ComboBox with this code:</p>\n\n<pre><code>self.comboBox.addItem(\"Sandro\",1)\nself.comboBox.addItem(\"Daniel\",2)\nself.comboBox.addItem(\"Pedro\",3)\n</code></pre>\n\n<p>It filled the QtWidgets.QComboBox, however the problem appears when I set the QtWidgets.QPushButton. I added this in the setupUi:</p>\n\n<pre><code>self.pushButton.clicked.connect(self.showId)\n</code></pre>\n\n<p>And finally developed the function showId:</p>\n\n<pre><code>id_us = self.comboBox.itemData(self.comboBox.currentIndex())\nprint('VAL ',id_us)\n</code></pre>\n\n<p>When I clicked my button, the windows closes, What was the problem?\nI share all the code of my accessForm.py:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom PyQt5 import QtCore, QtGui, QtWidgets\nclass Ui_Form(object):\n    def setupUi(self, Form):\n        Form.setObjectName(\"Form\")\n        Form.resize(598, 245)\n        self.groupBox = QtWidgets.QGroupBox(Form)\n        self.groupBox.setGeometry(QtCore.QRect(10, 20, 541, 201))\n        self.groupBox.setObjectName(\"groupBox\")\n        self.pushButton = QtWidgets.QPushButton(self.groupBox)\n        self.pushButton.setGeometry(QtCore.QRect(50, 150, 75, 23))\n        self.pushButton.setObjectName(\"pushButton\")\n        self.label = QtWidgets.QLabel(self.groupBox)\n        self.label.setGeometry(QtCore.QRect(40, 30, 47, 13))\n        self.label.setObjectName(\"label\")\n        self.comboBox = QtWidgets.QComboBox(self.groupBox)\n        self.comboBox.setGeometry(QtCore.QRect(110, 30, 111, 22))\n        self.comboBox.setObjectName(\"comboBox\")\n        self.retranslateUi(Form)\n        QtCore.QMetaObject.connectSlotsByName(Form)\n        self.fillCombo()\n        self.pushButton.clicked.connect(self.showId)\n    def retranslateUi(self, Form):\n        _translate = QtCore.QCoreApplication.translate\n        Form.setWindowTitle(_translate(\"Form\", \"Form\"))\n        self.groupBox.setTitle(_translate(\"Form\", \"Datos\"))\n        self.pushButton.setText(_translate(\"Form\", \"Inicio\"))\n        self.label.setText(_translate(\"Form\", \"TextLabel\"))\n    def showId(self):\n        id_us = self.comboBox.itemData(self.comboBox.currentIndex()).toPyObject()\n        print('VAL ',id_us)\n    def fillCombo(self):\n        self.comboBox.addItem(\"Sandro\",1)\n        self.comboBox.addItem(\"Daniel\",2)\n        self.comboBox.addItem(\"Pedro\",3)\nif __name__ == \"__main__\":\n    import sys\n    app = QtWidgets.QApplication(sys.argv)\n    Form = QtWidgets.QWidget()\n    ui = Ui_Form()\n    ui.setupUi(Form)\n    Form.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 9605016, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cGXEYkpFC70/AAAAAAAAAAI/AAAAAAAABZY/kho1YinQUAA/photo.jpg?sz=128", "display_name": "Mills Tennis", "link": "https://stackoverflow.com/users/9605016/mills-tennis"}, "edited": false, "score": 0, "creation_date": 1554418318, "post_id": 55505936, "comment_id": 97756097, "body": "this works with me, however, How does it fit in with the code I just added to my new edit? I want the whole code for the page to be duplicated when I hit the new file button"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 2, "last_activity_date": 1554335780, "creation_date": 1554335780, "answer_id": 55505936, "question_id": 55505123, "link": "https://stackoverflow.com/questions/55505123/button-open-a-duplicate-window-of-the-main-page-in-a-new-window-using-python-and/55505936#55505936", "title": "button open a duplicate window of the main page in a new window using python and tkinter in pycharm", "body": "<p>The simplest solution is to make your window be a subclass of <code>Toplevel</code>. Then, each time you need a new window, create a new instance of the class. </p>\n\n<p>You can then leave the root window blank and hide it so that you only see your custom windows. It's important to make sure that you destroy the root window after the user has deleted the last application window, or else you'll end up with an invisible window that will be hard to kill.</p>\n\n<p>Here is a bit of a contrived example:</p>\n\n<pre><code>import tkinter as tk\n\nclass AppWindow(tk.Toplevel):\n    def __init__(self, root):\n        tk.Toplevel.__init__(self, root)\n\n        self.root = root\n        menubar = tk.Menu(self)\n        windowMenu = tk.Menu(menubar)\n        windowMenu.add_command(label=\"New Window\", command=self.new_window)\n        windowMenu.add_command(label=\"Quit\", command=root.destroy)\n\n        menubar.add_cascade(label=\"Window\", menu=windowMenu)\n        self.configure(menu=menubar)\n\n        self.text = tk.Text(self)\n        self.vsb = tk.Scrollbar(self, orient=\"vertical\", command=self.text.yview)\n        self.text.configure(yscrollcommand=self.vsb.set)\n\n        self.vsb.pack(side=\"right\", fill=\"y\")\n        self.text.pack(side=\"left\", fill=\"both\", expand=True)\n\n        # call a function to destroy the root window when the last\n        # instance of AppWindow is destroyed\n        self.wm_protocol(\"WM_DELETE_WINDOW\", self.exit_on_last_window)\n\n    def new_window(self):\n        AppWindow(self.root)\n\n    def exit_on_last_window(self):\n        \"\"\"Destroy the root window when no other windows exist\"\"\"\n        self.destroy()\n        if not any([window.winfo_exists() for window in self.root.winfo_children()]):\n            self.root.destroy()\n\n    def quit(self):\n        self.root.destroy()\n\n# create the root, then hide it. The app will create its\n# own windows as Toplevels\nroot = tk.Tk()\nroot.withdraw()\n\n# create the first window, then start the event loop\nAppWindow(root)\ntk.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9605016, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cGXEYkpFC70/AAAAAAAAAAI/AAAAAAAABZY/kho1YinQUAA/photo.jpg?sz=128", "display_name": "Mills Tennis", "link": "https://stackoverflow.com/users/9605016/mills-tennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1554418866, "creation_date": 1554329778, "last_edit_date": 1554418866, "question_id": 55505123, "link": "https://stackoverflow.com/questions/55505123/button-open-a-duplicate-window-of-the-main-page-in-a-new-window-using-python-and", "title": "button open a duplicate window of the main page in a new window using python and tkinter in pycharm", "body": "<p><strong>How do you make a button open a duplicate window of the main page in a new window?</strong> </p>\n\n<p><strong>What would the python code be to do this with Tkinter?</strong></p>\n\n<p>For clarification, in notepad++ when you right click on the tab that you are in, it shows you a whole menu. </p>\n\n<p>Then, there is a dropdown menu with an option that says, open in a new instance or move to a new instance. </p>\n\n<p>This would then open the tab you selected into a new tab/window. </p>\n\n<p>I haven't tried anything yet but I did look up about how to do this type of thing and there were no results on what exactly I wanted to do.</p>\n\n<p><strong>Can you try to show me an example of how what I need to do can be done?</strong></p>\n\n<p>Code:</p>\n\n<p><a href=\"https://drive.google.com/file/d/1ZvMWaDpgZzv0sz2-TWAMIOcUzdeNOB_4/view?usp=sharing\" rel=\"nofollow noreferrer\">Found Here</a></p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1554330370, "post_id": 55505119, "comment_id": 97716300, "body": "<a href=\"https://stackoverflow.com/questions/51182228/python-delete-duplicates-in-a-dataframe-based-on-two-columns-combinations/51182428#51182428\" title=\"python delete duplicates in a dataframe based on two columns combinations\">stackoverflow.com/questions/51182228/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": true, "score": 2, "last_activity_date": 1554330116, "creation_date": 1554330116, "answer_id": 55505187, "question_id": 55505119, "link": "https://stackoverflow.com/questions/55505119/conditional-drop-of-identical-pairs-of-columns-in-pandas/55505187#55505187", "title": "Conditional drop of identical pairs of columns in pandas", "body": "<p>First we use <a href=\"https://docs.scipy.org/doc/numpy-1.14.0/reference/generated/numpy.sort.html\" rel=\"nofollow noreferrer\"><code>np.sort</code></a> to sort horizontally, then we use <code>groupby</code> with <code>max</code> function to get the highest value per unique value of first, second:</p>\n\n<pre><code>df[['first', 'second']] = np.sort(df[['first', 'second']], axis=1)\n\nprint(df.groupby(['first', 'second']).third.max().reset_index())\n  first second third\n0  John   Mark     3\n1  John   Mary     5\n2  Mark   Mary     5\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7811152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd9cba9f8b71729592a650dca9812f9?s=128&d=identicon&r=PG&f=1", "display_name": "MatGut", "link": "https://stackoverflow.com/users/7811152/matgut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 55505187, "answer_count": 1, "score": 0, "last_activity_date": 1554330116, "creation_date": 1554329755, "question_id": 55505119, "link": "https://stackoverflow.com/questions/55505119/conditional-drop-of-identical-pairs-of-columns-in-pandas", "title": "Conditional drop of identical pairs of columns in pandas", "body": "<p>I have a somewhat big pandas dataframe (100,000x9). The first two columns are a combination of names associated with a value (in both sides). I want to delete the lower value associated with a given combination.</p>\n\n<p>I haven't tried anything yet, because I'm not sure how to tackle this problem. My first impression is that I need to use the apply function over the data frame, but I need to select each combination of 'first' and 'second', compare them and then delete that row. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df = pd.DataFrame(np.array([['John','Mary',5],['John','Mark',1],  ['Mary','John',2], ['Mary','Mark',1], ['Mark','John',3], ['Mark','Mary',5]]), columns=['first','second','third'])\n\ndf\n\nfirst   second  third\n0   John    Mary    5\n1   John    Mark    1\n2   Mary    John    2\n3   Mary    Mark    1\n4   Mark    John    3\n5   Mark    Mary    5\n</code></pre>\n\n<p>My objective is to get this data frame</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df_clean = pd.DataFrame(np.array([['John','Mary',5], ['Mark','John',3], ['Mark','Mary',5]]), columns=['first','second','third'])\n\ndf_clean\n\nfirst   second  third\n0   John    Mary    5\n1   Mark    John    3\n2   Mark    Mary    5\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1554329723, "post_id": 55505092, "comment_id": 97716114, "body": "<code>data.loc[data.Depth == &#39;A&#39;, &#39;Topsoil&#39;] = 1.0</code> should do it"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 10957692, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fl_BE4G83No/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYySO5InZrduwYIWNR4bAItawJxcg/mo/photo.jpg?sz=128", "display_name": "Katxi Porreta", "link": "https://stackoverflow.com/users/10957692/katxi-porreta"}, "is_accepted": false, "score": 0, "last_activity_date": 1554330694, "creation_date": 1554330694, "answer_id": 55505281, "question_id": 55505092, "link": "https://stackoverflow.com/questions/55505092/how-to-selectively-update-a-subset-of-values-in-pandas-dataframe/55505281#55505281", "title": "How to selectively update a subset of values in Pandas dataframe?", "body": "<p>Consider this simple dataframe</p>\n\n<pre><code>data = pd.DataFrame({'A': [0,0,0,0],'B':[0,1,0,0] })\n\n   A  B\n0  0  0\n1  0  1\n2  0  0\n3  0  0\n</code></pre>\n\n<p>If you want to change the values of A based on the values of B you could do</p>\n\n<pre><code>data['A'][data['B'] == 1] = 2\n\n   A  B\n0  0  0\n1  2  1\n2  0  0\n3  0  0\n</code></pre>\n"}], "owner": {"reputation": 7272, "user_id": 855643, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bb2731dea027998d0c0cec6f6fe4ccd7?s=128&d=identicon&r=PG", "display_name": "ciphor", "link": "https://stackoverflow.com/users/855643/ciphor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554330694, "creation_date": 1554329558, "question_id": 55505092, "link": "https://stackoverflow.com/questions/55505092/how-to-selectively-update-a-subset-of-values-in-pandas-dataframe", "title": "How to selectively update a subset of values in Pandas dataframe?", "body": "<p>I have a pandas dataframe, I want to update the values of a certain column based on the value of another column, specifically, I want to do (data is a pandas dataframe with 3 columns ['Depth', 'A', 'B']:</p>\n\n<pre><code>data['A'] = data['B'] = 0.0\ndata.loc[:,data.Depth == 'A'].Topsoil = 1.0\ndata.loc[:,data.Depth == 'B'].Subsoil = 1.0\n</code></pre>\n\n<p>Then I got error msg:</p>\n\n<pre><code>IndexingError: Unalignable boolean Series provided as indexer (index of the boolean Series and of the indexed object do not match\n</code></pre>\n\n<p>What is the right way of doing this in pandas?</p>\n\n<p>BTW, I'm using Python 3.7.0 and pandas 0.24.1.</p>\n"}, {"tags": ["python", "urllib", "steam-web-api"], "answers": [{"comments": [{"owner": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "edited": false, "score": 0, "creation_date": 1554330016, "post_id": 55505148, "comment_id": 97716194, "body": "Serialize? You mean like store the ones it couldn&#39;t make? We already do that but the problem is that there are a lot of steam IDs we want to handle and we would have to do this process for weeks before we got everything."}, {"owner": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "edited": false, "score": 0, "creation_date": 1554330133, "post_id": 55505148, "comment_id": 97716231, "body": "The second suggestion also doesn&#39;t help with the problem as it&#39;s a API limitation and not really a computing limitation... If we do the calls from 20 threads then it will still do exactly 100.000 calls and then just stop getting answers."}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "reply_to_user": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "edited": false, "score": 0, "creation_date": 1554330202, "post_id": 55505148, "comment_id": 97716253, "body": "@creyD, regarding #2, not exactly, because what I was trying to say is that each thread/process should use a different steamID"}, {"owner": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "edited": false, "score": 0, "creation_date": 1554330339, "post_id": 55505148, "comment_id": 97716288, "body": "What you mean are API keys? The only problem is that this only works if you have a pool of like 100 API keys and that is just not possible for us as you would need to create a steam account for each key."}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "reply_to_user": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "edited": false, "score": 0, "creation_date": 1554330790, "post_id": 55505148, "comment_id": 97716433, "body": "@creyD, ah yes my bad, I meant API key&#39;s. Well, if you can&#39;t get any more  API key&#39;s I&#39;m not sure it&#39;s possible. Valve&#39;s T&amp;C is pretty strict on the number of calls per day. They do mention that you could increase the limit by Valve&#39;s permission, if you <b><i>adhere to the current T&amp;C</i></b> ..whatever that means."}, {"owner": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "edited": false, "score": 0, "creation_date": 1554332300, "post_id": 55505148, "comment_id": 97716877, "body": "Okay, but what did you mean with your first approach?"}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "reply_to_user": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "edited": false, "score": 0, "creation_date": 1554332422, "post_id": 55505148, "comment_id": 97716910, "body": "@creyD, oh in my first approach I was still thinking in terms of multiple API keys that you could use one after another."}], "tags": [], "owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "is_accepted": false, "score": 0, "last_activity_date": 1554329892, "creation_date": 1554329892, "answer_id": 55505148, "question_id": 55505061, "link": "https://stackoverflow.com/questions/55505061/steam-web-api-getownedgames-multiple-steamids/55505148#55505148", "title": "Steam Web API GetOwnedGames multiple SteamIDs", "body": "<p>Depending on the payload of the requests you have the following possibilities:</p>\n\n<ul>\n<li>if each request brings only the newest updates, you could serialize the steam ID's when you get the response that you've hit the daily limit</li>\n<li>if you have the ability to control via the request payload what data you receive, you could go for a multithreaded / multiprocessing approach that consume the  request queries and the steam ID's from a couple of shared resources </li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "is_accepted": true, "score": 0, "last_activity_date": 1554333894, "creation_date": 1554333894, "answer_id": 55505698, "question_id": 55505061, "link": "https://stackoverflow.com/questions/55505061/steam-web-api-getownedgames-multiple-steamids/55505698#55505698", "title": "Steam Web API GetOwnedGames multiple SteamIDs", "body": "<p>As @andreihondrari indirectly stated in his comment under his answer, one can request to get an API key which can get more then the 100.000 calls/ day. This is stated under part \"License to Steam Web API &amp; Steam Data\" <a href=\"https://steamcommunity.com/dev/apiterms\" rel=\"nofollow noreferrer\">of the documentation</a>:</p>\n\n<blockquote>\n  <p>You are limited to one hundred thousand (100,000) calls to the Steam Web API per day. Valve may approve higher daily call limits if you adhere to these API Terms of Use.</p>\n</blockquote>\n\n<p>This may be complicated and there is of cause the possibility that you wont get approved, but this is pretty much the only stable way you can go.\n<hr>\nFurthermore you could theoretically use multiple Steam Web API keys, BUT:</p>\n\n<ul>\n<li>Each API key still has the limitation of 100.000 calls/day so you'll need to implement a fail safe and a transition between used keys and possibly need to create lots of accounts.</li>\n<li>As each user has his own specific friendlist and blocked list the API key can \"see\" a portion of the Steam Community exclusively (friends data is not public otherwise). So it could be that you are using one API key which can't \"see\" a certain user when you could've used another to \"see\" it properly.</li>\n<li>You'll need a unique email adress for each created account.</li>\n</ul>\n\n<p>Note: Having multiple accounts actually complies with Valves ToS according to <a href=\"https://gaming.stackexchange.com/questions/258976/do-the-steam-tos-allow-a-single-person-to-have-2-steam-accounts\">this post on Arqade</a>.</p>\n"}], "owner": {"reputation": 1549, "user_id": 7454177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3e3eF.jpg?s=128&g=1", "display_name": "creyD", "link": "https://stackoverflow.com/users/7454177/creyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 55505698, "answer_count": 2, "score": 0, "last_activity_date": 1554333894, "creation_date": 1554329333, "last_edit_date": 1554330444, "question_id": 55505061, "link": "https://stackoverflow.com/questions/55505061/steam-web-api-getownedgames-multiple-steamids", "title": "Steam Web API GetOwnedGames multiple SteamIDs", "body": "<p>We are trying to get the owned games of a lot of users but our problem is that after a while the API call limit (100.000 a day) kicks in and we stop getting results. </p>\n\n<p>We use <code>'IPlayerService/GetOwnedGames/v0001/?key=APIKEY&amp;steamid=STEAMID'</code> in our call and it works for the first entries. </p>\n\n<p>There are several other queries like the <code>GetPlayerSummaries</code> query which take multiple Steam IDs, but according to the documentation, this one only takes one. </p>\n\n<p>Is there any other way to combine/ merge our queries? We are using Python and the <code>urllib.request</code> library to create the request.</p>\n"}, {"tags": ["python", "outlook", "exchange-server", "smtplib", "imaplib"], "comments": [{"owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1554414670, "post_id": 55505059, "comment_id": 97755002, "body": "It looks maybe like Exchange is trying to duplicate suppression of some sort, potentially based on the Message-ID? Forwarding like a client does it will potentially require a lot more parsing and reformatting than you&#39;re prepared to do.  You could create a new message and attach the original message as a message/rfc822 attachment, if your viewer can handle that.  (This is known as &#39;Forward as Attachment&#39; in some clients)"}, {"owner": {"reputation": 1, "user_id": 11308229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b03270220ff627e0f0c5c3a61743d5?s=128&d=identicon&r=PG&f=1", "display_name": "Prudhvi", "link": "https://stackoverflow.com/users/11308229/prudhvi"}, "reply_to_user": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1554770210, "post_id": 55505059, "comment_id": 97865127, "body": "Thank you, Max. I&#39;ve started to work on creating a new email and parsing the body and headers from  original message, since I&#39;ve posted the question here. Any suggestions on what steps of parsing and reformatting you think can help?"}], "owner": {"reputation": 1, "user_id": 11308229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b03270220ff627e0f0c5c3a61743d5?s=128&d=identicon&r=PG&f=1", "display_name": "Prudhvi", "link": "https://stackoverflow.com/users/11308229/prudhvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554329318, "creation_date": 1554329318, "question_id": 55505059, "link": "https://stackoverflow.com/questions/55505059/forwarding-an-outlook-exchange-email-using-python", "title": "Forwarding an outlook/exchange email using python", "body": "<p>I'm trying to read an email, get the headers (from, to, cc, subject) and body of an email and forward the email (forwarding email will vary based on the from).</p>\n\n<p>I've referenced the <a href=\"https://stackoverflow.com/questions/2717196/forwarding-an-email-with-python-smtplib\">post</a> to write my code. I was able to forward few emails, but few fail.</p>\n\n<pre><code>import smtplib, imaplib, email\n\nimap_host = \"imap-mail.outlook.com\"\nsmtp_host = \"smtp-mail.outlook.com\"\nimap_port = 993\nsmtp_port = 587\nuser = \"aaa@bbb.com\"\npasswd = \"****\"\n\n### Testing random emails using msgid\nmsgid = 5000\nfrom_addr = \"aaa@bbb.com\" \nto_addr = \"ccc@ddd.com\"\n\nclient = imaplib.IMAP4_SSL(imap_host, imap_port)\nclient.login(user, passwd)\nclient.select('INBOX')\n\n\nstatus, data = client.fetch(str(msgid), \"(RFC822)\") #(RFC822) or (UID BODY[TEXT])\nemail_data = data[0][1]\nclient.close()\nclient.logout()\n\nmessage = email.message_from_bytes(email_data)\n\nmessage.add_header('From', from_addr) #also tried replace_header\nmessage.replace_header('To', to_addr)\n\nsmtp = smtplib.SMTP(smtp_host, smtp_port)\nsmtp.starttls()\nsmtp.login(user, passwd)\nsmtp.sendmail(from_addr, to_addr, message.as_string())\n# smtp.send_message(message, from_addr, to_addr)\nsmtp.quit()\n</code></pre>\n\n<p>Here is the error, I receive:\n554, b'5.2.0 STOREDRV.Submission.Exception:StoragePermanentException.MapiExceptionDuplicateDelivery; Failed to process message due to a permanent exception with message Cannot get ID from name.</p>\n\n<p>Also, any suggestions on how to make the email look like a forward i.e., include the headers of the original email in the body of the forward (as if forwarded from web outlook or the outlook app). Thanks</p>\n"}, {"tags": ["python", "python-3.x", "module", "python-import"], "comments": [{"owner": {"reputation": 72, "user_id": 8887062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba61f8bb593c9c9bd50b3663c713e33?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Chia", "link": "https://stackoverflow.com/users/8887062/johnny-chia"}, "edited": false, "score": 0, "creation_date": 1554330080, "post_id": 55505023, "comment_id": 97716220, "body": "you can try: <code>from .xyz import Xyz</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3463, "user_id": 3635544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0519fbe01a75858617b622fbcec4c24d?s=128&d=identicon&r=PG&f=1", "display_name": "KubiK888", "link": "https://stackoverflow.com/users/3635544/kubik888"}, "edited": false, "score": 0, "creation_date": 1554389909, "post_id": 55505294, "comment_id": 97742848, "body": "This doesn&#39;t work, exactly the same behaviour as my code above."}, {"owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "reply_to_user": {"reputation": 3463, "user_id": 3635544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0519fbe01a75858617b622fbcec4c24d?s=128&d=identicon&r=PG&f=1", "display_name": "KubiK888", "link": "https://stackoverflow.com/users/3635544/kubik888"}, "edited": false, "score": 0, "creation_date": 1554404247, "post_id": 55505294, "comment_id": 97750522, "body": "If you can I strongly recommend that you use a virtualenv to organize the dependencies for your project. This way you won&#39;t have to plan around the system python&#39;s site packages. <a href=\"https://virtualenv.pypa.io/en/latest/\" rel=\"nofollow noreferrer\">virtualenv.pypa.io/en/latest</a>"}], "tags": [], "owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "is_accepted": false, "score": 1, "last_activity_date": 1554330744, "creation_date": 1554330744, "answer_id": 55505294, "question_id": 55505023, "link": "https://stackoverflow.com/questions/55505023/how-to-import-a-module-from-local-directory-rather-than-pip-installed-library/55505294#55505294", "title": "How to import a module from local directory rather than pip-installed library?", "body": "<p>If you know the path to the local directory, insert it into the array sys.path's first position before trying to import it.</p>\n\n<p>e.g.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nmypath = \"ABS_PATH_TO_PROJECT_ROOT_DIR\"\nsys.path.insert(0, mypath)\nfrom module import var\n</code></pre>\n\n<p>If you are using git, you might want to consider adding it as a git <a href=\"https://git-scm.com/book/en/v2/Git-Tools-Submodules\" rel=\"nofollow noreferrer\">submodule</a> also.</p>\n"}, {"comments": [{"owner": {"reputation": 3463, "user_id": 3635544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0519fbe01a75858617b622fbcec4c24d?s=128&d=identicon&r=PG&f=1", "display_name": "KubiK888", "link": "https://stackoverflow.com/users/3635544/kubik888"}, "edited": false, "score": 0, "creation_date": 1554389906, "post_id": 55505337, "comment_id": 97742845, "body": "This doesn&#39;t work, exactly the same behaviour as my code above."}], "tags": [], "owner": {"reputation": 91, "user_id": 9872359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379457a0605f333084cbe0f31f60f377?s=128&d=identicon&r=PG&f=1", "display_name": "zacm", "link": "https://stackoverflow.com/users/9872359/zacm"}, "is_accepted": false, "score": 0, "last_activity_date": 1554330967, "creation_date": 1554330967, "answer_id": 55505337, "question_id": 55505023, "link": "https://stackoverflow.com/questions/55505023/how-to-import-a-module-from-local-directory-rather-than-pip-installed-library/55505337#55505337", "title": "How to import a module from local directory rather than pip-installed library?", "body": "<p>This isn't clean, but the only way I can think of doing it, is to check if there is some attribute in your local xyz that you know is not in the installed xyz.  See the following as an example:</p>\n\n<p>main.py</p>\n\n<pre><code>import sys\nsys.path.insert(0, './xyz_git')\nimport xyz\ntry:\n    xyz.foo\nexcept AttributeError as e:\n    raise AttributeError('Local module xyz not installed!')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 14357154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4683bb03f31662fbe65bfd42b65c62f?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/14357154/xander"}, "is_accepted": false, "score": 0, "last_activity_date": 1604441108, "creation_date": 1604441108, "answer_id": 64671384, "question_id": 55505023, "link": "https://stackoverflow.com/questions/55505023/how-to-import-a-module-from-local-directory-rather-than-pip-installed-library/64671384#64671384", "title": "How to import a module from local directory rather than pip-installed library?", "body": "<p>The best way to do this would be to install the package in development mode as the accepted answer to <a href=\"https://stackoverflow.com/questions/52248505/how-to-locally-develop-a-python-package\">this question</a> mentions.</p>\n<p>so in the context of this question:</p>\n<pre><code>$ cd ~/xyz_git/\n$ pip install -e .\n</code></pre>\n<p>will reload the package in pip so that pip is referencing the local package. To enforce that you could check the path in pip:</p>\n<pre><code>import xyz\ncorrectLocation = &quot;ABS_PATH_TO_PROJECT_ROOT_DIR/xyz_git/&quot;\nassert correctLocation == os.path.abspath(xyz.__file__))\n</code></pre>\n<p>Of course &quot;correct location&quot; will need to match absolute import path but if you have corrrectl installed in dev mode that should be no problem.</p>\n<p>As mentioned above I would also strongly recommend using virtual environments to manage installed packages.</p>\n<pre><code>$ virtualenv dev_env\n$ source dev_env/bin/activate\n</code></pre>\n<p>before installing in dev mode.</p>\n"}], "owner": {"reputation": 3463, "user_id": 3635544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0519fbe01a75858617b622fbcec4c24d?s=128&d=identicon&r=PG&f=1", "display_name": "KubiK888", "link": "https://stackoverflow.com/users/3635544/kubik888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1604441108, "creation_date": 1554329154, "last_edit_date": 1554329365, "question_id": 55505023, "link": "https://stackoverflow.com/questions/55505023/how-to-import-a-module-from-local-directory-rather-than-pip-installed-library", "title": "How to import a module from local directory rather than pip-installed library?", "body": "<p>I have cloned a python library <code>xyz</code> into my computer. The file structure is as follows:</p>\n\n<pre><code>&gt;&gt; project (folder)\n    * main.py\n    &gt;&gt; xyz_git (folder)\n          &gt;&gt; xyz (folder)\n</code></pre>\n\n<p>In the <code>main.py</code></p>\n\n<pre><code>import sys\nsys.path.insert(0, './xyz_git')\nfrom xyz import Xyz\n\ninstance = Xyz()\nprint(instance.some_function())\n</code></pre>\n\n<p>The problem is I also have pip-installed module <code>xyz</code> to default python. Even if I remove the local folder, the <code>from xyz import Xyz</code> will still work due to the default pip installation. How can I ensure if the <code>xyz</code> import is not from local directory, it will give an error?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11261435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca1ceab5270d7d5e8cfd237116ca8dd?s=128&d=identicon&r=PG&f=1", "display_name": "mnmmeng", "link": "https://stackoverflow.com/users/11261435/mnmmeng"}, "edited": false, "score": 1, "creation_date": 1554331317, "post_id": 55505149, "comment_id": 97716612, "body": "Thanks for the reply! It looks like a, b will only take the last file in the list with same date, in some cases 03/26 will have multiple files like [&quot;apple://folderx/foldery/sourcea_20190326-0.json&quot;, &quot;apple://folderx/foldery/sourcea_20190326-1.json&quot;], how can we make that work?"}, {"owner": {"reputation": 27, "user_id": 11261435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca1ceab5270d7d5e8cfd237116ca8dd?s=128&d=identicon&r=PG&f=1", "display_name": "mnmmeng", "link": "https://stackoverflow.com/users/11261435/mnmmeng"}, "edited": false, "score": 0, "creation_date": 1554399002, "post_id": 55505149, "comment_id": 97747998, "body": "Follow up ask, it seems having a hard time when the common dates is only one day, the output becomes characters."}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 27, "user_id": 11261435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca1ceab5270d7d5e8cfd237116ca8dd?s=128&d=identicon&r=PG&f=1", "display_name": "mnmmeng", "link": "https://stackoverflow.com/users/11261435/mnmmeng"}, "edited": false, "score": 0, "creation_date": 1554400682, "post_id": 55505149, "comment_id": 97748820, "body": "Ah, the problem with <code>operator.itemgetter</code> is that it returns a tuple when given multiple keys, but returns the value directly rather than a tuple of values when given only one key. I&#39;ve fixed the code by iterating through the common keys instead of using <code>itemgetter</code>."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 1, "last_activity_date": 1554400614, "last_edit_date": 1554400614, "creation_date": 1554329897, "answer_id": 55505149, "question_id": 55505021, "link": "https://stackoverflow.com/questions/55505021/python-given-two-list-of-file-names-find-common-ones-based-on-date-part/55505149#55505149", "title": "Python: Given two list of file names find common ones based on date part", "body": "<p>You can build dicts for <code>listA</code> and <code>listB</code> that maps dates to file names, get the common keys (dates) using set intersection, and them map the dates back to file names for both <code>listA</code> and <code>listB</code>:</p>\n\n<pre><code>a, b = {}, {}\nfor l, d in (listA, a), (listB, b):\n    for f in l:\n        d.setdefault(f.rsplit('_', 1)[-1].split('-')[0], []).append(f)\ncommon_keys = a.keys() &amp; b.keys()\nlistA, listB = ([f for k in common_keys for f in d[k]] for d in (a, b))\n</code></pre>\n\n<p>so that given:</p>\n\n<pre><code>listA = [\"apple://folderx/foldery/sourcea_20190326-0.json\", \"apple://folderx/foldery/sourcea_20190323-1.json\", \"apple://folderx/foldery/sourcea_20190324-1.json\"]\nlistB = [\"apple://folderx/folderz/source_b_20190324-0.json\", \"apple://folderx/folderz/source_b_20190326-0.json\", \"apple://folderx/folderz/source_c_20190324-0.json\"]\n</code></pre>\n\n<p><code>listA</code> becomes:</p>\n\n<pre><code>['apple://folderx/foldery/sourcea_20190324-1.json', 'apple://folderx/foldery/sourcea_20190326-0.json']\n</code></pre>\n\n<p><code>listB</code> becomes:</p>\n\n<pre><code>['apple://folderx/folderz/source_b_20190324-0.json', 'apple://folderx/folderz/source_c_20190324-0.json', 'apple://folderx/folderz/source_b_20190326-0.json']\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11261435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca1ceab5270d7d5e8cfd237116ca8dd?s=128&d=identicon&r=PG&f=1", "display_name": "mnmmeng", "link": "https://stackoverflow.com/users/11261435/mnmmeng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 55505149, "answer_count": 1, "score": 1, "last_activity_date": 1554400614, "creation_date": 1554329135, "last_edit_date": 1554329745, "question_id": 55505021, "link": "https://stackoverflow.com/questions/55505021/python-given-two-list-of-file-names-find-common-ones-based-on-date-part", "title": "Python: Given two list of file names find common ones based on date part", "body": "<p>I have two data sources, each one has a list of files. The ask is to compare both lists and find out the files with same timestamp, and then output the result list based on an input parameter about which source I would like to see.</p>\n\n<p>One complexity is that we can't do a straightforward file name comparison, as they are wrapped with strings about the source, we need to extract the date part first and compare that only, and then return the original file names.</p>\n\n<p>Without a lot working knowledge with Python, I feel like what I've tried is not effective enough. For example, I was able to extract the date part from both sources and compare them with a chunk of code, but then not sure how to tight them back to the original file names.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>listA = [\"apple://folderx/foldery/sourcea_20190326-0.json\", \"apple://folderx/foldery/sourcea_20190323-1.json\", \"apple://folderx/foldery/sourcea_20190324-1.json\"]\nlistB = [\"apple://folderx/folderz/source_b_20190324-0.json\", \"apple://folderx/folderz/source_b_20190326-0.json\"]\n\nmySource = ['A', 'B']\nallDates = {}\nfor s in mySource:\n    fileList = []\n    dateList = []\n\n    if s == 'A':\n        fileList = listA\n    elif s == 'B':\n        fileList = listB\n    for f in fileList:\n        date = f.rsplit('_',1)[-1].split('-')[0]\n        if not date in dateList:\n            dateList.append(date)\n\n        if len(dateList) &gt; 0:\n            allDates[s] = dateList\n\n        else:\n            time.sleep(10)        \n    if len(fileList) == 0:\n        raise NoDataException\n\nlist(set(allDates['A']).intersection(allDates['B']))\n</code></pre>\n\n<p>This piece of code simply returns a list of common dates between files from both sources.</p>\n\n<p>The output is:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>['20190326', '20190324'].\n</code></pre>\n\n<p>What I am looking for is</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>listA = [\"apple://folderx/foldery/sourcea_20190326-0.json\", \"apple://folderx/foldery/sourcea_20190324-1.json\"] \nlistB = [\"apple://folderx/folderz/source_b_20190324-0.json\", \"apple://folderx/folderz/source_b_20190326-0.json\"] \n</code></pre>\n"}, {"tags": ["python", "xml", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1554330259, "creation_date": 1554330259, "answer_id": 55505210, "question_id": 55505020, "link": "https://stackoverflow.com/questions/55505020/python-scraping-attribute-vale-from-xhtmllink/55505210#55505210", "title": "Python scraping attribute vale from xhtml:link", "body": "<p><code>xhtml</code> is a namespace and it needs option <code>namespaces=</code> in <code>findall()</code></p>\n\n<p>First: I had to add <code>xmlns:xhtml=\"your namespace\"</code> to run it - probably you also have it. </p>\n\n<p>I had to use the same namespace in <code>findall()</code></p>\n\n<pre><code>text = '''&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;url xmlns:xhtml=\"your namespace\"&gt;\n    &lt;loc&gt;https://www.example.com&lt;/loc&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n&lt;/url&gt;'''\n\nimport xml.etree.ElementTree as ET\nroot = ET.fromstring(text)#.getroot()\n\nfor type_tag in root.findall('xhtml:link', namespaces={'xhtml':'your namespace'}):\n    value = type_tag.get('href')\n    print(value)\n</code></pre>\n\n<p>I don't know if there is function to ignore namespaces.</p>\n"}], "owner": {"reputation": 93, "user_id": 4300766, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/514761522/picture?type=large", "display_name": "Lucas Abraham", "link": "https://stackoverflow.com/users/4300766/lucas-abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554330426, "creation_date": 1554329123, "last_edit_date": 1554330426, "question_id": 55505020, "link": "https://stackoverflow.com/questions/55505020/python-scraping-attribute-vale-from-xhtmllink", "title": "Python scraping attribute vale from xhtml:link", "body": "<p>I am trying to gather the value from within the href attribute. I have done this before but can't seem to get it to work for \"xhtml:link\".</p>\n\n<p>I have tried the bellow:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nroot = ET.parse('items.xml').getroot()\n\nfor type_tag in root.findall('xhtml:link'):\n    value = type_tag.get('href')\n    print(value)\n</code></pre>\n\n<p>and the xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;url&gt;\n    &lt;loc&gt;https://www.example.com&lt;/loc&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n    &lt;xhtml:link rel=\"alternate\" href=\"https://www.example.com/\"&gt;&lt;/xhtml:link&gt;\n&lt;/url&gt;\n\n</code></pre>\n\n<p>I have tried to find a reason behind this but can't seem to find anything. Any advice would be amazing thanks.</p>\n"}, {"tags": ["php", "python"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "edited": false, "score": 0, "creation_date": 1554329507, "post_id": 55505058, "comment_id": 97716041, "body": "I will try this. Thanks."}, {"owner": {"reputation": 5049, "user_id": 735204, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MKXml.png?s=128&g=1", "display_name": "Emmett Butler", "link": "https://stackoverflow.com/users/735204/emmett-butler"}, "reply_to_user": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "edited": false, "score": 0, "creation_date": 1554329956, "post_id": 55505058, "comment_id": 97716176, "body": "If this answer solves your problem, please upvote and accept it. This shows future readers experiencing similar problems that this approach is valid. If it doesn&#39;t solve your problem, please let me know in the comments so I can edit the answer for correctness."}], "tags": [], "owner": {"reputation": 5049, "user_id": 735204, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MKXml.png?s=128&g=1", "display_name": "Emmett Butler", "link": "https://stackoverflow.com/users/735204/emmett-butler"}, "is_accepted": false, "score": 1, "last_activity_date": 1554329314, "creation_date": 1554329314, "answer_id": 55505058, "question_id": 55505013, "link": "https://stackoverflow.com/questions/55505013/passing-parameters-to-python-script-via-php/55505058#55505058", "title": "passing parameters to python script via php", "body": "<p>You need to ensure that the argument string you're creating is formatted with spaces separating the keys and values. Including the variable <code>$item</code> in the command string won't do it. Instead, you should use an approach similar to <a href=\"https://stackoverflow.com/a/17396483/735204\">this one</a> to build a string containing your CLI argument names and arguments separated by spaces.</p>\n\n<p>An untested example:</p>\n\n<pre><code>$arguments = \"\";\nforeach ($item as $key =&gt; $value) {\n    $arguments .= sprintf(\" %s %s\" , $key , $value);\n}\necho shell_exec(\"python quikkly-generate-code.py $arguments\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "edited": false, "score": 0, "creation_date": 1554482782, "post_id": 55505339, "comment_id": 97783338, "body": "tried this and am still not recieving the output file"}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "reply_to_user": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "edited": false, "score": 0, "creation_date": 1554483028, "post_id": 55505339, "comment_id": 97783464, "body": "Is Python file in the same directory as PHP? Specify full paths to both the Python executable and the source file."}, {"owner": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "edited": false, "score": 0, "creation_date": 1554483329, "post_id": 55505339, "comment_id": 97783605, "body": "is there anyway I can see the python error messages? I am not getting any from php."}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "reply_to_user": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "edited": false, "score": 0, "creation_date": 1554483522, "post_id": 55505339, "comment_id": 97783685, "body": "Use exec instead, see edit. It&#39;s more likely that you&#39;re not running python. Make sure you&#39;re using the full path, as I said in my previous comment."}, {"owner": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "edited": false, "score": 0, "creation_date": 1554484378, "post_id": 55505339, "comment_id": 97784050, "body": "Notice: Array to string conversion in /home/gdqupqmy/public_html/test.php on line 23 Command exited with code 2, full output follows: Array"}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "reply_to_user": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "edited": false, "score": 0, "creation_date": 1554484582, "post_id": 55505339, "comment_id": 97784144, "body": "See edit, forgot to stringify the array, which should be fairly obvious from the output."}, {"owner": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1554485138, "post_id": 55505339, "comment_id": 97784409, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/191332/discussion-between-ggntc-and-miken32\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "is_accepted": true, "score": 1, "last_activity_date": 1578344437, "last_edit_date": 1578344437, "creation_date": 1554330975, "answer_id": 55505339, "question_id": 55505013, "link": "https://stackoverflow.com/questions/55505013/passing-parameters-to-python-script-via-php/55505339#55505339", "title": "passing parameters to python script via php", "body": "<p>So obviously you can't drop an array into a string and expect output, but similarly you shouldn't just drop a string into a command either. You need to <a href=\"https://www.php.net/manual/en/function.escapeshellarg.php\" rel=\"nofollow noreferrer\">escape your values</a> to prevent possible problems from arising due to special characters, whitespace etc.</p>\n\n<p>Just run through the array and build a command line string like this:</p>\n\n<pre><code>$item = array(\n    '--native-libs-dir' =&gt; \"/home/gdqupqmy/quikklyLib/\",\n    '--type' =&gt; \"template0001style1\",\n    '--data'=&gt; \"12345\",\n    '--join' =&gt; \"horizontal\",\n    '--output-file' =&gt; \"/home/gdqupqmy/quikklyLib/saavr-12345.svg\"\n);\n$args = \"\";\nforeach ($item as $k=&gt;$v) {\n    $args .= \" $k \" . escapeshellarg($v);\n}\n$cmd = \"/usr/bin/python /full/path/to/quikkly-generate-code.py $args\";\n$result = exec($cmd, $output, $return);\nprintf(\"Command exited with code %d, full output follows: %s\", $return, print_r($output,1));\n</code></pre>\n\n<p>This ensures all values are quoted and escaped. (I've made the assumption that the array keys are fixed values and so are not dangerous, if this is not the case they can be run through <code>escapeshellarg</code> as well.)</p>\n"}], "owner": {"reputation": 67, "user_id": 5792306, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/l1T3w.gif?s=128&g=1", "display_name": "ggntc", "link": "https://stackoverflow.com/users/5792306/ggntc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 55505339, "answer_count": 2, "score": 1, "last_activity_date": 1578344437, "creation_date": 1554329079, "last_edit_date": 1554331109, "question_id": 55505013, "link": "https://stackoverflow.com/questions/55505013/passing-parameters-to-python-script-via-php", "title": "passing parameters to python script via php", "body": "<p>I am trying to pass some parameters to a python script via a php script. Here is the code:</p>\n\n<pre><code>$item=array(\n    '--native-libs-dir' =&gt; \"/home/gdqupqmy/quikklyLib/\",\n    '--type' =&gt; \"template0001style1\",\n    '--data'=&gt; \"12345\",\n    '--join' =&gt; \"horizontal\",\n    '--output-file' =&gt; \"/home/gdqupqmy/quikklyLib/saavr-12345.svg\");\n\necho shell_exec(\"python quikkly-generate-code.py '$item'\");\n</code></pre>\n\n<p>The python script creates an svg image file.</p>\n\n<p>So far, I have had no luck. Any help would be great. And thanks.</p>\n"}, {"tags": ["python", "qt-designer", "pyside2"], "comments": [{"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554329570, "post_id": 55505012, "comment_id": 97716062, "body": "Have you tried connecting it with a function defined outside of the QMainWindow? Where did you call the connect? In <code>__init__</code> ? If so did you call <code>super</code> ?"}, {"owner": {"reputation": 3, "user_id": 11308120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de4cfe27774103a7ea90b7f21f9fd5b0?s=128&d=identicon&r=PG&f=1", "display_name": "LuminousLizard", "link": "https://stackoverflow.com/users/11308120/luminouslizard"}, "edited": false, "score": 0, "creation_date": 1554331132, "post_id": 55505012, "comment_id": 97716538, "body": "A definition of &quot;printText()&quot; outside of the QMainWindow class does not work either. I have also tried the definition both in the QMainWindow class itself, and in <code>__init__</code> of the class. <code>super</code> is called."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1554331207, "post_id": 55505012, "comment_id": 97716569, "body": "@LuminousLizard If you want help you should provide an MCVE, maybe the error is in what you do not show, so share the .py and the .ui"}, {"owner": {"reputation": 3, "user_id": 11308120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de4cfe27774103a7ea90b7f21f9fd5b0?s=128&d=identicon&r=PG&f=1", "display_name": "LuminousLizard", "link": "https://stackoverflow.com/users/11308120/luminouslizard"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1554331289, "post_id": 55505012, "comment_id": 97716602, "body": "@eyllanesc This is a little difficult to show an example. It would contain parts of a py file and a hole ui-file (xml)."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1554331397, "post_id": 55505012, "comment_id": 97716634, "body": "@LuminousLizard If you only share pieces, I will probably ask you for an MCVE since the error may be in the hidden part of your code, so let&#39;s save time and provide what I have asked for."}, {"owner": {"reputation": 3, "user_id": 11308120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de4cfe27774103a7ea90b7f21f9fd5b0?s=128&d=identicon&r=PG&f=1", "display_name": "LuminousLizard", "link": "https://stackoverflow.com/users/11308120/luminouslizard"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1554332718, "post_id": 55505012, "comment_id": 97716976, "body": "@eyllanesc done ! the complete code is better, in order not to overlook something"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11308120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de4cfe27774103a7ea90b7f21f9fd5b0?s=128&d=identicon&r=PG&f=1", "display_name": "LuminousLizard", "link": "https://stackoverflow.com/users/11308120/luminouslizard"}, "edited": false, "score": 0, "creation_date": 1554366726, "post_id": 55505804, "comment_id": 97727640, "body": "But I have a further question to this: This solution is for sub windows directly added/created in the main window in the Qt Designer (test.ui contains both windows) and linked by the signal-slot-editor. How I can execute the same &quot;printText()&quot; function with the button from the independed sub window (&quot;test_sub.ui&quot; loaded via py code) ? <code>self.pushButton.clicked.connect(MyUI.printText)</code> doesn&#39;t work to call the &quot;printText()&quot; function from the main window class."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1554334635, "creation_date": 1554334635, "answer_id": 55505804, "question_id": 55505012, "link": "https://stackoverflow.com/questions/55505012/how-to-connect-a-signal-slot-qt-designer-with-a-python-function/55505804#55505804", "title": "How to connect a signal slot (qt-designer) with a python function", "body": "<p>The printText slot belongs to the MyUI class, but the slot that requires the .ui must belong to the self.ui but unfortunately in PySide2 using QUiLoader is not able to create a class from the .ui. </p>\n\n<p>So the solution is to convert the .ui to .py using <code>pyside2-uic</code> since it will generate a class.</p>\n\n<p>Whereas the folder has the following files:</p>\n\n<pre><code>\u251c\u2500\u2500 main.py\n\u251c\u2500\u2500 test_sub.ui\n\u2514\u2500\u2500 test.ui\n</code></pre>\n\n<p>Then you must open a terminal or CMD located in the project folder and execute:</p>\n\n<pre><code>pyside2-uic test_sub.ui -o test_sub_ui.py -x\npyside2-uic test.ui -o test_ui.py -x\n</code></pre>\n\n<p>So you must obtain the following structure:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 main.py\n\u251c\u2500\u2500 test_sub.ui\n\u251c\u2500\u2500 test_sub_ui.py\n\u251c\u2500\u2500 test.ui\n\u2514\u2500\u2500 test_ui.py\n</code></pre>\n\n<p>After that you have to modify the main.py (for more information read this <a href=\"https://stackoverflow.com/a/46545116/6622587\">previous answer</a>):</p>\n\n<p><strong>main.py</strong></p>\n\n<pre><code>import sys\nfrom PySide2 import QtCore, QtWidgets\n\nfrom test_ui import Ui_MainWindow\nfrom test_sub_ui import Ui_Form\n\n# Variable which contains the subwindow ID\n# Required to determine if a subwindow is already open\nstate_limitedSubWindow = None\n\n\nclass MyUI(QtWidgets.QMainWindow, Ui_MainWindow):\n    def __init__(self, parent=None):\n        super(MyUI, self).__init__(parent)\n        self.setupUi(self)\n        self.setWindowTitle(\"Test\")\n        self.mdiArea.addSubWindow(self.subwindow)\n        self.actionOpenSubWindow.triggered.connect(self.func_limitedSubWindow)\n\n    @QtCore.Slot()\n    def printText(self):\n        print(\"Debug: Inside the MainWindow class\")\n        self.printing()\n\n    @QtCore.Slot()\n    def func_limitedSubWindow(self):\n        # loading global var which contains the subwindow ID\n        global state_limitedSubWindow\n        if state_limitedSubWindow == None:\n            limitedSubWindow = LimitedSubWindow()\n            self.mdiArea.addSubWindow(limitedSubWindow)\n            limitedSubWindow.show()\n            # Save ID of the new created subwindow in the global variable\n            state_limitedSubWindow = limitedSubWindow.winId()\n            # Console output subwindow ID\n            print(state_limitedSubWindow)\n        else:\n            print(\"Window already exists !\")\n        pass\n\n    @QtCore.Slot()\n    def printing(self):\n        self.textOutput.setPlainText(\"Test\")\n\n\n# Class for the limited second window (only 1 instance can be active)\n# This class can of course be in a separate py file\n# The base widget of the UI file must be QWidget !!!\nclass LimitedSubWindow(QtWidgets.QWidget, Ui_Form):\n    def __init__(self, parent = None):\n        super(LimitedSubWindow, self).__init__(parent)\n        self.setupUi(self)\n        self.setMinimumSize(400, 200)\n        self.setWindowTitle(\"Limited subwindow\")\n\n    # Close event resets the variable which contains the ID\n    def closeEvent(self, event):\n        global state_limitedSubWindow\n        # Reset the global variable\n        state_limitedSubWindow = None\n        event.accept()\n\nif __name__ == \"__main__\":\n    app = QtWidgets.QApplication(sys.argv)\n    # Creating an instance of the loading class\n    frame = MyUI()\n    frame.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>So in conclusion QUiLoader has many limitations so it is preferable to use uic.</p>\n\n<hr>\n\n<p>If you do not want to use uic then in a <a href=\"https://stackoverflow.com/questions/55241644/pyqt5-to-pyside2-loading-ui-files-in-different-classes/55252215#55252215\">previous answer</a> I have indicated how to convert the uic module from PyQt5 to PySide2</p>\n\n<hr>\n\n<p>The complete solution can be found <a href=\"https://github.com/eyllanesc/stackoverflow/tree/master/questions/55505012\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 3, "user_id": 11308120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de4cfe27774103a7ea90b7f21f9fd5b0?s=128&d=identicon&r=PG&f=1", "display_name": "LuminousLizard", "link": "https://stackoverflow.com/users/11308120/luminouslizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1926, "favorite_count": 1, "accepted_answer_id": 55505804, "answer_count": 1, "score": 0, "last_activity_date": 1554334635, "creation_date": 1554329065, "last_edit_date": 1592644375, "question_id": 55505012, "link": "https://stackoverflow.com/questions/55505012/how-to-connect-a-signal-slot-qt-designer-with-a-python-function", "title": "How to connect a signal slot (qt-designer) with a python function", "body": "<p>I have created an application with a main window including a MDI area, and a sub window of the MDI area. Both windows are created via QT Designer and saved as ui-file. My python script loads the main window and provides the function to open the sub window. That works so far !</p>\n<p>Now I have e.g. a button in the sub window, and it should trigger a function that affects an element in the main window (e.g. show a text in a &quot;PlainTextEdit&quot; element besides the MDI area).\nIn the Qt-Designer I can define the signal and a self-defined slot.</p>\n<p>pushButton -&gt; clicked() -&gt; MainWindow -&gt; printText()</p>\n<p><strong>My question is:</strong> What do I have to write into my python code to catch the signal on the &quot;printText()&quot; slot, to execute a function in the following ?</p>\n<p>I'm working with Python 3.7 and Pyside2.</p>\n<p>If I run the script the following info are displayed in the terminal:</p>\n<blockquote>\n<p><em>QObject::connect: No such slot QMainWindow::printText()</em></p>\n<p><em>QObject::connect:  (sender name:   'pushButton')</em></p>\n<p><em>QObject::connect:  (receiver name: 'MainWindow')</em></p>\n</blockquote>\n<ol>\n<li><p>The default way via...\n<code>self.pushButton.clicked.connect(self.function)</code>\n... doesn't work, because the pushButton is defined in another class as the main window. (the sub window class)\nAnd I also cannot add this code in the sub window class, because with the called function (self.function) I cannot access the element in the main window.</p>\n</li>\n<li><p>The declaration of the slot (I found so far) in the main window class to catch the signal, doesn't work either:</p>\n</li>\n</ol>\n<pre><code>@Slot()\ndef printText(self): # name of the slot\n\n    # function which should be executed if the button is clicked\n    self.ui.textOutput.setPlainText(&quot;This is a test !&quot;)\n</code></pre>\n<p>[EDIT]\nIf have added the code of all three files.\nThe example contains 2 subwindows. The first ist included in the main ui-file (always activ by execution). The second subwindow is independed an can be displayed via main menu button.</p>\n<p>The py file:</p>\n<pre><code>import sys\n\nfrom PySide2.QtUiTools import QUiLoader\nfrom PySide2.QtWidgets import QApplication, QMainWindow, QWidget, QMdiSubWindow, QMdiArea\nfrom PySide2.QtCore import QFile, Slot, Signal\n\n# Variable which contains the subwindow ID\n# Required to determine if a subwindow is already open\nstate_limitedSubWindow = None\n\n# Main class for loading the UI\nclass MyUI(QMainWindow):\n    def __init__(self, ui_file, parent = None):\n        super(MyUI, self).__init__(parent)\n\n        # (1) Open UI file\n        ui_file = QFile(ui_file)\n        ui_file.open(QFile.ReadOnly)\n\n        # (2) Loading UI file ...\n        uiLoader = QUiLoader()\n        # ... and creating an instance of the content\n        self.ui = uiLoader.load(ui_file)\n\n        # (3) Close file\n        ui_file.close()\n\n        # (4) Optional: Customize loaded UI\n        # E.g. Set a window title\n        self.ui.setWindowTitle(&quot;Test&quot;)\n\n        # (5) Show the loaded and optionally customized UI\n        self.ui.show()\n\n        # A limited subwindow (only on instance can be active)\n        self.ui.actionOpenSubWindow.triggered.connect(self.func_limitedSubWindow)\n\n        @Slot()\n        def printText():\n            print(&quot;Debug: Inside the __init__.&quot;)\n\n    @Slot()\n    def printText(self):\n        print(&quot;Debug: Inside the MainWindow class&quot;)\n        self.printing()\n\n    # Limited subwindow via action\n    @Slot()\n    def func_limitedSubWindow(self):\n\n        # loading global var which contains the subwindow ID\n        global state_limitedSubWindow\n\n        if state_limitedSubWindow == None:\n            limitedSubWindow = LimitedSubWindow(&quot;test_sub.ui&quot;)\n            self.ui.mdiArea.addSubWindow(limitedSubWindow)\n            limitedSubWindow.show()\n            # Save ID of the new created subwindow in the global variable\n            state_limitedSubWindow = limitedSubWindow.winId()\n            # Console output subwindow ID\n\n            print(state_limitedSubWindow)\n        else:\n            print(&quot;Window already exists !&quot;)\n\n    @Slot()\n    def printing(self):\n        self.ui.textOutput.setPlainText(&quot;Test&quot;)\n\n@Slot()\ndef printText():\n    print(&quot;Debug: Outside of the class file&quot;)\n\n\n# Class for the limited second window (only 1 instance can be active)\n# This class can of course be in a separate py file\n# The base widget of the UI file must be QWidget !!!\nclass LimitedSubWindow(QWidget):\n    def __init__(self, ui_limitedSubWindow_file, parent = None):\n        super(LimitedSubWindow, self).__init__(parent)\n\n        # (1) Open UI file\n        ui_limitedSubWindow_file = QFile(ui_limitedSubWindow_file)\n        ui_limitedSubWindow_file.open(QFile.ReadOnly)\n\n        # (2) Loading UI file ...\n        ui_limitedSubWindow_Loader = QUiLoader()\n        # ... and creating an instance of the content\n        self.ui_limitedSubWindow = ui_limitedSubWindow_Loader.load(ui_limitedSubWindow_file, self)\n\n        # (3) Close file\n        ui_limitedSubWindow_file.close()\n\n        self.setMinimumSize(400, 200)\n\n        self.setWindowTitle(&quot;Limited subwindow&quot;)\n\n        self.ui_limitedSubWindow.pushButton.clicked.connect(self.test)\n\n    # Close event resets the variable which contains the ID\n    def closeEvent(self, event):\n        global state_limitedSubWindow\n        # Reset the global variable\n        state_limitedSubWindow = None\n        event.accept()\n\n\nif __name__ == &quot;__main__&quot;:\n\n    app = QApplication(sys.argv)\n\n    # Creating an instance of the loading class\n    frame = MyUI(&quot;test.ui&quot;)\n\n    sys.exit(app.exec_())\n\n</code></pre>\n<p>The main ui-file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ui version=&quot;4.0&quot;&gt;\n &lt;class&gt;MainWindow&lt;/class&gt;\n &lt;widget class=&quot;QMainWindow&quot; name=&quot;MainWindow&quot;&gt;\n  &lt;property name=&quot;geometry&quot;&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;800&lt;/width&gt;\n    &lt;height&gt;600&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=&quot;windowTitle&quot;&gt;\n   &lt;string&gt;MainWindow&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;widget class=&quot;QWidget&quot; name=&quot;centralwidget&quot;&gt;\n   &lt;widget class=&quot;QWidget&quot; name=&quot;horizontalLayoutWidget&quot;&gt;\n    &lt;property name=&quot;geometry&quot;&gt;\n     &lt;rect&gt;\n      &lt;x&gt;0&lt;/x&gt;\n      &lt;y&gt;0&lt;/y&gt;\n      &lt;width&gt;791&lt;/width&gt;\n      &lt;height&gt;551&lt;/height&gt;\n     &lt;/rect&gt;\n    &lt;/property&gt;\n    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;\n     &lt;item&gt;\n      &lt;widget class=&quot;QPlainTextEdit&quot; name=&quot;textInput&quot;/&gt;\n     &lt;/item&gt;\n     &lt;item&gt;\n      &lt;widget class=&quot;QMdiArea&quot; name=&quot;mdiArea&quot;&gt;\n       &lt;property name=&quot;enabled&quot;&gt;\n        &lt;bool&gt;true&lt;/bool&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;maximumSize&quot;&gt;\n        &lt;size&gt;\n         &lt;width&gt;517&lt;/width&gt;\n         &lt;height&gt;16777215&lt;/height&gt;\n        &lt;/size&gt;\n       &lt;/property&gt;\n       &lt;widget class=&quot;QWidget&quot; name=&quot;subwindow&quot;&gt;\n        &lt;property name=&quot;minimumSize&quot;&gt;\n         &lt;size&gt;\n          &lt;width&gt;400&lt;/width&gt;\n          &lt;height&gt;400&lt;/height&gt;\n         &lt;/size&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;windowTitle&quot;&gt;\n         &lt;string&gt;Subwindow&lt;/string&gt;\n        &lt;/property&gt;\n        &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButton&quot;&gt;\n         &lt;property name=&quot;geometry&quot;&gt;\n          &lt;rect&gt;\n           &lt;x&gt;160&lt;/x&gt;\n           &lt;y&gt;200&lt;/y&gt;\n           &lt;width&gt;90&lt;/width&gt;\n           &lt;height&gt;28&lt;/height&gt;\n          &lt;/rect&gt;\n         &lt;/property&gt;\n         &lt;property name=&quot;text&quot;&gt;\n          &lt;string&gt;PushButton&lt;/string&gt;\n         &lt;/property&gt;\n        &lt;/widget&gt;\n       &lt;/widget&gt;\n      &lt;/widget&gt;\n     &lt;/item&gt;\n     &lt;item&gt;\n      &lt;widget class=&quot;QPlainTextEdit&quot; name=&quot;textOutput&quot;/&gt;\n     &lt;/item&gt;\n    &lt;/layout&gt;\n   &lt;/widget&gt;\n  &lt;/widget&gt;\n  &lt;widget class=&quot;QMenuBar&quot; name=&quot;menubar&quot;&gt;\n   &lt;property name=&quot;geometry&quot;&gt;\n    &lt;rect&gt;\n     &lt;x&gt;0&lt;/x&gt;\n     &lt;y&gt;0&lt;/y&gt;\n     &lt;width&gt;800&lt;/width&gt;\n     &lt;height&gt;25&lt;/height&gt;\n    &lt;/rect&gt;\n   &lt;/property&gt;\n   &lt;widget class=&quot;QMenu&quot; name=&quot;menuWorkbench&quot;&gt;\n    &lt;property name=&quot;title&quot;&gt;\n     &lt;string&gt;Workbench&lt;/string&gt;\n    &lt;/property&gt;\n    &lt;addaction name=&quot;actionOpenSubWindow&quot;/&gt;\n   &lt;/widget&gt;\n   &lt;addaction name=&quot;menuWorkbench&quot;/&gt;\n  &lt;/widget&gt;\n  &lt;widget class=&quot;QStatusBar&quot; name=&quot;statusbar&quot;/&gt;\n  &lt;action name=&quot;actionOpenSubWindow&quot;&gt;\n   &lt;property name=&quot;text&quot;&gt;\n    &lt;string&gt;Caesar Cipher&lt;/string&gt;\n   &lt;/property&gt;\n  &lt;/action&gt;\n  &lt;action name=&quot;actionTestText&quot;&gt;\n   &lt;property name=&quot;text&quot;&gt;\n    &lt;string&gt;Test text&lt;/string&gt;\n   &lt;/property&gt;\n  &lt;/action&gt;\n &lt;/widget&gt;\n &lt;resources/&gt;\n &lt;connections&gt;\n  &lt;connection&gt;\n   &lt;sender&gt;pushButton&lt;/sender&gt;\n   &lt;signal&gt;clicked()&lt;/signal&gt;\n   &lt;receiver&gt;MainWindow&lt;/receiver&gt;\n   &lt;slot&gt;printText()&lt;/slot&gt;\n   &lt;hints&gt;\n    &lt;hint type=&quot;sourcelabel&quot;&gt;\n     &lt;x&gt;386&lt;/x&gt;\n     &lt;y&gt;263&lt;/y&gt;\n    &lt;/hint&gt;\n    &lt;hint type=&quot;destinationlabel&quot;&gt;\n     &lt;x&gt;399&lt;/x&gt;\n     &lt;y&gt;299&lt;/y&gt;\n    &lt;/hint&gt;\n   &lt;/hints&gt;\n  &lt;/connection&gt;\n &lt;/connections&gt;\n &lt;slots&gt;\n  &lt;slot&gt;printText()&lt;/slot&gt;\n &lt;/slots&gt;\n&lt;/ui&gt;\n\n</code></pre>\n<p>The sub ui-file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ui version=&quot;4.0&quot;&gt;\n &lt;class&gt;Form&lt;/class&gt;\n &lt;widget class=&quot;QWidget&quot; name=&quot;Form&quot;&gt;\n  &lt;property name=&quot;geometry&quot;&gt;\n   &lt;rect&gt;\n    &lt;x&gt;0&lt;/x&gt;\n    &lt;y&gt;0&lt;/y&gt;\n    &lt;width&gt;315&lt;/width&gt;\n    &lt;height&gt;242&lt;/height&gt;\n   &lt;/rect&gt;\n  &lt;/property&gt;\n  &lt;property name=&quot;windowTitle&quot;&gt;\n   &lt;string&gt;Form&lt;/string&gt;\n  &lt;/property&gt;\n  &lt;widget class=&quot;QPushButton&quot; name=&quot;pushButton&quot;&gt;\n   &lt;property name=&quot;geometry&quot;&gt;\n    &lt;rect&gt;\n     &lt;x&gt;90&lt;/x&gt;\n     &lt;y&gt;80&lt;/y&gt;\n     &lt;width&gt;90&lt;/width&gt;\n     &lt;height&gt;28&lt;/height&gt;\n    &lt;/rect&gt;\n   &lt;/property&gt;\n   &lt;property name=&quot;text&quot;&gt;\n    &lt;string&gt;PushButton&lt;/string&gt;\n   &lt;/property&gt;\n  &lt;/widget&gt;\n &lt;/widget&gt;\n &lt;resources/&gt;\n &lt;connections/&gt;\n&lt;/ui&gt;\n\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "seaborn", "boxplot"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554329765, "post_id": 55505011, "comment_id": 97716124, "body": "You will need to combine the dataframes into a single one with a new column that says which original dataset the respective datum is part of. Then you can use this new column as the <code>hue</code> variable for a single seaborn plot call."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1554329842, "post_id": 55505011, "comment_id": 97716141, "body": "The example at <a href=\"https://matplotlib.org/gallery/lines_bars_and_markers/barchart.html#sphx-glr-gallery-lines-bars-and-markers-barchart-py\" rel=\"nofollow noreferrer\">matplotlib.org/gallery/lines_bars_and_markers/&hellip;</a> is basically the same layout"}, {"owner": {"reputation": 681, "user_id": 9661373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c59ae7fce3c24ebcdffe0ae0ece5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/9661373/aman"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1554330529, "post_id": 55505011, "comment_id": 97716355, "body": "@Reedinationer I have to use BoxPlot"}, {"owner": {"reputation": 681, "user_id": 9661373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c59ae7fce3c24ebcdffe0ae0ece5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/9661373/aman"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554330550, "post_id": 55505011, "comment_id": 97716361, "body": "@ImportanceOfBeingErnest Yeah I don&#39;t know how to do that"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554339078, "post_id": 55505011, "comment_id": 97718404, "body": "Actually, you already have all the data in one dataframe at the beginning. So just don&#39;t split them up."}, {"owner": {"reputation": 681, "user_id": 9661373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c59ae7fce3c24ebcdffe0ae0ece5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/9661373/aman"}, "edited": false, "score": 0, "creation_date": 1554342170, "post_id": 55505011, "comment_id": 97718990, "body": "So how would the syntax look like with the system of &quot;don&#39;t split them up&quot; ."}, {"owner": {"reputation": 681, "user_id": 9661373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c59ae7fce3c24ebcdffe0ae0ece5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/9661373/aman"}, "edited": false, "score": 0, "creation_date": 1554342241, "post_id": 55505011, "comment_id": 97719002, "body": "Could it be that it is not possible to make them side by side?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554346165, "post_id": 55505011, "comment_id": 97719830, "body": "No, that could not be. Because in <a href=\"https://seaborn.pydata.org/generated/seaborn.boxplot.html\" rel=\"nofollow noreferrer\">the documentation</a> you can see how to plot such graph."}, {"owner": {"reputation": 681, "user_id": 9661373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c59ae7fce3c24ebcdffe0ae0ece5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/9661373/aman"}, "edited": false, "score": 0, "creation_date": 1554346278, "post_id": 55505011, "comment_id": 97719858, "body": "Yeah I have looked at that numerous times. But I always get errors."}, {"owner": {"reputation": 681, "user_id": 9661373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c59ae7fce3c24ebcdffe0ae0ece5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/9661373/aman"}, "edited": false, "score": 0, "creation_date": 1554351855, "post_id": 55505011, "comment_id": 97721053, "body": "I cannot workout a correct syntax for this problem"}], "owner": {"reputation": 681, "user_id": 9661373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14c59ae7fce3c24ebcdffe0ae0ece5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/9661373/aman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554329889, "creation_date": 1554329064, "last_edit_date": 1554329889, "question_id": 55505011, "link": "https://stackoverflow.com/questions/55505011/how-to-show-two-figures-for-every-x-in-matplotlib-boxplot", "title": "How to show two figures for every x in matplotlib boxplot?", "body": "<p>I'm trying to show two figures for every <code>x</code> in my boxplot next to each other. But my code keeps the figures on top of each other. I cannot figure out how to fix this because I'm using three different separated data-frames (<code>org_data</code>, <code>holiday_false</code> and <code>holiday_true</code>). Please help.</p>\n\n<p><code>data.csv:</code></p>\n\n<pre><code>weekday | holiday | casual | registered\n---------------------------------------\n   0         1        500       153\n   2         0        412       654\n   6         1        846       113\n   2         0        456       121\n   3         0        124       654\n  ...       ...       ...       ...\n  ...       ...       ...       ...\n</code></pre>\n\n<p><code>code:</code></p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport os\nplt.style.use('seaborn-notebook')\n%matplotlib inline\n\nfig, axes = plt.subplots(figsize=(16, 7))\norg_data = pd.read_csv(\"data.csv\")\n\nholiday_false = org_data[(org_data[\"holiday\"] == 0) &amp; (org_data[\"weekday\"] != 0) &amp; (org_data[\"weekday\"] != 6)]\nholiday_true = org_data[(org_data[\"holiday\"] == 1) | (org_data[\"weekday\"] == 0) | (org_data[\"weekday\"] == 6)]\n\nax1 = plt.subplot(121)\nsns.boxplot(x=org_data[\"weekday\"], y=holiday_false[\"casual\"], color=\"orange\")\nsns.boxplot(x=org_data[\"weekday\"], y=holiday_true[\"casual\"], color=\"skyblue\")\nax1.set_title(\"Nuber of Casual Users on Holidays and Non-Holidays\")\nax1.set_xlabel(\"Days\")\nax1.set_ylabel(\"Number of Casual Users\")\n\nax2 = plt.subplot(122)\nsns.boxplot(x=org_data[\"weekday\"], y=holiday_false[\"registered\"], width=0.50, color=\"orange\")\nsns.boxplot(x=org_data[\"weekday\"], y=holiday_true[\"registered\"], width=0.50, color=\"skyblue\")\nax2.set_title(\"Number of Registered Users on Holidays and Non-Holidays\")\nax2.set_xlabel(\"Days\")\nax2.set_ylabel(\"Number of Registered Users\")\n\nplt.show()\n</code></pre>\n\n<p><code>the type of chart I get:</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/UF5Q7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UF5Q7.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>the chart I want:</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/nnq02.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nnq02.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python"], "owner": {"reputation": 49, "user_id": 10952261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qziOoaiT5vs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca_OZCMyuH8AOoPxj5Z8L0B6ZiwAg/mo/photo.jpg?sz=128", "display_name": "SPQR", "link": "https://stackoverflow.com/users/10952261/spqr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1554328671, "creation_date": 1554328671, "question_id": 55504944, "link": "https://stackoverflow.com/questions/55504944/iterating-through-outlook-email", "title": "Iterating through Outlook email", "body": "<p>I'm attempting to search through a specific inbox in Outlook by subject. However I want to correctly loop through the messages without causing any problems with Outlook crashing, etc. Is there better/safer way to do this?</p>\n\n<pre><code>email = win32.Dispatch(\"Outlook.Application\").GetNamespace(\"MAPI\")\nyour_folder = email.Folders.['Inbox']\nmessages = your_folder.Items\nfor i in range(3):\n    for m in messages:\n            if m.Subject == 'Email -' + date:\n                items = m.Attachments\n                number = items.Count\n                x = 1\n                if x &lt;= number:\n                    attachment = items.item(x)\n                    break\n    else:\n        continue\n    break\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554328849, "post_id": 55504932, "comment_id": 97715819, "body": "use button <code>{}</code> to correctly format code."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554328931, "post_id": 55504932, "comment_id": 97715843, "body": "always put full error message (Traceback) in question. We can&#39;t run it and we can&#39;t see your monitor so we can&#39;t see error."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554328976, "post_id": 55504932, "comment_id": 97715857, "body": "you mean <code>a.append([&#39;Avg&#39;, 12, 15, 13, 11])</code>"}, {"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 0, "creation_date": 1554329158, "post_id": 55504932, "comment_id": 97715928, "body": "Are those backticks actually part of your code? Or is that supposed to be for code block formatting?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1554338145, "post_id": 55504932, "comment_id": 97718205, "body": "Here it makes more sense to think of <code>a</code> as a list that contains lists.  You just want to add a new list to that outer list.  That&#39;s a simple list append."}], "answers": [{"tags": [], "owner": {"reputation": 2778, "user_id": 8899044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b611aa04cbd35df9894b1300eca2f?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik Wosi\u0144ski", "link": "https://stackoverflow.com/users/8899044/dominik-wosi%c5%84ski"}, "is_accepted": false, "score": 1, "last_activity_date": 1554329111, "creation_date": 1554329111, "answer_id": 55505019, "question_id": 55504932, "link": "https://stackoverflow.com/questions/55504932/is-there-a-way-to-append-in-a-2d-array-without-numpy/55505019#55505019", "title": "Is there a way to append in a 2d array without numpy?", "body": "<p><code>append</code> should normally work in this case. Try: </p>\n\n<pre><code>a.append(['Avg', 12, 15, 13, 11])\n</code></pre>\n\n<p>The problem might be the double bracket <code>[[</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 750, "user_id": 3605610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a3827b2c7d3017ab1daea48af2a099?s=128&d=identicon&r=PG&f=1", "display_name": "Yaniv", "link": "https://stackoverflow.com/users/3605610/yaniv"}, "is_accepted": false, "score": 0, "last_activity_date": 1554329350, "creation_date": 1554329350, "answer_id": 55505063, "question_id": 55504932, "link": "https://stackoverflow.com/questions/55504932/is-there-a-way-to-append-in-a-2d-array-without-numpy/55505063#55505063", "title": "Is there a way to append in a 2d array without numpy?", "body": "<p>If I understand correctly, you have a list of lists, which you think of as a \"2d array\". To add another \"row\", simply use append, e.g. <code>a.append(['Avg', 12, 15, 13, 11])</code>.</p>\n"}], "owner": {"reputation": 19, "user_id": 11127584, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GbjpvM6Qkhc/AAAAAAAAAAI/AAAAAAAAAQg/GKVoit6RIq8/photo.jpg?sz=128", "display_name": "Hana K", "link": "https://stackoverflow.com/users/11127584/hana-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554330052, "creation_date": 1554328610, "last_edit_date": 1554330052, "question_id": 55504932, "link": "https://stackoverflow.com/questions/55504932/is-there-a-way-to-append-in-a-2d-array-without-numpy", "title": "Is there a way to append in a 2d array without numpy?", "body": "<p>So, my computer won't load <code>numpy</code> and I need to append another row to a 2d array with 7 rows. Is there a way to append another row?</p>\n\n<p>I've already tried <code>a.append</code> but it doesn't work because there are multiple rows.</p>\n\n<pre><code>a = ([['Mon', 18, 20, 22, 17], \n     ['Tue', 11, 18, 21, 18],\n     ['Wed', 15, 21, 20, 19], \n     ['Thu', 11, 20, 22, 21],\n     ['Fri', 18, 17, 23, 22], \n     ['Sat', 12, 22, 20, 18],\n     ['Sun', 13, 15, 19, 16]])\n\nfor elem in a:\n        print(elem)\n\nm_r = append(a, [['Avg', 12, 15, 13, 11]], 0)\n</code></pre>\n\n<p>I want to have another row of <code>[['Avg', 12, 15, 13, 11]], 0)</code> underneath the rest of my code, but I'm only getting errors.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1554328758, "post_id": 55504923, "comment_id": 97715795, "body": "Comments don&#39;t count as statements, <code>pass</code> is how you write &quot;do nothing&quot; in python."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 1, "creation_date": 1554328773, "post_id": 55504923, "comment_id": 97715798, "body": "What do you mean by &quot;complying with what it wants&quot;? Who is &quot;it&quot;, and what exactly does it say it &quot;wants&quot;?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1554328807, "post_id": 55504923, "comment_id": 97715808, "body": "Or you could just remove the <code>else:</code> of course - it&#39;s optional, you know."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1554328869, "post_id": 55504923, "comment_id": 97715830, "body": "Does <code>#exits</code> mean exit the loop, or return from the function?"}, {"owner": {"reputation": 955, "user_id": 6194143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1cd7ace9bb0ff64c8d1d0fccd7818a?s=128&d=identicon&r=PG&f=1", "display_name": "Tacratis", "link": "https://stackoverflow.com/users/6194143/tacratis"}, "edited": false, "score": 0, "creation_date": 1554330623, "post_id": 55504923, "comment_id": 97716382, "body": "Do you maybe want to use <code>elif</code> instead? It is a bit hard to understand exactly what is your goal here."}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 0, "creation_date": 1554388989, "post_id": 55504923, "comment_id": 97742199, "body": "@JackHolman if you could mark an answer it would help other users acknowledge the solution for your problem."}], "answers": [{"tags": [], "owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "is_accepted": false, "score": 4, "last_activity_date": 1554328708, "creation_date": 1554328708, "answer_id": 55504950, "question_id": 55504923, "link": "https://stackoverflow.com/questions/55504923/def-function-screws-with-my-indentation/55504950#55504950", "title": "def() function screws with my indentation", "body": "<p>Try putting some <code>pass</code> instructions after the <code>else</code> statements, or some <code>return</code>'s if you say it should exit.</p>\n\n<p>You could even shorten the whole thing by doing:</p>\n\n<pre><code>if any([\n    fileScanDestination == '',\n    fileMoveDestination == '',\n    specialFileExtension == '',\n    str(specialFileExtension) == 'nil',\n    str(fileNameSpecial) == str('nil'),\n    fileNameSpecial == ''\n]):\n    return\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11308166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fxy5J.jpg?s=128&g=1", "display_name": "Jack Holman", "link": "https://stackoverflow.com/users/11308166/jack-holman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554328708, "creation_date": 1554328538, "last_edit_date": 1554328645, "question_id": 55504923, "link": "https://stackoverflow.com/questions/55504923/def-function-screws-with-my-indentation", "title": "def() function screws with my indentation", "body": "<p>I'm writing a basic script that scans files and moves them if they fit some criteria set by the user.</p>\n\n<p>I have tried complying with what it wants but that just ends up with every line of code being indented one more than the other.</p>\n\n<pre><code>def check():\n    #code simplication\n    for i in range(2):\n        if fileScanDestination == '':\n            noValue(moveFrom)\n        else:\n            #exits\n\n        if fileMoveDestination == '':\n            noValue(moveTo)\n        else:\n            #exits\n\n        if specialFileExtension == '':\n            str(specialFileExtension) == 'nil'\n        else:\n            #exits\n\n        if fileNameSpecial == '':\n            str(fileNameSpecial) == str('nil')\n        else:\n            #exits\n\ndef p(text):\n    print(text)\n\n#setting up tkinter\n\n\n# getting variable data\n\np('Please enter the path for the files you would like to sort.')\nfileScanDestination == str(input())\n</code></pre>\n\n<p>This should just have to be indented once, then exit. But since it wants to indent every new line, which just looks bad.</p>\n"}, {"tags": ["python", "pyspark"], "comments": [{"owner": {"reputation": 2959, "user_id": 6933215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BQEhb.jpg?s=128&g=1", "display_name": "Pushkr", "link": "https://stackoverflow.com/users/6933215/pushkr"}, "edited": false, "score": 0, "creation_date": 1554331821, "post_id": 55504916, "comment_id": 97716745, "body": "What have you tried? Take a look at collect_list function and \u2018agg\u2019 function"}], "answers": [{"tags": [], "owner": {"reputation": 2249, "user_id": 2450936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174d70ca270f9c1bdadb37ac9eaf8fe0?s=128&d=identicon&r=PG", "display_name": "howie", "link": "https://stackoverflow.com/users/2450936/howie"}, "is_accepted": false, "score": 0, "last_activity_date": 1554336055, "creation_date": 1554336055, "answer_id": 55505973, "question_id": 55504916, "link": "https://stackoverflow.com/questions/55504916/need-to-aggregate-and-put-into-list-by-group-in-pyspark-dataframe/55505973#55505973", "title": "Need to aggregate and put into list by group in Pyspark dataframe", "body": "<p>Here is the example github <a href=\"https://github.com/howie/spark-python-example/blob/master/tests/__jobs/example1/TestExample1.py\" rel=\"nofollow noreferrer\">TestExample1</a></p>\n\n<pre class=\"lang-py prettyprint-override\"><code> exampleDf = self.spark.createDataFrame(\n            [('A', 'b', 'c', 'time_0', 1.2, 1.3, 2.5),\n             ('A', 'b', 'c', 'time_1', 1.1, 1.5, 3.4),\n             ],\n            (\"id_1\", \"id_2\", \"id_3\", \"timestamp\", \"thing1\", \"thing2\", \"thing3\"))\n\n        exampleDf.show()\n\n        ans = exampleDf.groupBy(col(\"id_1\"), col(\"id_2\"), col(\"id_3\")) \\\n            .agg(collect_list(col(\"timestamp\")),\n                 collect_list(col(\"thing1\")),\n                 collect_list(col(\"thing2\")))\n\n        ans.show()\n\n+----+----+----+---------+------+------+------+\n|id_1|id_2|id_3|timestamp|thing1|thing2|thing3|\n+----+----+----+---------+------+------+------+\n|   A|   b|   c|   time_0|   1.2|   1.3|   2.5|\n|   A|   b|   c|   time_1|   1.1|   1.5|   3.4|\n+----+----+----+---------+------+------+------+\n\n+----+----+----+-----------------------+--------------------+--------------------+\n|id_1|id_2|id_3|collect_list(timestamp)|collect_list(thing1)|collect_list(thing2)|\n+----+----+----+-----------------------+--------------------+--------------------+\n|   A|   b|   c|       [time_0, time_1]|          [1.2, 1.1]|          [1.3, 1.5]|\n+----+----+----+-----------------------+--------------------+--------------------+\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5228, "user_id": 8329213, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Db9cx.jpg?s=128&g=1", "display_name": "cph_sto", "link": "https://stackoverflow.com/users/8329213/cph-sto"}, "is_accepted": false, "score": 1, "last_activity_date": 1554364033, "last_edit_date": 1554364033, "creation_date": 1554363692, "answer_id": 55510378, "question_id": 55504916, "link": "https://stackoverflow.com/questions/55504916/need-to-aggregate-and-put-into-list-by-group-in-pyspark-dataframe/55510378#55510378", "title": "Need to aggregate and put into list by group in Pyspark dataframe", "body": "<p>Use <a href=\"http://spark.apache.org/docs/2.4.0/api/python/pyspark.sql.html#pyspark.sql.functions.collect_list\" rel=\"nofollow noreferrer\"><code>collect_list()</code></a> as people have suggested above as well.</p>\n\n<pre><code># Creating the DataFrame\ndf =sqlContext.createDataFrame([('A','b','c','time_0',1.2,1.3,2.5),('A','b','c','time_1',1.1,1.5,3.4),\n                               ('A','b','c','time_2',2.2,2.6,2.9),('A','b','d','time_0',5.1,5.5,5.7),\n                               ('A','b', 'd','time_1',6.1,6.2,6.3),('A','b','e','time_0',0.1,0.5,0.9),\n                               ('A','b', 'e','time_1',0.2,0.3,0.6)],\n                               ['id_1','id_2','id_3','timestamp','thing1','thing2','thing3'])\ndf.show()\n+----+----+----+---------+------+------+------+\n|id_1|id_2|id_3|timestamp|thing1|thing2|thing3|\n+----+----+----+---------+------+------+------+\n|   A|   b|   c|   time_0|   1.2|   1.3|   2.5|\n|   A|   b|   c|   time_1|   1.1|   1.5|   3.4|\n|   A|   b|   c|   time_2|   2.2|   2.6|   2.9|\n|   A|   b|   d|   time_0|   5.1|   5.5|   5.7|\n|   A|   b|   d|   time_1|   6.1|   6.2|   6.3|\n|   A|   b|   e|   time_0|   0.1|   0.5|   0.9|\n|   A|   b|   e|   time_1|   0.2|   0.3|   0.6|\n+----+----+----+---------+------+------+------+\n</code></pre>\n\n<p>In addition to using <a href=\"http://spark.apache.org/docs/2.4.0/api/python/pyspark.sql.html#pyspark.sql.DataFrame.agg\" rel=\"nofollow noreferrer\"><code>agg()</code></a>, you can write familiar <code>SQL</code> syntax to operate on it, but first we have to register our <code>DataFrame</code> as temporary <code>SQL</code> view -</p>\n\n<pre><code>df.createOrReplaceTempView(\"df_view\")\ndf = spark.sql(\"\"\"select id_1, id_2, id_3,\n                  collect_list(timestamp) as timestamp,\n                  collect_list(thing1) as thing1,\n                  collect_list(thing2) as thing2,\n                  collect_list(thing3) as thing3 \n                  from df_view \n                  group by id_1, id_2, id_3\"\"\")\ndf.show(truncate=False)\n+----+----+----+------------------------+---------------+---------------+---------------+\n|id_1|id_2|id_3|timestamp               |thing1         |thing2         |thing3         |\n+----+----+----+------------------------+---------------+---------------+---------------+\n|A   |b   |d   |[time_0, time_1]        |[5.1, 6.1]     |[5.5, 6.2]     |[5.7, 6.3]     |\n|A   |b   |e   |[time_0, time_1]        |[0.1, 0.2]     |[0.5, 0.3]     |[0.9, 0.6]     |\n|A   |b   |c   |[time_0, time_1, time_2]|[1.2, 1.1, 2.2]|[1.3, 1.5, 2.6]|[2.5, 3.4, 2.9]|\n+----+----+----+------------------------+---------------+---------------+---------------+\n</code></pre>\n\n<p><em>Note:</em> The <a href=\"https://stackoverflow.com/questions/40787972/how-to-execute-multi-line-sql-in-spark-sql\"><code>\"\"\"</code></a> has been used to have multiline statements for the sake of visibility and neatness. With simple <code>'select id_1 ....'</code> that wouldn't work if you try to spread your statement over multiple lines. Needless to say, the final result will be the same.</p>\n"}], "owner": {"reputation": 69, "user_id": 10102587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52f0530dc2962c61b6bb20031d57009?s=128&d=identicon&r=PG&f=1", "display_name": "Cards14", "link": "https://stackoverflow.com/users/10102587/cards14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554364033, "creation_date": 1554328501, "last_edit_date": 1554330641, "question_id": 55504916, "link": "https://stackoverflow.com/questions/55504916/need-to-aggregate-and-put-into-list-by-group-in-pyspark-dataframe", "title": "Need to aggregate and put into list by group in Pyspark dataframe", "body": "<p>I have a pyspark dataframe, where I want to group by some index, and combine all the values in each column into one <code>list</code> per column.</p>\n\n<p>Example input:</p>\n\n<pre><code>id_1| id_2| id_3|timestamp|thing1|thing2|thing3\nA   | b   | c   |time_0   |1.2   |1.3    |2.5\nA   | b   | c   |time_1   |1.1   |1.5    |3.4\nA   | b   | c   |time_2   |2.2   |2.6    |2.9\nA   | b   | d   |time_0   |5.1   |5.5    |5.7\nA   | b   | d   |time_1   |6.1   |6.2    |6.3\nA   | b   | e   |time_0   |0.1   |0.5    |0.9\nA   | b   | e   |time_1   |0.2   |0.3    |0.6\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>id_1|id_2|id_3|        timestamp     |thing1       |thing2       |thing3\nA   |b  |  c |[time_0,time_1,time_2]|[1.2,1.1,2.2]|[1.3,1.5,2.6|[2.5,3.4,2.9]\nA   |b  |  d |[time_0,time_1]       |[5.1,6.1]    |[5.5,6.2]   |[5.7,6.3]\nA   |b  |  e |[time_0,time_1]       |[0.1,0.2]    |[0.5,0.3]   |[0.9,0.6]\n</code></pre>\n\n<p>How can I do this efficiently?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 6799, "user_id": 2635863, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/40a409653d0c3b49ceab04ab22c98c1f?s=128&d=identicon&r=PG", "display_name": "HappyPy", "link": "https://stackoverflow.com/users/2635863/happypy"}, "edited": false, "score": 0, "creation_date": 1554329908, "post_id": 55504890, "comment_id": 97716160, "body": "Thank you all for your answers, they all work great!"}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1554328526, "creation_date": 1554328526, "answer_id": 55504920, "question_id": 55504890, "link": "https://stackoverflow.com/questions/55504890/assign-elements-in-a-list-to-different-columns-in-a-dataframe/55504920#55504920", "title": "assign elements in a list to different columns in a dataframe", "body": "<p>You can using <code>Series</code> format your <code>list</code> then <code>append</code> </p>\n\n<pre><code>df=df.append(pd.Series(l,index=df.columns,name=0))\nl2 = [3,4]\ndf=df.append(pd.Series(l2,index=df.columns,name=1))\ndf\nOut[424]: \n   x  y\n0  1  2\n1  3  4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": true, "score": 2, "last_activity_date": 1554328670, "creation_date": 1554328670, "answer_id": 55504943, "question_id": 55504890, "link": "https://stackoverflow.com/questions/55504890/assign-elements-in-a-list-to-different-columns-in-a-dataframe/55504943#55504943", "title": "assign elements in a list to different columns in a dataframe", "body": "<p>Use <code>loc</code></p>\n\n<pre><code>df.loc[len(df), :] = l\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": false, "score": 2, "last_activity_date": 1554328774, "creation_date": 1554328774, "answer_id": 55504967, "question_id": 55504890, "link": "https://stackoverflow.com/questions/55504890/assign-elements-in-a-list-to-different-columns-in-a-dataframe/55504967#55504967", "title": "assign elements in a list to different columns in a dataframe", "body": "<p>We can use <code>loc</code> with the <code>length of df</code>:</p>\n\n<pre><code>l = [1,2]\ndf = pd.DataFrame(columns=['x','y'])\ndf.loc[len(df)] = l\n\nprint(df,'\\n')\n\nl2 = [3,4]\n\ndf.loc[len(df)] = l2\n\nprint(df)\n   x  y\n0  1  2 \n\n   x  y\n0  1  2\n1  3  4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 750, "user_id": 3605610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a3827b2c7d3017ab1daea48af2a099?s=128&d=identicon&r=PG&f=1", "display_name": "Yaniv", "link": "https://stackoverflow.com/users/3605610/yaniv"}, "is_accepted": false, "score": 1, "last_activity_date": 1554328904, "creation_date": 1554328904, "answer_id": 55504989, "question_id": 55504890, "link": "https://stackoverflow.com/questions/55504890/assign-elements-in-a-list-to-different-columns-in-a-dataframe/55504989#55504989", "title": "assign elements in a list to different columns in a dataframe", "body": "<ol>\n<li>You <em>could</em> use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.concat.html\" rel=\"nofollow noreferrer\"><code>pd.concat</code></a> to achieve exactly what you wanted:</li>\n</ol>\n\n<pre class=\"lang-py prettyprint-override\"><code>    columns = ['x','y']\n    df = pd.DataFrame(columns=columns)\n</code></pre>\n\n<p>and then add \"rows\" like so:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>   l = [1,2]\n   df = pd.concat((df, pd.DataFrame(data=[l], columns=columns)))\n   l = [3,4]\n   df = pd.concat((df, pd.DataFrame(data=[l], columns=columns)))\n</code></pre>\n\n<ol start=\"2\">\n<li><em>However</em>, you could also do something like the following (if it makes sense in your real use case):</li>\n</ol>\n\n<pre class=\"lang-py prettyprint-override\"><code>   my_data = []\n   my_data.append([1,2])\n   my_data.append([3,4])\n   # ...and then eventually:\n   df = pd.DataFrame(my_data, columns=list('xy'))\n</code></pre>\n"}], "owner": {"reputation": 6799, "user_id": 2635863, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/40a409653d0c3b49ceab04ab22c98c1f?s=128&d=identicon&r=PG", "display_name": "HappyPy", "link": "https://stackoverflow.com/users/2635863/happypy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 55504943, "answer_count": 4, "score": 1, "last_activity_date": 1554328904, "creation_date": 1554328363, "question_id": 55504890, "link": "https://stackoverflow.com/questions/55504890/assign-elements-in-a-list-to-different-columns-in-a-dataframe", "title": "assign elements in a list to different columns in a dataframe", "body": "<pre><code>l = [1,2]\ndf = pd.DataFrame(columns=['x','y'])\n</code></pre>\n\n<p>I'm trying to assign the elements of list <code>l</code> to the different columns in <code>df</code> but cannot find a way to do this. <code>df.append(l)</code> adds the list in one single column.</p>\n\n<p>I would also like to be able to append other lists I create subsequently</p>\n\n<pre><code>l2 = [3,4]\ndf.append(l2)\n</code></pre>\n\n<p>This is the expected output</p>\n\n<pre><code>&gt;&gt;&gt; df \n    x   y\n    1   2\n    3   4\n    ... ...\n</code></pre>\n"}, {"tags": ["python", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554330999, "post_id": 55505104, "comment_id": 97716492, "body": "Im getting the same error on the first approach. As for the second one it runs but nothing happens. Is the drop down supposed to also open on screen when those JavaScript commands are run."}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554331436, "post_id": 55505104, "comment_id": 97716648, "body": "I see the ul with li, why don&#39;t  you click li directly. And can you check what is the associated event to that button."}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554331648, "post_id": 55505104, "comment_id": 97716702, "body": "Something like this <code>&#47;&#47;div[@class=&#39;col-xs-12 dropup&#39;]&#47;&#47;ul[@id=&#39;dropdownId&#39;]&#47;li[normalize-space(.)=&#39;list_I&zwnj;&#8203;tem&#39;]</code>. you have to use javascrip to click on the li directly."}, {"owner": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554332729, "post_id": 55505104, "comment_id": 97716982, "body": "Im sorry i am not familiar with JavaScript. When I try to find that element it like this driver.find_element_by_xpath(&quot;//div[@class=&#39;col-xs-12 dropup&#39;]//ul[@id=&#39;dropdownId&#39;]/li[normalize-space(.)=&#39;list_I&zwnj;&#8203;tem&#39;]&quot;).click(). I get a Faield to convert data to an object error"}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554335701, "post_id": 55505104, "comment_id": 97717637, "body": "can you please share the first list item with html, so that I can provide the javascript to click on the first item,then you can change it accordingly."}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554339209, "post_id": 55505104, "comment_id": 97718432, "body": "Ok, I would first like to check if we can directly interact with the links by <code>print(driver.find_element_by_xpath(&quot;&#47;&#47;a[@id=&#39;vehicleUsage_1&#39; and contains(.,&#39;Pleasure&#39;)]&quot;).text)</code>. If <code>.text</code> does not return the value then try <code>.get_attribute(&#39;innerText&#39;)</code>"}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554339346, "post_id": 55505104, "comment_id": 97718460, "body": "If you get the text, then you can directly select that item by clicking on the link using javascript."}, {"owner": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554340292, "post_id": 55505104, "comment_id": 97718665, "body": "Ohhh Dude your a genius. Thank You."}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "edited": false, "score": 0, "creation_date": 1554344344, "post_id": 55505104, "comment_id": 97719444, "body": "Thanks, and Glad that it resolved your issue. I would always try to select the list items using the xpath rather clicking on the list box and then clicking on the options."}], "tags": [], "owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "is_accepted": true, "score": 2, "last_activity_date": 1554344500, "last_edit_date": 1554344500, "creation_date": 1554329645, "answer_id": 55505104, "question_id": 55504834, "link": "https://stackoverflow.com/questions/55504834/how-to-fix-could-not-be-scrolled-into-view-problem-with-drop-down-menu/55505104#55505104", "title": "How to fix &quot;could not be scrolled into view&quot; problem with drop down menu?", "body": "<p>There are 3 ways to handle this issue.</p>\n\n<p>1St Approach: location_once_scrolled_into_view</p>\n\n<pre><code>element = driver.find_element_by_id(\"dropDown\")\n# scroll to the element\nelement.location_once_scrolled_into_view\nelement.click()\n</code></pre>\n\n<p>2nd Approach: JavaScript (the button will be clicked though not scrolled into view.)</p>\n\n<pre><code>element = driver.find_element_by_id(\"dropDown\")\ndriver.execute_script(\"arguments[0].click();\",element)\n</code></pre>\n\n<p>3rd Approach: Clicking on the list item (link in your case directly)</p>\n\n<pre><code>element = driver.find_element_by_xpath(\"//a[@id='vehicleUsage_1' and contains(.,'Pleasure')]\")\nelement.click()\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6896528, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/NK57Q.jpg?s=128&g=1", "display_name": "Eggnog", "link": "https://stackoverflow.com/users/6896528/eggnog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2205, "favorite_count": 1, "accepted_answer_id": 55505104, "answer_count": 1, "score": 1, "last_activity_date": 1554344500, "creation_date": 1554328154, "question_id": 55504834, "link": "https://stackoverflow.com/questions/55504834/how-to-fix-could-not-be-scrolled-into-view-problem-with-drop-down-menu", "title": "How to fix &quot;could not be scrolled into view&quot; problem with drop down menu?", "body": "<p>I am trying to open a drop down and select a option but every time I use the find_element_by_id feature I get an error.</p>\n\n<pre><code>selenium.common.exceptions.ElementNotInteractableException: Message: Element &lt;button id=\"dropDown\" class=\"btn btn-default dropdown-toggle custom-button\" name=\"dropDown\" type=\"button\"&gt; could not be scrolled into view\n</code></pre>\n\n<p>Here is the dropdown and code</p>\n\n<p><a href=\"https://ibb.co/GtdLhYn\" rel=\"nofollow noreferrer\">https://ibb.co/GtdLhYn</a></p>\n\n<p>Some one had a similar problem and solved it but for some reason he didnt include how.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/51250668/message-element-option-could-not-be-scrolled-into-view-while-trying-to-click\">Message: Element &lt;option&gt; could not be scrolled into view while trying to click on an option within a dropdown menu through Selenium</a></p>\n\n<p>He only said he used actionsChains but that didnt really work either</p>\n"}, {"tags": ["python", "indexing", "list-comprehension"], "answers": [{"tags": [], "owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "is_accepted": false, "score": 1, "last_activity_date": 1554328402, "creation_date": 1554328402, "answer_id": 55504897, "question_id": 55504831, "link": "https://stackoverflow.com/questions/55504831/capitalize-next-non-empty-element-in-next-list-of-nested-lists/55504897#55504897", "title": "capitalize next non-empty element in next list of nested lists", "body": "<pre><code>s1 = \"hello\"\n\nwords = []\nfor i in range(len(s1)):\n    words.append(s1[:i] + s1[i:i+1].capitalize() + s1[i+1:])\n\nprint(words)\n</code></pre>\n\n<p>will yield</p>\n\n<pre><code>['Hello', 'hEllo', 'heLlo', 'helLo', 'hellO']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "edited": false, "score": 1, "creation_date": 1554328518, "post_id": 55504900, "comment_id": 97715718, "body": "I answered with 24 seconds ahead! :D. I like the enumerate solution though!"}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 2, "last_activity_date": 1554329155, "last_edit_date": 1554329155, "creation_date": 1554328426, "answer_id": 55504900, "question_id": 55504831, "link": "https://stackoverflow.com/questions/55504831/capitalize-next-non-empty-element-in-next-list-of-nested-lists/55504900#55504900", "title": "capitalize next non-empty element in next list of nested lists", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\">enumerate()</a> and <a href=\"https://docs.python.org/3/library/stdtypes.html#str.upper\" rel=\"nofollow noreferrer\">upper()</a> to get the wanted effect if you iterate over the letters of your word:</p>\n\n<pre><code>text = \"hello\"   # this will _not_ lowercase first - do that before if you want it\n\nk = []\nfor i,c in enumerate(text):\n    k.append(text[:i]+ text[i].upper() + text[i+1:])\n\nprint(k) \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['Hello', 'hEllo', 'heLlo', 'helLo', 'hellO']\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\">enumerate()</a>  gives you your current position inside the word and you list-slice around to get the right character uppercased.</p>\n\n<p>Related: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/509211/understanding-slice-notation\">Understanding slice notation</a></li>\n</ul>\n"}], "owner": {"reputation": 469, "user_id": 6860252, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/gnFFD.jpg?s=128&g=1", "display_name": "Mr. Jibz", "link": "https://stackoverflow.com/users/6860252/mr-jibz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1554329155, "creation_date": 1554328145, "question_id": 55504831, "link": "https://stackoverflow.com/questions/55504831/capitalize-next-non-empty-element-in-next-list-of-nested-lists", "title": "capitalize next non-empty element in next list of nested lists", "body": "<p>My function aims to take a string as input then output the same string printed the number of times equal to the count of non-empty characters in the string, with the next non-empty element in the next list capitalized. The final output should contain the new strings in a list. </p>\n\n<p>Example:\nInput:  <code>hello</code>\nOutput: <code>[\"Hello\", \"hEllo\", \"heLlo\", \"helLo\", \"hellO\"]</code></p>\n\n<p>Function: </p>\n\n<pre><code>def cap_wave(str):\n    str_split = len([x for x in list(str) if x.isalpha()])\n    len_list = [list(str) for i in range(1, str_split+1)]\n    result = []\n    for i in range(len(len_list)):\n        temp = []\n        for t in len_list[i]:\n            char_modified = t\n            if not char_modified:\n                continue\n            else:\n                temp.append(char_modified)\n        result.append(temp)\n        new_nested = [[a.upper() if i == 0 else a for i, a in enumerate(b)] for b in result]\n        nest_joins = [''.join(x) for x in new_nested]\n    return nest_joins\n</code></pre>\n\n<p>The above function would fulfill all requirements except for capitalizing the next, and only the next letter, in the next string, eg <code>[\"Hello\", \"Hello\", \"Hello\", \"Hello\", \"Hello\"]</code>. My gut says to count using index slicing, but I'm unsure how to implement without hitting index range errors. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1554328154, "post_id": 55504821, "comment_id": 97715584, "body": "What have you tried, and what exactly is the problem with it?"}, {"owner": {"reputation": 21, "user_id": 11308165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9999b07ff05ad0ec00f9fa4e8f5447?s=128&d=identicon&r=PG&f=1", "display_name": "el_floodro", "link": "https://stackoverflow.com/users/11308165/el-floodro"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1554328458, "post_id": 55504821, "comment_id": 97715696, "body": "I&#39;ve tried iterating over both lists, while comparing list2 tuple to see if it overlaps with list1 tuple, then add tuple to a new list and continue to iterate. I have not gotten anywhere that feels like it will pay off, hence the lack of code in the question."}, {"owner": {"reputation": 1097, "user_id": 9703830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48ed2a2cf0e75c7355e044c71385202?s=128&d=identicon&r=PG&f=1", "display_name": "dedObed", "link": "https://stackoverflow.com/users/9703830/dedobed"}, "edited": false, "score": 1, "creation_date": 1554328699, "post_id": 55504821, "comment_id": 97715776, "body": "This feels very homework-ish. I think that a <a href=\"https://stackoverflow.com/help/how-to-ask\">proper question</a> around a <a href=\"https://stackoverflow.com/help/mcve\">minimal example</a> will have much better chances of being answered."}, {"owner": {"reputation": 21, "user_id": 11308165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9999b07ff05ad0ec00f9fa4e8f5447?s=128&d=identicon&r=PG&f=1", "display_name": "el_floodro", "link": "https://stackoverflow.com/users/11308165/el-floodro"}, "edited": false, "score": 0, "creation_date": 1554329002, "post_id": 55504821, "comment_id": 97715868, "body": "It&#39;s a work related problem. I need to write some test code to verify an alarm aggregation routine, where list1 alarms needs to be ignored while list2 alarms are active. I&#39;ll try to re-word, but with the limited amount of useful code I have produced, there isn&#39;t much to add in that regard."}, {"owner": {"reputation": 625, "user_id": 3803173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ulLbW.png?s=128&g=1", "display_name": "MassPikeMike", "link": "https://stackoverflow.com/users/3803173/masspikemike"}, "edited": false, "score": 0, "creation_date": 1554334654, "post_id": 55504821, "comment_id": 97717403, "body": "I would like to help, but your explanation is not complete enough for me to understand why the expected output is what it is. Which list are you starting from, and what are you removing? At first I thought you were starting with <code>list1</code> and removing ranges from <code>list2</code>. But in that case your expected output would not contain <code>(22,24)</code>, because there is no range in <code>list1</code> that goes up to 24. So it&#39;s not at all clear to me what you are trying to produce."}], "answers": [{"tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": false, "score": 2, "last_activity_date": 1554494470, "last_edit_date": 1554494470, "creation_date": 1554470733, "answer_id": 55536467, "question_id": 55504821, "link": "https://stackoverflow.com/questions/55504821/how-to-subtract-overlapping-tuple-time-ranges-in-two-different-lists/55536467#55536467", "title": "How to &#39;subtract&#39; overlapping tuple time ranges in two different lists", "body": "<p>Here is a solution that only iterates once on each element of the lists.</p>\n\n<p>With <code>list1 = [(2, 4), ...]</code> and <code>list2 = [(1, 3), ...]</code>, we have:</p>\n\n<ul>\n<li>at 1, start of a deleted part</li>\n<li>at 2, start of an interval</li>\n<li>at 3, end of a deleted part</li>\n<li>at 4, end of an interval</li>\n</ul>\n\n<p>The output is made of the parts where we are both inside an interval and not in a deleted part.</p>\n\n<p>So, the idea is to go through the events in order, keeping track of whether we are in an interval or not, and inside a deleted part or not.</p>\n\n<p>We start by creating a generator from each list, that will generate:</p>\n\n<ul>\n<li>For the first one, <code>Event(pos=2, toggle='in_interval')</code>, <code>Event(pos=4, toggle='in_interval')</code> and so on. </li>\n<li>For the second one, <code>Event(pos=1, toggle='in_deleted')</code>, <code>Event(pos=3, toggle='in_deleted')</code>...</li>\n</ul>\n\n<p>We don't need to care if each value is the start or end of an interval, as it just toggles the state (inside/outside of an interval).</p>\n\n<p>We can then use <a href=\"https://docs.python.org/3/library/heapq.html#heapq.merge\" rel=\"nofollow noreferrer\">heapq.merge</a> to get the events in order from these two generators, which will give us something like:</p>\n\n<p><code>Event(pos=1, toggle='in_deleted')</code>, <code>Event(pos=2, toggle='in_interval')</code>, <code>Event(pos=3, toggle='in_deleted')</code>, <code>Event(pos=4, toggle='in_interval')</code>...</p>\n\n<p>Each event will toggle the associated state. We have the start of a new interval for the output when we are both in an interval and not in a deleted part. The rest is self-explanatory...</p>\n\n<pre><code>from heapq import merge\nfrom itertools import chain\nfrom collections import namedtuple\n\ndef remaining(intervals, deleted):\n    Event = namedtuple('Event', ['position', 'toggle'])\n\n    int_iter = (Event(position=pos, toggle='in_interval') for pos in chain.from_iterable(intervals))\n    del_iter = (Event(position=pos, toggle='in_deleted') for pos in chain.from_iterable(deleted))\n\n    state = {'in_interval': False, 'in_deleted': False}\n    start = None\n    out = []\n\n    for event in merge(int_iter, del_iter):\n        state[event.toggle] = not state[event.toggle]\n        if state['in_interval'] and not state['in_deleted']:\n            # start a new interval\n            start = event.position\n        elif start is not None:\n            # end an interval. If it's not empty, we append it to the output\n            if event.position &gt; start:\n                out.append((start, event.position))\n            start = None\n    return out\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>list1 = [(2,4), (7,10), (14,22)]\nlist2 = [(1,3), (5,8), (9,15), (20,24)]      \n\nprint(remaining(list1, list2))\n# [(3, 4), (8, 9), (15, 20)]\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11308165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9999b07ff05ad0ec00f9fa4e8f5447?s=128&d=identicon&r=PG&f=1", "display_name": "el_floodro", "link": "https://stackoverflow.com/users/11308165/el-floodro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554494470, "creation_date": 1554328089, "last_edit_date": 1554470876, "question_id": 55504821, "link": "https://stackoverflow.com/questions/55504821/how-to-subtract-overlapping-tuple-time-ranges-in-two-different-lists", "title": "How to &#39;subtract&#39; overlapping tuple time ranges in two different lists", "body": "<p>I have two lists of tuples, each tuple is composed of a start and end time (in seconds from epoch) like so:</p>\n\n<pre><code>list1= [(2,4), (7,10), (14,22)]\n\nlist2 = [(1,3), (5,8), (9,15), (20,24)]\n</code></pre>\n\n<p>I need to create a new list of tuples (start, end) ranges that removes the time intervals where the tuple from <code>list2</code> overlaps with the tuple from <code>list1</code>. </p>\n\n<p>The expected output from said method, given <code>list1</code> and <code>list2</code> would be:</p>\n\n<pre><code>[(3,4), (8,10), (15,20)]\n</code></pre>\n\n<p>For what it is worth, both <code>list1</code> and <code>list2</code> will be comprised of unique time ranges, i.e. there will be no overlap within each respective individual lists.</p>\n"}, {"tags": ["python", "plot"], "comments": [{"owner": {"reputation": 2650, "user_id": 9803111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be0dea611f7de0ed9d56cb97d2afa24?s=128&d=identicon&r=PG&f=1", "display_name": "Nathaniel", "link": "https://stackoverflow.com/users/9803111/nathaniel"}, "edited": false, "score": 1, "creation_date": 1554333974, "post_id": 55504799, "comment_id": 97717246, "body": "Can you explain what you are trying to accomplish? Can you also provide some example data so the above code will reproduce the error?"}], "answers": [{"tags": [], "owner": {"reputation": 150, "user_id": 5091025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b269d37afc49c98643b9f92849c75ab3?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Aguiar", "link": "https://stackoverflow.com/users/5091025/victor-aguiar"}, "is_accepted": false, "score": 0, "last_activity_date": 1554334666, "creation_date": 1554334666, "answer_id": 55505810, "question_id": 55504799, "link": "https://stackoverflow.com/questions/55504799/index-out-of-bounds-python-dataframe-plot/55505810#55505810", "title": "index out of bounds// Python, dataframe, plot", "body": "<p>I think that when you use Pandas to plot, it will look for indices within itself and not for values.</p>\n\n<p>So, in your case, when you do:</p>\n\n<pre><code>point.plot(p1,x)\n</code></pre>\n\n<p>Pandas will look for the index <strong>1993</strong> in the x-direction, i.e, throughout all columns. In other words, you should have 1993 columns.</p>\n\n<p>I tried to reproduce your problem as follows:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame(np.random.randint(0,100,size=(10, 4)), columns=('rok', 'kroliki', 'lisy', 'marchewki'))\n\ndata = df[1:]\ndata=data.astype(float)\n\nx = int(data['kroliki'].max())\ny = int(data['lisy'].max())\nz = int(data['marchewki'].max())\n\np = data['rok'].where(data['kroliki'] == x)\nq = data['rok'].where(data['lisy'] == y)\nr = data['rok'].where(data['marchewki'] == z)\n\np1 = int(p[p.notnull()])\nq1 = int(q[q.notnull()])\nr1 = int(r[r.notnull()])\n\npoint = pd.DataFrame({'x':[p1],'y':[q1],'z':[r1]})\npoint.plot((p1,x),(q1,y),(r1,z))\n</code></pre>\n\n<p>I get the following error: </p>\n\n<pre><code>&gt;&gt;&gt; AttributeError: 'tuple' object has no attribute 'lower'\n</code></pre>\n\n<p>And when I run each point separately:</p>\n\n<pre><code>&gt;&gt;&gt;&gt; IndexError: index 85 is out of bounds for axis 0 with size 3\n</code></pre>\n\n<p>To solve it:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nplt.plot((point.x, point.y, point.z), (x,y,z),'ko')\n</code></pre>\n\n<p>And I got the following result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XvI3V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XvI3V.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope it helps. </p>\n"}], "owner": {"reputation": 1, "user_id": 11303532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcd45859819f829dbb8f125e41e5b70?s=128&d=identicon&r=PG&f=1", "display_name": "Wiill.I.Am", "link": "https://stackoverflow.com/users/11303532/wiill-i-am"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554334666, "creation_date": 1554328019, "question_id": 55504799, "link": "https://stackoverflow.com/questions/55504799/index-out-of-bounds-python-dataframe-plot", "title": "index out of bounds// Python, dataframe, plot", "body": "<p>I want to plot the point with max value from dataframe.</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndane = pd.read_table('C:\\\\xxx.txt', names=('rok', 'kroliki', 'lisy', 'marchewki'))\ndf = pd.DataFrame(dane)\n\ndata = df[1:]\ndata=data.astype(float)\n\nx = int(data['kroliki'].max())\ny = int(data['lisy'].max())\nz = int(data['marchewki'].max())\n\np= data['rok'].where(data['kroliki'] == x)\nq = data['rok'].where(data['lisy'] == y)\nr = data['rok'].where(data['marchewki'] == z)\n\np1 = int(p[p.notnull()])\nq1 = int(q[q.notnull()])\nr1 = int(r[r.notnull()])\npoint = pd.DataFrame({'x':[p1],'y':[q1],'z':[r1]})\npoint.plot((p1,x),(q1,y),(r1,z))\n</code></pre>\n\n<p>I have such an error:</p>\n\n<pre><code>IndexError: index 1993 is out of bounds for axis 0 with size 4\n</code></pre>\n\n<p>May somebody know what is wrong with this code?\nThanks</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "recurrent-neural-network"], "owner": {"reputation": 425, "user_id": 10434932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beca81be7bc729ad0c2f287c2e493659?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/10434932/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554365340, "creation_date": 1554327959, "last_edit_date": 1554365340, "question_id": 55504791, "link": "https://stackoverflow.com/questions/55504791/tensor-x-must-be-from-the-same-graph-as-y", "title": "Tensor X must be from the same graph as Y", "body": "<p>I know this has been asked quite a bit. However, after browsing through the different posts, I still can't seem to fix my error.</p>\n\n<p>I'm currently building a Recurrent Neural Network in order to do sentiment analysis. In this particular file, I'm defining 2 different types of architectures (one with 0 fully connected layer and another one with 1 fully connected layer), all under different functions, so I can then call something like train(1,....), with 1 corresponding to one of the options.</p>\n\n<p>I know the architectures in general are good because I've tested the code without the functions and everything was working.</p>\n\n<p>However, when I tried to organize the code into functions for the different architectures and for the training, I get this error:</p>\n\n<pre><code>ValueError: Tensor(\"RNN1/rnn/Const:0\", shape=(1,), dtype=int32) must be from the same graph as Tensor(\"ExpandDims:0\", shape=(1,), dtype=int32).\n</code></pre>\n\n<p>which is pointing to the line </p>\n\n<pre><code>outputs, final_state = tf.nn.dynamic_rnn(cell, embed, initial_state=initial_state)\n</code></pre>\n\n<p>I'd be very appreciated if anyone could help me with this!!\nThank you so much for your time!</p>\n\n<p>Full code:</p>\n\n<pre><code>(...)\n\ninputs_ = tf.placeholder(tf.int32, [None, None], name=\"inputs\")\nlabels_ = tf.placeholder(tf.int32, [None, None], name=\"labels\")\nkeep_prob = tf.placeholder(tf.float32, name=\"keep_prob\")\n\nn_words=4000 \nembed_size=300 \nembedding = tf.Variable(tf.random_uniform((n_words, embed_size), -1, 1))\nembed = tf.nn.embedding_lookup(embedding, inputs_)\n\n\ndef rnn_0_fc_layers(inputs_, lstm_size=226, lstm_layers=2, batch_size=600):\n    with tf.name_scope(\"RNN1\"): \n        def lstm_cell():\n            lstm = tf.contrib.rnn.BasicLSTMCell(lstm_size)\n            return tf.contrib.rnn.DropoutWrapper(lstm, output_keep_prob=keep_prob)\n\n        cell = tf.contrib.rnn.MultiRNNCell([lstm_cell() for i in range(lstm_layers)])\n\n        initial_state = cell.zero_state(batch_size, tf.float32)\n\n        outputs, final_state = tf.nn.dynamic_rnn(cell, embed, initial_state=initial_state)\n\n        pred = tf.contrib.layers.fully_connected(outputs[:,-1], 1, activation_func=tf.nn.relu)\n\n\n    return pred, cell, initial_state, final_state    \n\n\ndef rnn_1_fc_layers(inputs_, lstm_size=226, lstm_layers=2, batch_size=600):\n    with tf.name_scope(\"RNN1\"): \n        def lstm_cell():\n            lstm = tf.contrib.rnn.BasicLSTMCell(lstm_size)\n            return tf.contrib.rnn.DropoutWrapper(lstm, output_keep_prob=keep_prob)\n\n        cell = tf.contrib.rnn.MultiRNNCell([lstm_cell() for i in range(lstm_layers)])\n\n        initial_state = cell.zero_state(batch_size, tf.float32)\n\n        outputs, final_state = tf.nn.dynamic_rnn(cell, embed, initial_state=initial_state)\n\n        dense1= tf.contrib.layers.fully_connected(outputs[:, -1], 256, activation_func=tf.nn.relu)\n        dense1 = tf.contrib.layers.dropout(dense1, keep_prob)\n\n        pred = tf.contrib.layers.fully_connected(dense1, 1, activation_func=tf.nn.relu)\n\n    return pred, cell, initial_state, final_state\n\ndef get_batch(x, y, batch_size):\n    '''Create the batches for the training and validation data'''\n    n_batches = len(x)//batch_size\n    x, y = x[:n_batches*batch_size], y[:n_batches*batch_size]\n    for ii in range(0, len(x), batch_size):\n        yield x[ii:ii+batch_size], y[ii:ii+batch_size]\n\ntf.reset_default_graph()\n\n\ndef train_rnn(model, learning_rate, epochs, batch_size):\n    tf.reset_default_graph()\n    learning_rate= learning_rate\n    epochs=epochs\n    batch_size=batch_size\n\n    inputs_ = tf.placeholder(tf.int32, [None, None], name=\"inputs\")\n    labels_ = tf.placeholder(tf.int32, [None, None], name=\"labels\")\n\n    if model ==0:\n        pred,_,_,_= rnn_0_fc_layers(inputs_)\n    else:\n        model ==1:\n            pred,_,_,_=rnn_1_fc_layers(inputs_)\n\n    with tf.name_scope('cost'):\n        cost = tf.losses.mean_squared_error(labels_, pred)\n        tf.summary.scalar('cost', cost)\n\n    with tf.name_scope('train'):\n        optimizer = tf.train.AdamOptimizer(learning_rate).minimize(cost)\n\n    with tf.name_scope('eval'):\n        correct_pred = tf.equal(tf.cast(tf.round(pred), tf.int32), labels_)\n        accuracy = tf.reduce_mean(tf.cast(correct_pred, tf.float32))\n\n\n    merged = tf.summary.merge_all()\n\n    saver = tf.train.Saver()\n\n    with tf.Session() as sess:\n        sess.run(tf.global_variables_initializer())\n        iteration = 0\n\n        for e in range(epochs):\n            state = sess.run(model.initial_state)\n\n            for i1, (x,y) in enumerate(get_batch(train_x, train_y, batch_size), 1):\n                feed = {\n                    inputs_ : x,\n                    labels_ : y[:, None], \n                    keep_prob : 0.5,\n                    model.initial_state : state}\n\n                summary, acc, loss, state, _ = sess.run([merged, accuracy, cost, model.final_state, optimizer], feed_dict=feed)\n\n                if iteration%5 == 0:\n                    train_acc= []\n                    train_acc.append(acc)\n                    print(\"Epoch: {}/{}\".format(e, epochs),\n                         \"Iteration: {}\".format(iteration),\n                         \"Accuracy: {}\".format(train_acc),\n                         \"Train Loss: {:.3f}\".format(loss))\n\n                if iteration%5 == 0:\n                    val_acc = []\n                    val_loss= []\n                    val_state = sess.run(model.cell.zero_state(batch_size, tf.float32))\n                    for x, y in get_batch(val_x, val_y, batch_size):\n                        feed = {inputs_ : x,\n                               labels_ : y[:, None],\n                               keep_prob : 1,\n                               model.initial_state : val_state}\n                        summary, batch_acc, batch_loss, val_state = sess.run([merged, accuracy, cost, model.final_state], feed_dict=feed)\n                        val_acc.append(batch_acc)\n                        val_loss.append(batch_loss)\n                    print(\"Val acc: {:.3f}\".format(np.mean(val_acc)))\n                    print(\"Val loss: {:.3f}\".format(np.mean(val_loss)))                \n                iteration += 1\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "sorting", "multi-index"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554329519, "post_id": 55504848, "comment_id": 97716045, "body": "This works perfect, thanks! How would I do it in reverse order if I want it from smallest to largest? looks like <code>.transform(&#39;min&#39;)</code> did not work for me"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554330173, "post_id": 55504848, "comment_id": 97716245, "body": "remove the <code>-</code> <code>df.iloc[(df.groupby(level=[0,1]).D.transform(&#39;max&#39;)).argsort&zwnj;&#8203;().values]</code> @rashb"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554330820, "post_id": 55504848, "comment_id": 97716444, "body": "@rashb ummm what you actual dataset then"}, {"owner": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554331006, "post_id": 55504848, "comment_id": 97716496, "body": "This solution worked for my example but not my dataset. the smallest values from column D for each grandparent index are ordered -52, -59, -22, -70, -175. Would I need to provide a full output to help give some context?"}, {"owner": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554331111, "post_id": 55504848, "comment_id": 97716532, "body": "I will post it in another comment what the desired output I&#39;m looking for is, please give me a second. I appreciate all the help by the way, thank you!"}, {"owner": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554331847, "post_id": 55504848, "comment_id": 97716752, "body": "Hey @Wen-Ben, I&#39;ve edited my main post to include a desired output + what I get. Let me know if that makes sense and if you have an idea on how to solve it, thanks!"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554332159, "post_id": 55504848, "comment_id": 97716846, "body": "@rashb you can do with abs first in your D columns"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554332353, "post_id": 55504848, "comment_id": 97716894, "body": "@rashb <code>df.iloc[(df.D.abs().groupby(level=[0,1]).transform(&#39;max&#39;)).a&zwnj;&#8203;rgsort().values] </code>"}, {"owner": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "edited": false, "score": 0, "creation_date": 1554332937, "post_id": 55504848, "comment_id": 97717027, "body": "Hey @Wen-Ben, I actually got my result by changing <code>.transform(&quot;max&quot;)</code> to <code>.transform(&quot;min&quot;)</code> instead (in addition to taking out the minus sign). Thus , my final result is <code>df.iloc[(df.groupby(level=[0,1]).D.transform(&#39;min&#39;)).argsort&zwnj;&#8203;().values]</code>. Thanks for the help once again :) !"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 0, "last_activity_date": 1554328186, "creation_date": 1554328186, "answer_id": 55504848, "question_id": 55504723, "link": "https://stackoverflow.com/questions/55504723/sorting-multiindex-by-a-column-while-following-specific-structure/55504848#55504848", "title": "Sorting multiindex by a column while following specific structure", "body": "<p>Seems like you need <code>argsort</code></p>\n\n<pre><code>df.iloc[(-df.groupby(level=[0,1]).D.transform('max')).argsort().values]\nOut[416]: \n                   D\nGran1 Par2 Child1  9\n           Child2  2\nGran2 Par3 Child1  6\n           Child2  8\nGran1 Par1 Child1  3\n           Child2  7\n           Child3  2\n      Par3 Child1  6\nGran2 Par2 Child1  6\n           Child2  2\n           Child3  3\n      Par1 Child1  3\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11279418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d61ab7b8d9bd9831caab473adfffc5?s=128&d=identicon&r=PG&f=1", "display_name": "rashb", "link": "https://stackoverflow.com/users/11279418/rashb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 55504848, "answer_count": 1, "score": 0, "last_activity_date": 1554334767, "creation_date": 1554327648, "last_edit_date": 1554334767, "question_id": 55504723, "link": "https://stackoverflow.com/questions/55504723/sorting-multiindex-by-a-column-while-following-specific-structure", "title": "Sorting multiindex by a column while following specific structure", "body": "<p>I am using pandas to sort an n level array based on the integers in a column (\"D\"). It is very important the heirarchy of the groups remain consistent based on the 1st and 3rd level <em>only</em>. </p>\n\n<p>I have tried following <a href=\"https://stackoverflow.com/questions/47378149/python-pandas-sorting-multiindex-by-column-but-retain-tree-structure/47378196#47378196\">this solution</a> where the sort is based on index A and B. However I want to sort based on index A and C as described on the desired output. I have tried using <code>numpy.lexsort()</code> to achieve this but the answer in the provided link isn't descriptive of how to function works so I am still quite confused.</p>\n\n<pre><code>a = np.lexsort([results.tx.values,\n                results.groupby(level=[0,1]).tx.transform('sum').values, \n                results.groupby(level=0).tx.transform('sum').values])\n</code></pre>\n\n<p>This will sort based on the first and second index like in the example link</p>\n\n<p>Example input:</p>\n\n<pre><code>                    D\nA     B     C\nGran1 Par1  Child1  3\n            Child2  7\n            Child3  2\n      Par2  Child1  9\n            Child2  2\n      Par3  Child1  6\nGran2 Par1  Child1  3\n      Par2  Child1  6\n            Child2  2\n            Child3  3\n      Par3  Child1  6\n            Child2  8\n</code></pre>\n\n<p>output I get:</p>\n\n<pre><code>                        D\n    A     B     C\n    Gran2 Par3  Child2  8\n                Child1  6\n          Par2  Child1  6\n                Child3  3\n                Child2  2\n          Par1  Child1  3\n    Gran1 Par1  Child2  7\n                Child1  3\n                Child3  2\n          Par2  Child1  9\n                Child2  2\n          Par3  Child1  6\n\n</code></pre>\n\n<p>output I want:</p>\n\n<pre><code>                    D\nA     B     C\n\nGran1 Par2  Child1  9  &lt;--\n            Child2  2\nGran2 Par3  Child1  6\n            Child2  8  &lt;-- \nGran1 Par1  Child1  3\n            Child2  7  &lt;--\n            Child3  2\nGran2 Par2  Child1  6  &lt;--\n            Child2  2\n            Child3  3\n      Par1  Child1  4  &lt;--\nGran1 Par3  Child1  2  &lt;--\n</code></pre>\n\n<p>As you can see, I want to highest value from an A+B index pair brought to the top along with all it's children, while keeping other values from the B index separate. It is helpful to keep the children from index C in the same order when  attempting this sort but not necessary. Any help on this problem would be appreciated, thanks!</p>\n\n<p><strong>EDIT</strong>: I am also looking to do this in reverse order so that the smallest value from each grandparent index rises to the top. Note that this example is not related to the example above.</p>\n\n<p>Desired Output:</p>\n\n<pre><code>\n                         D\n    A     B     C\n\n    Gran1 Par2  Child1  -15  \n                Child2  -175  &lt;--\n                Child3  -65\n    Gran2 Par3  Child1  -77   &lt;--\n                Child2   8     \n    Gran1 Par1  Child1   3\n                Child2   7  \n                Child3  -12   &lt;--\n    Gran2 Par2  Child1   6    &lt;--\n                Child2   2\n                Child3   3\n          Par1  Child1   12  &lt;--\n    Gran1 Par3  Child1   24  &lt;--\n\n</code></pre>\n\n<p>Output I get:</p>\n\n<pre><code>                     D\nA     B     C\n\nGran2 Par3  Child1  -77   &lt;--\n            Child2   8     \nGran1 Par2  Child1  -15  \n            Child2  -175  &lt;--\n            Child3  -65\n      Par1  Child1   3\n            Child2   7  \n            Child3  -12   &lt;--\nGran2 Par2  Child1   6    &lt;--\n            Child2   2\n            Child3   3\n      Par1  Child1   12  &lt;--\nGran1 Par3  Child1   24  &lt;--\n</code></pre>\n\n<p><strong>Edit2</strong>: Answer to my second question would be <code>df.iloc[(df.groupby(level=[0,1]).D.transform('min')).argsort().values]</code> based on Wen-Ben's answer</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 438, "user_id": 578204, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/1131441492/picture?type=large", "display_name": "Viral Parmar", "link": "https://stackoverflow.com/users/578204/viral-parmar"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554328171, "post_id": 55504696, "comment_id": 97715591, "body": "@coldspeed More Information Added with Code"}], "owner": {"reputation": 438, "user_id": 578204, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/1131441492/picture?type=large", "display_name": "Viral Parmar", "link": "https://stackoverflow.com/users/578204/viral-parmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1554328092, "creation_date": 1554327544, "last_edit_date": 1554328092, "question_id": 55504696, "link": "https://stackoverflow.com/questions/55504696/continuously-appending-pandas-data-as-row-on-console-and-displaying-it-on-termin", "title": "Continuously Appending Pandas data as row on console and displaying it on terminal/Console", "body": "<p>I'm having 10 CSV  files each of the CSV file is having same number of column from which I'm reading data one by one in the form of pandas data frame. I want those data to be displayed on console/Terminal in some table form. And it should be like if every time the data gets into new row. Any suggestions on this ?  </p>\n\n<p>Below is my sample CSV file :\n<a href=\"https://i.stack.imgur.com/ywqsE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ywqsE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Like this, there are 10 or more CSV file and I will be reading data from those file one by one and want to display on Console/Terminal.</p>\n\n<p><strong>Brief Introduction to my Application</strong> </p>\n\n<p>I have a machine that is generating CSV files after a certain interval of time into a folder. I am using Watchdog library to put a watch on the folder where the CSV files are being generated. When I receive a CSV file I Read it into a pandas data frame. Sample CSV file is given above.</p>\n\n<p>As far as the machine is running it will keep generating the CSV files. So if I want to see the data I need to open each and every CSV files, Instead, I want a View in which the Data gets updated when there is a new CSV file generated. </p>\n\n<p>So Technically One CSV file is getting read gets converted into a data frame and then printed on Console/Terminal. And this process happens again when a new CSV file is generated, But when new data frame arrives, It should not overwrite the whole console, Instead it appends to the existing data on console. </p>\n\n<p>Here is my main file :</p>\n\n<pre><code>import time\nfrom watchdog.observers import Observer\nfrom watchdog.events import PatternMatchingEventHandler\nimport pandas as pd\nfrom Append_Function import append_df_to_excel\nimport os.path\nimport sys\n\nclass Watcher:\n    def __init__(self, args):\n        self.watch_dir = os.getcwd()\n        print(args[0])\n        self.directory_to_watch = os.path.join(self.watch_dir, args[1])\n        self.observer = Observer()\n        self.event_handler = Handler(patterns=[\"*.CSV\"], ignore_patterns=[\"*.tmp\"], ignore_directories=True)\n\n    def run(self):\n        self.observer.schedule(self.event_handler, self.directory_to_watch, recursive=False)\n        self.observer.start()\n        try:\n            while True:\n                time.sleep(1)\n        except:\n            self.observer.stop()\n            print(\"Error\")\n\n        self.observer.join()\n\n\nclass Handler(PatternMatchingEventHandler):\n    @staticmethod\n    def on_any_event(event):\n        if event.is_directory:\n            return None\n        elif event.event_type == 'created':\n            # Take any action here when a file is first created.\n            print(\"Received created event - %s.\" % event.src_path)\n            df = pd.read_csv(event.src_path, header=1, index_col=0)\n            append_df_to_excel(os.path.join(os.getcwd(), \"myfile.xlsx\"), df)\n        elif event.event_type == 'modified':\n            # Taken any actionc here when a file is modified.\n            df = pd.read_csv(event.src_path, header=0, index_col=0)\n            append_df_to_excel(os.path.join(os.getcwd(), \"myfile.xlsx\"), df)\n            print(\"Received modified event - %s.\" % event.src_path)\n\n\nif __name__ == '__main__':\n    print(sys.argv)\n    w = Watcher(sys.argv)\n    w.run()\n</code></pre>\n\n<p>Here is my Append Function:</p>\n\n<pre><code>import pandas as pd\nimport openpyxl as ox\n\n\ndef append_df_to_excel(filename, df, sheet_name='Sheet1', startrow=None,\n                       truncate_sheet=False,\n                       **to_excel_kwargs):\n    # ignore [engine] parameter if it was passed\n\n    if 'engine' in to_excel_kwargs:\n        to_excel_kwargs.pop('engine')\n\n    writer = pd.ExcelWriter(filename, engine='openpyxl')\n\n    # Python 2.x: define [FileNotFoundError] exception if it doesn't exist\n    try:\n        FileNotFoundError\n    except NameError:\n        FileNotFoundError = IOError\n\n    try:\n        # try to open an existing workbook\n        writer.book = ox.load_workbook(filename,keep_vba=True)\n\n        # get the last row in the existing Excel sheet\n        # if it was not specified explicitly\n        if startrow is None and sheet_name in writer.book.sheetnames:\n            startrow = writer.book[sheet_name].max_row\n\n        # truncate sheet\n        if truncate_sheet and sheet_name in writer.book.sheetnames:\n            # index of [sheet_name] sheet\n            idx = writer.book.sheetnames.index(sheet_name)\n            # remove [sheet_name]\n            writer.book.remove(writer.book.worksheets[idx])\n            # create an empty sheet [sheet_name] using old index\n            writer.book.create_sheet(sheet_name, idx)\n\n        # copy existing sheets\n        writer.sheets = {ws.title: ws for ws in writer.book.worksheets}\n    except FileNotFoundError:\n        # file does not exist yet, we will create it\n        pass\n\n    if startrow is None:\n        startrow = 0\n\n    # write out the new sheet\n    df.to_excel(writer, sheet_name, startrow=startrow, **to_excel_kwargs, header=True)\n\n    # save the workbook\n    writer.save()\n</code></pre>\n"}, {"tags": ["python", "excel", "pandas"], "comments": [{"owner": {"reputation": 16300, "user_id": 11015427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JsY7F.jpg?s=128&g=1", "display_name": "gmds", "link": "https://stackoverflow.com/users/11015427/gmds"}, "edited": false, "score": 0, "creation_date": 1554330754, "post_id": 55504695, "comment_id": 97716422, "body": "The file will only be open until the <code>read_excel</code> call returns."}, {"owner": {"reputation": 5800, "user_id": 6163736, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/TKHBG.jpg?s=128&g=1", "display_name": "stacksonstacks", "link": "https://stackoverflow.com/users/6163736/stacksonstacks"}, "edited": false, "score": 0, "creation_date": 1554339760, "post_id": 55504695, "comment_id": 97718550, "body": "If your code only reads the file, then it can&#39;t corrupt it. If you plan to write to the file, then you&#39;ll need to take precautions"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 10364219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/888b5d8a5f48169cf19b70c0e7de0d1d?s=128&d=identicon&r=PG&f=1", "display_name": "tuxtuxtux", "link": "https://stackoverflow.com/users/10364219/tuxtuxtux"}, "edited": false, "score": 1, "creation_date": 1554753868, "post_id": 55505908, "comment_id": 97860394, "body": "Thanks! Selected as the answer. Would be great if anyone could provide a bit more documentation."}], "tags": [], "owner": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "is_accepted": true, "score": 1, "last_activity_date": 1554335510, "creation_date": 1554335510, "answer_id": 55505908, "question_id": 55504695, "link": "https://stackoverflow.com/questions/55504695/possibility-of-corruption-reading-excel-files-with-pandas/55505908#55505908", "title": "Possibility of Corruption: Reading Excel Files with Pandas", "body": "<p>With the code you provide, from my reading of the pandas and xlrd code, the given file will only be opened in read mode. That should mean, to the best of my knowledge, that there is no more risk in what you're doing than in reading the file any other way - and you have to read it to use it, after all.</p>\n\n<p>If this doesn't sufficiently reassure you, you could minimize the time the file is open and, more importantly, not expose your file to external code, by handing pandas a <code>BytesIO</code> object instead of a path:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import io\nimport pandas as pd\n\ndata = io.BytesIO(open('File.xlsx', 'rb').read())\ndf = pd.read_excel(data, sheetname='Sheet1')\n\n# etc\n</code></pre>\n\n<p>This way your file will only be open for the time it takes to read it into memory, and pandas and xlrd will only be working with a copy of the data.</p>\n"}], "owner": {"reputation": 55, "user_id": 10364219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/888b5d8a5f48169cf19b70c0e7de0d1d?s=128&d=identicon&r=PG&f=1", "display_name": "tuxtuxtux", "link": "https://stackoverflow.com/users/10364219/tuxtuxtux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 0, "accepted_answer_id": 55505908, "answer_count": 1, "score": 3, "last_activity_date": 1554335510, "creation_date": 1554327543, "last_edit_date": 1554330782, "question_id": 55504695, "link": "https://stackoverflow.com/questions/55504695/possibility-of-corruption-reading-excel-files-with-pandas", "title": "Possibility of Corruption: Reading Excel Files with Pandas", "body": "<p>We are in the design phase for product. The idea is that the code will read a list of values from Excel into SQL.</p>\n\n<p>The requirements are as follows:</p>\n\n<ol>\n<li><p>Workbook may be accessed by multiple users outside of our program</p></li>\n<li><p>Workbook must remain accessible (i.e. not be corrupted) should something bad occur while our program is running</p></li>\n<li><p>Program will be executed when no users are in the file</p></li>\n</ol>\n\n<p>Right now we are considering using <code>pandas</code> in a simple manner as follows:</p>\n\n<pre><code>    import pandas as pd\n    from pandas import ExcelWriter\n    from pandas import ExcelFile\n\n    df = pd.read_excel('File.xlsx', sheetname='Sheet1')\n\n    \"\"\"Some code to write df in to SQL\"\"\"\n</code></pre>\n\n<p>If this code goes offline with the Excel still open, is there ANY possibility that the file will remain locked somewhere in my program or be corrupted?</p>\n\n<p>To clarify, we envision something catastrophic like the server crashing or losing power.</p>\n\n<p>Searched around but couldn't find a similar question, please redirect me if necessary. \nI also read through Pandas read_excel documentation here: <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html</a></p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554328129, "post_id": 55504770, "comment_id": 97715576, "body": "You could directly call <code>dict</code> on <code>enumerate</code>: <code>dict(enumerate(Input))</code>, also, I have never seen dict comprehensions referred to as &quot;dictionary displays&quot; before."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554328439, "post_id": 55504770, "comment_id": 97715689, "body": "@coldspeed: Yep, that would be more succinct. &quot;Dictionary display&quot; is what the online documentation calls them (which makes it hard to find if you don&#39;t know this). Personally, I think most folks call them comprehensions (and the docs do, too, in the second to last paragraph)."}, {"owner": {"reputation": 97, "user_id": 11262634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e18f223ef474a691f610616507e71d?s=128&d=identicon&r=PG&f=1", "display_name": "KButler", "link": "https://stackoverflow.com/users/11262634/kbutler"}, "edited": false, "score": 0, "creation_date": 1554333367, "post_id": 55504770, "comment_id": 97717115, "body": "awesome! Thank you. I had not learned about the enumerate function yet. @martineau"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554335093, "post_id": 55504770, "comment_id": 97717506, "body": "KButler: As you can see, it can be very handy at times. If my answer solves the problem for you, please consider accepting it. See <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554336087, "post_id": 55504770, "comment_id": 97717737, "body": "@coldspeed: The docs also call list comprehensions &quot;<a href=\"https://docs.python.org/3/reference/expressions.html#list-displays\" rel=\"nofollow noreferrer\">list displays</a>&quot;. I think it has something to do with logic and/or mathematical set notation (see <a href=\"https://en.wikipedia.org/wiki/Comprehension\" rel=\"nofollow noreferrer\">Comprehension</a> on wikipedia."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1554329107, "last_edit_date": 1554329107, "creation_date": 1554327843, "answer_id": 55504770, "question_id": 55504692, "link": "https://stackoverflow.com/questions/55504692/input-string-associate-index-to-each-character-in-string-for-a-dictionary/55504770#55504770", "title": "Input string. Associate index to each character in string for a dictionary", "body": "<p>It can be done with a <a href=\"https://docs.python.org/3/reference/expressions.html#dictionary-displays\" rel=\"nofollow noreferrer\">dictionary display</a> (aka comprehension):</p>\n\n<pre><code>Input = 'CSC120'\n\nd = {i: c for i, c in enumerate(Input)}\n\nprint(d)  # -&gt; {0: 'C', 1: 'S', 2: 'C', 3: '1', 4: '2', 5: '0'}\n</code></pre>\n\n<p>However, it can be done with even less code (and likely more quickly), by passing the <code>dict</code> constructor the an enumeration of the characters in the string (as helpfully pointed-out by @coldspeed in a comment):</p>\n\n<pre><code>d = dict(enumerate(Input))\n</code></pre>\n\n<p>Here's the documentation for the built-in <a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><code>enumerate()</code></a> function.</p>\n"}], "owner": {"reputation": 97, "user_id": 11262634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e18f223ef474a691f610616507e71d?s=128&d=identicon&r=PG&f=1", "display_name": "KButler", "link": "https://stackoverflow.com/users/11262634/kbutler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554329107, "creation_date": 1554327531, "question_id": 55504692, "link": "https://stackoverflow.com/questions/55504692/input-string-associate-index-to-each-character-in-string-for-a-dictionary", "title": "Input string. Associate index to each character in string for a dictionary", "body": "<p>I am asking the user to enter a string. I am ultimately trying to pass the string to a dictionary, where the the index of each character  is associated with each character in the string.\nEx: Input = CSC120</p>\n\n<p>What I have done so far is entered a string and passed it to a set. The issue is that when I pass it to a set, it passes in : {'1', '2', 'C', '0', 'S'}. It is out of order. I was thinking I would be able to correlate the string to an index once it was passed to the set, but it is out of order and does not duplicate the 'C'. \nThe plan was to have 2 sets and link them in a dictionary. I am stuck at trying to get the string to be correctly passed to the set. </p>\n\n<pre><code>d = {}\nset1 = set()\nstring1 = input(\"Enter a string:\").upper()\nfor i in string1:\n    set1.add(i)\nprint(set1)\n</code></pre>\n\n<p>Ultimately the results I am trying to achieve is:\nd = { 0:'C', 1:'S', 2:'C', 3:'1', 4:'2', 5:'0'}</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554327638, "post_id": 55504677, "comment_id": 97715397, "body": "It would be nice to show your expected output instead of explaining it. Most of us here understand data better than natural language."}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1554327791, "post_id": 55504677, "comment_id": 97715458, "body": "Shouldn&#39;t folder 2 have one csv file with 2 records? The date doesn&#39;t change"}, {"owner": {"reputation": 23, "user_id": 10987333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c42a4f9438dac6e3dff10c95c7da6f?s=128&d=identicon&r=PG&f=1", "display_name": "kumarun91", "link": "https://stackoverflow.com/users/10987333/kumarun91"}, "edited": false, "score": 0, "creation_date": 1554353154, "post_id": 55504677, "comment_id": 97721360, "body": "thats right! i will make the correction"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10987333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c42a4f9438dac6e3dff10c95c7da6f?s=128&d=identicon&r=PG&f=1", "display_name": "kumarun91", "link": "https://stackoverflow.com/users/10987333/kumarun91"}, "edited": false, "score": 0, "creation_date": 1554399466, "post_id": 55504933, "comment_id": 97748220, "body": "does the last line work well on python 2??    group.iloc[:, 2:].to_csv(f&#39;{user}/{fn}.csv&#39;, index=False)"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "reply_to_user": {"reputation": 23, "user_id": 10987333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c42a4f9438dac6e3dff10c95c7da6f?s=128&d=identicon&r=PG&f=1", "display_name": "kumarun91", "link": "https://stackoverflow.com/users/10987333/kumarun91"}, "edited": false, "score": 0, "creation_date": 1554399507, "post_id": 55504933, "comment_id": 97748249, "body": "No, it uses <code>f-strings</code>.  You would need to switch the string formatting."}], "tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 1, "last_activity_date": 1554328612, "creation_date": 1554328612, "answer_id": 55504933, "question_id": 55504677, "link": "https://stackoverflow.com/questions/55504677/slicing-a-dataframe-into-folders-and-files-based-on-respective-columns/55504933#55504933", "title": "Slicing a dataframe into folders and files based on respective columns", "body": "<p>You can <code>groupby</code> <code>customer</code>, as well as use the <code>dt</code> accessor to <code>groupby</code> <code>date</code>:</p>\n\n<pre><code>g = df.groupby(['customer', df.date.dt.date])\n</code></pre>\n\n<p>If your <code>date</code> column is <em>not</em> datetime, just use <code>df['date'] = pd.to_datetime(df['date'])</code> first.</p>\n\n<hr>\n\n<p>Now you can simply loop through each user and date to <a href=\"https://stackoverflow.com/questions/273192/how-can-i-safely-create-a-nested-directory-in-python\">create your folders</a> and files:</p>\n\n<pre><code>import os\n\nfor (user, date), group in g:\n    if not os.path.exists(str(user)):\n        os.makedirs(str(user))\n\n    fn = date.strftime('%m%d%Y')\n\n    group.iloc[:, 2:].to_csv(f'{user}/{fn}.csv', index=False)\n</code></pre>\n\n<p>The result looks like this:</p>\n\n<pre><code>test\n\u251c\u2500\u2500 1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 10072015.csv\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 10092015.csv\n\u251c\u2500\u2500 2\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 10072015.csv\n\u2514\u2500\u2500 3\n    \u251c\u2500\u2500 10072015.csv\n    \u2514\u2500\u2500 10092015.csv\n\n3 directories, 5 files\n</code></pre>\n\n<p>Here is an example of the files created:</p>\n\n<pre><code>x,y,z\n8,8.0,4.0\n4,,5.0\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10987333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c42a4f9438dac6e3dff10c95c7da6f?s=128&d=identicon&r=PG&f=1", "display_name": "kumarun91", "link": "https://stackoverflow.com/users/10987333/kumarun91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554328612, "creation_date": 1554327440, "last_edit_date": 1554327450, "question_id": 55504677, "link": "https://stackoverflow.com/questions/55504677/slicing-a-dataframe-into-folders-and-files-based-on-respective-columns", "title": "Slicing a dataframe into folders and files based on respective columns", "body": "<pre><code>customer    date    x   y   z\n1   10/7/2015 0:00  4   4   \n1   10/7/2015 1:00  5   9   1\n1   10/9/2015 0:00  4   0   3\n2   10/7/2015 0:00  8   8   4\n2   10/7/2015 1:00  4       5\n3   10/7/2015 0:00  1       \n3   10/7/2015 1:00  4   0   \n3   10/9/2015 0:00  4       0\n</code></pre>\n\n<p>In the above table, i want to create 3 folders based on the column 'customer' as 1,2,3 and each of the folders should have csv files created based on 'date' column. \nNote: date column should be grouped based on day and not time.\nfor example, folder 1 should have 2 csv files as 1072015.csv(2 records) and 1092015.csv (1 record)</p>\n\n<p>folder 2 should have 2 csv files with 1 record each.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1554328025, "post_id": 55504672, "comment_id": 97715539, "body": "<code>new_string = re.sub(&#39;qty_plus_cartline_change_\\d+&#39;, &#39;qty_plus_cartline_change_new_number&#39;, s)</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 11308135, "user_type": "registered", "profile_image": "https://graph.facebook.com/937494006642083/picture?type=large", "display_name": "Trent Xavier", "link": "https://stackoverflow.com/users/11308135/trent-xavier"}, "edited": false, "score": 0, "creation_date": 1554330310, "post_id": 55504800, "comment_id": 97716279, "body": "Thank you! I greatly appreciate it. I thought it would be something of that sort but I couldn&#39;t get my finger on it. Blessings."}], "tags": [], "owner": {"reputation": 1121, "user_id": 6084964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67805069c633399266ffd4a4f5063536?s=128&d=identicon&r=PG&f=1", "display_name": "Kartikeya Sharma", "link": "https://stackoverflow.com/users/6084964/kartikeya-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1554328850, "last_edit_date": 1554328850, "creation_date": 1554328019, "answer_id": 55504800, "question_id": 55504672, "link": "https://stackoverflow.com/questions/55504672/is-there-a-way-to-group-specific-sequences-in-a-string-in-python/55504800#55504800", "title": "Is there a way to group specific sequences in a string in Python?", "body": "<p>Here you go, You were on the right track! Just need to change the regex to '\\d+' from '\\d' and add count as 1.</p>\n\n<pre><code>s = 'button id=\"qty_plus_cartline_change_1221067058\" type=\"button\"class=\"quantity_plus \" data-component=\"quantitybox.inc\"&gt;+&lt;span class=\"offscreen\"&gt;Increase the Quantity 1&lt;/span&gt;&lt;/button'\nnew_string = re.sub('\\d+', 'new_number', s,1)\nprint(new_string)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": false, "score": 2, "last_activity_date": 1554328020, "creation_date": 1554328020, "answer_id": 55504801, "question_id": 55504672, "link": "https://stackoverflow.com/questions/55504672/is-there-a-way-to-group-specific-sequences-in-a-string-in-python/55504801#55504801", "title": "Is there a way to group specific sequences in a string in Python?", "body": "<p>First, use <code>\\d+</code> to match the whole group of digits instead of individual ones. Then, you can use the <code>count=</code> argument of <code>re.sub</code> to limit to 1 replacement:</p>\n\n<pre><code>import re\n\ns = 'button id=\"qty_plus_cartline_change_1221067058\" type=\"button\"class=\"quantity_plus \" data-component=\"quantitybox.inc\"&gt;+&lt;span class=\"offscreen\"&gt;Increase the Quantity 1&lt;/span&gt;&lt;/button'\n\nnew_string = re.sub(r'\\d+', 'new_number', s, count=1)\n\nprint(new_string)\n\n# button id=\"qty_plus_cartline_change_new_number\" type=\"button\"class=\"quantity_plus \" data-component=\"quantitybox.inc\"&gt;+&lt;span class=\"offscreen\"&gt;Increase the Quantity 1&lt;/span&gt;&lt;/button\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 11308135, "user_type": "registered", "profile_image": "https://graph.facebook.com/937494006642083/picture?type=large", "display_name": "Trent Xavier", "link": "https://stackoverflow.com/users/11308135/trent-xavier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 55504800, "answer_count": 2, "score": 4, "last_activity_date": 1554328850, "creation_date": 1554327408, "last_edit_date": 1554327637, "question_id": 55504672, "link": "https://stackoverflow.com/questions/55504672/is-there-a-way-to-group-specific-sequences-in-a-string-in-python", "title": "Is there a way to group specific sequences in a string in Python?", "body": "<p>I am looking for a way to automatically find and replace a series of numbers in a string in Python. How would I do this?</p>\n\n<p>For context, I am writing a program that will automate the FreshDirect ordering process here at work. I am using BeautifulSoup in conjuction with Selenium to make a program that will automatically click the appropriate elements to add or take away from the standing inventory list. In order for selenium to find the appropriate button element for the item on my list, I am using BeautifulSoup to scrape for the unique item ID and then I want to place that unique ID in the button element line in order for that button to be found and clicked. Because I'm working on it in pieces I will give an example. </p>\n\n<pre><code>import re\n\ns = 'button id=\"qty_plus_cartline_change_1221067058\" type=\"button\"class=\"quantity_plus \" data-component=\"quantitybox.inc\"&gt;+&lt;span class=\"offscreen\"&gt;Increase the Quantity 1&lt;/span&gt;&lt;/button'\n\nnew_string = re.sub('\\d', 'new_number', s)\n\nprint(new_string)\n</code></pre>\n\n<p>Now I've tried a variety of ways and this is the closest. I need to replace that number next to cartline_change. Using this code, it replaces that number but it also replaces the 1 next to Increase the Quantity. For selenium to work, it cannot replace that 1. Is there code that will enable me to replace that unique id number and not the 1?</p>\n"}, {"tags": ["python", "flask", "alembic"], "answers": [{"tags": [], "owner": {"reputation": 967, "user_id": 2728105, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/320065a814b458eac8a5da49d7a709d0?s=128&d=identicon&r=PG&f=1", "display_name": "themantalope", "link": "https://stackoverflow.com/users/2728105/themantalope"}, "is_accepted": false, "score": 1, "last_activity_date": 1556747247, "creation_date": 1556747247, "answer_id": 55943104, "question_id": 55504661, "link": "https://stackoverflow.com/questions/55504661/flask-migrate-not-detecting-addition-of-new-column/55943104#55943104", "title": "flask migrate - not detecting addition of new column", "body": "<p>For someone who may be struggling with this problem, a couple things I did to help:</p>\n\n<p>1) upgrade to the latest version of flask-migrate. this fixed (most) of the issues for me.</p>\n\n<p>2) if you have old migrations, move them to a new folder (eg <code>mv migrations/ migrations_old</code>) and then re-init migrations with <code>flask db init</code>. Then make the changes you want to the database, and check that the new migration script was correctly created.</p>\n\n<p>Of course, no guarantees that this will work though. I still never figured out the root issue for my case but these two steps worked.</p>\n"}, {"tags": [], "owner": {"reputation": 669, "user_id": 3112373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e099c1d14fba9fa074d90b086695da6?s=128&d=identicon&r=PG&f=1", "display_name": "amucunguzi", "link": "https://stackoverflow.com/users/3112373/amucunguzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1613216716, "creation_date": 1613216716, "answer_id": 66184742, "question_id": 55504661, "link": "https://stackoverflow.com/questions/55504661/flask-migrate-not-detecting-addition-of-new-column/66184742#66184742", "title": "flask migrate - not detecting addition of new column", "body": "<p>I had this issue when there is an existing migration that I had not deployed yet. After running <code>flask db upgrade</code>, then flask-migrate was able to detect the new column.</p>\n"}], "owner": {"reputation": 967, "user_id": 2728105, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/320065a814b458eac8a5da49d7a709d0?s=128&d=identicon&r=PG&f=1", "display_name": "themantalope", "link": "https://stackoverflow.com/users/2728105/themantalope"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1613216716, "creation_date": 1554327341, "question_id": 55504661, "link": "https://stackoverflow.com/questions/55504661/flask-migrate-not-detecting-addition-of-new-column", "title": "flask migrate - not detecting addition of new column", "body": "<p>Having a tough time getting Flask-migrate to detect new column in a table. My guess is that something isn't getting imported, or I'm importing things in the incorrect order.</p>\n\n<p>The app is instantiated by a <code>__init__.py</code> file. The overall directory of the app is structured as such:</p>\n\n<pre><code>|-static/\n|-templates/\n|__init__.py\n|filters.py\n|models.py\n|forms.py\n|utils.py\n|views.py\n</code></pre>\n\n<p>The relevant part of the <code>__init__.py</code> file looks like this:</p>\n\n<pre><code># Import flask and template operators\nfrom flask import Flask, render_template, Blueprint\nimport os\n# Import SQLAlchemy\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_uploads import UploadSet, configure_uploads\nfrom flask_mail import Mail\n# Define the WSGI application object\napp = Flask(__name__)\n\n# Configurations\napp.config.from_pyfile(os.path.join('..','config.py'))\n\n# Define the database object which is imported\n# by modules and controllers\ndb = SQLAlchemy(app)\nfrom . import models\nmigrate = Migrate(app, db,compare_type=True)\n\nmail = Mail(app)\n</code></pre>\n\n<p>In the command line I set <code>export FLASK_APP=&lt;app_name&gt;</code></p>\n\n<p>I make the change to the <code>models.py</code> file, adding a new column to one of my tables.</p>\n\n<p>Then I run the command <code>flask db migrate</code></p>\n\n<p>However the only output I get from the above command is:</p>\n\n<pre><code>INFO  [alembic.runtime.migration] Context impl SQLiteImpl.\nINFO  [alembic.runtime.migration] Will assume non-transactional DDL.\n</code></pre>\n\n<p>And there is no new migration script added to the <code>versions</code> directory of the <code>migrations</code> folder. This has worked in the past and I'm not sure why it's no longer working.</p>\n"}, {"tags": ["python", "multithreading"], "answers": [{"tags": [], "owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "is_accepted": false, "score": 0, "last_activity_date": 1554327771, "creation_date": 1554327771, "answer_id": 55504756, "question_id": 55504646, "link": "https://stackoverflow.com/questions/55504646/how-to-combine-threads/55504756#55504756", "title": "How to combine threads?", "body": "<p>I'm not sure that a separate thread is needed to send emails here. Why not just:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def send_email(temp):\n    print(\"mail module\")\n    if temp &lt;= 20:\n        try:\n            smtpObj = smtplib.SMTP('smtp.gmail.com', 587)\n            smtpObj.starttls()\n            smtpObj.login('sender@gmail.com', 'senderpassword')\n            smtpObj.sendmail(sender, receivers, message)\n            print(\"Successfully sent email\")\n        except smtplib.SMTPException:\n            print(\"Error: unable to send email\")\n\nwith open(path,'a') as csvfile:\n    tempwriter = csv.writer(csvfile)\n    tempwriter.writerow(['Time', 'Temperature C'])\n    while True:\n        time_now = time.asctime()\n        temp = random.randrange(-10,20)\n        send_email(temp)\n        tempwriter.writerow([time_now, temp])\n        templogfile.close()\n        print('Time:', time_now, 'Temperature:', temp)\n        csvfile.flush()\n        time.sleep(5)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 11308086, "user_type": "registered", "profile_image": "https://graph.facebook.com/849450322059803/picture?type=large", "display_name": "George Mason", "link": "https://stackoverflow.com/users/11308086/george-mason"}, "edited": false, "score": 0, "creation_date": 1554333833, "post_id": 55505051, "comment_id": 97717208, "body": "The main point would be to set a timer of x time for the send_email thread to make it periodically check the temperature and send an e-mail if out of margins. I tried to set the &#39;temp&#39; variable before the loop previously, but I did not see it changing to a different variable later. I will work on it again, I do not remember setting the variable above the margin originally so that the first loop doesn&#39;t run at all on the first run... Will try and revert, thank you for your advice!"}, {"owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "reply_to_user": {"reputation": 13, "user_id": 11308086, "user_type": "registered", "profile_image": "https://graph.facebook.com/849450322059803/picture?type=large", "display_name": "George Mason", "link": "https://stackoverflow.com/users/11308086/george-mason"}, "edited": false, "score": 0, "creation_date": 1554334111, "post_id": 55505051, "comment_id": 97717282, "body": "@GeorgeMason you should try the answer i provided it will do just that, but with only the main thread. Why do you need to send email in a separate thread? There is no concurrency achieved in Cpython interpreter if you want to access a shared state, temp variable, because of GIL."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 0, "last_activity_date": 1554329277, "creation_date": 1554329277, "answer_id": 55505051, "question_id": 55504646, "link": "https://stackoverflow.com/questions/55504646/how-to-combine-threads/55505051#55505051", "title": "How to combine threads?", "body": "<p>If you are getting an exception about <code>temp</code> not being defined in your email-sending thread, I suspect it is due to the timing of the two threads you're running. If the email thread runs before the main thread makes its first (simulated) temperature reading, the <code>temp</code> variable won't exist yet. This may or may not happen, it depends on the exact details of the thread timings, which are not always predictable (though it may be very common for the child thread to run for a while before its parent is resumed).</p>\n\n<p>There are a few ways to work around this. One easy fix would be to add a delay into the start of the <code>send_email</code> function so that the thread running it will pause for long enough for the temperature readings in the main thread to have been started. Just add a line like <code>sleep(1)</code> or similar before the start of the <code>while True</code> loop.</p>\n\n<p>Another option would be to initialize <code>temp</code> to some dummy value before you start the email thread. That way there would be a variable to read, even if it didn't actually represent a measured (or simulated) temperature. Something like <code>temp = 21</code> placed somewhere before the thread starting loop would do the trick.</p>\n\n<p>But I'd note that it's not really clear what the purpose of using threads is in this situation. The email thread is more or less sampling every third temperature reading, but you could do that more explicitly if that's what you want. You could also inspect <em>every</em> reading, and send emails only at some more limited rate, if you don't want to spam them out at the full speed of the sensor loop. I'd consider something like this:</p>\n\n<pre><code>email_flag = False\ncount = 0\nwhile True:\n    time_now = time.asctime()\n    temp = random.randrange(-10,20)\n    tempwriter.writerow([time_now, temp])\n\n    if temp &lt;= 20:\n        email_flag = True\n\n    count += 1\n    if email_flag and count &gt;= 3:\n        send_email() # unconditionally sends the message\n        email_flag = False\n        count = 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1554330617, "creation_date": 1554330617, "answer_id": 55505263, "question_id": 55504646, "link": "https://stackoverflow.com/questions/55504646/how-to-combine-threads/55505263#55505263", "title": "How to combine threads?", "body": "<p>I think the problem is because one of the threads is trying to access the global <code>temp</code> variable before it's created. A very simple solution would be to create it near the top of the module with:</p>\n\n<pre><code>temp = None\n</code></pre>\n\n<p>and then add a short preamble to the thread function that makes it wait until the variable been set to a value:</p>\n\n<pre><code>def send_email():\n   # Wait for global to have data (ADDED)\n   while temp is None:\n       time.sleep(.5)\n   while True:\n       print(\"mail module\")\n       if temp &lt;= 20:\n           try:\n               smtpObj = smtplib.SMTP('smtp.gmail.com', 587)\n               smtpObj.starttls()\n               smtpObj.login('sender@gmail.com', 'senderpassword')\n               smtpObj.sendmail(sender, receivers, message)\n               print(\"Successfully sent email\")\n               time.sleep(15)\n           except smtplib.SMTPException:\n               print(\"Error: unable to send email\")\n               time.sleep(15)\n</code></pre>\n\n<p>Another alternative would be to just set it to some numeric value (that won't be logged) which wouldn't require the preamble to be added since the variable will always exist.</p>\n"}], "owner": {"reputation": 13, "user_id": 11308086, "user_type": "registered", "profile_image": "https://graph.facebook.com/849450322059803/picture?type=large", "display_name": "George Mason", "link": "https://stackoverflow.com/users/11308086/george-mason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1554330617, "creation_date": 1554327269, "last_edit_date": 1554329364, "question_id": 55504646, "link": "https://stackoverflow.com/questions/55504646/how-to-combine-threads", "title": "How to combine threads?", "body": "<p>I am trying to set up a program on Raspberry Pi that would log temperature data to a csv as a main process and a parallel process would send e-mail notifications with time intervals if the temperature is out of margins. I read that it could be done with Python's Threading module, so I am trying to set - up a test code and will optimize it for the sensors later. I am using the random.randrange module for virtual readings, however the temperature monitoring thread cannot read the temp variable to be activated. How can the \"if\" statement read the variable correctly?</p>\n\n<p>I have tried setting up temp outside of the while True loop and activating the thread after the loop</p>\n\n<pre><code>import time\nimport csv\nimport random\nimport smtplib\nimport threading\n\npath = 'C:/Users/saint/.PyCharmCE2019.1/config/scratches/log.csv'\ntemplogfile = open(path,'a')\n\nsender = 'sender@gmail.com'\nreceivers = ['receiver@hotmail.com']\n\ndef send_email():\n    while True: \n        print(\"mail module\")\n        if temp &lt;= 20:\n            try:\n                smtpObj = smtplib.SMTP('smtp.gmail.com', 587)\n                smtpObj.starttls()\n                smtpObj.login('sender@gmail.com', 'senderpassword')\n                smtpObj.sendmail(sender, receivers, message)\n                print(\"Successfully sent email\")\n                time.sleep(15)\n            except smtplib.SMTPException:\n                print(\"Error: unable to send email\")\n                time.sleep(15)\nThreads = []\nfor i in range(1):\n    t = threading.Thread(target=send_email)\n    t.daemon = True\n    t.start()\n\nwith open(path,'a') as csvfile:\n    tempwriter = csv.writer(csvfile)\n    tempwriter.writerow(['Time', 'Temperature C'])\n    while True:\n        time_now = time.asctime()\n        temp = random.randrange(-10,20)\n        tempwriter.writerow([time_now, temp])\n        templogfile.close()\n        print('Time:', time_now, 'Temperature:', temp)\n        csvfile.flush()\n        time.sleep(5)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "arcpy"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554332063, "post_id": 55504614, "comment_id": 97716812, "body": "You can obtain a list of the files in a given directory using <code>os.listdir()</code> or <code>glob.glob()</code>, so using one of those would allow reading all the tables. It&#39;s unclear how you could obtain the name of the region (such as <code>Arizona_PCT</code>) that way unless it&#39;s could be extracted from the filename. I&#39;m not familiar with <code>arcpy</code>, but another possibility would be to use some method it provides that supports extracting getting that the table file being processed..."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 10829336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y7hbYafvHPc/AAAAAAAAAAI/AAAAAAAAAQg/-xSSmrlf7lA/photo.jpg?sz=128", "display_name": "Umut &#220;&#231;ok", "link": "https://stackoverflow.com/users/10829336/umut-%c3%9c%c3%a7ok"}, "is_accepted": false, "score": 0, "last_activity_date": 1554713485, "creation_date": 1554713485, "answer_id": 55569534, "question_id": 55504614, "link": "https://stackoverflow.com/questions/55504614/arcpy-script-looping-how-do-i-loop-through-tables-in-a-folder-and-perform-arcp/55569534#55569534", "title": "Arcpy Script Looping - How do I loop through tables in a folder and perform arcpy join function on each table?", "body": "<p>First of all, Welcome to Stack Overflow. \nYou can do all of these using ModelBuilder. See: \n<a href=\"http://desktop.arcgis.com/en/arcmap/10.3/analyze/modelbuilder/a-quick-tour-of-modelbuilder.htm\" rel=\"nofollow noreferrer\">What is model builder and quick tutorial</a></p>\n\n<p>But what i don't understand what kind of tables you have locating in folder? Normally, you need to specify your folder in a file geodatabase, personal geodatabase or RDBMS table instead of a folder. But i skipped that question and gave a sample code for you above.</p>\n\n<p>Anyway, I prepare some code for you. You can follow it:</p>\n\n<pre><code>import arcpy\n# iterating all tables in an environment , and make join them with a shapefile\n\n# these are constant variables\nshapefilepath = r\"c:\\users\\someplace\\someshape.shp\"\ncommoncolumn = \"SAMECOLUMN\"  # this column must be same in other shapefiles too\n# If all shapefile samecolumns are different each other, you need to make a list like this\ncommoncolumns_ordered = ['SAMECOLUMN1', 'SAMECOLUMN2', ]  # .. goes away\nmainfolder = r\"c:\\users\\someplace\"\ntablegdb = r\"c:\\users\\someplace\\somegdb.gdb\"  # we'll search our tables here\n\narcpy.env.workspace = tablegdb  # we will work on here\nmytables = arcpy.ListTables(\"*\")  # you can filter your tables as starting or ending with a letter.\n\nfor table in mytables:\n    # you need to make view from all tables\n    name = arcpy.Describe(table).name.encode('utf-8')  # my table name\n    table_view = arcpy.MakeTableView_management(table, name)\n\n    # ok so we have our view. Otherwise, we would not be able to use this as an input for add join tool\n    \"\"\"\n    There are couple differences between add join and join field tools. Read them:\n    Add join help : https://pro.arcgis.com/en/pro-app/tool-reference/data-management/add-join.htm\n    Join field help : https://pro.arcgis.com/en/pro-app/tool-reference/data-management/join-field.htm\n\n    * We don't have to make table view if we use join field\n    \"\"\"\n\n    # i assume that both common columns, # fields are same.\n    out_join = arcpy.AddJoin_management(table_view, commoncolumn, shapefilepath, commoncolumn)\n\n    # extracting them is not useful. But I'll write it down:\n    arcpy.Copy_management(out_join, out_data=\"%s\\\\%s\" % (out_gdb, name))\n\n# some notes:\n# If your samecolumn fields are different between each other in tables\n# you need to iterate them like this:\nfor table, column in zip(mytables, commoncolumns_ordered):\n    print (table)\n    print (column)\n    # do others\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11308031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0743af8caaa98d5323d27dcf5211265f?s=128&d=identicon&r=PG&f=1", "display_name": "Woody23", "link": "https://stackoverflow.com/users/11308031/woody23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1801, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554713485, "creation_date": 1554327119, "last_edit_date": 1554331256, "question_id": 55504614, "link": "https://stackoverflow.com/questions/55504614/arcpy-script-looping-how-do-i-loop-through-tables-in-a-folder-and-perform-arcp", "title": "Arcpy Script Looping - How do I loop through tables in a folder and perform arcpy join function on each table?", "body": "<p>I am trying to clean up my script so that I don't have to change the variables each time I want to use it.</p>\n\n<p>I have arcgis tables for each US state (plus DC and Puerto Rico). I want to iterate through those tables in a folder, join each one at a time to a shapefile, copy the joined features to a new featureclass in a different geodatabase, name that featureclass after the respective state name, then remove the join and move on to the next state.</p>\n\n<p>I would consider myself a novice when it comes to python. I've been trying to teach myself for years, but haven't had a good chance to take an in depth class and I don't have anyone I work with that knows it too well. I know there are more efficient ways for scripting like loops, functions, and conditional statements, but I don't know how to set them up correctly.</p>\n\n<p>So I created a script that did what I needed to get done for today, but I'd like to make the script more dynamic. I don't want to have to change each and every table name or new featureclass name. I was trying to look up how to either create a custom function for part of the code, but then also have a loop so it knew to iterate through each table in the folder. I wasn't sure if I need to have the loop first, then the function, or have the loop inside the function. Then I wasn't sure how to get the correct names for the output feature classes, I know theres a way to reference dynamic variable with %s but not sure how to incorporate it here.</p>\n\n<pre><code>layer = arcpy.GetParameterAsText(0)\ninField = \"GEOID\"\njTable = r'k:\\geospatial\\data\\census\\national\\census_fact_finder_data\\census_tract_year_built\\aa_by_state\\xls_pcts\\tables'\njField = \"GEOID\"\noutFC = r'K:\\GEOSPATIAL\\DATA\\Census\\National\\Census_Fact_Finder_Data\\Shapefiles\\CFF_Census_Tracts\\PCTs\\FCC_CT_YB_PCT.gdb'\n\narcpy.AddMessage(\"Processing Arizona...\")\n#join table to census tract layer\narcpy.AddMessage(\"Joining Arizona table to Census Tracts...\")\ntract_join = arcpy.AddJoin_management(layer, inField,jTable + \"\\\\az_pcts\", jField, \"KEEP_COMMON\")\n\n#Copy joined features to new feature class in geodatabase\narcpy.AddMessage(\"Exporting joined features to FCC_CT_YB_PCT geodatabase...\")\narcpy.CopyFeatures_management(tract_join, outFC + \"\\Arizona_PCT\")\n\n#remove all joins\narcpy.AddMessage(\"Removing joins to process next table...\")\narcpy.RemoveJoin_management(layer)\narcpy.AddMessage(\"Arizona Complete\")\n</code></pre>\n\n<p>So with this example above, it joined the Arizona table (<code>az_pcts</code>) to the census tracts layer (<code>layer = arcpy.GetParameterAsText(0)</code>), copied the joined features to the new database and named it <code>Arizona_PCT</code>, then removed the join and continued on to the next table. I repeated this same exact structure for each state table and changed all the path endings to what I wanted them to be. If anyone has any advice, even pieces, that would be greatly appreciated.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "datetimeindex"], "comments": [{"owner": {"reputation": 3508, "user_id": 4185364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rXgyb.png?s=128&g=1", "display_name": "milos.ai", "link": "https://stackoverflow.com/users/4185364/milos-ai"}, "edited": false, "score": 0, "creation_date": 1554327603, "post_id": 55504574, "comment_id": 97715385, "body": "to me it seems , last value was on : 2019-04-03 15:08:00"}, {"owner": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "reply_to_user": {"reputation": 3508, "user_id": 4185364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rXgyb.png?s=128&g=1", "display_name": "milos.ai", "link": "https://stackoverflow.com/users/4185364/milos-ai"}, "edited": false, "score": 0, "creation_date": 1554328097, "post_id": 55504574, "comment_id": 97715566, "body": "Hi. I&#39;m trying to see where you found a 15:08:00 value(since that would solve my problem). I checked my csv file I can only see 14:48 value on the second line."}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1554328494, "post_id": 55504574, "comment_id": 97715714, "body": "The output should stop at 2019-04-03 14:45:00 instead?"}, {"owner": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554328862, "post_id": 55504574, "comment_id": 97715825, "body": "I would like the last index to be 14:40 (representing the values of 14;40-14:44). I&#39;ve organized this so that the very first index of 9:30:00 holds the last value of the indexes 9:30-9:34:00, or the close of a 5 minute &quot;candle&quot;. I&#39;m using this to quickly compare data between a candle chart and my personally collected data."}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1554329927, "post_id": 55504574, "comment_id": 97716165, "body": "ok so for 2019-04-03 14:40:00  what would be the correct number? for all those, they should be the close that is 5 minutes later?"}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1554330213, "post_id": 55504574, "comment_id": 97716255, "body": "originally 2019-04-03 14:40:00 has value of 286.3200, you want 286.2100 instead?"}, {"owner": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554330367, "post_id": 55504574, "comment_id": 97716299, "body": "yes, 2019-04-03 14:40:00 would be 286.21 on a 5min resampled df."}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1554330486, "post_id": 55504574, "comment_id": 97716342, "body": "ok edited my answer try it out, should be what you are looking for now."}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1554332692, "post_id": 55504574, "comment_id": 97716970, "body": "oh hey, your data actually stops at 2019-04-03 15:08 286.33. your csv is actually not sorted."}, {"owner": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554336194, "post_id": 55504574, "comment_id": 97717751, "body": "Ok, thanks for pointing that out. My api appended the data instead of writing it fresh to the file. Thanks for your help."}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "edited": false, "score": 0, "creation_date": 1554336469, "post_id": 55504574, "comment_id": 97717815, "body": ":)................"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554330952, "post_id": 55504875, "comment_id": 97716481, "body": "Thank you for this fix, I&#39;ll use it for the time being. Does the .resample() method have a bug that we need such an elaborate workaround?"}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "reply_to_user": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554331010, "post_id": 55504875, "comment_id": 97716497, "body": "not sure if it was a bug, I tried it and it didn&#39;t do what I thought it would do."}, {"owner": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554333612, "post_id": 55504875, "comment_id": 97717162, "body": "I think your older solution worked better. There shouldn&#39;t be any values after 14:48:00. I get values at 14:50 - 15:05 in 5 minute increments with your new solutions, none of which appear on the csv"}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "reply_to_user": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554335944, "post_id": 55504875, "comment_id": 97717697, "body": "actually your file is not sorted, they sure look like sorted, but try to sort it yourself. or try to find the max of the index. df[np.array(list(df.index)) ==  max(list(df.index))]"}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "reply_to_user": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554336293, "post_id": 55504875, "comment_id": 97717773, "body": "look at row 13139, 3755,5630,15033, empty values and data after 14:48:00"}, {"owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "reply_to_user": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "edited": false, "score": 0, "creation_date": 1554336381, "post_id": 55504875, "comment_id": 97717795, "body": "not only that, your data has duplicates, so we should also remove duplicates first then do the shift"}], "tags": [], "owner": {"reputation": 565, "user_id": 7318615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262273a3c2485a1ea1015a4067906db0?s=128&d=identicon&r=PG&f=1", "display_name": "Yongkang Zhao", "link": "https://stackoverflow.com/users/7318615/yongkang-zhao"}, "is_accepted": true, "score": 0, "last_activity_date": 1554333086, "last_edit_date": 1554333086, "creation_date": 1554328289, "answer_id": 55504875, "question_id": 55504574, "link": "https://stackoverflow.com/questions/55504574/how-do-i-stop-pandas-dataframe-resamplet-from-automatically-adding-extra-ind/55504875#55504875", "title": "How do I stop pandas dataframe.resample(&#39;T&#39;) from automatically adding extra indexes to dataframe?", "body": "<p>the solution will produce a row that you probably don't want for 4/3/2018 15:05</p>\n\n<pre><code>df = pd.read_csv('./closingPrices-apr3.csv', index_col='date',parse_dates=True)\ndf.sort_index(inplace = True)\ndf = df.shift(5)\ndf_5min = df.resample('5T').first()\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10422173, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161327783260179/picture?type=large", "display_name": "willowuidiot", "link": "https://stackoverflow.com/users/10422173/willowuidiot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 55504875, "answer_count": 1, "score": 0, "last_activity_date": 1554333086, "creation_date": 1554326942, "last_edit_date": 1554327489, "question_id": 55504574, "link": "https://stackoverflow.com/questions/55504574/how-do-i-stop-pandas-dataframe-resamplet-from-automatically-adding-extra-ind", "title": "How do I stop pandas dataframe.resample(&#39;T&#39;) from automatically adding extra indexes to dataframe?", "body": "<p>I'm trying to downsample a dataframe that has minute by minute data into 5 minute bins. Here is my current code: </p>\n\n<pre><code>df = pd.read_csv('stockPrices/closingPrices-apr3.csv',index_col='date',parse_dates=True)\ndf['close'] = df['close'].shift()\ndf5min = df.resample('5T').last()\nprint(df5min.tail())\n</code></pre>\n\n<p>The link to the csv file is here: \n<a href=\"https://drive.google.com/file/d/1uvkUaJwrQNsmte5IQIsJ_g5GS8RjVd8B/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1uvkUaJwrQNsmte5IQIsJ_g5GS8RjVd8B/view?usp=sharing</a></p>\n\n<p>The output should stop at 2019-04-03 14:40:00 because the last value is 14:48:00, and a 5 minute bin from 14:45-14:49 is not possible. However, I get the following datetime index values that don't exist in my csv file: </p>\n\n<pre><code>2019-04-03 14:45:00  286.35\n2019-04-03 14:50:00  286.52\n2019-04-03 14:55:00  286.32\n2019-04-03 15:00:00  286.45\n2019-04-03 15:05:00  280.64\n</code></pre>\n\n<p>The only fix I can find thus far is using the following code, but then all my data from the previous days get cut off at 14:40: </p>\n\n<pre><code>df5min = df.resample('5T').last().between_time(start_time='9:30',end_time='14:40')\n</code></pre>\n\n<p>Any help on this is appreciated. </p>\n"}, {"tags": ["python", "django", "forms"], "comments": [{"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1554326946, "post_id": 55504484, "comment_id": 97715161, "body": "I don&#39;t think you need <code>instance=Post</code> in your <code>else:</code> branch in your view function. <code>form = PostForm()</code> should suffice. Does that change anything? If not, are you getting any errors?"}, {"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1554326967, "post_id": 55504484, "comment_id": 97715170, "body": "What version of Django?"}, {"owner": {"reputation": 53, "user_id": 11308109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ufZQexbiWo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfytQU5bVOxvdoRX7nBqKBI8Auv_A/mo/photo.jpg?sz=128", "display_name": "James Franco", "link": "https://stackoverflow.com/users/11308109/james-franco"}, "reply_to_user": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1554327439, "post_id": 55504484, "comment_id": 97715337, "body": "@Chris , That did not change anything. There are no errors, nothing renders and only the other text is on the page. No form."}, {"owner": {"reputation": 53, "user_id": 11308109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ufZQexbiWo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfytQU5bVOxvdoRX7nBqKBI8Auv_A/mo/photo.jpg?sz=128", "display_name": "James Franco", "link": "https://stackoverflow.com/users/11308109/james-franco"}, "reply_to_user": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1554327506, "post_id": 55504484, "comment_id": 97715350, "body": "@markwalker_ , 2.0.5"}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1554327653, "post_id": 55504484, "comment_id": 97715400, "body": "@JamesFranco, if you inspect your page source and use your browser&#39;s dev tools do you see anything there at all?"}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1554327715, "post_id": 55504484, "comment_id": 97715428, "body": "And does <code>rentadevapp&#47;base.html</code> (or any of its ancestor templates) also use <code>form</code>?"}, {"owner": {"reputation": 53, "user_id": 11308109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ufZQexbiWo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfytQU5bVOxvdoRX7nBqKBI8Auv_A/mo/photo.jpg?sz=128", "display_name": "James Franco", "link": "https://stackoverflow.com/users/11308109/james-franco"}, "reply_to_user": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1554327868, "post_id": 55504484, "comment_id": 97715489, "body": "@Chris , I get: <code>&lt;form method=&quot;POST&quot; class=&quot;post-form&quot;&gt;&lt;input type=&#39;hidden&#39; name=&#39;csrfmiddlewaretoken&#39; value=&#39;nVb6YbVOuZV7HINK96zpqgKvhm6vrx1HUn55UxURUeSU7Y7pFgISA&zwnj;&#8203;9nSUOF0P8uc&#39; &#47;&gt;</code> and base does not import form, or use any forms."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 11308109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ufZQexbiWo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfytQU5bVOxvdoRX7nBqKBI8Auv_A/mo/photo.jpg?sz=128", "display_name": "James Franco", "link": "https://stackoverflow.com/users/11308109/james-franco"}, "edited": false, "score": 0, "creation_date": 1554327564, "post_id": 55504685, "comment_id": 97715372, "body": "I don&#39;t think applies to my version of Django, 2.0.5"}, {"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "reply_to_user": {"reputation": 53, "user_id": 11308109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ufZQexbiWo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfytQU5bVOxvdoRX7nBqKBI8Auv_A/mo/photo.jpg?sz=128", "display_name": "James Franco", "link": "https://stackoverflow.com/users/11308109/james-franco"}, "edited": false, "score": 0, "creation_date": 1554327623, "post_id": 55504685, "comment_id": 97715393, "body": "@JamesFranco <code>render</code> hasn&#39;t changed in a long time; <a href=\"https://docs.djangoproject.com/en/2.0/_modules/django/shortcuts/#render\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/2.0/_modules/django/shortcuts/#ren&zwnj;&#8203;der</a> It&#39;s been this way since 1.10"}, {"owner": {"reputation": 53, "user_id": 11308109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ufZQexbiWo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfytQU5bVOxvdoRX7nBqKBI8Auv_A/mo/photo.jpg?sz=128", "display_name": "James Franco", "link": "https://stackoverflow.com/users/11308109/james-franco"}, "edited": false, "score": 0, "creation_date": 1554327775, "post_id": 55504685, "comment_id": 97715452, "body": "If I do that, form becomes and unresolved reference in context"}], "tags": [], "owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "is_accepted": true, "score": 3, "last_activity_date": 1554327792, "last_edit_date": 1554327792, "creation_date": 1554327489, "answer_id": 55504685, "question_id": 55504484, "link": "https://stackoverflow.com/questions/55504484/cant-get-forms-to-render-in-django/55504685#55504685", "title": "Can&#39;t get forms to render in Django", "body": "<p>Your form isn't returned to the template in the context.</p>\n\n<p>In Django <a href=\"https://docs.djangoproject.com/en/1.11/topics/http/shortcuts/#render\" rel=\"nofollow noreferrer\">1.11</a> or <a href=\"https://docs.djangoproject.com/en/2.2/topics/http/shortcuts/#render\" rel=\"nofollow noreferrer\">2.2</a> the <code>render</code> function call in your view should return a dictionary of context variables as the third argument, but you've got two dictionaries. The 4th argument where you've got a dictionary containing the form is being passed as <code>content_type</code> which is then used in the <code>HttpResponse</code> so I'm quite surprised there isn't something strange happening or an error seen.</p>\n\n<p>So you're doing;</p>\n\n<pre><code>return render(request, 'rentadevapp/post_edit.html', {'rentadevapp': post_edit}, {'form': form})\n</code></pre>\n\n<p>What you need to do is;</p>\n\n<pre><code>context = {'form': form, 'rentadevapp': post_edit}\n\nreturn render(request, 'rentadevapp/post_edit.html', context)\n</code></pre>\n\n<p>Prior to 1.10 <a href=\"https://docs.djangoproject.com/en/1.9/_modules/django/shortcuts/#render\" rel=\"nofollow noreferrer\"><code>render</code></a> had a different signature, but the first three arguments of <code>request, template_name, context</code> have been that way since &lt;1.8</p>\n"}], "owner": {"reputation": 53, "user_id": 11308109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ufZQexbiWo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfytQU5bVOxvdoRX7nBqKBI8Auv_A/mo/photo.jpg?sz=128", "display_name": "James Franco", "link": "https://stackoverflow.com/users/11308109/james-franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 55504685, "answer_count": 1, "score": 0, "last_activity_date": 1554328065, "creation_date": 1554326494, "question_id": 55504484, "link": "https://stackoverflow.com/questions/55504484/cant-get-forms-to-render-in-django", "title": "Can&#39;t get forms to render in Django", "body": "<p>I'm working on a project and I don't get the django forms to render on any of my pages. I've compared it to django girls code, as that is what I usually consult but it looks virtually identical to it. It's not just this page, my other pages have issues with rendering the forms as well. Here's the code:</p>\n\n<p>Views.py</p>\n\n<pre><code>from django.shortcuts import render\nfrom .models import *\nfrom .forms import *\nfrom django.shortcuts import render, get_object_or_404\nfrom django.shortcuts import redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib.auth import login, authenticate\nfrom django.contrib.auth.forms import UserCreationForm\nfrom django.db.models import Sum\nfrom django.utils import timezone\nfrom django.views.decorators.http import require_POST\nfrom .cart import Cart\nfrom django.db import transaction\nfrom django.contrib import messages\n\n\n@login_required\ndef post_edit(request, pk):\n    post = get_object_or_404(Post, pk=pk)\n    if request.method == \"POST\":\n        form = PostForm(request.POST, instance=post)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.save()\n            return redirect('post_detail', pk=post.pk)\n    else:\n        form = PostForm(instance=Post)\n    return render(request, 'rentadevapp/post_edit.html', {'rentadevapp': post_edit}, {'form': form})\n</code></pre>\n\n<p>Forms.py</p>\n\n<pre><code>class PostForm(forms.ModelForm):\n\n    class Meta:\n        model = Post\n        fields = ('title', 'text',)\n</code></pre>\n\n<p>post_edit.html</p>\n\n<pre><code>{% extends 'rentadevapp/base.html' %}\n{% load staticfiles %}\n{% load crispy_forms_tags %}\n{% block content %}\n&lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"{% static 'css/post_edit.css' %}\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container\"&gt;&lt;br&gt;\n        &lt;h2&gt;New Post&lt;/h2&gt;&lt;br&gt;\n        &lt;form method=\"POST\" class=\"post-form\"&gt;{% csrf_token %}\n            {{ form.as_p }}\n            &lt;button type=\"submit\" class=\"save btn btn-default\"&gt;Save&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n{% endblock %}\n</code></pre>\n\n<p>Models.py</p>\n\n<pre><code>class Post(models.Model):\n    author = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)\n    title = models.CharField(max_length=200)\n    text = models.TextField()\n    created_date = models.DateTimeField(\n        default=timezone.now)\n    updated_date = models.DateTimeField(auto_now_add=True)\n    price = models.DecimalField(max_digits=10, decimal_places=2, default='0')\n\n    class Meta:\n        ordering = ('title',)\n\n    def created(self):\n        self.created_date = timezone.now()\n        self.save()\n\n    def updated(self):\n        self.updated_date = timezone.now()\n        self.save()\n\n    def publish(self):\n        self.published_date = timezone.now()\n        self.save()\n\n    def __str__(self):\n        return self.title\n</code></pre>\n\n<p>I'm pretty stuck and have spent a couple hours trying to figure this out. Any help is really appreciated.\nThanks!</p>\n"}, {"tags": ["python", "jpype"], "comments": [{"owner": {"reputation": 371, "user_id": 5836037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-msx36VMa7ws/AAAAAAAAAAI/AAAAAAAABV4/3s3tVPh5GcY/photo.jpg?sz=128", "display_name": "avneesh mishra", "link": "https://stackoverflow.com/users/5836037/avneesh-mishra"}, "edited": false, "score": 0, "creation_date": 1554327252, "post_id": 55504481, "comment_id": 97715267, "body": "You could install it using <code>pip</code> as shown <a href=\"https://pypi.org/project/JPype1/\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 5045085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-CjaEv7qLQ2Y/AAAAAAAAAAI/AAAAAAAAA2I/mlCHnHnaH8I/photo.jpg?sz=128", "display_name": "Mostafa Ghafoori", "link": "https://stackoverflow.com/users/5045085/mostafa-ghafoori"}, "edited": false, "score": 0, "creation_date": 1554327529, "post_id": 55504564, "comment_id": 97715359, "body": "I get the error using pip3 error: command &#39;gcc&#39; failed with exit status 1"}, {"owner": {"reputation": 2137, "user_id": 11076781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AEbp_l4M20o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNq9wzZW_MtnAU7_RDtc7xasFybGA/mo/photo.jpg?sz=128", "display_name": "VietHTran", "link": "https://stackoverflow.com/users/11076781/viethtran"}, "reply_to_user": {"reputation": 157, "user_id": 5045085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-CjaEv7qLQ2Y/AAAAAAAAAAI/AAAAAAAAA2I/mlCHnHnaH8I/photo.jpg?sz=128", "display_name": "Mostafa Ghafoori", "link": "https://stackoverflow.com/users/5045085/mostafa-ghafoori"}, "edited": false, "score": 0, "creation_date": 1554328231, "post_id": 55504564, "comment_id": 97715614, "body": "Did you install gcc using conda? If that&#39;s the case then I think there is a similar issue posted here <a href=\"https://github.com/jpype-project/jpype/issues/182\" rel=\"nofollow noreferrer\">github.com/jpype-project/jpype/issues/182</a>. You can follow the approach in the link by running <code>conda install gcc</code> while conda environment was active."}, {"owner": {"reputation": 157, "user_id": 5045085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-CjaEv7qLQ2Y/AAAAAAAAAAI/AAAAAAAAA2I/mlCHnHnaH8I/photo.jpg?sz=128", "display_name": "Mostafa Ghafoori", "link": "https://stackoverflow.com/users/5045085/mostafa-ghafoori"}, "edited": false, "score": 0, "creation_date": 1554329554, "post_id": 55504564, "comment_id": 97716057, "body": "conda install gcc Collecting package metadata: done Solving environment: done  # All requested packages already installed. But still: pip3 install JPype1     error: command &#39;gcc&#39; failed with exit status 1"}], "tags": [], "owner": {"reputation": 2137, "user_id": 11076781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AEbp_l4M20o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNq9wzZW_MtnAU7_RDtc7xasFybGA/mo/photo.jpg?sz=128", "display_name": "VietHTran", "link": "https://stackoverflow.com/users/11076781/viethtran"}, "is_accepted": false, "score": 3, "last_activity_date": 1554326908, "creation_date": 1554326908, "answer_id": 55504564, "question_id": 55504481, "link": "https://stackoverflow.com/questions/55504481/modulenotfounderror-no-module-named-jpype/55504564#55504564", "title": "ModuleNotFoundError: No module named &#39;jpype&#39;", "body": "<p>It might be because it is installed as a Python 2 package and you're running Python 3 or the opposite.</p>\n\n<p>To specifically install the package for Python 3, try entering this command:</p>\n\n<pre><code>pip3 install jpype1\n</code></pre>\n\n<p>or</p>\n\n<pre><code>python3 -m pip install jpype1\n</code></pre>\n\n<p>To specifically install the package for Python 2, try entering this command:</p>\n\n<pre><code>pip2 install jpype1\n</code></pre>\n\n<p>or</p>\n\n<pre><code>python -m pip install jpype1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 5045085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-CjaEv7qLQ2Y/AAAAAAAAAAI/AAAAAAAAA2I/mlCHnHnaH8I/photo.jpg?sz=128", "display_name": "Mostafa Ghafoori", "link": "https://stackoverflow.com/users/5045085/mostafa-ghafoori"}, "is_accepted": false, "score": 1, "last_activity_date": 1554331809, "creation_date": 1554331809, "answer_id": 55505463, "question_id": 55504481, "link": "https://stackoverflow.com/questions/55504481/modulenotfounderror-no-module-named-jpype/55505463#55505463", "title": "ModuleNotFoundError: No module named &#39;jpype&#39;", "body": "<p>I found the problem.\nBy mistake, I had two versions of Anaconda 3.6 and 3.7 which was causing the problem.</p>\n"}], "owner": {"reputation": 157, "user_id": 5045085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-CjaEv7qLQ2Y/AAAAAAAAAAI/AAAAAAAAA2I/mlCHnHnaH8I/photo.jpg?sz=128", "display_name": "Mostafa Ghafoori", "link": "https://stackoverflow.com/users/5045085/mostafa-ghafoori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4599, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1554331809, "creation_date": 1554326474, "question_id": 55504481, "link": "https://stackoverflow.com/questions/55504481/modulenotfounderror-no-module-named-jpype", "title": "ModuleNotFoundError: No module named &#39;jpype&#39;", "body": "<p>I am using Anaconda Python and used the following to install jpype:</p>\n\n<pre><code>conda install -c conda-forge jpype1\n</code></pre>\n\n<p>I have GCC installed:</p>\n\n<pre><code>Python 3.6.1 |Anaconda 4.4.0 (x86_64)| (default, May 11 2017, 13:04:09) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n</code></pre>\n\n<p>and I did not get any error during installation.</p>\n\n<pre><code>conda install -c conda-forge jpype1 \nCollecting package metadata: done\nSolving environment: done\n\n# All requested packages already installed.\n</code></pre>\n\n<p>If I run <code>pip search jpype</code> I will get the following:</p>\n\n<pre><code>jtypes.jpype (0.6.3b3)  - A Python to Java bridge (ctypes/cffi-based JPype).\nJPype1-py3 (0.5.5.2)    - Python-Java bridge. Fork of the jPype project by Steve Menard (http://jpype.sourceforge.net/), with the modifications applied by Luis Nell\n                          (https://github.com/originell/jpype)\n</code></pre>\n\n<p>but still cannot call the library</p>\n\n<pre><code>&gt;&gt;&gt; import jpype\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nModuleNotFoundError: No module named 'jpype'\n</code></pre>\n"}, {"tags": ["python", "getter-setter"], "comments": [{"owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "edited": false, "score": 0, "creation_date": 1554327014, "post_id": 55504471, "comment_id": 97715191, "body": "Just define a @setter on Point class for the &quot;x&quot; property. Why not add two more attributes to that class, &quot;pixel_x&quot;, &quot;pixel_y&quot;?"}, {"owner": {"reputation": 667, "user_id": 6730526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1131892593548201/picture?type=large", "display_name": "Yurkee", "link": "https://stackoverflow.com/users/6730526/yurkee"}, "reply_to_user": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "edited": false, "score": 0, "creation_date": 1554328043, "post_id": 55504471, "comment_id": 97715551, "body": "if I define setter for x in Point, how will it know about the size of the block?"}, {"owner": {"reputation": 514, "user_id": 2066113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rj2f3.jpg?s=128&g=1", "display_name": "skullgoblet1089", "link": "https://stackoverflow.com/users/2066113/skullgoblet1089"}, "edited": false, "score": 0, "creation_date": 1554328134, "post_id": 55504471, "comment_id": 97715579, "body": "in the setter that you define in the Point class you could pass the &quot;size&quot; as an additional argument. for e.g. you could pass a dict or array as the value to the setter."}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 6730526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1131892593548201/picture?type=large", "display_name": "Yurkee", "link": "https://stackoverflow.com/users/6730526/yurkee"}, "edited": false, "score": 0, "creation_date": 1554327853, "post_id": 55504703, "comment_id": 97715479, "body": "this will work for the code I showed here (as I have written on the bottom of my question) I&#39;d like to know how to acces setter inside Block class when asigning to a field block.block_position.x .  My real example inherits pixel_position from other classes without any setters or getter thus overriding inherited property would be similar pain in the ass"}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "reply_to_user": {"reputation": 667, "user_id": 6730526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1131892593548201/picture?type=large", "display_name": "Yurkee", "link": "https://stackoverflow.com/users/6730526/yurkee"}, "edited": false, "score": 0, "creation_date": 1554328967, "post_id": 55504703, "comment_id": 97715853, "body": "@Yurkee That&#39;s not possible unless <code>block_position</code> keeps a reference to <code>block</code> and you update it therein. <code>block.block_position.x</code> will invoke <code>Block.block_position.__get__(block, type(block))</code> and hence the setter is skipped altogether. In case <code>x</code> is a property of <code>Point</code> then the corresponding setter will be called with the <code>block_position</code> instance. But then this instance has no idea of <code>block</code> which you would like to update as well. I&#39;m sure you could achieve this with some weird usage of <a href=\"https://docs.python.org/3/howto/descriptor.html\" rel=\"nofollow noreferrer\">descriptors</a> but I don&#39;t recommend to do so."}], "tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 1, "last_activity_date": 1554327572, "creation_date": 1554327572, "answer_id": 55504703, "question_id": 55504471, "link": "https://stackoverflow.com/questions/55504471/setter-for-a-field-of-a-field/55504703#55504703", "title": "Setter for a field of a field", "body": "<p>You can resolve this by making <code>pixel_position</code> a property since this attribute seems dependent on the other, <code>block_position</code>. That way <code>block_position</code> doesn't even have to be a property:</p>\n\n<pre><code>class Point:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\n    def __repr__(self):\n        return f'{type(self).__name__}({self.x}, {self.y})'\n\nclass Block:\n    size = 40\n    def __init__(self, x=1, y=1):\n        self.block_position = Point(x,y)\n\n    @property\n    def pixel_position(self):\n        return Point(self.block_position.x * self.size, self.block_position.y * self.size)\n\nblock = Block()\nblock.block_position = Point(2,1)\nblock.block_position.x -= 1\nprint(block.block_position)  # Point(1, 1)\nprint(block.pixel_position)  # Point(40, 40)\n</code></pre>\n\n<p>In general dependent attributes are suitable for properties as they can be computed \"on-the-fly\" from other, independent ones.</p>\n"}, {"comments": [{"owner": {"reputation": 667, "user_id": 6730526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1131892593548201/picture?type=large", "display_name": "Yurkee", "link": "https://stackoverflow.com/users/6730526/yurkee"}, "edited": false, "score": 0, "creation_date": 1554328825, "post_id": 55504878, "comment_id": 97715813, "body": "well this answers my question to the full extent,thank you!"}], "tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 3, "last_activity_date": 1588952704, "last_edit_date": 1588952704, "creation_date": 1554328298, "answer_id": 55504878, "question_id": 55504471, "link": "https://stackoverflow.com/questions/55504471/setter-for-a-field-of-a-field/55504878#55504878", "title": "Setter for a field of a field", "body": "<p>The problem there is that you are mixing some concepts trying to make use of Python <code>property</code> and things get confusing  -</p>\n\n<p>The basic thing is that if <code>pixel_position</code> is to be to be calculated - it should itself a property.</p>\n\n<p>What your are trying to do is to put some gates on the setting of values on \"block_position\" and derive - when block_position is changed the new value for pixel_position. That is not working because you have not \"gatted\" always one could possibly modify the values inside your block_position. </p>\n\n<p>What happens when you make:</p>\n\n<pre><code> block.block_position.x += 1\n</code></pre>\n\n<p>Is that the property <code>getter</code> for block_position is activated - the Point object in there then have its <code>x</code> attribute changed - but this change never goes through the outter block object,as <code>x</code> is an ordinay attribute, not  a property.</p>\n\n<p>Now, it would be <em>possible</em> to instrument your <code>Point</code> class so that actions could be triggered whenever <code>x</code> ou <code>y</code> are changed - but that could become really complicated, and fast. </p>\n\n<p>A better approache there is to have pixel_position itself be a property, instead of an ordinary attribute, and have its values lazily calculated - generated whenever they are needed - and not depend on the value to be setted eagerly whenever block_position changes.  This is a pattern from \"reactive programing\".\nActually, you will find out that \"block_poisition\" itself can be an ordinary instance attribute, and not be a property - unless you want its checker to ensure the assigned object is an instance of  <code>Point</code>.</p>\n\n<pre><code>class Point:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\n    def __mul__(self, scale):\n        return Point(self.x * scale, self.y * scale)\n\n\nclass Block:\n    size = 40\n    def __init__(self, x=1,y=1):\n        self._block_position = Point(x,y)\n    @property\n    def block_position(self):\n        return self._block_position\n\n    @block_position.setter\n    def block_position(self, point):\n        if not isinstance(point, Point):\n            # raise TypeError()  # or, as an option, accept sequences of 2 coordinates:\n            point = Point(point[0], point[1])\n\n        self._block_position = point\n\n    @property\n    @pixel_position(self):\n        return self._block_position * self.size\n</code></pre>\n\n<p>So, now things are the other way around - and pixel_position can't be setted and is guaranteed to be always updated.</p>\n\n<p>Three things in there:</p>\n\n<ul>\n<li>I've added the <code>__mul__</code> method to your Point so now one can just use the <code>*</code> operator to multiply it by a scalar.</li>\n<li>There is no need or sense in actually prepending <code>__</code> to Python \"hidden\" attributes. Early tutorials or unofficial documentation to the language could misleadingly say it is a way of having \"private attributes\". That is an error - there is no private attributes in Python what <code>__</code> does is name mangling in order to allow a class to have attributes that are not messed up by subclasses. In almost 20 years of Python programming I've never actually needed that feature. On the other hand, it <em>can</em> give you strange errors if you have subclasses of <code>Block</code>. Just don't. The accepted convention is that one single \"_\" indicates an attribute that should not be changed or accessed directly by users of the class and this have no side effects.</li>\n<li>Without a setter, <code>pixel_position</code> is mostly \"unchangeable\" - and if one does change the attributes inside it after retrieving  <code>block.pixel_position</code> , he will be changing a detached Point instance.  </li>\n</ul>\n\n<p>If you really need round-trip changing between pixel_position and block_position (that is, make in such a way the class user can change either attribute and have the change reflected in the other), rather than trying to instrument a change notification inside  <code>Point</code> , I suggest you make <code>Point</code> an immutable class instead.  Anyone wanting to change coordinates would have to create a new point instance - as a result <code>block.block_position.x += 1</code> would not work anymore - one would have to do: <code>block.block_position += Point(1, 0)</code>  (and then you implement <code>__add__</code> in Point, just as I did <code>__mul__</code>). Then you could write your setter for <code>pixel_position</code> to force a new value to <code>block_position</code> if it gets changed.  </p>\n\n<p>On the upside, if you make Point immutable, you can add <code>__hash__</code> to it and have it working in sets and as dictionary keys: a lot of other uses open up. </p>\n\n<p>Check the <code>class V2</code> implementation on <a href=\"https://github.com/jsbueno/terminedia/blob/46a2c861d0dff773f4c91dde25115e20b073688d/terminedia.py#L608\" rel=\"nofollow noreferrer\">this project</a> to have an idea of a nice implementation (Disclaimer: the link project is something I am working now as a hobby, and I have actually implemented this class over the past week)</p>\n"}, {"comments": [{"owner": {"reputation": 667, "user_id": 6730526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1131892593548201/picture?type=large", "display_name": "Yurkee", "link": "https://stackoverflow.com/users/6730526/yurkee"}, "edited": false, "score": 0, "creation_date": 1554588110, "post_id": 55523727, "comment_id": 97808867, "body": "awesome! thats exactly what I was looking for. Now seeing it I do get that 90% of the time if I have to use such solutions its poor design of an app, but anyway - thats exactly mechanism I was looking forward to learn!"}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1554648500, "post_id": 55523727, "comment_id": 97820506, "body": "I did not include a design like this in my answer, because it is easy to get lost on the way to configure this properly - 2 way for each property - so I made my answer advising you to keep it one way. I keep that it would be safer. BTW - this code does not do that bothways, it just provides a complicated way to to eager computing of the attribute - I would not advise using it."}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "reply_to_user": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1554675359, "post_id": 55523727, "comment_id": 97828011, "body": "@jsbueno I totally agree with you, I advice against its usage as well (at least for the OP&#39;s purpose). Instead I prefer the approach which I&#39;ve outlined in <a href=\"https://stackoverflow.com/a/55504703/3767239\">my answer here</a> (which is similar to what you wrote in your answer). For educational purposes, on the other hand, this way of handling things might be insightful nevertheless. And to be fair, it is what the OP asked for (well not precisely but with some slight modifications one can also call the instance&#39;s setter directly). It is different from eager computation since one can set <code>_x</code> directly."}], "tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": true, "score": 1, "last_activity_date": 1554406665, "creation_date": 1554406665, "answer_id": 55523727, "question_id": 55504471, "link": "https://stackoverflow.com/questions/55504471/setter-for-a-field-of-a-field/55523727#55523727", "title": "Setter for a field of a field", "body": "<p>Since you asked for it, I'm providing an example implementation where properties of an object notify their owner when being set, for it to synchronize with another object. I only consider 1D points (<code>x</code>) in this example since the implementation for <code>y</code> is the very same:</p>\n\n<pre><code>class NotificationProperty(property):\n    def __init__(self, fget=None, fset=None, fdel=None, doc=None, notify=None):\n        super().__init__(fget, fset, fdel, doc)\n        self.notify = notify\n\n    def __set_name__(self, owner, name):\n        self.name = name\n\n    def __set__(self, instance, val):\n        super().__set__(instance, val)\n        self.notify(instance, self.name, val)\n\n    # Should define similar methods for other attributes\n    # (see https://docs.python.org/3/howto/descriptor.html#properties).\n    def setter(self, fset):\n        return type(self)(self.fget, fset, self.fdel, self.__doc__, self.notify)\n\n\ndef notification_property(func):\n    from functools import partial\n    return partial(NotificationProperty, notify=func)\n\n\nclass SyncPoint:\n    def __init__(self, x, sync_with=None):\n        self.sync_with = sync_with\n        self.x = x\n\n    def sync(self, which, value):\n        if self.sync_with is not None:\n            obj, scale = self.sync_with\n            value = int(scale * value)\n            if getattr(obj, which) != value:  # Check if already synced -&gt; avoid RecursionError.\n                setattr(obj, which, value)\n\n    @notification_property(sync)\n    def x(self):\n        return self._x\n\n    @x.setter\n    def x(self, val):\n        self._x = val\n\n\nclass Block:\n    size = 40\n\n    def __init__(self, x=1):\n        self.pixel_position = SyncPoint(self.size * x)\n        self.block_position = SyncPoint(x, sync_with=(self.pixel_position, self.size))\n        self.pixel_position.sync_with = (self.block_position, 1/self.size)\n\n\nblock = Block(3)\nprint('block_pos: ', block.block_position.x)  # block_pos:  3\nprint('pixel_pos: ', block.pixel_position.x)  # pixel_pos:  120\n\nblock.block_position.x -= 1\nprint('block_pos: ', block.block_position.x)  # block_pos:  2\nprint('pixel_pos: ', block.pixel_position.x)  # pixel_pos:  80\n\nblock.pixel_position.x -= Block.size\nprint('block_pos: ', block.block_position.x)  # block_pos:  1\nprint('pixel_pos: ', block.pixel_position.x)  # pixel_pos:  40\n</code></pre>\n\n<h3>Variation: specify the notify function via <code>x.setter(func)</code></h3>\n\n<p>The following is a variation of the above code which let's you specify the function to be called for notifications during definition of <code>x.setter</code>. This might feel more intuitive since the notification happens on <code>__set__</code> but in the end it's a matter of taste:</p>\n\n<pre><code>from functools import partial\n\n\nclass notification_property(property):\n    def __init__(self, fget=None, fset=None, fdel=None, doc=None, notify=None):\n        super().__init__(fget, fset, fdel, doc)\n        self.notify = notify\n\n    def __set_name__(self, owner, name):\n        self.name = name\n\n    def __set__(self, instance, val):\n        super().__set__(instance, val)\n        self.notify(instance, self.name, val)\n\n    # Should define similar methods for other attributes\n    # (see https://docs.python.org/3/howto/descriptor.html#properties).\n    def setter(self, func=None):\n        return partial(type(self), self.fget, fdel=self.fdel, doc=self.__doc__, notify=(func or self.notify))\n\n\nclass SyncPoint:\n    def __init__(self, x, sync_with=None):\n        self.sync_with = sync_with\n        self.x = x\n\n    def sync(self, which, value):\n        if self.sync_with is not None:\n            obj, scale = self.sync_with\n            value = int(scale * value)\n            if getattr(obj, which) != value:  # Check if already synced -&gt; avoid RecursionError.\n                setattr(obj, which, value)\n\n    @notification_property\n    def x(self):\n        return self._x\n\n    @x.setter(sync)\n    def x(self, val):\n        self._x = val\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 6730526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1131892593548201/picture?type=large", "display_name": "Yurkee", "link": "https://stackoverflow.com/users/6730526/yurkee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 55523727, "answer_count": 3, "score": 2, "last_activity_date": 1588952704, "creation_date": 1554326440, "last_edit_date": 1554406982, "question_id": 55504471, "link": "https://stackoverflow.com/questions/55504471/setter-for-a-field-of-a-field", "title": "Setter for a field of a field", "body": "<p>Given the code:</p>\n\n<pre><code>class Point:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\nclass Block:\n    size = 40\n\n    def __init__(self, x=1, y=1):\n        self.pixel_position = Point(x * Block.size, y * Block.size)\n        self.__block_position = Point(x, y)\n\n    @property\n    def block_position(self):\n        return self.__block_position\n\n    @block_position.setter\n    def block_position(self, point):\n        #I want for pixel_position to be updated whenever block position changes\n        self.pixel_position.x += point.x * size\n        self.pixel_position.y += point.y * size \n        self.__block_position = point\n</code></pre>\n\n<p>Now for such code simple assignment works well</p>\n\n<pre><code>block = Block()\nblock.block_position = Point(2, 1)\n</code></pre>\n\n<p>but if I want to increment <code>x</code> of <code>block position</code>... well, code doesn't go into setter.</p>\n\n<pre><code>block.block_position.x -= 1\n# now block_position = (1, 1) but pixel_position = (80, 40) not (40, 40)\n</code></pre>\n\n<p>How may I change it?</p>\n\n<p>I know I can resolve this problem with adding property for <code>__pixel_position</code> that will calculate <code>Block.size * __block_position</code> before returning itself, but that approach doesn't satisfy me - well I want to know how in python one can set a property for a field of a field.</p>\n\n<p>My question is not about finding any solution, but to find a solution where changing field <code>block_position.x</code> will redirect me to my setter/getter.</p>\n"}, {"tags": ["python", "python-3.x", "configuration"], "answers": [{"comments": [{"owner": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "edited": false, "score": 0, "creation_date": 1554374983, "post_id": 55504533, "comment_id": 97732762, "body": "you are correct with the specific choice of 3/4. that&#39;s not what I meant. I&#39;ve updated it. so for 1/3 you won&#39;t be able to do the first &quot;trick&quot;"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "edited": false, "score": 0, "creation_date": 1554390032, "post_id": 55504533, "comment_id": 97742929, "body": "this is no &quot;trick&quot; - the closest a float can get to <code>1&#47;3</code> is <code>0.33333333333</code> .. with some more 3 in it. you get that by <code>operator.truediv( *map(int,&quot;1&#47;3&quot;.split(&quot;&#47;&quot;)))</code> ... if you want to use <i>real</i> <code>fractions</code> see my other answer."}, {"owner": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "edited": false, "score": 0, "creation_date": 1554406798, "post_id": 55504533, "comment_id": 97751682, "body": "it&#39;s not &quot;some more 3&quot;, it&#39;s inifinite times more 3. even if you say float is finite I still don&#39;t want to be dependent on the float representation in the machine, or type the whole decimal representation every time I change the parameter. but really, it&#39;s just over-complicating my question. your &quot;alternatively&quot; part was what I was looking for, thanks"}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 1, "last_activity_date": 1554327239, "last_edit_date": 1554327239, "creation_date": 1554326728, "answer_id": 55504533, "question_id": 55504438, "link": "https://stackoverflow.com/questions/55504438/pyhocon-force-a-variable-to-have-float-type-instead-of-str/55504533#55504533", "title": "pyhocon - force a variable to have float type (instead of str)", "body": "<p><code>3/4</code> is not a float. <code>0.75</code> is. You would need to \"calculate\" your string first.</p>\n\n<p>Use </p>\n\n<pre><code>{\n  var = 0.75\n}\n</code></pre>\n\n<p>instead.</p>\n\n<hr>\n\n<p>Alternatively:</p>\n\n<pre><code>import operator  \n\nk =  operator.truediv( *map(int,\"3/4\".split(\"/\")))  # conf.var\nprint(k)\n</code></pre>\n\n<p>to get to <code>0.75</code></p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 6351517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHgm6.png?s=128&g=1", "display_name": "Blitzer", "link": "https://stackoverflow.com/users/6351517/blitzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1554327544, "creation_date": 1554327544, "answer_id": 55504697, "question_id": 55504438, "link": "https://stackoverflow.com/questions/55504438/pyhocon-force-a-variable-to-have-float-type-instead-of-str/55504697#55504697", "title": "pyhocon - force a variable to have float type (instead of str)", "body": "<p>Probably eval is the simplest</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>In [3]: conf['var'] = eval(conf['var'])  \nIn [4]: conf.get_float('var')                                                                                                                                                   \nOut[4]: 0.75\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1554389800, "last_edit_date": 1554389800, "creation_date": 1554389461, "answer_id": 55518989, "question_id": 55504438, "link": "https://stackoverflow.com/questions/55504438/pyhocon-force-a-variable-to-have-float-type-instead-of-str/55518989#55518989", "title": "pyhocon - force a variable to have float type (instead of str)", "body": "<p>If you want to use <a href=\"https://docs.python.org/3/library/fractions.html\" rel=\"nofollow noreferrer\"><code>fractions</code></a> in your program, use the correct datatype for it:</p>\n\n<pre><code>import fractions \n\nk =  fractions.Fraction( \"1/3\" )  # you use conf.var instead of '1/3'  \nprint(k)\nprint(float(k))\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>Fraction(1, 3)  \n0.3333333333333333\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3/library/fractions.html#fractions.Fraction\" rel=\"nofollow noreferrer\"><code>fraction.Fraction(string)</code></a> works for your <code>conf.var</code></p>\n"}], "owner": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 55504533, "answer_count": 3, "score": 0, "last_activity_date": 1554389800, "creation_date": 1554326271, "last_edit_date": 1554374941, "question_id": 55504438, "link": "https://stackoverflow.com/questions/55504438/pyhocon-force-a-variable-to-have-float-type-instead-of-str", "title": "pyhocon - force a variable to have float type (instead of str)", "body": "<p>I'm using <code>pyhocon</code> package and I want one of the parameters to be given as a int/int division. The conf file looks something like:</p>\n\n<pre><code>{\n  var = 1/3\n}\n</code></pre>\n\n<p>However, this is what I get for trying:</p>\n\n<pre><code>&gt;&gt;&gt; from pyhocon import ConfigFactory\n&gt;&gt;&gt; conf = ConfigFactory.parse_file(conf_path)\n&gt;&gt;&gt; conf.var\n '1/3'\n&gt;&gt;&gt; conf.get_float('var')\npyhocon.exceptions.ConfigException: var has type 'str' rather than 'float'\n</code></pre>\n\n<p>How can I force <code>var</code> to have float type? (without using some kind of <code>eval</code>)</p>\n"}, {"tags": ["python", "arrays", "numpy", "vectorization"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1554359726, "post_id": 55504400, "comment_id": 97723790, "body": "Share implementation of <code>normalize</code>?"}, {"owner": {"reputation": 161, "user_id": 1431591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2906d1c018b4f5b226064d3d6e333ac0?s=128&d=identicon&r=PG", "display_name": "Ironil", "link": "https://stackoverflow.com/users/1431591/ironil"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1554364942, "post_id": 55504400, "comment_id": 97726612, "body": "@Divakar Added the normalize function definition, which it is indeed giving me trouble"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 1431591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2906d1c018b4f5b226064d3d6e333ac0?s=128&d=identicon&r=PG", "display_name": "Ironil", "link": "https://stackoverflow.com/users/1431591/ironil"}, "edited": false, "score": 0, "creation_date": 1554365044, "post_id": 55504524, "comment_id": 97726665, "body": "I&#39;m having now problems with the normalize definition. I definitely have troubles reshaping (ha!) my head around the numpy arrays dimensions"}, {"owner": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "reply_to_user": {"reputation": 161, "user_id": 1431591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2906d1c018b4f5b226064d3d6e333ac0?s=128&d=identicon&r=PG", "display_name": "Ironil", "link": "https://stackoverflow.com/users/1431591/ironil"}, "edited": false, "score": 0, "creation_date": 1569614228, "post_id": 55504524, "comment_id": 102667610, "body": "What&#39;s the error it gives you? I think you want <code>norm = np.linalg.norm(v, axis=2)</code> in your normalize function, and I don&#39;t think you need the <code>[:, None]</code> in the division. This is pretty old though, haha - I don&#39;t really remember answering this."}], "tags": [], "owner": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "is_accepted": false, "score": 1, "last_activity_date": 1554326674, "creation_date": 1554326674, "answer_id": 55504524, "question_id": 55504400, "link": "https://stackoverflow.com/questions/55504400/efficient-calculation-of-vector-between-sets-of-3d-points/55504524#55504524", "title": "Efficient calculation of vector between sets of 3D points", "body": "<p>Check out the rules for <a href=\"https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"nofollow noreferrer\">NumPy broadcasting</a>. I think adding a new axis in the middle of your <code>sensor_points</code> array will work:</p>\n\n<pre><code>&gt;&gt; sp_min_ro = sensor_points[:, np.newaxis, :] - rayorigins\n&gt;&gt; sp_min_ro.shape\n(1002001, 36, 3)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5208, "user_id": 4045774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c0c730b6a9cb71d1ce17838f2beb7?s=128&d=identicon&r=PG&f=1", "display_name": "max9111", "link": "https://stackoverflow.com/users/4045774/max9111"}, "is_accepted": true, "score": 2, "last_activity_date": 1554466361, "creation_date": 1554466361, "answer_id": 55535114, "question_id": 55504400, "link": "https://stackoverflow.com/questions/55504400/efficient-calculation-of-vector-between-sets-of-3d-points/55535114#55535114", "title": "Efficient calculation of vector between sets of 3D points", "body": "<h2>Numpy solution</h2>\n\n<pre><code>import numpy as np\n\nsensor_points=np.random.randn(1002001,3)#.astype(np.float32)\nrayorigins=np.random.rand(36,3)#.astype(np.float32)\n\nsp_min_ro = sensor_points[:, np.newaxis, :] - rayorigins\nnorm=np.linalg.norm(sp_min_ro,axis=2)\nsp_min_ro/=norm[:,:,np.newaxis]\n</code></pre>\n\n<p><strong>Timings</strong></p>\n\n<pre><code>np.float64: 1.76 s \u00b1 26.6 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nnp.float32: 1.42 s \u00b1 9.83 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre>\n\n<h2>Numba solution</h2>\n\n<pre><code>import numba as nb\n\n@nb.njit(fastmath=True,error_model=\"numpy\",parallel=True)\ndef normalized_vec(sensor_points,rayorigins):\n    res=np.empty((sensor_points.shape[0],rayorigins.shape[0],3),dtype=sensor_points.dtype)\n    for i in nb.prange(sensor_points.shape[0]):\n        for j in range(rayorigins.shape[0]):\n            vec_x=sensor_points[i,0]-rayorigins[j,0]\n            vec_y=sensor_points[i,1]-rayorigins[j,1]\n            vec_z=sensor_points[i,2]-rayorigins[j,2]\n            dist=np.sqrt(vec_x**2+vec_y**2+vec_z**2)\n            res[i,j,0]=vec_x/dist\n            res[i,j,1]=vec_y/dist\n            res[i,j,2]=vec_z/dist\n    return res\n</code></pre>\n\n<p><strong>Timings</strong></p>\n\n<pre><code>%timeit res=normalized_vec(sensor_points,rayorigins)\nnp.float64: 208 ms \u00b1 4.41 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\nnp.float32: 104 ms \u00b1 515 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n</code></pre>\n\n<h2>Numba solution with preallocated memory</h2>\n\n<p>Memory allocation could be very costly. This example should show, why it is sometimes a good idea to avoid large temporary arrays if possible.</p>\n\n<pre><code>@nb.njit(fastmath=True,error_model=\"numpy\",parallel=True)\ndef normalized_vec(sensor_points,rayorigins,res):\n    for i in nb.prange(sensor_points.shape[0]):\n        for j in range(rayorigins.shape[0]):\n            vec_x=sensor_points[i,0]-rayorigins[j,0]\n            vec_y=sensor_points[i,1]-rayorigins[j,1]\n            vec_z=sensor_points[i,2]-rayorigins[j,2]\n            dist=np.sqrt(vec_x**2+vec_y**2+vec_z**2)\n            res[i,j,0]=vec_x/dist\n            res[i,j,1]=vec_y/dist\n            res[i,j,2]=vec_z/dist\n    return res\n</code></pre>\n\n<p><strong>Timings</strong></p>\n\n<pre><code>res=np.empty((sensor_points.shape[0],rayorigins.shape[0],3),dtype=sensor_points.dtype)\n%timeit res=normalized_vec(sensor_points,rayorigins)\nnp.float64: 66.6 ms \u00b1 131 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\nnp.float32: 33.8 ms \u00b1 375 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 1431591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2906d1c018b4f5b226064d3d6e333ac0?s=128&d=identicon&r=PG", "display_name": "Ironil", "link": "https://stackoverflow.com/users/1431591/ironil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 55535114, "answer_count": 2, "score": 0, "last_activity_date": 1554466361, "creation_date": 1554326140, "last_edit_date": 1554364798, "question_id": 55504400, "link": "https://stackoverflow.com/questions/55504400/efficient-calculation-of-vector-between-sets-of-3d-points", "title": "Efficient calculation of vector between sets of 3D points", "body": "<p>I'm coding a particular version of raytracing in Python, and I'm trying to calculate the vectors between points on different planes.</p>\n\n<p>I'm working with sets of point light sources, simulating a nonpoint light source. Each source generates one ray for each pixel on the \"camera\" plane. I managed to compute the vector for each of those rays, by iterating with a for loop for each pixel:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for sensor_point in sensor_points:    \n    sp_min_ro = sensor_point - rayorigins #Vectors between the points\n    normalv = normalize(sp_min_ro) #Normalized vector between the points\n</code></pre>\n\n<p>Where <code>sensor_points</code> is a large numpy array with the [x,y,z] coordinates of the different pixel positions, and <code>rayorigins</code> is a numpy array with the [x,y,z] coordinates for the different point sources</p>\n\n<p>This for loop approach works, but is extremely slow. I tried to remove the for loop and directly calculate <code>spr_min_ro = sensor_points - rayorigins</code>, with the whole array, but numpy can't operate it:</p>\n\n<p><code>ValueError: operands could not be broadcast together with shapes (1002001,3) (36,3)</code></p>\n\n<p>Is there a way to accelerate the process of finding the vectors between all the points?</p>\n\n<hr>\n\n<p>Edit: Adding the normalize function definition I have been using, because it is also giving problems:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def normalize(v):\n    norm = np.linalg.norm(v, axis=1)\n    return v / norm[:,None]\n</code></pre>\n\n<p>When I try to pass the new (1002001, 36, 3) array from @aganders3 solution, it fails, I suppose because of the axis?</p>\n"}, {"tags": ["python", "python-decorators"], "comments": [{"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 0, "creation_date": 1554326647, "post_id": 55504394, "comment_id": 97715062, "body": "It should be <code>return wrapped</code> and not <code>return actual_decor</code> after <code>print(&quot;Post Main&quot;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 799, "user_id": 3435407, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6b0463277379ca1cd9a814d376ee2ac0?s=128&d=identicon&r=PG&f=1", "display_name": "user3435407", "link": "https://stackoverflow.com/users/3435407/user3435407"}, "edited": false, "score": 1, "creation_date": 1554326697, "post_id": 55504506, "comment_id": 97715076, "body": "i just realized it, how embarrasing ... at least the question shows how decorator works. Thank you"}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 2, "last_activity_date": 1554326608, "creation_date": 1554326608, "answer_id": 55504506, "question_id": 55504394, "link": "https://stackoverflow.com/questions/55504394/python-argumented-decorator-function/55504506#55504506", "title": "Python argumented decorator function", "body": "<p>Your <code>actual_decor</code> function returns itself when it should return the wrapper function <code>wrapped</code>:</p>\n\n<pre><code>def argumented_decor(dec_arg1):\n    def actual_decor(old_func):\n        print(\"Pre Wrapped\")\n        def wrapped():\n            print(\"Pre Main\")\n            print(dec_arg1)\n            old_func()\n            print(\"Post Main\")\n        return wrapped\n    return actual_decor\n</code></pre>\n"}], "owner": {"reputation": 799, "user_id": 3435407, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6b0463277379ca1cd9a814d376ee2ac0?s=128&d=identicon&r=PG&f=1", "display_name": "user3435407", "link": "https://stackoverflow.com/users/3435407/user3435407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 55504506, "answer_count": 1, "score": 1, "last_activity_date": 1554326608, "creation_date": 1554326110, "question_id": 55504394, "link": "https://stackoverflow.com/questions/55504394/python-argumented-decorator-function", "title": "Python argumented decorator function", "body": "<p>I have this example:</p>\n\n<pre><code>def decorator_function_with_arguments(arg1, arg2, arg3):\n    def wrap(f):\n        print(\"Inside wrap\")\n        def wrapped_f(*args):\n            print(\"Pre\")\n            print(\"Decorator arguments:\", arg1, arg2, arg3)\n            f(*args)\n            print(\"Post\")\n        return wrapped_f\n    return wrap\n\n@decorator_function_with_arguments(\"hello\", \"world\", 42)\ndef sayHello(a1, a2, a3, a4):\n    print('sayHello arguments:', a1, a2, a3, a4)\n\nsayHello(\"say\", \"hello\", \"argument\", \"list\")\n</code></pre>\n\n<p>The output is:</p>\n\n<p><code>Inside wrap\n Pre\n Decorator arguments: hello world 42\n sayHello arguments: say hello argument list\n Post</code></p>\n\n<p>I interpret this as follows: The <code>decorator_function_with_arguments</code> gets its 3 args. It outputs a function (<code>wrap</code>) that receives a function and outputs a function, which is the purpose of the decoration. So now <code>wrap</code> will be executed (\"Inside wrap\" gets printed), the decoration happens, <code>wrap</code> takes <code>sayHello</code> and puts it into <code>wrapped_f</code>, we return. Now if I call <code>sayHello</code> it will be the wrapped version of it, so the rest gets printed out. Ok, but now if i write this:</p>\n\n<pre><code>def argumented_decor(dec_arg1):\n    def actual_decor(old_func):\n        print(\"Pre Wrapped\")\n        def wrapped():\n            print(\"Pre Main\")\n            print(dec_arg1)\n            old_func()\n            print(\"Post Main\")\n        return actual_decor\n    return actual_decor\n\n@argumented_decor(\"Decor Argument\")\ndef f2():\n    print(\"Main\")\n\nf2()\n</code></pre>\n\n<p>When calling <code>f2</code> I get the error message:\n<code>TypeError: actual_decor() missing 1 required positional argument: 'old_func'</code></p>\n\n<p>Why? <code>argumented_decor</code> gets its argument, <code>actual_decor</code> will be executed, \"Pre Wrapped\" will be printed, <code>f2</code> will be wrapped. Now if I call it, it should do as the most inner <code>wrapped</code> function. Why not? I hope I could ask my question understandably. Thanks!</p>\n"}, {"tags": ["python", "html", "flask"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554327294, "post_id": 55504390, "comment_id": 97715282, "body": "Browser should send request with header <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer\" rel=\"nofollow noreferrer\">referer</a> - it should be url of page which send request."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554328358, "post_id": 55504390, "comment_id": 97715662, "body": "<a href=\"http://flask.pocoo.org/docs/1.0/api/#flask.Request.referrer\" rel=\"nofollow noreferrer\">request.referrer</a>. Or you can use <code>&lt;input type=&quot;hidden&quot; value=&quot;...&quot;&gt;</code> in form. You can also use arguments in url <code>action=url?arg=value</code>  like in <code>GET</code> request."}, {"owner": {"reputation": 49, "user_id": 9613730, "user_type": "registered", "profile_image": "https://graph.facebook.com/468786450205197/picture?type=large", "display_name": "Kenny Wang", "link": "https://stackoverflow.com/users/9613730/kenny-wang"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1554328726, "post_id": 55504390, "comment_id": 97715783, "body": "Thank! Actually I found an answer right now <a href=\"https://stackoverflow.com/questions/26217779/how-to-get-the-name-of-a-submitted-form-in-flask\">see this post</a>"}], "owner": {"reputation": 49, "user_id": 9613730, "user_type": "registered", "profile_image": "https://graph.facebook.com/468786450205197/picture?type=large", "display_name": "Kenny Wang", "link": "https://stackoverflow.com/users/9613730/kenny-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554326086, "creation_date": 1554326086, "question_id": 55504390, "link": "https://stackoverflow.com/questions/55504390/how-to-find-out-where-the-post-request-is-from-using-flask", "title": "How to find out where the Post request is from using Flask?", "body": "<p>In flask function, how to I get where the POST request is from? From which .html or which form?</p>\n\n<p>I have a function in .py</p>\n\n<pre><code>@app.route(\"/mark_read\", methods=['GET', 'POST'])\ndef mark_read():\n</code></pre>\n\n<p>so when it gets a POST request, it will extract data and delete corresponding rows in my .db file.</p>\n\n<p>I have multiple .html and many of them have a <code>delete</code> button, instead of write many function to deal with each single case, I want to just use <code>def mark_read():</code> to deal with all delete request. But how do I know where the delete is from so I can go to the correct table in my .db to perform deletion. The extracted data is not representative so I cannot use extracted data to decide the appropriate table?</p>\n\n<p>For example, we can use</p>\n\n<pre><code>identifier = request.form['set_mark']\n</code></pre>\n\n<p>to get the value of an element with name <code>set_mark</code>, is there a similar way to get which form it is? Maybe something like:</p>\n\n<pre><code>&lt;form action=\"{{ url_for('mark_read') }}\" method=\"POST\" name=\"form_name\" value=\"form1\"&gt;\n</code></pre>\n\n<p>then I can get which form is it by </p>\n\n<pre><code>identifier = request.form['form_name'] # form1\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 11124453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-syxxNIygGI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rciTsRBH4EgVBZpPV9y0KgYZml7QA/mo/photo.jpg?sz=128", "display_name": "Dominik Novotn&#253;", "link": "https://stackoverflow.com/users/11124453/dominik-novotn%c3%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1554326447, "creation_date": 1554326447, "answer_id": 55504476, "question_id": 55504384, "link": "https://stackoverflow.com/questions/55504384/printing-matplotlib-title-from-pandas-dataframe/55504476#55504476", "title": "Printing Matplotlib Title from pandas Dataframe", "body": "<p>GOT IT!</p>\n\n<pre><code>#plot results for selected department\nfor i in range (len(resultXDataFrame.index)):\n    selected_row = i\n    selected_result = result.iloc[selected_row, 17:]\n    selected_etalon = etalon.iloc[selected_row, 17:]\n    plt.figure()\n    plt.title(str(result.loc[selected_row, 'DEPARTMENT']) + ' MONTH ' + str(result.loc[selected_row, 'M']) + ' YEAR ' + str(result.loc[selected_row, 'Y']))\n    x_axis = np.arange(0, predict_length, 1)\n    plt.plot(x_axis, selected_result, color = 'black')\n    plt.plot(x_axis, selected_etalon, color = 'red')\n    plt.xlim(0, predict_length)\n    plt.xlabel('Prediction length in days')\n    plt.ylabel('Predicted Illness')\n    plt.show()\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 11124453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-syxxNIygGI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rciTsRBH4EgVBZpPV9y0KgYZml7QA/mo/photo.jpg?sz=128", "display_name": "Dominik Novotn&#253;", "link": "https://stackoverflow.com/users/11124453/dominik-novotn%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554326447, "creation_date": 1554326061, "question_id": 55504384, "link": "https://stackoverflow.com/questions/55504384/printing-matplotlib-title-from-pandas-dataframe", "title": "Printing Matplotlib Title from pandas Dataframe", "body": "<p>I need to print a title for a few plots in a loop with string values from a dataframe. I have managed to create a loop to plot graphs, however I have trouble with said Titles, which are neccessary.</p>\n\n<p>This is the code I've used:</p>\n\n<pre><code>for i in range (len(resultXDataFrame.index)):\n    selected_row = i\n    selected_result = result.iloc[selected_row, 17:]\n    selected_etalon = etalon.iloc[selected_row, 17:]\n    plt.figure()\n    plt.title(result.loc[selected_row, 'DEPARTMENT'], 'MONTH ', result.loc[selected_row, 'M'], 'YEAR', result.loc[selected_row, 'Y'])\n    x_axis = np.arange(0, predict_length, 1)\n    plt.plot(x_axis, selected_result, color = 'black')\n    plt.plot(x_axis, selected_etalon, color = 'red')\n    plt.xlim(0, predict_length)\n    plt.xlabel('Prediction length in days')\n    plt.ylabel('Predicted Illness')\n    plt.show()\n</code></pre>\n\n<p>However I receive an error saying:</p>\n\n<pre><code>TypeError: title() takes from 1 to 4 positional arguments but 5 were given\n</code></pre>\n\n<p>The problem is definetly on the line where I try to define the title. When I choose a fixed title, it works just fine. I just need to concat the part of:</p>\n\n<pre><code>plt.title(result.loc[selected_row, 'DEPARTMENT'], 'MONTH ', result.loc[selected_row, 'M'], 'YEAR', result.loc[selected_row, 'Y'])\n</code></pre>\n\n<p>So it prints the correct title for each of my graph, which should look like that:</p>\n\n<blockquote>\n  <p>DEPARTMENT XXX MONTH X YEAR XXXX</p>\n</blockquote>\n\n<p>Thank you for any help.</p>\n"}, {"tags": ["python", "json", "dictionary", "flatten"], "comments": [{"owner": {"reputation": 3248, "user_id": 5707684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wrGFn.jpg?s=128&g=1", "display_name": "Elmex80s", "link": "https://stackoverflow.com/users/5707684/elmex80s"}, "edited": false, "score": 1, "creation_date": 1554368584, "post_id": 55504380, "comment_id": 97728792, "body": "Not sure where you got your example from (posting it helps a lot btw, lots of posters do not give input data), but is it supposed to act like a tree data-structure? ."}, {"owner": {"reputation": 529, "user_id": 7475879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143be98d547513de80f9e68876090561?s=128&d=identicon&r=PG&f=1", "display_name": "Tytire Recubans", "link": "https://stackoverflow.com/users/7475879/tytire-recubans"}, "reply_to_user": {"reputation": 3248, "user_id": 5707684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wrGFn.jpg?s=128&g=1", "display_name": "Elmex80s", "link": "https://stackoverflow.com/users/5707684/elmex80s"}, "edited": false, "score": 0, "creation_date": 1554371452, "post_id": 55504380, "comment_id": 97730587, "body": "Yes, it is. The JSON i posted is basically the fullest version of an API response. Some fields are optional however, so I am trying to get function to flatten any input and then use that flattened dict to insert the data in postgresql. The issue is that some lists contain integers/strings (in which case i want these list to remain lists and become arrays in postgresql) whereas if the list contains another dict, recursively unpack that too. Any solution so far?"}, {"owner": {"reputation": 529, "user_id": 7475879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143be98d547513de80f9e68876090561?s=128&d=identicon&r=PG&f=1", "display_name": "Tytire Recubans", "link": "https://stackoverflow.com/users/7475879/tytire-recubans"}, "reply_to_user": {"reputation": 3248, "user_id": 5707684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wrGFn.jpg?s=128&g=1", "display_name": "Elmex80s", "link": "https://stackoverflow.com/users/5707684/elmex80s"}, "edited": false, "score": 0, "creation_date": 1554371456, "post_id": 55504380, "comment_id": 97730591, "body": "I found <a href=\"https://towardsdatascience.com/how-to-flatten-deeply-nested-json-objects-in-non-recursive-elegant-python-55f96533103d\" rel=\"nofollow noreferrer\">this</a>, but it doesn&#39;t handle the hedge case, lists are unpacked irrespectively of the data type they contain."}, {"owner": {"reputation": 3248, "user_id": 5707684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wrGFn.jpg?s=128&g=1", "display_name": "Elmex80s", "link": "https://stackoverflow.com/users/5707684/elmex80s"}, "edited": false, "score": 0, "creation_date": 1554372223, "post_id": 55504380, "comment_id": 97731076, "body": "Any particular reason youn want to use <code>yield</code>?"}, {"owner": {"reputation": 529, "user_id": 7475879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143be98d547513de80f9e68876090561?s=128&d=identicon&r=PG&f=1", "display_name": "Tytire Recubans", "link": "https://stackoverflow.com/users/7475879/tytire-recubans"}, "reply_to_user": {"reputation": 3248, "user_id": 5707684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wrGFn.jpg?s=128&g=1", "display_name": "Elmex80s", "link": "https://stackoverflow.com/users/5707684/elmex80s"}, "edited": false, "score": 0, "creation_date": 1554372450, "post_id": 55504380, "comment_id": 97731226, "body": "Not really, I&#39;m sure it can be done with comprehension too -"}, {"owner": {"reputation": 3248, "user_id": 5707684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wrGFn.jpg?s=128&g=1", "display_name": "Elmex80s", "link": "https://stackoverflow.com/users/5707684/elmex80s"}, "edited": false, "score": 0, "creation_date": 1554372899, "post_id": 55504380, "comment_id": 97731503, "body": "How should the output look like for your given example?"}, {"owner": {"reputation": 529, "user_id": 7475879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143be98d547513de80f9e68876090561?s=128&d=identicon&r=PG&f=1", "display_name": "Tytire Recubans", "link": "https://stackoverflow.com/users/7475879/tytire-recubans"}, "reply_to_user": {"reputation": 3248, "user_id": 5707684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wrGFn.jpg?s=128&g=1", "display_name": "Elmex80s", "link": "https://stackoverflow.com/users/5707684/elmex80s"}, "edited": false, "score": 0, "creation_date": 1554373079, "post_id": 55504380, "comment_id": 97731614, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/191225/discussion-between-tytire-recubans-and-elmex80s\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 7475879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143be98d547513de80f9e68876090561?s=128&d=identicon&r=PG&f=1", "display_name": "Tytire Recubans", "link": "https://stackoverflow.com/users/7475879/tytire-recubans"}, "edited": false, "score": 0, "creation_date": 1554388152, "post_id": 55517704, "comment_id": 97741596, "body": "This is beautiful! I realised i had left a weird <code>0</code> after <code>&quot;description_identifiers&quot;</code> - so i removed the <code>+&quot;_0&quot;</code> from the second yield."}, {"owner": {"reputation": 529, "user_id": 7475879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143be98d547513de80f9e68876090561?s=128&d=identicon&r=PG&f=1", "display_name": "Tytire Recubans", "link": "https://stackoverflow.com/users/7475879/tytire-recubans"}, "edited": false, "score": 0, "creation_date": 1554388238, "post_id": 55517704, "comment_id": 97741665, "body": "any way we can get the output without those leading <code>_</code> ?"}], "tags": [], "owner": {"reputation": 6120, "user_id": 9214517, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uHHGLaUqJK4/AAAAAAAAAAI/AAAAAAAAAAA/EMWzo-f2N9c/photo.jpg?sz=128", "display_name": "adrtam", "link": "https://stackoverflow.com/users/9214517/adrtam"}, "is_accepted": true, "score": 1, "last_activity_date": 1554388643, "last_edit_date": 1554388643, "creation_date": 1554386010, "answer_id": 55517704, "question_id": 55504380, "link": "https://stackoverflow.com/questions/55504380/flatten-nested-dictionary-with-dictionary-embedded-in-lists-functional-python/55517704#55517704", "title": "flatten nested dictionary with dictionary embedded in lists (functional python)", "body": "<p>You are almost done, except you need a little more check on the condition:</p>\n\n<pre><code>def flatten(dict_, prefix):\n    for k, v in dict_.items():\n        if isinstance(v, list) and len(v)==1:\n            if isinstance(v[0], dict):\n                for key, value in flatten(v[0], prefix+k+\"_\"):\n                    yield key, value\n            else:\n                yield prefix+k+\"_0\", v[0]\n        elif isinstance(v, dict):\n            for key, value in flatten(v, prefix+k+\"_\"):\n                yield key, value\n        else:\n            yield prefix+k, v\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>dict_ = {'address': {'address_line_1': 'Floor Dekk House',\n  'address_line_2': 'Zippora Street Providence Industrial Estate',\n  'country': 'Seychelles',\n  'locality': 'Mahe',\n  'premises': '1st'},\n 'address_snippet': '1st, Floor Dekk House, Zippora Street Providence Industrial Estate, Mahe, Seychelles',\n 'appointment_count': 1,\n 'description': 'Total number of appointments 1',\n 'description_identifiers': ['appointment-count'],\n 'kind': 'searchresults#officer',\n 'links': {'self': '/officers/z7s5QUnhlYpAT8GvqvJ5snKmtHE/appointments'},\n 'matches': {'snippet': [], 'title': [1, 8, 10, 11]},\n 'snippet': '',\n 'title': 'ASTROCOM AG '}\n\nimport json\nprint(json.dumps(dict(list(flatten(dict_, \"\"))), indent=4))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n    \"address_address_line_1\": \"Floor Dekk House\",\n    \"address_address_line_2\": \"Zippora Street Providence Industrial Estate\",\n    \"address_country\": \"Seychelles\",\n    \"address_locality\": \"Mahe\",\n    \"address_premises\": \"1st\",\n    \"address_snippet\": \"1st, Floor Dekk House, Zippora Street Providence Industrial Estate, Mahe, Seychelles\",\n    \"appointment_count\": 1,\n    \"description\": \"Total number of appointments 1\",\n    \"description_identifiers_0\": \"appointment-count\",\n    \"kind\": \"searchresults#officer\",\n    \"links_self\": \"/officers/z7s5QUnhlYpAT8GvqvJ5snKmtHE/appointments\",\n    \"matches_snippet\": [],\n    \"matches_title\": [\n        1,\n        8,\n        10,\n        11\n    ],\n    \"snippet\": \"\",\n    \"title\": \"ASTROCOM AG \"\n}\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 7475879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143be98d547513de80f9e68876090561?s=128&d=identicon&r=PG&f=1", "display_name": "Tytire Recubans", "link": "https://stackoverflow.com/users/7475879/tytire-recubans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 55517704, "answer_count": 1, "score": 0, "last_activity_date": 1554388643, "creation_date": 1554326051, "last_edit_date": 1554385664, "question_id": 55504380, "link": "https://stackoverflow.com/questions/55504380/flatten-nested-dictionary-with-dictionary-embedded-in-lists-functional-python", "title": "flatten nested dictionary with dictionary embedded in lists (functional python)", "body": "<p>This questions has been asked many times - but only once with this special case and I could partially find an answer <a href=\"https://stackoverflow.com/questions/52081545/python-3-flattening-nested-dictionaries-and-lists-within-dictionaries\">here</a> but it flattens down to every object.</p>\n\n<p>I have this dictionary:</p>\n\n<pre><code>{'address': {'address_line_1': 'Floor Dekk House',\n  'address_line_2': 'Zippora Street Providence Industrial Estate',\n  'country': 'Seychelles',\n  'locality': 'Mahe',\n  'premises': '1st'},\n 'address_snippet': '1st, Floor Dekk House, Zippora Street Providence Industrial Estate, Mahe, Seychelles',\n 'appointment_count': 1,\n 'description': 'Total number of appointments 1',\n 'description_identifiers': ['appointment-count'],\n 'kind': 'searchresults#officer',\n 'links': {'self': '/officers/z7s5QUnhlYpAT8GvqvJ5snKmtHE/appointments'},\n 'matches': {'snippet': [], 'title': [1, 8, 10, 11]},\n 'snippet': '',\n 'title': 'ASTROCOM AG '}\n</code></pre>\n\n<p>As you can see <code>\"description_identifiers\"</code> and <code>\"matches.snippet\"</code> and <code>\"matches.title\" have a list as value. I'd like to edit my code below to flatten my dictionary so that the json is flattened in a</code>{key:value, key:value, key:value}` pair - but if the value is a list of atomic objects (not a list of lists or a list of dictionaries), the value is maintained as a list. </p>\n\n<p>The objective is so be able to upload then this json to postgresql. </p>\n\n<p>Here's some code i found online:</p>\n\n<pre><code>def flatten_json(dictionary):\n    \"\"\"Flatten a nested json file\"\"\"\n\n    def unpack(parent_key, parent_value):\n        \"\"\"Unpack one level of nesting in json file\"\"\"\n        # Unpack one level only!!!\n\n        if isinstance(parent_value, dict):\n            for key, value in parent_value.items():\n                temp1 = parent_key + '_' + key\n                yield temp1, value\n        elif isinstance(parent_value, list):\n            i = 0 \n            for value in parent_value:\n                temp2 = parent_key + '_' +str(i) \n                i += 1\n                yield temp2, value\n        else:\n            yield parent_key, parent_value    \n\n\n    # Keep iterating until the termination condition is satisfied\n    while True:\n        # Keep unpacking the json file until all values are atomic elements (not dictionary or list)\n        dictionary = dict(chain.from_iterable(starmap(unpack, dictionary.items())))\n        # Terminate condition: not any value in the json file is dictionary or list\n        if not any(isinstance(value, dict) for value in dictionary.values()) and \\\n           not any(isinstance(value, list) for value in dictionary.values()):\n            break\n\n    return dictionary\n</code></pre>\n\n<p>Desired output: </p>\n\n<p>And to test, this dict:\nShould <strong>not</strong> be (which is what I get now): </p>\n\n<pre><code>{'address_address_line_1': 'Floor Dekk House',\n 'address_address_line_2': 'Zippora Street Providence Industrial Estate',\n 'address_country': 'Seychelles',\n 'address_locality': 'Mahe',\n 'address_premises': '1st',\n 'address_snippet': '1st, Floor Dekk House, Zippora Street Providence Industrial Estate, Mahe, Seychelles',\n 'appointment_count': 1,\n 'description': 'Total number of appointments 1',\n 'description_identifiers_0': 'appointment-count',\n 'kind': 'searchresults#officer',\n 'links_self': '/officers/z7s5QUnhlYpAT8GvqvJ5snKmtHE/appointments',\n 'matches_title_0': 1,\n 'matches_title_1': 8,\n 'matches_title_2': 10,\n 'matches_title_3': 11,\n 'snippet': '',\n 'title': 'ASTROCOM AG '}\n</code></pre>\n\n<p>But <strong>rather</strong></p>\n\n<pre><code>{'address_address_line_1': 'Floor Dekk House',\n 'address_address_line_2': 'Zippora Street Providence Industrial Estate',\n 'address_country': 'Seychelles',\n 'address_locality': 'Mahe',\n 'address_premises': '1st',\n 'address_snippet': '1st, Floor Dekk House, Zippora Street Providence Industrial Estate, Mahe, Seychelles',\n 'appointment_count': 1,\n 'description': 'Total number of appointments 1',\n 'description_identifiers_0': 'appointment-count',\n 'kind': 'searchresults#officer',\n 'links_self': '/officers/z7s5QUnhlYpAT8GvqvJ5snKmtHE/appointments',\n 'matches_title': [1, 8, 10, 11]\n 'snippet': '',\n 'title': 'ASTROCOM AG '}\n</code></pre>\n"}, {"tags": ["python", "pandas", "seaborn"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554326469, "post_id": 55504361, "comment_id": 97715015, "body": "You can take any answer for xticklabels and replace the x by a y."}, {"owner": {"reputation": 2507, "user_id": 2741091, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2f5b0db70a69308bba55f416f78f9fc9?s=128&d=identicon&r=PG", "display_name": "ifly6", "link": "https://stackoverflow.com/users/2741091/ifly6"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554381227, "post_id": 55504361, "comment_id": 97736801, "body": "Tried that, <code>ax.set_yticklabels(rotation=90)</code> yields an error. Answer below, accepted, also notes and corrects for that."}], "answers": [{"comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1554330109, "post_id": 55505047, "comment_id": 97716227, "body": "The recommended way would rather be <code>ax.tick_params(axis=&quot;y&quot;, rotation=90)</code>. Which other answers use <code>set_yticklabels</code>?"}], "tags": [], "owner": {"reputation": 459, "user_id": 5705611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785ef5791366bc45fb0d8e780df84ffd?s=128&d=identicon&r=PG&f=1", "display_name": "Anshuman Dikhit", "link": "https://stackoverflow.com/users/5705611/anshuman-dikhit"}, "is_accepted": true, "score": 1, "last_activity_date": 1554329239, "creation_date": 1554329239, "answer_id": 55505047, "question_id": 55504361, "link": "https://stackoverflow.com/questions/55504361/rotate-y-axis-categorical-label-in-seaborn-plot/55505047#55505047", "title": "Rotate Y-axis categorical label in Seaborn plot?", "body": "<p>Most stackoverflow answers would recommend using <code>ax.set_yticklabels(rotation = 90)</code>, while this does work, it also requires you to provide the positional parameter <code>labels</code> (failing to provide this will give you a <code>TypeError</code>). I'd recommend using <code>plt.yticks(rotation = 90)</code>. This is how it'd look:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import seaborn as sns\nimport matplotlib.pyplot as plt\n\nsns.set(style=\"whitegrid\")\ntips = sns.load_dataset(\"tips\")\nax = sns.violinplot(y=\"day\", x=\"total_bill\", data=tips)\nplt.yticks(rotation = 90)\nplt.show(ax)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/boav4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/boav4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2507, "user_id": 2741091, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2f5b0db70a69308bba55f416f78f9fc9?s=128&d=identicon&r=PG", "display_name": "ifly6", "link": "https://stackoverflow.com/users/2741091/ifly6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 55505047, "answer_count": 1, "score": 0, "last_activity_date": 1554381156, "creation_date": 1554325971, "last_edit_date": 1554381156, "question_id": 55504361, "link": "https://stackoverflow.com/questions/55504361/rotate-y-axis-categorical-label-in-seaborn-plot", "title": "Rotate Y-axis categorical label in Seaborn plot?", "body": "<p>To borrow some default code with default libraries (extra helpful that you have to load the data explicitly, instead of having it polluting globals like in R...):</p>\n\n<pre><code>sns.set(style=\"whitegrid\")\ntips = sns.load_dataset(\"tips\")\nax = sns.violinplot(y=\"day\", x=\"total_bill\", data=tips)\n</code></pre>\n\n<p>This produces the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UInR6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UInR6.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to rotate the day of the week labels 90 degrees such that the baseline for those labels matches the word <code>day</code>, also on the Y axis.</p>\n\n<p>I've looked at the answers already here, but they seem primarily to deal with (1) the X axis and (2) the first-order Y-axis label (here, the <code>day</code> label) rather than the Y-axis sub-labels (here, the days of the week).</p>\n"}, {"tags": ["python", "string", "char"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1554326064, "post_id": 55504357, "comment_id": 97714866, "body": "You&#39;re applying the slice to every single character in turn..."}, {"owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "edited": false, "score": 2, "creation_date": 1554326107, "post_id": 55504357, "comment_id": 97714883, "body": "<code>print(s[0::2].upper())</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "is_accepted": false, "score": 0, "last_activity_date": 1554326152, "creation_date": 1554326152, "answer_id": 55504405, "question_id": 55504357, "link": "https://stackoverflow.com/questions/55504357/this-code-must-print-every-other-character-using-for-loops/55504405#55504405", "title": "This code must print every other character using for loops", "body": "<p>Try this:</p>\n\n<pre><code>s=input(\"Please enter a string: \")\nprint(s[0::2].upper())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1554327189, "creation_date": 1554327189, "answer_id": 55504631, "question_id": 55504357, "link": "https://stackoverflow.com/questions/55504357/this-code-must-print-every-other-character-using-for-loops/55504631#55504631", "title": "This code must print every other character using for loops", "body": "<p>You've used two iteration loops; the problem calls for only one.</p>\n\n<p>Your <code>for</code> loops through each character of the string.  For input \"hello\", it will loop five times.  <code>char</code> will take on the values <code>h</code>, <code>e</code>, <code>l</code>, <code>l</code>, <code>o</code> in that order.</p>\n\n<p>In the loop body, you've inserted an extra iteration: the string slice <code>[0::2]</code>.  First, this second iteration doesn't do anything useful for you.  Next, it's <em>wrong</em>, in that you applied it to <code>char</code>, which is a single character, not a string.</p>\n\n<p>You need to apply the alternate-character slicing to the <em>string</em>, not to each of the five characters.  Alternately, you can iterate through the five characters and print only the even-numbered ones.</p>\n\n<p>Slicing:</p>\n\n<pre><code>print(s[0::2].upper())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>HLO\n</code></pre>\n\n<p>Iteration:</p>\n\n<pre><code>for idx, char in enumerate(s):\n    if idx%2 == 0:\n        print(char.upper())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>H\nL\nO\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11296480, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G9tLMWs9dWo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc4T3SQD3EW6jQ8KOlgiQKJzrm7eg/mo/photo.jpg?sz=128", "display_name": "Erin Hwang", "link": "https://stackoverflow.com/users/11296480/erin-hwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1079, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554327189, "creation_date": 1554325952, "last_edit_date": 1554326072, "question_id": 55504357, "link": "https://stackoverflow.com/questions/55504357/this-code-must-print-every-other-character-using-for-loops", "title": "This code must print every other character using for loops", "body": "<p>Objective: print every other character from user-inputted string in uppercase values</p>\n\n<p>I inserted a slice but the code won't execute the way I want it to. </p>\n\n<pre><code>python\ns=input(\"Please enter a string: \")\nfor char in s:\n    print (char[0::2].upper())\n</code></pre>\n\n<p>If the user inputs hello, it should print:</p>\n\n<pre><code>H\nL\nO\n</code></pre>\n"}, {"tags": ["python", "regex", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 80, "user_id": 10784747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c65f1c595a898163353d5440948e57a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/10784747/tom"}, "edited": false, "score": 0, "creation_date": 1554326891, "post_id": 55504377, "comment_id": 97715141, "body": "Thank you for you answer,but  if there are three &quot;ha&quot; in the last,why does it throw only one &quot;ha&quot;?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 80, "user_id": 10784747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c65f1c595a898163353d5440948e57a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/10784747/tom"}, "edited": false, "score": 0, "creation_date": 1554327360, "post_id": 55504377, "comment_id": 97715308, "body": "@Tom  <code>(ha)*</code> matches 0 to n ha&#39;s - so the full match is <code>hahahaha</code> but you capture only one of them inside your grouping-parenthesis: your grouping only contains one <code>&#39;(ha)&#39;</code>. - change the pattern to <code>r&#39;((?:ha)*)&#39;</code> if you want all <code>ha</code> that are matched. When new to regex- use <a href=\"http://regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a>  and set the mode to python to experiment. It will even explain your patterns to you."}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 1, "last_activity_date": 1554326386, "last_edit_date": 1554326386, "creation_date": 1554326050, "answer_id": 55504377, "question_id": 55504331, "link": "https://stackoverflow.com/questions/55504331/in-python-regular-expression-why-cant-h-and-h-yield-same-result/55504377#55504377", "title": "in python regular expression,why can&#39;t (h)* and (h)+ yield same result?", "body": "<p>The pattern <code>r'h+'</code> and <code>r'h*'</code> are not identical, thats why they do not deliver the same result. <code>+</code> implies 1 or more matches of your pattern, <code>*</code> zero or more:</p>\n\n<p><code>re.search</code> returns \"nothing\" because it only looks at the <strong>first</strong> match. The <em>first</em> match for <code>*</code> is a zero occurence of your <code>'(ha)'</code> pattern at the first letter of your string:</p>\n\n<pre><code>import re\nx=re.compile(r'(ha)*')\nc=x.findall('the man know how to hahahaha')   # get _all_ matches\nprint(c) \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'ha', '']\n\n# t   h  e        m   a   n       k   n   o   w      h    o   w       t   o      hahahaha \n</code></pre>\n\n<p><code>*</code> and <code>?</code> quantifier allow 0 matches </p>\n\n<p>Doku:</p>\n\n<blockquote>\n  <p><strong>Pattern.search(string[, pos[, endpos]])</strong><br>\n  Scan through string looking for the <strong>first</strong> location where this regular expression produces a match, ...<br>\n  (source: <a href=\"https://docs.python.org/3/library/re.html#re.Pattern.search\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/re.html#re.Pattern.search</a>)</p>\n</blockquote>\n"}], "owner": {"reputation": 80, "user_id": 10784747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c65f1c595a898163353d5440948e57a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/10784747/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55504377, "answer_count": 1, "score": 2, "last_activity_date": 1554326386, "creation_date": 1554325850, "last_edit_date": 1554326327, "question_id": 55504331, "link": "https://stackoverflow.com/questions/55504331/in-python-regular-expression-why-cant-h-and-h-yield-same-result", "title": "in python regular expression,why can&#39;t (h)* and (h)+ yield same result?", "body": "<p>I  am learning the <code>re</code> module in python. I have found something that doean't make sense(to me) and i don't know why. Here is a small example,</p>\n\n<pre><code>x=re.compile(r'(ha)*')\nc=x.search('the man know how to hahahaha')\nprint(c.group())#output will be nothing,no error.But i expect \"hahahaha\"\n</code></pre>\n\n<p>same happens if i use <code>re.compile(r'(ha)?')</code>,</p>\n\n<pre><code>x=re.compile(r'(ha)?')\nc=x.search('the man know how to hahahaha')\nprint(c.group())#output will be nothing,no error.But i expect \"ha\". \n</code></pre>\n\n<p>But if i use <code>re.compile(r'(ha)+')</code>,</p>\n\n<pre><code>x=re.compile(r'(ha)+')\nc=x.search('the man know how to hahahaha')\nprint(c.group())#output will be `hahahaha`,just as expected.\n</code></pre>\n\n<p>Why is this,aren't <code>re.compile(r'(ha)*')</code> and <code>re.compile(r'(ha)+')</code> same in this case?</p>\n"}, {"tags": ["python", "gaussian", "naivebayes"], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 3896303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96a9197458389b22e1086e41ac3cab24?s=128&d=identicon&r=PG&f=1", "display_name": "Majaha", "link": "https://stackoverflow.com/users/3896303/majaha"}, "is_accepted": false, "score": 0, "last_activity_date": 1554326814, "creation_date": 1554326814, "answer_id": 55504549, "question_id": 55504298, "link": "https://stackoverflow.com/questions/55504298/when-i-run-my-gb-model-i-get-typeerror-object-of-type-categoricaldtype-has-n/55504549#55504549", "title": "When I run my GB model I get &quot;TypeError: object of type &#39;CategoricalDtype&#39; has no len()&quot;, what does this mean and how can i fix it?", "body": "<p>I don't fully understand your code, but len() is short for length. It seems like you're passing a categorical dataset to something that expects something that has a length, which a <code>CategoricalDType</code> doesn't have, apparently.</p>\n"}], "owner": {"reputation": 185, "user_id": 9996648, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QpdQ0ryiLPo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1pF9mxy_98AdtMc5xw1d05fDAnlQ/mo/photo.jpg?sz=128", "display_name": "Piper Ramirez", "link": "https://stackoverflow.com/users/9996648/piper-ramirez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554326814, "creation_date": 1554325698, "question_id": 55504298, "link": "https://stackoverflow.com/questions/55504298/when-i-run-my-gb-model-i-get-typeerror-object-of-type-categoricaldtype-has-n", "title": "When I run my GB model I get &quot;TypeError: object of type &#39;CategoricalDtype&#39; has no len()&quot;, what does this mean and how can i fix it?", "body": "<p>I want to run a gaussian model on my dataset that i had to bin into categories. Now that I run the code I recieve the error: TypeError: object of type 'CategoricalDtype' has no len()</p>\n\n<p>Not sure what this means or how I can fix it so that my model runs.</p>\n\n<p>I want to fix this errror so that I can run my naive model efficiently.[</p>\n\n<p><a href=\"https://i.stack.imgur.com/rIIX9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rIIX9.png\" alt=\"Dataset and dtypes\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/TaFY0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TaFY0.png\" alt=\"Output\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 955, "user_id": 6194143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1cd7ace9bb0ff64c8d1d0fccd7818a?s=128&d=identicon&r=PG&f=1", "display_name": "Tacratis", "link": "https://stackoverflow.com/users/6194143/tacratis"}, "edited": false, "score": 0, "creation_date": 1554325890, "post_id": 55504297, "comment_id": 97714795, "body": "if you add some example list with strings, and the desired output, it would be easier to help you"}, {"owner": {"reputation": 440, "user_id": 6047557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95e6e714cdc9f1c7d1df1d9398cad0e?s=128&d=identicon&r=PG&f=1", "display_name": "perennial_noob", "link": "https://stackoverflow.com/users/6047557/perennial-noob"}, "edited": false, "score": 0, "creation_date": 1554326975, "post_id": 55504297, "comment_id": 97715174, "body": "eda - @andreihondari&#39;s answer should be the accepted answer for your question."}], "answers": [{"comments": [{"owner": {"reputation": 540, "user_id": 108544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MrdvG.jpg?s=128&g=1", "display_name": "jmc", "link": "https://stackoverflow.com/users/108544/jmc"}, "edited": false, "score": 0, "creation_date": 1554326214, "post_id": 55504408, "comment_id": 97714922, "body": "I don&#39;t think this is what they wanted. This removes all &#39;a&#39; characters, not &#39;a&#39; space-separated tokens."}, {"owner": {"reputation": 410, "user_id": 6932854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1666674616977204/picture?type=large", "display_name": "Khan Saab", "link": "https://stackoverflow.com/users/6932854/khan-saab"}, "edited": false, "score": 0, "creation_date": 1554326321, "post_id": 55504408, "comment_id": 97714954, "body": "How python deals with list of items? When you replace it with empty string , is it removed from memory or or simply concatenated? Just want to know as i program in Java."}, {"owner": {"reputation": 4323, "user_id": 1720199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cODPq.jpg?s=128&g=1", "display_name": "cglacet", "link": "https://stackoverflow.com/users/1720199/cglacet"}, "edited": false, "score": 1, "creation_date": 1554326433, "post_id": 55504408, "comment_id": 97715001, "body": "I agree that <code>.replace(&#39; a &#39;, &#39; &#39;)</code> is probably what is wanted here."}], "tags": [], "owner": {"reputation": 892, "user_id": 8303192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c141f49d6aad311edd51ae750270783e?s=128&d=identicon&r=PG&f=1", "display_name": "Jacinator", "link": "https://stackoverflow.com/users/8303192/jacinator"}, "is_accepted": false, "score": 0, "last_activity_date": 1554326503, "last_edit_date": 1554326503, "creation_date": 1554326172, "answer_id": 55504408, "question_id": 55504297, "link": "https://stackoverflow.com/questions/55504297/remove-a-string-in-list/55504408#55504408", "title": "remove a string in list", "body": "<p>If I understand you properly this should accomplish what you're trying to do.</p>\n\n<pre><code>for i in l1:\n    if 'a' in i[1]:\n        i[1] = i[1].replace(' a ', ' ')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 540, "user_id": 108544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MrdvG.jpg?s=128&g=1", "display_name": "jmc", "link": "https://stackoverflow.com/users/108544/jmc"}, "is_accepted": false, "score": 2, "last_activity_date": 1554326369, "creation_date": 1554326369, "answer_id": 55504452, "question_id": 55504297, "link": "https://stackoverflow.com/questions/55504297/remove-a-string-in-list/55504452#55504452", "title": "remove a string in list", "body": "<p>You can't mutate the string, so your example won't work.\nBut you can mutate lists, so you could split the string on whitespace, ignore <code>'a'</code> tokens and join it back together again:</p>\n\n<pre><code>for i in l1:\n    i[1] = ' '.join(p for p in i[1].split() if p != 'a')\n</code></pre>\n\n<p>This would eat any extra whitespace in the original string, but I'm assuming that's not a concern for you here.</p>\n"}, {"comments": [{"owner": {"reputation": 440, "user_id": 6047557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95e6e714cdc9f1c7d1df1d9398cad0e?s=128&d=identicon&r=PG&f=1", "display_name": "perennial_noob", "link": "https://stackoverflow.com/users/6047557/perennial-noob"}, "edited": false, "score": 0, "creation_date": 1554326852, "post_id": 55504483, "comment_id": 97715127, "body": "This should be the accepted answer because this basically splits lines into words and ignores any word that is &#39;a&#39;. The others will work only if &#39;a&#39; is in the middle of the sentence. Not for something like &#39;A dog is a man&#39;s best friend&#39;."}, {"owner": {"reputation": 540, "user_id": 108544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MrdvG.jpg?s=128&g=1", "display_name": "jmc", "link": "https://stackoverflow.com/users/108544/jmc"}, "reply_to_user": {"reputation": 440, "user_id": 6047557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95e6e714cdc9f1c7d1df1d9398cad0e?s=128&d=identicon&r=PG&f=1", "display_name": "perennial_noob", "link": "https://stackoverflow.com/users/6047557/perennial-noob"}, "edited": false, "score": 0, "creation_date": 1554326980, "post_id": 55504483, "comment_id": 97715177, "body": "@perennial_noob have you tried running mine? It&#39;ll work just fine (with the caveat of not handling the case insensitive match as that wasn&#39;t part of the requirement)"}, {"owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "reply_to_user": {"reputation": 540, "user_id": 108544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MrdvG.jpg?s=128&g=1", "display_name": "jmc", "link": "https://stackoverflow.com/users/108544/jmc"}, "edited": false, "score": 0, "creation_date": 1554327065, "post_id": 55504483, "comment_id": 97715205, "body": "@jmc I like your answer, very elegant"}, {"owner": {"reputation": 440, "user_id": 6047557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95e6e714cdc9f1c7d1df1d9398cad0e?s=128&d=identicon&r=PG&f=1", "display_name": "perennial_noob", "link": "https://stackoverflow.com/users/6047557/perennial-noob"}, "edited": false, "score": 0, "creation_date": 1554327349, "post_id": 55504483, "comment_id": 97715299, "body": "Upvoted it. I wasn&#39;t concerned about the case match as well. That can be easily fixed."}], "tags": [], "owner": {"reputation": 5431, "user_id": 858565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0630fef08c0e97da592f624c69b446f7?s=128&d=identicon&r=PG", "display_name": "andreihondrari", "link": "https://stackoverflow.com/users/858565/andreihondrari"}, "is_accepted": true, "score": 1, "last_activity_date": 1554326488, "creation_date": 1554326488, "answer_id": 55504483, "question_id": 55504297, "link": "https://stackoverflow.com/questions/55504297/remove-a-string-in-list/55504483#55504483", "title": "remove a string in list", "body": "<p>This following code:</p>\n\n<pre><code>l1 = [\n    [None, \"This is a dog\"],\n    [None, \"He is a tall man\"],\n]\n\nfor i in l1:\n    sentence = i[1]\n    new_sentence = []\n    for word in sentence.split():\n        if word == 'a':\n            continue\n        new_sentence.append(word)\n\n    i[1] = \" \".join(new_sentence)\n\nprint(l1)\n</code></pre>\n\n<p>will result in</p>\n\n<pre><code>[\n    [None, 'This is dog'], \n    [None, 'He is tall man']\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 324, "user_id": 6792471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuIrd.jpg?s=128&g=1", "display_name": "Bas", "link": "https://stackoverflow.com/users/6792471/bas"}, "is_accepted": false, "score": 0, "last_activity_date": 1554328750, "creation_date": 1554328750, "answer_id": 55504958, "question_id": 55504297, "link": "https://stackoverflow.com/questions/55504297/remove-a-string-in-list/55504958#55504958", "title": "remove a string in list", "body": "<p>A solution a little bit more efficient I think:</p>\n\n<pre><code>word_search = 'a'\nfor i in l1:\n    split_sentence = i[1].split()\n    if word_search in split_sentence:\n        while word_search in split_sentence:\n            split_sentence.remove(word_search)\n        i[1] = ' '.join(split_sentence)\n</code></pre>\n\n<p>This solution doesn't loop through the sentence and doesn't do the join in case the searched word is not found in the sentence.\nThis depends on the frequency of the searched word in all the sentences I guess.</p>\n"}], "owner": {"reputation": 55, "user_id": 11259805, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rVMGie9pomg/AAAAAAAAAAI/AAAAAAAACeE/RhKNPIKXnkE/photo.jpg?sz=128", "display_name": "eda", "link": "https://stackoverflow.com/users/11259805/eda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 55504483, "answer_count": 4, "score": 0, "last_activity_date": 1554328750, "creation_date": 1554325698, "last_edit_date": 1554326202, "question_id": 55504297, "link": "https://stackoverflow.com/questions/55504297/remove-a-string-in-list", "title": "remove a string in list", "body": "<p>I have a nested list (l1) containing several lists of sentences (i) and I want to remove a particular string from the second element in (i) when the split() method is applied to it. However it seems that only half of them are removed and the rest remain. </p>\n\n<p>This is what I have tried:</p>\n\n<pre><code>for i in l1:\n    for j in i[1].split():\n        if j == 'a':\n            i[1].split().remove(j)\n</code></pre>\n\n<p>I have also tried to replace (j) with an empty string, but it wasn't helpful either.</p>\n\n<p>example input: [[string1, This is a book], [string2, He is a tall man], ,,,]</p>\n\n<p>example output: \nThis is book, He is tall man</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11307696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0998b754d4709f4431760d0eea13402a?s=128&d=identicon&r=PG&f=1", "display_name": "hR_Der", "link": "https://stackoverflow.com/users/11307696/hr-der"}, "edited": false, "score": 0, "creation_date": 1554368187, "post_id": 55504638, "comment_id": 97728578, "body": "Thanks for your answer! the person is random not only mark and  the users information is in a file. i must first transfer the users from file to dict."}, {"owner": {"reputation": 8927, "user_id": 873237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a65e45868133e22844e788803e1773b?s=128&d=identicon&r=PG", "display_name": "JBirdVegas", "link": "https://stackoverflow.com/users/873237/jbirdvegas"}, "reply_to_user": {"reputation": 1, "user_id": 11307696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0998b754d4709f4431760d0eea13402a?s=128&d=identicon&r=PG&f=1", "display_name": "hR_Der", "link": "https://stackoverflow.com/users/11307696/hr-der"}, "edited": false, "score": 0, "creation_date": 1554375635, "post_id": 55504638, "comment_id": 97733166, "body": "The file you posted is not a dict. It&#39;s a tuple. A dict would require encapsulation with <code>{}</code> you would need to cook the data to get a dict from that format.  Regex is a really bad way to find json values and will only lead to hating regex for good reason."}], "tags": [], "owner": {"reputation": 8927, "user_id": 873237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a65e45868133e22844e788803e1773b?s=128&d=identicon&r=PG", "display_name": "JBirdVegas", "link": "https://stackoverflow.com/users/873237/jbirdvegas"}, "is_accepted": false, "score": 0, "last_activity_date": 1554327217, "creation_date": 1554327217, "answer_id": 55504638, "question_id": 55504282, "link": "https://stackoverflow.com/questions/55504282/how-to-find-if-username-exist-inside-a-file-in-python/55504638#55504638", "title": "How to find if username exist inside a file in Python", "body": "<pre><code>&gt;&gt;&gt; user_props = {'user': 'mark', 'age': '20', 'city': ' london '},\n{'user': 'jason', 'age': '28', 'city': ' london '},\n{'user': 'john', 'age': '25', 'city': ' london '},\n{'user': 'pit', 'age': '24', 'city': ' london '}\n&gt;&gt;&gt; # to find the person\n&gt;&gt;&gt; for person in user_props:\n       user_name = person.get('user')\n       if user_name and user_name == 'mark':\n           print(person)\n{'user': 'mark', 'age': '20', 'city': ' london '}\n&gt;&gt;&gt; # just check if mark is a user\n&gt;&gt;&gt; any([it for it in user_props if it.get('user') is 'mark'])\nTrue\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 11307696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0998b754d4709f4431760d0eea13402a?s=128&d=identicon&r=PG&f=1", "display_name": "hR_Der", "link": "https://stackoverflow.com/users/11307696/hr-der"}, "edited": false, "score": 0, "creation_date": 1554368360, "post_id": 55505173, "comment_id": 97728679, "body": "thanks for te answer! The file it must remain the same as i post it and i can&#39;t use any module only (regex if i want)"}, {"owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "reply_to_user": {"reputation": 1, "user_id": 11307696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0998b754d4709f4431760d0eea13402a?s=128&d=identicon&r=PG&f=1", "display_name": "hR_Der", "link": "https://stackoverflow.com/users/11307696/hr-der"}, "edited": false, "score": 0, "creation_date": 1554387308, "post_id": 55505173, "comment_id": 97741001, "body": "@hR_Der in that case, sort the list of names before searching them and then create your own binary search. However, if it&#39;s just a small file going through each user might work just as fast so (badly) load the file into a variable using <code>eval</code> and then loop through them instead of doing a split or something."}], "tags": [], "owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "is_accepted": false, "score": 0, "last_activity_date": 1554388626, "last_edit_date": 1554388626, "creation_date": 1554330037, "answer_id": 55505173, "question_id": 55504282, "link": "https://stackoverflow.com/questions/55504282/how-to-find-if-username-exist-inside-a-file-in-python/55505173#55505173", "title": "How to find if username exist inside a file in Python", "body": "<p>You're going to want to do a binary search as this will be the fastest for searching a file of say usernames. For more information on a binary search look at <a href=\"https://docs.python.org/3.7/library/bisect.html\" rel=\"nofollow noreferrer\">this library</a> for Python and <a href=\"https://www.geeksforgeeks.org/binary-search/\" rel=\"nofollow noreferrer\">this article</a>. Another more purely vanilla Python way would be to load in the JSON and then loop through each user. </p>\n\n<h2>(Bad) Way</h2>\n\n<p>We load in the JSON with either an eval or the JSON library. Since you don't want to use other modules we'll use an eval. This is bad for many reasons mainly security and bugs that can break the program. </p>\n\n<pre><code>with open(\"users.txt\") as f_in:\n  eval(\"data=\"+f_in.read())\n</code></pre>\n\n<p>Now that we have the \"JSON\" loaded in a variable, <code>data</code>, we can loop through the list of dictionaries and test for your user. </p>\n\n<pre><code>for u in data:\n  if u[\"user\"] == user:\n    print(\"Found user: \"+str (u))\n    break\n</code></pre>\n\n<hr>\n\n<h2>Binary Search Method</h2>\n\n<p>One of the first things you'll want to do is sort the file, also making it either CSV or JSON will help rather than just plain text. I think CSV is best in this case so we'll create a <code>users.csv</code> file with the following content.</p>\n\n<pre><code>user,age,city\njason,28,london\njohn,25,london\nmark,20,london\npit,24,london\n</code></pre>\n\n<p>And then our Python code will load the file and get the first column of user names. The most efficient way to do the binary search would be to keep the usernames sorted from the start. So when appending a name to the file or list of users you must insert it at the correct index such that the list will be sorted.</p>\n\n<pre><code>import csv\nimport pandas as pd\nfrom bisect import bisect_left\n\nwith open(\"users.csv\") as f_in:\n    df = pd.read_csv(f_in)\n    f_in.seek(0)\n    rows = [r for r in csv.reader(f_in)]\n\npos = bisect_left(df.name, user)\npos = pos if pos != len(df.name) and df.name[pos] == user else -1\n\nif pos &lt; 0:\n    print(\"The user was not found.\")\nelse:\n    properties = \"\\n\".join([x for x in rows[pos+1]])\n    print(f\"User: {user} was found with properties:\\n{properties}\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11307696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0998b754d4709f4431760d0eea13402a?s=128&d=identicon&r=PG&f=1", "display_name": "hR_Der", "link": "https://stackoverflow.com/users/11307696/hr-der"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554388626, "creation_date": 1554325627, "last_edit_date": 1554368398, "question_id": 55504282, "link": "https://stackoverflow.com/questions/55504282/how-to-find-if-username-exist-inside-a-file-in-python", "title": "How to find if username exist inside a file in Python", "body": "<p>I have created an archive(usersfile.txt) that contains the users information,\ni want when i insert the username, if the username exist in the file return that the user exists and to refer me to the profile of the user(the profile is ok).\u03a4he problem is that i cannot find the user in the file.</p>\n\n<p>The file is like:</p>\n\n<pre><code>{'user': 'mark', 'age': '20', 'city': ' london '},\n{'user': 'jason', 'age': '28', 'city': ' london '},\n{'user': 'john', 'age': '25', 'city': ' london '},\n{'user': 'pit', 'age': '24', 'city': ' london '}\n</code></pre>\n\n<p>When i insert the first username ('mark) it works but when i insert the other usernames doesn't work.any suggestion?</p>\n\n<p>is it better to do it with regex?(but i don't know how)</p>\n\n<pre><code>username = input('Enter Username:')\n\n   with open(usersfile.txt, 'r', encoding = 'utf-8') as f :\n    userfiles=[]\n    for userf in f:\n      userf = userf.split()\n      userfiles.append(userf)\n\n   for names in userfiles:\n    if username in names:\n      print('User {} exist :'.format(username))\n      UserProfile()\n      return True\n    else:\n      print('User {} doesn't exist :'.format(username))\n      return False\n</code></pre>\n"}, {"tags": ["python", "ironpython", "autodesk", "revit-api", "revit"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11187166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0adbd9a2781d7f139b2633abde8be7b?s=128&d=identicon&r=PG&f=1", "display_name": "r.schmitt", "link": "https://stackoverflow.com/users/11187166/r-schmitt"}, "edited": false, "score": 0, "creation_date": 1554487942, "post_id": 55511853, "comment_id": 97785659, "body": "I see what happened now, the error I was getting referred to a &quot;Reference object&quot; in a general sense... not the Autodesk.Revit.DB.Reference object I assumed it was, the debugging environment for python within dynamo is not the best.  I was creating the point input for IndependentTag.Create poorly.  You are correct, you can feed Reference a Wall object just fine!"}], "tags": [], "owner": {"reputation": 4995, "user_id": 3552305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JBEc.png?s=128&g=1", "display_name": "Jeremy Tammik", "link": "https://stackoverflow.com/users/3552305/jeremy-tammik"}, "is_accepted": true, "score": 0, "last_activity_date": 1554368447, "creation_date": 1554368447, "answer_id": 55511853, "question_id": 55504273, "link": "https://stackoverflow.com/questions/55504273/cast-net-object-to-another-net-object-in-ironpython-dynamo/55511853#55511853", "title": "Cast .Net object to another .Net object in IronPython, Dynamo", "body": "<p>In C#, if <code>wall</code> is of class <code>Wall</code> and that inherits from <code>Element</code>, there is no need to cast <code>wall</code> to <code>Element</code>. You can just use <code>wall</code> as is. It is already a <code>Wall</code> and therefore also an <code>Element</code>. I would assume the same applies in Python. I suggest you post a code snippet for better understanding.</p>\n"}], "owner": {"reputation": 43, "user_id": 11187166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0adbd9a2781d7f139b2633abde8be7b?s=128&d=identicon&r=PG&f=1", "display_name": "r.schmitt", "link": "https://stackoverflow.com/users/11187166/r-schmitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 55511853, "answer_count": 1, "score": -1, "last_activity_date": 1554474043, "creation_date": 1554325593, "last_edit_date": 1554474043, "question_id": 55504273, "link": "https://stackoverflow.com/questions/55504273/cast-net-object-to-another-net-object-in-ironpython-dynamo", "title": "Cast .Net object to another .Net object in IronPython, Dynamo", "body": "<ul>\n<li>the revit API IndependentTag.Create() method requires a Reference object as one of its inputs</li>\n<li>A Reference object is instantiated with a revit Element object</li>\n<li>I have bunch of revit Wall objects which inherit from the Element class</li>\n<li>in C# I can simply say:<code>Reference ref = new Reference(wall as Element);</code></li>\n<li>clr.Convert does not cast correctly, just returns the object as a Wall again</li>\n<li><code>ref = Reference(wall)</code> in python gives an exception that the reference cannot be used</li>\n</ul>\n\n<p>Can one cast a .Net object to its parent object in python (iron python)?\nI am trying to bandage up someone's dynamo/python script and that one object is mucking it up</p>\n"}, {"tags": ["python", "docker", "docker-for-windows"], "comments": [{"owner": {"reputation": 15215, "user_id": 2947378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOIbE.jpg?s=128&g=1", "display_name": "rdas", "link": "https://stackoverflow.com/users/2947378/rdas"}, "edited": false, "score": 0, "creation_date": 1554325455, "post_id": 55504199, "comment_id": 97714644, "body": "Is your flask app listening on localhost by any chance? I think that&#39;s the default behaviour for flask"}, {"owner": {"reputation": 1421, "user_id": 191318, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e522056f372b66b4a8e06b4a07b611df?s=128&d=identicon&r=PG&f=1", "display_name": "VInayK", "link": "https://stackoverflow.com/users/191318/vinayk"}, "reply_to_user": {"reputation": 15215, "user_id": 2947378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOIbE.jpg?s=128&g=1", "display_name": "rdas", "link": "https://stackoverflow.com/users/2947378/rdas"}, "edited": false, "score": 0, "creation_date": 1554325566, "post_id": 55504199, "comment_id": 97714684, "body": "I have set my host in python file like this appMainInstance.run(host=&quot;0.0.0.0&quot;, port=int(&quot;5000&quot;), debug=True)"}, {"owner": {"reputation": 15215, "user_id": 2947378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOIbE.jpg?s=128&g=1", "display_name": "rdas", "link": "https://stackoverflow.com/users/2947378/rdas"}, "edited": false, "score": 0, "creation_date": 1554325645, "post_id": 55504199, "comment_id": 97714701, "body": "Docker file might shed some light on the issue"}], "answers": [{"tags": [], "owner": {"reputation": 1421, "user_id": 191318, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e522056f372b66b4a8e06b4a07b611df?s=128&d=identicon&r=PG&f=1", "display_name": "VInayK", "link": "https://stackoverflow.com/users/191318/vinayk"}, "is_accepted": false, "score": 0, "last_activity_date": 1554332207, "creation_date": 1554332207, "answer_id": 55505501, "question_id": 55504199, "link": "https://stackoverflow.com/questions/55504199/unable-to-connect-to-docker-container-python-flask-app-on-a-windows-server-2016/55505501#55505501", "title": "unable to connect to docker container python flask app on a windows server 2016", "body": "<p>from host machine instead of 127.0.0.1 ( localhost) i have used VM IP address then my PythonFlask App started responding. Not sure why it is not able to access with 127.0.0.1(localhost)</p>\n"}], "owner": {"reputation": 1421, "user_id": 191318, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e522056f372b66b4a8e06b4a07b611df?s=128&d=identicon&r=PG&f=1", "display_name": "VInayK", "link": "https://stackoverflow.com/users/191318/vinayk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554332207, "creation_date": 1554325261, "question_id": 55504199, "link": "https://stackoverflow.com/questions/55504199/unable-to-connect-to-docker-container-python-flask-app-on-a-windows-server-2016", "title": "unable to connect to docker container python flask app on a windows server 2016", "body": "<p>I have a simple Python Flask based application in a docker image and I created a container with port mapping </p>\n\n<p><strong>docker run --name MypyFlskApp -p 5010:5000 flask-crud-rest-app</strong></p>\n\n<p>when i try to access MypyFlskApp container from host machine (\"<a href=\"http://127.0.0.1:5010\" rel=\"nofollow noreferrer\">http://127.0.0.1:5010</a>\") i am getting error \"Unable to connect to the remote server\" but when i find container IP(<a href=\"http://172.19.247.234:5000\" rel=\"nofollow noreferrer\">http://172.19.247.234:5000</a>) and tried the same then i get the response.</p>\n\n<p>not sure why the port mapping is not working.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1554326090, "post_id": 55504304, "comment_id": 97714878, "body": "Since you&#39;ve linked to that question, I also recommend going through <a href=\"https://stackoverflow.com/a/54358361/4909087\">my answer</a> to that question."}, {"owner": {"reputation": 2178, "user_id": 7006570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8774bedf434fe2f810864be99257f98a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/7006570/kevin-wang"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554326672, "post_id": 55504304, "comment_id": 97715069, "body": "wow, that&#39;s a thorough answer. Reading it made me realize that my answer here is incorrect, since <code>foo &lt; train[&#39;y&#39;] &lt; bar</code> will be translated into <code>foo &lt; train[&#39;y&#39;] and train[&#39;y&#39;] &lt; bar</code>."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1554326880, "post_id": 55504304, "comment_id": 97715136, "body": "You can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.between.html\" rel=\"nofollow noreferrer\"><code>Series.between</code></a> instead."}], "tags": [], "owner": {"reputation": 2178, "user_id": 7006570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8774bedf434fe2f810864be99257f98a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/7006570/kevin-wang"}, "is_accepted": false, "score": 2, "last_activity_date": 1554326909, "last_edit_date": 1554326909, "creation_date": 1554325719, "answer_id": 55504304, "question_id": 55504191, "link": "https://stackoverflow.com/questions/55504191/create-a-boolean-column-based-on-a-condition/55504304#55504304", "title": "Create a Boolean column based on a condition", "body": "<p>I'm not sure you even need <code>np.where</code> here.  To element-wise <code>and</code> two series, use <code>&amp;</code> here instead of <code>and</code>.  See: <a href=\"https://stackoverflow.com/questions/21415661/logical-operators-for-boolean-indexing-in-pandas\">Logical operators for boolean indexing in Pandas</a></p>\n\n<p>Also, <code>3750901.5068 &lt;= train[\"x\"] &lt;= 3770901.5068</code> seems to be internally translated by python into <code>(3750901.5068 &lt;= train[\"x\"]) and (train[\"x\"] &lt;= 3770901.5068)</code>, which again, has <code>and</code> and won't work.  So you'll need to either explicitly split each one up into e.g. <code>(3750901.5068 &lt;= train[\"x\"]) &amp; (train[\"x\"] &lt;= 3770901.5068)</code> or use <code>Series.between</code> e.g. <code>train[\"x\"].between(3750901.5068, 3770901.5068, inclusive=True)</code>.  See: <a href=\"https://stackoverflow.com/questions/31617845/how-to-select-rows-in-a-dataframe-between-two-values-in-python-pandas\">How to select rows in a DataFrame between two values, in Python Pandas?</a></p>\n\n<p>You'll also need parentheses for the two arguments to <code>&amp;</code>.</p>\n\n<p>So the end result should look like </p>\n\n<p><code>train[\"location\"] = train[\"x\"].between(3750901.5068, 3770901.5068, inclusive=True) &amp; train['y'].between(-19268905.6133, -19208905.6133, inclusive=True)</code></p>\n\n<p>This will give you a series of bools (Trues and Falses).  These are already just 0s and 1s under-the-hood.  If you really want 0s and 1s, you can pick a solution from <a href=\"https://stackoverflow.com/questions/17383094/how-can-i-map-true-false-to-1-0-in-a-pandas-dataframe\">here</a>.  For example, <code>train.location = train.location.astype(int)</code></p>\n"}, {"tags": [], "owner": {"reputation": 1121, "user_id": 6084964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67805069c633399266ffd4a4f5063536?s=128&d=identicon&r=PG&f=1", "display_name": "Kartikeya Sharma", "link": "https://stackoverflow.com/users/6084964/kartikeya-sharma"}, "is_accepted": false, "score": 2, "last_activity_date": 1554326150, "creation_date": 1554326150, "answer_id": 55504403, "question_id": 55504191, "link": "https://stackoverflow.com/questions/55504191/create-a-boolean-column-based-on-a-condition/55504403#55504403", "title": "Create a Boolean column based on a condition", "body": "<p>You can use pandas.DataFrame.isin which will be a better solution. Also yes you need parenthesis and &amp; instead of \"and\" . Documentation for pandas.DataFrame.isin <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.isin.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.isin.html</a></p>\n\n<p>For example:</p>\n\n<pre><code>df=pd.DataFrame({'a':[100,110,120,111,109],'b':[120,345,124,119,127]})\ndf['c']=np.where((df['a'].isin([100,111])) &amp; (df['b'].isin([120,128])),1,0)\n</code></pre>\n\n<p>In your case it would be:</p>\n\n<pre><code>train[\"location\"]=np.where(((train[\"x\"].isin([3750901.5068,3770901.5069])) &amp; (train[\"y\"].isin([-19268905.6133,-19268905.6132])),1,0)\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 10783090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e28c540bef857d3328539f03f9d6667?s=128&d=identicon&r=PG&f=1", "display_name": "principe", "link": "https://stackoverflow.com/users/10783090/principe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5457, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554327417, "creation_date": 1554325235, "last_edit_date": 1554327417, "question_id": 55504191, "link": "https://stackoverflow.com/questions/55504191/create-a-boolean-column-based-on-a-condition", "title": "Create a Boolean column based on a condition", "body": "<p>I have a dataframe of 11 columns and I want to create a new 0,1 column based on values in two of those columns.</p>\n\n<p>I have already tried using np.where to create other columns but it doesnt work for this one.</p>\n\n<pre><code>train[\"location\"] = np.where(3750901.5068 &lt;= train[\"x\"] &lt;= 3770901.5068 \nand -19268905.6133 &lt;= train['y'] &lt;= -19208905.6133, 1, 0)\n</code></pre>\n\n<p>I get this error: ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 253, "user_id": 5524775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ITAm.jpg?s=128&g=1", "display_name": "Andry", "link": "https://stackoverflow.com/users/5524775/andry"}, "edited": false, "score": 0, "creation_date": 1554325333, "post_id": 55504177, "comment_id": 97714604, "body": "np.sum(np.linalg.solve(a,b))"}], "answers": [{"tags": [], "owner": {"reputation": 1526, "user_id": 10484131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw40h.png?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/10484131/felix"}, "is_accepted": false, "score": 3, "last_activity_date": 1554325312, "creation_date": 1554325312, "answer_id": 55504213, "question_id": 55504177, "link": "https://stackoverflow.com/questions/55504177/adding-values-from-a-system-of-equations/55504213#55504213", "title": "Adding values from a system of equations", "body": "<p>Use the following program to compute the sum:</p>\n\n<pre><code>print(sum(np.linalg.solve(a,b)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5405, "user_id": 2400117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFJ22.jpg?s=128&g=1", "display_name": "Diogo Rocha", "link": "https://stackoverflow.com/users/2400117/diogo-rocha"}, "is_accepted": false, "score": 0, "last_activity_date": 1554325602, "creation_date": 1554325602, "answer_id": 55504277, "question_id": 55504177, "link": "https://stackoverflow.com/questions/55504177/adding-values-from-a-system-of-equations/55504277#55504277", "title": "Adding values from a system of equations", "body": "<p>You can use <code>numpy.sum</code> <a href=\"https://stackoverflow.com/a/10922744/2400117\">which is faster</a> for <code>numpy</code> arrays.</p>\n\n<pre><code>import numpy as np\na = np.array([[1, -0.15],[-0.1,1]])\nb = np.array([10000, 18000])\nprint(np.linalg.solve(a,b).sum())\n</code></pre>\n\n<p>Output: <code>32182.7411168</code></p>\n"}], "owner": {"reputation": 37, "user_id": 11014535, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3lcA2EvNV4U/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPATVpf6_e4zFFQjScobdSsvnFbWA/mo/photo.jpg?sz=128", "display_name": "haydee rodriguez", "link": "https://stackoverflow.com/users/11014535/haydee-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554328232, "creation_date": 1554325175, "last_edit_date": 1554328232, "question_id": 55504177, "link": "https://stackoverflow.com/questions/55504177/adding-values-from-a-system-of-equations", "title": "Adding values from a system of equations", "body": "<p>I have this code:</p>\n\n<pre><code>import numpy as np\na = np.array([[1, -0.15],[-0.1,1]])\nb = np.array([10000, 18000])\nprint(np.linalg.solve(a,b))\n</code></pre>\n\n<p>It gives me these value outputs which are correct:</p>\n\n<pre><code>[12893.40101523 19289.34010152]\n</code></pre>\n\n<p>I need a code that will add these two values together.</p>\n"}, {"tags": ["python", "python-3.x", "list", "list-comprehension"], "answers": [{"tags": [], "owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "is_accepted": true, "score": 1, "last_activity_date": 1554325630, "last_edit_date": 1554325630, "creation_date": 1554325273, "answer_id": 55504206, "question_id": 55504113, "link": "https://stackoverflow.com/questions/55504113/using-a-list-of-lists-to-filter-a-list-of-lists/55504206#55504206", "title": "Using a list of lists to filter a list of lists", "body": "<p>You can use this list comprehension:</p>\n\n<pre><code>records = [['eggs', 'milk', 'butter'], ['ham', 'spam', 'milk'], ['cereal', 'skittles']]\n\nlist_of_rules = [['milk', 'eggs'], ['milk','ham']]\n\nresults = [L for L in records if any(set(R).issubset(L) for R in list_of_rules)]\n\nprint(results) # =&gt; [['eggs', 'milk', 'butter'], ['ham', 'spam', 'milk']]\n</code></pre>\n\n<p>It loops for each list of records <code>L</code> and checks whether there exists at least one list of rules <code>R</code> (using the built-in function <a href=\"https://docs.python.org/3/library/functions.html#any\" rel=\"nofollow noreferrer\"><code>any</code></a>) such that <code>R</code> is included in <code>L</code> (using the set method <a href=\"https://docs.python.org/3/library/stdtypes.html#frozenset.issubset\" rel=\"nofollow noreferrer\"><code>issubset</code></a>).</p>\n"}, {"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1554325292, "creation_date": 1554325292, "answer_id": 55504210, "question_id": 55504113, "link": "https://stackoverflow.com/questions/55504113/using-a-list-of-lists-to-filter-a-list-of-lists/55504210#55504210", "title": "Using a list of lists to filter a list of lists", "body": "<p>You can use a <code>list</code> of <code>sets</code> of rules and demand that any rule <a href=\"https://docs.python.org/3.7/library/stdtypes.html#frozenset.intersection\" rel=\"nofollow noreferrer\">intersection</a>'ed with a inner list is identical to the <code>set</code> (i.e. <em>all</em> items in the set are also present in the inner list):</p>\n\n<pre><code>records = [['eggs', 'milk', 'butter'], ['ham', 'spam', 'milk'], ['cereal', 'skittles']]\n\nlist_of_rules = [{'milk', 'eggs'}, {'milk','ham'}]\n\n# this list comprehension only filters for exact matches\n\n# take the full inner list if all things in any rule are in this inner list\nresults = [ x for x in records if any( p.intersection(x) == p for p in list_of_rules)  \nprint(results)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['eggs', 'milk', 'butter'], ['ham', 'spam', 'milk']]\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 11307959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3afa5a4e077c95c851d38e36cdf24443?s=128&d=identicon&r=PG&f=1", "display_name": "tvuk", "link": "https://stackoverflow.com/users/11307959/tvuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 1, "accepted_answer_id": 55504206, "answer_count": 2, "score": 2, "last_activity_date": 1554325816, "creation_date": 1554324939, "last_edit_date": 1554325816, "question_id": 55504113, "link": "https://stackoverflow.com/questions/55504113/using-a-list-of-lists-to-filter-a-list-of-lists", "title": "Using a list of lists to filter a list of lists", "body": "<p>I have two lists of lists, one that includes all records e.g. <code>[['eggs', 'milk', 'butter'], ['ham', 'spam', 'milk'], ['cereal', 'skittles']]</code> and one that contains rules <code>[['milk', 'eggs'], ['milk','ham']]</code>.</p>\n\n<p>I'm trying to filter records by the list_of_rules, however, I want to capture <code>[['eggs', 'milk', 'butter'], ['ham', 'spam', 'milk']]</code> despite it not exactly matching <code>[['milk', 'eggs'], ['milk','ham']]</code> order and extra items wise.</p>\n\n<pre><code>records = [['eggs', 'milk', 'butter'], ['ham', 'spam', 'milk'], ['cereal', 'skittles']]\n\nlist_of_rules = [['milk', 'eggs'], ['milk','ham']]\n\n# this list comprehension only filters for exact matches\n\nresults = [[x for x in L if x in records] for L in list_of_rules] \n\n\n# expected output\n\nprint(results)\n&gt;&gt;[['eggs', 'milk', 'butter'], ['ham', 'spam', 'milk']]\n</code></pre>\n\n<p>Any and all recommendations very much appreciated.</p>\n"}, {"tags": ["python", "oop", "for-loop", "instance"], "comments": [{"owner": {"reputation": 15215, "user_id": 2947378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOIbE.jpg?s=128&g=1", "display_name": "rdas", "link": "https://stackoverflow.com/users/2947378/rdas"}, "edited": false, "score": 0, "creation_date": 1554325063, "post_id": 55504093, "comment_id": 97714499, "body": "What do you mean by original name? Do you want the name of the variable that you used?"}, {"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 2, "creation_date": 1554325209, "post_id": 55504093, "comment_id": 97714553, "body": "The list items <b>are</b> your objects. The fact that you gave these objects some names is irrelevant, the objects don&#39;t know about it, neither does the list, so these names will not appear anywhere when you print the textual representation of the list."}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1554325558, "post_id": 55504093, "comment_id": 97714680, "body": "You could maybe make use of <code>locals()</code>, try printing it to see what it contains. But I have no idea why you need to do this."}, {"owner": {"reputation": 29, "user_id": 8212852, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CViQrpzFx3g/AAAAAAAAAAI/AAAAAAAAAwE/aiFFq0qgroA/photo.jpg?sz=128", "display_name": "Kofi ", "link": "https://stackoverflow.com/users/8212852/kofi"}, "reply_to_user": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 0, "creation_date": 1554362320, "post_id": 55504093, "comment_id": 97725159, "body": "@Thierry Lathuille, This means I have to change to code entirely to get what I want"}], "answers": [{"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 0, "last_activity_date": 1554325464, "last_edit_date": 1554325464, "creation_date": 1554325111, "answer_id": 55504158, "question_id": 55504093, "link": "https://stackoverflow.com/questions/55504093/how-to-get-name-of-instance-from-class-in-for-loop/55504158#55504158", "title": "How to get name of instance from class in for loop", "body": "<p>Names are associated with values. A value has no knowledge of the names that refer to it. This means that you cannot get a variable name from a value.</p>\n\n<p>If you want to print out something that identifies the node in a meaningful way, then you can override <code>__str__()</code>. For example:</p>\n\n<pre><code>class Node:\n    # existing code\n    def __str__(self):\n        return '(' + str(self.x) + ', ' + str(self.y) + ')'\n</code></pre>\n\n<p>If you want each node to have a name, then you have to add it yourself:</p>\n\n<pre><code>class Node:\n    def __init__(self, y, x, name):\n        self.y = y\n        self.x = x\n        self.name = name\n</code></pre>\n\n<p>To print this out, you will have to modify the <code>__str__()</code> function in my first example.</p>\n"}, {"tags": [], "owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "is_accepted": false, "score": 0, "last_activity_date": 1554325676, "creation_date": 1554325676, "answer_id": 55504296, "question_id": 55504093, "link": "https://stackoverflow.com/questions/55504093/how-to-get-name-of-instance-from-class-in-for-loop/55504296#55504296", "title": "How to get name of instance from class in for loop", "body": "<p>Best practice if you want to identify the instances of Node by a name later is to add a name attribute to the object.  Using variable names is generally not a good idea because what they refer to can change.</p>\n\n<pre><code>class Node():\n    def __init__(self, name, y, x):\n        self.name = name\n        self.y = y\n        self.x = x\n    def operation(self):\n        return x**2\n    def __repr__(self):\n        return self.name\n\nnode1 = Node('node1', 2, 2)\nnode2 = Node('node2', 2, 2)\n\nIn [0]: print([node1,node2])\nOut [0]: \n    [node1, node2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 3896303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96a9197458389b22e1086e41ac3cab24?s=128&d=identicon&r=PG&f=1", "display_name": "Majaha", "link": "https://stackoverflow.com/users/3896303/majaha"}, "is_accepted": false, "score": -1, "last_activity_date": 1554325855, "creation_date": 1554325855, "answer_id": 55504334, "question_id": 55504093, "link": "https://stackoverflow.com/questions/55504093/how-to-get-name-of-instance-from-class-in-for-loop/55504334#55504334", "title": "How to get name of instance from class in for loop", "body": "<p>You seem to be wanting to access the names of variables referencing objects in one part of the code, in a completely different part of the code. Unfortunately, that's not how Python works.</p>\n\n<p>The names <code>node1</code> and <code>node2</code> are only meaningful in that block of code, and cannot be reverse-engineered if you have a reference to the same object in a different block of code.  That would cause problems if two blocks of code had different names for the same object. Which one is the \"real\" one? If you want them to have a canonical name, you will have to give them one, like the other answers are suggesting.</p>\n\n<p>I'd also like to point out that you have a bug in your code:</p>\n\n<pre><code>...\nfor node in nodes:\n    good_nodes = [] ## BUG HERE ##\n    if ##CONDITIONS##:\n        ##select certain nodes##\n    else:\n        good_nodes.append(##selected_nodes##, for example : node1)\n...\n</code></pre>\n\n<p><code>good_nodes</code> is being overwritten every loop here, so you will only print the last \"good node\". You need to move the line outside the loop:</p>\n\n<pre><code>...\nnodes = [node1, node2]\n\ngood_nodes = [] # Much better!\nfor node in nodes:\n    if ##CONDITIONS##:\n        ##select certain nodes##\n    else:\n        good_nodes.append(##selected_nodes##, for example : node1)\n\nprint(good_nodes)\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8212852, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CViQrpzFx3g/AAAAAAAAAAI/AAAAAAAAAwE/aiFFq0qgroA/photo.jpg?sz=128", "display_name": "Kofi ", "link": "https://stackoverflow.com/users/8212852/kofi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1554325855, "creation_date": 1554324849, "question_id": 55504093, "link": "https://stackoverflow.com/questions/55504093/how-to-get-name-of-instance-from-class-in-for-loop", "title": "How to get name of instance from class in for loop", "body": "<p>I have multiple instances from a class that I add to a list. I iterate through that list checking some conditions. With those conditions, I select certain objects from the list and add them to a new list. Because these objects come from a class, the contents of the new list are the memory allocations of the objects from the class. I wish to get the original name of the instance.</p>\n\n<p>I honestly do not know why this is the way it is and I haven't found any answers that fix this, perhaps I'm making a mistake somewhere or I just don't know. Please post answers</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Node():\n    def __init__(self, y, x):\n        self.y = y\n        self.x = x\n    def operation(self):\n        return x**2\n\nnode1 = Node(2,2)\nnode2 = Node(3,3)\n\nnodes = [node1, node2]\n\nfor node in nodes:\n    good_nodes = []\n    if ##CONDITIONS##:\n        ##select certain nodes##\n    else:\n        good_nodes.append(##selected_nodes##, for example : node1)\n\nprint(good_nodes)\n</code></pre>\n\n<p>What is returned:\n<code>[&lt;__main__.Node object at 0x7fe608b27668&gt;]</code></p>\n\n<p>What I want to be returned (a list):\n<code>[node1,node2,etc]</code></p>\n"}, {"tags": ["python", "keras"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1554324837, "post_id": 55504075, "comment_id": 97714405, "body": "why should it be white?"}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1554324989, "post_id": 55504075, "comment_id": 97714469, "body": "Not knowing anything about this technology, my big question is if your line of code in your question is showing how you &quot;just show it&quot;, and you&#39;re wondering why that changes something, what role might the <code>intermediate.reshape( 28,28)</code> part of that line play?  That line in full sure seems to be manipulating something rather than just displaying it.  This may be a naive observation.  It just has me curious at least."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "reply_to_user": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1554325059, "post_id": 55504075, "comment_id": 97714495, "body": "@Steve the reshape isn&#39;t the issue. It just moves things around in memory without changing the values."}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1554325238, "post_id": 55504075, "comment_id": 97714564, "body": "@PaulH, ok, thanks.  I figured that was too blatant a feature to likely be the problem."}], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 11013499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e69964f3ae46dceb9ad103afae2ac45?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/11013499/david"}, "edited": false, "score": 0, "creation_date": 1554330187, "post_id": 55504140, "comment_id": 97716250, "body": "are you sure about the problem? because when I produce an image with random value 0 and 1 and then show it, I see an image that 1&#39;s are white w_test = np.random.randint(2,size=(1,4,4)) w_test=w_test.astype(np.float32) w_test=w_test.reshape((1,4,4,1))"}], "tags": [], "owner": {"reputation": 4399, "user_id": 8605685, "user_type": "registered", "profile_image": "https://graph.facebook.com/1617447244946495/picture?type=large", "display_name": "Matthew Salvatore Viglione", "link": "https://stackoverflow.com/users/8605685/matthew-salvatore-viglione"}, "is_accepted": false, "score": 1, "last_activity_date": 1554325035, "creation_date": 1554325035, "answer_id": 55504140, "question_id": 55504075, "link": "https://stackoverflow.com/questions/55504075/why-the-output-is-different-from-the-value-of-variable-after-showing-using-plt-i/55504140#55504140", "title": "why the output is different from the value of variable after showing using plt.imshow?", "body": "<p>Grayscale is typically 8 bits, ranging in value from 0-255. Thus, a grayscale color of <code>1</code> is pretty close to black (which is <code>0</code>). White is actually <code>255</code>.  </p>\n\n<p>Try multiplying the whole array by <code>255</code> and you should get white.  </p>\n\n<p>Something like: </p>\n\n<p><code>intermediate = intermediate*255</code></p>\n\n<p>Your values are fine, if a value of <code>1</code> is what you want. If you want a black or white image, use values of <code>0</code> for black and <code>255</code> for white.   </p>\n"}], "owner": {"reputation": 633, "user_id": 11013499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e69964f3ae46dceb9ad103afae2ac45?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/11013499/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554330761, "creation_date": 1554324741, "last_edit_date": 1554330761, "question_id": 55504075, "link": "https://stackoverflow.com/questions/55504075/why-the-output-is-different-from-the-value-of-variable-after-showing-using-plt-i", "title": "why the output is different from the value of variable after showing using plt.imshow?", "body": "<p>I have a variable with shape (1,28,28,1) and all of its values are <code>1</code>, but when I show it with <code>plt.imshow(intermediate.reshape(28,28), cmap='gray')</code> it shows a black image, though it should be white. When I check the variable explorer, all values are indeed <code>1</code>.</p>\n\n<p>Why does this happen? Can I be sure the correct value will be passed on to the rest of my code? Why does it show a black image in the output?</p>\n\n<p>this the output of w_test I put the code in the comment.\n<a href=\"https://i.stack.imgur.com/EuyMJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EuyMJ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "django-rest-framework", "drf-yasg"], "answers": [{"tags": [], "owner": {"reputation": 1525, "user_id": 733601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3ff8fa84cc0175fef87ce7777e3b168d?s=128&d=identicon&r=PG", "display_name": "jordancooperman", "link": "https://stackoverflow.com/users/733601/jordancooperman"}, "is_accepted": false, "score": 1, "last_activity_date": 1554326189, "creation_date": 1554326189, "answer_id": 55504414, "question_id": 55503988, "link": "https://stackoverflow.com/questions/55503988/freeform-text-inside-drf-yasg-generated-docs/55504414#55504414", "title": "Freeform text inside DRF_YASG generated docs", "body": "<p>Turns out that drf_yasg supports markdown in the description!! Like:</p>\n\n<pre><code>SchemaView = get_schema_view(\n    openapi.Info(\n        title=\"My API\",\n        default_version=\"v0\",\n        terms_of_service=\"\",\n        contact=openapi.Contact(email=\"support@example.com\"),\n        description=\"\"\"\n### Header\n\nSome description text\n\n- bullet 1\n- bullet 2\n- bullet 3\n\n#### Header\n\"\"\",\n    ),\n    public=True,\n    patterns=patterns,\n    permission_classes=(permissions.AllowAny,),\n\n</code></pre>\n\n<p>I didn't see this documented anywhere, though it might be. But that's exactly what I was looking for. </p>\n"}], "owner": {"reputation": 1525, "user_id": 733601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3ff8fa84cc0175fef87ce7777e3b168d?s=128&d=identicon&r=PG", "display_name": "jordancooperman", "link": "https://stackoverflow.com/users/733601/jordancooperman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554326189, "creation_date": 1554324339, "question_id": 55503988, "link": "https://stackoverflow.com/questions/55503988/freeform-text-inside-drf-yasg-generated-docs", "title": "Freeform text inside DRF_YASG generated docs", "body": "<p>Is there a way to add freeform text to docs generated through drf_yasg? I can't see an obvious explanation in their docs. </p>\n\n<p>I just want to add a few sections of introduction text.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 2, "creation_date": 1554324760, "post_id": 55503959, "comment_id": 97714378, "body": "<code>Y</code> and <code>X</code> are only a Python <code>list</code>, they do not know how to index based off <code>np.array</code>. You can instead change <code>Y = np.array(Y)</code> and then you can index like that"}, {"owner": {"reputation": 1, "user_id": 11307937, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uD-UpV7iV6Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re-NPAReghtKePfTFyn4aKmUl5tOg/mo/photo.jpg?sz=128", "display_name": "Alberto Soriano G&#243;mez", "link": "https://stackoverflow.com/users/11307937/alberto-soriano-g%c3%b3mez"}, "reply_to_user": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1554411936, "post_id": 55503959, "comment_id": 97753971, "body": "Thank you very much. It works perfectly."}], "answers": [{"comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1554325067, "post_id": 55504144, "comment_id": 97714502, "body": "Great oberservation.  +1"}, {"owner": {"reputation": 1, "user_id": 11307937, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uD-UpV7iV6Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re-NPAReghtKePfTFyn4aKmUl5tOg/mo/photo.jpg?sz=128", "display_name": "Alberto Soriano G&#243;mez", "link": "https://stackoverflow.com/users/11307937/alberto-soriano-g%c3%b3mez"}, "edited": false, "score": 0, "creation_date": 1554411967, "post_id": 55504144, "comment_id": 97753977, "body": "Thank you for your time and help. It works perfectly."}], "tags": [], "owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "is_accepted": false, "score": 1, "last_activity_date": 1554325042, "creation_date": 1554325042, "answer_id": 55504144, "question_id": 55503959, "link": "https://stackoverflow.com/questions/55503959/indexing-numpy-arrays/55504144#55504144", "title": "Indexing numpy arrays", "body": "<p>The problem is that <code>X</code> and <code>Y</code> are only Python <code>list</code>'s in this case. If you were to do <code>type(Y)</code> you would get <code>list</code>. Since you are indexing into a list with <code>np.array</code>, Python has no idea what that is and throws the error because you are doing invalid operations on a <code>list</code>. Instead, you need <code>X</code> and <code>Y</code> to be type <code>np.array</code> as well</p>\n\n<pre><code>&gt;&gt;&gt; ind_b\narray([6, 2, 7, 4, 0, 5, 7, 0])\n&gt;&gt;&gt; np.array(Y)[ind_b]\narray([4, 2, 6, 3, 1, 2, 6, 1])\n&gt;&gt;&gt; Y = np.array(Y)\n&gt;&gt;&gt; X = np.array(X)\n&gt;&gt;&gt; Y_b = Y[ind_b]\n&gt;&gt;&gt; Y_b\narray([4, 2, 6, 3, 1, 2, 6, 1])\n&gt;&gt;&gt; X_b = X[ind_b]\n&gt;&gt;&gt; X_b\narray([5, 3, 2, 3, 1, 1, 2, 1])\n</code></pre>\n\n<p>A quick fix is to change it so the assignments are:</p>\n\n<pre><code>Y = np.array([1,4,2,5,3,2,4,6])\nX = np.array([1,2,3,4,3,1,5,2])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11307937, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uD-UpV7iV6Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re-NPAReghtKePfTFyn4aKmUl5tOg/mo/photo.jpg?sz=128", "display_name": "Alberto Soriano G&#243;mez", "link": "https://stackoverflow.com/users/11307937/alberto-soriano-g%c3%b3mez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554326070, "creation_date": 1554324239, "last_edit_date": 1554326070, "question_id": 55503959, "link": "https://stackoverflow.com/questions/55503959/indexing-numpy-arrays", "title": "Indexing numpy arrays", "body": "<p>I'm trying to perform pairs bootstrap and I have some problems when indexing the bootstrap samples. I will show a brief piece of code that matches the problem I am facing. How should I index the sample to get the bootstrap sample?</p>\n\n<p>This is the data:</p>\n\n<pre><code>Y = [1,4,2,5,3,2,4,6]\nX = [1,2,3,4,3,1,5,2]\n</code></pre>\n\n<p>First of all I create the index:</p>\n\n<pre><code>ind = np.arange(len(X))\n</code></pre>\n\n<p>Secondly I perform bootstrap on the index:</p>\n\n<pre><code>ind_b = np.random.choice(ind, len(ind))\n</code></pre>\n\n<p>And finally I try to filter both variables with the bootstrap index:</p>\n\n<pre><code>Y_b = Y[ind_b] \nX_b = X[ind_b]\n</code></pre>\n\n<p>Doing this I get an error message:</p>\n\n<blockquote>\n  <p>TypeError: only integer scalar arrays can be converted to a scalar index</p>\n</blockquote>\n\n<p>Could someone explain how I can do it correctly?</p>\n"}, {"tags": ["python", "xml", "visio", "connector"], "answers": [{"tags": [], "owner": {"reputation": 7447, "user_id": 929187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F5QPL.png?s=128&g=1", "display_name": "Nikolay", "link": "https://stackoverflow.com/users/929187/nikolay"}, "is_accepted": false, "score": 2, "last_activity_date": 1554329996, "creation_date": 1554329996, "answer_id": 55505167, "question_id": 55503945, "link": "https://stackoverflow.com/questions/55503945/how-to-measure-the-connector-length-in-visio-with-python/55505167#55505167", "title": "How to measure the connector length in visio with python?", "body": "<p>You seem to have chosen a really hard way of doing things (calculating length, in particular). Usually for similar tasks, Visio itself is used, it provides a humane API to calculate connector length. What would you do for example if the connector is a bezier curve? Well, it can be, theoretically :)</p>\n\n<p><a href=\"https://i.stack.imgur.com/xztn6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xztn6.png\" alt=\"enter image description here\"></a></p>\n\n<p>With python on windows, you could try to use python COM module (<code>win32com</code> for example). Then connector length calculation is done by Visio and using it is kind of trivial:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/office/vba/api/visio.shape.lengthiu\" rel=\"nofollow noreferrer\">connector.LengthIU</a></p>\n\n<p>Regarding the \"MoveTo\" part - I believe trivial (zero) parts can be omitted in the vsdx, \ntherefore there is no data for the Y cell, i.e. I'm talking about missing <code>&lt;Cell N='Y' V='0'/&gt;</code>. But I'm not 100% sure. Also please note that values in the geometry section are relative (to the shape pin).</p>\n"}], "owner": {"reputation": 1, "user_id": 8973722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bce44bbeaefc8f4c59a43a9090f65cc?s=128&d=identicon&r=PG&f=1", "display_name": "F. Upai", "link": "https://stackoverflow.com/users/8973722/f-upai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1554329996, "creation_date": 1554324198, "question_id": 55503945, "link": "https://stackoverflow.com/questions/55503945/how-to-measure-the-connector-length-in-visio-with-python", "title": "How to measure the connector length in visio with python?", "body": "<p>I am trying to measure the length of each connector in a visio file which i use for planning power line length in a house floor plan.</p>\n\n<p>I cannot find the start coordinates of the connector geometry in a Microsoft Visio file. </p>\n\n<p>I use python to unzip the *.vsdx (Visio 2019) and analyse the page1.xml</p>\n\n<p>But i cannot find the start of the geometry. I try to figure out the help of microsoft but it is not getting me anywhere.</p>\n\n<p>A simple connector:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Shape ID='1' NameU='Dynamic connector' Name='Dynamischer Verbinder' Type='Shape' Master='2'&gt;\n&lt;Cell N='PinX' V='4.03543297686481' F='Inh'/&gt;\n&lt;Cell N='PinY' V='6.397637646249088' F='Inh'/&gt;\n&lt;Cell N='Width' V='0.1968503937007874' F='GUARD(0.19685039370079DL)'/&gt;\n&lt;Cell N='Height' V='-3.740157393191775' F='GUARD(EndY-BeginY)'/&gt;\n&lt;Cell N='LocPinX' V='0.09842519685039369' F='Inh'/&gt;\n&lt;Cell N='LocPinY' V='-1.870078696595888' F='Inh'/&gt;\n&lt;Cell N='BeginX' V='3.937007782307131'/&gt;\n&lt;Cell N='BeginY' V='8.267716342844976'/&gt;\n&lt;Cell N='EndX' V='4.133858171422488'/&gt;\n&lt;Cell N='EndY' V='4.527558949653201'/&gt;\n&lt;Cell N='LayerMember' V='0'/&gt;\n&lt;Cell N='BegTrigger' V='1' F='_XFTRIGGER(Sheet.1!EventXFMod)'/&gt;\n&lt;Cell N='EndTrigger' V='1' F='_XFTRIGGER(Sheet.1!EventXFMod)'/&gt;\n&lt;Cell N='TxtPinX' V='2.292715350904473E-9' F='Inh'/&gt;\n&lt;Cell N='TxtPinY' V='-1.968503891153566' F='Inh'/&gt;\n&lt;Section N='Control'&gt;\n&lt;Row N='TextPosition'&gt;\n&lt;Cell N='X' V='2.292715350904473E-9'/&gt;\n&lt;Cell N='Y' V='-1.968503891153566'/&gt;\n&lt;Cell N='XDyn' V='2.292715350904473E-9' F='Inh'/&gt;\n&lt;Cell N='YDyn' V='-1.968503891153566' F='Inh'/&gt;\n&lt;/Row&gt;\n&lt;/Section&gt;\n&lt;Section N='Geometry' IX='0'&gt;\n&lt;Row T='MoveTo' IX='1'&gt;\n&lt;Cell N='X' V='2.292715350904473E-9'/&gt;\n&lt;/Row&gt;\n&lt;Row T='LineTo' IX='2'&gt;\n&lt;Cell N='X' V='2.292715350904473E-9'/&gt;\n&lt;Cell N='Y' V='-3.740157393191775'/&gt;\n&lt;/Row&gt;\n&lt;Row T='LineTo' IX='3'&gt;\n&lt;Cell N='X' V='0.1968503914080722'/&gt;\n&lt;Cell N='Y' V='-3.740157393191775'/&gt;\n&lt;/Row&gt;\n&lt;/Section&gt;\n&lt;/Shape&gt;\n</code></pre>\n\n<p>I expect to find the start of the Geometry, but its not there?</p>\n\n<p>I dont understand the \"moveto\" part?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 4, "creation_date": 1554324385, "post_id": 55503935, "comment_id": 97714199, "body": "Any collection. This is the default behavior."}, {"owner": {"reputation": 450, "user_id": 10813463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--RByWNItLv0/AAAAAAAAAAI/AAAAAAAAAGg/n1O8RqzoTQU/photo.jpg?sz=128", "display_name": "Nick Vitha", "link": "https://stackoverflow.com/users/10813463/nick-vitha"}, "edited": false, "score": 2, "creation_date": 1554324439, "post_id": 55503935, "comment_id": 97714229, "body": "The only things passed by value are primitives. Everything else gets passed as a reference."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1554324862, "post_id": 55503935, "comment_id": 97714417, "body": "Check it out: <a href=\"https://repl.it/repls/SquigglyCapitalCommunication\" rel=\"nofollow noreferrer\">repl.it/repls/SquigglyCapitalCommunication</a>"}, {"owner": {"reputation": 9410, "user_id": 4533188, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c75ac7fb128a03a7da7278ba391e95da?s=128&d=identicon&r=PG&f=1", "display_name": "Make42", "link": "https://stackoverflow.com/users/4533188/make42"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1554325231, "post_id": 55503935, "comment_id": 97714560, "body": "@Blorgbeard: How about numpy arrays?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1554325461, "post_id": 55503935, "comment_id": 97714647, "body": "Yes, they work the same. Try it out!"}, {"owner": {"reputation": 9410, "user_id": 4533188, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c75ac7fb128a03a7da7278ba391e95da?s=128&d=identicon&r=PG&f=1", "display_name": "Make42", "link": "https://stackoverflow.com/users/4533188/make42"}, "edited": false, "score": 0, "creation_date": 1554325914, "post_id": 55503935, "comment_id": 97714802, "body": "I have: <a href=\"https://repl.it/repls/BadDisfiguredParticle\" rel=\"nofollow noreferrer\">repl.it/repls/BadDisfiguredParticle</a>"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1554326248, "post_id": 55503935, "comment_id": 97714933, "body": "Great, seems to work, right?"}, {"owner": {"reputation": 9410, "user_id": 4533188, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c75ac7fb128a03a7da7278ba391e95da?s=128&d=identicon&r=PG&f=1", "display_name": "Make42", "link": "https://stackoverflow.com/users/4533188/make42"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1554399920, "post_id": 55503935, "comment_id": 97748436, "body": "@Blorgbeard: Yes"}], "owner": {"reputation": 9410, "user_id": 4533188, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c75ac7fb128a03a7da7278ba391e95da?s=128&d=identicon&r=PG&f=1", "display_name": "Make42", "link": "https://stackoverflow.com/users/4533188/make42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1554324483, "creation_date": 1554324147, "last_edit_date": 1554324483, "question_id": 55503935, "link": "https://stackoverflow.com/questions/55503935/using-a-collection-that-references-objects-instead-of-using-copies", "title": "Using a collection that references objects instead of using copies", "body": "<p>I need to build a collection in Python, where I need to have some sort of random access and put some rather large and complex objects as elements. Lets say I have the elements E1, E2, E3 and I need them to be in a list [E1, E2, E1, E3, E2, E2, E1]. I would like to not copy the objects, but just have references to E1, E2, E3. If I use a list I might have a random access via the position. A dict would also be fine.</p>\n\n<p>Question: What collection should I use so that E1,E2,E3 and so on are only referenced from within the collection and not copied as elements of the collection?</p>\n\n<p>Edit: An obvious solution would be to use two collections: A first one that contains E1 to E3 as elements. And a second one that contains the \"order\" in which those are supposed to be used as elements - with the key to the first collection as element.</p>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1554324522, "post_id": 55503927, "comment_id": 97714269, "body": "Not sure why you would do that. A foreign key field is no different from any other field; you would access it via self just like you do with the name."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8344575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2-F8k8cGYAM/AAAAAAAAAAI/AAAAAAAAA7Q/J61FAUx3_Eo/photo.jpg?sz=128", "display_name": "Hasan Parasteh", "link": "https://stackoverflow.com/users/8344575/hasan-parasteh"}, "edited": false, "score": 0, "creation_date": 1554324981, "post_id": 55503989, "comment_id": 97714464, "body": "I tried that first time exactly like you and I get this error message <code>no such column: post_post.name</code>"}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "reply_to_user": {"reputation": 27, "user_id": 8344575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2-F8k8cGYAM/AAAAAAAAAAI/AAAAAAAAA7Q/J61FAUx3_Eo/photo.jpg?sz=128", "display_name": "Hasan Parasteh", "link": "https://stackoverflow.com/users/8344575/hasan-parasteh"}, "edited": false, "score": 0, "creation_date": 1554325133, "post_id": 55503989, "comment_id": 97714529, "body": "This <i>must</i> work...could you please edit your post and include the whole <code>Post</code> and <code>Comment</code> model classes, without the <code>...</code>?"}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "reply_to_user": {"reputation": 27, "user_id": 8344575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2-F8k8cGYAM/AAAAAAAAAAI/AAAAAAAAA7Q/J61FAUx3_Eo/photo.jpg?sz=128", "display_name": "Hasan Parasteh", "link": "https://stackoverflow.com/users/8344575/hasan-parasteh"}, "edited": false, "score": 0, "creation_date": 1554325182, "post_id": 55503989, "comment_id": 97714546, "body": "Ah, my bad, you call it title and not name, I am sorry...see the edit :)"}, {"owner": {"reputation": 27, "user_id": 8344575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2-F8k8cGYAM/AAAAAAAAAAI/AAAAAAAAA7Q/J61FAUx3_Eo/photo.jpg?sz=128", "display_name": "Hasan Parasteh", "link": "https://stackoverflow.com/users/8344575/hasan-parasteh"}, "edited": false, "score": 0, "creation_date": 1554325483, "post_id": 55503989, "comment_id": 97714655, "body": "I see your mistake variable name and I change my title to name then wrote the exact code you write :) but it wont work. the name is a variable in my Comment class and title is a variable inside Post class! I just want to get post title + I used <code>Post.title</code> and get this value in django admin : <code>&lt;django.db.models.query_utils.DeferredAttribute object at 0x000002670FA0DF60&gt;</code>"}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "reply_to_user": {"reputation": 27, "user_id": 8344575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2-F8k8cGYAM/AAAAAAAAAAI/AAAAAAAAA7Q/J61FAUx3_Eo/photo.jpg?sz=128", "display_name": "Hasan Parasteh", "link": "https://stackoverflow.com/users/8344575/hasan-parasteh"}, "edited": false, "score": 0, "creation_date": 1554325731, "post_id": 55503989, "comment_id": 97714735, "body": "<code>Post.title</code> will not do what you want, as you are accessing the attribute statically. Anyway <code>self.post_id</code> returns an instance of <code>Post</code> object which has a name, so you are able to access it via <code>self.post_id.title</code>. And if not, please show me the exception you get."}, {"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "reply_to_user": {"reputation": 27, "user_id": 8344575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2-F8k8cGYAM/AAAAAAAAAAI/AAAAAAAAA7Q/J61FAUx3_Eo/photo.jpg?sz=128", "display_name": "Hasan Parasteh", "link": "https://stackoverflow.com/users/8344575/hasan-parasteh"}, "edited": false, "score": 1, "creation_date": 1554325954, "post_id": 55503989, "comment_id": 97714819, "body": "No problem. If my answer helped you solve the problem, please consider accepting it so the others can immediately see what to do when they run into the same problem."}], "tags": [], "owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "is_accepted": false, "score": 1, "last_activity_date": 1554325192, "last_edit_date": 1554325192, "creation_date": 1554324343, "answer_id": 55503989, "question_id": 55503927, "link": "https://stackoverflow.com/questions/55503927/how-to-get-a-variable-value-of-a-post-in-django-models-foreignkey/55503989#55503989", "title": "How to get a variable value of a post in django models ForeignKey?", "body": "<p>What about this?</p>\n\n<pre><code>class Post(Model):\n    title = CharField(...)\n\nclass Comment(Model):\n    post_id = ForeignKey(Post, ...)\n    def __str__(self):\n        return \"{} in post: {}\".format(self.name, self.post_id.title)\n</code></pre>\n\n<p>And by the way, foreign keys are not usually named ending with <code>_id</code>, since it evokes that the field just holds the integer with id of the object, which is not the case: a fully-fledged <code>Post</code> object can be accessed.</p>\n"}], "owner": {"reputation": 27, "user_id": 8344575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2-F8k8cGYAM/AAAAAAAAAAI/AAAAAAAAA7Q/J61FAUx3_Eo/photo.jpg?sz=128", "display_name": "Hasan Parasteh", "link": "https://stackoverflow.com/users/8344575/hasan-parasteh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554325736, "creation_date": 1554324120, "last_edit_date": 1554325736, "question_id": 55503927, "link": "https://stackoverflow.com/questions/55503927/how-to-get-a-variable-value-of-a-post-in-django-models-foreignkey", "title": "How to get a variable value of a post in django models ForeignKey?", "body": "<p>I've created two models one for the post and another for comments. I want to get the title of the post in <strong>str</strong> by querying forginKey variable in Comments class\nis it even possible?</p>\n\n<p>i've tried using <code>Comment._meta.get_field('post_id')</code> but it wont works and I gets this error </p>\n\n<pre><code>Exception Value:    \nmust be str, not ForeignKey\n</code></pre>\n\n<p>My Models :</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Post(models.Model):\n    title = models.CharField(max_length=150)\n    content = models.TextField(blank=True, null=True)\n    image = models.ImageField(upload_to=\"media/posts\", null=True, blank=True)\n\n    def __str__(self):\n        return self.title\n\nclass Comment(models.Model):\n    post_id = models.ForeignKey(\"post.Post\", on_delete=models.CASCADE) \n\n    name = models.CharField(max_length=150)\n    email = models.EmailField(max_length=254)\n    content = models.TextField(blank=False, null=False)\n\n    def __str__(self):\n        return self.name + \" in post: \" + Comment._meta.get_field('post_id')\n</code></pre>\n\n<p>I want to get the value of title for every comment posted on site to show in Django admin.</p>\n"}, {"tags": ["python", "django", "ssl"], "comments": [{"owner": {"reputation": 565, "user_id": 10274002, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AmaynpHDeEs/AAAAAAAAAAI/AAAAAAAAABw/MpPjdo1yNLM/photo.jpg?sz=128", "display_name": "AbdurRehman Khan", "link": "https://stackoverflow.com/users/10274002/abdurrehman-khan"}, "edited": false, "score": 0, "creation_date": 1579766948, "post_id": 55503887, "comment_id": 105878293, "body": "Not sure if you got this working, but SECURE_REDIRECT_EXEMPT needs to be a list of regex, something like [&#39;^the_endpoint$&#39;] or [&#39;^the_endpoint.*&#39;] should work? And you can remove the SECURE_REDIRECT_URLS variable."}], "owner": {"reputation": 71, "user_id": 1168543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea034f1692dc607617be92e12ecb6d?s=128&d=identicon&r=PG", "display_name": "JoachimK", "link": "https://stackoverflow.com/users/1168543/joachimk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 384, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554323938, "creation_date": 1554323938, "question_id": 55503887, "link": "https://stackoverflow.com/questions/55503887/how-to-get-secure-redirect-exempt-to-work", "title": "How to get SECURE_REDIRECT_EXEMPT to work?", "body": "<p>I'm trying to have a single endpoint on my site that is not HTTPS (for some other service that does not support it). \nI have tried adding this to my settings.py as per: <a href=\"https://github.com/argenisosorio/django_ssl_secure_redirect\" rel=\"nofollow noreferrer\">https://github.com/argenisosorio/django_ssl_secure_redirect</a></p>\n\n<pre><code>SECURE_SSL_REDIRECT = True\nSECURE_REDIRECT_URLS = ['^']\nSECURE_REDIRECT_EXEMPT = ['the_endpoint']\n</code></pre>\n\n<p>But it still redirects to HTTPS. Site is hosted on Heroku. Any suggestions as to how to fix it?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 15215, "user_id": 2947378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOIbE.jpg?s=128&g=1", "display_name": "rdas", "link": "https://stackoverflow.com/users/2947378/rdas"}, "edited": false, "score": 0, "creation_date": 1554324260, "post_id": 55503883, "comment_id": 97714147, "body": "So Joe should be mapped to Joseph and then you need to return the other info about Joseph?"}, {"owner": {"reputation": 1563, "user_id": 7100011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5yMh.png?s=128&g=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/7100011/evan"}, "edited": false, "score": 1, "creation_date": 1554324664, "post_id": 55503883, "comment_id": 97714337, "body": "So do you mean {&#39;guiseppe&#39;: &#39;Joseph&#39;,  &#39;joe&#39;: &#39;Joseph&#39;,  &#39;joey&#39;: &#39;Joseph&#39;,  &#39;joseph&#39;: &#39;Joseph&#39;,  &#39;kamuel&#39;: &#39;Samuel&#39;,  &#39;sam&#39;: &#39;Samuel&#39;,  &#39;samuel&#39;: &#39;Samuel&#39;,  &#39;shmuel&#39;: &#39;Samuel&#39;} ?"}, {"owner": {"reputation": 2295, "user_id": 1873386, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8edc08129abcfef8b73d6bd8d1bd2bf5?s=128&d=identicon&r=PG", "display_name": "crashwap", "link": "https://stackoverflow.com/users/1873386/crashwap"}, "reply_to_user": {"reputation": 15215, "user_id": 2947378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOIbE.jpg?s=128&g=1", "display_name": "rdas", "link": "https://stackoverflow.com/users/2947378/rdas"}, "edited": false, "score": 0, "creation_date": 1554326005, "post_id": 55503883, "comment_id": 97714847, "body": "@DroidX86 Yes, that is correct - Joe should return <code>{&#39;name&#39;: &#39;Joseph&#39;, &#39;gender&#39;: &#39;m&#39;, &#39;xro&#39;: &#39;xy&#39;}</code>"}, {"owner": {"reputation": 15215, "user_id": 2947378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOIbE.jpg?s=128&g=1", "display_name": "rdas", "link": "https://stackoverflow.com/users/2947378/rdas"}, "edited": false, "score": 0, "creation_date": 1554326222, "post_id": 55503883, "comment_id": 97714923, "body": "Fastest way would be to store a map of nickname to exactly what you want to return. For example, Joe - &gt; {&#39;name&#39; : &#39;Joseph&#39;....}"}], "answers": [{"comments": [{"owner": {"reputation": 2295, "user_id": 1873386, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8edc08129abcfef8b73d6bd8d1bd2bf5?s=128&d=identicon&r=PG", "display_name": "crashwap", "link": "https://stackoverflow.com/users/1873386/crashwap"}, "edited": false, "score": 0, "creation_date": 1554327823, "post_id": 55504248, "comment_id": 97715466, "body": "Thanks very much for this - it is what I had originally envisioned. But you are correct that other answers have different ways of doing this that might be better - we&#39;ll see. +1 <i>with thanks</i>"}], "tags": [], "owner": {"reputation": 83, "user_id": 9329341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DZsc6f9rozg/AAAAAAAAAAI/AAAAAAAAAb4/C8iXuNTIEM4/photo.jpg?sz=128", "display_name": "Heavenly Raven", "link": "https://stackoverflow.com/users/9329341/heavenly-raven"}, "is_accepted": false, "score": 2, "last_activity_date": 1554327095, "last_edit_date": 1554327095, "creation_date": 1554325496, "answer_id": 55504248, "question_id": 55503883, "link": "https://stackoverflow.com/questions/55503883/python-lookup-table-that-returns-multiple-values/55504248#55504248", "title": "Python lookup table that returns multiple values", "body": "<p>Depends on the problem.\nWhat exactly do you want?</p>\n\n<p>I can only come up with something like this:</p>\n\n<pre><code>    def lookup(txt):\n        name_forms = {\n       'Joseph': ['joe', 'joseph', 'guiseppe', 'joey'], \n       'Samuel': ['sam', 'samuel', 'shmuel', 'kamuel'], \n       'Maria': ['mary', 'marie', 'miriam', 'mariana']}\n        for i, canon in enumerate(name_forms):\n            for variant in name_forms[canon]:\n                if txt.lower() == variant.lower():\n                    if i &lt;= 1:\n                        gender = 'm'\n                        xro = 'xy'\n                    else:\n                        gender = 'f'\n                        xro = 'xx'\n                    return {'name': canon, 'gender': gender, 'xro': xro}\n\n    lookup('joey')\n</code></pre>\n\n<p>I didn't change your look-up method, but it's definitely not effective as others already mentioned.</p>\n"}, {"comments": [{"owner": {"reputation": 2295, "user_id": 1873386, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8edc08129abcfef8b73d6bd8d1bd2bf5?s=128&d=identicon&r=PG", "display_name": "crashwap", "link": "https://stackoverflow.com/users/1873386/crashwap"}, "edited": false, "score": 0, "creation_date": 1554328190, "post_id": 55504314, "comment_id": 97715600, "body": "This is not what I had envisioned, but it may actually work much better. Looking at it. +1 <i>with thanks</i>. BTW, I don&#39;t know who downvoted my question but they were right. I apologize that the desired output was not more clearly stated at the outset."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 3, "last_activity_date": 1554326360, "last_edit_date": 1554326360, "creation_date": 1554325771, "answer_id": 55504314, "question_id": 55503883, "link": "https://stackoverflow.com/questions/55503883/python-lookup-table-that-returns-multiple-values/55504314#55504314", "title": "Python lookup table that returns multiple values", "body": "<p>You have two straightforward choices.  One is the standard look-up list, as in Evan's comment:</p>\n\n<pre><code>{'guiseppe': 'Joseph', 'joe': 'Joseph', 'joey': 'Joseph', 'joseph': 'Joseph',\n 'Samuel': 'Samuel', 'sam': 'Samuel', 'samuel': 'Samuel', 'shmuel': 'Samuel'}\n</code></pre>\n\n<p>Now, adapt this to return the full <em>object</em>, rather than the name.  Since you didn't specify an object, I'll assume a <code>Person</code> class:</p>\n\n<pre><code>joseph = Person(name = \"Joseph\", gender = \"m\", xro = \"xy\")\nsamuel = Person(name = \"Samuel\", gender = \"m\", xro = \"xy\")\n</code></pre>\n\n<p>Now, just insert the objects into your look-up table:</p>\n\n<pre><code>{'guiseppe': joseph, 'joe': joseph, 'joey': joseph, 'joseph': 'Joseph',\n 'Samuel': samuel, 'sam': samuel, 'samuel': samuel, 'shmuel': 'Samuel'}\n</code></pre>\n\n<p>The other look-up method is to remove the extra loop from your existing code; use the <code>in</code> operator:  </p>\n\n<pre><code>for canon in name_forms:\n    for variant in name_forms[canon]:\n        if txt.lower() in variant:\n            return canon\n</code></pre>\n\n<p>You will still need a string-to-object table, but now it's shorter:</p>\n\n<pre><code>{\"Joseph\": jospeh, \"Samuel\": samuel}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2295, "user_id": 1873386, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8edc08129abcfef8b73d6bd8d1bd2bf5?s=128&d=identicon&r=PG", "display_name": "crashwap", "link": "https://stackoverflow.com/users/1873386/crashwap"}, "edited": false, "score": 0, "creation_date": 1554327931, "post_id": 55504388, "comment_id": 97715512, "body": "Also a unique and clever approach. <i>Many thanks</i> +1"}], "tags": [], "owner": {"reputation": 604, "user_id": 11261017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4bf258adbe74ed80632d2c7ca96a7cd?s=128&d=identicon&r=PG&f=1", "display_name": "Born Tbe Wasted", "link": "https://stackoverflow.com/users/11261017/born-tbe-wasted"}, "is_accepted": false, "score": 1, "last_activity_date": 1554326081, "creation_date": 1554326081, "answer_id": 55504388, "question_id": 55503883, "link": "https://stackoverflow.com/questions/55503883/python-lookup-table-that-returns-multiple-values/55504388#55504388", "title": "Python lookup table that returns multiple values", "body": "<p>I don't know how many values you wish to store, but looping through everything looks like a hassle.</p>\n\n<p>Have you tried storing your data in another way ? (As other suggest , didn't see the other answers)</p>\n\n<p>Maybe :</p>\n\n<pre><code>name_forms = {\n'joe':'Joseph',\n'joseph':'Joseph',\n'guiseppe':'Joseph',\n'joey':'Joseph',\n'sam':'Samuel',\n'samuel':'Samuel',\n'shmuel':'Samuel',\n'kamuel':'Samuel'\n}\nother_format={\n   'Joseph': ['joe', 'joseph', 'guiseppe', 'joey'],\n    'Samuel': ['sam', 'samuel', 'shmuel', 'kamuel']\n}\n\ndef names_lookup(txt):\n    if txt in name_forms:\n        return name_forms[txt]\n     else:\n        return None\n</code></pre>\n\n<p>And if you do not wish to store it this way , you can create it via </p>\n\n<pre><code> data_base = {x:k for k,v in other_format.items()  for x in v}\n</code></pre>\n\n<p>Besides, if you do not wish to continue manually typing the variants of those words, you can take a look at cosine similarity.</p>\n"}], "owner": {"reputation": 2295, "user_id": 1873386, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8edc08129abcfef8b73d6bd8d1bd2bf5?s=128&d=identicon&r=PG", "display_name": "crashwap", "link": "https://stackoverflow.com/users/1873386/crashwap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 55504314, "answer_count": 3, "score": 0, "last_activity_date": 1554327095, "creation_date": 1554323926, "last_edit_date": 1554326277, "question_id": 55503883, "link": "https://stackoverflow.com/questions/55503883/python-lookup-table-that-returns-multiple-values", "title": "Python lookup table that returns multiple values", "body": "<p>I wish to have a lookup table return multiple values.</p>\n\n<p>For example, if user's name is \"joe\", I would like to return an object such as:</p>\n\n<pre><code>{'name': 'Joseph', 'gender': 'm', 'xro': 'xy'}\n</code></pre>\n\n<p>At the moment, I have a function that accepts an input, matches it to one of the predefined forms, and returns the definitive form:</p>\n\n<pre><code>def names_lookup(txt):\n    name_forms = {\n        'Joseph': ['joe', 'joseph', 'guiseppe', 'joey'],\n        'Samuel': ['sam', 'samuel', 'shmuel', 'kamuel']\n    }\n    for canon in name_forms:\n        for variant in name_forms[canon]:\n            if txt.lower() == variant.lower():\n                return canon\n\ncannonical_name = names_lookup('joey'); #returns \"Joseph\"\n</code></pre>\n\n<p>At the moment I have multiple lookup tables to return the other values I need to construct my object - but is there a way to have a single lookup table that returns an object?</p>\n\n<p>So, the desired output would be:</p>\n\n<pre><code>cannonical_name = new_names_lookup('joey')\n#returns: {'name': 'Joseph', 'gender': 'm', 'xro': 'xy'}\n</code></pre>\n"}, {"tags": ["python", "flask", "flask-socketio", "eventlet"], "comments": [{"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 1, "creation_date": 1554390478, "post_id": 55503874, "comment_id": 97743227, "body": "My guess is that your application is blocking for too long, not allowing the background tasks to work properly. Add <code>socketio.sleep(0)</code> inside any loops that run for too long and try again."}, {"owner": {"reputation": 195, "user_id": 10686771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea10c8997facf2ab56c45d5cbc34ac73?s=128&d=identicon&r=PG&f=1", "display_name": "Gugmi", "link": "https://stackoverflow.com/users/10686771/gugmi"}, "reply_to_user": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1554391733, "post_id": 55503874, "comment_id": 97744053, "body": "@Miguel adding that before the <code>socketio.emit</code> line actually solved a seperate problem that occurred where data wasn&#39;t displaying after every loop cycle- but unfortunately, after the third loop there is still a disconnect error"}, {"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1554391945, "post_id": 55503874, "comment_id": 97744190, "body": "How long does each loop iteration take?"}, {"owner": {"reputation": 195, "user_id": 10686771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea10c8997facf2ab56c45d5cbc34ac73?s=128&d=identicon&r=PG&f=1", "display_name": "Gugmi", "link": "https://stackoverflow.com/users/10686771/gugmi"}, "reply_to_user": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1554392788, "post_id": 55503874, "comment_id": 97744677, "body": "@Miguel Each loop takes around 5-7 seconds."}, {"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 1, "creation_date": 1554393127, "post_id": 55503874, "comment_id": 97744878, "body": "That&#39;s way too long. If you run for 5-7 seconds, then none of the background tasks get to do anything during that time. You will need to figure out how to call <code>socketio.sleep(0)</code> more often, ideally a few times per second."}, {"owner": {"reputation": 195, "user_id": 10686771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea10c8997facf2ab56c45d5cbc34ac73?s=128&d=identicon&r=PG&f=1", "display_name": "Gugmi", "link": "https://stackoverflow.com/users/10686771/gugmi"}, "reply_to_user": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 0, "creation_date": 1554403049, "post_id": 55503874, "comment_id": 97749951, "body": "@Miguel Wow I had no idea- thanks... Looks like I&#39;ll have to rework. This is probably a separate question but is it possible to use one server-side <code>@socketio.on</code> event from another <code>@socketio.on</code> even run on the server?"}, {"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "edited": false, "score": 1, "creation_date": 1554405117, "post_id": 55503874, "comment_id": 97750915, "body": "You can, but I recommend moving the common logic to a separate function that is not an event handler and then call that functions from all the handlers that need it."}, {"owner": {"reputation": 403, "user_id": 9382668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed343ac6b5c89e38e73ddf751877ffe?s=128&d=identicon&r=PG&f=1", "display_name": "lastpeony4", "link": "https://stackoverflow.com/users/9382668/lastpeony4"}, "edited": false, "score": 0, "creation_date": 1588091126, "post_id": 55503874, "comment_id": 108764394, "body": "i have the exact problem. can anyone explain how to solve this ?"}], "owner": {"reputation": 195, "user_id": 10686771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea10c8997facf2ab56c45d5cbc34ac73?s=128&d=identicon&r=PG&f=1", "display_name": "Gugmi", "link": "https://stackoverflow.com/users/10686771/gugmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1221, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1554323887, "creation_date": 1554323887, "question_id": 55503874, "link": "https://stackoverflow.com/questions/55503874/flask-socketio-eventlet-error-client-is-gone-closing-socket", "title": "Flask_Socketio &amp; Eventlet Error: Client is gone, closing socket", "body": "<p>I'm trying to setup my first flask_socketio application and have run into a problem where the client will randomly disconnect from the server. </p>\n\n<p>I have a custom function in the app named \"propertytaxes\" this function is performing as expected according to the logs, the disconnect happens when I try to pass information from the server back to the client. </p>\n\n<p>Here is my app.py code: </p>\n\n<pre><code>from flask import Flask, render_template, flash, redirect, request, url_for, Response, send_file\nfrom flask_socketio import SocketIO\nimport propertytaxes\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'secret!'\nsocketio = SocketIO(app, logger=True, engineio_logger=True)\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n@socketio.on('confirm')\ndef confirmconnect(data):\n    print(data)\n\n@socketio.on('submit')\ndef taxesreceive(data):\n    print(data)\n    # Create datatable for pins and taxes\n    df = pd.DataFrame(columns=[\"PIN\", \"Taxes\"], data=[])\n    # Format the pins correctly\n    try:\n        for x in newparcel:\n            propertytaxes(x)\n            df = df.append(pd.DataFrame({'PIN': x, \"Taxes\": propertytaxes.num}, index=[0]), ignore_index=True)\n            socketio.emit('progress', \"&lt;tr class='pin-row'&gt;&lt;td class='pin-cell'&gt;{}&lt;/td&gt;&lt;td class='tax-cell'&gt;{}&lt;/td&gt;&lt;/tr&gt;\".format(x,propertytaxes.num))\n    except SyntaxError:\n        socketio.emit('progress', \"&lt;tr class='pin-row'&gt;&lt;td class='error-cell1'&gt;{}&lt;/td&gt;&lt;td class='error-cell2'&gt;{}&lt;/td&gt;&lt;/tr&gt;\".format(x,\"FORMATTING ERROR!\"))\n    socketio.emit('response', \"&lt;tr class='pin-row'&gt;&lt;td class='pin-cell'&gt;&lt;b&gt;TOTAL&lt;/b&gt;&lt;/td&gt;&lt;td class='tax-cell'&gt;&lt;b&gt;{}&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;\".format(finalnum))\n\nif __name__ == '__main__':\n\n    socketio.run(app, debug=True)\n\n</code></pre>\n\n<p>Relevant JS code: </p>\n\n<pre><code>submit.on('click', function(e){\n      e.preventDefault()\n      validate(input)\n      var check = true;\n      for(var i=0; i&lt;input.length; i++) {\n          if(validate(input[i]) == false){\n              showValidate(input[i]);\n              check=false;\n          }\n          else{\n            if($('#results-table') !== 'undefined'){\n              $('#results-table').remove();\n            }\n            if($('#downloadsection') !== 'undefined'){\n              $('#downloadsection').remove();\n            }\n            if($('#loading') !== 'undefined'){\n              $('#loading').remove();\n            }\n            let pins = input.val()\n            socket.emit('submit', pins)\n            $( '#results' ).append('&lt;div id=\"loading\" class=\"animated infinite pulse\"&gt;&lt;b&gt;Finding your property taxes...&lt;/b&gt;&lt;/div&gt;')\n            $( '#results' ).append(\"&lt;table id='results-table'&gt;&lt;tbody class='pin-table'&gt;&lt;tr class='row-head'&gt;&lt;td class='pin-td-head'&gt;PIN(S)&lt;/td&gt;&lt;td class='tax-td-head'&gt;Taxes&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;\")\n          }\n      }\n      return check;\n    })\n\n  socket.on('progress', function(msg) {\n        if(msg !== 'undefined') {\n          $( '.pin-table' ).append(msg)\n        }\n      })\n\n\n  socket.on('response', function(msg) {\n        if(msg !== 'undefined') {\n          $('#loading').remove();\n          input.val('');\n          $( '.pin-table' ).append(msg);\n          $('#results').append(download);\n        }\n      })\n</code></pre>\n\n<p>I expect socketio to continually emit rows of information within the <code>@socketio.on('submit')</code> <code>for loop</code>, but instead I receive the following error after the second or third processes within the <code>for loop</code>: </p>\n\n<pre><code>emitting event \"response\" to all [/]\n123eecc0eda24a88bc399248dc2cce90: Client is gone, closing socket\n123eecc0eda24a88bc399248dc2cce90: Client is gone, closing socket\n1ec1434d61c941cc9ec5ff0bf148ddad: Client is gone, closing socket\n1ec1434d61c941cc9ec5ff0bf148ddad: Client is gone, closing socket\n123eecc0eda24a88bc399248dc2cce90: Received packet PING data None\nReceive error -- socket is closed\n1ec1434d61c941cc9ec5ff0bf148ddad: Received packet PING data None\nReceive error -- socket is closed\n127.0.0.1 - - [03/Apr/2019 15:37:03] \"GET /socket.io/?EIO=3&amp;transport=websocket&amp;sid=1ec1434d61c941cc9ec5ff0bf148ddad HTTP/1.1\" 200 0 34.393236\n127.0.0.1 - - [03/Apr/2019 15:37:03] \"GET /socket.io/?EIO=3&amp;transport=websocket&amp;sid=123eecc0eda24a88bc399248dc2cce90 HTTP/1.1\" 200 0 34.848501\n47539815c48a48e099ad9d1645dba03d: Sending packet OPEN data {'sid': '47539815c48a48e099ad9d1645dba03d', 'upgrades': ['websocket'], 'pingTimeout': 60000, 'pingInterval': 25000}\n47539815c48a48e099ad9d1645dba03d: Sending packet MESSAGE data 0\n127.0.0.1 - - [03/Apr/2019 15:37:05] \"GET /socket.io/?EIO=3&amp;transport=polling&amp;t=MdawsDz HTTP/1.1\" 200 381 0.002992\n23b9186ccfcd4e0ca037806152d43f18: Sending packet OPEN data {'sid': '23b9186ccfcd4e0ca037806152d43f18', 'upgrades': ['websocket'], 'pingTimeout': 60000, 'pingInterval': 25000}\n23b9186ccfcd4e0ca037806152d43f18: Sending packet MESSAGE data 0\n127.0.0.1 - - [03/Apr/2019 15:37:05] \"GET /socket.io/?EIO=3&amp;transport=polling&amp;t=MdawsEB HTTP/1.1\" 200 381 0.001997\n(12944) accepted ('127.0.0.1', 63246)\n47539815c48a48e099ad9d1645dba03d: Received request to upgrade to websocket\n47539815c48a48e099ad9d1645dba03d: Received packet MESSAGE data 2[\"confirm\",{\"data\":\"User Connected\"}]\nreceived event \"confirm\" from 47539815c48a48e099ad9d1645dba03d [/]\n{'data': 'User Connected'}\n127.0.0.1 - - [03/Apr/2019 15:37:05] \"POST /socket.io/?EIO=3&amp;transport=polling&amp;t=MdawsEH&amp;sid=47539815c48a48e099ad9d1645dba03d HTTP/1.1\" 200 219 0.001993\n127.0.0.1 - - [03/Apr/2019 15:37:05] \"GET /socket.io/?EIO=3&amp;transport=polling&amp;t=MdawsEI&amp;sid=47539815c48a48e099ad9d1645dba03d HTTP/1.1\" 200 215 0.000999\n(12944) accepted ('127.0.0.1', 63247)\n23b9186ccfcd4e0ca037806152d43f18: Received request to upgrade to websocket\n23b9186ccfcd4e0ca037806152d43f18: Received packet MESSAGE data 2[\"confirm\",{\"data\":\"User Connected\"}]\nreceived event \"confirm\" from 23b9186ccfcd4e0ca037806152d43f18 [/]\n{'data': 'User Connected'}\n127.0.0.1 - - [03/Apr/2019 15:37:05] \"POST /socket.io/?EIO=3&amp;transport=polling&amp;t=MdawsET&amp;sid=23b9186ccfcd4e0ca037806152d43f18 HTTP/1.1\" 200 219 0.000996\n47539815c48a48e099ad9d1645dba03d: Upgrade to websocket successful\n127.0.0.1 - - [03/Apr/2019 15:37:05] \"GET /socket.io/?EIO=3&amp;transport=polling&amp;t=MdawsEU&amp;sid=23b9186ccfcd4e0ca037806152d43f18 HTTP/1.1\" 200 215 0.002988\n23b9186ccfcd4e0ca037806152d43f18: Upgrade to websocket successful\n</code></pre>\n"}, {"tags": ["python", "generator", "apply"], "owner": {"reputation": 35, "user_id": 8352314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8849477718a965a74998d2c4b7703467?s=128&d=identicon&r=PG&f=1", "display_name": "frquestions", "link": "https://stackoverflow.com/users/8352314/frquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554323446, "creation_date": 1554323446, "question_id": 55503789, "link": "https://stackoverflow.com/questions/55503789/memory-friendly-apply-generator-instead-of-pandas-can-i-read-and-write-same-file", "title": "Memory Friendly Apply Generator instead of pandas can I read and write same file?", "body": "<p>I usually use pandas for this kind of problem. But in this situation I have big troubles with the memory. I would like to avoid to change my computer to manage this trouble.</p>\n\n<p>A possible solution could be use Generator instead of</p>\n\n<pre><code>df[\"column\"] = df[\"column\"].apply(func = lambda x: myfunc(x))\n</code></pre>\n\n<p>Can I read and write the same file in the same moment? A possible solution could be read \"df.csv\" and write \"df1.csv\" with the new column instead,</p>\n\n<p>What do u think about that?\nAm I on track?</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 1, "creation_date": 1554323682, "post_id": 55503785, "comment_id": 97713905, "body": "Is there a specific need for <code>ax.set_yticklabels()</code>? The default settings would likely be better because you&#39;re really just filling in text for the labels and therefore the scaling is not consistent either! (i.e. the distance from 101 -&gt; 103 is the same as the distance 897 -&gt; 1425). I recommend you comment this line out and see what the result is"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 1, "creation_date": 1554323697, "post_id": 55503785, "comment_id": 97713911, "body": "You are using your reversly sorted list of values as yticks. This is probably not what you want."}, {"owner": {"reputation": 1005, "user_id": 4458718, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5df2c65d496095e288604eb0d288f65d?s=128&d=identicon&r=PG&f=1", "display_name": "L Xandor", "link": "https://stackoverflow.com/users/4458718/l-xandor"}, "edited": false, "score": 0, "creation_date": 1554324481, "post_id": 55503785, "comment_id": 97714252, "body": "Yes, removing the set_yticklabel helped, but I  need to increase the font size of the tick labels. How do I do this without messing up the axis orientation?"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1554327228, "post_id": 55503785, "comment_id": 97715256, "body": "You could use a method that gets all the text and then supply that to <code>ax.set_yticklabels()</code> along with the text size so that the numbers don&#39;t change, but get bigger? At <a href=\"https://matplotlib.org/api/axis_api.html?highlight=text%20size#yaxis-specific\" rel=\"nofollow noreferrer\">matplotlib.org/api/&hellip;</a> there is a <code>matplotlib.axis.Axis.get_label_text()</code> that maybe you could use."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1554327694, "post_id": 55503785, "comment_id": 97715419, "body": "The underlying question seems to be how to change the label fontsize without using <code>set_yticklabels</code>. That is shown in the duplicates."}], "owner": {"reputation": 1005, "user_id": 4458718, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5df2c65d496095e288604eb0d288f65d?s=128&d=identicon&r=PG&f=1", "display_name": "L Xandor", "link": "https://stackoverflow.com/users/4458718/l-xandor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "closed_date": 1554327654, "answer_count": 0, "score": 0, "last_activity_date": 1554327721, "creation_date": 1554323441, "question_id": 55503785, "link": "https://stackoverflow.com/questions/55503785/matplotlib-plot-inverts-y-axis-for-sorted-series", "closed_reason": "Duplicate", "title": "Matplotlib plot inverts Y axis for sorted series?", "body": "<p>Here is my sorted series</p>\n\n<pre><code>      STATE_CD\nAZ        1425\nCA         897\nTX         246\nWA         184\nIL         115\nFL         112\nGA         103\nVA         101\nPA         100\nCO          89\nNC          77\nNV          70\nNY          70\nOH          62\nMI          60\nNJ          57\n</code></pre>\n\n<p>Trying to plot this as a bar chart  </p>\n\n<pre><code>import matplotlib.pyplot as plt\nfig, ax = plt.subplots(figsize=(30,16))\nax.bar(online_states.index, online_states, color='r')\nax.set_xlabel(xlabel='State', size=20)\nax.set_ylabel(ylabel='Online Students With Interactions' , color='b', size=20)\nax.set_xticklabels(online_states.sort_values(ascending=False).index, rotation=45, fontsize=20)\nax.set_yticklabels(online_states.sort_values(ascending=False), rotation=0, fontsize=20)\nplt.show()        \n</code></pre>\n\n<p>But the output is showing the values inverted on the Y axis? Tried inverting Y axis and a few other things but never get expected result (with 1425 as the top value on the Y axis).</p>\n\n<p><a href=\"https://i.stack.imgur.com/H0AeX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H0AeX.png\" alt=\"enter image description here\"></a></p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 602, "user_id": 6067848, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bbdbf33d547c68c612b905912455dd4c?s=128&d=identicon&r=PG&f=1", "display_name": "Josh D", "link": "https://stackoverflow.com/users/6067848/josh-d"}, "edited": false, "score": 0, "creation_date": 1554342130, "post_id": 55503767, "comment_id": 97718978, "body": "Maybe use the newish <code>df.assign()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 955, "user_id": 6194143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1cd7ace9bb0ff64c8d1d0fccd7818a?s=128&d=identicon&r=PG&f=1", "display_name": "Tacratis", "link": "https://stackoverflow.com/users/6194143/tacratis"}, "is_accepted": false, "score": 0, "last_activity_date": 1554323862, "creation_date": 1554323862, "answer_id": 55503867, "question_id": 55503767, "link": "https://stackoverflow.com/questions/55503767/pandas-add-multiple-columns-same-time/55503867#55503867", "title": "Pandas add multiple columns same time", "body": "<p>It is a bit tricky to be sure, because your function is not fully provided, but I tested this on some made-up data, where the lambda function outputs a tuple (one tuple for each row) and this worked:</p>\n\n<pre><code>df[['message_segments','total_cost']] = pd.Dataframe(df['smssid'].apply(lambda sms_sid: _append_twilio_info(sms_sid)).tolist())\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user866364"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554324404, "creation_date": 1554323345, "question_id": 55503767, "link": "https://stackoverflow.com/questions/55503767/pandas-add-multiple-columns-same-time", "title": "Pandas add multiple columns same time", "body": "<p>I would like to perform an apply and add 2 columns for each row. Is possible to do it in a single apply?</p>\n\n<pre><code>df['message_segments'], df['total_cost'] = df['smssid'].apply(lambda sms_sid: _append_twilio_info(sms_sid))\n\ndef _append_twilio_info(sms_sid):\n    twilio_sms_message = _get_sms_info_on_twilio(sms_sid)\n    return twilio_sms_message.num_segments, twilio_sms_message.price    \n</code></pre>\n\n<p>This way is not working. Sometimes the column <code>total_cost</code> get the value from column <code>num_segments</code>. </p>\n\n<p>Example:</p>\n\n<pre><code>                              smssid    ...     total_cost\n1  SM42ea979fb9374bf08c693fc90aabcd5    ...              4\n3  SMc09ec3cc8711431480aabjsebjbejad    ...       -0.06000\n</code></pre>\n"}, {"tags": ["python", "wkhtmltopdf", "pdfkit"], "comments": [{"owner": {"reputation": 802, "user_id": 3554071, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/aac986a377b57d68667228c33d757116?s=128&d=identicon&r=PG&f=1", "display_name": "engineercoding", "link": "https://stackoverflow.com/users/3554071/engineercoding"}, "edited": false, "score": 0, "creation_date": 1554323628, "post_id": 55503762, "comment_id": 97713882, "body": "As you mentioned, it is probably due to the compilation error with wkhtmltopdf. At first glance, the code looks fine for your use case. I think <a href=\"https://stackoverflow.com/q/27673870/3554071\">stackoverflow.com/q/27673870/3554071</a> is a great starting point."}, {"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 1, "creation_date": 1554323670, "post_id": 55503762, "comment_id": 97713900, "body": "&quot;<i>Actual results is a compilation error with wkhtmltopdf. I can not post an image because I do not have 10 rep.</i>&quot; The error message is text and you can copy it here, no image required for anything."}], "owner": {"reputation": 9, "user_id": 9990130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9BBW8BLv8RU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3MjCaB3cTemCwB9-a5Iwwb31n0xA/mo/photo.jpg?sz=128", "display_name": "Byrge", "link": "https://stackoverflow.com/users/9990130/byrge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554324721, "creation_date": 1554323316, "last_edit_date": 1554324721, "question_id": 55503762, "link": "https://stackoverflow.com/questions/55503762/print-consecutively-increasing-urls-to-pdf", "title": "print consecutively increasing urls to pdf", "body": "<p>I have a website that has a url that ends in jobs/jif/id/1 - jobs/jif/id/1298. I need to print each one of those pages to pdf. There is a catch. The website information is protected by logging into the website. That issue I am ignoring until I figure out how to print to pdf given a url.</p>\n\n<p>I have tried to use curl but that was a dead end for me. I am now using pdfkit to print each page. I am not married to using pdfkit or python. If I can just right a bat file for this that would be fine. </p>\n\n<pre><code>import pdfkit\n\nurl = 'https://registration.vtbigevent.org/committee/jobs/jif/id/'\nconfig = pdfkit.configuration(wkhtmltopdf=\"C:/Program Files/wkhtmltopdf/bin\")\nfor ids in range(1,1298):\n    new_url = url + str(ids)\n    pdf = str(ids) + '.pdf'\n    pdfkit.from_url(new_url, pdf, configuration=config)\n</code></pre>\n\n<p>It should create 1298 pdfs in a folder. </p>\n\n<p>Actual results is a compilation error with wkhtmltopdf. </p>\n\n<p>PermissionError: [Errno 13] Permission denied: 'C:/Program Files/wkhtmltopdf/bin'</p>\n\n<p>Another issue is that i know this will not save the pdf to the intended folder but that is low priority right now.</p>\n\n<p>I edited my code to add configuration = config in the pdfkit line. Does that do what I think it does? I still get the permission error.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 1, "creation_date": 1554395914, "post_id": 55503738, "comment_id": 97746427, "body": "Most solutions will be easier to do in memory.  What you may want to do if put your data in a <code>pandas dataframe</code>  then when the formatting is done send that dataframe to a txt file. If the data you are handling isn&#39;t to big for memory. Or a list of <code>namedtuples</code> would consume less memory and not require another pip install."}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1554396293, "post_id": 55503738, "comment_id": 97746623, "body": "Actually if I am reading your question right you can just format each line before you do <code>writeFile.write(l)</code>.  Just parse through the string to find the stuff you want. I can give you a coded example if you provided a few more inputs and the expected output for those inputs."}, {"owner": {"reputation": 21, "user_id": 11307922, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205799736988076/picture?type=large", "display_name": "Alex Mellott", "link": "https://stackoverflow.com/users/11307922/alex-mellott"}, "reply_to_user": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1554855935, "post_id": 55503738, "comment_id": 97901710, "body": "@Error-SyntacticalRemorse See recent edits, I updated it with sample inputs/expected output."}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1554856053, "post_id": 55503738, "comment_id": 97901733, "body": "Can you add the a few expected outputs for those inputs? Not just a generalization but what you would actually want for those inputs."}, {"owner": {"reputation": 21, "user_id": 11307922, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205799736988076/picture?type=large", "display_name": "Alex Mellott", "link": "https://stackoverflow.com/users/11307922/alex-mellott"}, "reply_to_user": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1554856402, "post_id": 55503738, "comment_id": 97901793, "body": "@Error-SyntacticalRemorse Updated with requested information. Program should read IP address immediately following &quot;Servers:&quot; and report the number of instances, per hour, events matching that input occur. So for example, for Server IP Address 192.168.1.14 port 88, there are 3 events from the input file I&#39;ve included that occur during the 0900-1000 hour."}, {"owner": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "edited": false, "score": 0, "creation_date": 1554920948, "post_id": 55503738, "comment_id": 97931458, "body": "Can you get some kind of delimiter to be inserted when you pull this. Your question would be easy to handle in pandas as <code>Error - Syntactical Remorse</code> mentioned, but it will be much easier with delimiters."}], "answers": [{"tags": [], "owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "is_accepted": false, "score": 0, "last_activity_date": 1554921076, "last_edit_date": 1554921076, "creation_date": 1554861593, "answer_id": 55603671, "question_id": 55503738, "link": "https://stackoverflow.com/questions/55503738/format-and-sort-text-based-log-file-by-hour-and-number-of-events-matching-search/55603671#55603671", "title": "Format and sort text-based log file by hour and number of events matching search criteria", "body": "<p>I used regex to find the important parts in each line of the log file.  This answer could be much shorter, cleaner, and understandable if we could do all this in memory using a <code>DataFrame</code> but this solution reads only an hours worth of lines at a time before writing a new line to the new log file (thus less memory intensive).</p>\n\n<p>I tried to comment everything and left a couple <code>print</code>s in the code to help you see how it works.</p>\n\n<pre><code>import re\nfrom datetime import datetime\n\ninput_file = 'test.txt'\noutput_file = 'logsoutput.txt'\nprint(\"Started\")\n# This is how I am keeping track of unique ip/port pairs we see every hour.\nips_and_ports_for_this_time = dict()\n\n# This is your log file you are reading from\n# I am assuming this file is sorted by time.\n# If it is not sorted this solution will not work.\nwith open(input_file) as log:\n    # We need to keep track of the current hour (since you are grouping by hour)\n    last_time = ''\n\n    # For each line in the log\n    for line in log:\n        try:\n          # The ip and port can be found via 'Servers:xxx.xxx.xxx.xxx/xxxx`\n          ip_port = re.search(r'Servers:\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}/\\d{1,4}', line).group()\n          # The xxx.xxx.xxx.xxx part of the ip_port string is the server ip.\n          server_ip = re.search(r'\\d+\\.\\d+\\.\\d+\\.\\d+', ip_port).group()\n          # The .../xxxx part of the ip_port string is the server port.\n          server_port = re.search(r'/\\d+', ip_port).group()[1:]\n          # The time stamp has the format xxxx-xx-xx xx:xx:xx \n          # where each x is a number\n          timestamp = re.search(r'\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}', line).group()\n          # Convert it to iso 8601 and remove the minutes and seconds\n          timestamp = datetime.strptime(timestamp, \"%Y-%m-%d %H:%M:%S\").isoformat()[:-6]\n        except AttributeError:\n          # We couldnt find one of the fields in this log enter\n          continue\n\n        # If this is the first time we entered the loop then set our current time\n        # to be equal to our last time.\n        if not last_time:\n            last_time = timestamp\n\n        # If our last time and current time do not match\n        # then we must be on a different hour so lets write\n        # what is currently stored to a file\n        if timestamp != last_time: \n            # For key (ip, port) and val (occurences) in our dict\n            # write it to our output file.\n            with open(output_file, 'a') as write_file:\n                for key, val in ips_and_ports_for_this_time.items():\n                    print(\"Writing {}\".format('{} {} {} {}\\n'.format(timestamp, key[0], key[1], val)))\n                    # We will write each line to the file in the format:\n                    # timestamp ip port occurences\n                    write_file.write('{} {} {} {}\\n'.format(timestamp, key[0], key[1], val))\n            ips_and_ports_for_this_time = dict() # Reset our dict\n            last_time = timestamp # Reset our last time to our current time.\n\n        # If we have not seen this ip/port combination for this\n        # time, then add it to our dict with 1 occurence.\n        if (server_ip, server_port) not in ips_and_ports_for_this_time:\n            ips_and_ports_for_this_time[(server_ip, server_port)] = 1\n        else: # Else we have seen it before so increment the occurence.\n            ips_and_ports_for_this_time[(server_ip, server_port)] += 1\n        print(ips_and_ports_for_this_time)\n\n# If we exited the loop and we have stuff in our dictionary\n# we need to make sure to write it to our log_output file.\nif ips_and_ports_for_this_time:\n    with open(output_file, 'a') as write_file:\n        for key, val in ips_and_ports_for_this_time.items():\n            write_file.write('{} {} {} {}\\n'.format(timestamp, key[0], key[1], val))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11307922, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205799736988076/picture?type=large", "display_name": "Alex Mellott", "link": "https://stackoverflow.com/users/11307922/alex-mellott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554921076, "creation_date": 1554323222, "last_edit_date": 1554856264, "question_id": 55503738, "link": "https://stackoverflow.com/questions/55503738/format-and-sort-text-based-log-file-by-hour-and-number-of-events-matching-search", "title": "Format and sort text-based log file by hour and number of events matching search criteria", "body": "<p>I have a code snippet that will take a Cisco ASA log file and parse output of a specific search criteria to a separate text file. Each line of the text file looks like this:</p>\n\n<pre><code>2011-04-13 08:53:25 Local4.Info 192.168.1.1 :Apr 13 08:53:25 PDT: %ASA-session-6-302016: Teardown UDP connection 41996837 for Workstations:192.168.2.92/1885 to Servers:192.168.1.14/88 duration 0:02:01 bytes 2638\n2011-04-13 08:54:28 Local4.Info 192.168.1.1 :Apr 13 08:54:28 PDT: %ASA-session-6-302015: Built inbound UDP connection 41998715 for Workstations:192.168.2.60/4377 (192.168.2.60/4377) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 08:54:45 Local4.Info 192.168.1.1 :Apr 13 08:54:45 PDT: %ASA-session-6-302015: Built inbound UDP connection 41998861 for Workstations:192.168.2.145/4939 (192.168.2.145/4939) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 08:54:45 Local4.Info 192.168.1.1 :Apr 13 08:54:45 PDT: %ASA-session-6-302015: Built inbound UDP connection 41998869 for Workstations:192.168.2.145/4941 (192.168.2.145/4941) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 08:54:45 Local4.Info 192.168.1.1 :Apr 13 08:54:45 PDT: %ASA-session-6-302015: Built inbound UDP connection 41998873 for Workstations:192.168.2.145/4945 (192.168.2.145/4945) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 08:54:46 Local4.Info 192.168.1.1 :Apr 13 08:54:46 PDT: %ASA-session-6-302015: Built inbound UDP connection 41998884 for Workstations:192.168.2.57/4868 (192.168.2.57/4868) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 08:54:46 Local4.Info 192.168.1.1 :Apr 13 08:54:46 PDT: %ASA-session-6-302015: Built inbound UDP connection 41998888 for Workstations:192.168.2.57/4872 (192.168.2.57/4872) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 08:55:21 Local4.Info 192.168.1.1 :Apr 13 08:55:21 PDT: %ASA-session-6-302015: Built inbound UDP connection 41999271 for Workstations:192.168.2.140/4460 (192.168.2.140/4460) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 09:03:04 Local4.Info 192.168.1.1 :Apr 13 09:03:04 PDT: %ASA-session-6-302015: Built inbound UDP connection 42003790 for Workstations:192.168.2.127/1859 (192.168.2.127/1859) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 09:03:04 Local4.Info 192.168.1.1 :Apr 13 09:03:04 PDT: %ASA-session-6-302014: Teardown TCP connection 42003789 for Workstations:192.168.2.127/1858 to Servers:192.168.1.14/88 duration 0:00:00 bytes 1726 TCP FINs\n2011-04-13 09:03:05 Local4.Info 192.168.1.1 :Apr 13 09:03:05 PDT: %ASA-session-6-302016: Teardown UDP connection 42002706 for Workstations:192.168.2.127/1824 to Servers:192.168.1.14/88 duration 0:02:01 bytes 2722\n2011-04-13 10:09:48 Local4.Info 192.168.1.1 :Apr 13 10:09:48 PDT: %ASA-session-6-302015: Built inbound UDP connection 42064964 for Workstations:192.168.2.73/1214 (192.168.2.73/1214) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 10:10:26 Local4.Info 192.168.1.1 :Apr 13 10:10:26 PDT: %ASA-session-6-302016: Teardown UDP connection 42061792 for Workstations:192.168.2.91/4189 to Servers:192.168.1.14/88 duration 0:02:01 bytes 2716\n2011-04-13 10:10:26 Local4.Info 192.168.1.1 :Apr 13 10:10:26 PDT: %ASA-session-6-302016: Teardown UDP connection 42061793 for Workstations:192.168.2.91/4190 to Servers:192.168.1.14/88 duration 0:02:01 bytes 2719\n2011-04-13 10:10:27 Local4.Info 192.168.1.1 :Apr 13 10:10:27 PDT: %ASA-session-6-302016: Teardown UDP connection 42061798 for Workstations:192.168.2.91/4194 to Servers:192.168.1.14/88 duration 0:02:02 bytes 2722\n2011-04-13 11:26:02 Local4.Info 192.168.1.1 :Apr 13 11:26:02 PDT: %ASA-session-6-302015: Built inbound UDP connection 42072419 for Workstations:192.168.2.81/1205 (192.168.2.81/1205) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 11:26:27 Local4.Info 192.168.1.1 :Apr 13 11:26:27 PDT: %ASA-session-6-302015: Built inbound UDP connection 42072489 for Workstations:192.168.2.98/2209 (192.168.2.98/2209) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 11:26:28 Local4.Info 192.168.1.1 :Apr 13 11:26:28 PDT: %ASA-session-6-302016: Teardown UDP connection 42072239 for Workstations:192.168.2.127/2162 to Servers:192.168.1.14/88 duration 0:02:01 bytes 2537\n2011-04-13 11:26:28 Local4.Info 192.168.1.1 :Apr 13 11:26:28 PDT: %ASA-session-6-302016: Teardown UDP connection 42072240 for Workstations:192.168.2.127/2163 to Servers:192.168.1.14/88 duration 0:02:01 bytes 2552\n2011-04-13 11:26:57 Local4.Info 192.168.1.1 :Apr 13 11:26:57 PDT: %ASA-session-6-302015: Built inbound UDP connection 42072538 for Workstations:192.168.2.23/3146 (192.168.2.23/3146) to Servers:192.168.1.14/88 (192.168.1.14/88)\n2011-04-13 11:27:31 Local4.Info 192.168.1.1 :Apr 13 11:27:31 PDT: %ASA-session-6-302016: Teardown UDP connection 42072362 for Workstations:192.168.2.137/4748 to Servers:192.168.1.14/88 duration 0:02:01 bytes 2618\n</code></pre>\n\n<p>The program, right now, copies over all matching log entries that match a given search criteria (in my case, 192.168.1.14/88), and writes them to a new text file. However, now I want to format the output of this file so it's in an easily-interpreted manner. So now, I want the program to output the search criteria like this:</p>\n\n<pre><code>(first column date/time with hour only, second IP address, third port number, fourth # of events)\n2011-04-13T08 192.168.1.14  88  8\n2011-04-13T09 192.168.1.14      88      3\n2011-04-13T10 192.168.1.14      88      4\n2011-04-13T11 192.168.1.14      88      6\n</code></pre>\n\n<p>I'm struggling with figuring out how to do this. Any suggestions?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\n\n# Ask user for file input\nfileName = input(\"File Name to Read: \")\nwriteFile = input(\"File Name to Write to: \")\n\nprint(\"Reading data from file: \" + fileName)\nprint(\"All matching lines of input file will be output to \" + writeFile)\nprint(\"\")\nprint(\"Use this format for IP/Port Searching: X.X.X.X:Port\")\nsearch = input(\"Enter the IP address and port to find data from: \")\nprint(\"\")\nprint(\"Now searching \" + fileName + \" for data matching IP/Port \" + search)\nprint(\"Analyzing data from file: \" +fileName)\nprint(\"This may take a while, depending on the size of the data.\")\n\nf = open(fileName, 'r')\nwriteFile = open(writeFile, 'w')\n\nnum_lines = 0\nnum_events = 0\n\nwith open(fileName) as f:\n    for i, l in enumerate(f):\n        if search in l:\n            num_events += 1\n            writeFile.write(l)\nwriteFile.close()\nf.close()\n\n# Print number of matching events\nprint(\"Search complete! I found \",num_events,\" events matching your search criteria \" + search)\n</code></pre>\n\n<p>EDIT: I can do it from memory as well by declaring an empty list and writing each line to a list, I just chose to do it to a text file. If it's easier to do it by parsing through a list from memory, I'm open to that.</p>\n"}, {"tags": ["python", "django", "django-models", "django-rest-framework", "django-views"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1554323485, "post_id": 55503715, "comment_id": 97713834, "body": "Show the code for PostSerializer. Also can you check how that field is being saved? Is it definitely saved as a list? Really you should also be using your serializer to save, rather than getting the raw POST."}, {"owner": {"reputation": 2965, "user_id": 4626254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Td_75cnFBl0/AAAAAAAAAAI/AAAAAAAAAC8/COZ0iGRh-Ts/photo.jpg?sz=128", "display_name": "Underoos", "link": "https://stackoverflow.com/users/4626254/underoos"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1554324040, "post_id": 55503715, "comment_id": 97714047, "body": "Please see the updated content."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1554324142, "post_id": 55503715, "comment_id": 97714099, "body": "So like I said, the problem is in the saving, not the response. Also like I said, you should have been using the serializer to save them, which would probably avoid this problem."}], "answers": [{"tags": [], "owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "is_accepted": true, "score": 1, "last_activity_date": 1554348744, "creation_date": 1554348744, "answer_id": 55507419, "question_id": 55503715, "link": "https://stackoverflow.com/questions/55503715/why-is-response-considering-list-item-as-string-in-django-rest/55507419#55507419", "title": "Why is response considering list item as string in Django rest?", "body": "<p>You are not doing it in the DRF way :( As <strong><em>Daniel Roseman</em></strong> said, you should use the serializer to save them. Anyway, try the following snippet</p>\n\n<pre><code>class CreateView(APIView):\n    def post(self, request):\n        <b>post_serializer = PostSerializer(data=request.data)\n        post_serializer.is_valid(True)\n        post_serializer.save()</b>\n        return Response(<b>post_serializer.data</b>)</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11310494"}, "is_accepted": false, "score": 0, "last_activity_date": 1554369125, "creation_date": 1554369125, "answer_id": 55512058, "question_id": 55503715, "link": "https://stackoverflow.com/questions/55503715/why-is-response-considering-list-item-as-string-in-django-rest/55512058#55512058", "title": "Why is response considering list item as string in Django rest?", "body": "<p>The problem is with your way of considering the request and saving it. As suggested by JPG, it wouldn't be a problem if you save the response as object after serializing it.</p>\n"}], "owner": {"reputation": 2965, "user_id": 4626254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Td_75cnFBl0/AAAAAAAAAAI/AAAAAAAAAC8/COZ0iGRh-Ts/photo.jpg?sz=128", "display_name": "Underoos", "link": "https://stackoverflow.com/users/4626254/underoos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 55507419, "answer_count": 2, "score": 0, "last_activity_date": 1554369125, "creation_date": 1554323102, "last_edit_date": 1554323815, "question_id": 55503715, "link": "https://stackoverflow.com/questions/55503715/why-is-response-considering-list-item-as-string-in-django-rest", "title": "Why is response considering list item as string in Django rest?", "body": "<p>I'm working on a case where when a user sends a post request with data, the data will be stored in a table and response all the objects in that table.</p>\n\n<p>I'm trying to implement <code>JsonResponse</code> in <code>django-rest-framework</code>. </p>\n\n<p>I created two of my model fields as <code>ListFields</code> and serialized the query set for response. </p>\n\n<p>But when the server is sending response, instead of being list items, they're shown as string values. </p>\n\n<p>Here's my code</p>\n\n<p><strong>models.py:</strong></p>\n\n<pre><code>from django.db import models\nfrom djongo.models import ListField\n\nclass Post(models.Model):\n    title = models.TextField()\n    cast = ListField()\n    scenes = ListField()\n</code></pre>\n\n<p><strong>views.py:</strong></p>\n\n<pre><code>from rest_framework.response import Response\nfrom rest_framework.views import APIView\nfrom app1.models import Post\nfrom app1.serializers import PostSerializer\n\nclass CreateView(APIView):\n    def post(self, request):\n        data = request.POST\n        post = Post(**data)\n        post.save()\n        dat = Post.objects.all()\n        print(dat)\n        serializer = PostSerializer(dat, many=True)\n        return Response(serializer.data)\n</code></pre>\n\n<p><strong>serializers.py:</strong></p>\n\n<pre><code>from rest_framework import serializers\nfrom app1.models import Post\n\nclass PostSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Post\n        fields = '__all__'\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>[\n    {\n        \"id\": 1,\n        \"title\": \"['This is title']\",\n        \"cast\": \"['1,2,3']\",\n        \"scenes\": \"['4,5,6']\"\n    },\n    {\n        \"id\": 2,\n        \"title\": \"['This is title']\",\n        \"cast\": \"['10,20,30']\",\n        \"scenes\": \"['40,50,60']\"\n    },\n    {\n        \"id\": 3,\n        \"title\": \"['This is title']\",\n        \"cast\": \"['10,20,30']\",\n        \"scenes\": \"['40,50,60']\"\n    }\n]\n</code></pre>\n\n<p>Here the cast and scenes fields are shown as strings instead of Lists.</p>\n\n<p>BTW. I'm using MongoDB and the list fields are not being saved as arrays. They are being saved as a string where the items are separated by commas.</p>\n\n<p>Where am I going wrong? What should I do to make the fields in response to behave as list fields instead of strings?</p>\n"}, {"tags": ["python", "installation", "anaconda", "ipython", "conda"], "answers": [{"tags": [], "owner": {"reputation": 1729, "user_id": 4321462, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/689f5fbc965c62e30e67375e34d13ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Samufi", "link": "https://stackoverflow.com/users/4321462/samufi"}, "is_accepted": true, "score": 1, "last_activity_date": 1554445894, "creation_date": 1554445894, "answer_id": 55529471, "question_id": 55503705, "link": "https://stackoverflow.com/questions/55503705/fresh-re-install-of-anaconda-fails-remove-all-conflicts-between-anaconda-and-t/55529471#55529471", "title": "Fresh re-install of Anaconda fails - remove all conflicts between Anaconda and the system", "body": "<p>Temporarily disabling my anti-virus program did the trick for me. I am using the anti-virus program built into Windows 10. </p>\n\n<p>Open the Windows defender security centre and switch off real-time protection. Install the package <code>ipykernel</code>, switch on the real-time protection again. </p>\n\n<p>After that I have not had any further issues so far.</p>\n"}], "owner": {"reputation": 1729, "user_id": 4321462, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/689f5fbc965c62e30e67375e34d13ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Samufi", "link": "https://stackoverflow.com/users/4321462/samufi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2087, "favorite_count": 0, "accepted_answer_id": 55529471, "answer_count": 1, "score": 1, "last_activity_date": 1554445894, "creation_date": 1554323055, "last_edit_date": 1554329625, "question_id": 55503705, "link": "https://stackoverflow.com/questions/55503705/fresh-re-install-of-anaconda-fails-remove-all-conflicts-between-anaconda-and-t", "title": "Fresh re-install of Anaconda fails - remove all conflicts between Anaconda and the system", "body": "<p>After ending up breaking my Anaconda environmaent during an update process (issue described <a href=\"https://stackoverflow.com/questions/55460185/anaconda-cannot-find-packages-when-calling-python-interpreter-from-outside-the/\">here</a>), I decided to try to reinstall Anaconda. However, despite hours of research and error seeking, I failed to install Anaconda. </p>\n\n<p><strong>My question is how I could put my system back into a state such that Anaconda does not conflict with my system.</strong> </p>\n\n<p>Find details below.</p>\n\n<p>My steps were as follows:</p>\n\n<ul>\n<li>I uninstalled Anaconda.</li>\n<li>I downloaded the recent version of Anaconda and installed it. Unfortunately, no executable for the Anaconda prompt was installed, neither did Anaconda appear in the start menu. The issue is partly addressed <a href=\"http://docs.anaconda.com/anaconda/user-guide/troubleshooting/#cannot-see-anaconda-menu-shortcuts-after-installation-on-windows\" rel=\"nofollow noreferrer\">here</a></li>\n<li>I uninstalled Anaconda and installed Miniconda.</li>\n<li>Miniconda installed successfully. I installed anaconda-clean as suggested <a href=\"https://www.anaconda.com/who-you-gonna-call-halloween-tips-treats-to-protect-you-from-ghosts-gremlins-and-software-vulnerabilities/\" rel=\"nofollow noreferrer\">here</a> and ran it.</li>\n<li>I uninstalled Miniconda and made sure no python installation appeared in PATH.</li>\n<li>I deleted registry keys referring to Python</li>\n<li>I removed all directories from PATH that included files belonging to Qt5</li>\n<li>I checked that neither Python nor Anaconda appear in AppData</li>\n<li>I tried to install Anaconda again, with the same failure as above.</li>\n<li>I uninstalled Anaconda and installed Miniconda.</li>\n<li>I installed anaconda-navigator</li>\n<li>I tried to install Glueviz, but failed</li>\n<li>I removed resulting inconsistencies and installed packages one after the other</li>\n<li>I ran into an issue installing ipykernel, full output below.</li>\n</ul>\n\n<pre><code>(base) C:\\Users\\Me&gt;conda install ipykernel -v\nCollecting package metadata: ...working... done\nSolving environment: ...working... done\ninitializing UnlinkLinkTransaction with\n  target_prefix: D:\\_Programme\\Anaconda3\n  unlink_precs:\n\n  link_precs:\n    defaults::libsodium-1.0.16-h9d3ae62_0\n    defaults::zeromq-4.3.1-h33f27b4_3\n    defaults::pyzmq-18.0.0-py37ha925a31_0\n    defaults::jupyter_client-5.2.4-py37_0\n    defaults::ipykernel-5.1.0-py37h39e3cac_0\n\n\n\n## Package Plan ##\n\n  environment location: D:\\_Programme\\Anaconda3\n\n  added / updated specs:\n    - ipykernel\n\n\nThe following NEW packages will be INSTALLED:\n\n  ipykernel          pkgs/main/win-64::ipykernel-5.1.0-py37h39e3cac_0\n  jupyter_client     pkgs/main/win-64::jupyter_client-5.2.4-py37_0\n  libsodium          pkgs/main/win-64::libsodium-1.0.16-h9d3ae62_0\n  pyzmq              pkgs/main/win-64::pyzmq-18.0.0-py37ha925a31_0\n  zeromq             pkgs/main/win-64::zeromq-4.3.1-h33f27b4_3\n\n\nProceed ([y]/n)? y\n\nPreparing transaction: ...working... done\nVerifying transaction: ...working... done\nExecuting transaction: ...working... ===&gt; LINKING PACKAGE: defaults::libsodium-1.0.16-h9d3ae62_0 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n  source=D:\\_Programme\\Anaconda3\\pkgs\\libsodium-1.0.16-h9d3ae62_0\n\n\n===&gt; LINKING PACKAGE: defaults::zeromq-4.3.1-h33f27b4_3 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n  source=D:\\_Programme\\Anaconda3\\pkgs\\zeromq-4.3.1-h33f27b4_3\n\n\n===&gt; LINKING PACKAGE: defaults::pyzmq-18.0.0-py37ha925a31_0 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n  source=D:\\_Programme\\Anaconda3\\pkgs\\pyzmq-18.0.0-py37ha925a31_0\n\n\n===&gt; LINKING PACKAGE: defaults::jupyter_client-5.2.4-py37_0 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n  source=D:\\_Programme\\Anaconda3\\pkgs\\jupyter_client-5.2.4-py37_0\n\n\n===&gt; LINKING PACKAGE: defaults::ipykernel-5.1.0-py37h39e3cac_0 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n  source=D:\\_Programme\\Anaconda3\\pkgs\\ipykernel-5.1.0-py37h39e3cac_0\n\n\n$ C:\\WINDOWS\\system32\\cmd.exe /d /c D:\\_Programme\\Anaconda3\\.tmprx2boc11.bat\n==&gt; cwd: D:\\_Programme\\Anaconda3\\Scripts &lt;==\n==&gt; exit code: 1 &lt;==\n==&gt; stdout &lt;==\n\n==&gt; stderr &lt;==\nDas System kann den angegebenen Pfad nicht finden.\nParameterformat falsch - 65001.\n\n\n\nAn error occurred while installing package 'defaults::ipykernel-5.1.0-py37h39e3cac_0'.\nLinkError: post-link script failed for package defaults::ipykernel-5.1.0-py37h39e3cac_0\nrunning your command again with `-v` will provide additional information\nlocation of failed script: D:\\_Programme\\Anaconda3\\Scripts\\.ipykernel-post-link.bat\n==&gt; script messages &lt;==\n&lt;None&gt;\n\nAttempting to roll back.\n\n\n===&gt; REVERSING PACKAGE LINK: defaults::ipykernel-5.1.0-py37h39e3cac_0 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n\n\nfailed\nAn error occurred while installing package 'defaults::ipykernel-5.1.0-py37h39e3cac_0'.\nLinkError: post-link script failed for package defaults::ipykernel-5.1.0-py37h39e3cac_0\nrunning your command again with `-v` will provide additional information\nlocation of failed script: D:\\_Programme\\Anaconda3\\Scripts\\.ipykernel-post-link.bat\n==&gt; script messages &lt;==\n&lt;None&gt;\n\nAttempting to roll back.\n\n\nRolling back transaction: ...working... ===&gt; REVERSING PACKAGE LINK: defaults::jupyter_client-5.2.4-py37_0 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n\n\n===&gt; REVERSING PACKAGE LINK: defaults::pyzmq-18.0.0-py37ha925a31_0 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n\n\n===&gt; REVERSING PACKAGE LINK: defaults::zeromq-4.3.1-h33f27b4_3 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n\n\n===&gt; REVERSING PACKAGE LINK: defaults::libsodium-1.0.16-h9d3ae62_0 &lt;===\n  prefix=D:\\_Programme\\Anaconda3\n\n\ndone\nTraceback (most recent call last):\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\core\\link.py\", line 1079, in run_script\n    subprocess_call(command_args, env=env, path=dirname(path))\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\gateways\\subprocess.py\", line 85, in subprocess_call\n    output=formatted_output)\nsubprocess.CalledProcessError: Command '['C:\\\\WINDOWS\\\\system32\\\\cmd.exe', '/d', '/c', 'D:\\\\_Programme\\\\Anaconda3\\\\.tmprx2boc11.bat']' returned non-zero exit status 1.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\core\\link.py\", line 649, in _execute_post_link_actions\n    activate=True)\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\core\\link.py\", line 1095, in run_script\n    raise LinkError(message)\nconda.exceptions.LinkError: post-link script failed for package defaults::ipykernel-5.1.0-py37h39e3cac_0\nrunning your command again with `-v` will provide additional information\nlocation of failed script: D:\\_Programme\\Anaconda3\\Scripts\\.ipykernel-post-link.bat\n==&gt; script messages &lt;==\n&lt;None&gt;\n\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\core\\link.py\", line 558, in _execute\n    cls._execute_post_link_actions(pkg_idx_tracked, axngroup)\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\core\\link.py\", line 664, in _execute_post_link_actions\n    reverse_excs,\nconda.CondaMultiError: post-link script failed for package defaults::ipykernel-5.1.0-py37h39e3cac_0\nrunning your command again with `-v` will provide additional information\nlocation of failed script: D:\\_Programme\\Anaconda3\\Scripts\\.ipykernel-post-link.bat\n==&gt; script messages &lt;==\n&lt;None&gt;\n\n\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\exceptions.py\", line 1003, in __call__\n    return func(*args, **kwargs)\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\cli\\main.py\", line 84, in _main\n    exit_code = do_call(args, p)\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\cli\\conda_argparse.py\", line 82, in do_call\n    exit_code = getattr(module, func_name)(args, parser)\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\cli\\main_install.py\", line 20, in execute\n    install(args, parser, 'install')\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\cli\\install.py\", line 275, in install\n    handle_txn(unlink_link_transaction, prefix, args, newenv)\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\cli\\install.py\", line 304, in handle_txn\n    unlink_link_transaction.execute()\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\core\\link.py\", line 241, in execute\n    self._execute(tuple(concat(interleave(itervalues(self.prefix_action_groups)))))\n  File \"D:\\_Programme\\Anaconda3\\lib\\site-packages\\conda\\core\\link.py\", line 587, in _execute\n    rollback_excs,\nconda.CondaMultiError: post-link script failed for package defaults::ipykernel-5.1.0-py37h39e3cac_0\nrunning your command again with `-v` will provide additional information\nlocation of failed script: D:\\_Programme\\Anaconda3\\Scripts\\.ipykernel-post-link.bat\n==&gt; script messages &lt;==\n&lt;None&gt;\n</code></pre>\n\n<p>The German part translated to English:</p>\n\n<pre><code>$ C:\\WINDOWS\\system32\\cmd.exe /d /c D:\\_Programme\\Anaconda3\\.tmprx2boc11.bat\n==&gt; cwd: D:\\_Programme\\Anaconda3\\Scripts &lt;==\n==&gt; exit code: 1 &lt;==\n==&gt; stdout &lt;==\n\n==&gt; stderr &lt;==\nDas System kann den angegebenen Pfad nicht finden.\nParameterformat falsch - 65001.\n</code></pre>\n\n<p>translates to </p>\n\n<pre><code>$ C:\\WINDOWS\\system32\\cmd.exe /d /c D:\\_Programme\\Anaconda3\\.tmprx2boc11.bat\n==&gt; cwd: D:\\_Programme\\Anaconda3\\Scripts &lt;==\n==&gt; exit code: 1 &lt;==\n==&gt; stdout &lt;==\n\n==&gt; stderr &lt;==\nThe system cannot find the specified path\nParameter format is wrong - 65001.\n</code></pre>\n\n<p><a href=\"https://github.com/ContinuumIO/anaconda-issues/issues/8087\" rel=\"nofollow noreferrer\">Here</a> is a long thread discussing this problem. A number of the steps that I undertook to finish my installation were inspired by posts in this thread, but I did not succeed. Note that I posted my question in the linked thread also. I will make sure the answer gets posted here as well, if I get help from the Anaconda developers.</p>\n\n<p>I believe somehow my system must be in a state that hinders me from getting Anaconda installed. All described issues seam to be rather common, but none of the suggested solutions worked for me thus far. I ran out of ideas and <strong>would be interested in a list of steps that I (and other people with the same problem) can undertake to transfer my system in a state that is not conflicting with Anaconda.</strong> </p>\n\n<p>Detailed info on conda:</p>\n\n<pre><code>(base) C:\\Users\\Me&gt;conda info\n\n     active environment : base\n    active env location : D:\\_Programme\\Anaconda3\n            shell level : 1\n       user config file : C:\\Users\\Me\\.condarc\n populated config files : C:\\Users\\Me\\.condarc\n          conda version : 4.6.9\n    conda-build version : not installed\n         python version : 3.7.1.final.0\n       base environment : D:\\_Programme\\Anaconda3  (writable)\n           channel URLs : https://repo.anaconda.com/pkgs/main/win-64\n                          https://repo.anaconda.com/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/free/win-64\n                          https://repo.anaconda.com/pkgs/free/noarch\n                          https://repo.anaconda.com/pkgs/r/win-64\n                          https://repo.anaconda.com/pkgs/r/noarch\n                          https://repo.anaconda.com/pkgs/msys2/win-64\n                          https://repo.anaconda.com/pkgs/msys2/noarch\n          package cache : D:\\_Programme\\Anaconda3\\pkgs\n                          C:\\Users\\Me\\.conda\\pkgs\n                          C:\\Users\\Me\\AppData\\Local\\conda\\conda\\pkgs\n       envs directories : D:\\_Programme\\Anaconda3\\envs\n                          C:\\Users\\Me\\.conda\\envs\n                          C:\\Users\\Me\\AppData\\Local\\conda\\conda\\envs\n               platform : win-64\n             user-agent : conda/4.6.9 requests/2.21.0 CPython/3.7.1 Windows/10 Windows/10.0.17134\n          administrator : False\n             netrc file : None\n           offline mode : False\n</code></pre>\n\n<p>I am working on 64bit Windows 10.</p>\n"}, {"tags": ["python", "xml", "csv"], "comments": [{"owner": {"reputation": 1, "user_id": 13080373, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/706032d4a7ad919e210d57a6aa5caccb?s=128&d=identicon&r=PG", "display_name": "paul clinch", "link": "https://stackoverflow.com/users/13080373/paul-clinch"}, "edited": false, "score": 0, "creation_date": 1584508846, "post_id": 55503688, "comment_id": 107455485, "body": "For python 2.7 see codecs.open()."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11300910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0AUQK4j1rOo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd70UTYGR6cLy7p6XqYM-Ig3kYUYA/mo/photo.jpg?sz=128", "display_name": "SVB", "link": "https://stackoverflow.com/users/11300910/svb"}, "edited": false, "score": 0, "creation_date": 1554324275, "post_id": 55503777, "comment_id": 97714156, "body": "Thanks for the suggestions. I tried that and it didn&#39;t work. I get the following error:   Traceback (most recent call last):   File &quot;./XMLtoCsv.py&quot;, line 27, in &lt;module&gt;     with open(r&#39;outputdata.csv&#39;, &#39;wb&#39;, encoding=&#39;utf-8&#39;) as f_businesslist: TypeError: &#39;encoding&#39; is an invalid keyword argument for this function"}, {"owner": {"reputation": 1, "user_id": 11300910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0AUQK4j1rOo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd70UTYGR6cLy7p6XqYM-Ig3kYUYA/mo/photo.jpg?sz=128", "display_name": "SVB", "link": "https://stackoverflow.com/users/11300910/svb"}, "edited": false, "score": 0, "creation_date": 1554324640, "post_id": 55503777, "comment_id": 97714319, "body": "same error : TypeError: &#39;encoding&#39; is an invalid keyword argument for this function"}, {"owner": {"reputation": 1857, "user_id": 6509765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7iUz.jpg?s=128&g=1", "display_name": "Amir Imani", "link": "https://stackoverflow.com/users/6509765/amir-imani"}, "reply_to_user": {"reputation": 1, "user_id": 11300910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0AUQK4j1rOo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd70UTYGR6cLy7p6XqYM-Ig3kYUYA/mo/photo.jpg?sz=128", "display_name": "SVB", "link": "https://stackoverflow.com/users/11300910/svb"}, "edited": false, "score": 0, "creation_date": 1554329053, "post_id": 55503777, "comment_id": 97715890, "body": "After some  search, it seems python 2 doesn&#39;t support encoding as an argument. try something like <code>f_businesslist.decode(&quot;UTF-8&quot;)</code> in your DictWriter"}], "tags": [], "owner": {"reputation": 1857, "user_id": 6509765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7iUz.jpg?s=128&g=1", "display_name": "Amir Imani", "link": "https://stackoverflow.com/users/6509765/amir-imani"}, "is_accepted": false, "score": 0, "last_activity_date": 1554323415, "creation_date": 1554323415, "answer_id": 55503777, "question_id": 55503688, "link": "https://stackoverflow.com/questions/55503688/python-parsing-xml-to-csv-encoding-issues/55503777#55503777", "title": "Python parsing XML to CSV Encoding issues", "body": "<p>You need to encode Unicode explicitly when you are opening the file.</p>\n\n<pre><code>with open(r'outputdata.csv', 'wb', encoding='utf-8) as f_businesslist:\n</code></pre>\n\n<p>It seems you are using python 2.7. I would also suggest switching to python 3.x.</p>\n"}], "owner": {"reputation": 1, "user_id": 11300910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0AUQK4j1rOo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd70UTYGR6cLy7p6XqYM-Ig3kYUYA/mo/photo.jpg?sz=128", "display_name": "SVB", "link": "https://stackoverflow.com/users/11300910/svb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584508846, "creation_date": 1554322998, "question_id": 55503688, "link": "https://stackoverflow.com/questions/55503688/python-parsing-xml-to-csv-encoding-issues", "title": "Python parsing XML to CSV Encoding issues", "body": "<p>I have a large number of XML files in a folder that I am parsing into a CSV file. My code looks like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\n    import xml.etree.ElementTree as ET\n    import csv\n    import os\n\n\n\n\n    fields = [\n        ('ID', 'FHRSID'),\n        ('businessname', 'BusinessName'),\n        ('businesstype', 'BusinessType'),\n        ('address1', 'AddressLine1'),\n        ('address2', 'AddressLine2'),\n        ('address3', 'AddressLine3'),\n        ('address4', 'AddressLine4'),\n        ('postcode', 'PostCode'),\n        ('longitude', 'Geocode/Longitude'),\n        ('latitude', 'Geocode/Latitude')]\n\n    path = '/***/****/****/XML'\n    for filename in os.listdir(path):\n        if not filename.endswith('.xml'): continue\n        fullname = os.path.join(path, filename)\n        tree = ET.parse(fullname)\n\n\n    with open(r'outputdata.csv', 'wb') as f_businesslist:\n        csv_businessdata = csv.DictWriter(f_businesslist, fieldnames=[field for field, match in fields])\n        csv_businessdata.writeheader()\n\n        for node in tree.iter('EstablishmentDetail'):\n            row = {}\n\n            for field_name, match in fields:\n                try:\n                    row[field_name] = node.find(match).text\n                except AttributeError as e:\n                    row[field_name] = ''\n\n\n\n            csv_businessdata.writerow(row)\n</code></pre>\n\n<p>It does what it is supposed to do but then i get an encoding error like this:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./XMLtoCsv.py\", line 42, in &lt;module&gt;\n    csv_businessdata.writerow(row)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/csv.py\", line 152, in writerow\n    return self.writer.writerow(self._dict_to_list(rowdict))\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 11: ordinal not in range(128)\n</code></pre>\n\n<p>Can anyone help? I have spent a lot of time reading through some similar problems but nothing seems to help. I am very new to this so I assume it is something stupid I have done or failed to do. Many thanks</p>\n"}]