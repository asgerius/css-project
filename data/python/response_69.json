[{"tags": ["python", "list"], "comments": [{"owner": {"reputation": 38204, "user_id": 346478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a60a250d33ebf1c57ca7e603e21311?s=128&d=identicon&r=PG", "display_name": "Jan Vlcinsky", "link": "https://stackoverflow.com/users/346478/jan-vlcinsky"}, "edited": false, "score": 1, "creation_date": 1462407553, "post_id": 37040098, "comment_id": 61630188, "body": "Note, that your loop in <code>set_names</code> simply copies values from one list to another. this can be simply done by <code>file_list = list(orig_list)</code>. In case, you do not mind, that those two list would point to the same data structure, you could also use <code>file_list = orig_list</code>. In that case if one list would be changed (e.g. a value appended), the other one would change (as it points to the same list)."}, {"owner": {"reputation": 1025, "user_id": 1815288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hgQ61.jpg?s=128&g=1", "display_name": "NVaughan", "link": "https://stackoverflow.com/users/1815288/nvaughan"}, "reply_to_user": {"reputation": 38204, "user_id": 346478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a60a250d33ebf1c57ca7e603e21311?s=128&d=identicon&r=PG", "display_name": "Jan Vlcinsky", "link": "https://stackoverflow.com/users/346478/jan-vlcinsky"}, "edited": false, "score": 0, "creation_date": 1462407988, "post_id": 37040098, "comment_id": 61630298, "body": "Yes, I know that. The original function did something different, but I simplified it to get a MWE."}], "answers": [{"comments": [{"owner": {"reputation": 1025, "user_id": 1815288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hgQ61.jpg?s=128&g=1", "display_name": "NVaughan", "link": "https://stackoverflow.com/users/1815288/nvaughan"}, "edited": false, "score": 0, "creation_date": 1462406884, "post_id": 37040135, "comment_id": 61630035, "body": "So the indexes must first exist in order to be assigned?"}, {"owner": {"reputation": 3591, "user_id": 4107956, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LjlBF.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/4107956/will"}, "reply_to_user": {"reputation": 1025, "user_id": 1815288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hgQ61.jpg?s=128&g=1", "display_name": "NVaughan", "link": "https://stackoverflow.com/users/1815288/nvaughan"}, "edited": false, "score": 1, "creation_date": 1462407810, "post_id": 37040135, "comment_id": 61630242, "body": "Exactly, you can only assign a value to <code>my_list[i]</code> if <code>i</code> is less than <code>len(my_list)</code>.  Otherwise, you need to use <code>append()</code>, which adds the item to the end of the list by adding 1 to the length of the list."}], "tags": [], "owner": {"reputation": 3591, "user_id": 4107956, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LjlBF.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/4107956/will"}, "is_accepted": true, "score": 3, "last_activity_date": 1469028922, "last_edit_date": 1469028922, "creation_date": 1462406582, "answer_id": 37040135, "question_id": 37040098, "link": "https://stackoverflow.com/questions/37040098/indexerror-in-python3/37040135#37040135", "title": "IndexError in Python3", "body": "<p>You are trying to assign a value to an index in the list that does not exist yet:</p>\n\n<pre><code>file_list = []\nfor i in range(len(orig_flist)):\n    file_list[i] = orig_flist[i]\n</code></pre>\n\n<p>You will want to use <code>append</code> in order to lengthen your list like so:</p>\n\n<pre><code>file_list = []\nfor i in range(len(orig_flist)):\n    file_list.append(orig_flist[i])\n</code></pre>\n"}], "owner": {"reputation": 1025, "user_id": 1815288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hgQ61.jpg?s=128&g=1", "display_name": "NVaughan", "link": "https://stackoverflow.com/users/1815288/nvaughan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 37040135, "answer_count": 1, "score": 2, "last_activity_date": 1469028922, "creation_date": 1462406365, "question_id": 37040098, "link": "https://stackoverflow.com/questions/37040098/indexerror-in-python3", "title": "IndexError in Python3", "body": "<p>I have the following MWE:</p>\n\n<pre><code>def get_files():\n    file_list = ['first', 'second', 'third', 'fourth']\n    return file_list\n\ndef set_names(orig_flist):\n    file_list = []\n    for i in range(len(orig_flist)):\n        file_list[i] = orig_flist[i]\n    return file_list\n\nset_names(get_files())\n</code></pre>\n\n<p>When I run it, I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"privpub.py\", line 11, in &lt;module&gt;\n    set_names(get_files())\n  File \"privpub.py\", line 8, in set_names\n    file_list[i] = orig_flist[i]\nIndexError: list assignment index out of range\n</code></pre>\n\n<p>I don't understand what's going on. Can somebody explain me, please?</p>\n"}, {"tags": ["python", "django", "task", "celery", "amazon-sqs"], "comments": [{"owner": {"reputation": 2075, "user_id": 1761844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af814644eb6fde95ee4701233cb16f40?s=128&d=identicon&r=PG", "display_name": "zymud", "link": "https://stackoverflow.com/users/1761844/zymud"}, "edited": false, "score": 0, "creation_date": 1462430436, "post_id": 37040083, "comment_id": 61636694, "body": "Task looks OK, please add code that runs task."}, {"owner": {"reputation": 875, "user_id": 393564, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/470d824ad57a2b87093806c40a92c89a?s=128&d=identicon&r=PG", "display_name": "Imran S.", "link": "https://stackoverflow.com/users/393564/imran-s"}, "reply_to_user": {"reputation": 2075, "user_id": 1761844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af814644eb6fde95ee4701233cb16f40?s=128&d=identicon&r=PG", "display_name": "zymud", "link": "https://stackoverflow.com/users/1761844/zymud"}, "edited": false, "score": 0, "creation_date": 1462511518, "post_id": 37040083, "comment_id": 61675405, "body": "This is standard celery task. Run by celery worker on a separate server. The broker in my case is Amazon SQS."}], "answers": [{"comments": [{"owner": {"reputation": 875, "user_id": 393564, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/470d824ad57a2b87093806c40a92c89a?s=128&d=identicon&r=PG", "display_name": "Imran S.", "link": "https://stackoverflow.com/users/393564/imran-s"}, "edited": false, "score": 0, "creation_date": 1462628375, "post_id": 37073417, "comment_id": 61722354, "body": "Great. I will try this first thing on Monday. What do I do with the DeadLetter Queue? I read that there can only be <i>certain</i> number of messages in a queue at a time. Should I just purge it on regular basis?"}, {"owner": {"reputation": 10169, "user_id": 6017840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0178fd0ada940a400e40867315020b2?s=128&d=identicon&r=PG&f=1", "display_name": "mootmoot", "link": "https://stackoverflow.com/users/6017840/mootmoot"}, "reply_to_user": {"reputation": 875, "user_id": 393564, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/470d824ad57a2b87093806c40a92c89a?s=128&d=identicon&r=PG", "display_name": "Imran S.", "link": "https://stackoverflow.com/users/393564/imran-s"}, "edited": false, "score": 0, "creation_date": 1462778528, "post_id": 37073417, "comment_id": 61761539, "body": "@ImranS. SQS let you retain message up to 14 days, different message queue services handle queue limit differently.  For the purging part, it depends on your workflow and requirement."}], "tags": [], "owner": {"reputation": 10169, "user_id": 6017840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0178fd0ada940a400e40867315020b2?s=128&d=identicon&r=PG&f=1", "display_name": "mootmoot", "link": "https://stackoverflow.com/users/6017840/mootmoot"}, "is_accepted": false, "score": 1, "last_activity_date": 1462778601, "last_edit_date": 1462778601, "creation_date": 1462540507, "answer_id": 37073417, "question_id": 37040083, "link": "https://stackoverflow.com/questions/37040083/how-to-retry-a-celery-task-without-duplicating-it-sqs/37073417#37073417", "title": "How to retry a celery task without duplicating it - SQS", "body": "<p>This is NOT celery nor SQS issues. \nThe real issues is the workflow , i.e. way of you sending message to MQ service and handle it that cause duplication. You will face the same problem using any other MQ service. </p>\n\n<p>Imagine your flow</p>\n\n<ol>\n<li>script : read task message.  MQ Message : lock for 30 seconds</li>\n<li>script : task fail.  MQ Message : locking timeout, message are now free to be grab again</li>\n<li>script : create another task message</li>\n<li>Script : Repeat Step 1.   MQ Message : 2 message with the same task, so step 1 will launch 2 task. </li>\n</ol>\n\n<p>So if the task keep failing, it will keep multiply, 2,4,8,16,32.... </p>\n\n<p>If celery script are mean to <strong>\"Recreate failed task and send to message queue\"</strong>, you want to make sure these message can only be read ONCE. **You MUST discard the task message after it already been read 1 time, even if the task failed. **</p>\n\n<p>There are at least 2 ways to do this, choose one. </p>\n\n<ol>\n<li>Delete the message before recreate the task. OR</li>\n<li>In SQS, you can enforce this by create DeadLetter Queue, configure the Redrive  Policy, set Maximum Receives to 1. This will make sure the message\nwith the task that have been read never recycle.</li>\n</ol>\n\n<p>You may prefer method 2, because method 1 require you to configure celery to \"consume\"(read and delete) ASAP it read the message, which is not very practical. (and you must make sure you delete it before create a new message for failed task)\nThis dead letter queue is a way to let you to check if celery CRASH, i.e. message that have been read once but not consumed (delete) means program stop somewhere. </p>\n"}, {"tags": [], "owner": {"reputation": 1929, "user_id": 1668328, "user_type": "registered", "accept_rate": 3, "profile_image": "https://www.gravatar.com/avatar/5ed18ad13d8999f33099756cff554bef?s=128&d=identicon&r=PG", "display_name": "gCoh", "link": "https://stackoverflow.com/users/1668328/gcoh"}, "is_accepted": false, "score": 0, "last_activity_date": 1606214690, "creation_date": 1606214690, "answer_id": 64984794, "question_id": 37040083, "link": "https://stackoverflow.com/questions/37040083/how-to-retry-a-celery-task-without-duplicating-it-sqs/64984794#64984794", "title": "How to retry a celery task without duplicating it - SQS", "body": "<p>This is probably a little bit late, I have written a backoff policy for Celery + SQS as a patch.</p>\n<p>You can see how it is implemented in this repository</p>\n<p><a href=\"https://github.com/galCohen88/celery_sqs_retry_policy/blob/master/svc/celery.py\" rel=\"nofollow noreferrer\">https://github.com/galCohen88/celery_sqs_retry_policy/blob/master/svc/celery.py</a></p>\n"}], "owner": {"reputation": 875, "user_id": 393564, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/470d824ad57a2b87093806c40a92c89a?s=128&d=identicon&r=PG", "display_name": "Imran S.", "link": "https://stackoverflow.com/users/393564/imran-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1788, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1606214690, "creation_date": 1462406287, "last_edit_date": 1462512742, "question_id": 37040083, "link": "https://stackoverflow.com/questions/37040083/how-to-retry-a-celery-task-without-duplicating-it-sqs", "title": "How to retry a celery task without duplicating it - SQS", "body": "<p>I have a Celery task that takes a message from an SQS queue and tries to run it. If it fails it is supposed to retry every 10 seconds at least 144 times. What I think is happening is that it fails and gets back into the queue, and at the same time it creates a new one, duplicating it to 2. These 2 fail again and follow the same pattern to create 2 new and becoming 4 messages in total. So if I let it run for some time the queue gets clogged.</p>\n\n<p>What I am not getting is the proper way to retry it without duplicating. Following is the code that retries. Please see if someone can guide me here.</p>\n\n<pre><code>from celery import shared_task\nfrom celery.exceptions import MaxRetriesExceededError\n\n\n@shared_task\ndef send_br_update(bgc_id, xref_id, user_id, event):\n    from myapp.models.mappings import BGC\n\n    try:\n        bgc = BGC.objects.get(pk=bgc_id)\n        return bgc.send_br_update(user_id, event)\n\n    except BGC.DoesNotExist:\n        pass\n\n    except MaxRetriesExceededError:\n        pass\n\n    except Exception as exc:\n        # retry every 10 minutes for at least 24 hours\n        raise send_br_update.retry(exc=exc, countdown=600, max_retries=144)\n</code></pre>\n\n<p><strong>Update:</strong>\n<em>More explanation of the issue...</em></p>\n\n<p>A user creates an object in my database. Other users act upon that object and as they change the state of that object, my code emits signals. The signal handler then initiates a celery task, which means that it connects to the desired SQS queue and submits the message to the queue. The celery server, running the workers, see that new message and try to execute the task. This is where it fails and the retry logic comes in. </p>\n\n<p>According to celery documentation to <a href=\"http://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.retry\" rel=\"nofollow\">retry a task</a> all we need to do is to raise self.retry() call with countdown and/or max_retries. If a celery task raises an exception it is considered as failed. I am not sure how SQS handles this. All I know is that one task fails and there are two in the queue, both of these fail and then there are 4 in the queue and so on...</p>\n"}, {"tags": ["python", "graph", "pygal"], "answers": [{"comments": [{"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1463061272, "post_id": 37187478, "comment_id": 61910702, "body": "While this is a dirty fix, it sort of answers the question.  The reality is that I don&#39;t think it&#39;s possible (in the current version of pygal), so this is probably the best possible option.  Thank you."}], "tags": [], "owner": {"reputation": 1540, "user_id": 5187177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d61ebd66fc4d0f0f2d3415416b489f?s=128&d=identicon&r=PG&f=1", "display_name": "Jacquot", "link": "https://stackoverflow.com/users/5187177/jacquot"}, "is_accepted": true, "score": 1, "last_activity_date": 1463057505, "creation_date": 1463057505, "answer_id": 37187478, "question_id": 37039996, "link": "https://stackoverflow.com/questions/37039996/combine-and-compare-two-sets-of-stacked-data-in-pygal/37187478#37187478", "title": "Combine and compare two sets of stacked data in pygal", "body": "<p>That kind of does the trick : </p>\n\n<pre><code>new_chart = pygal.StackedBar()\n\n# set 1\nnew_chart.add('1-1',[1, 0, 2, 0, 3, 0, 4, 0])\nnew_chart.add('1-2',[4, 0, 3, 0, 2, 0, 1, 0])\n\n# set 2\nnew_chart.add('2-1',[0, 9, 0, 8, 0, 7, 0, 6])\nnew_chart.add('2-2',[0, 6, 0, 7, 0, 8, 0, 9])\n</code></pre>\n\n<p><img src=\"https://i.imgur.com/eg7ZjIe.png\" alt=\"The output image\"></p>\n\n<p>You can get a clearer image with additional zeros for empty spaces :</p>\n\n<pre><code>new_chart = pygal.StackedBar()\n# set 1\nnew_chart.add('1-1',[1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0])\nnew_chart.add('1-2',[4, 0, 0, 3, 0, 0, 2, 0, 0, 1, 0])\n\n# set 2\nnew_chart.add('2-1',[0, 9, 0, 0, 8, 0, 0, 7, 0, 0, 6])\nnew_chart.add('2-2',[0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9])\n</code></pre>\n\n<p><img src=\"https://i.imgur.com/Cc4IVk5.png\" alt=\"\"></p>\n"}], "owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 37187478, "answer_count": 1, "score": 1, "last_activity_date": 1463057505, "creation_date": 1462405736, "last_edit_date": 1462411149, "question_id": 37039996, "link": "https://stackoverflow.com/questions/37039996/combine-and-compare-two-sets-of-stacked-data-in-pygal", "title": "Combine and compare two sets of stacked data in pygal", "body": "<p>I'm wondering if it's possible to combine two sets of data (made up of two lists each) into a pygal chart.</p>\n\n<p>The code would look something like this:</p>\n\n<pre><code>new_chart = pygal.StackedBar()\n\n# set 1\nnew_chart.add('1-1',[1,2,3,4])\nnew_chart.add('1-2',[4,3,2,1])\n\n# set 2\nnew_chart.add('2-1',[9,8,7,6])\nnew_chart.add('2-2',[6,7,8,9])\n\nnew_chart.render()\n</code></pre>\n\n<p>But I would want the second set to be next to (not stacked on) the first set.</p>\n"}, {"tags": ["python", "list", "pandas", "text", "split"], "comments": [{"owner": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "edited": false, "score": 0, "creation_date": 1462405344, "post_id": 37039878, "comment_id": 61629625, "body": "If I&#39;ve answered your question, you can accept it by clicking the checkmark next to it. Good luck."}, {"owner": {"reputation": 33, "user_id": 6293189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07950b4afa58bfe850a507be99534bf8?s=128&d=identicon&r=PG&f=1", "display_name": "jlt", "link": "https://stackoverflow.com/users/6293189/jlt"}, "reply_to_user": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "edited": false, "score": 0, "creation_date": 1462407225, "post_id": 37039878, "comment_id": 61630120, "body": "thanks for the speedy reply! I was just wondering what you are saying &#39;f&#39; is and why you&#39;ve put the letter i after x, y, and z. I really appreciate your help! :)"}], "answers": [{"tags": [], "owner": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "is_accepted": true, "score": 3, "last_activity_date": 1462409610, "last_edit_date": 1462409610, "creation_date": 1462405282, "answer_id": 37039917, "question_id": 37039878, "link": "https://stackoverflow.com/questions/37039878/creating-lists-from-a-text-file-by-splitting-it-vertically/37039917#37039917", "title": "Creating lists from a text file by splitting it vertically", "body": "<p>Do this:</p>\n\n<pre><code>with data as f:     # f is the file object\n    for line in f:  # you can iterate over a file object line-by-line\n        xi, yi, ei = line.split()\n        x.append(xi)\n        y.append(yi)\n        e.append(ei.strip()) # ei will have a \\n on the end\n</code></pre>\n\n<p>You can coerce them to ints or floats when appending them, if your assumptions about their shape are correct.</p>\n\n<p>If you have pandas, I recommend <code>read_csv</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; pd.read_csv('data.txt', delim_whitespace=True)\n   x    y         e\n0 -2  2.1  0.170359\n1  0  2.4  0.170203\n2  2  2.5 -0.138558\n3  4  3.5  0.187966\n4  6  4.2 -0.473073\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1462472082, "last_edit_date": 1462472082, "creation_date": 1462471717, "answer_id": 37057397, "question_id": 37039878, "link": "https://stackoverflow.com/questions/37039878/creating-lists-from-a-text-file-by-splitting-it-vertically/37057397#37057397", "title": "Creating lists from a text file by splitting it vertically", "body": "<p>You can use the csv lib:</p>\n\n<pre><code>import csv\n\nx, y, e = [], [], []\nwith open(\"in.csv\") as f:\n    next(f)\n for a, b, c in csv.reader(f, delimiter=\" \", skipinitialspace=1):\n    x.append(float(a))\n    y.append(float(b))\n    e.append(float(c))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[-2.0, 0.0, 2.0, 4.0, 6.0]\n[2.1, 2.4, 2.5, 3.5, 4.2]\n[0.170358869161, 0.170202773308, -0.138557648063, 0.187965696415, -0.473073365465]\n</code></pre>\n\n<p>Or using with a defaultdict to group the elements:</p>\n\n<pre><code>import csv\nfrom collections import defaultdict\n\n\nwith open(\"in.csv\") as f:\n    d = defaultdict(list)\n    for dct in csv.DictReader(f, delimiter=\" \", skipinitialspace=1):\n        for k, v in dct.items():\n            d[k].append(float(v))\n\nfrom pprint import  pprint as pp\n\npp(dict(d))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'e': [0.170358869161,\n       0.170202773308,\n       -0.138557648063,\n       0.187965696415,\n       -0.473073365465],\n 'x': [-2.0, 0.0, 2.0, 4.0, 6.0],\n 'y': [2.1, 2.4, 2.5, 3.5, 4.2]}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6293189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07950b4afa58bfe850a507be99534bf8?s=128&d=identicon&r=PG&f=1", "display_name": "jlt", "link": "https://stackoverflow.com/users/6293189/jlt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 37039917, "answer_count": 2, "score": 3, "last_activity_date": 1462472082, "creation_date": 1462404968, "last_edit_date": 1462470790, "question_id": 37039878, "link": "https://stackoverflow.com/questions/37039878/creating-lists-from-a-text-file-by-splitting-it-vertically", "title": "Creating lists from a text file by splitting it vertically", "body": "<p>I want to split this text file into 3 (called <code>x</code>, <code>y</code>, and <code>e</code>) lists using Python and I can't seem to do it.</p>\n\n<p>This is what the text file (called data) looks like:</p>\n\n<pre><code>x y e\n-2 2.1 0.170358869161\n0 2.4  0.170202773308\n2 2.5  -0.138557648063\n4 3.5  0.187965696415\n6 4.2  -0.473073365465\n</code></pre>\n\n<p>This is the code I have so far that doesn't work:</p>\n\n<pre><code>x=[]\ny=[]\ne=[]\n\ntry: \n    data = open('data.txt', 'rt')\nexcept:\n    sys.exit('cannot find file')\n\nwith data:    \n    try:\n        x.append(data[:1])\n        y.append(data[2:3])\n        e.append(data[4:5])\nexcept:\n    sys.exit('cannot create lists')\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "unit-testing", "testing", "python-3.4"], "answers": [{"comments": [{"owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "edited": false, "score": 0, "creation_date": 1534768530, "post_id": 37041666, "comment_id": 90811528, "body": "In 2.7, I see a <code>self._resultForDoCleanups</code>, but it has no <code>errors</code> or <code>failures</code> attributes?"}, {"owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "edited": false, "score": 0, "creation_date": 1534768949, "post_id": 37041666, "comment_id": 90811769, "body": "... because I am running my tests under pytest... :( :("}], "tags": [], "owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "is_accepted": true, "score": 0, "last_activity_date": 1462418942, "last_edit_date": 1462418942, "creation_date": 1462417732, "answer_id": 37041666, "question_id": 37039876, "link": "https://stackoverflow.com/questions/37039876/how-determine-if-a-testcase-failed-in-python-2-7/37041666#37041666", "title": "How determine if a TestCase failed in Python 2.7", "body": "<p>In Python 2.7, you can use <a href=\"https://github.com/python/cpython/blob/2.7/Lib/unittest/case.py#L303\" rel=\"nofollow\">self._resultForDoCleanups</a> which is an instance of <a href=\"https://github.com/python/cpython/blob/2.7/Lib/unittest/result.py#L26\" rel=\"nofollow\">unittest.result.TestResult</a>. Be sure to check both <code>self._resultForDoCleanups.errors</code> and <code>self._resultForDoCleanups.failures</code>:</p>\n\n<pre><code>def _test_has_failed(self):\n    for method, error in self._resultForDoCleanups.errors:\n        if error:\n            return True\n    for method, failure in self._resultForDoCleanups.failures:\n        if failure:\n            return True\n    return False\n</code></pre>\n"}], "owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 37041666, "answer_count": 1, "score": 0, "last_activity_date": 1462418942, "creation_date": 1462404954, "question_id": 37039876, "link": "https://stackoverflow.com/questions/37039876/how-determine-if-a-testcase-failed-in-python-2-7", "title": "How determine if a TestCase failed in Python 2.7", "body": "<p>In <a href=\"http://chimera.labs.oreilly.com/books/1234000000754/ch20.html\" rel=\"nofollow\">Chapter 20</a> of Harry Percival's Test-Driven Development with Python, there is a function to determine whether or not a TestCase has failed so it can take a screenshot:</p>\n\n<pre><code># StaticLiveServerTestCase is a descendant of unittest.TestCase\nclass FunctionalTest(StaticLiveServerTestCase):\n    def tearDown(self):\n        if self._test_has_failed():\n            # ... snipped for brevity\n        self.browser.quit()\n        super().tearDown()\n\n\n    def _test_has_failed(self):\n        for method, error in self._outcome.errors:\n            if error:\n                return True\n        return False\n</code></pre>\n\n<p>This <code>_outcome</code> property is implemented on the TestCase class in Python 3.4, but not in Python 2.7. Is there some way I can determine whether or not a TestCase had an error in Python 2.7?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1462404975, "post_id": 37039865, "comment_id": 61629504, "body": "Use a loop, maybe?"}, {"owner": {"reputation": 86, "user_id": 4844503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FVzaR.jpg?s=128&g=1", "display_name": "rnt_42", "link": "https://stackoverflow.com/users/4844503/rnt-42"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1462405291, "post_id": 37039865, "comment_id": 61629604, "body": "Yes, thanks Rad. but how can I store this arrays? Into another array with bigger shape? Just beggining, sorry for noob question. \\"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1462405481, "post_id": 37039865, "comment_id": 61629677, "body": "If you need an array of arrays, then yes, Python allows that. Just keep on <code>append</code>ing them I think (check the documentation)."}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "edited": false, "score": 0, "creation_date": 1462406037, "post_id": 37039865, "comment_id": 61629842, "body": "Have you looked at <a href=\"https://docs.python.org/3/library/stdtypes.html#dict.update\" rel=\"nofollow noreferrer\"><code>dict.update(otherdict)</code></a>?"}], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 4844503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FVzaR.jpg?s=128&g=1", "display_name": "rnt_42", "link": "https://stackoverflow.com/users/4844503/rnt-42"}, "edited": false, "score": 0, "creation_date": 1462408122, "post_id": 37040149, "comment_id": 61630331, "body": "Thanks a lot, @Austin Hastings. It is exactly what I&#180;m looking for. It was very helpful!"}], "tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": true, "score": 4, "last_activity_date": 1462406667, "creation_date": 1462406667, "answer_id": 37040149, "question_id": 37039865, "link": "https://stackoverflow.com/questions/37039865/load-many-files-into-one-array-python/37040149#37040149", "title": "Load many files into one array - Python", "body": "<p>Given that you are talking about dealing with many matrices, you should manage them as a collection. First, let's define your set of files. It could be a tuple, or a list:</p>\n\n<pre><code>Matrix_files = [ 'fileA.MAT', 'file1.MAT', 'no pattern to these names.MAT' ]\n</code></pre>\n\n<p>If they happen to have a pattern, you might try generating the names:</p>\n\n<pre><code>Matrix_files = [ 'file{}.MAT'.format(num) for num in range(1,4) ]\n</code></pre>\n\n<p>If they share a common location, you might consider using one of the various directory scanning approaches (<code>opendir</code> or <code>glob</code>, to name two).</p>\n\n<p>Once you have a list of filenames, you can read the dictionaries in:</p>\n\n<pre><code>def read_matrix(filespec):\n    from scipy.io import loadmat\n    md = loadmat(filespec)\n    # process md\n    return md\n</code></pre>\n\n<p>With that, you can either get all the data, or get some of the data:</p>\n\n<pre><code>All_data = [read_matrix(f) for f in Matrix_files]\n\nSome_data = [read_matrix(f)['data'] for f in Matrix_files]\n</code></pre>\n\n<p>If you only care about the data, you could skip the function definition:</p>\n\n<pre><code>from scipy.io import loadmat\nJust_data = [loadmat(f)['data'] for f in Matrix_files]\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 4844503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FVzaR.jpg?s=128&g=1", "display_name": "rnt_42", "link": "https://stackoverflow.com/users/4844503/rnt-42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 37040149, "answer_count": 1, "score": 0, "last_activity_date": 1462406667, "creation_date": 1462404916, "question_id": 37039865, "link": "https://stackoverflow.com/questions/37039865/load-many-files-into-one-array-python", "title": "Load many files into one array - Python", "body": "<p>So, I have to load many .mat files with some features to plot it. </p>\n\n<p>Each array to be plotted is loaded into a dictionary:</p>\n\n<pre><code>import numpy as np\nimport scipy.io as io\n\n\ndict1 = io.loadmat('file1.MAT')\ndict2 = io.loadmat('file2.MAT')  # type = dict\ndict3 = io.loadmat('file3.MAT')\n...\n</code></pre>\n\n<p>so I have to take the dictionarie's element I need, to plot after:</p>\n\n<pre><code>array1 = dict1['data']\narray2 = dict2['data']\narray3 = dict3['data']\n...\n</code></pre>\n\n<p>After this, I can plot the data. It works, but looks dumb to me (If I have 100 vectors, it will take some time...).  Is there a better way to make this task?</p>\n"}, {"tags": ["python", "python-3.4", "pyautogui"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462404980, "post_id": 37039847, "comment_id": 61629506, "body": "Make sure &quot;who.jpg&quot; actually exists."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462405051, "post_id": 37039847, "comment_id": 61629526, "body": "@IgnacioVazquez-Abrams I did. It exist also I put the full path of that picture too. Still same problem."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462405149, "post_id": 37039847, "comment_id": 61629556, "body": "<i>shrug</i> PyAutoGUI doesn&#39;t agree."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462405308, "post_id": 37039847, "comment_id": 61629612, "body": "Have you considered using a lossless image format instead?"}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462405346, "post_id": 37039847, "comment_id": 61629626, "body": "@IgnacioVazquez-Abrams I already tried it with other pictures aswell. What you mean &#39;lossless&#39; ?"}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462405403, "post_id": 37039847, "comment_id": 61629643, "body": "I mean a format that doesn&#39;t introduce artifacts or distortion, such as GIF or PNG at maximum quality."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462405574, "post_id": 37039847, "comment_id": 61629706, "body": "@IgnacioVazquez-Abrams I tried PNG still same issue. It just does not make any sense pictures are here and it raises error."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 2, "creation_date": 1462405613, "post_id": 37039847, "comment_id": 61629719, "body": "Don&#39;t convert the JPEG to PNG, recapture the image. The JPEG would already be distorted."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462405692, "post_id": 37039847, "comment_id": 61629747, "body": "@IgnacioVazquez-Abrams Even if I capture the picture as PNG and my problem solved, what if I need to locate a jpg? Still not a clear solution.."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462406014, "post_id": 37039847, "comment_id": 61629836, "body": "If a lossy format doesn&#39;t work then that would be something to bring up with the PyAutoGUI developers."}], "answers": [{"comments": [{"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462405495, "post_id": 37039925, "comment_id": 61629682, "body": "I have to locate that picture&#39;s location, if I catch the error I&#39;ll not be able to locate that. This is not a solution for me it&#39;s basically an error catching."}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462405676, "post_id": 37039925, "comment_id": 61629744, "body": "It is exactly error catching. The picture is not found on your screen, so the library returns None. Your question was not &quot;why is the image not found on my screen&quot; it was &quot;why is this error here&quot;? And I answered that perfectly."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462405780, "post_id": 37039925, "comment_id": 61629767, "body": "But the pictures are here. My goal is locating the picture&#39;s locations, if it raises error then there is no point I&#39;m writing this script."}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462405783, "post_id": 37039925, "comment_id": 61629770, "body": "Since I can&#39;t comment on your post, I&#39;ll answer your latest question here, you aren&#39;t looking for a png or a jpeg on your screen. You&#39;re looking for the real thing. the png is just a representation of what is on your screen."}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462405871, "post_id": 37039925, "comment_id": 61629793, "body": "Then you very poorly expressed your goal in your question. I would recommend following Ignacio&#39;s advice in your comments and capture the image in a lossless format and try to find it. The library is clearly telling you that your screen does not contain the image you specified."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462405951, "post_id": 37039925, "comment_id": 61629818, "body": "There are 15 pictures on my screen and I tried ALL of them one by one, and you are telling me these pictures are not on my screen. Don&#39;t know how to answer."}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462406110, "post_id": 37039925, "comment_id": 61629854, "body": "No, you are fundamentally not understanding what the library is doing. The library is not searching your screen for image files. That is not possible. You are providing it with a representation of what it needs to find on your screen. For instance, if I took a screenshot of the stack overflow tab right now, it would find the actual stack overflow tab in my browser. If I took a screenshot of the stack overflow tab, left that screenshot open in some image viewer, and had the library locate the image, that doesn&#39;t mean it&#39;s looking for a png or a jpg."}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462406233, "post_id": 37039925, "comment_id": 61629887, "body": "It&#39;s like if I gave you a picture of my shoe and told you to search the floor for it. you are not trying to find a picture of my shoe, but the actual shoe. It is the same here, except the library requires an exact representation of it -- and jpeg is not exact. If I gave you a blurry photo of my shoe, and had a lot of shoes that were similar, you might fail to find the right shoe. You must take a screenshot (lossless) of something currently displayed on your screen, and the library will find it."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462406400, "post_id": 37039925, "comment_id": 61629927, "body": "I just try to locate a picture&#39;s location then double-click on it. You confused me more right now lol."}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462406689, "post_id": 37039925, "comment_id": 61629985, "body": "This library does not locate pictures. It uses pictures to locate the actual thing. So, if I am trying to open Chromium browser from my desktop, I would take a screenshot of the chromium browser icon and provide that to the library (in png, not jpg, preferably), and then the library would find the location of the real icon on my desktop, not an image."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462407858, "post_id": 37039925, "comment_id": 61630253, "body": "I understand now. Please write your comments in your answer and I&#39;ll accept it. Let me know when you edit."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462407919, "post_id": 37039925, "comment_id": 61630272, "body": "Also write your answer to this question: <a href=\"http://stackoverflow.com/questions/32156019/pyautogui-locatecenteronscreen-returns-none-instead-of-coordinates/37040311#37040311\" title=\"pyautogui locatecenteronscreen returns none instead of coordinates\">stackoverflow.com/questions/32156019/&hellip;</a> with details. I&#39;ll give you the bounty award since you deserved it much."}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462634985, "post_id": 37039925, "comment_id": 61724381, "body": "Done. I would update your question as well, to be less about the error and more about why you&#39;re getting it."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462685915, "post_id": 37039925, "comment_id": 61736438, "body": "<a href=\"http://stackoverflow.com/questions/32156019/pyautogui-locatecenteronscreen-returns-none-instead-of-coordinates/37040311#37040311&lt;-------\" title=\"pyautogui locatecenteronscreen returns none instead of coordinates\">stackoverflow.com/questions/32156019/&hellip;</a>  write a good detailed answer to this question so I could give you the bounty 150 points."}], "tags": [], "owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "is_accepted": true, "score": 9, "last_activity_date": 1605924717, "last_edit_date": 1605924717, "creation_date": 1462405357, "answer_id": 37039925, "question_id": 37039847, "link": "https://stackoverflow.com/questions/37039847/pyautogui-typeerror-nonetype-object-is-not-iterable/37039925#37039925", "title": "Pyautogui TypeError: &#39;NoneType&#39; object is not iterable", "body": "<p>From the documentation of Pyautogui <a href=\"http://pyautogui.readthedocs.io/en/latest/screenshot.html#the-locate-functions\" rel=\"nofollow noreferrer\">here</a>, the method locateCenterOnScreen returns None when it can't find the image on your screen.</p>\n<p>Note that you are looking for 2 results from this method, but None is just one result (since the method normally returns two, this seems like bad design to me -- it should raise an exception instead, or at least return a tuple with two None objects).</p>\n<p>Look at the following example, which is basically what is happening to you:</p>\n<pre><code>&gt;&gt;&gt; foo,bar = None\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\nTypeError: 'NoneType' object is not iterable\n</code></pre>\n<p>The simplest and most Pythonic way of addressing this in my opinion would be simply to try and catch it:</p>\n<pre><code>try:\n    buttonx,buttony = pyautogui.locateCenterOnScreen('who.jpg')\nexcept TypeError:\n    &quot;&quot;&quot; Do something to handle the fact that the image was not found&quot;&quot;&quot;\n</code></pre>\n<p>EDIT:\nTo answer your question raised in the comments, there seems to be a misunderstanding with how this library works, or what it finds on the screen. You give the library a representation of what it needs to find via some image. It works far better when that image is lossless, because then it's an exact, pixel-by-pixel representation. The library then searches your computer screen for the actual thing represented by the image provided. It does not, as you raised concerns, find jpegs or pngs. It finds the actual rendered object. So, if you take a screen shot of the icon for your web browser on your desktop, it will find the actual icon from that screenshot and click on it, but only if it's visible. If it's behind other windows or something, it won't find it. It doesn't search the screen for the icon file, but the rendering of the icon itself. So, for instance, if you provided the actual .ico file to the library, it would not be able to find that icon if it was covered by another window, even though that icon is <em>technically</em> on your desktop, because it's not currently rendered.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8551069, "user_type": "registered", "profile_image": "https://graph.facebook.com/1449588745119977/picture?type=large", "display_name": "Vladi Budnitski", "link": "https://stackoverflow.com/users/8551069/vladi-budnitski"}, "is_accepted": false, "score": 0, "last_activity_date": 1504339684, "creation_date": 1504339684, "answer_id": 46011782, "question_id": 37039847, "link": "https://stackoverflow.com/questions/37039847/pyautogui-typeerror-nonetype-object-is-not-iterable/46011782#46011782", "title": "Pyautogui TypeError: &#39;NoneType&#39; object is not iterable", "body": "<p>To <strong>SIMPLIFY</strong> things - a <strong>locateCenterOnScreen()</strong> method should return the center (x,y) coordinates of an image as you called 'who.jpg' ONLY IF IT EXISTS ON THE SCREEN. Otherwise, if the 'who.jpg' image is not found on the screen - THE METHOD SHOULD RETURN 'NONE'.</p>\n\n<p>You can not assign a 'NONE' value to (x,y) coordinates because you get a single value ('NONE') and two variables that are waiting to receive some value. This why you get a \"TypeError\".</p>\n\n<p>Try to use an Exception, which is an event that may occur during the execution of a program -> for example a TypeError. Try to predict even other events that may occur during execution and you will be good to go with your task!</p>\n\n<p>FOR YOUR CONVENIENCE TRY THE FOLLOWING CODE :</p>\n\n<pre><code>try:\n    buttonx, buttony = pyautogui.locateCenterOnScreen('who.jpg')\n    pyautogui.click(buttonx, buttony)\nexcept TypeError:\n    print(\"A TypeError has been occured!\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10353280, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/902119849e89bf78f992c9dcbba7d5da?s=128&d=identicon&r=PG", "display_name": "jhkim", "link": "https://stackoverflow.com/users/10353280/jhkim"}, "is_accepted": false, "score": -3, "last_activity_date": 1536756416, "creation_date": 1536756416, "answer_id": 52295580, "question_id": 37039847, "link": "https://stackoverflow.com/questions/37039847/pyautogui-typeerror-nonetype-object-is-not-iterable/52295580#52295580", "title": "Pyautogui TypeError: &#39;NoneType&#39; object is not iterable", "body": "<p>If size of your image is 1920x1080, the image calls take about 1 or 2 seconds.</p>\n\n<p>Therefore, try the code below.</p>\n\n<blockquote>\n  <blockquote>\n    <p>import pyautogui\n    import time</p>\n    \n    <p>time.sleep(2)</p>\n    \n    <p>buttonx, buttony = pyautogui.locateCenterOnScreen('who.jpg')\n    pyautogui.doubleClick(buttonx,buttony)</p>\n  </blockquote>\n</blockquote>\n\n<p>You will be able to solve your difficulties.</p>\n"}], "owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6733, "favorite_count": 3, "accepted_answer_id": 37039925, "answer_count": 3, "score": 7, "last_activity_date": 1605924717, "creation_date": 1462404824, "last_edit_date": 1492408875, "question_id": 37039847, "link": "https://stackoverflow.com/questions/37039847/pyautogui-typeerror-nonetype-object-is-not-iterable", "title": "Pyautogui TypeError: &#39;NoneType&#39; object is not iterable", "body": "<p>I'm trying to use <code>locateCenterOnScreen()</code> function of PyAutoGUI, however it raises :</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\windows\\Desktop\\asd.py\", line 3, in &lt;module&gt;\n    buttonx, buttony = pyautogui.locateCenterOnScreen('who.jpg')\nTypeError: 'NoneType' object is not iterable\n</code></pre>\n\n<p>My code is:</p>\n\n<pre><code>import pyautogui\n\nbuttonx, buttony = pyautogui.locateCenterOnScreen('who.jpg')\npyautogui.doubleClick(buttonx,buttony)\n</code></pre>\n\n<p>How can I fix this problem?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "is_accepted": true, "score": 3, "last_activity_date": 1462404792, "creation_date": 1462404792, "answer_id": 37039839, "question_id": 37039810, "link": "https://stackoverflow.com/questions/37039810/invalid-syntax-in-python-for-rpg-game/37039839#37039839", "title": "Invalid Syntax in Python for RPG game", "body": "<p>You need to close <code>rooms</code> dict:</p>\n\n<pre><code>rooms = {\n    1 : {   \"name\"  :   \"Hall\"  },\n    2 : {   \"name\"  :   \"Bedroom\" },\n    3 : {   \"name\"  :   \"Kitchen\" },\n    4 : {   \"name\"  :   \"Bathroom\" }\n</code></pre>\n\n<p>needs</p>\n\n<pre><code>}\n</code></pre>\n\n<p>so </p>\n\n<pre><code>rooms = {\n    1 : {   \"name\"  :   \"Hall\"  },\n    2 : {   \"name\"  :   \"Bedroom\" },\n    3 : {   \"name\"  :   \"Kitchen\" },\n    4 : {   \"name\"  :   \"Bathroom\" }\n}\n</code></pre>\n\n<p>also your syntax is messed up at <code>showStatus</code></p>\n\n<pre><code>def showStatus(currentRoom): # is this the right argument?\n    #shows player stats, essentially current room\n    print (\"---------------------------------------------------------\")\n    print (\"You are in the \" + rooms[currentRoom][\"name\"])\n    print (\"---------------------------------------------------------\")\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6293193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fbb7640d7b3fe6152bf93762df6b1c?s=128&d=identicon&r=PG&f=1", "display_name": "Sheepish", "link": "https://stackoverflow.com/users/6293193/sheepish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1462430351, "accepted_answer_id": 37039839, "answer_count": 1, "score": 1, "last_activity_date": 1462404818, "creation_date": 1462404609, "last_edit_date": 1462404818, "question_id": 37039810, "link": "https://stackoverflow.com/questions/37039810/invalid-syntax-in-python-for-rpg-game", "closed_reason": "Not suitable for this site", "title": "Invalid Syntax in Python for RPG game", "body": "<p>I'm relatively new to Python, and while in the process of creating a basic python RPG wordquest type game. I keep getting an invalid syntax on <code>def showInstructions():</code>.</p>\n\n<pre><code>rooms = {\n        1 : {   \"name\"  :   \"Hall\"  },\n        2 : {   \"name\"  :   \"Bedroom\" },\n        3 : {   \"name\"  :   \"Kitchen\" },\n        4 : {   \"name\"  :   \"Bathroom\" }\n\ndef showInstructions():\n    #The Main Menu\n    print (\"Mr Bailey's Nightmare!\")\n    print (\"======================\")\n    print (\"Commands:\")\n    print (\"go [direction]'\")\n\ndef showStatus\n    #shows player stats, essentially current room\n    print (\"---------------------------------------------------------\")\n    print (\"You are in the \" + rooms[currentRoom][\"name\"]\n    print (\"---------------------------------------------------------\")\n</code></pre>\n"}, {"tags": ["python", "mysql-python", "mysql-connector", "python-3.5", "mysql-connector-python"], "comments": [{"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1462406236, "post_id": 37039782, "comment_id": 61629888, "body": "probably because your <i>rpm</i> installed the package globally and your default python is python2 so python3 won&#39;t be able to import that. Also while you&#39;re at virtualenv, your python interpreter points to your virtualenv&#39;s python binary (either py2/3)... that&#39;s why you can&#39;t import that under virtualenv neither. One suggestion, try using <i>pip</i> to install the package under your virtualenv"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1462409820, "post_id": 37039782, "comment_id": 61630784, "body": "Why are you skipping <code>import MySQLdb</code> in your Python3-based snippets?"}, {"owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "reply_to_user": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1462486532, "post_id": 37039782, "comment_id": 61669270, "body": "@ray - because it&#39;s not supported in Python3+.  <a href=\"https://sourceforge.net/projects/mysql-python/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/mysql-python</a>"}, {"owner": {"reputation": 5338, "user_id": 4594973, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/USV9e.jpg?s=128&g=1", "display_name": "code_dredd", "link": "https://stackoverflow.com/users/4594973/code-dredd"}, "edited": false, "score": 0, "creation_date": 1462487491, "post_id": 37039782, "comment_id": 61669625, "body": "@dreamzboy: I have <code>MySQLdb</code> installed and working in Python3. In a Ubuntu-based distro, just enter <code>sudo apt-get install python3-mysqldb</code>. In CentOS6/RHEL6-based distros, there seems to be no Python3 package(s) to install, so you might have to find a workaround, but yes, <code>MySQLdb</code> <i>has</i> Python3 support. Since you already got Python3 working in CentOS, you might have to see if someone else has created an RPM for it or potentially build from source. Your non-standard Python3 path suggests you did not get Python3 from a CentOS repository, right?"}, {"owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "edited": false, "score": 0, "creation_date": 1462488850, "post_id": 37039782, "comment_id": 61670117, "body": "Anzel/Ray - Thanks for the lead.  Your input is much appreciated!!"}], "answers": [{"tags": [], "owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "is_accepted": true, "score": 0, "last_activity_date": 1462488805, "creation_date": 1462488805, "answer_id": 37061582, "question_id": 37039782, "link": "https://stackoverflow.com/questions/37039782/python3-5-refuse-to-work-with-mysql-connector/37061582#37061582", "title": "Python3.5 Refuse to Work with MySQL Connector", "body": "<p>I've figured it out.  Anzel was right about the fact that it's installed globally in the default python2.6 directory.  Here's how I fixed it:</p>\n\n<p>Launch the default python interpreter, in my case \"python\" -> python2.6, and run the commands below to see where \"MySQL.connector\" was installed.</p>\n\n<pre><code>&gt;&gt;&gt; from distutils.sysconfig import get_python_lib\n&gt;&gt;&gt; print get_python_lib ()\n/usr/lib/python2.6/site-packages\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Navigate to the above directory, \"/usr/lib/python2.6/site-packages/\" reveal a directory called MySQL, and a file called, MySQL_connector_python-2.1.3-py2.6.egg-info.</p>\n\n<p>Launching python3.5 interpreter leads me to a different path, which I checked and sure enough, the two MySQL and MySQL_connector_python-2.1.3-py2.6.egg-info file/directory wasn't there.</p>\n\n<pre><code>&gt;&gt;&gt; from distutils.sysconfig import get_python_lib\n&gt;&gt;&gt; print (get_python_lib ())\n/home/&lt;username&gt;/Documents/redhat-server/python_project/virtual/lib/python3.5/site-packages\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Next, I copied those 2 files to Python3.5 site-packages directory, tested the import, database connections, and it worked!</p>\n\n<pre><code>Python 3.5.1 (default, Jan 13 2016, 17:43:34) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-11)] on linux\nType \"copyright\", \"credits\" or \"license()\" for more information.\n&gt;&gt;&gt; \n&gt;&gt;&gt; import mysql.connector\n&gt;&gt;&gt; \n&gt;&gt;&gt; cnx = mysql.connector.connect (user = 'username', password = 'password', host = 'localhost',\n               database = 'testdb')\n&gt;&gt;&gt; cnx\n&lt;mysql.connector.connection.MySQLConnection object at 0x7ffa4c1009b0&gt;\n</code></pre>\n"}], "owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 37061582, "answer_count": 1, "score": 0, "last_activity_date": 1462488805, "creation_date": 1462404458, "last_edit_date": 1462407161, "question_id": 37039782, "link": "https://stackoverflow.com/questions/37039782/python3-5-refuse-to-work-with-mysql-connector", "title": "Python3.5 Refuse to Work with MySQL Connector", "body": "<p>I've read a few questions on here that people are having the same situation as me but no matter what method I tried, it just wouldn't work!</p>\n\n<p>According to MySQL documentation, MySQL-connector-python-2.x.x.x should work with Python 3+.  I've downloaded the RPM package and installed it inside my virtualenv.  However, upon importing the library, I get the error, \"No module named MySQL\".</p>\n\n<p>Checking to see if I've installed the package:</p>\n\n<pre><code>(virtual)[centos ~]$ rpm -ql mysql-connector-python-2.1.3-1.el6.x86_64.rpm\npackage mysql-connector-python-2.1.3-1.el6.x86_64.rpm is not installed\n</code></pre>\n\n<p>Attempting to install the package:</p>\n\n<pre><code>(virtual)[centos ~]$ sudo rpm -i ~/Documents/python/mysql-connector-python-2.1.3-1.el6.x86_64.rpm \n[sudo] password for &lt;username&gt;: \nwarning: /home/&lt;username&gt;/Documents/python/mysql-connector-python-2.1.3-1.el6.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY\n    package mysql-connector-python-2.1.3-1.el6.x86_64 is already installed\n</code></pre>\n\n<p>This works on Python2.6:</p>\n\n<pre><code>[centos ~]$ python\nPython 2.6.6 (r266:84292, Jul 23 2015, 15:22:56) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-11)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import MySQLdb\n&gt;&gt;&gt; import mysql.connector\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Doesn't on Python3.5:</p>\n\n<pre><code>[centos ~]$ python3.5\nPython 3.5.1 (default, Jan 13 2016, 17:43:34) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-11)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import mysql.connector\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named 'mysql'\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Verified the package through MySQL documentation:</p>\n\n<pre><code>(virtual)[centos]$ python\nPython 3.5.1 (default, Jan 13 2016, 17:43:34) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-11)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; \n&gt;&gt;&gt; from distutils.sysconfig import get_python_lib\n&gt;&gt;&gt; print (get_python_lib ())\n/home/&lt;username&gt;/Documents/redhat-server/python_project/virtual/lib/python3.5/site-packages\n&gt;&gt;&gt; \n&gt;&gt;&gt; import mysql.connector\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named 'mysql'\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Making sure that python3.5 is in the same directory as MySQL.connector</p>\n\n<pre><code>(virtual)[centos]$ which python3.5\n~/Documents/redhat-server/python_project/virtual/bin/python3.5\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>(virtual)[centos]$ pip install mysql-connector-python\nCollecting mysql-connector-python\n  Could not find a version that satisfies the requirement mysql-connector-python (from versions: )\nNo matching distribution found for mysql-connector-python\n(virtual)[centos]$\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 612, "user_id": 690576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50c4f0c711accdd4df818707db3fafc?s=128&d=identicon&r=PG", "display_name": "JRajan", "link": "https://stackoverflow.com/users/690576/jrajan"}, "edited": false, "score": 0, "creation_date": 1462404166, "post_id": 37039698, "comment_id": 61629244, "body": "Are you working with a 64bit Python installation or a 32bit Python installation?"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 1, "creation_date": 1462404263, "post_id": 37039698, "comment_id": 61629276, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/10411709/windowserror-error-126-when-loading-a-dll-with-ctypes\">WindowsError: &#91;Error 126&#93; when loading a DLL with ctypes</a>"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 1, "creation_date": 1462404286, "post_id": 37039698, "comment_id": 61629286, "body": "or <a href=\"http://stackoverflow.com/q/1940578/2615940\">WindowsError: &#91;Error 126&#93; The specified module could not be found</a>"}, {"owner": {"reputation": 103, "user_id": 6293153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf77cd38953f036ed2db924d1ea771d2?s=128&d=identicon&r=PG&f=1", "display_name": "mwh", "link": "https://stackoverflow.com/users/6293153/mwh"}, "edited": false, "score": 0, "creation_date": 1462404818, "post_id": 37039698, "comment_id": 61629454, "body": "<code>platform.architecture()</code> returns <code>(&#39;32bit&#39;, &#39;WindowsPE&#39;)</code>  I&#39;m installing VS Community 2015 with Visual C++ to see if that changes anything."}, {"owner": {"reputation": 103, "user_id": 6293153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf77cd38953f036ed2db924d1ea771d2?s=128&d=identicon&r=PG&f=1", "display_name": "mwh", "link": "https://stackoverflow.com/users/6293153/mwh"}, "edited": false, "score": 0, "creation_date": 1462407821, "post_id": 37039698, "comment_id": 61630245, "body": "No dice with the VS install, exactly the same error as before. I read the other answer beforehand, but <code>LoadLibrary</code> isn&#39;t being used here, so there&#39;s no file path for me to edit. I&#39;ve tried looking up how to rebuild the DLL with \\MT, but can&#39;t find much unfortunately."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 6293153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf77cd38953f036ed2db924d1ea771d2?s=128&d=identicon&r=PG&f=1", "display_name": "mwh", "link": "https://stackoverflow.com/users/6293153/mwh"}, "edited": false, "score": 0, "creation_date": 1462467853, "post_id": 37042742, "comment_id": 61659440, "body": "Thanks, this did it!"}], "tags": [], "owner": {"reputation": 2879, "user_id": 524743, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b4fd283cd1a47c7ef80431b344c00178?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/524743/samuel"}, "is_accepted": true, "score": 2, "last_activity_date": 1462424573, "creation_date": 1462424573, "answer_id": 37042742, "question_id": 37039698, "link": "https://stackoverflow.com/questions/37039698/python-2-7-script-crashes-on-brand-new-machine/37042742#37042742", "title": "Python 2.7 script crashes on brand new machine", "body": "<p>Well you can't load dll which doesn't exists on your computer.</p>\n\n<p><code>cbw32.dll</code> is part of <a href=\"http://www.mccdaq.com/daq-software/universal-library.aspx\" rel=\"nofollow\">I/O Library for Measurement Computing Data Acquisition Products</a></p>\n\n<p>So you need to download and install it to get the DLL.</p>\n\n<p>Another way is to search for it on the internet, but beware of fake DLLs, which could be malware. </p>\n"}], "owner": {"reputation": 103, "user_id": 6293153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf77cd38953f036ed2db924d1ea771d2?s=128&d=identicon&r=PG&f=1", "display_name": "mwh", "link": "https://stackoverflow.com/users/6293153/mwh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 37042742, "answer_count": 1, "score": 0, "last_activity_date": 1462434035, "creation_date": 1462403886, "last_edit_date": 1462434035, "question_id": 37039698, "link": "https://stackoverflow.com/questions/37039698/python-2-7-script-crashes-on-brand-new-machine", "title": "Python 2.7 script crashes on brand new machine", "body": "<p><strong>The Situation:</strong></p>\n\n<p>I mostly use MATLAB. I don't know Python at all, but a co-worker wrote a data acquisition program in it. My MATLAB work is on hold until I get this Python script running on my machine, but it crashes on run. I need to get this working, but the code has zero comments, and I can't afford to learn an entirely new language for this one thing.</p>\n\n<p>I'm using Python 2.7.11, PyCharm 2016.1.2 Professional. I copy/pasted the folder from my co-worker's computer with the project in it, but it crashes when I try to run it on my machine. PyCharm doesn't find any errors before runtime. This is the error message:</p>\n\n<pre><code>File \"C:\\Users\\mherunter\\Desktop\\LabTest\\flask\\lib\\site-\npackages\\UniversalLibrary\\UniversalLibrary.py\", line 57, in &lt;module&gt;\ncbw = ctypes.windll.cbw32 # open CBW32.DLL\nFile \"c:\\python27\\Lib\\ctypes\\__init__.py\", line 435, in __getattr__\ndll = self._dlltype(name)\nFile \"c:\\python27\\Lib\\ctypes\\__init__.py\", line 365, in __init__\nself._handle = _dlopen(self._name, mode)\nWindowsError: [Error 126] The specified module could not be found\n</code></pre>\n\n<p><strong>What I Have Tried:</strong></p>\n\n<p>I looked at some other answers on here and read about a couple possible problems. I don't think that something like '\\t' in a filepath is getting converted to a TAB character, since the code runs fine on a different machine. I'm not familiar with DLL's much, but it seems like the computer can't open CBW32.DLL. I searched my computer for it and the file doesn't show up.</p>\n\n<p>I tried changing this to CBW64, since my machine is 64bit, but got the same error message. It's a 32bit installation of Python I think, platform.architecture() says 32bit.</p>\n\n<p>I also tried this on a brand-new (first thing I did after taking it out of the box sort of new) computer, Windows 10. That didn't work, but I read that I might need to install a C++ compiler to get all of the necessary DLL's. Installled VS Community 2015 with Visual C++, but that didn't help either.</p>\n\n<p>The last thing I've seen on here is rebuilding the DLL with \\MT to make it stand alone. I tried looking for how do to this online, but didn't have a lot of luck. Can anyone either:</p>\n\n<ol>\n<li><p>Tell me precisely how to rebuild the DLL with \\MT?</p></li>\n<li><p>Suggest another reason/fix for this problem?</p></li>\n</ol>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 6173368, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f5e1d6d628dde61075fcb76e3a4b78f?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Gavin", "link": "https://stackoverflow.com/users/6173368/joe-gavin"}, "is_accepted": false, "score": 2, "last_activity_date": 1462442115, "last_edit_date": 1495540504, "creation_date": 1462405371, "answer_id": 37039928, "question_id": 37039685, "link": "https://stackoverflow.com/questions/37039685/hide-axis-values-but-keep-axis-tick-labels-in-matplotlib/37039928#37039928", "title": "Hide axis values but keep axis tick labels in matplotlib", "body": "<p>Not sure this is the best way, but you can certainly replace the tick labels like this:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nx = range(10)\ny = range(10)\nplt.plot(x,y)\nplt.xticks(x,\" \")\nplt.show()\n</code></pre>\n\n<p>In Python 3.4 this generates a simple line plot with no tick labels on the x-axis.  A simple example is here:\n<a href=\"http://matplotlib.org/examples/ticks_and_spines/ticklabels_demo_rotation.html\" rel=\"nofollow noreferrer\">http://matplotlib.org/examples/ticks_and_spines/ticklabels_demo_rotation.html</a></p>\n\n<p>This related question also has some better suggestions:\n<a href=\"https://stackoverflow.com/questions/2176424/hiding-axis-text-in-matplotlib-plots?rq=1\">Hiding axis text in matplotlib plots</a></p>\n\n<p>I'm new to python.  Your mileage may vary in earlier versions.  Maybe others can help?</p>\n"}, {"comments": [{"owner": {"reputation": 12078, "user_id": 2854041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1p0i4.jpg?s=128&g=1", "display_name": "Andrew Schreiber", "link": "https://stackoverflow.com/users/2854041/andrew-schreiber"}, "edited": false, "score": 15, "creation_date": 1501808756, "post_id": 37045694, "comment_id": 77954788, "body": "Works great for removing tick labels, but you still get the tick marks..."}, {"owner": {"reputation": 2442, "user_id": 7052826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/10207820681381192/picture?type=large", "display_name": "Mitchell van Zuylen", "link": "https://stackoverflow.com/users/7052826/mitchell-van-zuylen"}, "edited": false, "score": 2, "creation_date": 1608735494, "post_id": 37045694, "comment_id": 115670735, "body": "To remove tick marks, also add <code>ax.set_yticks([])</code>."}], "tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": true, "score": 164, "last_activity_date": 1462436164, "creation_date": 1462436164, "answer_id": 37045694, "question_id": 37039685, "link": "https://stackoverflow.com/questions/37039685/hide-axis-values-but-keep-axis-tick-labels-in-matplotlib/37045694#37045694", "title": "Hide axis values but keep axis tick labels in matplotlib", "body": "<p>If you use the matplotlib <a href=\"http://matplotlib.org/faq/usage_faq.html#coding-styles\" rel=\"noreferrer\">object-oriented approach</a>, this is a simple task using <code>ax.set_xticklabels()</code> and <code>ax.set_yticklabels()</code>:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\n# Create Figure and Axes instances\nfig,ax = plt.subplots(1)\n\n# Make your plot, set your axes labels\nax.plot(sim_1['t'],sim_1['V'],'k')\nax.set_ylabel('V')\nax.set_xlabel('t')\n\n# Turn off tick labels\nax.set_yticklabels([])\nax.set_xticklabels([])\n\nplt.show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 196, "user_id": 5287728, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-V3B2tCAilwo/AAAAAAAAAAI/AAAAAAAAAFs/qRpZpGQZ4G4/photo.jpg?sz=128", "display_name": "Mead", "link": "https://stackoverflow.com/users/5287728/mead"}, "edited": false, "score": 0, "creation_date": 1617879383, "post_id": 43781752, "comment_id": 118434513, "body": "This removes both the tick marks and the tick labels - exactly what I wanted!"}], "tags": [], "owner": {"reputation": 6767, "user_id": 115237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/570a47e65703a42a23d0d5348fdee48b?s=128&d=identicon&r=PG", "display_name": "Noel Evans", "link": "https://stackoverflow.com/users/115237/noel-evans"}, "is_accepted": false, "score": 97, "last_activity_date": 1493897606, "creation_date": 1493897606, "answer_id": 43781752, "question_id": 37039685, "link": "https://stackoverflow.com/questions/37039685/hide-axis-values-but-keep-axis-tick-labels-in-matplotlib/43781752#43781752", "title": "Hide axis values but keep axis tick labels in matplotlib", "body": "<p>Without a <code>subplots</code>, you can universally remove the ticks like this:</p>\n\n<pre><code>plt.xticks([])\nplt.yticks([])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 301, "user_id": 8766822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bf72f9cd3d5d5e6755207e7af5bd7a3?s=128&d=identicon&r=PG&f=1", "display_name": "user140259", "link": "https://stackoverflow.com/users/8766822/user140259"}, "edited": false, "score": 2, "creation_date": 1542340068, "post_id": 49586632, "comment_id": 93542129, "body": "Thanks, this works great. In the other cases ticks are preserved (because tick direction is out by default)"}, {"owner": {"reputation": 1130, "user_id": 3973341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b16df2336802d4e1aae00b0e697e83c7?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Lisakov", "link": "https://stackoverflow.com/users/3973341/mikhail-lisakov"}, "edited": false, "score": 0, "creation_date": 1544969629, "post_id": 49586632, "comment_id": 94454518, "body": "Unlike answers like ax.set_xticklabels([]), this one works perfectly for the following case: one uses subplots with sharex option and wants to delete ticks only for one of the subplots."}, {"owner": {"reputation": 720, "user_id": 1608467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/66ce946a7677bdbd5bca63d857511b85?s=128&d=identicon&r=PG", "display_name": "fbparis", "link": "https://stackoverflow.com/users/1608467/fbparis"}, "edited": false, "score": 0, "creation_date": 1549859103, "post_id": 49586632, "comment_id": 96040321, "body": "Great! And plt.gca().axes.get_xaxis().set_visible(False) to also get rid of the x axis labels and ticks."}, {"owner": {"reputation": 3230, "user_id": 1329892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67c31ce6b09f7ef7fd606068431a0e6?s=128&d=identicon&r=PG", "display_name": "spinup", "link": "https://stackoverflow.com/users/1329892/spinup"}, "edited": false, "score": 2, "creation_date": 1551738405, "post_id": 49586632, "comment_id": 96742391, "body": "or if you already have the ax object, <code>ax.xaxis.set_visible(False)</code>"}, {"owner": {"reputation": 496, "user_id": 8044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dcdc06315c12f8e6e786ea05d0f7bc4?s=128&d=identicon&r=PG&f=1", "display_name": "Blupon", "link": "https://stackoverflow.com/users/8044858/blupon"}, "reply_to_user": {"reputation": 3230, "user_id": 1329892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67c31ce6b09f7ef7fd606068431a0e6?s=128&d=identicon&r=PG", "display_name": "spinup", "link": "https://stackoverflow.com/users/1329892/spinup"}, "edited": false, "score": 1, "creation_date": 1569498063, "post_id": 49586632, "comment_id": 102621112, "body": "@spinup <code>ax.axes.get_xaxis().set_visible(False)</code> also works"}, {"owner": {"reputation": 653, "user_id": 8320567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b4eb0d59e8961132bb1bf0e887ba10?s=128&d=identicon&r=PG&f=1", "display_name": "MRT", "link": "https://stackoverflow.com/users/8320567/mrt"}, "reply_to_user": {"reputation": 466, "user_id": 9460996, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JaiDeBjvS6g/AAAAAAAAAAI/AAAAAAAAExE/U39U4snQYZk/photo.jpg?sz=128", "display_name": "filip", "link": "https://stackoverflow.com/users/9460996/filip"}, "edited": false, "score": 1, "creation_date": 1581965719, "post_id": 49586632, "comment_id": 106605994, "body": "@filip I&#39;m glad it helped :)"}], "tags": [], "owner": {"reputation": 653, "user_id": 8320567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b4eb0d59e8961132bb1bf0e887ba10?s=128&d=identicon&r=PG&f=1", "display_name": "MRT", "link": "https://stackoverflow.com/users/8320567/mrt"}, "is_accepted": false, "score": 50, "last_activity_date": 1522491257, "creation_date": 1522491257, "answer_id": 49586632, "question_id": 37039685, "link": "https://stackoverflow.com/questions/37039685/hide-axis-values-but-keep-axis-tick-labels-in-matplotlib/49586632#49586632", "title": "Hide axis values but keep axis tick labels in matplotlib", "body": "<p>This works great. Just paste this before <code>plt.show()</code>:</p>\n\n<pre><code>plt.gca().axes.get_yaxis().set_visible(False)\n</code></pre>\n\n<p>Boom.</p>\n"}, {"comments": [{"owner": {"reputation": 707, "user_id": 4570472, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/16ce4584a6641e5c7ed1141ba7fd6800?s=128&d=identicon&r=PG&f=1", "display_name": "Rylan Schaeffer", "link": "https://stackoverflow.com/users/4570472/rylan-schaeffer"}, "edited": false, "score": 0, "creation_date": 1587656706, "post_id": 59966360, "comment_id": 108603231, "body": "When I try <code>ax.set_yticks([], [])</code>, I get the following warning: &quot;MatplotlibDeprecationWarning: Passing the minor parameter of set_xticks() positionally is deprecated since Matplotlib 3.2; the parameter will become keyword-only two minor releases later.&quot; What&#39;s the right alternative?"}, {"owner": {"reputation": 3224, "user_id": 10396469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e00e8124a1819da370101aa8e2144eb?s=128&d=identicon&r=PG", "display_name": "Poe Dator", "link": "https://stackoverflow.com/users/10396469/poe-dator"}, "reply_to_user": {"reputation": 707, "user_id": 4570472, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/16ce4584a6641e5c7ed1141ba7fd6800?s=128&d=identicon&r=PG&f=1", "display_name": "Rylan Schaeffer", "link": "https://stackoverflow.com/users/4570472/rylan-schaeffer"}, "edited": false, "score": 0, "creation_date": 1589264777, "post_id": 59966360, "comment_id": 109216259, "body": "@RylanSchaeffer, in your example <code>ax.set_yticks([], [])</code> you are passing 2 empty lists which causes error. Why doing that? See the command manual.  If the first argument should not be passed positionally, pass it with keyword: <code>ax.set_yticks(ticks=[])</code>."}], "tags": [], "owner": {"reputation": 3224, "user_id": 10396469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e00e8124a1819da370101aa8e2144eb?s=128&d=identicon&r=PG", "display_name": "Poe Dator", "link": "https://stackoverflow.com/users/10396469/poe-dator"}, "is_accepted": false, "score": 5, "last_activity_date": 1580298114, "creation_date": 1580298114, "answer_id": 59966360, "question_id": 37039685, "link": "https://stackoverflow.com/questions/37039685/hide-axis-values-but-keep-axis-tick-labels-in-matplotlib/59966360#59966360", "title": "Hide axis values but keep axis tick labels in matplotlib", "body": "<p>to remove tickmarks entirely use:</p>\n\n<pre><code>ax.set_yticks([])\nax.set_xticks([])\n</code></pre>\n\n<p>otherwise <code>ax.set_yticklabels([])</code> and <code>ax.set_xticklabels([])</code> will keep tickmarks.</p>\n"}, {"tags": [], "owner": {"reputation": 3591, "user_id": 5539715, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1057110085/picture?type=large", "display_name": "Nic Scozzaro", "link": "https://stackoverflow.com/users/5539715/nic-scozzaro"}, "is_accepted": false, "score": 0, "last_activity_date": 1588361561, "creation_date": 1588361561, "answer_id": 61549486, "question_id": 37039685, "link": "https://stackoverflow.com/questions/37039685/hide-axis-values-but-keep-axis-tick-labels-in-matplotlib/61549486#61549486", "title": "Hide axis values but keep axis tick labels in matplotlib", "body": "<p><code>plt.gca().axes.yaxis.set_ticklabels([])</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/PGRTG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PGRTG.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 6193, "user_id": 4544413, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e76680e93b59e0f38238f5a0c47d1ca3?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Ramon Ramirez Rodriguez", "link": "https://stackoverflow.com/users/4544413/luis-ramon-ramirez-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220924, "favorite_count": 19, "accepted_answer_id": 37045694, "answer_count": 6, "score": 122, "last_activity_date": 1588361561, "creation_date": 1462403806, "last_edit_date": 1588142644, "question_id": 37039685, "link": "https://stackoverflow.com/questions/37039685/hide-axis-values-but-keep-axis-tick-labels-in-matplotlib", "title": "Hide axis values but keep axis tick labels in matplotlib", "body": "<p>I have this image:</p>\n\n<pre><code>plt.plot(sim_1['t'],sim_1['V'],'k')\nplt.ylabel('V')\nplt.xlabel('t')\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jU1uJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jU1uJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to hide the numbers; if I use:</p>\n\n<pre><code>plt.axis('off')\n</code></pre>\n\n<p>...I get this image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gur0P.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gur0P.png\" alt=\"enter image description here\"></a></p>\n\n<p>It also hide the labels, <code>V</code> and <code>t</code>. How can I keep the labels while hiding the values?</p>\n"}, {"tags": ["python", "multithreading", "execution-time"], "comments": [{"owner": {"reputation": 3582, "user_id": 3795615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7fca2d8ef13cf1cb8c6152f358cf5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Strikeskids", "link": "https://stackoverflow.com/users/3795615/strikeskids"}, "edited": false, "score": 1, "creation_date": 1462404337, "post_id": 37039664, "comment_id": 61629309, "body": "One problem with what you are trying to do is Python has a global interpreter lock (GIL). What that basically means is your program is actually only interleaving the threads, not doing true concurrency. You will not experience any speedup. You can trying using the multiprocessing library instead if you want."}, {"owner": {"reputation": 59, "user_id": 2496941, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cd0f73c9b260ad7b35477eb926abf1eb?s=128&d=identicon&r=PG", "display_name": "Muhammad", "link": "https://stackoverflow.com/users/2496941/muhammad"}, "reply_to_user": {"reputation": 3582, "user_id": 3795615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7fca2d8ef13cf1cb8c6152f358cf5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Strikeskids", "link": "https://stackoverflow.com/users/3795615/strikeskids"}, "edited": false, "score": 0, "creation_date": 1462407016, "post_id": 37039664, "comment_id": 61630069, "body": "Is there still a way to find the time at which a set of threads in an iteration finished execution?"}], "answers": [{"tags": [], "owner": {"reputation": 1255, "user_id": 3873440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ySfS.jpg?s=128&g=1", "display_name": "goCards", "link": "https://stackoverflow.com/users/3873440/gocards"}, "is_accepted": true, "score": 0, "last_activity_date": 1462409015, "creation_date": 1462409015, "answer_id": 37040483, "question_id": 37039664, "link": "https://stackoverflow.com/questions/37039664/find-time-of-execution-after-executing-using-n-threads/37040483#37040483", "title": "Find time of execution after executing using N threads", "body": "<p>You are correct that you are not getting the time it takes for all threads to finish. You need to append each thread to a list. Then call the join method to wait for that thread to finish its work. Also, note the comment by Strikeskid.</p>\n\n<pre><code>start_time = time.time()\nthreads = []\nfor i in range(0,n_threads):\n    t=threading.Thread(target=run, args=(first,last))\n    threads.append(t)\n    t.start()\n\n# Wait for all threads to complete\nfor t in threads:\n    t.join()\nprint(\"For Threads = \"+ str(n_threads) +\" --- %s seconds ---\" % (time.time() - start_time))\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 2496941, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cd0f73c9b260ad7b35477eb926abf1eb?s=128&d=identicon&r=PG", "display_name": "Muhammad", "link": "https://stackoverflow.com/users/2496941/muhammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 37040483, "answer_count": 1, "score": 0, "last_activity_date": 1462409015, "creation_date": 1462403671, "question_id": 37039664, "link": "https://stackoverflow.com/questions/37039664/find-time-of-execution-after-executing-using-n-threads", "title": "Find time of execution after executing using N threads", "body": "<p>I am trying to find the difference in time of execution as I keep increasing the number of threads. Basically, I want to find how long the outer loop takes to execute after completing the jobs in all the threads in that loop.</p>\n\n<pre><code>import threading\nimport time\nfrom math import sqrt\n\n\ndef run(start, end):\n    [sqrt(i) for i in range(start,end)]\n\nn_threads = 2\nn_vals = 1000000\nstart_time = time.time()\nfor n_threads in range(1,11):\n    start_time = time.time()\n    for i in range(0,n_threads):\n        first = int((n_vals/n_threads)*i)\n        last = int((n_vals/n_threads)*(i+1))\n        t=threading.Thread(target=run, args=(first,last))\n        t.start()\n    print(\"For Threads = \"+ str(n_threads) +\" --- %s seconds ---\" % (time.time() - start_time))\n</code></pre>\n\n<p>This is a simple program to split the job equally between threads where n_threads is the number of threads.I want to find the execution time when n_threads = 1,2....10. However, in my present code, I don't think I'm getting the time after all the threads have executed, but rather the time is given in parallel while the rest of the threads are executing. How do I fix this?</p>\n"}, {"tags": ["python", "performance", "chunks"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462403649, "post_id": 37039641, "comment_id": 61629088, "body": "File I/O is already buffered. Have you looked into options to mess with the buffer? And by &quot;seems too slow&quot; do you mean that you ran this script and it took an unacceptably long time to process, or that you&#39;re looking at your code and you have a hunch that there&#39;s a faster way to do it?"}, {"owner": {"reputation": 4315, "user_id": 1768702, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ced4cc517f215af04800f05f52eb310b?s=128&d=identicon&r=PG", "display_name": "yelsayed", "link": "https://stackoverflow.com/users/1768702/yelsayed"}, "edited": false, "score": 0, "creation_date": 1462403843, "post_id": 37039641, "comment_id": 61629148, "body": "Python has its own performance limitation after all. If there&#39;s nothing you can optimize in your parsing, maybe consider writing this in C/C++?"}, {"owner": {"reputation": 681, "user_id": 3826327, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f311fb589a5df4f3eca10e316963e11d?s=128&d=identicon&r=PG&f=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/3826327/romain"}, "edited": false, "score": 0, "creation_date": 1462404177, "post_id": 37039641, "comment_id": 61629247, "body": "1/ I haven&#39;t look into buffer, any more precision on that ?  2/ It takes a long time to run but still manageable. I can always try to parallelize and see how much it will reduce. But somehow I feel like such simple computation shouldn&#39;t take that long."}, {"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "edited": false, "score": 1, "creation_date": 1462406912, "post_id": 37039641, "comment_id": 61630044, "body": "What some people do is just try different things and hope for improvement. You can do <a href=\"http://stackoverflow.com/a/4299378/23771\"><i>this</i></a>, which takes little time, and it&#39;s likely to surprise you about where the time actually goes. If you fix what it tells you, you stand a much better chance of speeding up the code."}], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 3826327, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f311fb589a5df4f3eca10e316963e11d?s=128&d=identicon&r=PG&f=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/3826327/romain"}, "edited": false, "score": 0, "creation_date": 1462410527, "post_id": 37040125, "comment_id": 61630962, "body": "Thanks for this great post. 5 time faster !!! Could you change &quot;value&quot; to &quot;row[key]&quot; and &quot;if i &gt;1 ...&quot; to &quot;try ... except ZeroDivisionError&quot;, please ?. Also, would there be any pluses in processing data in chunk vs per line ?"}, {"owner": {"reputation": 38204, "user_id": 346478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a60a250d33ebf1c57ca7e603e21311?s=128&d=identicon&r=PG", "display_name": "Jan Vlcinsky", "link": "https://stackoverflow.com/users/346478/jan-vlcinsky"}, "reply_to_user": {"reputation": 681, "user_id": 3826327, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f311fb589a5df4f3eca10e316963e11d?s=128&d=identicon&r=PG&f=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/3826327/romain"}, "edited": false, "score": 0, "creation_date": 1462442232, "post_id": 37040125, "comment_id": 61643053, "body": "@Romain Glad to hear about the speedup. I edited the code as you have proposed. Hope it is done properly. I will add answer to chunks into my answer."}, {"owner": {"reputation": 38204, "user_id": 346478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a60a250d33ebf1c57ca7e603e21311?s=128&d=identicon&r=PG", "display_name": "Jan Vlcinsky", "link": "https://stackoverflow.com/users/346478/jan-vlcinsky"}, "reply_to_user": {"reputation": 681, "user_id": 3826327, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f311fb589a5df4f3eca10e316963e11d?s=128&d=identicon&r=PG&f=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/3826327/romain"}, "edited": false, "score": 0, "creation_date": 1462445189, "post_id": 37040125, "comment_id": 61644696, "body": "@Romain Added answer to chunking."}], "tags": [], "owner": {"reputation": 38204, "user_id": 346478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a60a250d33ebf1c57ca7e603e21311?s=128&d=identicon&r=PG", "display_name": "Jan Vlcinsky", "link": "https://stackoverflow.com/users/346478/jan-vlcinsky"}, "is_accepted": true, "score": 4, "last_activity_date": 1462445170, "last_edit_date": 1462445170, "creation_date": 1462406534, "answer_id": 37040125, "question_id": 37039641, "link": "https://stackoverflow.com/questions/37039641/python-speed-processing-per-line-vs-in-chunk/37040125#37040125", "title": "python speed processing per line VS in chunk", "body": "<h1>Loop optimizations</h1>\n\n<p>If you need to gain some speed:</p>\n\n<ul>\n<li>be sure, you really need the speedup (otherwise you spend too much time on worthless task)</li>\n<li>start with loops\n\n<ul>\n<li>check, if some loops can be prevented</li>\n<li>optimize/remove instructions inside the loop\n\n<ul>\n<li>each instruction counts</li>\n<li>each reference counts</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Here is my draft of optimized code (not tested):</p>\n\n<pre><code>from collections import defaultdict\n\n\nunique = defaultdict(set)\nmeans = {key: 0.0 for key in numerical_keys}\nsds = {key: 0.0 for key in numerical_keys}\nwith open('input/train.csv', 'r') as read_file:\n    reader = csv.DictReader(read_file, delimiter=',', quotechar='|')\n    for i, row in enumerate(reader):\n        for key in categorical_keys:\n            unique[key].add(row[key])\n        for key in numerical_keys:\n            try:\n                # shall throw ValueError if None or empty string\n                value=float(row[key])\n                mean_val = (means[key]*i + value)/(i+1)\n                means[key] = mean_val\n                # following fails for i &lt; = 1 with ZeroDivisionError\n                sds[key] = (sds[key]*(i-1) + (value-mead_val)**2)/i\n            except (ValueError, ZeroDivisionError):\n                pass\n</code></pre>\n\n<h2>Collecting unique values</h2>\n\n<p>You use dict with list of unique values:</p>\n\n<pre><code>unique = {key: [] for key in categorical_keys}\n</code></pre>\n\n<p>and add to it unique values as list item (happens within loop):</p>\n\n<pre><code>if key in categorical_keys:\n    if row[key] not in unique[key]:\n        unique[key].extend([value])\n</code></pre>\n\n<p>You could safe some test (if the value exists in the list) if you directly add the value into set -\nthe set will take care, only unique values are collected there.</p>\n\n<p>Using <code>defaultdict</code> will assure, you have already some empty set present in case you use any key,\nwhich was not used yet.</p>\n\n<h2>Not testing type of record keys in each loop, know them in advance</h2>\n\n<p>Your code repeatedly loops over record keys and test them for type, then does something:</p>\n\n<pre><code>        if key in categorical_keys:\n            if row[key] not in unique[key]:\n                unique[key].extend([value])\n        elif key in numerical_keys:\n            if value:\n                means[key] = (means[key]*i + float(value))/(i+1)\n                if i &gt; 1:\n                    sds[key] = (sds[key]*(i-1) + (float(value)-means[key])**2)/i\n</code></pre>\n\n<p>You can safe these tests, if your <code>categorical_keys</code> and <code>numerical_keys</code> are properly set to\nexisting values. Then you can directly loop over known key names:</p>\n\n<pre><code>        for key in categorical_keys:\n            unique[key].add(row[value])\n        for key in numerical_keys:\n            try:\n                # shall throw ValueError if None or empty string\n                value=float(row[value])\n                means[key] = (means[key]*i + value)/(i+1)\n                if i &gt; 1:\n                    sds[key] = (sds[key]*(i-1) + (value-means[key])**2)/i\n            except ValueError:\n                pass\n</code></pre>\n\n<h2>Resuse once calculated value</h2>\n\n<p>Your code repeatedly calculates the value:</p>\n\n<pre><code>float(value)\n</code></pre>\n\n<p>Do it once and reuse.</p>\n\n<p>Also the <code>mean[key]</code> value is once calculated and set into <code>means[key]</code>, and\ntwo lines later using the value again. Better store the value in local variable\nand use it twice. Any lookup (like <code>means[key]</code>) costs something.</p>\n\n<h2>Catching exception is mostly faster then value test</h2>\n\n<p>Your code tests for value not being empty:</p>\n\n<pre><code>        elif key in numerical_keys:\n            if value:\n                # something here\n</code></pre>\n\n<p>You can replace it with code, which directly works with the value. If the value is wrong, it will\nfail and exception <code>ValueError</code> will be catched and ignored. If you have most values set, this will speed it\nup.</p>\n\n<pre><code>            try:\n                value=float(value)\n                means[key] = (means[key]*i + value)/(i+1)\n                if i &gt; 1:\n                    sds[key] = (sds[key]*(i-1) + (value-means[key])**2)/i\n            except ValueError:\n                pass\n</code></pre>\n\n<h2>Can you prevent the <code>if i &gt; 1:</code> test?</h2>\n\n<p>This condition is in most cases true, but you test it in each loop. If you find a way (I did not) to\nprevent this test, you get it faster too.</p>\n\n<p>As you proposed, we can resolve it by catching <code>ZeroDivisionError</code> for i &lt;= 1:</p>\n\n<pre><code>            try:\n                # shall throw ValueError if None or empty string\n                value=float(value)\n                means[key] = (means[key]*i + value)/(i+1)\n                # for i &lt;= 1 shall raise ZeroDivisionError\n                sds[key] = (sds[key]*(i-1) + (value-means[key])**2)/i\n            except (ValueError, ZeroDivisionError):\n                pass\n</code></pre>\n\n<h1>Processing data in chunks</h1>\n\n<p>Regarding processing in chunks:</p>\n\n<ul>\n<li>it definitely adds some complexity</li>\n<li>it might speed the program up, if done carefully</li>\n<li>it might slow it down or provide wrong results</li>\n</ul>\n\n<h2>Where chunking can improve the speed</h2>\n\n<h3>Reading files in larger pieces</h3>\n\n<p>This sounds obvious, but libraries already take care of it. Expect minor or none improvement.</p>\n\n<h3>Getting CSV records in chunks</h3>\n\n<p>I am not aware of a method of <code>csv.reader</code> or <code>csv.DictReader</code> allowing to get\nchunk of records directly. You would have to do it yourself. This is possible, I\nwould recommend using <code>itertools.groupby</code>.</p>\n\n<p>Do not expect speedup from it on its own (it will slow it down a bit), but it is prerequisite for other chunk-based speedups later on.</p>\n\n<h3>Adding chunk of values to a set</h3>\n\n<p>The code (currently) adds values to a set one by one. If you do it with chunk\nof values (the more, the better), it will be faster as each python call has\nsome small overhead.</p>\n\n<h3>Calculating mean and sds values</h3>\n\n<p>You could take advantage of <code>statistics</code> package, which is likely to have\noptimized code (but it seems to be in pure python anyway).</p>\n\n<p>Anyway, as you are going to process the data in chunks, simple\n<code>statistics.mean</code> will not work for you or you would have to aggregate the\nresults somehow together (if it is even possible).</p>\n\n<p>If you calculate the value yourself, with careful coding you can get some\nspeedup, based mostly on the fact, you get values directly in one chunk and\nwill not have to dereference value by value in each loop.</p>\n\n<h2>Chunking conclusions</h2>\n\n<p>To me the chunking optimization seems to be too complex and it is hard to\npredict, if it brings any value.</p>\n"}, {"tags": [], "owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "is_accepted": false, "score": 1, "last_activity_date": 1462445684, "creation_date": 1462445684, "answer_id": 37048746, "question_id": 37039641, "link": "https://stackoverflow.com/questions/37039641/python-speed-processing-per-line-vs-in-chunk/37048746#37048746", "title": "python speed processing per line VS in chunk", "body": "<p>Jan's answer is great, but if you want to push the speed some more, you can do your own research in the following:</p>\n\n<p>Line-by-line profile of the execution: if you don't know what's slow, you can't improve further (<a href=\"https://github.com/rkern/line_profiler\" rel=\"nofollow\">https://github.com/rkern/line_profiler</a>)</p>\n\n<p>Since most of your code is numeric operations, you may be wasting a lot of time on the type checking overhead. There are two paths here - either decorate the code with types and use <a href=\"https://github.com/cython/cython/wiki/examples-mandelbrot\" rel=\"nofollow\">Cython</a>, or leave the code as it is and use <a href=\"http://pypy.org/\" rel=\"nofollow\">Pypy</a> - both should give you a good boost.</p>\n"}], "owner": {"reputation": 681, "user_id": 3826327, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f311fb589a5df4f3eca10e316963e11d?s=128&d=identicon&r=PG&f=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/3826327/romain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 37040125, "answer_count": 2, "score": 5, "last_activity_date": 1462445684, "creation_date": 1462403481, "question_id": 37039641, "link": "https://stackoverflow.com/questions/37039641/python-speed-processing-per-line-vs-in-chunk", "title": "python speed processing per line VS in chunk", "body": "<p>I am trying to perform very simple computations on a huge file like counting the numbers of label for some columns or the average and standard deviation for other columns. The file is too big to fit in memory and I am currently processing it per line with:</p>\n\n<pre><code>unique = {key: [] for key in categorical_keys}\nmeans = {key: 0.0 for key in numerical_keys}\nsds = {key: 0.0 for key in numerical_keys}\nwith open('input/train.csv', 'r') as read_file:\n    reader = csv.DictReader(read_file, delimiter=',', quotechar='|')\n    for i, row in enumerate(reader):\n        for key, value in row.iteritems():\n            if key in categorical_keys:\n                if row[key] not in unique[key]:\n                    unique[key].extend([value])\n            elif key in numerical_keys:\n                if value:\n                    means[key] = (means[key]*i + float(value))/(i+1)\n                    if i &gt; 1:\n                        sds[key] = (sds[key]*(i-1) + (float(value)-means[key])**2)/i\n</code></pre>\n\n<p>Now this seems to be too slow and I am wondering if it would faster to process it in chunk that could fit in memory. Would it be faster ? If yes, why ?</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["python", "mysql", "sqlalchemy"], "owner": {"reputation": 1155, "user_id": 1429215, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YtoGc.jpg?s=128&g=1", "display_name": "Lyman Zerga", "link": "https://stackoverflow.com/users/1429215/lyman-zerga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1462406449, "creation_date": 1462403448, "last_edit_date": 1462406449, "question_id": 37039634, "link": "https://stackoverflow.com/questions/37039634/how-to-implement-foreign-key-constraint-to-two-different-tables-in-sqlalchemy", "title": "How to implement Foreign Key constraint to two different tables in SQLAlchemy", "body": "<p>Below are the simplified analogous versions of my classes -</p>\n\n<pre><code>class AbstractEmployee(Base):\n    __tablename__ = 'abstract_employee'\n    id\n    name\n    _cls\n    __mapper_args__ = dict(polymorphic_on=_cls, with_polymorphic='*')\n\n\nclass AbstractEngineer(AbstractEmployee):\n    factory_number\n\nclass ChemicalEngineer(AbstractEngineer):\n    __mapper_args__ = dict(polymorphic_identity='chemical_engineer')    \n\nclass AbstractScientist(AbstractEmployee):\n    lab_number\n\nclass Chemist(AbstractScientist):\n    __mapper_args__ = dict(polymorphic_identity='chemist)\n</code></pre>\n\n<p>Here I am implementing the Single Table Inheritance pattern, where the <code>abstract_employee</code> is the only table. Now I have <code>Company</code> table as follows</p>\n\n<pre><code>class Company(Base):\n    __tablename__ = 'company'\n    id\n    employee_id\n</code></pre>\n\n<p>Now I want employee_id to be a foreign key which is EITHER in <code>ChemicalEngineer</code> OR <code>Chemist</code>and not in any other class. One way of doing this is having a Foreign Key constraint on AbstractEmployee.id column and then creating a validation to do a manual check, like -</p>\n\n<pre><code>@validates('employee_id')\ndef check_emp_id(self, key, emp_id):\n    assert ChemicalEngineer.get(emp_id) or Chemist.get(emp_id)\n</code></pre>\n\n<p>But is there a better way? This might slow down insert queries.</p>\n\n<p>(For other reasons, I cannot change the class hierarchy. Also there are other classes as well which derive from the Abstract classes which I haven't mentioned)</p>\n"}, {"tags": ["python", "compression", "gzip"], "answers": [{"comments": [{"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1478041721, "post_id": 37042747, "comment_id": 67993608, "body": "I found this answer very helpful--thanks! But I think it contains a subtle bug: what if several small files are compressed within a single 8K block? This code will only decompress the first one, each time through the loop. True?"}, {"owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "reply_to_user": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1478045561, "post_id": 37042747, "comment_id": 67994619, "body": "No. The buffer size doesn&#39;t matter. If a 20-byte gzip stream is at the start of the 8192 bytes, then the remaining 8172 bytes will be left in <code>z.unused_data</code>. You could just try it and see that it works."}, {"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1478049658, "post_id": 37042747, "comment_id": 67995635, "body": "You&#39;re right, I looked more closely and indeed it does decompress multiple files within a single block."}, {"owner": {"reputation": 2670, "user_id": 2682863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/840d9fa30bb7e296d9aeb0abc50f204a?s=128&d=identicon&r=PG&f=1", "display_name": "user2682863", "link": "https://stackoverflow.com/users/2682863/user2682863"}, "edited": false, "score": 0, "creation_date": 1571961524, "post_id": 37042747, "comment_id": 103421848, "body": "@MarkAdler I ran into an issue using this if the gzip&#39;d file was larger than buffer size. It would surprisingly decompress the partial file without raise an error"}, {"owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "edited": false, "score": 0, "creation_date": 1571971948, "post_id": 37042747, "comment_id": 103423670, "body": "You mean larger than 8192? No, it will decompress the whole thing. What do you mean &quot;partial file&quot;?"}, {"owner": {"reputation": 2670, "user_id": 2682863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/840d9fa30bb7e296d9aeb0abc50f204a?s=128&d=identicon&r=PG&f=1", "display_name": "user2682863", "link": "https://stackoverflow.com/users/2682863/user2682863"}, "edited": false, "score": 0, "creation_date": 1572012894, "post_id": 37042747, "comment_id": 103439492, "body": "@MarkAdler It will decompress everything, but you can&#39;t tell where 1 original file ends and the next begins. I made a simple script to demonstrate the problem <a href=\"https://my.pcloud.com/publink/show?code=XZi948kZ2qOCctvnsAVofxdDmfuJcY89FU8k\" rel=\"nofollow noreferrer\">here</a>. Side note: thanks for taking the time to share your enormous wealth of knowledge"}, {"owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "edited": false, "score": 0, "creation_date": 1572059165, "post_id": 37042747, "comment_id": 103453392, "body": "If you want to do something special between the gzip members, then you would do that in your <code>get_zipped_objs()</code> after the <code>else:</code>."}, {"owner": {"reputation": 2670, "user_id": 2682863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/840d9fa30bb7e296d9aeb0abc50f204a?s=128&d=identicon&r=PG&f=1", "display_name": "user2682863", "link": "https://stackoverflow.com/users/2682863/user2682863"}, "edited": false, "score": 0, "creation_date": 1572090452, "post_id": 37042747, "comment_id": 103457978, "body": "@MarkAdler yeah it&#39;s just that if the chunksize is less than the gzipped file size it unzips it in segments and you end up with 10 objects instead of the original 2. I was thinking of searching for the gzip footer (/x0 I think) before attempting to decompress"}, {"owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "edited": false, "score": 0, "creation_date": 1572105441, "post_id": 37042747, "comment_id": 103461301, "body": "Objects? I don&#39;t know what you mean. In any case, that <code>else:</code> clause is executed only once for your test case with two gzip members. Not nine times. If you want to generate a separate output for each gzip member that precedes the last one, then write out what you have so far in that <code>else:</code> clause. Write out the last member from you have so far at the end."}, {"owner": {"reputation": 2670, "user_id": 2682863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/840d9fa30bb7e296d9aeb0abc50f204a?s=128&d=identicon&r=PG&f=1", "display_name": "user2682863", "link": "https://stackoverflow.com/users/2682863/user2682863"}, "edited": false, "score": 0, "creation_date": 1572108990, "post_id": 37042747, "comment_id": 103462177, "body": "@MarkAdler Apologies for my ambiguous wording. In your example, if sys.stdin.read size is 1 and the gzip file size is 2, it will call decompress twice and return 2 unzipped files instead of the original 1. (I probably should have started a new question at this point)"}, {"owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "edited": false, "score": 0, "creation_date": 1572153365, "post_id": 37042747, "comment_id": 103469181, "body": "Yes, this needs a new question."}], "tags": [], "owner": {"reputation": 78348, "user_id": 1180620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FXaAg.jpg?s=128&g=1", "display_name": "Mark Adler", "link": "https://stackoverflow.com/users/1180620/mark-adler"}, "is_accepted": true, "score": 2, "last_activity_date": 1462463306, "last_edit_date": 1462463306, "creation_date": 1462424614, "answer_id": 37042747, "question_id": 37039594, "link": "https://stackoverflow.com/questions/37039594/read-multiple-files-from-concatenated-gzip-in-python/37042747#37042747", "title": "Read multiple files from concatenated gzip in Python", "body": "<p>Yes. Use <code>z = zlib.decompressobj(31)</code>, and then use <code>z</code> to decompress until <code>z.unused_data</code> is not empty, or you have processed all of the input. If you get <code>z.unused_data</code> as not empty, then it contains the start of the next gzip stream. Create a new <code>y = zlib.decompressobj</code> object, and start decompression with the contents of <code>z.unused_data</code>, continuing with more data from the file.</p>\n\n<p>This prints the uncompressed size of each concatenated gzip component:</p>\n\n<pre><code>#!/usr/bin/python\nimport sys\nimport zlib\nz = zlib.decompressobj(31)\ncount = 0\nwhile True:\n    if z.unused_data == \"\":\n        buf = sys.stdin.read(8192)\n        if buf == \"\":\n            break\n    else:\n        print count\n        count = 0\n        buf = z.unused_data\n        z = zlib.decompressobj(31)\n    got = z.decompress(buf)\n    count += len(got)\nprint count\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11437138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfe4dbc5b735de3fc4ec093bf8d127b?s=128&d=identicon&r=PG&f=1", "display_name": "RomainGroux", "link": "https://stackoverflow.com/users/11437138/romaingroux"}, "is_accepted": false, "score": 0, "last_activity_date": 1615974873, "creation_date": 1615974873, "answer_id": 66670687, "question_id": 37039594, "link": "https://stackoverflow.com/questions/37039594/read-multiple-files-from-concatenated-gzip-in-python/66670687#66670687", "title": "Read multiple files from concatenated gzip in Python", "body": "<p>@MarkAdler\nThank you very much for this answer. It actually helped me quite a bit !</p>\n<p>Now I just want to add a tiny detail that can save a lot of your time. The current answer will not detect truncated files such as gzip/zcat would.</p>\n<pre><code>zcat file.gz \ngzip: file.gz: unexpected end of file\n</code></pre>\n<p>To correct this, check <a href=\"https://docs.python.org/3/library/zlib.html#zlib.Decompress.eof\" rel=\"nofollow noreferrer\">decompress.oef</a>. If False, this means the gzip file is truncated. If you don't do this, you'll never see an error.</p>\n<p>Here is the modified code:</p>\n<pre><code>#!/usr/bin/python\nimport sys\nimport zlib\nz = zlib.decompressobj(31)\ncount = 0\nwhile True:\n    if z.unused_data == &quot;&quot;:\n        buf = sys.stdin.read(8192)\n        if buf == &quot;&quot;:\n            # check truncated file\n            if not z.eof:\n                raise RuntimeError(&quot;unexpected end of file&quot;)\n            break\n    else:\n        print count\n        count = 0\n        buf = z.unused_data\n        z = zlib.decompressobj(31)\n    got = z.decompress(buf)\n    count += len(got)\nprint count\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 3765153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63242bf7e9ca7105d3bf51a1b4594b2a?s=128&d=identicon&r=PG&f=1", "display_name": "erikreppel", "link": "https://stackoverflow.com/users/3765153/erikreppel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 1, "accepted_answer_id": 37042747, "answer_count": 2, "score": 2, "last_activity_date": 1615974873, "creation_date": 1462403278, "question_id": 37039594, "link": "https://stackoverflow.com/questions/37039594/read-multiple-files-from-concatenated-gzip-in-python", "title": "Read multiple files from concatenated gzip in Python", "body": "<p>If I have a gzipped file and I concatenate it together with another gzipped file, is it possible to read the files separately in python?</p>\n\n<p>Ex:</p>\n\n<p><code>cat f1.csv.gz f2.csv.gz &gt; f3.csv.gzip\n</code></p>\n\n<p>I know this is possible in Go, but is there a way to do this in Python?</p>\n"}, {"tags": ["python", "sas"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 5784043, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c913376990ee9a43b279b7ba81425bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Pereira", "link": "https://stackoverflow.com/users/5784043/daniel-pereira"}, "edited": false, "score": 0, "creation_date": 1462449326, "post_id": 37042466, "comment_id": 61647336, "body": "Thanks, mate. Do you know where is the SAS code that is saved within a project? Because I think they are stored within the project file created. Is there a way to export it some how or should I just save the codes separetly ? Also, do I have to use a different .exe file? I cant seem to find the sas.exe"}, {"owner": {"reputation": 4059, "user_id": 643928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/360ecf3d8d7fded3e799f4689a8a6158?s=128&d=identicon&r=PG", "display_name": "Philihp Busby", "link": "https://stackoverflow.com/users/643928/philihp-busby"}, "reply_to_user": {"reputation": 157, "user_id": 5784043, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c913376990ee9a43b279b7ba81425bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Pereira", "link": "https://stackoverflow.com/users/5784043/daniel-pereira"}, "edited": false, "score": 0, "creation_date": 1464663136, "post_id": 37042466, "comment_id": 62562221, "body": "Check in the SASFoundation folder."}], "tags": [], "owner": {"reputation": 4059, "user_id": 643928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/360ecf3d8d7fded3e799f4689a8a6158?s=128&d=identicon&r=PG", "display_name": "Philihp Busby", "link": "https://stackoverflow.com/users/643928/philihp-busby"}, "is_accepted": false, "score": 0, "last_activity_date": 1462423043, "creation_date": 1462423043, "answer_id": 37042466, "question_id": 37039585, "link": "https://stackoverflow.com/questions/37039585/running-sas-eg-project-with-python/37042466#37042466", "title": "Running SAS EG project with Python", "body": "<p>You'll have to save your SAS Enterprise Guide program simply as a SAS program and run it as a SAS script using <a href=\"http://support.sas.com/documentation/cdl/en/hostunx/61879/HTML/default/viewer.htm#a002460897.htm\" rel=\"nofollow\">SAS in batch mode</a>.</p>\n\n<p>SAS Enterprise Guide is a visual editor, but behind the scenes it's still creating SAS code.</p>\n"}, {"comments": [{"owner": {"reputation": 7142, "user_id": 5345150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sql34.jpg?s=128&g=1", "display_name": "Abhishek Gurjar", "link": "https://stackoverflow.com/users/5345150/abhishek-gurjar"}, "edited": false, "score": 0, "creation_date": 1572504062, "post_id": 58637778, "comment_id": 103582199, "body": "Please provide some essential details from link or explain it further for concreting it. because link may get expired in future."}], "tags": [], "owner": {"reputation": 61, "user_id": 3394926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae2304e4ca23688d5fd36e9001c4d68b?s=128&d=identicon&r=PG&f=1", "display_name": "user3394926", "link": "https://stackoverflow.com/users/3394926/user3394926"}, "is_accepted": false, "score": 2, "last_activity_date": 1572502660, "creation_date": 1572502660, "answer_id": 58637778, "question_id": 37039585, "link": "https://stackoverflow.com/questions/37039585/running-sas-eg-project-with-python/58637778#58637778", "title": "Running SAS EG project with Python", "body": "<p>I have the same complaint as you, so I created a tool to execute egp file from python or command line.\n<a href=\"https://github.com/kjnh10/saseg_runner\" rel=\"nofollow noreferrer\">https://github.com/kjnh10/saseg_runner</a></p>\n\n<p>I hope this would help.</p>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 2449301, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dd26bd7fe8e4b70e0bc48e9a1150e908?s=128&d=identicon&r=PG", "display_name": "Djones4822", "link": "https://stackoverflow.com/users/2449301/djones4822"}, "is_accepted": false, "score": 0, "last_activity_date": 1585939406, "last_edit_date": 1585939406, "creation_date": 1585927776, "answer_id": 61015254, "question_id": 37039585, "link": "https://stackoverflow.com/questions/37039585/running-sas-eg-project-with-python/61015254#61015254", "title": "Running SAS EG project with Python", "body": "<p>EG has a COM interface that can be automated with python, as is in user3394926's git repo below. </p>\n\n<p>Chris Hemedinger from SAS wrote a great article on the SAS communities website, he's cjdinger on github and has a few vb scripts that show how to access the various COM interfaces. The current link to the SAS Article written in 2017 is here: <a href=\"https://communities.sas.com/t5/SAS-Communities-Library/Doing-More-with-SAS-Enterprise-Guide-Automation/ta-p/417832?title=Not_Just_for_Scheduling:_Doing_More_with_SAS_Enterprise_Guide_Automation\" rel=\"nofollow noreferrer\">https://communities.sas.com/t5/SAS-Communities-Library/Doing-More-with-SAS-Enterprise-Guide-Automation/ta-p/417832?title=Not_Just_for_Scheduling:_Doing_More_with_SAS_Enterprise_Guide_Automation</a> </p>\n\n<p>Note that there is a link to the documentation reference guide available as a CHM that lists each object and its methods and properties in that article. </p>\n\n<p>You can also export an EG script as a VB script to be scheduled using Windows Scheduler, you'll see some of the various COM interfaces and functions there.</p>\n\n<p>A basic execution is:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import win32com.client as win32\n\neg = win32.Dispatch('SASEGObjectModel.Application.7.1')\n\nexample_file = r'./my_eg_file.egp'\n\nproject = eg.Open(example_file, \"\")\nproject.Run()\nproject.SaveAs(example_file) # Note that this will overwrite, comment out or rename if you don't want that. \nproject.Close()\n</code></pre>\n\n<p>Take a look at the examples cjdinger has. Some important details:</p>\n\n<ul>\n<li><p>Most of the interfaces have the <code>Name</code> property</p></li>\n<li><p>A standard EG project has \"Flows\" which contain \"Items\" which are of different types</p></li>\n<li><p>There are 26 different <code>types</code> of items in a given project, each with its own interface (not well documented...)</p></li>\n<li><p>The <code>Types</code> that cjdinger handled in his \"ExtractCodeAndLog.vbs\" example are <code>0: egFile</code>, <code>1: egCode</code>, <code>2: egData</code>, <code>3: egTask</code>, and <code>4: egQuery</code></p></li>\n<li><p><code>project.ContainerCollection</code> - is a collection of the \"Process Flows\" that can be iterated over, I'm not an EG power user, but most of my projects have 2, one with all my steps and an empty one</p></li>\n<li><p><code>&lt;flow&gt;.Items</code> - is another collection but of the items in a specific flow, these are the main steps, however <code>egData</code> can have child <code>Tasks</code> which are also shown as steps in the EG GUI</p></li>\n</ul>\n\n<p>eg:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>flows = project.ContainerCollection\nfor flow in flows:\n    print(f'FLOW: {flow.Name}')\n    for item in flow.Items:\n        print(f'ITEM: {item.Name} is type ID {item.Type}')\n        if item.Type in (2,):   # egData type\n            for task in item.Tasks:\n                print(f'TASK: {task.Name} is a task of {item.Name} is type {task.Type}')\n</code></pre>\n\n<ul>\n<li><p>Text needs to be accessed from the <code>Text</code> property of the various object</p></li>\n<li><p>Most items have a <code>Log</code> property you can access the text of using <code>item.Log.Text</code>, except <code>egData</code> which have <code>Task</code>s that have the log, you may need to run the project before you get a log, if there is no Log it throws an error. </p></li>\n<li><p>if there is Code, you can access it through the <code>item.TaskCode</code> object and <code>item.TaskCode.Text</code> is the string property for printing/writing</p></li>\n</ul>\n\n<p>Good luck, I can try to help with any other questions. I like the runner.py script that user3394926 has written to detect errors using an <code>re</code> search for <code>ERROR</code> in the logs. I've implemented a similar feature in mine. </p>\n"}], "owner": {"reputation": 157, "user_id": 5784043, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c913376990ee9a43b279b7ba81425bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Pereira", "link": "https://stackoverflow.com/users/5784043/daniel-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2044, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1585939406, "creation_date": 1462403228, "last_edit_date": 1495540780, "question_id": 37039585, "link": "https://stackoverflow.com/questions/37039585/running-sas-eg-project-with-python", "title": "Running SAS EG project with Python", "body": "<p>I've searched a bit for a way to execute a SAS Enterprise Guide project and its programs via Python but I could not find anything. I only find SAS examples like  the question: <a href=\"https://stackoverflow.com/questions/24365609/how-do-i-invoke-a-sas-script-in-python\">How do I invoke a sas script in python?</a></p>\n\n<p>I can call the enterprise guide project as my sysin like the answer in that link suggested, but when the project opens it tries to import all the other parameters I passed. I also can't find the path for each individual SAS program as it is inside the project.</p>\n\n<p>Does anyone knows a way to simply run the SAS programs within a project via python?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "unit-testing", "twitter", "mocking", "tweepy"], "comments": [{"owner": {"reputation": 601, "user_id": 5513449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a05a860a36fdd2afb665db132b4606ed?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5513449/daniel"}, "edited": false, "score": 0, "creation_date": 1462403200, "post_id": 37039512, "comment_id": 61628961, "body": "Can you post the full traceback please?"}, {"owner": {"reputation": 21, "user_id": 5615918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fde5a31dae90fc30409ea46252feed18?s=128&d=identicon&r=PG&f=1", "display_name": "Kisiel", "link": "https://stackoverflow.com/users/5615918/kisiel"}, "reply_to_user": {"reputation": 601, "user_id": 5513449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a05a860a36fdd2afb665db132b4606ed?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5513449/daniel"}, "edited": false, "score": 0, "creation_date": 1462403870, "post_id": 37039512, "comment_id": 61629158, "body": "@Daniel: ok, I&#39;ve just added it"}], "owner": {"reputation": 21, "user_id": 5615918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fde5a31dae90fc30409ea46252feed18?s=128&d=identicon&r=PG&f=1", "display_name": "Kisiel", "link": "https://stackoverflow.com/users/5615918/kisiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 666, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1462403837, "creation_date": 1462402849, "last_edit_date": 1462403837, "question_id": 37039512, "link": "https://stackoverflow.com/questions/37039512/mocking-twitters-api-library-with-pythons-patch-decorator", "title": "Mocking Twitter&#39;s API library with Python&#39;s patch decorator", "body": "<p>I'm using <a href=\"https://github.com/tweepy/tweepy\" rel=\"nofollow\">https://github.com/tweepy/tweepy</a> lib for Twiitter's API integration in Python. I have <code>tw.py</code> file with some Twitter's API usages and a <code>tests.py</code> file with some unit tests. Why my test: <code>test_third</code> does not pass? What am I doing wrong with patching <code>tweepy.API</code> class?</p>\n\n<pre><code># tw.py\nimport tweepy\nimport settings\n\n\ndef get_tweepy_api():\n    \"\"\"\n    Constructs twitter api object with all required keys, tokens.\n\n    @return: tweepy API object\n    @rtype: tweepy.api.API\n    \"\"\"\n    oauth = tweepy.auth.OAuthHandler(\n        consumer_key=settings.TWITTER_CONSUMER_KEY_ENGINE,\n        consumer_secret=settings.TWITTER_CONSUMER_SECRET_KEY_ENGINE,\n        callback=None)\n    oauth.set_access_token(settings.TWITTER_ACCESS_KEY_ENGINE,\n        settings.TWITTER_ACCESS_SECRET_ENGINE)\n    api = tweepy.API(oauth)\n    return api\n\n\nclass TwitterAccount(object):\n\n    @staticmethod\n    def validate(user_id):\n        try:\n            api = get_tweepy_api()\n            print('object api', api)\n            tuser = api.get_user(user_id)\n            print('method', api.get_user)\n            print('tuser', tuser)\n            if tuser.protected:\n                return False\n        except tweepy.TweepError:\n            return False\n        return True\n\n\n# tests.py\nimport unittest\nfrom unittest.mock import create_autospec, MagicMock, ANY, patch\nimport tweepy\nfrom tw import TwitterAccount\n\n\nclass MockedUser(object):\n    protected = False\n\n\nclass TwitterTestCase(unittest.TestCase):\n\n    def test_first(self):\n        api = create_autospec(tweepy.API, name='FirstAPI')\n        api.get_user = MagicMock(return_value=MockedUser)\n        tweepy.API = MagicMock(return_value=api)\n        self.assertTrue(TwitterAccount.validate('123'))\n        api.get_user.assert_called_once_with('123')\n\n    @patch.object(tweepy.API, 'get_user', return_value=MockedUser)\n    def test_second(self, tweepy_api):\n        self.assertTrue(TwitterAccount.validate('123'))\n        tweepy_api.assert_called_once_with(ANY)\n\n    @patch('tw.tweepy.API', autospec=True)\n    def test_third(self, tweepy_api):\n        tweepy_api.get_user = MagicMock(return_value=MockedUser)\n        self.assertTrue(TwitterAccount.validate('123'))\n</code></pre>\n\n<p>Traceback:</p>\n\n<pre><code>kisiel@kisiel-X550LC:~/tw$ python -m unittest tests.TwitterTestCase\nobject api &lt;MagicMock name='FirstAPI' spec='API' id='3042918028'&gt;\nmethod &lt;MagicMock name='FirstAPI.get_user' id='3061190636'&gt;\ntuser &lt;class 'tests.MockedUser'&gt;\n.object api &lt;MagicMock name='FirstAPI' spec='API' id='3042918028'&gt;\nmethod &lt;MagicMock name='FirstAPI.get_user' id='3061190636'&gt;\ntuser &lt;class 'tests.MockedUser'&gt;\nFobject api &lt;MagicMock name='API()' id='3042271340'&gt;\nmethod &lt;MagicMock name='API().get_user' id='3042284812'&gt;\ntuser &lt;MagicMock name='API().get_user()' id='3042292332'&gt;\nF\n======================================================================\nFAIL: test_second (tests.TwitterTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/unittest/mock.py\", line 1136, in patched\n    return func(*args, **keywargs)\n  File \"/home/kisiel/tw/tests.py\", line 24, in test_second\n    tweepy_api.assert_called_once_with(ANY)\n  File \"/usr/lib/python3.4/unittest/mock.py\", line 781, in assert_called_once_with\n    raise AssertionError(msg)\nAssertionError: Expected 'get_user' to be called once. Called 0 times.\n\n======================================================================\nFAIL: test_third (tests.TwitterTestCase)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/unittest/mock.py\", line 1136, in patched\n    return func(*args, **keywargs)\n  File \"/home/kisiel/tw/tests.py\", line 29, in test_third\n    self.assertTrue(TwitterAccount.validate('123'))\nAssertionError: False is not true\n\n----------------------------------------------------------------------\nRan 3 tests in 0.028s\n\nFAILED (failures=2)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 3, "creation_date": 1462402510, "post_id": 37039429, "comment_id": 61628749, "body": "You are using Python 2.x and <code>input()</code> tries to evaluate what you type in. Use <code>raw_input()</code> instead."}, {"owner": {"reputation": 11, "user_id": 5994217, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c99aaddea4de67366fd9a8a62acd29c1?s=128&d=identicon&r=PG", "display_name": "zane", "link": "https://stackoverflow.com/users/5994217/zane"}, "reply_to_user": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 0, "creation_date": 1462402687, "post_id": 37039429, "comment_id": 61628812, "body": "Thank you, TessellatingHeckler. It worked."}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 5112736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f60c83d869d943f091ebd3b799ac628?s=128&d=identicon&r=PG", "display_name": "LARKINS CARVALHO", "link": "https://stackoverflow.com/users/5112736/larkins-carvalho"}, "is_accepted": true, "score": 0, "last_activity_date": 1462402928, "last_edit_date": 1495540792, "creation_date": 1462402928, "answer_id": 37039523, "question_id": 37039429, "link": "https://stackoverflow.com/questions/37039429/trying-to-get-input-from-the-user-and-display-something-in-python-but-it-gives-m/37039523#37039523", "title": "Trying to get input from the user and display something in python but it gives me an error", "body": "<p><strong>Solution:</strong></p>\n\n<p>a = raw_input('Enter your name')</p>\n\n<p>print a</p>\n\n<p>However the raw_input does not exist in Python 3.x.\n<a href=\"https://stackoverflow.com/questions/4915361/whats-the-difference-between-raw-input-and-input-in-python3-x\">What&#39;s the difference between raw_input() and input() in python3.x?</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5994217, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c99aaddea4de67366fd9a8a62acd29c1?s=128&d=identicon&r=PG", "display_name": "zane", "link": "https://stackoverflow.com/users/5994217/zane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "closed_date": 1462402914, "accepted_answer_id": 37039523, "answer_count": 1, "score": 0, "last_activity_date": 1462838189, "creation_date": 1462402370, "last_edit_date": 1462838189, "question_id": 37039429, "link": "https://stackoverflow.com/questions/37039429/trying-to-get-input-from-the-user-and-display-something-in-python-but-it-gives-m", "closed_reason": "Duplicate", "title": "Trying to get input from the user and display something in python but it gives me an error", "body": "<p>I am making a program just to test if I can get input from a user and display their input. I looked online on how to do it and I copied it and put it on my program but it gives me an error that says this,</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/Home/PycharmProjects/untitled/j.py\", line 1, in &lt;module&gt;\n    a = input(\"enter your name\")\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nNameError: name 'hi' is not defined\n</code></pre>\n\n<p>Here is my code, </p>\n\n<pre><code>a = input(\"enter your name\")\n\nprint(a)\n</code></pre>\n\n<p>May you please help me on this? Thank you.</p>\n\n<p>This is not a duplicate I didn't even know there were other people that asked this question. </p>\n"}, {"tags": ["python", "xlrd", "xlwt"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1462405312, "post_id": 37039382, "comment_id": 61629613, "body": "Can you show the full traceback? One of its lines should tell you which part of your code is leading to exception. You might also want to comment out or otherwise get rid of your very broad <code>try</code>/<code>except</code> block at the end of your code, as suppressing errors can make debugging very difficult."}, {"owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1462405935, "post_id": 37039382, "comment_id": 61629811, "body": "Add full traceback. I get the same message with and without try except"}], "owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3308, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1462405878, "creation_date": 1462402166, "last_edit_date": 1462405878, "question_id": 37039382, "link": "https://stackoverflow.com/questions/37039382/exception-unexpected-data-type-type-float", "title": "Exception: Unexpected data type &lt;type &#39;float&#39;&gt;", "body": "<p>This is somewhat of a continuation of a previous post where I should have stated that I'm still a newby to python and programming in general. I'm using xlrd and xlwt to read an excel table created using arcpy from an ArcMap featureclass after racking my brain with pyexcel_xls and xlutils (the latter two aren't installed correctly on my machine and there's nothing i can do about it at the time).</p>\n\n<p>ArcMap automatically generates an object ID field which I need to get rid of before the final excel output is uploaded to .dtt file where the array is already specified and cannot be changed. Therefore, the script must open and read the excel file created using arcpy, copy all of the data into a dict excluding column 0, and then write the dict to a new workbook using xlwt. After overcoming numerous obstacles I got everything to work except for when xlwt encounters an unexpected datatype when writing the dict to the new xls file:</p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"C:\\Python27\\ArcGIS10.2\\Lib\\site-packages\\pythonwin\\pywin\\framework\\scriptutils.py\", line 323, in RunScript\n    debugger.run(codeObject, __main__.__dict__, start_stepping=0)\n  File \"C:\\Python27\\ArcGIS10.2\\Lib\\site-packages\\pythonwin\\pywin\\debugger\\__init__.py\", line 60, in run\n    _GetCurrentDebugger().run(cmd, globals,locals, start_stepping)\n  File \"C:\\Python27\\ArcGIS10.2\\Lib\\site-packages\\pythonwin\\pywin\\debugger\\debugger.py\", line 654, in run\n    exec cmd in globals, locals\n  File \"N:\\Python\\Completed scripts\\Recol1_SVRSTA00_prep2.py\", line 2, in &lt;module&gt;\n    import arcpy, xlrd, xlwt\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\site-packages\\xlwt\\Worksheet.py\", line 1030, in write\n    self.row(r).write(c, label, style)\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\site-packages\\xlwt\\Row.py\", line 257, in write\n    self.__rich_text_helper(col, label, style, style_index)\n  File \"C:\\Python27\\ArcGIS10.2\\lib\\site-packages\\xlwt\\Row.py\", line 283, in __rich_text_helper\n    raise Exception (\"Unexpected data type %r\" % type(data))\nException: Unexpected data type &lt;type 'float'&gt;\n</code></pre>\n\n<p>I was wondering if I could use try and except to overcome this but I'm not sure how I would write the except statement. Otherwise, is there another way to get over this last error? Here is the script minus all the arcpy stuff (which works fine) and import module statements:</p>\n\n<pre><code>workbook = xlrd.open_workbook(outXL)\nwriteBook = r\"S:\\Corporate\\Corporate Information\\Routesmart\\Recol_1\\Upload\\SVRSTA00.xls\"\n\nsheet = workbook.sheet_by_index(0)\n\ncell_range_value = 0\nfor value in sheet.col(32):\n    cell_range_value += 1\nprint cell_range_value\n\ndct1 = {}\nfor i in range(0, cell_range_value,1):\n    data = [sheet.cell_value(i, col) for col in range(sheet.ncols)[1:]]\n    cell_value_class = sheet.cell(i,32).value\n    cell_value_id = data\n    dct1[cell_value_class] = cell_value_id\n\nworkbook = xlwt.Workbook('utf-8','writeBook')\nworksheet = workbook.add_sheet('SVRSTA00')\n\nrow = 0\ncol = 0\n\ntry:\n    for key in dct1.keys():\n        for value in dct1.values():\n            worksheet.write(row, col, value)\n        row += 1\n\nexcept (RuntimeError,TypeError, NameError, ValueError):\n    pass\n\nworkbook.save(writeBook)\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-zeppelin"], "answers": [{"tags": [], "owner": {"reputation": 214, "user_id": 3788513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0ffJ.png?s=128&g=1", "display_name": "kgnete", "link": "https://stackoverflow.com/users/3788513/kgnete"}, "is_accepted": true, "score": 0, "last_activity_date": 1470944399, "creation_date": 1470944399, "answer_id": 38904821, "question_id": 37039341, "link": "https://stackoverflow.com/questions/37039341/attributeerror-dataframe-object-has-no-attribute-get-on-vectorassembler-spa/38904821#38904821", "title": "AttributeError: &#39;DataFrame&#39; object has no attribute &#39;get&#39; on VectorAssembler spark ML", "body": "<p>you can try changing</p>\n\n<pre><code>from pyspark.mllib.linalg import Vectors\n</code></pre>\n\n<p>with</p>\n\n<pre><code>from pyspark.ml.linalg import Vectors\n</code></pre>\n"}], "owner": {"reputation": 4723, "user_id": 2145138, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/96d2ac643babeaa845716a6448b5b2ed?s=128&d=identicon&r=PG", "display_name": "MTT", "link": "https://stackoverflow.com/users/2145138/mtt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 38904821, "answer_count": 1, "score": 0, "last_activity_date": 1470944399, "creation_date": 1462401935, "question_id": 37039341, "link": "https://stackoverflow.com/questions/37039341/attributeerror-dataframe-object-has-no-attribute-get-on-vectorassembler-spa", "title": "AttributeError: &#39;DataFrame&#39; object has no attribute &#39;get&#39; on VectorAssembler spark ML", "body": "<p>I'm trying to follow the example discussed <a href=\"https://spark.apache.org/docs/latest/ml-features.html#vectorassembler\" rel=\"nofollow\">here</a> and I just copied the code into Zeppelin paragraph.</p>\n\n<pre><code>%pyspark\nimport pandas as pd\nfrom pyspark.sql import SQLContext\nfrom pyspark.ml.feature import VectorAssembler\nfrom pyspark.mllib.linalg import Vectors\n\ndataset = sqlContext.createDataFrame(\n[(0, 18, 1.0, Vectors.dense([0.0, 10.0, 0.5]), 1.0)],\n[\"id\", \"hour\", \"mobile\", \"userFeatures\", \"clicked\"])\nprint(type(dataset))\nassembler = VectorAssembler(\ninputCols=[\"hour\", \"mobile\", \"userFeatures\"],\noutputCol=\"features\")\noutput = assembler.transform(dataset)\n</code></pre>\n\n<p>However, I got this error:</p>\n\n<pre><code>Traceback (most recent call last): \n  File \"/tmp/zeppelin_pyspark.py\", line 164, in &lt;module&gt; \n    intp.setStatementsFinished(output.get(), False) \n  File \"/home/zeppelin/zeppelin-0.5.5-incubating-bin-all/interpreter/spark/pyspark/pyspark.zip/pyspark/sql/dataframe.py\", line 749, in __getattr__ \"'%s' object has no attribute '%s'\" % (self.__class__.__name__, name)) \nAttributeError: 'DataFrame' object has no attribute 'get'\n</code></pre>\n\n<p>Any advice?</p>\n"}, {"tags": ["python", "maya"], "answers": [{"tags": [], "owner": {"reputation": 601, "user_id": 5513449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a05a860a36fdd2afb665db132b4606ed?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5513449/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1462402203, "creation_date": 1462402203, "answer_id": 37039394, "question_id": 37039336, "link": "https://stackoverflow.com/questions/37039336/how-do-i-make-a-floatslidergrp-take-a-function-as-a-command/37039394#37039394", "title": "how do I make a floatSliderGrp take a function as a command?", "body": "<p>It means that <code>moop_slider</code> is an invalid key (doesn't exist in your dictionary). As to why it doesn't exist, that I can't help you with.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5481303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e47d2c0f3f3f988ae1ae7aff676963?s=128&d=identicon&r=PG&f=1", "display_name": "crusnik", "link": "https://stackoverflow.com/users/5481303/crusnik"}, "edited": false, "score": 0, "creation_date": 1462458501, "post_id": 37039874, "comment_id": 61653495, "body": "thank you theodox, that does work.  Im not sure I really understand the difference, again im very new to scripting so forgive the stupid question, but am I not trying to call the function either way?"}, {"owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "reply_to_user": {"reputation": 11, "user_id": 5481303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e47d2c0f3f3f988ae1ae7aff676963?s=128&d=identicon&r=PG&f=1", "display_name": "crusnik", "link": "https://stackoverflow.com/users/5481303/crusnik"}, "edited": false, "score": 0, "creation_date": 1462466571, "post_id": 37039874, "comment_id": 61658745, "body": "You don&#39;t want call the function when you assign it to <code>command =</code> -- that would assign the <i>result</i> of the function,  rather than telling maya &#39;call this function when I click&#39;\\"}], "tags": [], "owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "is_accepted": true, "score": 0, "last_activity_date": 1462404944, "creation_date": 1462404944, "answer_id": 37039874, "question_id": 37039336, "link": "https://stackoverflow.com/questions/37039336/how-do-i-make-a-floatslidergrp-take-a-function-as-a-command/37039874#37039874", "title": "how do I make a floatSliderGrp take a function as a command?", "body": "<pre><code> changeCommand = self.what_value()\n</code></pre>\n\n<p>Is going to fail because it's trying to <em>call</em> the function -- but the function needs the value of the dictionary entry to function.  If you remove the parens it should work as written:</p>\n\n<pre><code>self.ui_elements['moop_slider'] = cmds.floatSliderGrp(label='moopy', field=True, minValue = 0, maxValue = 1, value = 5, changeCommand = self.what_value)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5481303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e47d2c0f3f3f988ae1ae7aff676963?s=128&d=identicon&r=PG&f=1", "display_name": "crusnik", "link": "https://stackoverflow.com/users/5481303/crusnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 37039874, "answer_count": 2, "score": 0, "last_activity_date": 1462404944, "creation_date": 1462401905, "question_id": 37039336, "link": "https://stackoverflow.com/questions/37039336/how-do-i-make-a-floatslidergrp-take-a-function-as-a-command", "title": "how do I make a floatSliderGrp take a function as a command?", "body": "<p>I am still really new to python and scripting in general and I'm trying to create a UI that will create a floatSliderGrp in maya that, when changed, will call a function that queries their values. \nWhen I run the script I get the following error:\nKeyError: 'moop_slider'\nthank you very much for any help</p>\n\n<p>I have the UI working, here is the part of the code that I am having issues with:</p>\n\n<pre><code>self.ui_elements['moop_slider'] = cmds.floatSliderGrp(label='moopy',\nfield=True, minValue = 0, maxValue = 1, value = 5, changeCommand = \nself.what_value())\n\ndef what_value(self):\n      self.my_moop=\n      cmds.floatSliderGrp(self.ui_elements['moop_slider'],q=True,v=True) \n      print self.my_moop\n</code></pre>\n"}, {"tags": ["python", "etl", "apache-nifi"], "comments": [{"owner": {"reputation": 406, "user_id": 203015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7c42e8907f438aa5f0b7e4b1347c3cc?s=128&d=identicon&r=PG", "display_name": "andrew", "link": "https://stackoverflow.com/users/203015/andrew"}, "edited": false, "score": 0, "creation_date": 1462473027, "post_id": 37039331, "comment_id": 61662520, "body": "I wonder if you tried the ExecuteProcess. It should grab the stdout and route it as a flowfile: <a href=\"https://nifi.apache.org/docs/nifi-docs/components/org.apache.nifi.processors.standard.ExecuteProcess/index.html\" rel=\"nofollow noreferrer\">nifi.apache.org/docs/nifi-docs/components/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6314, "user_id": 390722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/64fc18734e843f8bb227765cb1b62137?s=128&d=identicon&r=PG&f=1", "display_name": "StartupGuy", "link": "https://stackoverflow.com/users/390722/startupguy"}, "edited": false, "score": 1, "creation_date": 1576622132, "post_id": 37040067, "comment_id": 104958040, "body": "Not sure what you mean &quot;get access&quot; to standard objects. Does this mean that don&#39;t need any special <code>import</code> statements in the .py file to reference these?"}, {"owner": {"reputation": 384, "user_id": 9327848, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210596712787152/picture?type=large", "display_name": "Eden Trainor", "link": "https://stackoverflow.com/users/9327848/eden-trainor"}, "edited": false, "score": 1, "creation_date": 1579117821, "post_id": 37040067, "comment_id": 105663083, "body": "That&#39;s exactly what he means, they&#39;re global variables, so your script has access to them without having to define them elsewhere."}, {"owner": {"reputation": 377, "user_id": 5201707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6nHwT.jpg?s=128&g=1", "display_name": "shzyincu", "link": "https://stackoverflow.com/users/5201707/shzyincu"}, "edited": false, "score": 0, "creation_date": 1599256611, "post_id": 37040067, "comment_id": 112728940, "body": "we can&#39;t use pandas or any other library with it :("}], "tags": [], "owner": {"reputation": 17093, "user_id": 5650316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X8GdE.jpg?s=128&g=1", "display_name": "Bryan Bende", "link": "https://stackoverflow.com/users/5650316/bryan-bende"}, "is_accepted": false, "score": 16, "last_activity_date": 1462406166, "creation_date": 1462406166, "answer_id": 37040067, "question_id": 37039331, "link": "https://stackoverflow.com/questions/37039331/how-to-use-nifi-executescript-processor-with-python/37040067#37040067", "title": "How to use NiFi ExecuteScript processor with Python?", "body": "<p>Given your script, I think everything is functioning as expected. The script is not producing any FlowFiles which is why nothing is moving from ExecuteScript to the other processors, and anything sent to system out is captured in the bootstrap.log so that is why the print statement ends up there.</p>\n\n<p>Script executing with in ExecuteScript get access to a few standard objects:</p>\n\n<ul>\n<li>session</li>\n<li>context</li>\n<li>log</li>\n<li>REL_FAILURE</li>\n<li>REL_SUCCESS</li>\n</ul>\n\n<p>In order to produce FlowFiles you would need call session.create() and take the resulting FlowFile and transfer it to REL_SUCCESS.</p>\n\n<p>The best source of info on the scripting processors is Matt Burgess's blog, this page has some good background (uses Groovy):</p>\n\n<p><a href=\"http://funnifi.blogspot.com/2016/02/executescript-processor-hello-world.html\">http://funnifi.blogspot.com/2016/02/executescript-processor-hello-world.html</a></p>\n\n<p>This one has a Jython example:</p>\n\n<p><a href=\"http://funnifi.blogspot.com/2016/03/executescript-json-to-json-revisited_14.html\">http://funnifi.blogspot.com/2016/03/executescript-json-to-json-revisited_14.html</a></p>\n"}], "owner": {"reputation": 844, "user_id": 1993824, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/68f4a10c42195028f2a63ab271dfbd82?s=128&d=identicon&r=PG", "display_name": "Mushu909", "link": "https://stackoverflow.com/users/1993824/mushu909"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15678, "favorite_count": 7, "answer_count": 1, "score": 12, "last_activity_date": 1462406166, "creation_date": 1462401887, "question_id": 37039331, "link": "https://stackoverflow.com/questions/37039331/how-to-use-nifi-executescript-processor-with-python", "title": "How to use NiFi ExecuteScript processor with Python?", "body": "<p>I have a very basic setup of the ExecuteScript processor in Apache NiFi with a simple Python script (saved as a .py file) as shown here. In the Properties of the processor, I set the Script Engine to python and Script File to the path of this script.</p>\n\n<pre><code>import time\n\ncount = 0\n\nwhile(count &lt; 20):\n    print \"The counter says: \", count\n    count = count + 1\n    time.sleep(.1)\n</code></pre>\n\n<p>And this is the dataflow diagram I made:\n<a href=\"https://i.stack.imgur.com/n4wtI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/n4wtI.png\" alt=\"nifi dataflow\"></a></p>\n\n<p>I don't see anything outputted to the log or the PutFile. However, I do see the print statements appear in \\nifi-0.6.1\\logs\\nifi-bootstrap.log. My knowledge of this is currently limited. I would appreciate answers from anyone who knows how to use the ExecuteScript processor, or even give me a better example than my current setup.</p>\n"}, {"tags": ["javascript", "jquery", "python", "html", "ajax"], "comments": [{"owner": {"reputation": 491, "user_id": 1510966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SrDoQ.gif?s=128&g=1", "display_name": "Alexey Ukolov", "link": "https://stackoverflow.com/users/1510966/alexey-ukolov"}, "edited": false, "score": 0, "creation_date": 1462418967, "post_id": 37039230, "comment_id": 61632859, "body": "I guess <code>id=&quot;status&quot;</code> should be <code>name=&quot;status&quot;</code>, since this input already has an id."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 2690151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4305faa63b169be0c1993326c3c554c?s=128&d=identicon&r=PG&f=1", "display_name": "user2690151", "link": "https://stackoverflow.com/users/2690151/user2690151"}, "edited": false, "score": 0, "creation_date": 1462498803, "post_id": 37039303, "comment_id": 61672407, "body": "Hi Alexey, Thanks for the feedback. I tried to add your code, but got a &quot;405 Method Not Allowed&quot;. I first thought it was an issue with my python handler, but its something with the javascript now I believe. I was able to test with my handler using my other code, but I don&#39;t get the status value passed. Not sure what I&#39;m missing :-)."}, {"owner": {"reputation": 115, "user_id": 2690151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4305faa63b169be0c1993326c3c554c?s=128&d=identicon&r=PG&f=1", "display_name": "user2690151", "link": "https://stackoverflow.com/users/2690151/user2690151"}, "edited": false, "score": 0, "creation_date": 1462499063, "post_id": 37039303, "comment_id": 61672460, "body": "Attached is my handler, but I am still having issues with how status gets passed:                                                                                                                             class Subscription(webapp2.RequestHandler):      def post(self):         subscription_status = self.request.get(&#39;status&#39;)         user_name = users.get_current_user()         logging.info(&#39; I got here: %s!&#39;, user_name)         logging.info(&#39;Status is: %s!&#39;, subscription_status)"}, {"owner": {"reputation": 491, "user_id": 1510966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SrDoQ.gif?s=128&g=1", "display_name": "Alexey Ukolov", "link": "https://stackoverflow.com/users/1510966/alexey-ukolov"}, "reply_to_user": {"reputation": 115, "user_id": 2690151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4305faa63b169be0c1993326c3c554c?s=128&d=identicon&r=PG&f=1", "display_name": "user2690151", "link": "https://stackoverflow.com/users/2690151/user2690151"}, "edited": false, "score": 0, "creation_date": 1462519066, "post_id": 37039303, "comment_id": 61678572, "body": "All I can say is this: 1) I&#39;ve changed only how post data is sent to server, it should not result in 405 error; 2) as I pointed out in the comments, your input doesn&#39;t have a &quot;name&quot; attribute, so it&#39;s value won&#39;t be sent to server, probably, it&#39;s why your code is not working."}], "tags": [], "owner": {"reputation": 491, "user_id": 1510966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SrDoQ.gif?s=128&g=1", "display_name": "Alexey Ukolov", "link": "https://stackoverflow.com/users/1510966/alexey-ukolov"}, "is_accepted": false, "score": 0, "last_activity_date": 1462419360, "last_edit_date": 1462419360, "creation_date": 1462401780, "answer_id": 37039303, "question_id": 37039230, "link": "https://stackoverflow.com/questions/37039230/ajax-with-a-checkbox/37039303#37039303", "title": "AJAX with a checkbox", "body": "<p>First of all, the correct selector is <a href=\"https://api.jquery.com/checked-selector/\" rel=\"nofollow\">:checked</a>.<br>\n\u0410nd you should pass checkbox value to send_data() function only when it's checked, otherwise your condition is irrelevant - you are doing the same thing for checked and not checked inputs.</p>\n\n<p>So, your code should be something like this:</p>\n\n<pre><code>if (cb.is(\":checked\")) {\n    send_data(cb.val());\n} else {\n    send_data(null);\n}\n</code></pre>\n\n<p>But if all you need is pass form values to server, you don't need to handle checkbox manually, you can just do this:</p>\n\n<pre><code>var send_data = function(data) {\n    $.ajax({\n        url: \"/subscription\",\n        dataType: \"json\",\n        data: data,\n        type: \"POST\",\n        cache: false\n    }).done(function(data, status, xml) {\n        var obj = jQuery.parseJSON(data);\n        alert(obj.success);\n    }).fail(function(jqXHR, textStatus, errorThrown) {\n\n    }).always(function() {\n\n    });\n}\n\n$(\"#subscription\").submit(function() {\n    send_data($(this).serialize());\n});\n</code></pre>\n\n<p>Note, that if checbox is not checked, it's value won't be sent to server (it's a default browser behaviour). So you can just check presense of status field in your backend script.</p>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 2690151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4305faa63b169be0c1993326c3c554c?s=128&d=identicon&r=PG&f=1", "display_name": "user2690151", "link": "https://stackoverflow.com/users/2690151/user2690151"}, "edited": false, "score": 0, "creation_date": 1462402551, "post_id": 37039365, "comment_id": 61628767, "body": "This makes a lot of sense. Thank you! Sorry, on the 101 here. I added your code, but I don&#39;t see the actual value passed. I enabled the console, what am I missing on why the checked vs unchecked is not passed: <a href=\"http://postimg.org/image/tdhm5k34x/\" rel=\"nofollow noreferrer\">postimg.org/image/tdhm5k34x</a>."}, {"owner": {"reputation": 491, "user_id": 1510966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SrDoQ.gif?s=128&g=1", "display_name": "Alexey Ukolov", "link": "https://stackoverflow.com/users/1510966/alexey-ukolov"}, "reply_to_user": {"reputation": 115, "user_id": 2690151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4305faa63b169be0c1993326c3c554c?s=128&d=identicon&r=PG&f=1", "display_name": "user2690151", "link": "https://stackoverflow.com/users/2690151/user2690151"}, "edited": false, "score": 0, "creation_date": 1462418894, "post_id": 37039365, "comment_id": 61632848, "body": "@user2690151, well, the error in the console is pretty self-explanatory - you should run this code on a proper web server via http protocol, not via <i>file://</i>"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6242613, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/X5cUu.jpg?s=128&g=1", "display_name": "V. Sambor", "link": "https://stackoverflow.com/users/6242613/v-sambor"}, "is_accepted": false, "score": 0, "last_activity_date": 1462402061, "creation_date": 1462402061, "answer_id": 37039365, "question_id": 37039230, "link": "https://stackoverflow.com/questions/37039230/ajax-with-a-checkbox/37039365#37039365", "title": "AJAX with a checkbox", "body": "<p>Your current code can be reduced like this, you are doing the verification in vain, in both cases you are sending the same thing...</p>\n\n<pre><code>$(\"#subscription\").submit(function() {\n    var cb = $(\"input#switch-1\");\n    send_data(cb.val()); //your current code can be reduced like this\n    return false; \n});\n</code></pre>\n\n<p>If you want to see what is passed, just print with python what you receive via the checkbox name...</p>\n"}], "owner": {"reputation": 115, "user_id": 2690151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4305faa63b169be0c1993326c3c554c?s=128&d=identicon&r=PG&f=1", "display_name": "user2690151", "link": "https://stackoverflow.com/users/2690151/user2690151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 314, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1462558662, "creation_date": 1462401438, "last_edit_date": 1462558662, "question_id": 37039230, "link": "https://stackoverflow.com/questions/37039230/ajax-with-a-checkbox", "title": "AJAX with a checkbox", "body": "<p>I'm new to AJAX and JavaScript, but decided to tackle sending a value based on an HTML \"\" tag using Ajax to a Python handler. Below is my code, simulated from this <a href=\"https://teamtreehouse.com/community/check-if-check-box-is-checked-using-php-and-ajax\" rel=\"nofollow\">site</a>. The problem I'm having is understanding when a box is \"checked\" vs \"unchecked\", how does the value get passed, when I have \"unchecked\" in the input tag? I'm not getting the connection as I want to make sure that whatever the user clicks gets passed through AJAX to my Python Handler.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>send_data = function(status) {\r\n\r\n        $.ajax({\r\n      url: \"/subscription\",\r\n            dataType: \"json\",\r\n            data: {'status' : status},\r\n            type: \"POST\",\r\n            cache: false\r\n\r\n    }).done(function(data, status, xml) {\r\n\r\n         var obj = jQuery.parseJSON(data);\r\n         alert(obj.success);\r\n\r\n        }).fail(function(jqXHR, textStatus, errorThrown) {\r\n\r\n\r\n        }).always(function() {\r\n\r\n\r\n        });\r\n\r\n}\r\n\r\n\r\n$(document).ready(function() {\r\n\r\n    $(\"#subscription\").submit(function() {\r\n\r\n        var cb = $(\"input#switch-1\");\r\n\r\n        if (cb.is(\"checked\")) {\r\n            send_data(cb.val());\r\n        } else {\r\n            send_data(cb.val());\r\n        }\r\n        return false; \r\n    });\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form id=\"subscription\" action=\"\"&gt;\r\n    &lt;label  class=\"mdl-switch mdl-js-switch mdl-js-ripple-effect\" for=\"switch-1\"&gt;\r\n    &lt;input type=\"checkbox\" id=\"switch-1\" name=\"status\" class=\"mdl-switch__input\" id=\"status\" unchecked /&gt;\r\n    &lt;span class=\"mdl-switch__label\"&gt;USEREMAIL Subscribed&lt;/span&gt;\r\n&lt;input type=\"submit\" value=\"Submit\" /&gt;\r\n\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 489, "user_id": 6291649, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/7VSA3.png?s=128&g=1", "display_name": "Lipstick", "link": "https://stackoverflow.com/users/6291649/lipstick"}, "edited": false, "score": 0, "creation_date": 1462402272, "post_id": 37039302, "comment_id": 61628668, "body": "Thanks for answer. Can I download this module separately whether I have to download v.3.0 OpenCV?"}], "tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": false, "score": 1, "last_activity_date": 1462402106, "last_edit_date": 1462402106, "creation_date": 1462401779, "answer_id": 37039302, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/37039302#37039302", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>The problem is with your version of OpenCV. You say you're on version 2.4.11 but this version of OpenCV doesn't have this method available to it.</p>\n\n<p>You can check the <a href=\"http://docs.opencv.org/2.4.11/\" rel=\"nofollow\">documentation</a>. It has <a href=\"http://docs.opencv.org/2.4.11/modules/features2d/doc/features2d.html?highlight=features2d\" rel=\"nofollow\">features2d</a></p>\n\n<p>Whereas OpenCV 3.0 does.</p>\n"}, {"tags": [], "owner": {"reputation": 285, "user_id": 3094631, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/100001570548001/picture?type=large", "display_name": "user3094631", "link": "https://stackoverflow.com/users/3094631/user3094631"}, "is_accepted": false, "score": -2, "last_activity_date": 1490337886, "last_edit_date": 1490337886, "creation_date": 1490336211, "answer_id": 42992641, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/42992641#42992641", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>You can use this instead:</p>\n\n<pre><code>sift=cv2.SIFT()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 196, "user_id": 6717469, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203732036015813/picture?type=large", "display_name": "Karaszka", "link": "https://stackoverflow.com/users/6717469/karaszka"}, "edited": false, "score": 0, "creation_date": 1527519760, "post_id": 49735518, "comment_id": 88148123, "body": "This is likely the right solution for those using OpenCV 3+ who see the AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39;"}, {"owner": {"reputation": 486, "user_id": 9275555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UzTux.jpg?s=128&g=1", "display_name": "Shao-Kui", "link": "https://stackoverflow.com/users/9275555/shao-kui"}, "edited": false, "score": 0, "creation_date": 1568183208, "post_id": 49735518, "comment_id": 102189116, "body": "have you tried to uninstall the previous OpenCV first?"}], "tags": [], "owner": {"reputation": 486, "user_id": 9275555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UzTux.jpg?s=128&g=1", "display_name": "Shao-Kui", "link": "https://stackoverflow.com/users/9275555/shao-kui"}, "is_accepted": false, "score": 37, "last_activity_date": 1523284548, "creation_date": 1523284548, "answer_id": 49735518, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/49735518#49735518", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>I think you should install opencv-contrib-python instead. The module you're using is not support in opencv-python. See <a href=\"https://pypi.python.org/pypi/opencv-contrib-python\" rel=\"noreferrer\">opencv-contrib-python</a>. </p>\n\n<p>To install:</p>\n\n<pre><code>pip install opencv-contrib-python\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 6108175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ht1pT.jpg?s=128&g=1", "display_name": "srihegde", "link": "https://stackoverflow.com/users/6108175/srihegde"}, "is_accepted": false, "score": 1, "last_activity_date": 1531660666, "creation_date": 1531660666, "answer_id": 51348770, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/51348770#51348770", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>This error may also occur in OpenCV 3+ as it is caused by mismatched versions of OpenCV and OpenCV-Contrib package.</p>\n\n<p>I had OpenCV version 3.4.1 and OpenCV-Contrib version 3.4.0. I tried the following with OpenCV-Contrib:</p>\n\n<p>Uninstall  OpenCV-Contrib package:</p>\n\n<pre><code>$ pip uninstall opencv-contrib-python\n</code></pre>\n\n<p>Then install the same again:</p>\n\n<pre><code>$ pip install opencv-contrib-python\n</code></pre>\n\n<p>The pip automatically fetches and installs the latest compatible version.</p>\n"}, {"comments": [{"owner": {"reputation": 3618, "user_id": 1909378, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/xJUIW.png?s=128&g=1", "display_name": "creimers", "link": "https://stackoverflow.com/users/1909378/creimers"}, "edited": false, "score": 4, "creation_date": 1546538277, "post_id": 52358354, "comment_id": 94891197, "body": "You can even go up to <code>3.4.2.17</code> and still use SIFT."}, {"owner": {"reputation": 4064, "user_id": 6121568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLuNu.jpg?s=128&g=1", "display_name": "Emeeus", "link": "https://stackoverflow.com/users/6121568/emeeus"}, "edited": false, "score": 1, "creation_date": 1553175059, "post_id": 52358354, "comment_id": 97292930, "body": "At least for me, cv2.xfeatures2d.SIFT_create() only work on 3.3.0.10"}, {"owner": {"reputation": 1136, "user_id": 11170350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33ef726bcd061af573585d68cc55684?s=128&d=identicon&r=PG&f=1", "display_name": "Talha Anwar", "link": "https://stackoverflow.com/users/11170350/talha-anwar"}, "edited": false, "score": 0, "creation_date": 1567957117, "post_id": 52358354, "comment_id": 102114040, "body": "ERROR: No matching distribution found for opencv-python==3.3.0.10"}, {"owner": {"reputation": 323, "user_id": 1481373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CYIC.jpg?s=128&g=1", "display_name": "Captain Fantastic", "link": "https://stackoverflow.com/users/1481373/captain-fantastic"}, "edited": false, "score": 1, "creation_date": 1578524157, "post_id": 52358354, "comment_id": 105470983, "body": "Version 3.3.0.10 wasn&#39;t available now, next version up was 3.4.2.16 and was able to work with <code>sift=cv2.xfeatures2d.SIFT_create()</code> .  I also had to do pip3 install opencv-python   sudo apt-get install libatlas-base-dev   sudo apt-get install libjasper-dev   sudo apt-get install libqtgui4   sudo apt-get install python3-pyqt5   sudo apt install libqt4-test"}], "tags": [], "owner": {"reputation": 351, "user_id": 8163797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae85fdce20cf3a6771e098e91de489a?s=128&d=identicon&r=PG&f=1", "display_name": "Shankul Shukla", "link": "https://stackoverflow.com/users/8163797/shankul-shukla"}, "is_accepted": false, "score": 25, "last_activity_date": 1537131791, "creation_date": 1537131791, "answer_id": 52358354, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/52358354#52358354", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>SIFT is a patented algorithm, hence not available in each open-cv version. What you can do is install opencv and its contrib part simultaneously, i.e,</p>\n\n<pre><code>pip install opencv-python==3.3.0.10 opencv-contrib-python==3.3.0.10\n</code></pre>\n\n<p>SIFT worked fine for me on above versions of opencv.</p>\n"}, {"comments": [{"owner": {"reputation": 323, "user_id": 1481373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CYIC.jpg?s=128&g=1", "display_name": "Captain Fantastic", "link": "https://stackoverflow.com/users/1481373/captain-fantastic"}, "edited": false, "score": 0, "creation_date": 1578522143, "post_id": 54872655, "comment_id": 105470402, "body": "I only need the install part:"}], "tags": [], "owner": {"reputation": 81, "user_id": 6401867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed9983843252230d840a54cc214f437?s=128&d=identicon&r=PG&f=1", "display_name": "Modestas Jur\u010dius", "link": "https://stackoverflow.com/users/6401867/modestas-jur%c4%8dius"}, "is_accepted": false, "score": 2, "last_activity_date": 1551119744, "creation_date": 1551119744, "answer_id": 54872655, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/54872655#54872655", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>I used to have similar problem as @srihegde said you can try to uninstall <em>opencv-contrib-python</em> package and reinstall again. You can also try to uninstall <em>opencv-python</em> package if you have one, since it might mess with the packages too. </p>\n\n<p>This helped for me.</p>\n\n<p>Uninstall:</p>\n\n<pre><code>pip3 uninstall opencv-contrib-python\npip3 uninstall opencv-python\n</code></pre>\n\n<p>And then install:</p>\n\n<pre><code>pip3 install opencv-contrib-python\npip3 install opencv-python\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 323, "user_id": 1481373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CYIC.jpg?s=128&g=1", "display_name": "Captain Fantastic", "link": "https://stackoverflow.com/users/1481373/captain-fantastic"}, "edited": false, "score": 1, "creation_date": 1578521227, "post_id": 55490605, "comment_id": 105470096, "body": "No matching distribution found"}, {"owner": {"reputation": 67, "user_id": 3052119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65734e7b3f46762df4f66036676599cf?s=128&d=identicon&r=PG&f=1", "display_name": "turbo_sheep", "link": "https://stackoverflow.com/users/3052119/turbo-sheep"}, "edited": false, "score": 1, "creation_date": 1589019076, "post_id": 55490605, "comment_id": 109128221, "body": "should be <code>pip install opencv-python==3.4.2.17</code> and <code>pip install opencv-contrib-python==3.4.2.17</code>"}, {"owner": {"reputation": 1325, "user_id": 12447766, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8u4KF2jS0Fk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQ51MyoIeOHM14pz1QnUu7L-8N_Q/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/12447766/burak"}, "edited": false, "score": 0, "creation_date": 1590181941, "post_id": 55490605, "comment_id": 109594507, "body": "Do install 3.4.2.16 if you want to use SIFT or SURF. (Tested) <a href=\"https://stackoverflow.com/questions/52305578/sift-cv2-xfeatures2d-sift-create-not-working-even-though-have-contrib-instal\" title=\"sift cv2 xfeatures2d sift create not working even though have contrib instal\">stackoverflow.com/questions/52305578/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3271, "user_id": 8900683, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e21b1c869eba517481a0476a59bb7ca?s=128&d=identicon&r=PG&f=1", "display_name": "Rene B.", "link": "https://stackoverflow.com/users/8900683/rene-b"}, "is_accepted": false, "score": 12, "last_activity_date": 1589353632, "last_edit_date": 1589353632, "creation_date": 1554280477, "answer_id": 55490605, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/55490605#55490605", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>After executing the command:</p>\n\n<pre><code>pip install opencv-contrib-python\n</code></pre>\n\n<p>, I got the following error:</p>\n\n<blockquote>\n  <p>error: OpenCV(4.0.0)\n  /Users/rene/build/skvark/opencv-python/opencv_contrib/modules/xfeatures2d/src/sift.cpp:1207:\n  error: (-213:The function/feature is not implemented) This algorithm\n  is patented and is excluded in this configuration; Set\n  OPENCV_ENABLE_NONFREE CMake option and rebuild the library in function\n  'create'</p>\n</blockquote>\n\n<p>Could solve it with the following command in anaconda:</p>\n\n<pre><code>conda install -c menpo opencv\n</code></pre>\n\n<p>Or with pip:</p>\n\n<pre><code>pip install opencv-python==3.4.2.17\n\npip install opencv-contrib-python==3.4.2.17\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1928, "user_id": 10295265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/stakh.jpg?s=128&g=1", "display_name": "Sundeep Pidugu", "link": "https://stackoverflow.com/users/10295265/sundeep-pidugu"}, "edited": false, "score": 0, "creation_date": 1576045306, "post_id": 56218516, "comment_id": 104766310, "body": "This is the order of installation which works for the latest version."}, {"owner": {"reputation": 323, "user_id": 1481373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CYIC.jpg?s=128&g=1", "display_name": "Captain Fantastic", "link": "https://stackoverflow.com/users/1481373/captain-fantastic"}, "edited": false, "score": 0, "creation_date": 1578521235, "post_id": 56218516, "comment_id": 105470099, "body": "No matching distribution found"}, {"owner": {"reputation": 839, "user_id": 4567181, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/O5NjM.png?s=128&g=1", "display_name": "Sanjoy Kanrar", "link": "https://stackoverflow.com/users/4567181/sanjoy-kanrar"}, "edited": false, "score": 0, "creation_date": 1578622471, "post_id": 56218516, "comment_id": 105507836, "body": "You have to modify the distribution version of open cv with the latest one. Presently its  4.1.2.30."}], "tags": [], "owner": {"reputation": 839, "user_id": 4567181, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/O5NjM.png?s=128&g=1", "display_name": "Sanjoy Kanrar", "link": "https://stackoverflow.com/users/4567181/sanjoy-kanrar"}, "is_accepted": false, "score": 3, "last_activity_date": 1558346358, "creation_date": 1558346358, "answer_id": 56218516, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/56218516#56218516", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>I got the same error... I have used <code>cv2.__version__</code>  and   <code>cv2.__path__</code> to check the opencv version and path. Then I removed <strong>cv2</strong> from <strong>site-packages</strong>. and install the following</p>\n\n<pre><code>pip install opencv-python==3.4.2.17\n\npip install opencv-contrib-python==3.4.2.17\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11670360, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LHwyd3u2QM0/AAAAAAAAAAI/AAAAAAAAAYU/5JdyeezuiZw/photo.jpg?sz=128", "display_name": "Avin_ash", "link": "https://stackoverflow.com/users/11670360/avin-ash"}, "is_accepted": false, "score": 2, "last_activity_date": 1561063892, "last_edit_date": 1561063892, "creation_date": 1560947937, "answer_id": 56667850, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/56667850#56667850", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>I got this error and all I did was to uninstall opencv packages and install them in the following order.</p>\n\n<p><strong>STEPS</strong></p>\n\n<p>open <em><code>Anaconda Prompt</code></em> by <em><code>running as administrator</code></em> and type the following commands.</p>\n\n<pre><code>$ pip uninstall opencv-python\n\n$ pip uninstall opencv-contrib-python\n</code></pre>\n\n<p>Then type the following commands</p>\n\n<pre><code>$ pip install opencv-contrib-python==3.4.2.16\n\n$ pip install opencv-python==3.4.2.16\n</code></pre>\n\n<p>This solved my problem. Hope this solves yours.!!\ud83d\ude01\ud83d\udc4d</p>\n"}, {"tags": [], "owner": {"reputation": 693, "user_id": 9408451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JPvrs.jpg?s=128&g=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/9408451/harry"}, "is_accepted": false, "score": 0, "last_activity_date": 1583698739, "creation_date": 1583698739, "answer_id": 60591700, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/60591700#60591700", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>It doesn't work for OpenCV 4.0 due to US patent matter. Perhaps we shall give it a thumb up for this OpenSift effort:</p>\n\n<p><a href=\"https://github.com/robwhess/opensift\" rel=\"nofollow noreferrer\">https://github.com/robwhess/opensift</a></p>\n"}, {"tags": [], "owner": {"reputation": 424, "user_id": 8046535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f287c829ce85b7790abd28aa367a770c?s=128&d=identicon&r=PG&f=1", "display_name": "minTwin", "link": "https://stackoverflow.com/users/8046535/mintwin"}, "is_accepted": false, "score": 0, "last_activity_date": 1610695714, "creation_date": 1610695714, "answer_id": 65732047, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/65732047#65732047", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>Open a Powershell Prompt and type the following command:</p>\n<pre><code>pip install --user opencv-contrib-python\n</code></pre>\n<p>Fixed it for me.</p>\n<p>Open an Ananconda Powershell Prompt if you are using Jupyter Notebook.</p>\n"}, {"comments": [{"owner": {"reputation": 682, "user_id": 647323, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/592d5d03355dd018c3b6440badd47d0d?s=128&d=identicon&r=PG", "display_name": "Evan Anger", "link": "https://stackoverflow.com/users/647323/evan-anger"}, "edited": false, "score": 0, "creation_date": 1612004744, "post_id": 65790734, "comment_id": 116634483, "body": "<a href=\"https://github.com/HeatherJiaZG/SuperGlue-pytorch/issues/13\" rel=\"nofollow noreferrer\">github.com/HeatherJiaZG/SuperGlue-pytorch/issues/13</a>"}], "tags": [], "owner": {"reputation": 41, "user_id": 10100521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e3604c2658bd0a7eb051746769a61a?s=128&d=identicon&r=PG&f=1", "display_name": "Usama Imdad", "link": "https://stackoverflow.com/users/10100521/usama-imdad"}, "is_accepted": false, "score": 4, "last_activity_date": 1611056179, "creation_date": 1611056179, "answer_id": 65790734, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2/65790734#65790734", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>For CV2 Version 4.5.1, this works</p>\n<pre><code>sift = cv2.SIFT_create()\nkp = sift.detect(gimg,None)\nimg=cv2.drawKeypoints(gimg,kp,img)\nplt.imshow(img)\n</code></pre>\n"}], "owner": {"reputation": 489, "user_id": 6291649, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/7VSA3.png?s=128&g=1", "display_name": "Lipstick", "link": "https://stackoverflow.com/users/6291649/lipstick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96103, "favorite_count": 5, "answer_count": 12, "score": 34, "last_activity_date": 1611056179, "creation_date": 1462401399, "last_edit_date": 1462401969, "question_id": 37039224, "link": "https://stackoverflow.com/questions/37039224/attributeerror-module-object-has-no-attribute-xfeatures2d-python-opencv-2", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;xfeatures2d&#39; [Python/OpenCV 2.4]", "body": "<p>This line:</p>\n\n<pre><code>sift = cv2.xfeatures2d.SIFT_create()\n</code></pre>\n\n<p>return error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Python27/openCVskrypty/GUI/SOLUTION2.py\", line 11, in &lt;module&gt;\n    sift = cv2.xfeatures2d.SIFT_create()\nAttributeError: 'module' object has no attribute 'xfeatures2d'\n</code></pre>\n\n<p>I read something about this error and it appears in OpenCV version 3.0. \nThis is quite weird because I have 2.4.11 version. </p>\n\n<p>I check dir(cv2) and I haven't got xfeatures2d module. Does anyone know why? Can I download it separately? </p>\n\n<p>Thanks for help how fix this.</p>\n"}, {"tags": ["python", "arrays", "numpy", "matrix", "scipy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1462404010, "post_id": 37039193, "comment_id": 61629197, "body": "&quot;same type&quot; doesn&#39;t mean &quot;same shape&quot;."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1462415325, "post_id": 37039193, "comment_id": 61632044, "body": "What is the <code>shape</code> of <code>dist</code> and <code>x</code> (aka <code>sorted_index</code>)?  <code>matrix_with_labels.take(x, 0)</code> is the same as <code>matrix_with_labels[x,:]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "is_accepted": true, "score": 1, "last_activity_date": 1462402713, "creation_date": 1462402713, "answer_id": 37039479, "question_id": 37039193, "link": "https://stackoverflow.com/questions/37039193/why-does-the-numpy-function-take-change-the-shape-of-my-array/37039479#37039479", "title": "Why does the numpy function `take` change the shape of my array?", "body": "<p>If you're starting with a <code>(20, 11)</code> shape, I think the only way to get a <code>(20, 1, 11)</code> shape is if <code>x</code> has shape <code>(1, 11)</code>.</p>\n\n<p>Try <code>result = matrix_with_labels.take(x.reshape(-1), 0)</code>.</p>\n"}], "owner": {"reputation": 2995, "user_id": 667913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e038b48be307830687c8a71ff716ba07?s=128&d=identicon&r=PG", "display_name": "patrick", "link": "https://stackoverflow.com/users/667913/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 37039479, "answer_count": 1, "score": 0, "last_activity_date": 1462454553, "creation_date": 1462401254, "last_edit_date": 1495535288, "question_id": 37039193, "link": "https://stackoverflow.com/questions/37039193/why-does-the-numpy-function-take-change-the-shape-of-my-array", "title": "Why does the numpy function `take` change the shape of my array?", "body": "<p>I am trying to calculate which points in my data set (in the shape of a numpy array called \"matrix\") are closest to a vector (array called \"vector\") in ndimensional space. Then, I want to extract these same vectors from a data set which is identical to \"matrix\" but includes additional labels (=\"matrix_with_labels\"). </p>\n\n<pre><code>vector=([1,2,3,...])\nmatrix=[[1,2,3,...], [2,4,6,...], ...]]\nmatrix_with_labels=[[a,1,2,3,...], [b,2,4,6,...], ...]]\n</code></pre>\n\n<p>Thus, I compute the distances between the vector and each item in the matrix:</p>\n\n<pre><code>dist=scipy.spatial.distance.cdist(matrix,vector,'euclidean')\n</code></pre>\n\n<p>Then I sort these distances to identify the closest neighbors: </p>\n\n<pre><code>sorted_index=np.argsort(dist, axis=0)\n</code></pre>\n\n<p>Then I try to sort the \"matrix_with_labels\" by \"sorted_index\", using <code>numpy.take</code> as explained in <a href=\"https://stackoverflow.com/questions/25699811/sort-numpy-array-rows-by-indices\">this post</a> on SO.</p>\n\n<pre><code>result= matrix_with_labels.take(sorted_index, 0)\n</code></pre>\n\n<p>The outcome looks just fine until I try to process it further - it seems to have changed shape: </p>\n\n<pre><code>print result.shape\n(20, 1, 11)\n</code></pre>\n\n<p>When I look at the shape of the initial \"matrix_with_labels\", however:</p>\n\n<pre><code>matrix_with_labels.shape\n(20, 11)\n</code></pre>\n\n<p>The documentation on <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.take.html#numpy.take\" rel=\"nofollow noreferrer\">take</a> says: </p>\n\n<blockquote>\n  <p>subarray : ndarray\n  The returned array has the same type as a.</p>\n</blockquote>\n\n<p>What am I doing wrong? Any help is appreciated!</p>\n"}, {"tags": ["python", "audio", "fft", "wav", "pitch-detection"], "comments": [{"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 1, "creation_date": 1462427232, "post_id": 37039164, "comment_id": 61635297, "body": "The Goertzel algorithm is good if you know the frequency already, like for dial tones, or for a lock-in amp with fixed frequency. For your example, just convert the wavefile into a numpy array and the do STFT (short time fourier transforms) as you suggested yourself. There is a canned function <code>spectrogram</code> in <code>scipy</code> that allows you to set the window width (your .2 secs) and all sorts of other things (e.g. overlap,windowing type)."}, {"owner": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "edited": false, "score": 0, "creation_date": 1462446468, "post_id": 37039164, "comment_id": 61645519, "body": "It is indeed possible to split a wav file into .2 second sections, then perform a Fourier Transform on each section.  To have meaningful results, not affected by issues connected with the non-periodicity of the samples, you want to apply a smoothing window to each 2s sample.  This is dealt with using <code>spectrogram</code>, as explained in the <a href=\"http://stackoverflow.com/questions/37039164/perform-fourier-transform-on-sections-of-a-wav-file-python#comment61635297_37039164\">excellent comment</a> by <a href=\"http://stackoverflow.com/users/906693/roadrunner66\">roadrunner66</a>."}], "owner": {"reputation": 145, "user_id": 4077192, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/25547b95e392c463fd01822da25a35af?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4077192/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1462401127, "creation_date": 1462401127, "question_id": 37039164, "link": "https://stackoverflow.com/questions/37039164/perform-fourier-transform-on-sections-of-a-wav-file-python", "title": "Perform Fourier Transform on sections of a wav file python", "body": "<p>Is it possible to split a wav file into .2 second sections, then perform a Fourier Transform on each section to get the frequency distribution of each section? </p>\n\n<p>Specifically if I only cared about 2 or 3 specific frequencies, would there be an easier method to find the amplitude of each of these frequencies in each section? I saw on another post someone mentioning using Goertzel algorithms to find specific frequencies </p>\n"}, {"tags": ["python", "split", "ldap"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1462401468, "creation_date": 1462401468, "answer_id": 37039243, "question_id": 37039157, "link": "https://stackoverflow.com/questions/37039157/python-how-do-you-remove-characters-recieved-as-a-list-from-an-ldap-query/37039243#37039243", "title": "Python - How do you remove characters recieved as a list from an ldap query?", "body": "<p>You can just <em>split</em> by the <code>,</code> and then by <code>=</code>:</p>\n\n<pre><code>&gt;&gt;&gt; result = ('CN=SERVER1,OU=General Servers,OU=Servers,OU=Computers,OU=Group,DC=Domain,DC=com', {})\n&gt;&gt;&gt; result[0].split(\",\")[0].split(\"=\")[1]\n'SERVER1'\n</code></pre>\n\n<p>This would work if <code>CN</code> is always at the beginning of the <code>dn</code> string.</p>\n\n<p>Another option, that would work for any position of the <code>CN</code>, would be to <em>create a dictionary</em> from the key value pairs in the <code>dn</code>:</p>\n\n<pre><code>&gt;&gt;&gt; d = dict(item.split(\"=\") for item in result[0].split(\",\"))\n&gt;&gt;&gt; d['CN']\n'SERVER1'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1103, "user_id": 5149399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71f88ae862a6e395aa0461b4e6270aaa?s=128&d=identicon&r=PG&f=1", "display_name": "Terry", "link": "https://stackoverflow.com/users/5149399/terry"}, "edited": false, "score": 0, "creation_date": 1462453564, "post_id": 37039282, "comment_id": 61650053, "body": "Thanks for the solution, for the record it worked. I just found the answer by alecxe slightly easier to implement in my situation so marked that as the right answer."}], "tags": [], "owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "is_accepted": false, "score": 0, "last_activity_date": 1462403588, "last_edit_date": 1462403588, "creation_date": 1462401650, "answer_id": 37039282, "question_id": 37039157, "link": "https://stackoverflow.com/questions/37039157/python-how-do-you-remove-characters-recieved-as-a-list-from-an-ldap-query/37039282#37039282", "title": "Python - How do you remove characters recieved as a list from an ldap query?", "body": "<p>So, all in one <code>list comprehension</code>, assuming your result list is called l,</p>\n\n<pre><code>hosts = [row[0].split(\",\")[0].replace(\"CN=\",\"\") for row in l]\n</code></pre>\n\n<p>Some people would (fairly) complain that this is too confusing for a list comprehension, so you could split it into its parts, instead.</p>\n\n<p>EDIT:</p>\n\n<p>I was curious to see if there was a substantial difference between using str.replace() as I did and alecxe's method of using a second split. I made the list contain 5 million entries and ran them both. (I did convert Alecxe's version to a list comprehension). There was no significant time difference. So, pick your poison :)</p>\n"}], "owner": {"reputation": 1103, "user_id": 5149399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71f88ae862a6e395aa0461b4e6270aaa?s=128&d=identicon&r=PG&f=1", "display_name": "Terry", "link": "https://stackoverflow.com/users/5149399/terry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 1, "accepted_answer_id": 37039243, "answer_count": 2, "score": 1, "last_activity_date": 1462403588, "creation_date": 1462401117, "question_id": 37039157, "link": "https://stackoverflow.com/questions/37039157/python-how-do-you-remove-characters-recieved-as-a-list-from-an-ldap-query", "title": "Python - How do you remove characters recieved as a list from an ldap query?", "body": "<p>I have performed an LDAP query looking for a list of Windows Servers, the result returned is a list. I used the filter of CN and the below is a sample from the response, I have 1000's in the raw file.</p>\n\n<pre><code>('CN=SERVER1,OU=General Servers,OU=Servers,OU=Computers,OU=Group,DC=Domain,DC=com', {}),\n('CN=SERVER2,OU=General Servers,OU=Servers,OU=Computers,OU=Group,DC=Domain,DC=com', {})\n</code></pre>\n\n<p>I only need the name, in this sample that would be 'SERVER1' or 'SERVER2'</p>\n\n<p>What is the best way to split this list, removing 'CN=' and everything after and including the ','</p>\n\n<p>If someone is aware of a better ldap query than</p>\n\n<pre><code>(r\"(&amp;(objectclass=computer)(objectcategory=computer)(operatingSystem=Windows*Server*)(cn=*))\")\n</code></pre>\n\n<p>Using a different filter than,CN or sAMAccountName that returns just the host names, that would be a useful to know as a viable workaround.</p>\n"}, {"tags": ["python", "ruby", "rubypython"], "comments": [{"owner": {"reputation": 126353, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1462401024, "post_id": 37039129, "comment_id": 61628276, "body": "Could you show us the full error message please?"}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "reply_to_user": {"reputation": 126353, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1462401161, "post_id": 37039129, "comment_id": 61628327, "body": "@Schwern just added it now, thanks."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1462401608, "post_id": 37039129, "comment_id": 61628475, "body": "Does RubyPython depend on having a particular version of Python also installed?"}, {"owner": {"reputation": 126353, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1462401651, "post_id": 37039129, "comment_id": 61628483, "body": "Do you have <code>python</code> installed and in your PATH?"}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1462401744, "post_id": 37039129, "comment_id": 61628507, "body": "@tadman RubyPython doesn&#39;t support python &gt; 3.0"}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "reply_to_user": {"reputation": 126353, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1462401805, "post_id": 37039129, "comment_id": 61628518, "body": "@Schwern I am checking the version now with python --version.....I didn&#39;t have python installed.   When I read the documentation, I read it as the gem came with a python vm."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1462404387, "post_id": 37039129, "comment_id": 61629326, "body": "This didn&#39;t work for me either. I don&#39;t think this question is really specific to RSpec, but rather how to get the correct Python version loaded."}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "edited": false, "score": 0, "creation_date": 1462404730, "post_id": 37039129, "comment_id": 61629423, "body": "I added the console above: 2.7.6 but I still get the error of invalid interpreter.  How do I confirm the right path?"}, {"owner": {"reputation": 126353, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1462410223, "post_id": 37039129, "comment_id": 61630897, "body": "I believe you have to install python yourself. And it has to be Python 2.x."}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "reply_to_user": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1462484894, "post_id": 37039129, "comment_id": 61668620, "body": "@maxpleaner I have python 2.7.6 loaded.  It should be supported, but I still get an error.  Looking at how to explicitly point to this as the interpreter."}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "reply_to_user": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1462487794, "post_id": 37039129, "comment_id": 61669739, "body": "@maxpleaner -- I do, in fact, have python and the path correct.  If it type python2.7, I enter the python console. But it still doesn&#39;t work, even when I explicitly name the interpreter."}, {"owner": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1462489093, "post_id": 37039129, "comment_id": 61670198, "body": "@Angela I tried it (on ubuntu) and I have the same issue as you, not sure how to fix it."}, {"owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "reply_to_user": {"reputation": 23016, "user_id": 2981429, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZcCXx.jpg?s=128&g=1", "display_name": "max pleaner", "link": "https://stackoverflow.com/users/2981429/max-pleaner"}, "edited": false, "score": 0, "creation_date": 1462562159, "post_id": 37039129, "comment_id": 61704464, "body": "@maxpleaner --- argh, thanks I have been running on ubuntu as well.  I logged a ticket with the repo.  ugh.  Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 1864937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa0a0823fd9f951b2f580a7c2f9c8f06?s=128&d=identicon&r=PG", "display_name": "mkfs", "link": "https://stackoverflow.com/users/1864937/mkfs"}, "is_accepted": false, "score": 1, "last_activity_date": 1473534132, "creation_date": 1473534132, "answer_id": 39429567, "question_id": 37039129, "link": "https://stackoverflow.com/questions/37039129/how-to-test-python-code-with-ruby-rspec/39429567#39429567", "title": "How to test Python code with Ruby rspec?", "body": "<p>I've run into this problem a few times when working with RubyPython on a recent Debian build.</p>\n\n<p>The problem lies in the <strong>RubyPython::Interpreter#find_python_lib</strong> method. This method uses hard-coded paths and OS detection to find the library, instead of invoking python-config.</p>\n\n<p>I use the following code to repair the method:</p>\n\n<pre><code>require \"rubypython\"\nclass RubyPython::Interpreter\n  alias :find_python_lib_orig :find_python_lib\n\n  def find_python_lib\n    @libbase = \"#{::FFI::Platform::LIBPREFIX}#{@version_name}\"\n    @libext = ::FFI::Platform::LIBSUFFIX\n    @libname = \"#{@libbase}.#{@libext}\"\n\n    # python-config --confdir provides location of .so\n    config_util = \"#{version_name}-config\"\n    confdir = %x(#{config_util} --configdir).chomp\n\n    library = File.join(confdir, @libname)\n    if (File.exist? library)\n      @locations = [ library ]\n    else\n      library = find_python_lib_orig\n    end\n    library\n  end\nend\n\nRubyPython.start(:python_exe =&gt; \"/usr/bin/python2.7\") \n</code></pre>\n\n<p>This calls the original (flawed) method if pythonconfig fails to find the library.</p>\n"}], "owner": {"reputation": 15386, "user_id": 92679, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oJLsX.jpg?s=128&g=1", "display_name": "Satchel", "link": "https://stackoverflow.com/users/92679/satchel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1473534132, "creation_date": 1462400942, "last_edit_date": 1462487758, "question_id": 37039129, "link": "https://stackoverflow.com/questions/37039129/how-to-test-python-code-with-ruby-rspec", "title": "How to test Python code with Ruby rspec?", "body": "<p>I tried to test <code>rubypython</code> with the following:</p>\n\n<pre><code>bundle exec irb\nrequire 'rubypython'\nRubyPython.start\n</code></pre>\n\n<p>This resulted in an error.  </p>\n\n<p>The error message is:</p>\n\n<pre><code>Python-2.7.5  python --version\nPython 2.7.6\n\u279c  Python-2.7.5  cd ..\n\u279c  code  ls\ndesign  Gemfile  Gemfile.lock  Python-2.7.5  Python-2.7.5.tgz  ratelimit_spec.rb\n\u279c  code  bundle exec irb\nirb(main):001:0&gt; require 'rubypython'\n=&gt; true\nirb(main):002:0&gt; RubyPython.start\nRubyPython::InvalidInterpreter: An invalid interpreter was specified.\n</code></pre>\n\n<p>Python 2.7 has been installed:\n<code>\nirb(main):002:0&gt; RubyPython.start(:python_exec =&gt; 'python2.7')\nRubyPython::InvalidInterpreter: An invalid interpreter was specified.\n    from /home/nitrous/code/.bundle/gems/rubypython-0.6.3/lib/rubypython.rb:67:in `block in start'\n    from /home/nitrous/code/.bundle/gems/rubypython-0.6.3/lib/rubypython/python.rb:10:in `synchronize'\n    from /home/nitrous/code/.bundle/gems/rubypython-0.6.3/lib/rubypython/python.rb:10:in `synchronize'\n    from /home/nitrous/code/.bundle/gems/rubypython-0.6.3/lib/rubypython.rb:54:in `start'\n    from (irb):2\n    from /usr/local/opt/rbenv/versions/2.1.5/bin/irb:11:in `&lt;main&gt;'\n</code></p>\n\n<p>The documentation suggested that I would be able to run Python that has been imported using Ruby and, in my case, test via Rspec, but it doesn't.</p>\n\n<p>Should I be able to import and then run Python from within Ruby?</p>\n"}, {"tags": ["python", "arrays", "loops", "numpy", "assignment-operator"], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1462415650, "creation_date": 1462415650, "answer_id": 37041364, "question_id": 37039127, "link": "https://stackoverflow.com/questions/37039127/python-ndarray-update-exiting-function/37041364#37041364", "title": "python ndarray update exiting function", "body": "<blockquote>\n  <p>the code exits this function without executing it through. </p>\n</blockquote>\n\n<p>this is vague, but I suspect I can reproduce the error with this:</p>\n\n<pre><code>In [47]: mu=np.zeros((5,3))\nIn [48]: mu1=np.zeros((5,3))\n\nIn [49]: for t in range(5):\n   ....:     mu1[t,:]=[1,2,3]\n   ....:     mu[t+1,:] = mu1[t]\n\n----&gt; 3     mu[t+1,:] = mu1[t]\n\nIndexError: index 5 is out of bounds for axis 0 with size 5\n</code></pre>\n\n<p>At the last iteration, <code>t==4</code>, so <code>t+1</code> is <code>5</code>.  That is too large of an index for the 1st dimension of <code>mu</code>.</p>\n\n<p>Why are you indexing <code>mu</code> with <code>t+1</code>?  And if that makes sense, why is <code>mu</code> the same size as <code>mu1</code>?</p>\n"}], "owner": {"reputation": 913, "user_id": 6293038, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7167908694353eb297e1ed2dc4941d21?s=128&d=identicon&r=PG&f=1", "display_name": "dayum", "link": "https://stackoverflow.com/users/6293038/dayum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462415650, "creation_date": 1462400940, "question_id": 37039127, "link": "https://stackoverflow.com/questions/37039127/python-ndarray-update-exiting-function", "title": "python ndarray update exiting function", "body": "<p>I have the following loop in a function definition:</p>\n\n<pre><code>mu=np.zeros((T,p))\nmu_post=np.zeros((T,p))\n\nfor t in arange(T):\n      mu_post[t]= np.dot(a,b)\n      mu[t+1]= mu_post[t]\n      some other processing\n</code></pre>\n\n<p>After reaching towards end of the cycle (t=T-1), the code exits this function without executing it through. However, on trying to debug, if I manually (in pycharm debug console) try to do mu[t+1]= mu_post[t], it works fine. Could there be a reason for this. BTW, I tried doing mu[t+1][:]= mu_post[t] but it has the same issue.</p>\n"}, {"tags": ["python", "python-2.7", "numpy", "machine-learning", "svd"], "comments": [{"owner": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1462401133, "post_id": 37039112, "comment_id": 61628315, "body": "So you have a 1.2TB array?  I am surprised you can even load it in Numpy, let alone do anything with it.  Or are your numbers off a little?  Or are you using some form of clustering?"}, {"owner": {"reputation": 1381, "user_id": 4622664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GOzvn.jpg?s=128&g=1", "display_name": "Arsl&#225;n", "link": "https://stackoverflow.com/users/4622664/arsl%c3%a1n"}, "reply_to_user": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1462407283, "post_id": 37039112, "comment_id": 61630138, "body": "urm.shape  &gt;&gt; (889167, 253059). I guess that&#39;s the order.  I created my own matrix decomposition function and it&#39;s been running for some time without failing. Im wondering what causes a kernal to die."}], "owner": {"reputation": 1381, "user_id": 4622664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GOzvn.jpg?s=128&g=1", "display_name": "Arsl&#225;n", "link": "https://stackoverflow.com/users/4622664/arsl%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1462400857, "creation_date": 1462400857, "question_id": 37039112, "link": "https://stackoverflow.com/questions/37039112/kernel-reset-in-python-after-running-svd", "title": "Kernel reset in Python after running SVD", "body": "<p>I am trying to do SVD of a (800k x 200k) Numpy array in Python. Probably due to intense computation, the kernel dies out everytime i try. It also happens when I try to convert the original matrix into a sparse matrix.</p>\n\n<p>Is there a way i can forcefully keep the kernel active and prevent it from dying each time?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7, "user_id": 5455388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab367d47baa1c2295c10d65e34767b41?s=128&d=identicon&r=PG&f=1", "display_name": "SilverSymphony", "link": "https://stackoverflow.com/users/5455388/silversymphony"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1462401045, "post_id": 37039088, "comment_id": 61628287, "body": "I added in the code for what I have so far and tried calling small(x) in the main() function but I&#39;m really confused"}, {"owner": {"reputation": 512, "user_id": 4941927, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-DuE3ITipXDQ/AAAAAAAAAAI/AAAAAAAAADE/0N-SjjYYn2E/photo.jpg?sz=128", "display_name": "Milor123", "link": "https://stackoverflow.com/users/4941927/milor123"}, "edited": false, "score": 1, "creation_date": 1462401076, "post_id": 37039088, "comment_id": 61628293, "body": "Could you be more specify? puts a example of you output"}, {"owner": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1462401391, "post_id": 37039088, "comment_id": 61628414, "body": "We really need an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to be able to help you here.  Your code is a start, of course, but examples of the inputs and the expected output would also be very helpful."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1462403857, "post_id": 37039088, "comment_id": 61629151, "body": "How do you infer your output is wrong? This works for me: <code>print sum([int(x) for x in list(&#39;1356&#39;)]), min(list(&#39;1356&#39;))</code> -&gt; <code>15, 1</code>."}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 3565691, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78e295c077fad35e164db7e510f6b281?s=128&d=identicon&r=PG", "display_name": "user61092", "link": "https://stackoverflow.com/users/3565691/user61092"}, "is_accepted": false, "score": 0, "last_activity_date": 1462438697, "creation_date": 1462438697, "answer_id": 37046424, "question_id": 37039088, "link": "https://stackoverflow.com/questions/37039088/separating-numbers-in-the-same-input-and-finding-the-minimum-py/37046424#37046424", "title": "Separating Numbers in the Same Input And Finding the Minimum; PY", "body": "<p>Taking inputs from @Rad I hope this is what you are looking for:</p>\n\n<pre><code>x = input(\"enter a number: \")\nmyList = [int(i) for i in str(x)]\nprint myList\n\n#calculate sum\nprint \"Sum is: \"+ str(sum(myList))\n\n#finding minimum\nprint \"Minimum: \" + str(min(myList))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3328, "user_id": 5599028, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/gEgEG.png?s=128&g=1", "display_name": "khelili miliana", "link": "https://stackoverflow.com/users/5599028/khelili-miliana"}, "is_accepted": false, "score": 0, "last_activity_date": 1462439141, "creation_date": 1462439141, "answer_id": 37046569, "question_id": 37039088, "link": "https://stackoverflow.com/questions/37039088/separating-numbers-in-the-same-input-and-finding-the-minimum-py/37046569#37046569", "title": "Separating Numbers in the Same Input And Finding the Minimum; PY", "body": "<p>Try with that code :</p>\n\n<pre><code>y = str(x)\ns = 0\nfor nb in y :\n    print nb\n    s = s + int(nb)\n    print s\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5455388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab367d47baa1c2295c10d65e34767b41?s=128&d=identicon&r=PG&f=1", "display_name": "SilverSymphony", "link": "https://stackoverflow.com/users/5455388/silversymphony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1462439141, "creation_date": 1462400681, "last_edit_date": 1462401582, "question_id": 37039088, "link": "https://stackoverflow.com/questions/37039088/separating-numbers-in-the-same-input-and-finding-the-minimum-py", "title": "Separating Numbers in the Same Input And Finding the Minimum; PY", "body": "<p>What I need to do is take numbers from a given input, separate each number into single digits, and add them together so if the input is 123 it'll separate into 1, 2, 3 and then add them together and print 6</p>\n\n<p>I'm guessing I need to add the numbers to a list and split it but I'm not sure how\nSo far I've tried:</p>\n\n<pre><code>def small(x):\n    L = []\n    y = x.split(',')\n    mini = 10000000000000000000000000\n    for i in y:\n        var1 = int(i)\n        var2 = int(var1)\n        L.append(var2)\n    for i in L:\n        if i &lt; mini:\n            mini = i\n    return mini\n\ndef total(x):\n    L = []\n    t = 0\n    y = x.split(',')\n    va1 = ''\n    for i in y:\n        var1 = int(i)\n        var2 = int(var1)\n        L.append(var2)\n    for i in L:\n        t = t + i\n    return t\ndef main():\nx = input(\"&gt;&gt;\")\nprint(small(x))\n\nprint(total(x))\n\nmain()\n</code></pre>\n\n<p>but this only prints out</p>\n\n<pre><code>&gt;&gt;1,3,5,6\n1\n15\n</code></pre>\n"}, {"tags": ["python", "string", "int"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1462400794, "post_id": 37039064, "comment_id": 61628206, "body": "You seem to have forgotten to add <code>int</code> here: <code>difference = int(num2) - (num1)</code> and here: <code>difference = int(num1) - (num2)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": false, "score": 3, "last_activity_date": 1462400735, "creation_date": 1462400735, "answer_id": 37039095, "question_id": 37039064, "link": "https://stackoverflow.com/questions/37039064/keep-getting-error-code-typeerror-unsupported-operand-types-for-int-an/37039095#37039095", "title": "Keep getting error code - TypeError: unsupported operand type(s) for -: &#39;int&#39; and &#39;str&#39;", "body": "<p>You're getting this error because <code>num1</code> is a string.</p>\n\n<p>Everything returned by <code>input</code> is a string. You need to convert to an <code>int</code> to be able to use mathematical operations.</p>\n\n<pre><code> &gt;&gt;&gt; num1 = input(\"Choose a three digit number whose first and third digits vary by at least two numbers.\")\n &gt;&gt;&gt; ..... 123\n &gt;&gt;&gt; print(type(num1))\n &gt;&gt;&gt; &lt;class 'str'&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6293020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c0f0d55bfec2084af80d02d7d6842a?s=128&d=identicon&r=PG&f=1", "display_name": "tmoKSU", "link": "https://stackoverflow.com/users/6293020/tmoksu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462401525, "creation_date": 1462400546, "last_edit_date": 1462401525, "question_id": 37039064, "link": "https://stackoverflow.com/questions/37039064/keep-getting-error-code-typeerror-unsupported-operand-types-for-int-an", "title": "Keep getting error code - TypeError: unsupported operand type(s) for -: &#39;int&#39; and &#39;str&#39;", "body": "<p>Im trying to make a program that always produces the sum of two three-digit numbers, derived from the difference of two other three-digit numbers, as 1089, provided that the originally chosen number\u2019s first and third digits differ by two or more. I will clarify that i am very new to this and only know the very basics. This is what i have so far. </p>\n\n<pre><code>num1 = input(\"Choose a three digit number whose first and third digits vary by at least two numbers.\")\n\nnum2 = num1[2] + num1[1] + num1[0]\n\nif int(num1) &lt; int(num2):\n\n    difference = int(num2) - (num1)\nelse:\n\n    difference = int(num1) - (num2)\n\nnewNum1 = str(difference)\n\nnewNum2 = newNum1[2] + newNum1[1] + newNum1[0]\n\nten89 = int(newNum1) + int(newNum2)\n\nprint (\"If you chose your three-digit number correctly your should have gotten 1089 and you got,\" ,ten89)\n</code></pre>\n\n<p>I keep getting the error code - </p>\n\n<p>TypeError: unsupported operand type(s) for -: 'int' and 'str' - for the line - difference = int(num2) - (num1).</p>\n\n<p>I tried changing the int in that line to str, as well as others. If anyone could tell me where I'm going wrong I'd really appreciate it. Thanks!</p>\n"}, {"tags": ["php", "python", "execute"], "comments": [{"owner": {"reputation": 10281, "user_id": 51760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI89u.jpg?s=128&g=1", "display_name": "Aif", "link": "https://stackoverflow.com/users/51760/aif"}, "edited": false, "score": 0, "creation_date": 1462400642, "post_id": 37038995, "comment_id": 61628149, "body": "You should (obviously?) provide more info on what is liveSensor.py actually doing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557846"}, "edited": false, "score": 0, "creation_date": 1462401008, "post_id": 37038995, "comment_id": 61628268, "body": "python daemon: <a href=\"http://stackoverflow.com/search?q=python+daemon\">stackoverflow.com/search?q=python+daemon</a> and why would you launch it with php?"}, {"owner": {"reputation": 655, "user_id": 4671619, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-7KEPmfGaJ5o/AAAAAAAAAAI/AAAAAAAAADM/zYriSSPC5sk/photo.jpg?sz=128", "display_name": "Ryan D", "link": "https://stackoverflow.com/users/4671619/ryan-d"}, "edited": false, "score": 0, "creation_date": 1462401397, "post_id": 37038995, "comment_id": 61628417, "body": "I launch it with php as the way the game is setup is using my tablet as the scoreboard from the pitchers mound. So using apache2 Ican stream on my local network. Also I am going to eventually have the ability to choose from multiple games that I will program in the future. I am just more  comfortable building the interface in php/html"}, {"owner": {"reputation": 655, "user_id": 4671619, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-7KEPmfGaJ5o/AAAAAAAAAAI/AAAAAAAAADM/zYriSSPC5sk/photo.jpg?sz=128", "display_name": "Ryan D", "link": "https://stackoverflow.com/users/4671619/ryan-d"}, "reply_to_user": {"reputation": 10281, "user_id": 51760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI89u.jpg?s=128&g=1", "display_name": "Aif", "link": "https://stackoverflow.com/users/51760/aif"}, "edited": false, "score": 0, "creation_date": 1462402541, "post_id": 37038995, "comment_id": 61628763, "body": "@Aif , I updated the question with more info"}], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 4671619, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-7KEPmfGaJ5o/AAAAAAAAAAI/AAAAAAAAADM/zYriSSPC5sk/photo.jpg?sz=128", "display_name": "Ryan D", "link": "https://stackoverflow.com/users/4671619/ryan-d"}, "edited": false, "score": 0, "creation_date": 1462402464, "post_id": 37039099, "comment_id": 61628735, "body": "Hey @Cyb3rFly3r I am using sqlite3, apache2, php5 and ajax for this, it all works great as long as I start the py script from the command line or idle first.. Just cant get php to keep the py file open.."}], "tags": [], "owner": {"reputation": 1299, "user_id": 2879288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/182e7e883318dda71db9b19133237549?s=128&d=identicon&r=PG&f=1", "display_name": "Cyb3rFly3r", "link": "https://stackoverflow.com/users/2879288/cyb3rfly3r"}, "is_accepted": false, "score": 0, "last_activity_date": 1462400762, "creation_date": 1462400762, "answer_id": 37039099, "question_id": 37038995, "link": "https://stackoverflow.com/questions/37038995/how-do-i-keep-a-python-script-running-continually/37039099#37039099", "title": "How do I keep a python script running continually?", "body": "<p>For that kind of interaction you need to build a server script that runs in a separate process and uses a communication protocol, like a database for instance.  If you think about it, the PHP runtime has no control about the python script: it can run it and provide you with the output, but how is the PHP runtime going to know when and how you may need results from the script?</p>\n\n<p>A better approach would be to make a REST service with Python that provides the sensor data on demand and use Javascript to make AJAX requests and get the data as needed.</p>\n"}], "owner": {"reputation": 655, "user_id": 4671619, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-7KEPmfGaJ5o/AAAAAAAAAAI/AAAAAAAAADM/zYriSSPC5sk/photo.jpg?sz=128", "display_name": "Ryan D", "link": "https://stackoverflow.com/users/4671619/ryan-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 805, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462401261, "creation_date": 1462400142, "last_edit_date": 1462401261, "question_id": 37038995, "link": "https://stackoverflow.com/questions/37038995/how-do-i-keep-a-python-script-running-continually", "title": "How do I keep a python script running continually?", "body": "<p>I have read through a bunch of forums and still no luck.. I have a php file that executes a python file (liveSensor.py). It runs the py file once and stops, how to I keep the file open in the background? If I run sudo python liveSensor.py in the command line it just runs once as well but if I put sudo python -i liveSensor.py it stays open. How to I do this in php?</p>\n\n<p>php file - </p>\n\n<pre><code>&lt;?php\n$try = exec('python sensor.py');\nprint_r ($try);\n?&gt;\n</code></pre>\n\n<p>In the liveSensor.py file I have 2 vibration sensors that are being detected and then passing that info into sqlite, then my php file retrieves that data and using ajax I can display it. All of this works great except launching the py file continually..</p>\n\n<p>py script - </p>\n\n<pre><code>#!/usr/bin/env python\nimport RPi.GPIO as GPIO\nimport time\nimport sqlite3\n\nKnockPin = 12 \nShockPin = 13 \n\n\n\ninning = 1\nruns = 0\nstrikes = 0\nballs = 0\n\nprint (\"Welcome to Bases Loaded\")\n\n\n\ndef setstr():\n    global strikes\n    strikes = 0\n    global balls\n    balls = 0\n\n\n\n\ndef setup():\n    GPIO.setmode(GPIO.BOARD)         \n    GPIO.setup(KnockPin, GPIO.IN, pull_up_down=GPIO.PUD_UP)\n    GPIO.setup(ShockPin, GPIO.IN, pull_up_down=GPIO.PUD_UP)\n\n\n\n\ndef knock(ev=None):\n\nwith sqlite3.connect('basesLoaded.db') as conn:\n\n    global strikes\n    global inning\n\n\n    strikes += 1\n\n    if strikes ==0:\n\n        pass\n    elif strikes == 1:\n\n\n        conn.execute(\"UPDATE bl set STRIKE = 1 WHERE ID =1\");\n\n        print (\"Strike 1 :\", conn.total_changes);\n\n    elif strikes == 2:\n\n\n        conn.execute(\"UPDATE bl set STRIKE = 2 WHERE ID=1\");\n\n        print (\"Strike 2 :\", conn.total_changes);\n\n    elif strikes == 3:\n        global inning\n        inning +=1\n        conn.execute(\"UPDATE bl set STRIKE = 0 WHERE ID=1\");\n        conn.execute(\"UPDATE bl set INNING = inning WHERE ID=1\");\n\n        print (\"Strike 3 Your Out :\", conn.total_changes);\n        setstr()\n        print (\"Inning Number :\", inning);\n\ndef shock(ev=None):\n    with sqlite3.connect('basesLoaded.db') as conn:\n\n        global balls\n\n        balls += 1\n\n        if balls ==0:\n            pass\n        elif balls == 1:\n\n            conn.execute(\"UPDATE bl set BALL = 1 WHERE ID=1\");\n            conn.commit()\n            print (\"Ball 1 :\", conn.total_changes);\n\n\n        elif balls == 2:\n\n            conn.execute(\"UPDATE bl set BALL = 2 WHERE ID=1\");\n            conn.commit()\n            print (\"Ball 2 :\", conn.total_changes); \n\n        elif balls == 3:\n\n            conn.execute(\"UPDATE bl set BALL = 3 WHERE ID=1\");\n            conn.commit()\n            print (\"Ball 3 :\", conn.total_changes);\n\n        elif balls == 4:\n\n             global runs\n            runs += 1\n            conn.execute(\"UPDATE bl set BALL = 0 WHERE ID=1\");\n            conn.execute(\"UPDATE bl set RUN = 'runs' WHERE ID=1\");\n            conn.commit()\n            print (\"Run Scored! score is :\", runs); \n            setstr()\n\n\n\n\ndef register_callbacks():\n     GPIO.add_event_detect(ShockPin, GPIO.FALLING, callback=shock, bouncetime=2500)\n     GPIO.add_event_detect(KnockPin, GPIO.FALLING, callback=knock, bouncetime=2500) \n\n\n\nif __name__ == '__main__':\n    try:\n        setup()\n        register_callbacks()\n\n    except KeyboardInterrupt: \n        destroy()  \n</code></pre>\n\n<p>This returns my 'Welcome to Bases Loaded' message in the browser but the py file wont stay open to detect the sensors.</p>\n"}, {"tags": ["python", "nginx", "concurrency", "flask", "uwsgi"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462399829, "post_id": 37038884, "comment_id": 61627867, "body": "It is also possible that <a href=\"http://examplemyserver.com\" rel=\"nofollow noreferrer\">examplemyserver.com</a> is single-threaded. It &quot;examplemyserver.com&quot; a production server or something you whipped up for this experiment?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462400113, "post_id": 37038884, "comment_id": 61627986, "body": "Possible dup, certainly related: <a href=\"http://stackoverflow.com/questions/9501663/how-enable-requests-async-mode\" title=\"how enable requests async mode\">stackoverflow.com/questions/9501663/&hellip;</a>"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462400612, "post_id": 37038884, "comment_id": 61628142, "body": "With Python2.7.6, I cannot reproduce your results. I replaced the URL with <code>http:&#47;&#47;httpbin.org&#47;delay&#47;1</code>, but otherwise my code is identical to yours. For me, all of the requests lines occur more-or-less simultaneously, there is a 1-sec delay, and all of the response lines occur more-or-less simultaneously."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462401158, "post_id": 37038884, "comment_id": 61628325, "body": "@Rob\u1d69 I replaced the url of my server for privacy. That&#39;s not the real url."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462401313, "post_id": 37038884, "comment_id": 61628375, "body": "@Rob\u1d69 Also, it&#39;s not related to the question you linked. In that question, the OP is doing something wrong in the calls. In my case each of the calls has the behavior expected, but I think there&#39;s something wrong in the server."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462401314, "post_id": 37038884, "comment_id": 61628377, "body": "Yes, I realize that the url is made up. That&#39;s why I replaced it with a publicly-visible URL that has a built-in one-second delay. What happens when you run your sample program against <code>http:&#47;&#47;httpbin.org&#47;delay&#47;1</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462401550, "post_id": 37038884, "comment_id": 61628463, "body": "@Rob\u1d69 Edited question to include your point"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462401767, "post_id": 37038884, "comment_id": 61628513, "body": "Oh, I misunderstood the role of &quot;examplemyserver.com&quot; I didn&#39;t realize that was running the webapp that you are asking about. Ignore pretty much everything I&#39;ve said. Starting over, can you post a simplified version of the webapp and nginix configuration that demonstrates the problem? That is, can you produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462402237, "post_id": 37038884, "comment_id": 61628658, "body": "Consider <a href=\"https://uwsgi-docs.readthedocs.io/en/latest/WSGIquickstart.html#adding-concurrency-and-monitoring\" rel=\"nofollow noreferrer\">uwsgi-docs.readthedocs.io/en/latest/&hellip;</a> and its advice to use <code>--processes</code> and <code>--threads</code> switches to the uwsgi program."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462402425, "post_id": 37038884, "comment_id": 61628718, "body": "@Rob\u1d69 edited, please check."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462403758, "post_id": 37038884, "comment_id": 61629119, "body": "@Rob\u1d69 So flask can&#39;t do concurrrency? You have to have several flask processes, is that it?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462403983, "post_id": 37038884, "comment_id": 61629195, "body": "You&#39;re comparing apples and oranges. When you run <code>flask</code> standalone, you are running the <code>werkzeug</code> web server. When you run <code>flask</code> in your preferred configuration, you&#39;re running the <code>nginix</code> web server."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462404515, "post_id": 37038884, "comment_id": 61629358, "body": "@Rob\u1d69 ok, but the question still stands: to respond to HTTP calls concurrently do I need several flask processes, or not?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "edited": false, "score": 0, "creation_date": 1462436973, "post_id": 37041195, "comment_id": 61639978, "body": "I think you nailed it with your distinction between the several components. Thank you very much."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "edited": false, "score": 0, "creation_date": 1462444306, "post_id": 37041195, "comment_id": 61644210, "body": "Hi, I just tested this and it totally works. I didn&#39;t use your config though. Since I already had my own config in place, with Emperor. The only thing I needed to do was in the uwsgi .ini file add the line <code>processes = 4</code>, it&#39;s that simple. Like you said the optimal number depends on many things. In my case since 99% of the time is spent waiting for external APIs, I suspect that my optimal number of processes will be quite a big number. Thanks again."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 0, "last_activity_date": 1462454966, "last_edit_date": 1462454966, "creation_date": 1462414383, "answer_id": 37041195, "question_id": 37038884, "link": "https://stackoverflow.com/questions/37038884/python-serving-html-async/37041195#37041195", "title": "Python serving html async", "body": "<p>Short answer: use <code>--processes=N</code> and/or <code>--threads=M</code> when you start uwsgi.</p>\n\n<p>Long answer: The stack you've described involved three components: nginx in the role of a reverse-proxy web server; uwsgi in the role of an application server; and flask as an application framework. The data flow occurs in that order, with the response flowing in the oppose order.</p>\n\n<p>nginx is inherently multi-tasking and flask is inherently single-tasking. uwsgi can be configured to be either. By default, uwsgi is single-tasking.</p>\n\n<p>Here is the setup I used to investigate this. My OS is Ubuntu 14.04.</p>\n\n<p>/etc/nginx/sites-available/myapp:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>server {\n        listen 8100;\n        location / {\n                include uwsgi_params;\n                uwsgi_pass unix:/tmp/uwsgi.sock;\n        }\n}\n</code></pre>\n\n<p>uwsgi command line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>One of:\n  uwsgi -s /tmp/uwsgi.sock -w app:app\n  uwsgi -s /tmp/uwsgi.sock -w app:app --processes=4\n  uwsgi -s /tmp/uwsgi.sock -w app:app --threads=4\n\nFollowed by:\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>  chmod 777 /tmp/uwsgi.sock\n</code></pre>\n\n<p>app.py:</p>\n\n<pre><code>import time\nfrom flask import Flask, render_template_string\napp = Flask(__name__)\n\n@app.route('/')\n@app.route('/&lt;name&gt;')\ndef hello(name='World'):\n    time.sleep(1)\n    return render_template_string('''\n        &lt;html&gt;&lt;body&gt;&lt;p&gt;\n        Hello, &lt;b&gt;{{ name }}&lt;/b&gt;!\n        &lt;/p&gt;&lt;/body&gt;&lt;/html&gt;''', name=name)\n\nif __name__==\"__main__\":\n    app.run(debug=True)\n</code></pre>\n\n<p>Client: I used your gevent/requests client from above, substituting the following url: <code>http://localhost:8100/World</code>.</p>\n\n<p>Typical result:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>initiating call 0 2016-05-04 21:08:16.473978\ninitiating call 1 2016-05-04 21:08:16.485589\ninitiating call 2 2016-05-04 21:08:16.487258\ninitiating call 3 2016-05-04 21:08:16.490140\ninitiating call 4 2016-05-04 21:08:16.493158\ninitiating call 5 2016-05-04 21:08:16.494417\ninitiating call 6 2016-05-04 21:08:16.495620\ninitiating call 7 2016-05-04 21:08:16.497180\ninitiating call 8 2016-05-04 21:08:16.498413\ninitiating call 9 2016-05-04 21:08:16.499528\nfinishing call 3 2016-05-04 21:08:17.512949 0:00:01.022809\nfinishing call 6 2016-05-04 21:08:17.515944 0:00:01.020324\nfinishing call 7 2016-05-04 21:08:17.517655 0:00:01.020475\nfinishing call 4 2016-05-04 21:08:17.519555 0:00:01.026397\nfinishing call 2 2016-05-04 21:08:18.520249 0:00:02.032991\nfinishing call 0 2016-05-04 21:08:18.522902 0:00:02.048924\nfinishing call 5 2016-05-04 21:08:18.524902 0:00:02.030485\nfinishing call 1 2016-05-04 21:08:18.526682 0:00:02.041093\nfinishing call 9 2016-05-04 21:08:19.526909 0:00:03.027381\nfinishing call 8 2016-05-04 21:08:19.528926 0:00:03.030513\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://uwsgi-docs.readthedocs.io/en/latest/ThingsToKnow.html\" rel=\"nofollow\">http://uwsgi-docs.readthedocs.io/en/latest/ThingsToKnow.html</a> - \"There is no magic rule for setting the number of processes or threads to use. It is very much application and system dependent\"</li>\n<li><a href=\"https://www.digitalocean.com/community/tutorials/how-to-deploy-python-wsgi-applications-using-uwsgi-web-server-with-nginx\" rel=\"nofollow\">https://www.digitalocean.com/community/tutorials/how-to-deploy-python-wsgi-applications-using-uwsgi-web-server-with-nginx</a></li>\n<li><a href=\"http://uwsgi-docs.readthedocs.io/en/latest/Configuration.html\" rel=\"nofollow\">http://uwsgi-docs.readthedocs.io/en/latest/Configuration.html</a></li>\n<li><a href=\"http://flask.pocoo.org/docs/0.10/deploying/uwsgi/\" rel=\"nofollow\">http://flask.pocoo.org/docs/0.10/deploying/uwsgi/</a></li>\n<li><a href=\"http://uwsgi-docs.readthedocs.io/en/latest/Nginx.html\" rel=\"nofollow\">http://uwsgi-docs.readthedocs.io/en/latest/Nginx.html</a></li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 37041195, "answer_count": 1, "score": 0, "last_activity_date": 1462454966, "creation_date": 1462399542, "last_edit_date": 1462402397, "question_id": 37038884, "link": "https://stackoverflow.com/questions/37038884/python-serving-html-async", "title": "Python serving html async", "body": "<p>I have a server serving HTML with nginx, uwsgi and flask. It's a simple webapp. When you refresh a page the webapp makes some API calls elsewhere and then treats the results returned from the APIs and generate the HTML which is then returned.</p>\n\n<p>Now, most of the time is spend waiting for the APIs to respond. Because of this, I'm using gevent to make the API calls and monkey patching etc etc to make it all concurrent. If for every page refresh you need to make 3 API calls, you don't need to wait for the first call to return to initiate the second call. You initiate all three of them, wait for their responses, and then generate the HTML to be returned.</p>\n\n<p>However, a separate question is whether or not the page refreshes from beginning to end are themselves concurrent. To test this I wrote a small concurrent script to make refreshes to my server:</p>\n\n<pre><code>from gevent import monkey\nmonkey.patch_all()\n\nimport requests, datetime\n\nimport gevent\n\ndef call_func(n):\n    before = datetime.datetime.now()\n    print 'initiating call '+str(n),before\n    requests.get('http://examplemyserver.com')\n    after = datetime.datetime.now()\n    print 'finishing call '+str(n),after, after-before\n\ngevent_list = [ gevent.spawn(call_func, n=n) for n in range(10) ]\n\ngevent.joinall(gevent_list)\n</code></pre>\n\n<p>Here are the results:</p>\n\n<pre><code>initiating call 0 2016-05-04 23:03:49.437540\ninitiating call 1 2016-05-04 23:03:49.446304\ninitiating call 2 2016-05-04 23:03:49.447911\ninitiating call 3 2016-05-04 23:03:49.450232\ninitiating call 4 2016-05-04 23:03:49.451774\ninitiating call 5 2016-05-04 23:03:49.453331\ninitiating call 6 2016-05-04 23:03:49.454759\ninitiating call 7 2016-05-04 23:03:49.456301\ninitiating call 8 2016-05-04 23:03:49.457663\ninitiating call 9 2016-05-04 23:03:49.458981\nfinishing call 0 2016-05-04 23:03:51.270078 0:00:01.832538\nfinishing call 6 2016-05-04 23:03:52.169842 0:00:02.715083\nfinishing call 3 2016-05-04 23:03:52.907892 0:00:03.457660\nfinishing call 1 2016-05-04 23:03:53.498008 0:00:04.051704\nfinishing call 8 2016-05-04 23:03:54.150188 0:00:04.692525\nfinishing call 4 2016-05-04 23:03:55.032089 0:00:05.580315\nfinishing call 7 2016-05-04 23:03:55.994570 0:00:06.538269\nfinishing call 2 2016-05-04 23:03:56.659146 0:00:07.211235\nfinishing call 9 2016-05-04 23:03:57.149156 0:00:07.690175\nfinishing call 5 2016-05-04 23:03:58.002210 0:00:08.548879\n</code></pre>\n\n<p>So you see, ten page refreshes are initiated virtually at the same time, however they are returned sequentially with a difference of about 1 second. This suggests that while internally the external API calls are done concurrently, until an HTTP response is given, no new HTTP responses are being accepted.</p>\n\n<p>So, given that most of the webapp time is spent waiting for API responses, how can I make the whole process concurrent? Is it something that I need to change with nginx? With uwsgi? With flask? I have no idea about the architecture of these things.</p>\n\n<p>Thanks.</p>\n\n<p>EDIT 1:\nFollowing Rob's idea, I replaced the server to be called with <code>'http://httpbin.org/delay/1'</code>. This is the result I obtain:</p>\n\n<pre><code>initiating call 0 2016-05-04 23:36:18.697813\ninitiating call 1 2016-05-04 23:36:18.706510\ninitiating call 2 2016-05-04 23:36:18.708645\ninitiating call 3 2016-05-04 23:36:18.711055\ninitiating call 4 2016-05-04 23:36:18.712679\ninitiating call 5 2016-05-04 23:36:18.714051\ninitiating call 6 2016-05-04 23:36:18.715471\ninitiating call 7 2016-05-04 23:36:18.717015\ninitiating call 8 2016-05-04 23:36:18.718412\ninitiating call 9 2016-05-04 23:36:18.720193\nfinishing call 0 2016-05-04 23:36:20.599483 0:00:01.901670\nfinishing call 2 2016-05-04 23:36:20.600829 0:00:01.892184\nfinishing call 8 2016-05-04 23:36:20.611292 0:00:01.892880\nfinishing call 5 2016-05-04 23:36:20.618842 0:00:01.904791\nfinishing call 7 2016-05-04 23:36:20.620065 0:00:01.903050\nfinishing call 6 2016-05-04 23:36:20.621344 0:00:01.905873\nfinishing call 1 2016-05-04 23:36:20.622407 0:00:01.915897\nfinishing call 4 2016-05-04 23:36:20.623392 0:00:01.910713\nfinishing call 9 2016-05-04 23:36:20.624236 0:00:01.904043\nfinishing call 3 2016-05-04 23:36:20.625075 0:00:01.914020\n</code></pre>\n\n<p>This is what you'd expect from a server that can take HTTP calls concurrently. So this shows that the above code that I used for the test is correct, and that the problem is indeed on the server. It's not taking HTTP calls concurrently.</p>\n\n<p>EDIT2: I was playing around and checked that the simplest possible flask app has the same behavior as my server, so I'm giving that as my \"minimal example\"</p>\n\n<p>Consider the following server:</p>\n\n<pre><code>import time\n\nfrom flask import Flask, jsonify\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello():\n    time.sleep(2)\n    return ''\n\nif __name__ == \"__main__\":\n    app.run(host='0.0.0.0', port=80, debug=True)\n</code></pre>\n\n<p>Now connect to it by taking the previous code and pointing it to <code>http://localhost</code>. The result is the following:</p>\n\n<pre><code>initiating call 0 2016-05-04 23:49:12.629250\ninitiating call 1 2016-05-04 23:49:12.638554\ninitiating call 2 2016-05-04 23:49:12.643844\ninitiating call 3 2016-05-04 23:49:12.645630\ninitiating call 4 2016-05-04 23:49:12.647866\ninitiating call 5 2016-05-04 23:49:12.649332\ninitiating call 6 2016-05-04 23:49:12.650853\ninitiating call 7 2016-05-04 23:49:12.652448\ninitiating call 8 2016-05-04 23:49:12.653865\ninitiating call 9 2016-05-04 23:49:12.655348\nfinishing call 0 2016-05-04 23:49:14.671281 0:00:02.042031\nfinishing call 1 2016-05-04 23:49:16.673649 0:00:04.035095\nfinishing call 2 2016-05-04 23:49:18.676576 0:00:06.032732\nfinishing call 3 2016-05-04 23:49:20.679746 0:00:08.034116\nfinishing call 4 2016-05-04 23:49:22.681615 0:00:10.033749\nfinishing call 5 2016-05-04 23:49:24.683817 0:00:12.034485\nfinishing call 6 2016-05-04 23:49:26.686309 0:00:14.035456\nfinishing call 7 2016-05-04 23:49:28.688079 0:00:16.035631\nfinishing call 8 2016-05-04 23:49:30.691382 0:00:18.037517\nfinishing call 9 2016-05-04 23:49:32.696471 0:00:20.041123\n</code></pre>\n\n<p>So basically a simple flask webapp does not take HTTP calls concurrently. How can I change this?</p>\n"}, {"tags": ["javascript", "python", "node.js", "mongodb", "database"], "comments": [{"owner": {"reputation": 871, "user_id": 2190953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36968565ab1879e0a52bd2f50eb5610a?s=128&d=identicon&r=PG", "display_name": "coffee_addict", "link": "https://stackoverflow.com/users/2190953/coffee-addict"}, "edited": false, "score": 0, "creation_date": 1462400522, "post_id": 37038874, "comment_id": 61628111, "body": "I don&#39;t see why this wouldn&#39;t be possible since you&#39;re just creating one extra connection to the database."}, {"owner": {"reputation": 457, "user_id": 3850619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2acfeb77e7849cf3a4c84e02ba2a433e?s=128&d=identicon&r=PG", "display_name": "John William Domingo", "link": "https://stackoverflow.com/users/3850619/john-william-domingo"}, "edited": false, "score": 0, "creation_date": 1462400678, "post_id": 37038874, "comment_id": 61628165, "body": "Check this out <a href=\"http://stackoverflow.com/questions/13067682/djangomongodb-vs-node-jsmongodb\" title=\"djangomongodb vs node jsmongodb\">stackoverflow.com/questions/13067682/&hellip;</a>"}, {"owner": {"reputation": 457, "user_id": 3850619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2acfeb77e7849cf3a4c84e02ba2a433e?s=128&d=identicon&r=PG", "display_name": "John William Domingo", "link": "https://stackoverflow.com/users/3850619/john-william-domingo"}, "edited": false, "score": 0, "creation_date": 1462400685, "post_id": 37038874, "comment_id": 61628166, "body": "And this <a href=\"https://journal.paul.querna.org/articles/2011/12/18/the-switch-python-to-node-js/\" rel=\"nofollow noreferrer\">journal.paul.querna.org/articles/2011/12/18/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 1376069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e56c89025380a328b78b688b5627e067?s=128&d=identicon&r=PG", "display_name": "Juan M.", "link": "https://stackoverflow.com/users/1376069/juan-m"}, "edited": false, "score": 0, "creation_date": 1462418302, "post_id": 37039182, "comment_id": 61632716, "body": "Hey Thank you! I started reading what you suggested and also this little book: <a href=\"http://openmymind.net/mongodb.pdf\" rel=\"nofollow noreferrer\">openmymind.net/mongodb.pdf</a> -&gt; I think it could be useful for future beginners like me."}, {"owner": {"reputation": 1053, "user_id": 5786171, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wz-PDtLrwfI/AAAAAAAAAAI/AAAAAAAAAN4/nbAY1kqvPuM/photo.jpg?sz=128", "display_name": "Sk Arif", "link": "https://stackoverflow.com/users/5786171/sk-arif"}, "reply_to_user": {"reputation": 146, "user_id": 1376069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e56c89025380a328b78b688b5627e067?s=128&d=identicon&r=PG", "display_name": "Juan M.", "link": "https://stackoverflow.com/users/1376069/juan-m"}, "edited": false, "score": 0, "creation_date": 1462438908, "post_id": 37039182, "comment_id": 61640959, "body": "@juanM. Great! I guess I would read that too. Hope it would give me some information too..."}, {"owner": {"reputation": 2186, "user_id": 4143840, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7f2e835583e38a4f4c69f6f947496410?s=128&d=identicon&r=PG&f=1", "display_name": "jersey bean", "link": "https://stackoverflow.com/users/4143840/jersey-bean"}, "edited": false, "score": 0, "creation_date": 1543769261, "post_id": 37039182, "comment_id": 94028158, "body": "Where would you define the Schema for the validator?  If you define it inside mongoose, then you cannot use it in Python. If you define it in Python (as a dictionary), then you cannot use it in mongoose.  I would assume you need some sort of XML file that both can load up?  Any suggestions on that?"}], "tags": [], "owner": {"reputation": 1053, "user_id": 5786171, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wz-PDtLrwfI/AAAAAAAAAAI/AAAAAAAAAN4/nbAY1kqvPuM/photo.jpg?sz=128", "display_name": "Sk Arif", "link": "https://stackoverflow.com/users/5786171/sk-arif"}, "is_accepted": true, "score": 5, "last_activity_date": 1462401591, "last_edit_date": 1462401591, "creation_date": 1462401202, "answer_id": 37039182, "question_id": 37038874, "link": "https://stackoverflow.com/questions/37038874/can-i-use-the-same-mongodb-database-from-python-and-nodejs/37039182#37039182", "title": "Can I use the same MongoDB database from Python and NodeJS", "body": "<p>Yup, it's possible unless you mess up with the schema. Cause mongo won't complain for different types of objects in the same collection.</p>\n\n<p>I would suggest using <a href=\"http://mongoosejs.com/\" rel=\"nofollow\"><strong>mongoose</strong></a> for Node.js and <a href=\"https://api.mongodb.org/python/current/\" rel=\"nofollow\"><strong>pymongo</strong></a> for python. You can easily install pymongo by doing - <code>pip install pymongo</code> in linux and osx systems. But for window I think u will have to do it manually from <a href=\"https://pypi.python.org/pypi/pymongo/\" rel=\"nofollow\">here</a>.</p>\n\n<p>I think reading the documentation for each of them would give you a better idea. You can also take a look at <a href=\"https://docs.mongodb.org/getting-started/shell/\" rel=\"nofollow\">getting started with mongodb</a>. You will find how to use it in many different language. </p>\n\n<p>Thanks!!</p>\n"}], "owner": {"reputation": 146, "user_id": 1376069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e56c89025380a328b78b688b5627e067?s=128&d=identicon&r=PG", "display_name": "Juan M.", "link": "https://stackoverflow.com/users/1376069/juan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1087, "favorite_count": 0, "accepted_answer_id": 37039182, "answer_count": 1, "score": 3, "last_activity_date": 1501389366, "creation_date": 1462399503, "last_edit_date": 1506103077, "question_id": 37038874, "link": "https://stackoverflow.com/questions/37038874/can-i-use-the-same-mongodb-database-from-python-and-nodejs", "title": "Can I use the same MongoDB database from Python and NodeJS", "body": "<p>I would like to know if it would be possible to use MongoDB in the following way: </p>\n\n<p>I want the database to be populated and modified from a script written in Python and to be queried from Node JS. </p>\n\n<p>Is it possible? If yes, Does this approach have any kind of compatibility problems or inefficiencies? </p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["python", "spyder", "jupyter-notebook"], "comments": [{"owner": {"reputation": 35559, "user_id": 434217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1ae3f14fd5b87c2c3f7b36014e185c?s=128&d=identicon&r=PG", "display_name": "Thomas K", "link": "https://stackoverflow.com/users/434217/thomas-k"}, "edited": false, "score": 0, "creation_date": 1462457868, "post_id": 37038871, "comment_id": 61653118, "body": "You can do this with the Qt console (<code>jupyter  qtconsole --existing</code>), and Spyder uses that internally, so it might be possible to connect it to an existing kernel."}], "answers": [{"tags": [], "owner": {"reputation": 35239, "user_id": 597742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3ba3ecffd20251d73749afbfa636786?s=128&d=identicon&r=PG", "display_name": "ncoghlan", "link": "https://stackoverflow.com/users/597742/ncoghlan"}, "is_accepted": false, "score": 2, "last_activity_date": 1476591775, "creation_date": 1476591775, "answer_id": 40066797, "question_id": 37038871, "link": "https://stackoverflow.com/questions/37038871/sync-jupyter-notebook-with-python-session/40066797#40066797", "title": "Sync Jupyter notebook with Python session", "body": "<p>At least in theory, Spyder supports connecting to an external IPython kernel (e.g. one managed by Jupyter Notebook) via the \"Connect to existing kernel\" option: <a href=\"https://pythonhosted.org/spyder/ipythonconsole.html\" rel=\"nofollow\">https://pythonhosted.org/spyder/ipythonconsole.html</a></p>\n\n<p>The connection info for that can be obtained as described in <a href=\"http://jupyter-notebook.readthedocs.io/en/latest/examples/Notebook/Connecting%20with%20the%20Qt%20Console.html#Manual-connection\" rel=\"nofollow\">http://jupyter-notebook.readthedocs.io/en/latest/examples/Notebook/Connecting%20with%20the%20Qt%20Console.html#Manual-connection</a></p>\n\n<p>Unfortunately, that isn't actually working for me with Fedora 24's Spyder (2.3.9) and IPython (3.2.1), so I'm marking this answer as Community Wiki.</p>\n"}], "owner": {"reputation": 357, "user_id": 2236787, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/af14723ddaadc772fa5f7714c6974cb9?s=128&d=identicon&r=PG", "display_name": "Ricol", "link": "https://stackoverflow.com/users/2236787/ricol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1321, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1491306421, "creation_date": 1462399470, "last_edit_date": 1462457878, "question_id": 37038871, "link": "https://stackoverflow.com/questions/37038871/sync-jupyter-notebook-with-python-session", "title": "Sync Jupyter notebook with Python session", "body": "<p>I'm starting to use Python and Jupyter notebook for data analysis. I like Jupyter notebook but I sometimes prefers to use Spyder to have a quick look at the objets saved in memory (variables, dataframes, ...)</p>\n\n<p>That's why I'd like to know if it's possible to have a shared \nworkspace between a Python session open in an IDE (like Spyder or Rodeo) and a notebook, so I can share object and avoid executing the same code twice to have the best of both world.</p>\n"}, {"tags": ["python", "xml", "csv", "if-statement", "range"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 2, "creation_date": 1462400555, "post_id": 37038870, "comment_id": 61628119, "body": "It is almost impossible to even tell what you&#39;re asking. There are only two <code>if</code> statements in your code. Only one has an <code>else</code> clause. That <code>else</code> clause is empty. The other <code>if</code> statement looks like you just took <code>for</code> and changed it to <code>if</code> and... I can&#39;t even figure out what you&#39;re trying to do. <code>if i in range(3, 4)</code> is just a very weird way of saying <code>if i == 3</code> for example, and you then compare that result (which will be <code>True</code> or <code>False</code>) to a string... which is an error in Python 3, but that&#39;s not the problem you say you&#39;re having. &#175;\\_(\u30c4)_/&#175;"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1462406747, "post_id": 37038870, "comment_id": 61629999, "body": "You should not have to script XML tags and attributes as Python has modules to create XML documents with <code>createElement</code> and <code>setAttribute</code>."}, {"owner": {"reputation": 15, "user_id": 6292953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-s7NFV18nKXs/AAAAAAAAAAI/AAAAAAAAMb0/OYqas5vY2tg/photo.jpg?sz=128", "display_name": "james", "link": "https://stackoverflow.com/users/6292953/james"}, "edited": false, "score": 0, "creation_date": 1463258346, "post_id": 37038870, "comment_id": 61992927, "body": "Thanks for the comments gentlemen.  I never did find a solution; the software I am using requires a very rigid xml code, and I was able to use the above to generate the required xml from csv.  Kindall, I used the range function to call the different headers of the csv; you&#39;re obviously correct, i could have skipped range and gone to &quot;if i==3&#39; in cases where the desired column was only 1, but for the rest the ranges worked for me.  it&#39;s not pretty, but in the end it worked; the software accepted the extra lines that I was unable to eliminate from specific csv triggers.  thanks again."}], "owner": {"reputation": 15, "user_id": 6292953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-s7NFV18nKXs/AAAAAAAAAAI/AAAAAAAAMb0/OYqas5vY2tg/photo.jpg?sz=128", "display_name": "james", "link": "https://stackoverflow.com/users/6292953/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1462399468, "creation_date": 1462399468, "question_id": 37038870, "link": "https://stackoverflow.com/questions/37038870/if-else-range-search-python-3-5", "title": "If Else Range Search Python 3.5", "body": "<p>I am trying to use Python 3.5 to create a .xml document from csv.  The .xml requires a specific schema, which I have been able to replicate through Python.  My issue is that some of the schema needs to be changed, depending on input from the csv.  If a specific product is listed in the csv, a couple of lines from the xml need to be left out.  I have provided a basic example below; the issue lies in the middle of the code, where I try to call a defined variable string and do the if else statement on the range to eliminate the unneeded lines.  No matter what I do the else is defaulted to; the if portion never solves true although the data in the source document matches the defined variable string, thus the two lines for the range are always left out -thanks in advance.</p>\n\n<pre><code>#! /usr/bin/env python\n# coding= utf-8\n\nimport csv\n\ncsvFile = 'PRODUCT LIST.csv'\nxmlFile = 'PRODUCT LIST.xml'\n\ncsvData = csv.reader(open(csvFile))\nxmlData = open(xmlFile, 'w')\nvar1 = 'CocaCola'\n\nxmlData.write('&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;' + \"\\n\")\n# there must be only one top-level tag\n\nxmlData.write('&lt;ArrayOfProducts&gt;' + \"\\n\")\n\nrowNum = 0\n\nfor row in csvData:\n    if rowNum == 0:\n        tags = row\n        # replace spaces w/ underscores in tag names\n        for i in range(0, 12):\n            tags[i] = tags[i].replace(' ', '_')\n\n      xmlData.write('  &lt;Product&gt;' + \"\\n\")\n      xmlData.write('    &lt;Name /&gt;' + \"\\n\")\n\n      for i in range(0, 2):\n            xmlData.write('    ' + '&lt;' + tags[i] + '&gt;' \\\n                          + row[i] + '&lt;/' + tags[i] + '&gt;' + \"\\n\")\n\n      xmlData.write('    &lt;List&gt;' + \"\\n\")\n\n      for i in range(2, 3):\n            xmlData.write('      &lt;List ' + \"p:type=\" + '\"' + row[i] + '\"' + ' ' + \"xmlns:p=\" '\"xsi\"' '&gt;' \"\\n\")\n\n      for i in range(3, 7):\n            xmlData.write('        ' + '&lt;' + tags[i] + '&gt;' \\\n                          + row[i] + '&lt;/' + tags[i] + '&gt;' + \"\\n\")\n\n      if i in range(3,4) == var1:\n          for i in range(7, 9):\n              xmlData.write('        ' + '&lt;' + tags[i] + '&gt;' \\\n                          + row[i] + '&lt;/' + tags[i] + '&gt;' + \"\\n\")\n\n      else:\n          pass\n\n      xmlData.write('        &lt;Supported&gt;' + \"\\n\")\n\n      for i in range (9, 10):\n             xmlData.write('      &lt;Manufacturer ' + \"p:type=\" + '\"' + row[i] + '\"' + '&gt;' \"\\n\")\n\n      for i in range(10, 11):\n            xmlData.write('            ' + '&lt;' + tags[i] + '&gt;' \\\n                          + row[i] + '&lt;/' + tags[i] + '&gt;' + \"\\n\")\n\n      xmlData.write('          &lt;/Manufacturer&gt;' + \"\\n\")\n      xmlData.write('        &lt;/Supported&gt;' + \"\\n\")\n\n      for i in range(11, 12):\n         xmlData.write('        ' + '&lt;' + tags[i] + '&gt;' \\\n                        + row[i] + '&lt;/' + tags[i] + '&gt;' + \"\\n\")\n\n      xmlData.write('      &lt;/Manufacturer&gt;' + \"\\n\")\n      xmlData.write('    &lt;/List&gt;' + \"\\n\")\n      xmlData.write('  &lt;/Product&gt;' + \"\\n\")\n\n    rowNum +=1\nxmlData.write('&lt;/ArrayOfProducts&gt;' + \"\\n\")\nxmlData.close()\n</code></pre>\n"}, {"tags": ["python", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 2656, "user_id": 6416957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64e64e51811a63d11d705addeba8e9a?s=128&d=identicon&r=PG&f=1", "display_name": "Alex  Glinsky", "link": "https://stackoverflow.com/users/6416957/alex-glinsky"}, "is_accepted": false, "score": 7, "last_activity_date": 1464904090, "creation_date": 1464904090, "answer_id": 37602711, "question_id": 37038861, "link": "https://stackoverflow.com/questions/37038861/creating-svm-with-opencv-3-0-1-python-2-7/37602711#37602711", "title": "creating svm with OpenCV-3.0.1 / python 2.7", "body": "<p>That how it should look like:</p>\n\n<pre><code>trainingDataMat = np.array(*train_data*, np.float32)\nlabelsMat = np.array([*label_data*], np.int32)\n\nsvm = cv2.ml.SVM_create()\nsvm.setType(cv2.ml.SVM_C_SVC)\nsvm.setKernel(cv2.ml.SVM_LINEAR)\n# svm.setDegree(0.0)\n# svm.setGamma(0.0)\n# svm.setCoef0(0.0)\n# svm.setC(0)\n# svm.setNu(0.0)\n# svm.setP(0.0)\n# svm.setClassWeights(None)\nsvm.setTermCriteria((cv2.TERM_CRITERIA_COUNT, 100, 1.e-06))\nsvm.train(trainingDataMat, cv2.ml.ROW_SAMPLE, labelsMat)\n\nsample_data = np.array([*your_data*], np.float32)\nresponse = svm.predict(sample_data)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 1042917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06bc56534b0419a200149ca3b4b9583c?s=128&d=identicon&r=PG", "display_name": "mase_cv_ml", "link": "https://stackoverflow.com/users/1042917/mase-cv-ml"}, "is_accepted": false, "score": 6, "last_activity_date": 1465568339, "creation_date": 1465568339, "answer_id": 37750584, "question_id": 37038861, "link": "https://stackoverflow.com/questions/37038861/creating-svm-with-opencv-3-0-1-python-2-7/37750584#37750584", "title": "creating svm with OpenCV-3.0.1 / python 2.7", "body": "<p>The example you mentioned is for older versions of OpenCV. </p>\n\n<p>You can find the new examples with good explanation in opencv/sources/samples/python</p>\n\n<p>In new OpenCV you should use SVM as the following:</p>\n\n<pre><code>#SVM in OpenCV 3.1.0 for Python\nSVM = cv2.ml.SVM_create()\nSVM.setKernel(cv2.ml.SVM_LINEAR)\nSVM.setP(0.2)\nSVM.setType(cv2.ml.SVM_EPS_SVR)\nSVM.setC(1.0)\n\n#training\nSVM.train_auto(samples, cv2.ml.ROW_SAMPLE, responses)\n\n#predict\noutput = SVM.predict(samples)[1].ravel()\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6290931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71405352c82632027ef00fa4fa237ca5?s=128&d=identicon&r=PG", "display_name": "DrCroubie", "link": "https://stackoverflow.com/users/6290931/drcroubie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9213, "favorite_count": 3, "answer_count": 2, "score": 3, "last_activity_date": 1465568339, "creation_date": 1462399393, "question_id": 37038861, "link": "https://stackoverflow.com/questions/37038861/creating-svm-with-opencv-3-0-1-python-2-7", "title": "creating svm with OpenCV-3.0.1 / python 2.7", "body": "<p>What a weird system it is here. I had the same problem as in this question here:\n<a href=\"https://stackoverflow.com/questions/36109874/attributeerror-module-object-has-no-attribute-svm-linear/37028854#37028854\">AttributeError: &#39;module&#39; object has no attribute &#39;SVM_LINEAR&#39;</a>\nBut I can't add any more questions or comments to that question so I'm forced to ask almost the same question.\nAnyway, please help with the below:</p>\n\n<p>So I just noticed that CV-3.0.1 has both Chi-squared and intersection kernels, whereas my previous 2.4.9 did not, so I upgraded (gentoo btw). Everything was working in 2.4.9, I just wanted moar kernel choices (and intersection works well with what I'd doing says Yang et al 2009).</p>\n\n<p>But following the above hasn't worked for me.</p>\n\n<p>Besides my usual:</p>\n\n<pre><code>import cv2\n</code></pre>\n\n<p>I've tried adding: </p>\n\n<pre><code>import cv2.ml\n</code></pre>\n\n<p>and/or</p>\n\n<pre><code>from cv2 import ml\n</code></pre>\n\n<p>They don't fix anything (I'm kind of new to python too, so not sure which is what I'm meant to be using).</p>\n\n<p>My line:</p>\n\n<pre><code>svm = cv2.SVM()\n</code></pre>\n\n<p>is what's causing the problem, I've tried changing it to:</p>\n\n<pre><code>svm = cv2.ml.SVM()\n</code></pre>\n\n<p>And that doesn't fix it, all I get is still:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"05traintestsift.py\", line 12, in svm = cv2.SVM()\nAttributeError: 'module' object has no attribute 'SVM'\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"05traintestsift.py\", line 12, in svm = cv2.ml.SVM()\nAttributeError: 'module' object has no attribute 'SVM'\n</code></pre>\n\n<p>Surely there's some basic way to get stuff working again that I'm missing? </p>\n\n<p>nb: everything except trying the new kernel type was working half an hour ago in 2.4.9, so it's purely some new syntax in 3.0.1-r2 that's changed.</p>\n\n<p>I'll also note that their example in the documentation here: <a href=\"http://docs.opencv.org/3.1.0/dd/d3b/tutorial_py_svm_opencv.html\" rel=\"nofollow\">http://docs.opencv.org/3.1.0/dd/d3b/tutorial_py_svm_opencv.html</a> also hasn't put in any '.ml', so even that hasn't been updated (I copied the svm = cv2.SVM() syntax from line 48 of their example btw).</p>\n\n<p>I've noticed that if I just delete that line it gets further through the code, with the .ml fix from the previous question it accepts my parameters fine:</p>\n\n<pre><code>svm_params = dict(kernel_type = cv2.ml.SVM_CHI2,svm_type = cv2.ml.SVM_C_SVC,C=7,gamma=3)\n</code></pre>\n\n<p>but then when I go to train it can't find the svm:</p>\n\n<pre><code>svm.train(traindata,trainnames,params=svm_params)\n</code></pre>\n\n<p>(obviously because I haven't created the 'svm' object yet)</p>\n"}, {"tags": ["python", "numpy", "mask"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1462400019, "creation_date": 1462400019, "answer_id": 37038976, "question_id": 37038817, "link": "https://stackoverflow.com/questions/37038817/reverse-effects-of-boolean-masking-in-numpy/37038976#37038976", "title": "reverse effects of boolean masking in numpy", "body": "<h3>Solution</h3>\n\n<pre><code>z = np.zeros((y.shape[0], len(mask)))\nz[:, mask] = y\n\nz\n\narray([[ 0.91687358,  0.        ,  0.        ,  0.78320538],\n       [ 0.91800106,  0.        ,  0.        ,  0.26048042],\n       [ 0.9117634 ,  0.        ,  0.        ,  0.26153114],\n       [ 0.12229137,  0.        ,  0.        ,  0.27817936],\n       [ 0.06991369,  0.        ,  0.        ,  0.58123194],\n       [ 0.6772054 ,  0.        ,  0.        ,  0.3209265 ],\n       [ 0.57055222,  0.        ,  0.        ,  0.83480474],\n       [ 0.10576611,  0.        ,  0.        ,  0.79239497],\n       [ 0.22635574,  0.        ,  0.        ,  0.37224445],\n       [ 0.15197674,  0.        ,  0.        ,  0.40695651]])\n</code></pre>\n"}], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 37038976, "answer_count": 1, "score": 1, "last_activity_date": 1483101148, "creation_date": 1462399171, "last_edit_date": 1483101148, "question_id": 37038817, "link": "https://stackoverflow.com/questions/37038817/reverse-effects-of-boolean-masking-in-numpy", "title": "reverse effects of boolean masking in numpy", "body": "<h3>Setup</h3>\n\n<pre><code>np.random.seed(314)\nx = np.random.rand(10, 4)\nmask np.array([True, False, False, True])\n\nx\n\narray([[ 0.91687358,  0.58854191,  0.26504775,  0.78320538],\n       [ 0.91800106,  0.82735501,  0.72795148,  0.26048042],\n       [ 0.9117634 ,  0.26075656,  0.76637602,  0.26153114],\n       [ 0.12229137,  0.38600554,  0.84008124,  0.27817936],\n       [ 0.06991369,  0.63310965,  0.58476603,  0.58123194],\n       [ 0.6772054 ,  0.6871551 ,  0.43892737,  0.3209265 ],\n       [ 0.57055222,  0.47984862,  0.86107434,  0.83480474],\n       [ 0.10576611,  0.06040804,  0.59688219,  0.79239497],\n       [ 0.22635574,  0.5352008 ,  0.13606616,  0.37224445],\n       [ 0.15197674,  0.42982185,  0.79270622,  0.40695651]])\n</code></pre>\n\n<p>I can mask x like so:</p>\n\n<pre><code>y = x[:, mask]\ny\n\narray([[ 0.91687358,  0.78320538],\n       [ 0.91800106,  0.26048042],\n       [ 0.9117634 ,  0.26153114],\n       [ 0.12229137,  0.27817936],\n       [ 0.06991369,  0.58123194],\n       [ 0.6772054 ,  0.3209265 ],\n       [ 0.57055222,  0.83480474],\n       [ 0.10576611,  0.79239497],\n       [ 0.22635574,  0.37224445],\n       [ 0.15197674,  0.40695651]])\n</code></pre>\n\n<h3>Question</h3>\n\n<p>given <code>y</code> and <code>mask</code> how do I generate:</p>\n\n<pre><code>array([[ 0.91687358,  0.        ,  0.        ,  0.78320538],\n       [ 0.91800106,  0.        ,  0.        ,  0.26048042],\n       [ 0.9117634 ,  0.        ,  0.        ,  0.26153114],\n       [ 0.12229137,  0.        ,  0.        ,  0.27817936],\n       [ 0.06991369,  0.        ,  0.        ,  0.58123194],\n       [ 0.6772054 ,  0.        ,  0.        ,  0.3209265 ],\n       [ 0.57055222,  0.        ,  0.        ,  0.83480474],\n       [ 0.10576611,  0.        ,  0.        ,  0.79239497],\n       [ 0.22635574,  0.        ,  0.        ,  0.37224445],\n       [ 0.15197674,  0.        ,  0.        ,  0.40695651]])\n</code></pre>\n"}, {"tags": ["python", "list", "dictionary", "tuples", "n-gram"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1462400094, "post_id": 37038763, "comment_id": 61627981, "body": "What do you want to do in the case of a tie?"}, {"owner": {"reputation": 512, "user_id": 4941927, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-DuE3ITipXDQ/AAAAAAAAAAI/AAAAAAAAADE/0N-SjjYYn2E/photo.jpg?sz=128", "display_name": "Milor123", "link": "https://stackoverflow.com/users/4941927/milor123"}, "edited": false, "score": 2, "creation_date": 1462400142, "post_id": 37038763, "comment_id": 61627998, "body": "could you explain me why you output should be <code>L= [(Hello, world),(my, name)]</code>?? I don&#39;t understand you"}], "answers": [{"tags": [], "owner": {"reputation": 285, "user_id": 4464245, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-a03G7KLMzrM/AAAAAAAAAAI/AAAAAAAAADg/SqxuLV1C2YI/photo.jpg?sz=128", "display_name": "LeoCella", "link": "https://stackoverflow.com/users/4464245/leocella"}, "is_accepted": false, "score": 0, "last_activity_date": 1462399903, "creation_date": 1462399903, "answer_id": 37038950, "question_id": 37038763, "link": "https://stackoverflow.com/questions/37038763/make-a-list-with-the-most-frequent-tuple-of-a-dictionary-acording-the-first-elem/37038950#37038950", "title": "Make a list with the most frequent tuple of a dictionary acording the first element", "body": "<p>In my opinion you should not just get the max on all the d values otherwise it just get the biggest value contained in your dictionary that is three in the specified case.\nWhat I would do is create an intermediate list ( maybe this can be hidden ) that keeps in memory the first part of the key as second element, and the counter as first element. In this way you can just get the first element on the sorted list, to get the real max key.</p>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 2, "last_activity_date": 1462400341, "creation_date": 1462400341, "answer_id": 37039031, "question_id": 37038763, "link": "https://stackoverflow.com/questions/37038763/make-a-list-with-the-most-frequent-tuple-of-a-dictionary-acording-the-first-elem/37039031#37039031", "title": "Make a list with the most frequent tuple of a dictionary acording the first element", "body": "<p>This is achievable in O(n) if you just re-key the mapping off the first word:</p>\n\n<pre><code>&gt;&gt;&gt; d = {('Hello','my'): 1, ('Hello','world'): 2, ('my','name'): 3, ('my','house'): 1}\n&gt;&gt;&gt; d_max = {}\n&gt;&gt;&gt; for (first, second), count in d.items():\n...     if count &gt;= d_max.get(first, (None, 0))[1]:\n...         d_max[first] = (second, count)\n...         \n&gt;&gt;&gt; d_max\n{'Hello': ('world', 2), 'my': ('name', 3)}\n&gt;&gt;&gt; output = [(first, second) for (first, (second, count)) in d_max.items()]\n&gt;&gt;&gt; output\n[('my', 'name'), ('Hello', 'world')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "is_accepted": false, "score": 3, "last_activity_date": 1462401739, "creation_date": 1462401739, "answer_id": 37039297, "question_id": 37038763, "link": "https://stackoverflow.com/questions/37038763/make-a-list-with-the-most-frequent-tuple-of-a-dictionary-acording-the-first-elem/37039297#37039297", "title": "Make a list with the most frequent tuple of a dictionary acording the first element", "body": "<pre><code>from itertools import groupby\n\n# your input data\nd = {('Hello', 'my'): 1,('Hello', 'world'):2, ('my', 'name'):3, ('my','house'):1}\n\nkey_fu = lambda x: x[0][0]  # first element of first element,\n                            # i.e. of ((a,b), c), return a\n\ngroups = groupby(sorted(d.iteritems(), key=key_fu), key_fu)\nl = [max(g, key=lambda x:x[1])[0] for _, g in groups]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2493, "user_id": 5966448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5797778df7bfc1beb6dd450d7e53d2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sci Prog", "link": "https://stackoverflow.com/users/5966448/sci-prog"}, "is_accepted": false, "score": 0, "last_activity_date": 1462403526, "creation_date": 1462403526, "answer_id": 37039646, "question_id": 37038763, "link": "https://stackoverflow.com/questions/37038763/make-a-list-with-the-most-frequent-tuple-of-a-dictionary-acording-the-first-elem/37039646#37039646", "title": "Make a list with the most frequent tuple of a dictionary acording the first element", "body": "<p>You have pairs of words and a count associated to each of them.  You could store your information in (or convert it to) 3-tuples:</p>\n\n<pre><code>d = [\n  ('Hello', 'my', 1),\n  ('Hello', 'world', 2), \n  ('my', 'name', 3),\n  ('my', 'house', 1)\n]\n</code></pre>\n\n<p>For each word in the first position, you want to find the word in 2nd position occurs the most frequently.  Sort the data according to the first word (any order, just to group them), then according to the count (descending).  </p>\n\n<pre><code>d.sort(lambda t1,t2: cmp(t2[2],t1[2]) if (t1[0]==t2[0]) else cmp(t1[0],t2[0]))\n</code></pre>\n\n<p>Finally, iterate through the resulting array, keeping track of the last word encountered, and append only when encountering a new word in 1st position.</p>\n\n<pre><code>L = []\nlast_word = \"\"\nfor word1, word2, count in d:\n   if word1 != last_word:\n     L.append((word1,word2))\n     last_word = word1\n\nprint L\n</code></pre>\n\n<p>By running this code, you obtain <code>[('Hello', 'world'), ('my', 'name')]</code>.</p>\n"}], "owner": {"reputation": 63, "user_id": 3962538, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00f83ee370b410c22d31701a2a687e3c?s=128&d=identicon&r=PG&f=1", "display_name": "covsq", "link": "https://stackoverflow.com/users/3962538/covsq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 37039031, "answer_count": 4, "score": 4, "last_activity_date": 1462403526, "creation_date": 1462398935, "question_id": 37038763, "link": "https://stackoverflow.com/questions/37038763/make-a-list-with-the-most-frequent-tuple-of-a-dictionary-acording-the-first-elem", "title": "Make a list with the most frequent tuple of a dictionary acording the first element", "body": "<p>I'm trying to make a list that contains the most frequent tuple of a dictionary acording the first element. For example:\nIf d is my dictionary: </p>\n\n<pre><code>d = {(Hello, my): 1,(Hello, world):2, (my, name):3, (my,house):1} \n</code></pre>\n\n<p>I want to obtain a list like this: </p>\n\n<pre><code>L= [(Hello, world),(my, name)]\n</code></pre>\n\n<p>So I try this:</p>\n\n<pre><code>L = [k for k,val in d.iteritems() if val == max(d.values())]\n</code></pre>\n\n<p>But that only gives me the max of all the tuples:</p>\n\n<pre><code>L = [('my', 'name')]\n</code></pre>\n\n<p>I was thinking that maybe I have to go through my dictionary and make a new one for every first word of each tuple and then find the most frequent and put it on a list, but I'm having trouble to translate that in a code.</p>\n"}, {"tags": ["python", "selenium", "selenium-chromedriver"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "edited": false, "score": 0, "creation_date": 1462405657, "post_id": 37039059, "comment_id": 61629738, "body": "I don&#39;t know if that was right, using firefox successfully now"}], "tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": true, "score": 3, "last_activity_date": 1462400495, "creation_date": 1462400495, "answer_id": 37039059, "question_id": 37038746, "link": "https://stackoverflow.com/questions/37038746/chromedriver-exe-has-stopped-working-python/37039059#37039059", "title": "Chromedriver.exe has stopped working - python", "body": "<p>You're passing an invalid url.</p>\n\n<p>You need to pass the url like this:</p>\n\n<pre><code>driver.get(\"http://www.espn.com\")\n</code></pre>\n\n<p>This might work in your browser, but it won't with selenium. Type in \"espn.com\" in your browser and then copy / paste the url and you'll see that it's actually the above url.</p>\n\n<p>You should also specify the \"chromedriver.exe\" path.</p>\n"}, {"tags": [], "owner": {"reputation": 982, "user_id": 6017675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fK0Ya.jpg?s=128&g=1", "display_name": "Strik3r", "link": "https://stackoverflow.com/users/6017675/strik3r"}, "is_accepted": false, "score": 1, "last_activity_date": 1462423607, "creation_date": 1462423607, "answer_id": 37042551, "question_id": 37038746, "link": "https://stackoverflow.com/questions/37038746/chromedriver-exe-has-stopped-working-python/37042551#37042551", "title": "Chromedriver.exe has stopped working - python", "body": "<p>You are getting this error because you had not installed the chrome driver for selenium on your Machine. Selenium by default provides the driver for Firefox so when you use the webdriver for Firefox, it won't rise any error. To resolve this issue with Chrome you can download the Chrome webdriver from <a href=\"https://sites.google.com/a/chromium.org/chromedriver/downloads\" rel=\"nofollow\">here</a>. </p>\n\n<p>and you can specify the driver as</p>\n\n<pre><code>from selenium import webdriver\nd = webdriver.Chrome(executable_path='&lt;your Chrome driver path&gt;')\n</code></pre>\n\n<p>Adding to what @Pythonista  said , it's better if you keep the URL as a raw string than a normal string </p>\n\n<pre><code>driver.get(r'http://www.espn.com')\n</code></pre>\n\n<p>so that it won't take the slash as an escape sequence in few cases.</p>\n\n<p>Hope it helps. </p>\n"}, {"tags": [], "owner": {"reputation": 1440, "user_id": 3894826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6a6F.png?s=128&g=1", "display_name": "A.Aleem11", "link": "https://stackoverflow.com/users/3894826/a-aleem11"}, "is_accepted": false, "score": 1, "last_activity_date": 1488972421, "creation_date": 1488972421, "answer_id": 42670060, "question_id": 37038746, "link": "https://stackoverflow.com/questions/37038746/chromedriver-exe-has-stopped-working-python/42670060#42670060", "title": "Chromedriver.exe has stopped working - python", "body": "<p>Try to update chrome and get updated/latest chrome driver, recently chrome made several updates in its driver you can download the last one from the link below:</p>\n\n<p><a href=\"https://chromedriver.storage.googleapis.com/2.27/chromedriver_win32.zip\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/2.27/chromedriver_win32.zip</a></p>\n"}], "owner": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13221, "favorite_count": 1, "accepted_answer_id": 37039059, "answer_count": 3, "score": 0, "last_activity_date": 1523247099, "creation_date": 1462398876, "question_id": 37038746, "link": "https://stackoverflow.com/questions/37038746/chromedriver-exe-has-stopped-working-python", "title": "Chromedriver.exe has stopped working - python", "body": "<p>I keep getting this error:\n<a href=\"https://sites.google.com/a/chromium.org/chromedriver/help/chromedriver-crashes\" rel=\"nofollow\">https://sites.google.com/a/chromium.org/chromedriver/help/chromedriver-crashes</a></p>\n\n<p>I get it when running the command:</p>\n\n<pre><code>python Web.py\n</code></pre>\n\n<p>However when I go into the file and run the lines 1 by 1, I don't get the error. However I always get the error when the Web.py file has finished. When I run the lines 1 by 1, it's very basic things but i feel like I\"m not ending my script correctly.</p>\n\n<pre><code>import selenium\nfrom selenium.webdriver.common.keys import Keys\nimport time\nfrom selenium import webdriver\ndriver = webdriver.Chrome()\ndriver.get('espn.com')\n</code></pre>\n\n<p>I want the window with espn.com to stay on the screen, not quit when the script has finished.</p>\n\n<p>I'm running this on Python. I can share my setup, maybe that's something I did incorreclty but any help would be appeciated.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 6, "last_activity_date": 1462399843, "last_edit_date": 1462399843, "creation_date": 1462399487, "answer_id": 37038873, "question_id": 37038733, "link": "https://stackoverflow.com/questions/37038733/adding-column-headers-to-new-pandas-dataframe/37038873#37038873", "title": "Adding Column Headers to new pandas dataframe", "body": "<p>What you're seeing are your grouped columns as the index, if you call <code>reset_index</code> then it restores the column names</p>\n\n<p>so</p>\n\n<pre><code>results = df.groupby([\"X\", \"Y\", \"Z\", \"F\"]).size()\nresults.reset_index()\n</code></pre>\n\n<p>should work</p>\n\n<pre><code>In [11]:\ndf.groupby([\"X\",\"Y\",\"Z\",\"F\"]).size()\n\nOut[11]:\nX  Y           Z  F\n9  27/02/2016  1  N    1\n                  S    1\n               2  N    1\n                  S    1\n               3  N    1\ndtype: int64\n\nIn [12]:    \ndf.groupby([\"X\",\"Y\",\"Z\",\"F\"]).size().reset_index()\n\nOut[12]:\n   X           Y  Z  F  0\n0  9  27/02/2016  1  N  1\n1  9  27/02/2016  1  S  1\n2  9  27/02/2016  2  N  1\n3  9  27/02/2016  2  S  1\n4  9  27/02/2016  3  N  1\n</code></pre>\n\n<p>Additionally you can achieve what you want by using <code>count</code>:</p>\n\n<pre><code>In [13]:\ndf.groupby([\"X\",\"Y\",\"Z\",\"F\"]).count().reset_index()\n\nOut[13]:\n   X           Y  Z  F  Count\n0  9  27/02/2016  1  N      1\n1  9  27/02/2016  1  S      1\n2  9  27/02/2016  2  N      1\n3  9  27/02/2016  2  S      1\n4  9  27/02/2016  3  N      1\n</code></pre>\n\n<p>You could also pass param <code>as_index=False</code> here:</p>\n\n<pre><code>In [15]:\ndf.groupby([\"X\",\"Y\",\"Z\",\"F\"], as_index=False).count()\n\nOut[15]:\n   X           Y  Z  F  Count\n0  9  27/02/2016  1  N      1\n1  9  27/02/2016  1  S      1\n2  9  27/02/2016  2  N      1\n3  9  27/02/2016  2  S      1\n4  9  27/02/2016  3  N      1\n</code></pre>\n\n<p>This is normally fine but some aggregate functions will bork if you try to use aggregation methods on columns whose <code>dtypes</code> cannot be aggregated, for instance if you have <code>str</code> dtypes and you decide to call <code>mean</code> for instance.</p>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1462399726, "creation_date": 1462399726, "answer_id": 37038920, "question_id": 37038733, "link": "https://stackoverflow.com/questions/37038733/adding-column-headers-to-new-pandas-dataframe/37038920#37038920", "title": "Adding Column Headers to new pandas dataframe", "body": "<p>you can use <code>as_index=False</code> parameter for the <code>.groupby()</code> function:</p>\n\n<pre><code>results = df.groupby([\"X\", \"Y\", \"Z\", \"F\"], as_index=False).size().rename(columns={0:'Count'})\n</code></pre>\n"}], "owner": {"reputation": 5299, "user_id": 3779667, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/40206e05f90fc4f2e3237833795813b2?s=128&d=identicon&r=PG&f=1", "display_name": "LearningSlowly", "link": "https://stackoverflow.com/users/3779667/learningslowly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2525, "favorite_count": 0, "accepted_answer_id": 37038873, "answer_count": 2, "score": 4, "last_activity_date": 1462399843, "creation_date": 1462398831, "last_edit_date": 1495539922, "question_id": 37038733, "link": "https://stackoverflow.com/questions/37038733/adding-column-headers-to-new-pandas-dataframe", "title": "Adding Column Headers to new pandas dataframe", "body": "<p>I am creating a new pandas dataframe from a previous dataframe using the <code>.groupby</code> and <code>.size</code> methods. </p>\n\n<pre><code>[in] results = df.groupby([\"X\", \"Y\", \"Z\", \"F\"]).size()\n\n[out]\n    9   27/02/2016  1   N   326\n    9   27/02/2016  1   S   332\n    9   27/02/2016  2   N   280\n    9   27/02/2016  2   S   353\n    9   27/02/2016  3   N   177\n</code></pre>\n\n<p>This behaves as expected, however the result is a dataframe with no column headers. </p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/11346283/renaming-columns-in-pandas\">SO</a> question states that the following adds column names to the generated dataframe</p>\n\n<pre><code>[in] results.columns = [\"X\",\"Y\",\"Z\",\"F\",\"Count\"]\n</code></pre>\n\n<p>However, this does not seem to have any impact at all. </p>\n\n<pre><code>[out]\n        9   27/02/2016  1   N   326\n        9   27/02/2016  1   S   332\n        9   27/02/2016  2   N   280\n        9   27/02/2016  2   S   353\n        9   27/02/2016  3   N   177\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 1, "creation_date": 1462399031, "post_id": 37038710, "comment_id": 61627524, "body": "Correct, you need to read from the file first. Just opening it you are getting a file object <code>InFile</code> in your case. You need to do some kind of read to get the data from the file and then run <code>re.search(SearchStr, &lt;data&gt;)</code> on the gathered <code>&lt;data&gt;</code>"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1462399035, "post_id": 37038710, "comment_id": 61627527, "body": "<code>re.search</code> expects a string."}], "answers": [{"tags": [], "owner": {"reputation": 1533, "user_id": 677915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5b62d6c2640b7285e73c9d9967b075?s=128&d=identicon&r=PG", "display_name": "dim-an", "link": "https://stackoverflow.com/users/677915/dim-an"}, "is_accepted": false, "score": 2, "last_activity_date": 1462399095, "creation_date": 1462399095, "answer_id": 37038806, "question_id": 37038710, "link": "https://stackoverflow.com/questions/37038710/re-search-in-python-yields-none-when-using-a-file-as-the-input/37038806#37038806", "title": "re.search in Python yields &quot;none&quot; when using a file as the input", "body": "<p><code>re.search</code> expects string as the second argument. Not the file. Try use:</p>\n\n<pre><code>Result = re.search(SearchStr,InFile.read())\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6283037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357c5ad26d227fb90f2037db31999315?s=128&d=identicon&r=PG&f=1", "display_name": "JollyAcres", "link": "https://stackoverflow.com/users/6283037/jollyacres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462399095, "creation_date": 1462398729, "question_id": 37038710, "link": "https://stackoverflow.com/questions/37038710/re-search-in-python-yields-none-when-using-a-file-as-the-input", "title": "re.search in Python yields &quot;none&quot; when using a file as the input", "body": "<p>I am very new to stack overflow and to programming in general, and appreciate any help you can provide!</p>\n\n<p>I want to use the re.search function in Python to find text in a file (this is just practice, because ultimately I want to use re.sub and regular expressions to find/replace). But I can't get it to work!</p>\n\n<p>For example, if I enter the following code into Python:</p>\n\n<pre><code>import re\nSearchStr = 'world'\nResult = re.search(SearchStr,\"Hello world\")\nprint Result\n</code></pre>\n\n<p>I get the following output: <code>&lt;_sre.SRE_Match object at 0x106875e00&gt;</code>\nGreat!</p>\n\n<p>But then I made a file called \"python_test.txt\" which contains the text \"Hello world\", and I ran the following script:</p>\n\n<pre><code>import re\nInFileName = 'python_test.txt'\nInFile = open(InFileName, 'r')\nSearchStr = 'world'\nResult = re.search(SearchStr,InFile)\nprint Result\n</code></pre>\n\n<p>I get the following output: <code>None</code></p>\n\n<p>If I replace the last three lines with <code>InFile.read()</code>, I get <code>'Hello world.\\n'</code> as the output, so I think my script is reading the file just fine. I have also tried using <code>InFile.read()</code> instead of <code>InFile</code> in my <code>re.search</code> terms; that didn't work either. Why doesn't my script find \"world\" in my file?</p>\n"}, {"tags": ["python", "exception", "exception-handling"], "comments": [{"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 3, "creation_date": 1462398768, "post_id": 37038691, "comment_id": 61627411, "body": "Your except is on the wrong indentation level"}, {"owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 0, "creation_date": 1462398809, "post_id": 37038691, "comment_id": 61627429, "body": "Can you add the error message? It looks like <code>except NameError:</code> is not aligned properly, at least in your example, it should be aligned with the try: statement it corresponds to."}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "reply_to_user": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 0, "creation_date": 1462398842, "post_id": 37038691, "comment_id": 61627443, "body": "@Natecat I have moved the indentation to the right place but I still get an error . Thanks"}, {"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 0, "creation_date": 1462398950, "post_id": 37038691, "comment_id": 61627488, "body": "@super123 what error, and update your OP"}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "reply_to_user": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 0, "creation_date": 1462399039, "post_id": 37038691, "comment_id": 61627528, "body": "@busfault I have aligned the code properly but still not able to get it to work it just says that except is an invalid syntax"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1462399086, "post_id": 37038691, "comment_id": 61627549, "body": "What exactly are you trying to prevent in the loop? An empty string?"}, {"owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 0, "creation_date": 1462399198, "post_id": 37038691, "comment_id": 61627598, "body": "@super123 I am not as familiar with Python3, and I assume it is with the <code>print(...)</code> format, but can you have a space between <code>print</code> and <code>(...)</code> edit:&quot;Though, that is not likely the issue since it is after the except."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1462399222, "post_id": 37038691, "comment_id": 61627621, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/23294658/asking-the-user-for-input-until-they-give-a-valid-response\">Asking user for input until they give valid response</a>"}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1462399382, "post_id": 37038691, "comment_id": 61627694, "body": "@cricket_007 If the use enters a blank input for the name it should loop the question again."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "reply_to_user": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 1, "creation_date": 1462399424, "post_id": 37038691, "comment_id": 61627710, "body": "@busfault Certainly can."}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "reply_to_user": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 0, "creation_date": 1462399649, "post_id": 37038691, "comment_id": 61627792, "body": "@busfault when I run the code and put  a blank input it shows the welcome message and does not loop the question?"}, {"owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 0, "creation_date": 1462399871, "post_id": 37038691, "comment_id": 61627884, "body": "@super123 That is because input isn&#39;t raising and exception. try running it from the interpreter. does  <code>&gt;&gt;&gt; UserName = input(&quot;What is your name:&quot;)</code> give you a NameError exception when you just press enter? or enter a number? this is unless, <code>input</code> is some other function that you have defined that raises a NameError?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1462400135, "post_id": 37038691, "comment_id": 61627993, "body": "A NameError has nothing to do with whether the input is a valid name of a human being. It indicates that a variable lookup has found no value for the variable. If you&#39;re getting such errors out of an <code>input</code> call, you&#39;re on Python 2 and you should be using <code>raw_input</code>. Python 2&#39;s <code>input</code> is essentially never a good idea."}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1462400226, "post_id": 37038691, "comment_id": 61628019, "body": "@user2357112 im on python3"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1462400291, "post_id": 37038691, "comment_id": 61628042, "body": "@super123: Then that line can&#39;t raise a NameError. If you want to validate the name entered, you have to check the conditions you&#39;re interested in manually."}], "answers": [{"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1462401234, "post_id": 37038886, "comment_id": 61628352, "body": "This is the correct indentation, but the loop never exits"}, {"owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1462401687, "post_id": 37038886, "comment_id": 61628493, "body": "@cricket_007 I had meant it to only show what the indentation should be like for the OP. I guess I should have elaborated a little :-) thanks!"}], "tags": [], "owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1462401640, "last_edit_date": 1462401640, "creation_date": 1462399550, "answer_id": 37038886, "question_id": 37038691, "link": "https://stackoverflow.com/questions/37038691/except-error-for-a-name/37038886#37038886", "title": "Except error for a name", "body": "<p>This is what the proper indentation should be for the <code>try: except: else:</code> block</p>\n\n<pre><code>import random \nwhile True:\n    try:\n        UserName = input(\"What is your name:\")\n    except NameError: \n        print(\"The answer given does not compute!! Try again\")\n        continue\n    else:\n        break\nprint(UserName,\" welcome to the Arithmetic Quiz.\")\n</code></pre>\n\n<p>caveat (thanks cricket_007) this loop will never end. I had meant this comment to show how the <code>try:</code> indentation should have been for the OP.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "edited": false, "score": 0, "creation_date": 1462400507, "post_id": 37038964, "comment_id": 61628107, "body": "is there a way to make it so that if there was a blank space error or  digit it would loop the question.@cricket_007"}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "edited": false, "score": 0, "creation_date": 1462400574, "post_id": 37038964, "comment_id": 61628128, "body": "I understand what you mean now so if the value checking is empty you don&#39;t use the try function @cricket_007"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "edited": false, "score": 0, "creation_date": 1462401168, "post_id": 37038964, "comment_id": 61628331, "body": "For a digit, you could use <code>if UserName.isdigit()</code> to check if something more than spaces was entered you could check <code>if UserName.strip()</code>"}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "edited": false, "score": 0, "creation_date": 1462401489, "post_id": 37038964, "comment_id": 61628449, "body": "Under stood do you know anybooks that have this info inside them please @cricket_007"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "edited": false, "score": 0, "creation_date": 1462402065, "post_id": 37038964, "comment_id": 61628608, "body": "Don&#39;t know any books. All the python I learned was from reading the Python documentation online."}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "edited": false, "score": 0, "creation_date": 1462402299, "post_id": 37038964, "comment_id": 61628676, "body": "when i use the .strip() and enter letters it loops the question"}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "edited": false, "score": 0, "creation_date": 1462402340, "post_id": 37038964, "comment_id": 61628692, "body": "Is there another way to stop the input of symbols with affecting the string input @cricket_007"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "edited": false, "score": 0, "creation_date": 1462402516, "post_id": 37038964, "comment_id": 61628751, "body": "You could try <code>UserName.isalpha()</code> to check for all alphabetical characters."}, {"owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1462402830, "post_id": 37038964, "comment_id": 61628862, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/111057/discussion-between-super123-and-cricket-007\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 2, "last_activity_date": 1462399978, "creation_date": 1462399978, "answer_id": 37038964, "question_id": 37038691, "link": "https://stackoverflow.com/questions/37038691/except-error-for-a-name/37038964#37038964", "title": "Except error for a name", "body": "<p>You don't need a <code>try-except</code> to check for an empty string</p>\n\n<pre><code>while True:\n    UserName = input(\"What is your name:\")\n    if not UserName:\n        print(\"The answer given does not compute!! Try again\")\n        continue\n    else:\n        break\nprint(UserName,\" welcome to the Arithmetic Quiz.\")\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5347466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee2823104ba91f527da8564b1a27ead7?s=128&d=identicon&r=PG&f=1", "display_name": "super123", "link": "https://stackoverflow.com/users/5347466/super123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1462401640, "creation_date": 1462398672, "last_edit_date": 1462399303, "question_id": 37038691, "link": "https://stackoverflow.com/questions/37038691/except-error-for-a-name", "title": "Except error for a name", "body": "<p>I have a problem with a program I am making to do with an arithmetic quiz.when I enter a name the quiz should print the welcome message however if I enter a blank or a number then the programme should loop the question but tell the user that they have made an error. I used the try statement and the NameError statement to try and resolve this problem but when I use the function \"except\" and run it in idle it says that I have an invalid syntax.</p>\n\n<p>here is the code i am trying to fix:</p>\n\n<pre><code>import random \nwhile True:\n    try:\n        UserName = input(\"What is your name:\")\n        except NameError:\n            print (\"The answer given does not compute!! Try again\")\n            continue\n        else:\n            break\n\n        print(UserName,\" welcome to the Arithmetic Quiz.\")\n</code></pre>\n\n<p>I have edited the code for the program, but still when I try to run it in Idle it highlights except and then says invalid syntax.</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "is_accepted": false, "score": 1, "last_activity_date": 1462399246, "creation_date": 1462399246, "answer_id": 37038828, "question_id": 37038681, "link": "https://stackoverflow.com/questions/37038681/python-raises-memory-error-despite-of-16gb-swap/37038828#37038828", "title": "Python raises Memory Error despite of 16gb Swap", "body": "<p>I believe that's because your <a href=\"http://elinux.org/Tegra/Boards/NVIDIA_Jetson_TK1\" rel=\"nofollow\">processor</a> is 32-bit:</p>\n\n<blockquote>\n  <p>The board has the following devices on-board:\n  NVIDIA Tegra124 (Tegra K1 32-bit)</p>\n</blockquote>\n\n<p>On 32-bit installs of Python, it only has 2 gig of RAM available (as with any 32 bit application by default). Try to re-factor your code accordingly.</p>\n\n<p>No amount of swap space will help this, and relying on swap for large calculations is a <strong>really</strong> bad idea since it takes a long time. Swap is meant for accidental overflows, and not to be relied on.</p>\n"}, {"comments": [{"owner": {"reputation": 5357, "user_id": 3038791, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/XiPAa.png?s=128&g=1", "display_name": "rafaelvalle", "link": "https://stackoverflow.com/users/3038791/rafaelvalle"}, "edited": false, "score": 0, "creation_date": 1462400416, "post_id": 37038841, "comment_id": 61628079, "body": "Excellent explanation on the per process virtual address space! Thank you!"}], "tags": [], "owner": {"reputation": 18954, "user_id": 293352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a2aedf092fed3587aeddfd4a38ebaa5?s=128&d=identicon&r=PG", "display_name": "lunixbochs", "link": "https://stackoverflow.com/users/293352/lunixbochs"}, "is_accepted": false, "score": 3, "last_activity_date": 1462399291, "creation_date": 1462399291, "answer_id": 37038841, "question_id": 37038681, "link": "https://stackoverflow.com/questions/37038681/python-raises-memory-error-despite-of-16gb-swap/37038841#37038841", "title": "Python raises Memory Error despite of 16gb Swap", "body": "<p>The Jetson TK1 is a 32-bit processor. It doesn't have sufficient virtual address space to access more than 4GB of RAM from one process.</p>\n\n<p>The kernel can leverage your 16GB page file to provide 4GB of ram to many separate processes, but this still does not expose more than 4GB of addresses to a single process. It simply allows separate processes to individually use up to 4GB of RAM (on Linux, you'll most likely have a 2GB or 3GB limit depending on your kernel settings).</p>\n\n<p>You should split your work into smaller pieces or use a platform with more address space available.</p>\n"}], "owner": {"reputation": 5357, "user_id": 3038791, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/XiPAa.png?s=128&g=1", "display_name": "rafaelvalle", "link": "https://stackoverflow.com/users/3038791/rafaelvalle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1462399291, "creation_date": 1462398617, "question_id": 37038681, "link": "https://stackoverflow.com/questions/37038681/python-raises-memory-error-despite-of-16gb-swap", "title": "Python raises Memory Error despite of 16gb Swap", "body": "<p>I'm getting MemoryError while running some large matrix operations (chroma, cqt, mfcc extraction) with numpy (1.81), scipy (0.17.0), librosa (0.4.2) on a Jetson TK 1 with ~2 GB Ram and a 16GB swap file.</p>\n\n<p>Any help is much appreciated!</p>\n\n<p><strong>ERROR MESSAGE</strong></p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"./analyze_structure.py\", line 480, in &lt;module&gt;\n    args.cutoff, args.order, args.sr, args.feature, bool(args.as_diff))\n  File \"./analyze_structure.py\", line 452, in plotData\n    tracks)\n  File \"./analyze_structure.py\", line 178, in plotStructure\n    feat, beat_times = extractChroma(filename, file_ext)\n  File \"./analyze_structure.py\", line 75, in extractChroma\n    hop_length=HOP_LENGTH)\n  File \"/usr/local/lib/python2.7/dist-packages/librosa-0.4.2-py2.7.egg/librosa/feature/spectral.py\", line 800, in chroma_stft\n    tuning = estimate_tuning(S=S, sr=sr, bins_per_octave=n_chroma)\n  File \"/usr/local/lib/python2.7/dist-packages/librosa-0.4.2-py2.7.egg/librosa/core/pitch.py\", line 82, in estimate_tuning\n    pitch, mag = piptrack(y=y, sr=sr, S=S, n_fft=n_fft, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/librosa-0.4.2-py2.7.egg/librosa/core/pitch.py\", line 270, in piptrack\n    util.localmax(S * (S &gt; (threshold * S.max(axis=0)))))\n  File \"/usr/local/lib/python2.7/dist-packages/librosa-0.4.2-py2.7.egg/librosa/util/utils.py\", line 820, in localmax\n    x_pad = np.pad(x, paddings, mode='edge')\n  File \"/usr/lib/python2.7/dist-packages/numpy/lib/arraypad.py\", line 1364, in pad\n    newmat = _prepend_edge(newmat, pad_before, axis)\n  File \"/usr/lib/python2.7/dist-packages/numpy/lib/arraypad.py\", line 175, in _prepend_edge\n    axis=axis)\nMemoryError\n</code></pre>\n"}, {"tags": ["python", "windows", "matplotlib", "anaconda"], "comments": [{"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 1, "creation_date": 1462398527, "post_id": 37038612, "comment_id": 61627316, "body": "do you have <code>matplotlib</code> installed?"}, {"owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 0, "creation_date": 1462398706, "post_id": 37038612, "comment_id": 61627390, "body": "Try <code>pip show matplotlib</code> to check for it."}, {"owner": {"reputation": 1070, "user_id": 4611565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd88fff8452fa651234c79d26068cac?s=128&d=identicon&r=PG&f=1", "display_name": "manu190466", "link": "https://stackoverflow.com/users/4611565/manu190466"}, "edited": false, "score": 4, "creation_date": 1462398731, "post_id": 37038612, "comment_id": 61627399, "body": "It looks like this is not the version of python provided with anaconda. The name &quot;anaconda&quot; should appear when you launch python."}, {"owner": {"reputation": 68, "user_id": 4932760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638240fb72815615faef6dc2535b290a?s=128&d=identicon&r=PG&f=1", "display_name": "ronnyb", "link": "https://stackoverflow.com/users/4932760/ronnyb"}, "edited": false, "score": 0, "creation_date": 1462398894, "post_id": 37038612, "comment_id": 61627457, "body": "this is it, I needed to put anaconda at the top of my system variables for windows 10"}], "owner": {"reputation": 68, "user_id": 4932760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638240fb72815615faef6dc2535b290a?s=128&d=identicon&r=PG&f=1", "display_name": "ronnyb", "link": "https://stackoverflow.com/users/4932760/ronnyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2754, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1462398320, "creation_date": 1462398320, "last_edit_date": 1495541772, "question_id": 37038612, "link": "https://stackoverflow.com/questions/37038612/no-module-named-matplotlib-on-windows", "title": "no module named matplotlib on windows", "body": "<p>Facing this issue right now, saw the question:\n<a href=\"https://stackoverflow.com/questions/15447422/no-module-named-pylab-on-windows\">no module named pylab on windows</a></p>\n\n<p>I have annaconda and python 2.7 installed. I tried in the python shell:</p>\n\n<pre><code>Python 2.7.11 (v2.7.11:6d1b6a68f775, Dec  5 2015, 20:32:19) [MSC v.1500 32 bit (Intel)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import matplotlib\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named matplotlib\n</code></pre>\n\n<p>and received the following result. I've checked my PATH variable, and I'm not sure how to resolve.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "opencv", "image-processing", "freeze", "imshow"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1462404300, "post_id": 37038606, "comment_id": 61629289, "body": "It&#39;s <code>cv2.waitKey</code> that actually pumps the messages for the GUI to work. It needs to be called frequently enough for the UI to actually respond to all the necessary events (like repaints, etc). If the processing takes this long, and you want to have a responsive UI at the same time, you need to do the processing in a separate thread."}, {"owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1462477790, "post_id": 37038606, "comment_id": 61665151, "body": "@DanMa\u0161ek In a single-threaded program working sequentially I expected first to execute another command, after a current task is completed (in this case update the image). Thanks for the tip with the threading, but to be honest this makes it unnecessary complicated"}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1462478122, "post_id": 37038606, "comment_id": 61665331, "body": "If you don&#39;t want to deal with threads (although that&#39;s not what i&#39;d consider complicated, but I understand that YMMV), the other possibility is to provide some way to pump the messages (call waitKey) while you&#39;re doing the processing (in between the individual steps). It&#39;s going to be clumsy, but at least this way the window will remain fairly responsive."}], "answers": [{"comments": [{"owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1462478023, "post_id": 37041435, "comment_id": 61665275, "body": "I tried killing the window right <b>before</b> updating (or in this case creating a new window again). The result is instead of turning grey it just stays blank white. Another Problem with this solution: the window gets generated on a random place and if I want to move that, after the next update the new window is created at the old position again. Might get in the way of the remaining work."}, {"owner": {"reputation": 136, "user_id": 5666138, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac45c05f23eea0bc440c6c5d8566ec7a?s=128&d=identicon&r=PG&f=1", "display_name": "bstadt", "link": "https://stackoverflow.com/users/5666138/bstadt"}, "reply_to_user": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1462645700, "post_id": 37041435, "comment_id": 61728036, "body": "To fix the issue with windows in random places, just call moveWindow right after you create the window and you can specify the x,y position of the window you want. Also, your window staying blank white shows that it is still active, just that you may be passing it a white image to display. I would check the algorithms themselves at this point. A good way to do this would be to write the image you are trying to display to a file and then view the file. If the file is all white, then it&#39;s an algorithmic issue."}, {"owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1462650263, "post_id": 37041435, "comment_id": 61729560, "body": "the algorithm is alright, I just increased the work load, before it was working just fine - I mean when a window turns grey in ubuntu means that this application is not responding. As it is a sequential program-routine, the new image is already finished when it comes to updating - and actually it first starts processing the next frame when the new image was shown. This is why I expect the error is on OpenCV side. In other words OpenCV seems to start some threading on its own, when it&#39;s returning but not even finished"}], "tags": [], "owner": {"reputation": 136, "user_id": 5666138, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac45c05f23eea0bc440c6c5d8566ec7a?s=128&d=identicon&r=PG&f=1", "display_name": "bstadt", "link": "https://stackoverflow.com/users/5666138/bstadt"}, "is_accepted": false, "score": 2, "last_activity_date": 1462416220, "creation_date": 1462416220, "answer_id": 37041435, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/37041435#37041435", "title": "Opencv imshow() freezes when updating", "body": "<p>So what I think is going on here is that the window,(an element of the highGUI) which is still active after the first call to imshow, is waiting for some sort of response from your waitKey function, but is becoming inactive since the program is stuck calculating in either the processImg of loadNextImg functions. If you don't care about a slight waste of efficiency (i.e. you're not running on an embedded system where every operation counts), you should just destroy the window after waitKey, and recreate before imshow. Since the window no longer exists during the time you are processing and loading images, the highGUI wont get stuck waiting for a call from waitKey, and it won't become unresponsive.</p>\n"}, {"tags": [], "owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "is_accepted": false, "score": 8, "last_activity_date": 1462480593, "creation_date": 1462480593, "answer_id": 37059817, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/37059817#37059817", "title": "Opencv imshow() freezes when updating", "body": "<p>Increasing the wait time solves this issue. However in my opinion this is unnecessary time spent on sleeping (20 ms / frame), even though it's not much.</p>\n\n<p>Changing </p>\n\n<pre><code>cv2.waitKey(1)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>cv2.waitKey(20)\n</code></pre>\n\n<p>prevents the window from freezing in my case. The duration of this required waiting time may vary on different machines.</p>\n"}, {"comments": [{"owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1475149263, "post_id": 39637825, "comment_id": 66832825, "body": "..but once again you are dealing with a 20 ms loop aren&#39;t you?"}, {"owner": {"reputation": 31, "user_id": 6609526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wxaZu.png?s=128&g=1", "display_name": "ElDani", "link": "https://stackoverflow.com/users/6609526/eldani"}, "reply_to_user": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1475333543, "post_id": 39637825, "comment_id": 66907251, "body": "Correctly, there&#39;s currently no way i know to get rid of that waitkey function. But what i will try next is to replace opencv imshow with another non opencv solution to show the images. Do you know anything in that direction?"}, {"owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1475335151, "post_id": 39637825, "comment_id": 66907811, "body": "Then I don&#39;t get the information gain of the post. Have a look at <code>Tkinter</code> and <code>PIL</code> for Python"}, {"owner": {"reputation": 31, "user_id": 6609526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wxaZu.png?s=128&g=1", "display_name": "ElDani", "link": "https://stackoverflow.com/users/6609526/eldani"}, "reply_to_user": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1475565616, "post_id": 39637825, "comment_id": 66981422, "body": "But why not? The extra process solves the problem of freezing and this is what this thread is about? But thanks anyway for the info."}, {"owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1475586805, "post_id": 39637825, "comment_id": 66994334, "body": "I achieve the same result when I solely increase the waiting time to 20 ms as well, which means creating an extra thread is unnecessary overhead that in a few months nobody will understand its purpose anymore (from my experience)"}, {"owner": {"reputation": 31, "user_id": 6609526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wxaZu.png?s=128&g=1", "display_name": "ElDani", "link": "https://stackoverflow.com/users/6609526/eldani"}, "reply_to_user": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 1, "creation_date": 1475668585, "post_id": 39637825, "comment_id": 67033148, "body": "Well that didn&#39;t work for me. But the extra process did work so it&#39;s surely meaningful to leave this post where it is."}], "tags": [], "owner": {"reputation": 31, "user_id": 6609526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wxaZu.png?s=128&g=1", "display_name": "ElDani", "link": "https://stackoverflow.com/users/6609526/eldani"}, "is_accepted": false, "score": 3, "last_activity_date": 1474546760, "last_edit_date": 1495535483, "creation_date": 1474543897, "answer_id": 39637825, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/39637825#39637825", "title": "Opencv imshow() freezes when updating", "body": "<p>I have the very same issue and I noticed that the fps the window is updated is getting slower and slower until it freezes completely.\nIncreasing the waitKey(x) to something higher just extends the duration where the images are updated but when the time that cv2.imshow() needs to calculate exceeds the time from wait(Key) it just stops updating.</p>\n\n<p>(Skip this complainment:)\nI think the cv2.imshow() with waitKey() combination is a complete design error, why isn't imshow() just blocking until the UI is updated? That would make life so much easier without having to call waitKey() everytime...</p>\n\n<p>P.S.: There is a possibility to start an own thread for opencv windows inside opencv: </p>\n\n<pre><code>import cv2\nimg = cv2.imread(\"image.jpg\")\ncv2.startWindowThread()\ncv2.namedWindow(\"preview\")\ncv2.imshow(\"preview\", img)\n</code></pre>\n\n<p>source: <a href=\"https://stackoverflow.com/questions/21810452/cv2-imshow-command-doesnt-work-properly-in-opencv-python\">cv2.imshow command doesn&#39;t work properly in opencv-python</a></p>\n\n<p>Well this doesn't work for me because I always get this errors when I run it:</p>\n\n<pre><code>(python3:1177): GLib-GObject-CRITICAL **: g_object_unref: assertion 'G_IS_OBJECT (object)' failed\nAttempt to unlock mutex that was not locked\nAborted\n</code></pre>\n\n<p>Maybe you could try it and report if it is working for you?</p>\n\n<p><strong>Edit:</strong>\nOkay I solved the problem for me by creating a separate script imshow.py:</p>\n\n<pre><code>import cv2\nimport os.path\n\nwhile True:\n    if os.path.exists(\"image.pgm\"):\n        image = cv2.imread(\"image.pgm\")\n        if not image is None and len(image) &gt; 0:\n            cv2.imshow(\"Frame\", image)\n            cv2.waitKey(20)\n</code></pre>\n\n<p>And I am writing the image out in my other program with: <code>cv2.imwrite(\"image.pgm\", image)</code>\nAnd I am calling the script like this:</p>\n\n<pre><code>import subprocess\nsubprocess.Popen([\"python3\", \"imshow.py\"])\n</code></pre>\n\n<p>Although this is creating some dirty reads sometimes it is sufficient enough for me, a better solution would be to use pipes or queues between the two processes.</p>\n"}, {"comments": [{"owner": {"reputation": 493, "user_id": 11052174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YYpej.jpg?s=128&g=1", "display_name": "blthayer", "link": "https://stackoverflow.com/users/11052174/blthayer"}, "edited": false, "score": 0, "creation_date": 1579895688, "post_id": 46460856, "comment_id": 105932854, "body": "In version <code>4.1.2</code> of <code>cv2</code> (included via <code>opencv-python</code>), it seems the flag you passed to <code>cvtColor</code> has changed from <code>cv2.BGR2RGB</code> to <code>cv2.COLOR_BGR2RGB</code>."}, {"owner": {"reputation": 151, "user_id": 1317493, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/417e6fdafd96c718530efaec5b325268?s=128&d=identicon&r=PG", "display_name": "MaciekS", "link": "https://stackoverflow.com/users/1317493/macieks"}, "edited": false, "score": 0, "creation_date": 1610525321, "post_id": 46460856, "comment_id": 116158122, "body": "This is a workaround suggestion, not solution. My preferred solution is given by @MohanavelT in other <a href=\"https://stackoverflow.com/a/54303648/1317493\">answer</a> -currently below."}], "tags": [], "owner": {"reputation": 1670, "user_id": 2103732, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/TTny9.jpg?s=128&g=1", "display_name": "Dharma", "link": "https://stackoverflow.com/users/2103732/dharma"}, "is_accepted": false, "score": 12, "last_activity_date": 1506571947, "creation_date": 1506571947, "answer_id": 46460856, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/46460856#46460856", "title": "Opencv imshow() freezes when updating", "body": "<p>My suggestion is to use Matplotlib pyplot for displaying the image. I do it the following way.</p>\n\n<pre><code>import matplotlib.pyplot as plt\n# load image using cv2....and do processing.\nplt.imshow(cv2.cvtColor(image, cv2.BGR2RGB))\n# as opencv loads in BGR format by default, we want to show it in RGB.\nplt.show()\n</code></pre>\n\n<p>I know it does not solve the problem of cv2.imshow, but it solves our problem.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7566179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7mjxs.jpg?s=128&g=1", "display_name": "R K Bhalodia", "link": "https://stackoverflow.com/users/7566179/r-k-bhalodia"}, "is_accepted": false, "score": 1, "last_activity_date": 1512579100, "last_edit_date": 1512579100, "creation_date": 1512568897, "answer_id": 47676150, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/47676150#47676150", "title": "Opencv imshow() freezes when updating", "body": "<p>If your window is going grey then it might be take more processing power. So try to resize image into smaller size image and execute. Sometimes times it freezes while running in ipython notebooks due to pressing any key while performing operation. I had personally executed your problem but I didn't get grey screen while doing it. I did executing directly using terminal. Code and steps are shown below.</p>\n\n<pre><code>import argparse\nimport cv2\nimport numpy as np \n\n# construct the argument parser and parse the arguments\nap = argparse.ArgumentParser()\nap.add_argument(\"-i\", \"--image\", required=True, help=\"Path to the image\")\nargs = vars(ap.parse_args())\n\n# load the image, grab its dimensions, and show it\nimage = cv2.imread(args[\"image\"])\n(h, w) = image.shape[:2]\ncv2.imshow(\"Original\", image)\ncv2.waitKey(0)\n\nfor i in range(0,1000):\n    image = cv2.imread(args[\"image\"])\n    cv2.imshow(\"The result\",image);\n    cv2.waitKey(0)\n</code></pre>\n\n<p>Run it in terminal:</p>\n\n<ol>\n<li>source activate env_name</li>\n<li>python Filename.py --image Imagename.png</li>\n</ol>\n\n<p><strong>This will get to your result in one window only(updating each time) without freezing</strong> and if you want seperate image in every new window then add .format(i) as given below. But <strong>Remember to run in terminal only not in jupyter notebooks</strong>.</p>\n\n<p>You can check using terminal commands in this video link\n<a href=\"https://www.youtube.com/watch?v=8O-FW4Wm10s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=8O-FW4Wm10s</a></p>\n\n<pre><code>for i in range(0,1000):\n    image = cv2.imread(args[\"image\"])\n    cv2.imshow(\"The result{}\".format(i),image);\n    cv2.waitKey(0)\n</code></pre>\n\n<p>This may help to get you 1000 images separately.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 1317493, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/417e6fdafd96c718530efaec5b325268?s=128&d=identicon&r=PG", "display_name": "MaciekS", "link": "https://stackoverflow.com/users/1317493/macieks"}, "edited": false, "score": 0, "creation_date": 1610525579, "post_id": 54303648, "comment_id": 116158219, "body": "I&#39;d suggest to wrap <code>imshow</code>-related code into <code>try-except-finally</code> statement and put the <code>cv2.destoryAllWindows()</code> into <code>finally</code> clause, so that the window will be destroyed even in case of exception."}], "tags": [], "owner": {"reputation": 353, "user_id": 4725760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-LC1PUbldGe0/AAAAAAAAAAI/AAAAAAAAAqU/UykzJeU8xQc/photo.jpg?sz=128", "display_name": "Mohanavel T", "link": "https://stackoverflow.com/users/4725760/mohanavel-t"}, "is_accepted": false, "score": 5, "last_activity_date": 1548144008, "creation_date": 1548144008, "answer_id": 54303648, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/54303648#54303648", "title": "Opencv imshow() freezes when updating", "body": "<p>Just add <code>cv2.destroyAllWindows()</code> just after <code>cv2.waitKey()</code></p>\n"}, {"comments": [{"owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 1, "creation_date": 1550481388, "post_id": 54712513, "comment_id": 96269744, "body": "duplicate of @Mohanavel"}], "tags": [], "owner": {"reputation": 816, "user_id": 6907424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98bd1b7f19d6de9dd1b972eac5d5167?s=128&d=identicon&r=PG&f=1", "display_name": "hafiz031", "link": "https://stackoverflow.com/users/6907424/hafiz031"}, "is_accepted": false, "score": 0, "last_activity_date": 1556819776, "last_edit_date": 1556819776, "creation_date": 1550244865, "answer_id": 54712513, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/54712513#54712513", "title": "Opencv imshow() freezes when updating", "body": "<p>Add the following two lines of code after <code>cv2.imshow()</code> function,</p>\n\n<p><code>cv2.waitKey()</code></p>\n\n<p><code>cv2.destroyAllWindows()</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11727467, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iUMqMWtnaaM/AAAAAAAAAAI/AAAAAAAAABY/8sQZhvVKS5c/photo.jpg?sz=128", "display_name": "Harsh Vijay", "link": "https://stackoverflow.com/users/11727467/harsh-vijay"}, "is_accepted": false, "score": 1, "last_activity_date": 1563220533, "last_edit_date": 1563220533, "creation_date": 1562046148, "answer_id": 56846017, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/56846017#56846017", "title": "Opencv imshow() freezes when updating", "body": "<pre><code>try:\n    import cv2\nexcept:\n    print(\"You need to install Opencv \\n Run this command \\n pip install python-opencv\")\n    exit()\nprint('Press q to quit frame')\ndef viewer(name,frame):\n    while True:\n        cv2.imshow(name,frame)\n        if cv2.waitKey(10) &amp; 0xff ==ord('q'):\n            break\n    return\ncv2.destroyWindow(name)\n</code></pre>\n\n<p>Save this program and from now onwards, import this and use the function viewer to display any frame/image and your display windows will not hang or crash.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13476819, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgBENAA5lRUxwBP_u2c9JxzBqLCmbq818axJv_Lwg=k-s128", "display_name": "Savin Perera", "link": "https://stackoverflow.com/users/13476819/savin-perera"}, "is_accepted": false, "score": 0, "last_activity_date": 1588701552, "creation_date": 1588701552, "answer_id": 61619816, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating/61619816#61619816", "title": "Opencv imshow() freezes when updating", "body": "<p>You can use while loop to take burst images without freezing. Here is an example for taking 10 images. You can also try to increase <code>waitkey</code> number and <code>sleep</code> time in while loop. This work for me.</p>\n\n<pre><code>key = cv2.waitKey(1)\nwebcam = cv2.VideoCapture(0)\nsleep(1)\n\nwhile True:\n\n    try:\n        check, frame = webcam.read()\n        cv2.imshow(\"Capturing\", frame)\n        key = cv2.waitKey(1)\n\n        img_counter = 0\n\n        if key &amp; 0xFF == ord('s'): #press s to take images\n            while img_counter &lt; 10:\n                check, frame = webcam.read()\n                cv2.imshow(\"Capturing\", frame)\n                key = cv2.waitKey(1)\n                path = 'F:/Projects/' #folder path to save burst images\n                img_name = \"burst_{}.png\".format(img_counter)\n                cv2.imwrite(os.path.join(path, img_name), img=frame)\n                print(\"Processing image...\")\n                img_ = cv2.imread(img_name, cv2.IMREAD_ANYCOLOR) #save as RGB color format\n                print(\"{} written!\".format(img_name))\n                img_counter += 1\n                sleep(0.2)\n            webcam.release()\n            cv2.destroyAllWindows()\n            break\n\n        elif key == ord('q'): #press q to quit without taking images\n            webcam.release()\n            cv2.destroyAllWindows()\n            break\n\n    except(KeyboardInterrupt):\n        print(\"Turning off camera.\")\n        webcam.release()\n        print(\"Camera off.\")\n        print(\"Program ended.\")\n        cv2.destroyAllWindows()\n        break\n</code></pre>\n"}], "owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19833, "favorite_count": 6, "answer_count": 9, "score": 15, "last_activity_date": 1617180247, "creation_date": 1462398307, "question_id": 37038606, "link": "https://stackoverflow.com/questions/37038606/opencv-imshow-freezes-when-updating", "title": "Opencv imshow() freezes when updating", "body": "<p>For my image processing algorithm I'm using python / OpenCV. The output of my algorithm shall be updated im the same window over and over again. </p>\n\n<p>However sometimes the window freezes and doesn't update at all, but the algorithm is still running and updated the picture a multiple times in the meantime. The window turns dark gray on this Ubuntu machine.</p>\n\n<p>Here is an excerpt of the involved code:</p>\n\n<pre><code>for i in range(0,1000):\n    img = loadNextImg()\n    procImg = processImg(img)\n    cv2.imshow(\"The result\", procImg)\n    cv2.waitKey(1)\n</code></pre>\n\n<p><strong>N.B.</strong>: processImg() takes about 1-2 s for its procedures. The line <code>cv2.imshow(procImg)</code> creates the window in first instance (i.e. there is no preceding invocation)</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 3, "creation_date": 1462398183, "post_id": 37038542, "comment_id": 61627145, "body": "Have you explored the <code>itertools</code> module?"}, {"owner": {"reputation": 825, "user_id": 713735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e4b24d290836076bb32b6c55968f29bd?s=128&d=identicon&r=PG", "display_name": "Scott Severance", "link": "https://stackoverflow.com/users/713735/scott-severance"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462398581, "post_id": 37038542, "comment_id": 61627336, "body": "Yes, I have, but I didn&#39;t see anything that appeared like it would work. It&#39;s quite likely that I&#39;m overlooking something, but for the life of me I can&#39;t figure out what it is."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1462404237, "post_id": 37038542, "comment_id": 61629266, "body": "Where do the two digit numbers come from shown in your example output?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1462404261, "post_id": 37038542, "comment_id": 61629275, "body": "@martineau: one of the operators is the empty string, i.e., a straight concatenation :) It works for <code>find_expressions ([1,2,3,4], 1234)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 713735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e4b24d290836076bb32b6c55968f29bd?s=128&d=identicon&r=PG", "display_name": "Scott Severance", "link": "https://stackoverflow.com/users/713735/scott-severance"}, "edited": false, "score": 0, "creation_date": 1462401403, "post_id": 37038820, "comment_id": 61628420, "body": "I edited the question to clarify it. This approach only generates pairs, instead of replicating the functionality of the for loops. For the example input I added above, I get <code>7 - 2 == 5</code>, which is invalid because it doesn&#39;t contain all the digits in the input."}, {"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "reply_to_user": {"reputation": 825, "user_id": 713735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e4b24d290836076bb32b6c55968f29bd?s=128&d=identicon&r=PG", "display_name": "Scott Severance", "link": "https://stackoverflow.com/users/713735/scott-severance"}, "edited": false, "score": 0, "creation_date": 1462405630, "post_id": 37038820, "comment_id": 61629725, "body": "@ScottSeverance I have added the comparison with target and verified that it outputs exactly the same as your test case. Can you provide another test case that fails? <a href=\"http://ideone.com/7swBjk\" rel=\"nofollow noreferrer\">I get the same result on ideone</a>."}, {"owner": {"reputation": 825, "user_id": 713735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e4b24d290836076bb32b6c55968f29bd?s=128&d=identicon&r=PG", "display_name": "Scott Severance", "link": "https://stackoverflow.com/users/713735/scott-severance"}, "edited": false, "score": 0, "creation_date": 1462415990, "post_id": 37038820, "comment_id": 61632220, "body": "Your edited version appears to me like it will work. Meanwhile, I played with <code>itertools.product</code> on my own and came up with my own solution base on the ideas in the first version of your post which is broadly similar to yours. Thanks."}], "tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": true, "score": 5, "last_activity_date": 1462403929, "last_edit_date": 1462403929, "creation_date": 1462399194, "answer_id": 37038820, "question_id": 37038542, "link": "https://stackoverflow.com/questions/37038542/make-this-function-take-strings-of-arbitrary-length/37038820#37038820", "title": "Make this function take strings of arbitrary length", "body": "<p>Use <a href=\"https://docs.python.org/dev/library/itertools.html#itertools.product\" rel=\"nofollow\"><code>itertools.product</code></a>:</p>\n\n<pre><code>import itertools\n\ndef find_expressions(digits, target):\n    if not (isinstance(digits, str) or isinstance(digits, list)) or not isinstance(target, int):\n        raise TypeError\n\n    solutions = []\n    operators = ('', ' + ', ' - ', ' * ', ' / ')\n    for ops in itertools.product(operators, repeat=len(digits)-1):\n        s = digits[0] + ''.join(op + digit for op, digit in zip(ops, digits[1:]))\n        try:\n            if eval(s) == target:\n                solutions.append(s + ' == {}'.format(target))\n        except (ZeroDivisionError, SyntaxError):\n            pass\n    print('\\n'.join(solutions))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "is_accepted": false, "score": 1, "last_activity_date": 1462402923, "last_edit_date": 1495541273, "creation_date": 1462402923, "answer_id": 37039522, "question_id": 37038542, "link": "https://stackoverflow.com/questions/37038542/make-this-function-take-strings-of-arbitrary-length/37039522#37039522", "title": "Make this function take strings of arbitrary length", "body": "<p>The trick is to get all <em>possible permutations</em> of the sequence <code>+-*/</code> \u2013 including duplicates, so the first sequence needs to be <code>++++</code>; its length should be <code>len(digits)-1</code>, because for <em>n</em> digits, you need <code><i>n</i>\u00a0-\u00a01</code> operators in between.</p>\n\n<p>The total number of permutations is <code>operators ** positions</code>; that is, every operator can appear in every single position. I don't see any handy shortcut for not actually <em>testing</em> all possibilities.</p>\n\n<p>The following is loosely based on <a href=\"https://stackoverflow.com/questions/9671111/get-all-4-character-combinations-of-a-given-alphabet\">Get all 4-character combinations of a given alphabet</a>; without the interjection of the digits and with the <code># print ..</code> lines enabled, you will see it shows the entire list.</p>\n\n<p>If your input may or may not be strings, use <code>str(digits[x])</code> so the string concatenation does not barf.</p>\n\n<p>The following code</p>\n\n<pre><code>def find_expressions(digits, target):\n    if not (isinstance(digits, str) or isinstance(digits, list)) or not isinstance(target, int):\n        raise TypeError\n    solutions = []\n    operators = ('', ' + ', ' - ', ' * ', ' / ')\n    used = [0] * (len(digits)-1)\n    for i in range(len(operators)**(len(digits)-1)):\n      attempt = str(digits[0])\n      for j in range(1,len(digits)):\n        attempt += operators[used[j-1]] + str(digits[j])\n        # print (operators[used[j-1]], end=\"\")\n      # print ()\n      for j in range(len(digits)-1):\n        used[j] += 1\n        if used[j] &gt;= len(operators):\n          used[j] = 0\n        else:\n          break\n\n      try:\n        if eval(attempt) == target:\n          print (attempt, '==', eval(attempt))\n      except (ZeroDivisionError, SyntaxError):\n        pass\n\nfind_expressions ([7,5,2,2,8], 5)\n</code></pre>\n\n<p>shows</p>\n\n<pre><code>7 * 5 - 2 - 28 == 5\n7 * 5 - 22 - 8 == 5\n7 + 5 + 2 / 2 - 8 == 5.0\n</code></pre>\n\n<p>(where the last one prints as float because the <code>/</code> makes it so).</p>\n"}], "owner": {"reputation": 825, "user_id": 713735, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e4b24d290836076bb32b6c55968f29bd?s=128&d=identicon&r=PG", "display_name": "Scott Severance", "link": "https://stackoverflow.com/users/713735/scott-severance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 37038820, "answer_count": 2, "score": 1, "last_activity_date": 1462403929, "creation_date": 1462398079, "last_edit_date": 1462401212, "question_id": 37038542, "link": "https://stackoverflow.com/questions/37038542/make-this-function-take-strings-of-arbitrary-length", "title": "Make this function take strings of arbitrary length", "body": "<p>This function takes a string of digits and a target integer and prints all possible ways to insert operators to reach the desired target. The output must in all cases contain all the digits in order; none may be omitted.</p>\n\n<pre><code>#!/usr/bin/env python3\n\ndef find_expressions(digits, target):\n    if not (isinstance(digits, str) or isinstance(digits, list)) or not isinstance(target, int):\n        raise TypeError\n    if len(digits) != 5:\n        raise TypeError('digits must be of length 5')\n    solutions = []\n    operators = ('', ' + ', ' - ', ' * ', ' / ')\n    for i in operators:\n        for j in operators:\n            for k in operators:\n                for l in operators:\n                    s = digits[0] + i + digits[1] + j + digits[2] + k + digits[3] + l + digits[4]\n                    try:\n                        if eval(s) == target:\n                            solutions.append(s + ' == {}'.format(target))\n                    except (ZeroDivisionError, SyntaxError):\n                        pass\n    print('\\n'.join(solutions))\n</code></pre>\n\n<p>It isn't pretty, but it works. The problem is that it only takes strings of length 5. How can I make it take strings of arbitrary length? (E.g., calling <code>find_expressions('12345678', 2)</code> should be valid.) I'm thinking I need to replace the <code>for</code> loops with recursion, but I'm at a loss as to how to accomplish this.</p>\n\n<h1>Example Output</h1>\n\n<p>Calling <code>find_expressions('75228', 5)</code> prints:</p>\n\n<pre><code>7 + 5 + 2 / 2 - 8 == 5\n7 * 5 - 22 - 8 == 5\n7 * 5 - 2 - 28 == 5\n</code></pre>\n\n<h1>Caveat</h1>\n\n<p>I'm not satisfied with the whole brute-force approach I'm taking by looping over every possibility. If there's a better algorithm overall, I'd like to hear about it. <em>However,</em> this question is about making this function take arbitrary-length input while making the smallest possible changes.</p>\n"}, {"tags": ["python", "multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 1852692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df2b5e2f0093cb826494f794c078afb?s=128&d=identicon&r=PG", "display_name": "user1852692", "link": "https://stackoverflow.com/users/1852692/user1852692"}, "edited": false, "score": 0, "creation_date": 1462521515, "post_id": 37038640, "comment_id": 61679878, "body": "I have run your code. The result puzzles me a bit, as addresses are still the same (or is that to be expected):  ` PoolWorker-1 &lt;__main__.TestClass object at 0x7ffecd3c8d90&gt; PoolWorker-2 &lt;__main__.TestClass object at 0x7ffecd3c8d90&gt; PoolWorker-1 &lt;__main__.TestClass object at 0x7ffecd3c8d90&gt; PoolWorker-2 &lt;__main__.TestClass object at 0x7ffecd3c8d90&gt; `"}, {"owner": {"reputation": 18954, "user_id": 293352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a2aedf092fed3587aeddfd4a38ebaa5?s=128&d=identicon&r=PG", "display_name": "lunixbochs", "link": "https://stackoverflow.com/users/293352/lunixbochs"}, "reply_to_user": {"reputation": 33, "user_id": 1852692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df2b5e2f0093cb826494f794c078afb?s=128&d=identicon&r=PG", "display_name": "user1852692", "link": "https://stackoverflow.com/users/1852692/user1852692"}, "edited": false, "score": 0, "creation_date": 1462579185, "post_id": 37038640, "comment_id": 61710644, "body": "The addresses are expected to be the same due to virtual addressing. When you clone a program in place for multiprocessing, the virtual addresses don&#39;t change but the underlying physical memory does."}], "tags": [], "owner": {"reputation": 18954, "user_id": 293352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a2aedf092fed3587aeddfd4a38ebaa5?s=128&d=identicon&r=PG", "display_name": "lunixbochs", "link": "https://stackoverflow.com/users/293352/lunixbochs"}, "is_accepted": false, "score": 3, "last_activity_date": 1462398453, "creation_date": 1462398453, "answer_id": 37038640, "question_id": 37038498, "link": "https://stackoverflow.com/questions/37038498/multiprocessing-doesnt-recreate-object/37038640#37038640", "title": "Multiprocessing doesn&#39;t recreate object", "body": "<p>When you <code>fork()</code> for multiprocessing, it duplicates your process. The memory allocator and all addresses in the parent process will be copied into the child process. As a result, the next allocation will be very likely to have the same address.</p>\n\n<p>You can verify that they are in fact separate objects like so:</p>\n\n<pre><code>import time\n\ndef func():\n    obj = TestClass()\n    obj.name = multiprocessing.current_process().name\n    print obj.name, str(obj)\n    time.sleep(1)\n    print obj.name, str(obj)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1533, "user_id": 677915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5b62d6c2640b7285e73c9d9967b075?s=128&d=identicon&r=PG", "display_name": "dim-an", "link": "https://stackoverflow.com/users/677915/dim-an"}, "is_accepted": true, "score": 2, "last_activity_date": 1462398500, "creation_date": 1462398500, "answer_id": 37038649, "question_id": 37038498, "link": "https://stackoverflow.com/questions/37038498/multiprocessing-doesnt-recreate-object/37038649#37038649", "title": "Multiprocessing doesn&#39;t recreate object", "body": "<p>The objects are different, different processes use different <a href=\"https://en.wikipedia.org/wiki/Virtual_memory\" rel=\"nofollow\">virtual address space</a> and the same address in different processes points to the different memory region.</p>\n\n<p>If you change your example little bit you'll see that returned objects are different:</p>\n\n<pre><code>import multiprocessing\n\nclass TestClass(object):\n    pass\n\ndef func():\n    obj = TestClass()\n    cpname = multiprocessing.current_process().name\n    print \"{0}, Address: {1}\".format(cpname, str(obj))\n    return obj\n\npool = multiprocessing.Pool(2)\nresults = [pool.apply_async(func) for _ in range(2)]\n\nresults = [res.get() for res in results]\n\npool.close()\npool.join()\n\nprint results\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "is_accepted": false, "score": 1, "last_activity_date": 1462398512, "last_edit_date": 1495542702, "creation_date": 1462398512, "answer_id": 37038654, "question_id": 37038498, "link": "https://stackoverflow.com/questions/37038498/multiprocessing-doesnt-recreate-object/37038654#37038654", "title": "Multiprocessing doesn&#39;t recreate object", "body": "<p>Seems likely you're using a Linux-ish system, where new process are created via <code>fork()</code>.  In that case, you should <em>expect</em> a great deal of overlap between addresses.  That doesn't mean your <code>obj</code> instances occupy the same physical memory - just that they share the same <em>virtual</em> (process-local) addresses.</p>\n\n<p>More here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33021639/what-happens-to-addresss-values-and-pointers-after-a-fork\">What happens to address&#39;s, values, and pointers after a fork()</a></p>\n"}], "owner": {"reputation": 33, "user_id": 1852692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5df2b5e2f0093cb826494f794c078afb?s=128&d=identicon&r=PG", "display_name": "user1852692", "link": "https://stackoverflow.com/users/1852692/user1852692"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 37038649, "answer_count": 3, "score": 3, "last_activity_date": 1462398512, "creation_date": 1462397871, "question_id": 37038498, "link": "https://stackoverflow.com/questions/37038498/multiprocessing-doesnt-recreate-object", "title": "Multiprocessing doesn&#39;t recreate object", "body": "<p>I have created a little code snippet (the original code is much larger) that calls a function which creates an object, but within a pool of processes:</p>\n\n<pre><code>import multiprocessing\n\n\nclass TestClass(object):\n    pass\n\n\ndef func():\n    obj = TestClass()\n    cpname = multiprocessing.current_process().name\n    print \"{0}, Address: {1}\".format(cpname, str(obj))\n\n\npool = multiprocessing.Pool(2)\nresults = [pool.apply_async(func) for _ in range(2)]\n\nfor res in results:\n    res.get()\n\npool.close()\npool.join()\n</code></pre>\n\n<p>When I run this code, I get the following output:</p>\n\n<pre><code>PoolWorker-1, Address: &lt;__main__.TestClass object at 0x7f05d3fdad50&gt;\nPoolWorker-2, Address: &lt;__main__.TestClass object at 0x7f05d3fdad50&gt;\n</code></pre>\n\n<ol>\n<li><p>What I don't understand is, why the objects have the same address, even though the are in separate processes?</p></li>\n<li><p>How can I make sure that every process creates its own object?</p></li>\n</ol>\n\n<p>Thank you very much fir your help.</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 1533, "user_id": 677915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5b62d6c2640b7285e73c9d9967b075?s=128&d=identicon&r=PG", "display_name": "dim-an", "link": "https://stackoverflow.com/users/677915/dim-an"}, "is_accepted": false, "score": 3, "last_activity_date": 1462397804, "creation_date": 1462397804, "answer_id": 37038482, "question_id": 37038477, "link": "https://stackoverflow.com/questions/37038477/list-of-lists-into-dict/37038482#37038482", "title": "List of lists into dict", "body": "<pre><code>&gt;&gt;&gt; a = [['a',20],['b',30],['c',40],['d',50]]\n&gt;&gt;&gt; b = dict(a)\n&gt;&gt;&gt; print b\n{'a': 20, 'c': 40, 'b': 30, 'd': 50}\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 4554471, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d4fbd2af60600193c7f8569a88e57426?s=128&d=identicon&r=PG&f=1", "display_name": "krish", "link": "https://stackoverflow.com/users/4554471/krish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1462397804, "creation_date": 1462397761, "question_id": 37038477, "link": "https://stackoverflow.com/questions/37038477/list-of-lists-into-dict", "title": "List of lists into dict", "body": "<p>I've a list of lists something like this</p>\n\n<pre><code>[['a',20],['b',30],['c',40],['d',50]]\n</code></pre>\n\n<p>I've to convert it into a dict like this</p>\n\n<pre><code>{'a':20,'b':30,'c':40,'d':50}\n</code></pre>\n\n<p>How to do it?</p>\n"}, {"tags": ["python", "py2exe", "pywin32"], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 2096859, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6e091f1a6f32dd41d6ebd4be01f28530?s=128&d=identicon&r=PG&f=1", "display_name": "Vardens Archangel", "link": "https://stackoverflow.com/users/2096859/vardens-archangel"}, "edited": false, "score": 1, "creation_date": 1462398674, "post_id": 37038533, "comment_id": 61627377, "body": "Unfortunatelly: it didn&#39;t help... I&#39;ve added your suggestions to the code above."}], "tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": true, "score": 1, "last_activity_date": 1462398052, "creation_date": 1462398052, "answer_id": 37038533, "question_id": 37038466, "link": "https://stackoverflow.com/questions/37038466/python-service-fails-with-error-1053-but-works-with-debug-mode/37038533#37038533", "title": "Python service fails with error 1053 but works with debug mode", "body": "<p>You must signal Windows that your service is actually running. Inside <code>SvcDoRun</code>, call</p>\n\n<pre><code>self.ReportServiceStatus(win32service.SERVICE_START_PENDING)\n</code></pre>\n\n<p>and once your service is actually started (for example once you reach main, or even directly afterwards)</p>\n\n<pre><code>self.ReportServiceStatus(win32service.SERVICE_RUNNING)\n</code></pre>\n\n<p>to mark your service as <em>sucessfully started</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 2096859, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6e091f1a6f32dd41d6ebd4be01f28530?s=128&d=identicon&r=PG&f=1", "display_name": "Vardens Archangel", "link": "https://stackoverflow.com/users/2096859/vardens-archangel"}, "is_accepted": false, "score": 0, "last_activity_date": 1462423489, "creation_date": 1462423489, "answer_id": 37042537, "question_id": 37038466, "link": "https://stackoverflow.com/questions/37038466/python-service-fails-with-error-1053-but-works-with-debug-mode/37042537#37042537", "title": "Python service fails with error 1053 but works with debug mode", "body": "<p>I have solved the issue.\nI've used phihag's answer and changes setup.py  myself:</p>\n\n<pre><code>setup(service=[{'modules':'fetching_service','cmdline_style':'pywin32','description':'your service description',\n    # console=[{\"script\": \"fetching_service.py\",\n                 \"icon_resources\": [(1, \"../mailman.ico\")],\n                 \"dest_base\": \"fetching_service\"}],\n      data_files=[('', ['../cacert.pem', '../trusted-certs.crt'])],\n      options={\"py2exe\": {\n          \"includes\": [\"win32serviceutil\", \"win32service\", \"win32event\"],\n          'bundle_files': 0, \"optimize\": 2,\n          'dist_dir': 'fetcher_service'}})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 318, "user_id": 1693189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2uiz.jpg?s=128&g=1", "display_name": "Gustavo Gon&#231;alves", "link": "https://stackoverflow.com/users/1693189/gustavo-gon%c3%a7alves"}, "edited": false, "score": 0, "creation_date": 1519412769, "post_id": 37112575, "comment_id": 84915905, "body": "This was the right answer for me. When degu works, but start don&#39;t, this is the way to go. Should be the selected answer."}, {"owner": {"reputation": 1319, "user_id": 1407255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08fce3e4d45e776afcea1e451cf6b37?s=128&d=identicon&r=PG", "display_name": "flam3", "link": "https://stackoverflow.com/users/1407255/flam3"}, "edited": false, "score": 0, "creation_date": 1531302567, "post_id": 37112575, "comment_id": 89542044, "body": "Works for me too. If: a) &quot;python your_service.py debug&quot; works, whilst  b) &quot;python your_service.py install&quot; + start it as a service doesn&#39;t with error 1053, try &quot;python C:\\Python27\\Scripts\\pywin32_postinstall.py&quot;"}], "tags": [], "owner": {"reputation": 333, "user_id": 454195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a30723c3ee6848108ef9bd01a46effda?s=128&d=identicon&r=PG", "display_name": "osullivj", "link": "https://stackoverflow.com/users/454195/osullivj"}, "is_accepted": false, "score": 3, "last_activity_date": 1462787324, "creation_date": 1462787324, "answer_id": 37112575, "question_id": 37038466, "link": "https://stackoverflow.com/questions/37038466/python-service-fails-with-error-1053-but-works-with-debug-mode/37112575#37112575", "title": "Python service fails with error 1053 but works with debug mode", "body": "<p>This issue can be caused by a broken pywin32 install. Using Sys Internals excellent procmon I found that pythonservice.exe was failing to load pywintypes34.dll. Running c:\\python34\\scripts\\pywin32_postinstall.py fixed the problem. NB if you've installed pywin32 as pypiwin32 because you used pip, then you've need to fix the C:\\Python34\\Lib\\site-packages\\pypiwin32_system32\ndir to be C:\\Python34\\Lib\\site-packages\\pywin32_system32 for the script to work.</p>\n"}], "owner": {"reputation": 233, "user_id": 2096859, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6e091f1a6f32dd41d6ebd4be01f28530?s=128&d=identicon&r=PG&f=1", "display_name": "Vardens Archangel", "link": "https://stackoverflow.com/users/2096859/vardens-archangel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2383, "favorite_count": 0, "accepted_answer_id": 37038533, "answer_count": 3, "score": 0, "last_activity_date": 1462787324, "creation_date": 1462397717, "last_edit_date": 1462399302, "question_id": 37038466, "link": "https://stackoverflow.com/questions/37038466/python-service-fails-with-error-1053-but-works-with-debug-mode", "title": "Python service fails with error 1053 but works with debug mode", "body": "<p>I am trying to create Python service .exe from my code.\nI've stuck on running it.</p>\n\n<p>I have 2 important files: service code:</p>\n\n<pre><code>import win32serviceutil\nimport win32service\nimport win32event\nimport servicemanager\nimport socket\nimport time\nfrom mailbox.fetcher import main_fetching\nfrom disc.my_logger import set_up_logging\n\nlogging = set_up_logging(\"Fetcher\")\n\n\nclass FetcherSvc (win32serviceutil.ServiceFramework):\n    _svc_name_ = \"MailMan-FetchingService\"\n    _svc_display_name_ = \"MailMan FetchingService\"\n\n    def __init__(self,args):\n        win32serviceutil.ServiceFramework.__init__(self,args)\n        self.stop_event = win32event.CreateEvent(None,0,0,None)\n        socket.setdefaulttimeout(60)\n        self.stop_requested = False\n\n    def SvcStop(self):\n        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)\n        win32event.SetEvent(self.stop_event)\n        logging.info('Stopping fetching ...')\n        self.stop_requested = True\n\n    def SvcDoRun(self):\n        self.ReportServiceStatus(win32service.SERVICE_START_PENDING)\n        servicemanager.LogMsg(\n            servicemanager.EVENTLOG_INFORMATION_TYPE,\n            servicemanager.PYS_SERVICE_STARTED,\n            (self._svc_name_,'')\n        )\n        self.main()\n\n    def main(self):\n        logging.info(' ** Starting fetching mails service ** ')\n        self.ReportServiceStatus(win32service.SERVICE_RUNNING)\n        while not self.stop_requested:\n            main_fetching()\n</code></pre>\n\n<p>The py2exe setup code:</p>\n\n<pre><code>setup(console=[{\"script\": \"fetching_service.py\",\n                \"icon_resources\": [(1, \"../mailman.ico\")],\n                \"dest_base\": \"fetching_service\"}],\n      data_files=[('', ['../cacert.pem', '../trusted-certs.crt'])],\n      options={\"py2exe\": {\n          \"includes\": [\"win32serviceutil\", \"win32service\", \"win32event\"],\n          'bundle_files': 0, \"optimize\": 2,\n          'dist_dir': 'fetcher_service'}})\n</code></pre>\n\n<p>The service installs properly:</p>\n\n<pre><code>$ fetcher_service/fetching_service.exe --startup=delayed install\nInstalling service MailMan-FetchingService\nChanging service configuration\nService updated\n</code></pre>\n\n<p>But on starting:</p>\n\n<pre><code>$ fetcher_service/fetching_service.exe start\nStarting service MailMan-FetchingService\nError starting service: Us\u0142uga nie odpowiada na sygna\u0142 uruchomienia lub sygna\u0142 steruj\u0105cy w oczekiwanym czasie.\n</code></pre>\n\n<p>(Translating to english:  the service did not respond to the start or control request in a timely fashion)\nI've tries setting specific user, but it did not help...\nMoreover: error occures INSTANTLY after running, there is no delay</p>\n\n<p>Forgot to add: service works perfectly in debug mode.</p>\n"}, {"tags": ["python", "list", "file"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1462397762, "post_id": 37038419, "comment_id": 61626963, "body": "I&#39;m not clear on why the file-writing portion <code>for line in f:...</code> would be creating blank lines. If the input file doesn&#39;t have any lines that consist solely of <code>&#39;\\n&#39;</code>, none should appear in the output."}, {"owner": {"reputation": 1070, "user_id": 4611565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd88fff8452fa651234c79d26068cac?s=128&d=identicon&r=PG&f=1", "display_name": "manu190466", "link": "https://stackoverflow.com/users/4611565/manu190466"}, "edited": false, "score": 0, "creation_date": 1462398202, "post_id": 37038419, "comment_id": 61627154, "body": "Which problem do you want to solve : the write subroutine should&#39;nt write blank lines or the read subroutine should be able to deal with blank lines ?"}, {"owner": {"reputation": 137, "user_id": 4285171, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f5277042cf2635e78a5cb1347ac60aff?s=128&d=identicon&r=PG&f=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/4285171/johny"}, "edited": false, "score": 0, "creation_date": 1462398353, "post_id": 37038419, "comment_id": 61627224, "body": "I&#39;ve had to populated the file with <code>fullName = forename + &quot;;&quot; + surname + &quot;;&quot; + email + &quot;;&quot; + phone + &quot;;&quot; + division + &quot;;&quot; + points + &quot;\\n&quot;</code> because without it adding two player in a row will juxtapose them, not add them on a separate line."}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1462398320, "post_id": 37038581, "comment_id": 61627212, "body": "<code>and line.strip()</code> is a popular idiom to use here."}], "tags": [], "owner": {"reputation": 639, "user_id": 5776361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a8e035811e47496a83b9920b45e1fbc?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/5776361/christian"}, "is_accepted": true, "score": 1, "last_activity_date": 1462398206, "creation_date": 1462398206, "answer_id": 37038581, "question_id": 37038419, "link": "https://stackoverflow.com/questions/37038419/check-for-empty-lines-and-remove-them-move-the-lines-below-it-up/37038581#37038581", "title": "Check for empty lines and remove them/move the lines below it up", "body": "<p>If you've modified and possibly cleared a line, you should just check if the line is empty before writing it:</p>\n\n<pre><code>def writeToFile():\n    ...\n    for line in f:\n        if line != originalInfo and line != \"\\n\" # or whatever you're using for an empty line\n             t.write(line)\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 675, "user_id": 3461734, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YkaA-W2CW_Y/AAAAAAAAAAI/AAAAAAAAAIM/3YpNnmUqk60/photo.jpg?sz=128", "display_name": "ar-ms", "link": "https://stackoverflow.com/users/3461734/ar-ms"}, "is_accepted": false, "score": 0, "last_activity_date": 1462398672, "creation_date": 1462398672, "answer_id": 37038692, "question_id": 37038419, "link": "https://stackoverflow.com/questions/37038419/check-for-empty-lines-and-remove-them-move-the-lines-below-it-up/37038692#37038692", "title": "Check for empty lines and remove them/move the lines below it up", "body": "<p>Your file is formated like a CSV file, so what about using csv module offered by Python, look at the exemple below:</p>\n\n<pre><code>import csv\n\ndef showEmail():\n    with open(\"player.txt\",\"r\") as f:\n        csvFile = csv.reader(f, delimiter=';')\n        for line in csvFile:\n            if line:\n                print(\"Name: {} {}\".format(line[0], line[1]))\n                print(\"Email address: {}\".format(line[2]))\n                print(\"\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2689, "user_id": 3321542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5cbc7c6f559f16cab0484b9dab46352?s=128&d=identicon&r=PG", "display_name": "Sudipta Basak", "link": "https://stackoverflow.com/users/3321542/sudipta-basak"}, "is_accepted": false, "score": 0, "last_activity_date": 1462398782, "creation_date": 1462398782, "answer_id": 37038724, "question_id": 37038419, "link": "https://stackoverflow.com/questions/37038419/check-for-empty-lines-and-remove-them-move-the-lines-below-it-up/37038724#37038724", "title": "Check for empty lines and remove them/move the lines below it up", "body": "<p>I like this better:</p>\n\n<pre><code>with open(file) as f_in:\n    return filter(None, (line.rstrip() for line in f_in))\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 4285171, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f5277042cf2635e78a5cb1347ac60aff?s=128&d=identicon&r=PG&f=1", "display_name": "Johny", "link": "https://stackoverflow.com/users/4285171/johny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 37038581, "answer_count": 3, "score": -1, "last_activity_date": 1462398782, "creation_date": 1462397544, "question_id": 37038419, "link": "https://stackoverflow.com/questions/37038419/check-for-empty-lines-and-remove-them-move-the-lines-below-it-up", "title": "Check for empty lines and remove them/move the lines below it up", "body": "<p>I have been looking for a solution to a problem I have for a while now, but to no avail. </p>\n\n<p>I have the following function:</p>\n\n<pre><code>def showEmail():\n    f = open(\"players.txt\",\"r\") \n    for line in f:\n        lineList = line.split(\";\") \n        print \"Name: \" + lineList[0] + \" \" + lineList[1]\n        print \"Email address: \" + lineList[2]\n        print \"\"\n    f.close()\n</code></pre>\n\n<p>My file has text as shown:</p>\n\n<pre><code>Sam;Tyler;s.tyler@gmail.com;0710503687;6;0\nPeter;Bond;p.bond@gmail.com;0798415758;6;0\nJoe;Blogg;j.bloggs@gmail.com;0749814574;1;60\n</code></pre>\n\n<p>The issue arises when an empty line inevitably appears in my file (when modifying a line, the program will create a new line similar to the one modified and change the value of that line. It then deletes the original line, and copies the new one, thus the empty line, and copies it all to a new document). This is done as shown. :</p>\n\n<pre><code>def writeToFile(): #function to write all new (modified) lines from players to a temps file, deletes players and rename temps to 'players'\n    f = open(\"players.txt\",'r') # Input file\n    t = open(\"temp.txt\", 'w') #Temp output file\n\n    for line in f:\n        if line != originalInfo: #doesn't write the line that is the same as the original info\n            t.write(line) #writes all lines apart from the original line (one that needs to be deleted)\n\n    f.close()\n    t.close()\n    os.remove(\"players.txt\") #deletes players\n    os.rename('temp.txt', 'players.txt') #new file with modified info is renamed to players\n</code></pre>\n\n<p>If the file contains the following, the program will tell me that the list index is out of bound, which makes sense because it considers the empty line as a list.</p>\n\n<pre><code>Sam;Tyler;s.tyler@gmail.com;0710503687;6;0\nPeter;Bond;p.bond@gmail.com;0798415758;6;0\n\nJoe;Blogg;j.bloggs@gmail.com;0749814574;1;60\n</code></pre>\n\n<p>How can I remedy to this issue? Thank you!</p>\n"}, {"tags": ["python", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "edited": false, "score": 0, "creation_date": 1462572385, "post_id": 37040571, "comment_id": 61708911, "body": "There is a &#39; missing after vect__transformer_list. Even after fixing it, I get:     &#39;vect__transformer_list&#39;: [[(&#39;wordvec&#39;:wordvec)],                                           ^ SyntaxError: invalid syntax"}, {"owner": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "edited": false, "score": 0, "creation_date": 1462998587, "post_id": 37040571, "comment_id": 61880017, "body": "The documentation on transformer_list is quite sparse, I do not understand how to fix/adjust your code on scikit learn 0.17.1"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "edited": false, "score": 0, "creation_date": 1463009406, "post_id": 37040571, "comment_id": 61884389, "body": "sorry there were a lot of weird typos in my answer, i&#39;ve fixed it up, does it work now?"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "edited": false, "score": 0, "creation_date": 1463009465, "post_id": 37040571, "comment_id": 61884403, "body": "there&#39;s nothing mysterious about transformser_list, it&#39;s just overriding the main argument of the FeatureUnion"}, {"owner": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "edited": false, "score": 0, "creation_date": 1463068022, "post_id": 37040571, "comment_id": 61916021, "body": "I made changes to the code to give a complete example. It only works if I also comment out all featureunion parameters, but with the parameters I get: ValueError: Invalid parameter wordvect for estimator FeatureUnion(n_jobs=1,        transformer_list=[(&#39;lettervect&#39;, [...] Check the list of available parameters with <code>estimator.get_params().keys()</code>."}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "edited": false, "score": 0, "creation_date": 1463093462, "post_id": 37040571, "comment_id": 61929814, "body": "ah ok, do you see what was going wroing?  i&#39;ve rewritten using transformer weights, it&#39;s working now, and is a cleaner solution anyway."}, {"owner": {"reputation": 93, "user_id": 3342134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c042e019a4452186c5668c5d55138a?s=128&d=identicon&r=PG&f=1", "display_name": "felix", "link": "https://stackoverflow.com/users/3342134/felix"}, "edited": false, "score": 0, "creation_date": 1485533086, "post_id": 37040571, "comment_id": 70978653, "body": "@maxymoo Your post helped me quite a bit in solving something similar, but I had a little snag I suppose I ought to mention: I were getting errors about &#39;list&#39; not having a field &#39;get&#39;, and from reading docs figured out it should be using structs instead.<code>&#39;vect__transformer_weights&#39;: [{&quot;lettervect&quot;:1,&quot;wordvect&quot;:0}, {&quot;lettervect&quot;:0,&quot;wordvect&quot;:1}, {&quot;lettervect&quot;:1,&quot;wordvect&quot;:1}]</code>"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": true, "score": 3, "last_activity_date": 1485729393, "last_edit_date": 1485729393, "creation_date": 1462409857, "answer_id": 37040571, "question_id": 37038394, "link": "https://stackoverflow.com/questions/37038394/scikit-learn-featureunion-gridsearch-over-subsets-of-features/37040571#37040571", "title": "scikit-learn FeatureUnion gridsearch over subsets of features", "body": "<p>The <code>FeatureUnion</code> has a parameter called <code>transformer_list</code> that you could use to grid-search over; so in your case your grid search parameters would become</p>\n\n<pre><code>parameters = {'vect__wordvect__ngram_range': [(1, 1), (1, 2)],\n              'vect__lettervect__lowercase': [True, False],\n              'vect__transformer_weights': [{\"lettervect\":1,\"wordvect\":0}, \n                                            {\"lettervect\":0,\"wordvect\":1}, \n                                            {\"lettervect\":1,\"wordvect\":1}]}\n</code></pre>\n"}], "owner": {"reputation": 1660, "user_id": 3229995, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/G33rQ.png?s=128&g=1", "display_name": "tkja", "link": "https://stackoverflow.com/users/3229995/tkja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1717, "favorite_count": 2, "accepted_answer_id": 37040571, "answer_count": 1, "score": 5, "last_activity_date": 1485729393, "creation_date": 1462397440, "last_edit_date": 1463067966, "question_id": 37038394, "link": "https://stackoverflow.com/questions/37038394/scikit-learn-featureunion-gridsearch-over-subsets-of-features", "title": "scikit-learn FeatureUnion gridsearch over subsets of features", "body": "<p>How can I use a FeatureUnion in scikit learn, so that the Gridsearch can treat its parts optionally? </p>\n\n<p>The code below works and sets up a FeatureUnion with a TfidfVectorizer for words and a TfidfVectorizer for chars. </p>\n\n<p>When doing a Gridsearch, in addition to testing the defined parameter space, I would also like to test only 'vect__wordvect' with its ngram_range parameter (without there being a TfidfVectorizer for the chars), and also only 'vect__lettervect' with the lowercase parameter True and False, the other TfidfVectorizer being disabled. </p>\n\n<p>EDIT: Complete code example based on maxymoo suggestion.</p>\n\n<p>How can this be done?</p>\n\n<pre><code>from sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.pipeline import Pipeline, FeatureUnion\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.grid_search import GridSearchCV\nfrom sklearn.datasets import fetch_20newsgroups\n\n# setup the featureunion\nwordvect = TfidfVectorizer(analyzer='word')\nlettervect = CountVectorizer(analyzer='char')\nfeatureunionvect = FeatureUnion([(\"lettervect\", lettervect), (\"wordvect\", wordvect)])\n\n# setup the pipeline\nclassifier = LogisticRegression(class_weight='balanced')\npipeline = Pipeline([('vect', featureunionvect), ('classifier', classifier)])\n\n# gridsearch parameters \nparameters = {\n            'vect__wordvect__ngram_range': [(1, 1), (1, 2)],  # commenting out these two lines\n            'vect__lettervect__lowercase': [True, False],     # runs, but there is no parameterization anymore\n            'vect__transformer_list': [[('wordvect', wordvect)],\n                                        [('lettervect', lettervect)],\n                                        [('wordvect', wordvect), ('lettervect', lettervect)]]}\ngs_clf = GridSearchCV(pipeline, parameters)\n\n# data\nnewsgroups_train = fetch_20newsgroups(subset='train', categories=['alt.atheism', 'sci.space'])\n\n# gridsearch CV\ngs_clf = GridSearchCV(pipeline, parameters)\ngs_clf = gs_clf.fit(newsgroups_train.data, newsgroups_train.target)\nfor score in gs_clf.grid_scores_:\n    print \"gridsearch scores: \", score\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1462397187, "post_id": 37038306, "comment_id": 61626674, "body": "It&#39;s impossible. You need a list of TLDs."}, {"owner": {"reputation": 51, "user_id": 6221712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bfb211b85dd3cc381d7cb375b951f01?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Burton", "link": "https://stackoverflow.com/users/6221712/jack-burton"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1462397336, "post_id": 37038306, "comment_id": 61626753, "body": "@CasimiretHippolyte Not quite sure if you read my entire question, but I just said my way works. It&#39;s just cumbersome."}, {"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "edited": false, "score": 0, "creation_date": 1462397397, "post_id": 37038306, "comment_id": 61626785, "body": "While are you doing this without importing a third-party module? How do you want to handle <code>example.co.uk</code>? What do you expect to get for the samples you provide? Currently, <code>len(tlds) == 6</code>."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1462397693, "post_id": 37038306, "comment_id": 61626936, "body": "If you only want the last part after the last dot, split by dot and take the last item, like this: <code>domain.split(&#39;.&#39;)[-1]</code>"}, {"owner": {"reputation": 51, "user_id": 6221712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bfb211b85dd3cc381d7cb375b951f01?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Burton", "link": "https://stackoverflow.com/users/6221712/jack-burton"}, "reply_to_user": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "edited": false, "score": 0, "creation_date": 1462398063, "post_id": 37038306, "comment_id": 61627096, "body": "@phihag This is a script that may be executed by individuals that don&#39;t have access to third party modules so I&#39;m trying to keep it to the standard library."}, {"owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "edited": false, "score": 0, "creation_date": 1462398228, "post_id": 37038306, "comment_id": 61627172, "body": "@JackBurton Why not save the third party library in a <code>vendor</code> folder, and include it with your script?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 6221712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bfb211b85dd3cc381d7cb375b951f01?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Burton", "link": "https://stackoverflow.com/users/6221712/jack-burton"}, "edited": false, "score": 0, "creation_date": 1462398483, "post_id": 37038563, "comment_id": 61627292, "body": "In your example: <code>google.co.uk</code> the TLD is <code>.uk</code> not <code>co.uk</code>   The final text string after the final dot is the TLD country code. Whatever precedes it is not the TLD.   <a href=\"https://en.wikipedia.org/wiki/.uk\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/.uk</a>"}], "tags": [], "owner": {"reputation": 22436, "user_id": 1954610, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/27d84db27dd0528916e8cd6954bdd328?s=128&d=identicon&r=PG", "display_name": "Tom Lord", "link": "https://stackoverflow.com/users/1954610/tom-lord"}, "is_accepted": false, "score": 1, "last_activity_date": 1462398141, "creation_date": 1462398141, "answer_id": 37038563, "question_id": 37038306, "link": "https://stackoverflow.com/questions/37038306/isolate-tld-from-fqdn-using-regex/37038563#37038563", "title": "Isolate TLD from FQDN using regex", "body": "<p>The \"quick fix\" is either to take the last item in each array:</p>\n\n<pre><code>split('.', domain)[-1]\n</code></pre>\n\n<p>Or, if you really don't care about the first matches, then don't capture them at all:</p>\n\n<pre><code>re.find('\\.[a-z0-9]+$', domain, re.I)\n</code></pre>\n\n<p>(Note the use of <code>$</code> to match the end of string.)</p>\n\n<p>HOWEVER, note that it's impossible to solve this problem properly with regex. For example, how can you know that the TLD for <code>google.co.uk</code> is <code>co.uk</code>, and not just <code>uk</code>?</p>\n\n<p>The only full solution to this problem, unfortunately, is by using a library that implements the <a href=\"https://publicsuffix.org/\" rel=\"nofollow\">public suffix list</a> - which is basically just a very long (manually updated) list of all TLDs. For example, in python: <a href=\"https://pypi.python.org/pypi/publicsuffix/\" rel=\"nofollow\">https://pypi.python.org/pypi/publicsuffix/</a></p>\n"}], "owner": {"reputation": 51, "user_id": 6221712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bfb211b85dd3cc381d7cb375b951f01?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Burton", "link": "https://stackoverflow.com/users/6221712/jack-burton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462398141, "creation_date": 1462397119, "question_id": 37038306, "link": "https://stackoverflow.com/questions/37038306/isolate-tld-from-fqdn-using-regex", "title": "Isolate TLD from FQDN using regex", "body": "<p>I am attempting to isolate TLDs utilizing regex from giant lists of FQDNs without importing 3rd party modules and am attempting to determine if there is a more eloquent way of doing this. My way works but is a bit cumbersome for my liking.</p>\n\n<p>Sample code:</p>\n\n<pre><code>domains = ['x.sample1.com', 'y.sample2.org', 'z.sample3.biz']\ntemp = []\nfor domain in domains:\n    temp.append(re.findall('\\.[a-z0-9]+', domain, re.I)\ntlds = []\nfor item in temp:\n    for tld in item:\n        tlds.append(tld)\n</code></pre>\n\n<p>It is inconvenient how the return of the re.findall is a list object as it makes the iterating process an entire level deeper than desired but am unsure of how to get around this.</p>\n"}, {"tags": ["python", "opencv", "numpy", "scipy", "scikit-image"], "comments": [{"owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "edited": false, "score": 0, "creation_date": 1462398223, "post_id": 37038260, "comment_id": 61627166, "body": "Nice problem. Thought you could solve it with contour hierarchy from OpenCV as desribed here <a href=\"http://docs.opencv.org/3.1.0/d9/d8b/tutorial_py_contours_hierarchy.html#gsc.tab=0\" rel=\"nofollow noreferrer\">docs.opencv.org/3.1.0/d9/d8b/&hellip;</a> but this does not work since the critical contour is no true child. You can quickly see that this does not work using the sample file at <a href=\"https://github.com/Itseez/opencv/blob/master/samples/python/contours.py\" rel=\"nofollow noreferrer\">github.com/Itseez/opencv/blob/master/samples/python/contours&zwnj;&#8203;.py</a>"}, {"owner": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "reply_to_user": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "edited": false, "score": 0, "creation_date": 1462398386, "post_id": 37038260, "comment_id": 61627247, "body": "Thanks, @tfv! Negative result is also a result..."}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1462412159, "post_id": 37038260, "comment_id": 61631289, "body": "I&#39;d say the image you give does not allow to make the decision you are looking for. There is a boundary (that needs to be removed if the algorithm is expected to get you what you want), that when you cross it and then cross another, you are still in the inside of a hole, which would not make sense for all the normal cases."}, {"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1462429245, "post_id": 37038260, "comment_id": 61636093, "body": "So you want to count the number of boundaries you cross moving from a point to the edge of the image"}, {"owner": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "reply_to_user": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1462436428, "post_id": 37038260, "comment_id": 61639703, "body": "@roadrunner66, yeah, that&#39;s why I called it a tricky problem. If it was easy I wouldn&#39;t have posted this question."}, {"owner": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "reply_to_user": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1462436485, "post_id": 37038260, "comment_id": 61639734, "body": "@ev-br the problem is this number would be different depending on in which direction you choose to count."}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1462464555, "post_id": 37038260, "comment_id": 61657500, "body": "What&#39;s the application, if I may ask? I don&#39;t see the case for the 2nd interpretation (picture) vs the first."}, {"owner": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "reply_to_user": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1462467572, "post_id": 37038260, "comment_id": 61659288, "body": "@roadrunner66 Manually selected tumors on immunohistochemistry images. It happens that the scorer first selects the whole tumor and then a part of it as a non-tumor. And in this case the non-tumor part touched the edge of the tumor, and I don&#39;t exclude the possibility that this can happen in the future, so would like to have this case covered in my script."}, {"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 1, "creation_date": 1462469873, "post_id": 37038260, "comment_id": 61660588, "body": "@Phlya but the parity will be the same: either both even or both odd"}, {"owner": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "reply_to_user": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1462472972, "post_id": 37038260, "comment_id": 61662481, "body": "@ev-br ok, it makes sense, but how would you go about implementing it?"}, {"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1462475031, "post_id": 37038260, "comment_id": 61663571, "body": "@Phlya Now that the question evolved into a &#39;gimme the codez&#39;, I suddenly lost interest"}, {"owner": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "reply_to_user": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1462475201, "post_id": 37038260, "comment_id": 61663658, "body": "@ev-br Um, sorry, I honestly have no idea how to approach this. I haven&#39;t seen any functions in scikit-image or scipy that could help (maybe I missed it?). I&#39;m not asking for code, but rather an algorithm?.."}], "answers": [{"comments": [{"owner": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "edited": false, "score": 0, "creation_date": 1462522355, "post_id": 37065542, "comment_id": 61680309, "body": "thank you! Seems like you managed to do exactly what I need! (Just the contours do need to be a part of the regions, that&#39; quite important) I&#39;ll check it in more detail later and will probably accept your answer."}, {"owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "reply_to_user": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "edited": false, "score": 1, "creation_date": 1462560924, "post_id": 37065542, "comment_id": 61703905, "body": "I have included three marked lines to do that and changed the final image accordingly."}], "tags": [], "owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "is_accepted": true, "score": 4, "last_activity_date": 1462560885, "last_edit_date": 1462560885, "creation_date": 1462515273, "answer_id": 37065542, "question_id": 37038260, "link": "https://stackoverflow.com/questions/37038260/tricky-filling-holes-in-an-image/37065542#37065542", "title": "Tricky filling holes in an image", "body": "<p>I think I have found a solution. It is a little bit lengthy since I ran out of time, but maybe it helps. I have coded if for this problem only, but it should be easy to generalize it for many images.</p>\n\n<p>Some naming conventions first:</p>\n\n<ul>\n<li>I define \"first level regions\" as compact regions which are enclosed by the backround. Such first level regions may consist of different subregions.</li>\n<li>A first level region which consists of more than one subregion is called a critical region.</li>\n</ul>\n\n<p>My basic idea is to compare the lengths of the contours of two subregions which are part of one critical region. However, <strong>I do not compare their complete contour length, but only the segment which is close to the background</strong>. The one with the shorter contour segment close to the background is considered a hole.</p>\n\n<p>I'll start with the result images first. </p>\n\n<p>Some overview of what we are talking about, vizualizing the naming conventions above:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DLwtM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DLwtM.png\" alt=\"enter image description here\"></a></p>\n\n<p>The two subregions of the critical region. The two border segments of each of the regions which are close to the background are marked in different colours (very thin, blue and dark red, but visible). These segments are obviously not perfect (\"thin\" areas cause errors), but sufficient to compare their length:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9QfrG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9QfrG.png\" alt=\"enter image description here\"></a></p>\n\n<p>The final result. In case that you want to have the hole \"closed\", let me know, you just have to assign the original black contours to the regions instead of to the background ([EDIT] I have included three marked lines of code which assign the borders to the regions, as you wished):</p>\n\n<p><a href=\"https://i.stack.imgur.com/aBSVN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aBSVN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code is attached here. I have used the OpenCV contour function which is pretty straigthforward, and some masking techniques. The code is legthy due to its visualizations, sorry for its limited readability, but there seems to be no two line solution to this problem.</p>\n\n<p>Some final remarks: I first tried to do a matching of contours using sets of points, which would avoid loops and allow the use of set.intersection to determine the two contour segments close to the background, but since your black lines are rather thick, the contours are sligthly mismatched.  I tried skeletonization of contours, but that opened another can of worms, so I worked with a dump approach doing a loop and calculation distance between contour points. There may be a nicer way to do that part, but it works.</p>\n\n<p>I also considered using the <a href=\"https://pypi.python.org/pypi/Shapely\" rel=\"nofollow noreferrer\" title=\"Shapely\">Shapely</a> module, there might be ways gaining some advantage from it, but I did not find any, so I dropped it again.</p>\n\n<pre><code>import numpy as np\nimport scipy.ndimage as ndimage\nfrom matplotlib import pyplot as plt\nimport cv2\n\n\nimg= ndimage.imread('image.png')\n\n# Label digfferentz original regions\nlabels, n_regions = ndimage.label(img) \nprint \"Original number of regions found: \", n_regions\n# count the number of pixels in each region\nulabels, sizes = np.unique(labels, return_counts=True)\nprint sizes\n\n# Delete all regions with size &lt; 2 and relabel\nmask_size = sizes &lt; 2\nremove_pixel = mask_size[labels]\nlabels[remove_pixel] = 0\nlabels, n_regions = ndimage.label(labels) #,s)\nprint \"Number of regions found (region size &gt;1): \", n_regions\n# count the number of pixels in each region\nulabels, sizes = np.unique(labels, return_counts=True)\nprint ulabels\nprint sizes\n\n\n# Determine large \"first level\" regions\nfirst_level_regions=np.where(labels ==1, 0, 1)\nlabeled_first_level_regions, n_fl_regions = ndimage.label(first_level_regions)\nprint \"Number of first level regions found: \", n_fl_regions\n\n\n# Plot regions and first level regions\nfig = plt.figure()\na=fig.add_subplot(2,3,1)\na.set_title('All regions')\nplt.imshow(labels, cmap='Paired', vmin=0, vmax=n_regions)\nplt.xticks([]), plt.yticks([]), plt.colorbar()\na=fig.add_subplot(2,3,2)\na.set_title('First level regions')\nplt.imshow(labeled_first_level_regions,  cmap='Paired', vmin=0, vmax=n_fl_regions)\nplt.xticks([]), plt.yticks([]), plt.colorbar()\n\n\nfor region_label in range(1,n_fl_regions):\n    mask= labeled_first_level_regions!=region_label\n    result = np.copy(labels)\n    result[mask]=0    \n    subregions = np.unique(result).tolist()[1:]\n    print region_label, \": \", subregions\n\n    if len(subregions) &gt;1:\n        print \"   Element 4 is a critical element: \",  region_label\n        print \"   Subregions: \", subregions\n\n        #Critical first level region\n        crit_first_level_region=np.ones(labels.shape)\n        crit_first_level_region[mask]=0\n\n        a=fig.add_subplot(2,3,4)\n        a.set_title('Crit. first level region')\n        plt.imshow(crit_first_level_region, cmap='Paired', vmin=0, vmax=n_regions)\n        plt.xticks([]), plt.yticks([])\n\n        #Critical Region Contour\n        im = np.array(crit_first_level_region * 255, dtype = np.uint8)\n        _, contours0, hierarchy = cv2.findContours( im.copy(), cv2.RETR_TREE, cv2.CHAIN_APPROX_NONE)\n        crit_reg_contour = [contours0[0].flatten().tolist()[i:i+2] for i in range(0, len(contours0[0].flatten().tolist()), 2)]\n        print crit_reg_contour\n        print len(crit_reg_contour)\n\n\n\n        #First Subregion\n        mask2= labels!=subregions[1] \n        first_subreg=np.ones(labels.shape)\n        first_subreg[mask2]=0\n\n        a=fig.add_subplot(2,3,5)\n        a.set_title('First subregion: '+str(subregions[0]))\n        plt.imshow(first_subreg, cmap='Paired', vmin=0, vmax=n_regions)\n        plt.xticks([]), plt.yticks([])        \n\n        #First Subregion Contour\n        im = np.array(first_subreg * 255, dtype = np.uint8)\n        _, contours0, hierarchy = cv2.findContours( im.copy(), cv2.RETR_TREE, cv2.CHAIN_APPROX_NONE)\n        first_sub_contour = [contours0[0].flatten().tolist()[i:i+2] for i in range(0, len(contours0[0].flatten().tolist()), 2)]\n        print first_sub_contour\n        print len(first_sub_contour)\n\n\n\n\n        #Second Subregion\n        mask3= labels!=subregions[0]\n        second_subreg=np.ones(labels.shape)\n        second_subreg[mask3]=0\n\n        a=fig.add_subplot(2,3,6)\n        a.set_title('Second subregion: '+str(subregions[1]))\n        plt.imshow(second_subreg, cmap='Paired', vmin=0, vmax=n_regions)\n        plt.xticks([]), plt.yticks([])      \n\n        #Second Subregion Contour\n        im = np.array(second_subreg * 255, dtype = np.uint8)\n        _, contours0, hierarchy = cv2.findContours( im.copy(), cv2.RETR_TREE, cv2.CHAIN_APPROX_NONE)\n        second_sub_contour = [contours0[0].flatten().tolist()[i:i+2] for i in range(0, len(contours0[0].flatten().tolist()), 2)]\n        print second_sub_contour\n        print len(second_sub_contour)   \n\n\n        maxdist=6\n        print \"Points in first subregion close to first level contour:\"\n        close_1=[]\n        for p1 in first_sub_contour:\n            for p2 in crit_reg_contour:\n                if (abs(p1[0]-p2[0])+abs(p1[1]-p2[1]))&lt;maxdist:\n                    close_1.append(p1)\n                    break\n\n        print close_1\n        print len(close_1)\n\n        print \"Points in second subregion close to first level contour:\"\n        close_2=[]\n        for p1 in second_sub_contour:\n            for p2 in crit_reg_contour:\n                if (abs(p1[0]-p2[0])+abs(p1[1]-p2[1]))&lt;maxdist:\n                    close_2.append(p1)\n                    break\n\n        print close_2\n        print len(close_2)      \n\n\n        for p in close_1:\n            result[p[1],p[0]]=1\n\n        for p in close_2:\n            result[p[1],p[0]]=2\n\n\n        if len(close_1)&gt;len(close_2):\n            print \"first subregion is considered a hole:\", subregions[0]\n            hole=subregions[0]\n        else:            \n            print \"second subregion is considered a hole:\", subregions[1]\n            hole=subregions[1]\n\n\n        #Plot Critical region with subregions\n        a=fig.add_subplot(2,3,3)\n        a.set_title('Critical first level region with subregions')\n        plt.imshow(result, cmap='Paired', vmin=0, vmax=n_regions)\n        plt.xticks([]), plt.yticks([])\n\n        result2=result.copy()\n\n\n#Plot result\nfig2 = plt.figure()\na=fig2.add_subplot(1,1,1)\na.set_title('Critical first level region with subregions and bordering contour segments')\nplt.imshow(result2, cmap='flag', vmin=0, vmax=n_regions)\nplt.xticks([]), plt.yticks([])\n\n\n#Plot result\nmask_hole=np.where(labels ==hole, True, False)\nlabels[mask_hole]=1\nlabels=np.where(labels &gt; 1, 2, 1)\n\n# [Edit] Next two lines include black borders into final result\nmask_borders=np.where(img ==0, True, False)\nlabels[mask_borders]=2\n\n\nfig3 = plt.figure()\na=fig3.add_subplot(1,1,1)\na.set_title('Final result')\nplt.imshow(labels, cmap='flag', vmin=0, vmax=n_regions)\nplt.xticks([]), plt.yticks([])\n\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 4536, "user_id": 1304161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0eUCF.png?s=128&g=1", "display_name": "Phlya", "link": "https://stackoverflow.com/users/1304161/phlya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1862, "favorite_count": 1, "accepted_answer_id": 37065542, "answer_count": 1, "score": 6, "last_activity_date": 1462560885, "creation_date": 1462396926, "last_edit_date": 1462517914, "question_id": 37038260, "link": "https://stackoverflow.com/questions/37038260/tricky-filling-holes-in-an-image", "title": "Tricky filling holes in an image", "body": "<p>I need to fill holes in images using python.\nThis is the image with objects that I managed to get - they are really edges of objects I want, so I need to fill them.\n<a href=\"https://i.stack.imgur.com/IpauJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IpauJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>It seemed very straightforward using <code>ndimage.binary_fill_holes(A)</code>, but the problem is that it produces this (manually filled with red colour):</p>\n\n<p><a href=\"https://i.stack.imgur.com/koNd2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/koNd2.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I need this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kO9x0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kO9x0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any way this can be solved?</p>\n\n<p>This is the first image without the axes if you want to give it a try: <a href=\"https://i.stack.imgur.com/9JiQB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9JiQB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "numpy", "neural-network", "backpropagation"], "answers": [{"tags": [], "owner": {"reputation": 9554, "user_id": 4794308, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a25aee790dd8743107c266f2c3d8850c?s=128&d=identicon&r=PG&f=1", "display_name": "Lifu Huang", "link": "https://stackoverflow.com/users/4794308/lifu-huang"}, "is_accepted": false, "score": 0, "last_activity_date": 1462686456, "creation_date": 1462686456, "answer_id": 37096660, "question_id": 37038239, "link": "https://stackoverflow.com/questions/37038239/neural-network-fails-on-mnist/37096660#37096660", "title": "Neural Network fails on mnist", "body": "<p>I guess you might want to add a softmax layer with cross-entropy error.\nTanh will output negative value when input is negative, it is clearly not what you want for the output layer since probability should be within range [0, 1].</p>\n\n<p><a href=\"https://github.com/lifuhuang/dimsum\" rel=\"nofollow\">This</a> is a toy feed forward NN I implemented, which might be helpful for you.</p>\n"}], "owner": {"reputation": 711, "user_id": 5736438, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ba716b39bf6f76b0ffa3c6049b024ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter234", "link": "https://stackoverflow.com/users/5736438/peter234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1462686456, "creation_date": 1462396835, "last_edit_date": 1462397523, "question_id": 37038239, "link": "https://stackoverflow.com/questions/37038239/neural-network-fails-on-mnist", "title": "Neural Network fails on mnist", "body": "<p>I coded a neural network in python to solve the mnist task.\nBut the error rate changes really little (6th digit after comma) after one epoch and the network hasn't learnd much after 10000 epochs...\nCan you help me what I've done wrong and how to improve my code to solve mnist?\nI set learning rate eta to 0.05.</p>\n\n<pre><code>import numpy as np\nimport pickle\nimport time\n\nclass FeedForwardNetwork():\n\n    def __init__(self, input_dim, hidden_dim, output_dim):\n        self.input_dim = input_dim\n        self.hidden_dim = hidden_dim\n        self.output_dim = output_dim\n        self.input_layer = np.array([])\n        self.hidden_layer = np.array([])\n        self.output_layer = np.array([])\n        self.weights_input_hidden = (2 * np.random.random((input_dim, hidden_dim)) - 1)/1000\n        self.weights_hidden_output = (2* np.random.random((hidden_dim, output_dim)) - 1)/1000\n\n        self.validation_data = np.array([])\n        self.validation_data_solution = np.array([])\n\n    def _tanh(self, x, deriv=False):\n        if not deriv:\n            return np.tanh(x)\n        return 1-np.tanh(x)**2\n\n    def _softmax(self, x):\n        return np.exp(x) / np.sum(np.exp(x), axis=0)\n\n    def set_training_data(self, training_data_input, training_data_target):\n        \"\"\"Splits the data up into training and validation data with a ratio of 0.75/0.25 and sets the data for training.\"\"\"\n        if len(training_data_input) != len(training_data_target):\n            raise Exception(\"Number of training examples and training targets does not match!\")\n        len_training_data = int((len(training_data_input)/100*75)//1)\n        self.input_layer = training_data_input[:len_training_data]\n        self.output_layer = training_data_target[:len_training_data]\n        self.validation_data = np.array([training_data_input[len_training_data:]])\n        self.validation_data_solution = np.array([training_data_target[len_training_data:]])\n\n    def save(self, filename):\n        \"\"\"Saves the weights into a pickle file.\"\"\"\n        with open(filename, \"wb\") as network_file:\n            pickle.dump(self.weights_input_hidden, network_file)\n            pickle.dump(self.weights_hidden_output, network_file)\n\n    def load(self, filename):\n        \"\"\"Loads network weights from a pickle file.\"\"\"\n        with open(filename, \"rb\") as network_file:\n            weights_input_hidden = pickle.load(network_file)\n            weights_hidden_output = pickle.load(network_file)\n\n        if len(weights_input_hidden) != len(self.weights_input_hidden):\n            raise Exception(\"File contains weights that does not match the current networks size!\")\n        if len(weights_hidden_output) != len(self.weights_hidden_output):\n            raise Exception(\"File contains weights that does not match the current networks size!\")\n\n        self.weights_input_hidden = weights_input_hidden\n        self.weights_hidden_output = weights_hidden_output\n\n    def measure_error(self, input_data, output_data):\n        return 1/2 * np.sum((output_data - self.activate(input_data))**2)\n\n    def forward_propagate(self, input_data):\n        \"\"\"Proceds the input data from input neurons up to output neurons and returns the output layer\"\"\"\n        input_layer = input_data\n        self.hidden_layer = self.__tanh(np.dot(input_layer, self.weights_input_hidden))\n        output_layer = self.__tanh(np.dot(self.hidden_layer, self.weights_hidden_output))\n        return output_layer\n\n    def activate(self, input_data):\n        \"\"\"Sends the given input through the net and returns the net's prediction.\"\"\"\n        return self.forward_propagate(input_data)\n\n    def back_propagate(self, input_data, output_data, eta):\n        \"\"\"Calculates the difference between target output and output and adjust the weights to fit the target output better.\n           The parameter eta is the learning rate.\"\"\"\n        num_of_samples = len(input_data)\n        output_layer = self.forward_propagate(input_data)\n        output_layer_error = output_data - output_layer\n        output_layer_delta = output_layer_error * self.__tanh(output_layer, deriv=True)\n        #How much did each hidden neuron contribute to the output error?\n        #Multiplys delta term with weights\n        hidden_layer_error = output_layer_delta.dot(self.weights_hidden_output.T)\n\n        #If the prediction is good, the second term will be small and the change will be small\n        #Ex: target: 1 -&gt; Slope will be 1 so the second term will be big\n        hidden_layer_delta = hidden_layer_error * self.__tanh(self.hidden_layer, deriv=True)\n        #The both lines return a matrix. A row stands for all weights connected to one neuron.\n        #E.g. [1, 2, 3] -&gt; Weights to Neuron A\n        #     [4, 5, 6] -&gt; Weights to Neuron B\n        hidden_weights_change = self.input_layer.T.dot(hidden_layer_delta)/num_of_samples\n        output_weights_change = self.hidden_layer.T.dot(output_layer_delta)/num_of_samples\n\n        self.weights_hidden_output += (output_weights_change * eta) / num_of_samples\n        self.weights_input_hidden += (hidden_weights_change * eta) / num_of_samples\n\n    def batch_train(self, epochs, eta, patience=10):\n        \"\"\"Trains the network in batch mode that means the weigts are updated after showing all training examples.\n           Eta is the learning rate and patience is the number of epochs that the validation error is allowed to increase before aborting.\"\"\"\n        validation_error = self.measure_error(self.validation_data, self.validation_data_solution)\n        for epoch in range(epochs):\n            self.back_propagate(self.input_layer, self.output_layer, eta)\n            validation_error_new = self.measure_error(self.validation_data, self.validation_data_solution)\n            if  validation_error_new &lt; validation_error:\n                validation_error = validation_error_new\n            else:\n                patience -= 1\n                if patience == 0:\n                    print(\"Abort Training. Overfitting has started! Epoch: {0}. Error: {1}\".format(epoch, validation_error_new))\n                    return\n            print(\"Epoch: {0}, Error: {1}\".format(epoch, validation_error))\n            self.save(\"Network_Mnist.net\")\n</code></pre>\n\n<p>Thank you!</p>\n\n<blockquote>\n  <p>Epoch: 1813, Error: 7499.944371111551 \n  Epoch: 1814, Error: 7499.944368765047</p>\n</blockquote>\n"}, {"tags": ["python", "beagleboneblack", "gpio"], "comments": [{"owner": {"reputation": 6811, "user_id": 163809, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8LugB.jpg?s=128&g=1", "display_name": "Stedy", "link": "https://stackoverflow.com/users/163809/stedy"}, "edited": false, "score": 0, "creation_date": 1462473599, "post_id": 37038234, "comment_id": 61662819, "body": "I&#39;m voting to close this question as off-topic because it seems like a better fit for <a href=\"https://arduino.stackexchange.com/\">arduino.stackexchange.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2214, "user_id": 426625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752c2878af40a1907e4981b155a51369?s=128&d=identicon&r=PG", "display_name": "Gretchen", "link": "https://stackoverflow.com/users/426625/gretchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1462472916, "creation_date": 1462472916, "answer_id": 37057732, "question_id": 37038234, "link": "https://stackoverflow.com/questions/37038234/stepper-motor-28byj-48-how-to-find-the-angle-0-or-its-initial-point/37057732#37057732", "title": "Stepper motor 28BYJ-48: How to find the angle 0? Or its initial point?", "body": "<p>No - it is not possible to determine the exact position of a stepper motor without additional information (inputs). As you've noticed, you can only move a certain number of steps, but unless you know where you started, you won't know where you end up.</p>\n\n<p>This is usually solved by using another input, typically a limit switch, at a known location such that the switch closes when the moving part is directly over that location. When you first start up, you rotate the stepper until the switch closes, at which point you know the current location. Once you have calibrated your initial position, THEN you can determine your exact position by counting steps (assuming your motor doesn't ever slip!)</p>\n\n<p>You see this a lot with inkjet printers; when you first turn them on, the print head will slide all the way to one side (where there is almost certainly some sort of detector). That is the printer finding its zero point.</p>\n\n<p>Some alternatives to a switch: </p>\n\n<p>If you don't need full rotation, you can use a servo motor instead. These DO have internal position sensing.</p>\n\n<p>Another hack solution using a stepper would be to place a mechanical block at one extremity that will prevent your mechanism from passing. Then just rotate the stepper one full revolution in a given direction. You know that at some point you will have hit the block and have stopped.  This isn't great; you have to be careful that running into the stop won't damage anything or knock anything out of alignment. Due to the nature of steppers, your step count may also be off by up to 3 steps, so this won't be super high precision.</p>\n"}], "owner": {"reputation": 189, "user_id": 5162675, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1615300572058019/picture?type=large", "display_name": "Leonardo Burrone", "link": "https://stackoverflow.com/users/5162675/leonardo-burrone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1241, "favorite_count": 0, "accepted_answer_id": 37057732, "answer_count": 1, "score": 1, "last_activity_date": 1462472916, "creation_date": 1462396800, "last_edit_date": 1462466290, "question_id": 37038234, "link": "https://stackoverflow.com/questions/37038234/stepper-motor-28byj-48-how-to-find-the-angle-0-or-its-initial-point", "title": "Stepper motor 28BYJ-48: How to find the angle 0? Or its initial point?", "body": "<p>I wanted to find the inicial point of a stepper motor, if it exists, so I could rotate it always in 90 degrees or 512 steps (2048 steps for a full rotation). I've put four cups in the stepper motor and I want to use the degree 0 for cup 1, degree 90 for cup 2 and so on. I'm using it with Beaglebone Black with python language. So far I've only get to move the motor giving him a number of steps. I'm using the Adafruit_BBIO library to control GPIOs from Beaglebone.\nIs it possible to get motor's initial position or move it to a inicial position? I've never used a stepper motor before.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "xml", "namespaces", "lxml"], "answers": [{"comments": [{"owner": {"reputation": 468, "user_id": 2188572, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e85416b95d42881b33f59559cce3b22?s=128&d=identicon&r=PG", "display_name": "Tandy Freeman", "link": "https://stackoverflow.com/users/2188572/tandy-freeman"}, "edited": false, "score": 0, "creation_date": 1462397655, "post_id": 37038309, "comment_id": 61626917, "body": "Success!! Thank you so much. I think I was roughly on the right track with my ns1/ns2 attempt, but my general confusion and lack of knowledge led me astray."}, {"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "reply_to_user": {"reputation": 468, "user_id": 2188572, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e85416b95d42881b33f59559cce3b22?s=128&d=identicon&r=PG", "display_name": "Tandy Freeman", "link": "https://stackoverflow.com/users/2188572/tandy-freeman"}, "edited": false, "score": 1, "creation_date": 1462397765, "post_id": 37038309, "comment_id": 61626964, "body": "Yes I believe you were very close. To avoid namespace confusion I&#39;d recommend using useful labels (I don&#39;t know if proto is the best). Namespaces called <code>ns1</code> to <code>ns999</code> are for machines - but they like to name their variables <code>var1</code> to <code>var999</code>."}, {"owner": {"reputation": 468, "user_id": 2188572, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e85416b95d42881b33f59559cce3b22?s=128&d=identicon&r=PG", "display_name": "Tandy Freeman", "link": "https://stackoverflow.com/users/2188572/tandy-freeman"}, "edited": false, "score": 0, "creation_date": 1462397963, "post_id": 37038309, "comment_id": 61627050, "body": "You&#39;re correct. I probably saw the <code>ns:</code> in a stack overflow example and just stuck with it."}], "tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": true, "score": 2, "last_activity_date": 1462397129, "creation_date": 1462397129, "answer_id": 37038309, "question_id": 37038148, "link": "https://stackoverflow.com/questions/37038148/extract-value-from-element-when-second-namespace-is-used-in-lxml/37038309#37038309", "title": "Extract value from element when second namespace is used in lxml", "body": "<p>The <code>Id</code> element in MainClosedCaption belongs to the 2004 namespace. Only an attribute <code>xmlns=\"...\"</code> can change the default namespace; attributes of the form <code>xmlns:something=\"...\"</code> only add a namespace which has to be explicitly declared.</p>\n\n<p>Try this:</p>\n\n<pre><code>from lxml import etree\ncpl_parse = etree.parse('filename.xml')\nxmluuid = cpl_parse.xpath('//proto2007:MainClosedCaption/proto2004:Id', namespaces={\n    'proto2004': 'http://www.digicine.com/PROTO-ASDCP-CPL-20040511#',\n    'proto2007': 'http://www.digicine.com/PROTO-ASDCP-CC-CPL-20070926#',\n})\nfor i in xmluuid:\n    print(i.text)\n</code></pre>\n"}], "owner": {"reputation": 468, "user_id": 2188572, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e85416b95d42881b33f59559cce3b22?s=128&d=identicon&r=PG", "display_name": "Tandy Freeman", "link": "https://stackoverflow.com/users/2188572/tandy-freeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 1, "accepted_answer_id": 37038309, "answer_count": 1, "score": 2, "last_activity_date": 1462397129, "creation_date": 1462396466, "last_edit_date": 1495535633, "question_id": 37038148, "link": "https://stackoverflow.com/questions/37038148/extract-value-from-element-when-second-namespace-is-used-in-lxml", "title": "Extract value from element when second namespace is used in lxml", "body": "<p>I am able to extract values from elements (using lxml in python 2.7) when one namespace is used. However I can't figure out how to extract values when a second namespace is used. I want to extract the value within <code>//cc-cpl:MainClosedCaption/Id</code> but I keep getting <code>lxml.etree.XPathEvalError: Invalid expression</code> errors. \nTo be specific, the value I'm trying to exract from my sample xml is <code>urn:uuid:6ca58b51-9116-4131-8652-feaed20dca0d</code></p>\n\n<p>Here's a snipped of the xml (from a Digital Cinema Package):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;CompositionPlaylist xmlns=\"http://www.digicine.com/PROTO-ASDCP-CPL-20040511#\"&gt;\n    &lt;Reel&gt;\n      &lt;Id&gt;urn:uuid:58cf368f-ed30-40d8-9258-dd7572035b69&lt;/Id&gt;\n        &lt;MainPicture&gt;\n          &lt;Id&gt;urn:uuid:afe91f7a-6451-4b9f-be2e-345f9a28da6d&lt;/Id&gt;\n        &lt;/MainPicture&gt;\n        &lt;cc-cpl:MainClosedCaption xmlns:cc-cpl=\"http://www.digicine.com/PROTO-ASDCP-CC-CPL-20070926#\"&gt;\n          &lt;Id&gt;urn:uuid:6ca58b51-9116-4131-8652-feaed20dca0d&lt;/Id&gt;\n        &lt;/cc-cpl:MainClosedCaption&gt;\n    &lt;/Reel&gt;\n&lt;/CompositionPlaylist&gt;\n</code></pre>\n\n<p>Here  is an example of code that works: </p>\n\n<pre><code>from lxml import etree\ncpl_parse = etree.parse('filename.xml')\npkl_namespace = cpl_parse.xpath('namespace-uri(.)') \nxmluuid =  cpl_parse.xpath('//ns:MainPicture/ns:Id',namespaces={'ns': pkl_namespace})\nfor i in xmluuid:\n    print i.text\n</code></pre>\n\n<p>When I try to specify the following xpath instead: <code>//ns:MainClosedCaption/ns:Id</code> - I end up with errors. </p>\n\n<p>When I specify the namespace with:\n    <code>pkl_namespace = 'http://www.digicine.com/PROTO-ASDCP-CC-CPL-20070926#\"'</code></p>\n\n<p>I receive a <code>lxml.etree.XPathEvalError: Invalid expression</code> error</p>\n\n<p>I know this is a stupid attempt, but the following produced the same error:\n<code>'//ns:cc-cpl:MainClosed Caption/ns:cc-cpl:Id'</code></p>\n\n<p>I tried to include the two namespaces in a dictionary as in this answer: <a href=\"https://stackoverflow.com/a/36227869/2188572\">https://stackoverflow.com/a/36227869/2188572</a> , and while I don't get any errors, I end up with no values extracted.\nHere's my dictionary:</p>\n\n<pre><code>namespaces = {\n    'ns': 'http://www.digicine.com/PROTO-ASDCP-CPL-20040511#',\n    'ns2': 'http://www.digicine.com/PROTO-ASDCP-CC-CPL-20070926#',\n}\n</code></pre>\n\n<p>and my command:</p>\n\n<pre><code>xmluuid =  cpl_parse.xpath('//ns:AssetList/ns2:MainClosedCaption/ns2:Id',namespaces=namespaces)\n</code></pre>\n\n<p>I found this,  <a href=\"https://stackoverflow.com/questions/30113552/extracting-nested-namespace-from-a-xml-using-lxml\">Extracting nested namespace from a xml using lxml</a> which is actually the exact same kind of xml that I'm working on, but his request was to get the namespace URL, not the actual values of elements.</p>\n\n<p>Edit:\nUsing the method from the previous answer to extract the namespace, I tried the following, but got the same errors:</p>\n\n<pre><code>from lxml import etree\nimport sys\nfilename = sys.argv[1]\n\ncpl_parse = etree.parse(filename)\npkl_namespace = etree.QName(cpl_parse.find('.//{*}MainClosedCaption')).namespace\nprint pkl_namespace\nxmluuid =  cpl_parse.xpath('//ns:cc-cpl:MainClosedCaption/ns:cc-cpl:Id',namespaces={'ns': pkl_namespace})\nfor i in xmluuid:\n    print i.text\n</code></pre>\n\n<p>and here's the errors in full:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"sub.py\", line 8, in &lt;module&gt;\n    xmluuid =  cpl_parse.xpath('//ns:cc-cpl:MainClosedCaption/ns:cc-cpl:Id',namespaces={'ns': pkl_namespace})\n  File \"lxml.etree.pyx\", line 2115, in lxml.etree._ElementTree.xpath (src/lxml/lxml.etree.c:57654)\n  File \"xpath.pxi\", line 370, in lxml.etree.XPathDocumentEvaluator.__call__ (src/lxml/lxml.etree.c:146564)\n  File \"xpath.pxi\", line 238, in lxml.etree._XPathEvaluatorBase._handle_result (src/lxml/lxml.etree.c:144962)\n  File \"xpath.pxi\", line 224, in lxml.etree._XPathEvaluatorBase._raise_eval_error (src/lxml/lxml.etree.c:144817)\nlxml.etree.XPathEvalError: Invalid expression\n</code></pre>\n"}, {"tags": ["python", "django", "unicode", "upgrade"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1462517623, "post_id": 37038143, "comment_id": 61677878, "body": "If you are upgrading, you should upgrade to django 1.8 django 1.4 is unsupported since Last year october. Even if you upgrade to 1.4 you will have to upgrade to 1.8 sooner or later so that&#39;s going to be twice the effort."}, {"owner": {"reputation": 905, "user_id": 3022320, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/689335f2a74e2def3648f713b254e379?s=128&d=identicon&r=PG", "display_name": "Israel Fonseca", "link": "https://stackoverflow.com/users/3022320/israel-fonseca"}, "reply_to_user": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1462537748, "post_id": 37038143, "comment_id": 61689546, "body": "Indeed, but im doing it in small steps, it seems easier to do this way."}], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 3022320, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/689335f2a74e2def3648f713b254e379?s=128&d=identicon&r=PG", "display_name": "Israel Fonseca", "link": "https://stackoverflow.com/users/3022320/israel-fonseca"}, "edited": false, "score": 0, "creation_date": 1462454768, "post_id": 37042301, "comment_id": 61650960, "body": "Changing to u&quot;N&#186;&quot; indeed does work, but as you may imagine it seems a bit dangerous to change all strings of the legacy system with the u&#39;&#39; version. The strange thing from my point of view is why changing the webserver version the behaviour of decoding (which I supposed to be role of the language itself not the framework). Strangely enough, running the app with <code>gunicorn_django</code> instead doesn&#39;t make the error happen. I&#39;ll give a look in those videos now, thanks. :)"}], "tags": [], "owner": {"reputation": 1008, "user_id": 223210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a4c4ea92392fac31a0bcee7d2bcb769?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/223210/paul"}, "is_accepted": false, "score": 1, "last_activity_date": 1462422121, "creation_date": 1462422121, "answer_id": 37042301, "question_id": 37038143, "link": "https://stackoverflow.com/questions/37038143/upgrading-django-1-3-to-1-4-raising-unicode-problems/37042301#37042301", "title": "Upgrading Django 1.3 to 1.4 raising Unicode problems", "body": "<p>So there are probably a couple issues coming up with this. The first is <code>print unicode(\"string\")</code> is taking that string as a straight non unicode string (assuming this is python 2.7). If you change it to <code>print unicode(u\"N\u00ba\")</code> does it work?</p>\n\n<p>Between that and calling <code>.encode('UTF-8')</code> / <code>decode('UTF-8')</code> in places where you need it should help. Dealing with unicode in Python 2 is kinda painful. There's been a LOT of talks about unicode at various PyCons many of which have been posted to youtube. If you have an hour or it's worth watching <a href=\"https://www.youtube.com/watch?v=sgHbC6udIqc\" rel=\"nofollow\">https://www.youtube.com/watch?v=sgHbC6udIqc</a> and <a href=\"https://www.youtube.com/watch?v=Mx70n1dL534\" rel=\"nofollow\">https://www.youtube.com/watch?v=Mx70n1dL534</a></p>\n\n<p>From the sounds of it you may just need to go through and check that every source of every string you're dealing with is being converted to a unicode object via decode('utf-8') or whatever the encoding is, as soon as possible. Alternatively if you can skip straight to a later version of Django (everything before 1.8 at this time has zero support) you might be able to use something like 2to3 to change to Python3, and as a side effect get rid of a lot of these types of problems. Not always feasible but worth a shot =)</p>\n"}], "owner": {"reputation": 905, "user_id": 3022320, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/689335f2a74e2def3648f713b254e379?s=128&d=identicon&r=PG", "display_name": "Israel Fonseca", "link": "https://stackoverflow.com/users/3022320/israel-fonseca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462422121, "creation_date": 1462396435, "question_id": 37038143, "link": "https://stackoverflow.com/questions/37038143/upgrading-django-1-3-to-1-4-raising-unicode-problems", "title": "Upgrading Django 1.3 to 1.4 raising Unicode problems", "body": "<p>I'm having a hard time upgrading Django 1.3.x to Django 1.4.x. The development server in the 1.4 version doesn't allow the following code:</p>\n\n<pre><code>print unicode(\"N\u00ba\")\n</code></pre>\n\n<p>The 1.3 works fine but the 1.4 gives the legendary decoding error:</p>\n\n<pre><code>'ascii' codec can't decode byte 0xc2 in position 1: ordinal not in range(128)\n</code></pre>\n\n<p>Why is that? Is there any configuration of how the decoding will be handled?</p>\n\n<p>Note: The print statement is just a simple way of showing the problem, in the real legacy application there are tons of code that send an non-unicode string to the <code>unicode</code> function.</p>\n"}, {"tags": ["android", "python", "android-uiautomator", "androidviewclient"], "comments": [{"owner": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "edited": false, "score": 0, "creation_date": 1462417409, "post_id": 37038127, "comment_id": 61632534, "body": "What&#39;s the device and it&#39;s API level?"}, {"owner": {"reputation": 19, "user_id": 1076508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57320f11836407a469cee4e425189be2?s=128&d=identicon&r=PG", "display_name": "leeeroy jenkins", "link": "https://stackoverflow.com/users/1076508/leeeroy-jenkins"}, "reply_to_user": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "edited": false, "score": 0, "creation_date": 1462432142, "post_id": 37038127, "comment_id": 61637540, "body": "Nexus 5X emulator, API level 23"}, {"owner": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "edited": false, "score": 0, "creation_date": 1462456118, "post_id": 37038127, "comment_id": 61651922, "body": "Why are you forcing ViewServer use (<code>&#39;forceviewserveruse&#39;: True</code>)? API 23 should use <code>uiautomator</code>."}, {"owner": {"reputation": 19, "user_id": 1076508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57320f11836407a469cee4e425189be2?s=128&d=identicon&r=PG", "display_name": "leeeroy jenkins", "link": "https://stackoverflow.com/users/1076508/leeeroy-jenkins"}, "reply_to_user": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "edited": false, "score": 0, "creation_date": 1462462840, "post_id": 37038127, "comment_id": 61656387, "body": "Aah, because elsewhere in the program, I am also getting the window name and I reach an error: Exception: Not implemented yet: listing windows with UiAutomator. But I can get around that :)"}, {"owner": {"reputation": 922, "user_id": 1999084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6be8931ebd2d3e2c00df9580917cae?s=128&d=identicon&r=PG", "display_name": "Allen Hair", "link": "https://stackoverflow.com/users/1999084/allen-hair"}, "reply_to_user": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "edited": false, "score": 0, "creation_date": 1462485422, "post_id": 37038127, "comment_id": 61668845, "body": "@DiegoTorresMilano Could you explain why this is tagged as android-uiautomator? This question is highly specific to AndroidViewClient and doesn&#39;t seem relevant to users of the UI Automator library (even though AndroidViewClient is built on top)."}, {"owner": {"reputation": 57412, "user_id": 236465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoAkG.jpg?s=128&g=1", "display_name": "Diego Torres Milano", "link": "https://stackoverflow.com/users/236465/diego-torres-milano"}, "reply_to_user": {"reputation": 922, "user_id": 1999084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6be8931ebd2d3e2c00df9580917cae?s=128&d=identicon&r=PG", "display_name": "Allen Hair", "link": "https://stackoverflow.com/users/1999084/allen-hair"}, "edited": false, "score": 0, "creation_date": 1462487888, "post_id": 37038127, "comment_id": 61669768, "body": "@AllenHair it is related to UiAutomator because it&#39;s a problem that only happens if UiAutomator is not used as a back-end."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5900029, "user_type": "registered", "profile_image": "https://graph.facebook.com/922908554490023/picture?type=large", "display_name": "Arun Sai", "link": "https://stackoverflow.com/users/5900029/arun-sai"}, "is_accepted": false, "score": 0, "last_activity_date": 1465973801, "last_edit_date": 1465973801, "creation_date": 1465972249, "answer_id": 37827683, "question_id": 37038127, "link": "https://stackoverflow.com/questions/37038127/androidviewclient-cant-getxy-coordinates/37827683#37827683", "title": "AndroidViewClient - can&#39;t getXY() coordinates", "body": "<pre><code>widget = vc.findViewByIdOrRaise(\"id/no_id/5\")\nwidget.useUiAutomator = False\nwidget.getXY() \nx = (str)widget.windows[widget.currentFocus] \nprint x\n</code></pre>\n\n<p>Above code will get the Display Activity name and height and width of the screen,if u want only height and width refer below one</p>\n\n<pre><code>h = device._AdbClient__getDisplayHeight(\"\")\nw = device._AdbClient__getDisplayWidth(\"\")\nprint (str)(h)\nprint (str)(w)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 1076508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57320f11836407a469cee4e425189be2?s=128&d=identicon&r=PG", "display_name": "leeeroy jenkins", "link": "https://stackoverflow.com/users/1076508/leeeroy-jenkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465973801, "creation_date": 1462396356, "last_edit_date": 1495541308, "question_id": 37038127, "link": "https://stackoverflow.com/questions/37038127/androidviewclient-cant-getxy-coordinates", "title": "AndroidViewClient - can&#39;t getXY() coordinates", "body": "<p>I'm running AndroidViewClient and am able to dump a complete hierarchy, but things fail when I try to getXY() or touch(). Even the solution from <a href=\"https://stackoverflow.com/questions/24089937/get-current-focused-window-name-using-androidviewclient\">Get Current Focused Window Name using AndroidViewClient</a> gives me an error.</p>\n\n<pre><code>  kwargs1 = {'verbose': True, 'ignoresecuredevice': True}\n  kwargs2 = {'startviewserver': True, 'forceviewserveruse': True,\n             'autodump': False, 'ignoreuiautomatorkilled': True}\n  device, serialno = ViewClient.connectToDeviceOrExit(**kwargs1)\n  vc = ViewClient(device, serialno, **kwargs2)\n  view = vc.dump(window='-1')\n  widget = vc.findViewByIdOrRaise(\"id/no_id/5\")\n  widget.useUiAutomator = False\n  print widget\n  # Up until here runs no problem.\n  print widget.getXY() # fails.\n  widget.touch() # also fails.\n</code></pre>\n\n<p>My stack trace goes something like:</p>\n\n<p>print widget.getXY()</p>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/viewclient.py\", line 680, in getXY\n    (wvx, wvy) = self.__dumpWindowsInformation(debug=debug)</p>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/viewclient.py\", line 798, in __dumpWindowsInformation</p>\n\n<pre><code>dww = self.device.shell('dumpsys window windows')\n</code></pre>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/adb/adbclient.py\", line 377, in shell</p>\n\n<pre><code>self.__send('shell:%s' % cmd, checkok=True, reconnect=False)\n</code></pre>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/adb/adbclient.py\", line 243, in __send</p>\n\n<pre><code>self.__checkOk()\n</code></pre>\n\n<p>File \"/usr/local/lib/python2.7/dist-packages/androidviewclient-11.5.3-py2.7.egg/com/dtmilano/android/adb/adbclient.py\", line 286, in __checkOk</p>\n\n<pre><code>raise RuntimeError(\"ERROR: %s %s\" % (repr(recv), error))\n</code></pre>\n\n<p>RuntimeError: ERROR: '' </p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["python", "pip", "pyenv"], "comments": [{"owner": {"reputation": 3869, "user_id": 4117209, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4ef42870aacbf20424dfe7d866110eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Six", "link": "https://stackoverflow.com/users/4117209/six"}, "edited": false, "score": 0, "creation_date": 1462462194, "post_id": 37038081, "comment_id": 61655955, "body": "Do you mind listing the contents of ~/.pyenv/shims and PATH? Are you sure the shims directory is before the system bin directories on your PATH?"}, {"owner": {"reputation": 1002, "user_id": 3886141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42071756d0dea6f2f733fa2175d361d0?s=128&d=identicon&r=PG", "display_name": "pcgilday", "link": "https://stackoverflow.com/users/3886141/pcgilday"}, "reply_to_user": {"reputation": 3869, "user_id": 4117209, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4ef42870aacbf20424dfe7d866110eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Six", "link": "https://stackoverflow.com/users/4117209/six"}, "edited": false, "score": 0, "creation_date": 1464011341, "post_id": 37038081, "comment_id": 62294554, "body": "Yes I am sure, I have added my my PATH and my shims contents to the original post for more info."}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1551966366, "post_id": 37038081, "comment_id": 96841081, "body": "I&#39;m guessing you didn&#39;t have <code>pip</code> installed when you originally set up <code>pyenv</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 598, "user_id": 1826241, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2aaac949383a1f98d77696b8e80b9fe4?s=128&d=identicon&r=PG", "display_name": "dlukes", "link": "https://stackoverflow.com/users/1826241/dlukes"}, "is_accepted": false, "score": 0, "last_activity_date": 1588766021, "creation_date": 1588766021, "answer_id": 61634550, "question_id": 37038081, "link": "https://stackoverflow.com/questions/37038081/shimming-pip-with-pyenv/61634550#61634550", "title": "Shimming pip with pyenv", "body": "<p>All of the shim files actually seem to be identical, so you should always be able to do <code>cp ~/.pyenv/shims/{python,pip}</code>.</p>\n"}], "owner": {"reputation": 1002, "user_id": 3886141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42071756d0dea6f2f733fa2175d361d0?s=128&d=identicon&r=PG", "display_name": "pcgilday", "link": "https://stackoverflow.com/users/3886141/pcgilday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1421, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1588766021, "creation_date": 1462396228, "last_edit_date": 1464011459, "question_id": 37038081, "link": "https://stackoverflow.com/questions/37038081/shimming-pip-with-pyenv", "title": "Shimming pip with pyenv", "body": "<p>How do I get a pip shim in <code>~/.pyenv/shims</code>. I am using pyenv, but <code>which pip</code> still shows the system version of pip.</p>\n\n<p>Based on the below comment copied from the docs, it appears it should occur through rehashing, but I have run <code>pyenv rehash</code> and nothing happen happens</p>\n\n<p>Copied from docs:</p>\n\n<p><code>Through a process called rehashing, pyenv maintains shims in that directory to match every Python command across every installed version of Python\u2014python, pip, and so on.</code></p>\n\n<p>Per request in comments here is my PATH</p>\n\n<p><code>/Users/patrick/google-cloud-sdk/bin:/Users/patrick/.pyenv/shims:/Users/patrick/.pyenv/bin:/Users/patrick/.local/bin:/Users/patrick/npm/bin:/Users/patrick/google_appengine:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/mongodb/bin</code></p>\n\n<p>and here is my <code>~/.pyenv/shims</code> content:</p>\n\n<p><code>\n$ ll ~/.pyenv/shims/\ntotal 80\ndrwxr-xr-x  12 patrick  staff  408 May 23 09:49 .\ndrwxr-xr-x  22 patrick  staff  748 May  4 18:10 ..\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 2to3\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 idle\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 pydoc\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 python\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 python-config\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 python2\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 python2-config\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 python2.7\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 python2.7-config\n-rwxr-xr-x   1 patrick  staff  408 May  4 18:15 smtpd.py\n</code></p>\n"}, {"tags": ["python", "algorithm", "numpy"], "owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1462396138, "creation_date": 1462396138, "question_id": 37038056, "link": "https://stackoverflow.com/questions/37038056/reduce-memory-complexity-in-a-bootstrap-algorithm", "title": "Reduce memory complexity in a bootstrap algorithm", "body": "<p>I wrote this function for bootstrapping. </p>\n\n<pre><code>from __future__ import division\nimport numpy as np\n\n\ndef bootstrap(array):\n    \"\"\"\n    :type array: np.ndarray\n    :param array: a 1D NumPy array, where array[i] is the count of the\n                  i-th item.\n    :rtype: np.ndarray\n    \"\"\"\n    size = int(array.sum())\n    probabilities = array / size\n    values = np.arange(arr.shape[0])\n    bins = np.cumsum(probabilities)\n    result = np.zeros(arr.shape[0])\n\n    for val in values[np.digitize(np.random.random_sample(size), bins)]:\n        result[val] += 1\n\n    return result\n</code></pre>\n\n<p>I don't like the fact, that this line <code>values[np.digitize(np.random.random_sample(size), bins)]</code> creates the array of size <code>array.sum()</code>. I'd like to keep the memory complexity <code>O(n)</code>, where <code>n</code> is the <code>array</code>'s length. How can I make it lazier without significant speed sacrifices? </p>\n\n<p>P.S.\nIn case you want to point me at the slow <code>for</code>-loop, I've Cythonised the real version to remove the slow Python loop. </p>\n"}, {"tags": ["python", "tesseract"], "answers": [{"comments": [{"owner": {"reputation": 741, "user_id": 1624681, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8e29f7c250e35f1dbf7ef879af289c0f?s=128&d=identicon&r=PG", "display_name": "c.Parsi", "link": "https://stackoverflow.com/users/1624681/c-parsi"}, "edited": false, "score": 0, "creation_date": 1507304383, "post_id": 37286262, "comment_id": 80170568, "body": "I am using tesseract 4.0 version and when outputting tsv, the conf column is empty. Should I use another version of tesseract-ocr?"}, {"owner": {"reputation": 165, "user_id": 5753656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Np00K.jpg?s=128&g=1", "display_name": "EdgeRover", "link": "https://stackoverflow.com/users/5753656/edgerover"}, "edited": false, "score": 1, "creation_date": 1517344244, "post_id": 37286262, "comment_id": 84055303, "body": "You should replace &#39;txt&#39; with &#39;tsv&#39; and you will get the conf column"}], "tags": [], "owner": {"reputation": 17050, "user_id": 3944322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1fb31e86bf22c094d34b240544e458ec?s=128&d=identicon&r=PG&f=1", "display_name": "Stef", "link": "https://stackoverflow.com/users/3944322/stef"}, "is_accepted": false, "score": 1, "last_activity_date": 1463519313, "creation_date": 1463519313, "answer_id": 37286262, "question_id": 37038045, "link": "https://stackoverflow.com/questions/37038045/how-to-get-tesseract-confidence-levels-in-python-or-command-window/37286262#37286262", "title": "How to get Tesseract confidence levels in python or command window?", "body": "<p>You may use <a href=\"https://github.com/tesseract-ocr/tesseract/wiki/Command-Line-Usage#tsv-output-currently-available-in-305-dev-in-master-branch-on-github\" rel=\"nofollow\">tsv output</a>. The confidence level is in the last but one column.</p>\n"}, {"comments": [{"owner": {"reputation": 2557, "user_id": 5764553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd0033e9f395f84f4357d0fafd54df1?s=128&d=identicon&r=PG", "display_name": "Andrew Myers", "link": "https://stackoverflow.com/users/5764553/andrew-myers"}, "edited": false, "score": 1, "creation_date": 1507250446, "post_id": 46596566, "comment_id": 80146055, "body": "It might be good to make it clear that the code there is an example from the page on PyPI."}, {"owner": {"reputation": 741, "user_id": 1624681, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8e29f7c250e35f1dbf7ef879af289c0f?s=128&d=identicon&r=PG", "display_name": "c.Parsi", "link": "https://stackoverflow.com/users/1624681/c-parsi"}, "edited": false, "score": 0, "creation_date": 1507304520, "post_id": 46596566, "comment_id": 80170644, "body": "Thanks for the note, I am having problems with installing tesserocr on windows machine. It requires CPP build tools 2014 which seems hard to find. I have user pytesser package and it works for tesseract-ocr, but as you mentioned doesnt give enough flexibility. tesseract-ocr 4.0 version is not giving conf in tsv file. I am not sure why."}, {"owner": {"reputation": 954, "user_id": 1635180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJZC3.jpg?s=128&g=1", "display_name": "Vu Gia Truong", "link": "https://stackoverflow.com/users/1635180/vu-gia-truong"}, "edited": false, "score": 0, "creation_date": 1507601944, "post_id": 46596566, "comment_id": 80264257, "body": "<a href=\"https://github.com/tesseract-ocr/tesseract/wiki/Command-Line-Usage\" rel=\"nofollow noreferrer\">github.com/tesseract-ocr/tesseract/wiki/Command-Line-Usage</a>  -&gt; Based on this site, maybe it is only available for 3.05 (devBranch).  If you use Pytesseract library, directly adding &quot;tsv&quot; option to  process inside &quot;def process_request&quot; function would be faster."}], "tags": [], "owner": {"reputation": 954, "user_id": 1635180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJZC3.jpg?s=128&g=1", "display_name": "Vu Gia Truong", "link": "https://stackoverflow.com/users/1635180/vu-gia-truong"}, "is_accepted": true, "score": 3, "last_activity_date": 1507249204, "creation_date": 1507249204, "answer_id": 46596566, "question_id": 37038045, "link": "https://stackoverflow.com/questions/37038045/how-to-get-tesseract-confidence-levels-in-python-or-command-window/46596566#46596566", "title": "How to get Tesseract confidence levels in python or command window?", "body": "<p>This is the wrapper that you need:\n<a href=\"https://pypi.python.org/pypi/tesserocr/2.0.0\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/tesserocr/2.0.0</a> . Also there are tons of python wrapper out there, but this library is the closest wrapper that nearly cover all of C++ API.</p>\n\n<p>Example: </p>\n\n<pre><code>from PIL import Image\nfrom tesserocr import PyTessBaseAPI\n\nimage = Image.open('/usr/src/tesseract/testing/phototest.tif')\nwith PyTessBaseAPI() as api:\n    api.SetImage(image)\n    boxes = api.GetComponentImages(RIL.TEXTLINE, True)\n    print 'Found {} textline image components.'.format(len(boxes))\n    for i, (im, box, _, _) in enumerate(boxes):\n        # im is a PIL image object\n        # box is a dict with x, y, w and h keys\n        api.SetRectangle(box['x'], box['y'], box['w'], box['h'])\n        ocrResult = api.GetUTF8Text()\n        conf = api.MeanTextConf()\n        print (u\"Box[{0}]: x={x}, y={y}, w={w}, h={h}, \"\n               \"confidence: {1}, text: {2}\").format(i, conf, ocrResult, **box)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 4989157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac6893c8ecc22a2429435b8fdd82bc69?s=128&d=identicon&r=PG&f=1", "display_name": "Ayanava Sarkar", "link": "https://stackoverflow.com/users/4989157/ayanava-sarkar"}, "is_accepted": false, "score": 3, "last_activity_date": 1546522004, "creation_date": 1546522004, "answer_id": 54023212, "question_id": 37038045, "link": "https://stackoverflow.com/questions/37038045/how-to-get-tesseract-confidence-levels-in-python-or-command-window/54023212#54023212", "title": "How to get Tesseract confidence levels in python or command window?", "body": "<p>Adding to Stef's answer, here is a sample command to check the confidence value in 'output.tsv' file.</p>\n\n<p><em>tesseract Ancestry1.jpg output --oem 1 -l eng tsv</em></p>\n\n<p>Here, 'Ancestry1.jpg' is the image file to be input to tesseract.\noem 1 is for using the LSTM in 4.0.\nThe confidence is stored in 'output.tsv' file</p>\n\n<p>The link to the official Tesseract webpage for confidence levels: <a href=\"https://github.com/tesseract-ocr/tesseract/wiki/Command-Line-Usage#tsv-output-currently-available-in-305-dev-in-master-branch-on-github\" rel=\"nofollow noreferrer\">Tesseract Wiki</a></p>\n"}], "owner": {"reputation": 741, "user_id": 1624681, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8e29f7c250e35f1dbf7ef879af289c0f?s=128&d=identicon&r=PG", "display_name": "c.Parsi", "link": "https://stackoverflow.com/users/1624681/c-parsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10862, "favorite_count": 2, "accepted_answer_id": 46596566, "answer_count": 3, "score": 3, "last_activity_date": 1546522004, "creation_date": 1462396106, "question_id": 37038045, "link": "https://stackoverflow.com/questions/37038045/how-to-get-tesseract-confidence-levels-in-python-or-command-window", "title": "How to get Tesseract confidence levels in python or command window?", "body": "<p>How can we get the confidence levels after OCR of an image using tesseract 3.05 in windows? I am calling tesseract from python using subprocess commands:</p>\n\n<p><code>retcode = subprocess.call(\"tesseract -l eng myImage.png txt -psm 6\" , stdin=None, stdout=False, stderr=None, shell=False)</code></p>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 15114, "user_id": 3864822, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CgtkB.jpg?s=128&g=1", "display_name": "Daniel de Paula", "link": "https://stackoverflow.com/users/3864822/daniel-de-paula"}, "edited": false, "score": 1, "creation_date": 1462396745, "post_id": 37038014, "comment_id": 61626467, "body": "What&#39;s your Spark version?"}], "answers": [{"comments": [{"owner": {"reputation": 1309, "user_id": 1171721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cc75a848d48350713648aa3f1b863b?s=128&d=identicon&r=PG", "display_name": "lfvv", "link": "https://stackoverflow.com/users/1171721/lfvv"}, "edited": false, "score": 19, "creation_date": 1533899572, "post_id": 37038231, "comment_id": 90527369, "body": "Just remember that the first parameter of regexp_replace refers to the column being changed, the second is the regex to find and the last is how to replace it."}, {"owner": {"reputation": 179, "user_id": 4590839, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/98dbe823b73ff891e1c59ec94f173e56?s=128&d=identicon&r=PG&f=1", "display_name": "Kailegh", "link": "https://stackoverflow.com/users/4590839/kailegh"}, "edited": false, "score": 0, "creation_date": 1541679406, "post_id": 37038231, "comment_id": 93303113, "body": "can I use regexp_replace inside a pipeline? Thanks"}, {"owner": {"reputation": 415, "user_id": 15050871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933decc3d819869c860c8bf2ec716585?s=128&d=identicon&r=PG&f=1", "display_name": "elham", "link": "https://stackoverflow.com/users/15050871/elham"}, "edited": false, "score": 1, "creation_date": 1611223903, "post_id": 37038231, "comment_id": 116383629, "body": "Can we change more than one item in this code?"}, {"owner": {"reputation": 850, "user_id": 7252531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Imb0t.png?s=128&g=1", "display_name": "gbeaven", "link": "https://stackoverflow.com/users/7252531/gbeaven"}, "reply_to_user": {"reputation": 415, "user_id": 15050871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933decc3d819869c860c8bf2ec716585?s=128&d=identicon&r=PG&f=1", "display_name": "elham", "link": "https://stackoverflow.com/users/15050871/elham"}, "edited": false, "score": 0, "creation_date": 1615236408, "post_id": 37038231, "comment_id": 117624302, "body": "@elham you can change any value that fits a regexp <b>expression</b> for one column using this function: <a href=\"https://spark.apache.org/docs/2.2.0/api/R/regexp_replace.html\" rel=\"nofollow noreferrer\">spark.apache.org/docs/2.2.0/api/R/regexp_replace.html</a>"}], "tags": [], "owner": {"reputation": 15114, "user_id": 3864822, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CgtkB.jpg?s=128&g=1", "display_name": "Daniel de Paula", "link": "https://stackoverflow.com/users/3864822/daniel-de-paula"}, "is_accepted": true, "score": 120, "last_activity_date": 1462449288, "last_edit_date": 1462449288, "creation_date": 1462396794, "answer_id": 37038231, "question_id": 37038014, "link": "https://stackoverflow.com/questions/37038014/pyspark-replace-strings-in-spark-dataframe-column/37038231#37038231", "title": "Pyspark replace strings in Spark dataframe column", "body": "<p>For Spark 1.5 or later, you can use the <a href=\"http://spark.apache.org/docs/latest/api/python/pyspark.sql.html#module-pyspark.sql.functions\" rel=\"noreferrer\">functions</a> package:</p>\n\n<pre><code>from pyspark.sql.functions import *\nnewDf = df.withColumn('address', regexp_replace('address', 'lane', 'ln'))\n</code></pre>\n\n<p>Quick explanation:</p>\n\n<ul>\n<li>The function <code>withColumn</code> is called to add (or replace, if the name exists) a column to the data frame. </li>\n<li>The function <code>regexp_replace</code> will generate a new column by replacing all substrings that match the pattern.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 3216, "user_id": 7082221, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21f21f3e1a6938197be38c1ac0370e77?s=128&d=identicon&r=PG&f=1", "display_name": "loneStar", "link": "https://stackoverflow.com/users/7082221/lonestar"}, "is_accepted": false, "score": 4, "last_activity_date": 1563910461, "creation_date": 1563910461, "answer_id": 57171041, "question_id": 37038014, "link": "https://stackoverflow.com/questions/37038014/pyspark-replace-strings-in-spark-dataframe-column/57171041#57171041", "title": "Pyspark replace strings in Spark dataframe column", "body": "<p>For scala</p>\n\n<pre><code>import org.apache.spark.sql.functions.regexp_replace\nimport org.apache.spark.sql.functions.col\ndata.withColumn(\"addr_new\", regexp_replace(col(\"addr_line\"), \"\\\\*\", \"\"))\n</code></pre>\n"}], "owner": {"reputation": 4962, "user_id": 2985049, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f8e0560e8b0947d7609d3576aed494ef?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2985049/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125514, "favorite_count": 12, "accepted_answer_id": 37038231, "answer_count": 2, "score": 44, "last_activity_date": 1563910461, "creation_date": 1462396019, "last_edit_date": 1462399430, "question_id": 37038014, "link": "https://stackoverflow.com/questions/37038014/pyspark-replace-strings-in-spark-dataframe-column", "title": "Pyspark replace strings in Spark dataframe column", "body": "<p>I'd like to perform some basic stemming on a Spark Dataframe column by replacing substrings. What's the quickest way to do this? </p>\n\n<p>In my current use case, I have a list of addresses that I want to normalize. For example this dataframe:</p>\n\n<pre><code>id     address\n1       2 foo lane\n2       10 bar lane\n3       24 pants ln\n</code></pre>\n\n<p>Would become</p>\n\n<pre><code>id     address\n1       2 foo ln\n2       10 bar ln\n3       24 pants ln\n</code></pre>\n"}, {"tags": ["python", "windows", "python-2.7", "tkinter", "activepython"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 1, "creation_date": 1462410612, "post_id": 37038016, "comment_id": 61630979, "body": "Does MS Windows support symlinks?  When tcl/tk is updated, it will be updated in C:\\Python27\\tcl so your programs will still be using the old (copied) version (may or may not cause a problem)."}], "tags": [], "owner": {"reputation": 12033, "user_id": 2213647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/TPTow.png?s=128&g=1", "display_name": "twasbrillig", "link": "https://stackoverflow.com/users/2213647/twasbrillig"}, "is_accepted": false, "score": 0, "last_activity_date": 1462396020, "creation_date": 1462396020, "answer_id": 37038016, "question_id": 37038007, "link": "https://stackoverflow.com/questions/37038007/tkinter-code-throws-exception-in-latest-activepython/37038016#37038016", "title": "Tkinter code throws exception in latest ActivePython", "body": "<p>Here is a workaround that worked for me. I copied 2 directories: <code>tcl8.5</code> and <code>tk8.5</code>, from <code>C:\\Python27\\tcl</code> to <code>C:\\Python27\\lib</code>, and then the code ran without any error.</p>\n"}], "owner": {"reputation": 12033, "user_id": 2213647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/TPTow.png?s=128&g=1", "display_name": "twasbrillig", "link": "https://stackoverflow.com/users/2213647/twasbrillig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462396219, "creation_date": 1462395986, "last_edit_date": 1462396219, "question_id": 37038007, "link": "https://stackoverflow.com/questions/37038007/tkinter-code-throws-exception-in-latest-activepython", "title": "Tkinter code throws exception in latest ActivePython", "body": "<p>After installing ActivePython 2.7.10.12, when trying to create a Tkinter instance, I get the following error:</p>\n\n<pre><code>ActivePython 2.7.10.12 (ActiveState Software Inc.) based on\nPython 2.7.10 (default, Aug 21 2015, 12:07:58) [MSC v.1500 64 bit (AMD64)] on wi\nn32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from Tkinter import Tk\n&gt;&gt;&gt; root = Tk()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27\\lib\\lib-tk\\Tkinter.py\", line 1814, in __init__\n    self.tk = _tkinter.create(screenName, baseName, className, interactive, want\nobjects, useTk, sync, use)\n_tkinter.TclError: Can't find a usable init.tcl in the following directories:\n    C:/Python27/lib/tcl8.5 C:/lib/tcl8.5 C:/lib/tcl8.5 C:/library C:/library C:/\ntcl8.5.18/library C:/tcl8.5.18/library\n\n\n\nThis probably means that Tcl wasn't installed properly.\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462396001, "post_id": 37037960, "comment_id": 61626129, "body": "Do you want to just cast each element as a string and turn it into a member of a singleton <code>list</code>? And the original objects contain no strings, so I don&#39;t see how <code>line.split</code> works."}, {"owner": {"reputation": 127, "user_id": 6002690, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/427760998f97e05543f6e49017577d02?s=128&d=identicon&r=PG&f=1", "display_name": "jnmf", "link": "https://stackoverflow.com/users/6002690/jnmf"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462396215, "post_id": 37037960, "comment_id": 61626229, "body": "Yes, I&#39;d like to do that.  I got data from a csv file and splitted it, when I put type(data) it says it&#39;s a string. I don&#39;t know"}], "answers": [{"tags": [], "owner": {"reputation": 552, "user_id": 2696209, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/864700cccc82684055211562963e4281?s=128&d=identicon&r=PG&f=1", "display_name": "Anshu Kumar", "link": "https://stackoverflow.com/users/2696209/anshu-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1462396027, "creation_date": 1462396027, "answer_id": 37038020, "question_id": 37037960, "link": "https://stackoverflow.com/questions/37037960/split-elements-in-a-list/37038020#37038020", "title": "split elements in a list", "body": "<p>Why don't you use something like</p>\n\n<pre><code>&gt;&gt;&gt; a = [999.7382621, -1.4637250000000002]\n&gt;&gt;&gt; map(lambda x: [str(x)], a)\n[['999.7382621'], ['-1.463725']]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Why do you want to use split?</p>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1462396215, "creation_date": 1462396215, "answer_id": 37038076, "question_id": 37037960, "link": "https://stackoverflow.com/questions/37037960/split-elements-in-a-list/37038076#37038076", "title": "split elements in a list", "body": "<p>if your original data are lines of a text file:</p>\n\n<pre><code>In [135]: line = '[999.7382621, -1.4637250000000002]'\n\nIn [136]: import ast\n\nIn [137]: ast.literal_eval(line)\nOut[137]: [999.7382621, -1.4637250000000002]\n\nIn [138]: [[x] for x in ast.literal_eval(line)]\nOut[138]: [[999.7382621], [-1.4637250000000002]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1533, "user_id": 677915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5b62d6c2640b7285e73c9d9967b075?s=128&d=identicon&r=PG", "display_name": "dim-an", "link": "https://stackoverflow.com/users/677915/dim-an"}, "is_accepted": true, "score": 0, "last_activity_date": 1462396251, "creation_date": 1462396251, "answer_id": 37038090, "question_id": 37037960, "link": "https://stackoverflow.com/questions/37037960/split-elements-in-a-list/37038090#37038090", "title": "split elements in a list", "body": "<p>Looks like <code>mylists</code> variable is a single string and when you say</p>\n\n<pre><code>elements = [map(str, line.split(\",\")) for line in mylists]\n</code></pre>\n\n<p>you actually iterating not over lines but over characters. Try:</p>\n\n<pre><code>elements = [map(str, line.split(\",\")) for line in mylists.strip('\\n').split('\\n')]\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 6002690, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/427760998f97e05543f6e49017577d02?s=128&d=identicon&r=PG&f=1", "display_name": "jnmf", "link": "https://stackoverflow.com/users/6002690/jnmf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 37038090, "answer_count": 3, "score": -3, "last_activity_date": 1462396251, "creation_date": 1462395804, "question_id": 37037960, "link": "https://stackoverflow.com/questions/37037960/split-elements-in-a-list", "title": "split elements in a list", "body": "<p>I'm trying to split the elements in some lists but I can only get each character</p>\n\n<p>example:\nsplit those lists</p>\n\n<pre><code>[999.7382621, -1.4637250000000002]\n[-1.5490111999999998, 1.5490111999999998]\n</code></pre>\n\n<p>with this code</p>\n\n<pre><code>elements = [map(str, line.split(\",\")) for line in mylists]\n</code></pre>\n\n<p>I get this result:</p>\n\n<pre><code>[['9'], ['9'], ['9'], ['.'], ['7'], ['3'], ['8'], ['2'], ['6'], ['2'], ['1'],['', ''], ['-'], ['1'], ['.'], ['4'], ['6'], ['3'], ['7'], ['2'], ['5']]\n[['-'], ['1'], ['.'], ['5'], ['4'], ['9'], ['0'], ['1'], ['1'], ['2'], ['', ''], ['1'], ['.'], ['5'], ['4'], ['9'], ['0'], ['1'], ['1'], ['2']]\n</code></pre>\n\n<p>I'd like to get</p>\n\n<pre><code>[['999.7382621'],['-1.4637250000000002']]\n[['-1.5490111999999998'],['1.5490111999999998']]\n</code></pre>\n\n<p>What did I miss here? Thanks</p>\n"}, {"tags": ["python", "datetime", "time"], "comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1462397222, "post_id": 37037958, "comment_id": 61626697, "body": "unrelated: the local time may be non-linear. Don&#39;t use <code>datetime.now()</code> if you want to find the exact difference. See <a href=\"http://stackoverflow.com/q/26313520/4279\">Find if 24 hrs have passed between datetimes - Python</a>. If you don&#39;t care about hours in your case; use <code>date.today()</code> instead."}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 5, "last_activity_date": 1462396037, "creation_date": 1462396037, "answer_id": 37038027, "question_id": 37037958, "link": "https://stackoverflow.com/questions/37037958/remove-time-from-timedelta-output-in-python/37038027#37038027", "title": "Remove time from timedelta output in python", "body": "<p><code>71 days, 23:56:07.156000</code> is a <em>string representation</em> of the <a href=\"https://docs.python.org/2/library/datetime.html#timedelta-objects\" rel=\"noreferrer\"><code>timedelta</code> object</a>.</p>\n\n<p>To get the days only, just get the, well, <code>.days</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from datetime import datetime\n&gt;&gt;&gt; \n&gt;&gt;&gt; recordDate = datetime(year=2010, month=10, day=10)\n&gt;&gt;&gt; now = datetime.now()\n&gt;&gt;&gt; age = now - recordDate\n&gt;&gt;&gt; age  # age is the timedelta object\ndatetime.timedelta(2033, 61630, 853029)\n&gt;&gt;&gt; \"%d days\" % age.days\n'2033 days'\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 5754917, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/hCJuc.png?s=128&g=1", "display_name": "Midavalo", "link": "https://stackoverflow.com/users/5754917/midavalo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2889, "favorite_count": 0, "accepted_answer_id": 37038027, "answer_count": 1, "score": 0, "last_activity_date": 1462396037, "creation_date": 1462395799, "question_id": 37037958, "link": "https://stackoverflow.com/questions/37037958/remove-time-from-timedelta-output-in-python", "title": "Remove time from timedelta output in python", "body": "<p>I've written a small python script to determine the age of a record and if it is more than a week old.  I do this by subtracting the record date from <code>now()</code>.  The record returns the date <code>2016-02-23 09:01:22</code> as datetime.</p>\n\n<pre><code>now = datetime.datetime.now()\nage = now - recordDate\nprint age\n</code></pre>\n\n<p>this prints the result as <code>71 days, 23:56:07.156000</code></p>\n\n<p>Is there a more \"pythonic\" way to get it to output just the days (and no hours etc.) than my hack solution of</p>\n\n<pre><code>print str(age).split(',',1)[0]\n</code></pre>\n\n<p>which prints the result as <code>71 days</code>?</p>\n"}, {"tags": ["python", "list", "set"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1462395561, "post_id": 37037885, "comment_id": 61625906, "body": "There is definitely a random element involved in the hashing procedure."}, {"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1462395562, "post_id": 37037885, "comment_id": 61625908, "body": "For starters, the order of the hash isn&#39;t guaranteed, so the order of the list wouldn&#39;t be guaranteed either."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1462395767, "post_id": 37037885, "comment_id": 61626006, "body": "I guess you can use <a href=\"https://pypi.python.org/pypi/ordered-set\" rel=\"nofollow noreferrer\">ordered-set</a> instead of <code>set</code>"}, {"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1462395788, "post_id": 37037885, "comment_id": 61626014, "body": "@TigerhawkT3:  I disagree with the dupe.  The dupe talks about dictionaries; this is asking about the order of a <code>list(set(l))</code>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1462395903, "post_id": 37037885, "comment_id": 61626073, "body": "Dictionaries are sets with attached values. The hashing is the same."}, {"owner": {"reputation": 12740, "user_id": 3907250, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/RIhjj.jpg?s=128&g=1", "display_name": "Aerin", "link": "https://stackoverflow.com/users/3907250/aerin"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462396067, "post_id": 37037885, "comment_id": 61626155, "body": "@TigerhawkT3 this is question about hash-to-list ordering, do you still think it&#39;s the same?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1462396530, "post_id": 37037885, "comment_id": 61626361, "body": "@TigerhawkT3 I first marked this question as a duplicate but I just realized that it&#39;s slightly different with the dup and other similar questions as well. The question&#39;s tops says that clearly."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462396548, "post_id": 37037885, "comment_id": 61626369, "body": "Also see <a href=\"http://stackoverflow.com/questions/5629023/key-order-in-python-dictionaries#comment48032902_5629023\">this comment</a> and <a href=\"http://stackoverflow.com/questions/24482872/i-know-python-dict-is-order-less-but-why-i-am-getting-keys-in-same-order-always\">this question</a> and the implementation detail in <a href=\"https://docs.python.org/2/library/stdtypes.html#dict.items\" rel=\"nofollow noreferrer\">this documentation</a>."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1462396652, "post_id": 37037885, "comment_id": 61626419, "body": "@DDDrupal Please read <a href=\"http://stackoverflow.com/questions/30537090/whats-the-logic-behind-pythons-hash-function-order\" title=\"whats the logic behind pythons hash function order\">stackoverflow.com/questions/30537090/&hellip;</a> if you want to understand the logic, but about changing the order over the time, if you don&#39;t modify the list the order would be same over the time."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462396906, "post_id": 37037885, "comment_id": 61626545, "body": "As the question I linked above says, in the documentation the answer points to, it depends on the &quot;history of insertions and deletions.&quot; I&#39;d say that means that if you build it in the exact same way you&#39;ll get the exact same iteration order. Note that it also says that it&#39;s implementation-dependent, so your program shouldn&#39;t rely on this ordering."}, {"owner": {"reputation": 806, "user_id": 5116726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896265d01f444fe655496d6e23716e32?s=128&d=identicon&r=PG&f=1", "display_name": "mbrig", "link": "https://stackoverflow.com/users/5116726/mbrig"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1462397781, "post_id": 37037885, "comment_id": 61626974, "body": "@TigerhawkT3 I&#39;d argue that even if the answer is the same as for dicts, the explanation that sets, and list(set(l)) will do the same thing is enough to make this not a dupe."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1462398101, "post_id": 37037885, "comment_id": 61627111, "body": "This question Y may be about sets while the other question Y is about dictionaries, but question X is about hash tables (see the <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>). Ignoring a useful resource because of a trivial difference like that would be a disservice."}, {"owner": {"reputation": 806, "user_id": 5116726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896265d01f444fe655496d6e23716e32?s=128&d=identicon&r=PG&f=1", "display_name": "mbrig", "link": "https://stackoverflow.com/users/5116726/mbrig"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1462398377, "post_id": 37037885, "comment_id": 61627240, "body": "@TigerhawkT3 That&#39;s definitely true, but if I&#39;m wondering what order my list(set(l)) will be in, an answer explaining that a set is a hash table, and linking to the explanation of dictionary/hash table ordering (maybe with a summary, maybe not), is substantially more useful than a link to a question about dicts that I may not understand as being related. There may already be a dupe target that does the same thing."}, {"owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "edited": false, "score": 0, "creation_date": 1465595381, "post_id": 37037885, "comment_id": 62984574, "body": "Some of these comments are about the semantics of the question not the question. please delete?"}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 2, "last_activity_date": 1515755020, "last_edit_date": 1515755020, "creation_date": 1465587270, "answer_id": 37755913, "question_id": 37037885, "link": "https://stackoverflow.com/questions/37037885/does-python-listseta-change-its-order-every-time/37755913#37755913", "title": "Does python list(set(a)) change its order every time?", "body": "<p>I would suggest an auxiliary <code>set()</code> to ensure unicity when adding items on the list, thus preserving the order of your <code>list()</code>, and not storing the <code>set()</code> per se.</p>\n\n<p>First, load your list and create a set with the contents\nBefore adding items to your list, check that they are not in the set (much faster search using \"in\" from the set rather than the list, specially if there are many elements)\nPickle your list, the order will be exactly the one you want</p>\n\n<p>Drawback: takes twice as much memory than handling only a <code>set()</code></p>\n"}], "owner": {"reputation": 12740, "user_id": 3907250, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/RIhjj.jpg?s=128&g=1", "display_name": "Aerin", "link": "https://stackoverflow.com/users/3907250/aerin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 1, "accepted_answer_id": 37755913, "answer_count": 1, "score": 7, "last_activity_date": 1515755020, "creation_date": 1462395459, "last_edit_date": 1462397211, "question_id": 37037885, "link": "https://stackoverflow.com/questions/37037885/does-python-listseta-change-its-order-every-time", "title": "Does python list(set(a)) change its order every time?", "body": "<p>I have a list of 5 million string elements, which are stored as a pickle object.</p>\n\n<pre><code>a = ['https://en.wikipedia.org/wiki/Data_structure','https://en.wikipedia.org/wiki/Data_mining','https://en.wikipedia.org/wiki/Statistical_learning_theory','https://en.wikipedia.org/wiki/Machine_learning','https://en.wikipedia.org/wiki/Computer_science','https://en.wikipedia.org/wiki/Information_theory','https://en.wikipedia.org/wiki/Statistics','https://en.wikipedia.org/wiki/Mathematics','https://en.wikipedia.org/wiki/Signal_processing','https://en.wikipedia.org/wiki/Sorting_algorithm','https://en.wikipedia.org/wiki/Data_structure','https://en.wikipedia.org/wiki/Quicksort','https://en.wikipedia.org/wiki/Merge_sort','https://en.wikipedia.org/wiki/Heapsort','https://en.wikipedia.org/wiki/Insertion_sort','https://en.wikipedia.org/wiki/Introsort','https://en.wikipedia.org/wiki/Selection_sort','https://en.wikipedia.org/wiki/Timsort','https://en.wikipedia.org/wiki/Cubesort','https://en.wikipedia.org/wiki/Shellsort']\n</code></pre>\n\n<p>To remove duplicates, I use <code>set(a)</code>, then I made it a list again through <code>list(set(a))</code>. </p>\n\n<p>My question is:</p>\n\n<p>Even if I restart python, and read the list from the pickle file, will the order of <code>list(set(a))</code> be the same every time?</p>\n\n<p>I'm eager to know how this hash -> list ordering works. </p>\n\n<hr>\n\n<p>I tested with a small dataset and it seems to have a consistent ordering.</p>\n\n<pre><code>In [50]: a = ['x','y','z','k']\n\nIn [51]: a\n['x', 'y', 'z', 'k']\n\nIn [52]: list(set(a))\n['y', 'x', 'k', 'z']\n\nIn [53]: b=list(set(a))\n\nIn [54]: list(set(b))\n['y', 'x', 'k', 'z']\n\nIn [55]: del b\n\nIn [56]: b=list(set(a))\n\nIn [57]: b\n['y', 'x', 'k', 'z']\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 298, "user_id": 3965212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50afba062fecc7419eff1740c2671391?s=128&d=identicon&r=PG&f=1", "display_name": "Heval", "link": "https://stackoverflow.com/users/3965212/heval"}, "is_accepted": true, "score": 0, "last_activity_date": 1462469754, "creation_date": 1462469754, "answer_id": 37056853, "question_id": 37037877, "link": "https://stackoverflow.com/questions/37037877/texttable-draw-changes-the-format-of-the-content/37056853#37056853", "title": "texttable draw changes the format of the content", "body": "<p>The problem was that if no type specified for the values of columns, <strong>auto</strong> type is assigned to it. It means most possible type will be evaluated. Since <strong>1.0</strong> or <strong>0.0</strong> is closer the integer than float, they were converted to int. For the rest, they were closer to float and converted accordingly with a default precision 3.</p>\n\n<p>The solution in my case was to use </p>\n\n<pre><code>t.set_cols_dtype([\"t\", \"t\"])\n</code></pre>\n\n<p>just before the line</p>\n\n<pre><code>tt.add_rows(printed_list)\n</code></pre>\n\n<p>to give the specific field types. I used <strong>text</strong> as in my case I already formatted my input however, texttable supports <strong>float</strong> with a configurable precision as field type hence using it was also probable.</p>\n"}], "owner": {"reputation": 298, "user_id": 3965212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50afba062fecc7419eff1740c2671391?s=128&d=identicon&r=PG&f=1", "display_name": "Heval", "link": "https://stackoverflow.com/users/3965212/heval"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 37056853, "answer_count": 1, "score": 0, "last_activity_date": 1462469754, "creation_date": 1462395442, "question_id": 37037877, "link": "https://stackoverflow.com/questions/37037877/texttable-draw-changes-the-format-of-the-content", "title": "texttable draw changes the format of the content", "body": "<p>I'm trying to draw a table with texttable. I have this piece of code to arrange the content of the table:</p>\n\n<pre><code>def get_int_avg_pre(r_list, p_list):\nli = []\nrecall_list = [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]\nfor recall in recall_list:\n    r_ind = 0\n    for i in r_list:\n        if float(i)/100 &gt;= recall:\n            r_ind = r_list.index(i)\n            break\n    pre = max(p_list[r_ind:])\n    li.append([str(recall), \"{:.2f}\".format(float(pre)/100)])\nreturn li\n\n\ndef print_logs(qs, rs):\n    t = Texttable()\n    inter_val = get_int_avg_pre(r_list, p_list)\n\n    printed_list = [['Recall', 'Interpolated Precision']]\n\n    for el in inter_val:\n        printed_list.append(el)\n\n    t.add_rows(printed_list)\n\n    print t.draw()\n</code></pre>\n\n<p>I skipped some parts as you see, since they are irrelevant to my question. With this script, the table content is not what I want in terms of formatting. Outputs are below and I can to see the exact values in the printed_list. Can someone help me to figure out what I'm doing wrong?</p>\n\n<p>printed_list:</p>\n\n<pre><code>[['Recall', 'Interpolated Precision'], ['0.0', '1.00'], ['0.1', '1.00'], ['0.2', '1.00'], ['0.3', '0.50'], ['0.4', '0.50'], ['0.5', '0.50'], ['0.6', '0.38'], ['0.7', '0.38'], ['0.8', '0.36'], ['0.9', '0.36'], ['1.0', '0.36']]\n</code></pre>\n\n<p>Table:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3M6YB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3M6YB.png\" alt=\"Table\"></a></p>\n"}, {"tags": ["python", "r", "scipy", "transform", "r-caret"], "comments": [{"owner": {"reputation": 6027, "user_id": 4266453, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3384be34de79588408439b6e1626f7c?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4266453/chris"}, "edited": false, "score": 0, "creation_date": 1462398909, "post_id": 37037837, "comment_id": 61627468, "body": "if you call from VGAM vs caret do you get a faster result (I would imagine not but worth a try) - can&#39;t find anything for python directly"}, {"owner": {"reputation": 313, "user_id": 602010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9190f38849e1bce62141344dc924ea8?s=128&d=identicon&r=PG", "display_name": "Mohsen Mesgarpour", "link": "https://stackoverflow.com/users/602010/mohsen-mesgarpour"}, "reply_to_user": {"reputation": 6027, "user_id": 4266453, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3384be34de79588408439b6e1626f7c?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4266453/chris"}, "edited": false, "score": 0, "creation_date": 1462481953, "post_id": 37037837, "comment_id": 61667328, "body": "I am going to give it a try. thanks."}, {"owner": {"reputation": 313, "user_id": 602010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9190f38849e1bce62141344dc924ea8?s=128&d=identicon&r=PG", "display_name": "Mohsen Mesgarpour", "link": "https://stackoverflow.com/users/602010/mohsen-mesgarpour"}, "reply_to_user": {"reputation": 6027, "user_id": 4266453, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e3384be34de79588408439b6e1626f7c?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4266453/chris"}, "edited": false, "score": 0, "creation_date": 1464644057, "post_id": 37037837, "comment_id": 62558075, "body": "The solution is uploaded on the Gist: <a href=\"https://gist.github.com/mesgarpour/f24769cd186e2db853957b10ff6b7a95\" rel=\"nofollow noreferrer\">gist.github.com/mesgarpour/f24769cd186e2db853957b10ff6b7a95</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35343, "user_id": 163740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/aee56554ec30edfd680e1c937ed4e54d?s=128&d=identicon&r=PG", "display_name": "ogrisel", "link": "https://stackoverflow.com/users/163740/ogrisel"}, "edited": false, "score": 2, "creation_date": 1505217097, "post_id": 37044007, "comment_id": 79313417, "body": "That code does not estimate the value of <code>lam</code> from samples though."}], "tags": [], "owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "is_accepted": false, "score": 1, "last_activity_date": 1462430230, "creation_date": 1462430230, "answer_id": 37044007, "question_id": 37037837, "link": "https://stackoverflow.com/questions/37037837/python-library-yeo-johnson-transformation/37044007#37044007", "title": "Python Library: Yeo-Johnson transformation", "body": "<p>These things are fairly straightforward to DIY with numpy:</p>\n\n<pre><code>In [2]: def yj(lam, y):\n    lam, y = np.broadcast_arrays(lam, y)\n    l0 = lam == 0\n    l2 = lam == 2\n    result = np.empty_like(lam, dtype=float)\n\n    mask1 = (~l0) &amp; (y &gt;= 0)\n    ym, lm = y[mask1], lam[mask1]\n    result[mask1] = ((ym + 1.)**lm - 1.) / lm\n\n    mask2 = (l0) &amp; (y &gt;= 0)\n    result[mask2] = np.log1p(y[mask2])\n\n    # TODO: handle two more cases here, this is similar\n\n    return result\n</code></pre>\n\n<p>Note that the above is an untested demo which does not check dtypes, does not exercise any care for edge cases (small y, small lambda) etc.</p>\n"}], "owner": {"reputation": 313, "user_id": 602010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9190f38849e1bce62141344dc924ea8?s=128&d=identicon&r=PG", "display_name": "Mohsen Mesgarpour", "link": "https://stackoverflow.com/users/602010/mohsen-mesgarpour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3357, "favorite_count": 2, "closed_date": 1462545696, "answer_count": 1, "score": 0, "last_activity_date": 1473099005, "creation_date": 1462395300, "last_edit_date": 1473099005, "question_id": 37037837, "link": "https://stackoverflow.com/questions/37037837/python-library-yeo-johnson-transformation", "closed_reason": "Not suitable for this site", "title": "Python Library: Yeo-Johnson transformation", "body": "<p>I'm looking for an implementation of the <a href=\"https://www.stat.umn.edu/arc/yjpower.pdf\" rel=\"nofollow\">Yeo-Johnson power transformation</a> in Python. Unfortunately, SciPy library has the implementation of box-cox (applies only to positive numbers)!</p>\n\n<p>At the moment, I'm using an R package (<a href=\"http://www.inside-r.org/packages/cran/vgam/docs/yeo.johnson\" rel=\"nofollow\">caret::preProcess</a>) via RPY2; however, it has a big performance hit.</p>\n\n<p>Thanks</p>\n\n<p>P.S.: calling caret::preProcess from Python:</p>\n\n<pre><code>#!/usr/bin/env python\nfrom rpy2.robjects.functions import SignatureTranslatedFunction\nimport rpy2.robjects as robjects\nfrom rpy2.robjects.packages import importr\n\nr_caret = importr(\"caret\")\nr_stats = importr(\"stats\")\n\nfeature_in = list(range(-5, 5))\n\nr_caret.preProcess = SignatureTranslatedFunction(r_caret.preProcess, {'r_lambda': 'lambda'})\nr_scale = r_caret.preProcess(robjects.DataFrame({'a': robjects.FloatVector(feature_in)}),\n                          method=robjects.StrVector([\"center\", \"scale\", \"YeoJohnson\"]),\n                          r_lambda=robjects.IntVector([-10, 10, 0.1]),\n                          na_remove=False)\ntemp = r_stats.predict(r_scale, robjects.DataFrame({'a': robjects.FloatVector(feature_in)}))\nfeature_out = np.array(temp.rx2(1), dtype=np.float64)\n\nprint(feature_in)  # output [-5, -4, -3, -2, -1, 0, 1, 2, 3, 4]\nprint(feature_out)  # output [-1.46625361 -1.14751589 -0.82725836 -0.50508336 -0.1803113  0.14850228  0.48337191  0.8224039  1.16416754  1.5079769]\n</code></pre>\n\n<p>The solution is as the following:</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: UTF-8 -*-\nimport warnings\nimport numpy as np\nimport pandas as pd\nimport sys\n\n__author__ = \"Mohsen Mesgarpour\"\n__copyright__ = \"Copyright 2016, https://github.com/mesgarpour\"\n__credits__ = [\"Mohsen Mesgarpour\"]\n__license__ = \"GPL\"\n__version__ = \"1.0\"\n__maintainer__ = \"Mohsen Mesgarpour\"\n__email__ = \"mohsen.mesgarpour@gmail.com\"\n\n\nclass YeoJohnson:\n    \"\"\"\n    Computing Yeo-Johnson transofrmation, which is an extension of Box-Cox transformation\n    but can handle both positive and negative values.\n\n    References:\n    Weisberg, S. (2001). Yeo-Johnson Power Transformations.\n    Department of Applied Statistics, University of Minnesota. Retrieved June, 1, 2003.\n    https://www.stat.umn.edu/arc/yjpower.pdf\n\n    Adapted from CRAN - Package VGAM\n    \"\"\"\n    def fit(self, y, lmbda, derivative=0, epsilon=np.finfo(np.float).eps, inverse=False):\n        \"\"\"\n        :param y: The variable to be transformed (numeric array).\n        :param lmbda: The function's Lambda value (numeric value or array).\n        :param derivative: The derivative with respect to lambda\n        (non-negative integer; default: ordinary function evaluation).\n        :param epsilon: The lambda's tolerance (positive value).\n        :param inverse: The inverse transformation option (logical value).\n        :return: The Yeo-Johnson transformation or its inverse, or its derivatives with respect to lambda, of y.\n        \"\"\"\n        # Validate arguments\n        self.__validate(y, lmbda, derivative, epsilon, inverse)\n\n        # initialise\n        y = np.array(y, dtype=float)\n        result = y\n        if not (isinstance(lmbda, list) or isinstance(lmbda, np.ndarray)):\n            lmbda, y = np.broadcast_arrays(lmbda, y)\n            lmbda = np.array(lmbda, dtype=float)\n        l0 = np.abs(lmbda) &gt; epsilon\n        l2 = np.abs(lmbda - 2) &gt; epsilon\n\n        # Inverse\n        with warnings.catch_warnings():  # suppress warnings\n            warnings.simplefilter(\"ignore\")\n            if inverse is True:\n                mask = np.where(((y &gt;= 0) &amp; l0) == True)\n                result[mask] = np.power(np.multiply(y[mask], lmbda[mask]) + 1, 1 / lmbda[mask]) - 1\n\n                mask = np.where(((y &gt;= 0) &amp; ~l0) == True)\n                result[mask] = np.expm1(y[mask])\n\n                mask = np.where(((y &lt; 0) &amp; l2) == True)\n                result[mask] = 1 - np.power(np.multiply(-(2 - lmbda[mask]), y[mask]) + 1, 1 / (2 - lmbda[mask]))\n\n                mask = np.where(((y &lt; 0) &amp; ~l2) == True)\n                result[mask] = -np.expm1(-y[mask])\n\n            # Derivative\n            else:\n                if derivative == 0:\n                    mask = np.where(((y &gt;= 0) &amp; l0) == True)\n                    result[mask] = np.divide(np.power(y[mask] + 1, lmbda[mask]) - 1, lmbda[mask])\n\n                    mask = np.where(((y &gt;= 0) &amp; ~l0) == True)\n                    result[mask] = np.log1p(y[mask])\n\n                    mask = np.where(((y &lt; 0) &amp; l2) == True)\n                    result[mask] = np.divide(-(np.power(-y[mask] + 1, 2 - lmbda[mask]) - 1), 2 - lmbda[mask])\n\n                    mask = np.where(((y &lt; 0) &amp; ~l2) == True)\n                    result[mask] = -np.log1p(-y[mask])\n\n                # Not Derivative\n                else:\n                    p = self.fit(y, lmbda, derivative=derivative - 1, epsilon=epsilon, inverse=inverse)\n\n                    mask = np.where(((y &gt;= 0) &amp; l0) == True)\n                    result[mask] = np.divide(np.multiply(np.power(y[mask] + 1, lmbda[mask]),\n                                                         np.power(np.log1p(y[mask]), derivative)) -\n                                             np.multiply(derivative, p[mask]), lmbda[mask])\n\n                    mask = np.where(((y &gt;= 0) &amp; ~l0) == True)\n                    result[mask] = np.divide(np.power(np.log1p(y[mask]), derivative + 1), derivative + 1)\n\n                    mask = np.where(((y &lt; 0) &amp; l2) == True)\n                    result[mask] = np.divide(-(np.multiply(np.power(-y[mask] + 1, 2 - lmbda[mask]),\n                                                                    np.power(-np.log1p(-y[mask]), derivative)) -\n                                                        np.multiply(derivative, p[mask])), 2 - lmbda[mask])\n\n                    mask = np.where(((y &lt; 0) &amp; ~l2) == True)\n                    result[mask] = np.divide(np.power(-np.log1p(-y[mask]), derivative + 1), derivative + 1)\n\n        return result\n\n    @staticmethod\n    def __validate(y, lmbda, derivative, epsilon, inverse):\n        try:\n            if not isinstance(y, (list, np.ndarray, pd.Series)):\n                raise Exception(\"Argument 'y' must be a list!\")\n            if not isinstance(lmbda, (int, float, np.int, np.float)):\n                if not isinstance(lmbda, (list, np.ndarray, pd.Series)) or len(lmbda) != len(y):\n                    raise Exception(\"Argument 'lmbda' must be a number \"\n                                    \"or a list, which its length matches 'y' argument!\")\n            if not isinstance(derivative, (int, float, np.int, np.float)) or derivative &lt; 0:\n                raise Exception(\"Argument 'derivative' must be a non-negative integer!\")\n            if not isinstance(epsilon, (int, float, np.int, np.float)) or epsilon &lt;= 0:\n                raise Exception(\"Argument 'epsilon' must be a positive number!\")\n            if not isinstance(inverse, bool):\n                raise Exception(\"Argument 'inverse' must be boolean!\")\n            if inverse is True and derivative != 0:\n                raise Exception(\"Argument 'derivative' must be zero \"\n                                \"when argument 'inverse' is 'True'!\")\n        except ():\n            sys.exit()\n</code></pre>\n"}, {"tags": ["python", "excel", "python-2.7", "input", "data-manipulation"], "comments": [{"owner": {"reputation": 8830, "user_id": 5336948, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/YqCFK.jpg?s=128&g=1", "display_name": "Forward Ed", "link": "https://stackoverflow.com/users/5336948/forward-ed"}, "edited": false, "score": 0, "creation_date": 1462395434, "post_id": 37037830, "comment_id": 61625832, "body": "In excel you open VBA and you make your variable equal to the range of the columns you want.  See this <a href=\"http://stackoverflow.com/questions/1549191/array-from-range-in-excel-vba\">question</a>"}, {"owner": {"reputation": 119, "user_id": 2806536, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/caacd8715a5f30c2d3b52a80b2ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "LismUK", "link": "https://stackoverflow.com/users/2806536/lismuk"}, "reply_to_user": {"reputation": 8830, "user_id": 5336948, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/YqCFK.jpg?s=128&g=1", "display_name": "Forward Ed", "link": "https://stackoverflow.com/users/5336948/forward-ed"}, "edited": false, "score": 0, "creation_date": 1462399119, "post_id": 37037830, "comment_id": 61627565, "body": "@ForwardEd I think he want&#39;s a python solution."}, {"owner": {"reputation": 8830, "user_id": 5336948, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/YqCFK.jpg?s=128&g=1", "display_name": "Forward Ed", "link": "https://stackoverflow.com/users/5336948/forward-ed"}, "reply_to_user": {"reputation": 119, "user_id": 2806536, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/caacd8715a5f30c2d3b52a80b2ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "LismUK", "link": "https://stackoverflow.com/users/2806536/lismuk"}, "edited": false, "score": 0, "creation_date": 1462400562, "post_id": 37037830, "comment_id": 61628121, "body": "@lismUK quite possible, but not stated, and the question was tagged with excel."}, {"owner": {"reputation": 119, "user_id": 2806536, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/caacd8715a5f30c2d3b52a80b2ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "LismUK", "link": "https://stackoverflow.com/users/2806536/lismuk"}, "reply_to_user": {"reputation": 8830, "user_id": 5336948, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/YqCFK.jpg?s=128&g=1", "display_name": "Forward Ed", "link": "https://stackoverflow.com/users/5336948/forward-ed"}, "edited": false, "score": 0, "creation_date": 1462400700, "post_id": 37037830, "comment_id": 61628173, "body": "@ForwardEd Two of the other tags are python though."}, {"owner": {"reputation": 8830, "user_id": 5336948, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/YqCFK.jpg?s=128&g=1", "display_name": "Forward Ed", "link": "https://stackoverflow.com/users/5336948/forward-ed"}, "reply_to_user": {"reputation": 119, "user_id": 2806536, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/caacd8715a5f30c2d3b52a80b2ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "LismUK", "link": "https://stackoverflow.com/users/2806536/lismuk"}, "edited": false, "score": 0, "creation_date": 1462400991, "post_id": 37037830, "comment_id": 61628262, "body": "@LismUK Yes they are, but again the question does not rule out the possibility of VBA within excel.  Python is a very educated guess, but not the sole possibility."}], "answers": [{"tags": [], "owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "is_accepted": false, "score": 1, "last_activity_date": 1462395908, "creation_date": 1462395908, "answer_id": 37037987, "question_id": 37037830, "link": "https://stackoverflow.com/questions/37037830/methods-of-reading-in-and-creating-a-list-array-with-excel-information-from-exce/37037987#37037987", "title": "Methods of reading in and creating a list/array with excel information from excel", "body": "<p>You have a few choices here.  If your data is rectangular, starts from A1, etc. you should just use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html\" rel=\"nofollow\">pandas.read_excel</a>:</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_excel(\"/path/to/excel/file\", sheetname = \"My Sheet Name\")\nprint(df[\"column1\"].values)\nprint(df[\"column2\"].values)\n</code></pre>\n\n<p>If your data is a little messier, and the read_excel options aren't enough to get your data, then I think your only choice will be to use something a little lower level like the fantastic <a href=\"https://github.com/python-excel/xlrd\" rel=\"nofollow\">xlrd module</a> (read the quickstart on the README)</p>\n"}], "owner": {"reputation": 9, "user_id": 6292790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b6e863d85e0785d3bf36e6b131c95d3?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6292790/nathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1462395908, "creation_date": 1462395278, "question_id": 37037830, "link": "https://stackoverflow.com/questions/37037830/methods-of-reading-in-and-creating-a-list-array-with-excel-information-from-exce", "title": "Methods of reading in and creating a list/array with excel information from excel", "body": "<p>Imagine I am given two columns: a,b,c,d,e,f and e,f,g,h,i,j (commas indicating a new row in the column)</p>\n\n<p>How could I read in such information from excel and put it in an two separate arrays? I would like to manipulate this info and read it off later. as part of an output.</p>\n"}, {"tags": ["python", "nan", "chaos"], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1462399946, "creation_date": 1462399946, "answer_id": 37038956, "question_id": 37037805, "link": "https://stackoverflow.com/questions/37037805/julia-set-python/37038956#37038956", "title": "Julia Set Python", "body": "<p>Just for the sake of confession: I know nothing about Julia sets nor matplotlib.</p>\n\n<p>pyplot seems an odd choice due to its low resolution and the fact that colors can't be specified as a vector alongside X &amp; Y.  And had it worked as written, <code>'bo'</code> would have produced just a grid of blue circles.</p>\n\n<p>Your first <code>while True:</code> loop isn't needed as you've picked what you believe to be a viable <code>c</code>.</p>\n\n<p>Here's my rework of your code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nc = complex(1.5, -0.6)\n\n# image size\nimg_x = 100\nimg_y = 100\n\n# drawing area\nxi = -1.24\nxf = 1.4\nyi = -2.9\nyf = 2.1\n\niterations = 8 # maximum iterations allowed (maps to 8 shades of gray)\n\n# the loop for the julia set\n\nresults = {}  # pyplot speed optimization to plot all same gray at once\n\nfor y in range(img_y):\n    zy = y * (yf - yi) / (img_y - 1)  + yi\n    for x in range(img_x):\n        zx = x * (xf - xi) / (img_x - 1)  + xi\n        z = zx + zy * 1j\n        for i in range(iterations):\n            if abs(z) &gt; 2:\n                break\n            z = z * z + c\n        if i not in results:\n            results[i] = [[], []]\n        results[i][0].append(x)\n        results[i][1].append(y)\n\nfor i, (xli, yli) in results.items():\n    gray = 1.0 - i / iterations\n    plt.plot(xli, yli, '.', color=(gray, gray, gray))\n\nplt.show()      \n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/f9z0s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f9z0s.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 7, "user_id": 6292782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d009825de81bcff95ef2552a4f88e9?s=128&d=identicon&r=PG&f=1", "display_name": "Victor RM", "link": "https://stackoverflow.com/users/6292782/victor-rm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462399946, "creation_date": 1462395191, "question_id": 37037805, "link": "https://stackoverflow.com/questions/37037805/julia-set-python", "title": "Julia Set Python", "body": "<p>I've trying to make a julia set in python but my output is Nan at some early process. I don't know what causes it.\nJust for the sake of confession: my programming classes are not good, I don't really know what I am doing, this is mostly from what I've learned from Google.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nc = complex(1.5,-0.6)\nxli = []\nyli = []\nwhile True:\n    z = c\n    for i in range(1,101):\n        if abs(z) &gt; 2.0:\n            break   \n        z = z*z + c\n\n    if i&gt;0 and i &lt;100:\n        break\n\nxi  = -1.24\nxf = 1.4\nyi = -2.9\nyf = 2.1\n\n#the loop for the julia set \nfor k in range(1,51):\n    x = xi + k*(xf-xi)/50   \n    for n in range(51):\n        y = yi + n*(yf-yi)/50\n        z = z+ x + y* 1j \n        print z\n        for i in range(51):\n            z = z*z + c    #the error is coming from somewhere around here\n            if abs(z) &gt; 2:  #not sure if this is correct\n                xli.append(x)\n                yli.append(y)\n\n\n\nplt.plot(xli,yli,'bo')\nplt.show()      \n\nprint xli\nprint yli\n</code></pre>\n\n<p>Thank you in advance :)</p>\n"}, {"tags": ["python", "plot", "3d", "som"], "answers": [{"comments": [{"owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "reply_to_user": {"reputation": 99, "user_id": 6292738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ad10d09b22035a2026b17c34a92a993a?s=128&d=identicon&r=PG&f=1", "display_name": "Nia", "link": "https://stackoverflow.com/users/6292738/nia"}, "edited": false, "score": 0, "creation_date": 1462466917, "post_id": 37037941, "comment_id": 61658908, "body": "@ Nia: You&#39;re welcome. If solutions work, you can upvote or accept the answer. This is a way of showing others that the answer is helpful and for thanking the author for spending his time. Maybe you want to have a short look here on how to proceed if an answer works: <a href=\"http://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>  Though it is polite to do so in normal life, &quot;thank you&quot; in comments is not really encouraged."}], "tags": [], "owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "is_accepted": true, "score": 0, "last_activity_date": 1462395727, "creation_date": 1462395727, "answer_id": 37037941, "question_id": 37037751, "link": "https://stackoverflow.com/questions/37037751/how-to-plot-a-surface-chart-from-a-array-of-frequency/37037941#37037941", "title": "How to plot a surface chart from a array of frequency", "body": "<p>Try this, which is derived from <a href=\"http://matplotlib.org/examples/mplot3d/surface3d_demo.html\" rel=\"nofollow noreferrer\">http://matplotlib.org/examples/mplot3d/surface3d_demo.html</a>:</p>\n\n<pre><code>from mpl_toolkits.mplot3d import Axes3D\nfrom matplotlib import cm\nfrom matplotlib.ticker import LinearLocator, FormatStrFormatter\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nfig = plt.figure()\nax = fig.gca(projection='3d')\nX = np.arange(0, 5)\nY = np.arange(0, 5)\nX, Y = np.meshgrid(X, Y)\nZ = [[  3.,   6.,   4.,   0.,  10.],\n    [  1.,   9.,   4.,  18.,  13.],\n    [  5.,   6.,   4.,   1.,   0.],\n    [  5.,   5.,   6.,   3.,   3.],\n    [ 19.,   9.,   6.,   5.,   5.]]\n\nsurf = ax.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap=cm.coolwarm,\n                       linewidth=0, antialiased=False)\nax.set_zlim(0, 20)\n\nax.zaxis.set_major_locator(LinearLocator(10))\nax.zaxis.set_major_formatter(FormatStrFormatter('%.02f'))\n\nfig.colorbar(surf, shrink=0.5, aspect=5)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/M8lps.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M8lps.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 99, "user_id": 6292738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ad10d09b22035a2026b17c34a92a993a?s=128&d=identicon&r=PG&f=1", "display_name": "Nia", "link": "https://stackoverflow.com/users/6292738/nia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "accepted_answer_id": 37037941, "answer_count": 1, "score": 1, "last_activity_date": 1462397537, "creation_date": 1462394984, "last_edit_date": 1462397537, "question_id": 37037751, "link": "https://stackoverflow.com/questions/37037751/how-to-plot-a-surface-chart-from-a-array-of-frequency", "title": "How to plot a surface chart from a array of frequency", "body": "<p>I am trying to implement a SOM (self-organizing map) in anaconda 2, and my operating system is windows 10.\nAfter pouring iris dataset in, I got a array as following:</p>\n\n<pre><code>matrix([[  3.,   6.,   4.,   0.,  10.],\n    [  1.,   9.,   4.,  18.,  13.],\n    [  5.,   6.,   4.,   1.,   0.],\n    [  5.,   5.,   6.,   3.,   3.],\n    [ 19.,   9.,   6.,   5.,   5.]])\n</code></pre>\n\n<p>and i want to plot a chart looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hBdja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBdja.png\" alt=\"Graph\"></a></p>\n\n<p>I've tried any way i can find, please talk me how to do it.</p>\n"}, {"tags": ["python", "regex", "python-2.7"], "comments": [{"owner": {"reputation": 448, "user_id": 5069314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4KsWL.jpg?s=128&g=1", "display_name": "AkaSh", "link": "https://stackoverflow.com/users/5069314/akash"}, "edited": false, "score": 0, "creation_date": 1462395088, "post_id": 37037722, "comment_id": 61625645, "body": "How is the question too broad ?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462396584, "post_id": 37037722, "comment_id": 61626387, "body": "What output would you expect from the input you&#39;ve specified?"}, {"owner": {"reputation": 448, "user_id": 5069314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4KsWL.jpg?s=128&g=1", "display_name": "AkaSh", "link": "https://stackoverflow.com/users/5069314/akash"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1462396746, "post_id": 37037722, "comment_id": 61626468, "body": "@Rob\u1d69 I have added them in question"}], "answers": [{"tags": [], "owner": {"reputation": 1132, "user_id": 2608308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RdfIu.jpg?s=128&g=1", "display_name": "lesingerouge", "link": "https://stackoverflow.com/users/2608308/lesingerouge"}, "is_accepted": false, "score": 0, "last_activity_date": 1462395454, "creation_date": 1462395454, "answer_id": 37037883, "question_id": 37037722, "link": "https://stackoverflow.com/questions/37037722/extract-variables-using-python-regex/37037883#37037883", "title": "Extract variables using python regex", "body": "<p>If you want just the variables, then do this:</p>\n\n<pre><code>answer = []\nfor line in file_ptr :\n    temp = []\n    for char in line:\n        if char.isalpha():\n            temp.append(char)\n    answer.append(temp)\n</code></pre>\n\n<p>A word of caution though: this would work only with variables that are exactly 1 character in length. More details about <code>isalpha()</code> can be found <a href=\"https://docs.python.org/2/library/stdtypes.html\" rel=\"nofollow\">here</a> or <a href=\"http://www.tutorialspoint.com/python/string_isalpha.htm\" rel=\"nofollow\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 448, "user_id": 5069314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4KsWL.jpg?s=128&g=1", "display_name": "AkaSh", "link": "https://stackoverflow.com/users/5069314/akash"}, "edited": false, "score": 1, "creation_date": 1462395607, "post_id": 37037892, "comment_id": 61625921, "body": "<code>a</code>, <code>b</code>, <code>c</code> are variables.These are elements of list <code>var</code>"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 448, "user_id": 5069314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4KsWL.jpg?s=128&g=1", "display_name": "AkaSh", "link": "https://stackoverflow.com/users/5069314/akash"}, "edited": false, "score": 0, "creation_date": 1462395685, "post_id": 37037892, "comment_id": 61625968, "body": "I&#39;m sorry, I have no idea what you mean."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 1, "creation_date": 1462396367, "post_id": 37037892, "comment_id": 61626284, "body": "This fails on the examples with digits; digits are also &#39;word characters&#39; and so would be included. It can trivially be fixed, though, especially if Python&#39;s <code>re</code> supports <code>[[:alpha:]]</code>. However, for &#39;any&#39; variable name, you need a different expression for just the first character and all next ones, because <code>a0</code> is a valid variable name."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 0, "last_activity_date": 1462395491, "creation_date": 1462395491, "answer_id": 37037892, "question_id": 37037722, "link": "https://stackoverflow.com/questions/37037722/extract-variables-using-python-regex/37037892#37037892", "title": "Extract variables using python regex", "body": "<p>I'm not entirely sure what you're after, but you can do something like this:</p>\n\n<pre><code>re.split(r'[^\\w]', line)\n</code></pre>\n\n<p>to give a list of the alphabetic characters in the line:</p>\n\n<pre><code>&gt;&gt;&gt; re.split(r'[^\\w]', 'a=b*c;')\n['a', 'b', 'c', '']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 448, "user_id": 5069314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4KsWL.jpg?s=128&g=1", "display_name": "AkaSh", "link": "https://stackoverflow.com/users/5069314/akash"}, "is_accepted": false, "score": 0, "last_activity_date": 1462396579, "creation_date": 1462396579, "answer_id": 37038173, "question_id": 37037722, "link": "https://stackoverflow.com/questions/37037722/extract-variables-using-python-regex/37038173#37038173", "title": "Extract variables using python regex", "body": "<p>This is how I did :</p>\n\n<pre><code>l=re.split(r'[^A-Za-z]', 'a=b*2;')\nl=filter(None,l)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "reply_to_user": {"reputation": 448, "user_id": 5069314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4KsWL.jpg?s=128&g=1", "display_name": "AkaSh", "link": "https://stackoverflow.com/users/5069314/akash"}, "edited": false, "score": 0, "creation_date": 1462397088, "post_id": 37038236, "comment_id": 61626624, "body": "<a href=\"http://stackoverflow.com/a/24541431/2564301\">This answer</a> contains the explanation @AkaSh is looking for. Python&#39;s variable names are case sensitive, so it needs the Ignore Case flag (or, alternatively, just a few <code>A-Z</code>s). I&#39;d throw in a few <code>\\b</code> for consistency, though."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 1, "last_activity_date": 1462396823, "creation_date": 1462396823, "answer_id": 37038236, "question_id": 37037722, "link": "https://stackoverflow.com/questions/37037722/extract-variables-using-python-regex/37038236#37038236", "title": "Extract variables using python regex", "body": "<p>I would use <code>re.findall()</code> with whatever pattern matches variable names in the example's programming language. Assuming a typical language, this might work for you:</p>\n\n<pre><code>import re\n\nlines = '''a=b*c;\nd=a+2;\nc=0;\nb=a;'''\n\nfor line in lines.splitlines():\n    print re.findall('[_a-z][_a-z0-9]*', line, re.I)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1462397072, "creation_date": 1462397072, "answer_id": 37038295, "question_id": 37037722, "link": "https://stackoverflow.com/questions/37037722/extract-variables-using-python-regex/37038295#37038295", "title": "Extract variables using python regex", "body": "<p>I'd use some shorter pattern for matching variable names:</p>\n\n<pre><code>import re\nstrs = ['a=b*c;', 'd=a+2;', 'c=0;', 'b=a;']\nprint([re.findall(r'[_a-z]\\w*', x, re.I) for x in strs])\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/Suj0Cj\" rel=\"nofollow\">Python demo</a></p>\n\n<p>Pattern matches:</p>\n\n<ul>\n<li><code>[_a-z]</code> - a <code>_</code> or an ASCII letter (any upper or lowercase due to the case insensitive modifier use <code>re.I</code>)</li>\n<li><code>\\w*</code> - 0 or more alphanumeric or underscore characters.</li>\n</ul>\n\n<p>See the <a href=\"https://regex101.com/r/kL2kU9/1\" rel=\"nofollow\">regex demo</a></p>\n"}], "owner": {"reputation": 448, "user_id": 5069314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4KsWL.jpg?s=128&g=1", "display_name": "AkaSh", "link": "https://stackoverflow.com/users/5069314/akash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 37038236, "answer_count": 5, "score": 0, "last_activity_date": 1462397072, "creation_date": 1462394882, "last_edit_date": 1462396724, "question_id": 37037722, "link": "https://stackoverflow.com/questions/37037722/extract-variables-using-python-regex", "title": "Extract variables using python regex", "body": "<p>Input file contains following lines:</p>\n\n<pre><code>a=b*c;\nd=a+2;\nc=0;\nb=a;\n</code></pre>\n\n<p>Now for each line I want to extract variables that has been used.For example, for line 1, the output should be <code>[a,b,c]</code>.Currently I am doing as follows :</p>\n\n<pre><code>var=[a,b,c,d]     # list of variables\nfor line in file_ptr :\n    if '=' in line :\n        temp=line.split('=') :\n        ans=list(temp[0])\n        if '+' in temp[1] :\n             # do something\n        elif '*' in temp[1] :\n             # do something\n        else :\n             # single variable as line 4  OR constant as line 3\n</code></pre>\n\n<p>Is it possible to do this using regex?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Expected output for above file :</p>\n\n<pre><code>[a,b,c]\n[d,a]\n[c]\n[a,b]\n</code></pre>\n"}, {"tags": ["python", "windows", "command-line", "subprocess", "python-3.4"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1462395270, "post_id": 37037696, "comment_id": 61625749, "body": "Can&#39;t reproduce. Are you sure the error is coming from this code? Show the full traceback."}, {"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "edited": false, "score": 0, "creation_date": 1462398653, "post_id": 37037696, "comment_id": 61627365, "body": "I can&#39;t reproduce it either. What is <code>py</code>? The cpython binary is usually called <code>python</code> or <code>python3</code>."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "reply_to_user": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "edited": false, "score": 0, "creation_date": 1462400443, "post_id": 37037696, "comment_id": 61628088, "body": "@phihag I can&#39;t run Python on Command Line using <code>python</code> or etc. Only <code>py</code> works, don&#39;t know why."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1462405137, "post_id": 37037696, "comment_id": 61629552, "body": "<code>py</code> is the Windows Python launcher, described in <a href=\"https://www.python.org/dev/peps/pep-0397/\" rel=\"nofollow noreferrer\">PEP 397</a>. I&#39;m not sure it has anything to do with this issue though."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1462410023, "post_id": 37037696, "comment_id": 61630844, "body": "I can&#39;t reproduce the problem via <code>py -3.4 ...</code>. The error implies the statement you&#39;re actually running attempts to assign a value to <code>subprocess.call([lul])</code>."}], "owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1462395115, "creation_date": 1462394766, "last_edit_date": 1462395115, "question_id": 37037696, "link": "https://stackoverflow.com/questions/37037696/error-cant-assign-to-function-call-run-on-command-line-via-python", "title": "Error &#39;can&#39;t assign to function call &#39; run on Command Line via Python", "body": "<p>I'm trying to run a one line code on command line via Python.</p>\n\n<p>For example this one is working;</p>\n\n<pre><code>py -c \"import time;a=lambda x: [x for x in range(10)];print(a(5));time.sleep(2);print(a(15))\"\n</code></pre>\n\n<p>I got the expected output with no error etc.</p>\n\n<p>But when I try to open for example <code>Notepad.exe</code> via <code>subprocess</code>;</p>\n\n<pre><code>py -c \"import subprocess;lul='Notepad.exe';subprocess.call([lul])\"\n</code></pre>\n\n<p>It raises error </p>\n\n<blockquote>\n  <p>SyntaxError: can't assign to function call</p>\n</blockquote>\n\n<p>What's the problem here that I can't see? Also I tried to write <code>Notepad.exe</code> directly into <code>subprocess</code> instead of making a variable, same error.</p>\n"}, {"tags": ["python", "recursion", "turtle-graphics"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1462394688, "post_id": 37037596, "comment_id": 61625439, "body": "You seem to be misunderstanding what a class actually is. None of this code actually makes sense as a class. Also, there&#39;s no limit on how much code you can put into a function or class."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1462395508, "post_id": 37037596, "comment_id": 61625874, "body": "This depends on your purpose for the class: what objects and methods does it have?  Which parts are parametrized?  Is this &quot;main&quot; method part of the class?  What comes with initialization?  What parts does the calling program do?"}], "answers": [{"tags": [], "owner": {"reputation": 604, "user_id": 6240393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a0JLj.png?s=128&g=1", "display_name": "nino_701", "link": "https://stackoverflow.com/users/6240393/nino-701"}, "is_accepted": true, "score": 0, "last_activity_date": 1462396245, "creation_date": 1462396245, "answer_id": 37038088, "question_id": 37037596, "link": "https://stackoverflow.com/questions/37037596/how-do-i-make-this-python-turtle-code-smaller-so-it-becomes-a-class/37038088#37038088", "title": "How do I make this python turtle code smaller so it becomes a class?", "body": "<p>You can write your class regardless your code's length, but you can reduce your code like this:</p>\n\n<pre><code>import turtle as t\nt.tracer(2,1) # pour accelerer le dessin\ndef arbre(branche,t):\n    if branche &gt; 5:\n        t.forward(branche)\n        t.right(20)\n        arbre(branche-15,t)\n        t.left(40)\n        arbre(branche-15,t)\n        t.right(20)\n        t.backward(branche)\n\ndef main( n ):\n    for k in range( n ):\n        t.left(10)\n        arbre(90,t)\n\nt.color(\"green\")\nmain(17)\n\nt.right(80)\nt.backward(50)\nt.penup()\nt.forward(25)\nt.pendown()\nt.right(60)\n\nmain(10)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6208574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb10a12fa121147d0f7eff57fc3d7a4b?s=128&d=identicon&r=PG&f=1", "display_name": "zeldamia", "link": "https://stackoverflow.com/users/6208574/zeldamia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 37038088, "answer_count": 1, "score": -2, "last_activity_date": 1462396245, "creation_date": 1462394398, "last_edit_date": 1462395876, "question_id": 37037596, "link": "https://stackoverflow.com/questions/37037596/how-do-i-make-this-python-turtle-code-smaller-so-it-becomes-a-class", "title": "How do I make this python turtle code smaller so it becomes a class?", "body": "<p>I am writing a piece of code that draws a very simple \"tree\" recursively. It's a set of functions along with a few \"set up\" lines, however, I would like to integrate it to a bigger program, so I would like to put this under a class to then call it to draw the tree.</p>\n\n<p>My question is, being new to python, how do I do it? I read about <code>__init__</code> and <code>self.()</code>, but my code seems to be very fuzzy, all over the place and not compact enough to neatly transform it into a class. </p>\n\n<p>How should I first reduce the lines of code so it all fits into functions? </p>\n\n<pre><code>import turtle as t\nimport random\ndef arbre(branche,t):\n    if branche &gt; 5:\n        t.forward(branche)\n        t.right(20)\n        arbre(branche-15,t)\n        t.left(40)\n        arbre(branche-15,t)\n        t.right(20)\n        t.backward(branche)\ndef main():\n\n    t.up()\n    t.down()\n    t.color(\"green\")\n    arbre(90,t)\n\nfor k in range(0,17):\n    t.left(10)\n    main()\n\nt.right(80)\nt.backward(50)\nt.penup()\nt.forward(25)\nt.pendown()\nt.right(60)\nfor k in range(0,11):\n    t.left(10)\n    main()\n</code></pre>\n"}, {"tags": ["python", "numpy", "matplotlib", "dataframe", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2944831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6801f2cd8021a4444d6109e389810?s=128&d=identicon&r=PG&f=1", "display_name": "Vinni", "link": "https://stackoverflow.com/users/2944831/vinni"}, "edited": false, "score": 0, "creation_date": 1462399145, "post_id": 37037739, "comment_id": 61627575, "body": "Thank you so much @Thomas Tu. I tried it and it compiles without error, but how do I show the plot?"}, {"owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "reply_to_user": {"reputation": 23, "user_id": 2944831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6801f2cd8021a4444d6109e389810?s=128&d=identicon&r=PG&f=1", "display_name": "Vinni", "link": "https://stackoverflow.com/users/2944831/vinni"}, "edited": false, "score": 0, "creation_date": 1462399432, "post_id": 37037739, "comment_id": 61627714, "body": "This will work via matplotlib.  So you might want to use something like iPython, and type in <code>%matplotlib</code> and then run this code."}, {"owner": {"reputation": 23, "user_id": 2944831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6801f2cd8021a4444d6109e389810?s=128&d=identicon&r=PG&f=1", "display_name": "Vinni", "link": "https://stackoverflow.com/users/2944831/vinni"}, "edited": false, "score": 0, "creation_date": 1462400899, "post_id": 37037739, "comment_id": 61628237, "body": "Perfect! @Thomas. Worked like a charm. Thank you so much."}], "tags": [], "owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "is_accepted": true, "score": 0, "last_activity_date": 1462394953, "creation_date": 1462394953, "answer_id": 37037739, "question_id": 37037581, "link": "https://stackoverflow.com/questions/37037581/plotting-of-dataframe-with-two-columns-having-repetitive-values/37037739#37037739", "title": "Plotting of Dataframe with two columns having repetitive values", "body": "<p>You might want to try <code>df.boxplot(by='col_A', column=\"col_C\",)</code></p>\n"}], "owner": {"reputation": 23, "user_id": 2944831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6801f2cd8021a4444d6109e389810?s=128&d=identicon&r=PG&f=1", "display_name": "Vinni", "link": "https://stackoverflow.com/users/2944831/vinni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 37037739, "answer_count": 1, "score": -1, "last_activity_date": 1462394953, "creation_date": 1462394342, "question_id": 37037581, "link": "https://stackoverflow.com/questions/37037581/plotting-of-dataframe-with-two-columns-having-repetitive-values", "title": "Plotting of Dataframe with two columns having repetitive values", "body": "<p>I have a dataframe with repetitive data and I want to plot it (may be using seaborn). column1 has 4 different strings which repeat 6 times each. column2 has their corresponding values in decimals(float). I have to boxplot it with the 4 distinct names on the x-axis and their corresponding values on the y-axis </p>\n\n<pre><code>mydata = np.normal(What to write in this!)\n\nsns.boxplot(data=mydata);  \n\nsns.plt.show()\n</code></pre>\n\n<p>Data is of the form:</p>\n\n<pre><code>     col_A       col_B     col_C\n2    CareNigr     1       593.662\n11   JuncEffu     1      1739.839\n27   HolcLana    23      3255.829\n28   CareNigr     5      2960.367\n49   JuncEffu    19      1137.202\n66   HolcLana    19      3389.649\n67   CareNigr     7      1478.291\n68   HolcLana    13      2898.826\n84   LychFlos    23      2897.199\n87   LychFlos     8      3227.606\n90   JuncEffu     1       937.697\n98   HolcLana    14      2577.221\n108  LychFlos    20      1814.692\n127  CareNigr     4      1617.430\n139  LychFlos     9       583.174\n144  JuncEffu    17      1461.574\n148  CareNigr     3      1387.861\n156  HolcLana     7      2447.608\n167  JuncEffu     1      1566.370\n168  HolcLana    20      1759.717\n175  JuncEffu    24      1845.036\n179  LychFlos     1       598.637\n193  LychFlos     1      2673.134\n194  CareNigr    19      2037.673\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 133, "user_id": 11238748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt00p.jpg?s=128&g=1", "display_name": "s666", "link": "https://stackoverflow.com/users/11238748/s666"}, "edited": false, "score": 0, "creation_date": 1591864549, "post_id": 37037622, "comment_id": 110219051, "body": "@s666 I don&#39;t think so, I discovered it by inspecting the object properties and attributes, there&#39;s a lot of stuff that is undocumented"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 17, "last_activity_date": 1462394519, "creation_date": 1462394519, "answer_id": 37037622, "question_id": 37037564, "link": "https://stackoverflow.com/questions/37037564/using-groupby-group-names-in-function/37037622#37037622", "title": "Using groupby group names in function", "body": "<p>You want the <code>.name</code> attribute to access a groups index value:</p>\n\n<pre><code>In [6]:\ngrouped = df.groupby('user')\nresults = pd.DataFrame()\nresults['value2_sum'] = grouped['value2'].sum()\nresults['user_result'] = grouped.apply(lambda x: x.name)\nresults\n\nOut[6]:\n      value2_sum user_result\nuser                        \na            342           a\nb            333           b\nc            308           c\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1462396027, "creation_date": 1462396027, "answer_id": 37038021, "question_id": 37037564, "link": "https://stackoverflow.com/questions/37037564/using-groupby-group-names-in-function/37038021#37038021", "title": "Using groupby group names in function", "body": "<pre><code>results['user_result'] = results.index.values\n</code></pre>\n\n<p>To pass the index value to your function, you can use a list comprehension.</p>\n\n<pre><code>def my_func(val):\n    return val + \"_\" + val\n\nresults['my_func'] = [my_func(idx) for idx in results.index]\n\n&gt;&gt;&gt; results\n      value2_sum user_result my_func\nuser                                \na            417           a     a_a\nb            306           b     b_b\nc            331           c     c_c\n</code></pre>\n"}], "owner": {"reputation": 1730, "user_id": 674301, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/97e523edc8aabe111dba9f2a8e9e2da6?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/674301/jeremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8774, "favorite_count": 3, "accepted_answer_id": 37037622, "answer_count": 2, "score": 9, "last_activity_date": 1462396027, "creation_date": 1462394286, "last_edit_date": 1462394445, "question_id": 37037564, "link": "https://stackoverflow.com/questions/37037564/using-groupby-group-names-in-function", "title": "Using groupby group names in function", "body": "<p>I have data something like:</p>\n\n<pre><code>df = pd.DataFrame({'user': np.random.choice(['a', 'b','c'], size=100, replace=True),\n                   'value1': np.random.randint(10, size=100),\n                   'value2': np.random.randint(20, size=100)})\n</code></pre>\n\n<p>I'm using it to produce some results, e.g.,</p>\n\n<pre><code>grouped = df.groupby('user')\nresults = pd.DataFrame()\nresults['value2_sum'] = grouped['value2'].sum()\n</code></pre>\n\n<p>For one of he columns of this result dataframe, I'd like to pass the user names to a different function, which uses data outside of the dataframe.</p>\n\n<p>I tried something like:</p>\n\n<pre><code>results['user_result'] = grouped.apply(lambda x: my_func(x.index))\n</code></pre>\n\n<p>But couldn't figure out a syntax that worked.</p>\n"}, {"tags": ["python", "pipe", "subprocess", "multiprocessing"], "comments": [{"owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 0, "creation_date": 1462395972, "post_id": 37037507, "comment_id": 61626110, "body": "Why don&#39;t you just pass <code>stdin=SP.PIPE</code>?"}, {"owner": {"reputation": 1, "user_id": 6292682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58c4d443daf95930b1635e9ad7d6d7fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4509217", "link": "https://stackoverflow.com/users/6292682/user4509217"}, "reply_to_user": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "edited": false, "score": 0, "creation_date": 1462456288, "post_id": 37037507, "comment_id": 61652057, "body": "As my understanding of <code>SP.PIPE</code> is that it will work like a shell-pipe so commands will be daisy chained. I do want to achieve a multi-threaded approach to link multiple cpu intensive task with <code>multiprocessing.Pipe</code> so that I can use more than one cpu on my machine."}], "owner": {"reputation": 1, "user_id": 6292682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58c4d443daf95930b1635e9ad7d6d7fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4509217", "link": "https://stackoverflow.com/users/6292682/user4509217"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1462394054, "creation_date": 1462394054, "question_id": 37037507, "link": "https://stackoverflow.com/questions/37037507/using-multiprocessing-pipe-with-subprocess-for-pipelining", "title": "using multiprocessing.Pipe with subprocess for pipelining", "body": "<p>I am trying to export a bash pipeline into python and use multiple processes to speed up my pipeline. So I have couple of subprocesses spawned with mulitprocessing.Pipe connecting them (sample code below).</p>\n\n<p>However, I always get a hang somewhere towards the end of the process, with an output file missing the last bits. Looks like a buffer deadlock or flush, but couldn't figure it out. I am sure I am missing something obvious, please show me :) Any help or comment would be appreciated. Thank you</p>\n\n<pre><code>#!/usr/bin/env python\nfrom __future__ import print_function\n\nimport os\nimport sys\nimport multiprocessing as MP\nimport subprocess as SP\n\ndef usage():\n    Usage = \"Need /path/to/infile\"\n    log2err(Usage)\n    sys.exit(1)\n\ndef log2err(*s):\n    print(s, file=sys.stderr)\n\ndef pipeWrite(proc, outpipe):\n    # ouput only\n    global killToken\n    while 1:\n        s = proc.stdout.read(bufferSize)\n        if len(s) == 0:\n            break\n        #log2err('Write %s: %s' %(os.getpid(), len(s)))\n        outpipe.send_bytes(s)\n\n    log2err(\"Write PID %s: sending kill\" % os.getpid())\n    outpipe.send_bytes(killToken)\n    outpipe.close()\n\ndef pipeRead(proc, inpipe):\n    # input only\n    global killToken\n    while 1:\n        s = inpipe.recv_bytes(bufferSize)\n        #log2err('Read %s: %s' %(os.getpid(), len(s)))\n        if s == killToken:\n            log2err(\"Read PID %s: received kill\" % os.getpid())\n            break\n        proc.stdin.write(s)\n        proc.stdin.flush()\n    # final cleanup \n    proc.stdin.flush()\n    proc.stdin.close()\n    inpipe.close()\n\ndef testRead(infile, outpipe):\n    stmt = \"cat %s\" % infile\n    stmt += \" | tee &gt;( wc -l 1&gt;&amp;2)\" \n    proc = SP.Popen(stmt, shell=True, stdout=SP.PIPE, executable='/bin/bash', bufsize=bufferSize)\n    pipeWrite(proc, outpipe)\n    proc.stdout.close()\n    outpipe.close()\n    log2err('testRead is DONE')\n\ndef testGzip(inpipe, outpipe):\n    stmt = \"gzip -c - | tee &gt;(wc -l 1&gt;&amp;2)\"\n    proc = SP.Popen(stmt, shell=True, stdout=SP.PIPE, stdin=SP.PIPE, executable='/bin/bash', bufsize=bufferSize)\n    PR = MP.Process(target=pipeRead, args=(proc, inpipe))\n    PW = MP.Process(target=pipeWrite, args=(proc, outpipe))\n    PW.start()\n    PR.start()\n    PR.join()\n    proc.stdin.flush()\n    proc.stdin.close()\n    proc.stdout.flush()\n    proc.stdout.close()\n    log2err(\"testGzip PID:%s with Read:%s and Write:%s\" %(os.getpid(), PR.pid, PW.pid))\n    PW.join()\n    log2err('testGzip is DONE')\n\ndef testOutput(infile, inpipe):\n    stmt = \"tee %s.gz | sha512sum - &gt; %s.gz.sha512\" % (infile, infile)\n    proc = SP.Popen(stmt, shell=True, stdin=SP.PIPE, executable='/bin/bash', bufsize=bufferSize)\n    pipeRead(proc, inpipe)\n    inpipe.close()\n    log2err('outputFinal is DONE')\n\nif __name__ == \"__main__\" :\n    try:\n        infile = sys.argv[1]\n        if infile in ('-h', '--help'):\n            usage() \n    except IndexError:\n        usage()\n\n    bufferSize = 256*256\n    killToken = \"I am done with all of these processes\"\n\n    # the curl task stream and the curl checksum and output stream\n    ingestRecv, ingestSend = MP.Pipe(False)\n    ingestProc = MP.Process(target=testRead, args=(infile, ingestSend))\n    # encrypt stream\n    workRecv, workSend = MP.Pipe(False)\n    workProc = MP.Process(target=testGzip, args=(ingestRecv, workSend))\n    # output to file and sha checksum stream\n    outputProc = MP.Process(target=testOutput, args=(infile, workRecv))\n\n    ingestProc.start()\n    log2err(\"ingestProc PID:%s\" % ingestProc.pid)\n\n    workProc.start()\n    log2err(\"workProc PID:%s\" % workProc.pid)\n\n    outputProc.start()\n    log2err(\"outputProc PID:%s\" % outputProc.pid)\n\n    ingestProc.join()\n    log2err(\"ingestProc: joined\")\n\n    workProc.join()\n    log2err(\"workProc: joined\")\n\n    outputProc.join()\n    log2err(\"outputProc: joined\")\n</code></pre>\n"}, {"tags": ["python", "windows", "shell", "cmd", "subprocess"], "comments": [{"owner": {"reputation": 3168, "user_id": 1888503, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/z24JX.png?s=128&g=1", "display_name": "sage88", "link": "https://stackoverflow.com/users/1888503/sage88"}, "edited": false, "score": 0, "creation_date": 1462395146, "post_id": 37037483, "comment_id": 61625675, "body": "Try giving the absolute path to the copy command you&#39;re trying to run."}, {"owner": {"reputation": 258, "user_id": 6181778, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/35fb00a2c9f0bd6ab5f9b31b190e2f0f?s=128&d=identicon&r=PG", "display_name": "cat40", "link": "https://stackoverflow.com/users/6181778/cat40"}, "reply_to_user": {"reputation": 3168, "user_id": 1888503, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/z24JX.png?s=128&g=1", "display_name": "sage88", "link": "https://stackoverflow.com/users/1888503/sage88"}, "edited": false, "score": 0, "creation_date": 1462395388, "post_id": 37037483, "comment_id": 61625808, "body": "Absolute path to what? The program already gives the copy command absolute paths to the source file and destination."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1462396144, "post_id": 37037483, "comment_id": 61626190, "body": "What does &quot;something similar to&quot; mean exactly? How does it differ from what you showed there? If you have absolute paths to the files then <i>where</i> you run the command from doesn&#39;t matter. Is there a reason you are involving the &quot;shell&quot; here though? Would it not be simpler to just not do that and execute <code>copy</code> directly?"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1462409484, "post_id": 37037483, "comment_id": 61630692, "body": "Windows has xcopy.exe and robocopy.exe (robust copy), but the <code>copy</code> command requires <code>shell=True</code>, which requires a command line string instead of an args list."}, {"owner": {"reputation": 3168, "user_id": 1888503, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/z24JX.png?s=128&g=1", "display_name": "sage88", "link": "https://stackoverflow.com/users/1888503/sage88"}, "edited": false, "score": 0, "creation_date": 1462425691, "post_id": 37037483, "comment_id": 61634688, "body": "@cat40 I had meant the absolute path to the copy command. In linux you could use the command <code>which cp</code> and it would print the path to the actual cp command, which in most cases would be /bin/cp. The copy command you&#39;re using in windows lives somewhere in your windows file system and you should be able to give it an absolute path. Glad removing the list solved your problem though."}], "answers": [{"tags": [], "owner": {"reputation": 3424, "user_id": 3750257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KF8gx.png?s=128&g=1", "display_name": "pppery", "link": "https://stackoverflow.com/users/3750257/pppery"}, "is_accepted": true, "score": 3, "last_activity_date": 1462396111, "creation_date": 1462396111, "answer_id": 37038048, "question_id": 37037483, "link": "https://stackoverflow.com/questions/37037483/subprocess-call-from-external-drive/37038048#37038048", "title": "Subprocess.call() from external drive", "body": "<p>Passing a list to <code>subprocess.call</code> overrides the shell tokenization rules. You should pass a string to the <code>call</code> function instead. </p>\n\n<pre><code>subprocess.call(callThis,shell=True)\n</code></pre>\n"}], "owner": {"reputation": 258, "user_id": 6181778, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/35fb00a2c9f0bd6ab5f9b31b190e2f0f?s=128&d=identicon&r=PG", "display_name": "cat40", "link": "https://stackoverflow.com/users/6181778/cat40"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 37038048, "answer_count": 1, "score": 1, "last_activity_date": 1462397681, "creation_date": 1462393927, "last_edit_date": 1462397681, "question_id": 37037483, "link": "https://stackoverflow.com/questions/37037483/subprocess-call-from-external-drive", "title": "Subprocess.call() from external drive", "body": "<p>I'm trying to run a Python script off of an external drive. The script runs fine, but when it reaches the line <code>subprocess.call(callThis, shell=True)</code>, I get the error (from command prompt) <code>the filename, directory name, or volume label syntax is incorrect</code>. When I run the same script off of the C drive, it works fine and copies the files. Python is installed on the C drive, and the external drive is a microSD card if it matters. Python version is 3.4, but it needs to work on Python 2.7 as well. </p>\n\n<p>Relevent code:</p>\n\n<pre><code>paths = [os.path.join(dirpath, fname) for dirpath, __, fnames in os.walk('.\\\\MUSIC') for fname in fnames]\nfor path in paths:\n    pathcomp = path.replace('.\\\\MUSIC', 'C:\\\\redacted\\\\Music\\\\MUSIC')\n    if not os.path.isfile(pathcomp):\n        abspath = os.path.abspath(path)\n        callThis = 'copy \"'+abspath+'\" \"'+os.path.dirname(pathcomp)+'\"'\n        print(callThis)\n        subprocess.call([callThis], shell=True)\n</code></pre>\n\n<p>printing <code>callThis</code> outputs something similar to</p>\n\n<pre><code>copy \"G:\\MUSIC\\dir1\\dir2\\fname.mp3\" \"C:\\redacted\\Music\\MUSIC\\dir1\\dir2\\fname.mp3\"\n</code></pre>\n\n<p>Typing that exact line into command prompt works fine and copies the file.</p>\n\n<p>I think the problem has something to do with the command prompt running out of the C drive instead of the external drive. How can I make it run out of the external drive (show <code>G:/&gt;</code> instead of <code>C:\\</code> in the python script? I tried `subprocess.call('G:', shell=True) but have the same problem.</p>\n"}, {"tags": ["python", "csv", "matplotlib"], "comments": [{"owner": {"reputation": 14205, "user_id": 3067748, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ojjhJ.jpg?s=128&g=1", "display_name": "SparkAndShine", "link": "https://stackoverflow.com/users/3067748/sparkandshine"}, "edited": false, "score": 0, "creation_date": 1462394830, "post_id": 37037447, "comment_id": 61625514, "body": "x axis is datetimes. How about y axis?"}], "answers": [{"tags": [], "owner": {"reputation": 1132, "user_id": 2608308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RdfIu.jpg?s=128&g=1", "display_name": "lesingerouge", "link": "https://stackoverflow.com/users/2608308/lesingerouge"}, "is_accepted": false, "score": 0, "last_activity_date": 1462395552, "last_edit_date": 1462395552, "creation_date": 1462394931, "answer_id": 37037736, "question_id": 37037447, "link": "https://stackoverflow.com/questions/37037447/python-extract-time-from-date-column-to-plot/37037736#37037736", "title": "python extract time from date column to plot", "body": "<p>You should parse the date into a structure, so that you can get all the parts with ease (hour, day, year, minute, etc).\n<a href=\"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow\">Datetime.datetime.strptime</a> is your friend here.</p>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 5144013, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh3.googleusercontent.com/-gaua46VyxKQ/AAAAAAAAAAI/AAAAAAAAHxg/M-29RPq_C6E/photo.jpg?sz=128", "display_name": "Master_Roshy", "link": "https://stackoverflow.com/users/5144013/master-roshy"}, "edited": false, "score": 0, "creation_date": 1462413359, "post_id": 37037742, "comment_id": 61631557, "body": "I&#39;ve updated my post with more details. Additionally, I don&#39;t think reading each row will be feasible. It might take a lot of time to complete"}], "tags": [], "owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "is_accepted": false, "score": 0, "last_activity_date": 1462394964, "creation_date": 1462394964, "answer_id": 37037742, "question_id": 37037447, "link": "https://stackoverflow.com/questions/37037447/python-extract-time-from-date-column-to-plot/37037742#37037742", "title": "python extract time from date column to plot", "body": "<p>If that \"date column format\" is the only data in each line of the CSV file, and if you have read in a line into variable <code>s</code>, you can extract the time with</p>\n\n<pre><code>time_column = s[11:16]\n</code></pre>\n\n<p>This will give the time as you stated, to the minute. However, this rounds the time down, not to the nearest minute. To round you could to check the character after the colon that comes after the minutes.</p>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 5144013, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh3.googleusercontent.com/-gaua46VyxKQ/AAAAAAAAAAI/AAAAAAAAHxg/M-29RPq_C6E/photo.jpg?sz=128", "display_name": "Master_Roshy", "link": "https://stackoverflow.com/users/5144013/master-roshy"}, "edited": false, "score": 0, "creation_date": 1462412033, "post_id": 37037887, "comment_id": 61631255, "body": "Sounds good. I&#39;ve updated my post. Would you be able to suggest"}], "tags": [], "owner": {"reputation": 14205, "user_id": 3067748, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ojjhJ.jpg?s=128&g=1", "display_name": "SparkAndShine", "link": "https://stackoverflow.com/users/3067748/sparkandshine"}, "is_accepted": false, "score": 0, "last_activity_date": 1462396620, "last_edit_date": 1462396620, "creation_date": 1462395472, "answer_id": 37037887, "question_id": 37037447, "link": "https://stackoverflow.com/questions/37037447/python-extract-time-from-date-column-to-plot/37037887#37037887", "title": "python extract time from date column to plot", "body": "<p>First convert your timestamps to python <a href=\"https://docs.python.org/2/library/datetime.html\" rel=\"nofollow\">datetime</a> using <a href=\"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow\">datetime.strptime(date_string, format)</a></p>\n\n<pre><code>import datetime\n\nlist_string = ['2016-04-15 06:00:01.704']\nfmt = '%Y-%m-%d %H:%M:%S.%f'\nlist_datetimes = datetime.datetime.strptime(list_string, fmt)\n</code></pre>\n\n<p>Then convert the datetimes to matplotlib format using <a href=\"http://matplotlib.org/api/dates_api.html#matplotlib.dates.date2num\" rel=\"nofollow\">date2num</a>.</p>\n\n<pre><code>import matplotlib\nx = matplotlib.dates.date2num(list_datetimes)\n</code></pre>\n\n<p>Now, you are able to plot using <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.plot_date\" rel=\"nofollow\">plot_date</a></p>\n\n<pre><code>import matplotlib.pyplot as plt\nplt.plot_date(x, y)\n</code></pre>\n\n<p>Limit x axis by using <a href=\"http://matplotlib.org/api/pyplot_api.html?highlight=xlim#matplotlib.pyplot.xlim\" rel=\"nofollow\">xlim(...)</a>.</p>\n\n<pre><code>plt.xlim(xmax=...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 653, "user_id": 1467398, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3142b1089e1d2677de44962108d4c817?s=128&d=identicon&r=PG", "display_name": "Daniel Schreij", "link": "https://stackoverflow.com/users/1467398/daniel-schreij"}, "is_accepted": false, "score": 0, "last_activity_date": 1462397104, "creation_date": 1462397104, "answer_id": 37038301, "question_id": 37037447, "link": "https://stackoverflow.com/questions/37037447/python-extract-time-from-date-column-to-plot/37038301#37038301", "title": "python extract time from date column to plot", "body": "<p>For date and time operations in Python, I often use the arrow library. I find it much more intuitive to use than datetime or tz (even though arrow is built on top of the two, and others).</p>\n\n<p>You can find its git page with API at <a href=\"https://github.com/crsmithdev/arrow\" rel=\"nofollow\">https://github.com/crsmithdev/arrow</a> or of course you can also simply install it with </p>\n\n<pre><code>pip install arrow\n</code></pre>\n\n<p>You should then simply be able to do:</p>\n\n<pre><code>import arrow\narrow_object = arrow.get('2016-04-15 06:00:01.704')\ntime_str = arrow_object.format('HH:mm')\n</code></pre>\n\n<p>I you see the time is off by a couple of hours, that's probably because it is in UTC. Call</p>\n\n<pre><code>arrow_object.to('local')\n</code></pre>\n\n<p>before converting the time to a string. For more info check out the API docs. They're pretty good!</p>\n"}], "owner": {"reputation": 129, "user_id": 5144013, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh3.googleusercontent.com/-gaua46VyxKQ/AAAAAAAAAAI/AAAAAAAAHxg/M-29RPq_C6E/photo.jpg?sz=128", "display_name": "Master_Roshy", "link": "https://stackoverflow.com/users/5144013/master-roshy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 988, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1462412570, "creation_date": 1462393801, "last_edit_date": 1462412570, "question_id": 37037447, "link": "https://stackoverflow.com/questions/37037447/python-extract-time-from-date-column-to-plot", "title": "python extract time from date column to plot", "body": "<p>I have a CSV file and I've to extract only time as a seperate column. I tried several ways but couldn't do it properly. I've to use this time column to build a line plot. Any idea?</p>\n\n<p>The date column format is:\n2016-04-15 06:00:01.704</p>\n\n<p>So my time column should end up as:\n06:00</p>\n\n<p>Example of how my dataset my look:</p>\n\n<pre><code>Date                          x1        x2          .....\n2016-04-15 06:00:31.678 5.10165404238 12.2763408161,.....\n2016-04-15 06:01:01.670 2.12747098266 10.9392058608,....\n2016-04-15 06:01:31.675 3.8868992871   ....\n</code></pre>\n\n<p>SO here's how I'm intending to approach:\nFor each day plot the line graph for every minute. x axis ticks for every 15 minutes\nEach graph will have time on x axis and one column on y axis</p>\n\n<p>I can kind of loop them, but how to implement seems to be a challenge</p>\n\n<p>I have to plot</p>\n"}, {"tags": ["python", "algorithm", "recursion"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 1335161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/313a04cff5c4975b6df74c5c32204984?s=128&d=identicon&r=PG", "display_name": "PDP", "link": "https://stackoverflow.com/users/1335161/pdp"}, "edited": false, "score": 0, "creation_date": 1462395571, "post_id": 37037497, "comment_id": 61625910, "body": "Thanks for explaining it to me. You are right. That line of code isn&#39;t doing anything. Now how do I combine the 2 recursive calls (one inserting 0 and the other inserting 1)that we make inside the function into a single recursive call?"}, {"owner": {"reputation": 2895, "user_id": 3412611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bPsp8.jpg?s=128&g=1", "display_name": "Tony Babarino", "link": "https://stackoverflow.com/users/3412611/tony-babarino"}, "reply_to_user": {"reputation": 101, "user_id": 1335161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/313a04cff5c4975b6df74c5c32204984?s=128&d=identicon&r=PG", "display_name": "PDP", "link": "https://stackoverflow.com/users/1335161/pdp"}, "edited": false, "score": 0, "creation_date": 1462405812, "post_id": 37037497, "comment_id": 61629780, "body": "I don&#39;t understand, why do You want to combine those 2 calls?"}], "tags": [], "owner": {"reputation": 2895, "user_id": 3412611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bPsp8.jpg?s=128&g=1", "display_name": "Tony Babarino", "link": "https://stackoverflow.com/users/3412611/tony-babarino"}, "is_accepted": false, "score": 3, "last_activity_date": 1462394569, "last_edit_date": 1462394569, "creation_date": 1462394004, "answer_id": 37037497, "question_id": 37037381, "link": "https://stackoverflow.com/questions/37037381/trying-to-understand-a-python-recursion-function/37037497#37037497", "title": "Trying to understand a python recursion function", "body": "<p>The function <code>gen_bin()</code> simply looks for the first occurrence of <code>?</code> in an input argument list, with this line:</p>\n\n<pre><code>idx = str_list.index(\"?\")\n</code></pre>\n\n<p>then just inserts <code>0</code> in that place, and runs recursively with that new list as a new argument:</p>\n\n<pre><code>gen_bin(str_list[:idx] + [\"0\"] + str_list[idx+1:])\n</code></pre>\n\n<p>and then inserts <code>1</code> there and runs recursively again:</p>\n\n<pre><code>gen_bin(str_list[:idx] + [\"1\"] + str_list[idx+1:])\n</code></pre>\n\n<p>If there is no <code>?</code> in the <code>str_list</code> it just prints out the argument.</p>\n\n<p>The line:</p>\n\n<pre><code>str_list[idx] = \"?\"\n</code></pre>\n\n<p>is unnecessary and does completely nothing, which You can observe running the following code:</p>\n\n<pre><code>def gen_bin(str_list):\n    if \"?\" not in str_list:\n        #print \"\".join(str_list)\n        return\n\n    idx = str_list.index(\"?\")\n    gen_bin(str_list[:idx] + [\"0\"] + str_list[idx+1:])\n    gen_bin(str_list[:idx] + [\"1\"] + str_list[idx+1:])\n\n    print str_list\n    str_list[idx] = \"?\"\n    print str_list\n\ngen_bin(list(\"1??\"))\n</code></pre>\n\n<p>which returns:</p>\n\n<pre><code>['1', '0', '?']\n['1', '0', '?']\n['1', '1', '?']\n['1', '1', '?']\n['1', '?', '?']\n['1', '?', '?']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 1335161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/313a04cff5c4975b6df74c5c32204984?s=128&d=identicon&r=PG", "display_name": "PDP", "link": "https://stackoverflow.com/users/1335161/pdp"}, "edited": false, "score": 0, "creation_date": 1462395498, "post_id": 37037666, "comment_id": 61625868, "body": "Thanks for the detailed explanation. I see that the line of code is not doing anything.  This code makes 2 recursive calls. one with 0 and the other with 1. how do I modify the same function to call both the sub recursive functions in 1 line or single call."}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "reply_to_user": {"reputation": 101, "user_id": 1335161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/313a04cff5c4975b6df74c5c32204984?s=128&d=identicon&r=PG", "display_name": "PDP", "link": "https://stackoverflow.com/users/1335161/pdp"}, "edited": false, "score": 0, "creation_date": 1462405308, "post_id": 37037666, "comment_id": 61629610, "body": "That depends on what you&#39;re trying to do. Probably the easiest way would be to enumerate the two: <code>call(&#39;0&#39;), call(&#39;1&#39;)</code>"}], "tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": true, "score": 3, "last_activity_date": 1462394682, "creation_date": 1462394682, "answer_id": 37037666, "question_id": 37037381, "link": "https://stackoverflow.com/questions/37037381/trying-to-understand-a-python-recursion-function/37037666#37037666", "title": "Trying to understand a python recursion function", "body": "<p>There are two parts to a recursive definition:</p>\n\n<ol>\n<li><p>The <em>terminating condition</em>. This part is critical, and frequently appears first. The terminating condition is what you test to know if you are \"done.\" </p>\n\n<p>Generally, a recursive function has some kind of \"natural\" terminating condition. For example, Fibonacci sequences end when you get back to 1. Factorials end when you get back to 1. List processing ends when you get an empty list. String processing ends with an empty string.</p>\n\n<p>Whatever it is, any recursive function will fail - generally by looping or recursing infinitely until a stack overflow occurs - unless you have the terminating condition defined correctly, and you check it successfully.</p>\n\n<p>For this reason, most recursive functions look like this:</p>\n\n<pre><code>def recursive_func(arg):\n    if terminating_condition(arg):\n        return simplest_value\n\n    # more code here\n    recursive_func(reduced_form(arg))\n</code></pre></li>\n<li><p>The <em>recursive relation.</em> Once you have checked (and failed) the test for the terminating condition, you have to invoke the recursive relation. Generally, this means performing a computation involving a slightly lesser form of the same recursive function. </p>\n\n<p>Examples:</p>\n\n<blockquote>\n  <p>n! := n * (n-1)!</p>\n  \n  <p>fib(n) := fib(n-1) + fib(n-2)</p>\n  \n  <p>len(head:tail) := 1 + len(tail)</p>\n</blockquote></li>\n</ol>\n\n<p><strong>Real World Example</strong></p>\n\n<p>Let's look at your example:</p>\n\n<pre><code>def gen_bin(str_list):\n    if \"?\" not in str_list:\n        print \"\".join(str_list)\n        return\n\n    idx = str_list.index(\"?\")\n    gen_bin(str_list[:idx] + [\"0\"] + str_list[idx+1:])\n    gen_bin(str_list[:idx] + [\"1\"] + str_list[idx+1:])\n\n    str_list[idx] = \"?\"\n\ngen_bin(list(\"1??\"))\n</code></pre>\n\n<p>It's pretty clear that this functions follows the classic structure. The first paragraph is a test of the terminating condition. In this case, the terminating condition is that there is not a '?' in the string to replace.</p>\n\n<p>The remainder of the function is dedicated to the recursive relation. In this case, that consists of replacing the first occurrence of '?' in the string with either a '0' or a '1' and recursing.</p>\n\n<p>I'll argue that this is not very good code. First of all, the assignment at the end, <code>str_list[idx] = \"?\"</code>, does nothing. I suspect this code was recently modified. It probably edited the <code>str_list</code> in place, setting a '0' and a '1' into <code>str_list[idx]</code> directly instead of using a slice.</p>\n\n<p>More to the point, though, this isn't good code because all it does is print the results. It would be a better function if it returned a list of binary strings, rather than trying to print them.</p>\n"}], "owner": {"reputation": 101, "user_id": 1335161, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/313a04cff5c4975b6df74c5c32204984?s=128&d=identicon&r=PG", "display_name": "PDP", "link": "https://stackoverflow.com/users/1335161/pdp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 37037666, "answer_count": 2, "score": 2, "last_activity_date": 1462394682, "creation_date": 1462393589, "question_id": 37037381, "link": "https://stackoverflow.com/questions/37037381/trying-to-understand-a-python-recursion-function", "title": "Trying to understand a python recursion function", "body": "<p>I have the following snippet, that beautifully generates binary numbers by altering 0 and 1 in places of \"?\". But I don't understand how this piece of code works. Especially the line <strong>str_list[idx] = \"?\"</strong> . Why is the \"?\" begin restored in  the idx position.</p>\n\n<p>How should one think about this while writing a recursion?</p>\n\n<p>Here is the code</p>\n\n<pre><code>def gen_bin(str_list):\n    if \"?\" not in str_list:\n        print \"\".join(str_list)\n        return\n\n    idx = str_list.index(\"?\")\n    gen_bin(str_list[:idx] + [\"0\"] + str_list[idx+1:])\n    gen_bin(str_list[:idx] + [\"1\"] + str_list[idx+1:])\n\n    str_list[idx] = \"?\"\n\n\ngen_bin(list(\"1??\"))\n</code></pre>\n\n<p>Any advice on how to write such recursive functions will help me in becoming better.</p>\n\n<p>Thanks for your time.,</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "edited": false, "score": 4, "creation_date": 1462393304, "post_id": 37037287, "comment_id": 61624749, "body": "&quot;and get around that&quot; - You can&#39;t prevent stupid."}, {"owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 0, "creation_date": 1462400491, "post_id": 37037287, "comment_id": 61628103, "body": "Are your third party users individuals using your program for personal use or companies using it for professional use? Are you making major functional changes weekly or just minor tweaks?"}, {"owner": {"reputation": 1857, "user_id": 2824961, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/xMjHa.png?s=128&g=1", "display_name": "C1pher", "link": "https://stackoverflow.com/users/2824961/c1pher"}, "reply_to_user": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "edited": false, "score": 0, "creation_date": 1462402375, "post_id": 37037287, "comment_id": 61628704, "body": "@BHawk It is for company use.  Each revision I have released has corrected parsing issues that could have caused confusion later on."}, {"owner": {"reputation": 2545, "user_id": 2962364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f0160627ff4551f2af40e93e17dfa1?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/2962364/roberto"}, "edited": false, "score": 0, "creation_date": 1462468531, "post_id": 37037287, "comment_id": 61659810, "body": "Some users won&#39;t upgrade - and that&#39;s even less likely on the machines that don&#39;t have an internet connection. My suggestion is to stick with the current system, write a good terms-and-conditions, have the &quot;check failed&quot; option print a reminder, and let users be responsible for themselves... But honestly I&#39;d love to learn about a nice, working, &quot;smart-ish user&quot;-proof method in this thread."}], "answers": [{"tags": [], "owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "is_accepted": true, "score": 2, "last_activity_date": 1462467783, "creation_date": 1462467783, "answer_id": 37056242, "question_id": 37037287, "link": "https://stackoverflow.com/questions/37037287/version-check-at-program-execution/37056242#37056242", "title": "Version Check at Program Execution", "body": "<p>The date idea is not a bad one if you really think that writing an update each week is practical. In the case of commercial software it is usually the IT manager's responsibility to update their user's software in 3rd party cases, not the software's author.</p>\n\n<p>You could set the date that the software initially runs using <code>datetime.datetime.now()</code> or <code>time.time()</code> and then save that variable out as a binary support file on the user's local drive (preferably somewhere not obvious). Then do a check for the reference file on launch with a check of time passed, as well as a check to see if the date has gone backwards. </p>\n\n<p>As an additional layer of support you could write an update batch script that an IT manager could run from an internet connected computer that automatically downloads your update and distributes it to the LAN connected user base. The update script could even be run as a cron job/scheduled task so that it runs automatically once a week.</p>\n\n<p>As Jared stated, someone who is desperate enough could always circumvent your best efforts. The goal is to make it just complicated enough to sabotage the system, that the user doesn't put in the effort.</p>\n"}], "owner": {"reputation": 1857, "user_id": 2824961, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/xMjHa.png?s=128&g=1", "display_name": "C1pher", "link": "https://stackoverflow.com/users/2824961/c1pher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 37056242, "answer_count": 1, "score": 1, "last_activity_date": 1462467783, "creation_date": 1462393191, "last_edit_date": 1462398778, "question_id": 37037287, "link": "https://stackoverflow.com/questions/37037287/version-check-at-program-execution", "title": "Version Check at Program Execution", "body": "<p>I have a set of python scripts that will potentially be shared with 3rd party users.  When they were being used strictly internally, we had issues with our staff using deprecated versions of the script.  I incorporated the following version check that forces users to update their scripts when an update is released.</p>\n\n<pre><code>CURRENT_VERSION = \"61022050\"\n\ndef version_check():\n    try:\n        response = urllib2.urlopen(url)\n        html = response.read()\n        d = json.loads(html)\n    except Exception: #Version Check Failed.\n\n    if (d[\"version\"] != CURRENT_VERSION):\n        #Version Check Outdated.  Provide link to download.\n\n    #Version Check Passed.\n</code></pre>\n\n<p>This form of version check worked really well, but I was told that in some use cases, internet access will not be available, so this form of version check will automatically fail in those cases.</p>\n\n<p>Are there other forms of version checking that don't require internet use that can ensure that users are using the latest release of the scripts?  I've considered releasing new versions each week and hard coding a date into the code, but it is so easy to change the system date and get around that.</p>\n"}, {"tags": ["javascript", "python", "django"], "comments": [{"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "edited": false, "score": 0, "creation_date": 1462393830, "post_id": 37037226, "comment_id": 61625030, "body": "Do you post the data collected from generated form <code>b</code> to form <code>a</code>&#39;s action so django thinks it&#39;s form <code>a</code>?"}, {"owner": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "reply_to_user": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "edited": false, "score": 0, "creation_date": 1462394057, "post_id": 37037226, "comment_id": 61625127, "body": "No, I am creating an entirely new form and disregarding old form alltogether."}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "edited": false, "score": 0, "creation_date": 1462394239, "post_id": 37037226, "comment_id": 61625222, "body": "ok so apart from all input fields, can you also add the csrf token hidden field to the new form before posting it?"}], "answers": [{"comments": [{"owner": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "edited": false, "score": 0, "creation_date": 1462393458, "post_id": 37037327, "comment_id": 61624838, "body": "How would you add cookie to dynamically generated form to that django accepts it?"}, {"owner": {"reputation": 151, "user_id": 4540108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72809940855e41280e5319cf36bdbc85?s=128&d=identicon&r=PG&f=1", "display_name": "peckuliarYak", "link": "https://stackoverflow.com/users/4540108/peckuliaryak"}, "reply_to_user": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "edited": false, "score": 0, "creation_date": 1462393630, "post_id": 37037327, "comment_id": 61624941, "body": "@Jack_of_All_Trades After generating the form do you post it as an ajax POST request or the normal form submit"}, {"owner": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "edited": false, "score": 0, "creation_date": 1462393736, "post_id": 37037327, "comment_id": 61624985, "body": "Is there something native js to solve this? I want to avoid extra js library as much as possible."}, {"owner": {"reputation": 151, "user_id": 4540108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72809940855e41280e5319cf36bdbc85?s=128&d=identicon&r=PG&f=1", "display_name": "peckuliarYak", "link": "https://stackoverflow.com/users/4540108/peckuliaryak"}, "reply_to_user": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "edited": false, "score": 0, "creation_date": 1462393878, "post_id": 37037327, "comment_id": 61625051, "body": "In the code dynamic code for generating the form can you add something like this: <code>var csrftoken = Cookies.get(&#39;csrftoken&#39;);</code> <code>&lt;input type=&quot;hidden&quot; name=&quot;csrfmiddlewaretoken&quot; value=&quot;+ csrftoken +&quot;&gt;</code>"}, {"owner": {"reputation": 151, "user_id": 4540108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72809940855e41280e5319cf36bdbc85?s=128&d=identicon&r=PG&f=1", "display_name": "peckuliarYak", "link": "https://stackoverflow.com/users/4540108/peckuliaryak"}, "reply_to_user": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "edited": false, "score": 0, "creation_date": 1462394171, "post_id": 37037327, "comment_id": 61625187, "body": "@Jack_of_All_Trades Sure. You can look at <code>document.cookie</code> and do string splits on it."}], "tags": [], "owner": {"reputation": 151, "user_id": 4540108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72809940855e41280e5319cf36bdbc85?s=128&d=identicon&r=PG&f=1", "display_name": "peckuliarYak", "link": "https://stackoverflow.com/users/4540108/peckuliaryak"}, "is_accepted": false, "score": 1, "last_activity_date": 1462393478, "last_edit_date": 1462393478, "creation_date": 1462393365, "answer_id": 37037327, "question_id": 37037226, "link": "https://stackoverflow.com/questions/37037226/csrf-token-error-in-dynamic-form-in-django/37037327#37037327", "title": "csrf token error in dynamic form in django", "body": "<p>I think a simpler approach would be to use cookies. A csrf token is just a cookie whose value you can retrieve. Kindly look at the section on <code>Ajax</code> and see if it can offer any help <a href=\"https://docs.djangoproject.com/en/1.9/ref/csrf/#ajax\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.9/ref/csrf/#ajax</a>.</p>\n\n<p><code>\nvar csrftoken = Cookies.get('csrftoken');\n</code></p>\n\n<p>Doing that using the javascript cookie library should ideally help you to retrieve the csrf token.</p>\n"}, {"tags": [], "owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "is_accepted": false, "score": 3, "last_activity_date": 1462394823, "creation_date": 1462394823, "answer_id": 37037707, "question_id": 37037226, "link": "https://stackoverflow.com/questions/37037226/csrf-token-error-in-dynamic-form-in-django/37037707#37037707", "title": "csrf token error in dynamic form in django", "body": "<p>You can include the csrf token in the data your posting.</p>\n\n<p>You can either extract it from the hidden field in the html form:</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"csrfmiddlewaretoken\" value=\"IxwFarTrerVBZbVDX0elVHUEbh0YH58j\"&gt;\n</code></pre>\n\n<p>using a jquery selector:</p>\n\n<pre><code>var token = $('input[name=\"csrfmiddlewaretoken\"]').val();\n</code></pre>\n\n<p>Or if you prefer plain js as you have mentioned you can use this function to extract it from the document cookies:</p>\n\n<pre><code>function getCookie(name) {\n    var v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\n    return v ? v[2] : null;\n}\n\nvar token = getCookie('csrftoken');\n</code></pre>\n"}], "owner": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1462394823, "creation_date": 1462392953, "last_edit_date": 1462393278, "question_id": 37037226, "link": "https://stackoverflow.com/questions/37037226/csrf-token-error-in-dynamic-form-in-django", "title": "csrf token error in dynamic form in django", "body": "<p>I know the question similar to this has been asked before before I could not derive workable solution for my problem using those answers.</p>\n\n<p>I have a page which has a form A and lots of checkboxes. The form and related checkboxes is created through Django Templates. I created a new form B via javascript from the the input values of the form A created by Django Template. Django is not accepting my new form B due to csrf_token error. Can somebody show me how to extract csrf token from the form A rendered by django and use it as csrf token for the dynamically created javascript form?</p>\n"}, {"tags": ["python", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 1, "creation_date": 1462393792, "post_id": 37037187, "comment_id": 61625013, "body": "1. find outer contours. 2. choose boundingbox for each contour (which should be identical to the contour since the external contours in your images are squares) 3. resize the image so that it had the same size as your reference markers. 4. use chamfer matching on canny edge image of resized image region and teference markers. 5. if one chamfer matching is smal&#246; enough choose the smallest one as detected marker"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 1, "creation_date": 1462393865, "post_id": 37037187, "comment_id": 61625045, "body": "if you have additional perspective distortions you have to find quads instead of boundingBoxes and use perspective warping."}, {"owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "edited": false, "score": 1, "creation_date": 1462395169, "post_id": 37037187, "comment_id": 61625685, "body": "I&#39;d probably try feature matching as described here <a href=\"http://docs.opencv.org/3.1.0/d1/de0/tutorial_py_feature_homography.html#gsc.tab=0\" rel=\"nofollow noreferrer\">docs.opencv.org/3.1.0/d1/de0/&hellip;</a> but I did not get it working. Have also a look at this post: <a href=\"http://stackoverflow.com/questions/20259025/module-object-has-no-attribute-drawmatches-opencv-python\" title=\"module object has no attribute drawmatches opencv python\">stackoverflow.com/questions/20259025/&hellip;</a>"}, {"owner": {"reputation": 489, "user_id": 6291649, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/7VSA3.png?s=128&g=1", "display_name": "Lipstick", "link": "https://stackoverflow.com/users/6291649/lipstick"}, "edited": false, "score": 0, "creation_date": 1462395855, "post_id": 37037187, "comment_id": 61626049, "body": "Thanks for tips, I will read about it and I will try to use it in my script."}], "answers": [{"tags": [], "owner": {"reputation": 489, "user_id": 6291649, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/7VSA3.png?s=128&g=1", "display_name": "Lipstick", "link": "https://stackoverflow.com/users/6291649/lipstick"}, "is_accepted": false, "score": 0, "last_activity_date": 1462438514, "creation_date": 1462438514, "answer_id": 37046356, "question_id": 37037187, "link": "https://stackoverflow.com/questions/37037187/detect-markers-in-2d-image-python-opencv/37046356#37046356", "title": "Detect markers in 2D Image [Python/OpenCV]", "body": "<p>Firstly I try to use feature matching (proposition by @tfv user) but it probably isn't a good solution. In many approaches it gives too many matches (but images are completely different) or too few matches (when images are the same) </p>\n\n<p><a href=\"https://i.stack.imgur.com/YcqXk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YcqXk.png\" alt=\"Markers\"></a></p>\n\n<p>Now I will try use an algorithm by @Micka but I have a problem with second and third point. The code in my post above find squares. How do I save the new rectangles as new images?</p>\n\n<p><a href=\"https://i.stack.imgur.com/N3yUL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3yUL.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 489, "user_id": 6291649, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/7VSA3.png?s=128&g=1", "display_name": "Lipstick", "link": "https://stackoverflow.com/users/6291649/lipstick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2371, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1462438514, "creation_date": 1462392827, "question_id": 37037187, "link": "https://stackoverflow.com/questions/37037187/detect-markers-in-2d-image-python-opencv", "title": "Detect markers in 2D Image [Python/OpenCV]", "body": "<p>I would like to create a script in Python (with use OpenCV library) that determines which markers are in the picture. Markers look something like this:</p>\n\n<p><a href=\"http://i.stack.imgur.com/t7smM.png\" rel=\"noreferrer\">Markers</a> </p>\n\n<p>After loading the image, the script should print which markers are in the picture (return numbers of markers). For example, if I load this picture:</p>\n\n<p><a href=\"http://i.stack.imgur.com/lmZWH.jpg\" rel=\"noreferrer\">Image with markers</a></p>\n\n<p>For this image a script should return three numbers: 1, 2 and 3. I have a script, which load image and recognize figures (circles, squares etc. - in script below only squares) but I haven't any idea to recognise whole marker, which consists of several figures. Any ideas? Please for any suggestions about algorithm or any solution.</p>\n\n<pre><code>import numpy as np\nimport cv2\n\nimg = cv2.imread('B.jpg')\ngray = cv2.imread('B.jpg',0)\n\nret,thresh = cv2.threshold(gray,120,255,1)\n\ncontours,h = cv2.findContours(thresh,1,2)\n\nfor cnt in contours:\n    approx = cv2.approxPolyDP(cnt,0.01*cv2.arcLength(cnt,True),True)\n    print len(approx)\n    if len(approx)==4:\n        print \"square\"\n        cv2.drawContours(img,[cnt],0,(0,0,255))\n\ncv2.imshow('img',img)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<p>But obviously it isn't what I need it only surrounds rectangulars.\nThanks for any tips and help.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1462392706, "post_id": 37037027, "comment_id": 61624406, "body": "Why not <code>list1 = [ x*(x+1)&#47;&#47;2 for x in range(a)]</code> ?"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1462433842, "post_id": 37037027, "comment_id": 61638392, "body": "Sorry, that was meant as a replacement for the for loop, not &quot;how do I get range to give me negative numbers&quot;.  It works fine in Python 3 for positive values.  For Python 2 you need / rather than //.  For negative values you need some of the other answers below."}], "answers": [{"comments": [{"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1462393029, "post_id": 37037173, "comment_id": 61624595, "body": "You also need to calculate <code>b</code> as <code>x*(x+step)&#47;&#47;2</code>."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 1, "last_activity_date": 1462393221, "last_edit_date": 1462393221, "creation_date": 1462392781, "answer_id": 37037173, "question_id": 37037027, "link": "https://stackoverflow.com/questions/37037027/how-to-return-list-with-negative-integer-in-the-program/37037173#37037173", "title": "How to return list with negative integer in the program?", "body": "<p>For negative integers, you need to use a negative step in your <code>range()</code>. So:</p>\n\n<pre><code>if a &lt; 0:\n    step = -1\nelse:\n    step = 1\nfor x in range(0, a, step):\n</code></pre>\n\n<p>Now, in your calculation of <code>b</code>, you're adding <code>1</code> to <code>x</code>. This also needs to be changed to <code>-1</code> when doing negative numbers. So you can just throw <code>step</code> in where you had <code>1</code>. </p>\n\n<p>Also, there's a difference between multiplying by 0.5 and dividing by 2 when dealing with negative numbers, and to get the result you're looking for you want the latter. So your calculation of <code>b</code> should now be:</p>\n\n<pre><code>b = x * (x + step) // 2\n</code></pre>\n\n<p>As a bonus, this will always be an integer, so you don't need the <code>int(b)</code> later (though it won't hurt).</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6287407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ac5aaa24c62a442bc1efdd36218d86?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6287407/bob"}, "is_accepted": false, "score": 1, "last_activity_date": 1462392796, "creation_date": 1462392796, "answer_id": 37037179, "question_id": 37037027, "link": "https://stackoverflow.com/questions/37037027/how-to-return-list-with-negative-integer-in-the-program/37037179#37037179", "title": "How to return list with negative integer in the program?", "body": "<p>I think it's not an issue with the return, but that your list is actually empty. Did you mean to take the absolute value of n before assigning it to a?</p>\n\n<p>You could add a print statement in your loop to see what it's doing.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6276943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9554ccdf72e71c0a9a2a6d30d8bdb119?s=128&d=identicon&r=PG&f=1", "display_name": "nihal k", "link": "https://stackoverflow.com/users/6276943/nihal-k"}, "edited": false, "score": 0, "creation_date": 1462395427, "post_id": 37037202, "comment_id": 61625831, "body": "def sum_of_n(n):                   return [(-1 if n &lt; 0 else 1) * sum(range(i+1)) for i in range(abs(n)+1)]"}], "tags": [], "owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "is_accepted": false, "score": 0, "last_activity_date": 1462392883, "creation_date": 1462392883, "answer_id": 37037202, "question_id": 37037027, "link": "https://stackoverflow.com/questions/37037027/how-to-return-list-with-negative-integer-in-the-program/37037202#37037202", "title": "How to return list with negative integer in the program?", "body": "<pre><code>#if a &lt; 0:\na = -5 #just defined the variable for easy explanation\ny = 0\nlist1 = [0]\nfor x in range (1,abs(a)+1):\n    for h in range(x+1):\n        y -= h #&lt;---- here\n    list1.append(y)\n    y = 0\nprint (list1)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>&gt;&gt;&gt; \n[0, -1, -3, -6, -10, -15]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Just minest instead of sum.</p>\n"}], "owner": {"reputation": 13, "user_id": 6276943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9554ccdf72e71c0a9a2a6d30d8bdb119?s=128&d=identicon&r=PG&f=1", "display_name": "nihal k", "link": "https://stackoverflow.com/users/6276943/nihal-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 37037173, "answer_count": 3, "score": -3, "last_activity_date": 1462393221, "creation_date": 1462392267, "question_id": 37037027, "link": "https://stackoverflow.com/questions/37037027/how-to-return-list-with-negative-integer-in-the-program", "title": "How to return list with negative integer in the program?", "body": "<p>sum_of_n takes an integer n and returns a List of length abs(n) + 1. \nThe List/Array contains the numbers in the arithmetic series produced by taking the sum of the consecutive integer numbers from 0 to n inclusive.</p>\n\n<p>Example </p>\n\n<p>5 -> [0, 1, 3, 6, 10, 15]</p>\n\n<p>-5 -> [0, -1, -3, -6, -10, -15]</p>\n\n<p>7 -> [0, 1, 3, 6, 10, 15, 21, 28]</p>\n\n<pre><code>def sum_n(n):\n    a=n+1\n    x=0\n    b=0\n    list1=[]\n    for x in  range(0,a): \n        b=(x*(x+1)*0.5)\n        list1.append(int(b))\n    return list1\n\nprint sum_n(5)\nprint sum_n(-5)\n</code></pre>\n\n<p>----output------</p>\n\n<p>[0, 1, 3, 6, 10, 15]</p>\n\n<p>[]</p>\n\n<p>please explain me how can I return list with <strong>negative</strong> integer??    </p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462392350, "post_id": 37036992, "comment_id": 61624209, "body": "<code>inventory_list.remove(items)</code> mutates a mutable object, which you then return. How exactly are you calling this function?"}, {"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1462392360, "post_id": 37036992, "comment_id": 61624212, "body": "print() should take an argument, what are you trying to print?  you are reusing the count variable - maybe &quot;for x in range(count)&quot;"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1462392371, "post_id": 37036992, "comment_id": 61624221, "body": "@flyingmeatball it&#39;s printing new lines"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1462392440, "post_id": 37036992, "comment_id": 61624253, "body": "@flyingmeatball - <code>print()</code> doesn&#39;t need any arguments. An empty call prints a line with just a linefeed. And since <code>count</code> is not reused, it&#39;s technically okay to mask it for use as the loop variable (just like it&#39;s technically okay to use <code>type</code> as a variable name)."}, {"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1462392484, "post_id": 37036992, "comment_id": 61624277, "body": "@cricket_007  good call.  Maybe do print(&#39;/n&#39;) to make it explicit?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 1, "creation_date": 1462392539, "post_id": 37036992, "comment_id": 61624310, "body": "@flyingmeatball - No. That would make it print two blank lines instead of just one."}, {"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1462392594, "post_id": 37036992, "comment_id": 61624344, "body": "@TigerhawkT3 while it may be technically ok, certainly isn&#39;t best practice to use the same variable name. It&#39;s confusing to the reader - at least I was confused :)"}, {"owner": {"reputation": 1533, "user_id": 677915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5b62d6c2640b7285e73c9d9967b075?s=128&d=identicon&r=PG", "display_name": "dim-an", "link": "https://stackoverflow.com/users/677915/dim-an"}, "edited": false, "score": 0, "creation_date": 1462392665, "post_id": 37036992, "comment_id": 61624385, "body": "what problems exactly do you have?"}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "edited": false, "score": 0, "creation_date": 1462634322, "post_id": 37036992, "comment_id": 61724144, "body": "did you get it to work?"}], "answers": [{"tags": [], "owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "is_accepted": false, "score": 3, "last_activity_date": 1462392596, "creation_date": 1462392596, "answer_id": 37037115, "question_id": 37036992, "link": "https://stackoverflow.com/questions/37036992/trouble-with-removing-items-from-list/37037115#37037115", "title": "Trouble with removing items from list", "body": "<p>Your inventory list doesn't have the new instance you are trying to remove. Just because it contains the same atrrs/values does not mean they are the same.</p>\n\n<p>To be able to do this perhaps implement method <code>__eq__</code> in your SubPlant class:</p>\n\n<pre><code>class SubPlant(object):\n    def __init__(self, type, name, price):\n        self.type = type\n        self.name = name\n        self.price = price\n\n    def __eq__(self, other):\n        return self.__dict__ == other.__dict__\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6292614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ba9099a3ed92aa05cec1e6e116d5ea?s=128&d=identicon&r=PG&f=1", "display_name": "Siberian_Breaks", "link": "https://stackoverflow.com/users/6292614/siberian-breaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1462392596, "creation_date": 1462392092, "last_edit_date": 1462392233, "question_id": 37036992, "link": "https://stackoverflow.com/questions/37036992/trouble-with-removing-items-from-list", "title": "Trouble with removing items from list", "body": "<p>I'm having trouble getting this function to work. The purpose of it is to delete items from a list.</p>\n\n<pre><code>def sell(inventory_list):\n    print()\n    count = int(input('How many items would you like to sell? '))\n    print()\n\n    for count in range(count):\n        print()\n        type = input('Enter the type of item you wish to sell? ')\n        print()\n        name = input('Enter the name of the item you wish to sell? ')\n        print()\n        price = float(input('What is the price of the item you wish to sell? $'))\n\n        items = Plant.SubPlant(type, name, price)\n\n        inventory_list.remove(items)\n\n    return inventory_list\n</code></pre>\n"}, {"tags": ["python", "opencv", "matplotlib", "raspberry-pi"], "comments": [{"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 2, "creation_date": 1462392348, "post_id": 37036990, "comment_id": 61624207, "body": "Check your backend. If you are using anything but &#39;TkAgg&#39;, Matplotlib cannot open an interactive graph.  To change the backend, do <code>import matplotlib, matploblib.use(&#39;TkAgg&#39;)</code> before you import pyplot."}, {"owner": {"reputation": 155, "user_id": 6291800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ad047482ef96db654e3457198760f9?s=128&d=identicon&r=PG&f=1", "display_name": "joe", "link": "https://stackoverflow.com/users/6291800/joe"}, "reply_to_user": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1462392718, "post_id": 37036990, "comment_id": 61624414, "body": "@Alexander Huszagh<code>(cv) pi@raspberrypi:~&#47;Desktop $ python tst2.py  Traceback (most recent call last):   File &quot;tst2.py&quot;, line 1, in &lt;module&gt;     matplotlib.use(&#39;TkAgg&#39;) **NameError: name &#39;matplotlib&#39; is not defined**</code>"}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1462392797, "post_id": 37036990, "comment_id": 61624451, "body": "Sorry, that should be a semicolon, not a comma. There&#39;s a typo in my comment:  <code>import matplotlib; matplotlib.use(&#39;TkAgg&#39;)</code>  Semicolon just means new statement, you can replace that with a new line. You need to import matplotlib before you call use."}, {"owner": {"reputation": 155, "user_id": 6291800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ad047482ef96db654e3457198760f9?s=128&d=identicon&r=PG&f=1", "display_name": "joe", "link": "https://stackoverflow.com/users/6291800/joe"}, "reply_to_user": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1462393795, "post_id": 37036990, "comment_id": 61625014, "body": "@Alexander Huszagh i responded in the original question"}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1462394128, "post_id": 37036990, "comment_id": 61625170, "body": "Try doing <code>import Tkinter</code> (depending on the Python version, 3.x, <code>tkinter</code> is lower case). Tkinter is the Python module for a TCL GUI, which is what the TkAgg backend uses for the interactive session. If that errors, there&#39;s your problem. To get around it, you can always do <code>plt.savefig</code>."}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 6291800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ad047482ef96db654e3457198760f9?s=128&d=identicon&r=PG&f=1", "display_name": "joe", "link": "https://stackoverflow.com/users/6291800/joe"}, "edited": false, "score": 0, "creation_date": 1462485015, "post_id": 37048200, "comment_id": 61668682, "body": "thanks @Adrian Rosebrock ,  since posting this question i have reinstalled noobs and followed your new opencv install guide <a href=\"http://www.pyimagesearch.com/2016/04/18/install-guide-raspberry-pi-3-raspbian-jessie-opencv-3/\" rel=\"nofollow noreferrer\">pyimagesearch.com/2016/04/18/&hellip;</a> after that i followed your answer and it now works"}, {"owner": {"reputation": 857, "user_id": 576271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d69f61cb341c63d9241a5d603bb961?s=128&d=identicon&r=PG", "display_name": "Adrian Rosebrock", "link": "https://stackoverflow.com/users/576271/adrian-rosebrock"}, "reply_to_user": {"reputation": 155, "user_id": 6291800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ad047482ef96db654e3457198760f9?s=128&d=identicon&r=PG&f=1", "display_name": "joe", "link": "https://stackoverflow.com/users/6291800/joe"}, "edited": false, "score": 0, "creation_date": 1462617182, "post_id": 37048200, "comment_id": 61718944, "body": "Awesome, I&#39;m happy to hear it worked! Congrats on getting your system configured."}], "tags": [], "owner": {"reputation": 857, "user_id": 576271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/49d69f61cb341c63d9241a5d603bb961?s=128&d=identicon&r=PG", "display_name": "Adrian Rosebrock", "link": "https://stackoverflow.com/users/576271/adrian-rosebrock"}, "is_accepted": true, "score": 1, "last_activity_date": 1462444130, "creation_date": 1462444130, "answer_id": 37048200, "question_id": 37036990, "link": "https://stackoverflow.com/questions/37036990/matplotlib-runs-but-does-not-generate-a-graph/37048200#37048200", "title": "matplotlib runs but does not generate a graph", "body": "<p>I've ran into this issue myself. The problem is related to the matplotlib backend not being properly set within the virtual environment. It took me a lot of trial and error, but you first need to install a few dependencies:</p>\n\n<p><code>$ sudo apt-get install tcl-dev tk-dev python-tk python3-tk</code></p>\n\n<p>And then <em>manually</em> install matplotlib from source rather than using pip:</p>\n\n<pre><code>$ workon your_env_name\n$ pip uninstall matplotlib\n$ git clone https://github.com/matplotlib/matplotlib.git\n$ cd matplotlib\n$ python setup.py install\n</code></pre>\n\n<p>This should take care of the problem.</p>\n\n<p>I detail my full experience and more details to the solution <a href=\"http://www.pyimagesearch.com/2015/08/24/resolved-matplotlib-figures-not-showing-up-or-displaying/\" rel=\"nofollow\">on this page</a>.</p>\n"}], "owner": {"reputation": 155, "user_id": 6291800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ad047482ef96db654e3457198760f9?s=128&d=identicon&r=PG&f=1", "display_name": "joe", "link": "https://stackoverflow.com/users/6291800/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1159, "favorite_count": 0, "accepted_answer_id": 37048200, "answer_count": 1, "score": 2, "last_activity_date": 1462444130, "creation_date": 1462392082, "last_edit_date": 1462410266, "question_id": 37036990, "link": "https://stackoverflow.com/questions/37036990/matplotlib-runs-but-does-not-generate-a-graph", "title": "matplotlib runs but does not generate a graph", "body": "<p>I am trying to complete <a href=\"http://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_gui/py_image_display/py_image_display.html#using-matplotlib\" rel=\"nofollow\">http://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_gui/py_image_display/py_image_display.html#using-matplotlib</a> it runs but does not display anything</p>\n\n<pre><code>import numpy as np\nimport cv2\nfrom matplotlib import pyplot as plt\nimg = cv2.imread('messi5.jpg',0)\nplt.imshow(img, cmap = 'gray', interpolation = 'bicubic')\nplt.xticks([]), plt.yticks([])  # to hide tick values on X and Y axis\nplt.show()\n</code></pre>\n\n<p>(i am using a raspberry pi and followed this tutorial to install open cv <a href=\"http://www.pyimagesearch.com/2015/10/26/how-to-install-opencv-3-on-raspbian-jessie/\" rel=\"nofollow\">http://www.pyimagesearch.com/2015/10/26/how-to-install-opencv-3-on-raspbian-jessie/</a> subsequently i pip installed matplotlib)</p>\n\n<p>if i replace plt.show with plt.savefig it works what is wrong?</p>\n\n<hr>\n\n<p>after adding import <code>matplotlib; matplotlib.use('TkAgg')</code> and <code>import Tkinter</code> or <code>tkinter</code> i get</p>\n\n<pre><code>    (cv) pi@raspberrypi:~/Desktop $ python tst4.py\nTraceback (most recent call last):\n  File \"tst4.py\", line 5, in &lt;module&gt;\n   from matplotlib import pyplot as plt\n File \"/home/pi/.virtualenvs/cv/lib/python3.4/site-    packages/matplotlib/pyplot.py\", line 114, in &lt;module&gt;\n   _backend_mod, new_figure_manager, draw_if_interactive, _show =       pylab_setup()\n File \"/home/pi/.virtualenvs/cv/lib/python3.4/site-   packages/matplotlib/backends/__init__.py\", line 32, in pylab_setup\n   globals(),locals(),[backend_name],0)\n File \"/home/pi/.virtualenvs/cv/lib/python3.4/site-   packages/matplotlib/backends/backend_tkagg.py\", line 13, in &lt;module&gt;\n   import matplotlib.backends.tkagg as tkagg\nFile \"/home/pi/.virtualenvs/cv/lib/python3.4/site-       packages/matplotlib/backends/tkagg.py\", line 9, in &lt;module&gt;\n  from matplotlib.backends import _tkagg\n ImportError: cannot import name '_tkagg'\n</code></pre>\n"}, {"tags": ["python", "matlab", "numpy", "io", "binary"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2379410"}, "edited": false, "score": 2, "creation_date": 1462444659, "post_id": 37036980, "comment_id": 61644410, "body": "<code>numpy.fromfile</code> also accepts a file object as first argument."}, {"owner": {"reputation": 303, "user_id": 4434279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898cafd4ce3efff11d8432f105a5504c?s=128&d=identicon&r=PG&f=1", "display_name": "jcdoming", "link": "https://stackoverflow.com/users/4434279/jcdoming"}, "edited": false, "score": 0, "creation_date": 1462463230, "post_id": 37036980, "comment_id": 61656657, "body": "Perfect. That was exactly what I was looking for. Important to point that file should be opened in binary mode, e.g <code>fid=open(fname,&#39;rb&#39;)</code> . Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 4434279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898cafd4ce3efff11d8432f105a5504c?s=128&d=identicon&r=PG&f=1", "display_name": "jcdoming", "link": "https://stackoverflow.com/users/4434279/jcdoming"}, "is_accepted": false, "score": 1, "last_activity_date": 1462463464, "last_edit_date": 1462463464, "creation_date": 1462395822, "answer_id": 37037965, "question_id": 37036980, "link": "https://stackoverflow.com/questions/37036980/reading-several-arrays-in-a-binary-file-with-numpy/37037965#37037965", "title": "Reading several arrays in a binary file with numpy", "body": "<p>There are 2 solutions for this problem. </p>\n\n<p>The first one:</p>\n\n<pre><code>for i in range(x):\n    ZZ1=np.memmap(fname1, dtype='float32', mode='r', offset = 4+8*i+(Nx1*Ny1)*4*i,shape=(Ny1,Nx1))\n</code></pre>\n\n<p>Where <strong>i</strong> is the array you want to get.</p>\n\n<p>The second one:</p>\n\n<pre><code>fid=open('fname','rb')\nfor i in range(x):\n    Rstart = np.fromfile(fid,dtype='int32',count=1)\n    ZZ1 = np.fromfile(fid,dtype='float32',count=Ny1*Nx1).reshape(Ny1,Nx1)\n    Rend = np.fromfile(fid,dtype='int32',count=1)\n</code></pre>\n\n<p>So as  morningsun points out, np.fromfile can receive a file object as an argument and keep track of the pointer. Notice that you must open the file in binary mode 'rb'.</p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 4434279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898cafd4ce3efff11d8432f105a5504c?s=128&d=identicon&r=PG&f=1", "display_name": "jcdoming", "link": "https://stackoverflow.com/users/4434279/jcdoming"}, "edited": false, "score": 0, "creation_date": 1462537386, "post_id": 37057750, "comment_id": 61689318, "body": "Beautiful answer! I was not sure how composite dtype worked. Thank you."}, {"owner": {"reputation": 303, "user_id": 4434279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898cafd4ce3efff11d8432f105a5504c?s=128&d=identicon&r=PG&f=1", "display_name": "jcdoming", "link": "https://stackoverflow.com/users/4434279/jcdoming"}, "edited": false, "score": 0, "creation_date": 1462538089, "post_id": 37057750, "comment_id": 61689744, "body": "The downside I think is that it loads all the arrays at once, which I should avoid with big files."}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "reply_to_user": {"reputation": 303, "user_id": 4434279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898cafd4ce3efff11d8432f105a5504c?s=128&d=identicon&r=PG&f=1", "display_name": "jcdoming", "link": "https://stackoverflow.com/users/4434279/jcdoming"}, "edited": false, "score": 0, "creation_date": 1462544562, "post_id": 37057750, "comment_id": 61694196, "body": "you can still add a count parameter to fromfile I think, no?"}], "tags": [], "owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "is_accepted": true, "score": 2, "last_activity_date": 1462472984, "creation_date": 1462472984, "answer_id": 37057750, "question_id": 37036980, "link": "https://stackoverflow.com/questions/37036980/reading-several-arrays-in-a-binary-file-with-numpy/37057750#37057750", "title": "Reading several arrays in a binary file with numpy", "body": "<p>The cleanest way to read all your matrices in a single vectorized statement is to use a struct array:</p>\n\n<pre><code>dtype = [('start', np.int32), ('ZZ', np.float32, (Ny1, Nx1)), ('end', np.int32)]\nwith open(fname1, 'rb') as fh:\n    data = np.fromfile(fh, dtype)\nprint(data['ZZ'])\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 4434279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898cafd4ce3efff11d8432f105a5504c?s=128&d=identicon&r=PG&f=1", "display_name": "jcdoming", "link": "https://stackoverflow.com/users/4434279/jcdoming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 37057750, "answer_count": 2, "score": 0, "last_activity_date": 1462472984, "creation_date": 1462392065, "last_edit_date": 1462395879, "question_id": 37036980, "link": "https://stackoverflow.com/questions/37036980/reading-several-arrays-in-a-binary-file-with-numpy", "title": "Reading several arrays in a binary file with numpy", "body": "<p>I'm trying to read a binary file which is composed by several matrices of float numbers separated by a single int. The code in Matlab to achieve this is the following:</p>\n\n<pre><code>fid1=fopen(fname1,'r');\nfor i=1:xx\n    Rstart= fread(fid1,1,'int32');        #read blank at the begining\n    ZZ1 = fread(fid1,[Nx Ny],'real*4');   #read z\n    Rend  = fread(fid1,1,'int32');        #read blank at the end\nend\n</code></pre>\n\n<p>As you can see, each matrix size is Nx by Ny. Rstart and Rend are just dummy values. ZZ1 is the matrix I'm interested in.</p>\n\n<p>I am trying to do the same in python, doing the following:</p>\n\n<pre><code>Rstart = np.fromfile(fname1,dtype='int32',count=1)\nZZ1 = np.fromfile(fname1,dtype='float32',count=Ny1*Nx1).reshape(Ny1,Nx1)\nRend = np.fromfile(fname1,dtype='int32',count=1)\n</code></pre>\n\n<p>Then, I have to iterate to read the subsequent matrices, but the function <strong>np.fromfile</strong> doesn't retain the pointer in the file.</p>\n\n<p>Another option:</p>\n\n<pre><code>with open(fname1,'r') as f:\n   ZZ1=np.memmap(f, dtype='float32', mode='r', offset = 4,shape=(Ny1,Nx1))\n   plt.pcolor(ZZ1)\n</code></pre>\n\n<p>This works fine for the first array, but doesn't read the next matrices. Any idea how can I do this?</p>\n\n<p>I searched for similar questions but didn't find a suitable answer.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "beautifulsoup", "python-3.4"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1462391438, "post_id": 37036737, "comment_id": 61623712, "body": "Could you post a part of the HTML where the <code>DLC</code> should be found in the document? Thanks."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1462391597, "post_id": 37036737, "comment_id": 61623805, "body": "<code>find_all</code> finds elements, not strings."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1462391598, "post_id": 37036737, "comment_id": 61623806, "body": "What kind of file are you trying to parse? <code>DLC</code> is not an HTML tag name."}], "answers": [{"comments": [{"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462391815, "post_id": 37036834, "comment_id": 61623930, "body": "It fixed my problem, I see now. But should I make a lambda every time for finding a simple string?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462391907, "post_id": 37036834, "comment_id": 61623973, "body": "@GLHF for the partial match, you can also use a regular expression instead of a lambda function: <code>soup.find_all(text=re.compile(&quot;DLC&quot;))</code>. And, if you need an exact/precise match, you can just use <code>soup.find_all(text=&quot;DLC&quot;)</code>."}, {"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1462392092, "post_id": 37036834, "comment_id": 61624068, "body": "re.compile() gives the same output as lambda does, I&#39;ll use that. Thanks for the answer."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1462391604, "creation_date": 1462391604, "answer_id": 37036834, "question_id": 37036737, "link": "https://stackoverflow.com/questions/37036737/beautifulsoup4-returns-an-empty-list-for-no-reason/37036834#37036834", "title": "BeautifulSoup4 returns an empty list for no reason", "body": "<p>When you call <code>soup.find_all(\"DLC\")</code>, <code>BeautifulSoup</code> would <em>look for the <code>DLC</code> tags/elements</em> on the page and not the text <code>DLC</code> inside the elements.</p>\n\n<p>Instead, you meant to use the <code>text</code> argument (in the modern <code>BeautifulSoup</code> <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-string-argument\" rel=\"nofollow\">the argument is called <code>string</code></a> instead of <code>text</code>):</p>\n\n<pre><code>soup.find_all(text=lambda text: text and \"DLC\" in text)\n</code></pre>\n"}], "owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 2, "accepted_answer_id": 37036834, "answer_count": 1, "score": 0, "last_activity_date": 1462391604, "creation_date": 1462391286, "last_edit_date": 1462391527, "question_id": 37036737, "link": "https://stackoverflow.com/questions/37036737/beautifulsoup4-returns-an-empty-list-for-no-reason", "title": "BeautifulSoup4 returns an empty list for no reason", "body": "<p>I have some data in a txt file, I'm trying to find some specific words in this file.</p>\n\n<pre><code>import re\nfrom bs4 import BeautifulSoup\n\n\nwith open (\"myfile.txt\") as f:\n    soup = BeautifulSoup(f)\n\n    print (soup.find_all(\"DLC\"))\n</code></pre>\n\n<p>There are at least 5 <code>DLC</code> in the file, but output is an empty list. I changed <code>soup = BeautifulSoup(f)</code> as <code>soup = BeautifulSoup(f),\"html.parser\"</code> but didn't work. Why it returns an empty list since I know that string is in the file already. Also it doesn't work on the website that I pulled this data. How can I fix this problem?</p>\n\n<p>Edit after comment: For example;</p>\n\n<pre><code>&lt;h1&gt;Fallout 4'\u00fcn Far Harbor DLC fragman\u0131 yay\u0131mland\u0131!&lt;/h1&gt;\n&lt;h2&gt;Bethesda'n\u0131n yapt\u0131\u011f\u0131 en geni\u015f DLC geliyor&lt;/h2&gt;\n</code></pre>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 1639, "user_id": 1884322, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0EjJd.png?s=128&g=1", "display_name": "Lamar Latrell", "link": "https://stackoverflow.com/users/1884322/lamar-latrell"}, "edited": false, "score": 0, "creation_date": 1462393053, "post_id": 37036714, "comment_id": 61624608, "body": "The assertion is telling you that they are not equal, but should be. Open the calibrateCamera code and search for the variables ni and ni1, see what they mean, why they need to be equivalent and why they aren&#39;t :)"}, {"owner": {"reputation": 716, "user_id": 2614418, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0c513e578421946070ad7b3a75a9e9dc?s=128&d=identicon&r=PG", "display_name": "Rui Sebasti&#227;o", "link": "https://stackoverflow.com/users/2614418/rui-sebasti%c3%a3o"}, "edited": false, "score": 1, "creation_date": 1499709797, "post_id": 37036714, "comment_id": 77011591, "body": "Possible duplicate of Raspberry pi OpenCV error: (-215) ni == ni1 in function collectCalibrationData  ](<a href=\"https://stackoverflow.com/questions/43795220/raspberry-pi-opencv-error-215-ni-ni1-in-function-collectcalibrationdata/45018585#45018585\" title=\"raspberry pi opencv error 215 ni ni1 in function collectcalibrationdata\">stackoverflow.com/questions/43795220/&hellip;</a>)"}], "owner": {"reputation": 63, "user_id": 6292137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77269b5620db2a7386c8f937c909d191?s=128&d=identicon&r=PG&f=1", "display_name": "flyingfishfinger", "link": "https://stackoverflow.com/users/6292137/flyingfishfinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1462391227, "creation_date": 1462391227, "question_id": 37036714, "link": "https://stackoverflow.com/questions/37036714/opencv-3-1-calibratecamera-assertion-failed-raspberry-pi-python", "title": "OpenCV 3.1: calibrateCamera &quot;assertion failed&quot; - Raspberry Pi / Python", "body": "<p>Morning!</p>\n\n<p>I've read several other topics about this error, but none seem to quite apply. I'm learning about OpenCV and I don't usually program so please feel free to point out better resources and apologies if I've missed something.\nI'm running OpenCV 3.1 and Python 2.7 on a Raspberry Pi 2 B running Jessie. I installed OpenCV according to <a href=\"http://www.pyimagesearch.com/2015/10/26/how-to-install-opencv-3-on-raspbian-jessie/\" rel=\"nofollow\">this article</a> on pyimagesearch and it works fine otherwise.</p>\n\n<p>I'm now trying to follow the calibrateCamera tutorial <a href=\"http://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_calib3d/py_pose/py_pose.html\" rel=\"nofollow\">here</a>. I've gotten to the point where I can acquire and save all my images (or use the provided sample ones) and see the overlay generated, but when I reach the line with calibrateCamera, I get the following error:</p>\n\n<blockquote>\n  <p>OpenCV Error: Assertion failed (ni == ni1) in collectCalibrationData, file /home/pi/opencv-3.1.0/modules/calib3d/src/calibration.cpp, line 3064\n  Traceback (most recent call last):\n    File \"findcorners.py\", line 38, in \n      ret, mtx, dist, rvecs, tvecs = cv2.calibrateCamera(objpoints, imgpoints, gray.shape[::-1], None, None)\n  cv2.error: /home/pi/opencv-3.1.0/modules/calib3d/src/calibration.cpp:3064: error: (-215) ni == ni1 in function collectCalibrationData</p>\n</blockquote>\n\n<p>Below is the complete code I am using (currently testing on provided sample images):</p>\n\n<pre><code>import numpy as np\nimport cv2\nimport glob\n\n# termination criteria\ncriteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 30,     0.001)\n\n# prepare object points, like (0,0,0), (1,0,0), (2,0,0) ....,(6,5,0)\nobjp = np.zeros((6*7,3), np.float32)\nobjp[:,:2] = np.mgrid[0:7,0:6].T.reshape(-1,2)\n\n# Arrays to store object points and image points from all the images.\nobjpoints = [] # 3d point in real world space\nimgpoints = [] # 2d points in image plane.\n\nimages = glob.glob('*.jpg')\n\nfor fname in images:\n    img = cv2.imread(fname)\n    gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)\n\n    # Find the chess board corners\n    ret, corners = cv2.findChessboardCorners(gray, (8,6),None)\n\n    # If found, add object points, image points (after refining them)\n    if ret == True:\n        objpoints.append(objp)\n\n        corners2 = cv2.cornerSubPix(gray,corners,(11,11),(-1,-1),criteria)\n       imgpoints.append(corners2)\n\n        # Draw and display the corners\n        img = cv2.drawChessboardCorners(img, (7,6), corners2,ret)\n        cv2.imshow('img',img)\n        cv2.waitKey(500)\n\n\nret, mtx, dist, rvecs, tvecs = cv2.calibrateCamera(objpoints, imgpoints, gray.shape[::-1], None, None)\nnp.savez(\"webcam_calibration_ouput\", ret=ret, mtx=mtx, dist=dist, rvecs=rvecs, tvecs=tvecs)\ncv2.destroyAllWindows()\n</code></pre>\n"}, {"tags": ["python", "mysql", "sql", "mysql-python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1462391157, "post_id": 37036682, "comment_id": 61623556, "body": "DOn&#39;t put code in comments, edit the question."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1462391432, "post_id": 37036682, "comment_id": 61623708, "body": "You&#39;re carefully hiding all possible errors with that catch-all <code>except</code> block. <b>Remove</b> that so you can see what is actually going wrong. Never, ever, blindly catch and swallow exceptions."}, {"owner": {"reputation": 53, "user_id": 6275235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1222726751080454/picture?type=large", "display_name": "Gina", "link": "https://stackoverflow.com/users/6275235/gina"}, "edited": false, "score": 0, "creation_date": 1462393016, "post_id": 37036682, "comment_id": 61624587, "body": "i have removed try-catch, now i have this error: End of script output before headers"}, {"owner": {"reputation": 53, "user_id": 6275235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1222726751080454/picture?type=large", "display_name": "Gina", "link": "https://stackoverflow.com/users/6275235/gina"}, "edited": false, "score": 0, "creation_date": 1462394505, "post_id": 37036682, "comment_id": 61625351, "body": "thank you, that helped me a lot. now i have the answer posted"}], "answers": [{"comments": [{"owner": {"reputation": 2182, "user_id": 3230146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e16f58dd24d4f673ddda1e32ce21b79?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/3230146/joel"}, "edited": false, "score": 0, "creation_date": 1462394975, "post_id": 37037608, "comment_id": 61625585, "body": "Thank you for posting your answer. However, don&#39;t forget to be specific about what the error was and exactly how you resolved it so that other than benefit from your answer in the future."}, {"owner": {"reputation": 93172, "user_id": 1734130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZ5Sn.png?s=128&g=1", "display_name": "mvp", "link": "https://stackoverflow.com/users/1734130/mvp"}, "edited": false, "score": 1, "creation_date": 1462396980, "post_id": 37037608, "comment_id": 61626576, "body": "Now, imagine what happens if <code>iduser</code> obtained from cgi is <code>NULL; DROP TABLE user</code>."}], "tags": [], "owner": {"reputation": 53, "user_id": 6275235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1222726751080454/picture?type=large", "display_name": "Gina", "link": "https://stackoverflow.com/users/6275235/gina"}, "is_accepted": false, "score": 1, "last_activity_date": 1462394455, "creation_date": 1462394455, "answer_id": 37037608, "question_id": 37036682, "link": "https://stackoverflow.com/questions/37036682/delete-from-database-in-python/37037608#37037608", "title": "Delete from database in Python", "body": "<p>here is the answer: </p>\n\n<pre><code>#!/Python27/python\n# -*- coding: UTF-8 -*-\n\n\n# Import modules for CGI handling\nimport MySQLdb\nimport cgi, cgitb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\", \"root\", \"\", \"moviedb\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\n# Create instance of FieldStorage \nform = cgi.FieldStorage() \n\n# Get data from fields\niduser = form.getvalue('iddelete')\n\n# execute SQL query using execute() method.\nquery = \"delete from user where id = '%s' \" % iduser\ncursor.execute(query)\n    # Commit your changes in the database\ndb.commit()\n\n# disconnect from server\ndb.close()\n\nprint \"Content-Type: text/plain;charset=utf-8\"\nprint\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6275235, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1222726751080454/picture?type=large", "display_name": "Gina", "link": "https://stackoverflow.com/users/6275235/gina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4941, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1462396214, "creation_date": 1462391107, "last_edit_date": 1462396214, "question_id": 37036682, "link": "https://stackoverflow.com/questions/37036682/delete-from-database-in-python", "title": "Delete from database in Python", "body": "<p>I have <code>deleteuser.py</code> where i need to delete one user, here is the code: </p>\n\n<pre><code># Import modules for CGI handling\nimport MySQLdb\nimport cgi, cgitb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\", \"root\", \"\", \"moviedb\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\n# Create instance of FieldStorage \nform = cgi.FieldStorage() \n\n# Get data from fields\niduser = form.getvalue('iddelete')\n\n# execute SQL query using execute() method.\ntry:\n    cursor.execute(\"\"\"DELETE FROM user WHERE\n         ID = '%s'\"\"\",(iduser))\n    # Commit your changes in the database\n    db.commit()\nexcept:\n    db.rollback()\n\n# disconnect from server\ndb.close()\n\nprint \"Content-Type: text/plain;charset=utf-8\"\nprint\n</code></pre>\n\n<p>I have no error but it doesn`t work.\nThe database is still the same.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "tkinter", "cx-freeze"], "owner": {"reputation": 33, "user_id": 4642751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vf3Fg.jpg?s=128&g=1", "display_name": "Mont&#232; Clements", "link": "https://stackoverflow.com/users/4642751/mont%c3%a8-clements"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1462390753, "creation_date": 1462390753, "question_id": 37036585, "link": "https://stackoverflow.com/questions/37036585/cx-freeze-unicode-decode-error", "title": "cx_Freeze Unicode Decode Error", "body": "<p>I am trying to convert an application I have made into an executable file using the script below</p>\n\n<pre><code>import cx_Freeze\nimport sys\n\nbase = None\n\nif sys.platform == 'win32':\n    base = 'Win32GUI'\n\nexecutables = [cx_Freeze.Executable('MainWindow.py', base=base, icon='Iconn.ico')]\n\ncx_Freeze.setup(\n    name = 'Student Analysis',\n    options = {'build_exe': {'packages':['tkinter', 'MyLibrary']}},\n    version = '0.1',\n    description = 'Student analysis program',\n    executables = executables\n)\n</code></pre>\n\n<p>However, when I run this through the cmd, I get an error saying</p>\n\n<pre><code>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 2862: invalid start byte\n</code></pre>\n\n<p>The most recent call was the very last line, where executables = executables.\nI've tried looking around and all I've found is answers based for pygame. </p>\n"}, {"tags": ["python", "django", "models"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1462391361, "post_id": 37036521, "comment_id": 61623668, "body": "You should show how you tried to set the default, and the error you got."}, {"owner": {"reputation": 8846, "user_id": 149428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FIX3s.jpg?s=128&g=1", "display_name": "Taylor Edmiston", "link": "https://stackoverflow.com/users/149428/taylor-edmiston"}, "edited": false, "score": 1, "creation_date": 1462391694, "post_id": 37036521, "comment_id": 61623865, "body": "It may also help to delete any problematic migrations and regenerate them from scratch on a fresh database."}, {"owner": {"reputation": 10062, "user_id": 1360544, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/az10K.jpg?s=128&g=1", "display_name": "Boris Burkov", "link": "https://stackoverflow.com/users/1360544/boris-burkov"}, "edited": false, "score": 0, "creation_date": 1462451417, "post_id": 37036521, "comment_id": 61648613, "body": "Indeed, the brute-force way to solve such problems is to 1) drop database; 2) manually delete all the migration files in migrations folder (just don&#39;t delete <code>__init__.py</code>); 3) create empty database; 4) <code>python mange.py makemigrations</code>; <code>python manage.py migrate</code>."}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 1245659, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9116cc9a250e0990ae2b0395b28aa875?s=128&d=identicon&r=PG", "display_name": "arcee123", "link": "https://stackoverflow.com/users/1245659/arcee123"}, "is_accepted": false, "score": 1, "last_activity_date": 1462391020, "creation_date": 1462391020, "answer_id": 37036656, "question_id": 37036521, "link": "https://stackoverflow.com/questions/37036521/django-models-relations-to-user-model/37036656#37036656", "title": "Django Models Relations to User Model", "body": "<p>Take a look at this:</p>\n\n<p><a href=\"https://docs.djangoproject.com/es/1.9/topics/db/examples/one_to_one/\" rel=\"nofollow\">https://docs.djangoproject.com/es/1.9/topics/db/examples/one_to_one/</a></p>\n\n<p>Your code is a ONE-to-ONE with user.  When you set it, it implies CASCADE delete, and therefore can never be null.</p>\n\n<p>if you change to One-to-Many, and just ensure that you only insert one object for the foreign key, it'll work. Otherwise, change your cascade rule.</p>\n\n<p>I will say, however, that's not a good idea, because if you make it null, what separates it from other records.  Consider a second PK field.</p>\n\n<p>Best of luck.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 6244480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a8e6921c5d742b741f6e588625a07c?s=128&d=identicon&r=PG&f=1", "display_name": "jaidmin", "link": "https://stackoverflow.com/users/6244480/jaidmin"}, "edited": false, "score": 0, "creation_date": 1462444274, "post_id": 37036955, "comment_id": 61644197, "body": "Thanks for your answer, I just had that class to try to set default values for the User Fields that were non nullable, but the Fields clashed. After deleting and just keeping Author (for Userprofile purposes), I still get the same issue. Django asks for a default value for the user.id, but what is and acceptable value there ? If i set a Sting like &quot;default&quot; it will makemigrations but migrate fails with &quot;django.db.utils.OperationalError: near &quot;)&quot;: syntax error&quot;"}, {"owner": {"reputation": 1004, "user_id": 3370288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68b54296dfa367882d4b225115d05ef3?s=128&d=identicon&r=PG", "display_name": "sehrob", "link": "https://stackoverflow.com/users/3370288/sehrob"}, "edited": false, "score": 0, "creation_date": 1462449064, "post_id": 37036955, "comment_id": 61647172, "body": "Looks like your problem has nothing to do with the <code>User</code> model. I think somehow you added an id field to your <code>Author</code> model and deleted it (maybe after an unsuccessful migration), isn&#39;t that the case?"}, {"owner": {"reputation": 23, "user_id": 6244480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a8e6921c5d742b741f6e588625a07c?s=128&d=identicon&r=PG&f=1", "display_name": "jaidmin", "link": "https://stackoverflow.com/users/6244480/jaidmin"}, "edited": false, "score": 0, "creation_date": 1462457874, "post_id": 37036955, "comment_id": 61653122, "body": "Thank, must have been that. I ended up creating a new project and copying the code ... But I&#39;ll keep that in mind for bigger and more important projects"}], "tags": [], "owner": {"reputation": 1004, "user_id": 3370288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68b54296dfa367882d4b225115d05ef3?s=128&d=identicon&r=PG", "display_name": "sehrob", "link": "https://stackoverflow.com/users/3370288/sehrob"}, "is_accepted": true, "score": 0, "last_activity_date": 1462450520, "last_edit_date": 1462450520, "creation_date": 1462391953, "answer_id": 37036955, "question_id": 37036521, "link": "https://stackoverflow.com/questions/37036521/django-models-relations-to-user-model/37036955#37036955", "title": "Django Models Relations to User Model", "body": "<p>Just import django's built-in <code>User</code> model like this: </p>\n\n<pre><code>from django.contrib.auth.models import User\n</code></pre>\n\n<p>and delete this line: </p>\n\n<pre><code>class User(User_django):\n    pass\n</code></pre>\n\n<p>from your code as it is completely unnecessary. </p>\n\n<p><strong>UPDATE:</strong> Also it looks like your problem has nothing to do with the <code>User</code> model. I think somehow you added an id field to your <code>Author</code> model and deleted it (maybe after an unsuccessful migration). If this is the case, then you could edit your <code>0003_auto_20160505_1237.py</code>. To do that open it and remove the lines which look something like this: </p>\n\n<pre><code>migrations.AddField(\n    model_name='author',\n    name='id',\n    field=models.someFieldType(options)),\n),\n</code></pre>\n\n<p>and try again.</p>\n"}], "owner": {"reputation": 23, "user_id": 6244480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a8e6921c5d742b741f6e588625a07c?s=128&d=identicon&r=PG&f=1", "display_name": "jaidmin", "link": "https://stackoverflow.com/users/6244480/jaidmin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 37036955, "answer_count": 2, "score": 2, "last_activity_date": 1462450520, "creation_date": 1462390554, "last_edit_date": 1462447183, "question_id": 37036521, "link": "https://stackoverflow.com/questions/37036521/django-models-relations-to-user-model", "title": "Django Models Relations to User Model", "body": "<p>I'm new to the forum and I've got a problem.</p>\n\n<p>in Django im trying to create a UserProfile class by referencing it via a OnetoOneField to an User Object. When i try to migrate, I get:</p>\n\n<p>\"You are trying to add a non-nullable field 'id' to author without a default; we can't do that (the database needs something to populate existing rows).\nPlease select a fix:\n 1) Provide a one-off default now (will be set on all existing rows)\n 2) Quit, and let me add a default in models.py\"</p>\n\n<p>I understand, that there are some fields in the User model (for example \"id\") that are not allowed to be null. </p>\n\n<p>When I try to set a default it will makemigrations, but migrate fails with a syntax error.</p>\n\n<p>My Question is how do I allow Null, or set a default that works, without writing a custom User class, and is that even possible ?</p>\n\n<p>I'd really appreciate any help with this.</p>\n\n<p>Here is my Code:</p>\n\n<pre><code>from django.db import models\nfrom django.contrib.auth.models import User as User_django\n\nclass User(User_django):\n    pass\n\nclass Author(models.Model):\n    user = models.OneToOneField(User, null=True)\n\nclass BaseElement(models.Model):\n\n    author=models.ForeignKey(Author, null=True)\n    upvotes = models.PositiveIntegerField(default=0)\n    downvotes = models.PositiveIntegerField(default=0)\n    created = models.DateTimeField(auto_now_add=True, null=True)\n\n    def vote_up(self):\n        self.upvotes.value = self.upvotes.value + 1\n\n    def vote_down(self):\n        self.downvotes.value = self.downvotes.value + 1\n\n    class Meta:\n        abstract = True\n\n\nclass Post(BaseElement):\n    content = models.TextField(max_length=240)\n    tags = models.CharField(max_length=40, blank=True)\n    said_by = models.CharField(max_length=40)\n    said_at = models.CharField(max_length=40, blank=True)\n\n    def get_comments(self):\n        return self.comment_set.all()\n\n    def get_comments_anzahl(self):\n        return self.comment_set.all().count()\n\n\nclass Comment(BaseElement):\n    content = models.TextField(max_length=140)\n    commented_post = models.ForeignKey(Post, related_query_name=\"comment\", null=True)\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>This happens if I try to set a default and try to migrate:</p>\n\n<pre><code>You are trying to add a non-nullable field 'id' to author without a  \ndefault; we can't do that (the database needs something to populate \nexisting rows).\nPlease select a fix:\n 1) Provide a one-off default now (will be set on all existing rows)\n 2) Quit, and let me add a default in models.py\nSelect an option: 1\nPlease enter the default value now, as valid Python\nThe datetime and django.utils.timezone modules are available, so you can  \ndo e.g. timezone.now()\n&gt;&gt;&gt; 1\n Migrations for 'post':\n 0003_auto_20160505_1237.py:\n  - Change Meta options on author\n  - Change managers on author\n  - Remove field user_ptr from author\n  - Add field id to author\n  - Add field user to author\n\n Operations to perform:\n Apply all migrations: contenttypes, admin, sessions, post, auth\n Running migrations:\n   Rendering model states... DONE\n   Applying post.0003_auto_20160505_1237...Traceback (most recent call last):\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/utils.py\", line 64, in execute\n   return self.cursor.execute(sql, params)\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/sqlite3/base.py\", line 323, in execute\n   return Database.Cursor.execute(self, query, params)\n   sqlite3.OperationalError: near \")\": syntax error\n\n  The above exception was the direct cause of the following exception:\n\n Traceback (most recent call last):\n    File \"manage.py\", line 10, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django  /core/management/__init__.py\", line 353, in execute_from_command_line\n   utility.execute()\n  File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/core/management/__init__.py\", line 345, in execute\n   self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/core/management/base.py\", line 348, in run_from_argv\n   self.execute(*args, **cmd_options)\n  File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/core/management/base.py\", line 399, in execute\n    output = self.handle(*args, **options)\n  File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/core/management/commands/migrate.py\", line 200, in handle\n   executor.migrate(targets, plan, fake=fake, fake_initial=fake_initial)\n  File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/migrations/executor.py\", line 92, in migrate\n    self._migrate_all_forwards(plan, full_plan, fake=fake,  fake_initial=fake_initial)\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/migrations/executor.py\", line 121, in _migrate_all_forwards\n    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)\n  File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/migrations/executor.py\", line 198, in apply_migration\n   state = migration.apply(state, schema_editor)\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/migrations/migration.py\", line 123, in apply\n   operation.database_forwards(self.app_label, schema_editor, old_state, project_state)\n  File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/migrations/operations/fields.py\", line 121, in database_forwards\n   schema_editor.remove_field(from_model, from_model._meta.get_field(self.name))\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/sqlite3/schema.py\", line 247, in remove_field\n    self._remake_table(model, delete_fields=[field])\n    File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/sqlite3/schema.py\", line 197, in _remake_table\n    self.quote_name(model._meta.db_table),\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/base/schema.py\", line 110, in execute\n    cursor.execute(sql, params)\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/utils.py\", line 79, in execute\n     return super(CursorDebugWrapper, self).execute(sql, params)\n    File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n    File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/utils.py\", line 95, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/utils/six.py\", line 685, in reraise\n    raise value.with_traceback(tb)\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/utils.py\", line 64, in execute\n   return self.cursor.execute(sql, params)\n   File \"/home/jaidmin/.conda/envs/cyf/lib/python3.5/site-packages/django/db/backends/sqlite3/base.py\", line 323, in execute\n    return Database.Cursor.execute(self, query, params)\n   django.db.utils.OperationalError: near \")\": syntax error\n</code></pre>\n\n<p>EDIT: \nIt seems like I solved it by creating a new project and step by step copying the models and migrating. Still wondering what was going on there, because I flushed the database and deleted the migration files multiple times and it was still throwing errors. </p>\n\n<p>Thanks for the help !</p>\n"}, {"tags": ["python", "jupyter", "qtconsole"], "answers": [{"comments": [{"owner": {"reputation": 10770, "user_id": 852063, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/80fd1d68d0d2ae503cf5870e29fecae5?s=128&d=identicon&r=PG&f=1", "display_name": "Amani", "link": "https://stackoverflow.com/users/852063/amani"}, "edited": false, "score": 1, "creation_date": 1462394084, "post_id": 37037357, "comment_id": 61625140, "body": "In ~/.jupyter there no file named &#39;jupyter_qtconsole_config.py&#39;. I also presume &#39;c&#39; (as in c.ConsoleWidget.font_family&#39; is a class. How do I get c?"}, {"owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "reply_to_user": {"reputation": 10770, "user_id": 852063, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/80fd1d68d0d2ae503cf5870e29fecae5?s=128&d=identicon&r=PG&f=1", "display_name": "Amani", "link": "https://stackoverflow.com/users/852063/amani"}, "edited": false, "score": 0, "creation_date": 1462394182, "post_id": 37037357, "comment_id": 61625191, "body": "If it doesn&#39;t exist, just run <code>touch ~&#47;.jupyter&#47;jupyter_qtconsole_config.py</code>.  &quot;c&quot; and other config classes will be loaded as globals when you first start up qtconsole, so you shouldn&#39;t need to worry about it."}, {"owner": {"reputation": 121, "user_id": 1561540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JLv7c.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/1561540/richard"}, "edited": false, "score": 6, "creation_date": 1538574846, "post_id": 37037357, "comment_id": 92190798, "body": "To generate default configuration, you can also run  <code>jupyter qtconsole --generate-config</code> in terminal. <code>~&#47;.jupyter&#47;jupyter_qtconsole_config.py</code>will be generated with a lot default settings."}, {"owner": {"reputation": 11963, "user_id": 2707864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LYdpu.png?s=128&g=1", "display_name": "sancho.s ReinstateMonicaCellio", "link": "https://stackoverflow.com/users/2707864/sancho-s-reinstatemonicacellio"}, "reply_to_user": {"reputation": 121, "user_id": 1561540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JLv7c.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/1561540/richard"}, "edited": false, "score": 1, "creation_date": 1593855950, "post_id": 37037357, "comment_id": 110926775, "body": "@Richard - The comment is much worth posting as an answer."}], "tags": [], "owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "is_accepted": true, "score": 4, "last_activity_date": 1462393925, "last_edit_date": 1462393925, "creation_date": 1462393455, "answer_id": 37037357, "question_id": 37036520, "link": "https://stackoverflow.com/questions/37036520/setting-default-configuration-for-jupyter-qtconsole/37037357#37037357", "title": "Setting default configuration for Jupyter QtConsole", "body": "<p>The <a href=\"https://jupyter.org/qtconsole/stable/config_options.html\" rel=\"nofollow\">docs on configuration options for jupyter</a> will be very helpful here.</p>\n\n<p>In short, open <code>~/.jupyter/jupyter_qtconsole_config.py</code> in your favorite text editor and find your options of interest.</p>\n\n<ul>\n<li>Font family : <code>c.ConsoleWidget.font_family</code></li>\n<li>Font size : <code>c.ConsoleWidget.font_size</code></li>\n</ul>\n\n<p>Startup scripts and initial imports will be a little more complicated since those are properties of the ipython kernel, which will need to be set in your ipython config.  In <code>~/.ipython/profile_default/ipython_kernel_config.py</code>,</p>\n\n<ul>\n<li>Initial imports : <code>c.InteractiveShellApp.exec_lines = ['import numpy as np','import pandas as pd']</code></li>\n</ul>\n"}], "owner": {"reputation": 10770, "user_id": 852063, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/80fd1d68d0d2ae503cf5870e29fecae5?s=128&d=identicon&r=PG&f=1", "display_name": "Amani", "link": "https://stackoverflow.com/users/852063/amani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2061, "favorite_count": 0, "accepted_answer_id": 37037357, "answer_count": 1, "score": 1, "last_activity_date": 1462393925, "creation_date": 1462390551, "question_id": 37036520, "link": "https://stackoverflow.com/questions/37036520/setting-default-configuration-for-jupyter-qtconsole", "title": "Setting default configuration for Jupyter QtConsole", "body": "<p>I have Jupyter QtConsole installed in Ubuntu 16.04. How can I set default configuration like font family, size and initial imports?</p>\n"}, {"tags": ["python", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 359, "user_id": 4644109, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c2ee3959385608f412140276f17f51a?s=128&d=identicon&r=PG&f=1", "display_name": "Oaks-view", "link": "https://stackoverflow.com/users/4644109/oaks-view"}, "edited": false, "score": 0, "creation_date": 1462401633, "post_id": 37038702, "comment_id": 61628480, "body": "Yeah that did it. Thanks"}, {"owner": {"reputation": 935, "user_id": 11498682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f7a5c175d46bd22f3319cce8d2c1bdf?s=128&d=identicon&r=PG&f=1", "display_name": "Ahndwoo", "link": "https://stackoverflow.com/users/11498682/ahndwoo"}, "edited": false, "score": 0, "creation_date": 1597156915, "post_id": 37038702, "comment_id": 112038591, "body": "This has been changed to <code>overlay_color</code> in 2.0.0, with <code>background_color</code> now affecting the background of the widget itself."}], "tags": [], "owner": {"reputation": 14068, "user_id": 1169883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9MUrT.jpg?s=128&g=1", "display_name": "Ryan P", "link": "https://stackoverflow.com/users/1169883/ryan-p"}, "is_accepted": true, "score": 4, "last_activity_date": 1462398701, "creation_date": 1462398701, "answer_id": 37038702, "question_id": 37036517, "link": "https://stackoverflow.com/questions/37036517/kivy-disable-background-fading-on-popup-open/37038702#37038702", "title": "Kivy Disable background fading on popup open", "body": "<p>You can easily disable the background by making the <a href=\"https://kivy.org/docs/api-kivy.uix.modalview.html#kivy.uix.modalview.ModalView.background_color\" rel=\"nofollow\">background color</a> transparent:</p>\n\n<pre><code>MyModalView(background_color=(0, 0, 0, 0))\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>&lt;MyModalView&gt;:\n    background_color: 0, 0, 0, 0\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 4644109, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c2ee3959385608f412140276f17f51a?s=128&d=identicon&r=PG&f=1", "display_name": "Oaks-view", "link": "https://stackoverflow.com/users/4644109/oaks-view"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "accepted_answer_id": 37038702, "answer_count": 1, "score": 1, "last_activity_date": 1462398701, "creation_date": 1462390538, "question_id": 37036517, "link": "https://stackoverflow.com/questions/37036517/kivy-disable-background-fading-on-popup-open", "title": "Kivy Disable background fading on popup open", "body": "<p>I don't know if  im putting it correctly. Usually when ever a popup or modal view is opened, the window background is then faded until popup is dismissed. I would like to know if there's a way to disable it. </p>\n"}, {"tags": ["javascript", "python", "node.js", "encryption", "cryptography"], "comments": [{"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1462393365, "post_id": 37036512, "comment_id": 61624782, "body": "Please tell me that you are using ECB for exposition rather than because your real system is going to use ECB."}, {"owner": {"reputation": 2102, "user_id": 3163824, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/C5sne.jpg?s=128&g=1", "display_name": "Panagiotis Drakatos", "link": "https://stackoverflow.com/users/3163824/panagiotis-drakatos"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1462395086, "post_id": 37036512, "comment_id": 61625642, "body": "As you can see yes i use ECB cipher = AES.new(key, AES.MODE_ECB)"}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1462395913, "post_id": 37036512, "comment_id": 61626076, "body": "ECB mode is not very secure, you need a very good and informed reason to use it, see <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Electronic_Codebook_.28ECB.29\" rel=\"nofollow noreferrer\">here</a> (scroll down to the penguin image) for why."}, {"owner": {"reputation": 2102, "user_id": 3163824, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/C5sne.jpg?s=128&g=1", "display_name": "Panagiotis Drakatos", "link": "https://stackoverflow.com/users/3163824/panagiotis-drakatos"}, "edited": false, "score": 0, "creation_date": 1462396080, "post_id": 37036512, "comment_id": 61626161, "body": "i know you are right but that is not my problem right now. I will use AES.MODE_CBC with Iv(parameters) when my problem fixed.Thanks for your comment"}], "answers": [{"comments": [{"owner": {"reputation": 2102, "user_id": 3163824, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/C5sne.jpg?s=128&g=1", "display_name": "Panagiotis Drakatos", "link": "https://stackoverflow.com/users/3163824/panagiotis-drakatos"}, "edited": false, "score": 0, "creation_date": 1462397091, "post_id": 37038216, "comment_id": 61626626, "body": "Replacing key = m.hexdigest() with key = m.digest()  solved my problem thats only not ,the other one you can dlete it.I loveee you"}, {"owner": {"reputation": 1072, "user_id": 870658, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d0265bb805e61c90189915af86036d77?s=128&d=identicon&r=PG", "display_name": "fbessho", "link": "https://stackoverflow.com/users/870658/fbessho"}, "reply_to_user": {"reputation": 2102, "user_id": 3163824, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/C5sne.jpg?s=128&g=1", "display_name": "Panagiotis Drakatos", "link": "https://stackoverflow.com/users/3163824/panagiotis-drakatos"}, "edited": false, "score": 0, "creation_date": 1462398040, "post_id": 37038216, "comment_id": 61627085, "body": "@xXxpRoGrAmmErxXx Please keep your question as clean as possible so that people who read this question later can find it useful. I understand your problem is solved just by replacing hexdigest() with digest(), however putting wrong code to the question may cause confusion to others."}, {"owner": {"reputation": 1072, "user_id": 870658, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d0265bb805e61c90189915af86036d77?s=128&d=identicon&r=PG", "display_name": "fbessho", "link": "https://stackoverflow.com/users/870658/fbessho"}, "reply_to_user": {"reputation": 2102, "user_id": 3163824, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/C5sne.jpg?s=128&g=1", "display_name": "Panagiotis Drakatos", "link": "https://stackoverflow.com/users/3163824/panagiotis-drakatos"}, "edited": false, "score": 0, "creation_date": 1462398178, "post_id": 37038216, "comment_id": 61627142, "body": "I edited the code in the question and removed the part from this answer."}], "tags": [], "owner": {"reputation": 1072, "user_id": 870658, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d0265bb805e61c90189915af86036d77?s=128&d=identicon&r=PG", "display_name": "fbessho", "link": "https://stackoverflow.com/users/870658/fbessho"}, "is_accepted": true, "score": 5, "last_activity_date": 1462398079, "last_edit_date": 1462398079, "creation_date": 1462396713, "answer_id": 37038216, "question_id": 37036512, "link": "https://stackoverflow.com/questions/37036512/aes-encryption-between-python-and-node-js-with-pkcs7padding/37038216#37038216", "title": "AES encryption between python and Node.js with PKCS7Padding", "body": "<p>Replacing <code>key = m.hexdigest()</code> with <code>key = m.digest()</code> should solve your problem.</p>\n"}], "owner": {"reputation": 2102, "user_id": 3163824, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/C5sne.jpg?s=128&g=1", "display_name": "Panagiotis Drakatos", "link": "https://stackoverflow.com/users/3163824/panagiotis-drakatos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2035, "favorite_count": 1, "accepted_answer_id": 37038216, "answer_count": 1, "score": 0, "last_activity_date": 1503877203, "creation_date": 1462390528, "last_edit_date": 1503877203, "question_id": 37036512, "link": "https://stackoverflow.com/questions/37036512/aes-encryption-between-python-and-node-js-with-pkcs7padding", "title": "AES encryption between python and Node.js with PKCS7Padding", "body": "<p>I am trying with no success to decrypt a message with pkcs7 padding in Node.js. This message was encrypted and sent from Python code. I managed make it work in pure Python but can't figure out how to implement the decode (pkcs7 padding) functionality in Node.js. Can anybody help me reproduce the code?</p>\n\n<p>Python Encode-Encrypt</p>\n\n<pre><code>import base64\nimport hashlib\nfrom Crypto.Cipher import AES\nimport pkcs7\n\ntext = \"data\"\npasword = \"key\"    \n\npw_bytes = pasword.encode('utf-8')\ntext_bytes = text.encode('utf-8')\n\nm = hashlib.md5()\nm.update(pw_bytes)\nkey = m.hexdigest()\ncipher = AES.new(key, AES.MODE_ECB)\npad_text = pkcs7.encode(text_bytes)\nmsg = cipher.encrypt(pad_text)\nEncodeMsg = base64.b64encode(msg)\nencryptedstring = EncodeMsg.decode(\"utf-8\")\nprint(encryptedstring)\n\n# Output: SxQE+SERkAzYcdG/ESAhiQ==\n</code></pre>\n\n<p>In addition, I put custom code for pkcs7 padding in Python <strong>pkcs7.py</strong></p>\n\n<pre><code>import binascii\ntry:\n    from StringIO import StringIO\nexcept ImportError:\n    from io import StringIO\n\n\ndef decode(bytestring, k=16):\n    val = binascii.hexlify(bytestring[-1])\n    val = int(val, 16)\n    if val &gt; k:\n        raise ValueError('Input is not padded or padding is corrupt')\n    l = len(bytestring) - val\n    return bytestring[:l]\n\n\ndef encode(bytestring, k=16):\n    l = len(bytestring)\n    output = StringIO()\n    val = k - (l % k)\n    for _ in range(val):\n        output.write('%02x' % val)\n    return bytestring + binascii.unhexlify(output.getvalue())\n</code></pre>\n\n<p>Node.js Decrypt</p>\n\n<pre><code>const crypto = require('crypto');\nvar decipher = crypto.createDecipher('aes-128-ecb', 'key');\nvar decrypted = decipher.update('SxQE+SERkAzYcdG/ESAhiQ==', 'base64', 'utf8');\ndecrypted += decipher.final('utf8');\n\nconsole.log(decrypted);\n</code></pre>\n\n<p>This is the error: </p>\n\n<pre><code>Error: error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt\n    at Error (native)\n    at Decipher.Cipher.final (crypto.js:153:26)\n    at Object.&lt;anonymous&gt; (/root/Documents/Testing-Repo/node.js/testing.js:21:23)\n    at Module._compile (module.js:413:34)\n    at Object.Module._extensions..js (module.js:422:10)\n    at Module.load (module.js:357:32)\n    at Function.Module._load (module.js:314:12)\n    at Timeout.Module.runMain [as _onTimeout] (module.js:447:10)\n    at tryOnTimeout (timers.js:224:11)\n    at Timer.listOnTimeout (timers.js:198:5)\n</code></pre>\n"}, {"tags": ["python", "multithreading", "sockets", "python-3.x"], "owner": {"reputation": 11, "user_id": 6292485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97acebb22d2df70250c1768267853956?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Low", "link": "https://stackoverflow.com/users/6292485/cameron-low"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576318947, "creation_date": 1462390399, "last_edit_date": 1576318947, "question_id": 37036470, "link": "https://stackoverflow.com/questions/37036470/python-3-5-multiple-client-server-chat", "title": "Python 3.5: multiple client - server chat", "body": "<p>At the moment I can send messages to and from clients using the server as a middleman.</p>\n\n<p>However I cannot get the messages that are received by each client to be printed out before a user inputs something. I have come across threading however I am very inexperienced with it.</p>\n\n<p>Server code:</p>\n\n<pre><code>import socket, _thread\n\nserversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM) \n\nhost = socket.gethostname()                           \nport = 9999\nserversocket.bind((host, port))                                  \n\nserversocket.listen(5)\n\ndef send_c2(clientsocket1, clientsocket2):\n    while True:\n        msg1 = clientsocket1.recv(1024)\n        msg1 = msg1.decode('ascii')\n        clientsocket2.send(msg1.encode('ascii'))\n\ndef send_c1(clientsocket1, clientsocket2):\n    while True:\n        msg2 = clientsocket2.recv(1024)\n        msg2 = msg2.decode('ascii')\n        clientsocket1.send(msg2.encode('ascii'))\n\nwhile True:\n    clientsocket1,addr = serversocket.accept()          \n    print(\"Got a connection from %s\" % str(addr))\n    clientsocket2,addr = serversocket.accept()\n    print(\"Got a connection from %s\" % str(addr))\n\n    try:\n        _thread.start_new_thread(send_c2, (clientsocket1, clientsocket2))\n        _thread.start_new_thread(send_c1, (clientsocket1, clientsocket2))\n    except:\n        print(\"Thread failed\")\n</code></pre>\n\n<p>Client code:</p>\n\n<pre><code>import socket, _thread\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM) \n\nhost = socket.gethostname()                           \nport = 9999\ns.connect((host, port))                               \n\ndef send_msg(r, s):\n    while True:\n        msg = input(\"&gt; \")\n        s.send(msg.encode('ascii'))\n\ndef rec_msg(r, s):\n    while True:\n        tm = s.recv(1024)\n        print(tm.decode('ascii'))\n\ntry:\n    _thread.start_new_thread(send_msg, (\"Thread 1\", s))\n    _thread.start_new_thread(rec_msg, (\"Thread 2\", s))\nexcept:\n    print(\"Thread failed\")\n</code></pre>\n\n<p>Is there a way round this?</p>\n"}, {"tags": ["python", "arduino", "gpio"], "comments": [{"owner": {"reputation": 3390, "user_id": 701449, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0b61079d69a0faceb128b4b8637aa1d9?s=128&d=identicon&r=PG", "display_name": "tknickman", "link": "https://stackoverflow.com/users/701449/tknickman"}, "edited": false, "score": 0, "creation_date": 1462390271, "post_id": 37036392, "comment_id": 61623087, "body": "What does <code>input_state</code> represent physically? Is it that the button is being pressed?"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 3596866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SzIce.jpg?s=128&g=1", "display_name": "evolution9", "link": "https://stackoverflow.com/users/3596866/evolution9"}, "is_accepted": false, "score": 0, "last_activity_date": 1462390833, "creation_date": 1462390833, "answer_id": 37036614, "question_id": 37036392, "link": "https://stackoverflow.com/questions/37036392/python-rpi-gpio-button-activates-relay-needs-to-address-button-hold/37036614#37036614", "title": "Python RPi.GPIO Button Activates Relay - Needs to address button hold", "body": "<p>I found a resolution to my issue...</p>\n\n<p>GPIO.wait_for_edge(22, GPIO.RISING)</p>\n\n<p>Was added to while loop:</p>\n\n<pre><code>while True:\n    GPIO.wait_for_edge(22, GPIO.RISING)\n    input_state = GPIO.input(22)\n    if input_state == False and solenoid == \"ON\":\n        print('SOLENOID OFF')\n        solenoid = \"OFF\"\n        GPIO.output(17,True)\n       time.sleep(0.2)\n    elif input_state == False and solenoid == \"OFF\":\n        print('SOLENOID ON')\n        solenoid = \"ON\"\n        GPIO.output(17,False)\n        time.sleep(0.2)\n</code></pre>\n\n<p>wait_for_edge() function</p>\n\n<p>The wait_for_edge() function is designed to block execution of your program until an edge is detected. In other words, the example above that waits for a button press could be rewritten as:\nGPIO.wait_for_edge(channel, GPIO.RISING)\nNote that you can detect edges of type GPIO.RISING, GPIO.FALLING or GPIO.BOTH. The advantage of doing it this way is that it uses a negligible amount of CPU, so there is plenty left for other tasks.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 3596866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SzIce.jpg?s=128&g=1", "display_name": "evolution9", "link": "https://stackoverflow.com/users/3596866/evolution9"}, "edited": false, "score": 0, "creation_date": 1462395078, "post_id": 37037697, "comment_id": 61625639, "body": "For some reason my relay behaves in reverse, which is why input_state == False otherwise i&#39;d set it to true."}, {"owner": {"reputation": 806, "user_id": 5116726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896265d01f444fe655496d6e23716e32?s=128&d=identicon&r=PG&f=1", "display_name": "mbrig", "link": "https://stackoverflow.com/users/5116726/mbrig"}, "reply_to_user": {"reputation": 43, "user_id": 3596866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SzIce.jpg?s=128&g=1", "display_name": "evolution9", "link": "https://stackoverflow.com/users/3596866/evolution9"}, "edited": false, "score": 0, "creation_date": 1462395443, "post_id": 37037697, "comment_id": 61625836, "body": "@evolution9 You&#39;re comparing the same thing in both cases, which doesn&#39;t make sense. The two clauses of the if need to be different, otherwise you&#39;ll alternate between them in the while loop."}, {"owner": {"reputation": 806, "user_id": 5116726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896265d01f444fe655496d6e23716e32?s=128&d=identicon&r=PG&f=1", "display_name": "mbrig", "link": "https://stackoverflow.com/users/5116726/mbrig"}, "reply_to_user": {"reputation": 43, "user_id": 3596866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SzIce.jpg?s=128&g=1", "display_name": "evolution9", "link": "https://stackoverflow.com/users/3596866/evolution9"}, "edited": false, "score": 0, "creation_date": 1462395693, "post_id": 37037697, "comment_id": 61625974, "body": "@evolution9, see my edit, I thought you wanted the relay to be on while the button was held, but I see you want it to toggle instead. You shouldn&#39;t need to check input_state at all in this case."}], "tags": [], "owner": {"reputation": 806, "user_id": 5116726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896265d01f444fe655496d6e23716e32?s=128&d=identicon&r=PG&f=1", "display_name": "mbrig", "link": "https://stackoverflow.com/users/5116726/mbrig"}, "is_accepted": false, "score": 0, "last_activity_date": 1462395628, "last_edit_date": 1462395628, "creation_date": 1462394777, "answer_id": 37037697, "question_id": 37036392, "link": "https://stackoverflow.com/questions/37036392/python-rpi-gpio-button-activates-relay-needs-to-address-button-hold/37037697#37037697", "title": "Python RPi.GPIO Button Activates Relay - Needs to address button hold", "body": "<p>You have a typo in the second elif:</p>\n\n<pre><code>if input_state == False and solenoid == \"ON\":\n    print('SOLENOID OFF')\n    solenoid = \"OFF\"\n    GPIO.output(17,True)\n    time.sleep(0.2)\nelif input_state == False and solenoid == \"OFF\":\n    print('SOLENOID ON')\n    solenoid = \"ON\"\n    GPIO.output(17,False)\n    time.sleep(0.2)\n</code></pre>\n\n<p>Specifically, <code>input_state == False</code> should be <code>input_state == True</code>, otherwise whenever <code>input_state</code> is False, you'll keep toggling <code>solenoid</code> back and forth between \"ON\" and \"OFF\".</p>\n\n<p>Edit: I see now that you're trying to make it toggle once when you push the button. In that case, you should remove the input_state check entirely and just use the rising edge function. (My above code will turn on the relay while the button is held, and turn it off when it is released).</p>\n"}], "owner": {"reputation": 43, "user_id": 3596866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SzIce.jpg?s=128&g=1", "display_name": "evolution9", "link": "https://stackoverflow.com/users/3596866/evolution9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1462395628, "creation_date": 1462390111, "question_id": 37036392, "link": "https://stackoverflow.com/questions/37036392/python-rpi-gpio-button-activates-relay-needs-to-address-button-hold", "title": "Python RPi.GPIO Button Activates Relay - Needs to address button hold", "body": "<p>I've written some code to turn a relay on and off when a button is pressed. When I press the button once, all is right with the world and the relay turns on with the first press, and off with the second press, etc. My problem is that when I hold the button down, the relay just turns on and off and on and off until the button is let up. This is not a desired result. I only want the relay to turn on once for each press. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>import RPi.GPIO as GPIO\nimport time\n\nGPIO.setmode(GPIO.BCM)\n# GPIO.setwarnings(False)\n\nGPIO.setup(22, GPIO.IN, pull_up_down=GPIO.PUD_UP)\nGPIO.setup(17, GPIO.OUT)\n\nprint \"GPIO STATE OF PIN 17\"\nprint GPIO.input(17)\nprint \"GPIO STATE OF PIN 22\"\nprint GPIO.input(22)\n\n# MAKE SURE SOLENOID IS OFF\nsolenoid = \"OFF\"\nGPIO.output(17,True)\n\nprint \"Push button to open and close solenoid.\"\n\nwhile True:\ninput_state = GPIO.input(22)\nif input_state == False and solenoid == \"ON\":\n    print('SOLENOID OFF')\n    solenoid = \"OFF\"\n    GPIO.output(17,True)\n    time.sleep(0.2)\nelif input_state == False and solenoid == \"OFF\":\n    print('SOLENOID ON')\n    solenoid = \"ON\"\n    GPIO.output(17,False)\n    time.sleep(0.2)\n</code></pre>\n\n<p>How can I modify this code to achieve my desired result.</p>\n\n<p>Best,</p>\n\n<p>Bryan</p>\n"}, {"tags": ["python", "image-processing", "graphics", "computer-vision", "ocr"], "comments": [{"owner": {"reputation": 4096, "user_id": 2056979, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/pg0MQ.jpg?s=128&g=1", "display_name": "Keatinge", "link": "https://stackoverflow.com/users/2056979/keatinge"}, "edited": false, "score": 1, "creation_date": 1462390563, "post_id": 37036235, "comment_id": 61623216, "body": "Have a look at open cv: <a href=\"http://opencv.org/\" rel=\"nofollow noreferrer\">opencv.org</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1214, "user_id": 5740834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aaaaba0c043b131a3234fb02fc9c2feb?s=128&d=identicon&r=PG&f=1", "display_name": "Dainius \u0160altenis", "link": "https://stackoverflow.com/users/5740834/dainius-%c5%a0altenis"}, "is_accepted": false, "score": 0, "last_activity_date": 1462479036, "last_edit_date": 1495541274, "creation_date": 1462479036, "answer_id": 37059393, "question_id": 37036235, "link": "https://stackoverflow.com/questions/37036235/split-a-table-in-an-image-into-rows-by-whitespace-using-computer-vision-applicat/37059393#37059393", "title": "split a table in an image into rows by whitespace using computer vision applications", "body": "<p>You should start off with <strong>OpenCV</strong>, like Racialz suggested. This tool contains a <strong>Hough lines/Hough transform</strong> method which should be the primary and easiest way for  you to find and crop text from table sections. There are many different tasks for lines to find for which people use this algorythm (like <a href=\"https://stackoverflow.com/questions/10533233/opencv-c-obj-c-advanced-square-detection\">THIS</a> or <a href=\"https://stackoverflow.com/questions/10196198/how-to-remove-convexity-defects-in-a-sudoku-square\">THIS</a>), but with your task it would be much easier, because lines should be much clearer and simplier, rather than in these examples. After you do your extraction, you then will need to scan your text, for this I would suggest you using <strong>tesseract</strong> ocr engine. This engine is for free, really easy to use, it provides pretty decent results and allows you to train it to scan specific types of letters. </p>\n"}], "owner": {"reputation": 405, "user_id": 4077004, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/11aa278557d34f0e2612a9133dead8c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil ", "link": "https://stackoverflow.com/users/4077004/nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 536, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462479036, "creation_date": 1462389534, "question_id": 37036235, "link": "https://stackoverflow.com/questions/37036235/split-a-table-in-an-image-into-rows-by-whitespace-using-computer-vision-applicat", "title": "split a table in an image into rows by whitespace using computer vision applications", "body": "<p>I am trying to solve what I have realized is quite a hard problem to address due to my lack of expertise in the subject. Suppose I have an image of a table with 3 rows and 5 columns. Each row contains text (let's assume only english for now) or numbers (normal Indo-Arabic numerals). There is nothing but whitespace between the columns and between each row. Now assuming all rows and all columns are aligned, my task would be to get an algorithm to recognize and extract each row out from the document (don't know if I'm articulating this well enough). </p>\n\n<p>Could someone suggest a good starting point (library , similar example , textbook chapter that deals with something like this) etc.. for me to get started.</p>\n\n<p>My background is data science but I have just never been exposed to computer vision.</p>\n\n<p>Any help would be appreciated. </p>\n"}]