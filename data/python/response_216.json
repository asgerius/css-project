[{"tags": ["python", "scrypt"], "answers": [{"comments": [{"owner": {"reputation": 338, "user_id": 7748192, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5tXp6euQ3vM/AAAAAAAAAAI/AAAAAAAAAAs/ilWDxxs5W0A/photo.jpg=k-s128", "display_name": "Arnav Poddar", "link": "https://stackoverflow.com/users/7748192/arnav-poddar"}, "edited": false, "score": 0, "creation_date": 1551312025, "post_id": 54916385, "comment_id": 96598866, "body": "You could delete <code>python -m</code> if you want. I just prefer it because it is easier for me."}], "tags": [], "owner": {"reputation": 338, "user_id": 7748192, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5tXp6euQ3vM/AAAAAAAAAAI/AAAAAAAAAAs/ilWDxxs5W0A/photo.jpg=k-s128", "display_name": "Arnav Poddar", "link": "https://stackoverflow.com/users/7748192/arnav-poddar"}, "is_accepted": false, "score": 0, "last_activity_date": 1551311999, "creation_date": 1551311999, "answer_id": 54916385, "question_id": 54916337, "link": "https://stackoverflow.com/questions/54916337/cannot-install-scypt-on-python2-7/54916385#54916385", "title": "Cannot install scypt on python2.7", "body": "<p>I recommend trying <code>python -m easy_install scrypt</code>. In the past, whenever I get an error of <code>failed with error code 1</code>, I use <code>easy_install</code> instead of <code>pip</code>, and it works perfectly.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5022506, "user_type": "registered", "profile_image": "https://graph.facebook.com/452662441576935/picture?type=large", "display_name": "Alexander J. Mercer", "link": "https://stackoverflow.com/users/5022506/alexander-j-mercer"}, "is_accepted": false, "score": 0, "last_activity_date": 1562375250, "last_edit_date": 1562375250, "creation_date": 1562366940, "answer_id": 56909931, "question_id": 54916337, "link": "https://stackoverflow.com/questions/54916337/cannot-install-scypt-on-python2-7/56909931#56909931", "title": "Cannot install scypt on python2.7", "body": "<p><code>pip install scrypt==0.8.11</code> :) </p>\n\n<p>Above that <code>.11</code> will also show a bunch of errors like that.</p>\n\n<p>install <code>Win64OpenSSL-1_1_1c.msi..</code></p>\n\n<p>I have recieved an error like that when I installed keypatch for ida 7</p>\n"}], "owner": {"reputation": 377, "user_id": 4565345, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6a949d6a58acb68362a05e9c7db0970a?s=128&d=identicon&r=PG&f=1", "display_name": "Never Nor", "link": "https://stackoverflow.com/users/4565345/never-nor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1562375250, "creation_date": 1551311622, "last_edit_date": 1551328856, "question_id": 54916337, "link": "https://stackoverflow.com/questions/54916337/cannot-install-scypt-on-python2-7", "title": "Cannot install scypt on python2.7", "body": "<p>I could not get <code>pip install scrypt</code> to work, after reading a round a bit I tried installing Visual Studio 2017, that did not work, then I tried to following the example from <a href=\"https://wiki.python.org/moin/WindowsCompilers\" rel=\"nofollow noreferrer\">Windows Compilers</a> </p>\n\n<p>MinGW-w64 is an alternative C/C++ compiler that works with all Python versions up to 3.4.</p>\n\n<pre><code>Install Win-builds into C:\\MinGW_w64.\n\nOpen Win-builds, switch to install at least binutils, gcc, gcc-g++, getext, mingw-w64, win-iconv, winpthreads, zlib, and click Process.\n\nAdd C:\\MinGW_w64\\bin to the PATH environment variable.\n\nCreate a distutils.cfg file with the following contents in the folder \\Lib\\distutils in Python install directory : \n\n[build] compiler=mingw32\n\n[build_ext] compiler=mingw32\n</code></pre>\n\n<p>That produced this new error,</p>\n\n<pre><code>Running setup.py install for scrypt ... error\n    Complete output from command c:\\python27\\python.exe -u -c \"import setuptools, tokenize;__file__='c:\\\\users\\\\never\\\\appdata\\\\local\\\\temp\\\\pip-install-0ssspt\\\\scrypt\\\\setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record c:\\users\\never\\appdata\\local\\temp\\pip-record-uncdtb\\install-record.txt --single-version-externally-managed --compile:\n    running install\n    running build\n    running build_py\n    creating build\n    creating build\\lib.win-amd64-2.7\n    copying scrypt.py -&gt; build\\lib.win-amd64-2.7\n    running build_ext\n    building '_scrypt' extension\n    creating build\\temp.win-amd64-2.7\n    creating build\\temp.win-amd64-2.7\\Release\n    creating build\\temp.win-amd64-2.7\\Release\\src\n    creating build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\n    creating build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\n    creating build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\\crypto\n    creating build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\\scryptenc\n    creating build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\\util\n    C:\\MinGW_w64\\bin\\gcc.exe -mdll -O -Wall -DHAVE_CONFIG_H -Iscrypt-1.1.6 -Iscrypt-1.1.6/lib -Iscrypt-1.1.6/lib/scryptenc -Iscrypt-1.1.6/lib/crypto -Iscrypt-1.1.6/lib/util -Ic:\\OpenSSL-Win32\\include -Ic:\\python27\\include -Ic:\\python27\\PC -c src/scrypt.c -o build\\temp.win-amd64-2.7\\Release\\src\\scrypt.o\n    C:\\MinGW_w64\\bin\\gcc.exe -mdll -O -Wall -DHAVE_CONFIG_H -Iscrypt-1.1.6 -Iscrypt-1.1.6/lib -Iscrypt-1.1.6/lib/scryptenc -Iscrypt-1.1.6/lib/crypto -Iscrypt-1.1.6/lib/util -Ic:\\OpenSSL-Win32\\include -Ic:\\python27\\include -Ic:\\python27\\PC -c scrypt-1.1.6/lib/crypto/crypto_aesctr.c -o build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\\crypto\\crypto_aesctr.o\n    C:\\MinGW_w64\\bin\\gcc.exe -mdll -O -Wall -DHAVE_CONFIG_H -Iscrypt-1.1.6 -Iscrypt-1.1.6/lib -Iscrypt-1.1.6/lib/scryptenc -Iscrypt-1.1.6/lib/crypto -Iscrypt-1.1.6/lib/util -Ic:\\OpenSSL-Win32\\include -Ic:\\python27\\include -Ic:\\python27\\PC -c scrypt-1.1.6/lib/crypto/crypto_scrypt-nosse.c -o build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\\crypto\\crypto_scrypt-nosse.o\n    C:\\MinGW_w64\\bin\\gcc.exe -mdll -O -Wall -DHAVE_CONFIG_H -Iscrypt-1.1.6 -Iscrypt-1.1.6/lib -Iscrypt-1.1.6/lib/scryptenc -Iscrypt-1.1.6/lib/crypto -Iscrypt-1.1.6/lib/util -Ic:\\OpenSSL-Win32\\include -Ic:\\python27\\include -Ic:\\python27\\PC -c scrypt-1.1.6/lib/crypto/sha256.c -o build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\\crypto\\sha256.o\n    C:\\MinGW_w64\\bin\\gcc.exe -mdll -O -Wall -DHAVE_CONFIG_H -Iscrypt-1.1.6 -Iscrypt-1.1.6/lib -Iscrypt-1.1.6/lib/scryptenc -Iscrypt-1.1.6/lib/crypto -Iscrypt-1.1.6/lib/util -Ic:\\OpenSSL-Win32\\include -Ic:\\python27\\include -Ic:\\python27\\PC -c scrypt-1.1.6/lib/scryptenc/scryptenc.c -o build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\\scryptenc\\scryptenc.o\n    scrypt-1.1.6/lib/scryptenc/scryptenc.c: In function 'getsalt':\n    scrypt-1.1.6/lib/scryptenc/scryptenc.c:214:4: warning: format '%x' expects argument of type 'unsigned int', but argument 2 has type 'DWORD' [-Wformat=]\n        printf(\"%x\", error);\n        ^\n    scrypt-1.1.6/lib/scryptenc/scryptenc.c:170:9: warning: unused variable 'buflen' [-Wunused-variable]\n      size_t buflen = 32;\n             ^\n    scrypt-1.1.6/lib/scryptenc/scryptenc.c:168:10: warning: unused variable 'lenread' [-Wunused-variable]\n      ssize_t lenread;\n              ^\n    scrypt-1.1.6/lib/scryptenc/scryptenc.c:167:6: warning: unused variable 'fd' [-Wunused-variable]\n      int fd;\n          ^\n    C:\\MinGW_w64\\bin\\gcc.exe -mdll -O -Wall -DHAVE_CONFIG_H -Iscrypt-1.1.6 -Iscrypt-1.1.6/lib -Iscrypt-1.1.6/lib/scryptenc -Iscrypt-1.1.6/lib/crypto -Iscrypt-1.1.6/lib/util -Ic:\\OpenSSL-Win32\\include -Ic:\\python27\\include -Ic:\\python27\\PC -c scrypt-1.1.6/lib/scryptenc/scryptenc_cpuperf.c -o build\\temp.win-amd64-2.7\\Release\\scrypt-1.1.6\\lib\\scryptenc\\scryptenc_cpuperf.o\n    scrypt-1.1.6/lib/scryptenc/scryptenc_cpuperf.c:42:8: error: redefinition of 'struct timespec'\n     struct timespec {\n            ^\n    In file included from c:\\mingw_w64\\x86_64-w64-mingw32\\include\\time.h:277:0,\n                     from c:\\mingw_w64\\x86_64-w64-mingw32\\include\\sys\\time.h:10,\n                     from scrypt-1.1.6/lib/scryptenc/scryptenc_cpuperf.c:31:\n    c:\\mingw_w64\\x86_64-w64-mingw32\\include\\sys\\timeb.h:90:8: note: originally defined here\n     struct timespec {\n            ^\n    error: command 'C:\\\\MinGW_w64\\\\bin\\\\gcc.exe' failed with exit status 1\n\n    ----------------------------------------\nCommand \"c:\\python27\\python.exe -u -c \"import setuptools, tokenize;__file__='c:\\\\users\\\\never\\\\appdata\\\\local\\\\temp\\\\pip-install-0ssspt\\\\scrypt\\\\setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record c:\\users\\never\\appdata\\local\\temp\\pip-record-uncdtb\\install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in c:\\users\\never\\appdata\\local\\temp\\pip-install-0ssspt\\scrypt\\\n</code></pre>\n\n<p>Anyone have any ideas as to what I should do next, I am somewhat lost.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have tried Arnav Poddar suggestion, I got:</p>\n\n<pre><code>PS C:\\&gt; python -m easy_install scrypt\nSearching for scrypt\nReading https://pypi.org/simple/scrypt/\nDownloading https://files.pythonhosted.org/packages/80/3d/141eb80e754b86f6c25a2ffaf6c3af3acdb65a3e3700829a05ab0c5d965d/scrypt-0.8.13.tar.gz#sha256=1377b1adc98c4152694bf5d7e93b41a9d2e9060af69b747cfad8c93ac426f9ea\nBest match: scrypt 0.8.13\nProcessing scrypt-0.8.13.tar.gz\nWriting c:\\users\\never\\appdata\\local\\temp\\easy_install-vjtgij\\scrypt-0.8.13\\setup.cfg\nRunning scrypt-0.8.13\\setup.py -q bdist_egg --dist-dir c:\\users\\never\\appdata\\local\\temp\\easy_install-vjtgij\\scrypt-0.8.13\\egg-dist-tmp-knuekj\nno previously-included directories found matching 'build'\nno previously-included directories found matching 'doc\\build'\nno previously-included directories found matching '*\\__pycache__'\nwarning: no previously-included files matching '*.py[cod]' found anywhere in distribution\nwarning: no previously-included files matching '*.egg' found anywhere in distribution\nwarning: no previously-included files matching '*.egg-info' found anywhere in distribution\nwarning: no previously-included files matching '*~' found anywhere in distribution\nwarning: no previously-included files matching '*.bak' found anywhere in distribution\nwarning: no previously-included files matching '*.swp' found anywhere in distribution\nIn file included from scrypt-1.2.1/lib/scryptenc/scryptenc.h:32:0,\n                 from src/scrypt.c:30:\nscrypt-windows-stubs/include/stdint.h:33:2: error: #error \"Use this header only with Microsoft Visual C++ compilers!\"\n #error \"Use this header only with Microsoft Visual C++ compilers!\"\n  ^\nIn file included from scrypt-1.2.1/lib/crypto/crypto_scrypt.h:32:0,\n                 from src/scrypt.c:31:\nscrypt-windows-stubs/include/stdint.h:33:2: error: #error \"Use this header only with Microsoft Visual C++ compilers!\"\n #error \"Use this header only with Microsoft Visual C++ compilers!\"\n  ^\nIn file included from scrypt-1.2.1/lib/crypto/crypto_scrypt.h:33:0,\n                 from src/scrypt.c:31:\nscrypt-windows-stubs/include/unistd.h:39:27: error: conflicting types for 'int8_t'\n typedef __int8            int8_t;\n                           ^\nIn file included from scrypt-1.2.1/lib/scryptenc/scryptenc.h:32:0,\n                 from src/scrypt.c:30:\nscrypt-windows-stubs/include/stdint.h:75:30: note: previous declaration of 'int8_t' was here\n    typedef signed char       int8_t;\n                              ^\nerror: Setup script exited with error: command 'C:\\\\MinGW_w64\\\\bin\\\\gcc.exe' failed with exit status 1\n</code></pre>\n\n<p>I removed the distutils.cfg and ran again:</p>\n\n<pre><code>PS C:\\Python27\\Lib\\distutils&gt; python -m easy_install scrypt\nSearching for scrypt\nReading https://pypi.org/simple/scrypt/\nDownloading https://files.pythonhosted.org/packages/80/3d/141eb80e754b86f6c25a2ffaf6c3af3acdb65a3e3700829a05ab0c5d965d/scrypt-0.8.13.tar.gz#sha256=1377b1adc98c4152694bf5d7e93b41a9d2e9060af69b747cfad8c93ac426f9ea\nBest match: scrypt 0.8.13\nProcessing scrypt-0.8.13.tar.gz\nWriting c:\\users\\never\\appdata\\local\\temp\\easy_install-uvqac3\\scrypt-0.8.13\\setup.cfg\nRunning scrypt-0.8.13\\setup.py -q bdist_egg --dist-dir c:\\users\\never\\appdata\\local\\temp\\easy_install-uvqac3\\scrypt-0.8.13\\egg-dist-tmp-4u7_4h\nno previously-included directories found matching 'build'\nno previously-included directories found matching 'doc\\build'\nno previously-included directories found matching '*\\__pycache__'\nwarning: no previously-included files matching '*.py[cod]' found anywhere in distribution\nwarning: no previously-included files matching '*.egg' found anywhere in distribution\nwarning: no previously-included files matching '*.egg-info' found anywhere in distribution\nwarning: no previously-included files matching '*~' found anywhere in distribution\nwarning: no previously-included files matching '*.bak' found anywhere in distribution\nwarning: no previously-included files matching '*.swp' found anywhere in distribution\nscrypt.c\ncrypto_scrypt_smix_sse2.c\ncrypto_scrypt_smix.c\ncrypto_scrypt.c\nscryptenc.c\nscrypt-1.2.1/lib/scryptenc/scryptenc.c(125) : warning C4244: '=' : conversion from 'size_t' to 'double', possible loss of data\nscryptenc_cpuperf.c\nmemlimit.c\nsha256.c\ncrypto_aes_aesni.c\ncrypto_aes.c\ncrypto_aesctr.c\ncrypto_entropy.c\nentropy.c\nscrypt-1.2.1/libcperciva/util/entropy.c(32) : warning C4101: 'lenread' : unreferenced local variable\nscrypt-1.2.1/libcperciva/util/entropy.c(31) : warning C4101: 'fd' : unreferenced local variable\ninsecure_memzero.c\nwarnp.c\nscrypt-1.2.1/libcperciva/util/warnp.c(39) : warning C4996: 'strdup': The POSIX name for this item is deprecated. Instead, use the ISO C++ conformant name: _strdup. See online help for details.\n        C:\\Users\\Never\\AppData\\Local\\Programs\\Common\\Microsoft\\Visual C++ for Python\\9.0\\VC\\Include\\string.h(207) : see declaration of 'strdup'\nscrypt-1.2.1/libcperciva/util/warnp.c(59) : warning C4996: 'strerror': This function or variable may be unsafe. Consider using strerror_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.\n        C:\\Users\\Never\\AppData\\Local\\Programs\\Common\\Microsoft\\Visual C++ for Python\\9.0\\VC\\Include\\string.h(126) : see declaration of 'strerror'\nhumansize.c\nasprintf.c\nscrypt-1.2.1/libcperciva/util/asprintf.c(20) : warning C4996: 'vsnprintf': This function or variable may be unsafe. Consider using vsnprintf_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.\n        C:\\Users\\Never\\AppData\\Local\\Programs\\Common\\Microsoft\\Visual C++ for Python\\9.0\\VC\\Include\\stdio.h(350) : see declaration of 'vsnprintf'\nscrypt-1.2.1/libcperciva/util/asprintf.c(34) : warning C4996: 'vsnprintf': This function or variable may be unsafe. Consider using vsnprintf_s instead. To disable deprecation, use _CRT_SECURE_NO_WARNINGS. See online help for details.\n        C:\\Users\\Never\\AppData\\Local\\Programs\\Common\\Microsoft\\Visual C++ for Python\\9.0\\VC\\Include\\stdio.h(350) : see declaration of 'vsnprintf'\ngettimeofday.c\nMSVCRT.lib(MSVCR90.dll) : error LNK2005: _vsnprintf already defined in libcrypto_static.lib(cryptlib.obj)\nscrypt.obj : warning LNK4197: export 'init_scrypt' specified multiple times; using first specification\n   Creating library build\\temp.win-amd64-2.7\\Release\\src\\_scrypt.lib and object build\\temp.win-amd64-2.7\\Release\\src\\_scrypt.exp\nlibcrypto_static.lib(cryptlib.obj) : error LNK2019: unresolved external symbol __imp___stdio_common_vswprintf referenced in function OPENSSL_showfatal\nlibcrypto_static.lib(cryptlib.obj) : error LNK2019: unresolved external symbol __imp___stdio_common_vsprintf referenced in function OPENSSL_showfatal\nbuild\\lib.win-amd64-2.7\\_scrypt.pyd : fatal error LNK1120: 2 unresolved externals\nerror: Setup script exited with error: command 'C:\\\\Users\\\\Never\\\\AppData\\\\Local\\\\Programs\\\\Common\\\\Microsoft\\\\Visual C++ for Python\\\\9.0\\\\VC\\\\Bin\\\\amd64\\\\link.exe' failed with exit status 1120\n</code></pre>\n\n<p>I decided to try downloading <a href=\"https://slproweb.com/products/Win32OpenSSL.html\" rel=\"nofollow noreferrer\">Win64 OpenSSL v1.1.1b</a>, <code>hg clone http://bitbucket.org/mhallin/py-scrypt</code>, editing setup.py to look like this:</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom setuptools import setup, Extension\n\nimport sys\nimport platform\nimport struct\nimport os\n\nincludes = []\nlibraries = []\nlibrary_dirs = []\nextra_sources = []\nCFLAGS = []\n\n\nif sys.platform.startswith('linux'):\n    define_macros = [('HAVE_CLOCK_GETTIME', '1'),\n                     ('HAVE_LIBRT', '1'),\n                     ('HAVE_POSIX_MEMALIGN', '1'),\n                     ('HAVE_STRUCT_SYSINFO', '1'),\n                     ('HAVE_STRUCT_SYSINFO_MEM_UNIT', '1'),\n                     ('HAVE_STRUCT_SYSINFO_TOTALRAM', '1'),\n                     ('HAVE_SYSINFO', '1'),\n                     ('HAVE_SYS_SYSINFO_H', '1'),\n                     ('_FILE_OFFSET_BITS', '64')]\n    libraries = ['crypto', 'rt']\n    includes = ['/usr/local/include', '/usr/include']\n    CFLAGS.append('-O2')\nelif sys.platform.startswith('win32'):\n    define_macros = [('inline', '__inline')]\n\n    extra_sources = ['scrypt-windows-stubs/gettimeofday.c']\n    if struct.calcsize('P') == 8:\n        library_dirs = ['c:\\OpenSSL-Win64\\lib']\n        includes = ['c:\\OpenSSL-Win64\\include', 'scrypt-windows-stubs/include']\n    else:\n        library_dirs = ['c:\\OpenSSL-Win32\\lib']\n        includes = ['c:\\OpenSSL-Win32\\include', 'scrypt-windows-stubs/include']\n    windows_link_legacy_openssl = os.environ.get(\n        \"SCRYPT_WINDOWS_LINK_LEGACY_OPENSSL\", None\n    )\n    if  windows_link_legacy_openssl is None:\n        libraries = ['libcrypto_static']\n    else:\n        libraries = ['libeay32']\n    libraries += [\"advapi32\", \"gdi32\", \"user32\", \"ws2_32\"]\n\nelif sys.platform.startswith('darwin') and platform.mac_ver()[0] &lt; '10.6':\n    define_macros = [('HAVE_SYSCTL_HW_USERMEM', '1')]\n    # disable for travis\n    libraries = ['crypto']\nelif sys.platform.startswith('darwin'):\n    define_macros = [('HAVE_POSIX_MEMALIGN', '1'),\n                     ('HAVE_SYSCTL_HW_USERMEM', '1')]\n    # disable for travis\n    libraries = ['crypto']\nelse:\n    define_macros = [('HAVE_POSIX_MEMALIGN', '1'),\n                     ('HAVE_SYSCTL_HW_USERMEM', '1')]\n    libraries = ['crypto']\n\nscrypt_module = Extension(\n    '_scrypt',\n    sources=['src/scrypt.c',\n             'scrypt-1.2.1/lib/crypto/crypto_scrypt_smix_sse2.c',\n             'scrypt-1.2.1/lib/crypto/crypto_scrypt_smix.c',\n             'scrypt-1.2.1/lib/crypto/crypto_scrypt.c',\n             'scrypt-1.2.1/lib/scryptenc/scryptenc.c',\n             'scrypt-1.2.1/lib/scryptenc/scryptenc_cpuperf.c',\n             'scrypt-1.2.1/lib/util/memlimit.c',\n             'scrypt-1.2.1/libcperciva/alg/sha256.c',\n             'scrypt-1.2.1/libcperciva/crypto/crypto_aes_aesni.c',\n             'scrypt-1.2.1/libcperciva/crypto/crypto_aes.c',\n             'scrypt-1.2.1/libcperciva/crypto/crypto_aesctr.c',\n             'scrypt-1.2.1/libcperciva/crypto/crypto_entropy.c',\n             'scrypt-1.2.1/libcperciva/util/entropy.c',\n             'scrypt-1.2.1/libcperciva/util/insecure_memzero.c',\n             'scrypt-1.2.1/libcperciva/util/warnp.c',\n             'scrypt-1.2.1/libcperciva/util/humansize.c',\n             'scrypt-1.2.1/libcperciva/util/asprintf.c'] + extra_sources,\n    include_dirs=['scrypt-1.2.1',\n                  'scrypt-1.2.1/lib',\n                  'scrypt-1.2.1/lib/scryptenc',\n                  'scrypt-1.2.1/lib/crypto',\n                  'scrypt-1.2.1/lib/util',\n                  'scrypt-1.2.1/libcperciva/cpusupport',\n                  'scrypt-1.2.1/libcperciva/alg',\n                  'scrypt-1.2.1/libcperciva/util',\n                  'scrypt-1.2.1/libcperciva/crypto'] + includes,\n    define_macros=[('HAVE_CONFIG_H', None)] + define_macros,\n    extra_compile_args=CFLAGS,\n    library_dirs=library_dirs,\n    libraries=libraries)\n\nsetup(name='scrypt',\n      version='0.8.13',\n      description='Bindings for the scrypt key derivation function library',\n      author='Magnus Hallin',\n      author_email='mhallin@gmail.com',\n      maintainer=\"Holger Nahrstaedt\",\n      maintainer_email=\"holger@nahrstaedt.de\",\n      url='http://bitbucket.org/mhallin/py-scrypt',\n      packages=['scrypt'],\n      ext_modules=[scrypt_module],\n      classifiers=['Development Status :: 4 - Beta',\n                   'Intended Audience :: Developers',\n                   'License :: OSI Approved :: BSD License',\n                   'Programming Language :: Python :: 2.7',\n                   'Programming Language :: Python :: 3',\n                   'Programming Language :: Python :: 3.4',\n                   'Programming Language :: Python :: 3.5',\n                   'Programming Language :: Python :: 3.6',\n                   'Programming Language :: Python :: 3.7',\n                   'Topic :: Security :: Cryptography',\n                   'Topic :: Software Development :: Libraries'],\n      license='2-clause BSD',\n      long_description=open('README.rst').read(),\n      test_suite='tests.all_tests')\n</code></pre>\n\n<p>Not sure if I did it right. I have a result to long to post here but the errors for <code>python setup.py build</code> were:</p>\n\n<pre><code>libcrypto_static.lib(cryptlib.obj) : error LNK2019: unresolved external symbol __imp___stdio_common_vswprintf referenced in function OPENSSL_showfatal\nlibcrypto_static.lib(cryptlib.obj) : error LNK2019: unresolved external symbol __imp___stdio_common_vsprintf referenced in function OPENSSL_showfatal\nbuild\\lib.win-amd64-2.7\\_scrypt.pyd : fatal error LNK1120: 2 unresolved externals\nerror: command 'C:\\\\Users\\\\Never\\\\AppData\\\\Local\\\\Programs\\\\Common\\\\Microsoft\\\\Visual C++ for Python\\\\9.0\\\\VC\\\\Bin\\\\amd64\\\\link.exe' failed with exit status 1120\n</code></pre>\n\n<p>It defaults the other error message of REEE! \"Use this header only with Microsoft Visual C++ compilers!\" when I 'reinstall' disutils.cfg.\nThis blows, I had all of these libraries already installed on a system that is about 6 years old, it blew up and I just got the parts to build a new one. I know it can install, I just don't remember how I pulled it off.</p>\n"}, {"tags": ["python", "colors", "turtle-graphics"], "comments": [{"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 1, "creation_date": 1551312303, "post_id": 54916334, "comment_id": 96598934, "body": "Welcome to StackOverflow. However, your question is too broad. Please be more specific in some of your &quot;multiple errors.&quot; Show us, at least, the full traceback from the first error message. If none, show us the output from your code. In other words, read and follow <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551312635, "post_id": 54916334, "comment_id": 96599018, "body": "&quot;multiple errors&quot;. Uh, that&#39;s not even correctly indented. I suggest going to <a href=\"https://opentechschool.github.io/python-beginners/en/simple_drawing.html\" rel=\"nofollow noreferrer\">opentechschool.github.io/python-beginners/en/&hellip;</a> for a good intro to understand how to draw rectangles with <code>turtle</code>. Also pay close attention to your indentation, because python&#39;s execution depends on it."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551313851, "post_id": 54916334, "comment_id": 96599321, "body": "<code>turtle.fd(w)</code> where is <code>w</code> defined? It isn&#39;t. Neither is <code>h</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "is_accepted": false, "score": 0, "last_activity_date": 1551318212, "last_edit_date": 1551318212, "creation_date": 1551315567, "answer_id": 54916807, "question_id": 54916334, "link": "https://stackoverflow.com/questions/54916334/concentric-rainbow-squares/54916807#54916807", "title": "Concentric Rainbow Squares", "body": "<p>Aside from indentation, there are some problems here that indicate you might have copy pasted some of this code randomly from somewhere without paying close attention to what it does. For example this for loop:</p>\n\n<pre><code>for i in range(2):\n    turtle.fd(w)\n    turtle.left(90)\n    turtle.fd(h)\n    turtle.left(90)\n</code></pre>\n\n<p>contains variables <code>w</code> and <code>h</code>, but these are not defined in your code. Let's first understand how to draw a square. There are two steps turtle must do:</p>\n\n<ol>\n<li>Go to a given coordinate (x, y)</li>\n<li>Trace out the shape of a square by making four 90 degree turns.</li>\n</ol>\n\n<p>To go to a coordinate without drawing anything, we have to lift the pen with <code>turtle.penup()</code>, go there with <code>turtle.goto()</code> and put the pen down with <code>turtle.pendown()</code>. So your <code>draw_square</code> should look something like this:</p>\n\n<pre><code>def draw_square(x, y, width):\n    turtle.penup()\n    turtle.goto(x, y)\n    turtle.pendown()\n    turtle.forward(width)\n    turtle.right(90)\n    turtle.forward(width)\n    turtle.right(90)\n    turtle.forward(width)\n    turtle.right(90)\n    turtle.forward(width)\n    turtle.right(90)\n</code></pre>\n\n<p>Next, let's look at this second for loop that you wrote:</p>\n\n<pre><code>x = 0\ny = -200\n\nfor i in range(100):\n  color = colorsys.hsv_to_rgb(x, 1, 1)\n  turtle.pencolor(color)\n  draw_square(x, y)\n  x += .01\n  y += 10\n</code></pre>\n\n<p>You have somewhat the right idea. Start with an x, y coordinate, update it in each iteration, update a color, and draw a square. There are several problems, however. First of all, while x must increase, y must actually <strong>decrease</strong>. This is because as you go from top of the screen to the bottom, y value decreases. Secondly, the amount by which they have to change has to be equal, since squares are concentric.</p>\n\n<p>Let's define a <code>step</code>, that is distance between squares, <code>width</code>, the size of the square, an initial position, and we have to make sure <code>hue</code> gets incremented much slower than x and y. </p>\n\n<pre><code>step = 3 # distance between squares\nwidth = 600 #width of the biggest square\nx, y = -width / 2,  width / 2 \nhue = 0\n\nfor i in range(100):\n    color = colorsys.hsv_to_rgb(hue, 1, 1)\n    turtle.pencolor(color)\n    draw_square(x, y, width)\n    x += step\n    y -= step\n    width -= 2 * step\n    hue += 0.01\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "edited": false, "score": 0, "creation_date": 1556941317, "post_id": 54918398, "comment_id": 98608469, "body": "This answer should be accepted: If you feel that this answer helped you, you could consider <a href=\"https://stackoverflow.com/help/someone-answers\">what to do when someone answers my question</a>, and <a href=\"http://meta.stackexchange.com/a/5235\">how to accept my answer</a>"}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "edited": false, "score": 0, "creation_date": 1556941339, "post_id": 54918398, "comment_id": 98608474, "body": "Nice moir&#233; pattern @cdlane"}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1551327978, "creation_date": 1551327978, "answer_id": 54918398, "question_id": 54916334, "link": "https://stackoverflow.com/questions/54916334/concentric-rainbow-squares/54918398#54918398", "title": "Concentric Rainbow Squares", "body": "<p>While waiting for @darksky's solution to complete ;-) I wrote this alternate example which uses <em>stamping</em> instead of <em>drawing</em> to simplify the code and speed up the graphics:</p>\n\n<pre><code>import turtle\nimport colorsys\n\nSTEP = 2  # distance between squares\nWIDTH = 375  # width of the biggest square\n\nCURSOR_SIZE = 20\n\ndef draw_square(width, color):\n    turtle.shapesize(width / CURSOR_SIZE)\n    turtle.pencolor(color)\n    turtle.stamp()\n\nturtle.shape('square')\nturtle.fillcolor('white')\n\nhue = 0\n\nfor width in range(WIDTH, 0, -2 * STEP):\n    color = colorsys.hsv_to_rgb(hue, 1, 1)\n    draw_square(width, color)\n    hue += 0.01\n\nturtle.done()\n</code></pre>\n\n<p>Stamping isn't the solution to all turtle problems but simple geometric drawings like this, it has its advantages:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YUVNE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YUVNE.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 81, "user_id": 11127914, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LVNCxF2gC_Y/AAAAAAAAAAI/AAAAAAAAFc8/U90ODMmbohU/photo.jpg?sz=128", "display_name": "monica bach", "link": "https://stackoverflow.com/users/11127914/monica-bach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1551327978, "creation_date": 1551311580, "last_edit_date": 1551318306, "question_id": 54916334, "link": "https://stackoverflow.com/questions/54916334/concentric-rainbow-squares", "title": "Concentric Rainbow Squares", "body": "<p>I want to make this image using <code>turtle</code>,</p>\n\n<p><a href=\"https://i.stack.imgur.com/w1Izl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w1Izl.png\" alt=\"Picture of result\"></a></p>\n\n<p>This is what I have so far, but there are multiple errors.</p>\n\n<pre><code>import turtle\nimport colorsys\nimport random\n\ndef draw_circle(x,y,r,color):\n    turtle.up()\n    turtle.seth(0)\n    turtle.goto(x,y-r)\n    turtle.down()\n    turtle.fillcolor(color)\n    turtle.begin_fill()\n    turtle.circle(r)\n    turtle.end_fill()\n\ndef draw_square(x,y):\n    turtle.up()\n    turtle.seth(0)\n    turtle.goto(x,y)\n    turtle.fillcolor(color)\n    turtle.pencolor(color)\n    turtle.down()\n    turtle.begin_fill()\n\n    for i in range(2):\n        turtle.fd(w)\n        turtle.left(90)\n        turtle.fd(h)\n        turtle.left(90)\n\n    turtle.end_fill()\n\n\nturtle.speed(0)\n\nx = 0\ny = -200\n\nfor i in range(100):\n    color = colorsys.hsv_to_rgb(x,1,1)\n    turtle.pencolor(color)\n    draw_square(x,y)\n    x += .01\n    y += 10\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/MBach/Documents/concentric squares.py\", line 39, in &lt;module&gt;\n    draw_square(x,y)\n  File \"/Users/MBach/Documents/concentric squares.py\", line 24, in draw_square\n    turtle.fd(w)\nNameError: name 'w' is not defined\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 1, "creation_date": 1551311757, "post_id": 54916327, "comment_id": 96598808, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15112125/how-to-test-multiple-variables-against-a-value\">How to test multiple variables against a value?</a>"}, {"owner": {"reputation": 15754, "user_id": 9835872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PN0Lq.jpg?s=128&g=1", "display_name": "ruohola", "link": "https://stackoverflow.com/users/9835872/ruohola"}, "reply_to_user": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1551312059, "post_id": 54916327, "comment_id": 96598882, "body": "@Makoto the testing of values is not the problem here."}], "answers": [{"tags": [], "owner": {"reputation": 15754, "user_id": 9835872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PN0Lq.jpg?s=128&g=1", "display_name": "ruohola", "link": "https://stackoverflow.com/users/9835872/ruohola"}, "is_accepted": true, "score": 0, "last_activity_date": 1556524265, "last_edit_date": 1556524265, "creation_date": 1551311870, "answer_id": 54916371, "question_id": 54916327, "link": "https://stackoverflow.com/questions/54916327/if-statement-keeps-looping-after-else/54916371#54916371", "title": "if statement keeps looping after else?", "body": "<p>Well, your if-block could look like this:</p>\n\n<pre><code>if pick not in range(1, 5):\n    print('Please enter an option given.')\n    continue\nelse:\n    functions[pick]()\n</code></pre>\n\n<p>And you could define a <code>functions</code> dictonary on the top like this:</p>\n\n<pre><code>functions = {1: addNumber, 2: subNumber, 3: multiplyNumber, 4: divideNumber}\n</code></pre>\n\n<p>And make rest of the functions like you've already made the <code>addNumber()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 11127890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2421029cbbc8d954132d8dd96d95ae7?s=128&d=identicon&r=PG&f=1", "display_name": "AnacondianPython", "link": "https://stackoverflow.com/users/11127890/anacondianpython"}, "edited": false, "score": 0, "creation_date": 1551330179, "post_id": 54916471, "comment_id": 96602958, "body": "Is this more of a personal preference, or would you consider it more clean, good code?"}, {"owner": {"reputation": 2477, "user_id": 7362261, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f9add4c8f6881d1b2b9bd2068eccde68?s=128&d=identicon&r=PG&f=1", "display_name": "Soufiane Chami", "link": "https://stackoverflow.com/users/7362261/soufiane-chami"}, "reply_to_user": {"reputation": 31, "user_id": 11127890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2421029cbbc8d954132d8dd96d95ae7?s=128&d=identicon&r=PG&f=1", "display_name": "AnacondianPython", "link": "https://stackoverflow.com/users/11127890/anacondianpython"}, "edited": false, "score": 0, "creation_date": 1551429326, "post_id": 54916471, "comment_id": 96644531, "body": "There is no just one way to do it. This was my suggestion that I think it&#39;s better and cleaner. You can take and change as you want ! maybe you can use <code>pick not in range(1, 5)</code> and adjust it accordingly."}], "tags": [], "owner": {"reputation": 2477, "user_id": 7362261, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f9add4c8f6881d1b2b9bd2068eccde68?s=128&d=identicon&r=PG&f=1", "display_name": "Soufiane Chami", "link": "https://stackoverflow.com/users/7362261/soufiane-chami"}, "is_accepted": false, "score": 0, "last_activity_date": 1551312676, "creation_date": 1551312676, "answer_id": 54916471, "question_id": 54916327, "link": "https://stackoverflow.com/questions/54916327/if-statement-keeps-looping-after-else/54916471#54916471", "title": "if statement keeps looping after else?", "body": "<p>I guess you have a problem in this line <code>if pick in range(1, 5):</code></p>\n\n<p>Here is my suggestion: </p>\n\n<pre><code>def addNumber():\n    if pick == 1:\n        print('-------------------------')\n        print('You have chosen #1 - Addition.')\n        num1 = int(input('Enter your first number: '))\n        num2 = int(input('Enter your second number: '))\n        print('Your sum is equal to:', num1 + num2)\n        print('-------------------------')\n\n\n\nwhile True:\n    print('Welcome. Below, type the number associated to begin calculating:')\n    print('1: Addition')\n    print('2: Subtraction')\n    print('3: Multiplication')\n    print('4: Division')\n\n    pick = int(input('Enter the number associated with your calculation: '))\n    if pick in range(1, 5):\n        if pick==1:\n            addNumber()\n        elif pick==2:\n            subsNumber() # just as an example, but you can replace it \n        elif pick==3:\n            MultipNumber() # same \n        else:\n            divideNumber() # same\n    else:\n        print('Please enter an option given.')\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11127890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2421029cbbc8d954132d8dd96d95ae7?s=128&d=identicon&r=PG&f=1", "display_name": "AnacondianPython", "link": "https://stackoverflow.com/users/11127890/anacondianpython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 54916371, "answer_count": 2, "score": 0, "last_activity_date": 1556524265, "creation_date": 1551311495, "last_edit_date": 1551323933, "question_id": 54916327, "link": "https://stackoverflow.com/questions/54916327/if-statement-keeps-looping-after-else", "title": "if statement keeps looping after else?", "body": "<p>I am still learning the fundamentals of Python, but I am getting stuck on this custom calculator program I am attempting to finish.</p>\n\n<pre><code>while True:\n\n    print('Welcome. Below, type the number associated to begin calculating:')\n    print('1: Addition')\n    print('2: Subtraction')\n    print('3: Multiplication')\n    print('4: Division')\n\n    pick = int(input('Enter the number associated with your calculation: '))\n    if pick != (1, 5):\n        print('Please enter an option given.')\n    else:\n        continue\n\ndef addNumber():\n    if pick == 1:\n        print('-------------------------')\n        print('You have chosen #1 - Addition.')\n        num1 = int(input('Enter your first number: '))\n        num2 = int(input('Enter your second number: '))\n        print('Your sum is equal to:', num1 + num2)\n        print('-------------------------')\n\naddNumber()\n</code></pre>\n\n<p>The first function is addition, and the rest of the functions are its own for each choice. This next part is the bottom, allowing the user to restart if chosen.</p>\n\n<pre><code>again = str(input('Would you like to calculate again?\\n'))\nif again == 'Yes':\n    continue\nelse:\n    break\n</code></pre>\n\n<p>There is no issue if the user tries to put a value outside of the range of 1-4 (prompting to try again), but if someone picks a shown option (like they're supposed to), <code>'Please enter an option given.'</code> shows up.</p>\n\n<pre><code>Welcome. Below, type the number associated to begin calculating:\n1: Addition\n2: Subtraction\n3: Multiplication\n4: Division\nEnter the number associated with your calculation: 1\nPlease enter an option given.\nYou have chosen #1 - Addition.\nEnter your first number: \n</code></pre>\n\n<p>How should I rewrite that if/else parameter?</p>\n"}, {"tags": ["python", "pandas", "nan", "multiplication"], "comments": [{"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 1, "creation_date": 1551311602, "post_id": 54916319, "comment_id": 96598772, "body": "What result are you expecting if there are multiple non-nan values in a single column of one of the groups?"}, {"owner": {"reputation": 159, "user_id": 5456035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e516b3a9d8c69e9b8e53fbccb69f1ae4?s=128&d=identicon&r=PG&f=1", "display_name": "rakamakafo", "link": "https://stackoverflow.com/users/5456035/rakamakafo"}, "reply_to_user": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 1, "creation_date": 1551311746, "post_id": 54916319, "comment_id": 96598806, "body": "I want to multiply each non Nan value in column A by non Nan value of column B and pass the result in column C for symbols that have non Nan values in column A."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1551311957, "post_id": 54916319, "comment_id": 96598854, "body": "What would like you stored in <code>C</code> if either/both of <code>A,B</code> are NaN? Do you want NaN output, or keep the current value of <code>C</code>?"}, {"owner": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "edited": false, "score": 1, "creation_date": 1551312035, "post_id": 54916319, "comment_id": 96598872, "body": "It&#39;s a little confusing, as <i>none</i> of your rows have non-null values for both A and B, which according to your described logic should mean everything in C should be null."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1551312114, "post_id": 54916319, "comment_id": 96598895, "body": "Yeah, you should provide a better example where some rows have neither NaN, and some both NaN."}], "answers": [{"comments": [{"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 2, "creation_date": 1551312028, "post_id": 54916360, "comment_id": 96598869, "body": "<a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.ffill.html\" rel=\"nofollow noreferrer\"><code>ffill</code> is more commonly known as <code>fillna(..., method=&#39;ffill&#39;)</code>. That&#39;s also a more self-explanatory name.</a>. Actually, I don&#39;t think forward/back-filling is correct in this use-case, it will give the wrong answer."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1551312432, "post_id": 54916360, "comment_id": 96598953, "body": "@smci let us wait for the op and thank you for you additional information"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1551312551, "post_id": 54916360, "comment_id": 96598998, "body": "Forward/back-filling is clearly the wrong thing to do, you will be wrongly using rows with NaNs, and (worse still) just making up values from previous rows (which we already know the OP doesn&#39;t want)."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1551313276, "post_id": 54916360, "comment_id": 96599178, "body": "@smci I will waiting for op for clarify, so far just simple match his output"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1551313878, "post_id": 54916360, "comment_id": 96599327, "body": "Wen-Ben: oh, my apologies, I thought OP&#39;s column <code>C</code> shown was just input junk, yeah in that case you&#39;re probably right, we&#39;ll have to wait for their confirmation (and a more comprehensive testcase). I&#39;ll fix it to an upvote once OP edits to clarify, and then if you make a token edit on this answer to unlock my vote. Argh..."}, {"owner": {"reputation": 159, "user_id": 5456035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e516b3a9d8c69e9b8e53fbccb69f1ae4?s=128&d=identicon&r=PG&f=1", "display_name": "rakamakafo", "link": "https://stackoverflow.com/users/5456035/rakamakafo"}, "edited": false, "score": 0, "creation_date": 1551313912, "post_id": 54916360, "comment_id": 96599332, "body": "@Wen-Ben thank you so much for your solution. It perfectly worked for me."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "reply_to_user": {"reputation": 159, "user_id": 5456035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e516b3a9d8c69e9b8e53fbccb69f1ae4?s=128&d=identicon&r=PG&f=1", "display_name": "rakamakafo", "link": "https://stackoverflow.com/users/5456035/rakamakafo"}, "edited": false, "score": 0, "creation_date": 1551314121, "post_id": 54916360, "comment_id": 96599387, "body": "@rakamakafo: but then you want forward-filling of NaNs, in each column? Please confirm (edit the question above to explicitly say that)? What about the case where all preceding values in a column are also NaN, is that a don&#39;t-care (like your first rows for each date)?"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1551311797, "creation_date": 1551311797, "answer_id": 54916360, "question_id": 54916319, "link": "https://stackoverflow.com/questions/54916319/how-to-multiply-two-columns-in-pandas-by-only-non-nan-values/54916360#54916360", "title": "How to multiply two columns in pandas, by only non-NaN values?", "body": "<p>Check with <code>ffill</code></p>\n\n<pre><code>#df=df.replace('Nan',np.nan)# Nan is not NaN , replace it \n#df=df.apply(pd.to_numeric,1) # convert to numeric \ndf.C=df.A*(df.B.ffill())\ndf\nOut[130]: \n                   A    B    C\nDate     Symbol               \n1/1/2017 BTC     NaN  2.0  NaN\n         ETH     3.0  NaN  6.0\n         XRP     2.0  NaN  4.0\n1/2/2017 BTC     NaN  3.0  NaN\n         ETH     1.0  NaN  3.0\n         XRP     2.0  NaN  6.0\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 5456035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e516b3a9d8c69e9b8e53fbccb69f1ae4?s=128&d=identicon&r=PG&f=1", "display_name": "rakamakafo", "link": "https://stackoverflow.com/users/5456035/rakamakafo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 0, "accepted_answer_id": 54916360, "answer_count": 1, "score": 2, "last_activity_date": 1551311810, "creation_date": 1551311403, "last_edit_date": 1551311810, "question_id": 54916319, "link": "https://stackoverflow.com/questions/54916319/how-to-multiply-two-columns-in-pandas-by-only-non-nan-values", "title": "How to multiply two columns in pandas, by only non-NaN values?", "body": "<p>I am curious if it is possible to multiply two columns <code>A,B</code> by only non NAN values.</p>\n\n<p>I have the following dataframe with the expected results: </p>\n\n<pre><code>                         A     B     C\n    Date     Symbol  \n\n  1/1/2017    BTC       Nan    2     Nan\n              ETH        3     Nan   6\n              XRP        2     Nan   4\n  1/2/2017    BTC       Nan    3     Nan\n              ETH        1     Nan    3\n              XRP        2     Nan    6\n</code></pre>\n\n<p>I am trying to multiply non Nan values of column <code>A</code> by non-NaN values of Column <code>B</code> and assign the result to column <code>C</code>.\nI want to iterate over the dataframe. I have tried few things, but nothing is working.</p>\n"}, {"tags": ["python", "python-3.x", "image", "scikit-image", "scikits"], "answers": [{"tags": [], "owner": {"reputation": 11305, "user_id": 6160119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlM4b.jpg?s=128&g=1", "display_name": "Tonechas", "link": "https://stackoverflow.com/users/6160119/tonechas"}, "is_accepted": false, "score": 1, "last_activity_date": 1551351916, "last_edit_date": 1551351916, "creation_date": 1551324564, "answer_id": 54917948, "question_id": 54916314, "link": "https://stackoverflow.com/questions/54916314/calculate-average-value-of-pixels-with-value-0-5-using-scikit-image/54917948#54917948", "title": "Calculate Average Value of Pixels with Value &lt; 0.5 Using scikit-image", "body": "<p>You could use NumPy's <a href=\"https://docs.scipy.org/doc/numpy/user/basics.indexing.html#boolean-or-mask-index-arrays\" rel=\"nofollow noreferrer\">boolean indexing</a> along with the <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.mean.html\" rel=\"nofollow noreferrer\"><code>mean()</code></a> method for multidimensional arrays:</p>\n\n<pre><code>imgData = imread(dataFilepath, as_gray=True)\nimgMask = imgData &gt; 0.5\nimgAvg = imgData[imgMask].mean()\n</code></pre>\n\n<p>In the snippet above <code>imgAvg</code> is the average intensity computed over the pixels in which the intensity value is greater than 0.5. If you intended to black out the image pixels whose value is is less than or equal 0.5 and then compute the average over the whole image, you could use the following code:</p>\n\n<pre><code>imgAvg = imgData[imgMask].sum()/imgData.size\n</code></pre>\n"}], "owner": {"reputation": 51505, "user_id": 741099, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a7101fe3ba50e621e91ee1edf9d27bb?s=128&d=identicon&r=PG", "display_name": "Nyxynyx", "link": "https://stackoverflow.com/users/741099/nyxynyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551471586, "creation_date": 1551311371, "last_edit_date": 1551471586, "question_id": 54916314, "link": "https://stackoverflow.com/questions/54916314/calculate-average-value-of-pixels-with-value-0-5-using-scikit-image", "title": "Calculate Average Value of Pixels with Value &lt; 0.5 Using scikit-image", "body": "<p>Using <code>scikit-image</code> package in Python 3 and given an RGB image, how can we calculate the average pixel value (normalized values that range from 0 to 1) for pixels whose value is > 0.5?</p>\n\n<p>I think I manage to mask out the pixels that I want the average to be calculated, how then should we proceed?</p>\n\n<pre><code>from skimage.io import imread, imshow\nfrom skimage.transform import resize\n\nimgData = data.imread(dataFilepath, as_grey=True)\nimgData = resize(imgData, (256,256))\n\nimgMask = imgData &lt; 0.5\nimgData[imgMask] = 0\nimshow(imgData)    # correctly shows the pixels that we want selected. the unwanted pixels are blacked out (value = 0)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-unicode", "chr"], "comments": [{"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 1, "creation_date": 1551311481, "post_id": 54916311, "comment_id": 96598743, "body": "That throws a <code>UnicodeEncodeError</code> for me. So, try catching that?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1551311640, "post_id": 54916311, "comment_id": 96598779, "body": "@grooveplex: You see that error only because you tried to <code>print</code> it (which tries to encode it in your system locale encoding); the character itself is created without error."}, {"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1551311737, "post_id": 54916311, "comment_id": 96598805, "body": "I was just following the example that OP gave, so if that&#39;s their actual code, they can try doing that."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1551311884, "post_id": 54916311, "comment_id": 96598834, "body": "I don&#39;t think it&#39;s unassigned. It&#39;s just a high surrogate without a corresponding low surrogate."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 1, "creation_date": 1551312242, "post_id": 54916311, "comment_id": 96598921, "body": "@grooveplex: The encoding error is a sort of backwards way of detecting this. The problem is they&#39;ve made a high surrogate, which makes no sense without a paired low surrogate (and which really only makes sense if you&#39;re trying to decompose the string into UTF-16 form). It&#39;s a legal character, if paired properly, but in isolation it&#39;s gibberish."}, {"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1551312286, "post_id": 54916311, "comment_id": 96598931, "body": "@ShadowRanger Didn&#39;t know that. Thanks!"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1551314709, "post_id": 54916311, "comment_id": 96599502, "body": "What do you consider to be &quot;undefined&quot;? Apparently you don&#39;t want to allow surrogate code points. What about <a href=\"http://www.unicode.org/faq/private_use.html\" rel=\"nofollow noreferrer\">private-use characters and &quot;noncharacters&quot;</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1551312381, "post_id": 54916379, "comment_id": 96598944, "body": "Flaw: <code>unicodedata.name(chr(0))</code> (along with tons of non-printing, but valid ASCII) has no name in the database. I was going to suggest this, but I don&#39;t think a solution that can&#39;t distinguish invalid characters from unnamed characters is viable in most cases."}, {"owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1551312468, "post_id": 54916379, "comment_id": 96598969, "body": "I guess it depends on what the OP needs."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1551312736, "post_id": 54916379, "comment_id": 96599044, "body": "Perhaps. I was just checking though, and some of the unnamed characters will occur in real text. All ordinals below 32 are unnamed, including newlines, tabs, and carriage returns. I don&#39;t think you want to be told that <code>chr(10)</code> (aka <code>&#39;\\n&#39;</code>) is an invalid character."}], "tags": [], "owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "is_accepted": false, "score": 3, "last_activity_date": 1551311921, "creation_date": 1551311921, "answer_id": 54916379, "question_id": 54916311, "link": "https://stackoverflow.com/questions/54916311/how-to-check-if-a-chrs-output-will-be-undefined/54916379#54916379", "title": "How to check if a chr()&#39;s output will be undefined", "body": "<p>You could use the unicodedata module:</p>\n\n<pre><code>&gt;&gt;&gt; import unicodedata\n&gt;&gt;&gt; unicodedata.name(chr(55396))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nValueError: no such name\n&gt;&gt;&gt; unicodedata.name(chr(120))\n'LATIN SMALL LETTER X'\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11026254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pDzW6A6ZvNA/AAAAAAAAAAI/AAAAAAAABH8/wHTQpn2AbVI/photo.jpg?sz=128", "display_name": "VintiumDust", "link": "https://stackoverflow.com/users/11026254/vintiumdust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1551311921, "creation_date": 1551311369, "question_id": 54916311, "link": "https://stackoverflow.com/questions/54916311/how-to-check-if-a-chrs-output-will-be-undefined", "title": "How to check if a chr()&#39;s output will be undefined", "body": "<p>I'm using chr() to run through a list of unicode characters, but whenever it comes across a character that is unassigned, it just continues running, and doesnt error out or anything. How do i check if the output of chr() will be undefined?</p>\n\n<p>for example, </p>\n\n<pre><code>print(chr(55396))\n</code></pre>\n\n<p>is in range of unicode, it's just an unassigned character, how do i check what the output of chr() will give me an actual character that way this hangup doesn't occur?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "finance"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 2, "creation_date": 1551312318, "post_id": 54916297, "comment_id": 96598935, "body": "Can you provide a sample where the dataframes actually have values, or dfs of dummy values? This looks, on the surface, like an operation that could and should be vectorized using boolean masking, but without usable inputs and desired outputs it&#39;s hard to know how to help"}, {"owner": {"reputation": 23, "user_id": 10360914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Alh4VvZj0SI/AAAAAAAAAAI/AAAAAAAAAe4/9WMCd_zDkw0/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10360914/ryan"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551312732, "post_id": 54916297, "comment_id": 96599042, "body": "Sorry, the whole process is very convoluted. I edited my OP."}, {"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1551313357, "post_id": 54916297, "comment_id": 96599205, "body": "Hi R. Young, could you please update your question with the output of <code>data..head().to_dict()</code> and the same for the comparison df?"}, {"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1551313507, "post_id": 54916297, "comment_id": 96599237, "body": "And have a read at <a href=\"/help/mcve\">mcve</a>. Your example is not reproducible."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551314049, "post_id": 54916297, "comment_id": 96599370, "body": "One possibility: Make an intermediate DF with <code>df3=np.log(df1&#47;df2)</code> and use <code>np.where</code> to mask or set the values based on j"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10360914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Alh4VvZj0SI/AAAAAAAAAAI/AAAAAAAAAe4/9WMCd_zDkw0/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10360914/ryan"}, "edited": false, "score": 0, "creation_date": 1551311954, "post_id": 54916350, "comment_id": 96598853, "body": "Doing this on an undergrad budget... AKA $0. Thanks for the response -- I&#39;ll look at using option #2 with my laptop!"}, {"owner": {"reputation": 86, "user_id": 5501175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WFZkH.png?s=128&g=1", "display_name": "burlap101", "link": "https://stackoverflow.com/users/5501175/burlap101"}, "reply_to_user": {"reputation": 23, "user_id": 10360914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Alh4VvZj0SI/AAAAAAAAAAI/AAAAAAAAAe4/9WMCd_zDkw0/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10360914/ryan"}, "edited": false, "score": 0, "creation_date": 1551312721, "post_id": 54916350, "comment_id": 96599036, "body": "Edited to include chunksize option"}, {"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 0, "creation_date": 1551314464, "post_id": 54916350, "comment_id": 96599446, "body": "It looks to me that you could speed up things getting rid of the two loops. Create a <a href=\"/help/mcve\">mcve</a> with a smaller df let&#39;s say 5*10. Then we can see if it possible to vectorialize your function. This could give you a massive boost."}, {"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 0, "creation_date": 1551314524, "post_id": 54916350, "comment_id": 96599459, "body": "Then instead of pyspark, which could be a pain to set, you could have a look at dask."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1551369608, "post_id": 54916350, "comment_id": 96623892, "body": "@burlap101 this would be a good answer if the dataset were larger, or if the machine were running out of memory"}], "tags": [], "owner": {"reputation": 86, "user_id": 5501175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WFZkH.png?s=128&g=1", "display_name": "burlap101", "link": "https://stackoverflow.com/users/5501175/burlap101"}, "is_accepted": false, "score": -1, "last_activity_date": 1551312699, "last_edit_date": 1551312699, "creation_date": 1551311716, "answer_id": 54916350, "question_id": 54916297, "link": "https://stackoverflow.com/questions/54916297/making-this-pandas-code-as-lean-and-speedy-as-possible-iterating-over-large-da/54916350#54916350", "title": "Making this pandas code as lean and speedy as possible? [iterating over large DataFrames and setting]", "body": "<p>Perhaps use <code>chunksize</code> argument when reading csv. You'll need to play around to determine best size to use but i hear a good rule of thumb is set it to a size of half of your available memory.</p>\n\n<pre><code>df = pd.read_csv(\"your.csv\", chucksize=memory/2)\n</code></pre>\n\n<p>when writing your results back to file you'll need to ensure append argument set:</p>\n\n<pre><code>df.to_csv(\"yourresults.csv\", mode='a')\n</code></pre>\n\n<p>Either delete the file each time you run your code or ensure the first call of <code>to_csv()</code> is done in write mode (default).</p>\n\n<p>Other options i'd try:</p>\n\n<p>1) Use a cloud resource such as AWS EC2 and purchase a high spec high memory machine, transfer your data and code over to it and have it run your code. It should be a lot quicker.</p>\n\n<p>2) I'd be looking at dividing the load across multiple machines using something like Pyspark but this might take a little while to come upto speed with if not familiar already. </p>\n\n<p>Good luck!</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 10360914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Alh4VvZj0SI/AAAAAAAAAAI/AAAAAAAAAe4/9WMCd_zDkw0/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10360914/ryan"}, "edited": false, "score": 0, "creation_date": 1551315560, "post_id": 54916764, "comment_id": 96599702, "body": "I do have the print statements in my actual code. I incorrectly presumed their overhead would be negligible. I also feel like an idiot now not thinking about just using abs()... Thanks for the suggested edits!"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551327907, "post_id": 54916764, "comment_id": 96602381, "body": "Since the indices are the same for the DFs in question, I really don&#39;t see why you would need to loop at all. Pandas is built on top of numpy, which makes broadcasting things like <code>abs</code> and <code>np.log</code> massively efficient. Maybe you could combine this with my earlier comment, <code>np.log(df1&#47;df2)</code> and <code>abs</code>"}, {"owner": {"reputation": 3457, "user_id": 2284490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba571b7d2f77a33c9b92af6c767677bb?s=128&d=identicon&r=PG", "display_name": "Cireo", "link": "https://stackoverflow.com/users/2284490/cireo"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1551330703, "post_id": 54916764, "comment_id": 96603081, "body": "@G.Anderson is absolutely right on that.  Any time you are writing a loop by hand you are going to be way slower than the built in operations (and it keeps you from doing something like putting a print in the tight loop ^^)"}], "tags": [], "owner": {"reputation": 3457, "user_id": 2284490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba571b7d2f77a33c9b92af6c767677bb?s=128&d=identicon&r=PG", "display_name": "Cireo", "link": "https://stackoverflow.com/users/2284490/cireo"}, "is_accepted": false, "score": 0, "last_activity_date": 1551315137, "creation_date": 1551315137, "answer_id": 54916764, "question_id": 54916297, "link": "https://stackoverflow.com/questions/54916297/making-this-pandas-code-as-lean-and-speedy-as-possible-iterating-over-large-da/54916764#54916764", "title": "Making this pandas code as lean and speedy as possible? [iterating over large DataFrames and setting]", "body": "<p>Combining two short comments into an answer.</p>\n\n<p>1) The statement</p>\n\n<pre><code>j &gt; math.log(\n   MA_a_csv.loc[date, security]/\n   data.loc[date, security]) &gt; -j\n</code></pre>\n\n<p>can be simplified slightly by doing <code>abs</code>, e.g. <code>j &gt; abs(...)</code></p>\n\n<p>and might be sped up significantly by computing the log once separately and taking advantage of the fact that <code>log(a/b) == log(a) - log(b)</code>.</p>\n\n<p>Even if the calculation is only done once for a cell, you might be able to calculate it and write it back out, to speed up re-runs.</p>\n\n<p>2) If you have those print statements in your actual code they will take a very sizable chunk of the total time.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 10360914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Alh4VvZj0SI/AAAAAAAAAAI/AAAAAAAAAe4/9WMCd_zDkw0/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10360914/ryan"}, "edited": false, "score": 1, "creation_date": 1551365171, "post_id": 54919230, "comment_id": 96621039, "body": "Wow -- this worked perfectly and crunched all the data in seconds. I was hoping there was a solution like this that could operate on the whole array at once. All I can say is thanks so much; you just saved me hours and hours! Looking forward to taking a look at your suggested reading."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1551369487, "post_id": 54919230, "comment_id": 96623801, "body": "That answer is so pretty and perfect I could cry! Nice job on the vectorization"}], "tags": [], "owner": {"reputation": 176, "user_id": 7011106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff008ce7a2bdd352e367f81cfac3ba25?s=128&d=identicon&r=PG&f=1", "display_name": "P Maschhoff", "link": "https://stackoverflow.com/users/7011106/p-maschhoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1551333234, "creation_date": 1551333234, "answer_id": 54919230, "question_id": 54916297, "link": "https://stackoverflow.com/questions/54916297/making-this-pandas-code-as-lean-and-speedy-as-possible-iterating-over-large-da/54919230#54919230", "title": "Making this pandas code as lean and speedy as possible? [iterating over large DataFrames and setting]", "body": "<p>I made my own sample data generator based on the examples you gave. I think it fits what you have, but let me know if it doesn't. If the data matches, don't worry about the specifics of how I made it.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>rows = 6\ncols = 5\nnp.random.seed(0)\ndata = pd.DataFrame(np.random.rand(rows, cols) * 100, \n                  index=pd.DatetimeIndex(freq='d', start='1928-12-31', periods=rows))\nnan_cols = len(data.columns) // 2\nrandom_indices = zip(pd.Series(data.index.values[:-rows // 2])\n                     .sample(nan_cols, random_state=1, replace=True), \n                     pd.Series(data.columns).sample(nan_cols, random_state=2))\nfor row, col in random_indices:\n    data.loc[:row, col] = np.nan\n\nMA_a_csv = data * (1 + (np.random.rand(rows, cols) / 50 \n                        * np.random.choice([-1, 1], size=(rows, cols))))\n</code></pre>\n\n<p>So <code>data</code> looks like</p>\n\n<pre><code>                    0          1          2          3          4\n1928-12-31  54.881350  71.518937        NaN  54.488318        NaN\n1929-01-01  64.589411  43.758721        NaN  96.366276  38.344152\n1929-01-02  79.172504  52.889492  56.804456  92.559664   7.103606\n1929-01-03   8.712930   2.021840  83.261985  77.815675  87.001215\n1929-01-04  97.861834  79.915856  46.147936  78.052918  11.827443\n1929-01-05  63.992102  14.335329  94.466892  52.184832  41.466194\n</code></pre>\n\n<p>And <code>MA_a_csv</code> looks like</p>\n\n<pre><code>                    0          1          2          3          4\n1928-12-31  55.171734  72.626384        NaN  55.107778        NaN\n1929-01-01  63.791557  44.294412        NaN  98.185186  38.867028\n1929-01-02  78.603241  53.351780  57.597027  92.448175   7.008877\n1929-01-03   8.829794   2.013333  83.047291  77.324770  86.368349\n1929-01-04  98.977844  80.616881  45.235708  77.893620  11.876852\n1929-01-05  63.785651  14.522579  94.945445  52.671519  41.668902\n</code></pre>\n\n<p>I ran it through something that looks like your <code>gen_a</code>, and then made a vectorized version that gets the same answer:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>logs = np.log(MA_a_csv / data)\nans = ((j &gt; logs) &amp; (logs &gt; -j)).replace({True: 1, False: 0})\n</code></pre>\n\n<p>Where <code>ans</code> is </p>\n\n<pre><code>            0  1  2  3  4\n1928-12-31  1  0  0  0  0\n1929-01-01  0  0  0  0  0\n1929-01-02  1  1  0  1  0\n1929-01-03  0  1  1  1  1\n1929-01-04  0  1  0  1  1\n1929-01-05  1  0  1  1  1\n</code></pre>\n\n<p><code>np.log</code> can operate on the whole array at once, and pandas is probably doing something fancy to vectorize the greater-than comparisons as well. The <code>&amp;</code> is a bit-wise and, so it's just checking that both conditions are true for each position.</p>\n\n<p>And this runs ~180 times faster than my version of <code>gen_a</code>, which didn't have the try/except or print statements, so it should be an even greater improvement for your code.</p>\n\n<p>You also don't need the <code>.replace({True: 1, False: 0})</code> part - in Python <code>1 == True</code> is True, as is <code>0 == False</code>, so you should be able to use them interchangeably.</p>\n\n<p>Let me know if you have any issues with that. For further reading, I suggest Tom Augspurger's Modern Pandas articles - particularly applicable is the <a href=\"https://tomaugspurger.github.io/modern-4-performance\" rel=\"nofollow noreferrer\">Fast Pandas</a> section.</p>\n"}], "owner": {"reputation": 23, "user_id": 10360914, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Alh4VvZj0SI/AAAAAAAAAAI/AAAAAAAAAe4/9WMCd_zDkw0/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10360914/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 54919230, "answer_count": 3, "score": 2, "last_activity_date": 1551333234, "creation_date": 1551311293, "last_edit_date": 1551314764, "question_id": 54916297, "link": "https://stackoverflow.com/questions/54916297/making-this-pandas-code-as-lean-and-speedy-as-possible-iterating-over-large-da", "title": "Making this pandas code as lean and speedy as possible? [iterating over large DataFrames and setting]", "body": "<p>For context, my master dataset is a 24541 row x 1830 column DataFrame full of either NaN or a float (stock price). I am processing this DataFrame 11 times, each time setting values in a casted DataFrame with the same index and columns. An example of both DataFrames is below: </p>\n\n<pre><code>data = pd.DataFrame.from_csv(filepath)\ndata = pd.DataFrame(data=data, dtype=np.float64)\n\n#dataset of daily prices\ndata.head()\n\nOut[14]: \n            49154  65541  32791  65568  ...  24563  81910  24571  90110\nDATE                                    ...                            \n1925-12-31    NaN    NaN    NaN    NaN  ...    NaN    NaN    NaN    NaN\n1926-01-02    NaN    NaN    NaN    NaN  ...    NaN    NaN    NaN    NaN\n1926-01-04    NaN    NaN    NaN    NaN  ...    NaN    NaN    NaN    NaN\n1926-01-05    NaN    NaN    NaN    NaN  ...    NaN    NaN    NaN    NaN\n1926-01-06    NaN    NaN    NaN    NaN  ...    NaN    NaN    NaN    NaN\n\n[5 rows x 1830 columns]\n\nMA_a_frame = pd.DataFrame(\n        data=0,\n        index=data.index, \n        columns=data.columns)\n\n#bool DataFrame\nMA_a_frame.head()\n\nOut[15]: \n            49154  65541  32791  65568  ...  24563  81910  24571  90110\nDATE                                    ...                            \n1925-12-31      0      0      0      0  ...      0      0      0      0\n1926-01-02      0      0      0      0  ...      0      0      0      0\n1926-01-04      0      0      0      0  ...      0      0      0      0\n1926-01-05      0      0      0      0  ...      0      0      0      0\n1926-01-06      0      0      0      0  ...      0      0      0      0\n\n[5 rows x 1830 columns]\n</code></pre>\n\n<p>The values in MA_a_frame (and 10 other identical DataFrames) are to be set to 1 if a certain condition in the DataFrame \"data\" is met. Namely, if the price in \"data\" is within 1% (argument is \"j\") of a calculated value in a <strong>completely different</strong> DataFrame generated in a previous function. So in total, each iteration will deal with up to 3 large DataFrames. </p>\n\n<p>In terms of my iterator, I simply create two separate lists (\"dates\" and \"securities\") using data.columns and data.index. So I am essentially iterating over data's index and columns indirectly. Without further ado, here is the base of the code that is run a total of 11 times in my program (the part I am trying to speed up!): </p>\n\n<pre><code>def gen_a():\n\n    for date in dates:\n\n        for security in securities: \n\n            try: \n\n                if type(data.loc[date, security]) is not float:\n\n                    pass\n                    #lots of the data is NaN, so skip these altogether\n\n                elif j &gt; math.log(\n                        MA_a_csv.loc[date, security]/\n                        data.loc[date, security]) &gt; -j:\n\n                    MA_dict['a'].loc[date, security] = 1\n\n                print(f'Passed {date}, {security}')\n\n            except: \n\n                print(f'Failed {date}, {security}')\n</code></pre>\n\n<p>Now, the problem is one cycle of this code takes ~8 hours. Thus, I'm looking at nearly 90 hours per run. I have an academic paper due as a graduation requirement, and the deadline is really starting to scare me with these numbers! Assuming my output is perfect, things should be fine, but I would be eternally grateful if anyone had a suggestion that could cut the speed down. Otherwise, I may have to cut the range of the data down, reducing the power of my statistical analysis. </p>\n\n<p>P.S. I am running this through Spyder on Windows 10 with an Intel i7 3970X. I do not have access to any other computing power. I considered GPU acceleration but my GPU is a GTX 670 which is not Pascal and thus incompatible with CuDF. </p>\n\n<p>Edit: </p>\n\n<p>Here's the bottom five rows of the data DataFrame:</p>\n\n<pre><code>s.head()\nOut[16]: \n            49154      65541  32791  65568  ...  24563  81910  24571  90110\nDATE                                        ...                            \n2018-12-24  61.55  232.70000    NaN    NaN  ...    NaN  15.71    NaN    NaN\n2018-12-26  65.11  244.59000    NaN    NaN  ...    NaN  16.48    NaN    NaN\n2018-12-27  64.71  252.17999    NaN    NaN  ...    NaN  16.71    NaN    NaN\n2018-12-28  64.96  249.64999    NaN    NaN  ...    NaN  16.55    NaN    NaN\n2018-12-31  66.09  254.50000    NaN    NaN  ...    NaN  16.74    NaN    NaN\n\n[5 rows x 1830 columns]\n</code></pre>\n\n<p>And here's a sample of one of the comparison DataFrames: </p>\n\n<pre><code>Out[23]: \n              49154       65541  32791  65568  ...  24563    81910  24571  90110\nDATE                                           ...                              \n2018-12-24  76.3430  258.376200    NaN    NaN  ...    NaN  19.8672    NaN    NaN\n2018-12-26  75.9530  258.143600    NaN    NaN  ...    NaN  19.7980    NaN    NaN\n2018-12-27  75.5552  258.127199    NaN    NaN  ...    NaN  19.7238    NaN    NaN\n2018-12-28  75.1382  257.878799    NaN    NaN  ...    NaN  19.6440    NaN    NaN\n2018-12-31  74.7716  257.683199    NaN    NaN  ...    NaN  19.5600    NaN    NaN\n\n[5 rows x 1830 columns]\n</code></pre>\n\n<p>Edit 2: </p>\n\n<p>By request, here is data.head().to_dict():</p>\n\n<pre><code>  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '44792': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85753': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20220': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12044': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20239': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '28433': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12052': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12060': {Timestamp('1925-12-31 00:00:00'): 326.0,\n  Timestamp('1926-01-02 00:00:00'): 326.5,\n  Timestamp('1926-01-04 00:00:00'): 325.0,\n  Timestamp('1926-01-05 00:00:00'): 325.5,\n  Timestamp('1926-01-06 00:00:00'): 326.25},\n '12062': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85792': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12067': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77605': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77606': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20263': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12073': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12076': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12079': {Timestamp('1925-12-31 00:00:00'): 117.5,\n  Timestamp('1926-01-02 00:00:00'): 124.25,\n  Timestamp('1926-01-04 00:00:00'): 127.125,\n  Timestamp('1926-01-05 00:00:00'): 123.75,\n  Timestamp('1926-01-06 00:00:00'): 124.5},\n '61241': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12095': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '28484': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '53065': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20298': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77644': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '28505': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '53081': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77659': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12124': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77661': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '28513': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '61284': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77668': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12140': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85869': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20343': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '28548': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77702': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12167': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85908': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12183': {Timestamp('1925-12-31 00:00:00'): 78.5,\n  Timestamp('1926-01-02 00:00:00'): 78.0,\n  Timestamp('1926-01-04 00:00:00'): 77.5,\n  Timestamp('1926-01-05 00:00:00'): 76.875,\n  Timestamp('1926-01-06 00:00:00'): 76.5},\n '44951': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85913': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85914': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12191': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20386': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77730': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '28580': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85926': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20394': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '69550': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12212': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20407': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12220': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20415': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77768': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85963': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20431': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '45014': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '61399': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '69607': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '85991': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '53225': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20474': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20482': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '86021': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '45065': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12298': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '69649': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12308': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20503': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '45081': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '86041': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12319': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20511': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12343': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12345': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20554': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12369': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20562': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '86102': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20570': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '86111': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12394': {Timestamp('1925-12-31 00:00:00'): 123.5,\n  Timestamp('1926-01-02 00:00:00'): 124.0,\n  Timestamp('1926-01-04 00:00:00'): 123.25,\n  Timestamp('1926-01-05 00:00:00'): 123.5,\n  Timestamp('1926-01-06 00:00:00'): 122.75},\n '36978': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '86136': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '28804': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '86158': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12431': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '61583': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20626': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '77976': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '53401': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '86176': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12449': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '69796': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12456': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '45225': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '12458': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '20650': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n '28847': {Timestamp('1925-12-31 00:00:00'): nan,\n  Timestamp('1926-01-02 00:00:00'): nan,\n  Timestamp('1926-01-04 00:00:00'): nan,\n  Timestamp('1926-01-05 00:00:00'): nan,\n  Timestamp('1926-01-06 00:00:00'): nan},\n ...}\n</code></pre>\n\n<p>Unfortunately, I am out of space for this post, but MA_a_csv.head().to_dict() produces the same as above except all NaN rather than the one data point. </p>\n"}, {"tags": ["python", "function", "input", "ip"], "comments": [{"owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "edited": false, "score": 1, "creation_date": 1551311174, "post_id": 54916255, "comment_id": 96598672, "body": "Probably your indentation."}, {"owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "edited": false, "score": 0, "creation_date": 1551312056, "post_id": 54916255, "comment_id": 96598881, "body": "If none of these suggestions fix your problem, then show the actual run of the program."}, {"owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "edited": false, "score": 1, "creation_date": 1551312079, "post_id": 54916255, "comment_id": 96598886, "body": "Also, don&#39;t name a variable with leading and trailing underscores :)"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1551312516, "post_id": 54916255, "comment_id": 96598985, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2589309/command-line-input-causes-syntaxerror\">Command-line input causes SyntaxError</a>"}], "answers": [{"tags": [], "owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "is_accepted": false, "score": 0, "last_activity_date": 1551312038, "creation_date": 1551312038, "answer_id": 54916390, "question_id": 54916255, "link": "https://stackoverflow.com/questions/54916255/invalid-syntax-from-my-variable-input-in-python/54916390#54916390", "title": "Invalid syntax from my variable input in python", "body": "<p>In Python 2, <code>input</code> tries to evaluate the string you enter.  Use <code>raw_input</code> instead.  </p>\n"}], "owner": {"reputation": 1, "user_id": 11127905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LY1u2.jpg?s=128&g=1", "display_name": "Sam P", "link": "https://stackoverflow.com/users/11127905/sam-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1551312038, "creation_date": 1551311111, "question_id": 54916255, "link": "https://stackoverflow.com/questions/54916255/invalid-syntax-from-my-variable-input-in-python", "title": "Invalid syntax from my variable input in python", "body": "<p>I'm trying to code a program that give IPs information. When I try to get the IP by <code>input</code> and run it appears <code>SyntaxError: invalid syntax</code>it just let me put strings on it. Here is my code:</p>\n\n<pre><code> def _get_ip():\n    ip = ''\n\n    _get_ = input('What\\'s the IP?: {}'.format(ip))\n\n_get_ip()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "csv"], "answers": [{"tags": [], "owner": {"reputation": 897, "user_id": 270638, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/771c5451398fc8d09bebcce8bd584b7f?s=128&d=identicon&r=PG", "display_name": "Mike Kelly", "link": "https://stackoverflow.com/users/270638/mike-kelly"}, "is_accepted": false, "score": 2, "last_activity_date": 1551310867, "creation_date": 1551310867, "answer_id": 54916211, "question_id": 54916210, "link": "https://stackoverflow.com/questions/54916210/python-handling-data-errors-in-csv-file/54916211#54916211", "title": "Python - Handling Data errors in CSV file", "body": "<p>I spent a fair bit of time reading the Python CSV documentation and searching around to find a solution to this.  The key seems to be that the exception is coming from this line:</p>\n\n<pre><code>       for csvDataRow in reader:\n</code></pre>\n\n<p>i.e. it is being triggered in the call to the DictReader iterator to get the next row.  Nowhere in the CSV documentation does it mention how to handle errors like this.</p>\n\n<p>The trick is that the encoding transformation isn't happening in CSV - it's happening underneath it, and so the change that's needed is in the open call.  </p>\n\n<p>Adding <strong>errors=\"replace\"</strong> to the open call causes the Codec transform to substitute a '?' for any invalid characters in the input.</p>\n\n<pre><code>      with open(fileName, \"rt\", encoding=\"utf8\", errors=\"replace\") as csvFile:\n</code></pre>\n"}], "owner": {"reputation": 897, "user_id": 270638, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/771c5451398fc8d09bebcce8bd584b7f?s=128&d=identicon&r=PG", "display_name": "Mike Kelly", "link": "https://stackoverflow.com/users/270638/mike-kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551317222, "creation_date": 1551310867, "last_edit_date": 1551317222, "question_id": 54916210, "link": "https://stackoverflow.com/questions/54916210/python-handling-data-errors-in-csv-file", "title": "Python - Handling Data errors in CSV file", "body": "<p>I have a CSV file that may have invalid UTF-8 encodings on some rows.  The file is sometimes hundreds of thousands of rows long, so I want to just skip the rows with invalid characters (noting that) to get the 99.9% of the rows that are valid (for this application, it's not essential that every row in the input get into the database).</p>\n\n<p>My Python code looks like this:</p>\n\n<pre><code># Iterate through the CSV file\nwith open(fileName, \"rt\", encoding=\"utf8\") as csvFile:\n    try:\n        reader = csv.DictReader(csvFile)\n        for csvDataRow in reader:\n            try:\n                log.debug('Row '+str(lineNo))\n                #\n                # .. row handling code here ..\n                #\n            except Exception as e:\n                log.error('Exception at the for loop level\\n'+str(e))\n    except Exception as e:\n            log.error('Exception at the reader level\\n'+str(e))\n</code></pre>\n\n<p>What I would expect is that the invalid data would trigger the exception at the for loop level, so I could catch just UnicodeEncodingError there and skip the line, then continue the loop.</p>\n\n<p>The problem is that the exception doesn't trigger there - it hits the except clause at the <strong>reader</strong> level - i.e. outside the loop context.  So I can no longer do continue on the for loop iterating over the rows.</p>\n\n<p>The net result is that if I hit a single invalid row at line 674,398 in the CSV file that has a total of 2,966,480 rows the exception causes the rows after row 674,398 to be skipped.  In this case, it turns out that line in the input has an invalid continuation character that breaks the UTF-8 parser.</p>\n"}, {"tags": ["python", "django", "task", "celery", "delay"], "answers": [{"comments": [{"owner": {"reputation": 5359, "user_id": 375267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/j5PvY.jpg?s=128&g=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/375267/aaron"}, "edited": false, "score": 2, "creation_date": 1590105256, "post_id": 54916544, "comment_id": 109562324, "body": "Great answer. I ran into the same problem and this fixed it. I don&#39;t understand why, though: without binding the method, it seems like I should just be able to decorate a function and pass in args. In my case the reference to self is unnecessary. I&#39;m using flask."}], "tags": [], "owner": {"reputation": 695, "user_id": 9663835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f14290406c3a2a269845d60742d47b?s=128&d=identicon&r=PG&f=1", "display_name": "R. Garc&#237;a", "link": "https://stackoverflow.com/users/9663835/r-garc%c3%ada"}, "is_accepted": false, "score": 4, "last_activity_date": 1590260630, "last_edit_date": 1590260630, "creation_date": 1551313195, "answer_id": 54916544, "question_id": 54916203, "link": "https://stackoverflow.com/questions/54916203/celery-task-cannot-be-called-missing-positional-arguments-from-django-app/54916544#54916544", "title": "Celery task cannot be called (missing positional arguments) from Django app", "body": "<p>First of all you should add more information on your post related with your Django &amp; Celery Configuration.</p>\n\n<p>But I think that your mistake is on the @task decorator, because it seems that you'd need to use the <strong>Bound tasks</strong>:</p>\n\n<ul>\n<li>A task being bound means the first argument to the task will always\nbe the task instance (self), just like Python bound methods. <a href=\"http://docs.celeryproject.org/en/latest/userguide/tasks.html#bound-tasks\" rel=\"nofollow noreferrer\">Reference</a>.</li>\n<li>For the other hand, the <strong>bind</strong> argument means that the function will be a \u201cbound method\u201d so that you can access attributes and methods on the task type instance. <a href=\"http://docs.celeryproject.org/en/latest/userguide/tasks.html#example\" rel=\"nofollow noreferrer\">Reference</a></li>\n</ul>\n\n<p>So your code should looks like:</p>\n\n<pre><code>import celery\n\n@task(bind=True, name=\"my_add\")\ndef add(self, x, y):\n    return x + y\n</code></pre>\n\n<blockquote>\n  <p>Notice that the <strong>bind argument</strong> to the task decorator will give access to self (the task type instance).</p>\n</blockquote>\n\n<p>Finally I recommend to you review again the <a href=\"http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html\" rel=\"nofollow noreferrer\">Celery setup on Django</a>.</p>\n"}], "owner": {"reputation": 71, "user_id": 11127881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hQ49pLZQtl0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPk0B10HAg-bXgJTXVfLxn3gz3rpQ/mo/photo.jpg?sz=128", "display_name": "David White", "link": "https://stackoverflow.com/users/11127881/david-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2212, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1590260630, "creation_date": 1551310822, "last_edit_date": 1551318869, "question_id": 54916203, "link": "https://stackoverflow.com/questions/54916203/celery-task-cannot-be-called-missing-positional-arguments-from-django-app", "title": "Celery task cannot be called (missing positional arguments) from Django app", "body": "<p>Ok I've poured over all the SO posts, Celery docs, etc...and I just cannot figure this out. No matter what I try or how I try to call a task from a Django app, Celery is complaining that I'm not supplying the required parameters.  </p>\n\n<blockquote>\n  <p>\"TypeError: add() missing 2 required positional arguments: 'x' and 'y'\".</p>\n</blockquote>\n\n<p>I'm following a very simple example from their docs...simply using delay, such as:</p>\n\n<pre><code>add.delay(1, 2)\n</code></pre>\n\n<p>and still the same error. I've also tried <code>add.delay(x=1, y=2)</code>, <code>celery.send_task(\"add\", [1, 2])</code> and a wide variety of other ways I've seen tasks called in various posts and none of them work.</p>\n\n<p>The method is very simple:</p>\n\n<pre><code>@shared_task\ndef add(x, y):\n    return x + y\n</code></pre>\n\n<p>I've also tried it named, such as:</p>\n\n<pre><code>@task(name=\"my_add\")\ndef add(x, y):\n    return x + y\n</code></pre>\n\n<p>Same results. What else can I possibly be missing?</p>\n"}, {"tags": ["python", "turtle-graphics"], "comments": [{"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1551311126, "post_id": 54916202, "comment_id": 96598660, "body": "What are <code>lbump</code> and <code>rbump</code>?"}, {"owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "reply_to_user": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1551311915, "post_id": 54916202, "comment_id": 96598841, "body": "@0x5453 They are the left and right bumpers, I&#39;ll add the code of them to my post"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "edited": false, "score": 0, "creation_date": 1551319725, "post_id": 54917101, "comment_id": 96600583, "body": "That worked perfectly! Thank you, I was thinking it had something to do with the bumper hitbox but this makes a lot more sense. Thanks again"}], "tags": [], "owner": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "is_accepted": true, "score": 1, "last_activity_date": 1551317930, "creation_date": 1551317930, "answer_id": 54917101, "question_id": 54916202, "link": "https://stackoverflow.com/questions/54916202/python-turtle-how-to-create-collision/54917101#54917101", "title": "Python Turtle how to create collision", "body": "<p>The reason it's likely this: when a collision is detected (<code>isCollision</code> returns <code>True</code>) and the sign of the x velocity is switched, the ball does not have the time to gain enough distance from the bumper until the next iteration of the loop. Hence, next iteration <code>isCollision</code> is still detecting a collision and changes again the sign of the velocity.<br>\nAs a result, x velocity sign is switched each iteration from positive to negative and viceversa, and you see the shacking effect.</p>\n\n<p>If I'm right, this edit is the simplest way that come to my mind to solve the issue:</p>\n\n<pre><code>if isCollision(lbump, ball):\n    ballspeedx = abs(ballspeedx)\n\nif isCollision(rbump, ball):\n    ballspeedx = -1 * abs(ballspeedx)\n</code></pre>\n\n<p>Of course more elaborate solutions can be implemented.</p>\n"}], "owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 54917101, "answer_count": 1, "score": 0, "last_activity_date": 1551317930, "creation_date": 1551310817, "last_edit_date": 1551312717, "question_id": 54916202, "link": "https://stackoverflow.com/questions/54916202/python-turtle-how-to-create-collision", "title": "Python Turtle how to create collision", "body": "<p>I am attempting to create pong using Turtle, however, I am having an issue with the collision system. I am using a basic pythagorean function for this, however, when the ball hits a bumber, it gets stuck at the bumper and starts shaking. I am not sure how to fix this problem. Here is the collision and bumper code.</p>\n\n<pre><code>turtle.register_shape('bar.gif')\n\nlbump = turtle.Turtle()\nlbump.color('white')\nlbump.shape('bar.gif')\nlbump.penup()\nlbump.speed(0)\nlbump.setposition(-285,0)\n\nrbump = turtle.Turtle()\nrbump.color('white')\nrbump.shape('bar.gif')\nrbump.penup()\nrbump.speed(0)\nrbump.setposition(285,0)\n\nball = turtle.Turtle()\nball.color('white')\nball.shape('circle')\nball.penup()\nball.speed(0)\nball.setposition(0,0)\nballspeedx = -5\nballspeedy = 0 #To test collison#\n\ndef isCollision(t1, t2):\n    distance = math.sqrt(math.pow(t1.xcor()-t2.xcor(),2)+math.pow(t1.ycor()-t2.ycor(),2))\n    if distance &lt; 30:\n        return True\n    else:\n        return False\n\ndef ball_move():\n    while True:\n        global ballspeedy\n        global ballspeedx\n        x = ball.xcor() + ballspeedx\n        y = ball.ycor() + ballspeedy\n        if y &gt; 285 or y &lt; -285:\n            ballspeedy *= -1\n\n        if x &lt; -295 or x &gt; 295:\n            x = 0\n            y = 0\n\n        if isCollision(lbump, ball):\n            ballspeedx *= -1\n\n        if isCollision(rbump, ball):\n            ballspeedx *= -1\n        ball.setposition(x,y)\n</code></pre>\n"}, {"tags": ["python", "class", "deep-learning", "neural-network", "pytorch"], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 5865579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/185a0b751c11ba968e2cf51ec30c37d0?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/5865579/jason"}, "edited": false, "score": 0, "creation_date": 1551317423, "post_id": 54916828, "comment_id": 96600135, "body": "Thanks, Can add more details like, which is <code>self.hidden</code>?"}, {"owner": {"reputation": 5962, "user_id": 220700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d1081bfed83e0be780441043732d5ff?s=128&d=identicon&r=PG", "display_name": "Sergii Dymchenko", "link": "https://stackoverflow.com/users/220700/sergii-dymchenko"}, "reply_to_user": {"reputation": 1266, "user_id": 5865579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/185a0b751c11ba968e2cf51ec30c37d0?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/5865579/jason"}, "edited": false, "score": 0, "creation_date": 1551317738, "post_id": 54916828, "comment_id": 96600196, "body": "self.hidden is a Linear layer, that have input size 784 and output size 256. The code <code>self.hidden = nn.Linear(784, 256)</code> defines the layer, and in the <code>forward</code> method it actually used: <code>x</code> (the whole network input) passed as an input and the output goes to sigmoid."}, {"owner": {"reputation": 5962, "user_id": 220700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d1081bfed83e0be780441043732d5ff?s=128&d=identicon&r=PG", "display_name": "Sergii Dymchenko", "link": "https://stackoverflow.com/users/220700/sergii-dymchenko"}, "reply_to_user": {"reputation": 1266, "user_id": 5865579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/185a0b751c11ba968e2cf51ec30c37d0?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/5865579/jason"}, "edited": false, "score": 0, "creation_date": 1551318167, "post_id": 54916828, "comment_id": 96600257, "body": "Also, not sure if it&#39;s not clear, but <code>hidden</code> is just a name and has no special meaning. It could be called <code>inner_layer</code> or <code>layer1</code>."}], "tags": [], "owner": {"reputation": 5962, "user_id": 220700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d1081bfed83e0be780441043732d5ff?s=128&d=identicon&r=PG", "display_name": "Sergii Dymchenko", "link": "https://stackoverflow.com/users/220700/sergii-dymchenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1551315710, "creation_date": 1551315710, "answer_id": 54916828, "question_id": 54916135, "link": "https://stackoverflow.com/questions/54916135/what-is-the-class-definition-of-nn-linear-in-pytorch/54916828#54916828", "title": "What is the class definition of nn.Linear in PyTorch?", "body": "<p>The <code>Network</code> defined as having two layers, hidden and output.\nRoughly speaking, the function of the hidden layer is to hold parameters you can optimize during training.</p>\n"}, {"comments": [{"owner": {"reputation": 918, "user_id": 7515411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6fsNU.jpg?s=128&g=1", "display_name": "Abdur Rehman", "link": "https://stackoverflow.com/users/7515411/abdur-rehman"}, "edited": false, "score": 0, "creation_date": 1593601590, "post_id": 54924812, "comment_id": 110836629, "body": "It is further transformed by the sigmoid function, as defined by x = F.sigmoid(self.hidden(x)). I can&#39;t see any sigmoid in nn.Linear class definition. Can you provide the source?"}, {"owner": {"reputation": 6719, "user_id": 2945357, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd030641417e32d532056ed59e3340e3?s=128&d=identicon&r=PG", "display_name": "Andreas K.", "link": "https://stackoverflow.com/users/2945357/andreas-k"}, "reply_to_user": {"reputation": 918, "user_id": 7515411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6fsNU.jpg?s=128&g=1", "display_name": "Abdur Rehman", "link": "https://stackoverflow.com/users/7515411/abdur-rehman"}, "edited": false, "score": 1, "creation_date": 1593623614, "post_id": 54924812, "comment_id": 110848536, "body": "@AbdurRehman it is not a part of <code>nn.Linear</code>, it is just an additional step which makes the the whole mapping non-linear (making the Neural Network more useful and able to recognize more complex patterns, generally speaking)."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1604720853, "post_id": 54924812, "comment_id": 114440545, "body": "Thank you for this. I was going crazy with the dimensions of the weights as I thought it was stored as in_features x out_features but it&#39;s transposed instead. Thanks for this awesome answer!"}, {"owner": {"reputation": 381, "user_id": 13782227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e42df9e13b947a1057e654c8914014b?s=128&d=identicon&r=PG&f=1", "display_name": "Rnj", "link": "https://stackoverflow.com/users/13782227/rnj"}, "edited": false, "score": 0, "creation_date": 1617707091, "post_id": 54924812, "comment_id": 118373525, "body": "Sample calculations: <code>[1.0, -1.0]*[-0.4500,  0.5856]+0.2223=-0.8133</code> and <code>[1.0, -1.0]*[-0.1807, -0.4963]-0.6114=-0.2959</code>"}], "tags": [], "owner": {"reputation": 6719, "user_id": 2945357, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd030641417e32d532056ed59e3340e3?s=128&d=identicon&r=PG", "display_name": "Andreas K.", "link": "https://stackoverflow.com/users/2945357/andreas-k"}, "is_accepted": true, "score": 49, "last_activity_date": 1593623047, "last_edit_date": 1593623047, "creation_date": 1551353774, "answer_id": 54924812, "question_id": 54916135, "link": "https://stackoverflow.com/questions/54916135/what-is-the-class-definition-of-nn-linear-in-pytorch/54924812#54924812", "title": "What is the class definition of nn.Linear in PyTorch?", "body": "<blockquote>\n<p>What is the class definition of nn.Linear in pytorch?</p>\n</blockquote>\n<p>From <a href=\"https://pytorch.org/docs/stable/nn.html#torch.nn.Linear\" rel=\"noreferrer\">documentation</a>:</p>\n<hr />\n<p><code>CLASS torch.nn.Linear(in_features, out_features, bias=True)</code></p>\n<p>Applies a linear transformation to the incoming data: <code>y = x*W^T + b</code></p>\n<p>Parameters:</p>\n<ul>\n<li><strong>in_features</strong> \u2013 size of each input sample (i.e. size of x)</li>\n<li><strong>out_features</strong> \u2013 size of each output sample (i.e. size of y)</li>\n<li><strong>bias</strong> \u2013 If set to False, the layer will not learn an additive bias. Default: True</li>\n</ul>\n<hr />\n<p>Note that the weights <code>W</code> have shape <code>(out_features, in_features)</code> and biases <code>b</code> have shape <code>(out_features)</code>. They are initialized randomly and can be changed later (e.g. during the training of a Neural Network they are updated by some optimization algorithm).</p>\n<p>In your Neural Network, the <code>self.hidden = nn.Linear(784, 256)</code> defines a <em>hidden</em> (meaning that it is in between of the input and output layers), <em>fully connected linear layer</em>, which takes input <code>x</code> of shape <code>(batch_size, 784)</code>, where batch size is the number of inputs (each of size 784) which are passed to the network at once (as a single tensor), and transforms it by the linear equation <code>y = x*W^T + b</code> into a tensor <code>y</code> of shape <code>(batch_size, 256)</code>. It is further transformed by the sigmoid function, <code>x = F.sigmoid(self.hidden(x))</code> (which is not a part of the <code>nn.Linear</code> but an additional step).</p>\n<p>Let's see a concrete example:</p>\n<pre><code>import torch\nimport torch.nn as nn\n\nx = torch.tensor([[1.0, -1.0],\n                  [0.0,  1.0],\n                  [0.0,  0.0]])\n\nin_features = x.shape[1]  # = 2\nout_features = 2\n\nm = nn.Linear(in_features, out_features)\n</code></pre>\n<p>where <code>x</code> contains three inputs (i.e. the batch size is 3), <code>x[0]</code>, <code>x[1]</code> and <code>x[3]</code>, each of size 2, and the output is going to be of shape <code>(batch size, out_features) = (3, 2)</code>.</p>\n<p>The values of the parameters (weights and biases) are:</p>\n<pre><code>&gt;&gt;&gt; m.weight\ntensor([[-0.4500,  0.5856],\n        [-0.1807, -0.4963]])\n\n&gt;&gt;&gt; m.bias\ntensor([ 0.2223, -0.6114])\n</code></pre>\n<p>(because they were initialized randomly, most likely you will get different values from the above)</p>\n<p>The output is:</p>\n<pre><code>&gt;&gt;&gt; y = m(x)\ntensor([[-0.8133, -0.2959],\n        [ 0.8079, -1.1077],\n        [ 0.2223, -0.6114]])\n</code></pre>\n<p>and (behind the scenes) it is computed as:</p>\n<pre><code>y = x.matmul(m.weight.t()) + m.bias  # y = x*W^T + b\n</code></pre>\n<p>i.e.</p>\n<pre><code>y[i,j] == x[i,0] * m.weight[j,0] + x[i,1] * m.weight[j,1] + m.bias[j]\n</code></pre>\n<p>where <code>i</code> is in interval <code>[0, batch_size)</code> and <code>j</code> in <code>[0, out_features)</code>.</p>\n"}], "owner": {"reputation": 1266, "user_id": 5865579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/185a0b751c11ba968e2cf51ec30c37d0?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/5865579/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35751, "favorite_count": 10, "protected_date": 1586200589, "accepted_answer_id": 54924812, "answer_count": 2, "score": 15, "last_activity_date": 1604720717, "creation_date": 1551310344, "last_edit_date": 1604720717, "question_id": 54916135, "link": "https://stackoverflow.com/questions/54916135/what-is-the-class-definition-of-nn-linear-in-pytorch", "title": "What is the class definition of nn.Linear in PyTorch?", "body": "<p>I have the following code for PyTorch:</p>\n<pre><code>import torch.nn as nn\nimport torch.nn.functional as F\n\nclass Network(nn.Module):\n    def __init__(self):\n        super().__init__()\n        self.hidden = nn.Linear(784, 256)\n        self.output = nn.Linear(256, 10)\n    \n    def forward(self, x):\n        x = F.sigmoid(self.hidden(x))\n        x = F.softmax(self.output(x), dim=1)\n    \n        return x\n</code></pre>\n<p>My question: What is this <code>self.hidden</code>?</p>\n<p>It returns from <code>nn.Linear</code> and it can take <code>x</code> as argument. What exactly is the purpose of <code>self.hidden</code>?</p>\n"}, {"tags": ["python", "python-3.x", "google-sheets", "google-sheets-api", "gspread"], "comments": [{"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 1, "creation_date": 1551363286, "post_id": 54916092, "comment_id": 96619844, "body": "You should include relevant library versions."}, {"owner": {"reputation": 103, "user_id": 7880649, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-AD7wN_jM9lg/AAAAAAAAAAI/AAAAAAAAACQ/-ZOUS6B44X4/photo.jpg?sz=128", "display_name": "Eric", "link": "https://stackoverflow.com/users/7880649/eric"}, "reply_to_user": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1551677374, "post_id": 54916092, "comment_id": 96712908, "body": "I am using Gspread 2.2.1 in python 3.6.0."}, {"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 1, "creation_date": 1551727074, "post_id": 54916092, "comment_id": 96737826, "body": "That&#39;s not the latest release of gspread. Nor is it a listed official release. Upgrade."}, {"owner": {"reputation": 103, "user_id": 7880649, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-AD7wN_jM9lg/AAAAAAAAAAI/AAAAAAAAACQ/-ZOUS6B44X4/photo.jpg?sz=128", "display_name": "Eric", "link": "https://stackoverflow.com/users/7880649/eric"}, "reply_to_user": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1551727261, "post_id": 54916092, "comment_id": 96737917, "body": "What if it says package up to date?"}, {"owner": {"reputation": 103, "user_id": 7880649, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-AD7wN_jM9lg/AAAAAAAAAAI/AAAAAAAAACQ/-ZOUS6B44X4/photo.jpg?sz=128", "display_name": "Eric", "link": "https://stackoverflow.com/users/7880649/eric"}, "reply_to_user": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1551727313, "post_id": 54916092, "comment_id": 96737935, "body": "Requirement already up-to-date: gspread in ./anaconda/lib/python3.6/site-packages Requirement already up-to-date: requests&gt;=2.2.1 in ./anaconda/lib/python3.6/site-packages (from gspread) Requirement already up-to-date: chardet&lt;3.1.0,&gt;=3.0.2 in ./anaconda/lib/python3.6/site-packages (from requests&gt;=2.2.1-&gt;gspread) Requirement already up-to-date: certifi&gt;=2017.4.17 in ./anaconda/lib/python3.6/site-packages (from requests&gt;=2.2.1-&gt;gspread)"}, {"owner": {"reputation": 8677, "user_id": 9337071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52afdb783a619060eb2b0c0cb5766d3?s=128&d=identicon&r=PG&f=1", "display_name": "tehhowch", "link": "https://stackoverflow.com/users/9337071/tehhowch"}, "edited": false, "score": 0, "creation_date": 1551728502, "post_id": 54916092, "comment_id": 96738441, "body": "Then your configuration needs updating: <a href=\"https://github.com/burnash/gspread/releases\" rel=\"nofollow noreferrer\">github.com/burnash/gspread/releases</a>"}], "owner": {"reputation": 103, "user_id": 7880649, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-AD7wN_jM9lg/AAAAAAAAAAI/AAAAAAAAACQ/-ZOUS6B44X4/photo.jpg?sz=128", "display_name": "Eric", "link": "https://stackoverflow.com/users/7880649/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 638, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551677611, "creation_date": 1551310018, "last_edit_date": 1551677611, "question_id": 54916092, "link": "https://stackoverflow.com/questions/54916092/trying-to-write-to-a-google-sheet-via-gspread-in-python", "title": "Trying to write to a Google Sheet via gspread in python", "body": "<p>I am trying to write some data to a google sheet and keep getting this error. </p>\n\n<p>File \"anaconda/lib/python3.6/site-packages/pyasn1_modules/rfc2459.py\", line 1014, in AttributeTypeAndValue\n    openType=opentype.OpenType('type', certificateAttributesMap))</p>\n\n<p>TypeError: <strong>init</strong>() got an unexpected keyword argument 'openType'</p>\n\n<p>I am using Gspread 2.2.1 in python 3.6.0. TextEditor is Spyder 2.7. </p>\n\n<p>Here is my code. </p>\n\n<p>Please let me know if you have any questions. </p>\n\n<p>Any help would be helpful. </p>\n\n<pre><code>  import gspread  \n  from oauth2client.service_account import ServiceAccountCredentials\n\n  scope = ['https://spreadsheets.google.com/feeds']\n  creds = \n  ServiceAccountCredentials.from_json_keyfile_name('client_secret.json', scope)\n  client = gspread.authorize(creds)\n\n  sheet = client.open(\"TEST\").sheet1\n  sheet.update_cell(1, 1, \"I just wrote to a spreadsheet using Python!\")\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 7383, "user_id": 234657, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/24edf474c7978302df1e0589058e16f9?s=128&d=identicon&r=PG", "display_name": "Chris Curvey", "link": "https://stackoverflow.com/users/234657/chris-curvey"}, "edited": false, "score": 0, "creation_date": 1551310096, "post_id": 54916066, "comment_id": 96598400, "body": "when you say you want to &quot;throw it away&quot;, do you want to just use None for the resulting number, or do you want to skip the entire record?"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 1, "creation_date": 1551310113, "post_id": 54916066, "comment_id": 96598404, "body": "Maybe raise an exception on <code>__init__</code> if phone does not match pattern. Then simply catch it on <code>PhoneNumber</code> instantiation."}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "reply_to_user": {"reputation": 7383, "user_id": 234657, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/24edf474c7978302df1e0589058e16f9?s=128&d=identicon&r=PG", "display_name": "Chris Curvey", "link": "https://stackoverflow.com/users/234657/chris-curvey"}, "edited": false, "score": 0, "creation_date": 1551310209, "post_id": 54916066, "comment_id": 96598434, "body": "@ChrisCurvey I&#39;d want to return None."}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "reply_to_user": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551310416, "post_id": 54916066, "comment_id": 96598486, "body": "@needtobe hmm, that&#39;s a good idea, but my main concern is (being very novice yet) understanding where in this class I should do so to be most comprehensive. For instance, I&#39;m not sure if it&#39;d be better to catch on instantiation or when <code>__str__</code> is called."}, {"owner": {"reputation": 639, "user_id": 10115683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/clCNu.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/10115683/adam"}, "edited": false, "score": 1, "creation_date": 1551310564, "post_id": 54916066, "comment_id": 96598523, "body": "Could you just try and cast it to an int?"}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "reply_to_user": {"reputation": 639, "user_id": 10115683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/clCNu.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/10115683/adam"}, "edited": false, "score": 0, "creation_date": 1551310602, "post_id": 54916066, "comment_id": 96598534, "body": "@Adam I could and had this thought as well, but then I&#39;d need to catch the TypeError which still leaves me in the same situation."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 1, "creation_date": 1551310690, "post_id": 54916066, "comment_id": 96598553, "body": "Catching it on <code>__str__</code> would be a mistake. You want to set each field to <code>None</code> (<code>areaCode</code>, <code>exchange</code>, <code>line</code>) if not valid? Plase don&#39;t do it. There is no reason to instantiate <code>PhoneNumber</code> of if it&#39;s not valid. I would stick with my first comment."}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1551310746, "post_id": 54916066, "comment_id": 96598566, "body": "I don&#39;t disagree, I&#39;m asking for an example as I&#39;m not clear on direction from your first comment. Would you say catch it as the very first action in <code>__init__</code> ?"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 1, "creation_date": 1551311091, "post_id": 54916066, "comment_id": 96598650, "body": "@CodeSpent Added an answer, you may look there."}], "answers": [{"comments": [{"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1551311139, "post_id": 54916238, "comment_id": 96598666, "body": "Would you mind taking a look at my Potential Solution in my edit &amp; compared to your strategy, which seems more efficient &amp; why?"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 1, "creation_date": 1551311285, "post_id": 54916238, "comment_id": 96598697, "body": "You &#39;re instantiating useless object there. Returning <code>None</code> in <code>__init__</code> does nothing at all, in fact this is a default behaviour."}, {"owner": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "edited": false, "score": 1, "creation_date": 1551311307, "post_id": 54916238, "comment_id": 96598701, "body": "Another thing to mention regarding PEP8 is that spaces are not placed immediately after or before parentheses."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "edited": false, "score": 0, "creation_date": 1551311361, "post_id": 54916238, "comment_id": 96598717, "body": "@PMende Yes, added comment to emphasize it."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "edited": false, "score": 0, "creation_date": 1551311539, "post_id": 54916238, "comment_id": 96598757, "body": "@PMende Also, I don&#39;t think using <code>regex</code> in that way would be a benefit for you. For example, for an input: <code>+444545454test34&#39; you would get </code>44454545434`. Is that desired behaviour?"}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "reply_to_user": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "edited": false, "score": 0, "creation_date": 1551311555, "post_id": 54916238, "comment_id": 96598759, "body": "@PMende that&#39;s a weird aftermath of an extension I use for Django templates thinking it belongs there haha. So this won&#39;t help as I still don&#39;t have any control prior to this class (I don&#39;t instantiate). This is a once off script just for fixing formatting. Is matching at <code>__str__</code> really that detrimental?"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1551311685, "post_id": 54916238, "comment_id": 96598792, "body": "@CodeSpent I&#39;m a bit confused. Why would you create an object with all fields set to null?  In my opinion that&#39;s a bit bizzare. There should be no formatting if phone number is invalid, thus no object instantiated."}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1551311900, "post_id": 54916238, "comment_id": 96598836, "body": "I am not. The current script says <code>if phone_number not None:</code> create the object. So this would mean an object would be &quot;thrown away&quot; if it received <code>None</code>. The only thing I can touch is where this class resides &amp; beyond, not that script (access issue that could take weeks to resolve..). So my idea was if I match that what&#39;s coming in is not a number &amp; not one of those anomolies, and return <code>None</code> for all those, then they&#39;d never be created in the application at all. Does that make a bit better sense? Hacky, I know, but lesser of 2 evils."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 1, "creation_date": 1551312120, "post_id": 54916238, "comment_id": 96598897, "body": "Yes, that makes a sense, but if I understand correctly and <code>phone_number</code> is instantiation of <code>PhoneNumber</code> class, phone_number will never be <code>None</code>."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 1, "creation_date": 1551312172, "post_id": 54916238, "comment_id": 96598905, "body": "You may use <code>__new__</code> method or <code>classmethod</code> to achieve this. I will shortly update my answer."}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1551312257, "post_id": 54916238, "comment_id": 96598927, "body": "Let me clarify that <code>phone_number</code> in my above comment is totally generic, sorry for the confusion. In most cases it will be <code>fire_line</code>, <code>burglar_line</code>, etc. So <code>if fire_line not None:</code>."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1551312618, "post_id": 54916238, "comment_id": 96599014, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/189156/discussion-between-needtobe-and-codespent\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "is_accepted": true, "score": 1, "last_activity_date": 1551313867, "last_edit_date": 1551313867, "creation_date": 1551311022, "answer_id": 54916238, "question_id": 54916066, "link": "https://stackoverflow.com/questions/54916066/python-validating-phone-number-before-returning/54916238#54916238", "title": "Python - Validating Phone Number before returning", "body": "<p>There is no reason to instantiate an object with all fields set to None.\nI would do some checks on <code>__init__</code> like so:</p>\n\n<pre><code>class PhoneNumber:\n    def __init__(self, number_raw):\n        number = int(number_raw)  # do not catch exception here, catch it on instantiation\n        number_str = str(number)  # parse to str for slicing\n\n        self.areaCode = number_str[0:3]  # note no space around slicing indexes\n        self.exchange = number_str[3:6]\n        self.line = number_str[6:13]\n</code></pre>\n\n<p>Also, worth noting would be using PEP-8-like variables, so use\n<code>area_code</code> instead of <code>areaCode</code>.</p>\n\n<p><strong>Second way (using classmethod)</strong></p>\n\n<p>If you need to return <code>None</code> for some reasons, you may find useful instantiating using classmethod, like so:</p>\n\n<pre><code>class PhoneNumber:\n    def __init__(self, number_raw):\n        self.areaCode = number_raw[0:3] \n        self.exchange = number_raw[3:6]\n        self.line = number_raw[6:13]\n\n    @classmethod\n    def instantiate_with_checks(cls, number_raw):\n        try:\n            int(number_raw)\n        except ValueError:\n            return None\n        # after ensuring that provided variable is valid\n        return cls(number_raw)\n</code></pre>\n\n<p>Instantiate new <code>PhoneNumber</code> object  like this:\n<code>PhoneNumber.instantiate_with_checks(number_raw)</code>.</p>\n\n<p><strong>Third way (using <code>__new__</code>):</strong></p>\n\n<pre><code>class PhoneNumber:\n    def __init__( self, number_raw ):\n        self.area_code = number[0:3]\n        self.exchange = number[3:6]\n        self.line = number[6:13]\n\n    @classmethod\n    def is_number_valid(cls, number_raw):\n        try:\n            int(number_raw)\n        except ValueError:\n            return False\n        return True\n\n    def __new__(cls, number_raw):\n        if cls.is_number_valid(number_raw):\n            return super().__new__(cls)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 1, "creation_date": 1551311946, "post_id": 54916356, "comment_id": 96598851, "body": "Maybe using just <code>int(number)</code> instead of <code>as_number = int(number)</code> would be better? Int version is unnecessary."}], "tags": [], "owner": {"reputation": 7383, "user_id": 234657, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/24edf474c7978302df1e0589058e16f9?s=128&d=identicon&r=PG", "display_name": "Chris Curvey", "link": "https://stackoverflow.com/users/234657/chris-curvey"}, "is_accepted": false, "score": 1, "last_activity_date": 1551311774, "creation_date": 1551311774, "answer_id": 54916356, "question_id": 54916066, "link": "https://stackoverflow.com/questions/54916066/python-validating-phone-number-before-returning/54916356#54916356", "title": "Python - Validating Phone Number before returning", "body": "<p>Maybe just do the formatting in the <strong>init</strong> and make your decision there as to whether you have a valid number or not?</p>\n\n<pre><code>class FormattedPhoneNumber(object):\n  def __init__(self, number):\n    try:\n      as_number = int(number)\n    except (TypeError, ValueError):\n      self._formatted = None\n    else:\n      # you have a number, do whatever formatting you need to do\n      area_code = number[ 0:3 ]\n      exchange = number[ 3:6 ]\n      line = number[ 6:13 ]\n      self._formatted = \"({0}) {1}-{2}\".format(area_code,exchange,line)\n\n  def __str__(self):\n    return self._formatted\n</code></pre>\n"}], "owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 54916238, "answer_count": 2, "score": 1, "last_activity_date": 1551313867, "creation_date": 1551309812, "last_edit_date": 1551312709, "question_id": 54916066, "link": "https://stackoverflow.com/questions/54916066/python-validating-phone-number-before-returning", "title": "Python - Validating Phone Number before returning", "body": "<p>Considering the datasource I'm using is very dirty and can contain some of the following in the \"phone number\" fields;</p>\n\n<ul>\n<li>empty (New Standard)</li>\n<li>!! CLOSED !!</li>\n<li>none</li>\n</ul>\n\n<p>I am doing a mass import and want to be sure to just not even bother with these. So I'm filtering through a class to format the numbers, but I also want to validate and just throw it away if it is not a number.</p>\n\n<pre><code>class PhoneNumber:\n        def __init__( self, number_raw ):\n                number = re.sub('[^0-9]', '', number_raw)\n                self.area_code= number[ 0:3 ]\n                self.exchange = number[ 3:6 ]\n                self.line = number[ 6:13 ]\n\n        def __str__( self ):\n                return \"({0}) {1}-{2}\".format( self.area_code, self.exchange, self.line )\n</code></pre>\n\n<p>A few things to consider:</p>\n\n<ul>\n<li>I cannot modify the actual data source</li>\n<li>I cannot validate prior to reaching this class</li>\n</ul>\n\n<p>I figure I could do something like this, and just use an if statement to pass <code>False</code> if its not a valid number, but I feel this could be sloppy. </p>\n\n<p>What's a better way to validate that it is solely digits coming in, and if a string comes in just throw it out &amp; return <code>None</code>?</p>\n\n<hr>\n\n<p><strong>Potential Solution 1:</strong></p>\n\n<pre><code>class PhoneNumber:\n        def __init__( self, number_raw ):\n                validation = re.match('[^0-9]', '', number_raw)\n                if validation is False:\n                    return None\n                else:\n                    number = re.sub('[^0-9]', '', number_raw)\n                    self.area_code= number[ 0:3 ]\n                    self.exchange = number[ 3:6 ]\n                    self.line = number[ 6:13 ]\n                    self.full_number = number\n\n        def __str__( self ):\n                return \"({0}) {1}-{2}\".format( self.area_code, self.exchange, self.line )\n</code></pre>\n\n<p><strong>Potential Soluton 2:</strong></p>\n\n<pre><code>class PhoneNumber:\n        def __init__( self, number_raw ):\n            number = re.sub('[^0-9]', '', number_raw)\n            self.area_code = number[ 0:3 ]\n            self.exchange = number[ 3:6 ]\n            self.line = number[ 6:13 ]\n            self.og_number = number_raw\n\n        def __str__( self ):\n                validation = re.match('[^0-9]', '', self.og_number)\n                if validation is False:\n                    return None\n                return \"({0}) {1}-{2}\".format( self.area_code, self.exchange, self.line )\n</code></pre>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 635, "user_id": 5137570, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kfDnj.png?s=128&g=1", "display_name": "kalenpw", "link": "https://stackoverflow.com/users/5137570/kalenpw"}, "edited": false, "score": 1, "creation_date": 1551309954, "post_id": 54916061, "comment_id": 96598357, "body": "What have you tried to get it working? Can you include some of those samples with specific errors or issues."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11122284"}, "reply_to_user": {"reputation": 635, "user_id": 5137570, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kfDnj.png?s=128&g=1", "display_name": "kalenpw", "link": "https://stackoverflow.com/users/5137570/kalenpw"}, "edited": false, "score": 0, "creation_date": 1551310245, "post_id": 54916061, "comment_id": 96598441, "body": "Of course, well I erased all the code that wasn&#39;t working, basically out of frustration, but I have tried setting a list to empty, then reading the csv file and creating a for loop to try and make a new dictionary each time it came across an iteration but i honestly had no idea what i was doing or if i was even on the right track"}, {"owner": {"reputation": 4719, "user_id": 2958070, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FtkjC.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2958070/ben"}, "edited": false, "score": 1, "creation_date": 1551310252, "post_id": 54916061, "comment_id": 96598443, "body": "Check out <a href=\"https://docs.python.org/3/library/csv.html#csv.DictReader\" rel=\"nofollow noreferrer\"><code>csv.DictReader</code></a> (especially the <code>fieldnames</code> argument)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11122284"}, "reply_to_user": {"reputation": 4719, "user_id": 2958070, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FtkjC.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2958070/ben"}, "edited": false, "score": 0, "creation_date": 1551310584, "post_id": 54916061, "comment_id": 96598530, "body": "@Ben , this is actually something I tried also. Again, not having headers screws me up because on the line that says &quot;print(row[&#39;first_name&#39;], row[&#39;last_name&#39;])&quot; I get a key error"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1551312027, "post_id": 54916061, "comment_id": 96598868, "body": "@jacknovozinsky The whole point of the <code>fieldnames</code> argument is to handle a lack of headers. It will use the list you provide as the headers instead of the first line of the csv."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11122284"}, "edited": false, "score": 1, "creation_date": 1551311462, "post_id": 54916266, "comment_id": 96598735, "body": "Thank you so much! This answered my problem AND cleared things up for me!"}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 1, "creation_date": 1551311613, "post_id": 54916266, "comment_id": 96598775, "body": "I&#39;d advise against manually parsing CSV and use the <code>csv</code> module for it instead. This code breaks as soon as a row contains more than one comma, and there are many other corner cases."}, {"owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "reply_to_user": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551312035, "post_id": 54916266, "comment_id": 96598871, "body": "@darksky I totally agree for a production application the csv module is a better choice, I chose to do it the way i did because i thought it would be simpler for understanding purposes. I&#39;ve edited my answer"}], "tags": [], "owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "is_accepted": true, "score": 0, "last_activity_date": 1551312111, "last_edit_date": 1551312111, "creation_date": 1551311135, "answer_id": 54916266, "question_id": 54916061, "link": "https://stackoverflow.com/questions/54916061/how-to-convert-csv-file-into-a-list-of-dictionaries-in-python/54916266#54916266", "title": "How to convert CSV file into a list of dictionaries in python", "body": "<p>As far as I understand this should solve your first problem. You should be able to easily modify this code to suit your second use case.</p>\n\n<pre><code>users = []\nwith open('&lt;your_file_name.csv&gt;', 'r') as f: ##open the file in read mode\n    for l in f.readlines(): ## get all the lines\n        row_id, row_name = l.strip('\\n').split(',')  ## unpack the values (assumes only two columns)\n        users.append({'id':row_id, 'name' : row_name}) ## add to your list\n</code></pre>\n\n<p>As mentioned by darksky, using the csv module is probably better in terms of code stability so take a look at his answer too</p>\n"}, {"tags": [], "owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "is_accepted": false, "score": 1, "last_activity_date": 1551311823, "creation_date": 1551311823, "answer_id": 54916365, "question_id": 54916061, "link": "https://stackoverflow.com/questions/54916061/how-to-convert-csv-file-into-a-list-of-dictionaries-in-python/54916365#54916365", "title": "How to convert CSV file into a list of dictionaries in python", "body": "<p>Let's look at using the standard python <code>csv</code> module for parsing your files.</p>\n\n<pre><code>import csv\n\nwith open('names.csv') as csvfile:\n    # create a list to store results\n    users = []\n\n    # read the file\n    reader = csv.reader(csvfile)\n\n    # for every line in the csv\n    for row in reader:\n\n        #create a user dict\n        user = {}\n\n        # fill in the user.\n        user[\"name\"] = row[1]\n        user[\"id\"] = row[0]\n\n        # add this user to the list of users\n        users.append(user)\n</code></pre>\n\n<p>Similarly for friends,</p>\n\n<pre><code>import csv\n\nwith open('friends.csv') as csvfile:\n    # create a list to store results\n    friends = []\n\n    # read the file\n    reader = csv.reader(csvfile)\n\n    # for every line in the csv\n    for row in reader:\n\n        #create a friend tuple\n        friend = (row[0], row[1])\n\n        # add this friend to the list of friends\n        friends.append(friend)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11122284"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1858, "favorite_count": 0, "accepted_answer_id": 54916266, "answer_count": 2, "score": 1, "last_activity_date": 1551312649, "creation_date": 1551309761, "last_edit_date": 1551312649, "question_id": 54916061, "link": "https://stackoverflow.com/questions/54916061/how-to-convert-csv-file-into-a-list-of-dictionaries-in-python", "title": "How to convert CSV file into a list of dictionaries in python", "body": "<p>I have a csv file that looks like the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ORkBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ORkBY.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need to convert this into a list of dictionaries that looks like the following:</p>\n\n<pre><code>users = [{ \"id\": 0, \"name\": \"James\" },\n{ \"id\": 1, \"name\": \"John\" },\n{ \"id\": 2, \"name\": \"Jake\" },\n{ \"id\": 3, \"name\": \"Jim\" },\n{ \"id\": 4, \"name\": \"Alex\" },\n{ \"id\": 5, \"name\": \"Adam\" },\n{ \"id\": 6, \"name\": \"Ryan\" },\n{ \"id\": 7, \"name\": \"Katie\" },\n{ \"id\": 8, \"name\": \"Julia\" },\n{ \"id\": 9, \"name\": \"Sam\" }]\n</code></pre>\n\n<p>I also have this CSV file of \"connections\" between each user based on their ids:</p>\n\n<p><a href=\"https://i.stack.imgur.com/76Pp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76Pp8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have been trying for hours to get this to just be a simple list of tuples that look like the following:</p>\n\n<pre><code>friends = [(0, 1), (0, 2), (1, 2), (1, 3), (2, 3), (3, 4), (4, 5), (5, 6), (5, 7), (6, 8), (7, 8), (8, 9)]\n</code></pre>\n\n<p>I have tried every way of importing csv files I know, but I've never dealt with one that wants me to make a new dictionary for every entry, and i dont think ive ever dealt with one without headers like this. While I wish I could just add headers and my my life easier, it must look like the example I gave above for the rest of my code to work. Please let me know if you have any idea how to do this. Thank you!</p>\n\n<p>I completed this entire project of mine, but had to hardcode the mentioned dictionary and list because I simply do not know how to handle having no headers in a CSV and making them look like this. Any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "postgresql", "heroku"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11127833, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M17DP66KX3g/AAAAAAAAAAI/AAAAAAAAAAA/9IhRkAx_tP8/photo.jpg?sz=128", "display_name": "ochaer1", "link": "https://stackoverflow.com/users/11127833/ochaer1"}, "edited": false, "score": 2, "creation_date": 1551324043, "post_id": 54916110, "comment_id": 96601528, "body": "Thanks for your help.  Those links ended up leading me to a solution, although not what I expected.  What worked for me was to uninstall the Anaconda version of psycopg2 and reinstall via &quot;pip install psycopg2&quot;.  The pip version is slightly newer at 2.7.7 compared to the Anaconda version at 2.7.6.1."}, {"owner": {"reputation": 3345, "user_id": 1158241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2c6f0e85e2346b5d9231e55b0ea778?s=128&d=identicon&r=PG", "display_name": "Freek Wiekmeijer", "link": "https://stackoverflow.com/users/1158241/freek-wiekmeijer"}, "reply_to_user": {"reputation": 13, "user_id": 11127833, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M17DP66KX3g/AAAAAAAAAAI/AAAAAAAAAAA/9IhRkAx_tP8/photo.jpg?sz=128", "display_name": "ochaer1", "link": "https://stackoverflow.com/users/11127833/ochaer1"}, "edited": false, "score": 0, "creation_date": 1556198138, "post_id": 54916110, "comment_id": 98362201, "body": "I can confirm the previous comment by @ochaer1. My error was <code>psycopg2.OperationalError</code>, mentioning that the PostgreSQL config tables had no entry for user <code>{user}</code> @ location <code>{IP}</code> on database <code>{db}</code> with Use SSL = <code>false</code>. The cause was a SSL connection set mandatory on the server. PIP version of psycopg2 does support SSL, Conda version did not."}], "tags": [], "owner": {"reputation": 24687, "user_id": 70157, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/da0a70a59c1e428c7780aa1cdc7a26d2?s=128&d=identicon&r=PG", "display_name": "bignose", "link": "https://stackoverflow.com/users/70157/bignose"}, "is_accepted": true, "score": 1, "last_activity_date": 1551310163, "creation_date": 1551310163, "answer_id": 54916110, "question_id": 54916059, "link": "https://stackoverflow.com/questions/54916059/python-problem-connecting-to-heroku-postgresql-ssl-issue/54916110#54916110", "title": "Python problem connecting to Heroku PostgreSQL - SSL issue", "body": "<p>PostgreSQL's client library, named \u201clibpq\u201d, has <a href=\"https://www.postgresql.org/docs/current/libpq-ssl.html\" rel=\"nofollow noreferrer\">optional support for SSL</a>. You need the programs that will connect to PostgreSQL, to have that support enabled when the program was built.</p>\n\n<p>You can get <a href=\"https://www.postgresql.org/download/windows/\" rel=\"nofollow noreferrer\">the official PostgreSQL packages for Windows</a>. </p>\n"}], "owner": {"reputation": 13, "user_id": 11127833, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M17DP66KX3g/AAAAAAAAAAI/AAAAAAAAAAA/9IhRkAx_tP8/photo.jpg?sz=128", "display_name": "ochaer1", "link": "https://stackoverflow.com/users/11127833/ochaer1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 54916110, "answer_count": 1, "score": 1, "last_activity_date": 1551310163, "creation_date": 1551309756, "last_edit_date": 1551309950, "question_id": 54916059, "link": "https://stackoverflow.com/questions/54916059/python-problem-connecting-to-heroku-postgresql-ssl-issue", "title": "Python problem connecting to Heroku PostgreSQL - SSL issue", "body": "<p>I am trying to create a connection to a Heroku PostgreSQL database via Python. I am using Windows10 with Python 3.6.8 and PostgreSQL 9.6.</p>\n\n<p>I took this piece of code from \"<a href=\"http://andyfiedler.com/2016/10/connecting-to-heroku-postgres-in-python\" rel=\"nofollow noreferrer\">http://andyfiedler.com/2016/10/connecting-to-heroku-postgres-in-python</a>\"</p>\n\n<pre><code>import psycopg2\n\nimport subprocess\n\nproc = subprocess.Popen('heroku config:get DATABASE_URL -a heroku_app', stdout=subprocess.PIPE, shell=True)\ndb_url = proc.stdout.read().decode('utf-8').strip() + '?sslmode=require'\nheroku_conn = psycopg2.connect(db_url)\n</code></pre>\n\n<p>When I run that code, I get the error:</p>\n\n<blockquote>\n  <p>OperationalError: could not create SSL context: No such process</p>\n</blockquote>\n\n<p>Searching around suggests that I need to install PostgreSQL with the \"--with-openssl\" option.  Or, with SSL compiled in.</p>\n\n<p>How do I do this in Windows10? Or, is there another way to get this to work?  Thank you! </p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "web-scraping"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1551351555, "post_id": 54916033, "comment_id": 96612922, "body": "You have chopped off the crucial error trace logs while shortening the log messages. Update the question with the error trace logs."}, {"owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1551362125, "post_id": 54916033, "comment_id": 96619133, "body": "@DebanjanB That is exactly what pops up. Idk what ya mean."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551310394, "post_id": 54916101, "comment_id": 96598481, "body": "Yah I had that before and I was working. I had it working last night then I came back to it this morning and it was not working. I thought I had changed something in my code but I commented out everything but this function and It still is not working. I have the same problem with another button further down in the program. When I look at the css it no longer says .btn-delete. I know that the element is being selected because If i print the text it say delete. Thanks if ya have any more Ideals keep them coming."}, {"owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551362449, "post_id": 54916101, "comment_id": 96619301, "body": "I never got it to work with that. I basically just did what I had before and just made the window the size it works on. I am having the exact same problem with another btn. I might add that one to the post if I cant figure it out. Thx for the help"}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "reply_to_user": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551362821, "post_id": 54916101, "comment_id": 96619536, "body": "If screen size affects you should be able to use Or syntax of find_element_by_css_selector(&quot;.gradient .delete-tab, .btn-delete &quot;).click()"}, {"owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551402180, "post_id": 54916101, "comment_id": 96637151, "body": "So the email address is ok, to be able to create another email you need to delete the current one. Im getting them but still getting the same error even after adding ur code."}, {"owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551417708, "post_id": 54916101, "comment_id": 96640382, "body": "Im going to put the entire thing in a git hub and put the link in the OP. If you could look at that that might help. Iv changed it around but if you would It would be nice for you to put it the way you are talking about because I must not be doing it right."}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "reply_to_user": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551417899, "post_id": 54916101, "comment_id": 96640426, "body": "Can I just confirm that with delete click I should see that email disappear from box and just be left with the email address printed out?"}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "reply_to_user": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551418180, "post_id": 54916101, "comment_id": 96640510, "body": "So it runs with my css selector in your except. See edit. I get the  result [&#39;katerine&#39;, &#39;shawnee&#39;]"}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "reply_to_user": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551423362, "post_id": 54916101, "comment_id": 96642104, "body": "Any better at all?"}, {"owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551423579, "post_id": 54916101, "comment_id": 96642192, "body": "So basicly with the first website all the btn does it take you do /delete off of that so I just force the website to go to that off the start to get a fresh email. Problem completely avoided and faster. But im haveing the same problme with the second website&#39;s &quot;next&quot; btn but that solution does not work for it."}, {"owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551425119, "post_id": 54916101, "comment_id": 96642740, "body": "There is a second part to this. I just had this problem first and thought I was having the same problem on the other website.Its on the github."}, {"owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "edited": false, "score": 0, "creation_date": 1551425560, "post_id": 54916101, "comment_id": 96642911, "body": "Thanks for the help Ill do a write up at the end that solved my problem. There were multiple elements that I thought I looked for but I missed one."}], "tags": [], "owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "is_accepted": false, "score": 0, "last_activity_date": 1551418219, "last_edit_date": 1551418219, "creation_date": 1551310067, "answer_id": 54916101, "question_id": 54916033, "link": "https://stackoverflow.com/questions/54916033/python-selenium-unknown-error-with-click/54916101#54916101", "title": "Python/Selenium Unknown error with .click()", "body": "<p>I think you can achieve the same with the below:</p>\n\n<p>That is css selector</p>\n\n<pre><code>find_element_by_css_selector(\".gradient .delete-tab\").click()\n</code></pre>\n\n<p>This limits the matched elements to one</p>\n\n<p>In your code:</p>\n\n<pre><code>except:\n    element_delete = driver.find_element_by_css_selector('.gradient .delete-tab, .btn-delete')\n    element_delete.click()\n</code></pre>\n\n<p>This should mean you can move this into the <code>try</code> instead as it already attempts to match on two selectors.</p>\n"}, {"tags": [], "owner": {"reputation": 1545, "user_id": 8272698, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-DuuIt8xKCLw/AAAAAAAAAAI/AAAAAAAAAL8/rQ67Bbi8SKY/photo.jpg?sz=128", "display_name": "Julian Silvestri", "link": "https://stackoverflow.com/users/8272698/julian-silvestri"}, "is_accepted": false, "score": 0, "last_activity_date": 1551365414, "creation_date": 1551365414, "answer_id": 54928346, "question_id": 54916033, "link": "https://stackoverflow.com/questions/54916033/python-selenium-unknown-error-with-click/54928346#54928346", "title": "Python/Selenium Unknown error with .click()", "body": "<p>Based on Qharr answer and your question. Perhaps you should try to use seleniums <code>wait.until()</code> </p>\n\n<pre><code>from selenium import webdriver;\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndriver = webdriver.Chrome()\ndriver.get(\"URLHERE\")\n\nwait = WebDriverWait(driver, 10)\nwait.until(EC.element_to_be_clickable((By.XPATH,\"RELEVANT X PATH\"))).click()\n</code></pre>\n\n<p>Perhaps waiting for the next button to be clicked until the driver can find it may help you.</p>\n\n<p>If screen size is affecting you. You can try using <code>driver.set_window_size(480, 320)</code> after you have loaded your url with <code>driver.get(\"URL\")</code> OF course you can set the window size to whatever works for you. </p>\n"}], "owner": {"reputation": 37, "user_id": 11122367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCwthbBSarw/AAAAAAAAAAI/AAAAAAAAAF8/lN6qSTLCa7s/photo.jpg?sz=128", "display_name": "Aurum Hype", "link": "https://stackoverflow.com/users/11122367/aurum-hype"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1551418219, "creation_date": 1551309593, "last_edit_date": 1551417755, "question_id": 54916033, "link": "https://stackoverflow.com/questions/54916033/python-selenium-unknown-error-with-click", "title": "Python/Selenium Unknown error with .click()", "body": "<p>New to using selenium and have a little problem. I get this error when I try to use <code>.click()</code> on an element. Code is above it. And here is my website. <a href=\"https://www.minuteinbox.com/\" rel=\"nofollow noreferrer\">https://www.minuteinbox.com/</a> Thanks for the help. If you need any more info just ask.</p>\n\n<pre><code>def get_email():\ndriver = webdriver.Edge('C:/Users/Aurum/Downloads/MicrosoftWebDriver')\ndriver.get(\"https://www.minuteinbox.com/\")\nassert \"MinuteInbox\" in driver.title\nelement_email = driver.find_element_by_id('email')\nemail = element_email.text\nassert \"No results found.\" not in driver.page_source\nelement_delete = driver.find_element_by_class_name('delete-tab')\nassert \"No results found.\" not in driver.page_source\nelement_delete.click()\ndriver.close()\nreturn email\n</code></pre>\n\n<p>The error is:   </p>\n\n<pre><code>Traceback (most recent call last): File \"C:\\Users\\Aurum\\Documents\\Programing\\Prog 1\\random stuff\\FratThing.py\", \nline 69, in main() File \"C:\\Users\\Aurum\\Documents\\Programing\\Prog 1\\random stuff\\FratThing.py\", \nline 64, in main email = get_email() File \"C:\\Users\\Aurum\\Documents\\Programing\\Prog 1\\random stuff\\FratThing.py\", \nline 14, in get_email element_delete.click() File \"C:\\Python37\\lib\\site-packages\\selenium\\webdriver\\remote\\webelement.py\", \nline 80, in click self._execute(Command.CLICK_ELEMENT) File \"C:\\Python37\\lib\\site-packages\\selenium\\webdriver\\remote\\webelement.py\", \nline 633, in _execute return self._parent.execute(command, params) File \"C:\\Python37\\lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", \nline 321, in execute self.error_handler.check_response(response) File \"C:\\Python37\\lib\\site-packages\\selenium\\webdriver\\remote\\errorhandler.py\", \nline 242, in check_response raise exception_class(message, screen, stacktrace) selenium.common.exceptions.WebDriverException: Message: Unknown error\n</code></pre>\n\n<p>Edit: So I figured out that the window has to be shrunk for it to work. If I make it bigger and change the class to fit the big button it does not work.</p>\n\n<p>Edit2: Github Link <a href=\"https://github.com/WilPermenter/SignUpBot\" rel=\"nofollow noreferrer\">https://github.com/WilPermenter/SignUpBot</a></p>\n"}, {"tags": ["python", "pandas", "dataframe", "apply"], "comments": [{"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1551316055, "post_id": 54916019, "comment_id": 96599800, "body": "Ok, so normally you&#39;d use <code>df.apply</code>. What problem are you encountering in this case?"}, {"owner": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "reply_to_user": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1551322268, "post_id": 54916019, "comment_id": 96601149, "body": "@PeterLeimbigler Please see edit, apologies if I was not clear."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1557866278, "post_id": 54916019, "comment_id": 98907397, "body": "Are you trying to construct bounding boxes with this data? You might want to consider using <code>geopandas</code> or a spatial database (just a suggestion, unrelated to the question here)."}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 4, "last_activity_date": 1557876789, "last_edit_date": 1557876789, "creation_date": 1557865940, "answer_id": 56138198, "question_id": 54916019, "link": "https://stackoverflow.com/questions/54916019/construct-a-dataframe-from-pandas-apply/56138198#56138198", "title": "Construct a DataFrame from pandas apply", "body": "<p>You were quite close. All you needed to do was to figure out how to return the result appropriately. Your function will need to look like this:</p>\n\n<pre><code>def getData(address, key):\n    ...\n    NW = geohash.decode(hashes.nw)\n    SE = geohash.decode(hashes.ne)\n\n    return pd.Series(dict(zip(fields, [NW.lat, NW.lon,  SE.lat, SE.lon]))) \n</code></pre>\n\n<p>You can then use <code>Series.apply</code>:</p>\n\n<pre><code>df = pd.DataFrame({'address': ['Los Angeles, CA']})  # for example\ndf['address'].apply(getData, key=key)\n\n                 NWLat                 NWLong                SELat                 SELong\n0  34.0541839599609375  -118.2451629638671875  34.0541839599609375  -118.2424163818359375\n</code></pre>\n\n<p>This works by having <code>getData</code> return a Series object (with the <code>fields</code> as the index). <code>apply</code> will then automatically construct a DataFrame and return the result.</p>\n\n<p>Side note: To concatenate these columns to the existing <code>df</code>, call <code>pd.concat</code>:</p>\n\n<pre><code>res = pd.concat([df, df['address'].apply(getData, key=key)], axis=1)\n</code></pre>\n\n<hr>\n\n<p>Another option would be to use a list comprehension, if there are no NaNs in your DataFrame. This is a performance (AND memory) micro-optimization.</p>\n\n<pre><code>def getData2(address, key):\n    ...\n    NW = geohash.decode(hashes.nw)\n    SE = geohash.decode(hashes.ne)\n\n    return [NW.lat, NW.lon,  SE.lat, SE.lon]\n\npd.DataFrame([getData2(a, key) for a in df['address']], columns=fields)\n\n                 NWLat                 NWLong                SELat                 SELong\n0  34.0541839599609375  -118.2451629638671875  34.0541839599609375  -118.2424163818359375\n</code></pre>\n\n<p>More information on List Comprehensions and their benefits have been detailed in my post: <a href=\"https://stackoverflow.com/questions/54028199/for-loops-with-pandas-when-should-i-care\">For loops with pandas - When should I care?</a></p>\n"}], "owner": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 56138198, "answer_count": 1, "score": 4, "last_activity_date": 1557950200, "creation_date": 1551309453, "last_edit_date": 1557950200, "question_id": 54916019, "link": "https://stackoverflow.com/questions/54916019/construct-a-dataframe-from-pandas-apply", "title": "Construct a DataFrame from pandas apply", "body": "<p>I have a function that returns latitude and longitude information. I want to create columns for these 4 variables in a data frame. </p>\n\n<p>Here is my code: </p>\n\n<pre><code>import geocoder\nimport pandas as pd\nimport geolib\nfrom geolib import geohash\n\ndf = pd.read_csv('New_DP2.csv')\n\nkey = [redacted]\n\n\nfields = ['NWLat', 'NWLong', 'SELat', 'SELong']\ndef getData(address, key):\n    g = geocoder.mapquest(address, key=key)\n    lat = g.lat\n    lng = g.lng\n    h = geolib.geohash.encode(lat, lng, 7)\n    hashes = geolib.geohash.neighbours(h)\n    NW = geohash.decode(hashes.nw)\n    SE = geohash.decode(hashes.ne)\n    nwlat = NW.lat\n    nwlon = NW.lon\n    selat = SE.lat\n    selon = SE.lon\n</code></pre>\n\n<p>I want to create four columns in a data frame that will make columns for 'nwlat','nwlon',  'selat', 'selon'.</p>\n\n<p>Normally I would simply return nwlat and then create a lambda </p>\n\n<pre><code>df['NWLong'] = df.apply(lambda row: getData(row['a'], key), axis = 1)\n</code></pre>\n\n<p>Then I would do this for each case of the other 3 variables I want returned. But then I am running this a total of 4 times instead of just once. </p>\n"}, {"tags": ["python", "textblob"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 10300115, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-x4RARLb-xgo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOuH1xAjJfOtF1zp42UWTuazKRhYw/mo/photo.jpg?sz=128", "display_name": "Henrik", "link": "https://stackoverflow.com/users/10300115/henrik"}, "is_accepted": false, "score": 0, "last_activity_date": 1553101210, "creation_date": 1553101210, "answer_id": 55266339, "question_id": 54916010, "link": "https://stackoverflow.com/questions/54916010/textblob-loop-over-articles-to-calculate-polarity-subjectivity-scores/55266339#55266339", "title": "TextBlob - Loop over articles to calculate polarity &amp; subjectivity scores", "body": "<p>You should be move the logic into a function, then applying that function to each row of the DataFrame using <code>pd.Series.map()</code>. Using <code>.map()</code> or <code>.apply()</code> is much faster and cleaner than looping through manually. </p>\n\n<pre><code>import pandas as pd\nfrom textblob import TextBlob\n\npath_to_file = \"C:/Users/Parvesh/Desktop/New Project/Sentiment Analysis/events.csv\"\ndf = pd.read_csv(path_to_file, encoding='latin-1')\ndf.head()\n\n# function to extract polarity and subjectivity from text\ndef process_text(text):\n    blob = TextBlob(text)\n    return blob.sentiemnt.polarity, blob.sentiment.subjectivity\n\n# apply to each row of the 'articles' Series using the pd.Series.map method\ndf[\"polarity\"], df[\"sentiment\"] = zip(*df.articles.map(process_text))\n\ndf.head()\n\ndf.to_csv(\"out.csv\", index=False)\n</code></pre>\n\n<p>Disclaimer: <em>I haven't tested this.</em> </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11127817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7861abf9bfea663b1c925065722f2ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Parvesh", "link": "https://stackoverflow.com/users/11127817/parvesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1553294872, "creation_date": 1553294872, "answer_id": 55308755, "question_id": 54916010, "link": "https://stackoverflow.com/questions/54916010/textblob-loop-over-articles-to-calculate-polarity-subjectivity-scores/55308755#55308755", "title": "TextBlob - Loop over articles to calculate polarity &amp; subjectivity scores", "body": "<p>Thanks for reaching out.</p>\n\n<p>I actually got the code working a while back.</p>\n\n<p>This is how it looks:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom textblob import TextBlob\n\npath_to_file = \"C:/Users/Parvesh/Desktop/New Project/Sentiment Analysis/events.csv\"\ndf = pd.read_csv(path_to_file, encoding='latin-1')\ndf.head()\n\ndf['Polarity'] = np.nan\ndf['Subjectivity'] = np.nan\n\npd.options.mode.chained_assignment = None\n\nfor idx, articles in enumerate(df['articles'].values):  # for each row in our df dataFrame\n        ***if articles:***\n            sentA = TextBlob(articles) # pass the text only article to TextBlob to analyse\n            df['Polarity'].iloc[idx] = sentA.sentiment.polarity # write sentiment polarity back to df\n            df['Subjectivity'].iloc[idx] = sentA.sentiment.subjectivity # write sentiment subjectivity score back to df\n\ndf.head()\n\ndf.to_csv(\"Sentiment_Scores.csv\", index=False)\n</code></pre>\n\n<p>So I was basically missing the <strong><em>if articles</em></strong> bit which would eventually loop through each article to retrieve the scores.</p>\n\n<p>I highly appreciate you reaching out to my query though.</p>\n\n<p>Thanks a lot!</p>\n\n<p>Regards\nParvesh</p>\n"}], "owner": {"reputation": 11, "user_id": 11127817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7861abf9bfea663b1c925065722f2ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Parvesh", "link": "https://stackoverflow.com/users/11127817/parvesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1553294872, "creation_date": 1551309361, "question_id": 54916010, "link": "https://stackoverflow.com/questions/54916010/textblob-loop-over-articles-to-calculate-polarity-subjectivity-scores", "title": "TextBlob - Loop over articles to calculate polarity &amp; subjectivity scores", "body": "<p>I was looking into TextBlob to calculate sentiment scores (polarity, subjectivity) for a list of articles on an excel sheet I've compiled.</p>\n\n<p>Below is an example of the sheet:</p>\n\n<blockquote>\n  <p>11/03/2004 04:03 At least 60 people were killed in three bomb attacks\n  on crowded Madrid trains in Spain's worst-ever terrorist attack, said\n  Efe newswire and other media. Red Cross said at least 200 people were\n  injured. ``This is a massacre,'' said Socialist party leader Jose Luis\n  Rodriguez Zapatero, who blamed Basque terrorist group ETA.</p>\n  \n  <p>07/07/2005 04:41 London closed its subway system and evacuated all\n  stations after emergency services were called to explosions in and\n  around the financial district.</p>\n  \n  <p>01/12/2009 04:00 American International Group, Inc. (AIG) today\n  announced that it has closed two previously announced transactions\n  with the Federal Reserve Bank of New York (FRBNY) that have reduced\n  the debt AIG owes the FRBNY by $25 billion in exchange for the FRBNY\u2019s\n  acquisition of preferred equity interests in certain newly formed\n  subsidiaries.</p>\n  \n  <p>22/08/2013 11:38 NASDAQ shuts down for 3 hours due to a computer\n  problem</p>\n</blockquote>\n\n<p>I've been able to use textblob the most simples way by doing each line individually as so:</p>\n\n<pre><code>analysis = TextBlob(\"NASDAQ shuts down for 3 hours due to a computer problem\")\nprint(analysis.sentiment)\n</code></pre>\n\n<p>What I'd like import my excel file containing date &amp; time and the articles in two columns and move on to loop over each row to calculate polarity and subjectivity scores and save it in the file.</p>\n\n<p>I've tried modifying a code on Thomson Reuters News Analytics this way:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom textblob import TextBlob\n\npath_to_file = \"C:/Users/Parvesh/Desktop/New Project/Sentiment Analysis/events.csv\"\ndf = pd.read_csv(path_to_file, encoding='latin-1')\ndf.head()\n\ndf['Polarity'] = np.nan\ndf['Subjectivity'] = np.nan\n\npd.options.mode.chained_assignment = None\n\nfor idx, articles in enumerate(df['articles'].values):  # for each row in our df dataframe\n    sentA = TextBlob(\"articles\")  # pass the text only article to TextBlob to analyze\n    df['Polarity'].iloc[idx] = sentA.sentiment.polarity  # write sentiment polarity back to df\n    df['Subjectivity'].iloc[idx] = sentA.sentiment.subjectivity  # write sentiment subjectivity score back to df\ndf.head()\n\ndf.to_csv(\"out.csv\", index=False)\n</code></pre>\n\n<p>The code is not working though...I'm not getting any scores.</p>\n\n<p>Any advice on how I can this done?</p>\n\n<p>I am a complete newbie to Python (I am using Pycharm). I code mostly on Stata and Matlab.</p>\n\n<p>Please help!</p>\n"}, {"tags": ["python", "r", "rpy2"], "comments": [{"owner": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1551316074, "post_id": 54915954, "comment_id": 96599805, "body": "Any sensible interface would give you some sort of list-like structure indexed by the same names as you would find in R. Doesn&#39;t python have an analogous  function to R&#39;s <code>str</code>. It must. Search. <a href=\"https://stackoverflow.com/questions/27637281/what-are-python-pandas-equivalents-for-r-functions-like-str-summary-and-he\" title=\"what are python pandas equivalents for r functions like str summary and he\">stackoverflow.com/questions/27637281/&hellip;</a>"}, {"owner": {"reputation": 633, "user_id": 10833049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dacc6f85be92ae0af9395f282bd769?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas H", "link": "https://stackoverflow.com/users/10833049/lucas-h"}, "reply_to_user": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1551319355, "post_id": 54915954, "comment_id": 96600498, "body": "Sure. I was able to (with the above situation) pull the coefficients for instance with: <code>rpy2.robjects.pandas2ri.ri2py(test.rx2(&#39;coefficients&#39;))</code>, but that still doesn&#39;t answer what has happened to <code>df</code> in <code>test</code> and it also belies how clunky this solution is for what should be a basic functionality of <code>rpy2</code>"}, {"owner": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1551327417, "post_id": 54915954, "comment_id": 96602275, "body": "I don&#39;t understand. You seem to be accessing R functionality via an interface which would be expected to return only the value of <code>out</code>, at least if I understand typical functional programming. Were you expecting all of the R environment to be returned to python? I suppose that&#39;s possible, but it&#39;s not what I would expect as an experienced R user. Can you point to documentation that suggests all objects in the R environment should be available after the return of control to python?"}, {"owner": {"reputation": 633, "user_id": 10833049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dacc6f85be92ae0af9395f282bd769?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas H", "link": "https://stackoverflow.com/users/10833049/lucas-h"}, "reply_to_user": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1551364404, "post_id": 54915954, "comment_id": 96620578, "body": "I suppose I just think it is odd that that script does not return the entire environment because I didn&#39;t make a particular function call. Theoretically <code>df</code> is just as valid as <code>out</code> to be accessed through <code>test</code>. The only difference is the order in which they were called. I&#39;m writing on here because the documentation here is not very good..."}, {"owner": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 1, "creation_date": 1551378933, "post_id": 54915954, "comment_id": 96628730, "body": "Even following a multi-line expression outside a function, R only returns the result of the last evaluation. The way to return multiple objects would be to wrap <code>list(.)</code> around them, just as that is the way when using functions."}, {"owner": {"reputation": 633, "user_id": 10833049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dacc6f85be92ae0af9395f282bd769?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas H", "link": "https://stackoverflow.com/users/10833049/lucas-h"}, "reply_to_user": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1551654996, "post_id": 54915954, "comment_id": 96708586, "body": "So that\u2019s really what\u2019s going on, the function is grabbing whatever is last in working memory, not the whole environment."}], "answers": [{"tags": [], "owner": {"reputation": 10985, "user_id": 2177413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46a9aa1e9d825b6af32f4cb2b1b341fc?s=128&d=identicon&r=PG", "display_name": "swatchai", "link": "https://stackoverflow.com/users/2177413/swatchai"}, "is_accepted": true, "score": 0, "last_activity_date": 1556202388, "creation_date": 1556202388, "answer_id": 55851664, "question_id": 54915954, "link": "https://stackoverflow.com/questions/54915954/how-to-return-multiple-objects-from-r-script-executed-in-python/55851664#55851664", "title": "How to return multiple objects from R script executed in Python", "body": "<p>Q.1: How do I pull the various elements from the result?</p>\n\n<p>Ans.1: After you run your R script:</p>\n\n<pre><code>test = ro.r(your_R_script)\n</code></pre>\n\n<p>You can use this code to print out all the <code>names</code> and <code>values</code> in the <code>test</code> object.</p>\n\n<pre><code># iterate on names and values\n# be careful output is v long\nfor n,v in test.items():\n    print(n)\n    print(v)\n</code></pre>\n\n<p>To list all available <code>names</code>, run this code:</p>\n\n<pre><code>test.names\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>StrVector with 12 elements.\n'coeffici... 'residuals' 'effects' 'rank' ... 'xlevels' 'call'  'terms' 'model'\n</code></pre>\n\n<p>To print values of the 'residuals', run this:</p>\n\n<pre><code>test[test.names.index('residuals')]\n</code></pre>\n\n<p>Q.2: What happens to df?</p>\n\n<p>Ans.2: It is still available in R environment until you delete it. You can run simple R code to check:</p>\n\n<pre><code>ro.r('''\n        # View dataframe\n        df\n        ''')\n</code></pre>\n\n<p>Q.3: Is there a much much better way to do this?</p>\n\n<p>Ans.3: (No answer.)</p>\n"}], "owner": {"reputation": 633, "user_id": 10833049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dacc6f85be92ae0af9395f282bd769?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas H", "link": "https://stackoverflow.com/users/10833049/lucas-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 55851664, "answer_count": 1, "score": 0, "last_activity_date": 1556202388, "creation_date": 1551308999, "question_id": 54915954, "link": "https://stackoverflow.com/questions/54915954/how-to-return-multiple-objects-from-r-script-executed-in-python", "title": "How to return multiple objects from R script executed in Python", "body": "<p>So I am struggling to use the <code>rpy2</code> package to integrate some workflow between R and Python.</p>\n\n<p>For example, imagine I'm trying to run a Python script that does a linear regression in R and I want to return all of the elements of that (in reality I'm trying to do something much more complicated than this).</p>\n\n<p>I execute the following in Python (calling R; This assumes you have <code>rpy2</code> installed):</p>\n\n<pre><code>import rpy2.robjects as ro\ntest = ro.r('''\n            # Load in data\n            df &lt;- mtcars\n            # Run regression\n            out = lm(formula='mpg ~ cyl + hp + wt',data=df)\n            ''')\n</code></pre>\n\n<p>And now what? I have a questions:</p>\n\n<ol>\n<li><p>How do I pull the various elements from the result? In R they would be <code>out$coefficients</code> and <code>out$residuals</code>, etc. I know there is documentation for this, but I'm a bit lost. Ideally, I would want the elements in useful formats, so pandas dataframes or indexed lists, etc.</p></li>\n<li><p>What happens to <code>df</code>? <code>robjects.r()</code> seems to just save whatever the last thing you gave and throw away everything else. I suppose I can work with this, but it's not ideal.</p></li>\n<li><p>Related to 2: Is there a much much better way to do this? In general if someone could put forward a \"best practice\" for this sort of thing, that would be helpful, since I'm sure that there are many people interested in using Python, but occasionally have a very custom function they need to call using R but they don't want to get to fancy with the integration. Perhaps a way to call an R function using Pythonic input arguments would be great.</p></li>\n</ol>\n"}, {"tags": ["python", "pandas", "boolean-expression"], "answers": [{"comments": [{"owner": {"reputation": 3775, "user_id": 1711271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/593c2d4f4372384ae06efe0d991fa184?s=128&d=identicon&r=PG", "display_name": "DeltaIV", "link": "https://stackoverflow.com/users/1711271/deltaiv"}, "edited": false, "score": 0, "creation_date": 1551310053, "post_id": 54915988, "comment_id": 96598386, "body": "can you explain why it works? If  <code>df.loc[df[&quot;a&quot;]==0, &quot;c&quot;]</code> returns the array <code>(2, 7)</code>, then I would expect <code>7</code> to be the <i>second</i> element of the array, not the first. Is this because <code>df.loc[df[&quot;a&quot;]==0, &quot;c&quot;]</code> doesn&#39;t return an array, but a Series, thus <code>.iat[0]</code> simply selects the first element of the Series?"}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 2, "last_activity_date": 1551309208, "creation_date": 1551309208, "answer_id": 54915988, "question_id": 54915946, "link": "https://stackoverflow.com/questions/54915946/select-a-dataframe-using-boolean-selection-and-then-extract-the-value-correspon/54915988#54915988", "title": "Select a dataframe using boolean selection, and then extract the value corresponding to a certain column", "body": "<p>You can't do this in one shot:</p>\n\n<pre><code>In [11]: df.loc[df[\"a\"]==0, \"c\"]\nOut[11]:\n2    7\nName: c, dtype: int64\n\nIn [12]: df.loc[df[\"a\"]==0, \"c\"].iat[0]\nOut[12]: 7\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3775, "user_id": 1711271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/593c2d4f4372384ae06efe0d991fa184?s=128&d=identicon&r=PG", "display_name": "DeltaIV", "link": "https://stackoverflow.com/users/1711271/deltaiv"}, "edited": false, "score": 0, "creation_date": 1551310201, "post_id": 54916064, "comment_id": 96598431, "body": "?? I don&#39;t understand, what did you do? Doesn&#39;t <code>.iat</code> accept only integer (not boolean) indices?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3775, "user_id": 1711271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/593c2d4f4372384ae06efe0d991fa184?s=128&d=identicon&r=PG", "display_name": "DeltaIV", "link": "https://stackoverflow.com/users/1711271/deltaiv"}, "edited": false, "score": 0, "creation_date": 1551310373, "post_id": 54916064, "comment_id": 96598474, "body": "@DeltaIV check what nonzero did <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.nonzero.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/reference/api/&hellip;</a>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1551309776, "creation_date": 1551309776, "answer_id": 54916064, "question_id": 54915946, "link": "https://stackoverflow.com/questions/54915946/select-a-dataframe-using-boolean-selection-and-then-extract-the-value-correspon/54916064#54916064", "title": "Select a dataframe using boolean selection, and then extract the value corresponding to a certain column", "body": "<p>Using <code>nonzero</code> with <code>iat</code> </p>\n\n<pre><code>df.iat[(df.a==0).nonzero()[0][0],2]\nOut[114]: 7\n</code></pre>\n"}], "owner": {"reputation": 3775, "user_id": 1711271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/593c2d4f4372384ae06efe0d991fa184?s=128&d=identicon&r=PG", "display_name": "DeltaIV", "link": "https://stackoverflow.com/users/1711271/deltaiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 54915988, "answer_count": 2, "score": 1, "last_activity_date": 1551309776, "creation_date": 1551308943, "question_id": 54915946, "link": "https://stackoverflow.com/questions/54915946/select-a-dataframe-using-boolean-selection-and-then-extract-the-value-correspon", "title": "Select a dataframe using boolean selection, and then extract the value corresponding to a certain column", "body": "<p>Example dataframe:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'a': [-3, -2, 0], 'b': [-2, 2, 5], 'c': [-1, 0, 7], 'd': [1, 4, 8]})\n</code></pre>\n\n<p>I'm trying to do something which I would expect to be fairly simple, and which is indeed immediate in other languages supporting the dataframe class, such as R. I just want to extract a single value from <code>df</code>, with the only caveat that I select the row with a boolean expression (say, `\"a\"==0), instead than by using a label. The column instead is selected by label, as usual. For example, this works, but it seems unnecessarily wasteful:</p>\n\n<pre><code>df[\"c\"][df[\"a\"]==0][1] \n</code></pre>\n\n<p>Rather than directly extracting a value from a dataframe, this instruction 1) extracts a Pandas Series, 2) selects a row in the series and 3) selects the second element of the array returned by the row selection! (the first element is the index). Not only does it seem needlessly complicated, but I'm worried it could also be slow for very large dataframes.</p>\n\n<p>I tried other solutions using <code>.at</code> or <code>.iat</code> but nothing seems to work. Isn't there a simpler/smarter way to do this?</p>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1551309958, "post_id": 54915915, "comment_id": 96598360, "body": "Will it have like numeric1 = 1 NaN 1 NaN 2 NaN NaN ?"}, {"owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1551310157, "post_id": 54915915, "comment_id": 96598419, "body": "Can you elaborate?"}], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 2, "creation_date": 1551310072, "post_id": 54916081, "comment_id": 96598391, "body": "transform(&#39;first&#39;)"}, {"owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "edited": false, "score": 0, "creation_date": 1551310119, "post_id": 54916081, "comment_id": 96598406, "body": "Can you adjust your answer to work on all columns that contain the string <code>numeric</code> in them?"}, {"owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "edited": false, "score": 0, "creation_date": 1551311323, "post_id": 54916081, "comment_id": 96598708, "body": "I will accept the answer because it is definitely what I had included in the question. However, I updated the example where I included one more column. I will appreciate if you can have a look."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "edited": false, "score": 0, "creation_date": 1551311503, "post_id": 54916081, "comment_id": 96598750, "body": "@gorjan looks like the for loop should work there too, but please ask another question if there&#39;s something different :)"}, {"owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "edited": false, "score": 0, "creation_date": 1551311609, "post_id": 54916081, "comment_id": 96598773, "body": "Well everything is the same. The only addition being that if there is a <code>NaN</code> value at the start of a column, the value should be 0."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "edited": false, "score": 0, "creation_date": 1551312752, "post_id": 54916081, "comment_id": 96599048, "body": "@gorjan I am getting 0 when I run my code, so not sure I understand the issue"}, {"owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "edited": false, "score": 0, "creation_date": 1551312783, "post_id": 54916081, "comment_id": 96599059, "body": "I have updated your answer. I wanted the time difference for each column, to be applied per <code>id</code>."}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 3, "last_activity_date": 1551310586, "last_edit_date": 1551310586, "creation_date": 1551309964, "answer_id": 54916081, "question_id": 54915915, "link": "https://stackoverflow.com/questions/54915915/pandas-last-time-when-a-column-had-a-non-nan-value/54916081#54916081", "title": "Pandas: Last time when a column had a non-nan value", "body": "<p>You can groupby the cumsum of the non null and then subtract the first date:</p>\n\n<pre><code>In [11]: df.numeric1.notnull().cumsum()\nOut[11]:\n0    1\n1    1\n2    1\n3    2\n4    2\nName: numeric1, dtype: int64\n\nIn [12]: df.groupby(df.numeric1.notnull().cumsum()).date.transform(lambda x: x.iloc[0])\nOut[12]:\n0   2005-06-22\n1   2005-06-22\n2   2005-06-22\n3   2009-05-12\n4   2009-05-12\nName: date, dtype: datetime64[ns]\n\nIn [13]: df.date - df.groupby(df.numeric1.notnull().cumsum()).date.transform(lambda x: x.iloc[0])\nOut[13]:\n0      0 days\n1    234 days\n2   1179 days\n3      0 days\n4    362 days\nName: date, dtype: timedelta64[ns]\n</code></pre>\n\n<hr>\n\n<p>For multiple columns:</p>\n\n<pre><code>ncols = [col for col in df.columns if col.startswith(\"numeric\")]\n\nfor c in ncols:\n    df[c + \"_delta\"] = df.date - df.groupby(df[c].notnull().cumsum()).date.transform('first')\n</code></pre>\n"}], "owner": {"reputation": 4403, "user_id": 3987085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iORQY.jpg?s=128&g=1", "display_name": "gorjan", "link": "https://stackoverflow.com/users/3987085/gorjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 1, "accepted_answer_id": 54916081, "answer_count": 1, "score": 2, "last_activity_date": 1551312654, "creation_date": 1551308762, "last_edit_date": 1551312654, "question_id": 54915915, "link": "https://stackoverflow.com/questions/54915915/pandas-last-time-when-a-column-had-a-non-nan-value", "title": "Pandas: Last time when a column had a non-nan value", "body": "<p>Let's assume that I have the following data-frame:</p>\n\n<pre><code>df = pd.DataFrame({\"id\": [1, 1, 1, 2, 2], \"nominal\": [1, np.nan, 1, 1, np.nan], \"numeric1\": [3, np.nan, np.nan, 7, np.nan], \"numeric2\": [2, 3, np.nan, 2, np.nan], \"numeric3\": [np.nan, 2, np.nan, np.nan, 3], \"date\":[pd.Timestamp(2005, 6, 22), pd.Timestamp(2006, 2, 11), pd.Timestamp(2008, 9, 13), pd.Timestamp(2009, 5, 12), pd.Timestamp(2010, 5, 9)]})\n</code></pre>\n\n<p>As output, I want to get a data-frame, that will indicate the number of days that have passed since a non-nan value was seen for that column, for that <code>id</code>. If a column has a value for the corresponding date, or if a column doesn't have a value at the start for an new <code>id</code>, the value should be a 0. In addition, this is supposed to be computed only for the numeric columns. With that said, the output data-frame should be:</p>\n\n<pre><code>output_df = pd.DataFrame({\"numeric1_delta\": [0, 234, 1179, 0, 362], \"numeric2_delta\": [0, 0, 945, 0, 362], \"numeric3_delta\": [0, 0, 945, 0, 0]})\n</code></pre>\n\n<p>Looking forward to your answers!</p>\n"}, {"tags": ["python", "jupyter-notebook", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 728148, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a8b1aef0a23efc380436801e5f56fdf0?s=128&d=identicon&r=PG", "display_name": "user728148", "link": "https://stackoverflow.com/users/728148/user728148"}, "edited": false, "score": 0, "creation_date": 1551318442, "post_id": 54916292, "comment_id": 96600320, "body": "Thank you so much. This is very helpful."}], "tags": [], "owner": {"reputation": 1410, "user_id": 9900084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97739535a689b72a0ff9a37db1a1e8df?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/9900084/steven"}, "is_accepted": true, "score": 1, "last_activity_date": 1551319762, "last_edit_date": 1551319762, "creation_date": 1551311277, "answer_id": 54916292, "question_id": 54915913, "link": "https://stackoverflow.com/questions/54915913/seaborn-chart-converging-on-same-point-not-visible/54916292#54916292", "title": "Seaborn chart converging on same point not visible", "body": "<p>You plot looks legitimate. Two lines perfectly overlap since the data from 2016 to 2018 is exactly the same. I think maybe you can try to plot the two lines separately and add or subtract some small value to one of them to move the line a little bit. For example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\ndf = pd.DataFrame({'FY': [2012, 2013, 2014, 2015, 2016, 2017, 2018],\n                   'VOL_PCT': [0, 0.08, 0.07, 0.06, 0, 0, 0.06],\n                   'INVOL_PC': [0, 0, 0, 0, 0, 0, 0.06]})\n# plot\nfig, ax = plt.subplots()\nsns.lineplot(df.FY, df.VOL_PCT)\nsns.lineplot(df.FY+.01, df.INVOL_PC-.001)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qMfOM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qMfOM.png\" alt=\"enter image description here\"></a></p>\n\n<p>In addition, given the type of your data, you could also consider using stack plots. For example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>fig, ax = plt.subplots()\nlabels = ['VOL_PCT', 'INVOL_PC']\nax.stackplot(df.FY, df.VOL_PCT, df.INVOL_PC, labels=labels)\nax.legend(loc='upper left');\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uFo1k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uFo1k.png\" alt=\"enter image description here\"></a></p>\n\n<p>Ref. <a href=\"https://matplotlib.org/gallery/lines_bars_and_markers/stackplot_demo.html\" rel=\"nofollow noreferrer\">Stackplot</a></p>\n"}], "owner": {"reputation": 139, "user_id": 728148, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a8b1aef0a23efc380436801e5f56fdf0?s=128&d=identicon&r=PG", "display_name": "user728148", "link": "https://stackoverflow.com/users/728148/user728148"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 54916292, "answer_count": 1, "score": 1, "last_activity_date": 1551319762, "creation_date": 1551308746, "question_id": 54915913, "link": "https://stackoverflow.com/questions/54915913/seaborn-chart-converging-on-same-point-not-visible", "title": "Seaborn chart converging on same point not visible", "body": "<p>I have a dataframe having two columns- VOL, INVOL and for a particular year, the value are the same. Hence, while plotting in seaborn, I am not able to see the value of the other column when they converge.</p>\n\n<p>For example:\nMy dataframe is</p>\n\n<p><a href=\"https://i.stack.imgur.com/LCUFR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LCUFR.png\" alt=\"Dataframe\"></a></p>\n\n<p>When I use seaborn, using the below code</p>\n\n<pre><code>f5_test = df5_test.melt('FY', var_name='cols',  value_name='vals')\n\ng = sns.catplot(x=\"FY\", y=\"vals\", hue='cols', data=df5_test, kind='point')\n</code></pre>\n\n<p>the chart is not showing the same point of 0.06. </p>\n\n<p>I tried using pandas plotting, having the same result.<a href=\"https://i.stack.imgur.com/BQr3B.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQr3B.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Please advise what I should do. Thanks in advance.</p>\n"}, {"tags": ["python", "unity3d", "websocket", "ros", "hololens"], "answers": [{"tags": [], "owner": {"reputation": 4154, "user_id": 224734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pu8AA.jpg?s=128&g=1", "display_name": "frankhermes", "link": "https://stackoverflow.com/users/224734/frankhermes"}, "is_accepted": true, "score": 3, "last_activity_date": 1551344353, "creation_date": 1551344353, "answer_id": 54921786, "question_id": 54915898, "link": "https://stackoverflow.com/questions/54915898/how-do-i-incorporate-a-websocket-connection-between-cozmo-robot-and-a-hololens/54921786#54921786", "title": "How do I incorporate a websocket connection between cozmo robot and a hololens?", "body": "<p>Check out <a href=\"https://assetstore.unity.com/packages/essentials/tutorial-projects/simple-web-sockets-for-unity-webgl-38367\" rel=\"nofollow noreferrer\">https://assetstore.unity.com/packages/essentials/tutorial-projects/simple-web-sockets-for-unity-webgl-38367</a>. </p>\n\n<p>Even though it says \"for WebGL\" on the package title, I used it in an Android app connecting to a Python WebSockets server, and used the same code in a Windows executable.<br>\nShould work on Hololens too.</p>\n"}], "owner": {"reputation": 45, "user_id": 10842510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd90213fdd8d4ded6e8da31dbefc5b1?s=128&d=identicon&r=PG&f=1", "display_name": "M. Guerrero", "link": "https://stackoverflow.com/users/10842510/m-guerrero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 54921786, "answer_count": 1, "score": 2, "last_activity_date": 1551344353, "creation_date": 1551308653, "last_edit_date": 1551338614, "question_id": 54915898, "link": "https://stackoverflow.com/questions/54915898/how-do-i-incorporate-a-websocket-connection-between-cozmo-robot-and-a-hololens", "title": "How do I incorporate a websocket connection between cozmo robot and a hololens?", "body": "<p>I'm using ROS Python library with <a href=\"https://www.anki.com/en-us/cozmo\" rel=\"nofollow noreferrer\">cozmo</a> and I want to use the information that I get from back from him to interact with him in AR using a Hololens. From what I know I need to establish a connection using websocket with <a href=\"https://www.anki.com/en-us/cozmo\" rel=\"nofollow noreferrer\">cozmo</a> and the hololens. I don't know how to incorporate WebSocket with Unity.</p>\n\n<p>If anyone knows of any resources I would appreciate it.</p>\n\n<p>Thank you </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1551308680, "post_id": 54915861, "comment_id": 96597990, "body": "The path to the file is <code>&#39;C:\\\\New folder\\\\&#39; + filename</code>. You can pass that to <code>unlink</code>, not just the filename."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11087555"}, "edited": false, "score": 0, "creation_date": 1551308835, "post_id": 54915861, "comment_id": 96598042, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/185936/how-to-delete-the-contents-of-a-folder-in-python\">How to delete the contents of a folder in Python?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3518, "user_id": 4959547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIjar.png?s=128&g=1", "display_name": "molamk", "link": "https://stackoverflow.com/users/4959547/molamk"}, "is_accepted": true, "score": 1, "last_activity_date": 1551798343, "last_edit_date": 1551798343, "creation_date": 1551308756, "answer_id": 54915914, "question_id": 54915861, "link": "https://stackoverflow.com/questions/54915861/how-can-i-delete-multiple-files-using-a-python-script/54915914#54915914", "title": "How can I delete multiple files using a Python script?", "body": "<p><a href=\"https://docs.python.org/2.7/library/os.html#os.unlink\" rel=\"nofollow noreferrer\"><code>os.unlink</code></a> takes the <strong>path</strong> to the file, not only its <code>filename</code>. Try <strong>pre-pending</strong> your <code>filename</code> with the <code>dirname</code>. Like this</p>\n\n<pre><code>import os\n\ndirname = 'C:\\\\New folder\\\\'\n\nfor filename in os.listdir(dirname):\n    if filename.endswith(\".rdp\"):\n\n        # Add your \"dirname\" to the file path\n        os.unlink(dirname + filename)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "is_accepted": false, "score": 1, "last_activity_date": 1551309653, "creation_date": 1551309653, "answer_id": 54916041, "question_id": 54915861, "link": "https://stackoverflow.com/questions/54915861/how-can-i-delete-multiple-files-using-a-python-script/54916041#54916041", "title": "How can I delete multiple files using a Python script?", "body": "<p>You could alternatively use os.walk, however it might go deeper than you want:</p>\n\n<pre><code>import os\n\nfor root, sub, file in os.walk(\"/media/\"):\n    if file.endswith(\".rdp\"):\n        os.unlink(f'{root}/{file}')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10660670"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 54915914, "answer_count": 2, "score": 1, "last_activity_date": 1551798343, "creation_date": 1551308420, "question_id": 54915861, "link": "https://stackoverflow.com/questions/54915861/how-can-i-delete-multiple-files-using-a-python-script", "title": "How can I delete multiple files using a Python script?", "body": "<p>I am playing around with some python scripts and I ran into a problem with the script I'm writing. It's supposed to find all the files in a folder that meets the criteria and then delete it. However, it finds the files, but at the time of deleting the file, it says that the file is not found.</p>\n\n<p>This is my code:</p>\n\n<pre><code>import os\nfor filename in os.listdir('C:\\\\New folder\\\\'):\n    if filename.endswith(\".rdp\"):\n        os.unlink(filename)\n</code></pre>\n\n<p>And this is the error I get after running it:</p>\n\n<p>FileNotFoundError: [WinError 2] The system cannot find the file specified:</p>\n\n<p>Can somebody assist with this?</p>\n"}, {"tags": ["python", "string", "loops", "nlp", "iteration"], "answers": [{"tags": [], "owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "is_accepted": true, "score": 1, "last_activity_date": 1551309005, "last_edit_date": 1551309005, "creation_date": 1551308647, "answer_id": 54915896, "question_id": 54915855, "link": "https://stackoverflow.com/questions/54915855/typeerror-generator-object-is-not-callable-when-trying-to-iterate-over-strin/54915896#54915896", "title": "TypeError: &#39;generator&#39; object is not callable. When trying to iterate over string data", "body": "<p>Your execution of map function seems a bit wrong. According to docs it should be:</p>\n\n<pre><code>map(callable, iterable)\n</code></pre>\n\n<p>But instead of callable, you are passing a generator expression:</p>\n\n<pre><code>(t.lower().strip()) for t in text)\n</code></pre>\n\n<p>as a result of list comprehension. Map takes function (a callable) as a first argument. So, you may use:</p>\n\n<pre><code>def preprocess_text(text):\nedit_text = ''.join(map(lambda t: t.lower().strip(), text))\nreturn edit_text\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 772, "user_id": 5941778, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/71db03dc71a827b53bc696cb2f4d1536?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak M", "link": "https://stackoverflow.com/users/5941778/deepak-m"}, "edited": false, "score": 0, "creation_date": 1551308916, "post_id": 54915908, "comment_id": 96598077, "body": "thanks! it works! Just curious is there any way to do it without involving map? If so please share. Thanks!  @JosepJoestar"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551309126, "post_id": 54915908, "comment_id": 96598142, "body": "Perhaps <code>&#39;&#39;.join(x).lower().strip().replace(&#39; &#39;, &#39;&#39;)</code> - without iterating."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 1, "creation_date": 1551309306, "post_id": 54915908, "comment_id": 96598178, "body": "Or <code>&#39;&#39;.join([item.lower().strip() for item in x])</code> - using list  comprehension."}, {"owner": {"reputation": 1457, "user_id": 6276241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f64f62cb877130d0f4e0b036c2cdfd12?s=128&d=identicon&r=PG", "display_name": "jdecid", "link": "https://stackoverflow.com/users/6276241/jdecid"}, "edited": false, "score": 0, "creation_date": 1551309436, "post_id": 54915908, "comment_id": 96598214, "body": "You could also not use join neither map, and use the reduce from functools: <code>reduce(lambda acc, x: acc + x.lower().strip(), text, &#39;&#39;)</code>"}, {"owner": {"reputation": 772, "user_id": 5941778, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/71db03dc71a827b53bc696cb2f4d1536?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak M", "link": "https://stackoverflow.com/users/5941778/deepak-m"}, "reply_to_user": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551309605, "post_id": 54915908, "comment_id": 96598264, "body": "@needtobe Thanks! but will I be able to pass it in data structure with text data? Or just lists? Because my data is a list."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551309607, "post_id": 54915908, "comment_id": 96598266, "body": "@JosepJoestar Don&#39;t you think it&#39;s a bit an overkill (<i>Simple is better than complex</i>), but indeed a clever one."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 772, "user_id": 5941778, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/71db03dc71a827b53bc696cb2f4d1536?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak M", "link": "https://stackoverflow.com/users/5941778/deepak-m"}, "edited": false, "score": 1, "creation_date": 1551309658, "post_id": 54915908, "comment_id": 96598281, "body": "@DeepakM Yes, you can pass only a list there - <code>x</code> variable. Please specify your <code>data strucure</code>."}, {"owner": {"reputation": 772, "user_id": 5941778, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/71db03dc71a827b53bc696cb2f4d1536?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak M", "link": "https://stackoverflow.com/users/5941778/deepak-m"}, "reply_to_user": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551309806, "post_id": 54915908, "comment_id": 96598319, "body": "@needtobe Ahh I see.. Finally, what if I did not know my data structure and wanted to process the text. What if I just passed in a string what can I do for that?"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551309911, "post_id": 54915908, "comment_id": 96598347, "body": "Maybe write functions to process each type? First of all check input variable type like: <code>isinstance(text, str)</code> and do some string processing. Simililar with lists <code>isinstance(text, list)</code> and some list processing."}, {"owner": {"reputation": 772, "user_id": 5941778, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/71db03dc71a827b53bc696cb2f4d1536?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak M", "link": "https://stackoverflow.com/users/5941778/deepak-m"}, "reply_to_user": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551310126, "post_id": 54915908, "comment_id": 96598411, "body": "Yes true I could do that. Actually, sorry what I meant to ask was what if I want to iterate while counting over each text in the string data. Using a counter. Can that be done similarly to the solution above? @needtobe"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551310301, "post_id": 54915908, "comment_id": 96598458, "body": "&quot;Using a Counter&quot; - do you mean <code>collections.Counter</code>?"}, {"owner": {"reputation": 772, "user_id": 5941778, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/71db03dc71a827b53bc696cb2f4d1536?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak M", "link": "https://stackoverflow.com/users/5941778/deepak-m"}, "reply_to_user": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551312723, "post_id": 54915908, "comment_id": 96599037, "body": "yes , was trying to do something like this : <code>(x.lower() for x in text[counter+=1])</code> in a one liner without using collections in this case. @needtobe"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 772, "user_id": 5941778, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/71db03dc71a827b53bc696cb2f4d1536?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak M", "link": "https://stackoverflow.com/users/5941778/deepak-m"}, "edited": false, "score": 0, "creation_date": 1551312856, "post_id": 54915908, "comment_id": 96599076, "body": "@DeepakM I don&#39;t thing this is necessary. If you need an index of current iterated object, you may look for <code>enumerate</code> function."}], "tags": [], "owner": {"reputation": 1457, "user_id": 6276241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f64f62cb877130d0f4e0b036c2cdfd12?s=128&d=identicon&r=PG", "display_name": "jdecid", "link": "https://stackoverflow.com/users/6276241/jdecid"}, "is_accepted": false, "score": 2, "last_activity_date": 1551308709, "creation_date": 1551308709, "answer_id": 54915908, "question_id": 54915855, "link": "https://stackoverflow.com/questions/54915855/typeerror-generator-object-is-not-callable-when-trying-to-iterate-over-strin/54915908#54915908", "title": "TypeError: &#39;generator&#39; object is not callable. When trying to iterate over string data", "body": "<p>The error is in your map function, I think you didn't understood how it works properly. It has 2 arguments:</p>\n\n<ul>\n<li><code>function_to_apply</code>: Receives each element of the iterable and returns a value.`</li>\n<li><code>list_of_inputs</code>: List of your data (your text in the example)</li>\n</ul>\n\n<p>Your first argument is not a function, is just a list, so change it by:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>''.join(map(lambda t: t.lower().strip(), text))\n</code></pre>\n\n<p>The parameter t of the annonymous lambda function, corresponds to each piece of text like you would have in <code>for t in text</code>. Hope this example clarified how it works!</p>\n"}], "owner": {"reputation": 772, "user_id": 5941778, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/71db03dc71a827b53bc696cb2f4d1536?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak M", "link": "https://stackoverflow.com/users/5941778/deepak-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1398, "favorite_count": 0, "accepted_answer_id": 54915896, "answer_count": 2, "score": -1, "last_activity_date": 1551319240, "creation_date": 1551308381, "last_edit_date": 1551319240, "question_id": 54915855, "link": "https://stackoverflow.com/questions/54915855/typeerror-generator-object-is-not-callable-when-trying-to-iterate-over-strin", "title": "TypeError: &#39;generator&#39; object is not callable. When trying to iterate over string data", "body": "<p>Good day, </p>\n\n<p>My objective is to create a function take in a text <code>data</code> which is a string, and convert it to lower case letters. I wish to then apply the function later on passing by passing in data.</p>\n\n<p>However, I keep getting this error outputted when I call/apply the function and try to pass the data in it. </p>\n\n<blockquote>\n  <p>TypeError: 'generator' object is not callable</p>\n</blockquote>\n\n<p>I did some further research and I am just curious if the mapping is causing this issue?</p>\n\n<p>Is there any way of accomplishing this to make the function work in the most effective manner. </p>\n\n<p>Here is my code below:</p>\n\n<pre><code>def preprocess_text(text):\n    \"\"\" The function takes a parameter which is a string.\n    The function should then return the processed text\n    \"\"\"  \n    # Iterating over each case in the data and lower casing the text\n    edit_text = ''.join(map(((t.lower().strip()) for t in text), text))\n\n    return edit_text\n</code></pre>\n\n<p>Then to test function to see if it works:</p>\n\n<pre><code># test function by passing in data. \n\"\"\" This is when then the error occurs!\"\"\" \ntext_processed = preprocess_text(data) \n</code></pre>\n\n<p>I would really appreciate the help to know what the issue is and to know the correct way to do this. \nCheers in advance!</p>\n"}, {"tags": ["python", "csv", "join", "merge", "stock"], "comments": [{"owner": {"reputation": 13920, "user_id": 3404097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e38747633941acae3957fd99b5ebe20?s=128&d=identicon&r=PG&f=1", "display_name": "philipxy", "link": "https://stackoverflow.com/users/3404097/philipxy"}, "edited": false, "score": 0, "creation_date": 1551327054, "post_id": 54915847, "comment_id": 96602173, "body": "Please <a href=\"https://meta.stackoverflow.com/q/285551/3404097\">use text, not images/links, for text--including tables &amp; ERDs.</a> Use images only for what cannot be expressed as text or to augment text. Images cannot be searched for or cut &amp; pasted. Please before you post look at the formatted version of your post below the edit box. Please in code questions give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>--cut &amp; paste &amp; runnable code plus desired output plus clear specification &amp; explanation. Please show what relevant queries you can do &amp; explain re the first place you are stuck. Dumps of requirements are not on-topic questions."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8318449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6bb78fbfa762f0ba01a1e85964e5a?s=128&d=identicon&r=PG", "display_name": "Teruko", "link": "https://stackoverflow.com/users/8318449/teruko"}, "edited": false, "score": 0, "creation_date": 1551316283, "post_id": 54916787, "comment_id": 96599851, "body": "Thank you but it&#39;s not working. The error is KeyError: &quot;[&#39;Date&#39; &#39;High&#39;] not in index&quot;"}, {"owner": {"reputation": 81, "user_id": 8061794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003c688693fd3b86e1c56b9bcc47fc1e?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Wagner", "link": "https://stackoverflow.com/users/8061794/austin-wagner"}, "reply_to_user": {"reputation": 1, "user_id": 8318449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6bb78fbfa762f0ba01a1e85964e5a?s=128&d=identicon&r=PG", "display_name": "Teruko", "link": "https://stackoverflow.com/users/8318449/teruko"}, "edited": false, "score": 0, "creation_date": 1551359617, "post_id": 54916787, "comment_id": 96617630, "body": "You need to make sure that that is the name of the column you want (this is case sensitive), you didn&#39;t provide actual data, so I took a guess as to the names of the columns.Look at the dataframes you have created (GOOGL, IBM, etc...)"}], "tags": [], "owner": {"reputation": 81, "user_id": 8061794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003c688693fd3b86e1c56b9bcc47fc1e?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Wagner", "link": "https://stackoverflow.com/users/8061794/austin-wagner"}, "is_accepted": false, "score": 0, "last_activity_date": 1551315413, "creation_date": 1551315413, "answer_id": 54916787, "question_id": 54915847, "link": "https://stackoverflow.com/questions/54915847/merge-csv-files-in-python-only-keep-1-column-of-each-file-and-name-the-columns/54916787#54916787", "title": "Merge CSV files in Python: only keep 1 column of each file and name the columns with original file names", "body": "<p>If they all have the same date range this would work.</p>\n\n<pre><code>MergeList = [[GOOGL,'GOOGL'],[IBM,'IBM'],[KO,'KO'],[MS,'MS'],[NOK,'NOK'],[XOM,'XOM']]\n\nNewList = []\n\nfor df_t,col_name in MergeList:\n    df_t = df_t[['Date','High']]\n    df_t.columns = ['Date',col_name]\n    NewList.append(df_t)\n\nMerge = FDX\n\nfor df_t in NewList:\n    Merge = pd.merge(Merge,df_t,on='Date')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8318449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c6bb78fbfa762f0ba01a1e85964e5a?s=128&d=identicon&r=PG", "display_name": "Teruko", "link": "https://stackoverflow.com/users/8318449/teruko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1551344122, "creation_date": 1551308348, "last_edit_date": 1551344122, "question_id": 54915847, "link": "https://stackoverflow.com/questions/54915847/merge-csv-files-in-python-only-keep-1-column-of-each-file-and-name-the-columns", "title": "Merge CSV files in Python: only keep 1 column of each file and name the columns with original file names", "body": "<p>I have 7 csv files of 7 stocks. Each file shares the same format, of columns and rows.</p>\n\n<p>I have applied different ways to merge these files into 1 dataframe but still don't succeed (loop, using glob, etc). I want to keep the \"Date\" column as the index for the dataframe, and the \"High\" column of each file next to each other. Then the \"High\" columns are renamed based on the stock names.</p>\n\n<pre><code>import pandas as pd\nFDX = pd.read_csv(\"../Data/FDX.csv\")\nGOOGL = pd.read_csv(\"../Data/GOOGL.csv\")\nIBM = pd.read_csv(\"../Data/IBM.csv\")\nKO = pd.read_csv(\"../Data/KO.csv\")\nMS = pd.read_csv(\"../Data/MS.csv\")\nNOK = pd.read_csv(\"../Data/NOK.csv\")\nXOM = pd.read_csv(\"../Data/XOM.csv\")\n\nstocks = pd.DataFrame({\"FDX\": FDX[\"High\"],\n                       \"GOOGL\": GOOGL[\"High\"],\n                       \"IBM\": IBM[\"High\"],\n                       \"KO\": KO[\"High\"],\n                       \"MS\": MS[\"High\"],\n                       \"NOK\": NOK[\"High\"],\n                       \"XOM\": XOM[\"High\"]\n                       })\nstocks.head()\n</code></pre>\n\n<p>The codes I wrote has errors. In there anyway to do it?\nThank you for your answers!</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 797, "user_id": 10397317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LGVBG-_4e0U/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2Kxbv4YCFKUQMz9FjXkYyHHTvdyw/mo/photo.jpg?sz=128", "display_name": "Konrad", "link": "https://stackoverflow.com/users/10397317/konrad"}, "edited": false, "score": 0, "creation_date": 1551308875, "post_id": 54915817, "comment_id": 96598061, "body": "Is it python code?"}, {"owner": {"reputation": 1080, "user_id": 5196039, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f5d10a65b4aa0e6281492ba26da873ee?s=128&d=identicon&r=PG&f=1", "display_name": "swagrov", "link": "https://stackoverflow.com/users/5196039/swagrov"}, "edited": false, "score": 1, "creation_date": 1551309359, "post_id": 54915817, "comment_id": 96598188, "body": "It works for me, I used Chrome instead of Firefox since I have that binary handy. (I added a line to print <code>odds</code> and it prints a list of 2 <code>selenium.webdriver.remote.webelement.WebElement</code>&#39;s as expected) When I copy-pasted your code, I saw you have spaces in <code>&quot;table-main__detail-     odds--hasarchive&quot;</code> that you should remove."}], "owner": {"reputation": 245, "user_id": 11083050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p2lpm7I-83s/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMBjsiQ4mmnuzh-cG8SzdZ1Hkgqkg/mo/photo.jpg?sz=128", "display_name": "Michael ", "link": "https://stackoverflow.com/users/11083050/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551308147, "creation_date": 1551308147, "question_id": 54915817, "link": "https://stackoverflow.com/questions/54915817/how-to-loop-through-these-pages-and-scrape-information-from-each-one", "title": "How to loop through these pages and scrape information from each one?", "body": "<p>I am new to programming and need some help with my web-crawler.</p>\n\n<p>At the moment, I have my code opening up every web-page in the list. However, I wish to extract information from each one it loads. This is what I have.</p>\n\n<pre><code>from selenium import webdriver;\nimport csv;\n\ndriver = webdriver.Firefox();\n\ndriver.get(\"https://www.betexplorer.com/baseball/usa/mlb-2018/results/? \nstage=KvfZSOKj&amp;month=all\")\nlinks_code : list = driver.find_elements_by_xpath('//a[@class=\"in-match\"]');\nfirst_two : list = links_code[0:2];\nfirst_two_links : list = [];\n\ni : int;\nfor i in first_two:\n    link = i.get_attribute(\"href\");\n    first_two_links.append(link);\n\nodds : list = [];\ni :int;\nfor i in first_two_links:\n    driver.get(i);\n    o = driver.find_element_by_xpath('//span[@class=\"table-main__detail- \n    odds--hasarchive\"]');\n    odds.append(o);\n\n**Error:** NoSuchElementException: Message: Unable to locate element: \n//span[@class=\"table-main__detail- odds--hasarchive\"]\n</code></pre>\n\n<p>I am just looking to scrape the first two links at the moment so that it is easier to manage. However, I can't seem to figure out a way around this error.</p>\n\n<p>It seems to me as if the error indicates that it is searching the x_path in the home page, rather than the link it follows.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1732, "user_id": 4666004, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eb9971e726f48ea778d8a64b8c2cef42?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4666004/sam"}, "edited": false, "score": 0, "creation_date": 1551308336, "post_id": 54915813, "comment_id": 96597895, "body": "Could you share your forms.py and the full code of your views.py?"}, {"owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "reply_to_user": {"reputation": 1732, "user_id": 4666004, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eb9971e726f48ea778d8a64b8c2cef42?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4666004/sam"}, "edited": false, "score": 0, "creation_date": 1551308483, "post_id": 54915813, "comment_id": 96597944, "body": "That is the full views.py. I don&#39;t think the forms.py is relevant."}, {"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1551308861, "post_id": 54915813, "comment_id": 96598055, "body": "please can we have the full traceback? Or at the very least, an indication of which line in which file(of yours) is leading to the error."}, {"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 2, "creation_date": 1551308924, "post_id": 54915813, "comment_id": 96598080, "body": "oh, and that can&#39;t be the &quot;full views.py&quot;, because it doesn&#39;t define what <code>Step1Form</code> etc are. It seems from your description that something may be amiss with <code>Step3Form</code> - but we have no idea what it is."}, {"owner": {"reputation": 146, "user_id": 1643764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75911b42839024f7835a9431a13eb43e?s=128&d=identicon&r=PG", "display_name": "daramcq", "link": "https://stackoverflow.com/users/1643764/daramcq"}, "edited": false, "score": 1, "creation_date": 1551309005, "post_id": 54915813, "comment_id": 96598104, "body": "It looks to me like your iteration is the problem. I would expect something like &quot;{% for field in form.fields %}&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 1560, "user_id": 9744320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y8yR3.png?s=128&g=1", "display_name": "Sanip", "link": "https://stackoverflow.com/users/9744320/sanip"}, "is_accepted": false, "score": -1, "last_activity_date": 1551326887, "creation_date": 1551326887, "answer_id": 54918262, "question_id": 54915813, "link": "https://stackoverflow.com/questions/54915813/python-django-template-rendering-from-views-gives-me-a-too-many-values-to-unpack/54918262#54918262", "title": "Python Django template rendering from views gives me a too many values to unpack error", "body": "<p>The value error maybe caused because the template cannot render the forms directly as they are passed as <code>context_dict</code>. So here is my solution:</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def example(request):\n    context_dict = {\n        'form_1': Step1Form,\n        'form_2': Step2Form,\n        'form_3': Step3Form,\n    }\n    return render(request, 'example/template.html', {'context_dict':context_dict})\n</code></pre>\n\n<p><strong>template</strong></p>\n\n<pre><code>&lt;form method=\"GET\" action=\"/example/\"&gt;\n            {% csrf_token %}\n            &lt;div&gt;\n                {% for field in context_dict.form_1 %}\n                    &lt;label for=\"{{ field.id_for_label }}\"&gt;{{ field.label }}&lt;/label&gt;&lt;br&gt;\n                    {{ field }}&lt;br&gt;\n                {% endfor %}\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;form method=\"GET\" action=\"/example/\"&gt;\n            {% csrf_token %}\n            &lt;div&gt;\n                {% for field in context_dict.form_2 %}\n                    &lt;label for=\"{{ field.id_for_label }}\"&gt;{{ field.label }}&lt;/label&gt;&lt;br&gt;\n                    {{ field }}&lt;br&gt;\n                {% endfor %}\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;form method=\"GET\" action=\"/example/\"&gt;\n            {% csrf_token %}\n            &lt;div&gt;\n                {% for field in context_dict.form_3 %}\n                    &lt;label for=\"{{ field.id_for_label }}\"&gt;{{ field.label }}&lt;/label&gt;&lt;br&gt;\n                    {{ field }}&lt;br&gt;\n                {% endfor %}\n            &lt;/div&gt;\n        &lt;/form&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 371, "user_id": 7817490, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/689e9d01a8188508b1cc44f6c1df8064?s=128&d=identicon&r=PG&f=1", "display_name": "Atcrank", "link": "https://stackoverflow.com/users/7817490/atcrank"}, "is_accepted": false, "score": 0, "last_activity_date": 1551399899, "creation_date": 1551399899, "answer_id": 54936270, "question_id": 54915813, "link": "https://stackoverflow.com/questions/54915813/python-django-template-rendering-from-views-gives-me-a-too-many-values-to-unpack/54936270#54936270", "title": "Python Django template rendering from views gives me a too many values to unpack error", "body": "<p>in your views.py, you seem to be passing the form class rather than an instance of the form. Maybe the answer is to call the class and make an instance for the template to render, by adding ().  As long as these are unbound forms you can probably get away with:</p>\n\n<pre><code>context = { 'form_1': Step1Form(),\n            'form_2': Step2Form(),\n            'form_3': Step3Form()}\n</code></pre>\n"}], "owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1551399899, "creation_date": 1551308129, "question_id": 54915813, "link": "https://stackoverflow.com/questions/54915813/python-django-template-rendering-from-views-gives-me-a-too-many-values-to-unpack", "title": "Python Django template rendering from views gives me a too many values to unpack error", "body": "<p>I have a function in views.py that renders the template in template.html shown below:</p>\n\n<p>views.py</p>\n\n<pre><code>def example(request):\n    context_dict = {\n        'form_1': Step1Form,\n        'form_2': Step2Form,\n        'form_3': Step3Form,\n    }\n    return render(request, 'example/template.html', context_dict)\n</code></pre>\n\n<p>template.html</p>\n\n<pre><code>&lt;form method=\"GET\" action=\"/example/\"&gt;\n                {% csrf_token %}\n                &lt;div&gt;\n                    {% for field in form_1 %}\n                        &lt;label for=\"{{ field.id_for_label }}\"&gt;{{ field.label }}&lt;/label&gt;&lt;br&gt;\n                        {{ field }}&lt;br&gt;\n                    {% endfor %}\n                &lt;/div&gt;\n            &lt;/form&gt;\n&lt;form method=\"GET\" action=\"/example/\"&gt;\n                {% csrf_token %}\n                &lt;div&gt;\n                    {% for field in form_2 %}\n                        &lt;label for=\"{{ field.id_for_label }}\"&gt;{{ field.label }}&lt;/label&gt;&lt;br&gt;\n                        {{ field }}&lt;br&gt;\n                    {% endfor %}\n                &lt;/div&gt;\n            &lt;/form&gt;\n&lt;form method=\"GET\" action=\"/example/\"&gt;\n                {% csrf_token %}\n                &lt;div&gt;\n                    {% for field in form_3 %}\n                        &lt;label for=\"{{ field.id_for_label }}\"&gt;{{ field.label }}&lt;/label&gt;&lt;br&gt;\n                        {{ field }}&lt;br&gt;\n                    {% endfor %}\n                &lt;/div&gt;\n            &lt;/form&gt;\n</code></pre>\n\n<p>But for some reason when I load the template, I get the error:</p>\n\n<blockquote>\n  <p>ValueError at /example/\n  too many values to unpack (expected 2)</p>\n</blockquote>\n\n<p>The template will load if the field tag in the third form is gone. The context dictionary and rendering doesn't look any different from other ones that I've seen so I don't know what's causing the problem.</p>\n"}, {"tags": ["python", "python-3.x", "list", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 10295907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z31fH.jpg?s=128&g=1", "display_name": "Pavel.D", "link": "https://stackoverflow.com/users/10295907/pavel-d"}, "edited": false, "score": 0, "creation_date": 1551310983, "post_id": 54916132, "comment_id": 96598620, "body": "I think I can use your idea. I would try it and would hear from me tomorrow according European time. Thanks for your effort and help."}, {"owner": {"reputation": 429, "user_id": 10295907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z31fH.jpg?s=128&g=1", "display_name": "Pavel.D", "link": "https://stackoverflow.com/users/10295907/pavel-d"}, "edited": false, "score": 0, "creation_date": 1551338387, "post_id": 54916132, "comment_id": 96605933, "body": "The provided code above gives some errors when it runs. but I have gotten your idea. I would fix and use it. Thanks a lot."}, {"owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "reply_to_user": {"reputation": 429, "user_id": 10295907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z31fH.jpg?s=128&g=1", "display_name": "Pavel.D", "link": "https://stackoverflow.com/users/10295907/pavel-d"}, "edited": false, "score": 0, "creation_date": 1551383641, "post_id": 54916132, "comment_id": 96630961, "body": "@Pavel.D Awesome! It&#39;s been a while since I&#39;ve used Python but if there are errors I hope they&#39;re easy to fix. Good luck on your programming!"}], "tags": [], "owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "is_accepted": true, "score": 0, "last_activity_date": 1551310305, "creation_date": 1551310305, "answer_id": 54916132, "question_id": 54915803, "link": "https://stackoverflow.com/questions/54915803/automatically-split-data-in-list-and-order-list-elements-and-send-to-function/54916132#54916132", "title": "automatically split data in list and order list elements and send to function", "body": "<p>Use one single list and pass that to <code>externalfunc</code>.</p>\n\n<p>The line <code>x_+str(i)= ...</code> is going to be interpreted as <code>x_\"0\"= ...</code> or whatever number eventually. The function is going to take in a possibly unknown number of variables. You can just group each \"variable\" into one list and index them based on the number instead. Which you already have. Each one would be in <code>splitted_list0</code>, <code>splitted_list1</code>, etc.</p>\n\n<p>However, you do not need to asynchronously return the different lists. Instead, you can split the lists and put them in one larger list. This is a two-dimensional array. Seems scary but it's just some lists inside another list.</p>\n\n<p>Now to pass each number to the <code>externalfunc</code> you can use each split list and pass it as an argument. Basically resulting in <code>externalfunc(splitted_list0)</code> and so on.</p>\n\n<p>The final code ends up something like the following:</p>\n\n<pre><code># Split the data into seperate lists:\nsplit_lists = [data[i*(len(data)/3):(i+1)*(len(data)/3)] for i in range(3)]\n# [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, '', 11, 12, 13, 14] becomes\n# [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10], ['', 11, 12, 13, 14]]\n\n# Pass each list to the external function:\nfor i in range(split_lists):\n  externalfunc(split_lists[i])\n  # split_lists[i] will be [1, 2, 3, 4, 5] or [6, 7, 8, 9, 10], etc.\n</code></pre>\n\n<p>Note that the <code>3</code> in the first line of code can be changed to be any number smaller than the length of the list <code>data</code>. This is just the number of lists to split the data into. Remember to change every 3 if it's hardcoded or just add a variable. Finally, the function <code>externalfunc</code> will have the list of 5 numbers as the first and only argument of the function.</p>\n\n<pre><code>def externalfunc(nums):\n  for n in nums:\n    # n = each number in the list\n    # do something with n, write it somewhere, store it, print it.\n    print(n)\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 10295907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z31fH.jpg?s=128&g=1", "display_name": "Pavel.D", "link": "https://stackoverflow.com/users/10295907/pavel-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 54916132, "answer_count": 1, "score": 0, "last_activity_date": 1551310344, "creation_date": 1551308072, "last_edit_date": 1551310344, "question_id": 54915803, "link": "https://stackoverflow.com/questions/54915803/automatically-split-data-in-list-and-order-list-elements-and-send-to-function", "title": "automatically split data in list and order list elements and send to function", "body": "<p>I have recently created a GUI, which contents tables. User can insert values in cells. As shown figur below. </p>\n\n<p><a href=\"https://i.stack.imgur.com/aVPTF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aVPTF.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to use values to make some calculation based on values given by user. Rows can be added and removed based on choice of user. with other word, the data I get from user could come from just one row or several rows. </p>\n\n<p>I manage to obtain all values from tables automatically and assign them to python list. Each row gives 5 elements in the list.</p>\n\n<p>I have achieved that. Data in python list have to be processed and organised. This is exactly I want to have help. Because few dags I have been thinking, and I can not figure out, how to continue...</p>\n\n<p>Python data as list from table. as an example.</p>\n\n<pre><code>data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, '', 11, 12, 13, 14] \n</code></pre>\n\n<p>What I want to achieve!</p>\n\n<p>I want to split list into 3 times <code>len(data)</code>.</p>\n\n<p>I have also achieved this.</p>\n\n<pre><code>def split_seq(seq, num_pieces):\n    start = 0\n    for i in range(num_pieces):\n        stop = start + len(seq[i::num_pieces])\n        yield seq[start:stop]\n        start = stop\n\nfor data in split_seq(data, int(len(data)/5)):\n    print(data)\n</code></pre>\n\n<p>Output would be:</p>\n\n<pre><code>[1, 2, 3, 4, 5]\n[6, 7, 8, 9, 10]\n['', 11, 12, 13, 14]\n</code></pre>\n\n<p>The difficulty part starts here.</p>\n\n<p>I want to take each splitted list and throw them into an if condition and store values as variables and message those values to an external function. </p>\n\n<p>Something like this below:</p>\n\n<pre><code>for i in range(len(splitted_list1)):\n    if splitted_list1[0] == '':\n       do nothing\n    else:\n       x_+str(i)= splitted_list1[i]\n       externalfunc(x_1,x_2,x_3,x_4,x_5)\n\nfor i in range(len(splitted_list2)):\n    if splitted_list2[0] == '':\n       do nothing\n    else:\n       x_+str(i)= splitted_list2[i]\n       externalfunc(x_1,x_2,x_3,x_4,x_5)\n\ncontinues depending on number of splitted_lists\n\n..............\n</code></pre>\n\n<p>I appreciate any help and you are welcome to come with another idea to come around this.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "edited": false, "score": 1, "creation_date": 1551307996, "post_id": 54915755, "comment_id": 96597782, "body": "What&#39;s the question exactly? Are you trying to print a numpy array with text containing ANSI color codes?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551308060, "post_id": 54915755, "comment_id": 96597805, "body": "When you print an array containing strings it prints the representation of the strings, it doesn&#39;t interpret the strings. Try just printing the array elements themselves, rather than the whole array."}, {"owner": {"reputation": 3, "user_id": 10071128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QwxuF.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/10071128/lucas"}, "reply_to_user": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "edited": false, "score": 0, "creation_date": 1551308065, "post_id": 54915755, "comment_id": 96597808, "body": "@PrestonHager that&#39;s exactly what I want."}, {"owner": {"reputation": 3, "user_id": 10071128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QwxuF.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/10071128/lucas"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551308320, "post_id": 54915755, "comment_id": 96597890, "body": "@Barmar thanks! That fixes it!"}], "answers": [{"tags": [], "owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "is_accepted": true, "score": 1, "last_activity_date": 1551308637, "creation_date": 1551308637, "answer_id": 54915895, "question_id": 54915755, "link": "https://stackoverflow.com/questions/54915755/ansi-codes-not-working-in-a-ndarray-of-strings/54915895#54915895", "title": "ANSI codes not working in a ndarray of strings", "body": "<p>Numpy is storing exactly the values you want. However, when you print the variable <code>coloured_letters</code> numpy calls the <code>__repr__</code> or <code>__str__</code> function to convert the string into a printable representation. This means that it will translate each string into something the terminal can print with just normal ASCII characters.</p>\n\n<p>If you print any element from <code>coloured_letters</code> it will print correctly. If you still want to get the array format of the numpy array you can access each element and print brackets around them as such.</p>\n\n<pre><code>for row in range(len(coloured_letters)):\n  print(\"[\"+\",\".join(coloured_letters[row])+\"]\")\n</code></pre>\n\n<p>That will print something like the following with each <code>A test</code> being green on white.</p>\n\n<pre><code>[A test, A test]\n[A test, A test]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10071128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QwxuF.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/10071128/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 54915895, "answer_count": 1, "score": 0, "last_activity_date": 1551308637, "creation_date": 1551307753, "question_id": 54915755, "link": "https://stackoverflow.com/questions/54915755/ansi-codes-not-working-in-a-ndarray-of-strings", "title": "ANSI codes not working in a ndarray of strings", "body": "<p>I think the best way to explain my problem is to just show it:</p>\n\n<pre><code>import numpy as np\n\ncoloured_letters = np.ndarray(shape=(2, 2), dtype=\"&lt;U100\")\n\nprint(\"\\033[1;32;40m A test \\033[30m\")\ndef fill(ndarray):\n    y = 0\n    x = 0\n    while y &lt; 2:\n        while x &lt; 2:\n            ndarray[y][x] = \"\\033[1;32;40m A test \\033[30m\"\n            x = x + 1\n        x = 0\n        y = y + 1\n\n\nfill(coloured_letters)\nprint(coloured_letters)\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code> A test\n[['\\x1b[1;32;40m A test \\x1b[30m' '\\x1b[1;32;40m A test \\x1b[30m']\n ['\\x1b[1;32;40m A test \\x1b[30m' '\\x1b[1;32;40m A test \\x1b[30m']]\n</code></pre>\n\n<p>Where the \"A test\" is in bright green with a white background.</p>\n"}, {"tags": ["python", "cluster-analysis"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 7427370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/220cb7090991f97b5d2e27e222bd174c?s=128&d=identicon&r=PG&f=1", "display_name": "Mahhos", "link": "https://stackoverflow.com/users/7427370/mahhos"}, "edited": false, "score": 0, "creation_date": 1615301339, "post_id": 54921412, "comment_id": 117644961, "body": "Hi any idea on how to calculate precision and recall here?"}], "tags": [], "owner": {"reputation": 661, "user_id": 10524064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zpe12.png?s=128&g=1", "display_name": "Pallie", "link": "https://stackoverflow.com/users/10524064/pallie"}, "is_accepted": true, "score": 2, "last_activity_date": 1551344655, "last_edit_date": 1551344655, "creation_date": 1551342911, "answer_id": 54921412, "question_id": 54915736, "link": "https://stackoverflow.com/questions/54915736/calculating-cluster-accuracy/54921412#54921412", "title": "Calculating cluster accuracy", "body": "<p>I believe what you are describing is something I also wanted to do a while back. This is how I solved it:</p>\n\n<pre><code>from sklearn.metrics.cluster import contingency_matrix\nfrom sklearn.preprocessing import normalize\n\nnormalize(contingency_matrix(labels_pred=pred, labels_true=true), norm='l1', axis=1)\n</code></pre>\n\n<p>This matrix gives the recall for each cluster/label combination. </p>\n\n<p>edit:</p>\n\n<p>The problems you state with this method I believe are inherent to it. For some reason some papers prefer to report accuracy or F measure for clustering results even though these aren't quite suited for it.<a href=\"https://onlinelibrary.wiley.com/doi/full/10.1002/cyto.a.23030\" rel=\"nofollow noreferrer\">This</a> paper uses a different way of calculating an F-measure for clustering results, that at least solves the multiple clusters being mapped to a single truth label problem. They use a task assignment algorithm to solve this specific issue.</p>\n\n<p>This is my code for the 'Hungarian F1' score:</p>\n\n<pre><code>from munkres import Munkres\ndef f_matrix(labels_pred, labels_true):\n    # Calculate F1 matrix\n    cont_mat = contingency_matrix(labels_pred=labels_pred, labels_true=labels_true)\n    precision = normalize(cont_mat, norm='l1', axis=0)\n    recall = normalize(cont_mat, norm='l1', axis=1)\n    som = precision + recall\n    f1 =  np.round(np.divide((2 * recall * precision), som, out=np.zeros_like(som), where=som!=0), 3)\n    return f1\n\ndef f1_hungarian(f1):\n    m = Munkres()\n    inverse = 1 - f1\n    indices = m.compute(inverse.tolist())\n    fscore = sum([f1[i] for i in indices])/len(indices)\n    return fscore\nf1_hungarian(f_matrix(pred, true))\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10155335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JfBV79uGjgg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEjuXdYQvcZDsgw_XMW-yyqiM_xA/mo/photo.jpg?sz=128", "display_name": "Hikari A", "link": "https://stackoverflow.com/users/10155335/hikari-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 1, "accepted_answer_id": 54921412, "answer_count": 1, "score": 2, "last_activity_date": 1551344655, "creation_date": 1551307624, "question_id": 54915736, "link": "https://stackoverflow.com/questions/54915736/calculating-cluster-accuracy", "title": "Calculating cluster accuracy", "body": "<p>I would like to write a python code to calculate cluster accuracy <em><code>r</code></em> as the followings:</p>\n\n<p><code>r = (</code><em><code>A1</code></em><code>+ ... +</code><em><code>Ai</code></em><code>+ ...</code><em><code>Ak</code></em><code>) / (the number of data objects)</code></p>\n\n<p>where <em><code>Ai</code></em> is the number of data objects occurring both in <em>i</em>-th cluster and its corresponding true cluster.</p>\n\n<p>I need to implement it in order to compare the clustering performance with a research paper which uses this accuracy criteria.<br>\nI searched for existing methods in sklearn, but could not find the one to do this and tried to write it by myself.<br></p>\n\n<p>Here is the code I wrote:</p>\n\n<pre><code>    # For each label in prediction, extract true labels of the same \n    # index as 'labels'. Then count the number of instances of respective\n    # true labels in 'labels', and assume the one with the maximum \n    # number of instances is the corresponding true label.\n    pred_to_true_conversion={}\n    for p in np.unique(pred):\n        labels=true[pred==p]\n        unique, counts=np.unique(labels, return_counts=True)\n        label_count=dict(zip(unique, counts))\n        pred_to_true_conversion[p]=max(label_count, key=label_count.get)\n\n    # count the number of instances whose true label is the same\n    # as the converted predicted label.\n    count=0\n    for t, p in zip(true, pred):\n        if t==pred_to_true_conversion[p]: count+=1\n\n    return count/len(true)\n</code></pre>\n\n<p>However, I do not think my \"label remapping\" approach is a clever way and there should be a better way to calculate <em><code>r</code></em>. My method have problems such as:</p>\n\n<ol>\n<li>It relies on an assumption that the corresponding true label is the one that occurs most frequently in a predicted cluster, but it is not always the case.</li>\n<li>Different predicted cluster labels are correlated to the same true cluster label, especially when the number of classes are different in true labels and predicted labels.<br></li>\n</ol>\n\n<p>How can I implement the accuracy <em><code>r</code></em>? Or is there a method in any existing clustering libraries to do this?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1551307673, "post_id": 54915705, "comment_id": 96597685, "body": "I&#39;m confused. There are no zero values in your input."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1551307797, "post_id": 54915705, "comment_id": 96597721, "body": "Ok, so now you&#39;ve fixed that, what did you try? What went wrong?"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1551307902, "post_id": 54915705, "comment_id": 96597753, "body": "Just use <code>df.lt(0).sum()</code> and <code>df.eq(0).sum()</code>"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1551308373, "post_id": 54915705, "comment_id": 96597913, "body": "adding sum at the end"}], "answers": [{"tags": [], "owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "is_accepted": true, "score": 1, "last_activity_date": 1551307875, "creation_date": 1551307875, "answer_id": 54915776, "question_id": 54915705, "link": "https://stackoverflow.com/questions/54915705/counting-and-printing-zeroes-and-negative-values-for-each-column-in-a-dataframe/54915776#54915776", "title": "Counting and printing zeroes and negative values for each Column in a Dataframe", "body": "<p>You could use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.where.html\" rel=\"nofollow noreferrer\">where</a> and <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.count.html\" rel=\"nofollow noreferrer\">count</a></p>\n\n<p><code>df.where(condition).count()</code></p>\n\n<pre><code>df = pd.DataFrame({'a': [-3, -2, 0], 'b': [-2, 2, 5], 'c': [-1, 0, 7], 'd': [1, 4, 8]})\nprint('Negatives Found:')\nprint(df.where(df &lt; 0).count())\nprint('Zeros Found:')\nprint(df.where(df == 0).count())\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>Negatives Found:\na    2\nb    1\nc    1\nd    0\n\nZeros Found:\na    1\nb    0\nc    1\nd    0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 955, "user_id": 6194143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1cd7ace9bb0ff64c8d1d0fccd7818a?s=128&d=identicon&r=PG&f=1", "display_name": "Tacratis", "link": "https://stackoverflow.com/users/6194143/tacratis"}, "is_accepted": false, "score": 1, "last_activity_date": 1551307889, "creation_date": 1551307889, "answer_id": 54915779, "question_id": 54915705, "link": "https://stackoverflow.com/questions/54915705/counting-and-printing-zeroes-and-negative-values-for-each-column-in-a-dataframe/54915779#54915779", "title": "Counting and printing zeroes and negative values for each Column in a Dataframe", "body": "<p>This is somewhat what you tried:</p>\n\n<p>Negatives:</p>\n\n<pre><code>(df&lt;0).sum()\n</code></pre>\n\n<p>Zeros:</p>\n\n<pre><code>(df==0).sum()\n</code></pre>\n\n<p>If this isn't good for you, and you really don't want to generate a mask of booleans and count them (thought I'm not sure why it would bother you), let me know, you can get the same results with loops</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 10337331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757686bac2afbc19de5f75dbd67107ca?s=128&d=identicon&r=PG&f=1", "display_name": "Maciek", "link": "https://stackoverflow.com/users/10337331/maciek"}, "is_accepted": false, "score": 0, "last_activity_date": 1551308228, "creation_date": 1551308228, "answer_id": 54915825, "question_id": 54915705, "link": "https://stackoverflow.com/questions/54915705/counting-and-printing-zeroes-and-negative-values-for-each-column-in-a-dataframe/54915825#54915825", "title": "Counting and printing zeroes and negative values for each Column in a Dataframe", "body": "<p>You can simply:</p>\n\n<pre><code>print(df[df&lt;0].count())\nprint(df[df==0].count())\n\na    2\nb    1\nc    1\nd    0\ndtype: int64\na    1\nb    0\nc    1\nd    0\ndtype: int64\n</code></pre>\n"}], "owner": {"reputation": 1553, "user_id": 8378885, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10159144384065441/picture?type=large", "display_name": "HelloToEarth", "link": "https://stackoverflow.com/users/8378885/hellotoearth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 0, "accepted_answer_id": 54915776, "answer_count": 3, "score": 0, "last_activity_date": 1551308228, "creation_date": 1551307477, "last_edit_date": 1551307721, "question_id": 54915705, "link": "https://stackoverflow.com/questions/54915705/counting-and-printing-zeroes-and-negative-values-for-each-column-in-a-dataframe", "title": "Counting and printing zeroes and negative values for each Column in a Dataframe", "body": "<p>I'd like to print a statement showing me both zero and negative value counts in each Dataframe column.</p>\n\n<p>My input would be something like:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'a': [-3, -2, 0], 'b': [-2, 2, 5], 'c': [-1, 0, 7], 'd': [1, 4, 8]})\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>   a  b  c  d\n0 -3 -2 -1  1\n1 -2  2  0  4\n2  0  5  7  8\n</code></pre>\n\n<p>The outputs I desire are:</p>\n\n<pre><code>Negatives Found:\na    2\nb    1\nc    1\nd    0\n\nZeros Found:\na    1\nb    0\nc    1\nd    0\n</code></pre>\n\n<p>I can't find an easy way to get to this without creating a Dataframe from the Dataframe using something like:</p>\n\n<pre><code>df_neg = df &lt; 0\ndf_zero = df == 0\n</code></pre>\n\n<p>However, this only counts if True or False.</p>\n\n<p>What's the best way of doing a count that is printable and 'easy' to run on bigger data sets?</p>\n"}, {"tags": ["python", "algorithm", "data-structures", "priority-queue"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1531591"}, "edited": false, "score": 0, "creation_date": 1551309063, "post_id": 54915695, "comment_id": 96598122, "body": "You can try to print self.a at the beginning of sift_up and self.a[i] and self.a[(i-1)//2] at the end of the while loop in sift_up"}], "answers": [{"tags": [], "owner": {"reputation": 51837, "user_id": 2144669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7393f439028063515255b63ed94cfd?s=128&d=identicon&r=PG", "display_name": "David Eisenstat", "link": "https://stackoverflow.com/users/2144669/david-eisenstat"}, "is_accepted": false, "score": 0, "last_activity_date": 1551314084, "creation_date": 1551314084, "answer_id": 54916638, "question_id": 54915695, "link": "https://stackoverflow.com/questions/54915695/very-strange-error-in-priority-queue-in-python/54916638#54916638", "title": "Very strange error in priority queue in Python", "body": "<p>You need to stop the loop in <code>sift_up</code> if <code>i</code> is <code>1</code>, since once <code>500</code> reaches the root, there is no root's parent to compare it to (well, there sort of is, but it's <code>None</code> because you're using one-based indexing; I think you also have an off-by-one error in <code>sift_down</code> when you compare <code>&lt; size</code> instead of <code>&lt;= size</code>).</p>\n"}], "owner": {"reputation": 284, "user_id": 6695801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vR6CK.jpg?s=128&g=1", "display_name": "theuses", "link": "https://stackoverflow.com/users/6695801/theuses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551319561, "creation_date": 1551307425, "last_edit_date": 1551319561, "question_id": 54915695, "link": "https://stackoverflow.com/questions/54915695/very-strange-error-in-priority-queue-in-python", "title": "Very strange error in priority queue in Python", "body": "<p>I was writing priority queue as a part of preparation for the interviews and got an error I cannot trace.\nMy PQ code:</p>\n\n<pre><code>class PQ:\ndef __init__(self, capacity):\n    self.a = [None] * capacity\n    self.size = 0\n\ndef sift_down(self, i):\n    while 2*i+1 &lt; self.size:\n        l, r = 2*i+1, 2*i+2\n        j = l\n        if r &lt; self.size and self.a[r] &gt; self.a[l]: j = r\n        if self.a[i] &gt;= self.a[j]: break\n        self.a[i], self.a[j] = self.a[j], self.a[i]\n        i = j\n\ndef sift_up(self, i):\n    assert self.a[i] is not None\n    assert self.a[(i-1) // 2] is not None\n    while self.a[i] &gt; self.a[(i-1) // 2]:\n        self.a[i], self.a[(i-1) // 2] = self.a[(i-1) // 2], self.a[i] \n        i = (i - 1) // 2\n\ndef extract_max(self):\n    m = self.a[0]\n    self.size -= 1\n    self.a[0] = self.a[self.size]\n    self.sift_down(0)\n    return m\n\n\ndef insert(self, x):\n    self.a[self.size] = x\n    if self.size &gt; 0: self.sift_up(self.size)\n    self.size += 1\n</code></pre>\n\n<p>And then I test it:</p>\n\n<pre><code>pq = PQ(6)\npq.insert(200)\npq.insert(10)\nprint(pq.extract_max())\npq.insert(5)\npq.insert(500)\nprint(pq.extract_max())\n</code></pre>\n\n<p>Everything works until 'pq.insert(500)':</p>\n\n<pre><code>File \"pq.py\", line 35, in insert\nif self.size &gt; 0: self.sift_up(self.size)\nFile \"pq.py\", line 21, in sift_up\nwhile self.a[i] &gt; self.a[(i-1) // 2]:\nTypeError: '&gt;' not supported between instances of 'int' and 'NoneType'\n</code></pre>\n\n<p>I have debugged values at positions <code>i</code> and <code>(i - 1) // 2</code> by every known method to me, asserts don't throw anything, I'm completely lost! </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1551307429, "post_id": 54915685, "comment_id": 96597602, "body": "You see that because, in some cases, <code>content is None</code>. There&#39;s not enough information here to tell you why."}], "answers": [{"tags": [], "owner": {"reputation": 252, "user_id": 7123023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79dca804df79f3b69f6d1623fdb03352?s=128&d=identicon&r=PG&f=1", "display_name": "DhKo", "link": "https://stackoverflow.com/users/7123023/dhko"}, "is_accepted": false, "score": 1, "last_activity_date": 1551342171, "creation_date": 1551342171, "answer_id": 54921211, "question_id": 54915685, "link": "https://stackoverflow.com/questions/54915685/attributeerror-nonetype-object-has-no-attribute-lower-while-trying-to-con/54921211#54921211", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;lower&#39; - while trying to convert to lower case", "body": "<p>Here content is of different type than a str.You should check the existence of the content before calling .lower()</p>\n\n<pre><code>content = text.string\nwords = content.lower().split() if content and isinstance(content,str) else None\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4992020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lqs--HTJZC0/AAAAAAAAAAI/AAAAAAAABKw/E9ZC4uPOcQo/photo.jpg?sz=128", "display_name": "amit kumar", "link": "https://stackoverflow.com/users/4992020/amit-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1303, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551342171, "creation_date": 1551307380, "last_edit_date": 1551307474, "question_id": 54915685, "link": "https://stackoverflow.com/questions/54915685/attributeerror-nonetype-object-has-no-attribute-lower-while-trying-to-con", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;lower&#39; - while trying to convert to lower case", "body": "<p>I am trying to extract text from a webpage and then convert all of it to lowercase, but I a, getting <code>object has no attribute</code> error. Any fix?</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup as bs\nimport operator\n\ndef webpage(url):\n    word_list = []\n    soup = bs(requests.get(url).text, 'html.parser')\n    for text in soup('p', {'class': 'PE7lZb'}):\n        content = text.string\n        words = content.lower().split()\n\nwebpage(\"https://godan.business.site/\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "min"], "answers": [{"comments": [{"owner": {"reputation": 494, "user_id": 3731726, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1adc3370aceb1669aeb4135abb7ce0d2?s=128&d=identicon&r=PG&f=1", "display_name": "jujuBee", "link": "https://stackoverflow.com/users/3731726/jujubee"}, "edited": false, "score": 0, "creation_date": 1551307857, "post_id": 54915672, "comment_id": 96597744, "body": "Thank you for the answer"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1551307301, "creation_date": 1551307301, "answer_id": 54915672, "question_id": 54915632, "link": "https://stackoverflow.com/questions/54915632/finding-a-min-value-among-non-numeric-columns-in-pandas/54915672#54915672", "title": "Finding a min value among non-numeric columns in pandas", "body": "<p>Simple way is first  convert to numeric using <code>to_numeric</code> , leave the one can not be converted as <code>NaN</code> , then do <code>min</code> </p>\n\n<pre><code>df.apply(pd.to_numeric,errors='coerce',axis=1).min(1)\nOut[96]: \n0    1.20\n1    5.60\n2    1.35\n3     NaN\ndtype: float64\n</code></pre>\n"}], "owner": {"reputation": 494, "user_id": 3731726, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1adc3370aceb1669aeb4135abb7ce0d2?s=128&d=identicon&r=PG&f=1", "display_name": "jujuBee", "link": "https://stackoverflow.com/users/3731726/jujubee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551307301, "creation_date": 1551307089, "question_id": 54915632, "link": "https://stackoverflow.com/questions/54915632/finding-a-min-value-among-non-numeric-columns-in-pandas", "title": "Finding a min value among non-numeric columns in pandas", "body": "<p>Consider the following dataframe:</p>\n\n<pre><code>#!/usr/bin/python3.5\nimport pandas as pd # version 0.23.4\nx_df = pd.DataFrame([[1.2, 3.4, 'n', 'a'], [5.6, 'a', 'b', 7.8], \n                    [2.2, 'c', 1.35, 'd'], ['k', 'o', 'b', 'c']], \n                    columns=['A', 'B', 'C', 'D'])\n</code></pre>\n\n<p>I'm trying to achieve, the min value for each row (like below):</p>\n\n<pre><code>x_df =        A    B     C    D     min\n         0  1.2  3.4     n    a    1.2\n         1  5.6    a     b  7.8    5.6\n         2  2.2    c  1.35    d    1.35\n         3    k    o     b    c    nan\n</code></pre>\n\n<p>I tried to do this using:</p>\n\n<pre><code>x_df['min'] = x_df.apply(lambda x: x.min(numeric_only=True), axis=1)\n</code></pre>\n\n<p>However this throws an error:</p>\n\n<pre><code>NotImplementedError: ('Series.min does not implement numeric_only.', 'occurred at index 0')\n</code></pre>\n\n<p>Is there a simple way to achieve this without using <code>for</code> loops or lengthy code?</p>\n\n<p>If this question has already been answered, kindly point me and sorry for duplicate (search didn't get me what I wanted !)</p>\n"}, {"tags": ["python", "pandas", "dataframe", "merge", "concatenation"], "answers": [{"comments": [{"owner": {"reputation": 1432, "user_id": 8797830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4fcb3728cc624f1a3f54e7842f8b200?s=128&d=identicon&r=PG&f=1", "display_name": "Chris90", "link": "https://stackoverflow.com/users/8797830/chris90"}, "edited": false, "score": 0, "creation_date": 1551317362, "post_id": 54916964, "comment_id": 96600109, "body": "Thanks! - what does the ignore index do? I see it ignores each records original index # but if that wasn&#39;t added as a parameter what would have happened? @Peter Leimbigler"}, {"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "reply_to_user": {"reputation": 1432, "user_id": 8797830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4fcb3728cc624f1a3f54e7842f8b200?s=128&d=identicon&r=PG&f=1", "display_name": "Chris90", "link": "https://stackoverflow.com/users/8797830/chris90"}, "edited": false, "score": 0, "creation_date": 1551326183, "post_id": 54916964, "comment_id": 96601967, "body": "@Chris90, <code>ignore_index=True</code> discards the default integer indexes of <code>df1</code> and <code>df2</code>, and gives the resulting <code>df3</code> a uniquely valued integer index of its own. However, if we <code>reset_index</code> after sorting, there&#39;s no need to ignore the index in <code>concat</code>; I&#39;ll edit my answer!"}], "tags": [], "owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "is_accepted": true, "score": 0, "last_activity_date": 1551326214, "last_edit_date": 1551326214, "creation_date": 1551316765, "answer_id": 54916964, "question_id": 54915620, "link": "https://stackoverflow.com/questions/54915620/combine-two-dataframe-timestamps-based-on-an-i-d-field/54916964#54916964", "title": "Combine two Dataframe timestamps based on an I.D field", "body": "<p>If it's always true that df2 only contains one date per ID, and that date is always the earliest date for that ID, could you simply concatenate df1 and df2, then sort by ID and timestamp? For example:</p>\n\n<pre><code># Generate example data\ndf1 = pd.DataFrame({'id': [1, 1, 2, 3, 3, 3], \n                    'timestamp': pd.to_datetime(['2019-01-01', \n                                                 '2019-01-02', \n                                                 '2019-01-15', \n                                                 '2019-01-17', \n                                                 '2019-02-01', \n                                                 '2019-02-03'])})\ndf2 = pd.DataFrame({'id': [1, 2, 3], \n                    'timestamp': pd.to_datetime(['1959-06-01', \n                                                 '1989-12-01', \n                                                 '1999-01-25'])})\n\ndf = pd.concat([df1, df2])\ndf = df.sort_values(by=['id', 'timestamp']).reset_index(drop=True)\ndf\n\n   id  timestamp\n0   1 1959-06-01\n1   1 2019-01-01\n2   1 2019-01-02\n3   2 1989-12-01\n4   2 2019-01-15\n5   3 1999-01-25\n6   3 2019-01-17\n7   3 2019-02-01\n8   3 2019-02-03\n</code></pre>\n"}], "owner": {"reputation": 1432, "user_id": 8797830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4fcb3728cc624f1a3f54e7842f8b200?s=128&d=identicon&r=PG&f=1", "display_name": "Chris90", "link": "https://stackoverflow.com/users/8797830/chris90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 54916964, "answer_count": 1, "score": 0, "last_activity_date": 1551326214, "creation_date": 1551307041, "last_edit_date": 1551316786, "question_id": 54915620, "link": "https://stackoverflow.com/questions/54915620/combine-two-dataframe-timestamps-based-on-an-i-d-field", "title": "Combine two Dataframe timestamps based on an I.D field", "body": "<p>I am trying to figure out a way in which I can combine two dfs in pandas/python into one based on a couple of factors.</p>\n\n<ol>\n<li>There is an i.d field that exists in both dfs </li>\n<li>Each df has a timestamp, df_1 can have one or multiple timestamps associated with an i.d.</li>\n<li>df_2 only has one timestamp associated with an I.D</li>\n<li>df_2 timestamp will always be the earliest or first timestamp compared to timestamps in df_1</li>\n</ol>\n\n<p>I want to combine both dataframes where the df_2 timestamp is the first timestamp in a column, and each subsequent timestamp from df_1 comes after.</p>\n\n<p>so the output will look something like </p>\n\n<pre><code>I.D                  |            Timestamp\nE4242                            earliest_timestamp from df_2\nE4242                            next_timestamp from df_1\nE4242                            next_timestamp from df_1\n</code></pre>\n\n<p>Thanks for looking!</p>\n"}, {"tags": ["python", "windows", "subprocess", "netsh"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 3, "creation_date": 1551307216, "post_id": 54915596, "comment_id": 96597520, "body": "why not just put your code in your post? You can specify a code block by indenting every line with 4 spaces..."}, {"owner": {"reputation": 3620, "user_id": 263101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0476bfada7f9419fce894c737f33927?s=128&d=identicon&r=PG", "display_name": "phoibos", "link": "https://stackoverflow.com/users/263101/phoibos"}, "edited": false, "score": 0, "creation_date": 1551307608, "post_id": 54915596, "comment_id": 96597665, "body": "That does not seem to be a python problem: <a href=\"https://superuser.com/questions/370508/connecting-to-wireless-network-via-command-prompt-in-windows-7\">https://superuser.com/questions/370508/connecting-to-wireles&zwnj;&#8203;s-network-via-comman&zwnj;&#8203;d-prompt-in-windows-&zwnj;&#8203;7</a>"}], "owner": {"reputation": 1, "user_id": 11127677, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OQGxIOu2oU8/AAAAAAAAAAI/AAAAAAAAAEQ/WH4yaoEKKe8/photo.jpg?sz=128", "display_name": "Referee Decision", "link": "https://stackoverflow.com/users/11127677/referee-decision"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551319183, "creation_date": 1551306906, "last_edit_date": 1551319183, "question_id": 54915596, "link": "https://stackoverflow.com/questions/54915596/trying-to-make-a-python-code-for-connecting-to-a-wifi-network-in-windows-10", "title": "Trying to make a python code for connecting to a wifi network in Windows 10", "body": "<p>I'm coming from Linux and I don't understand why I can't connect from the command line, what I'm doing wrong ? I'm always getting the \"no profile\" error.</p>\n\n<p>ty for the help:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sAQw5.png\" rel=\"nofollow noreferrer\">My code</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sWvZ7.png\" rel=\"nofollow noreferrer\">The error I'm getting</a></p>\n"}, {"tags": ["python", "pandas", "text-mining", "sentence-synthesis"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11127542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf4feebc0bdcc06b294cc33d9918911?s=128&d=identicon&r=PG&f=1", "display_name": "Sohil", "link": "https://stackoverflow.com/users/11127542/sohil"}, "edited": false, "score": 0, "creation_date": 1551329370, "post_id": 54915845, "comment_id": 96602744, "body": "Thank You! Both techniques worked! Appreciate your help!"}, {"owner": {"reputation": 3, "user_id": 11127542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf4feebc0bdcc06b294cc33d9918911?s=128&d=identicon&r=PG&f=1", "display_name": "Sohil", "link": "https://stackoverflow.com/users/11127542/sohil"}, "edited": false, "score": 0, "creation_date": 1551456765, "post_id": 54915845, "comment_id": 96659644, "body": "Just 2 quick questions, 1. after splitting in this way, I still have blank rows probably with 1 or 2 spaces. I tried using regex function &#39;\\s+&#39; in replace but it did not work. Could you suggest how to get rid of the extra rows with just spaces.  2. Splitting on period breaks down numbers in text like 1.50 or 7.6$ I am okay when numbers go, but could we eliminate or avoid this and consider as one entity. Splitting on &#39;. &#39; gives one words only for each row which is not what I want."}], "tags": [], "owner": {"reputation": 374, "user_id": 11035063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5BZE8.jpg?s=128&g=1", "display_name": "Fernandoms", "link": "https://stackoverflow.com/users/11035063/fernandoms"}, "is_accepted": true, "score": 3, "last_activity_date": 1551308345, "creation_date": 1551308345, "answer_id": 54915845, "question_id": 54915584, "link": "https://stackoverflow.com/questions/54915584/how-do-i-split-text-with-multiple-sentences-in-a-column-into-multiple-rows-in-py/54915845#54915845", "title": "How do I split text with multiple sentences in a column into multiple rows in Python pandas?", "body": "<p>In the example that you put in your code, The result of the <code>join</code> was printed, so if you want to change the value of your survey_text, the code should be:</p>\n\n<p><code>survey_text = survey_text.join(x)</code></p>\n\n<p>or if you wanted to simplify your code, this code below is just fine:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\nsurvey_data = pd.read_csv(\"Food_Dummy.csv\")\nsurvey_text = survey_data[['Id','Team','Food_Text']]\n\n# Getting s as pandas series which has split on full stop and new sentence a new line\ns = survey_text[\"Food_Text\"].str.split('.').apply(pd.Series,1).stack()\ns.index = s.index.droplevel(-1) # to line up with df's index\ns.name = 'Food_Text' # needs a name to join\n\n# There are blank or emplty cell values after above process. Removing them\ns.replace('', np.nan, inplace=True)\ns.dropna(inplace=True)\n\n# Joining should ideally get me proper output. But I am getting original dataframe instead of split one.\ndel survey_text['Food_Text']\nsurvey_text = survey_text.join(s)\nsurvey_text.head(10)\n</code></pre>\n\n<p>This way you will not have multiple \"Food_Text\" columns in yout DataFrame.</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 4616380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1525e64a77865fd2e1289b4d79912d6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4616380/chris"}, "edited": false, "score": 0, "creation_date": 1602545884, "post_id": 64181294, "comment_id": 113749037, "body": "Can this be adapted to a parallel processing library, like Dask? How can apply a custom sentence - splitting function in something like Dask, such that a new &quot;exploded&quot; dataframe is created?"}], "tags": [], "owner": {"reputation": 1771, "user_id": 825707, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e2126f267f0de37ee9c6755cf162b8a7?s=128&d=identicon&r=PG", "display_name": "Shakti", "link": "https://stackoverflow.com/users/825707/shakti"}, "is_accepted": false, "score": 0, "last_activity_date": 1601705599, "creation_date": 1601705599, "answer_id": 64181294, "question_id": 54915584, "link": "https://stackoverflow.com/questions/54915584/how-do-i-split-text-with-multiple-sentences-in-a-column-into-multiple-rows-in-py/64181294#64181294", "title": "How do I split text with multiple sentences in a column into multiple rows in Python pandas?", "body": "<p>Instead of</p>\n<pre><code>s = survey_text[&quot;Food_Text&quot;].str.split('.').apply(pd.Series,1).stack()\n</code></pre>\n<p>Better way to split into sentences is to use nltk sentence tokenizer</p>\n<pre><code>from nltk.tokenize import sent_tokenize\ns = survey_text[&quot;Food_Text&quot;].apply(lambda x : sent_tokenize(x)).apply(pd.Series,1).stack()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11127542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf4feebc0bdcc06b294cc33d9918911?s=128&d=identicon&r=PG&f=1", "display_name": "Sohil", "link": "https://stackoverflow.com/users/11127542/sohil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1830, "favorite_count": 0, "accepted_answer_id": 54915845, "answer_count": 2, "score": 0, "last_activity_date": 1601705599, "creation_date": 1551306830, "question_id": 54915584, "link": "https://stackoverflow.com/questions/54915584/how-do-i-split-text-with-multiple-sentences-in-a-column-into-multiple-rows-in-py", "title": "How do I split text with multiple sentences in a column into multiple rows in Python pandas?", "body": "<p>I am trying to split Comments column into multiple rows containing each sentence. I used the following StackOverflow thread for my reference as it tends to give similar result.\n<strong>Reference Link:</strong> <a href=\"https://stackoverflow.com/questions/17116814/pandas-how-do-i-split-text-in-a-column-into-multiple-rows\">pandas: How do I split text in a column into multiple rows?</a>\nSample data of dataframe is as below.</p>\n\n<p>Id  Team    Food_Text\n1   X   Food is good. It is very well cooked. Delicious!\n2   X   I hate the squid. Food is not cooked well. At all indeed. \n3   X   Please do not good anytime over here\n4   Y   I love the fish. Awesome delicacy.\n5   Y   Good for desserts. Meat tastes bad</p>\n\n<p>Each record for 'Food_Text' can be of multiple sentences delimited by full-stop or period. I have used the following code</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\nsurvey_data = pd.read_csv(\"Food_Dummy.csv\")\nsurvey_text = survey_data[['Id','Team','Food_Text']]\n\n# Getting s as pandas series which has split on full stop and new sentence a new line         \ns = survey_text[\"Food_Text\"].str.split('.').apply(pd.Series,1).stack()\ns.index = s.index.droplevel(-1) # to line up with df's index\ns.name = 'Food_Text' # needs a name to join\n\n# There are blank or emplty cell values after above process. Removing them\ns.replace('', np.nan, inplace=True)\ns.dropna(inplace=True)\nx=s.to_frame(name='Food_Text1')\nx.head(10)\n\n# Joining should ideally get me proper output. But I am getting original dataframe instead of split one.\nsurvey_text.join(x)\nsurvey_text.head(10)\n</code></pre>\n\n<p>I am not sure why the join is not giving me a proper dataframe with more number of rows. Repetition of other columns based on index of split. So Id=1 has 3 sentences so we should have 3 records with all other data same and Food_Text column with a new sentence from a comment by ID=1. Similarly for other records. </p>\n\n<p>Thank You in advance for your help!\nRegards,\nSohil Shah</p>\n"}, {"tags": ["python", "datetime"], "comments": [{"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 1, "creation_date": 1551307109, "post_id": 54915581, "comment_id": 96597482, "body": "Is that a list of strings or a list of <code>datedime.datetime</code>?"}, {"owner": {"reputation": 61, "user_id": 9937895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1070e78073fc90cc15019a83f7a2d38?s=128&d=identicon&r=PG&f=1", "display_name": "mj1496", "link": "https://stackoverflow.com/users/9937895/mj1496"}, "edited": false, "score": 0, "creation_date": 1551321457, "post_id": 54915581, "comment_id": 96600972, "body": "It is a list of datetime.datetime"}, {"owner": {"reputation": 3190, "user_id": 2987755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gHWsA.jpg?s=128&g=1", "display_name": "dkb", "link": "https://stackoverflow.com/users/2987755/dkb"}, "edited": false, "score": 0, "creation_date": 1551332343, "post_id": 54915581, "comment_id": 96603515, "body": "what do you mean by serial number?"}], "answers": [{"tags": [], "owner": {"reputation": 3190, "user_id": 2987755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gHWsA.jpg?s=128&g=1", "display_name": "dkb", "link": "https://stackoverflow.com/users/2987755/dkb"}, "is_accepted": false, "score": 0, "last_activity_date": 1551333511, "last_edit_date": 1551333511, "creation_date": 1551333206, "answer_id": 54919222, "question_id": 54915581, "link": "https://stackoverflow.com/questions/54915581/convert-yyyymmdd-to-serial-number-python/54919222#54919222", "title": "convert yyyymmdd to serial number python", "body": "<p>Let me know if my understanding is wrong, I tried following and gives distinct numbers for each value of the list.<br>\nI modified<br>\n<code>t = ['1898-10-12 06:00','1898-10-12 12:00','1932-09-30 08:00','1932-09-30 00:00']</code><br>\n with<br>\n<code>t = [datetime.datetime(1898, 10, 12, 6, 0), datetime.datetime(1898, 10, 12, 12, 0), datetime.datetime(1932, 9, 30, 8, 0), datetime.datetime(1932, 9, 30, 0, 0)]</code><br>\nAs mentioned in comment it is list of datetime.datetime.<br>\nI am considering total MilliSeconds from <code>1970-01-01 00:00:00</code> the given date to generate a number.<br>\nSo dates which are before above date give values in negative. But distinct values.</p>\n\n<pre><code>t = [datetime.datetime(1898, 10, 12, 6, 0), datetime.datetime(1898, 10, 12, 12, 0), datetime.datetime(1932, 9, 30, 8, 0), datetime.datetime(1932, 9, 30, 0, 0)]\nthurser = []\nx = []\nfor i in range(len(t)):\n    thurser.append(t[i].toordinal())\n    x.append((t[i]-datetime.datetime.utcfromtimestamp(0)).total_seconds() * 1000.0)\n\nprint(thurser)\nprint(x)\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n<pre><code>[693150, 693150, 705556, 705556]\n[-2247501600000.0, -2247480000000.0, -1175616000000.0, -1175644800000.0]\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 10639, "user_id": 1431750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5557aad9ff70c36cfac418f511bdea98?s=128&d=identicon&r=PG", "display_name": "aneroid", "link": "https://stackoverflow.com/users/1431750/aneroid"}, "is_accepted": true, "score": 0, "last_activity_date": 1551351854, "creation_date": 1551351854, "answer_id": 54924207, "question_id": 54915581, "link": "https://stackoverflow.com/questions/54915581/convert-yyyymmdd-to-serial-number-python/54924207#54924207", "title": "convert yyyymmdd to serial number python", "body": "<p><a href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime.toordinal\" rel=\"nofollow noreferrer\"><code>datetime.toordinal()</code></a> considers only the 'date' part of the datetime object, not the time. So does <a href=\"https://docs.python.org/3/library/datetime.html#datetime.date.toordinal\" rel=\"nofollow noreferrer\"><code>date.toordinal()</code></a> - it only has a date part. The first 2 and last 2 elements in your list have datetimes on the same date but at different times, which <code>.toordinal</code> ignores. So, <code>.toordinal</code> will give you the same value for those same-dated datetimes.</p>\n\n<p>In general, the solution would be to calculate the delta between your dates and a pre-determined/fixed one. I'm using <code>datetime.datetime(1, 1, 1)</code>, the earliest possible datetime, so all the deltas are positive:</p>\n\n<pre><code>thurser = []\n# assuming t is a list of datetime objects\nfor d in t:\n    delta = d - datetime.datetime(1, 1, 1)\n    thurser.append(delta.days + delta.seconds/(24 * 3600))\n\n&gt;&gt;&gt; print(thurser)\n[693149.25, 693149.5, 705555.3333333334, 705555.0]\n</code></pre>\n\n<p>And if you prefer ints instead of floats, then use seconds instead of days:</p>\n\n<pre><code>thurser.append(int(delta.total_seconds()))  # total_seconds has microseconds in the float\n\n&gt;&gt;&gt; print(thurser)\n[59888095200, 59888116800, 60959980800, 60959952000]\n</code></pre>\n\n<p>And to get back the original values in the 2nd example:</p>\n\n<pre><code>&gt;&gt;&gt; [datetime.timedelta(seconds=d) + datetime.datetime(1, 1, 1) for d in thurser]\n[datetime.datetime(1898, 10, 12, 6, 0), datetime.datetime(1898, 10, 12, 12, 0),\n datetime.datetime(1932, 9, 30, 8, 0), datetime.datetime(1932, 9, 30, 0, 0)]\n&gt;&gt;&gt; _ == t  # compare with original values\nTrue\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9937895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1070e78073fc90cc15019a83f7a2d38?s=128&d=identicon&r=PG&f=1", "display_name": "mj1496", "link": "https://stackoverflow.com/users/9937895/mj1496"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 54924207, "answer_count": 2, "score": 0, "last_activity_date": 1551351854, "creation_date": 1551306823, "last_edit_date": 1551322264, "question_id": 54915581, "link": "https://stackoverflow.com/questions/54915581/convert-yyyymmdd-to-serial-number-python", "title": "convert yyyymmdd to serial number python", "body": "<p>How do I convert a list of dates that are in the form yyyymmdd to a serial number? For example, if I have this list of dates:</p>\n\n<pre><code>t = [1898-10-12 06:00,1898-10-12 12:00,1932-09-30 08:00,1932-09-30 00:00]\n</code></pre>\n\n<p>How do I convert each date to a serial number? Im currently using the datetime toordinal() command, but each date is being rounded to the same serial number. How do I get the same dates with different times to be different numbers?</p>\n\n<p>The times in the list are the datetime.datetime numbers. I tried then doing:</p>\n\n<pre><code>thurser = []\nfor i in range(len(t)):\n    thurser.append(t[i].toordinal())\n</code></pre>\n\n<p>But am not getting serial numbers as floats.</p>\n"}, {"tags": ["python", "default", "configparser"], "comments": [{"owner": {"reputation": 1266, "user_id": 1303577, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e96b0196e8e968b1a2d8f6ddfda87ab1?s=128&d=identicon&r=PG", "display_name": "Rusty Lemur", "link": "https://stackoverflow.com/users/1303577/rusty-lemur"}, "reply_to_user": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1551318392, "post_id": 54915574, "comment_id": 96600305, "body": "If the parameter is not present in the configuration file, will the attempted assignment result in the variable being unset? I&#39;m not at my computer, so can&#39;t test right now."}], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 1303577, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e96b0196e8e968b1a2d8f6ddfda87ab1?s=128&d=identicon&r=PG", "display_name": "Rusty Lemur", "link": "https://stackoverflow.com/users/1303577/rusty-lemur"}, "edited": false, "score": 0, "creation_date": 1557171047, "post_id": 55773702, "comment_id": 98667731, "body": "I&#39;m keeping this marked as the answer since it was submitted a little before the other one with the same solution.  However, I found just now that it is not supported in 2.7.    Are there other options for 2.7?"}], "tags": [], "owner": {"reputation": 311, "user_id": 4437936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1e8f98ffc6a91be025d5ecab299a69c?s=128&d=identicon&r=PG", "display_name": "L0ngSh0t", "link": "https://stackoverflow.com/users/4437936/l0ngsh0t"}, "is_accepted": true, "score": 4, "last_activity_date": 1555764816, "creation_date": 1555764816, "answer_id": 55773702, "question_id": 54915574, "link": "https://stackoverflow.com/questions/54915574/python-configparser-use-defaults-if-not-in-configuration-file/55773702#55773702", "title": "Python ConfigParser use defaults if not in configuration file", "body": "<p>You could use the built-in fallback parameter found <a href=\"https://docs.python.org/3.7/library/configparser.html#configparser.ConfigParser.get\" rel=\"nofollow noreferrer\">here</a> that is used if it cannot find the option:</p>\n\n<pre><code>listen_address = configs.get('ServerConfigs', 'listen_address', fallback='127.0.0.1')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 357, "user_id": 4865242, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OfCmw.jpg?s=128&g=1", "display_name": "jayprakashstar", "link": "https://stackoverflow.com/users/4865242/jayprakashstar"}, "is_accepted": false, "score": 1, "last_activity_date": 1555765790, "creation_date": 1555765790, "answer_id": 55773820, "question_id": 54915574, "link": "https://stackoverflow.com/questions/54915574/python-configparser-use-defaults-if-not-in-configuration-file/55773820#55773820", "title": "Python ConfigParser use defaults if not in configuration file", "body": "<p><a href=\"https://docs.python.org/3/library/configparser.html#fallback-values\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/configparser.html#fallback-values</a></p>\n\n<pre><code>if __name__ == \"__main__\":\n\n    # Set default values\n    listen_address = '127.0.0.1'\n    listen_port = 8000\n\n    # Check for configurations from file and override defaults\n    configFile = './configuration.ini'\n    if isfile(configFile):\n        try:\n            configs = ConfigParser.ConfigParser()\n            configs.read(configFile)\n            listen_address = configs.get('ServerConfigs', 'listen_address', fallback=listen_address)\n            listen_port = configs.get('ServerConfigs', 'listen_port', fallback=listen_port)\n        except configparser.Error:\n            # do whatever u want\n            pass\n\n</code></pre>\n"}], "owner": {"reputation": 1266, "user_id": 1303577, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e96b0196e8e968b1a2d8f6ddfda87ab1?s=128&d=identicon&r=PG", "display_name": "Rusty Lemur", "link": "https://stackoverflow.com/users/1303577/rusty-lemur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1234, "favorite_count": 0, "accepted_answer_id": 55773702, "answer_count": 2, "score": 2, "last_activity_date": 1555765790, "creation_date": 1551306777, "question_id": 54915574, "link": "https://stackoverflow.com/questions/54915574/python-configparser-use-defaults-if-not-in-configuration-file", "title": "Python ConfigParser use defaults if not in configuration file", "body": "<p>What's the best way to use a default value if it isn't defined in a configuration file?  E.g. in the example below, perhaps only <code>listen_address</code> is defined in the configuration, and <code>listen_port</code> is absent.</p>\n\n<p>I'm trying something like this:</p>\n\n<pre><code>import ConfigParser\nfrom os.path import isfile\n\nif __name__ == \"__main__\":\n\n    # Set default values\n    listen_address = '127.0.0.1'\n    listen_port = 8000\n\n    # Check for configurations from file and override defaults\n    configFile = './configuration.ini'\n    if isfile(configFile):\n        configs = ConfigParser.ConfigParser()\n        configs.read(configFile)\n        try:\n            listen_address = configs.get('ServerConfigs', 'listen_address')\n        except:\n            pass\n        try:\n            listen_port = configs.get('ServerConfigs', 'listen_port')\n        except:\n            pass\n</code></pre>\n\n<p>But that feels ugly.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 2, "last_activity_date": 1551306799, "creation_date": 1551306799, "answer_id": 54915578, "question_id": 54915550, "link": "https://stackoverflow.com/questions/54915550/exclude-dates-greater-than-500-years-old-in-pandas-dataframe/54915578#54915578", "title": "exclude dates greater than 500 years old in pandas dataframe", "body": "<p>Then just add the conditions</p>\n\n<pre><code>con1=(pd.to_datetime(df['date'], errors = 'coerce') &gt;= ar.utcnow().shift(days=-3650).date())\ncon2=pd.to_datetime(df['date'], errors = 'coerce').isnull()\n\ndf.loc[con1|con2]\n</code></pre>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 54915578, "answer_count": 1, "score": 0, "last_activity_date": 1580852276, "creation_date": 1551306658, "question_id": 54915550, "link": "https://stackoverflow.com/questions/54915550/exclude-dates-greater-than-500-years-old-in-pandas-dataframe", "title": "exclude dates greater than 500 years old in pandas dataframe", "body": "<p>I have a dataframe containing a column with dates. Some of the dates are missing (empty) and a few dates are in the year 1500.</p>\n\n<p>I want to get only those rows where either the date is within the last 10 years or is missing. </p>\n\n<p>Since Pandas has an time range of 584 years, I do this to avoid raising an error:</p>\n\n<pre><code>import arrow as ar\nimport pandas as pd\n\ndf[(pd.to_datetime(df['date'], errors = 'coerce') &gt;= ar.utcnow().shift(days=-3650).date())]\n</code></pre>\n\n<p>However, this also gets rid of the rows which have missing date and I do not want that. Is there a way to exclude dates > 10 years old but not the missing dates for this dataframe which also has dates > 500 years old</p>\n"}, {"tags": ["python", "mysql", "docker", "ip"], "comments": [{"owner": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 0, "creation_date": 1551311692, "post_id": 54915492, "comment_id": 96598794, "body": "Are you running the script from a different Docker container, or from the host?"}, {"owner": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "reply_to_user": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 0, "creation_date": 1551534820, "post_id": 54915492, "comment_id": 96679846, "body": "I am running the script from the host. I am a vim fan so was writing my scripts using vim and virtualenv from command line. I later downloaded pycharm and installed mysql-connector-python from pycharm&#39;s pip repo and was not able to reproduce this error. I am thinking it may have been an issue  with the virtualenv?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 0, "creation_date": 1551534599, "post_id": 54916693, "comment_id": 96679792, "body": "But its interesting, there is no IP running at 172.17.0.1 so why would my script try and connect to a IP that isn&#39;t there? I&#39;d also like to note, that I think there must have been an issue with the pip package that was downloaded in my virtualenv. I later downloaded pycharm and downloaded mysql-connector-python from pycharms repo&#39;s and was able to connect to the correct IP."}, {"owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "reply_to_user": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 0, "creation_date": 1551534812, "post_id": 54916693, "comment_id": 96679839, "body": "this ip <code>172.17.0.1</code> is the ip where you started your script (source ip ) not the target ip where you host the database"}, {"owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "reply_to_user": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 0, "creation_date": 1551534869, "post_id": 54916693, "comment_id": 96679857, "body": "python script in here (172.17.0.1) ----&gt; database in here (172.17.0.2). so the database need to authorize the source ip by allowing remote connections"}, {"owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "reply_to_user": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 0, "creation_date": 1551535040, "post_id": 54916693, "comment_id": 96679902, "body": "if you executed <code>ifconfig</code> on the host machine you will notice that its ip is 172.17.0.1 written in the docker0 interface. so you are trying to connect from your host to the container through <code>docker0</code>"}, {"owner": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 0, "creation_date": 1551537652, "post_id": 54916693, "comment_id": 96680603, "body": "Understood with the docker networking portion. But the issue here still is the fact that an interactive session allows for the connection where a module does not. The mysql instance is allowing connections from anywhere for user. I can connnect to this DB with DBeaver as well. This issue was not related to remote access permissions."}, {"owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "reply_to_user": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 0, "creation_date": 1551537753, "post_id": 54916693, "comment_id": 96680625, "body": "I am not sure why the console connected without issues. are you running it from the same container ? Also you can verify if it&#39;s related to allow remote access by checking mysql itself the Users table."}, {"owner": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 0, "creation_date": 1551538299, "post_id": 54916693, "comment_id": 96680760, "body": "The module and interactive sessions are being ran from my host machine, so no containers are being used to  run the python module at this time. The remote access is allowed. See below:     mysql&gt; select user,host from mysql.user;     +------------------+-----------+     | user             | host      |     +------------------+-----------+     | root             | %         |     | user              | %         |"}, {"owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "reply_to_user": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 0, "creation_date": 1551538571, "post_id": 54916693, "comment_id": 96680855, "body": "@tommydavison I noticed something with your code and have updated the answer"}, {"owner": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "edited": false, "score": 1, "creation_date": 1551538974, "post_id": 54916693, "comment_id": 96680971, "body": "good  eye.... I really can&#39;t believe I didn&#39;t notice that. I changed the code in my module and am able to connect. Thank you for the extra set of eyes and trouble shooting this issue with me."}], "tags": [], "owner": {"reputation": 8517, "user_id": 2336650, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/lpq4b.jpg?s=128&g=1", "display_name": "Mostafa Hussein", "link": "https://stackoverflow.com/users/2336650/mostafa-hussein"}, "is_accepted": true, "score": 0, "last_activity_date": 1551538548, "last_edit_date": 1551538548, "creation_date": 1551314586, "answer_id": 54916693, "question_id": 54915492, "link": "https://stackoverflow.com/questions/54915492/python-mysql-connector-module-uses-wrong-ip-address/54916693#54916693", "title": "python mysql.connector module uses wrong IP address", "body": "<p>The script does not try to connect to wrong IP. The error message</p>\n\n<pre><code>mysql.connector.errors.ProgrammingError: 1045 (28000): Access denied for user 'user'@'172.17.0.1' (using password: YES)\n</code></pre>\n\n<p>Means that this user <code>user</code> which coming through this host <code>172.17.0.1</code> will not be able to connect to the database which you are trying to access at <code>172.17.0.2</code>.\nWhat you need to do is to <a href=\"https://stackoverflow.com/a/14779244/2336650\">allow remote MySQL connection</a> from the host <code>172.17.0.1</code> for this user <code>user</code> which will make the script able to work as expected.</p>\n\n<p><strong>Update</strong>:\nNot sure if that is related but the python script shows that the password is <code>password</code> and the console shows that the password is <code>passwd</code>. if the remote access is already allowed ensure that you typed the password correctly</p>\n"}], "owner": {"reputation": 3, "user_id": 10355243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OXOxWvxc-Mo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNK5sKxa8sF5BTT67RtP-yChWZUXA/mo/photo.jpg?sz=128", "display_name": "tommy davison", "link": "https://stackoverflow.com/users/10355243/tommy-davison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 54916693, "answer_count": 1, "score": 0, "last_activity_date": 1551538548, "creation_date": 1551306305, "question_id": 54915492, "link": "https://stackoverflow.com/questions/54915492/python-mysql-connector-module-uses-wrong-ip-address", "title": "python mysql.connector module uses wrong IP address", "body": "<p>I am having an issue when using python mysql.connector module in a script. When I run to connect to a docker container running mysql v8 from my script it tries to connect to the wrong IP address. Below is the sample function:</p>\n\n<pre><code>import mysql.connector\ndef connect():\n    db =  mysql.connector.connect(\n        host=\"172.17.0.2\",\n        user=\"user\",\n        passwd=\"password\",\n        auth_plugin='mysql_native_password')\n</code></pre>\n\n<p>When this is ran, the following error is produced:\nmysql.connector.errors.ProgrammingError: 1045 (28000): Access denied for user 'user'@'172.17.0.1' (using password: YES)</p>\n\n<p>Here is the IP of the docker container that I am trying to connect to</p>\n\n<p>IPAddress\": \"172.17.0.2\"</p>\n\n<p>What really makes this interesting is that I can connect to the database just fine with the mysql.connector when using in an interactive python session. See below</p>\n\n<pre><code>Python 3.7.2 (default, Jan 16 2019, 19:49:22) \n[GCC 8.2.1 20181215 (Red Hat 8.2.1-6)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import mysql.connector\n&gt;&gt;&gt; db =  mysql.connector.connect(\n... host=\"172.17.0.2\",\n... user=\"user\",\n... passwd=\"passwd\",\n... auth_plugin='mysql_native_password')\n&gt;&gt;&gt; mycursor =  db.cursor()\n&gt;&gt;&gt; mycursor.execute(\"show databases\")\n&gt;&gt;&gt; for x in mycursor: print(x)\n... \n('food',)\n('information_schema',) \n</code></pre>\n\n<p>Here is the version of mysql-connector that I am running on Fedora 29</p>\n\n<pre><code>pip list |grep mysql-connector\nmysql-connector-python 8.0.15       \n</code></pre>\n\n<p>Here is docker version info as well</p>\n\n<pre><code>Client:\n Version:           18.09.2\n API version:       1.39\n Go version:        go1.10.6\n Git commit:        6247962\n Built:             Sun Feb 10 04:13:54 2019\n OS/Arch:           linux/amd64\n Experimental:      false\n\nServer: Docker Engine - Community\n Engine:\n  Version:          18.09.2\n  API version:      1.39 (minimum version 1.12)\n  Go version:       go1.10.6\n  Git commit:       6247962\n  Built:            Sun Feb 10 03:47:25 2019\n  OS/Arch:          linux/amd64\n  Experimental:     false\n</code></pre>\n\n<p>Any thoughts on what would cause running this from a script to fail?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 2, "creation_date": 1551306342, "post_id": 54915467, "comment_id": 96597212, "body": "You pass it the <code>column</code> parameter when you call <code>.hist()</code>"}, {"owner": {"reputation": 79, "user_id": 9114921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c004bf0160fa8f4d6c4802919a71bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Leon S. Kennedy", "link": "https://stackoverflow.com/users/9114921/leon-s-kennedy"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551306958, "post_id": 54915467, "comment_id": 96597426, "body": "@G.Anderson You are right, appreciate the help."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551307041, "post_id": 54915467, "comment_id": 96597459, "body": "Happy to help! But always remember to check the documentation before anything else"}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 9114921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c004bf0160fa8f4d6c4802919a71bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Leon S. Kennedy", "link": "https://stackoverflow.com/users/9114921/leon-s-kennedy"}, "is_accepted": true, "score": 3, "last_activity_date": 1551307027, "creation_date": 1551307027, "answer_id": 54915616, "question_id": 54915467, "link": "https://stackoverflow.com/questions/54915467/how-do-i-only-plot-histogram-for-only-certain-columns-of-a-data-frame-in-pandas/54915616#54915616", "title": "How do I only plot histogram for only certain columns of a data-frame in pandas", "body": "<p>Ok, here is the solution df.hist(column=[\"Category 1\", \"Category 2\", \"Category 3\", \"Category 4\", \"Category 5\"])</p>\n"}], "owner": {"reputation": 79, "user_id": 9114921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c004bf0160fa8f4d6c4802919a71bdd?s=128&d=identicon&r=PG&f=1", "display_name": "Leon S. Kennedy", "link": "https://stackoverflow.com/users/9114921/leon-s-kennedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1054, "favorite_count": 0, "accepted_answer_id": 54915616, "answer_count": 1, "score": 1, "last_activity_date": 1551307027, "creation_date": 1551306193, "last_edit_date": 1551306258, "question_id": 54915467, "link": "https://stackoverflow.com/questions/54915467/how-do-i-only-plot-histogram-for-only-certain-columns-of-a-data-frame-in-pandas", "title": "How do I only plot histogram for only certain columns of a data-frame in pandas", "body": "<p>Here is the data that I have:\n<a href=\"https://i.stack.imgur.com/EwuSA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Let say I have the data-frame in a variable called df, if I do df.hist(), it will show one histogram for each category in the data-frame, but I only want one histogram for each category from category 1 to 5. How do I do that?</p>\n"}, {"tags": ["python", "installation", "pip", "anaconda", "visual-studio-2017-build-tools"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551308336, "post_id": 54915458, "comment_id": 96597896, "body": "Did you install Build Tools or Redistributable?"}, {"owner": {"reputation": 5, "user_id": 11127620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r2ru1gGKplY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc740eeFRFeiIilbEI5JRUmeZcT0Q/mo/photo.jpg?sz=128", "display_name": "Tanguy Jonv", "link": "https://stackoverflow.com/users/11127620/tanguy-jonv"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551372219, "post_id": 54915458, "comment_id": 96625351, "body": "I&#39;m not really sure to know the difference between those two, I got them at this link, so I think I did install Build Tools : <a href=\"https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=BuildTools&amp;rel=15\" rel=\"nofollow noreferrer\">visualstudio.microsoft.com/thank-you-downloading-visual-stud&zwnj;&#8203;io/&hellip;</a>"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551373147, "post_id": 54915458, "comment_id": 96625866, "body": "The difference is that Build Tools contain compiler and Redistributable does not. You need compiler. You need to configure it. See <a href=\"https://stackoverflow.com/a/50671800/7976758\">stackoverflow.com/a/50671800/7976758</a> and <a href=\"https://stackoverflow.com/a/40886619/7976758\">stackoverflow.com/a/40886619/7976758</a>."}, {"owner": {"reputation": 5, "user_id": 11127620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r2ru1gGKplY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc740eeFRFeiIilbEI5JRUmeZcT0Q/mo/photo.jpg?sz=128", "display_name": "Tanguy Jonv", "link": "https://stackoverflow.com/users/11127620/tanguy-jonv"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551382279, "post_id": 54915458, "comment_id": 96630268, "body": "Thank you for your help ! So now I am sure to have installed the compiler. It doesn&#39;t work though, but the error is not the same. I have followed this <a href=\"https://stackoverflow.com/questions/41724445/python-pip-on-windows-command-cl-exe-failed\" title=\"python pip on windows command cl exe failed\">stackoverflow.com/questions/41724445/&hellip;</a> and also tried to update setup as advised there <a href=\"https://github.com/benfred/implicit/issues/76\" rel=\"nofollow noreferrer\">github.com/benfred/implicit/issues/76</a>. Yet , when I try to build the library from source, i get &quot;command &#39;cl.exe&#39; failed: No such file or directory&quot;, and for the pip install, &quot;failed with exit status 2&quot;, &quot;c1: fatal error C1355: entry point &#39;PDBSetServerFastFailMode&#39; in mspdbcore.dll cant be found&quot;"}, {"owner": {"reputation": 5, "user_id": 11127620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r2ru1gGKplY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc740eeFRFeiIilbEI5JRUmeZcT0Q/mo/photo.jpg?sz=128", "display_name": "Tanguy Jonv", "link": "https://stackoverflow.com/users/11127620/tanguy-jonv"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551382791, "post_id": 54915458, "comment_id": 96630533, "body": "I&#39;ve just updated the path, and now when I try to build from source, python finds cl.exe butI get &quot;fatal error C1083&quot;"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551383114, "post_id": 54915458, "comment_id": 96630691, "body": "&quot;Cannot open include file&quot;? Which one?"}, {"owner": {"reputation": 5, "user_id": 11127620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r2ru1gGKplY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc740eeFRFeiIilbEI5JRUmeZcT0Q/mo/photo.jpg?sz=128", "display_name": "Tanguy Jonv", "link": "https://stackoverflow.com/users/11127620/tanguy-jonv"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551383281, "post_id": 54915458, "comment_id": 96630776, "body": "The error comes from \\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17763.0\\ucrt\\corecrt.h(10), the file it cannot open is &#39;vcruntime.h&#39;"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551383418, "post_id": 54915458, "comment_id": 96630845, "body": "<a href=\"https://stackoverflow.com/a/44133043/7976758\">stackoverflow.com/a/44133043/7976758</a> Found in <a href=\"https://stackoverflow.com/search?q=fatal+error+C1083+Cannot+open+include+file+vcruntime.h\">stackoverflow.com/&hellip;</a>"}, {"owner": {"reputation": 5, "user_id": 11127620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r2ru1gGKplY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc740eeFRFeiIilbEI5JRUmeZcT0Q/mo/photo.jpg?sz=128", "display_name": "Tanguy Jonv", "link": "https://stackoverflow.com/users/11127620/tanguy-jonv"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1551390375, "post_id": 54915458, "comment_id": 96633911, "body": "The solution in this did not work. I have finally solved the problem : I needed to install native development tools for python with visual studio installer. Thank you very much for your help and time :)"}, {"owner": {"reputation": 8346, "user_id": 6573902, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nplar.jpg?s=128&g=1", "display_name": "sophros", "link": "https://stackoverflow.com/users/6573902/sophros"}, "edited": false, "score": 1, "creation_date": 1578928105, "post_id": 54915458, "comment_id": 105588882, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/44951456/pip-error-microsoft-visual-c-14-0-is-required\">Pip error: Microsoft Visual C++ 14.0 is required</a>"}], "owner": {"reputation": 5, "user_id": 11127620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r2ru1gGKplY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc740eeFRFeiIilbEI5JRUmeZcT0Q/mo/photo.jpg?sz=128", "display_name": "Tanguy Jonv", "link": "https://stackoverflow.com/users/11127620/tanguy-jonv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5900, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1603855090, "creation_date": 1551306156, "question_id": 54915458, "link": "https://stackoverflow.com/questions/54915458/microsoft-visual-c-14-0-is-required-get-it-with-microsoft-visual-c-build", "title": "&quot;Microsoft Visual C++ 14.0 is required. Get it with \u201cMicrosoft Visual C++ Build Tools\u201d error with MVS build tools installed", "body": "<p>I am trying to install OpenPIV on my anaconda distribution. I tried first pip installing and conda installing as it is advised <a href=\"http://www.openpiv.net/openpiv-python/\" rel=\"nofollow noreferrer\">there</a>, and I also tried to compile it from source. Conda can't find the openpiv package in its repositories. Both when I tried to compile it from source or to pip install it, I got a \"Microsoft Visual C++ 14.0 is required. Get it with \u201cMicrosoft Visual C++ Build Tools\u201d. I already have installed Microsoft Build Tools for visual studio 2017 (and tried to reboot afterwards). Does anybody have a clue how to deal with that ?</p>\n\n<p>The exact error is as following (for the pip installation) :</p>\n\n<pre><code> error: Microsoft Visual C++ 14.0 is required. Get it with \"Microsoft Visual C++ Build Tools\": http://landinghub.visualstudio.com/visual-cpp-build-tools\n\n    ----------------------------------------\nCommand \"C:\\Users\\tangu\\Anaconda3\\python.exe -u -c \"import setuptools, tokenize;__file__='C:\\\\Users\\\\tangu\\\\AppData\\\\Local\\\\Temp\\\\pip-build-53nc_kez\\\\openpiv\\\\setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record C:\\Users\\tangu\\AppData\\Local\\Temp\\pip-eu69lm7f-record\\install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in C:\\Users\\tangu\\AppData\\Local\\Temp\\pip-build-53nc_kez\\openpiv\\\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1404, "user_id": 10496710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5cb3d11da053d8e1e94ef99a27ca6af?s=128&d=identicon&r=PG&f=1", "display_name": "B. Go", "link": "https://stackoverflow.com/users/10496710/b-go"}, "edited": false, "score": 0, "creation_date": 1551308875, "post_id": 54915454, "comment_id": 96598062, "body": "Meaning you want to extract the value 5 from your column d? Like by taking the max of that column, storing it in a variable and using that variable instead of the two &#39;5&#39; in your command?"}, {"owner": {"reputation": 768, "user_id": 2661763, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d8e00378243dc557318243d0dc5a14ca?s=128&d=identicon&r=PG", "display_name": "qfd", "link": "https://stackoverflow.com/users/2661763/qfd"}, "reply_to_user": {"reputation": 1404, "user_id": 10496710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5cb3d11da053d8e1e94ef99a27ca6af?s=128&d=identicon&r=PG&f=1", "display_name": "B. Go", "link": "https://stackoverflow.com/users/10496710/b-go"}, "edited": false, "score": 0, "creation_date": 1551340152, "post_id": 54915454, "comment_id": 96606668, "body": "thanks very much , yes but not take the max of the column but use either 5 or 2 as specified"}], "owner": {"reputation": 768, "user_id": 2661763, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d8e00378243dc557318243d0dc5a14ca?s=128&d=identicon&r=PG", "display_name": "qfd", "link": "https://stackoverflow.com/users/2661763/qfd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551306148, "creation_date": 1551306148, "question_id": 54915454, "link": "https://stackoverflow.com/questions/54915454/using-lambda-and-groupby-in-combination", "title": "using lambda and groupby in combination", "body": "<p>I have a dataframe df with 4 columns, lets say a,b,c,d. lets say a is the subject, b is the gender, c is the score and d is a number either 2 or\n5. I would like to group the data based on subject and gender and partition this grouped data into d groups based on the score c and then store this into a new column e </p>\n\n<p>this is my sample code below: </p>\n\n<pre><code>df['e'] = df.groupby([a,b])['c'].transform(lambda x: pd.qcut(x, 5, labels=np.arange(5, 0, -1)))\n</code></pre>\n\n<p>This only works if my number of categories is static and not dynamic as I would like it to be based on column d</p>\n"}, {"tags": ["python", "apache", "ibm-midrange"], "comments": [{"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1551308018, "post_id": 54915450, "comment_id": 96597792, "body": "Please don&#39;t be offended, but it must be asked: Are you <i>sure</i> the Python script is in an appropriate directory? And that the directory itself and any parent directories have the proper permissions?"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1551308281, "post_id": 54915450, "comment_id": 96597878, "body": "Oh, is your Python interpreter really <code>&#47;QOpenSys&#47;usr&#47;bin&#47;python3</code>? If you&#39;ve used the recent RPM-based installation (with <code>yum</code>) then you want <code>&#47;QOpenSys&#47;pkgs&#47;bin&#47;python3</code>. You can check with <code>which python3</code> at the command line."}, {"owner": {"reputation": 101, "user_id": 1883578, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ac8dae9f06d449b76f272694a220c294?s=128&d=identicon&r=PG", "display_name": "Ehaver282", "link": "https://stackoverflow.com/users/1883578/ehaver282"}, "reply_to_user": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1551359650, "post_id": 54915450, "comment_id": 96617659, "body": "My python script is in the /www/bmaserver/htdocs directory which also has read/execute permissions and is the directory that is allowing ExecCGI to run. This was installed using IBMs built in PTF and applications install process. When I run the command <code>which python3</code> I get the /QOpenSys/usr/bin/python3 directory as a result."}], "owner": {"reputation": 101, "user_id": 1883578, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ac8dae9f06d449b76f272694a220c294?s=128&d=identicon&r=PG", "display_name": "Ehaver282", "link": "https://stackoverflow.com/users/1883578/ehaver282"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571429769, "creation_date": 1551306144, "question_id": 54915450, "link": "https://stackoverflow.com/questions/54915450/python-hello-world-program-error-the-script-is-not-executable", "title": "Python Hello World Program Error The script is not executable", "body": "<p>I am trying to run a simple Python Hello World script. I have the program working through the command line but not when I try to run it from our website. I get a 404 Not found error The script request is not valid. The script is not executable. I am working off an IBM AS400 ISeries under an Apache webserver that is also running PHP.</p>\n\n<p>I added </p>\n\n<pre><code>Options +FollowSymLinks +ExecCGI\nAddHandler cgi-script .py\n</code></pre>\n\n<p>to the httpd.conf file to turn Python on for my server. The file I am running has read and execute permissions. \nI will post my current config file below and here is the code I am trying to run. </p>\n\n<pre><code>#!/QOpenSys/usr/bin/python3\nprint(\"Content-type: text/html\\n\");\nprint(\"\\n\\n\");\nprint(\"&lt;HTML&gt;\");\nprint(\"&lt;HEAD&gt;\");\nprint(\"&lt;TITLE&gt;Test&lt;/TITLE&gt;\");\nprint(\"&lt;/HEAD&gt;\");\nprint(\"&lt;BODY&gt;\");\nprint(\"&lt;H2&gt;Hi there.&lt;/h2&gt;\");\nprint(\"&lt;/BODY&gt;\");\nprint(\"&lt;/HTML&gt;\");\n</code></pre>\n\n<p>I am still trying to figure out this whole Python thing and any help would be greatly appreciated. </p>\n\n<p>Thank you. </p>\n\n<p>Config:</p>\n\n<pre><code># BMAServer Web Server Configuration created by MCCI/Chuck Mason on 2/13/2019\n#LoadModule ibm_ssl_module /QSYS.LIB/QHTTPSVR.LIB/QZSRVSSL.SRVPGM\n\nLoadModule zend_enabler_module /QSYS.LIB/QHTTPSVR.LIB/QZFAST.SRVPGM\n\nListen *:85\n\nDocumentRoot /www/bmaserver/htdocs\nTraceEnable Off\n\nOptions +Indexes +FollowSymLinks +ExecCGI\n\nLogFormat \"%h %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\nLogFormat \"%{Cookie}n \\\"%r\\\" %t\" cookie\nLogFormat \"%{User-agent}i\" agent\nLogFormat \"%{Referer}i -&gt; %U\" referer\nLogFormat \"%h %l %u %t \\\"%r\\\" %&gt;s %b\" common\n\nCustomLog logs/access_log combined\nLogMaint logs/access_log 3 0\nLogMaint logs/error_log 3 0\n\nServerName BMAserver\n\nSetEnvIf \"User-Agent\" \"Mozilla/2\" nokeepalive\nSetEnvIf \"User-Agent\" \"JDK/1\\.0\" force-response-1.0\nSetEnvIf \"User-Agent\" \"Java/1\\.0\" force-response-1.0\nSetEnvIf \"User-Agent\" \"RealPlayer 4\\.0\" force-response-1.0\nSetEnvIf \"User-Agent\" \"MSIE 4\\.0b2;\" nokeepalive\nSetEnvIf \"User-Agent\" \"MSIE 4\\.0b2;\" force-response-1.0\n\nDirectoryIndex menu.php\n\nCgiConvMode %%MIXED/MIXED%%\n#TimeOut 30000\nKeepAlive Off\nHotBackup Off\n\nDefaultFsCCSID 37\nCGIJobCCSID 37\n\nAccessFileName .htaccess\nAddCharset UTF-8 .htm .html\n\n# zend fastcgi\n# Directive name \"FastCgiConfig\" is not recognized. (argh)\nAddType application/x-httpd-php .php\nAddHandler fastcgi-script .php\n\nRewriteEngine on\n\n&lt;Location *&gt;\n  &lt;LimitExcept GET HEAD OPTIONS TRACE POST&gt;\n     Order Allow,Deny\n     Deny From All\n  &lt;/LimitExcept&gt;\n&lt;/Location&gt;\n\n&lt;Location /&gt;\n  Require valid-user\n  AuthType Basic\n  AuthName MHBAServer\n  PasswdFile %%SYSTEM%%\n  UserID %%CLIENT%%\n&lt;/Location&gt;\n\n&lt;Directory /&gt;\n  Order Deny,Allow\n  Deny From all\n&lt;/Directory&gt;\n\n# Allow requests for files in document root\n&lt;Directory /www/bmaserver/htdocs&gt;\n  Options +FollowSymLinks +ExecCGI\n  AddHandler cgi-script .py\n  Order Allow,Deny\n  Allow From all\n  AllowOverride all\n&lt;/Directory&gt;\n\n# Allow requests for OutQueue\n&lt;Directory /www/bmaserver/OutQueue&gt;\n  Order Allow,Deny\n  Allow From all\n&lt;/Directory&gt;\n\nAliasMatch ^/htdocs/(.*) /www/bmaserver/htdocs/$1\nAliasMatch ^/OutQueue/(.*) /www/bmaserver/OutQueue/$1\n</code></pre>\n"}, {"tags": ["python", "string", "list", "int"], "comments": [{"owner": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "edited": false, "score": 0, "creation_date": 1551306148, "post_id": 54915430, "comment_id": 96597142, "body": "What error ? Can you show us the stack trace ?"}, {"owner": {"reputation": 23, "user_id": 9903720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc41ca580e236eda990a9ec8503284c?s=128&d=identicon&r=PG&f=1", "display_name": "aliciacgu", "link": "https://stackoverflow.com/users/9903720/aliciacgu"}, "reply_to_user": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "edited": false, "score": 0, "creation_date": 1551306453, "post_id": 54915430, "comment_id": 96597262, "body": "I just updated it"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 1, "creation_date": 1551306561, "post_id": 54915430, "comment_id": 96597294, "body": "<code>purchase_amounts</code> is of type <code>list</code> so this operation is not valid <code>purchase_amounts+=int(amount)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "is_accepted": false, "score": 3, "last_activity_date": 1551306459, "creation_date": 1551306459, "answer_id": 54915514, "question_id": 54915430, "link": "https://stackoverflow.com/questions/54915430/str-to-int-python-3/54915514#54915514", "title": "str to int Python 3", "body": "<p>How about that ?</p>\n\n<pre><code>def inputs():\n    while True:\n        s = input('enter: ')\n        if not s:\n            break\n        yield s\n\nprint([int(i) for i in inputs()])\n</code></pre>\n\n<p>Why the error in your code you might ask, because you do this:</p>\n\n<pre><code>purchase_amounts+=amount\n</code></pre>\n\n<p>which is equivalent to this:</p>\n\n<pre><code>purchase_amounts = [] + 1  # cannot add a list and an int\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 214708, "user_id": 201359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7odj.jpg?s=128&g=1", "display_name": "&#211;scar L&#243;pez", "link": "https://stackoverflow.com/users/201359/%c3%93scar-l%c3%b3pez"}, "is_accepted": true, "score": 2, "last_activity_date": 1551306538, "creation_date": 1551306538, "answer_id": 54915526, "question_id": 54915430, "link": "https://stackoverflow.com/questions/54915430/str-to-int-python-3/54915526#54915526", "title": "str to int Python 3", "body": "<p>There's a bug in this line:</p>\n\n<pre><code>purchase_amounts += int(amount)\n</code></pre>\n\n<p>This is how you should append elements to a list:</p>\n\n<pre><code>purchase_amounts.append(int(amount))\n</code></pre>\n\n<p>Now your list is made up of ints from the beginning! For completeness sake, this is how you can convert an existing list of strings into ints:</p>\n\n<pre><code>[int(x) for x in purchase_amounts]\n</code></pre>\n\n<p>Or alternatively:</p>\n\n<pre><code>list(map(int, purchase_amounts))\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9903720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc41ca580e236eda990a9ec8503284c?s=128&d=identicon&r=PG&f=1", "display_name": "aliciacgu", "link": "https://stackoverflow.com/users/9903720/aliciacgu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 54915526, "answer_count": 2, "score": 0, "last_activity_date": 1551306538, "creation_date": 1551306073, "last_edit_date": 1551306401, "question_id": 54915430, "link": "https://stackoverflow.com/questions/54915430/str-to-int-python-3", "title": "str to int Python 3", "body": "<p>i'm trying to make int all the elements in a list that is filled with inputs. I tried this options and nither of them are working.</p>\n\n<pre><code>initial_price=int(input(\"Price: \"))\npurchase_amounts=[initial_price]\nwhile purchase_amounts:\n    amount=input(\"Price: \")\n    if amount.lower()==\"done\":\n        break\n    else:\n        purchase_amounts+=amount\n\nfor x in purchase_amounts:\n    int(x)\n\nprint(purchase_amounts) \n</code></pre>\n\n<p>The return is this one (Just the first item is int):</p>\n\n<pre><code>Price: 34\nPrice: 54\nPrice: 34\nPrice: done\n[34, '5', '4', '3', '4']\n</code></pre>\n\n<p>I also tried this:</p>\n\n<pre><code>initial_price=int(input(\"Price: \"))\npurchase_amounts=[initial_price]\nwhile purchase_amounts:\n    amount=input(\"Price: \")\n    if amount.lower()==\"done\":\n        break\n    else:\n        purchase_amounts+=int(amount)\n\nprint(purchase_amounts) \n</code></pre>\n\n<p>But it returns this error:</p>\n\n<pre><code>Price: 34\nPrice: 65\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-2-f2b484e3ce61&gt; in &lt;module&gt;()\n      8         break\n      9     else:\n---&gt; 10         purchase_amounts+=int(amount)\n     11 \n     12 print(purchase_amounts)\n\nTypeError: 'int' object is not iterable\n</code></pre>\n"}, {"tags": ["javascript", "python", "selenium", "selenium-webdriver", "webdriver"], "comments": [{"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 0, "creation_date": 1551307266, "post_id": 54915427, "comment_id": 96597546, "body": "The <code>execute_script</code> function is apparently looking for a function as its first parameter. What you&#39;re passing in is not a function. What exactly are you expecting that call to do?"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 1, "creation_date": 1551371417, "post_id": 54915427, "comment_id": 96624907, "body": "Are you sure you ran the code you posted? The code you posted looks fine. My guess is that you ran <code>arguments[0].click</code> (without the <code>()</code>s)."}, {"owner": {"reputation": 21, "user_id": 5447138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lo1ki.jpg?s=128&g=1", "display_name": "Zilden", "link": "https://stackoverflow.com/users/5447138/zilden"}, "edited": false, "score": 2, "creation_date": 1551372178, "post_id": 54915427, "comment_id": 96625321, "body": "Ironically it ran well when I removed the () , still questioning why"}], "answers": [{"comments": [{"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1551371445, "post_id": 54925183, "comment_id": 96624923, "body": "<code>;</code> isn&#39;t required. I just ran it with and without and both worked."}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": -1, "last_activity_date": 1551354955, "creation_date": 1551354955, "answer_id": 54925183, "question_id": 54915427, "link": "https://stackoverflow.com/questions/54915427/selenium-common-exceptions-webdriverexception-message-unknown-error-arguments/54925183#54925183", "title": "selenium.common.exceptions.WebDriverException: Message: unknown error: arguments[0].click is not a function using execute_script() in Selenium Python", "body": "<p>Seems you were pretty close. You need to add a <strong><code>;</code></strong> after the <code>click()</code> method.</p>\n\n<p>So effectively the line of code:</p>\n\n<pre><code>self.driver.execute_script(\"arguments[0].click()\", _hamburger_menu_)\n</code></pre>\n\n<p>will be:</p>\n\n<pre><code>self.driver.execute_script(\"arguments[0].click();\", _hamburger_menu_)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5447138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lo1ki.jpg?s=128&g=1", "display_name": "Zilden", "link": "https://stackoverflow.com/users/5447138/zilden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1274, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1551354955, "creation_date": 1551306058, "last_edit_date": 1551354921, "question_id": 54915427, "link": "https://stackoverflow.com/questions/54915427/selenium-common-exceptions-webdriverexception-message-unknown-error-arguments", "title": "selenium.common.exceptions.WebDriverException: Message: unknown error: arguments[0].click is not a function using execute_script() in Selenium Python", "body": "<p>I've check the docs and other forums I haven't found a concrete answer. please find below the code snippet.</p>\n\n<pre><code>def click_hamburger_menu(self):\n    _hamburger_menu_ = WebDriverWait(self.driver, 15).until(\n                                EC.visibility_of_element_located((\n                                By.XPATH, \"//*[name()='svg' and @class='site-header__nav-trigger']\")))\n    self.driver.execute_script(\"arguments[0].click()\", _hamburger_menu_)\n</code></pre>\n\n<p>Error message:</p>\n\n<pre><code>selenium.common.exceptions.WebDriverException: Message: unknown error: arguments[0].click is not a function\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "csv", "export-to-csv"], "comments": [{"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551306855, "post_id": 54915422, "comment_id": 96597387, "body": "there&#39;s something fishy when you say &quot;Values are constantly being added&quot; and then &quot;it first starts subtracting from row 1&quot; please show or explain more of what you mean as there&#39;s not enough code here to see what is going wrong."}, {"owner": {"reputation": 67, "user_id": 7010093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c276aee4652d44ef0d164ed25ae4ded?s=128&d=identicon&r=PG&f=1", "display_name": "D.Mann", "link": "https://stackoverflow.com/users/7010093/d-mann"}, "reply_to_user": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551307013, "post_id": 54915422, "comment_id": 96597451, "body": "@Jab I am parsing a json file which is outputs network packet data, which then gets added to a csv file names &quot;data.csv&quot;, I am not asking anyone to correct certain code, just asking for a function within pandas which would allow me to update only future data in csv file without touching data that was already there at the time of execution of code"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551307375, "post_id": 54915422, "comment_id": 96597589, "body": "You could set the mode in <code>to_csv</code> to <code>&#39;a&#39;</code> for append. It defaults to <code>&#39;w&#39;</code> for write."}, {"owner": {"reputation": 67, "user_id": 7010093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c276aee4652d44ef0d164ed25ae4ded?s=128&d=identicon&r=PG&f=1", "display_name": "D.Mann", "link": "https://stackoverflow.com/users/7010093/d-mann"}, "reply_to_user": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551309188, "post_id": 54915422, "comment_id": 96598157, "body": "@Jab that&#39;s weird, i was trying the append before but it was giving me an error cause Column names were being printed onto my csv file. So i figured out that apparently i forgot i put &quot;QUOTE_ALL&quot; and that was reprinting column names i ran the code. Append worked for this. thanks"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1551314548, "post_id": 54915422, "comment_id": 96599463, "body": "As a comment on your methodology, <b><i>streaming data</i></b> or <a href=\"https://stackoverflow.com/questions/tagged/message-queue\"><b><i>message-queues</i></b></a> are probably more suitable design patterns if you only want to perform action on new chunks of data. Suggest you look into them."}], "owner": {"reputation": 67, "user_id": 7010093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c276aee4652d44ef0d164ed25ae4ded?s=128&d=identicon&r=PG&f=1", "display_name": "D.Mann", "link": "https://stackoverflow.com/users/7010093/d-mann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551306029, "creation_date": 1551306029, "question_id": 54915422, "link": "https://stackoverflow.com/questions/54915422/adding-data-to-csv-file-without-touching-previous-data-in-the-file", "title": "Adding data to csv file without touching previous data in the file", "body": "<p>I have a csv file named \"data.csv\":</p>\n\n<pre><code>Column1  Column2  Column3  Column4\n10       20       30       40\n12       23       78       98\n23       67       101      123\n24       70       104      130\n25       73       105      131\n</code></pre>\n\n<p>Then I am running: </p>\n\n<pre><code>df_out = df.diff()\ndf_out = df_out.dropna()\ndf_out.to_csv('newdata.csv', index=False)\n</code></pre>\n\n<p>This makes it so the rows are subtracted from one another and the result\ngets printed into a new csv file:</p>\n\n<pre><code>Column1  Column2  Column3  Column4  \n2        3        48       58      \n11       44       23       25      \n1        3        3        7\n1        3        1        1\n</code></pre>\n\n<p>Values are constantly being added in \"data.csv\" file, which mean the \"newdata.csv\" is constantly being updated with the difference.</p>\n\n<p><strong>Problem</strong>: Everytime I run the code, it first starts subtracting from row 1 of the \"data.csv\" file but I only want it to find the difference for the new values without touching the older data in \"newdata.csv\"</p>\n\n<p>Is that something that is possible within pandas?</p>\n"}, {"tags": ["python", "json", "jsondecoder"], "answers": [{"tags": [], "owner": {"reputation": 10314, "user_id": 6124411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4E3zE.jpg?s=128&g=1", "display_name": "cody", "link": "https://stackoverflow.com/users/6124411/cody"}, "is_accepted": true, "score": 2, "last_activity_date": 1551310064, "last_edit_date": 1551310064, "creation_date": 1551309666, "answer_id": 54916043, "question_id": 54915420, "link": "https://stackoverflow.com/questions/54915420/python-to-parse-file-with-two-lists-of-json-objects-using-json-load/54916043#54916043", "title": "Python to parse file with two lists of json objects using json load", "body": "<p>You could use <a href=\"https://docs.python.org/3/library/json.html#json.JSONDecoder.raw_decode\" rel=\"nofollow noreferrer\"><code>json.JSONDecoder.raw_decode()</code></a> which will parse one complete object and return it with the character position it ended at, allowing you to iterate through each one:</p>\n\n<pre><code>from json import JSONDecoder, JSONDecodeError\n\ndecoder = JSONDecoder()\ndata = '[{\"a\":1}][{\"b\":2}]'\n\npos = 0\nwhile True:\n    try:\n        o, pos = decoder.raw_decode(data, pos)\n        print(o)\n    except JSONDecodeError:\n        break\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[{'a': 1}]\n[{'b': 2}]\n</code></pre>\n"}], "owner": {"reputation": 1740, "user_id": 1611045, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5Jlql.jpg?s=128&g=1", "display_name": "Anish", "link": "https://stackoverflow.com/users/1611045/anish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 54916043, "answer_count": 1, "score": 1, "last_activity_date": 1551310064, "creation_date": 1551306024, "question_id": 54915420, "link": "https://stackoverflow.com/questions/54915420/python-to-parse-file-with-two-lists-of-json-objects-using-json-load", "title": "Python to parse file with two lists of json objects using json load", "body": "<p>I have large json file with two lists of json objects.</p>\n\n<p>example data:</p>\n\n<h1>data.json</h1>\n\n<pre><code>[{\"a\":1}][{\"b\":2}]\n</code></pre>\n\n<h1>parser.py</h1>\n\n<pre><code>import json\n\nmessage = json.load(open(\"data.json\"))\n\nfor m in message:\n    print m\n</code></pre>\n\n<p>As expected, I get ValueError.</p>\n\n<pre><code>File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.py\", line 290, in load\n    **kw)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.py\", line 338, in loads\n    return _default_decoder.decode(s)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py\", line 369, in decode\n    raise ValueError(errmsg(\"Extra data\", s, end, len(s)))\nValueError: Extra data: line 1 column 10 - line 1 column 19 (char 9 - 18)\n</code></pre>\n\n<p>I thought of splitting the file by tracking the character count.\nWhat would be the pythonic way to handle this issue?</p>\n"}, {"tags": ["python", "pyomo"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9585105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "javaelx", "link": "https://stackoverflow.com/users/9585105/javaelx"}, "edited": false, "score": 0, "creation_date": 1551429393, "post_id": 54919491, "comment_id": 96644571, "body": "Thank you Qi! I really appreciate your help ! It works !"}, {"owner": {"reputation": 1478, "user_id": 1557256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/WStyh.jpg?s=128&g=1", "display_name": "Qi Chen", "link": "https://stackoverflow.com/users/1557256/qi-chen"}, "reply_to_user": {"reputation": 13, "user_id": 9585105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "javaelx", "link": "https://stackoverflow.com/users/9585105/javaelx"}, "edited": false, "score": 0, "creation_date": 1551488348, "post_id": 54919491, "comment_id": 96670989, "body": "You&#39;re quite welcome. Btw, it is customary if a solution works to mark the answer as &quot;Accepted&quot; on StackOverflow."}], "tags": [], "owner": {"reputation": 1478, "user_id": 1557256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/WStyh.jpg?s=128&g=1", "display_name": "Qi Chen", "link": "https://stackoverflow.com/users/1557256/qi-chen"}, "is_accepted": true, "score": 2, "last_activity_date": 1551334444, "creation_date": 1551334444, "answer_id": 54919491, "question_id": 54915415, "link": "https://stackoverflow.com/questions/54915415/solvefactorygams-modify-optca-and-optcr/54919491#54919491", "title": "SolveFactory(&#39;gams&#39;): modify OPTCA and OPTCR", "body": "<p>Yes. You can use the <code>add_options</code> parameter to insert arbitrary lines:</p>\n\n<pre><code>SolverFactory('gams').solve(model, solver='baron', tee=True, add_options=['option optcr=0.001;', 'option optca=0.01;'])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9585105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "javaelx", "link": "https://stackoverflow.com/users/9585105/javaelx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 1, "accepted_answer_id": 54919491, "answer_count": 1, "score": 1, "last_activity_date": 1551334444, "creation_date": 1551306001, "question_id": 54915415, "link": "https://stackoverflow.com/questions/54915415/solvefactorygams-modify-optca-and-optcr", "title": "SolveFactory(&#39;gams&#39;): modify OPTCA and OPTCR", "body": "<p>When invoking gams solver in pyomo as follows</p>\n\n<p>SolverFactory('gams').solve(model,  solver = 'CONOPT', tee = True)</p>\n\n<p>is it possible to modify the solver options OPTCR and OPTCA ?</p>\n\n<p>Thanks in advance for your time !</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7", "pip"], "answers": [{"comments": [{"owner": {"reputation": 11347, "user_id": 1931274, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d3730fddd0356d346ffcd7e4f7a7abad?s=128&d=identicon&r=PG", "display_name": "pradyunsg", "link": "https://stackoverflow.com/users/1931274/pradyunsg"}, "edited": false, "score": 0, "creation_date": 1566875265, "post_id": 54915827, "comment_id": 101782768, "body": "Hmm... I think the issue is that Python &lt; 2.7.9 are just not supported at this point. Are you seeing this on a higher patch version?"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "reply_to_user": {"reputation": 11347, "user_id": 1931274, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d3730fddd0356d346ffcd7e4f7a7abad?s=128&d=identicon&r=PG", "display_name": "pradyunsg", "link": "https://stackoverflow.com/users/1931274/pradyunsg"}, "edited": false, "score": 0, "creation_date": 1566904498, "post_id": 54915827, "comment_id": 101793863, "body": "Yes. Many projects has already announced they&#39;re stopping supporting Python 2.7 at all now, even before 2020-01-01."}, {"owner": {"reputation": 11347, "user_id": 1931274, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d3730fddd0356d346ffcd7e4f7a7abad?s=128&d=identicon&r=PG", "display_name": "pradyunsg", "link": "https://stackoverflow.com/users/1931274/pradyunsg"}, "edited": false, "score": 0, "creation_date": 1567004338, "post_id": 54915827, "comment_id": 101834585, "body": "I was referring to SSL issue you pointed at, with the advice of sticking to older versions of pip for -- <a href=\"https://github.com/pypa/pip/issues/4350\" rel=\"nofollow noreferrer\">github.com/pypa/pip/issues/4350</a>."}], "tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": true, "score": 14, "last_activity_date": 1551308236, "creation_date": 1551308236, "answer_id": 54915827, "question_id": 54915381, "link": "https://stackoverflow.com/questions/54915381/will-pip-work-for-python-2-7-after-its-end-of-life-on-1st-jan-2020/54915827#54915827", "title": "Will PIP work for python 2.7 after its End of Life on 1st Jan 2020", "body": "<p>You need to make sure you have the right version of <code>pip</code> for Python 2.7:</p>\n\n<pre><code>pip install --upgrade \"pip &lt; 19.1\"\n</code></pre>\n\n<p>That versions will be working for some time. Sooner or later they fail because PyPI host changes SSL configuration to one that Python 2.7 doesn't handle. But I'm sure we have a few years before that.</p>\n\n<p>A few additional version limits for important tools to retain compatibility with Python 2.7:</p>\n\n<pre><code>pip install --upgrade \"Sphinx &lt; 2.0\" \"pytest &lt; 5.0\"\n</code></pre>\n\n<p>If you use other tools follow their announcements thoroughly to catch them stopping supporting 2.7.</p>\n"}, {"comments": [{"owner": {"reputation": 11347, "user_id": 1931274, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d3730fddd0356d346ffcd7e4f7a7abad?s=128&d=identicon&r=PG", "display_name": "pradyunsg", "link": "https://stackoverflow.com/users/1931274/pradyunsg"}, "edited": false, "score": 1, "creation_date": 1615371588, "post_id": 57667211, "comment_id": 117667970, "body": "Update: pip 21.0 dropped support for Python 2. We don&#39;t expect to be making and changes that&#39;ll break older pip versions."}], "tags": [], "owner": {"reputation": 11347, "user_id": 1931274, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d3730fddd0356d346ffcd7e4f7a7abad?s=128&d=identicon&r=PG", "display_name": "pradyunsg", "link": "https://stackoverflow.com/users/1931274/pradyunsg"}, "is_accepted": false, "score": 12, "last_activity_date": 1566875181, "creation_date": 1566875181, "answer_id": 57667211, "question_id": 54915381, "link": "https://stackoverflow.com/questions/54915381/will-pip-work-for-python-2-7-after-its-end-of-life-on-1st-jan-2020/57667211#57667211", "title": "Will PIP work for python 2.7 after its End of Life on 1st Jan 2020", "body": "<p>Yes. Python 2 support will live in a \"community maintained\" state though. Folks who care about it, will have to step up and fix issues -- pip maintainers will likely not work on resolving Python 2 issues. We've documented the exact expectations at:</p>\n\n<p><a href=\"https://pip.pypa.io/en/stable/development/release-process/#python-2-support\" rel=\"noreferrer\">https://pip.pypa.io/en/stable/development/release-process/#python-2-support</a></p>\n\n<p>Note that pip maintainers are volunteers and I, personally, am not interested in doing free work for corporations / organizations which are stuck on an EOL'ed Python even after having a decade to switch.</p>\n"}], "owner": {"reputation": 1762, "user_id": 1487645, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/fb5d6ad6e5d170d47992f3703005370b?s=128&d=identicon&r=PG", "display_name": "auny", "link": "https://stackoverflow.com/users/1487645/auny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33294, "favorite_count": 3, "accepted_answer_id": 54915827, "answer_count": 2, "score": 22, "last_activity_date": 1566875181, "creation_date": 1551305818, "question_id": 54915381, "link": "https://stackoverflow.com/questions/54915381/will-pip-work-for-python-2-7-after-its-end-of-life-on-1st-jan-2020", "title": "Will PIP work for python 2.7 after its End of Life on 1st Jan 2020", "body": "<p>Python 2.7 is reaching its end of life on 1st Jan, 2020 as mentioned by </p>\n\n<p><a href=\"https://legacy.python.org/dev/peps/pep-0373/\" rel=\"noreferrer\">https://legacy.python.org/dev/peps/pep-0373/</a></p>\n\n<p><a href=\"https://pythonclock.org/\" rel=\"noreferrer\">https://pythonclock.org/</a></p>\n\n<p>Will current <code>pip</code> keep on working for python 2.7 after that date? It is already showing the msg for deprecation of python 2.7. Will we be able to run\n<code>pip install abc==1.2.3</code> after that date?</p>\n\n<p>We do understand that after EOL, no new fixes/support will be done for 2.7, so that is not the concern here. </p>\n\n<p>The question stems from the desire to keep running on python 2.7 even after EOL.</p>\n"}, {"tags": ["python", "python-requests"], "comments": [{"owner": {"reputation": 1803, "user_id": 10957844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71bcaa11950c4881a16b908e5e1d333?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/10957844/tim"}, "edited": false, "score": 1, "creation_date": 1551306366, "post_id": 54915376, "comment_id": 96597225, "body": "Are you getting an error? What you are doing looks correct. Though don&#39;t think you need the submit part. See this post: <a href=\"https://stackoverflow.com/questions/35569447/python-how-to-click-submit-button-in-a-form\" title=\"python how to click submit button in a form\">stackoverflow.com/questions/35569447/&hellip;</a>"}, {"owner": {"reputation": 1753, "user_id": 3751268, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Vv8fZ.jpg?s=128&g=1", "display_name": "aitorhh", "link": "https://stackoverflow.com/users/3751268/aitorhh"}, "edited": false, "score": 1, "creation_date": 1551306536, "post_id": 54915376, "comment_id": 96597287, "body": "Could it be that you want to start a session and then perform other requests? Check this post: <a href=\"https://stackoverflow.com/a/20760055/3751268\">stackoverflow.com/a/20760055/3751268</a>"}, {"owner": {"reputation": 3907, "user_id": 8306666, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2f20237f2695cc2f6951fb562493cd7f?s=128&d=identicon&r=PG&f=1", "display_name": "Nazim Kerimbekov", "link": "https://stackoverflow.com/users/8306666/nazim-kerimbekov"}, "edited": false, "score": 0, "creation_date": 1551349845, "post_id": 54915376, "comment_id": 96611836, "body": "try replacing <code>data=</code> with <code>json=</code>"}, {"owner": {"reputation": 1214, "user_id": 10867430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31aec40bcdb45b27a7203a4fc38219d2?s=128&d=identicon&r=PG&f=1", "display_name": "mfrackowiak", "link": "https://stackoverflow.com/users/10867430/mfrackowiak"}, "edited": false, "score": 0, "creation_date": 1551356299, "post_id": 54915376, "comment_id": 96615665, "body": "You&#39;ll probably need to include the <code>token</code> in your payload as well, it looks like CSRF protection."}, {"owner": {"reputation": 302, "user_id": 5671682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcb2e38ed640ab9e2cffaa8afe02f812?s=128&d=identicon&r=PG", "display_name": "fernand0", "link": "https://stackoverflow.com/users/5671682/fernand0"}, "edited": false, "score": 0, "creation_date": 1551356660, "post_id": 54915376, "comment_id": 96615877, "body": "I&#39;d suggest using RoboBrowser. <a href=\"https://robobrowser.readthedocs.io/en/latest/readme.html\" rel=\"nofollow noreferrer\">robobrowser.readthedocs.io/en/latest/readme.html</a> It Helps to manage tokens, cookies and so on, allowing you to concentrate on your actual work."}, {"owner": {"reputation": 59, "user_id": 14264568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zUX264i4az4/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmpxtLPxat8D--pvxGgmAydhfY5jg/photo.jpg?sz=128", "display_name": "Tiago Rangel de Sousa", "link": "https://stackoverflow.com/users/14264568/tiago-rangel-de-sousa"}, "edited": false, "score": 0, "creation_date": 1615628465, "post_id": 54915376, "comment_id": 117753733, "body": "Yes, I am having the same problem."}, {"owner": {"reputation": 59, "user_id": 14264568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zUX264i4az4/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmpxtLPxat8D--pvxGgmAydhfY5jg/photo.jpg?sz=128", "display_name": "Tiago Rangel de Sousa", "link": "https://stackoverflow.com/users/14264568/tiago-rangel-de-sousa"}, "edited": false, "score": 0, "creation_date": 1615628634, "post_id": 54915376, "comment_id": 117753761, "body": "Does anyone know the answer?"}], "owner": {"reputation": 11, "user_id": 11127633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-caSiBoFhbhs/AAAAAAAAAAI/AAAAAAAAAUI/s-O-CMWMGJk/photo.jpg?sz=128", "display_name": "Alexander Garcia", "link": "https://stackoverflow.com/users/11127633/alexander-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1551356123, "creation_date": 1551305793, "last_edit_date": 1551356123, "question_id": 54915376, "link": "https://stackoverflow.com/questions/54915376/how-would-i-send-and-request-data-to-a-web-server-using-python", "title": "How would I send and request data to a web server using python?", "body": "<p>I've been trying to use the request library in order to send information to a web server. However, I have no clue what data to send to the server in order to log in. (This is my first time using requests and I was wondering if someone could help explain this to me)\nEdit: I'm trying to make it submit a username and password to the site.</p>\n\n<p>My code:</p>\n\n<pre><code>import requests \n\nSdata = {'username':'testingemail@gmail.com','password':'testing123','login':'submit'}\n\nr = requests.post(url = 'https://gmchosting.com/billing/clientarea.php',data=Sdata) \n\nhtml = r.text \nprint(html)\n\n</code></pre>\n\n<p>The Part of the website I want the file to communicate with:</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"token\" value=\"003cc13dfa662dd183f098c2a2afc81331da0ba3\" /&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"inputEmail\"&gt;Email Address&lt;/label&gt;\n            &lt;input type=\"email\" name=\"username\" class=\"form-control\" id=\"inputEmail\" placeholder=\"Enter email\" autofocus&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"inputPassword\"&gt;Password&lt;/label&gt;\n            &lt;input type=\"password\" name=\"password\" class=\"form-control\" id=\"inputPassword\" placeholder=\"Password\"&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"checkbox\"&gt;\n            &lt;label&gt;\n                &lt;input type=\"checkbox\" name=\"rememberme\" /&gt; Remember Me\n            &lt;/label&gt;\n        &lt;/div&gt;\n\n        &lt;div align=\"center\"&gt;\n            &lt;input id=\"login\" type=\"submit\" class=\"btn btn-primary\" value=\"Login\" /&gt; &lt;a href=\"pwreset.php\" class=\"btn btn-default\"&gt;Forgot Password?&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "networkx"], "answers": [{"tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": true, "score": 2, "last_activity_date": 1551318980, "last_edit_date": 1551318980, "creation_date": 1551317811, "answer_id": 54917085, "question_id": 54915346, "link": "https://stackoverflow.com/questions/54915346/networkx-graph-changing-form-in-animation/54917085#54917085", "title": "networkx graph changing form in animation", "body": "<p>The problem is that by default networkx uses an algorithm for placing nodes that starts by placing the nodes at random and then shifting them around as if they were masses on the end of springs.  This tends to get a decent arrangement, but since the starting point is random, each time it changes.</p>\n\n<p>This is easily fixed using the <code>pos</code> argument.  <code>pos</code> is a dictionary which stores an x and y coordinate for each node.  You can set these by hand, or more easily, you can have networkx create them.</p>\n\n<pre><code>pos = nx.spring_layout(G) #other layouts are available.\nnx.draw(G, pos=pos)\n</code></pre>\n\n<p>This is useful not just for animations, but when you want to have a subset of nodes plotted in one color and another subset plotted in another.</p>\n\n<p>Here is some sample code for an animation I did: <a href=\"https://epidemicsonnetworks.readthedocs.io/en/latest/_modules/EoN/simulation_investigation.html#Simulation_Investigation.animate\" rel=\"nofollow noreferrer\">https://epidemicsonnetworks.readthedocs.io/en/latest/_modules/EoN/simulation_investigation.html#Simulation_Investigation.animate</a></p>\n\n<p>and some examples of output using that code:</p>\n\n<p><a href=\"https://epidemicsonnetworks.readthedocs.io/en/latest/examples/Simulation_Investigation.html\" rel=\"nofollow noreferrer\">https://epidemicsonnetworks.readthedocs.io/en/latest/examples/Simulation_Investigation.html</a></p>\n"}], "owner": {"reputation": 84, "user_id": 9448104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef9b19ee70c3cfe78781836c45255a5b?s=128&d=identicon&r=PG&f=1", "display_name": "Nimrod Rappaport", "link": "https://stackoverflow.com/users/9448104/nimrod-rappaport"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 1, "accepted_answer_id": 54917085, "answer_count": 1, "score": 0, "last_activity_date": 1551318980, "creation_date": 1551305696, "last_edit_date": 1551306188, "question_id": 54915346, "link": "https://stackoverflow.com/questions/54915346/networkx-graph-changing-form-in-animation", "title": "networkx graph changing form in animation", "body": "<p>after working on animating my networkx network i finally succeeded to do it with matplotlib but my network changes its layout (placement of nodes and edges) and so that makes my network not understanable. it is more of a general question (how do i stop my network from changing in animations?). My animation call looks like this:</p>\n\n<pre><code>def update(it = None):\n    global gG\n    global gnodes\n    global fig\n    tick(gG,gnodes)\n    fig.clf()\n    nx.draw(gG,with_labels=True,node_color = setColorMap(gG,gnodes))\ndef draw():\n    global fig\n    ani = animation.FuncAnimation(fig,update,repeat=True,interval= 1)\n    plt.show()\n</code></pre>\n\n<p>gG is the graph, gNode is a dictionary of the nodes and fig is the figure\nInterval isn't supposed to be one, I am aware of this</p>\n\n<p><a href=\"https://i.stack.imgur.com/4SEdd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4SEdd.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/qbTRw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qbTRw.png\" alt=\"enter image description here\"></a>\ndifferences in form </p>\n"}, {"tags": ["python", "matplotlib", "animation"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1551314586, "post_id": 54915294, "comment_id": 96599473, "body": "You need to store the animation class in a variable, else it&#39;s being garbage collected right away. <code>ani = animation.FuncAnimation(...)</code>."}, {"owner": {"reputation": 163, "user_id": 10431369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6856bec5ea0993aa6bbe33c7ee1f65db?s=128&d=identicon&r=PG&f=1", "display_name": "Bidon", "link": "https://stackoverflow.com/users/10431369/bidon"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1551367250, "post_id": 54915294, "comment_id": 96622384, "body": "@ImportanceOfBeingErnest I tried that but I&#39;m still getting some weird error. Also, could you explore more on why do we have to store the animation class in a variable? I don&#39;t really understand why"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1551367907, "post_id": 54915294, "comment_id": 96622802, "body": "In python objects that are not hold in a variable are garbage collected (simply speaking). So if you jsut write <code>MyClass(1,2)</code> it will be gone shortly after. But if you write <code>firstclass = MyClass(1,2)</code> it will be stored in the variable <code>firstclass</code>."}], "owner": {"reputation": 163, "user_id": 10431369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6856bec5ea0993aa6bbe33c7ee1f65db?s=128&d=identicon&r=PG&f=1", "display_name": "Bidon", "link": "https://stackoverflow.com/users/10431369/bidon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551305433, "creation_date": 1551305433, "question_id": 54915294, "link": "https://stackoverflow.com/questions/54915294/plot-multiple-simultaneous-animated-subplots-with-matplotlib", "title": "Plot multiple simultaneous animated subplots with matplotlib", "body": "<p>My goal is to plot animated Lissajous figures simultaneously animated with matplotlib's module <em>animation</em>, however I am not being able to control all the subplots.I wanted to use as little code as possible and so recurred to some for loops so as to plot as many figures as I want in a very neat and rapid. Here's my code so far:</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\nfrom matplotlib import animation as an\n\nfig, ax = plt.subplots(nrows=3, ncols=3)\nlines = np.array([[i.plot([], []) for i in ax[j]] for j in range(len(ax))])\n\nfor i in range(len(lines)):\n    for j in range(len(lines[i])):\n        axnow = ax[i][j]\n        axnow.set_xlim(-1, 1)\n        axnow.set_ylim(-1, 1)\n\nxdata = [[[] for i in range(3)] for j in range(3)]\nydata = [[[] for i in range(3)] for j in range(3)]\n\n\ndef animate(frame):\n    w = 1\n    for i in range(len(lines)):\n        for j in range(len(lines[i])):\n            xdata[i][j].append(np.cos(w * frame))\n            ydata[i][j].append(np.sin(1 * frame))\n            line = lines[i][j][0]\n            line.set_data(xdata[i][j], ydata[i][j])\n            w += 1\n\n    return lines\n\n\nan.FuncAnimation(fig, animate, blit=True, frames=np.linspace(0, 2 * np.pi, 1000), repeat=False,\ninterval=20)\n\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p>However, nothing is really displayed and I don't know where my mistake is. Any help is appreciated.</p>\n"}, {"tags": ["python", "mysql", "flask", "flask-mysql"], "comments": [{"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1551305710, "post_id": 54915276, "comment_id": 96596983, "body": "Welcome to StackOverflow! Please clarify: you wrote <b>&quot;OperationalError (&#39;1046, No database selected&#39;)&quot;</b> but then <b>&quot;I don&#39;t get a password denied error&quot;</b> - so which error you get?"}, {"owner": {"reputation": 33, "user_id": 6500697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7270a69ca79badf2a8afb1954123cca5?s=128&d=identicon&r=PG&f=1", "display_name": "KingAlmond", "link": "https://stackoverflow.com/users/6500697/kingalmond"}, "reply_to_user": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1551306074, "post_id": 54915276, "comment_id": 96597118, "body": "its the 1046, no database selected.  I was just saying I don&#39;t get a password denied @ user if I comment out the password config which I find weird because I should get that if it is commented out."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 6500697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7270a69ca79badf2a8afb1954123cca5?s=128&d=identicon&r=PG&f=1", "display_name": "KingAlmond", "link": "https://stackoverflow.com/users/6500697/kingalmond"}, "is_accepted": false, "score": 1, "last_activity_date": 1551308206, "creation_date": 1551308206, "answer_id": 54915822, "question_id": 54915276, "link": "https://stackoverflow.com/questions/54915276/mysqldb-exceptions-operationalerror-1046-no-database-selected-flask-to-m/54915822#54915822", "title": "MySQLdb._exceptions.OperationalError (&#39;1046, No database selected&#39;) - flask to mySQL connection error", "body": "<p>I solved my own problems.</p>\n\n<p>1) app.config['MySQL_HOST'] = 'localhost' --> MySQL needs to be replaced with 'MYSQL'</p>\n\n<ol start=\"2\">\n<li>return redirect(url_for('index')) --> index needs to be replaced with 'register'</li>\n</ol>\n\n<p>simple spelling mistakes...</p>\n"}], "owner": {"reputation": 33, "user_id": 6500697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7270a69ca79badf2a8afb1954123cca5?s=128&d=identicon&r=PG&f=1", "display_name": "KingAlmond", "link": "https://stackoverflow.com/users/6500697/kingalmond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2982, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551308206, "creation_date": 1551305363, "question_id": 54915276, "link": "https://stackoverflow.com/questions/54915276/mysqldb-exceptions-operationalerror-1046-no-database-selected-flask-to-m", "title": "MySQLdb._exceptions.OperationalError (&#39;1046, No database selected&#39;) - flask to mySQL connection error", "body": "<p>I have spent so much time trying to figure this out and I am lost.</p>\n\n<p>I am trying to make a small web app, watching some tutorials...</p>\n\n<blockquote>\n  <p>I keep getting this error: MySQLdb._exceptions.OperationalError ('1046, No database selected')</p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code># app.py\nfrom flask import Flask, render_template, flash, redirect, url_for, session, logging, request\n# from flask_sqlalchemy import SQLAlchemy\n# from data import Articles\nfrom data import Articles\nfrom flask_mysqldb import MySQL\nfrom wtforms import Form, StringField, TextAreaField, PasswordField, validators\nfrom passlib.hash import sha256_crypt\n\napp = Flask(__name__)\n# app.config['SECRET_KEY'] = 'xxxxxxxxxx'\n\n    # Config MySQL\n    app.config['MySQL_HOST'] = 'localhost'\n    app.config['MySQL_USER'] = 'root'\n    app.config['MySQL_PASSWORD'] = ''\n    app.config['MySQL_DB'] = 'myflaskapp'\n    app.config['MySQL_CURSORCLASS'] = 'DictCursor'\n    # Init MySQL\n\n    mysql = MySQL(app)\n\n    # Setting articles\n    Articles = Articles()\n\n\n    @app.route('/')\n    def home():\n        return render_template('home.html')\n\n\n@app.route('/about')\ndef about():\n    return render_template('about.html')\n\n\n@app.route('/articles')\ndef articles():\n    return render_template('articles.html', articles=Articles)\n\n\n@app.route('/article/&lt;string:id&gt;/')\ndef article(id):\n    return render_template('article.html', id=id)\n\n\nclass RegisterForm(Form):\n    name = StringField('Name', [validators.Length(min=1, max=50)])\n    username = StringField('Username', [validators.Length(min=4, max=25)])\n    email = StringField('Email', [validators.Length(min=6, max=50)])\n    password = PasswordField('Password', [validators.DataRequired(),\n                                          validators.EqualTo(\n                                              'confirm', message='Passwords do not match!')\n\n\n                                      ])\nconfirm = PasswordField('Confirm Password')\n\n\n@app.route('/register', methods=['GET', 'POST'])\ndef register():\n    form = RegisterForm(request.form)\n    if request.method == 'POST' and form.validate():\n        name = form.name.data\n        email = form.email.data\n        username = form.username.data\n        password = sha256_crypt.encrypt(str(form.password.data))\n\n        # Creat Cursor\n        cur = mysql.connection.cursor()\n        # Execute Query\n        cur.execute(\"INSERT INTO users(name, email, username, password) VALUES(%s, %s, %s, %s)\",\n                    (name, email, username, password))\n        # Commit to DB\n        mysql.connection.commit()\n        # close connection\n        cur.close()\n\n        # Message to user once registered\n        flash('You are now registered and can login, thank you', 'success')\n        return redirect(url_for('index'))\n    return render_template('register.html', form=form)\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>If I comment of MYSQL config things I don't get a password denied error, so I am very confused, did I mess up during the MYSQL install?</p>\n\n<p>Further, I have checked my DB exists by using show database; I have accessed the user table inside myflaskapp and also went on phpmyadmin to check.</p>\n"}, {"tags": ["python", "file", "path"], "comments": [{"owner": {"reputation": 199, "user_id": 201890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/118576e096f44f373dcf0f9412645a64?s=128&d=identicon&r=PG&f=1", "display_name": "Elder Santos", "link": "https://stackoverflow.com/users/201890/elder-santos"}, "edited": false, "score": 0, "creation_date": 1551305569, "post_id": 54915258, "comment_id": 96596925, "body": "Try to change the name of the directory to something like an alpha name not numbers, then execute again, I guess the problem is it."}, {"owner": {"reputation": 61, "user_id": 9442892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92ee98aa4f67f68284f3d8453673a19?s=128&d=identicon&r=PG&f=1", "display_name": "Fordo", "link": "https://stackoverflow.com/users/9442892/fordo"}, "reply_to_user": {"reputation": 199, "user_id": 201890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/118576e096f44f373dcf0f9412645a64?s=128&d=identicon&r=PG&f=1", "display_name": "Elder Santos", "link": "https://stackoverflow.com/users/201890/elder-santos"}, "edited": false, "score": 0, "creation_date": 1551305735, "post_id": 54915258, "comment_id": 96596992, "body": "What do you mean by &#39;alpha name not numbers&#39;?"}, {"owner": {"reputation": 199, "user_id": 201890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/118576e096f44f373dcf0f9412645a64?s=128&d=identicon&r=PG&f=1", "display_name": "Elder Santos", "link": "https://stackoverflow.com/users/201890/elder-santos"}, "edited": false, "score": 0, "creation_date": 1551306063, "post_id": 54915258, "comment_id": 96597113, "body": "By the error you put, the directory is called &#39;1980&#39; (FileNotFoundError: [Errno 2] No such file or directory: &#39;1980&#39;), change the name of the directory to something like &#39;nineteen_eighty&#39; and try to run it again"}, {"owner": {"reputation": 61, "user_id": 9442892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92ee98aa4f67f68284f3d8453673a19?s=128&d=identicon&r=PG&f=1", "display_name": "Fordo", "link": "https://stackoverflow.com/users/9442892/fordo"}, "reply_to_user": {"reputation": 199, "user_id": 201890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/118576e096f44f373dcf0f9412645a64?s=128&d=identicon&r=PG&f=1", "display_name": "Elder Santos", "link": "https://stackoverflow.com/users/201890/elder-santos"}, "edited": false, "score": 0, "creation_date": 1551312594, "post_id": 54915258, "comment_id": 96599008, "body": "No that doesnt seem to work. The error now says: (FileNotFoundError: [Errno 2] No such file or directory: &#39;nineteen_eighty&#39;)"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 9442892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92ee98aa4f67f68284f3d8453673a19?s=128&d=identicon&r=PG&f=1", "display_name": "Fordo", "link": "https://stackoverflow.com/users/9442892/fordo"}, "edited": false, "score": 0, "creation_date": 1551346843, "post_id": 54917625, "comment_id": 96609974, "body": "No, unfortunatley, that doesn&#39;t work either. I get this error: path = &#39;C:\\Users\\User\\Desktop\\mini_mouse&#39;           ^ SyntaxError: (unicode error) &#39;unicodeescape&#39; codec can&#39;t decode bytes in position 2-3: truncated \\UXXXXXXXX escape"}], "tags": [], "owner": {"reputation": 87, "user_id": 9761398, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211062572107124/picture?type=large", "display_name": "Adam Roman", "link": "https://stackoverflow.com/users/9761398/adam-roman"}, "is_accepted": false, "score": 0, "last_activity_date": 1551321842, "creation_date": 1551321842, "answer_id": 54917625, "question_id": 54915258, "link": "https://stackoverflow.com/questions/54915258/filenotfounderror-errno-2-no-such-file-or-directory-despite-the-file-definite/54917625#54917625", "title": "FileNotFoundError: [Errno 2] No such file or directory despite the file definitely existing", "body": "<p>Are you on Windows? Whenever I do absolute paths on Windows I need to use backslash() for pathing instead of forward slash (/).</p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 201890, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/118576e096f44f373dcf0f9412645a64?s=128&d=identicon&r=PG&f=1", "display_name": "Elder Santos", "link": "https://stackoverflow.com/users/201890/elder-santos"}, "is_accepted": false, "score": 0, "last_activity_date": 1551382604, "creation_date": 1551382604, "answer_id": 54933028, "question_id": 54915258, "link": "https://stackoverflow.com/questions/54915258/filenotfounderror-errno-2-no-such-file-or-directory-despite-the-file-definite/54933028#54933028", "title": "FileNotFoundError: [Errno 2] No such file or directory despite the file definitely existing", "body": "<p>The problem with your code is the fact <code>'1980'</code> is not the full path to the file it is just a <code>string</code>. You should append the rest of the path like below, using for example the <code>path.join</code>:</p>\n\n<pre><code>with open(os.path.join(path, file), 'r') as f, open(os.path.join(path, 'NLTK-stop-word-list'), 'r') as f2:\n</code></pre>\n\n<p>Then Python will be able to find the file and open it in read mode.</p>\n"}], "owner": {"reputation": 61, "user_id": 9442892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92ee98aa4f67f68284f3d8453673a19?s=128&d=identicon&r=PG&f=1", "display_name": "Fordo", "link": "https://stackoverflow.com/users/9442892/fordo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2031, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551382604, "creation_date": 1551305221, "last_edit_date": 1551317565, "question_id": 54915258, "link": "https://stackoverflow.com/questions/54915258/filenotfounderror-errno-2-no-such-file-or-directory-despite-the-file-definite", "title": "FileNotFoundError: [Errno 2] No such file or directory despite the file definitely existing", "body": "<p>I've been working on this bit of code trying to open multiple files in a directory. The directory contains 10 text files. I want to open each of the files, do some stuff to it (namely remove stop words) and output the transformed text into a new file in a different directory. However, I have this problem:</p>\n\n<blockquote>\n  <p>FileNotFoundError: [Errno 2] No such file or directory: '1980'</p>\n</blockquote>\n\n<p>The file definitely exists in the directory and I have been giving the absolute path. I have looked at the current working directory before opening the file and it does not return the absolute path I gave it, rather the directory where this project is located. Any help in getting the code to open the necessary files and write the result to the output file would be greatly appreciated! Here is my code:</p>\n\n<pre><code>path = 'C:/Users/User/Desktop/mini_mouse'\noutput = 'C:/Users/User/Desktop/filter_mini_mouse/mouse'\nfor root, dir, files in os.walk(path):\n    for file in files:\n        print(os.getcwd())\n        with open(file, 'r') as f, open('NLTK-stop-word-list', 'r') as f2:\n            x = ''\n            mouse_file = f.read().split()  # reads file and splits it into a list\n            stopwords = f2.read().split()\n            x = (' '.join(i for i in mouse_file if i.lower() not in (x.lower() for x in stopwords)))\n            with open('out', 'w') as output_file:\n                output_file.write((' '.join(i for i in mouse_file if i.lower() not in (x.lower() for x in stopwords))))\n</code></pre>\n"}, {"tags": ["python", "jupyter-notebook", "jupyter", "jupyter-lab"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11127630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ecd3f7aa129552fbb630b12110f161?s=128&d=identicon&r=PG&f=1", "display_name": "RunStat", "link": "https://stackoverflow.com/users/11127630/runstat"}, "is_accepted": false, "score": 0, "last_activity_date": 1551398952, "creation_date": 1551398952, "answer_id": 54936173, "question_id": 54915250, "link": "https://stackoverflow.com/questions/54915250/clicking-does-not-work-in-jupyterlab-os-x-chrome/54936173#54936173", "title": "Clicking does not work in Jupyterlab [OS X, chrome]", "body": "<p>Problem solved. It was caused by a Chrome plugin with similar functions like \"RightToCopy\". I just deleted it and reinstalled the Chrome, then everything works well.</p>\n"}], "owner": {"reputation": 11, "user_id": 11127630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ecd3f7aa129552fbb630b12110f161?s=128&d=identicon&r=PG&f=1", "display_name": "RunStat", "link": "https://stackoverflow.com/users/11127630/runstat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551398952, "creation_date": 1551305180, "last_edit_date": 1551308881, "question_id": 54915250, "link": "https://stackoverflow.com/questions/54915250/clicking-does-not-work-in-jupyterlab-os-x-chrome", "title": "Clicking does not work in Jupyterlab [OS X, chrome]", "body": "<p><strong>Bug description:</strong></p>\n\n<ol>\n<li>No response when clicking any buttons except files. </li>\n<li>When I want to leave one cell to another,  weird jumping back happens.</li>\n</ol>\n\n<p>The demo below is more explanatory.</p>\n\n<p><strong>To Reproduce:</strong>\nOn my mac, basically after opening Jupyterlab, all clicks inside give no responses.</p>\n\n<p><strong>Expected behavior:</strong>\nA normal and smooth experience like before.</p>\n\n<p><strong>Screenshots:</strong>\n<a href=\"https://imgur.com/a/SsAccWK\" rel=\"nofollow noreferrer\">demo</a></p>\n\n<p><strong>Desktop (please complete the following information):</strong></p>\n\n<ul>\n<li>OS: [OSX 10.14.3]</li>\n<li>Browser [chrome 72.0.3626.119]</li>\n<li>JupyterLab [0.35.3]</li>\n</ul>\n\n<p><strong>Additional context:</strong>\nJupyterlab worked well one week ago on my OS X 10.11 El Capitan. And then I  want to add a plugin (@lckr/jupyterlab_variableinspector). So I need to upgrade my node, npm and thus my OS X. After upgrading them and install the plugin, the problem happens. But I am not sure it is because of the version, because I did not use Jupyterlab in this week and may do something else to my system. I tried to disable the plugin and it did not help.</p>\n"}, {"tags": ["python", "google-cloud-platform", "airflow", "google-cloud-composer"], "comments": [{"owner": {"reputation": 2249, "user_id": 2450936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174d70ca270f9c1bdadb37ac9eaf8fe0?s=128&d=identicon&r=PG", "display_name": "howie", "link": "https://stackoverflow.com/users/2450936/howie"}, "edited": false, "score": 1, "creation_date": 1551323541, "post_id": 54915248, "comment_id": 96601432, "body": "The message is come from log ? or email ? Maybe task fail between sent msg and end of the code. You shoud paste your PythonOperator code."}, {"owner": {"reputation": 81, "user_id": 7679015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/730c67c0648604d1e2915cc9208bea86?s=128&d=identicon&r=PG&f=1", "display_name": "R.Z.", "link": "https://stackoverflow.com/users/7679015/r-z"}, "reply_to_user": {"reputation": 2249, "user_id": 2450936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174d70ca270f9c1bdadb37ac9eaf8fe0?s=128&d=identicon&r=PG", "display_name": "howie", "link": "https://stackoverflow.com/users/2450936/howie"}, "edited": false, "score": 0, "creation_date": 1551404970, "post_id": 54915248, "comment_id": 96637767, "body": "@howie I only see in the Airflow UI that the job has failed. Stackdriver logs only say &quot;Starting attempt 2 or 2&quot; when the retry due to failure starts. I have added my python callable and python operator code. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 7679015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/730c67c0648604d1e2915cc9208bea86?s=128&d=identicon&r=PG&f=1", "display_name": "R.Z.", "link": "https://stackoverflow.com/users/7679015/r-z"}, "edited": false, "score": 1, "creation_date": 1551540971, "post_id": 54941674, "comment_id": 96681542, "body": "Thanks. I found an error i&#39;m getting in the airflow-scheduler that says &quot;ERROR - &lt;TaskInstance: &lt;task&gt; running]&gt; detected as zombie&quot;. Then a subsequent error saying that this task was marked for retry. I guess it&#39;s thinking this task is dead because it&#39;s a long running task. Anyway to further specify that the task is still alive and working?"}], "tags": [], "owner": {"reputation": 2249, "user_id": 2450936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174d70ca270f9c1bdadb37ac9eaf8fe0?s=128&d=identicon&r=PG", "display_name": "howie", "link": "https://stackoverflow.com/users/2450936/howie"}, "is_accepted": false, "score": 0, "last_activity_date": 1551432700, "creation_date": 1551432700, "answer_id": 54941674, "question_id": 54915248, "link": "https://stackoverflow.com/questions/54915248/cloud-composer-airflow-task-fails-but-functions-complete-successfully/54941674#54941674", "title": "Cloud Composer Airflow task fails but functions complete successfully", "body": "<p>I don't see any error handling in your code. </p>\n\n<p>When long running query and polls is fail , raise AirflowException, this will cause the task to move immediately to failure state.</p>\n\n<pre><code>from airflow import AirflowException\n</code></pre>\n\n<p>ValueError can be used for fail and retry</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14684760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GqwFC.jpg?s=128&g=1", "display_name": "Vineetkumar Patil", "link": "https://stackoverflow.com/users/14684760/vineetkumar-patil"}, "is_accepted": false, "score": 0, "last_activity_date": 1614833923, "creation_date": 1614833923, "answer_id": 66468831, "question_id": 54915248, "link": "https://stackoverflow.com/questions/54915248/cloud-composer-airflow-task-fails-but-functions-complete-successfully/66468831#66468831", "title": "Cloud Composer Airflow task fails but functions complete successfully", "body": "<p>I was facing the same issue in GCP Cloud Composer [composer-1.11.0-airflow-1.10.9].</p>\n<p>For long running tasks, there is a high probability(especially when using KubernetesPodOperator) that the task can be marked as Zombie by Airflow Scheduler.</p>\n<p>Solution :-</p>\n<p>I increased the scheduler_zombie_task_threshold configuration parameter value in scheduler from 300 (default 5 minutes ) to 1800 (30 minutes). After this I was able to run the tasks for up to 45 minutes and without ending in failed state.</p>\n<p>How to change the Parameter -</p>\n<ol>\n<li>Go to GCP cloud console.</li>\n<li>Navigate to Composer.</li>\n<li>Open the composer.</li>\n<li>Go to AIRFLOW CONFIGURATION OVERRIDES tab</li>\n<li>Enter the value :\nscheduler   scheduler_zombie_task_threshold  1800</li>\n</ol>\n"}], "owner": {"reputation": 81, "user_id": 7679015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/730c67c0648604d1e2915cc9208bea86?s=128&d=identicon&r=PG&f=1", "display_name": "R.Z.", "link": "https://stackoverflow.com/users/7679015/r-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 568, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1614833923, "creation_date": 1551305177, "last_edit_date": 1551404893, "question_id": 54915248, "link": "https://stackoverflow.com/questions/54915248/cloud-composer-airflow-task-fails-but-functions-complete-successfully", "title": "Cloud Composer Airflow task fails but functions complete successfully", "body": "<p>I am trying to write my first Airflow job using Cloud Composer. My DAG has three tasks, the first completes successfully, but the second task fails seemingly with emitting any failure error message. I am using the <code>PythonOperator</code> in the second task. The function being called executes a long running query and polls until the query is complete. Once the query is complete, I get a message saying that the data has been output to the correct table, but then Airflow treats the task as failed and retries the task again. </p>\n\n<p>My <code>default_args</code> for DAG look like this:</p>\n\n<pre><code>default_args = {\n    'owner': 'airflow',\n    'depends_on_past': False,\n    'start_date': today.strftime(\"%Y-%m-%d\"),\n    'email': ['email@email.com'],\n    'email_on_failure': True,\n    'email_on_retry': False,\n    'retries': 1,\n    'retry_delay': timedelta(minutes=1),\n    'dagrun_timeout': timedelta(minutes=30)\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Here is my Python callable and PythonOperator. the <code>run_query</code> callable produces output in the Stackdriver logs and indicates that the actual function completes, but the task fails.</p>\n\n<pre><code>def run_query(**kwargs):\n    ti = kwargs['ti']\n    creds = ti.xcom_pull(key='key value 1', task_ids=t1_id)\n    service = adh.get_service(creds)\n\n    return adh.start_saved_query(service,\n                                 kwargs['customer_id'],\n                                 kwargs['query_name'],\n                                 kwargs['start_date'],\n                                 kwargs['end_date'],\n                                 kwargs['project'],\n                                 kwargs['dataset'],\n                                 kwargs['table'],\n                                 parameters=kwargs['parameters'])\nrun_adh_query = PythonOperator(\n    task_id=\"task2\",\n    provide_context=True,\n    python_callable=run_query,\n    dag=dag,\n    trigger_rule='all_success',\n    op_kwargs={\n        'customer_id': 01234,\n        'query_name': 'queryName',\n        'start_date': start_date.strftime(\"%Y-%m-%d\"),\n        'end_date': end_date.strftime(\"%Y-%m-%d\"),\n        'project': adh_project,\n        'dataset': adh_dataset,\n        'table': adh_table,\n        'parameters': {\n        'CONV_START_DATE': {'value': conv_start_date.strftime(\"%Y-%m-%d\")},\n        'CONV_END_DATE': {'value': end_date.strftime(\"%Y-%m-%d\")},\n        'LOOKBACK_DAYS': {'value': str(lookback_days)}\n        }\n    }\n)\n</code></pre>\n\n<p>I'd greatly appreciate any tips! </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1551307834, "post_id": 54915217, "comment_id": 96597734, "body": "Answers <a href=\"https://stackoverflow.com/questions/3681272/can-i-get-a-reference-to-a-python-property\">here</a> might help you understand and solve your problem"}], "answers": [{"tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": false, "score": 0, "last_activity_date": 1551306695, "creation_date": 1551306695, "answer_id": 54915559, "question_id": 54915217, "link": "https://stackoverflow.com/questions/54915217/why-property-broke-synchronizing-with-source-object-on-proxy-class/54915559#54915559", "title": "Why @property broke synchronizing with source object on proxy class", "body": "<p>In <code>Proxy.__init__</code>, you end up executing:</p>\n\n<pre><code>self.get_value = a.get_value\n</code></pre>\n\n<p>and very different things happen in your two examples.</p>\n\n<p>In the first case, <code>a.get_value</code> is a method of <code>a</code>. So, calling <code>p.get_value()</code> is the same as calling <code>a.get_value()</code>. You get identical results.</p>\n\n<p>In the second case, you have already defined <code>a.get_value</code> as a property, so <code>self.get_value = a.get_value</code> is basically <code>self.get_value = 2</code>, it is just an <code>int</code> attribute of <code>p</code>. </p>\n"}], "owner": {"reputation": 29, "user_id": 9491985, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LtBzrtZV-wM/AAAAAAAAAAI/AAAAAAAAEEI/uS_8osUZ118/photo.jpg?sz=128", "display_name": "Jan Hor&#225;\u010dek", "link": "https://stackoverflow.com/users/9491985/jan-hor%c3%a1%c4%8dek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551306695, "creation_date": 1551305066, "question_id": 54915217, "link": "https://stackoverflow.com/questions/54915217/why-property-broke-synchronizing-with-source-object-on-proxy-class", "title": "Why @property broke synchronizing with source object on proxy class", "body": "<p>I want to create a proxy in Python because of function and attributes access (something like private). I create the proxy with references to functions in the source object. But I have a problem, that functions have no problem with changing attributes but property yes. Here is an example:</p>\n\n<p><strong>A working example</strong></p>\n\n<pre><code>class A:\n    def __init__(self):\n        self.value = 1\n\n    def get_value(self):\n        return self.value\n\nclass Proxy:\n    def __init__(self, cls):\n        self.get_value = cls.get_value\n        # del cls\n\na = A()\np = Proxy(a)\n\nprint(a.get_value(), p.get_value())\na.value = 2\nprint(a.get_value(), p.get_value())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1 1\n2 2\n</code></pre>\n\n<p><strong>Not working:</strong></p>\n\n<pre><code>class A:\n    def __init__(self):\n        self.value = 1\n\n    @property\n    def get_value(self):\n        return self.value\n\nclass Proxy:\n    def __init__(self, cls):\n        self.get_value = cls.get_value\n        # del cls\n\na = A()\np = Proxy(a)\n\nprint(a.get_value, p.get_value)\na.value = 2\nprint(a.get_value, p.get_value)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1 1\n2 1\n</code></pre>\n\n<p>Can someone explain me where the problem is and if there is any solution for this? I could use functions, but I think @property is more Python solution. And I really want to know what is the difference. Thank you</p>\n"}, {"tags": ["python", "pandas", "time-series"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1551305520, "creation_date": 1551305520, "answer_id": 54915317, "question_id": 54915215, "link": "https://stackoverflow.com/questions/54915215/expressing-time-series-data-in-the-columns-rather-than-the-rows-of-a-dataframe/54915317#54915317", "title": "Expressing time series data in the columns rather than the rows of a DataFrame", "body": "<h2><code>set_index</code></h2>\n\n<p>I'd like the <code>'person'</code> to end up in the <code>index</code> and leave <code>columns</code> as a <code>pandas.MultiIndex</code></p>\n\n<pre><code>df.set_index(['person', 'year']).unstack().swaplevel(0, 1, 1).sort_index(1)\n\nyear         2016                  2017                  2018           \n       efficiency production efficiency production efficiency production\nperson                                                                  \nbob           0.1         30       0.11         35       0.05         15\n</code></pre>\n\n<hr>\n\n<h2><code>pivot_table</code></h2>\n\n<pre><code>df.pivot_table(index='person', columns='year').swaplevel(0, 1, 1).sort_index(1)\n\nyear         2016                  2017                  2018           \n       efficiency production efficiency production efficiency production\nperson                                                                  \nbob           0.1         30       0.11         35       0.05         15\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 2929889, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a57269ab24b70f98c0a59759609cdc88?s=128&d=identicon&r=PG&f=1", "display_name": "lane0335", "link": "https://stackoverflow.com/users/2929889/lane0335"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "closed_date": 1551305744, "accepted_answer_id": 54915317, "answer_count": 1, "score": 1, "last_activity_date": 1551305520, "creation_date": 1551305040, "question_id": 54915215, "link": "https://stackoverflow.com/questions/54915215/expressing-time-series-data-in-the-columns-rather-than-the-rows-of-a-dataframe", "closed_reason": "Duplicate", "title": "Expressing time series data in the columns rather than the rows of a DataFrame", "body": "<p>I'm struggling to articulate my problem, so I'll demonstrate via example.</p>\n\n<p>Let's say I have a DataFrame that looks like this:</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.DataFrame([{'person': 'bob', 'year': 2016, 'production': 30, 'efficiency': .10}, {'person': 'bob', 'year': 2017, 'production': 35, 'efficiency': .11}, {'person': 'bob', 'year': 2018, 'production': 15, 'efficiency': .05}])\n&gt;&gt;&gt; df\n   efficiency person  production  year\n0        0.10    bob          30  2016\n1        0.11    bob          35  2017\n2        0.05    bob          15  2018\n</code></pre>\n\n<p>I need to produce a report that has all of the information for each person on one line. Thus, I'd like to transform the above into:</p>\n\n<pre><code>   efficiency 2016 person  production 2016  efficiency 2017  production 2017  \\\n0              0.1    bob               30             0.11               35\n\n   efficiency 2018  production 2018\n0             0.05               15\n</code></pre>\n\n<p>This code is able to make that transformation, but it is horribly inefficient:</p>\n\n<pre><code>def combine_years(df):\n    final_df = None\n    for name, stats in df.groupby('person'):\n        agg_df = None\n        for year in stats['year']:\n            new_df = stats[stats.year == year].rename(columns=lambda colname: column_renamer(colname, year))\n            new_df = new_df.drop('year', axis=1)\n            if agg_df is None:\n                agg_df = new_df\n            else:\n                agg_df = agg_df.merge(new_df, how='outer', on=['person'])\n        if final_df is None:\n            final_df = agg_df\n        else:\n            final_df = pd.concat([final_df, agg_df], axis=1)\n    return final_df\n</code></pre>\n\n<p>A couple questions:</p>\n\n<ol>\n<li>Is there a more general name for this type of transformation?</li>\n<li>Is there a way to do this more efficiently, using functions provided by pandas?</li>\n</ol>\n"}, {"tags": ["python", "nlp", "nltk"], "answers": [{"tags": [], "owner": {"reputation": 964, "user_id": 4587312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bGYxK.jpg?s=128&g=1", "display_name": "Johannes Gontrum", "link": "https://stackoverflow.com/users/4587312/johannes-gontrum"}, "is_accepted": false, "score": 0, "last_activity_date": 1551361755, "creation_date": 1551361755, "answer_id": 54927247, "question_id": 54915130, "link": "https://stackoverflow.com/questions/54915130/conditional-probability-of-a-list-followed-by-another-term-nltk/54927247#54927247", "title": "Conditional Probability of a List followed by another term NLTK", "body": "<p>You have to iterate over the whole text first and count the n-grams so that you can compute their probability given a preceding sequence.</p>\n\n<p>Here is a very simple example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import re\nfrom collections import defaultdict, Counter\n\n# Tokenize the text in a very naive way.\ntext = \"The Maroon Bells are a pair of peaks in the Elk Mountains of Colorado, United States, close to the town of Aspen. The two peaks are separated by around 500 meters (one-third of a mile). Maroon Peak is the higher of the two, with an altitude of 14,163 feet (4317.0 m), and North Maroon Peak rises to 14,019 feet (4273.0 m), making them both fourteeners. The Maroon Bells are a popular tourist destination for day and overnight visitors, with around 300,000 visitors every season.\"\ntokens = re.findall(r\"\\w+\", text.lower(), re.U)\n\n\ndef get_ngram_mapping(tokens, n):\n    # Add markers for the beginning and end of the text.\n    tokens = [\"[BOS]\"] + tokens + [\"[EOS]\"]\n\n    # Map a preceding sequence of n-1 tokens to a list\n    # of following tokens. 'defaultdict' is used to\n    # give us an empty list when we acces a key that\n    # does not exist yet.\n    ngram_mapping = defaultdict(list)\n\n    # Iterate through the text using a moving window\n    # of length n.\n    for i in range(len(tokens) - n + 1):\n        window = tokens[i:i+n]\n        preceding_sequence = tuple(window[:-1])\n        following_token = window[-1]\n\n        # Example for n=3: 'it is good' =&gt;\n        # ngram_mapping[(\"it\", \"is\")] = [\"good\"]\n        ngram_mapping[preceding_sequence].append(following_token)\n\n    return ngram_mapping\n\n\ndef compute_ngram_probability(ngram_mapping):\n    ngram_probability = {}\n    for preceding, following in ngram_mapping.items():\n        # Let's count which tokens appear right\n        # behind the tokens in the preceding sequence.\n        # Example: Counter(['a', 'a', 'b'])\n        # =&gt; {'a': 2, 'b': 1}\n        token_counts = Counter(following)\n\n        # Next we compute the probability that\n        # a token 'w' follows our sequence 's'\n        # by dividing by the frequency of 's'.\n        frequency_s = len(following)\n\n        token_probability = defaultdict(float)\n        for token, token_frequency in token_counts.items():\n            token_probability[token] = token_frequency / frequency_s\n\n        ngram_probability[preceding] = token_probability\n\n\n    return ngram_probability\n\nngrams = count_ngrams(tokens, n=2)\nngram_probability = compute_ngram_probability(ngrams)\n\nprint(ngram_probability[(\"the\",)][\"elk\"])  # = 0.14285714285714285\nprint(ngram_probability[(\"the\",)][\"unknown\"]) # = 0.0\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9237820, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208518946491546/picture?type=large", "display_name": "Andrew Bury", "link": "https://stackoverflow.com/users/9237820/andrew-bury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551361755, "creation_date": 1551304608, "question_id": 54915130, "link": "https://stackoverflow.com/questions/54915130/conditional-probability-of-a-list-followed-by-another-term-nltk", "title": "Conditional Probability of a List followed by another term NLTK", "body": "<p>NO CODE NEEDED \nI am checking probability that given a series of words that, following that series, the index is some given word. I am currently working with nltk/python and was wondering if there was a simple function to do this or if I need to hard code this kind of thing myself by iterating through and counting all occurrences sort of thing.</p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "matplotlib", "subplot"], "answers": [{"tags": [], "owner": {"reputation": 411, "user_id": 2683776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b78e7eee78845a799314be1c0b54941?s=128&d=identicon&r=PG&f=1", "display_name": "zan", "link": "https://stackoverflow.com/users/2683776/zan"}, "is_accepted": true, "score": 4, "last_activity_date": 1561647038, "last_edit_date": 1561647038, "creation_date": 1551308820, "answer_id": 54915930, "question_id": 54915124, "link": "https://stackoverflow.com/questions/54915124/how-to-unset-sharex-or-sharey-from-two-axes-in-matplotlib/54915930#54915930", "title": "How to unset `sharex` or `sharey` from two axes in Matplotlib", "body": "<p>You can use <code>ax.get_shared_x_axes()</code> to get a Grouper object that contains all the linked axes. Then use <code>group.remove(ax)</code> to remove the specified axis from that group. You can also <code>group.join(ax1, ax2)</code> to add a new share.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nfig, ax = plt.subplots(2, 10, sharex='row', sharey='row', squeeze=False)\n\ndata = np.random.rand(20, 2, 10)\nfor row in [0,1]:\n    for col in range(10):\n        n = col*(row+1)\n        ax[row, col].plot(data[n,0], data[n,1], '.')\n\na19 = ax[1,9]\n\nshax = a19.get_shared_x_axes()\nshay = a19.get_shared_y_axes()\nshax.remove(a19)\nshay.remove(a19)\n\na19.clear()\nd19 = data[-1] * 5\na19.plot(d19[0], d19[1], 'r.')\n\nplt.show()\n</code></pre>\n\n<p>This still needs a little tweaking to set the ticks, but the bottom-right plot now has its own limits.\n<a href=\"https://i.stack.imgur.com/uP21r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uP21r.png\" alt=\"unshared axes\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 0, "creation_date": 1551357613, "post_id": 54916446, "comment_id": 96616467, "body": "Thanks for pointing this out. I guess that for now, I&#39;d still use the <i>opt-in</i> approach, even if it looks a bit less clean."}], "tags": [], "owner": {"reputation": 8010, "user_id": 10659910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3zC2tMoc6PA/AAAAAAAAAAI/AAAAAAAAADg/n9BjRO9gFMo/photo.jpg?sz=128", "display_name": "William Miller", "link": "https://stackoverflow.com/users/10659910/william-miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1551312493, "creation_date": 1551312493, "answer_id": 54916446, "question_id": 54915124, "link": "https://stackoverflow.com/questions/54915124/how-to-unset-sharex-or-sharey-from-two-axes-in-matplotlib/54916446#54916446", "title": "How to unset `sharex` or `sharey` from two axes in Matplotlib", "body": "<p>You can access the group of shared axes using either <code>ax.get_shared_x_axes()</code> or by the property <code>ax._shared_y_axes</code>. You can then reset the visibility of the labels using <code>xaxis.set_tick_params(which='both', labelleft=True)</code> or using <code>setp(ax, get_xticklabels(), visible=True)</code> however both of these methods suffer from the same innate problem: the tick formatter is still shared between the axes. As far as I know there is no way around this. Here is an example to demonstrate:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nnp.random.seed(1)\nfig, axs = plt.subplots(2, 2, sharex='row', sharey='row', squeeze=False)\naxs[0][0]._shared_x_axes.remove(axs[0][0])\naxs[0][0]._shared_y_axes.remove(axs[0][0])\n\nfor ii in range(2):\n    for jj in range(2):\n        axs[ii][jj].plot(np.random.randn(100), np.linspace(0,ii+jj+1, 100))\n\naxs[0][1].yaxis.set_tick_params(which='both', labelleft=True)\naxs[0][1].set_yticks(np.linspace(0,2,7))\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qWYx9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qWYx9.png\" alt=\"Unsetting shared axis\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 6, "last_activity_date": 1561735986, "creation_date": 1561735986, "answer_id": 56809635, "question_id": 54915124, "link": "https://stackoverflow.com/questions/54915124/how-to-unset-sharex-or-sharey-from-two-axes-in-matplotlib/56809635#56809635", "title": "How to unset `sharex` or `sharey` from two axes in Matplotlib", "body": "<p>As @zan points out in the <a href=\"https://stackoverflow.com/a/54915930/4124317\">their answer</a>, you can use <code>ax.get_shared_x_axes()</code> to obtain a <code>Grouper</code> object that contains all the linked axes, and then <code>.remove</code> any axes from this Grouper. The problem is (as @WMiller points out) that the ticker is still the same for all axes. </p>\n\n<p>So one will need to </p>\n\n<ol>\n<li>remove the axes from the grouper</li>\n<li>set a new Ticker with the respective new locator and formatter</li>\n</ol>\n\n<p>Complete example</p>\n\n<pre><code>import matplotlib\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nfig, axes = plt.subplots(3, 4, sharex='row', sharey='row', squeeze=False)\n\ndata = np.random.rand(20, 2, 10)\n\nfor ax in axes.flatten()[:-1]:\n    ax.plot(*np.random.randn(2,10), marker=\"o\", ls=\"\")\n\n\n\n# Now remove axes[1,5] from the grouper for xaxis\naxes[2,3].get_shared_x_axes().remove(axes[2,3])\n\n# Create and assign new ticker\nxticker = matplotlib.axis.Ticker()\naxes[2,3].xaxis.major = xticker\n\n# The new ticker needs new locator and formatters\nxloc = matplotlib.ticker.AutoLocator()\nxfmt = matplotlib.ticker.ScalarFormatter()\n\naxes[2,3].xaxis.set_major_locator(xloc)\naxes[2,3].xaxis.set_major_formatter(xfmt)\n\n# Now plot to the \"ungrouped\" axes\naxes[2,3].plot(np.random.randn(10)*100+100, np.linspace(-3,3,10), \n                marker=\"o\", ls=\"\", color=\"red\")\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PaakW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PaakW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that in the above I only changed the ticker for the x axis and also only for the major ticks. You would need to do the same for the y axis and also for minor ticks in case it's needed.</p>\n"}], "owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2424, "favorite_count": 4, "accepted_answer_id": 54915930, "answer_count": 3, "score": 7, "last_activity_date": 1561735986, "creation_date": 1551304570, "question_id": 54915124, "link": "https://stackoverflow.com/questions/54915124/how-to-unset-sharex-or-sharey-from-two-axes-in-matplotlib", "title": "How to unset `sharex` or `sharey` from two axes in Matplotlib", "body": "<p>I have a series of subplots, and I want them to share x and y axis in all but 2 subplots (on a per-row basis).</p>\n\n<p>I know that it is possible to create all subplots separately and then <a href=\"https://stackoverflow.com/questions/42973223/how-share-x-axis-of-two-subplots-after-they-are-created\">add the <code>sharex</code>/<code>sharey</code> functionality afterward</a>.</p>\n\n<p>However, this is a lot of code, given that I have to do this for most subplots. </p>\n\n<p>A more efficient way would be to create all subplots with the desired <code>sharex</code>/<code>sharey</code> properties, e.g.:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nfix, axs = plt.subplots(2, 10, sharex='row', sharey='row', squeeze=False)\n</code></pre>\n\n<p>and then set <em>unset</em> the <code>sharex</code>/<code>sharey</code> functionality, which could <strong>hypothetically</strong> work like:</p>\n\n<pre><code>axs[0, 9].sharex = False\naxs[1, 9].sharey = False\n</code></pre>\n\n<p>The above does not work, but is there any way to obtain this?</p>\n"}, {"tags": ["python", "python-3.x", "bash"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1551304565, "post_id": 54915071, "comment_id": 96596555, "body": "Not really; but it is not your script&#39;s job (or at least, not <i>your</i> job, as the author of the script) to know where the correct interpreter is located. That&#39;s the job of the <i>installer</i>, which is <code>python setup.py ...</code> replaces any shebang containing the word <code>python</code> (with <code>#!python</code> being the minimal example) with the path specified by the installer."}, {"owner": {"reputation": 4024, "user_id": 3307686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dd8d815759c23dd52428c7cc0c35324?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Holt", "link": "https://stackoverflow.com/users/3307686/mike-holt"}, "edited": false, "score": 0, "creation_date": 1551304739, "post_id": 54915071, "comment_id": 96596616, "body": "It&#39;s worth noting that <code>&#47;usr&#47;bin&#47;env python3</code> doesn&#39;t merely echo back a path to bash. If you type <code>&#47;usr&#47;bin&#47;env python3</code> directly on the command line, you&#39;ll see that it actually <i>starts</i> python (most likely via some flavor of <code>exec()</code>). So presumably your script would have to do the same when called."}, {"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1551305040, "post_id": 54915071, "comment_id": 96596721, "body": "Make your use case general. I believe it should be on the user to understand where their python path is."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1551315858, "post_id": 54915071, "comment_id": 96599763, "body": "read your <code>execve</code> man page: you can&#39;t put a script as the shebang."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1551315937, "post_id": 54915071, "comment_id": 96599780, "body": "I would suggest one tactic is to tell your users that python3 in the PATH is a requirement to run your program."}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 1578210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7aec6c20f75c03f632f842dc7f77aaea?s=128&d=identicon&r=PG", "display_name": "milnuts", "link": "https://stackoverflow.com/users/1578210/milnuts"}, "edited": false, "score": 0, "creation_date": 1551306129, "post_id": 54915226, "comment_id": 96597134, "body": "Great.  Thanks for the thorough explanation.  I just tried it out and it worked exactly as I was intending.  Thanks again!"}, {"owner": {"reputation": 2260, "user_id": 3217683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb0f69fe312aec841b2fe815be12dc7?s=128&d=identicon&r=PG&f=1", "display_name": "joelion", "link": "https://stackoverflow.com/users/3217683/joelion"}, "edited": false, "score": 0, "creation_date": 1566923636, "post_id": 54915226, "comment_id": 101804649, "body": "Do you know of any reason why this methodology wouldn&#39;t work if the calling script is a CGI file that is a gateway to a Flask server?   That is, I&#39;m running a Flask server on an old Apache that only runs CGI (no FCGI, much less WSGI). My <code>app.cgi</code> shebang line points to a shell script, which follows your method of picking a Python then <code>exec</code>ing that python.   However, Apache gives an error with logs such as: <code>(8)Exec format error: exec of &#39;...&#47;my-flask-app&#47;app.cgi&#39; failed Premature end of script headers: app.cgi</code>  The redirection script works fine on command-line python scripts"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 2260, "user_id": 3217683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb0f69fe312aec841b2fe815be12dc7?s=128&d=identicon&r=PG&f=1", "display_name": "joelion", "link": "https://stackoverflow.com/users/3217683/joelion"}, "edited": false, "score": 0, "creation_date": 1566925864, "post_id": 54915226, "comment_id": 101805544, "body": "No, @joelion, I am not aware of any reason why this general methodology would fail for you.  At the level of detail presented, it relies only on well-known, well-documented features of Bash and an underlying POSIX-like operating system.  I can think of a variety of details that, if implemented incorrectly, might possibly elicit behavior such as you describe, but that would probably be best approached in a separate question.  If you pose one, then please be sure to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": true, "score": 1, "last_activity_date": 1551305682, "last_edit_date": 1551305682, "creation_date": 1551305083, "answer_id": 54915226, "question_id": 54915071, "link": "https://stackoverflow.com/questions/54915071/can-a-bash-script-that-returns-a-python-interpreter-replace-the-shebang/54915226#54915226", "title": "Can a bash script that returns a Python interpreter replace the shebang?", "body": "<blockquote>\n  <p><strong>is it possible</strong> to replace the <code>#!/usr/bin/env python3</code> at the top of the Python file with a call to a bash shell script that looks for the python location and then \"sets\" it for the script?</p>\n</blockquote>\n\n<p>Yes, of course.  That's effectively what <code>/usr/bin/env python3</code> does.  There's nothing magic about that particular command; it and variations on it just happen to be broadly useful.</p>\n\n<blockquote>\n  <p>I created a bash script that does look through the possible locations until it finds the interpreter, but what I don't know how to do is return it in the top of a Python file.</p>\n</blockquote>\n\n<p>You have a misunderstanding about what's happening.  A shebang line does not result in a substitution into the script.  Rather, it results in the specified line being executed as a command, with the path to the original script and the arguments to it appended as an additional arguments.</p>\n\n<p>Thus, your <code>pyshebang.sh</code> should have a general form along these lines:</p>\n\n<pre><code>#!/bin/bash\n# Note: the above shebang line is not a special case\n\n# ... find Python ...\n\nMY_PYTHON=/the/python/I/discovered\n\n# Execute the discovered Python, passing it all the arguments this\n# script received\nexec \"$MY_PYTHON\" \"$@\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1551305510, "post_id": 54915262, "comment_id": 96596901, "body": "I don&#39;t think it&#39;s right to pass <code>$0</code> as an argument to the <code>exec</code>.  Are you sure about that?  I&#39;m pretty sure the interpreter receives the target script name as an argument, not as its own name, so the interpreter shim the OP wants would just repeat its own arguments to the discovered Python command."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1551308112, "post_id": 54915262, "comment_id": 96597823, "body": "I&#39;m assuming the shim is just returning something like <code>&#47;usr&#47;bin&#47;python</code>; that&#39;s what gets <code>exec</code>ed, and the first argument it will expect is the script to actually run."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 0, "last_activity_date": 1551305240, "creation_date": 1551305240, "answer_id": 54915262, "question_id": 54915071, "link": "https://stackoverflow.com/questions/54915071/can-a-bash-script-that-returns-a-python-interpreter-replace-the-shebang/54915262#54915262", "title": "Can a bash script that returns a Python interpreter replace the shebang?", "body": "<p>You can use a hack like the following to have the shell find the correct interpreter, then re-run the current script using that interpreter.</p>\n\n<pre><code>#!/bin/sh\n\n''':'\ncmd=$(./pyshebang)\nexec \"$cmd\" \"$0\" \"$@\"\n:' '''\n\nprint(\"Hello\")\n</code></pre>\n\n<p>This is a shell script. The first command is <code>:</code>, constructed from an empty single-quoted string and a quoted <code>:</code>. <code>:</code> is a no-op. The next command sets the variable <code>cmd</code> to the path returned by <code>./pyshebang</code>, followed by a command to replace the current process with the program indicated by <code>$cmd</code>, with the current script name as its first argument and taking any other arguments that were passed to the shell script.</p>\n\n<p>When this same file is then run by a Python interpreter, it sees a doc-string (<code>'''...'''</code>) whose contents (the shell code previously executed) are ignored. Execution then begins with the proper Python code which the shell never looked at before finding the <code>exec</code> command.</p>\n"}], "owner": {"reputation": 365, "user_id": 1578210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7aec6c20f75c03f632f842dc7f77aaea?s=128&d=identicon&r=PG", "display_name": "milnuts", "link": "https://stackoverflow.com/users/1578210/milnuts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 0, "accepted_answer_id": 54915226, "answer_count": 2, "score": 2, "last_activity_date": 1551305682, "creation_date": 1551304355, "question_id": 54915071, "link": "https://stackoverflow.com/questions/54915071/can-a-bash-script-that-returns-a-python-interpreter-replace-the-shebang", "title": "Can a bash script that returns a Python interpreter replace the shebang?", "body": "<p>I've got some Python scripts that are now being run by a wide variety of folks across multiple test platforms.  This creates a problem for 2 reasons:</p>\n\n<ol>\n<li>The python3 path is not the same across all the testers, and</li>\n<li>Not all of the people running the scripts have a path to Python set in $PATH.</li>\n</ol>\n\n<p>Because of (1) I can't hard-code the shebang since its tester dependent and because of (2) <code>#!/usr/bin/env python3</code> isn't guaranteed to work if placed at the top of Python file.</p>\n\n<p>I know that the python3 interpreter is going to be in one of a few locations across the testers.  So what I'm wondering, <strong><em>is it possible</em></strong> to replace the  <code>#!/usr/bin/env python3</code> at the top of the Python file with a call to a bash shell script that looks for the python location and then \"sets\" it for the script?  If that's not possible, then the rest of this is moot.</p>\n\n<p>I created a bash script that does look through the possible locations until it finds the interpreter, but what I don't know how to do is return it in the top of a Python file.</p>\n\n<p>For example, I created a basic python file (shebang.py)</p>\n\n<pre><code>#!./pyshebang.sh\n\nprint(\"Hello World\")\n</code></pre>\n\n<p><code>pyshebang.sh</code> does 2 things, it appends the found python path to PATH, and echo's back that path to the interpreter.  If I run the python script above, stdout gets the echo from the bash script, but not the print from the python script. </p>\n"}, {"tags": ["python", "python-3.x", "boto3"], "comments": [{"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 2, "creation_date": 1551304140, "post_id": 54915015, "comment_id": 96596369, "body": "<code>print(instance)</code>, what exactly does instance contain? :) Obviously the value in there is not what you expect it to be."}, {"owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1551304207, "post_id": 54915015, "comment_id": 96596401, "body": "Ok thanks. Let me try that. Bet you&#39;re right! :)"}, {"owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1551304611, "post_id": 54915015, "comment_id": 96596578, "body": "I get a json dump with all the info about the instance when I run that print(instance) statement: <a href=\"https://pastebin.com/1Fd1iyqn\" rel=\"nofollow noreferrer\">pastebin.com/1Fd1iyqn</a>"}, {"owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1551304636, "post_id": 54915015, "comment_id": 96596584, "body": "So how do I parse that using python? :)"}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1551304748, "post_id": 54915015, "comment_id": 96596621, "body": "<code>instance[&#39;tags&#39;][0][&#39;Value&#39;]</code> should work."}, {"owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1551305073, "post_id": 54915015, "comment_id": 96596735, "body": "Ok, progress. I have a new error: KeyError: &#39;tags&#39; The current code is here: <a href=\"https://pastebin.com/8uKjenHD\" rel=\"nofollow noreferrer\">pastebin.com/8uKjenHD</a>"}, {"owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1551305536, "post_id": 54915015, "comment_id": 96596913, "body": "I changed &#39;tags&#39; to &#39;Tags&#39; (based on the json output), I get another error: <code>AttributeError: &#39;dict&#39; object has no attribute &#39;id&#39;</code>. Which is strange because I am trying to use defaultdict to print the information: <a href=\"https://pastebin.com/vgTPCCnF\" rel=\"nofollow noreferrer\">pastebin.com/vgTPCCnF</a>"}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1551305924, "post_id": 54915015, "comment_id": 96597069, "body": "I think you should stop just throwing &quot;solutions&quot; to the problem, and understand what and why you&#39;re doing the things you&#39;re doing. That&#39;s just a tip, you don&#39;t have to take it or listen to it. But I strongly advice you to do so. And yes, sorry. I meant to write <code>Tags</code> not <code>tags</code>. Keywords to look up: <code>python dictionary</code>"}, {"owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1551306021, "post_id": 54915015, "comment_id": 96597101, "body": "I am trying to understand what and why I am doing the things I am doing."}, {"owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1551306303, "post_id": 54915015, "comment_id": 96597195, "body": "Well, I tried googling how to use <a href=\"https://www.accelebrate.com/blog/using-defaultdict-python\" rel=\"nofollow noreferrer\">defaultdict</a> in python. I&#39;ll look up generally how to use dictionaries in python next. I know I need a better grasp of that subject. Thanks for your help."}, {"owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "reply_to_user": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1551368473, "post_id": 54915015, "comment_id": 96623137, "body": "I was able to get this working. These are the lines that worked, in case you are interested: <code>tags = instance[&#39;Tags&#39;]     name = &quot;&quot;     for tag in tags:         if tag[&quot;Key&quot;] == &quot;Name&quot;:             name = tag[&quot;Value&quot;]     print(&quot;Name = &quot;, name)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "is_accepted": false, "score": 0, "last_activity_date": 1551368826, "creation_date": 1551368826, "answer_id": 54929457, "question_id": 54915015, "link": "https://stackoverflow.com/questions/54915015/python-3-boto-error-list-indices-must-be-integers-or-slices-not-dict/54929457#54929457", "title": "Python 3 Boto Error list indices must be integers or slices, not dict", "body": "<p>I was able to get this working with the following code:</p>\n\n<pre><code>import boto3\nimport collections\nfrom collections import defaultdict\n\nec2 = boto3.client('ec2')\ninstance_id_list = input(\"Enter an instance ID separated by commas: \")\ninstance_ids = instance_id_list.split(\",\")\nprint(\"Deleting Instance IDs:\")\nfor instance_id in instance_ids:\n    print(instance_id)\n    instance = ec2.describe_instances(\n        InstanceIds=[instance_id]\n        )['Reservations'][0]['Instances'][0]\n    ec2info = defaultdict()\n    tags = instance['Tags']\n    name = \"\"\n    for tag in tags:\n        if tag[\"Key\"] == \"Name\":\n            name = tag[\"Value\"]\n    print(\"Name = \", name)\n</code></pre>\n\n<p>Produces the following output:</p>\n\n<pre><code>Enter an instance ID separated by commas: i-04be74d3a1713ce84\nDeleting Instance IDs:\ni-04be74d3a1713ce84\nName =  test1\n</code></pre>\n"}], "owner": {"reputation": 500, "user_id": 1017466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d62289ed695b520ad2a3ae80c45277?s=128&d=identicon&r=PG", "display_name": "bluethundr", "link": "https://stackoverflow.com/users/1017466/bluethundr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551368826, "creation_date": 1551304031, "question_id": 54915015, "link": "https://stackoverflow.com/questions/54915015/python-3-boto-error-list-indices-must-be-integers-or-slices-not-dict", "title": "Python 3 Boto Error list indices must be integers or slices, not dict", "body": "<p>My script asks the user to enter a list of AWS instance IDs. Then print out info about the instances, then terminate them.</p>\n\n<p>But I get this error when I run my script:</p>\n\n<pre><code>    File \".\\aws_ec2_terminate_instances.py\", line 15, in &lt;module&gt;\n    name = instance['Tags'][{'Key': 'Name', 'Value': instance_id}]\nTypeError: list indices must be integers or slices, not dict\n</code></pre>\n\n<p>This is the code:</p>\n\n<pre><code>import sys\nimport boto3\nimport collections\nfrom collections import defaultdict\n\nec2 = boto3.client('ec2')\ninstance_id_list = input(\"Enter an instance ID separated by commas: \")\ninstance_ids = instance_id_list.split(\",\")\nprint(\"Deleting Instance IDs:\")\nfor instance_id in instance_ids:\n    print(instance_id)\n    instance = ec2.describe_instances(\n        InstanceIds=[instance_id]\n        )['Reservations'][0]['Instances'][0]\n    name = instance['Tags'][{'Key': 'Name', 'Value': instance_id}]\n    ec2info = defaultdict()\n    # Add instance info to a dictionary\n    print(instance.get('Instances'))\n    ec2info[instance.id] = {\n        'Name': name,\n        'Instance ID': instance.id,\n        'Type': instance.instance_type,\n        'State': instance.state['Name'],\n        'Private IP': instance.private_ip_address,\n        'Public IP': instance.public_ip_address,\n        'Launch Time': instance.launch_time\n        }\nattributes = ['Instance ID', 'Type',\n              'State', 'Private IP', 'Public IP', 'Launch Time']\nfor instance_id, instance in ec2info.items():\n    for key in attributes:\n        print(\"{0}: {1}\".format(key, instance[key]))\n        print(\"------\")\n        print(\"Terminating the instance:\")\n        ec2.instances.filter(InstanceIds=instance).stop()\n        ec2.instances.filter(InstanceIds=instance).terminate()\n</code></pre>\n\n<p>How can I get passed this error?</p>\n"}, {"tags": ["python", "web-scraping", "scrapy", "scrapy-spider", "scrapinghub"], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 2, "last_activity_date": 1551304534, "last_edit_date": 1551304534, "creation_date": 1551304203, "answer_id": 54915046, "question_id": 54915009, "link": "https://stackoverflow.com/questions/54915009/cant-deploy-to-scrapinghub-non-existent-syntaxerror-invalid-syntax/54915046#54915046", "title": "Can&#39;t deploy to ScrapingHub non existent SyntaxError: invalid syntax", "body": "<p>You are using Python 3.6+ syntax but deploying to a Python 2.7 environment.</p>\n"}, {"tags": [], "owner": {"reputation": 2270, "user_id": 4082726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/facc0506d0cbf1067dccd342b4cb3e94?s=128&d=identicon&r=PG", "display_name": "malberts", "link": "https://stackoverflow.com/users/4082726/malberts"}, "is_accepted": false, "score": 0, "last_activity_date": 1551343487, "creation_date": 1551343487, "answer_id": 54921552, "question_id": 54915009, "link": "https://stackoverflow.com/questions/54915009/cant-deploy-to-scrapinghub-non-existent-syntaxerror-invalid-syntax/54921552#54921552", "title": "Can&#39;t deploy to ScrapingHub non existent SyntaxError: invalid syntax", "body": "<p>To add a solution in addition to <a href=\"https://stackoverflow.com/a/54915046/4082726\">Daniel Roseman's answer</a>, you need to specify the Python 3 environment in your ScrapingHub config. After running the <code>shub</code> command you should have a <code>scrapinghub.yml</code> file in your project. Update this with the target environment:</p>\n\n<pre><code>project: 123456 \n\nstacks:\n    default: scrapy:1.6-py3\n</code></pre>\n\n<p>Replace the project number with your own. And if you need a specific version of Scrapy in the Python 3 environment, refer to the documentation: <a href=\"https://support.scrapinghub.com/support/solutions/articles/22000200387-deploying-python-3-spiders-to-scrapy-cloud\" rel=\"nofollow noreferrer\">https://support.scrapinghub.com/support/solutions/articles/22000200387-deploying-python-3-spiders-to-scrapy-cloud</a></p>\n"}], "owner": {"reputation": 390, "user_id": 11127541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mcsaDH8wnZY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9KnEdSI2st7JCr4Wk8lzwmGMEnQ/mo/photo.jpg?sz=128", "display_name": "Omar Omeiri", "link": "https://stackoverflow.com/users/11127541/omar-omeiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1551343487, "creation_date": 1551304008, "question_id": 54915009, "link": "https://stackoverflow.com/questions/54915009/cant-deploy-to-scrapinghub-non-existent-syntaxerror-invalid-syntax", "title": "Can&#39;t deploy to ScrapingHub non existent SyntaxError: invalid syntax", "body": "<p>I have a Scrapy Spider that runs perfectly if I call: scrapy crawl .\nWhen I try to deploy it to ScrapingHub.com it raises a SyntaxError that I can't fix. I can't figure out whats happening.\nThere in no syntax error in my code.</p>\n\n<p>here is my deployment output:</p>\n\n<pre><code>    API key is OK, you are logged in now.\nomars-MacBook-Pro:airbnb omaromeiri$ shub deploy 377112\nSaving project 377112 as default target. You can deploy to it via 'shub deploy' from now on\nSaved to /Users/omaromeiri/Documents/Python/Scrapy/airbnb/scrapinghub.yml.\nPacking version 1.0\nDeploying to Scrapy Cloud project \"377112\"\nDeploy log last 30 lines:\n    _run(args, settings)\n  File \"/usr/local/lib/python2.7/site-packages/sh_scrapy/crawl.py\", line 103, in _run\n    _run_scrapy(args, settings)\n  File \"/usr/local/lib/python2.7/site-packages/sh_scrapy/crawl.py\", line 111, in _run_scrapy\n    execute(settings=settings)\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/cmdline.py\", line 148, in execute\n    cmd.crawler_process = CrawlerProcess(settings)\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/crawler.py\", line 243, in __init__\n    super(CrawlerProcess, self).__init__(settings)\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/crawler.py\", line 134, in __init__\n    self.spider_loader = _get_spider_loader(settings)\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/crawler.py\", line 330, in _get_spider_loader\n    return loader_cls.from_settings(settings.frozencopy())\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/spiderloader.py\", line 61, in from_settings\n    return cls(settings)\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/spiderloader.py\", line 25, in __init__\n    self._load_all_spiders()\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/spiderloader.py\", line 47, in _load_all_spiders\n    for module in walk_modules(name):\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/utils/misc.py\", line 71, in walk_modules\n    submod = import_module(fullpath)\n  File \"/usr/local/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/app/__main__.egg/airbnb/spiders/airbnb_spider.py\", line 28\n    'Coordinates': f\"{accomodation.get('listing').get('lat')},{accomodation.get('listing').get('lng')}\",\n                                                                                                      ^\nSyntaxError: invalid syntax\n{\"message\": \"shub-image-info exit code: 1\", \"details\": null, \"error\": \"image_info_error\"}\n\n{\"status\": \"error\", \"message\": \"Internal error\"}\nDeploy log location: /var/folders/3f/yyvy83n55tv66fdw10cbb4d80000gn/T/shub_deploy_rx_i_0wr.log\nError: Deploy failed: b'{\"status\": \"error\", \"message\": \"Internal error\"}'\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9014746, "user_type": "registered", "profile_image": "https://graph.facebook.com/1751926978185412/picture?type=large", "display_name": "Daniel Harper", "link": "https://stackoverflow.com/users/9014746/daniel-harper"}, "edited": false, "score": 1, "creation_date": 1551307228, "post_id": 54915400, "comment_id": 96597524, "body": "Thank you very much, this helped me output the full file."}], "tags": [], "owner": {"reputation": 8010, "user_id": 10659910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3zC2tMoc6PA/AAAAAAAAAAI/AAAAAAAAADg/n9BjRO9gFMo/photo.jpg?sz=128", "display_name": "William Miller", "link": "https://stackoverflow.com/users/10659910/william-miller"}, "is_accepted": true, "score": 0, "last_activity_date": 1551305897, "creation_date": 1551305897, "answer_id": 54915400, "question_id": 54914981, "link": "https://stackoverflow.com/questions/54914981/matplotlib-error-typeerror-cannot-cast-array-data-from-dtypefloat64-to-dtyp/54915400#54915400", "title": "Matplotlib Error TypeError: Cannot cast array data from dtype(&#39;float64&#39;) to dtype(&#39;&lt;U32&#39;) according to the rule &#39;safe&#39;", "body": "<p>The error is because you are trying to plot three lists of <code>str</code> type objects. They need to be of <code>float</code> or similar type, and cannot be implicitly casted. You can do the type casting explicitly by making the modification below:</p>\n\n<pre><code>for column in readCSV:\n        xs = float(column[1])\n        ys = float(column[2])\n        zs = float(column[3])\n</code></pre>\n\n<p>Also note that <code>ax.scatter</code> should be <em>outside</em> the loop, like this</p>\n\n<pre><code>    for column in readCSV:\n        xs = float(column[1])\n        ys = float(column[2])\n        zs = float(column[3])\n\n        XS.append(xs)\n        YS.append(ys)\n        ZS.append(zs)\n\nax.scatter(XS, YS, ZS, c='r', marker='o')\nax.set_xlabel('X Label')\nax.set_ylabel('Y Label')\nax.set_zlabel('Z Label')\n</code></pre>\n\n<p>Otherwise you will end up with a new scatter plot for every row in the <code>.csv</code>. I isolated the first 5 rows of your data and plotted them with these modifications to give</p>\n\n<p><a href=\"https://i.stack.imgur.com/dAngo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dAngo.png\" alt=\"3D Scatterplot\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 837, "user_id": 5107872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e125b4c3710fb30e0372c64daacd6268?s=128&d=identicon&r=PG&f=1", "display_name": "ahed87", "link": "https://stackoverflow.com/users/5107872/ahed87"}, "is_accepted": false, "score": 0, "last_activity_date": 1551309379, "creation_date": 1551309379, "answer_id": 54916012, "question_id": 54914981, "link": "https://stackoverflow.com/questions/54914981/matplotlib-error-typeerror-cannot-cast-array-data-from-dtypefloat64-to-dtyp/54916012#54916012", "title": "Matplotlib Error TypeError: Cannot cast array data from dtype(&#39;float64&#39;) to dtype(&#39;&lt;U32&#39;) according to the rule &#39;safe&#39;", "body": "<p>just for fun, using numpy which by default circumvents your original issue with passing strings to matplotlib, and at the same time compacting the code a bit.</p>\n\n<pre><code>raw = \"\"\"\nid,gx,gy,gz,ax,ay,az\n0,4.47,-33.23,-77,-106,94\n1,-129.04,4.48,-33.22,-78,-94,117\n2,-129.04,4.49,33.2,-70,-81,138\n3,-129.02,4.49,-33.18,-70,-64,157\n4,-129.02,4.5,-33.15,-64,-47,165\n\"\"\"\n\nfrom mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\nfrom io import StringIO\n\n# read data\ncsvfile = StringIO(raw)\nd = plt.np.loadtxt(csvfile, delimiter=',', skiprows=2, usecols=[1,2,3])\n# instead of csvfile just use filename when using the real file\nxyz = plt.np.split(d.T, indices_or_sections=len(d.T))\n\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.scatter(*xyz, c='r', marker='o')\nax.set(**{'%slabel'%s: s.upper() + ' Label' for s in 'xyz'})\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9014746, "user_type": "registered", "profile_image": "https://graph.facebook.com/1751926978185412/picture?type=large", "display_name": "Daniel Harper", "link": "https://stackoverflow.com/users/9014746/daniel-harper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1440, "favorite_count": 0, "accepted_answer_id": 54915400, "answer_count": 2, "score": 1, "last_activity_date": 1551309379, "creation_date": 1551303889, "question_id": 54914981, "link": "https://stackoverflow.com/questions/54914981/matplotlib-error-typeerror-cannot-cast-array-data-from-dtypefloat64-to-dtyp", "title": "Matplotlib Error TypeError: Cannot cast array data from dtype(&#39;float64&#39;) to dtype(&#39;&lt;U32&#39;) according to the rule &#39;safe&#39;", "body": "<p>Excuse me little knowledge in python but im trying to output a csv file(<a href=\"https://i.stack.imgur.com/O1TiF.png\" rel=\"nofollow noreferrer\">csvfile</a>) dataset in a 3d graph. my code so far is as follows:</p>\n\n<pre><code>from mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\nimport csv\n   fig = plt.figure()\n   ax = fig.add_subplot(111, projection='3d')\n\nwith open('new3.csv') as csvfile:\nreadCSV = csv.reader(csvfile, delimiter=',')\nnext(readCSV)\nnext(readCSV)\nnext(readCSV)\nXS =[]\nYS =[]\nZS =[]\nfor column in readCSV:\n    xs = column[1]\n    ys = column[2]\n    zs = column[3]\n\n    XS.append(xs)\n    YS.append(ys)\n    ZS.append(zs)\n    ax.scatter(XS, YS, ZS, c='r', marker='o')\n    ax.set_xlabel('X Label')\n    ax.set_ylabel('Y Label')\n    ax.set_zlabel('Z Label')\n\n    plt.show()\n</code></pre>\n\n<p>But i keep coming up with the error in the Title. Any help is appreciated</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "series"], "comments": [{"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 1, "creation_date": 1551304470, "post_id": 54914979, "comment_id": 96596512, "body": "The <code>shift()</code> method may help. For e.g. <code>df[&#39;a&#39;].shift()</code> will be a new series with the same length, but every row shifted down by one, so say <code>df[&#39;a&#39;] + df[&#39;a&#39;].shift()</code> will be the sum of the current value and the previous value."}], "answers": [{"tags": [], "owner": {"reputation": 237, "user_id": 10191075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRKid.png?s=128&g=1", "display_name": "MarkyMark1000", "link": "https://stackoverflow.com/users/10191075/markymark1000"}, "is_accepted": true, "score": 1, "last_activity_date": 1551306999, "creation_date": 1551306999, "answer_id": 54915609, "question_id": 54914979, "link": "https://stackoverflow.com/questions/54914979/creating-series-from-variables-updated-every-minute/54915609#54915609", "title": "Creating series from variables updated every minute", "body": "<p>You could try something similar to the following:</p>\n\n<pre><code>columnsMA = ['Time:','Fast MA:', 'Slow MA:']\n\n#Initiate results\nresults=pd.DataFrame([[datetime.datetime.now(),fastMA,slowMA]],columns=columnsMA)\n                print(results)\n\n#Append to results (say every minute)\ndfTemp=pd.DataFrame([[datetime.datetime.now(),fastMA,slowMA]],columns=columnsMA)\nresults=results.append(dfTemp,ignore_index=True)\nprint(results)\n\n#Append to results (say every minute)\ndfTemp=pd.DataFrame([[datetime.datetime.now(),fastMA,slowMA]],columns=columnsMA)\nresults=results.append(dfTemp,ignore_index=True)\nprint(results)\n\n    ... keep appending to the dataframe ....\n</code></pre>\n\n<p>There is also a concat function which you could investigate further.</p>\n\n<p>I guess that if you wanted to only keep 2 separate minutes of data in memory rather than the full history, you could just build a data frame from the tail and the new calculation results.</p>\n"}], "owner": {"reputation": 171, "user_id": 11081052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4fda013235e4e75b2c55a7b13b0d0d0?s=128&d=identicon&r=PG&f=1", "display_name": "GSatterwhite", "link": "https://stackoverflow.com/users/11081052/gsatterwhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 54915609, "answer_count": 1, "score": 0, "last_activity_date": 1551306999, "creation_date": 1551303882, "question_id": 54914979, "link": "https://stackoverflow.com/questions/54914979/creating-series-from-variables-updated-every-minute", "title": "Creating series from variables updated every minute", "body": "<p>So Im making a program where the variables fastMA and slowMA below are calculated every minute (below). I am trying to figure out a way to add each instance they are calculated to a series so that I can compare the most recent minute's values with what they were in the last minute. So I only need the two most recent calculations for each.  </p>\n\n<pre><code>if len(dfC) &gt;= 75:\n\n    fastMAcloses = pd.DataFrame(dfC.tail(20)).values\n    fastMA = fastMAcloses.sum() / 20\n    print(fastMA)\n\n    slowMAcloses = pd.DataFrame(dfC.tail(75)).values\n    slowMA = slowMAcloses.sum() / 75\n    print(slowMA)\n\nelse:\n    print('... calculating MAs in', 75 - len(dfC), 'min')\n</code></pre>\n\n<p>What ive come up with so far is: </p>\n\n<pre><code>    columnsMA = ['Fast MA:', 'Slow MA:']\n    valuesMA = [fastMA, slowMA]\n    listMA = list(valuesMA)\n    seriesMA = pd.Series(listMA, columnsMA)\n    print(seriesMA)\n</code></pre>\n\n<p>However with this each time theyre calculated, the new minute's values overwrite the previous ones so they can't be compared. If you can help I thank you so much!</p>\n"}, {"tags": ["python", "django", "django-models", "django-forms"], "answers": [{"comments": [{"owner": {"reputation": 2698, "user_id": 5877122, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/08b5e737e693e82053dc0a4206152162?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/5877122/benjamin"}, "edited": false, "score": 0, "creation_date": 1551305232, "post_id": 54915140, "comment_id": 96596802, "body": "Exactly, .code_uid  I just found it a few seconds ago with a pdb hard search. Thanks"}], "tags": [], "owner": {"reputation": 3620, "user_id": 263101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0476bfada7f9419fce894c737f33927?s=128&d=identicon&r=PG", "display_name": "phoibos", "link": "https://stackoverflow.com/users/263101/phoibos"}, "is_accepted": true, "score": 1, "last_activity_date": 1551304671, "creation_date": 1551304671, "answer_id": 54915140, "question_id": 54914961, "link": "https://stackoverflow.com/questions/54914961/django-form-with-a-modelchoicefield-on-a-uuid-do-not-show-its-content-in-cleaned/54915140#54915140", "title": "Django form with a ModelChoiceField on a UUID do not show its content in cleaned_data", "body": "<p>I'm not sure what you want to accomplish:</p>\n\n<ul>\n<li><code>to_field_name</code> just specifies what should be used as value in the form; it should be unique (okay, an uuid is practically unique...). But it serves no purpose here, since by default the django-autogenerated pk is used, which is guaranteed to be unique</li>\n<li>what <code>my_form.cleaned_data[\"code_uid\"]</code> contains in any case is the instance of the <code>creator.models.Code</code> model you selected in the form. You can get <code>my_form.cleaned_data[\"code_uid\"].code_uid</code> for the UUID and do with it what you wanted.</li>\n</ul>\n"}], "owner": {"reputation": 2698, "user_id": 5877122, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/08b5e737e693e82053dc0a4206152162?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/5877122/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 54915140, "answer_count": 1, "score": 0, "last_activity_date": 1551304671, "creation_date": 1551303826, "question_id": 54914961, "link": "https://stackoverflow.com/questions/54914961/django-form-with-a-modelchoicefield-on-a-uuid-do-not-show-its-content-in-cleaned", "title": "Django form with a ModelChoiceField on a UUID do not show its content in cleaned_data", "body": "<p>I have a model:</p>\n\n<pre><code>class Code(models.Model):\n    section = models.CharField(max_length=255)\n    code_uid = models.UUIDField()    \n\n    def __str__(self):\n        return self.section\n</code></pre>\n\n<p>and a form:</p>\n\n<pre><code>class MyForm(Form):\n    code_uid = ModelChoiceField(queryset=Code.objects.all(), to_field_name=\"code_uid\")\n</code></pre>\n\n<p>But the following code after a POST of this form:</p>\n\n<pre><code>if my_form.is_valid():            \n    print(my_form)\n    print(my_form.cleaned_data)\n    print(my_form.cleaned_data[\"code_uid\"])\n    print(type(my_form.cleaned_data[\"code_uid\"]))\n</code></pre>\n\n<p>Prints:</p>\n\n<p>for <strong>my_form</strong> a correctly displayed HTML:</p>\n\n<pre><code>&lt;tr&gt;&lt;th&gt;&lt;label for=\"id_code_uid\"&gt;Code uid:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;select name=\"code_uid\" required id=\"id_code_uid\"&gt;\n  &lt;option value=\"\"&gt;---------&lt;/option&gt;\n\n  &lt;option value=\"e3112238-0768-1111-aaaa-4654ab799752\"&gt;foo&lt;/option&gt;\n\n  &lt;option value=\"e3112238-0768-1111-aaaa-4654ab799752\"&gt;bar&lt;/option&gt;\n</code></pre>\n\n<p>for <strong>my_form.cleaned_data</strong>:</p>\n\n<pre><code>{'code_uid': &lt;Code: foo&gt;}  &lt;== should be the UUID\n</code></pre>\n\n<p>for <strong>my_form.cleaned_data[\"code_uid\"]</strong>:</p>\n\n<pre><code>foo\n</code></pre>\n\n<p>for <strong>type(my_form.cleaned_data[\"code_uid\"])</strong>:</p>\n\n<pre><code>&lt;class 'creator.models.Code'&gt;\n</code></pre>\n\n<p>How should I get my UUID value in the cleaned_values dictionary?</p>\n"}, {"tags": ["python", "pandas", "python-2.7", "dataframe", "sklearn-pandas"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1551303766, "post_id": 54914924, "comment_id": 96596196, "body": "What have you tried? Please review <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, as well as create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 241, "user_id": 6029203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe4a3baa18b8aab2925737fd53dead4c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Dodo", "link": "https://stackoverflow.com/users/6029203/anonymous-dodo"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1551303990, "post_id": 54914924, "comment_id": 96596304, "body": "@user3483203 does that provide a bit more clarification?"}], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 6029203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe4a3baa18b8aab2925737fd53dead4c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Dodo", "link": "https://stackoverflow.com/users/6029203/anonymous-dodo"}, "edited": false, "score": 0, "creation_date": 1551309713, "post_id": 54915506, "comment_id": 96598292, "body": "So this works, however, x.name and x.index are RangeIndex Objects - is there anyway to convert these values to integers"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 241, "user_id": 6029203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe4a3baa18b8aab2925737fd53dead4c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Dodo", "link": "https://stackoverflow.com/users/6029203/anonymous-dodo"}, "edited": false, "score": 0, "creation_date": 1551364680, "post_id": 54915506, "comment_id": 96620733, "body": "Yes, I have attached an example in the soluton."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 1, "last_activity_date": 1551364601, "last_edit_date": 1551364601, "creation_date": 1551306412, "answer_id": 54915506, "question_id": 54914924, "link": "https://stackoverflow.com/questions/54914924/iterating-through-entire-pandas-dataframe-using-column-and-row-as-arguments/54915506#54915506", "title": "Iterating through entire Pandas Dataframe using column and row as arguments", "body": "<p>Yes, use <code>name</code> and <code>index</code> attributes of a series:</p>\n\n<pre><code>df = pd.DataFrame(1, index = np.arange(10,51,10), columns = np.arange(5))\n</code></pre>\n\n<p>Show input dataframe</p>\n\n<pre><code>    0  1  2  3  4\n10  1  1  1  1  1\n20  1  1  1  1  1\n30  1  1  1  1  1\n40  1  1  1  1  1\n50  1  1  1  1  1\n</code></pre>\n\n<p>Let's define custom fuction and use rows as columns to do a calcuation.</p>\n\n<pre><code>def f(x):\n    #add row values to column values\n    return x.name + x.index\n\ndf.apply(f)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>     0   1   2   3   4\n10  10  11  12  13  14\n20  20  21  22  23  24\n30  30  31  32  33  34\n40  40  41  42  43  44\n50  50  51  52  53  54\n</code></pre>\n\n<p>Note:  <code>apply</code> is passing each column of the dataframe(which is a pd.Series) into the function f.   Each series has an attribute <code>name</code> which is the column heading, and <code>index</code>, which is dataframe row index.  So, function, f returns a calculated pd.Series for each column of the dataframe and is put back together as a dataframe.</p>\n\n<p>Answering question in comments, let's use strings:</p>\n\n<pre><code>df = pd.DataFrame(1, index=['Ted','Bill','Ralph','John','Tim'], columns=['A','B','C','D','E'])\n\ndef f(x):\n    #Concatenate row values with column values\n    return x.index + '_' + x.name\n\ndf.apply(f)\n</code></pre>\n\n<p>OR use lambda function</p>\n\n<pre><code>df.apply(lambda x: x.index + '_' + x.name)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>             A        B        C        D        E\nTed      Ted_A    Ted_B    Ted_C    Ted_D    Ted_E\nBill    Bill_A   Bill_B   Bill_C   Bill_D   Bill_E\nRalph  Ralph_A  Ralph_B  Ralph_C  Ralph_D  Ralph_E\nJohn    John_A   John_B   John_C   John_D   John_E\nTim      Tim_A    Tim_B    Tim_C    Tim_D    Tim_E\n</code></pre>\n"}], "owner": {"reputation": 241, "user_id": 6029203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe4a3baa18b8aab2925737fd53dead4c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Dodo", "link": "https://stackoverflow.com/users/6029203/anonymous-dodo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 54915506, "answer_count": 1, "score": 0, "last_activity_date": 1551364601, "creation_date": 1551303651, "last_edit_date": 1551303950, "question_id": 54914924, "link": "https://stackoverflow.com/questions/54914924/iterating-through-entire-pandas-dataframe-using-column-and-row-as-arguments", "title": "Iterating through entire Pandas Dataframe using column and row as arguments", "body": "<p>I have this empty pandas dataframe and a function value(x,y) which takes in 2 arguments, the row number and the column number of the point in the pandas dataframe. I was wondering if there is a simpler way to iterate through the entire empty dataframe using these arguments, using df.apply perhaps.</p>\n\n<p>I know it is possible to go through each individual column and run df.apply on the separate columns, but is it possible to do it without running any loops or what so ever.</p>\n\n<p>Essentially, I am looking for something like this which I can run on the entire dataframe</p>\n\n<pre><code>df_copy.apply(lambda x: myfunction(x.value, x.column))\n</code></pre>\n\n<p>However, x.column does not exist, so it there is another way to do it or am I doing something wrong</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "edited": false, "score": 0, "creation_date": 1551316810, "post_id": 54914906, "comment_id": 96599982, "body": "If you can&#39;t use <code>None</code> or <code>(None,None)</code>, then I think it&#39;s impossible. But why should it go wrong? Just adapt your crops to the new size."}], "answers": [{"tags": [], "owner": {"reputation": 3979, "user_id": 2641587, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mLMnS.jpg?s=128&g=1", "display_name": "Dmytro Prylipko", "link": "https://stackoverflow.com/users/2641587/dmytro-prylipko"}, "is_accepted": false, "score": 5, "last_activity_date": 1551384118, "creation_date": 1551384118, "answer_id": 54933383, "question_id": 54914906, "link": "https://stackoverflow.com/questions/54914906/keras-how-to-disable-resizing-of-images-when-using-an-imagedatagenerator-with-f/54933383#54933383", "title": "Keras: how to disable resizing of images when using an ImageDataGenerator with flow_from_dataframe / flow_from_directory?", "body": "<p>With the current implementation of ImageDataGenerator it is impossible. Image resizing happens while <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/python/keras/_impl/keras/preprocessing/image.py#L1356\" rel=\"noreferrer\">loading image</a>, while preprocessing function is called from <code>standardize</code> few steps <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/python/keras/_impl/keras/preprocessing/image.py#L1363\" rel=\"noreferrer\">later</a>.</p>\n\n<p>Not to resize during loading is also not an option, since iterator <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/python/keras/_impl/keras/preprocessing/image.py#L1351\" rel=\"noreferrer\">pre-allocates</a> the array for a batch and needs to know its shape.</p>\n"}], "owner": {"reputation": 3032, "user_id": 6341510, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28d1da138966966ff82959171f915dd3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronDT", "link": "https://stackoverflow.com/users/6341510/aarondt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1342, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1551384118, "creation_date": 1551303580, "last_edit_date": 1551303889, "question_id": 54914906, "link": "https://stackoverflow.com/questions/54914906/keras-how-to-disable-resizing-of-images-when-using-an-imagedatagenerator-with-f", "title": "Keras: how to disable resizing of images when using an ImageDataGenerator with flow_from_dataframe / flow_from_directory?", "body": "<p>I am trying to apply some cropping operations on my images by using an ImageDataGenerator and passing a custom function to the <code>preprocessing_function</code> parameter . However, according to the Keras docs, this function will only run after the images are already resized:</p>\n\n<blockquote>\n  <p><strong>preprocessing_function</strong>: function that will be implied on each input.\n  The function will run after the image is resized and augmented. </p>\n</blockquote>\n\n<p>Now I would like to disable resizing, however the target_size parameter defaults to (256,256) if no value is provided. Again from the docs:</p>\n\n<blockquote>\n  <p><strong>target_size</strong>: Tuple of integers (height, width), default: (256, 256).\n  The dimensions to which all images found will be resized.</p>\n</blockquote>\n\n<p>I've been trying to set the <code>target_size</code> parameter to <code>None</code>, however this results in an error:</p>\n\n<pre><code>TypeError: 'NoneType' object cannot be interpreted as an integer\n</code></pre>\n\n<p>Cropping an already resized image yields wrong results in my case. Hence I am looking for a way, to prevent either the resizing to happen at all or for it to only happen after my custom preprocessing function has been applied. Is this possible without writing an entire custom data generator?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 9403186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e3a0dd6805fb01460d5e0afcadfc5a?s=128&d=identicon&r=PG&f=1", "display_name": "Gideon Blinick", "link": "https://stackoverflow.com/users/9403186/gideon-blinick"}, "edited": false, "score": 0, "creation_date": 1551305027, "post_id": 54914999, "comment_id": 96596716, "body": "Thanks @G.Anderson!"}], "tags": [], "owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "is_accepted": true, "score": 1, "last_activity_date": 1551303957, "creation_date": 1551303957, "answer_id": 54914999, "question_id": 54914897, "link": "https://stackoverflow.com/questions/54914897/how-can-i-get-rowcount-with-formatted-numbers-in-pandas/54914999#54914999", "title": "How Can I get rowcount with formatted numbers in pandas?", "body": "<p>df.shape returns a tuple of values completely separate from the underlying dataframe, so you have to format it separately. You can unpack the tuple with the <code>*</code> operator</p>\n\n<pre><code>df.shape\n\n(1996, 12)\n\n\"({:,}, {:,})\".format(*df.shape)\n\n'(1,996, 12)'\n</code></pre>\n\n<p>Note that this gives it as a string, and that the extra comma placement can make it look a little strange at first glance</p>\n"}], "owner": {"reputation": 303, "user_id": 9403186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e3a0dd6805fb01460d5e0afcadfc5a?s=128&d=identicon&r=PG&f=1", "display_name": "Gideon Blinick", "link": "https://stackoverflow.com/users/9403186/gideon-blinick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 54914999, "answer_count": 1, "score": 0, "last_activity_date": 1551303957, "creation_date": 1551303554, "question_id": 54914897, "link": "https://stackoverflow.com/questions/54914897/how-can-i-get-rowcount-with-formatted-numbers-in-pandas", "title": "How Can I get rowcount with formatted numbers in pandas?", "body": "<p>For example, <code>df.shape</code> returns <code>(5671619, 9)</code> in pandas. I want <code>(5,671,619, 9)</code>. I've tried <code>pd.options.display.float_format = '{:,}'.format</code> but I think that's only for what's in the dataframe.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "multithreading", "multiprocessing"], "comments": [{"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1551304241, "post_id": 54914893, "comment_id": 96596415, "body": "You might want to add <code>sys.stdout.flush()</code> after printing and the output might be more to your liking."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1551306359, "post_id": 54914893, "comment_id": 96597222, "body": "Applying a function asynchronously means the calling thread doesn&#39;t wait until it&#39;s finished before being able to continue its own execution\u2014so they each execute in some order determined by some interaction between long the function takes and the <code>Pool</code>&#39;s task manager."}], "answers": [{"tags": [], "owner": {"reputation": 2654, "user_id": 10972414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b53eefdd3f7584f6a1519159be742da0?s=128&d=identicon&r=PG&f=1", "display_name": "Beno&#238;t P", "link": "https://stackoverflow.com/users/10972414/beno%c3%aet-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1551447230, "last_edit_date": 1551447230, "creation_date": 1551305007, "answer_id": 54915212, "question_id": 54914893, "link": "https://stackoverflow.com/questions/54914893/multiprocess-pool-apply-async-execution-sequence/54915212#54915212", "title": "multiprocess pool.apply_async execution sequence", "body": "<p>First, don't use <code>time.sleep</code> to do tests like that because python is intelligent and might do something sneaky. Do something like <code>sum(range(10_000_000))</code>, to be sure python (and your os) isn't using the cpu for something else.</p>\n\n<p>Second, each time you run <code>.apply_async()</code>, you add a task to the queue without blocking the program, so it is perfectly normal to see all the <code>check ...</code> because what you're actually checking is whether or not they are added to the queue.</p>\n\n<p>Third, it takes time to start a process, but adding a task to the queue is instantaneous, that is why you see all <code>check ...</code> before the rest.</p>\n\n<p>I edited your program so it is more obvious.</p>\n\n<pre><code>def func(msg):\n    for i in range(3):\n        print(msg)\n        sum(range(10_000_000))\n\n\nif __name__ == \"__main__\":\n    pool = multiprocessing.Pool(processes=8)\n    for i in range(10):\n        msg = f\"hello {i: &gt;{i+1}}\"\n        pool.apply_async(func, (msg, ))\n        print('check whether block' + str(i))\n    print('check')\n    pool.close()\n    pool.join()\n    print(\"Sub-process(es) done.\")\n\n</code></pre>\n\n<pre><code>check whether block0             # &lt;- adding task 0 to the queue\ncheck whether block1             # &lt;- adding task 1 to the queue\ncheck whether block2             # &lt;- adding task 2 to the queue\ncheck whether block3             # &lt;- adding task 3 to the queue\ncheck whether block4             # &lt;- adding task 4 to the queue\ncheck whether block5             # &lt;- adding task 5 to the queue\ncheck whether block6             # &lt;- adding task 6 to the queue\ncheck whether block7             # &lt;- adding task 7 to the queue\ncheck whether block8             # &lt;- adding task 8 to the queue\ncheck whether block9             # &lt;- adding task 9 to the queue\ncheck                            #  ALL TASKS ADDED TO THE QUEUE\nhello 0                          # -&gt; Process 0 has been created to do task 0\nhello  1                         # -&gt; Process 1 has been created to do task 1\nhello   2                        # -&gt; Process 2 has been created to do task 2\nhello    3                       # -&gt; Process 3 has been created to do task 3\nhello     4                      # -&gt; Process 4 has been created to do task 4\nhello      5                     # -&gt; Process 5 has been created to do task 5\nhello       6                    # -&gt; Process 6 has been created to do task 6\nhello        7                   # -&gt; Process 7 has been created to do task 7\nhello 0                          # -&gt; Task is partly done\nhello        7                   # -&gt; Task is partly done\nhello      5                     # -&gt; Task is partly done\nhello     4                      # -&gt; Task is partly done\nhello    3                       # -&gt; Task is partly done\nhello       6                    # -&gt; Task is partly done\nhello   2                        # -&gt; Task is partly done\nhello  1                         # -&gt; Task is partly done\nhello        7                   # -&gt; Task is done\nhello 0                          # -&gt; Task is done\nhello      5                     # -&gt; Task is done\nhello       6                    # -&gt; Task is done\nhello   2                        # -&gt; Task is done\nhello     4                      # -&gt; Task is done\nhello  1                         # -&gt; Task is done\nhello    3                       # -&gt; Task is done\nhello         8                  # -&gt; Process 0 has been given task 8\nhello          9                 # -&gt; Process 7 has been given task 9\nhello         8                  # -&gt; Task is partly done\nhello          9                 # -&gt; Task is partly done\nhello         8                  # -&gt; Task is done\nhello          9                 # -&gt; Task is done\nSub-process(es) done.            # EVERYTHING DONE\n</code></pre>\n\n<p>Having <code>Check whether block{X}</code> after the first <code>hello {X+1}</code> is probably due to your console's speed of output for different processes and flush.</p>\n"}], "owner": {"reputation": 93, "user_id": 8872578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6cf169de261c5c2469c05f922078aa?s=128&d=identicon&r=PG&f=1", "display_name": "fnosdy", "link": "https://stackoverflow.com/users/8872578/fnosdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 54915212, "answer_count": 1, "score": 0, "last_activity_date": 1551447230, "creation_date": 1551303521, "question_id": 54914893, "link": "https://stackoverflow.com/questions/54914893/multiprocess-pool-apply-async-execution-sequence", "title": "multiprocess pool.apply_async execution sequence", "body": "<p>I am learning multiprocessing and running code I found somewhere on the website (I add <code>print(\"check...\")</code>) to observe the sequence of code running with <code>apply_async</code>. Below is the code: </p>\n\n<pre><code>import multiprocessing\nimport time\ndef func(msg):\n  for i in range(3):\n    print(msg)\n    time.sleep(1)\nif __name__ == \"__main__\":\n  pool = multiprocessing.Pool(processes=8)\n  for i in range(10):\n    msg = \"hello %d\" %(i)\n    pool.apply_async(func, (msg, ))\n    print('check whether block' + str(i))\n  print('check')\n  pool.close()\n  pool.join()\n  print(\"Sub-process(es) done.\")\n</code></pre>\n\n<p>When I run it, I get the following output:</p>\n\n<pre><code>hello 0\nhello 2\nhello 4\nhello 1\nhello 3\nhello 5\nhello 6\nhello 7\ncheck whether block0\ncheck whether block1\ncheck whether block2\ncheck whether block3\ncheck whether block4\ncheck whether block5\ncheck whether block6\ncheck whether block7\ncheck whether block8\ncheck whether block9\ncheck\nhello 0\nhello 4\nhello 1\nhello 5\nhello 2\nhello 3\nhello 6\nhello 7\nhello 4\nhello 0\nhello 6\nhello 3\nhello 5\nhello 2\nhello 7\nhello 1\nhello 8\nhello 9\nhello 9\nhello 8\nhello 9\nhello 8\nSub-process(es) done.\n</code></pre>\n\n<p>But what I am hoping to see is the following:</p>\n\n<pre><code>hello 0\ncheck whether block0\nhello 2\ncheck whether block2\nhello 4\ncheck whether block4\nhello 1\ncheck whether block1\nhello 3\ncheck whether block3\nhello 5\ncheck whether block5\nhello 6\ncheck whether block6\nhello 7\ncheck whether block7\nhello 0\nhello 4\nhello 1\nhello 5\nhello 2\nhello 3\nhello 6\nhello 7\nhello 4\nhello 0\nhello 6\nhello 3\nhello 5\nhello 2\nhello 7\nhello 1\nhello 8\ncheck whether block8\nhello 9\ncheck whether block9\nhello 9\nhello 8\nhello 9\nhello 8\ncheck\nSub-process(es) done.\n</code></pre>\n\n<p>Basically I thought first 8 <code>print('check whether...')</code> should be executed following each <code>pool.apply_async</code>. And after 2 processes are freed up, 8 and 9 will be printed. And check is printed at the end. What I see seems to prove me wrong, but I don't know how exactly the sequence of codes is executed. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1551303441, "post_id": 54914841, "comment_id": 96596048, "body": "Is the data tab-separated?"}, {"owner": {"reputation": 964, "user_id": 6525082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ssHng.jpg?s=128&g=1", "display_name": "wander95", "link": "https://stackoverflow.com/users/6525082/wander95"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1551303458, "post_id": 54914841, "comment_id": 96596055, "body": "space separated, rather spaces"}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 1, "creation_date": 1551303531, "post_id": 54914841, "comment_id": 96596086, "body": "if you get rid of that dashed line you should be able to read it in as a fixed width file"}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1551303550, "post_id": 54914841, "comment_id": 96596097, "body": "Is it possible that there&#39;s only one space between data in two columns? For e.g. could your second row in that table have <code>A2 C agcd</code> or is there always at least two spaces separating the data at one column and the next? Because you could possibly split on two spaces instead of one, and then strip. Edit: Okay, fixed width file seems much better, didn&#39;t know that existed!"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 2, "creation_date": 1551303564, "post_id": 54914841, "comment_id": 96596103, "body": "<a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_fwf.html\" rel=\"nofollow noreferrer\"><code>pandas.read_fwf</code></a>"}, {"owner": {"reputation": 8584, "user_id": 890242, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a002dc8cd51a7d25e31e1bf4662b1b85?s=128&d=identicon&r=PG", "display_name": "miraculixx", "link": "https://stackoverflow.com/users/890242/miraculixx"}, "edited": false, "score": 0, "creation_date": 1551305947, "post_id": 54914841, "comment_id": 96597075, "body": "<a href=\"https://gist.github.com/miraculixx/26aeb6d614c8adde95aff3719d5c4119\" rel=\"nofollow noreferrer\">gist.github.com/miraculixx/26aeb6d614c8adde95aff3719d5c4119</a>"}, {"owner": {"reputation": 964, "user_id": 6525082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ssHng.jpg?s=128&g=1", "display_name": "wander95", "link": "https://stackoverflow.com/users/6525082/wander95"}, "reply_to_user": {"reputation": 8584, "user_id": 890242, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a002dc8cd51a7d25e31e1bf4662b1b85?s=128&d=identicon&r=PG", "display_name": "miraculixx", "link": "https://stackoverflow.com/users/890242/miraculixx"}, "edited": false, "score": 0, "creation_date": 1551306378, "post_id": 54914841, "comment_id": 96597233, "body": "@miraculixx, I had something similar with a few <code>if</code> statements. Was looking for something that sounded like a pythonic one-liner"}, {"owner": {"reputation": 8584, "user_id": 890242, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a002dc8cd51a7d25e31e1bf4662b1b85?s=128&d=identicon&r=PG", "display_name": "miraculixx", "link": "https://stackoverflow.com/users/890242/miraculixx"}, "edited": false, "score": 0, "creation_date": 1551306727, "post_id": 54914841, "comment_id": 96597345, "body": "@wander95 well it is, all you need is <code>read_text(text)</code> - it doesn&#39;t get more oneliner than this, just think of <code>read_text</code> as a library function (put it into your <code>utils.py</code>)."}, {"owner": {"reputation": 8584, "user_id": 890242, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a002dc8cd51a7d25e31e1bf4662b1b85?s=128&d=identicon&r=PG", "display_name": "miraculixx", "link": "https://stackoverflow.com/users/890242/miraculixx"}, "edited": false, "score": 0, "creation_date": 1551307305, "post_id": 54914841, "comment_id": 96597560, "body": "@wander95 actually, I found a solution in 2 lines, <a href=\"https://gist.github.com/miraculixx/26aeb6d614c8adde95aff3719d5c4119#gistcomment-2849586\" rel=\"nofollow noreferrer\">gist.github.com/miraculixx/&hellip;</a>"}, {"owner": {"reputation": 964, "user_id": 6525082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ssHng.jpg?s=128&g=1", "display_name": "wander95", "link": "https://stackoverflow.com/users/6525082/wander95"}, "reply_to_user": {"reputation": 8584, "user_id": 890242, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a002dc8cd51a7d25e31e1bf4662b1b85?s=128&d=identicon&r=PG", "display_name": "miraculixx", "link": "https://stackoverflow.com/users/890242/miraculixx"}, "edited": false, "score": 0, "creation_date": 1551307634, "post_id": 54914841, "comment_id": 96597673, "body": "@miraculixx Thanks!"}, {"owner": {"reputation": 8584, "user_id": 890242, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a002dc8cd51a7d25e31e1bf4662b1b85?s=128&d=identicon&r=PG", "display_name": "miraculixx", "link": "https://stackoverflow.com/users/890242/miraculixx"}, "edited": false, "score": 0, "creation_date": 1551307974, "post_id": 54914841, "comment_id": 96597774, "body": "@wander95 however, note I wouldn&#39;t necessarily call the 2-liner Pythonic, to see why just do <code>python -c &quot;import this&quot;</code> from your command line ;-) Granted, it&#39;s probably as terse as it gets in most languages."}], "owner": {"reputation": 964, "user_id": 6525082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ssHng.jpg?s=128&g=1", "display_name": "wander95", "link": "https://stackoverflow.com/users/6525082/wander95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1551303684, "answer_count": 0, "score": 1, "last_activity_date": 1551303294, "creation_date": 1551303294, "question_id": 54914841, "link": "https://stackoverflow.com/questions/54914841/how-to-do-a-formatted-pandas-read", "closed_reason": "Duplicate", "title": "How to do a formatted Pandas read?", "body": "<p>Consider a file like this:</p>\n\n<pre><code> Men      super men        size       Energy (J)    type    num      g\n ----------------------------------------------------------------------\n  50          1             1          1.0234E+03    A      abcd   12.1\n  20          7             4          5.0211E+02    A2 C   agcd   14.1\n  10          2             3         -1.0347E+02    B2     abkd   72.1\n</code></pre>\n\n<p>As you can see, the file here has a fixed width with the column \"type\" actually has a space in it but in fact the whole \"A2 C\" is one data.</p>\n\n<p>I am currently splitting each line into strings at fixed positions (hard-coded) inside a for loop, creating a dictionary. Is there a pythonic way to read this data into pandas preserving the column names and types? </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 7419573, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154584827613381/picture?type=large", "display_name": "Mitchell Posluns", "link": "https://stackoverflow.com/users/7419573/mitchell-posluns"}, "is_accepted": true, "score": 1, "last_activity_date": 1551305821, "creation_date": 1551305821, "answer_id": 54915382, "question_id": 54914835, "link": "https://stackoverflow.com/questions/54914835/applying-grouped-pandas-data-back-to-the-original-dataframe/54915382#54915382", "title": "Applying grouped pandas data back to the original dataframe", "body": "<p>Your function doesn\u2019t have a return statement </p>\n"}], "owner": {"reputation": 944, "user_id": 9951273, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W6YcrnvY-do/AAAAAAAAAAI/AAAAAAAAAPk/A6Su_M50f6E/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/9951273/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 54915382, "answer_count": 1, "score": 1, "last_activity_date": 1551305821, "creation_date": 1551303260, "question_id": 54914835, "link": "https://stackoverflow.com/questions/54914835/applying-grouped-pandas-data-back-to-the-original-dataframe", "title": "Applying grouped pandas data back to the original dataframe", "body": "<p>I have the dataframe below that I am working with:</p>\n\n<p>These are chess games which I am trying to group by game and then perform a function on each game based on the number of moves played in that game...</p>\n\n<pre><code>        game_id     move_number colour  avg_centi\n0       03gDhPWr    1           white   NaN\n1       03gDhPWr    2           black   37.0\n2       03gDhPWr    3           white   61.0\n3       03gDhPWr    4           black   -5.0\n4       03gDhPWr    5           white   26.0\n5       03gDhPWr    6           black   31.0\n6       03gDhPWr    7           white   -2.0\n... ... ... ... ...\n110091  zzaiRa7s    34          black   NaN\n110092  zzaiRa7s    35          white   NaN\n110093  zzaiRa7s    36          black   NaN\n110094  zzaiRa7s    37          white   NaN\n110095  zzaiRa7s    38          black   NaN\n110096  zzaiRa7s    39          white   NaN\n110097  zzaiRa7s    40          black   NaN\n</code></pre>\n\n<p>Specifically, I am using <code>pd.cut</code> to create a new column, <code>game_phase</code>, which lists whether the given move was played in the opening, middlegame, or endgame.</p>\n\n<p>I'm using the following code to achieve this. Note that each game must be partitioned into <code>opening</code>, <code>middlegame</code>, and <code>endgame</code> bins based on the total number of moves played in that game.</p>\n\n<pre><code>def define_move_phase(x):\n    bins = (0, round(x['move_number'].max() * 1/3), round(x['move_number'].max() * 2/3), x['move_number'].max())    \n    phases = [\"opening\", \"middlegame\", \"endgame\"]\n    try:\n        x.loc[:, 'phase'] = pd.cut(x['move_number'], bins, labels=phases)\n    except ValueError:\n        x.loc[:, 'phase'] = None\n    print(x)\n\ndf.groupby('game_id').apply(define_move_phase)\n</code></pre>\n\n<p>The <code>print</code> statement in that function shows that the function is working on the individual groups (see below) but it does not apply the <code>phase</code> column back to the original dataframe.</p>\n\n<pre><code>     game_id  move_number colour  avg_centi    phase\n0   03gDhPWr            1  white        NaN  opening\n1   03gDhPWr            2  black       37.0  opening\n2   03gDhPWr            3  white       61.0  opening\n3   03gDhPWr            4  black       -5.0  opening\n4   03gDhPWr            5  white       26.0  opening\n5   03gDhPWr            6  black       31.0  opening\n6   03gDhPWr            7  white       -2.0  opening\n..       ...          ...    ...        ...      ...\n54  03gDhPWr           55  white       58.0  endgame\n55  03gDhPWr           56  black       26.0  endgame\n56  03gDhPWr           57  white      116.0  endgame\n57  03gDhPWr           58  black     2000.0  endgame\n58  03gDhPWr           59  white        0.0  endgame\n59  03gDhPWr           60  black        0.0  endgame\n60  03gDhPWr           61  white        NaN  endgame\n\n[61 rows x 5 columns]\n     game_id  move_number colour  avg_centi    phase\n0   03gDhPWr            1  white        NaN  opening\n1   03gDhPWr            2  black       37.0  opening\n2   03gDhPWr            3  white       61.0  opening\n3   03gDhPWr            4  black       -5.0  opening\n4   03gDhPWr            5  white       26.0  opening\n5   03gDhPWr            6  black       31.0  opening\n6   03gDhPWr            7  white       -2.0  opening\n..       ...          ...    ...        ...      ...\n54  03gDhPWr           55  white       58.0  endgame\n55  03gDhPWr           56  black       26.0  endgame\n56  03gDhPWr           57  white      116.0  endgame\n57  03gDhPWr           58  black     2000.0  endgame\n58  03gDhPWr           59  white        0.0  endgame\n59  03gDhPWr           60  black        0.0  endgame\n60  03gDhPWr           61  white        NaN  endgame\n\n[61 rows x 5 columns]\n</code></pre>\n\n<p>etc...</p>\n\n<p>I would like to apply the new <code>phase</code> columns back to the original dataframe or ungroup the grouped dataframes into one big dataframe again. What is the best way to go about doing that? </p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 10776450, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hgr1-CKV7vk/AAAAAAAAAAI/AAAAAAAAAAo/3WuncxFYUKs/photo.jpg?sz=128", "display_name": "Digit Plays", "link": "https://stackoverflow.com/users/10776450/digit-plays"}, "reply_to_user": {"reputation": 1, "user_id": 11009356, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jMqkV0WIFyU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM4dBxupZIWXd-bfd3pz4q1_7z9uw/mo/photo.jpg?sz=128", "display_name": "hushcoder", "link": "https://stackoverflow.com/users/11009356/hushcoder"}, "edited": false, "score": 0, "creation_date": 1551369708, "post_id": 54914925, "comment_id": 96623957, "body": "@hushcoder try pip uninistall requests, and uninstall bs4 and then reinstall them. also is this python 3 or 2.7?"}, {"owner": {"reputation": 1545, "user_id": 8272698, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-DuuIt8xKCLw/AAAAAAAAAAI/AAAAAAAAAL8/rQ67Bbi8SKY/photo.jpg?sz=128", "display_name": "Julian Silvestri", "link": "https://stackoverflow.com/users/8272698/julian-silvestri"}, "reply_to_user": {"reputation": 1, "user_id": 11009356, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jMqkV0WIFyU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM4dBxupZIWXd-bfd3pz4q1_7z9uw/mo/photo.jpg?sz=128", "display_name": "hushcoder", "link": "https://stackoverflow.com/users/11009356/hushcoder"}, "edited": false, "score": 0, "creation_date": 1551376381, "post_id": 54914925, "comment_id": 96627450, "body": "This should solve your problem @hushcoder. You say it doesnt work, what is the error message or message you are receiving when using this"}], "tags": [], "owner": {"reputation": 69, "user_id": 10776450, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hgr1-CKV7vk/AAAAAAAAAAI/AAAAAAAAAAo/3WuncxFYUKs/photo.jpg?sz=128", "display_name": "Digit Plays", "link": "https://stackoverflow.com/users/10776450/digit-plays"}, "is_accepted": false, "score": 0, "last_activity_date": 1551309946, "last_edit_date": 1551309946, "creation_date": 1551303656, "answer_id": 54914925, "question_id": 54914833, "link": "https://stackoverflow.com/questions/54914833/whats-wrong-with-this-python-plus-beautifulsoup-script/54914925#54914925", "title": "What&#39;s wrong with this Python plus BeautifulSoup script?", "body": "<pre><code>sudo pip install requests --upgrade\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11009356, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jMqkV0WIFyU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM4dBxupZIWXd-bfd3pz4q1_7z9uw/mo/photo.jpg?sz=128", "display_name": "hushcoder", "link": "https://stackoverflow.com/users/11009356/hushcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1551309946, "creation_date": 1551303251, "last_edit_date": 1551306271, "question_id": 54914833, "link": "https://stackoverflow.com/questions/54914833/whats-wrong-with-this-python-plus-beautifulsoup-script", "title": "What&#39;s wrong with this Python plus BeautifulSoup script?", "body": "<p>I am learning web scraping using BeautifulSoup. I need help fixing this error. Here is my code so far:  </p>\n\n<pre><code>from bs4 import BeautifulSoup as soup\nfrom urllib.request import urlopen as uReq\nmy_url = 'https://www.newegg.com/Video-Cards-Video-Devices/Category/ID-38? \nTpk=graphics%20card'\nuClient = uReq(my_url)\npage_html = uClient.read()\nuClient.close()\npage_soup = soup(page_html, \"html.parser\")  \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Users\\PC\\Desktop\\new.py\", line 9, in &lt;module&gt;\npage_soup = soup(page_html, \"html.parser\")\nFile \"C:\\Users\\PC\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site- \npackages\\bs4\\__init__.py\", line 153, in __init__\nbuilder = builder_class()\nFile \"C:\\Users\\PC\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site- \npackages\\bs4\\builder\\_htmlparser.py\", line 39, in __init__\nreturn super(HTMLParserTreeBuilder, self).__init__(*args, **kwargs)\nTypeError: __init__() got an unexpected keyword argument 'strict'\n[Finished in 5.8s with exit code 1]\n[cmd: ['C:\\\\Users\\\\PC\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python37- \n32\\\\python.exe', '-u', 'C:\\\\Users\\\\PC\\\\Desktop\\\\new.py']]\n[dir: C:\\Users\\PC\\Desktop]\n[path: C:\\Program Files\\Common \nFiles\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\C:\\;C:\\Users\\PC\\AppData\\Local\\Programs\\Python\\Python37-32\\Scripts\\;C:\\Users\\PC\\AppData\\Local\\Programs\\Python\\Python37-32\\;C:\\Users\\PC\\DownAPK]\n</code></pre>\n\n<p>I will appreciate any help on fixing this error ...thanks</p>\n"}, {"tags": ["python", "output", "filenames"], "comments": [{"owner": {"reputation": 2446, "user_id": 5359531, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b7636325b68a8f82a8f7b30fdfff251a?s=128&d=identicon&r=PG&f=1", "display_name": "user5359531", "link": "https://stackoverflow.com/users/5359531/user5359531"}, "edited": false, "score": 0, "creation_date": 1551319459, "post_id": 54914821, "comment_id": 96600528, "body": "if overwriting an output file is a concern, I typically take one of two approaches; either include a timestamp in the output filename, or make the output filename a required script argument. In the first case, you will avoid producing duplicate output filenames, while in the second case you can offload the avoidance of duplicates to whatever is calling the script in the first place (e.g. the user, another program, a workflow manager, etc). This avoids the situation and keeps your code simpler."}, {"owner": {"reputation": 2446, "user_id": 5359531, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b7636325b68a8f82a8f7b30fdfff251a?s=128&d=identicon&r=PG&f=1", "display_name": "user5359531", "link": "https://stackoverflow.com/users/5359531/user5359531"}, "edited": false, "score": 0, "creation_date": 1551320031, "post_id": 54914821, "comment_id": 96600641, "body": "an example of using a timestamp like I mention could look like this: <code>import time; output_file = &quot;foo.{0}.txt&quot;.format(int(time.time()))</code>, yielding <code>foo.1551319949.txt</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user44484"}, "edited": false, "score": 0, "creation_date": 1551320353, "post_id": 54914821, "comment_id": 96600712, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17984809/how-do-i-create-a-incrementing-filename-in-python\">How do I create a incrementing filename in Python?</a>"}, {"owner": {"reputation": 1, "user_id": 11127514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128a69d9b9848d76908a8920507bb154?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/11127514/mike"}, "edited": false, "score": 0, "creation_date": 1551370174, "post_id": 54914821, "comment_id": 96624219, "body": "Thank you for your response.  The timestamp approach would be ideal.  However, I&#39;m still just learning programming and am not sure exactly where I would place the example code you have listed above."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11127514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128a69d9b9848d76908a8920507bb154?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/11127514/mike"}, "edited": false, "score": 0, "creation_date": 1551457079, "post_id": 54917261, "comment_id": 96659800, "body": "Thank you so much for your response.  I tried the timestamp code and it doesn&#39;t like the curly braces around timestamp. I tried a couple different braces but they did not work either."}, {"owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "reply_to_user": {"reputation": 1, "user_id": 11127514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128a69d9b9848d76908a8920507bb154?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/11127514/mike"}, "edited": false, "score": 0, "creation_date": 1551462797, "post_id": 54917261, "comment_id": 96662597, "body": "@Mike I made an update to the timestamp stuff, now just using normal string concatenation, try that out"}], "tags": [], "owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "is_accepted": false, "score": 0, "last_activity_date": 1551462748, "last_edit_date": 1551462748, "creation_date": 1551319246, "answer_id": 54917261, "question_id": 54914821, "link": "https://stackoverflow.com/questions/54914821/how-to-increment-output-filename-in-python/54917261#54917261", "title": "How to increment output filename in Python", "body": "<p>If you want to use numbers in the file names, you can check what files with similar names already exist in that directory, take the largest one, and increment it by one. Then pass this new number as a variable in the string for the filename.</p>\n\n<p>For example:</p>\n\n<pre><code>import glob\nimport re\n\n# get the numeric suffixes of the appropriate files\nfile_suffixes = []\nfor file in glob.glob(\"./Spline_shp*\"):\n    regex_match = re.match(\".*Spline_shp(\\d+)\", file)\n    if regex_match:\n        file_suffix = regex_match.groups()[0]\n        file_suffix_int = int(file_suffix)\n        file_suffixes.append(file_suffix_int)\n\n\nnew_suffix = max(file_suffixes) + 1 # get max and increment by one\nnew_file = f\"C:/Users/moshell/Documents/ArcGIS/Default.gdb/Spline_shp{new_suffix}\" # format new file name\n\narcpy.gp.Spline_sa(\n    \"Observation_RegionalClip_Clip\",\n    \"observatio\",\n    new_file,\n    \"514.404\",\n    \"REGULARIZED\",\n    \"0.1\",\n    \"12\",\n)\n</code></pre>\n\n<p>Alternatively, if you are just interested in creating unique filenames so that nothing gets overwritten, you can append a timestamp to the end of the filename. So you would have files with names like \"Spline_shp-1551375142,\" for example:</p>\n\n<pre><code>import time\n\ntimestamp = str(time.time())\nfilename = \"C:/Users/moshell/Documents/ArcGIS/Default.gdb/Spline_shp-\" + timestamp\narcpy.gp.Spline_sa(\n    \"Observation_RegionalClip_Clip\",\n    \"observatio\",\n    filename,\n    \"514.404\",\n    \"REGULARIZED\",\n    \"0.1\",\n    \"12\",\n)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11127514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/128a69d9b9848d76908a8920507bb154?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/11127514/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551462748, "creation_date": 1551303186, "last_edit_date": 1551318317, "question_id": 54914821, "link": "https://stackoverflow.com/questions/54914821/how-to-increment-output-filename-in-python", "title": "How to increment output filename in Python", "body": "<p>I have a script that works, but when I run it a second time it doesn't because it keeps saving the output filename the same.  I'm very new to Python and programming in general, so dumb you answers down...and then dumb them down some more. :)</p>\n\n<pre><code>arcpy.gp.Spline_sa(\"Observation_RegionalClip_Clip\", \"observatio\", \"C:/Users/moshell/Documents/ArcGIS/Default.gdb/Spline_shp16\", \"514.404\", \"REGULARIZED\", \"0.1\", \"12\")\n</code></pre>\n\n<p>Where <code>Spline_shp16</code> is the output filename, I would like it to save as <code>Spline_shp17</code> the next time I run the script, and then <code>Spline_shp18</code> the time after that, etc.</p>\n"}, {"tags": ["python", "tensorflow", "keras", "pyspark"], "comments": [{"owner": {"reputation": 1160, "user_id": 10809912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JKD6.jpg?s=128&g=1", "display_name": "Rifat Alptekin &#199;etin", "link": "https://stackoverflow.com/users/10809912/rifat-alptekin-%c3%87etin"}, "edited": false, "score": 0, "creation_date": 1551303517, "post_id": 54914802, "comment_id": 96596081, "body": "what while true for? and first code&#39;s num_classes=14 is it ok?"}, {"owner": {"reputation": 419, "user_id": 10360845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S5socgsgDdw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOUvNYK86DGflX2rZtBL3PL8z4WBw/mo/photo.jpg?sz=128", "display_name": "Vamsi Nimmala", "link": "https://stackoverflow.com/users/10360845/vamsi-nimmala"}, "reply_to_user": {"reputation": 1160, "user_id": 10809912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JKD6.jpg?s=128&g=1", "display_name": "Rifat Alptekin &#199;etin", "link": "https://stackoverflow.com/users/10809912/rifat-alptekin-%c3%87etin"}, "edited": false, "score": 0, "creation_date": 1551303594, "post_id": 54914802, "comment_id": 96596120, "body": "you can Ignore While true, Also the number of classes specified 14 is correct."}], "answers": [{"tags": [], "owner": {"reputation": 1160, "user_id": 10809912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JKD6.jpg?s=128&g=1", "display_name": "Rifat Alptekin &#199;etin", "link": "https://stackoverflow.com/users/10809912/rifat-alptekin-%c3%87etin"}, "is_accepted": false, "score": 0, "last_activity_date": 1551304387, "last_edit_date": 1551304387, "creation_date": 1551303931, "answer_id": 54914993, "question_id": 54914802, "link": "https://stackoverflow.com/questions/54914802/onehotencoding-using-keras-utils-to-categorical-fails-to-convert-to-full-length/54914993#54914993", "title": "OneHotEncoding using keras.utils.to_categorical fails to convert to full length class size numpy array", "body": "<p>this <code>ValueError: setting an array element with a sequence.</code> error caused by trying to convert non-multidimetional array shapped list to array</p>\n\n<p>maybe you have list like this <code>[2,[3,4]]</code> or you have string and int object <code>[1,2,\"r\"]</code></p>\n\n<p>and for the function dont need to convert one by one:</p>\n\n<pre><code>def generate_rdd_data(dataRDD):\n    return dataRDD,keras.utils.to_categorical(dataRDD,num_classes=14)\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 10360845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S5socgsgDdw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOUvNYK86DGflX2rZtBL3PL8z4WBw/mo/photo.jpg?sz=128", "display_name": "Vamsi Nimmala", "link": "https://stackoverflow.com/users/10360845/vamsi-nimmala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551304708, "creation_date": 1551303088, "last_edit_date": 1551304708, "question_id": 54914802, "link": "https://stackoverflow.com/questions/54914802/onehotencoding-using-keras-utils-to-categorical-fails-to-convert-to-full-length", "title": "OneHotEncoding using keras.utils.to_categorical fails to convert to full length class size numpy array", "body": "<p>I am working on distributed environment to trail a keras machine learning model, So I need to  distribute data across a cluster. for this purpose I am using the TensorflowOnSpark library. Below is the small chuck of code where I am stuck.   </p>\n\n<pre><code>def generate_rdd_data(dataRDD):\n    while True:\n        feature_vector = []\n        lbls = []\n        for item in dataRDD:\n            #record = item[0]\n            feature_vector.append(item[0])\n            lbls.append(keras.utils.to_categorical(item[1], num_classes = 14))\n        features = numpy.array(feature_vector).astype('float32')\n        #labels = numpy.array(lbls).astype('float32')\n        return (features, labels)\n</code></pre>\n\n<p>This method works fine, but the keras OneHotEncoding conversion for labels fails. Below is the error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 10, in generate_rdd_data\nValueError: setting an array element with a sequence.\n</code></pre>\n\n<p>This is the result of the lbls:</p>\n\n<pre><code>&gt;&gt;&gt; lbls.take(4)\n[array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 1.], dtype=float32), array([1.], dtype=float32), array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 1.], dtype=float32), array([1.], dtype=float32)]\n</code></pre>\n\n<p>But While I perform the same logic in a dummy method shown below, It works fine</p>\n\n<pre><code>def temp(data):\n    no = []\n    for item in data:\n            no.append(keras.utils.to_categorical(item, num_classes = 15))\n    return no\n</code></pre>\n\n<p>The Input for the temp method is </p>\n\n<pre><code>a = [14,13,2,5,1,0]\n</code></pre>\n\n<p>Output is as expected</p>\n\n<pre><code>array([[0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 1.],\n       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 1., 0.],\n       [0., 0., 1., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],\n       [0., 0., 0., 0., 0., 1., 0., 0., 0., 0., 0., 0., 0., 0., 0.],\n       [0., 1., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],\n       [1., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.]],\n      dtype=float32)\n</code></pre>\n\n<p>Adding extra Information that. For the first method the Input is a rdd zipped with dataset and its corresponding labels. </p>\n\n<p>Example of rdd looks in such way:</p>\n\n<pre><code>[([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0], 12.0)]\n</code></pre>\n\n<p>As you can see the rdd has two parts, One is feature_vector and the second one is label, So the first method features and labels in numpy format.</p>\n"}, {"tags": ["python", "python-3.x", "shutil"], "comments": [{"owner": {"reputation": 13031, "user_id": 1251007, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5caaf7e0d764745b31979d09c46a3c81?s=128&d=identicon&r=PG", "display_name": "user1251007", "link": "https://stackoverflow.com/users/1251007/user1251007"}, "edited": false, "score": 0, "creation_date": 1551727129, "post_id": 54914791, "comment_id": 96737855, "body": "Please upvote and accept the answer if it helped you. If there are still problems you might consider leaving a comment."}], "answers": [{"tags": [], "owner": {"reputation": 13031, "user_id": 1251007, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5caaf7e0d764745b31979d09c46a3c81?s=128&d=identicon&r=PG", "display_name": "user1251007", "link": "https://stackoverflow.com/users/1251007/user1251007"}, "is_accepted": true, "score": 2, "last_activity_date": 1551305556, "last_edit_date": 1551305556, "creation_date": 1551303839, "answer_id": 54914966, "question_id": 54914791, "link": "https://stackoverflow.com/questions/54914791/how-to-move-batches-of-files-in-python/54914966#54914966", "title": "How to move batches of files in Python?", "body": "<p>With your <code>move</code> command, you are moving all 10 files to one single folder - but not <strong>into</strong> that folder as the filenames are missing. And <code>dest</code> is none, since <code>os.mkdir()</code> doesn't return anything.</p>\n\n<p>You need to append the filename to <code>dest</code>:</p>\n\n<pre><code>dataset_dirname = \"Dataset_\" + str(start) + \"_\" + str(end)\nos.mkdir(dataset_dirname)\ndataset_fullpath = os.path.join(path, dataset_dirname)\nfor i in paths[start:end]:\n    # append filename to dataset_fullpath and move the file\n    shutil.move(i, os.path.join(dataset_fullpath , os.path.basename(i)))\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 9095916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19f3b95d9afbc3f6fb5e3a55edbbe870?s=128&d=identicon&r=PG&f=1", "display_name": "J. Devez", "link": "https://stackoverflow.com/users/9095916/j-devez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 54914966, "answer_count": 1, "score": 0, "last_activity_date": 1551305556, "creation_date": 1551302998, "last_edit_date": 1551303880, "question_id": 54914791, "link": "https://stackoverflow.com/questions/54914791/how-to-move-batches-of-files-in-python", "title": "How to move batches of files in Python?", "body": "<p>I have a folder with 1092 files. I need to move those files to a new directory in batches of 10 (each new folder will have only 10 files each, so max. of 110 folders).</p>\n\n<p>I tried this code, and now the folders have been created, but I can't find any of original files (???). They are neither in the original and newly created folders...</p>\n\n<pre><code>path = \"/home/user/Documents/MSc/Imagens/Dataset\"\npaths = []\n\nfor root, dirs, file in os.walk(path):\n    for name in file:\n        paths.append(os.path.join(root,name))\n\nstart = 0\nend = 10\n\nwhile end &lt;= 1100:\n    dest = str(os.mkdir(\"Dataset_\" + str(start) + \"_\" + str(end)))\n    for i in paths[start:end]:\n        shutil.move(i, dest)\n    start += 10\n    end += 10\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "numpy", "scipy"], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1551303512, "creation_date": 1551303512, "answer_id": 54914888, "question_id": 54914727, "link": "https://stackoverflow.com/questions/54914727/scipy-optimisation-routines-only-finding-one-answer/54914888#54914888", "title": "Scipy optimisation routines only finding one answer", "body": "<p>The method converges at least for x=-0.9:</p>\n\n<pre><code>scipy.optimize.newton_krylov(f, -0.9)\n#array(-0.9527983). \n</code></pre>\n\n<p>It diverges for x approximately in [-0.85...0.06].</p>\n"}, {"comments": [{"owner": {"reputation": 5834, "user_id": 274460, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b76693482ab729ff9f4cf92406d95623?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/274460/tom"}, "edited": false, "score": 0, "creation_date": 1551888600, "post_id": 54959337, "comment_id": 96807608, "body": "Thanks, this is interesting, however it doesn&#39;t work over the whole range.  It gives no solutions for <code>0 &lt; y &lt;= 0.205</code>, one solution for <code>0.205 &lt; y &lt;= 0.275</code> and two solutions for <code>0.275 &lt; y &lt; max(y)</code>.  Eyeballing the original function shows that the inverse should have two values for every value <code>0 &lt; y &lt; max(y)</code>.  These ranges are approximate and for <code>m = 0.5</code> and <code>n = 0.5</code>."}, {"owner": {"reputation": 1194, "user_id": 4782513, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ca2834b0654459b57ca36c59d90e1848?s=128&d=identicon&r=PG&f=1", "display_name": "newkid", "link": "https://stackoverflow.com/users/4782513/newkid"}, "reply_to_user": {"reputation": 5834, "user_id": 274460, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b76693482ab729ff9f4cf92406d95623?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/274460/tom"}, "edited": false, "score": 0, "creation_date": 1551888758, "post_id": 54959337, "comment_id": 96807708, "body": "Yeah that is likely to happen. The best solution then is to subdivide the domain into 10-20 sub-domains and with an initial guess at the centre of each sub-domain <code>newton_krylov</code> can be called."}], "tags": [], "owner": {"reputation": 1194, "user_id": 4782513, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ca2834b0654459b57ca36c59d90e1848?s=128&d=identicon&r=PG&f=1", "display_name": "newkid", "link": "https://stackoverflow.com/users/4782513/newkid"}, "is_accepted": false, "score": 0, "last_activity_date": 1551535411, "creation_date": 1551535411, "answer_id": 54959337, "question_id": 54914727, "link": "https://stackoverflow.com/questions/54914727/scipy-optimisation-routines-only-finding-one-answer/54959337#54959337", "title": "Scipy optimisation routines only finding one answer", "body": "<p>This is because, <a href=\"https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.optimize.newton_krylov.html\" rel=\"nofollow noreferrer\">newton_krylov</a> uses the Jacobian of the function. This makes it a gradient decent method consequently your solutions always converge to a local minima. Furthermore, because your function is <em>parabolic</em> you have a very interesting option! </p>\n\n<p>The first is to find the maxima of <code>f(x)</code> and split your search domain into to. Next you can make an initial guess in each domain and solve with <code>newton_krylov</code>.</p>\n\n<pre><code>def f(x):\n    # Here is our function\n    return (1-x**2)**m * ((1-x)/2)**n\n\n\ndef minf(x):\n    # Here is where we find an optima and split the domain\n    return -f(x)\n\n\ndef fy(x):\n    # This is where you want your y value target defined\n    return abs(f(x) - .3)\n\nif __name__ == \"__main__\":\n    x = numpy.arange(-1., 1., 1e-3, dtype=float)\n    # pyplot.plot(x, f(x))\n    # pyplot.show()\n\n    minx = minimize(minf, 0.0)['x']\n\n    # Make an initial guess in each domain\n    a1 = minx - 1.6 * minx\n    a2 = minx + 1.6 * minx\n\n    print(newton_krylov(fy, a1))\n    print(newton_krylov(fy, a2))\n</code></pre>\n\n<p>The output then is:</p>\n\n<pre><code>[0.67187916]\n[-0.95279992]\n</code></pre>\n"}], "owner": {"reputation": 5834, "user_id": 274460, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b76693482ab729ff9f4cf92406d95623?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/274460/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551535411, "creation_date": 1551302677, "question_id": 54914727, "link": "https://stackoverflow.com/questions/54914727/scipy-optimisation-routines-only-finding-one-answer", "title": "Scipy optimisation routines only finding one answer", "body": "<p>Given this function:</p>\n\n<pre><code>def f(x):\n    return (1-x**2)**m * ((1-x)/2)**n\n</code></pre>\n\n<p>where <code>m</code> and <code>n</code> are constants, let's say both 0.5 for the sake of an example.</p>\n\n<p>I'm trying to use functions from <code>scipy.optimize</code> to solve for <code>x</code> given a value of <code>y</code>.  I'm only interested in <code>x</code>values from -1 to 1.  Plotting the function with</p>\n\n<pre><code>x = numpy.arange(0, 1, 0,1)\nmatplotlib.pyplot.plot(x, f(x))\n</code></pre>\n\n<p>shows that the function is a kind of distorted parabola covering the range about 0 to 0.65.  So lets try solving it for y = 0.3:</p>\n\n<pre><code>def f(x):\n    return (1 - x**2)**m * ((1-x)/2)**n - 0.3\nprint(scipy.optimize.newton_krylov(f, 0.5))\n0.6718791645800665\n</code></pre>\n\n<p>This looks about right for one of the possible solutions.  But there are two.  The second should be around -0.9.  Try what I might for an initial guess, I can't get it to find this second solution.  The Newton-Krylov method gives no convergence at all for <code>xin &lt; 0</code> but none of the solvers can find this second solution.</p>\n\n<p>Am I missing something?  What am I doing wrong?</p>\n"}, {"tags": ["python", "pandas", "text"], "comments": [{"owner": {"reputation": 4159, "user_id": 8212173, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ApXfoDEeNA/AAAAAAAAAAI/AAAAAAAAADc/9wpTVfHMarU/photo.jpg?sz=128", "display_name": "amanb", "link": "https://stackoverflow.com/users/8212173/amanb"}, "edited": false, "score": 0, "creation_date": 1551302528, "post_id": 54914668, "comment_id": 96595689, "body": "Try <code>df.str.match()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 10440203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf804e9badfb2ea31b6e07de2e3e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "aodhanlutetiae", "link": "https://stackoverflow.com/users/10440203/aodhanlutetiae"}, "edited": false, "score": 0, "creation_date": 1551304407, "post_id": 54914755, "comment_id": 96596479, "body": "Thank you. I had tried &#39;.match&#39; and &#39;regex = False&#39; as suggested above but they don&#39;t seem to work. Your regex solution works perfectly. I don&#39;t know how to make it run with a variable but I lost so many hours on this today that having a solution is more than enough for now. Thank you again."}], "tags": [], "owner": {"reputation": 471, "user_id": 6361466, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208431792386399/picture?type=large", "display_name": "Ohad Chaet", "link": "https://stackoverflow.com/users/6361466/ohad-chaet"}, "is_accepted": false, "score": 0, "last_activity_date": 1551303033, "last_edit_date": 1551303033, "creation_date": 1551302773, "answer_id": 54914755, "question_id": 54914668, "link": "https://stackoverflow.com/questions/54914668/locating-exact-term-in-pandas-series-of-strings/54914755#54914755", "title": "Locating exact term in pandas series of strings", "body": "<p>You need to use regex for that:</p>\n\n<pre><code>df = pd.DataFrame({\n    'COL': ['aRomeo', 'Rome', 'Rome?', 'Rome.', '!Rome!', 'djkfnjk Rome dsfln']\n})\ndf.loc[df['COL'].str.lower().str.contains(r'\\b\\W?rome\\W?\\b')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 100, "user_id": 10558219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb5bc81ec13d28b57711cf4ff722731?s=128&d=identicon&r=PG&f=1", "display_name": "D.Sanders", "link": "https://stackoverflow.com/users/10558219/d-sanders"}, "is_accepted": false, "score": 1, "last_activity_date": 1551303042, "last_edit_date": 1551303042, "creation_date": 1551302887, "answer_id": 54914772, "question_id": 54914668, "link": "https://stackoverflow.com/questions/54914668/locating-exact-term-in-pandas-series-of-strings/54914772#54914772", "title": "Locating exact term in pandas series of strings", "body": "<p>You need to add regex= False to your contains to get the exact expression you want.</p>\n\n<pre><code>df[df['COL'].str.contains('Rome', regex= False)]\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10440203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf804e9badfb2ea31b6e07de2e3e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "aodhanlutetiae", "link": "https://stackoverflow.com/users/10440203/aodhanlutetiae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1551303006, "answer_count": 2, "score": 0, "last_activity_date": 1551303042, "creation_date": 1551302350, "last_edit_date": 1551302643, "question_id": 54914668, "link": "https://stackoverflow.com/questions/54914668/locating-exact-term-in-pandas-series-of-strings", "closed_reason": "Duplicate", "title": "Locating exact term in pandas series of strings", "body": "<p>I have a pandas df with a column in which each cell contains a single line of text from Shakespeare plays (100K rows roughly). I need to find exact terms (like 'Rome') while excluding the pattern when it appears inside another word (so not 'Romeo'). I cannot afford to exclude cases like 'Rome.' or 'Rome?'.</p>\n\n<p>I came close with the line below, defining 'Rome' as the variable so I could replace it easily by other terms, but it still doesn't quite work. </p>\n\n<pre><code>df[(df['COL'].str.contains(\" \" + VAR + \" \")) | (df['COL'].str.contains(VAR + \";\"))].nunique() \n</code></pre>\n"}, {"tags": ["python", "pandas", "geopandas"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1551302385, "post_id": 54914641, "comment_id": 96595609, "body": "Are you using some IPython IDE? Like Spyder?"}, {"owner": {"reputation": 417, "user_id": 9378830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UslOW.jpg?s=128&g=1", "display_name": "Sebastian Goslin", "link": "https://stackoverflow.com/users/9378830/sebastian-goslin"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1551302420, "post_id": 54914641, "comment_id": 96595625, "body": "I&#39;m currently using Spyder"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 3, "creation_date": 1551302486, "post_id": 54914641, "comment_id": 96595659, "body": "Restart the kernel with <code>ctrl</code> and <code>.</code>. You haven&#39;t shown how you&#39;re loading the data, so you&#39;re probably working with the post-filtered version after the first run"}, {"owner": {"reputation": 417, "user_id": 9378830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UslOW.jpg?s=128&g=1", "display_name": "Sebastian Goslin", "link": "https://stackoverflow.com/users/9378830/sebastian-goslin"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1551303050, "post_id": 54914641, "comment_id": 96595891, "body": "Just restarted the kernel, same thing happens, I load it as such <code>full_geo_data = pd.read_csv(data_path, infer_datetime_format=True)</code> , I was initially worried about the date time format and just tried to filter it as is, and it initially worked now Its not even giving me a type error which is what I would have expected."}], "owner": {"reputation": 417, "user_id": 9378830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UslOW.jpg?s=128&g=1", "display_name": "Sebastian Goslin", "link": "https://stackoverflow.com/users/9378830/sebastian-goslin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551302239, "creation_date": 1551302239, "question_id": 54914641, "link": "https://stackoverflow.com/questions/54914641/issues-selecting-between-specific-hour-minute-times-in-a-data-frame", "title": "Issues selecting between specific hour/minute times in a Data Frame", "body": "<p>I'm not entirely sure what is happening, I need to find the specific times between 20:00:00 and 06:00:00 from a dataframe, initially it worked returning the desired values, but when I tried to adjust to different time intervals it returns an empty DataFrame. Now when I set it back to the original values its still returning just an empty list. </p>\n\n<p>I've checked to make sure the file I'm importing from didn't accidentally go into the cloud, and the other data frames I'm creating from the original still returning valid data frames. So I'm not entirely sure what is happening at this point.</p>\n\n<p>This is the code that worked initially and for reasons beyond me it just isn't any more.</p>\n\n<pre><code>speed_stop_dataframe = full_geo_data.loc[(full_geo_data['speedkmh'] == 0)]\n\nstop_dataframe = speed_stop_dataframe.loc[(speed_stop_dataframe['timestamp'] &gt; '2018-12-22 20:00:00') &amp; (speed_stop_dataframe['timestamp'] &lt;= '2018-12-31 06:00:00')]\n\nstop_dataframe.head()\n</code></pre>\n\n<p><code>speed_stop_dataframe</code> returns 117,970 rows as it should and intitially <code>stop_dataframe</code> returned approximately 116,000 rows now its empty.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 0, "creation_date": 1551302287, "post_id": 54914625, "comment_id": 96595562, "body": "<a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 0, "creation_date": 1551302365, "post_id": 54914625, "comment_id": 96595597, "body": "To expand on why I linked that question, parse the html with a parser like <code>lxml</code> or <code>beautifulSoup</code>, extract what you want, <i>then</i> use regex"}], "answers": [{"tags": [], "owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "is_accepted": true, "score": 2, "last_activity_date": 1551452657, "last_edit_date": 1551452657, "creation_date": 1551304703, "answer_id": 54915149, "question_id": 54914625, "link": "https://stackoverflow.com/questions/54914625/how-to-parse-the-top-250-movie-title-using-regular-expression-in-python/54915149#54915149", "title": "How to parse the top 250 movie title using Regular expression in Python", "body": "<p>As pointed in the comments, you better give a try on BeautifulSoup. Something like this will list the titles, in Python3:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nhtml = requests.get('https://www.imdb.com/search/title?groups=top_250&amp;sort=user_rating')\nif html.ok:\n    soup = BeautifulSoup(html.text, 'html.parser')\n    html.close()\n\nfor title in soup('h3', 'lister-item-header'):\n    print(title('a')[0].get_text())\n</code></pre>\n\n<p>And here is a cleaner version of the code above:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nimdb_entry_point = 'https://www.imdb.com/search/title'\nimdb_payload = {\n    'groups': 'top_250',\n    'sort': 'user_rating'\n}\n\nwith requests.get(imdb_entry_point, imdb_payload) as imdb:\n    if imdb.ok:\n        html = BeautifulSoup(imdb.text, 'html.parser')\n        for i, h3 in enumerate(html('h3', 'lister-item-header'), 1):\n            for a in h3('a'):\n                print(i, a.get_text())\n</code></pre>\n\n<p>BTW, that entry point is returning just 50 results and not 250 as you are expecting.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 8053120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff18706c16860a86f8bfd7a9905c80bf?s=128&d=identicon&r=PG", "display_name": "Lyxilion", "link": "https://stackoverflow.com/users/8053120/lyxilion"}, "is_accepted": false, "score": 0, "last_activity_date": 1551306626, "creation_date": 1551306626, "answer_id": 54915546, "question_id": 54914625, "link": "https://stackoverflow.com/questions/54914625/how-to-parse-the-top-250-movie-title-using-regular-expression-in-python/54915546#54915546", "title": "How to parse the top 250 movie title using Regular expression in Python", "body": "<p>here is a working solution, using both BeautifulSoup and some nasty regex, but it's working fine. I love regex but it seems that I make them in a weird way, I can explaine to you how they works if you want.</p>\n\n<pre><code>import re, urllib.request\nfrom bs4 import BeautifulSoup\n\nurl = \"https://www.imdb.com/search/title?groups=top_250&amp;sort=user_rating\"\nresponse = urllib.request.urlopen(url)\nhtml = response.read()\nsoup = BeautifulSoup(html, 'html.parser')\ni = 0\nfor txt in soup.findAll(attrs={\"class\" :\"lister-item-header\"}):\n    i += 1\n    print(str(i) + \" .\" + re.match(\"\"\"^.*&gt;(.*)&lt;/a&gt;.*$\"\"\", re.sub('\"', '', re.sub('\\n', '', str(txt)))).group(1))\n</code></pre>\n\n<p>My output : (it's french...)</p>\n\n<ol>\n<li><p>Les \u00e9vad\u00e9s</p></li>\n<li><p>Le parrain</p></li>\n<li><p>The Dark Knight: Le chevalier noir</p></li>\n<li><p>Le parrain, 2\u00e8me partie</p></li>\n<li><p>Le seigneur des anneaux: Le retour du roi</p></li>\n</ol>\n\n<p>And the list goes on...</p>\n"}], "owner": {"reputation": 13, "user_id": 11035801, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NM-R2LG0ha0/AAAAAAAAAAI/AAAAAAAAD8w/FaH5euJA7Zw/photo.jpg?sz=128", "display_name": "allendom", "link": "https://stackoverflow.com/users/11035801/allendom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 54915149, "answer_count": 2, "score": 0, "last_activity_date": 1551452657, "creation_date": 1551302161, "question_id": 54914625, "link": "https://stackoverflow.com/questions/54914625/how-to-parse-the-top-250-movie-title-using-regular-expression-in-python", "title": "How to parse the top 250 movie title using Regular expression in Python", "body": "<p><strong>Hi I'm practicing the regular expression with Python to parse the titles of top250 movies from IMDb but I am having difficulties to search contents between two tags like:\n<a href=\"/title/tt0068646/?ref%20=adv%20li%20tt\">The Godfather</a></strong></p>\n\n<pre><code>import re, urllib.request\ndef movie(url):\n    web_page = urllib.request.urlopen(url)\n    lines = web_page.read().decode(errors = \"replace\")\n    web_page.close()\n    return re.findall('(?&lt;=&lt;a href=\")/title.*?\"&gt;.+?(?=&lt;/a&gt;)', lines, re.DOTALL)\ntitle = movie(\"https://www.imdb.com/search/title?groups=top_250&amp;sort=user_rating\")\nfor name in title:\n    print(name)\n</code></pre>\n"}, {"tags": ["python", "django", "http-status-code-404"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 2, "creation_date": 1551302856, "post_id": 54914599, "comment_id": 96595813, "body": "what URL are you trying to access when you get the 404?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9172426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qCSp5VjjDxY/AAAAAAAAAAI/AAAAAAAADzw/JmsohOsEO1A/photo.jpg?sz=128", "display_name": "Shubham Jagdale", "link": "https://stackoverflow.com/users/9172426/shubham-jagdale"}, "edited": false, "score": 0, "creation_date": 1551448597, "post_id": 54917420, "comment_id": 96655058, "body": "Thanks for your help"}], "tags": [], "owner": {"reputation": 59, "user_id": 5413584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e741dc103038886de4927145fed77b86?s=128&d=identicon&r=PG&f=1", "display_name": "r0_ot", "link": "https://stackoverflow.com/users/5413584/r0-ot"}, "is_accepted": false, "score": 0, "last_activity_date": 1551320474, "creation_date": 1551320474, "answer_id": 54917420, "question_id": 54914599, "link": "https://stackoverflow.com/questions/54914599/django-404-not-found-page/54917420#54917420", "title": "django 404 not found page", "body": "<p>you should include <code>urls.py</code> of your application to project <code>urls.py</code></p>\n\n<p>actually if your project name is \"<code>mysite</code>\" and your application name is \"<code>blogspot</code>\", you should include <code>mysite/blogspot/urls.py</code> on this file <code>mysite/mysite/urls.py</code> like this:</p>\n\n<pre><code>from django.urls import path, include\n\nurlpatterns = [\n   path('', include('blogspot.urls')),\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9172426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qCSp5VjjDxY/AAAAAAAAAAI/AAAAAAAADzw/JmsohOsEO1A/photo.jpg?sz=128", "display_name": "Shubham Jagdale", "link": "https://stackoverflow.com/users/9172426/shubham-jagdale"}, "is_accepted": false, "score": 0, "last_activity_date": 1551448579, "creation_date": 1551448579, "answer_id": 54946140, "question_id": 54914599, "link": "https://stackoverflow.com/questions/54914599/django-404-not-found-page/54946140#54946140", "title": "django 404 not found page", "body": "<p>Actually, i forget to add the slash at the time of registering the url of this app in urls </p>\n"}], "owner": {"reputation": 1, "user_id": 9172426, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qCSp5VjjDxY/AAAAAAAAAAI/AAAAAAAADzw/JmsohOsEO1A/photo.jpg?sz=128", "display_name": "Shubham Jagdale", "link": "https://stackoverflow.com/users/9172426/shubham-jagdale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551448579, "creation_date": 1551302043, "last_edit_date": 1551319225, "question_id": 54914599, "link": "https://stackoverflow.com/questions/54914599/django-404-not-found-page", "title": "django 404 not found page", "body": "<p>I am trying to show a blogpost on the site.</p>\n\n<p>Below is details of <code>urls</code> and <code>view</code> file details but still it showing a <code>404 not found page</code>   </p>\n\n<h3>urls.py</h3>\n\n<pre><code>from django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path(\"\", views.index, name=\"ShopHome\"),\n    path(\"blogpost/\", views.blogpost, name=\"blogpost\")\n]\n</code></pre>\n\n<h3>views.py</h3>\n\n<pre><code>from django.shortcuts import render\n\n# Create your views here.\nfrom django.http import HttpResponse\n\ndef index(request):\n    return render(request, 'blog/index.html')\n\ndef blogpost(request):\n    return render(request, 'blog/blogpost.html')\n</code></pre>\n\n<p>Showing:</p>\n\n<blockquote>\n  <p>404 not found page</p>\n</blockquote>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1551302046, "post_id": 54914558, "comment_id": 96595451, "body": "You can compare data frames using (df1 == df2).all(1), what is the expected output?"}], "answers": [{"comments": [{"owner": {"reputation": 849, "user_id": 8340881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b887135814e82fe11a5d45f5b09bb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Shanoo", "link": "https://stackoverflow.com/users/8340881/shanoo"}, "edited": false, "score": 0, "creation_date": 1551302185, "post_id": 54914613, "comment_id": 96595520, "body": "I want to print an error for each row where that row has unequal value. So in that case we need to iterate through each row"}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "reply_to_user": {"reputation": 849, "user_id": 8340881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b887135814e82fe11a5d45f5b09bb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Shanoo", "link": "https://stackoverflow.com/users/8340881/shanoo"}, "edited": false, "score": 0, "creation_date": 1551302431, "post_id": 54914613, "comment_id": 96595632, "body": "no you don&#39;t iterate through a <code>pandas</code> dataframe row wise, that&#39;s not using it correctly"}], "tags": [], "owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "is_accepted": false, "score": 1, "last_activity_date": 1551302647, "last_edit_date": 1551302647, "creation_date": 1551302105, "answer_id": 54914613, "question_id": 54914558, "link": "https://stackoverflow.com/questions/54914558/compare-two-dataframes/54914613#54914613", "title": "Compare two dataframes", "body": "<p>Did you take a look at the <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.eq.html\" rel=\"nofollow noreferrer\">documentation</a>?</p>\n\n<pre><code>df1.eq(df2)\n\n      A      B\n0  True   True\n1  True   True\n2  True   True\n3  True  False\n4  True   True\n</code></pre>\n\n<p>If you want to see the <em>specific</em> values and rows you can do this</p>\n\n<pre><code>df1[~df1.eq(df2)].dropna(how='all')\n\n    A    B\n3 NaN  6.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 7725670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vQ2Rl.jpg?s=128&g=1", "display_name": "ralex", "link": "https://stackoverflow.com/users/7725670/ralex"}, "is_accepted": false, "score": 0, "last_activity_date": 1551302625, "creation_date": 1551302625, "answer_id": 54914718, "question_id": 54914558, "link": "https://stackoverflow.com/questions/54914558/compare-two-dataframes/54914718#54914718", "title": "Compare two dataframes", "body": "<p>I like @aws_apprentice's answer. But, since you asked to \"print an error\", consider also <code>pandas.testing.assert_frame_equal</code> <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.testing.assert_frame_equal.html?highlight=testing%20assert_frame_equal#pandas.testing.assert_frame_equal\" rel=\"nofollow noreferrer\">(docs)</a>, which will raise an <code>AssertionError</code> exception if the DataFrames are not identical and give you diagnostic output.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 2992991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9VAG1.jpg?s=128&g=1", "display_name": "Hkk", "link": "https://stackoverflow.com/users/2992991/hkk"}, "is_accepted": false, "score": 0, "last_activity_date": 1551302826, "creation_date": 1551302826, "answer_id": 54914762, "question_id": 54914558, "link": "https://stackoverflow.com/questions/54914558/compare-two-dataframes/54914762#54914762", "title": "Compare two dataframes", "body": "<p>you should check Andy Hayden's answer here: <a href=\"https://stackoverflow.com/questions/17095101/outputting-difference-in-two-pandas-dataframes-side-by-side-highlighting-the-d\">Outputting difference in two Pandas dataframes side by side - highlighting the difference</a></p>\n\n<p>what you are trying to do(print error if a row is different) may not be the best option here. which dataframe do you intend to uses as a basis for comparison and add the error column? suppose you choose df1 and compare it to df2, what if df2 has additional rows that are not present in df1; in this case there is no row in df1 to add the error msg.</p>\n"}], "owner": {"reputation": 849, "user_id": 8340881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b887135814e82fe11a5d45f5b09bb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Shanoo", "link": "https://stackoverflow.com/users/8340881/shanoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1551302826, "creation_date": 1551301914, "question_id": 54914558, "link": "https://stackoverflow.com/questions/54914558/compare-two-dataframes", "title": "Compare two dataframes", "body": "<p>I have two dataframes as below: I want to compare two dataframes row by row and if suppose row1 of df1 is not equal to row1 of df2 print an error</p>\n\n<pre><code>df1\n\n    A     B  \n0   1     3\n1   2     4 \n2   3     5 \n3   4     6 \n4   5     7 \n\ndf2\n\n    A     B  \n0   1     3\n1   2     4 \n2   3     5 \n3   4     5\n4   5     7\n</code></pre>\n\n<p>I want to print an error for row#4 because df1 has the value of 6 for variable 'B' and df1 has the value of 5</p>\n"}, {"tags": ["python", "csv", "dataframe"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1551301909, "post_id": 54914551, "comment_id": 96595376, "body": "Yep, set <code>index=False</code> when you write the CSV..."}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1551301924, "post_id": 54914551, "comment_id": 96595387, "body": "you need to pass <code>index=False</code> flag when saving to <code>csv</code>"}, {"owner": {"reputation": 6030, "user_id": 2651073, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/MtRZl.jpg?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/2651073/ahmad"}, "edited": false, "score": 0, "creation_date": 1551302015, "post_id": 54914551, "comment_id": 96595437, "body": "Thanks, it solved the problem!"}], "owner": {"reputation": 6030, "user_id": 2651073, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/MtRZl.jpg?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/2651073/ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1551302063, "answer_count": 0, "score": 0, "last_activity_date": 1551301882, "creation_date": 1551301882, "question_id": 54914551, "link": "https://stackoverflow.com/questions/54914551/there-is-an-extra-id-column-in-dataframe-read-from-csv", "closed_reason": "Duplicate", "title": "There is an extra id column in dataFrame read from csv", "body": "<p>I created a <code>dataFrame</code> and it's the output:</p>\n\n<pre><code>print(train_df)\n\n           author                                               text\n0   BernardHickey  The Commmonwealth Bank of Australia (CBA) warn...\n1   BernardHickey  Rupert Murdoch predicted in a newspaper interv...\n2   BernardHickey  News Corp Ltd chairman and chief executive Rup...\n3   BernardHickey  Rupert Murdoch on Tuesday reported that News C...\n4   BernardHickey  Rupert Murdoch on Tuesday reported that News C...\n</code></pre>\n\n<p>Then I saved the data frame:</p>\n\n<pre><code>train_df.to_csv(data_path+'/train.csv')\n</code></pre>\n\n<p>When I read it again:</p>\n\n<pre><code>data = pd.read_csv(data_path+'/train.csv')\ndata.head(10)\n\nUnnamed: 0  author  text\n0   0   BernardHickey   The Commmonwealth Bank of Australia (CBA) warn...\n1   1   BernardHickey   Rupert Murdoch predicted in a newspaper interv...\n2   2   BernardHickey   News Corp Ltd chairman and chief executive Rup...\n3   3   BernardHickey   Rupert Murdoch on Tuesday reported that News C...\n</code></pre>\n\n<p>Why is there an <code>Unnamed</code> column there? How can I avoid it?</p>\n"}, {"tags": ["python", "python-3.x", "python-3.3"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1551301962, "post_id": 54914532, "comment_id": 96595413, "body": "These shells are never going to be anywhere near as independent as you&#39;re hoping. (Also, <code>exec</code> doesn&#39;t auto-print expression values.)"}, {"owner": {"reputation": 13130, "user_id": 159369, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/89ab22c38c6fcad7338da06420af7ada?s=128&d=identicon&r=PG", "display_name": "Thom Smith", "link": "https://stackoverflow.com/users/159369/thom-smith"}, "edited": false, "score": 0, "creation_date": 1551302185, "post_id": 54914532, "comment_id": 96595519, "body": "It does if the code was compiled with <code>mode=&#39;single&#39;</code>, which I forgot to mention (now in the question). I&#39;m aware that it won&#39;t be perfect, but I&#39;m willing to settle for a definition of &quot;reasonably good&quot; that includes echoing the output."}, {"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1551303581, "post_id": 54914532, "comment_id": 96596113, "body": "Run each of the REPLs in a seperate python process with its own pty. Have your master copy to and from the ptys and the Unix sockets. Attempting to do this without processes is working against the design of Unix."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1551303809, "post_id": 54914532, "comment_id": 96596217, "body": "With <code>mode=&#39;single&#39;</code>, yeah, you&#39;d get autoprinting."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1551303845, "creation_date": 1551303845, "answer_id": 54914967, "question_id": 54914532, "link": "https://stackoverflow.com/questions/54914532/send-exec-output-to-another-stream-without-redirecting-stdout/54914967#54914967", "title": "Send `exec()` output to another stream without redirecting stdout", "body": "<p>If you're dead set on having a single process, then depending on how willing you are to dive into obscure C-level features of the CPython implementation, you might try looking into <a href=\"https://docs.python.org/3/c-api/init.html#sub-interpreter-support\" rel=\"nofollow noreferrer\">subinterpreters</a>. Those are, as far as I know, the highest level of isolation CPython provides in a single process, and they allow things like separate <code>sys.stdout</code> objects for separate subinterpreters.</p>\n"}], "owner": {"reputation": 13130, "user_id": 159369, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/89ab22c38c6fcad7338da06420af7ada?s=128&d=identicon&r=PG", "display_name": "Thom Smith", "link": "https://stackoverflow.com/users/159369/thom-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 54914967, "answer_count": 1, "score": 2, "last_activity_date": 1551303845, "creation_date": 1551301771, "last_edit_date": 1551302028, "question_id": 54914532, "link": "https://stackoverflow.com/questions/54914532/send-exec-output-to-another-stream-without-redirecting-stdout", "title": "Send `exec()` output to another stream without redirecting stdout", "body": "<p>I'm writing a Sublime Text plugin that provides multiple Python shells accessible via UNIX sockets. Each shell should act as a standalone REPL running on its own thread. (It is undesirable for these shells to have their own processes; sharing a single process is an absolute requirement.)</p>\n\n<p>The builtin <code>exec()</code> function prints output to stdout if the code was compiled with <code>mode='single'</code> and is an expression that does not evaluate to None. I need to send this output over the socket instead.</p>\n\n<p>I know that this can be done by <a href=\"https://stackoverflow.com/questions/3906232/python-get-the-print-output-in-an-exec-statement\">patching stdout</a>. However, this would not work here because multiple consoles may be running in multiple threads (plus the built-in console).</p>\n\n<p>My ideas are as follows:</p>\n\n<ul>\n<li>Try to <code>compile()</code> the input with <code>mode='eval'</code>, <code>eval()</code> it, and print the result (if not None). If it won't compile, try <code>mode='exec'</code> instead of <code>mode='single'</code>.</li>\n<li>For each console's thread, keep the output stream in thread-local storage. Patch <code>sys.stdout</code> with an object that checks for these streams before calling \"regular\" stdout.</li>\n<li>Somehow provide a patched <code>sys</code> to each console.</li>\n</ul>\n\n<p>These don't seem like great ideas. Is there a better one?</p>\n"}, {"tags": ["python", "word-count"], "answers": [{"tags": [], "owner": {"reputation": 214708, "user_id": 201359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7odj.jpg?s=128&g=1", "display_name": "&#211;scar L&#243;pez", "link": "https://stackoverflow.com/users/201359/%c3%93scar-l%c3%b3pez"}, "is_accepted": false, "score": 2, "last_activity_date": 1551301789, "creation_date": 1551301789, "answer_id": 54914536, "question_id": 54914514, "link": "https://stackoverflow.com/questions/54914514/most-frequent-words-from-text-excluding-words-that-are-of-certain-length/54914536#54914536", "title": "Most frequent words from text excluding words that are of certain length", "body": "<p>A <code>Counter</code> is just a dictionary, so we can use a dict comprehension to filter the results we need:</p>\n\n<pre><code>{ k: v for k, v in most_common.items() if v &gt; 5 }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 11127447, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gA-WnuZVU0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reb9CITulBS90NQnxRPd_D8Kxdr_w/mo/photo.jpg?sz=128", "display_name": "Usayd Fletcher", "link": "https://stackoverflow.com/users/11127447/usayd-fletcher"}, "edited": false, "score": 0, "creation_date": 1551302759, "post_id": 54914556, "comment_id": 96595767, "body": "Amazing! really simple and super effective. Thanks a lot. Really appriciate it. Regarding stop words, the poem that I&#39;m working on is in a foreign language. It&#39;s easier in that given language to just remove words that are less than 5 characters long, I&#39;ve worded the question wrong. My bad."}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 1, "creation_date": 1551302856, "post_id": 54914556, "comment_id": 96595814, "body": "When you pass <code>open(file)</code> to a function, is the opening and closing handled safely and is the handle closed? Or does it just go out of scope and disappear? When considering the amount of weight people place on using <code>with open</code>, this seems a bit counterintuitive to me as far as design goes"}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 0, "creation_date": 1551303123, "post_id": 54914556, "comment_id": 96595921, "body": "I&#39;ve just seen it used in a few places and was genuinely curious"}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1551302960, "last_edit_date": 1551302960, "creation_date": 1551301902, "answer_id": 54914556, "question_id": 54914514, "link": "https://stackoverflow.com/questions/54914514/most-frequent-words-from-text-excluding-words-that-are-of-certain-length/54914556#54914556", "title": "Most frequent words from text excluding words that are of certain length", "body": "<p>If by \"shorter than 5\" you mean \"less than 5 characters long\" you can just change your regex to not return those words in the first place, using <code>{5,}</code> (five or more) instead of <code>+</code> (one or more):</p>\n\n<pre><code>words = re.findall(r'\\w{5,}', open('some_poem.txt').read().lower())\n</code></pre>\n\n<hr>\n\n<p>The following is <em>not</em> what you asked for, but depending on what you really want, it might be more useful, to get a <code>set</code> of <a href=\"https://en.wikipedia.org/wiki/Stop_words\" rel=\"nofollow noreferrer\">stop words</a> and filter those from the list of words, since there may very well be \"relevant\" words with fewer than five letters, and irrelevant ones with more.</p>\n\n<pre><code>stop_words = set(\"a,able,about,across,...,you,your\".split(\",\"))\nwords = re.findall(r'\\w+', open('some_poem.txt').read().lower())\nwords = [word for word in words if word not in stop_words]\n</code></pre>\n\n<p>Also, just for completeness, as noted in comments, you should make it a habit to use <code>with</code> to open files to make sure they are properly closed afterwards.</p>\n\n<pre><code>with open('some_poem.txt') as f:\n    words = re.findall(r'\\w{5,}', f.read().lower())\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11127447, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gA-WnuZVU0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reb9CITulBS90NQnxRPd_D8Kxdr_w/mo/photo.jpg?sz=128", "display_name": "Usayd Fletcher", "link": "https://stackoverflow.com/users/11127447/usayd-fletcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 54914556, "answer_count": 2, "score": 0, "last_activity_date": 1551302960, "creation_date": 1551301684, "last_edit_date": 1551302735, "question_id": 54914514, "link": "https://stackoverflow.com/questions/54914514/most-frequent-words-from-text-excluding-words-that-are-of-certain-length", "title": "Most frequent words from text excluding words that are of certain length", "body": "<p>I'm having I'm having trouble with finding a solution to my problem, maybe someone will be able to help. I have a poem and I'm able to display the most common words, although I want all strings that are less than 5 characters long to not be displayed in my lets say top 20 most common list. </p>\n\n<pre><code>import collections\n\nimport re\n\nwords = re.findall(r'\\w+', open('some_poem.txt').read().lower())\nmost_common = collections.Counter(words).most_common(20)\n\n\nprint(most_common)\n</code></pre>\n\n<p>Is there a short and clean way to add such functionality? To not display strings that are 5 characters or less? Thanks in advance</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1551301619, "post_id": 54914473, "comment_id": 96595247, "body": "Shouldn&#39;t this be, <code>from app.models.foo import Foo</code>? Normally the <code>PYTHON_PATH</code> is one level above the apps."}, {"owner": {"reputation": 9806, "user_id": 382982, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/9ZaxF.jpg?s=128&g=1", "display_name": "pdoherty926", "link": "https://stackoverflow.com/users/382982/pdoherty926"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1551302245, "post_id": 54914473, "comment_id": 96595543, "body": "Thanks, @WillemVanOnsem. That was the issue. Please add that as an answer and I will happily to accept it."}], "owner": {"reputation": 9806, "user_id": 382982, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/9ZaxF.jpg?s=128&g=1", "display_name": "pdoherty926", "link": "https://stackoverflow.com/users/382982/pdoherty926"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551301523, "creation_date": 1551301523, "question_id": 54914473, "link": "https://stackoverflow.com/questions/54914473/multiple-views-and-models-in-a-django-project", "title": "Multiple views and models in a Django project", "body": "<p>I'm working on a Django 1.11 application and I'd like to break my models and views into separate packages. (The models were moved into their own directory some time ago and have been working without issue.)</p>\n\n<p>So, the application structure will become:</p>\n\n<pre><code>app\n  models\n    __init__.py\n    foo.py\n    bar.py\n  views\n    __init__.py\n    foo.py\n    bar.py\n  ...\n</code></pre>\n\n<p>I've done the above using <a href=\"https://simpleisbetterthancomplex.com/tutorial/2016/08/02/how-to-split-views-into-multiple-files.html\" rel=\"nofollow noreferrer\">this tutorial</a> as a reference, but when attempting to import models in the newly nested views (a la <code>from models.foo import Foo</code>), I'm met with an error which says, <code>ImportError: No module named models.foo</code>.</p>\n\n<p>Do I need to specify this new path in settings.py? Do I need to change my import statement? Something else?</p>\n"}, {"tags": ["python", "unicode", "sonos", "m3u", "wpl"], "comments": [{"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1551302831, "post_id": 54914463, "comment_id": 96595797, "body": "Filename encoding is a problematic topic when it comes to portability. Have you considered replacing all non-ASCII characters, eg. using the <code>unidecode</code> Python module? I don&#39;t usually suggest this approach, but for having portable filenames across OSes this seems to me like the least pain."}, {"owner": {"reputation": 441, "user_id": 1060747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5a931359366c78f62ab778c6379d91?s=128&d=identicon&r=PG", "display_name": "DaveWalker", "link": "https://stackoverflow.com/users/1060747/davewalker"}, "reply_to_user": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1551303923, "post_id": 54914463, "comment_id": 96596276, "body": "So I&#39;ve made a useful extra discovery... for the &#233; character, the default encoding (using <code>.encode(&#39;ascii&#39;, &#39;xmlcharrefreplace&#39;)</code>) turns it into <code>e&amp;#769;</code> which does not work.  However, I found if I manually change it to <code>&amp;#0E9;</code> (as a single code for the &#233; character) it does work.  Therefore I think the key question is: how do I get Python to encode unicode characters in the latter format?  Indeed, what is that form even called?"}, {"owner": {"reputation": 441, "user_id": 1060747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5a931359366c78f62ab778c6379d91?s=128&d=identicon&r=PG", "display_name": "DaveWalker", "link": "https://stackoverflow.com/users/1060747/davewalker"}, "reply_to_user": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1551304004, "post_id": 54914463, "comment_id": 96596310, "body": "Thanks @lenz, that&#39;s on my list as backup option, but as I&#39;ve been playing around with this for three evenings now and it feels so close to being fixable... I&#39;d like to see if I can get it resolved.  I&#39;ll then share the whole code on GitHub, as I&#39;ve seen lots of people struggling with this in the Sonos forums!"}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 1, "creation_date": 1551304191, "post_id": 54914463, "comment_id": 96596392, "body": "That last thing is called Unicode normalization. There are NFD (&quot;decomposed&quot;, ie. base character plus combining diacritic) vs. NFC (&quot;composed&quot;, a singled accented character), plus the legacy versions NFKD/NFKC. Use Python&#39;s std-lib <code>unicodedata.normalize()</code> to convert into NFC form before encoding with &quot;xmlcharrefreplace&quot;."}, {"owner": {"reputation": 441, "user_id": 1060747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5a931359366c78f62ab778c6379d91?s=128&d=identicon&r=PG", "display_name": "DaveWalker", "link": "https://stackoverflow.com/users/1060747/davewalker"}, "reply_to_user": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1551305202, "post_id": 54914463, "comment_id": 96596790, "body": "Thanks sounds like the right thing, I\u2019ll give that a go tomorrow night and report back!"}], "answers": [{"tags": [], "owner": {"reputation": 441, "user_id": 1060747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5a931359366c78f62ab778c6379d91?s=128&d=identicon&r=PG", "display_name": "DaveWalker", "link": "https://stackoverflow.com/users/1060747/davewalker"}, "is_accepted": true, "score": 0, "last_activity_date": 1551386996, "creation_date": 1551386996, "answer_id": 54934046, "question_id": 54914463, "link": "https://stackoverflow.com/questions/54914463/unicode-playlists-for-sonos-from-python/54934046#54934046", "title": "Unicode Playlists for Sonos from Python", "body": "<p>With thanks to @lenz for the suggestions above, I do now have unicode playlists fully working with Sonos.</p>\n\n<p>A couple of critical points that should save someone else a lot of time:</p>\n\n<ul>\n<li>Only .wpl playlists seem to work.  Unicode will not work with .m3u or .m3u8 playlists on Sonos.</li>\n<li>Sonos needs any unicode text to be normalised into NFC form - I'd never heard of this before, but essentially means that any accented characters have to be represented by a single character, not as a normal character with a separate accent.</li>\n<li>The .pls playlist, which is an XML format, needs to have unicode characters encoded in an XML format, i.e. <code>\u00e9</code> is represented in the .pls file as <code>&amp;#233;</code>.</li>\n<li>The .pls file also needs the XML reserved characters (&amp; &lt; > ' \") in their escaped form, i.e <code>&amp;</code> is <code>&amp;amp;</code>.</li>\n</ul>\n\n<p>In Python 3, converting a path from iTunes XML format into something suitable for a .pls playlist on Sonos, needs the following key steps:</p>\n\n<pre><code>left = len(itunes_library['Music Folder'])\npath_relative = 'Media/' + itunes_library['Tracks'][track_id]['Location'][left:]\npath_unquoted = urllib.parse.unquote(path_relative)\npath_norm = unicodedata.normalize('NFC', path_unquoted)\npath = path_norm.replace('&amp;', '&amp;amp;').replace('&lt;', '&amp;lt;').replace('&gt;', '&amp;gt;').replace('\"', '&amp;quot;')\n\nplaylist_wpl += '&lt;media src=\"%s\"/&gt;\\n' % path\n\nwith open(pl_path, 'wb') as pl_file:\n    pl_file.write(playlist_wpl.encode('ascii', 'xmlcharrefreplace'))\n</code></pre>\n\n<p>A full working demo for exporting from iTunes for use in Sonos (or anything else) as .pls is available here: <a href=\"https://github.com/dwalker-uk/iTunesToSonos\" rel=\"nofollow noreferrer\">https://github.com/dwalker-uk/iTunesToSonos</a></p>\n\n<p>Hope that helps someone!</p>\n"}], "owner": {"reputation": 441, "user_id": 1060747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5a931359366c78f62ab778c6379d91?s=128&d=identicon&r=PG", "display_name": "DaveWalker", "link": "https://stackoverflow.com/users/1060747/davewalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 54934046, "answer_count": 1, "score": 0, "last_activity_date": 1551386996, "creation_date": 1551301463, "last_edit_date": 1551304856, "question_id": 54914463, "link": "https://stackoverflow.com/questions/54914463/unicode-playlists-for-sonos-from-python", "title": "Unicode Playlists for Sonos from Python", "body": "<p>I'm working to export a small subset of music from my iTunes library to an external drive, for use with a Sonos speaker (via Media Library on Sonos).  All was going fine until I came across some unicode text in track, album and artist names.</p>\n\n<p>I'm moving from iTunes on Mac to a folder structure on Linux (Ubuntu), and the file paths all contain the original Unicode names and these are displayed and play fine from Sonos in the Artist / Album view.  The only problem is playlists, which I'm generating via a bit of Python3 code.</p>\n\n<p>Sonos does not appear to support UTF-8 encoding in .m3u / .m3u8 playlists.  The character \u00f7 was interpreted by Sonos as \u00c3\u00b7, which after a bit of Googling I found was clearly mixing up UTF-8 and UTF-16 (\u00f7 0xC3 0xB7 in UTF-8, whilst \u00c3 is U+00C3 in UTF-16 and \u00b7 is U+00B7 in UTF-16).  I've tried many different ways of encoding it, and just can't get it to recognise tracks with non-standard (non-ASCII?) characters in their names.</p>\n\n<p>I then tried .wpl playlists, and thought I'd solved it.  Tracks with characters such as \u00f7 and \u2022 in their path now work perfectly, just using those characters in their unicode / UTF-8 form in the playlist file itself.</p>\n\n<p>However, just as I was starting to tidy up and finish off the code, I found some other characters that weren't being handled correctly: \u00f6, \u00e5, \u00e1 and a couple of others.  I've tried both using these as their original unicode characters, but also as their encoded XML identifier e.g. <code>&amp;#769;</code>   Using this format doesn't make a difference to what works or does not work - \u00f7 (<code>&amp;#247;</code>) and \u2022 (<code>&amp;#8226;</code>) are fine, whilst \u00f6 (<code>o&amp;#776;</code>), \u00e5 (<code>a&amp;#778;</code>) and \u00e1 (<code>a&amp;#769;</code>) are not.</p>\n\n<p>I've never really worked with unicode / UTF-8 before, but having read various guides and how-to's I feel like I'm getting close but probably just missing something simple.  The fact that some unicode characters work now, and others don't, makes me think it's got to be something obvious!  I'm guessing the difference is that accents modify the previous character, rather than being a character in itself, but tried removing the previous letter and that didn't work!</p>\n\n<p>Within Python itself I'm not doing anything particularly clever.  I read in the data from iTunes' XML file using:</p>\n\n<pre><code>    with open(settings['itunes_path'], 'rb') as itunes_handle:\n        itunes_library = plistlib.load(itunes_handle)\n</code></pre>\n\n<p>For export I've tried dozens of different options, but generally something like the below (sometimes with encoding='utf-8' and various other options):</p>\n\n<pre><code>with open(dest_path, 'w') as playlist_file:\n    playlist_file.write(generated_playlist)\n</code></pre>\n\n<p>Where <code>generated_playlist</code> is the result of extracting and filtering data from itunes_library, having run <code>urllib.parse.unquote()</code> on any iTunes XML data.</p>\n\n<p>Any thoughts or tips on where to look would be very much appreciated!  I'm hoping that to someone who understands Unicode better the answer will be really really obvious!  Thanks!</p>\n\n<p>Current version of the code available here: <a href=\"https://github.com/dwalker-uk/iTunesToSonos\" rel=\"nofollow noreferrer\">https://github.com/dwalker-uk/iTunesToSonos</a></p>\n"}, {"tags": ["python", "matplotlib", "tkinter"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1551350567, "post_id": 54914430, "comment_id": 96612294, "body": "<i>&quot;needs to be continuously polling (while True)&quot;</i>: Read <a href=\"https://stackoverflow.com/questions/459083/how-do-you-run-your-own-code-alongside-tkinters-event-loop\">Run your own code alongside Tkinter&#39;s event loop</a>"}], "owner": {"reputation": 125, "user_id": 7872784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e6529194d27ee1f0d318e9f4b3f95e3?s=128&d=identicon&r=PG&f=1", "display_name": "StackUser", "link": "https://stackoverflow.com/users/7872784/stackuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551301356, "creation_date": 1551301356, "question_id": 54914430, "link": "https://stackoverflow.com/questions/54914430/update-tkinter-matplotlib-python-without-mainloop", "title": "Update tkinter/matplotlib python without mainloop()", "body": "<p>Is there a way to manually update Tkinter plots from another file?</p>\n\n<p>I have another file that needs to be continuously polling (while True), so I believe I can't have a mainloop in the plots class since it would block my main class. Is there any way I can call the method \"plot_data\" from this other file and have the graphs (a,b,c,d) update live? Currently the frame freezes and live updates aren't seen.</p>\n\n<p>However it seems to update in real time when the program is being run in debug mode. Is there a reason why the behavior in execution is different between RUN/ DEBUG in Pycharm?</p>\n\n<p>Below is a view of the Plots class:</p>\n\n<pre><code>class Plots(tk.Tk):\ndef __init__(self, *args, **kwargs):\n    tk.Tk.__init__(self, *args, **kwargs)\n    tk.Tk.wm_title(self, \"GUI\")\n\n    # TODO Make sure 'zoomed' state works on all laptops\n    self.state('zoomed')  # Make fullscreen by default\n\n    container = tk.Frame(self, bg='blue')\n    container.pack(side=\"top\", fill=\"both\", expand=True)\n    container.grid_rowconfigure(0, weight=1)\n    container.grid_columnconfigure(0, weight=1)\n\n    frame = GraphPage(container)\n    self.page = GraphPage\n    frame.configure(background='black')\n    self.frame = frame\n    frame.grid(row=0, column=0, sticky=\"nsew\")\n\n    self.show_frame()  # Display frame on window\n\ndef show_frame(self):\n    frame = self.frame\n    frame.tkraise()\n\ndef plot_data(self):\n    # TODO Add exception handling for opening the file\n    file = open(\"../storage/data.csv\", \"r\")  # Open data file for plotting\n\n    t_list = ...\n    a_list = ...\n    v_list = ...\n    a2_list = ...\n\n    a.clear()\n    a.plot(time_list, t_list)\n    a.set_ylabel('T')\n\n    b.clear()\n    b.plot(time_list, a_list)\n    b.set_ylabel('A')\n\n    c.clear()\n    c.plot(time_list, v_list)\n    c.set_ylabel('V')\n\n    d.clear()\n    d.plot(time_list, a2_list)\n    d.set_xlabel('Time(s)')\n    d.set_ylabel('A')\n\nclass GraphPage(tk.Frame):\ndef __init__(self, parent):\n    tk.Frame.__init__(self, parent)\n\n    label = tk.Label(self, bg='red', text=\"GUI\", font=LARGE_FONT, width=400)\n\n    label.pack(pady=10, padx=10)\n\n    canvas = FigureCanvasTkAgg(f, self)\n    canvas.draw()\n    canvas.get_tk_widget().pack(side=tk.BOTTOM, fill=tk.BOTH, expand=True)\n</code></pre>\n\n<p>The other file is essentially just:</p>\n\n<pre><code>while(true):\n   plots.plot_data()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1551301428, "post_id": 54914406, "comment_id": 96595166, "body": "What exactly isn&#39;t working with your current code?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551301440, "post_id": 54914406, "comment_id": 96595174, "body": "Take a look at <code>&#47;etc&#47;services</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1551301486, "post_id": 54914406, "comment_id": 96595193, "body": "@roganjosh As you can see, his current code doesn&#39;t even try to do what he says."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551301554, "post_id": 54914406, "comment_id": 96595225, "body": "@Barmar fair enough, but your suggestion wouldn&#39;t work with Windows. I&#39;m only trying to get some grounding in the issue. It&#39;s as much a tool to prompt them to describe the issue as it is to try solve it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551301691, "post_id": 54914406, "comment_id": 96595277, "body": "There are many places to find copies of /etc/services on the web."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551301713, "post_id": 54914406, "comment_id": 96595289, "body": "&quot;my best bad&quot; == &quot;my best bet&quot;?"}, {"owner": {"reputation": 3, "user_id": 11086613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HGdHJ.png?s=128&g=1", "display_name": "Fsociety10", "link": "https://stackoverflow.com/users/11086613/fsociety10"}, "edited": false, "score": 0, "creation_date": 1551301727, "post_id": 54914406, "comment_id": 96595297, "body": "I am trying to solve it with the &#39;.readline()&#39; command but I haven&#39;t tried it yet because I am not finished. My os is macos so this tool isn&#39;t made for windows."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551301779, "post_id": 54914406, "comment_id": 96595324, "body": "You can read the file and convert it into a <code>dict</code> whose keys are the port numbers."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551301856, "post_id": 54914406, "comment_id": 96595358, "body": "Come back when you&#39;re finished. Post what you tried and explain the problem you&#39;re having with it. There&#39;s no point in posting the question until you&#39;ve gotten that far."}, {"owner": {"reputation": 3, "user_id": 11086613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HGdHJ.png?s=128&g=1", "display_name": "Fsociety10", "link": "https://stackoverflow.com/users/11086613/fsociety10"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551301913, "post_id": 54914406, "comment_id": 96595378, "body": "@Barmar you are right I just saw the file and it&#39;s telling me all the ports. I just need to organize it and figure out a way to make the code print the description."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551301954, "post_id": 54914406, "comment_id": 96595410, "body": "If you put the information into a dict named <code>ports</code>, you can simply print <code>ports[port]</code>."}, {"owner": {"reputation": 3, "user_id": 11086613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HGdHJ.png?s=128&g=1", "display_name": "Fsociety10", "link": "https://stackoverflow.com/users/11086613/fsociety10"}, "edited": false, "score": 0, "creation_date": 1551302309, "post_id": 54914406, "comment_id": 96595568, "body": "Yes I renamed the file I just got to write the code there."}, {"owner": {"reputation": 3, "user_id": 11086613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HGdHJ.png?s=128&g=1", "display_name": "Fsociety10", "link": "https://stackoverflow.com/users/11086613/fsociety10"}, "edited": false, "score": 0, "creation_date": 1551302431, "post_id": 54914406, "comment_id": 96595631, "body": "If you could please leave a answer with the code you just described to me I will really appreciate it."}], "owner": {"reputation": 3, "user_id": 11086613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HGdHJ.png?s=128&g=1", "display_name": "Fsociety10", "link": "https://stackoverflow.com/users/11086613/fsociety10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551301248, "creation_date": 1551301248, "question_id": 54914406, "link": "https://stackoverflow.com/questions/54914406/how-to-print-description-of-port", "title": "How to print description of port", "body": "<p>So I made a port scanner and I want to give description to the ports. So like printing the port with the description. I was thinking my best bad is to make the description on a file and then print it but I don't know how to do that. Or on the file I could put the port and then the description separate them with a \":\", search for that port on the file and get the description.</p>\n\n<pre><code>def scan_port(port):\n    try:\n        timeout = 10.0\n        sock = socket.socket(socket.AF_INET,socket.SOCK_STREAM) \n        result = sock.connect_ex((remoteHost,port)) \n        identify_port()\n        if result == 0:\n            print(colored(\"[+] Port {}: Open\".format(port), 'green'))\n            sock.close()\n</code></pre>\n"}, {"tags": ["python", "subprocess", "system", "allocation", "hpc"], "comments": [{"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "edited": false, "score": 0, "creation_date": 1551301239, "post_id": 54914306, "comment_id": 96595073, "body": "I&#39;d suggest to first run the intended command from the command line first, then translate it to python. =)"}], "answers": [{"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1551301284, "post_id": 54914390, "comment_id": 96595094, "body": "Don&#39;t create a string that you are just going to split anyway; define a list. This way, you have to ensure you are correctly quoting things for the final string to split correctly."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1551301479, "post_id": 54914390, "comment_id": 96595190, "body": "This may work well enough if you know what characters your <code>startdate</code> and <code>enddate</code> string can ever contain, but it fails very badly when substituting arbitrary strings, which can themselves contain literal quotes. Consequently, it&#39;s a generally unsafe practice."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1551301553, "post_id": 54914390, "comment_id": 96595222, "body": "...as your own quote says, &quot;it is recommended to pass args as a sequence&quot;. Generating that sequence explicitly (as opposed to using <code>shlex.split</code>) ensures that the splitting happens exactly where the developer intends it to, and not anywhere else."}, {"owner": {"reputation": 2318, "user_id": 1913726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jEdHu.jpg?s=128&g=1", "display_name": "dmmfll", "link": "https://stackoverflow.com/users/1913726/dmmfll"}, "edited": false, "score": 0, "creation_date": 1551301586, "post_id": 54914390, "comment_id": 96595234, "body": "I copied and pasted the string concatenation from the question. Indeed there are more robust ways of creating the command. The point is that <code>shlex.split</code> is the way to split the command string when a sequence is required. <code>command</code> is a string."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1551301625, "post_id": 54914390, "comment_id": 96595250, "body": "@DMfll, ...when a sequence is required <i>and your input is a string</i>, but that&#39;s not the case here -- there is no single string provided by the user as a configuration value; the value is completely generated inside the code, so might as well do it right and generate <code>command</code> as a list in the first place."}, {"owner": {"reputation": 2318, "user_id": 1913726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jEdHu.jpg?s=128&g=1", "display_name": "dmmfll", "link": "https://stackoverflow.com/users/1913726/dmmfll"}, "edited": false, "score": 0, "creation_date": 1551302154, "post_id": 54914390, "comment_id": 96595504, "body": "Look closely. It is indeed a str. I did have to remove some stray quotations inside of the string which made <code>shlex.split</code> throw errors."}, {"owner": {"reputation": 2318, "user_id": 1913726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jEdHu.jpg?s=128&g=1", "display_name": "dmmfll", "link": "https://stackoverflow.com/users/1913726/dmmfll"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551302499, "post_id": 54914390, "comment_id": 96595667, "body": "@chepner I am not using the split method on a list. I am using <code>shlex.split</code>. From the docs: \u275dNote shlex.split() can be useful when determining the correct tokenization for args, especially in complex cases\u275e I have had cases where making a list manually failed."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551302871, "post_id": 54914390, "comment_id": 96595817, "body": "I know, but you still had to know how to create a string that <code>shlex</code> would properly split. I&#39;m saying, don&#39;t &quot;encode&quot; your list of arguments into a shell command in the first place."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551302934, "post_id": 54914390, "comment_id": 96595844, "body": "In this case, you had to know that <code>str(enddate)</code> wasn&#39;t creating a string value that had to be quoted to be correctly parsed as a single word by <code>shlex.split</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1551307230, "post_id": 54914390, "comment_id": 96597526, "body": "@dmfll, &quot;it is a string&quot; <b>only because the code in the question derives it that way</b>. That code can be changed; the OP is asking us <i>how</i> best to change it. If the OP was getting a string from a command-line argument or a config file or another external source, <i>then</i> it wouldn&#39;t be amenable to being changed (without modifying their interfaces), but that&#39;s not the case here."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1551307395, "post_id": 54914390, "comment_id": 96597593, "body": "...and even then, with the values coming from a config file, it would be the safer practice to run the <code>shlex.split()</code> on the literal string parsed from the file and only <i>after</i> that&#39;s complete run substitutions on the individual values that result, such that contents of a substituted parameter can never be split into multiple words."}], "tags": [], "owner": {"reputation": 2318, "user_id": 1913726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jEdHu.jpg?s=128&g=1", "display_name": "dmmfll", "link": "https://stackoverflow.com/users/1913726/dmmfll"}, "is_accepted": false, "score": 0, "last_activity_date": 1551302604, "last_edit_date": 1592644375, "creation_date": 1551301179, "answer_id": 54914390, "question_id": 54914306, "link": "https://stackoverflow.com/questions/54914306/am-i-using-system-call-subprocess-call-correctly/54914390#54914390", "title": "Am I using system call/subprocess call correctly?", "body": "<p>When I first started using some of the subprocess methods I ran into some of the same issues.</p>\n<p>Try running your code like this:</p>\n<pre><code>import datetime\nimport subprocess\nimport shlex\n\nstartdate = datetime.datetime(2010, 4, 9) + datetime.timedelta(days=1)\nenddate = datetime.datetime(2010, 4, 10) + datetime.timedelta(days=1)\ncommand = (\n    &quot;sudo mam-list-usagerecords -s &quot;\n    + str(startdate)\n    + &quot;-e&quot;\n    + str(enddate)\n    + &quot; --format csv --full&quot;\n)\n\nprint(command)\nprint(type(command))\nprint(shlex.split(command))\nsubprocess.call(shlex.split(command))\n</code></pre>\n<p>OUTPUT:</p>\n<blockquote>\n<p>sudo mam-list-usagerecords -s 2010-04-10 00:00:00-e2010-04-11 00:00:00 --format csv --full</p>\n<p>class 'str'</p>\n<p>['sudo', 'mam-list-usagerecords', '-s', '2010-04-10', '00:00:00-e2010-04-11', '00:00:00', '--format', 'csv', '--full']</p>\n</blockquote>\n<p>(Command output redacted.)</p>\n<p>When the kwarg <code>shell</code> is set to <code>False</code> which is the default, the command may have to be a collection which is what <a href=\"https://docs.python.org/3/library/shlex.html#shlex.split\" rel=\"nofollow noreferrer\">shlex.split</a> does.</p>\n<blockquote>\n<p>args should be a sequence of program arguments or else a single string. By default, the program to execute is the first item in args if args is a sequence. If args is a string, the interpretation is platform-dependent and described below. See the shell and executable arguments for additional differences from the default behavior. Unless otherwise stated, it is recommended to pass args as a sequence.</p>\n</blockquote>\n<p><a href=\"https://docs.python.org/3/library/subprocess.html#popen-constructor\" rel=\"nofollow noreferrer\">Popen constructor</a></p>\n<p>This issue used to confuse me to no end until I found this in the docs.</p>\n"}, {"tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 1, "last_activity_date": 1551301420, "creation_date": 1551301420, "answer_id": 54914446, "question_id": 54914306, "link": "https://stackoverflow.com/questions/54914306/am-i-using-system-call-subprocess-call-correctly/54914446#54914446", "title": "Am I using system call/subprocess call correctly?", "body": "<p>When possible, pass a <em>list</em> containing your command name and its arguments.</p>\n\n<pre><code>subprocess.call([\"sudo\", \"mam-list-usagerecords\",\n                 \"-s\", str(startdate),\n                 \"-e\", str(enddate),\n                 \"--format\", \"csv\",\n                 \"--full\"])\n</code></pre>\n\n<p>This avoids the need to even know how the shell will process a command line.</p>\n"}], "owner": {"reputation": 3, "user_id": 11035382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd908b8275a087b7e8cd8cb0ae03e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/11035382/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 54914446, "answer_count": 2, "score": 0, "last_activity_date": 1551302604, "creation_date": 1551300855, "question_id": 54914306, "link": "https://stackoverflow.com/questions/54914306/am-i-using-system-call-subprocess-call-correctly", "title": "Am I using system call/subprocess call correctly?", "body": "<p>This code fails when it runs:</p>\n\n<pre><code>import datetime\nimport subprocess\n\nstartdate = datetime.datetime(2010,4,9)\nfor i in range(1): \n    startdate += datetime.timedelta(days=1)\n\nenddate = datetime.datetime(2010,4,10)\n    for i in range(1): \n        enddate += datetime.timedelta(days=1)\n\nsubprocess.call(\"sudo mam-list-usagerecords -s \\\"\" + str(startdate) + \"\\\" -e \\\"\" + str(enddate) + \" --format csv --full\")\n</code></pre>\n\n<p>The program has these errors when it runs:</p>\n\n<pre><code>  File \"QuestCommand.py\", line 12, in &lt;module&gt;\nsubprocess.call(\"sudo mam-list-usagerecords -s \\\"\" + str(startdate) + \"\\\" -e \\\"\" + str(enddate) + \" --format csv --full\")\n  File \"/usr/lib64/python2.7/subprocess.py\", line 524, in call\nreturn Popen(*popenargs, **kwargs).wait()\n  File \"/usr/lib64/python2.7/subprocess.py\", line 711, in __init__\nerrread, errwrite)\n  File \"/usr/lib64/python2.7/subprocess.py\", line 1327, in _execute_child\nraise child_exception\n</code></pre>\n\n<p>I have ran this code multiple times with other ways, changing quotes and whatnot. I am fairly new to system calls and utilizing an HPC allocation database. I am stuck and if anyone can help me with resolving this issue that would be very helpful.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1551300913, "post_id": 54914281, "comment_id": 96594950, "body": "There doesn&#39;t seem to be much of a good reason to use a <code>dict</code> as opposed to, say, a <code>list</code>. But you essentially need to loop over the keys, and combine the corresponding values using the logic you require."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11122284"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1551300970, "post_id": 54914281, "comment_id": 96594971, "body": "Whatever works really. is there a simpler solution with using list?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1551301072, "post_id": 54914281, "comment_id": 96595006, "body": "I don&#39;t know. I don&#39;t know your requirements, but a <code>dict</code> with keys that are just <code>1-...N</code> seems like it could just be a <code>list</code> (note, lists are indexed 0-...N, but does that really matter to you?)  But questions like &quot;where do I start&quot; are not really a good fit for stack overflow. It sounds like you need to understand some basics, like how to loop over your container."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1551301183, "post_id": 54914281, "comment_id": 96595054, "body": "If you use a list instead of a dict for the original structures, then they can be iterated in order, together. So you could say <code>for friend_of_friend, interested_friend in zip(FOFList, InterestedFriendsList)</code>. If you print those variables, you&#39;ll maybe see how you can combine them easily :). You can just use the <code>.append()</code> method to add things to this final list inside the loop."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 1, "creation_date": 1551301267, "post_id": 54914281, "comment_id": 96595088, "body": "@AlexanderReynolds I mean, you can loop over two dicts as well."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1551301344, "post_id": 54914281, "comment_id": 96595122, "body": "Alternatively, keeping them as dicts, you can say <code>for person in FOFDict:</code> and the &quot;person&quot; here will just be the keys of the dictionary, i.e. 0, 1, and so on. Then inside the for loop you can get the friend of friends for that person with <code>FOFDict[person]</code>, and you can get the interested friends with <code>InterestFriendsDict[person]</code>. Then to add these values to a new dict, you can just do <code>new_dict[person] = ...</code>. You&#39;ll have to initialize the new dictionary before the for loop with <code>new_dict = {}</code> or similar. (You&#39;d have to do the same thing with a list for my above comment)."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1551301439, "post_id": 54914281, "comment_id": 96595173, "body": "@juanpa.arrivillaga yes but to make sure they iterate in order at the same time, would need to just iterate over the keys and index both. Even if Python 3.7+, we are guaranteed insertion order, not key order...not given any specifics, didn&#39;t want to make that suggestion. Either way, as you stated, a list seems more appropriate here so wanted to suggest a solution in line with that."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1551301836, "post_id": 54914490, "comment_id": 96595346, "body": "Maybe <code>sorted(set(...))</code> just because the results look sorted, although OP mentioned nothing to that effect as a part of the specification..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11122284"}, "edited": false, "score": 0, "creation_date": 1551302595, "post_id": 54914490, "comment_id": 96595699, "body": "This works great! And thank you for the comments explaining it instead of just posting the code. I appreciate everyone&#39;s answers!"}], "tags": [], "owner": {"reputation": 459, "user_id": 7596388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/287d123447c991169f410aca0ae68376?s=128&d=identicon&r=PG&f=1", "display_name": "William Bright", "link": "https://stackoverflow.com/users/7596388/william-bright"}, "is_accepted": true, "score": 3, "last_activity_date": 1551301575, "creation_date": 1551301575, "answer_id": 54914490, "question_id": 54914281, "link": "https://stackoverflow.com/questions/54914281/combine-2-dictionaries-with-the-same-keys-but-different-values-in-python/54914490#54914490", "title": "Combine 2 dictionaries with the same keys but different values in Python", "body": "<p>Try breaking the problem down in little pieces and then glue them together. Here is a simple way to attack your problem:</p>\n\n<pre><code>new_dict = {}\n# iterate over dictionary by calling items()\nfor key, val in InterestFriendsDict.items():\n    # unpack the tuple you have with 2 variables just like the size of the tuple\n    id_tup, interests = val\n    new_dict[key] = (list(set(FOFDict[key] + id_tup)), interests)\n</code></pre>\n\n<p>So a couple things to note, a <code>set</code> has unique values so it quickly handles the repetitions. Which is then converted back into a <code>list</code> and placed inside the tuple along with the interests.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11122284"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 54914490, "answer_count": 1, "score": 0, "last_activity_date": 1551301575, "creation_date": 1551300730, "question_id": 54914281, "link": "https://stackoverflow.com/questions/54914281/combine-2-dictionaries-with-the-same-keys-but-different-values-in-python", "title": "Combine 2 dictionaries with the same keys but different values in Python", "body": "<p>I have these two dicitonaries, one represents the ids of people and the ids of the friends of their friends:</p>\n\n<pre><code>FOFDict = {0 : [1, 2, 3],\n       1 : [2, 3, 4],\n       2 : [0, 1, 3, 4],\n       3 : [0, 1, 2, 5],\n       4 : [1, 2, 6, 7],\n       5 : [8, 3],\n       6 : [9, 4, 7],\n       7 : [9, 4, 6],\n       8 : [5],\n       9 : [6, 7]}\n</code></pre>\n\n<p>The other shows the ids of who they should be friends with based off of shared interests (found earlier in the code):</p>\n\n<pre><code>       InterestFriendsDict = {0 : ([1, 5, 8, 9], ['C', 'Java','Data','Rainbows']),\n       1 : ([0], ['C']),\n       2 : ([3, 5], ['Python']),\n       3 : ([2, 4, 5, 6], ['Python','ramen','R','stats','prob']),\n       4 : ([3, 7], ['ramen','AI']),\n       5 : ([0, 2, 3, 8], ['Java', 'Python', 'R']),\n       6 : ([3], ['stats', 'prob']),\n       7 : ([4, 8], ['AI', 'anatomy']),\n       8 : ([0, 7, 9], ['Data', 'anatomy']),\n       9 : ([0, 5, 8], ['Java', 'Data', 'Rainbows'])}\n</code></pre>\n\n<p>I now have to combine these dictionaries in a way that shows the key id, then the friends of their friends AND friends they should be friends with, followed then by the shared interests of all of them. For example, the entry for id 0 and 1 would be:</p>\n\n<pre><code>{0: ([1, 2, 3, 5, 8, 9], ['C', 'Java', 'Data', 'Rainbows'],\n{1: ([0, 2, 3, 4], ['C']),\n...\n</code></pre>\n\n<p>I am struggling to determine where to begin with this. I thought I could just use .update or something like that, but I'm not sure because of how one dictionary has a tuple while the other does not. If you can help it, please respond without using things like defaultdict, I am a student and I'm trying to learn how to do this as vanilla as possible. Thank you!</p>\n"}, {"tags": ["python", "3d", "grid"], "comments": [{"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "edited": false, "score": 0, "creation_date": 1551300762, "post_id": 54914278, "comment_id": 96594884, "body": "Can you provide some example data input/output? I&#39;m unsure if I understand the question."}], "answers": [{"tags": [], "owner": {"reputation": 100, "user_id": 10558219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb5bc81ec13d28b57711cf4ff722731?s=128&d=identicon&r=PG&f=1", "display_name": "D.Sanders", "link": "https://stackoverflow.com/users/10558219/d-sanders"}, "is_accepted": false, "score": -1, "last_activity_date": 1551301426, "creation_date": 1551301426, "answer_id": 54914448, "question_id": 54914278, "link": "https://stackoverflow.com/questions/54914278/3d-grid-with-python/54914448#54914448", "title": "3D grid with python", "body": "<p>Your question isn't very clear about what you want. If it is a graph packages like seaborn and matplotlib can make 3D graphs that can display heatmap information.</p>\n"}], "owner": {"reputation": 1, "user_id": 8973768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dbb082d48ddf35f43b785ddb9540387?s=128&d=identicon&r=PG&f=1", "display_name": "e.jimenez", "link": "https://stackoverflow.com/users/8973768/e-jimenez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1551301426, "creation_date": 1551300719, "question_id": 54914278, "link": "https://stackoverflow.com/questions/54914278/3d-grid-with-python", "title": "3D grid with python", "body": "<p>I have a set of data, 5 columns: (x,y,z,Temperature, Pressure), is not a regular mesh, is data from well logging. I would like to make a 3d grid in order to make some vertical cut. How can I do it?</p>\n"}, {"tags": ["python", "tkinter", "pycharm"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1551301048, "post_id": 54914227, "comment_id": 96594999, "body": "You&#39;re explicitly putting the image on row 14 and everything else on rows 1-13. Why do you expect it to be anywhere other than below everything else?"}, {"owner": {"reputation": 37, "user_id": 10529337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b29a49254cc0813f560982653d2dcbb6?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan K", "link": "https://stackoverflow.com/users/10529337/jordan-k"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1551304978, "post_id": 54914227, "comment_id": 96596698, "body": "I put it there temporarily because I can&#39;t figure out how to make it the background picture"}], "owner": {"reputation": 37, "user_id": 10529337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b29a49254cc0813f560982653d2dcbb6?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan K", "link": "https://stackoverflow.com/users/10529337/jordan-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "closed_date": 1551301181, "answer_count": 0, "score": 0, "last_activity_date": 1551300493, "creation_date": 1551300493, "question_id": 54914227, "link": "https://stackoverflow.com/questions/54914227/tkinter-background-picture", "closed_reason": "Duplicate", "title": "Tkinter background picture", "body": "<p>I tried all the answers from similar threads but they didn't help me a lot. I'm using the grid method to align my widgets, here's a part of my code:</p>\n\n<pre><code>import tkinter as tk\n\nwindow = tk.Tk()\nwindow.title(\"Sentiment analysis GUI\")\nwindow.resizable(0, 0)\n\n\nlogo = tk.PhotoImage(file=\"logo.png\")\nlabel = tk.Label(window, image=logo).grid(row=14)\n\ntk.Label(window, text=\"Enter the keyword you want to search for:\").grid(row=0)\ntext_entry = tk.Entry(window, width=20)\ntext_entry.grid(row=1)\ntk.Button(window, text=\"Latest\", width=6, command=gui.analysis).grid(row=2)\ntk.Button(window, text=\"Yesterday\", width=9, command=gui.analysis1).grid(row=3)\ntk.Button(window, text=\"3-day\", width=5, command=gui.analysis3).grid(row=4)\ntk.Label(window, text=\"Enter the two keywords you want to compare and search for:\").grid(row=5)\ndouble_entry = tk.Entry(window, width=20)\ndouble_entry.grid(row=6)\ndouble_entry1 = tk.Entry(window, width=20)\ndouble_entry1.grid(row=7)\ntk.Button(window, text=\"Submit\", width=6, command=gui.analysis2).grid(row=8)\ntk.Label(window, text=\"Enter the Twitter username you want to search:\").grid(row=9)\nuser_entry = tk.Entry(window, width=20)\nuser_entry.grid(row=10)\ntk.Button(window, text=\"Submit\", width=6, command=gui.user_analysis).grid(row=11)\ntk.Label(window, text=\"Refer to the case study below:\").grid(row=12)\ntk.Button(window, text=\"Brexit\", width=6, command=gui.image).grid(row=13)\nwindow.mainloop()\n</code></pre>\n\n<p>However, that places the picture under everything else, while I want it to be the background. Is there a way to do it while keeping the grid layout? If not, what are the alternatives?</p>\n"}, {"tags": ["python", "loops", "tkinter", "crash"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 1, "creation_date": 1551303086, "post_id": 54914224, "comment_id": 96595910, "body": "First you have to understand, <code>Tkinter</code> uses the concept of <b>event-driven programming</b>, in which custom-written <code>callback</code> functions, receive the flow of control from the <code>.mainloop()</code> dispatcher.  Read <a href=\"https://stackoverflow.com/questions/25454065/is-this-bad-programming-practice-in-tkinter\">Is this bad programming practice in tkinter?</a> and <a href=\"https://stackoverflow.com/questions/29158220/tkinter-understanding-mainloop/29158947#29158947\">tkinter-understanding-mainloop</a>"}], "answers": [{"tags": [], "owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "is_accepted": true, "score": 1, "last_activity_date": 1551317919, "creation_date": 1551317919, "answer_id": 54917098, "question_id": 54914224, "link": "https://stackoverflow.com/questions/54914224/python-gui-crasing-when-moved/54917098#54917098", "title": "Python GUI crasing when moved", "body": "<p>As the inner while loop blocks the update of your window, you can add <code>root.update()</code> at the end of the inner while loop as below:</p>\n\n<pre><code>Stop = False\nwhile not Stop:                     # I do have way to stop this loop and shutdown the script properly\n    PushToTalk = False\n    talk(\"\")                        # Reseting the output text\n    while not PushToTalk:           # Stuck here until \"pause\" key is press\n        if kb.is_pressed(\"pause\"):\n            PushToTalk = True\n        root.update()  # let tkinter handle update    \n    talk(\"Yes ?\")\n    # Here are a lot of stuff happening\n    # And the \"talk\" function is use a lot for upputing informations\nprint(\"Bye\")\n</code></pre>\n\n<p>However it is not a good practice using while loop in main thread.  Better put the above code block in a thread:</p>\n\n<pre><code>import keyboard as kb\nfrom tkinter import *\nimport threading\n# Much more imports are needed for the full script\n# Here I also define a lot of fonction use in the loop\n\n\ndef talk(string: str):\n    \"\"\"\n    Update the UI witht he new text to output\n    :param string: the strind to output\n    :return: None\n    \"\"\"\n    canvas.itemconfig(msg, text=string)\n\n\n# Creating the ui\nroot = Tk()\ncanvas = Canvas(root, width=600, height=250, background='black')\ncanvas.create_line(50, 200, 550, 200, fill=\"red\", width=3)\nmsg = canvas.create_text(300, 100, text='welcome', font=\"terminal 20\", fill=\"white\")\ncanvas.pack()\n\nStop = False\n\ndef chat():\n    while not Stop:\n        talk(\"\")\n        while not kb.is_pressed(\"pause\"): pass\n        talk(\"Yes ?\")\n        # Here are a lot of stuff happening\n        # And the \"talk\" function is use a lot for upputing informations\n    print(\"Bye\")\n\nthreading.Thread(target=chat, daemon=True).start()\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8053120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff18706c16860a86f8bfd7a9905c80bf?s=128&d=identicon&r=PG", "display_name": "Lyxilion", "link": "https://stackoverflow.com/users/8053120/lyxilion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 1, "accepted_answer_id": 54917098, "answer_count": 1, "score": 1, "last_activity_date": 1551317919, "creation_date": 1551300477, "question_id": 54914224, "link": "https://stackoverflow.com/questions/54914224/python-gui-crasing-when-moved", "title": "Python GUI crasing when moved", "body": "<p>tl;dr : Why is my GUI crashing when I move it.</p>\n\n<p>Hi, fist of all, yes, I look up some of the similar post here and on google, I might have missed the golden apple so if this question as truly been answered 40 times, then I'm genuinely sorry.</p>\n\n<p>So I'm using Python and my script is basically two loop a small one where you are \"stuck\" until a key is pressed and a bigger loop that contain all the actual good stuff.</p>\n\n<p>My issue is the GUI, everything works fine-ish, the issue is when you interact with the windows it crashes. I tried to look threading, but I did not manage to make it work as I want it to. And as the script is basically a \"while 1:\" I can understand that the GUI don't like it... </p>\n\n<p>The GUI itself is just used as an output, buttons aren't needed and I don't need a huge refresh rate on it.</p>\n\n<p>I'm willing to change most of my code if needed, I'm still in early development phase. Especially drop Tkinter, I'm \"almost\" sure I can do what I want with PyGame, but that seems overkill to me.</p>\n\n<p>The code below is strip of all unnecessary code, just the barebone but if this GUI doesn't crash, it should work for my complete script.</p>\n\n<pre><code>import keyboard as kb\nfrom tkinter import *\n# Much more imports are needed for the full script\n# Here I also define a lot of fonction use in the loop\n\n\ndef talk(string: str):\n    \"\"\"\n    Update the UI witht he new text to output\n    :param string: the strind to output\n    :return: None\n    \"\"\"\n    canvas.create_polygon([0, 0, 0, 125, 600, 125, 600, 0], fill=\"black\", width=2)\n    canvas.create_text(300, 100, text=string, font=\"terminal 20\", fill=\"white\")\n    canvas.pack()\n    root.update()\n\n\n# Creating the ui\nroot = Tk()\ncanvas = Canvas(root, width=600, height=250, background='black')\ncanvas.create_line(50, 200, 550, 200, fill=\"red\", width=3)\ncanvas.pack()\nroot.update()\n\nStop = False\nwhile not Stop:                     # I do have way to stop this loop and shutdown the script properly\n    PushToTalk = False\n    talk(\"\")                        # Reseting the output text\n    while not PushToTalk:           # Stuck here until \"pause\" key is press\n        if kb.is_pressed(\"pause\"):\n            PushToTalk = True\n\n    talk(\"Yes ?\")\n    # Here are a lot of stuff happening\n    # And the \"talk\" function is use a lot for upputing informations\nprint(\"Bye\")\n</code></pre>\n\n<p>Hope you can Help me !</p>\n\n<p>Lyxilion.</p>\n"}, {"tags": ["python", "pandas", "datetime"], "comments": [{"owner": {"reputation": 6719, "user_id": 2945357, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd030641417e32d532056ed59e3340e3?s=128&d=identicon&r=PG", "display_name": "Andreas K.", "link": "https://stackoverflow.com/users/2945357/andreas-k"}, "edited": false, "score": 1, "creation_date": 1551300641, "post_id": 54914218, "comment_id": 96594817, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16176996/keep-only-date-part-when-using-pandas-to-datetime\">Keep only date part when using pandas.to_datetime</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1551300678, "post_id": 54914218, "comment_id": 96594841, "body": "You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 2, "last_activity_date": 1551301229, "last_edit_date": 1551301229, "creation_date": 1551300815, "answer_id": 54914300, "question_id": 54914218, "link": "https://stackoverflow.com/questions/54914218/how-to-convert-string-to-datetime-ignoring-time-information/54914300#54914300", "title": "How to convert string to datetime, ignoring time information?", "body": "<p>Extract date part using str.extract and convert to datetime,</p>\n\n<pre><code>df['DataFim'] = pd.to_datetime(df['DataFim'].str.extract('(.*)T')[0], format = '%Y-%m-%d')\n\n    DataFim\n0   2018-11-05\n1   2008-08-28\n2   2002-08-08\n3   2007-03-14\n4   2005-05-06\n</code></pre>\n\n<p>Option 2: You can also use str.split</p>\n\n<pre><code>df['DataFim'] = pd.to_datetime(df['DataFim'].str.split('T').str[0], format = '%Y-%m-%d')\n</code></pre>\n\n<p>Having some fun with regex,</p>\n\n<pre><code>df['DataFim'] = pd.to_datetime(df['DataFim'].str.replace('T.*', '', regex = True), format = '%Y-%m-%d')\n</code></pre>\n"}], "owner": {"reputation": 865, "user_id": 8321427, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-ONb_mSwNHKw/AAAAAAAAAAI/AAAAAAAAAhY/TDOgxKaK7lU/photo.jpg?sz=128", "display_name": "Reinaldo Chaves", "link": "https://stackoverflow.com/users/8321427/reinaldo-chaves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 54914300, "answer_count": 1, "score": 1, "last_activity_date": 1551302158, "creation_date": 1551300438, "last_edit_date": 1551302158, "question_id": 54914218, "link": "https://stackoverflow.com/questions/54914218/how-to-convert-string-to-datetime-ignoring-time-information", "title": "How to convert string to datetime, ignoring time information?", "body": "<p>In Python3 and pandas I have a dataframe with a column of strings representing dates - \"DataFim\" column</p>\n\n<pre><code>df_lotacoes.info()\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 52725 entries, 0 to 52724\nData columns (total 5 columns):\nDataFim            48854 non-null object\nDataInicio         52725 non-null object\nIdUA               52725 non-null object\nNomeFuncionario    52725 non-null object\nNomeUA             52725 non-null object\ndtypes: object(5)\nmemory usage: 1.0+ MB\n\nprint(df_lotacoes['DataFim'])\n\nDataFim\n0   2018-11-05T00:00:00-02:00\n1   2008-08-28T00:00:00-03:00\n2   2002-08-08T00:00:00-03:00\n3   2007-03-14T00:00:00-03:00\n4   2005-05-06T00:00:00-03:00\n</code></pre>\n\n<p>I tried to convert to date, but it remains as object</p>\n\n<pre><code>df_lotacoes['DataFim'] = pd.to_datetime(df_lotacoes['DataFim'])\n\nDataFim\n0   2018-11-05 00:00:00-02:00\n1   2008-08-28 00:00:00-03:00\n2   2002-08-08 00:00:00-03:00\n3   2007-03-14 00:00:00-03:00\n4   2005-05-06 00:00:00-03:00\n\nDataFim            48854 non-null object\n</code></pre>\n\n<p>I just need the year, month and day information. The other time data I want to ignore</p>\n\n<p>Please, does anyone know how I can convert this format?</p>\n"}, {"tags": ["python", "redundancy"], "comments": [{"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 4, "creation_date": 1551300485, "post_id": 54914207, "comment_id": 96594753, "body": "A question better suited over at <a href=\"https://codereview.stackexchange.com/\">Code Review</a>. We&#39;re generally not tutoring here, and we usually help solve issues with code that isn&#39;t running as intended. And seeing as this code runs as intended, just not in a way that would please a professor. It&#39;s probably better off on CodeReview :)"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 1, "creation_date": 1551300621, "post_id": 54914207, "comment_id": 96594806, "body": "However, before you  post on codereview, please fix your indentation so it&#39;s a fully workable piece of code as is."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "edited": false, "score": 1, "creation_date": 1551300640, "post_id": 54914207, "comment_id": 96594814, "body": "Since there seems to be a bug, it&#39;s not quite suitable for Code Review as is."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "edited": false, "score": 1, "creation_date": 1551301183, "post_id": 54914207, "comment_id": 96595052, "body": "You wrote <code>&quot;scissors:&quot;:</code> instead of <code>&quot;scissors&quot;:</code>"}, {"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1551301681, "post_id": 54914207, "comment_id": 96595268, "body": "Do you know what&#39;s expected of you at your level expertise to make it less <i>redundant</i> ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1551302177, "post_id": 54914207, "comment_id": 96595516, "body": "SO is a terrible debugger. <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}], "answers": [{"tags": [], "owner": {"reputation": 100, "user_id": 10558219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb5bc81ec13d28b57711cf4ff722731?s=128&d=identicon&r=PG&f=1", "display_name": "D.Sanders", "link": "https://stackoverflow.com/users/10558219/d-sanders"}, "is_accepted": false, "score": 0, "last_activity_date": 1551300892, "creation_date": 1551300892, "answer_id": 54914317, "question_id": 54914207, "link": "https://stackoverflow.com/questions/54914207/how-can-i-make-my-code-for-a-game-of-rock-paper-and-scissors-less-redundant/54914317#54914317", "title": "How can I make my code for a game of Rock, Paper, and scissors less redundant?", "body": "<p>One way it can be less redundant is instead of having all the if else statements, create a function that spits out the response to who won instead of typing it out each scenario for each combination.</p>\n"}, {"tags": [], "owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "is_accepted": false, "score": 1, "last_activity_date": 1551300972, "creation_date": 1551300972, "answer_id": 54914339, "question_id": 54914207, "link": "https://stackoverflow.com/questions/54914207/how-can-i-make-my-code-for-a-game-of-rock-paper-and-scissors-less-redundant/54914339#54914339", "title": "How can I make my code for a game of Rock, Paper, and scissors less redundant?", "body": "<p>I'd suggest to use the modulus operator and enumerate your choices. (rock(0)=> papers(1) => scissors (2)) </p>\n\n<p>The winning condition is user_choice - bot choice %3 == 1. </p>\n"}, {"tags": [], "owner": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1551301670, "creation_date": 1551301670, "answer_id": 54914510, "question_id": 54914207, "link": "https://stackoverflow.com/questions/54914207/how-can-i-make-my-code-for-a-game-of-rock-paper-and-scissors-less-redundant/54914510#54914510", "title": "How can I make my code for a game of Rock, Paper, and scissors less redundant?", "body": "<p>You could parameterize the printed text:</p>\n\n<pre><code>player_wins = \"You win! I chose {bot_choice} and you chose {player_choice}. {player_choice} beats {bot_choice}!\"\nplayer_looses = \"You lose! I chose {bot_choice} and you chose {player_choice}. {bot_choice} beats {player_choice}!\"\n\nprint(player_wins.format(bot_choice=\"Paper\", player_choice=\"scissors\")\n</code></pre>\n\n<p>You can also shorte the <code>if-else</code> clause. I'm just going to give you a hint, but if you look at the choices \"rock\" \"paper\" \"scissors\" as 0, 1 and 2, and sum the choices of the bot and the player, you will notice a pattern. The modulo operator plays a role. </p>\n"}, {"comments": [{"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1551302453, "post_id": 54914617, "comment_id": 96595640, "body": "yup... the code can be massively reduced by something as simple as a wincondition lookup: <code>WIN_CASES = {&#39;rock&#39;: &#39;scissors&#39;, &#39;paper&#39;: &#39;rock&#39;, &#39;scissors&#39;: &#39;paper&#39;}</code>... it depends if the student has learnt about dictionaries or such like... I have a feeling it&#39;s not really what the teacher is expecting until we learn more. Then the entire thing comes down to about 5/6 lines of code."}], "tags": [], "owner": {"reputation": 7116, "user_id": 5083516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2aeeefc1a95ddb2f19612150ccd7ba?s=128&d=identicon&r=PG&f=1", "display_name": "plugwash", "link": "https://stackoverflow.com/users/5083516/plugwash"}, "is_accepted": false, "score": 1, "last_activity_date": 1551302112, "creation_date": 1551302112, "answer_id": 54914617, "question_id": 54914207, "link": "https://stackoverflow.com/questions/54914207/how-can-i-make-my-code-for-a-game-of-rock-paper-and-scissors-less-redundant/54914617#54914617", "title": "How can I make my code for a game of Rock, Paper, and scissors less redundant?", "body": "<blockquote>\n  <p>How can I make my code for a game of Rock, Paper, and scissors less redundant?</p>\n</blockquote>\n\n<p>Firstly we can enumerate only the choices where the user wins or draws and let the cases where the user loses be implicit. e.g.</p>\n\n<pre><code>if user_choice == bot:\n    result = \"draw\"\nelif (user_choice == \"rock\") and (bot == \"scissors\"):\n    result = \"win\";\nelif (user_choice == \"paper\") and (bot == \"rock\"):\n    result = \"win\";\nelif (user_choice == \"scissors\") and (bot == \"paper\"):\n    result = \"win\";\nelse:\n    result = \"lose\";\n</code></pre>\n\n<p>Secondly since all the of the messages are forumulaic based-on substituting in the choices we can move the message generation seperate from the logic. I haven't written code for that because I'm not doing all your work for you.</p>\n\n<p>Thirdly we could use a dictionary to represent the win-conditions for a given user-choice. Something like.</p>\n\n<pre><code>if user_choice == bot:\n    result = \"draw\"\nelif wincondition[user_choice] == bot:\n    result = \"win\";\nelse:\n    result = \"lose\";\n</code></pre>\n\n<blockquote>\n  <p>also sometimes when I enter paper as my input, I don't get an output, the code just loops back to the beginning, does anyone know why this happens?</p>\n</blockquote>\n\n<p>You have a stray colon in your code <code>elif bot == \"scissors:\":</code></p>\n"}], "owner": {"reputation": 31, "user_id": 11127346, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EwmRt9cFMJ8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclNJR7YLzrE-HShfIauX2jvGpVgg/mo/photo.jpg?sz=128", "display_name": "Minh Tran", "link": "https://stackoverflow.com/users/11127346/minh-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1551302112, "creation_date": 1551300373, "question_id": 54914207, "link": "https://stackoverflow.com/questions/54914207/how-can-i-make-my-code-for-a-game-of-rock-paper-and-scissors-less-redundant", "title": "How can I make my code for a game of Rock, Paper, and scissors less redundant?", "body": "<p>I have to do a project on a game of rock, paper, and scissors, and the code I have so far is a complete code for the game, but my professor does not like it since it is too redundant. Is there anyway to shorten it or make it more simple?</p>\n\n<pre><code>import random\n\nwhile True:\nbot = random.choice([\"Rock\", \"Paper\", \"Scissors\"]).lower()\n\nuser_choice = input(\"Choose between Rock, Paper, and Scissors or -1 to exit: \\n \").lower()\nif user_choice == bot:\n   print(\"We tied! I chose\", bot,\" and you chose\", user_choice)\nelif user_choice == \"rock\":\n   if bot == \"paper\":\n      print(\"You lose! I chose\", bot,\" and you chose\", user_choice , \", Paper beats rock!\")\n   elif bot == \"scissors\":\n      print(\"You win! I chose\", bot,\" and you chose\", user_choice , \", Rock beat scissors!\")\nelif user_choice == \"paper\":\n   if bot == \"rock\":\n      print(\"You win! I chose\",bot,\" and you chose\", user_choice , \", Paper beats rock!\")\n   elif bot == \"scissors:\":\n      print(\"You lose! I chose\", bot,\" and you chose\", user_choice , \", Scissors beats paper\")\nelif user_choice == \"scissors\":\n   if bot == \"paper\":\n      print(\"You win! I chose\", bot,\" and you chose\",user_choice, \", Scissors beats paper\")\n   elif bot == \"rock\":\n      print(\"You Lose! I chose\", bot,\" and you chose\", user_choice , \", Rock beats scissors\")\nelse:\nprint(\"Invalid Entry, you typed:\", user_choice, \", Please try again: \")\n\nif user_choice == '-1':\nprint(\"You selected -1 to exit, Goodbye!\")\nexit()\n</code></pre>\n\n<p>also sometimes when I enter paper as my input, I don't get an output, the code just loops back to the beginning, does anyone know why this happens?</p>\n\n<p>Example: \nChoose between Rock, Paper, and Scissors or -1 to exit:</p>\n\n<p>rock</p>\n\n<p>You win! I chose scissors and you chose rock , Rock beat scissors!</p>\n\n<p>Choose between Rock, Paper, and Scissors or -1 to exit:</p>\n\n<p>paper</p>\n\n<p>We tied! I chose paper and you chose paper</p>\n\n<p>Choose between Rock, Paper, and Scissors or -1 to exit:</p>\n\n<p>paper</p>\n\n<p>Choose between Rock, Paper, and Scissors or -1 to exit:\n^no output</p>\n\n<p>scissors</p>\n\n<p>You Lose! I chose rock and you chose scissors , Rock beats scissors</p>\n\n<p>Choose between Rock, Paper, and Scissors or -1 to exit:</p>\n\n<p>paper</p>\n\n<p>Choose between Rock, Paper, and Scissors or -1 to exit:</p>\n\n<p>^ theres no output</p>\n"}]