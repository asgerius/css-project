[{"tags": ["javascript", "python", "beautifulsoup", "web-crawler", "scraper"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500511433, "post_id": 45202951, "comment_id": 77373402, "body": "I can&#39;t reproduce the problem. Your code works for me, but gives me the first <code>&lt;input onclick=&quot;addToVariations(this);&quot; type=&quot;checkbox&quot; value=&quot;abc&quot;&#47;&gt;</code>, but I changed it to <code>find_all(&#39;input&#39;)[2]</code> and got <code>&lt;input onclick=&quot;saveVariations()&quot; type=&quot;button&quot; value=&quot;Save variations&quot;&gt; &lt;&#47;input&gt;</code>"}, {"owner": {"reputation": 121, "user_id": 6101193, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/WXGi2.jpg?s=128&g=1", "display_name": "Daniyal Tariq", "link": "https://stackoverflow.com/users/6101193/daniyal-tariq"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500511583, "post_id": 45202951, "comment_id": 77373436, "body": "Can you tell me how can I select any choice and save?"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500511922, "post_id": 45202951, "comment_id": 77373515, "body": "That is javascript - BeautifulSoup can&#39;t execute javascript. You may want to check out <a href=\"http://selenium-python.readthedocs.io/\" rel=\"nofollow noreferrer\">selenium</a>, <a href=\"http://code.google.com/p/phantomjs/\" rel=\"nofollow noreferrer\">PhantomJS</a>, or <a href=\"http://code.google.com/p/pyv8/\" rel=\"nofollow noreferrer\">pyv8</a>. See this answer: <a href=\"https://stackoverflow.com/a/38298498/1248974\">How can I simulate onclick event in python?</a>"}, {"owner": {"reputation": 121, "user_id": 6101193, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/WXGi2.jpg?s=128&g=1", "display_name": "Daniyal Tariq", "link": "https://stackoverflow.com/users/6101193/daniyal-tariq"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500512390, "post_id": 45202951, "comment_id": 77373636, "body": "selenium is slow, I tried on another project. And each time it opens the browsing and then shows output. Is there a way to do that without opening a browser with selenium."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500512870, "post_id": 45202951, "comment_id": 77373717, "body": "Maybe not with selenium, but <i>maybe</i> <a href=\"http://wwwsearch.sourceforge.net/mechanize/\" rel=\"nofollow noreferrer\">mechanize</a> can do it, see this answer: <a href=\"https://stackoverflow.com/a/16426562/1248974\">How to overcome Javascript \u201conclick\u201d button to scrape web page?</a>. It was highly voted and accepted, so maybe it can."}, {"owner": {"reputation": 121, "user_id": 6101193, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/WXGi2.jpg?s=128&g=1", "display_name": "Daniyal Tariq", "link": "https://stackoverflow.com/users/6101193/daniyal-tariq"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500516103, "post_id": 45202951, "comment_id": 77374512, "body": "I need to do it with the requests, see the above JS code if you can help."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500572452, "post_id": 45202951, "comment_id": 77409576, "body": "I will try, but sorry I&#39;m not skilled in this, maybe @alecxe or someone more knowledgeable can offer ideas."}], "owner": {"reputation": 121, "user_id": 6101193, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/WXGi2.jpg?s=128&g=1", "display_name": "Daniyal Tariq", "link": "https://stackoverflow.com/users/6101193/daniyal-tariq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500512793, "creation_date": 1500508768, "last_edit_date": 1500512793, "question_id": 45202951, "link": "https://stackoverflow.com/questions/45202951/how-to-save-selections-by-invoking-javascript-function-in-crawling-with-python", "title": "How to save selections by invoking JavaScript function in crawling with Python", "body": "<p>After Login I am able to go this page, here is its HTML, JS &amp; Python code. I want to make multiple choices and afterward, I want to save the choice using save button (input type=\"submit\" onclick=\"saveVariations()\") at the bottom of HTML.</p>\n\n<pre><code>    &lt;body&gt;        \n    &lt;tbody&gt;\n\n    &lt;tr&gt;\n      &lt;th scope=\"row\"&gt;abc&lt;/th&gt;\n      &lt;td&gt;1&lt;/td&gt;\n      &lt;td&gt;1.0&lt;/td&gt;\n      &lt;td&gt;&lt;input type=\"checkbox\" value=\"abc\" onclick=\"addToVariations(this);\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n\n    &lt;tr&gt;\n      &lt;th scope=\"row\"&gt;xyz&lt;/th&gt;\n      &lt;td&gt;1&lt;/td&gt;\n      &lt;td&gt;1.0&lt;/td&gt;\n      &lt;td&gt;&lt;input type=\"checkbox\" value=\"xyz\" onclick=\"addToVariations(this);\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    .\n    .\n    .\n    .\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n &lt;input type=\"button\" value=\"Save variations\" onclick=\"saveVariations()\"/&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Here is the Python code; Giving error I am unable to even find the input tag to process the save button.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nclass SessionLogin:\n    def __init__(self, url_login, login, pwd):\n        self.ses = requests.session()\n        login_html = self.ses.get(url_login)\n        soup_login = BeautifulSoup(login_html.content).find('form').find_all('input')\n        my_dict = {}\n\n    # override the inputs without login and pwd:\n        my_dict['username'] = login\n        my_dict['password'] = pwd\n        self.ses.post(url_login,data=my_dict)\n        print(type(soup_login))\n    def get(self, URL):\n        return self.ses.get(URL).text\n\nurl_login = \"url\"\nsession = SessionLogin(url_login, \"username\", \"passwoord\")\n\n\n\nsrcr = session.get(\"url\")\nprint(BeautifulSoup(srcr).find('input'))\n</code></pre>\n\n<p>Following is the Javascript Code</p>\n\n<pre><code>  &lt;script&gt;\n     var selectedVariations = [];\n     function addToVariations(cb) {\n         if (selectedVariations.indexOf(cb.value) &gt; -1) {\n             selectedVariations.splice(selectedVariations.indexOf(cb.value), 1);\n         }\n         else {\n             selectedVariations.push(cb.value);\n         }\n\n         console.log(selectedVariations);\n     }\n\nfunction saveVariations() {\n    if (selectedVariations.length &gt; 0) {\n        console.log(selectedVariations);\n        $.ajax({\n            type: \"POST\"\n            , url: \"/dishes/-K9uHK4M-pu9p9yJGl9a/variations\"\n            , data: JSON.stringify(selectedVariations)\n            , contentType: 'application/json;charset=UTF-8'\n            , success: function (result) {\n                console.log(result.Status);\n                if (result.Status == 200) {\n                    $.notify(\"Succesfully saved variations!\", \"success\");\n                    window.location.href = \"/\";\n                }\n                else {\n                    $.notify(\"Something went wrong!\", \"error\");\n                }\n\n            }\n        });\n    }\n}\n</code></pre>\n\n<p></p>\n"}, {"tags": ["python", "format", "concatenation"], "comments": [{"owner": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "edited": false, "score": 1, "creation_date": 1500508930, "post_id": 45202948, "comment_id": 77372893, "body": "<code>print word + str(x)</code>?"}, {"owner": {"reputation": 778, "user_id": 7637879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pnIQaQJU1c/AAAAAAAAAAI/AAAAAAAAADM/HAnzeUNr9to/photo.jpg?sz=128", "display_name": "Alan Leuthard", "link": "https://stackoverflow.com/users/7637879/alan-leuthard"}, "edited": false, "score": 1, "creation_date": 1500508953, "post_id": 45202948, "comment_id": 77372904, "body": "<code>print &#39;{}{}&#39;.format(word, x)</code> should work"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1500508960, "post_id": 45202948, "comment_id": 77372911, "body": "What output are you expecting?  The problem is that you use <code>word</code> and the formatting string in your <code>print</code> statement, but <code>word</code> does not include any formatting specification (such as <code>%d</code>) for the value of <code>x</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1491, "user_id": 6232148, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9255cf10ac80e07a45561bbe5316a57f?s=128&d=identicon&r=PG&f=1", "display_name": "rma", "link": "https://stackoverflow.com/users/6232148/rma"}, "is_accepted": false, "score": 1, "last_activity_date": 1500508926, "creation_date": 1500508926, "answer_id": 45202974, "question_id": 45202948, "link": "https://stackoverflow.com/questions/45202948/concatenating-variables-and-incremental-numbers-in-python/45202974#45202974", "title": "Concatenating variables and incremental numbers in python", "body": "<p>This means that not all the arguments are being converted in the string. It's because you forgot to add a  \"%d\" to the end of the string. This should work</p>\n\n<pre><code>   In [29]: import random\n        ...: wordList = ['some', 'choice', 'words', 'here']\n        ...: for x in range(0, 10):\n        ...:     word = random.choice(wordList) + \"%d\"\n        ...:     print word %(x)\n        ...:\nhere0\nhere1\nsome2\nwords3\nwords4\nsome5\nhere6\nhere7\nwords8\nwords9\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 778, "user_id": 7637879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pnIQaQJU1c/AAAAAAAAAAI/AAAAAAAAADM/HAnzeUNr9to/photo.jpg?sz=128", "display_name": "Alan Leuthard", "link": "https://stackoverflow.com/users/7637879/alan-leuthard"}, "edited": false, "score": 0, "creation_date": 1500509037, "post_id": 45202976, "comment_id": 77372927, "body": "You can use braces in Python 2"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1500510288, "post_id": 45202976, "comment_id": 77373171, "body": "@Victor You can use braces in 2.6 but you can&#39;t use implicit references, <code>&quot;{0}{1}&quot;.format(...)</code> should work in 2.6 and 3.6. In 3.6, you can add one and use <code>f-strings</code>: <code>f&#39;{random.choice(wordList)}{x}&#39;</code>"}], "tags": [], "owner": {"reputation": 1415, "user_id": 8034149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8494340f27a5deedab7e35f956df63e1?s=128&d=identicon&r=PG&f=1", "display_name": "victor", "link": "https://stackoverflow.com/users/8034149/victor"}, "is_accepted": true, "score": 3, "last_activity_date": 1500510488, "last_edit_date": 1500510488, "creation_date": 1500508944, "answer_id": 45202976, "question_id": 45202948, "link": "https://stackoverflow.com/questions/45202948/concatenating-variables-and-incremental-numbers-in-python/45202976#45202976", "title": "Concatenating variables and incremental numbers in python", "body": "<p>EDIT: Used a more, in my opinion, readable answer based on @Alan Leuthard's comment.</p>\n\n<p>You need to specify where to format inside the string.</p>\n\n<pre><code>for x in range(0, 10):\n    word = random.choice(wordList)\n    print \"%s%d\" %(word, x)\n</code></pre>\n\n<p>Or if you are looking for a oneliner,</p>\n\n<pre><code>for x in range(0, 10):\n    print \"%s%d\" %(random.choice(wordList), x)\n</code></pre>\n\n<p>If you are using Python 2.7+ or 3.x, it is far easier to use braces instead.</p>\n\n<pre><code>for x in range(0, 10):\n    print(\"{}{}\".format(random.choice(wordList), x))\n</code></pre>\n\n<p>But if you want to use braces in Python 2.6</p>\n\n<pre><code>for x in range(0, 10):\n    print(\"{0}{1}\".format(random.choice(wordList), x))\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8334701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iILhX.png?s=128&g=1", "display_name": "Gillian", "link": "https://stackoverflow.com/users/8334701/gillian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 45202976, "answer_count": 2, "score": 1, "last_activity_date": 1500510488, "creation_date": 1500508741, "question_id": 45202948, "link": "https://stackoverflow.com/questions/45202948/concatenating-variables-and-incremental-numbers-in-python", "title": "Concatenating variables and incremental numbers in python", "body": "<p>I have a list of words, and I want to have a loop that picks a random word from it and concatenates the next number onto that word.</p>\n\n<p>So far I have </p>\n\n<pre><code>import random\nwordList = ['some', 'choice', 'words', 'here']\nfor x in range(0, 10):\n    word = random.choice(wordList)\n    print word %(x)\n</code></pre>\n\n<p>which throws the error \"TypeError: not all arguments converted during string formatting\"</p>\n\n<p>I am trying to follow the format of </p>\n\n<pre><code>for x in range(0, 10):\n    print \"number%d\" %(x)\n</code></pre>\n\n<p>which succesfully prints</p>\n\n<p>number0\nnumber1\nnumber2\nnumber3\nnumber4\nnumber5\nnumber6\nnumber7\nnumber8\nnumber9</p>\n\n<p>I assume my problem is with the formatting of the string variable, but I can't figure out how to correct it.  </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 0, "creation_date": 1500508407, "post_id": 45202867, "comment_id": 77372744, "body": "just curious, why do you want that functionality?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 3, "creation_date": 1500508520, "post_id": 45202867, "comment_id": 77372787, "body": "You need to write a specialized equivalent of <code>input</code> using the input and output streams. It will probably involve <code>sys.stdin</code> and <code>sys.stdout</code>."}, {"owner": {"reputation": 3240, "user_id": 1754709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQhqD.png?s=128&g=1", "display_name": "Grimmy", "link": "https://stackoverflow.com/users/1754709/grimmy"}, "edited": false, "score": 3, "creation_date": 1500508595, "post_id": 45202867, "comment_id": 77372808, "body": "Or you can mess around with <a href=\"https://docs.python.org/3/library/curses.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/curses.html</a>"}, {"owner": {"reputation": 191, "user_id": 8180438, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-Ev54NFHxgU4/AAAAAAAAAAI/AAAAAAAAAA0/T7iKIekgmkE/photo.jpg?sz=128", "display_name": "Fahem Moz", "link": "https://stackoverflow.com/users/8180438/fahem-moz"}, "reply_to_user": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 0, "creation_date": 1500508896, "post_id": 45202867, "comment_id": 77372886, "body": "@Prith I am just curious how would I do such thing."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": -1, "last_activity_date": 1500508733, "creation_date": 1500508733, "answer_id": 45202946, "question_id": 45202867, "link": "https://stackoverflow.com/questions/45202867/how-to-input-text-between-two-strings/45202946#45202946", "title": "How to input text between two strings?", "body": "<p>In general you don't get to do that.\nThe problem is that the user commits the input to your program by hitting <code>Enter</code>, which adds a newline to the display.  If you have vertical spacing control on the display, you could back up a line, move to the end, and continue with your output.  Otherwise, you're going to be out of luck ... or worse, you'll have to write your own handlers for <code>stdin</code> and <code>stdout</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1500509360, "post_id": 45203004, "comment_id": 77372990, "body": "<code>msvcrt</code> module is only available on Windows."}, {"owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1500509643, "post_id": 45203004, "comment_id": 77373051, "body": "@zwer Whatever the solution ends up being here, it&#39;s going to be terminal specific.  The above works basically for a dos/command window.  Linux and Mac would have a similar solution but with a different library (curses)."}], "tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": true, "score": 2, "last_activity_date": 1500509603, "last_edit_date": 1500509603, "creation_date": 1500509073, "answer_id": 45203004, "question_id": 45202867, "link": "https://stackoverflow.com/questions/45202867/how-to-input-text-between-two-strings/45203004#45203004", "title": "How to input text between two strings?", "body": "<p>I would suggest the following implementation, which uses <code>msvcrt</code> to read a single char every time and act upon it (treating <code>Enter</code> and <code>Backspace</code> if encountered):</p>\n\n<pre><code>import msvcrt\n\ndef input_between_strings (s, t):\n    res = ''\n    while True:\n        print(s, res, t, sep = '', end = ' \\r')\n        curr = msvcrt.getch()[0]\n        if curr == 13:\n            print()\n            return res\n        elif curr == 8:\n            res = res[:-1]\n        else:\n            res += chr(curr)\n</code></pre>\n\n<p>With your case, you can call it like</p>\n\n<pre><code>result = input_between_strings('&gt;&gt;&gt; Write your name: (', ')')\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 8180438, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-Ev54NFHxgU4/AAAAAAAAAAI/AAAAAAAAAA0/T7iKIekgmkE/photo.jpg?sz=128", "display_name": "Fahem Moz", "link": "https://stackoverflow.com/users/8180438/fahem-moz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 2, "accepted_answer_id": 45203004, "answer_count": 2, "score": 6, "last_activity_date": 1500509769, "creation_date": 1500508194, "question_id": 45202867, "link": "https://stackoverflow.com/questions/45202867/how-to-input-text-between-two-strings", "title": "How to input text between two strings?", "body": "<p>When I have this code</p>\n\n<pre><code>input('Write your name: ')\n</code></pre>\n\n<p>You can write your name after that string. </p>\n\n<pre><code>&gt;&gt;&gt;Write your name: My name\n</code></pre>\n\n<p>But, how to have something display at the end of the input?</p>\n\n<pre><code>&gt;&gt;&gt;Write your name: (Name)\n&gt;&gt;&gt;Write your name: (Name Name)\n&gt;&gt;&gt;Write your name: (Name Name Name)\n</code></pre>\n\n<p>So no matter what you write, the ')' character appears as you are writing?</p>\n"}, {"tags": ["python", "matplotlib", "boxplot", "outliers"], "comments": [{"owner": {"reputation": 1166, "user_id": 4288232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3554c55f06c75c180f95cda6b7fbe82c?s=128&d=identicon&r=PG", "display_name": "TimSC", "link": "https://stackoverflow.com/users/4288232/timsc"}, "edited": false, "score": 0, "creation_date": 1500508302, "post_id": 45202842, "comment_id": 77372716, "body": "Can we see your code?"}, {"owner": {"reputation": 101, "user_id": 6702225, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce36d1114d01e0803069392b8942f4dd?s=128&d=identicon&r=PG&f=1", "display_name": "pavlov", "link": "https://stackoverflow.com/users/6702225/pavlov"}, "reply_to_user": {"reputation": 1166, "user_id": 4288232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3554c55f06c75c180f95cda6b7fbe82c?s=128&d=identicon&r=PG", "display_name": "TimSC", "link": "https://stackoverflow.com/users/4288232/timsc"}, "edited": false, "score": 0, "creation_date": 1500508415, "post_id": 45202842, "comment_id": 77372746, "body": "bp = ax.boxplot(data2plot, sym=&#39;&#39;)"}, {"owner": {"reputation": 101, "user_id": 6702225, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce36d1114d01e0803069392b8942f4dd?s=128&d=identicon&r=PG&f=1", "display_name": "pavlov", "link": "https://stackoverflow.com/users/6702225/pavlov"}, "reply_to_user": {"reputation": 1166, "user_id": 4288232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3554c55f06c75c180f95cda6b7fbe82c?s=128&d=identicon&r=PG", "display_name": "TimSC", "link": "https://stackoverflow.com/users/4288232/timsc"}, "edited": false, "score": 0, "creation_date": 1500508473, "post_id": 45202842, "comment_id": 77372764, "body": "The above will simply make outliers invisible. data2plot is just a list of lists, with each list containing the values each box and whisker are made from. I&#39;d like to construct the box and whiskers for each list after ignoring the outliers."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 1, "creation_date": 1500510217, "post_id": 45202842, "comment_id": 77373160, "body": "Be careful with the underlying statistics. I would expect that removing some outliers will introduce new outliers in the new boxplot. Read <a href=\"https://stackoverflow.com/questions/11882393/matplotlib-disregard-outliers-when-plotting\">this too</a>."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1500544446, "post_id": 45202842, "comment_id": 77388584, "body": "You would need to remove the outliers from your data and then do the boxplot. As this changes your data, there is no predefined function to do that, as you are yourself responsible for manipulating the data."}], "owner": {"reputation": 101, "user_id": 6702225, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce36d1114d01e0803069392b8942f4dd?s=128&d=identicon&r=PG&f=1", "display_name": "pavlov", "link": "https://stackoverflow.com/users/6702225/pavlov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500508004, "creation_date": 1500508004, "question_id": 45202842, "link": "https://stackoverflow.com/questions/45202842/matplotlib-boxplot-ignore-outliers-when-computing-median-etc", "title": "Matplotlib boxplot, ignore outliers when *computing* median, etc.?", "body": "<p>I know it's easy to do a boxplot in matplotib without visualizing the outliers, but it looks like the box plot itself is still computed using the outliers even when you don't display them. </p>\n\n<p>Is there a way to generate the boxplot plot so the result is computed from the data NOT including the outliers?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "dictionary", "pandas-groupby"], "answers": [{"comments": [{"owner": {"reputation": 702, "user_id": 2840697, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/831a2d6e5200fe22ab220918bfe43cb6?s=128&d=identicon&r=PG&f=1", "display_name": "user98235", "link": "https://stackoverflow.com/users/2840697/user98235"}, "edited": false, "score": 0, "creation_date": 1500509221, "post_id": 45202918, "comment_id": 77372965, "body": "Thanks for the answer, but could you also explain how you read the text input as data frame like that?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 702, "user_id": 2840697, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/831a2d6e5200fe22ab220918bfe43cb6?s=128&d=identicon&r=PG&f=1", "display_name": "user98235", "link": "https://stackoverflow.com/users/2840697/user98235"}, "edited": false, "score": 0, "creation_date": 1500509494, "post_id": 45202918, "comment_id": 77373020, "body": "@user98235 Edited my post with setup info. I assumed your data is in a csv file."}, {"owner": {"reputation": 702, "user_id": 2840697, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/831a2d6e5200fe22ab220918bfe43cb6?s=128&d=identicon&r=PG&f=1", "display_name": "user98235", "link": "https://stackoverflow.com/users/2840697/user98235"}, "edited": false, "score": 0, "creation_date": 1500509613, "post_id": 45202918, "comment_id": 77373044, "body": "@COLDSPEED thanks for the answer, but can you also tell me what if it&#39;s a file you just take as the input? For instance, I can just type it."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 702, "user_id": 2840697, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/831a2d6e5200fe22ab220918bfe43cb6?s=128&d=identicon&r=PG&f=1", "display_name": "user98235", "link": "https://stackoverflow.com/users/2840697/user98235"}, "edited": false, "score": 0, "creation_date": 1500509683, "post_id": 45202918, "comment_id": 77373063, "body": "@user98235 This link may be of use to you, if you don&#39;t want to read from a file: <a href=\"https://stackoverflow.com/a/22605281/4909087\">stackoverflow.com/a/22605281/4909087</a>"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 3, "last_activity_date": 1547225426, "last_edit_date": 1547225426, "creation_date": 1500508557, "answer_id": 45202918, "question_id": 45202841, "link": "https://stackoverflow.com/questions/45202841/aggregate-column-values-in-pandas-groupby-as-a-dict/45202918#45202918", "title": "Aggregate column values in pandas GroupBy as a dict", "body": "<p><strong>Setup</strong></p>\n\n<pre><code>df = pd.read_csv('file.csv', header=None)  \ndf.columns = ['Lang', 'product_id', 'shelf_id', 'rank_id']    \n\ndf\n      Lang     product_id  shelf_id  rank_id\n0  English         742005      4560     10.2\n1  English  6000075389352      4560     49.0\n2   French      899883993      4560     32.0\n3   French      731317391      7868     81.0\n</code></pre>\n\n<p>You can use <code>df.groupby</code> to group by <code>Lang</code> and <code>shelf_id</code>. Then use <code>df.apply</code> to get a dictionary of <code>{productid : rankid}</code>:</p>\n\n<pre><code>(df.groupby(['Lang', 'shelf_id'], as_index=False)\n   .apply(lambda x: dict(zip(x['product_id'], x['rank_id'])))\n   .reset_index(name='mapping'))\n\n      Lang  shelf_id                              mapping\n0  English      4560  {6000075389352: 49.0, 742005: 10.2}\n1   French      4560                    {899883993: 32.0}\n2   French      7868                    {731317391: 81.0}\n</code></pre>\n"}], "owner": {"reputation": 702, "user_id": 2840697, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/831a2d6e5200fe22ab220918bfe43cb6?s=128&d=identicon&r=PG&f=1", "display_name": "user98235", "link": "https://stackoverflow.com/users/2840697/user98235"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1647, "favorite_count": 0, "accepted_answer_id": 45202918, "answer_count": 1, "score": 2, "last_activity_date": 1561690365, "creation_date": 1500508003, "last_edit_date": 1561690365, "question_id": 45202841, "link": "https://stackoverflow.com/questions/45202841/aggregate-column-values-in-pandas-groupby-as-a-dict", "title": "Aggregate column values in pandas GroupBy as a dict", "body": "<p>This is the question I had during the interview in the past. </p>\n\n<p>We have the input data having the following columns: </p>\n\n<p>language, product id, shelf id, rank</p>\n\n<p>For instance, the input would have the following format</p>\n\n<pre><code>English, 742005, 4560, 10.2 \nEnglish, 6000075389352, 4560, 49\nFrench, 899883993, 4560, 32\nFrench, 731317391, 7868, 81\n</code></pre>\n\n<p>we would like to do \"group by\" operation on language, shelf id columns and sort the list of products based on sort desc on \"rank\" attribute, which would result in the output having the following format: </p>\n\n<p>Language, shelf_id, {product_id:rank1, product_id:rank2 ....}</p>\n\n<p>for each record. </p>\n\n<p>For the given input, the output would be the following: </p>\n\n<pre><code>English, 4560, {6000075389352:49, 742005:10.2}\nFrench, 4560, 899883993:32\nFrench, 7868, 731317391:81\n</code></pre>\n\n<p>I solved this problem by making a dictionary with the key (which is created by combining the language and shelf id) and inserting the product id, rank for each of the key. </p>\n\n<p>My method worked, but it looks like there's an easier way of doing it using the python pandas library. I've read some references, but I'm still not sure if there's a superior method to what I've done (solving the problem by creating the key using language, shelf id and dictionary having that key)</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "command-line-interface", "argparse"], "comments": [{"owner": {"reputation": 3240, "user_id": 1754709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQhqD.png?s=128&g=1", "display_name": "Grimmy", "link": "https://stackoverflow.com/users/1754709/grimmy"}, "edited": false, "score": 0, "creation_date": 1500507797, "post_id": 45202790, "comment_id": 77372577, "body": "Could be useful if you also shared some code. That might help people to understand what exactly you are trying to achieve."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1500508120, "post_id": 45202790, "comment_id": 77372659, "body": "Why do you need precedence? You can parse your arguments and then check if <code>--list</code> is there before acting on your other arguments."}, {"owner": {"reputation": 817, "user_id": 3609252, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ef4bdf47837fa4e26cc1d018ffa05570?s=128&d=identicon&r=PG&f=1", "display_name": "Mahyar", "link": "https://stackoverflow.com/users/3609252/mahyar"}, "edited": false, "score": 0, "creation_date": 1500508315, "post_id": 45202790, "comment_id": 77372724, "body": "I want <code>.&#47;run.py --list</code> to work. Similar to <code>.&#47;run --help</code> which does not required any other flags/arguments. If I don&#39;t provide all the other arguments, argparser complains about missing arguments."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 8329414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82cde4bff2d3fd08f00004fb4f28665e?s=128&d=identicon&r=PG&f=1", "display_name": "Susan M", "link": "https://stackoverflow.com/users/8329414/susan-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1500508719, "creation_date": 1500508719, "answer_id": 45202945, "question_id": 45202790, "link": "https://stackoverflow.com/questions/45202790/argparser-flag-with-no-argument-with-precedence/45202945#45202945", "title": "Argparser flag with no argument with precedence", "body": "<p>You could use soemthing like this: <br></p>\n\n<pre><code>parser = argparse.ArgumentParser()\nparser.add_argument('--list',action='store_true',help='perform some task')\nparser.add_argument('--input',type=str, required=False, help='input variable')\n\nargs = parser.parse_args()\n\nif args.list:\n    perform_function()\nelif args.input is not None:\n    function(args.input)\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1500510780, "post_id": 45203043, "comment_id": 77373271, "body": "Did you actually try this?  <code>nargs=&quot;2&quot;</code> probably raises some sort of error, either on creation, parsing, or displaying a help."}, {"owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1500511175, "post_id": 45203043, "comment_id": 77373352, "body": "Fixed: don&#39;t use quotes where it&#39;s expecting an integer."}], "tags": [], "owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1500511139, "last_edit_date": 1500511139, "creation_date": 1500509394, "answer_id": 45203043, "question_id": 45202790, "link": "https://stackoverflow.com/questions/45202790/argparser-flag-with-no-argument-with-precedence/45203043#45203043", "title": "Argparser flag with no argument with precedence", "body": "<p>You're missing the <a href=\"https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser.add_argument\" rel=\"nofollow noreferrer\"><code>nargs</code></a> field.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\n\"\"\"Runs using two args and an option input\n\nUsage: ./run.py arg1 arg2 -i input\n\nArguments:\n    arg1/arg2: any order\n\nOptions:\n   -i input\n\"\"\"\nimport argparse\n\nparser = argparse.ArgumentParser(usage=__doc__)\nparser.add_argument(\"pos_args\", help=\"Unknown pos args sequence\", nargs=2)  # '+' for any number of args\nparser.add_argument('-i', dest='input_handler', help=\"input handler\")\n\nargs = parser.parse_args()\n\narg1, arg2 = args.pos_args\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1500511280, "creation_date": 1500511280, "answer_id": 45203285, "question_id": 45202790, "link": "https://stackoverflow.com/questions/45202790/argparser-flag-with-no-argument-with-precedence/45203285#45203285", "title": "Argparser flag with no argument with precedence", "body": "<p><code>-h</code> help takes precedence because it forces sys.exit when encountered.  That is, it has a Action class that prints the help and then exits.</p>\n\n<p>There is a <code>version</code> action class that does something similar - display a message and exit.</p>\n\n<p>All other actions store something in the <code>args</code> Namespace, and continue parsing.  The <code>missing arguments</code> complaint is produced at the end of parsing when it deduces that some positional (or other required) arguments have not been filled.</p>\n\n<p>I can think of several solutions:</p>\n\n<ul>\n<li><p>define a new Action subclass modeled on <code>help</code> or <code>version</code>.  If you take this route, you should do the development, so you know exactly what is happening.</p></li>\n<li><p>change your positionals to something that is optional.  <code>nargs='?'</code> is a possibility, but making flagged is better.  In this case <code>input_handler</code> could be a simple <code>store_true</code> action.</p></li>\n<li><p>use subparsers.  <code>input_handler</code> would be parser that takes no arguments.  The othe subparser would take the 2 positionals.  Look at the subparsers documentation, and the <code>set_defaults</code> note.</p></li>\n</ul>\n"}], "owner": {"reputation": 817, "user_id": 3609252, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ef4bdf47837fa4e26cc1d018ffa05570?s=128&d=identicon&r=PG&f=1", "display_name": "Mahyar", "link": "https://stackoverflow.com/users/3609252/mahyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 711, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1500511280, "creation_date": 1500507647, "last_edit_date": 1500508632, "question_id": 45202790, "link": "https://stackoverflow.com/questions/45202790/argparser-flag-with-no-argument-with-precedence", "title": "Argparser flag with no argument with precedence", "body": "<p>I have couple of positional and optional arguments (using argparser) , now need to add a flag which takes no argument/values and essentially calls a method.</p>\n\n<p>let's say this is the current parser :</p>\n\n<pre><code>./run.py arg1 arg2 -i input\n</code></pre>\n\n<p>here's the brief sample code</p>\n\n<pre><code>parser.add_argument(\"arg1\",\n                    help=\"arg1 handler\")\nparser.add_argument(\"arg2\",\n                    help=\"arg2 handler\")\nparser.add_argument('-i', dest='input_handler',\n                    help=\"input handler\")\n</code></pre>\n\n<p>what I'm looking for is something similar when you use <code>--help</code> which results in showing the help (and <strong>takes precedences on other flags</strong>).\nSo I want to support a special flag (like --help) without worrying about providing all the other flags in the command line. </p>\n\n<p>So something like this should work as well:</p>\n\n<pre><code>./run.py --list\n</code></pre>\n\n<p>I was thinking to use <code>'store_true'</code> to take the flag with no value, but it does not have the precedence over other flags.</p>\n\n<p>any comments/suggestions is really appreciated</p>\n"}, {"tags": ["python", "opencv", "tesseract"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1500527481, "post_id": 45202770, "comment_id": 77377675, "body": "did you try line segment detector?"}], "answers": [{"tags": [], "owner": {"reputation": 5865, "user_id": 45269, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/25c35e90595b236da0fee29edb70db7f?s=128&d=identicon&r=PG", "display_name": "Headcrab", "link": "https://stackoverflow.com/users/45269/headcrab"}, "is_accepted": true, "score": 3, "last_activity_date": 1500524102, "creation_date": 1500524102, "answer_id": 45205077, "question_id": 45202770, "link": "https://stackoverflow.com/questions/45202770/detect-regtangles-in-a-low-contrast-image-using-opencv-in-python-for-reading-by/45205077#45205077", "title": "Detect regtangles in a low contrast image using opencv in python for reading by tesseract", "body": "<p>Only the white labels with \"A-08337\" and such? The following detects all of them on both images:</p>\n\n<pre><code>import numpy as np\nimport cv2\n\nimg = cv2.imread('labels.jpg')\n\n#downscale the image because Canny tends to work better on smaller images\nw, h, c = img.shape\nresize_coeff = 0.25\nimg = cv2.resize(img, (int(resize_coeff*h), int(resize_coeff*w)))\n\n#find edges, then contours\ncanny = cv2.Canny(img, 100, 200)\n_, contours, _ = cv2.findContours(canny, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\n\n#draw the contours, do morphological close operation\n#to close possible small gaps, then find contours again on the result\nw, h, c = img.shape\nblank = np.zeros((w, h)).astype(np.uint8)\ncv2.drawContours(blank, contours, -1, 1, 1)\nblank = cv2.morphologyEx(blank, cv2.MORPH_CLOSE, np.ones((3, 3), np.uint8))\n_, contours, _ = cv2.findContours(blank, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\n\n#keep only contours of more or less correct area and perimeter\ncontours = [c for c in contours if 800 &lt; cv2.contourArea(c) &lt; 1600]\ncontours = [c for c in contours if cv2.arcLength(c, True) &lt; 200]\ncv2.drawContours(img, contours, -1, (0, 0, 255), 1)\n\ncv2.imwrite(\"contours.png\", img)\n</code></pre>\n\n<p>Probably with some additional convexity check you can get rid of the \"Verbatim\" contours and such (for example, only keep contours with near zero difference between their area and their convex hull's area).\n<a href=\"https://i.stack.imgur.com/TccuP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TccuP.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/dR8Ec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dR8Ec.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 43, "user_id": 4415810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b9e6d6cde2fbc3e60e300cc85144f29?s=128&d=identicon&r=PG&f=1", "display_name": "Jaz", "link": "https://stackoverflow.com/users/4415810/jaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1491, "favorite_count": 0, "accepted_answer_id": 45205077, "answer_count": 1, "score": 1, "last_activity_date": 1500524102, "creation_date": 1500507512, "question_id": 45202770, "link": "https://stackoverflow.com/questions/45202770/detect-regtangles-in-a-low-contrast-image-using-opencv-in-python-for-reading-by", "title": "Detect regtangles in a low contrast image using opencv in python for reading by tesseract", "body": "<p>I would like to detect the labels in images like this one for the purpose of extracting the text using tesseract. I have tried various combinations of thresholding and using edge detection. However I can only detect about half of the labels at a time at max. These are a few of the images I've been trying to read the labels from:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2gpUH.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0fLKm.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>All of the labels have the same aspect ratio (the width is 3.5 times larger than the height) so I'm trying to find contours that have a minAreaRect with that same aspect ratio. The hard part is handing the labels on the lighter background. This is the code I have so far:</p>\n\n<pre><code>from PIL import Image\nimport pytesseract\nimport numpy as np\nimport argparse\nimport cv2\nimport os\n\nap = argparse.ArgumentParser()\nap.add_argument(\"-i\", \"--image\", required=True,\n    help=\"path to input image to be OCR'd\")\nargs = vars(ap.parse_args())\n\n#function to crop an image to a minAreaRect\ndef crop_minAreaRect(img, rect):\n    # rotate img\n    angle = rect[2]\n    rows,cols = img.shape[0], img.shape[1]\n    M = cv2.getRotationMatrix2D((cols/2,rows/2),angle,1)\n    img_rot = cv2.warpAffine(img,M,(cols,rows))\n\n    # rotate bounding box\n    rect0 = (rect[0], rect[1], 0.0)\n    box = cv2.boxPoints(rect)\n    pts = np.int0(cv2.transform(np.array([box]), M))[0] \n    pts[pts &lt; 0] = 0\n\n    # crop\n    img_crop = img_rot[pts[1][1]:pts[0][1], \n                       pts[1][0]:pts[2][0]]\n\n    return img_crop\n\n\n\n\n# load image and apply threshold\nimage = cv2.imread(args[\"image\"])\nbw = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n#bw = cv2.threshold(bw, 210, 255, cv2.THRESH_BINARY)[1]\nbw = cv2.adaptiveThreshold(bw, 255, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, 27, 20)\n#do edge detection\nv = np.median(bw)\nsigma = 0.5\nlower = int(max(0, (1.0 - sigma) * v))\nupper = int(min(255, (1.0 + sigma) * v))\nbw = cv2.Canny(bw, lower, upper)\nkernel = np.ones((5,5), np.uint8)\nbw = cv2.dilate(bw,kernel,iterations=1)\n\n#find contours\nimage2, contours, hierarchy = cv2.findContours(bw,cv2.RETR_TREE,cv2.CHAIN_APPROX_SIMPLE)\nbw = cv2.drawContours(bw,contours,0,(0,0,255),2)\ncv2.imwrite(\"edge.png\", bw)\n\n#test which contours have the correct aspect ratio\nlargestarea = 0.0\npasses = []\nfor contour in contours:\n    (x,y),(w,h),a = cv2.minAreaRect(contour)\n    if h &gt; 20 and w &gt; 20:\n        if h &gt; w:\n            maxdim = h\n            mindim = w\n        else:\n            maxdim = w\n            mindim = h\n        ratio = maxdim/mindim\n        print(\"ratio: {}\".format(ratio))\n        if (ratio &gt; 3.4 and ratio &lt; 3.6):\n            passes.append(contour)\nif not passes:\n    print \"no passes\"\n    exit()\n\npassboxes = []\ni = 1\n\n#crop out each label and attemp to extract text\nfor ps in passes:\n    rect = cv2.minAreaRect(ps)\n    bw = crop_minAreaRect(image, rect)\n    cv2.imwrite(\"{}.png\".format(i), bw)\n    i += 1\n    h, w = bw.shape[:2]\n    print str(h) + \"x\" + str(w)\n    if w and h:\n        bw = cv2.cvtColor(bw, cv2.COLOR_BGR2GRAY)\n        bw = cv2.threshold(bw, 50, 255, cv2.THRESH_BINARY | cv2.THRESH_OTSU)[1]\n        cv2.imwrite(\"output.png\", bw)\n        im = Image.open(\"output.png\")\n        w, h = im.size\n        print \"W:{} H:{}\".format(w,h)\n        if h &gt; w:\n            print (\"rotating\")\n            im.rotate(90)\n            im.save(\"output.png\")\n        print pytesseract.image_to_string(Image.open(\"output.png\"))\n        im.rotate(180)\n        im.save(\"output.png\")\n        print pytesseract.image_to_string(Image.open(\"output.png\"))\n        box = cv2.boxPoints(cv2.minAreaRect(ps))\n        passboxes.append(np.int0(box))\n        im.close()\n\ncnts = cv2.drawContours(image,passboxes,0,(0,0,255),2)\ncnts = cv2.drawContours(cnts,contours,-1,(255,255,0),2)\ncnts = cv2.drawContours(cnts, passes, -1, (0,255,0), 3)\ncv2.imwrite(\"output2.png\", image)\n</code></pre>\n\n<p>I believe the problem I have could be the parameters for the thresholding. Or I could be over complicating this.</p>\n"}, {"tags": ["python", "python-2.7", "kivy", "kivy-language"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 7754154, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8095fbb5962d034d245210e2a535e179?s=128&d=identicon&r=PG&f=1", "display_name": "Aiden", "link": "https://stackoverflow.com/users/7754154/aiden"}, "is_accepted": false, "score": 0, "last_activity_date": 1500507492, "creation_date": 1500507492, "answer_id": 45202767, "question_id": 45202766, "link": "https://stackoverflow.com/questions/45202766/how-do-i-get-a-variable-from-py-file-into-kv-file-text-input-widget/45202767#45202767", "title": "How do i get a variable from .py file into .kv file Text_Input widget", "body": "<p>I found a solution.  I was missing the reference for the hint_text field in the buttons on_press command.  See below for working code:</p>\n\n<pre><code>CustButton:\n    text: \"Click for current Time\"\n    on_press: time3.hint_text=root.get_time('dt3')\n\nCustTextInput:\n    id: time3\n    hint_text: \"\"\n    font_size: 25\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 7754154, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8095fbb5962d034d245210e2a535e179?s=128&d=identicon&r=PG&f=1", "display_name": "Aiden", "link": "https://stackoverflow.com/users/7754154/aiden"}, "edited": false, "score": 0, "creation_date": 1500509771, "post_id": 45202807, "comment_id": 77373079, "body": "Thanks for the tip, i actually did end up changing it to text instead on hint_text already.  Noted about on_release but could you explain why it is better to use this instead of on_press please? Cheers"}, {"owner": {"reputation": 5045, "user_id": 7688996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKydk.png?s=128&g=1", "display_name": "Mohd", "link": "https://stackoverflow.com/users/7688996/mohd"}, "reply_to_user": {"reputation": 103, "user_id": 7754154, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8095fbb5962d034d245210e2a535e179?s=128&d=identicon&r=PG&f=1", "display_name": "Aiden", "link": "https://stackoverflow.com/users/7754154/aiden"}, "edited": false, "score": 0, "creation_date": 1500510281, "post_id": 45202807, "comment_id": 77373170, "body": "It is just the behavior of buttons to do the commands when released (in almost everything else) so it would feel normal to whoever use your kivy app :-)"}], "tags": [], "owner": {"reputation": 5045, "user_id": 7688996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKydk.png?s=128&g=1", "display_name": "Mohd", "link": "https://stackoverflow.com/users/7688996/mohd"}, "is_accepted": false, "score": 0, "last_activity_date": 1500508184, "last_edit_date": 1500508184, "creation_date": 1500507744, "answer_id": 45202807, "question_id": 45202766, "link": "https://stackoverflow.com/questions/45202766/how-do-i-get-a-variable-from-py-file-into-kv-file-text-input-widget/45202807#45202807", "title": "How do i get a variable from .py file into .kv file Text_Input widget", "body": "<p>You might want to use <code>time3.text = root.get_time('dt3')</code> instead of <code>hint_text</code> and have <code>readonly: True</code> in <code>CustTextInput</code>. Also it is better to use <code>on_release</code> instead of <code>on_press</code></p>\n\n<pre><code>CustButton:\n    text: \"Click for current Time\"\n    on_release: time3.text=root.get_time('dt3')\n\nCustTextInput:\n    id: time3\n    text: \"\"\n    readonly: True\n    font_size: 25\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 7754154, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8095fbb5962d034d245210e2a535e179?s=128&d=identicon&r=PG&f=1", "display_name": "Aiden", "link": "https://stackoverflow.com/users/7754154/aiden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500508184, "creation_date": 1500507492, "question_id": 45202766, "link": "https://stackoverflow.com/questions/45202766/how-do-i-get-a-variable-from-py-file-into-kv-file-text-input-widget", "title": "How do i get a variable from .py file into .kv file Text_Input widget", "body": "<p>I am trying to have a button in my .kv file update a text_input widget in the .kv file with the current time.  </p>\n\n<p>I have the current time stored in a variable in a function in the .py file.</p>\n\n<pre><code>def get_time(self, event):\n    dt3 = str(datetime.datetime.now().strftime(\"%H-%M\"))\n    return dt3\n</code></pre>\n\n<p>The portion of the .kv file:</p>\n\n<pre><code>CustButton:\n    text: \"Click for current Time\"\n    on_press: time3=root.get_time('dt3')\n\nCustTextInput:\n    id: time3\n    hint_text: \n    font_size: 25\n</code></pre>\n\n<p>I'm not getting any errors but when i click nothing happens.  Im not sure if i need to store 'dt3' in an Object Property to pass is to the .kv file.</p>\n\n<p>Any help would be appreciated.  Thanks.</p>\n"}, {"tags": ["javascript", "python", "html", "google-maps", "pyqt5"], "comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1500507641, "post_id": 45202764, "comment_id": 77372529, "body": "I would suggest sending an AJAX request from Javascript to your Python code. Then the python resource can return the values you need."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1500572751, "post_id": 45202764, "comment_id": 77409737, "body": "Quite simple, really: just load google.maps into a <a href=\"https://doc.qt.io/qt-5/qwebengineview.html\" rel=\"nofollow noreferrer\">QWebEngineView</a>, then use <a href=\"https://doc.qt.io/qt-5/qwebenginepage.html#runJavaScript-2\" rel=\"nofollow noreferrer\">runJavaScript</a> with a callback to get the values."}, {"owner": {"reputation": 95, "user_id": 7848159, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh6.googleusercontent.com/-NGc2IvHenEM/AAAAAAAAAAI/AAAAAAAALKA/Kr-lYmZ_Yr4/photo.jpg?sz=128", "display_name": "Carlo Bianchi", "link": "https://stackoverflow.com/users/7848159/carlo-bianchi"}, "edited": false, "score": 0, "creation_date": 1500572931, "post_id": 45202764, "comment_id": 77409844, "body": "That&#39;s very close to what I am doing, but how do I get a callback? Do you have any example code to post?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1500659539, "post_id": 45202764, "comment_id": 77453722, "body": "@CarloBianchi. Just <a href=\"https://en.wikipedia.org/wiki/Callback_(computer_programming)#Python\" rel=\"nofollow noreferrer\">pass in a python function with one argument</a>, which can then receive the return value of the javascript function. If the return value is a complex object, you could stringify it using json."}, {"owner": {"reputation": 95, "user_id": 7848159, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh6.googleusercontent.com/-NGc2IvHenEM/AAAAAAAAAAI/AAAAAAAALKA/Kr-lYmZ_Yr4/photo.jpg?sz=128", "display_name": "Carlo Bianchi", "link": "https://stackoverflow.com/users/7848159/carlo-bianchi"}, "edited": false, "score": 0, "creation_date": 1500680713, "post_id": 45202764, "comment_id": 77462391, "body": "Well, I know what a callback is, but how do I &quot;receive the return value of the javascript function&quot;. I mean, the question is: how can I pass info from Javascript to Python? At this point the AJAX option or similar seem the only one."}], "answers": [{"tags": [], "owner": {"reputation": 202, "user_id": 5361209, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-Ycl5RjlWtQQ/AAAAAAAAAAI/AAAAAAAAMCM/mzmUNiY3ZiQ/photo.jpg?sz=128", "display_name": "enpaul", "link": "https://stackoverflow.com/users/5361209/enpaul"}, "is_accepted": false, "score": 0, "last_activity_date": 1500508540, "creation_date": 1500508540, "answer_id": 45202913, "question_id": 45202764, "link": "https://stackoverflow.com/questions/45202764/extract-variable-from-javascript-to-python-function/45202913#45202913", "title": "Extract variable from Javascript to Python function", "body": "<p>I am not an expert when it comes to doing python backends for web apps, but I do have experience with PHP and perl in a web environment.</p>\n\n<p>Unless python has a specific utility/library for doing this (and based on your research it sounds like it doesn't) your best bet is to have your JavaScript submit the data via an HTTP POST request using something like <a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow noreferrer\">Ajax and JQuery</a>.</p>\n\n<p>Something like this might work:</p>\n\n<pre><code>// Function called when an HTML button with id of \"Search_Button\" is clicked\n$('#Search_Button').click(function () {\n\n   // Get the values of your lat/long HTML inputs\n   var lat = $('#Latitude_Input').val();\n   var long = $('#Longitude_Input').val();\n\n   // Submit the AJAX request\n   $.ajax({\n     url: \"path/to/your_script.py\", // Path of the python script to do the processing\n     method: \"POST\", // Method to submit the HTTP request as, usually either POST or GET\n     data: { // These are the POST parameters passed to the backend script\n      latitude: lat,\n      longitude: long \n     },\n     success: function (returned_data) { // Function to run if successful, with the function parameter being the output of the url script\n       alert('Here is the output: ' + returned_data);\n     },\n     error: function () { // Function to run if unsuccessful\n       alert('An error occured');\n     }\n   });\n});\n</code></pre>\n\n<p>This should let you take the data from the HTML page and let your python script process it.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/464040/how-are-post-and-get-variables-handled-in-python\">Check out this answer</a> for handling POST/GET requests in python.</p>\n"}], "owner": {"reputation": 95, "user_id": 7848159, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh6.googleusercontent.com/-NGc2IvHenEM/AAAAAAAAAAI/AAAAAAAALKA/Kr-lYmZ_Yr4/photo.jpg?sz=128", "display_name": "Carlo Bianchi", "link": "https://stackoverflow.com/users/7848159/carlo-bianchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1201, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1500569512, "creation_date": 1500507483, "last_edit_date": 1500569512, "question_id": 45202764, "link": "https://stackoverflow.com/questions/45202764/extract-variable-from-javascript-to-python-function", "title": "Extract variable from Javascript to Python function", "body": "<p>I am using PyQt5 to create a small app. At some point I need to let the user select latitude and longitude from a map. After some research, the easiest way to implement a map search seems to be using google maps through some Javascript lines.\nI found this code that does pretty much what I need:</p>\n\n<p><a href=\"https://gis.stackexchange.com/questions/33238/how-do-you-get-the-coordinates-from-a-click-or-drag-event-in-the-google-maps-api/33246#33246?newreg=eeb7c8c7ce344710838fba3d7b111d12\">https://gis.stackexchange.com/questions/33238/how-do-you-get-the-coordinates-from-a-click-or-drag-event-in-the-google-maps-api/33246#33246?newreg=eeb7c8c7ce344710838fba3d7b111d12</a></p>\n\n<p>However, I need to use in my python function the coordinates selected by the user. How can I pass to python the latitude and longitude selected in the Javaascript code (\"latLng\")? I read a bunch of similar questions on many forums but I can't figure out how to solve my problem. I would expect to find a very simple solution.\nMy code is something like:</p>\n\n<pre><code>def latlong_function():\n\n        html='''\n &lt;html&gt;  &lt;head&gt; ....  ....\n'''\n\nprint(coordinates)\n\nreturn html\n</code></pre>\n"}, {"tags": ["python", "windows", "environment-variables", "windows-10", "environment"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1500513123, "post_id": 45202732, "comment_id": 77373777, "body": "It would be better to avoid the dependency on global <code>ctypes.windll.user32</code> to instead use <code>user32 = ctypes.WinDLL(&#39;user32&#39;, use_last_error=True)</code>. (The global <code>windll</code> loader was a bad idea and never should have been added to ctypes.) Also, check <code>last_error = ctypes.get_last_error()</code> for errors such as <code>ERROR_TIMEOUT</code> if <code>result</code> is 0. You can handle the error locally or <code>raise ctypes.WinError(last_error)</code> to let the caller handle it."}, {"owner": {"reputation": 99, "user_id": 2710160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6b33a3616b02adf8a066f0d7c1a355ff?s=128&d=identicon&r=PG&f=1", "display_name": "destructo", "link": "https://stackoverflow.com/users/2710160/destructo"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1500830106, "post_id": 45202732, "comment_id": 77498399, "body": "Thanks for the tip! I&#39;ll mod the code with your suggestions!"}], "answers": [{"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1500512704, "post_id": 45203408, "comment_id": 77373694, "body": "AFAIK it shouldn&#39;t work in Windows 7 either. The shell reloads the environment in 4 passes. First it loads the <code>REG_SZ</code> system values and then the <code>REG_EXPAND_SZ</code> system values that should depend only on <code>REG_SZ</code> system values. Next it loads the user&#39;s <code>REG_SZ</code> values and then the user&#39;s <code>REG_EXPAND_SZ</code> values that should depend only on system values and <code>REG_SZ</code> user values. Then the user <code>Path</code> gets appended to the system <code>Path</code>."}, {"owner": {"reputation": 99, "user_id": 2710160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6b33a3616b02adf8a066f0d7c1a355ff?s=128&d=identicon&r=PG&f=1", "display_name": "destructo", "link": "https://stackoverflow.com/users/2710160/destructo"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1500513006, "post_id": 45203408, "comment_id": 77373747, "body": "Color me confused - but yes, it has worked in Win7 on our production machines for years. Maybe a bug on Win7 when it <i>shoudn&#39;t</i> have worked?"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1500513227, "post_id": 45203408, "comment_id": 77373798, "body": "I don&#39;t know. I&#39;ll try to check later when I have access to a Windows 7 machine."}], "tags": [], "owner": {"reputation": 99, "user_id": 2710160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6b33a3616b02adf8a066f0d7c1a355ff?s=128&d=identicon&r=PG&f=1", "display_name": "destructo", "link": "https://stackoverflow.com/users/2710160/destructo"}, "is_accepted": true, "score": 1, "last_activity_date": 1500512235, "creation_date": 1500512235, "answer_id": 45203408, "question_id": 45202732, "link": "https://stackoverflow.com/questions/45202732/programmatically-refreshing-environment-variable-references-in-path-windows-10/45203408#45203408", "title": "Programmatically Refreshing Environment Variable References in PATH (Windows 10)", "body": "<p>I messed around with a few things and found what (I think) is the issue.</p>\n\n<p>Basically, every registry key I was setting was of type REG_EXPAND_SZ. In Windows 7, this seemed to work fine. However, this won't force a re-expansion of my variable in Windows 10 unless my XXX key is set to REG_SZ. If I do that, then windows will properly update the variable reference.</p>\n"}], "owner": {"reputation": 99, "user_id": 2710160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6b33a3616b02adf8a066f0d7c1a355ff?s=128&d=identicon&r=PG&f=1", "display_name": "destructo", "link": "https://stackoverflow.com/users/2710160/destructo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 888, "favorite_count": 0, "accepted_answer_id": 45203408, "answer_count": 1, "score": 1, "last_activity_date": 1500512235, "creation_date": 1500507294, "question_id": 45202732, "link": "https://stackoverflow.com/questions/45202732/programmatically-refreshing-environment-variable-references-in-path-windows-10", "title": "Programmatically Refreshing Environment Variable References in PATH (Windows 10)", "body": "<p><strong>Background</strong></p>\n\n<p>I have a Python script that sets environment variables into the registry, then <a href=\"https://support.microsoft.com/en-us/help/104011/how-to-propagate-environment-variables-to-the-system\" rel=\"nofollow noreferrer\">broadcasts an update using the WinSDK</a> to tell the system a variable was updated. This behaves similar to setx and the manual Environment Variable UI. This works great in Windows 7.</p>\n\n<p>However, in Windows 10, it <em>almost</em> works. </p>\n\n<p><strong>Here is my issue</strong></p>\n\n<ol>\n<li>I set an environment variable (XXX = c:\\my_dir)</li>\n<li>I then insert a reference to XXX into the PATH variable via the registry. I made sure to use the REG_EXPAND_SZ type.</li>\n<li>I then broadcast the update.</li>\n<li>When I restart a new cmd.exe shell, I can see my new variable XXX (echo %XXX%), however, the reference to XXX is not properly expanded when I view the PATH.</li>\n<li>In order to get my path update to stick, I need to either manually go into the Environment Variables UI and \"edit\" the path, or I need to log in and log out.</li>\n</ol>\n\n<p>The weird thing is that this only affects PATH. If I add my reference to another variable (PYTHONPATH, for example), everything seems to work as intended.</p>\n\n<p><strong>What I've Tried</strong></p>\n\n<ul>\n<li>Killing the explorer.exe tasktree and restarting</li>\n<li>Sub-processing out to setx works, but I'd like to keep my implementation in pure python.</li>\n</ul>\n\n<p><strong>Update Environment Code</strong></p>\n\n<pre><code>import ctypes\n\ndef update_environment():\n    \"\"\"Uses ctypes to send a message to all windows that the environment has\n    been updated. This has the same effect as pressing the 'OK' button in the\n    windows environment variables dialog.\n\n    References:\n        https://support.microsoft.com/en-us/kb/104011\"\"\"\n    wm_settingchange = 0x001A\n    hwnd_broadcast = wintypes.HWND(0xffff)\n    smto_abortifhung = 0x0002\n    env_message = ctypes.create_unicode_buffer('Environment')\n    result = ctypes.windll.user32.SendMessageTimeoutW(hwnd_broadcast,\n                                                      wm_settingchange,\n                                                      0,\n                                                      env_message,\n                                                      smto_abortifhung,\n                                                      5000,\n                                                      0)\n    return result\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>Are there any other known ways to force windows 10 to refresh the environment (specifically the environment references in PATH)?</p>\n"}, {"tags": ["python", "python-3.x", "class", "object"], "comments": [{"owner": {"reputation": 449, "user_id": 2569972, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000034412539/picture?type=large", "display_name": "Jace J McPherson", "link": "https://stackoverflow.com/users/2569972/jace-j-mcpherson"}, "edited": false, "score": 2, "creation_date": 1500507313, "post_id": 45202715, "comment_id": 77372449, "body": "Your code will get stuck in the while loop in MyDaemon won&#39;t it? That&#39;s why your code is never reaching firstfunction()."}, {"owner": {"reputation": 306, "user_id": 5998601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8QdAI.jpg?s=128&g=1", "display_name": "Sanjay", "link": "https://stackoverflow.com/users/5998601/sanjay"}, "edited": false, "score": 0, "creation_date": 1500507616, "post_id": 45202715, "comment_id": 77372516, "body": "The <code>while True</code> condition in the <code>run()</code> method will keep your program in the loop forever. Did you intend to have some other condition instead?"}, {"owner": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "edited": false, "score": 0, "creation_date": 1500507627, "post_id": 45202715, "comment_id": 77372523, "body": "actually I have to write the next instructions in def run(self) of class &quot;daemon&quot;, but at the moment I didn&#39;t write anything because I asked what I can do to pass to the other commands out of class, like in the last line &quot;firstfunction()&quot;. How can I do?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1500549183, "post_id": 45202715, "comment_id": 77391862, "body": "Just out of curiosity, are you going to keep asking the same question (and deleting the previous) each day until someone writes your project for you or at least a course-level tutorial on threading?"}], "answers": [{"comments": [{"owner": {"reputation": 1226, "user_id": 7395227, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/whPXG.png?s=128&g=1", "display_name": "Andreas detests censorship", "link": "https://stackoverflow.com/users/7395227/andreas-detests-censorship"}, "reply_to_user": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "edited": false, "score": 0, "creation_date": 1500507833, "post_id": 45202782, "comment_id": 77372586, "body": "@AllExJ Not so sure about that. Long time since I programmed in Python. If I&#39;m right, you&#39;ll need multithreading or multiprocessing. You then won&#39;t need a daemon, if the process will quit when your program does. When starting a process, code continues to the next line while the process works. I will lookup on multithreading, and create an example here. :)"}, {"owner": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "edited": false, "score": 0, "creation_date": 1500509475, "post_id": 45202782, "comment_id": 77373014, "body": "thanks a lot!! so in the funcion &quot;my_function&quot; I have to put the code to convert the process to daemon right?"}, {"owner": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "edited": false, "score": 0, "creation_date": 1500509622, "post_id": 45202782, "comment_id": 77373047, "body": "and if I wanted to use another threading class for other parts of code? can I do that I must use &quot;MyTread&quot; class for everithing?"}, {"owner": {"reputation": 1226, "user_id": 7395227, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/whPXG.png?s=128&g=1", "display_name": "Andreas detests censorship", "link": "https://stackoverflow.com/users/7395227/andreas-detests-censorship"}, "reply_to_user": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "edited": false, "score": 0, "creation_date": 1500510528, "post_id": 45202782, "comment_id": 77373229, "body": "@AllExJ Thank you for helping. If this was the answer you were seeking, could you mark it that? :) Hope it&#39;s all resolved."}, {"owner": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "edited": false, "score": 0, "creation_date": 1500535731, "post_id": 45202782, "comment_id": 77382174, "body": "terminal tells me: &quot;RuntimeError: cannot set daemon status of active thread&quot;"}, {"owner": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "edited": false, "score": 0, "creation_date": 1500535898, "post_id": 45202782, "comment_id": 77382308, "body": "solved, I just needed to move &quot;thread.setDaemon(True)&quot; before &quot;thread.start()&quot; But anyway the program, if closed, isn&#39;t executing in background"}, {"owner": {"reputation": 1226, "user_id": 7395227, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/whPXG.png?s=128&g=1", "display_name": "Andreas detests censorship", "link": "https://stackoverflow.com/users/7395227/andreas-detests-censorship"}, "reply_to_user": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "edited": false, "score": 0, "creation_date": 1500548466, "post_id": 45202782, "comment_id": 77391417, "body": "@AllExJ That is rather strange, since I copied your new code into a .py file, and it all works fine. <code>my_function</code> successfully executes. All I changed was to add <code>pass</code> to <code>def daemonize(self):</code>"}], "tags": [], "owner": {"reputation": 1226, "user_id": 7395227, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/whPXG.png?s=128&g=1", "display_name": "Andreas detests censorship", "link": "https://stackoverflow.com/users/7395227/andreas-detests-censorship"}, "is_accepted": true, "score": 2, "last_activity_date": 1500595037, "last_edit_date": 1500595037, "creation_date": 1500507572, "answer_id": 45202782, "question_id": 45202715, "link": "https://stackoverflow.com/questions/45202715/python-threading-execute-simultaneously/45202782#45202782", "title": "Python - Threading - execute simultaneously", "body": "<p>You may use the <code>break</code>keyword to exit loops, and continue to the next line. <code>return</code> can be used to exit functions.</p>\n\n<pre><code>class daemon:\n    def start(self):\n        self.run()\n\n    def run(self):\n        while True:\n            break\n        return\n        print()  # This never executes\n</code></pre>\n\n<p>If you want MyDaemon to run alongside the rest of your code, you have to make it a process or thread. Code then automatically continues to the next line, while the MyDaemon class (thread/process) runs.</p>\n\n<pre><code>import threading  \n\n\nclass MyThread(threading.Thread):\n    def __init__(self):\n        threading.Thread.__init__(self)\n\n    def run(self):\n        print(\"Thread started\")\n        while True:\n            pass\n\n\ndef my_function():\n    print(\"MyFunction executed\")\n\nthread = MyThread()\nthread.start()        # executes run(self)\nmy_function()\n</code></pre>\n\n<p>This code produces the following result:</p>\n\n<pre><code>Thread started\nMyFunction executed\n</code></pre>\n\n<p>To make <code>thread</code> a daemon, you can use <code>thread.setDaemon(True)</code>. That function must be called before the thread is started:</p>\n\n<pre><code>thread = MyThread()\nthread.setDaemon(True)\nthread.start()\nmy_function()\n</code></pre>\n"}], "owner": {"reputation": 875, "user_id": 5953720, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/102fb352eea7d793a4a2979659b9c73a?s=128&d=identicon&r=PG&f=1", "display_name": "Sperly1987", "link": "https://stackoverflow.com/users/5953720/sperly1987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1219, "favorite_count": 0, "accepted_answer_id": 45202782, "answer_count": 1, "score": 0, "last_activity_date": 1500595037, "creation_date": 1500507172, "last_edit_date": 1500563008, "question_id": 45202715, "link": "https://stackoverflow.com/questions/45202715/python-threading-execute-simultaneously", "title": "Python - Threading - execute simultaneously", "body": "<p>I have this example code:</p>\n\n<pre><code># some imports that I'm not including in the question\n\nclass daemon:\n    def start(self):\n        # do something, I'm not including what this script does to not write useless code to the question\n        self.run()\n\n    def run(self):\n        \"\"\"You should override this method when you subclass Daemon.\n\n        It will be called after the process has been daemonized by \n        start() or restart().\n        \"\"\"\n\nclass MyDaemon(daemon):\n    def run(self):\n        while True:\n            time.sleep(1)\n\nif __name__ == \"__main__\":\n    daemonz = MyDaemon('/tmp/daemon-example.pid')\n    daemonz.start()\n\ndef firstfunction():\n    # do something\n    secondfunction()\n\ndef secondfunction():\n    # do something\n    thirdfunction()\n\ndef thirdfunction():\n    # do something\n\n# here are some variables set that I am not writing\nfirstfunction()\n</code></pre>\n\n<p>How can I exit from the run(self) function of class \"daemon\" and going on executing the firstfunction() like written in the last line? I'm a newbie with Python, and I'm trying to learn</p>\n\n<p><strong># EDIT</strong>\nI managed to implement the daemon class into the treading class. But I'm in the same situation of first, the script stays in daemon class and doesn't execute the other lines.</p>\n\n<pre><code>class MyThread(threading.Thread):\n    def __init__(self):\n        threading.Thread.__init__(self)\n\n    def daemonize(self):\n    # istructions to daemonize my script process\n\n    def run(self):\n        self.daemonize()\n\n\ndef my_function():\n    print(\"MyFunction executed\") # never executed\n\nthread = MyThread()\nthread.start()\nmy_function() # the process is successfully damonized but\n              # this function is never executed\n</code></pre>\n"}, {"tags": ["python", "postgresql", "sqlalchemy"], "comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1500550781, "post_id": 45202696, "comment_id": 77393027, "body": "What&#39;s the question? Are you looking for <a href=\"http://docs.sqlalchemy.org/en/latest/core/constraints.html#functional-indexes\" rel=\"nofollow noreferrer\">how to define a functional index</a>?"}, {"owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1500566867, "post_id": 45202696, "comment_id": 77406206, "body": "I&#39;m not sure I know enough to ask the right question.  Within the <b>table_args</b>, though, I have a <code># ????</code>.  I think I need to massage that line to produce the sql I want.  I just do not know where to look or what the nomenclature is for sqlalchemy to find it.  Defining a function might be the right thing, but it&#39;s non-obvious from the documentation how to mix everything together (postgres GIST, TSRANGE, SQLAlchemy Index, SQA functional index, etc.)"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1500577049, "post_id": 45202696, "comment_id": 77412361, "body": "You might run in to this <a href=\"https://stackoverflow.com/questions/42153301/flask-sqlalchemy-lower-case-index-skipping-functional-not-supported-by-sqlalc\" title=\"flask sqlalchemy lower case index skipping functional not supported by sqlalc\">stackoverflow.com/questions/42153301/&hellip;</a> with alembic."}], "answers": [{"comments": [{"owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "edited": false, "score": 0, "creation_date": 1500577249, "post_id": 45222907, "comment_id": 77412469, "body": "Awesome!  Will try that out in a bit.  Thanks!"}], "tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 7, "last_activity_date": 1500576334, "creation_date": 1500576334, "answer_id": 45222907, "question_id": 45202696, "link": "https://stackoverflow.com/questions/45202696/sqlalchemy-declarative-orm-build-index-using-gist-and-tsrange/45222907#45222907", "title": "SQLAlchemy: Declarative ORM - build index using GIST and TSRANGE", "body": "<p>SQLAlchemy's Index supports passing <a href=\"http://docs.sqlalchemy.org/en/latest/core/constraints.html#functional-indexes\" rel=\"noreferrer\">SQL function expressions</a>, given that the backend supports functional indexes:</p>\n\n<pre><code>import sqlalchemy as sa\n\nclass Tablename(Mixins):\n\n    start = sa.Column(pg.TIMESTAMP, autoincrement=False, primary_key=True)\n    end = sa.Column(pg.TIMESTAMP, nullable=False)\n\n    __table_args__ = (\n        sa.Index('index_name', sa.func.tsrange(start, end),\n                 postgresql_using=\"gist\"),\n        {'schema': 'schema'}\n        )\n</code></pre>\n\n<p>Note that if you move the <code>__table_args__</code> definition after the column attribute definitions, you can use them in your SQL function expression.</p>\n"}], "owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1149, "favorite_count": 1, "accepted_answer_id": 45222907, "answer_count": 1, "score": 2, "last_activity_date": 1500576334, "creation_date": 1500507069, "question_id": 45202696, "link": "https://stackoverflow.com/questions/45202696/sqlalchemy-declarative-orm-build-index-using-gist-and-tsrange", "title": "SQLAlchemy: Declarative ORM - build index using GIST and TSRANGE", "body": "<p>I'd like to build an index that essentially looks like this in sql:</p>\n\n<pre><code>CREATE INDEX IF NOT EXISTS new_index ON schema.tablename USING gist (tsrange(start, \"end\"))\n</code></pre>\n\n<p>Where my declarative ORM model looks something like this:</p>\n\n<pre><code>import sqlalchemy as sa\n\nclass Tablename(Mixins):\n\n    __table_args__ = (\n        sa.Index('index_name', postgresql_using=\"gist\"),  # ????\n        {'schema': 'schema'}\n        )\n\n    start = sa.Column(pg.TIMESTAMP, autoincrement=False, primary_key=True)\n    end = sa.Column(pg.TIMESTAMP, nullable=False)\n</code></pre>\n\n<p>And later, I'd like to use <code>alembic</code> which should include a downgrade such as:</p>\n\n<pre><code> op.drop_index('index', 'tablename', schema='schema')\n</code></pre>\n\n<p>Which effectively has the following SQL:</p>\n\n<pre><code> DROP INDEX IF EXISTS schema.index\n</code></pre>\n"}, {"tags": ["python", "pandas", "ubuntu-14.04"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500507125, "post_id": 45202682, "comment_id": 77372399, "body": "Is it excel? You will want <code>pandas.read_excel</code> instead."}, {"owner": {"reputation": 849, "user_id": 3842845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/51bIs.jpg?s=128&g=1", "display_name": "Java", "link": "https://stackoverflow.com/users/3842845/java"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500508203, "post_id": 45202682, "comment_id": 77372688, "body": "I modified the code as shown (from: pandas.read_csv --&gt; pandas.read_excel), but still getting the same error."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500508241, "post_id": 45202682, "comment_id": 77372697, "body": "Can you clarify if it&#39;s a csv or an xlsx?"}, {"owner": {"reputation": 849, "user_id": 3842845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/51bIs.jpg?s=128&g=1", "display_name": "Java", "link": "https://stackoverflow.com/users/3842845/java"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500508829, "post_id": 45202682, "comment_id": 77372873, "body": "Looks like it is nothing to do with code. I commented out the codes, and getting the same error. When I commented out &quot;import pandas&quot;, error is gone. It is xls file."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500508892, "post_id": 45202682, "comment_id": 77372884, "body": "I see. Are you on the latest pandas version? If not, better upgrade to 0.20."}, {"owner": {"reputation": 849, "user_id": 3842845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/51bIs.jpg?s=128&g=1", "display_name": "Java", "link": "https://stackoverflow.com/users/3842845/java"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500511182, "post_id": 45202682, "comment_id": 77373354, "body": "I tried with this command. 1) sudo apt-get install python-pip  2) sudo pip install numpy  3) sudo pip install pandas  Would it be sufficient?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500511242, "post_id": 45202682, "comment_id": 77373368, "body": "Also do <code>pip install --upgrade pandas</code>"}, {"owner": {"reputation": 849, "user_id": 3842845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/51bIs.jpg?s=128&g=1", "display_name": "Java", "link": "https://stackoverflow.com/users/3842845/java"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500511517, "post_id": 45202682, "comment_id": 77373423, "body": "That works. Thank you!"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500511755, "post_id": 45202682, "comment_id": 77373479, "body": "Yup, no problem."}], "owner": {"reputation": 849, "user_id": 3842845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/51bIs.jpg?s=128&g=1", "display_name": "Java", "link": "https://stackoverflow.com/users/3842845/java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 546, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500511324, "creation_date": 1500506966, "last_edit_date": 1500511324, "question_id": 45202682, "link": "https://stackoverflow.com/questions/45202682/python-typeerror-expected-string-or-buffer-using-pandas", "title": "Python TypeError: expected string or buffer using Pandas", "body": "<p>I am trying to run a Python script to extract certain column from an Excel file.</p>\n\n<p>I found Pandas might be a good solution, so I tried with following code:</p>\n\n<pre><code>import pandas\n\nfor filename in InFileslist:\n    fields = ['MRN']\n    df = pandas.read_excel(filename, skipinitialspace=True, usecols=fields)\n    print df.keys()\n    print df.MRN\n</code></pre>\n\n<p>And below is the error message that I got.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/FetchingData_v3.py\", line 10, in &lt;module&gt;\n    import pandas\n  File \"/usr/local/lib/python2.7/dist-packages/pandas/__init__.py\", line 45, in &lt;module&gt;\n    from pandas.io.api import *\n  File \"/usr/local/lib/python2.7/dist-packages/pandas/io/api.py\", line 15, in &lt;module&gt;\n    from pandas.io.gbq import read_gbq\n  File \"/usr/local/lib/python2.7/dist-packages/pandas/io/gbq.py\", line 52, in &lt;module&gt;\n    if LooseVersion(_GOOGLE_FLAGS_VERSION &gt;= '2.0.0'):\n  File \"/usr/lib/python2.7/distutils/version.py\", line 265, in __init__\nself.parse(vstring)\n  File \"/usr/lib/python2.7/distutils/version.py\", line 274, in parse\nself.component_re.split(vstring))\nTypeError: expected string or buffer\n</code></pre>\n\n<p>I am not sure whether this is something to do with Pandas installation issue or code issue.</p>\n"}, {"tags": ["javascript", "python", "phantomjs"], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 7462154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/701c33c41f8a2cc32229b613c0d32106?s=128&d=identicon&r=PG&f=1", "display_name": "V0lvox337", "link": "https://stackoverflow.com/users/7462154/v0lvox337"}, "edited": false, "score": 0, "creation_date": 1500545236, "post_id": 45204300, "comment_id": 77389198, "body": "Do you know, how i can do this in casper ?  var casper = require(&#39;casper&#39;).create();  casper.start(&quot;<a href=\"http://leya2.eu/\" rel=\"nofollow noreferrer\">leya2.eu</a>&quot;, function() { \twindow.setTimeout(function () { \tcasper.render(&quot;leya2.jpg&quot;); \tconsole.log(casper.content);"}, {"owner": {"reputation": 13061, "user_id": 2715393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwuRh.jpg?s=128&g=1", "display_name": "Vaviloff", "link": "https://stackoverflow.com/users/2715393/vaviloff"}, "reply_to_user": {"reputation": 132, "user_id": 7462154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/701c33c41f8a2cc32229b613c0d32106?s=128&d=identicon&r=PG&f=1", "display_name": "V0lvox337", "link": "https://stackoverflow.com/users/7462154/v0lvox337"}, "edited": false, "score": 0, "creation_date": 1500618117, "post_id": 45204300, "comment_id": 77426386, "body": "You should probably open another question."}], "tags": [], "owner": {"reputation": 13061, "user_id": 2715393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwuRh.jpg?s=128&g=1", "display_name": "Vaviloff", "link": "https://stackoverflow.com/users/2715393/vaviloff"}, "is_accepted": true, "score": 0, "last_activity_date": 1500519256, "creation_date": 1500519256, "answer_id": 45204300, "question_id": 45202678, "link": "https://stackoverflow.com/questions/45202678/http-request-post-with-javascript-using-java-python/45204300#45204300", "title": "http request POST with javascript using Java/Python?", "body": "<p>Here's a working script to access your target site. Notice a built-in variable <code>page.content</code>:</p>\n\n<pre><code>var page = require(\"webpage\").create(),\n    url = \"http://leya2.eu/\";\n\n\npage.open(url, function (status) {\n    if (status !== 'success') {\n        console.log('Unable to load the address!');\n        phantom.exit();\n    } else {\n        window.setTimeout(function () {\n            page.render(\"leya2.jpg\");\n            console.log(page.content);\n            phantom.exit();\n        }, 10000); \n    }\n});\n</code></pre>\n\n<p>Produces <a href=\"https://i.imgur.com/FdWEnJZ.jpg\" rel=\"nofollow noreferrer\">this screenshot</a> on PhantomJS version 2.5b for Windows.</p>\n"}], "owner": {"reputation": 132, "user_id": 7462154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/701c33c41f8a2cc32229b613c0d32106?s=128&d=identicon&r=PG&f=1", "display_name": "V0lvox337", "link": "https://stackoverflow.com/users/7462154/v0lvox337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 1, "accepted_answer_id": 45204300, "answer_count": 1, "score": -1, "last_activity_date": 1500556646, "creation_date": 1500506928, "last_edit_date": 1500507587, "question_id": 45202678, "link": "https://stackoverflow.com/questions/45202678/http-request-post-with-javascript-using-java-python", "title": "http request POST with javascript using Java/Python?", "body": "<p>I try to connect to <a href=\"http://leya2.eu/\" rel=\"nofollow noreferrer\">http://leya2.eu/</a>.\nI\u00b4ve tried a lot of things... the problem is to run the Script on the Website.\nI do want to do it with Python or Java... last thing i tried was PhatomJS, but i only got the BlazingFast Page like everytime.</p>\n\n<p>The Problem is this script:</p>\n\n<pre><code>var XHR=\"onload\"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest,xhr=new XHR;var ww = $(window).width();xhr.open(\"GET\",\"/___S___/?rid=CLYVwTkbSONnYzhmsnBo6AhooeCoHsgxayFRarvktEYBIdpcL2aQPVoW7U32QGrh&amp;sid=\" + ww +\"&amp;d=leya2.eu&amp;tz=1500505915.508\",true),xhr.onreadystatechange=function(){if(4==xhr.readyState&amp;&amp;(xhr.status==200)){var t=document.createElement(\"script\");t.type=\"text/javascript\",t.text=xhr.responseText,document.body.appendChild(t)}},xhr.send(null);function wait(){}; setTimeout(wait(),4000);\n</code></pre>\n\n<p>So maybe someone got an idea ?</p>\n\n<p>my standard script is like:</p>\n\n<pre><code>from urllib.request import urlopen\nfrom urllib.parse import urlencode\n\nurl = 'http://evidence-server.com/?s=login'\nresponse = urlopen(url, urlencode(data).encode(\"utf-8\"))\ncontent = response.read().decode(response.headers.get_content_charset())\nprint(content)\n</code></pre>\n\n<p>This allready was near:</p>\n\n<pre><code>var page = require(\"webpage\").create(),\n    url = \"http://leya2.eu/\";\n\nfunction onPageReady() {\n    var htmlContent = page.evaluate(function () {\n        return document.documentElement.outerHTML;\n    });\n\n    console.log(htmlContent);\n\n    phantom.exit();\n}\npage.open(url, function (status) {\n    if (status !== 'success') {\n        console.log('Unable to load the address!');\n        phantom.exit();\n    } else {\n        window.setTimeout(function () {\n            console.log(htmlContent);\n            phantom.exit();\n        }, 5000); \n    }\n});\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 2, "creation_date": 1500507011, "post_id": 45202671, "comment_id": 77372362, "body": "The corresponding itertools function would probably be <a href=\"https://docs.python.org/3/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\">product</a>, but i usually would keep your original code."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3017223, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d2078097151a4d1d6175564359fac38?s=128&d=identicon&r=PG&f=1", "display_name": "deathbycode", "link": "https://stackoverflow.com/users/3017223/deathbycode"}, "edited": false, "score": 0, "creation_date": 1500507633, "post_id": 45202718, "comment_id": 77372526, "body": "Thanks @wim, this does the job without using itertools. Awesome :)"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 3, "last_activity_date": 1500507178, "creation_date": 1500507178, "answer_id": 45202718, "question_id": 45202671, "link": "https://stackoverflow.com/questions/45202671/is-there-a-more-pythonic-way-to-generate-the-following-list/45202718#45202718", "title": "Is there a more pythonic way to generate the following list?", "body": "<p>Simple list comprehension would be my choice:</p>\n\n<pre><code>&gt;&gt;&gt; [x + y for x in 'abcdefgh' for y in '01234567']\n['a0',\n 'a1',\n 'a2',\n 'a3',\n ...\n 'h7']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75362, "user_id": 625403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/786eed7da67079cb5d63a49d469af25b?s=128&d=identicon&r=PG", "display_name": "amalloy", "link": "https://stackoverflow.com/users/625403/amalloy"}, "is_accepted": false, "score": 0, "last_activity_date": 1500507234, "creation_date": 1500507234, "answer_id": 45202727, "question_id": 45202671, "link": "https://stackoverflow.com/questions/45202671/is-there-a-more-pythonic-way-to-generate-the-following-list/45202727#45202727", "title": "Is there a more pythonic way to generate the following list?", "body": "<p>I would simply write</p>\n\n<pre><code> [letter + number for letter in 'abcdefgh' for number in '01234567']\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3017223, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d2078097151a4d1d6175564359fac38?s=128&d=identicon&r=PG&f=1", "display_name": "deathbycode", "link": "https://stackoverflow.com/users/3017223/deathbycode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1500507217, "accepted_answer_id": 45202718, "answer_count": 2, "score": 1, "last_activity_date": 1500507234, "creation_date": 1500506884, "last_edit_date": 1500507043, "question_id": 45202671, "link": "https://stackoverflow.com/questions/45202671/is-there-a-more-pythonic-way-to-generate-the-following-list", "closed_reason": "Duplicate", "title": "Is there a more pythonic way to generate the following list?", "body": "<p>List:</p>\n\n<pre><code>['a0', 'a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', \n 'b0', 'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7',\n 'c0', 'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7',\n 'd0', 'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7',\n 'e0', 'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7',\n 'f0', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7',\n 'g0', 'g1', 'g2', 'g3', 'g4', 'g5', 'g6', 'g7',\n 'h0', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'h7']\n</code></pre>\n\n<p>I've tried using itertools but have not been successful,</p>\n\n<p>My code currently to generate the above list is:</p>\n\n<pre><code>dmi_list = []\nfor i in range(ord('a'), ord('i')):\n  for j in range(0,8):\n     dmi_list.append(chr(i)+str(j))\n\nprint(dmi_list)\n</code></pre>\n"}, {"tags": ["python", "pandas", "diff", "nan"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1500506921, "post_id": 45202659, "comment_id": 77372338, "body": "Can you use a filter with the condition <code>item == item</code>?  <code>NaN</code> will fail a comparison to itself."}, {"owner": {"reputation": 297, "user_id": 8062277, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-Fu7HUBSCcp0/AAAAAAAAAAI/AAAAAAAAABA/mp_9R9DPAJI/photo.jpg?sz=128", "display_name": "S.G. Harmonia", "link": "https://stackoverflow.com/users/8062277/s-g-harmonia"}, "edited": false, "score": 0, "creation_date": 1500506966, "post_id": 45202659, "comment_id": 77372351, "body": "Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 2386, "user_id": 5550203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2588a3f1b1a7705f3d3a4312823c22a?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold Klein", "link": "https://stackoverflow.com/users/5550203/arnold-klein"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1500507069, "post_id": 45202659, "comment_id": 77372379, "body": "@Prune, can you explain please?"}], "answers": [{"comments": [{"owner": {"reputation": 2386, "user_id": 5550203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2588a3f1b1a7705f3d3a4312823c22a?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold Klein", "link": "https://stackoverflow.com/users/5550203/arnold-klein"}, "edited": false, "score": 0, "creation_date": 1500508027, "post_id": 45202774, "comment_id": 77372628, "body": "I am bit confused, as I do not normally run comparison while differentiating. I understand what you mean, however, I can&#39;t see the step of filtering in my case."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 2386, "user_id": 5550203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2588a3f1b1a7705f3d3a4312823c22a?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold Klein", "link": "https://stackoverflow.com/users/5550203/arnold-klein"}, "edited": false, "score": 0, "creation_date": 1500508474, "post_id": 45202774, "comment_id": 77372765, "body": "Can you edit your posting with the code you&#39;d use for &quot;normally&quot;?  This will help focus answers."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1500507521, "creation_date": 1500507521, "answer_id": 45202774, "question_id": 45202659, "link": "https://stackoverflow.com/questions/45202659/ignore-nan-in-diff-with-pandas/45202774#45202774", "title": "ignore NaN in .diff() with Pandas", "body": "<p>I assume that you already know how to compute differences when all the values are filled in.  Use that process, but modify the comparison step.  Whatever you use to compare existing values, include a filter to accept only <code>item</code>s for which <code>item == item</code>.</p>\n\n<p>By definition, <code>Nan</code> will fail <em>any</em> comparison operation.  <code>NaN == NaN</code> is <code>False</code>; <code>NaN != NaN</code> is also <code>False</code>.  If you include a condition that the time must be equal to itself, you filter out <code>Nan</code> and <code>Inf</code> entries.</p>\n\n<p>Is that enough to let you continue?</p>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1500517443, "creation_date": 1500517443, "answer_id": 45204025, "question_id": 45202659, "link": "https://stackoverflow.com/questions/45202659/ignore-nan-in-diff-with-pandas/45204025#45204025", "title": "ignore NaN in .diff() with Pandas", "body": "<p>I'm going to use <code>np.argsort</code> on the truth values of null-ness with <code>mergesort</code> to ensure I preserve the order of non-nulls.</p>\n\n<pre><code>v = df.values\na = (~np.isnan(v)).argsort(1, kind='mergesort')\nb = v[np.arange(a.shape[0])[:, None], a]\n\nb\n\n[[ nan  nan  nan   7.   5.   8.]\n [ nan  nan  nan   7.   5.   8.]\n [ nan  nan  nan   5.   8.   7.]\n [ nan  nan  nan  nan   8.   7.]\n [ nan  nan  nan   8.   7.  10.]\n [ nan  nan  nan   8.   7.  10.]\n [ nan  nan  nan  nan   7.  10.]\n [ nan  nan  nan   7.  10.   9.]\n [ nan  nan  nan  10.   9.   6.]\n [ nan  nan  10.   9.   6.   6.]]\n</code></pre>\n\n<p>I'll then drop columns with all nulls and place back into a dataframe</p>\n\n<pre><code>pd.DataFrame(b[:, ~np.isnan(b).all(0)], df.index)\n\n       0     1     2     3\n20   NaN   7.0   5.0   8.0\n21   NaN   7.0   5.0   8.0\n22   NaN   5.0   8.0   7.0\n23   NaN   NaN   8.0   7.0\n24   NaN   8.0   7.0  10.0\n25   NaN   8.0   7.0  10.0\n26   NaN   NaN   7.0  10.0\n27   NaN   7.0  10.0   9.0\n28   NaN  10.0   9.0   6.0\n29  10.0   9.0   6.0   6.0\n</code></pre>\n"}], "owner": {"reputation": 2386, "user_id": 5550203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2588a3f1b1a7705f3d3a4312823c22a?s=128&d=identicon&r=PG&f=1", "display_name": "Arnold Klein", "link": "https://stackoverflow.com/users/5550203/arnold-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4159, "favorite_count": 0, "accepted_answer_id": 45204025, "answer_count": 2, "score": 2, "last_activity_date": 1500517443, "creation_date": 1500506814, "question_id": 45202659, "link": "https://stackoverflow.com/questions/45202659/ignore-nan-in-diff-with-pandas", "title": "ignore NaN in .diff() with Pandas", "body": "<p>I need to compute differences between elements along axis=1 for each row ignoring the missing values (NaN). For example:</p>\n\n<pre><code>       0     1     2     3     4     5\n20   NaN   7.0   5.0   NaN   NaN   8.0\n21   7.0   5.0   NaN   NaN   8.0   NaN\n22   5.0   NaN   NaN   8.0   NaN   7.0\n23   NaN   NaN   8.0   NaN   7.0   NaN\n24   NaN   8.0   NaN   7.0   NaN  10.0\n25   8.0   NaN   7.0   NaN  10.0   NaN\n26   NaN   7.0   NaN  10.0   NaN   NaN\n27   7.0   NaN  10.0   NaN   NaN   9.0\n28   NaN  10.0   NaN   NaN   9.0   6.0\n29  10.0   NaN   NaN   9.0   6.0   6.0\n</code></pre>\n\n<p>so, ideally I need to get :</p>\n\n<pre><code> 7.0   5.0   8.0\n 7.0   5.0   8.0\n 5.0   8.0   7.0\n       8.0   7.0\n 8.0   7.0  10.0\n</code></pre>\n\n<p>then I can apply standard .diff(axis=1) and get what I need. However, I'm struggling to extract non NaN values from each row. Any ideas?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500506617, "post_id": 45202607, "comment_id": 77372236, "body": "Are you trying to write a numpy array to a binary file? Do you care how it is done?"}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1500506827, "creation_date": 1500506827, "answer_id": 45202661, "question_id": 45202607, "link": "https://stackoverflow.com/questions/45202607/issue-when-writing-a-list-to-binary-file/45202661#45202661", "title": "Issue when writing a list to binary file", "body": "<p><code>posiResponse</code> and <code>negaResponse</code> are lists. Numpy has ways that enable you to easily write to files. Here's one way using <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.tofile.html\" rel=\"nofollow noreferrer\"><code>np.ndarray.tofile</code></a>:</p>\n\n<pre><code>def write_to_binary_file(X, y):\n    ... # populate posiResponse and negaResponse here\n\n    np.array(posiResponse).tofile('POS.bin')\n    np.array(negaResponse).tofile('NEG.bin')\n</code></pre>\n\n<p>Alternatively, you may retain these data structures as lists and then use the <a href=\"https://docs.python.org/2/library/pickle.html#pickle.dump\" rel=\"nofollow noreferrer\"><code>pickle.dump</code></a> from the <code>pickle</code> module to dump your data:</p>\n\n<pre><code>import pickle\ndef write_to_binary_file(X, y):\n    ... # populate posiResponse and negaResponse here\n\n    pickle.dump(posiResponse, open('POS.bin', 'wb'))\n    pickle.dump(negaResponse, open('NEG.bin', 'wb'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": false, "score": 0, "last_activity_date": 1500508063, "last_edit_date": 1500508063, "creation_date": 1500507736, "answer_id": 45202806, "question_id": 45202607, "link": "https://stackoverflow.com/questions/45202607/issue-when-writing-a-list-to-binary-file/45202806#45202806", "title": "Issue when writing a list to binary file", "body": "<p>Alternatively to @COLDSPEED's answer you can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.save.html\" rel=\"nofollow noreferrer\"><code>numpy.save</code></a>:</p>\n\n<pre><code>def write_to_binary_file(X, y):\n    posiResponse = []\n    negaResponse = []\n    for idx, res in enumerate(y):\n        if res == 1:\n            posiResponse.extend(X[idx])\n        else:\n            negaResponse.extend(X[idx])\n    np.save('POS', posiResponse)\n    np.save('NEG', negaResponse)\n</code></pre>\n\n<p>Unfortunately, it will add extension <code>npy</code>.</p>\n\n<p>Later, you can load lists back as:</p>\n\n<pre><code>posiResponse = np.load('POS.npy').tolist()\n</code></pre>\n"}], "owner": {"reputation": 852, "user_id": 7902058, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/624bb806e1a9197a8fa9c264898bdac6?s=128&d=identicon&r=PG&f=1", "display_name": "Medo", "link": "https://stackoverflow.com/users/7902058/medo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 45202661, "answer_count": 2, "score": 0, "last_activity_date": 1500508063, "creation_date": 1500506433, "question_id": 45202607, "link": "https://stackoverflow.com/questions/45202607/issue-when-writing-a-list-to-binary-file", "title": "Issue when writing a list to binary file", "body": "<p>I have a matrix X of size (<code>n*n</code>) that I want to write into two separate binary files (i.e., n/2 of rows that satisfies a condition must go to a file and the remaining to another). I wrote it as the following code:</p>\n\n<pre><code>def write_to_binary_file(X, y):\n    posiResponse = []\n    negaResponse = []\n    for idx, res in enumerate(y):\n        if res == 1:\n            posiResponse.extend(X[idx])\n        else:\n            negaResponse.extend(X[idx])\n\n    with open(\"POS.bin\", mode='wb') as file1:\n        file1.write(bytearray(posiResponse))\n    file1.close()\n    with open(\"NEG.bin\", mode='wb') as file2:\n        file2.write(bytearray(negaResponse))\n    file2.close()\n</code></pre>\n\n<p>I get an error that complains about the arrays and how I use <code>bytearray()</code> but I don't know how to tweak it:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"exper.py\", line 173, in &lt;module&gt;\n    write_data(X, y)\n  File \"exper.py.py\", line 47, in write_data\n    file1.write(bytearray(posiResponse))\nTypeError: an integer or string of size 1 is required\n</code></pre>\n\n<p>Kindly, can someone provide a good fix? Thank you.</p>\n"}, {"tags": ["python", "arrays", "formatting"], "comments": [{"owner": {"reputation": 449, "user_id": 2569972, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000034412539/picture?type=large", "display_name": "Jace J McPherson", "link": "https://stackoverflow.com/users/2569972/jace-j-mcpherson"}, "edited": false, "score": 0, "creation_date": 1500507108, "post_id": 45202598, "comment_id": 77372394, "body": "I&#39;ve found the answer you&#39;re looking for here: <a href=\"https://stackoverflow.com/questions/3470398/list-of-integers-into-string-byte-array-python\" title=\"list of integers into string byte array python\">stackoverflow.com/questions/3470398/&hellip;</a>        array.array(&#39;B&#39;, data).tostring()"}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1500507389, "creation_date": 1500507389, "answer_id": 45202748, "question_id": 45202598, "link": "https://stackoverflow.com/questions/45202598/how-to-convert-between-the-byte-format-that-looks-like-8-200-1-16-to-the-on/45202748#45202748", "title": "How to convert between the byte format that looks like [8, 200, 1, 16] to the one that looks like b&#39;\\x08\\xc8\\x01\\x10\\xc8 in python", "body": "<p>Piece of cake in Python 3:</p>\n\n<pre><code>&gt;&gt;&gt; L = [8, 200, 1, 16, 200, 1, 24, 200, 1, 34, 21, 8, 1, 18, 17, 98, 97, 116, 116, 108, 101, 95, 116, 97]\n&gt;&gt;&gt; bytes(L)\nb'\\x08\\xc8\\x01\\x10\\xc8\\x01\\x18\\xc8\\x01\"\\x15\\x08\\x01\\x12\\x11battle_ta'\n</code></pre>\n\n<p>If you're back on Python 2:</p>\n\n<pre><code>&gt;&gt;&gt; L = [8, 200, 1, 16, 200, 1, 24, 200, 1, 34, 21, 8, 1, 18, 17, 98, 97, 116, 116, 108, 101, 95, 116, 97]\n&gt;&gt;&gt; str(bytearray(L))\n'\\x08\\xc8\\x01\\x10\\xc8\\x01\\x18\\xc8\\x01\"\\x15\\x08\\x01\\x12\\x11battle_ta'\n</code></pre>\n"}], "owner": {"reputation": 1182, "user_id": 3605761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FpjNP.png?s=128&g=1", "display_name": "Eden", "link": "https://stackoverflow.com/users/3605761/eden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500507389, "creation_date": 1500506356, "question_id": 45202598, "link": "https://stackoverflow.com/questions/45202598/how-to-convert-between-the-byte-format-that-looks-like-8-200-1-16-to-the-on", "title": "How to convert between the byte format that looks like [8, 200, 1, 16] to the one that looks like b&#39;\\x08\\xc8\\x01\\x10\\xc8 in python", "body": "<p>I'm not sure what this type of byte array format is called in python:<br>\n<strong>Format A:</strong><br>\n<code>[8, 200, 1, 16, 200, 1, 24, 200, 1, 34, 21, 8, 1, 18, 17, 98, 97, 116, 116, 108, 101, 95, 116, 97]</code><br>\nbut I'd like to convert it into this format (the name of which I\u2019m also unsure of):<br>\n<strong>Format B:</strong><br>\n<code>b'\\x08\\xc8\\x01\\x10\\xc8\\x01\\x18\\xc8\\x01\"\\x15\\x08\\x01\\x12'</code></p>\n\n<p>I know how to get from Format B to Format A:<br>\n<code>import array\ndata =b'\\x08\\xc8\\x01\\x10\\xc8'\nprint array.array('B', data))\n</code>\nbut I'm unsure of how to get from Format A to Format B, and because I also don't know the names of either format, the google results I've gotten have been sparse. </p>\n"}, {"tags": ["python", "windows", "batch-file", "scheduled-tasks"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1500515563, "post_id": 45202592, "comment_id": 77374400, "body": "You don&#39;t need the CMD shell at all. Use the fully-qualified path to python.exe, and the arguments could be, for example, <code>-c &quot;import os, sys; os.environ[&#39;PATH&#39;] += r&#39;C:\\Python27\\ArcGIS10.5;C:\\Python27\\ArcGIS10.5\\Scripts&#39;; sys.path.append(r&#39;\\\\moss\\scripts\\Automated&#39;); import dbAudit; dbAudit.propInsDate()&quot;</code>."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1500515848, "post_id": 45202592, "comment_id": 77374459, "body": "Also, look into creating a package for your scripts that define setuptools function entry points. When installed from a wheel package, the entry points will be wrapped as executables in the &quot;Scripts&quot; directory, which you can run directly."}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 4250655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zW2Ym.jpg?s=128&g=1", "display_name": "Benno", "link": "https://stackoverflow.com/users/4250655/benno"}, "is_accepted": true, "score": 0, "last_activity_date": 1501032661, "last_edit_date": 1592644375, "creation_date": 1501032661, "answer_id": 45315971, "question_id": 45202592, "link": "https://stackoverflow.com/questions/45202592/converting-a-bat-file-into-a-windows-scheduled-task-action/45315971#45315971", "title": "Converting a .bat file into a Windows Scheduled Task Action", "body": "<p>eryksun has provided the correct answer, but has posted it as a comment, so I cannot mark it as the correct answer, so I will paste his reply here:</p>\n<blockquote>\n<p>You don't need the CMD shell at all. Use the fully-qualified path to\npython.exe, and the arguments could be, for example,</p>\n<p>-c &quot;import os,\nsys; os.environ['PATH'] +=  r'C:\\Python27\\ArcGIS10.5;C:\\Python27\\ArcGIS10.5\\Scripts'; sys.path.append(r'\\moss\\scripts\\Automated'); import dbAudit; dbAudit.propInsDate()&quot;</p>\n</blockquote>\n<p>\u2013 eryksun Jul 20 at 1:52</p>\n"}], "owner": {"reputation": 99, "user_id": 4250655, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zW2Ym.jpg?s=128&g=1", "display_name": "Benno", "link": "https://stackoverflow.com/users/4250655/benno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 45315971, "answer_count": 1, "score": 1, "last_activity_date": 1501032661, "creation_date": 1500506322, "question_id": 45202592, "link": "https://stackoverflow.com/questions/45202592/converting-a-bat-file-into-a-windows-scheduled-task-action", "title": "Converting a .bat file into a Windows Scheduled Task Action", "body": "<p>I currently have a .bat file with this code that is called by a windows scheduled task, and it runs perfectly (<strong>note</strong> I am not running the entire py script, just a function from within):</p>\n\n<pre><code>SET PATH=c:\\python27\\ArcGIS10.5\\;c:\\Windows\\system32\\;C:\\Python27\\ArcGIS10.5\\Scripts\npython -c \"import sys;sys.path.append(r'\\\\moss\\scripts\\Automated');import dbAudit;dbAudit.propInsDate()\"\n</code></pre>\n\n<p>I am trying to remove the need for all my tasks to rely on .bat files, when the .py file resides in the same directory, and it is perfectly callable.</p>\n\n<p>Just as an initial stab in the dark I have tried adding this to the Program/Script box:</p>\n\n<pre><code>C:\\Windows\\System32\\cmd.exe\n</code></pre>\n\n<p>and then added this to the arguments box:</p>\n\n<pre><code>python -c \"import sys;sys.path.append(r'\\\\moss\\scripts\\Automated');import dbAudit;dbAudit.propInsDate()\"\n</code></pre>\n\n<p>This seems to fail, as I don't think my conversion is that simple, and I can see i have not included any of the 'set path' items.</p>\n\n<p>Do you think that my bat file is able to be taken out of the equation and it can all be done directly in the Windows Scheduled Task?</p>\n\n<p>Thanks for your assistance.</p>\n"}, {"tags": ["python", "python-2.7", "url", "cherrypy"], "comments": [{"owner": {"reputation": 416, "user_id": 8222554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sP6jo.jpg?s=128&g=1", "display_name": "stephen", "link": "https://stackoverflow.com/users/8222554/stephen"}, "edited": false, "score": 0, "creation_date": 1500571458, "post_id": 45202545, "comment_id": 77409027, "body": "For now I have just moved all the pages which require having requests in the url to my base directory for the website. If anyone knows how to keep those pages in my other directory which requires authentication it would be great"}, {"owner": {"reputation": 613, "user_id": 595220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411092932361d175e66a92a2960599fe?s=128&d=identicon&r=PG", "display_name": "webknjaz", "link": "https://stackoverflow.com/users/595220/webknjaz"}, "edited": false, "score": 0, "creation_date": 1501794764, "post_id": 45202545, "comment_id": 77950809, "body": "Obviously, you need to mount your application to <code>&#47;protected</code> route. But nobody is going to help you unless you describe your setup and provide a reproducible code example."}], "owner": {"reputation": 416, "user_id": 8222554, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sP6jo.jpg?s=128&g=1", "display_name": "stephen", "link": "https://stackoverflow.com/users/8222554/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500505975, "creation_date": 1500505975, "question_id": 45202545, "link": "https://stackoverflow.com/questions/45202545/unexpected-query-string-parameters-error-when-page-is-not-in-base-directory-with", "title": "Unexpected query string parameters error when page is not in base directory with Cherrypy", "body": "<p>I am currently building a website using cherrypy and have run into an error when attempting to open a page with a query string in the url <code>http://localhost:8080/protected/my_page.html?pk=3e4e285c-ed33-403e-a7a1-6b79b5f8356d</code> included I get an error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Python27\\lib\\site-packages\\cherrypy\\_cprequest.py\", line 670, in respond\n    response.body = self.handler()\n  File \"C:\\Python27\\lib\\site-packages\\cherrypy\\lib\\encoding.py\", line 221, in __call__\n    self.body = self.oldhandler(*args, **kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\cherrypy\\_cpdispatch.py\", line 66, in __call__\n    raise sys.exc_info()[1]\nHTTPError: (404, 'Unexpected query string parameters: pk')\n</code></pre>\n\n<p>I currently host this page in a /protected/ directory which requires authentication. But, if I move a copy of the page back to my root dir (/wwwroot) and then attempt to load the exact same url (besides the /protected/) <code>http://localhost:8080/my_page.html?pk=3e4e285c-ed33-403e-a7a1-6b79b5f8356d</code> my page loads successfully and all the fields are populated with the data I expect that matches my query. That then though leaves that page available for anyone to access rather than require authentication.</p>\n\n<p>The page currently should load and if the query string is in the url it should get the value from this line of python code <code>pk = context.get(\"pk\", default = \"\")</code> and then there is a DB lookup using the cx_Oracle python module and the pk variable to find the matching record to display on the page. I tried commenting out the pk variable assignment from my page to see if it would work but I am greeted with the same error.</p>\n\n<p>Besides just moving the page to my base directory to make it work, does anyone have any idea how to resolve this error?</p>\n"}, {"tags": ["python", "win32com"], "comments": [{"owner": {"reputation": 1091, "user_id": 9497687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54b9d1d94a58d81bd43a7ae50b567d6?s=128&d=identicon&r=PG&f=1", "display_name": "jeschwar", "link": "https://stackoverflow.com/users/9497687/jeschwar"}, "edited": false, "score": 0, "creation_date": 1534789143, "post_id": 45202543, "comment_id": 90822902, "body": "are you allowed to use the <code>pandas</code> package?  Reading your data into Python&#39;s memory with <code>pd.read_excel()</code> is very easy."}], "owner": {"reputation": 47, "user_id": 8322820, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7abdd51c01dd48a0d85bcbff998e5c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/8322820/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3130, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500508892, "creation_date": 1500505961, "last_edit_date": 1500508892, "question_id": 45202543, "link": "https://stackoverflow.com/questions/45202543/reading-excel-files-win32com-client", "title": "Reading Excel Files/win32com.client", "body": "<p>I am writing a code where I link Excel into PSSE. I am using the <code>win32</code> module because my school does not allow use of the modules <code>xlrd</code>, <code>openpyxl</code>, and <code>csv</code>. So my goal in the code was to initially read the excel file using <code>win32</code> module. </p>\n\n<p>It read the files but I am trying to do the following:</p>\n\n<ul>\n<li>read the first column so it would represent the <em>year</em></li>\n<li>second column is <em>bus number</em></li>\n<li>third column is <em>bus name</em></li>\n<li>fourth column is <em>Power</em></li>\n<li>sixth column is <em>Area</em></li>\n<li>last column is <em>location ID</em>. </li>\n</ul>\n\n<p>I have posted a snippet of the excel sheet of the format of my page. My next goal is to link year and location together as the criteria for finding the <em>busnum, busname,</em> and <em>power</em>. I would use a <code>raw_input()</code> for the <em>year</em> and the <em>location</em> and if <em>location</em> and <em>year</em> are entered, the output should give me the <em>bus number</em>, <em>bus name</em>, and <em>power</em>. </p>\n\n<p>My code is shown below and this is was my idea for doing code. It does not run and I tried everything and nothing works.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FPLxk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FPLxk.jpg\" alt=\"Excel Sheet\"></a></p>\n\n<pre><code>import os, sys\nimport psspy\nimport win32com.client\nfrom win32com.client import Dispatch\n\nPSSE_LOCATION = r\"C:\\Program Files (x86)\\PTI\\PSSE33\\PSSBIN\"\nsys.path.append(PSSE_LOCATION)\nos.environ['PATH'] = os.environ['PATH'] + ';' + PSSE_LOCATION\n\nxlApp = Dispatch (\"Excel.Application\")   #Calls for Excel\nxlWb = xlApp.Workbooks.Open('Load forecast 12152016.xlsx')    #It finds the workbook\nxlSht = xlWb.Worksheets (18)   \ndataList = []\n\nfor row in range (2,760): #It goes through the 758 items in A and B\n    for col in (1,2,3,4,5):\n         dataList.append(xlSht.Cells(row,col))\n\nmydict = {}\nfor row in dataList:\n    year = xlSht.Cells[1:760,1]\n    busnnum = row[B2:B760]\n    busname = row[C2:C760]\n    Power = row[D2:D760]\n    Area = row[E2:E760]\n    location = row[F2:F760]\n\n# convert the types from string to Python numbers\n\nchange= float(change)\nbus = int(busnum)\n\n#If this is a year not seen before, add it to the dictionary\nif year not in mydict:\n    mydict[year] = {}\n\nbusses_in_year = mydict[year]\nif location not in busses_in_year:\n    busses_in_year[location] = []\n\n\n #Add the bus to the list of busses that stop at this location\nbusses_in_year[location].append((busnum,busname,power))\n\nyear = raw_input(\"Please Select Year of Study: \")\nprint(\"\\n\")\n\ncommands = [\"M\", \"As\", \"Br\", \"D\",\n            \"V\", \"G\",\"W\",\"E\",\"S\",\"E\",\n            \"Ea\",\"DU\",\"Cor\",\"Asto\",\n            \"AV\",\"A\"]\nmax_columns = 50\n\nfor index, commands in enumerate(commands):\n    stars_amount = max(max_columns - len(commands), 0)\n    row = \"# {} {}({})\".format(commands, \".\" * stars_amount, index + 1)\n    print row\n\n    location=raw_input(\" \\n The list above show the TLA Pockets as well as the ID numbers assigned to them ()\\n\\n Please enter the ID #: \")\n    print(\"\\n\")\n\n\n# assume CSV has columns as described in the doc string\nif year in mydict and location in mydict[year]:  \n    busses_in_year = mydict[year]\n    print(\"Here are all the busses at that location for that year and the new LOAD TOTAL: \")\n    print(\"\\n\")\n\n    for busnum,busname,change in busses_in_year[location]:\n        change= float(change)\n        busnum = int(busnum)\n        print('Bus #: %d' % busnum ,'Area Station: %s'% busname, 'New_load: %d MW' %change)\n\n\n        psspy.bsys(1,0,[0.0,0.0],0,[],1,[busnum],0,[],0,[])\n        psspy.scal_2(1,0,1,[0,0,0,0,0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0])\n        psspy.scal_2(0,1,2,[0,1,0,1,0],[change,0.0,0,-.0,0.0,-.0,0])\n</code></pre>\n"}, {"tags": ["python", "django", "django-migrations", "virtual-environment"], "comments": [{"owner": {"reputation": 2656, "user_id": 199236, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/9I7VP.png?s=128&g=1", "display_name": "alfonso.kim", "link": "https://stackoverflow.com/users/199236/alfonso-kim"}, "edited": false, "score": 0, "creation_date": 1500507823, "post_id": 45202535, "comment_id": 77372584, "body": "so when you use <code>django_extensions</code> you need <code>django_images</code> too ?"}, {"owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "reply_to_user": {"reputation": 2656, "user_id": 199236, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/9I7VP.png?s=128&g=1", "display_name": "alfonso.kim", "link": "https://stackoverflow.com/users/199236/alfonso-kim"}, "edited": false, "score": 0, "creation_date": 1500507931, "post_id": 45202535, "comment_id": 77372606, "body": "Yes I use <code>django_images</code> in my models."}, {"owner": {"reputation": 6188, "user_id": 784648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ce12343afb67ff0bf132f30b0ca9c5?s=128&d=identicon&r=PG", "display_name": "A. J. Parr", "link": "https://stackoverflow.com/users/784648/a-j-parr"}, "edited": false, "score": 0, "creation_date": 1500507976, "post_id": 45202535, "comment_id": 77372617, "body": "If you&#39;ve <i>duplicated</i> your original virtualenv and then installed jupyter and django-extensions, then it should still have django-images installed and not complain about those migrations missing."}, {"owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "edited": false, "score": 0, "creation_date": 1500508220, "post_id": 45202535, "comment_id": 77372692, "body": "I duplicated the venv with <code>pip install -r requirements.txt</code>. Now <code>django_images</code> is installed in both environments but there is a migration file missing in the second."}, {"owner": {"reputation": 3240, "user_id": 1754709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQhqD.png?s=128&g=1", "display_name": "Grimmy", "link": "https://stackoverflow.com/users/1754709/grimmy"}, "edited": false, "score": 0, "creation_date": 1500508417, "post_id": 45202535, "comment_id": 77372747, "body": "If you are worried about messing up virtualenvs, then you are doing something wrong. They should be disposable and easy to re-create at any point in time."}], "answers": [{"tags": [], "owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "is_accepted": true, "score": 3, "last_activity_date": 1500508320, "creation_date": 1500508320, "answer_id": 45202886, "question_id": 45202535, "link": "https://stackoverflow.com/questions/45202535/two-virtual-environments-for-a-single-django-project/45202886#45202886", "title": "Two virtual environments for a single Django project?", "body": "<p>I think the confusion here is what you should do.  In any standard project, you should have a hand-cultivated list of project dependencies.  Most django users put that list into <code>requirements.txt</code> (usually recommended) or <code>setup.py</code>.  You can always have multiple requirements:  requirements-test.txt, requirements-dev.txt, etc.  Use <code>-r requirements.txt</code> at the top of the other files to \"import\" other requirements:</p>\n\n<pre><code># requirements.txt\ndjango=1.11.3\n</code></pre>\n\n<p>and then...</p>\n\n<pre><code># requirements-test.txt\n-r requirements.txt\npytest\ntox\n</code></pre>\n\n<p>and finally...</p>\n\n<pre><code># requirements-dev.txt\n-r requirements-test.txt\nipython\npdbpp\njupyter\n</code></pre>\n\n<p>Your goal is to have whatever you need for your project to run within the first file.  It doesn't matter if your virtual environment has more than enough.  And additionally, you should use something like <code>tox</code> to test out if your requirements.txt actually contains exactly what it needs.  Hope that helps.</p>\n"}], "owner": {"reputation": 12178, "user_id": 1388292, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mfJ7p.jpg?s=128&g=1", "display_name": "Jacques Gaudin", "link": "https://stackoverflow.com/users/1388292/jacques-gaudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 45202886, "answer_count": 1, "score": 4, "last_activity_date": 1500508320, "creation_date": 1500505922, "last_edit_date": 1500507596, "question_id": 45202535, "link": "https://stackoverflow.com/questions/45202535/two-virtual-environments-for-a-single-django-project", "title": "Two virtual environments for a single Django project?", "body": "<p>I have a Django project for which I have created a virtual environment with the packages it requires. </p>\n\n<p>Now for development, I was looking for a tool where I could try some code before including it to my project. I had a good experience with Jupyter a little while ago and I thought that would be nice to work with this tool again.</p>\n\n<p>In order to avoid cluttering the minimal virtual environment with the dependencies of Jupyter, I duplicated it and installed <code>jupyter</code> alongside with <code>django-extensions</code>.</p>\n\n<p>In my <code>settings.py</code>, I have:</p>\n\n<pre><code>if os.environ.get(\"VENV_NAME\") == \"jupyter-sandbox\":\n    INSTALLED_APPS += ['django_extensions']\n</code></pre>\n\n<p>so that I can still be able to use the minimal virtual environment without <code>django_extensions</code>.</p>\n\n<p>It works fairly well for now apart from the fact that I cannot run the server from my Jupyter-enabled virtual environment. This is because my project uses <code>django-images</code> and django can't find a migration file in this environment (in <code>sites-packages/django_images/migrations</code>). The error message is below:</p>\n\n<pre><code>raise NodeNotFoundError(self.error_message, self.key, origin=self.origin)\ndjango.db.migrations.exceptions.NodeNotFoundError: Migration core.0001_initial dependencies reference nonexistent parent node ('django_images', '0002_auto_20170710_2103')\n</code></pre>\n\n<p>Would it be a good idea to create a symlink so that both virtual environments share the same <code>django-images</code> migrations folder or would it mess up completely my project?</p>\n\n<p>I am not utterly confident with migrations yet and would appreciate some advice on this.</p>\n"}, {"tags": ["python", "ctypes", "shared-memory"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1500516323, "post_id": 45202481, "comment_id": 77374563, "body": "You are so very, very close. Did you search the ctypes tutorial and reference for &quot;from_buffer&quot;? It&#39;s really simple: <code>data = GenericData.from_buffer(buff)</code>."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1500519685, "post_id": 45202481, "comment_id": 77375351, "body": "<code>fileno</code> should be -1 for mapping anonymous memory. On Windows, mmap allows 0 for this, even though 0 is a valid file descriptor. However, in a future version it may be updated to deprecate using 0 on Windows."}, {"owner": {"reputation": 417, "user_id": 1783652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/41781d6f3120c420f8363dce1f695948?s=128&d=identicon&r=PG", "display_name": "Brian K", "link": "https://stackoverflow.com/users/1783652/brian-k"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1500565899, "post_id": 45202481, "comment_id": 77405536, "body": "@eryksun: Thank you! I knew I was close - didn&#39;t know I was that close! Also, thank you for the clarity on 0 vs -1 for the file descriptor. Did you want to provide an official answer so I can accept it? (otherwise, I&#39;ll answer myself and cite you)"}], "answers": [{"tags": [], "owner": {"reputation": 417, "user_id": 1783652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/41781d6f3120c420f8363dce1f695948?s=128&d=identicon&r=PG", "display_name": "Brian K", "link": "https://stackoverflow.com/users/1783652/brian-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1500932570, "creation_date": 1500932570, "answer_id": 45290563, "question_id": 45202481, "link": "https://stackoverflow.com/questions/45202481/how-do-you-write-a-full-struct-to-shared-memory-in-python/45290563#45290563", "title": "How do you write a full struct to shared memory in python?", "body": "<p>As @eryksun pointed out in the first comment to the question, you can use <code>ctypes.from_buffer</code> to share the ctypes structure <code>GenericData</code> with the mmap buffer <code>buff</code>. @eryksun also pointed out that while Windows allows <code>0</code> as a file descriptor to map anonymous memory, <code>-1</code> is the correct value - as is mentioned in the docs.</p>\n\n<p>With that, here's a working example, adjusted to include @eryksun's answer:</p>\n\n<pre><code>import ctypes\nimport mmap\nimport time\nimport math\n\nclass GenericData(ctypes.Structure):\n    _pack_ = 4\n    _fields_ = [\n        ('PosX', ctypes.c_float),\n        ('PosY', ctypes.c_float),\n        ('PosZ', ctypes.c_float),\n    ]\n\n# fake getters:\ndef getX():\n    return random.random()*10\ngetZ = getY = getX\n\ndef main():\n    buff = mmap.mmap(-1, ctypes.sizeof(GenericData), \"$MyTag$\")\n\n    data = GenericData.from_buffer(buff)\n\n    for fname, ftype in data._fields_:\n        setattr(data, fname, 0)\n\n    count = 0\n\n    while (1):\n        data.PosX = getX()\n        data.PosY = getY()\n        data.PosZ = getZ()\n\n        print (\"Setting %f, %f, %f \" % (data.PosX, data.PosY, data.PosZ))\n        count += 1\n        time.sleep(0.05)\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 1783652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/41781d6f3120c420f8363dce1f695948?s=128&d=identicon&r=PG", "display_name": "Brian K", "link": "https://stackoverflow.com/users/1783652/brian-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1369, "favorite_count": 0, "accepted_answer_id": 45290563, "answer_count": 1, "score": 1, "last_activity_date": 1500932570, "creation_date": 1500505605, "last_edit_date": 1500506152, "question_id": 45202481, "link": "https://stackoverflow.com/questions/45202481/how-do-you-write-a-full-struct-to-shared-memory-in-python", "title": "How do you write a full struct to shared memory in python?", "body": "<p>There are plenty of examples showing how to write single variables or even individual members of a struct to shared memory, but is there a way to put the whole struct into shared memory so that you can simply manipulate the struct to update shared memory? </p>\n\n<p>This is an example what I'm doing so far (in my actual program - there are over 50 fields in the struct - possibly 100+ by the time I'm done). It updates shared memory with x,y,z coordinates every 0.05 seconds.  While it works as it sits, it's packing up a new struct at every step and writing the whole thing to shared memory - which seems inefficient to me.  </p>\n\n<pre><code>import mmap\nimport struct\nimport ctypes\nimport time\nimport random\n\nclass GenericData(ctypes.Structure):\n    _pack_ = 4\n    _fields_ = [\n        ('PosX', ctypes.c_float),\n        ('PosY', ctypes.c_float),\n        ('PosZ', ctypes.c_float),\n    ]\n\n# fake getters:\ndef getX():\n    return random.random()*10\ngetZ = getY = getX\n\ndef main():\n    buff = mmap.mmap(0, ctypes.sizeof(GenericData), \"$MyTag$\")\n    data = GenericData()\n    fmt = ''.join([f[1]._type_ for f in data._fields_])\n\n    while (1):\n        data.PosX = getX()\n        data.PosY = getY()\n        data.PosZ = getZ()\n\n        print \"Setting %f, %f, %f \" % (data.PosX, data.PosY, data.PosZ)\n        struct.pack_into(fmt, buff, 0, *[getattr(data,field) for field,typ in data._fields_])\n        time.sleep(0.05)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>I am aware that I could create a mapping of variables to locations in the shared memory file, but with so many fields, that's a little unwieldy.</p>\n\n<p>I would like to think that the struct could be the buffer (or mapped to the buffer) and by simply setting data.PosX, shared memory is updated.  Is this possible?  Is there any way to make this more efficient?  The struct.pack_into line is the one that concerns me.</p>\n\n<p>I would like to think that something like this could be done:</p>\n\n<pre><code>buff = mmap.mmap(0, ctypes.sizeof(GenericData), \"$MyTag$\")\ndata = from_buffer(buff, GenericData)\nwhile (1):\n    data.posX = getX()\n    data.posY = getY()\n    data.posZ = getZ()\n    time.sleep(0.05)\n</code></pre>\n\n<p>...which would then update the shared memory. Possible?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 6557659, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8e4ea0412d63a1f411da8ea9c8093196?s=128&d=identicon&r=PG&f=1", "display_name": "Shabina Rayan", "link": "https://stackoverflow.com/users/6557659/shabina-rayan"}, "edited": false, "score": 1, "creation_date": 1500509941, "post_id": 45202533, "comment_id": 77373116, "body": "Works perfectly. Thanks"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 2, "last_activity_date": 1500506030, "last_edit_date": 1500506030, "creation_date": 1500505919, "answer_id": 45202533, "question_id": 45202480, "link": "https://stackoverflow.com/questions/45202480/comparing-the-rows-of-two-pandas-data-frames-by-the-column-values/45202533#45202533", "title": "Comparing the rows of two pandas data frames by the column values", "body": "<p>Use <code>set_index</code> and let Pandas use intrinsic data alignment to perform subtraction:</p>\n\n<pre><code>(DF1.set_index(['Month of Year','Person']) - DF2.set_index(['Month of Year','Person'])).fillna(0)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>                      Miles Run\nMonth of Year Person           \nApril         Sarah      0.0000\nDecember      Kyle       0.0000\nFebruary      Bob       -6.0535\nJanuary       Joe       -2.3731\nMarch         Jill       0.0000\nNovember      Andrew     0.0000\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 6557659, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8e4ea0412d63a1f411da8ea9c8093196?s=128&d=identicon&r=PG&f=1", "display_name": "Shabina Rayan", "link": "https://stackoverflow.com/users/6557659/shabina-rayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 1, "accepted_answer_id": 45202533, "answer_count": 1, "score": 2, "last_activity_date": 1500506030, "creation_date": 1500505605, "question_id": 45202480, "link": "https://stackoverflow.com/questions/45202480/comparing-the-rows-of-two-pandas-data-frames-by-the-column-values", "title": "Comparing the rows of two pandas data frames by the column values", "body": "<p>I have two data frames which represent data pulled from two different pedometers that record how many miles a given person ran for a specific month. </p>\n\n<p>I want to calculate the difference in \"Miles Run\" for rows in DF 1 and DF 2 which have the same \"Month of Year\" <strong>and</strong> \"Person\". For example, DF 1 and DF 2 have the miles Joe ran in January and the miles Bob ran in February. For both of these common rows, I want to calculate how different \"Miles Run\" is for both.</p>\n\n<p>Any idea how to pull out rows from two DF's that have 2 matching column values? </p>\n\n<p>DF 1:</p>\n\n<pre><code>Month of Year   Miles Run   Person \n   January      6.7458      Joe \n   February     1.3808      Bob\n   March        11.2689     Jill  \n   April        9.8917      Sarah  \n</code></pre>\n\n<p>DF 2:</p>\n\n<pre><code>Month of Year   Miles Run   Person \n   November     5.5234      Andrew \n   December     7.4523      Kyle\n   January      9.1189      Joe  \n   February     7.4343      Bob\n</code></pre>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 2, "creation_date": 1500505640, "post_id": 45202461, "comment_id": 77371971, "body": "<code>args</code> takes a tuple, so I&#39;m betting it converting your string into a tuple of characters."}, {"owner": {"reputation": 521, "user_id": 6845464, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/735e9ce973c766db0dfbd39db9b4781b?s=128&d=identicon&r=PG&f=1", "display_name": "no nein", "link": "https://stackoverflow.com/users/6845464/no-nein"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1500505729, "post_id": 45202461, "comment_id": 77371996, "body": "Okay I am not really following, I have always just put in args=(&quot;x&quot;,&quot;y&quot;,&quot;z&quot;), how should I do it?"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1500505791, "post_id": 45202461, "comment_id": 77372016, "body": "I&#39;d try <code>args=(&quot;bot_1&quot;,)</code> The <code>,</code> forces it to interpret it has a tuple of length 1"}, {"owner": {"reputation": 521, "user_id": 6845464, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/735e9ce973c766db0dfbd39db9b4781b?s=128&d=identicon&r=PG&f=1", "display_name": "no nein", "link": "https://stackoverflow.com/users/6845464/no-nein"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1500505847, "post_id": 45202461, "comment_id": 77372027, "body": "Just did and it works, thanks! If you have time I would greatly appreciate if you could tell me why though."}], "answers": [{"tags": [], "owner": {"reputation": 1166, "user_id": 4288232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3554c55f06c75c180f95cda6b7fbe82c?s=128&d=identicon&r=PG", "display_name": "TimSC", "link": "https://stackoverflow.com/users/4288232/timsc"}, "is_accepted": true, "score": 1, "last_activity_date": 1500507470, "last_edit_date": 1500507470, "creation_date": 1500505864, "answer_id": 45202527, "question_id": 45202461, "link": "https://stackoverflow.com/questions/45202461/threading-in-python-error-when-creating-threads-with-specific-string-input/45202527#45202527", "title": "Threading in python, error when creating threads with specific string input", "body": "<p>TemporalWolf is right, it takes a tuple. If you just put brackets round a string, it is just taken to be mathematical brackets. If you add a comma, python interprets it as a tuple:</p>\n\n<pre><code>threading.Thread(name=\"Something\", target=self.bot_creater, args=(\"bot_1\",)).start()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": false, "score": 1, "last_activity_date": 1500506060, "last_edit_date": 1500506060, "creation_date": 1500505929, "answer_id": 45202536, "question_id": 45202461, "link": "https://stackoverflow.com/questions/45202461/threading-in-python-error-when-creating-threads-with-specific-string-input/45202536#45202536", "title": "Threading in python, error when creating threads with specific string input", "body": "<p>It's converting the string input into a tuple, like so:</p>\n\n<pre><code>tuple((\"bob\"))\n('b', 'o', 'b')\n</code></pre>\n\n<p>because</p>\n\n<pre><code>&gt;&gt;&gt; type((\"bob\"))\n&lt;type 'str'&gt;\n</code></pre>\n\n<p>Instead, you want:</p>\n\n<pre><code>&gt;&gt;&gt; tuple((\"bob\",))\n('bob',)\n</code></pre>\n\n<p>because</p>\n\n<pre><code>&gt;&gt;&gt; type((\"bob\",))\n&lt;type 'tuple'&gt;\n</code></pre>\n\n<p>Essentially it's ignoring the extra set of parentheses until you give it <code>(element,)</code> which then forces it to interpret it as a tuple of length 1.</p>\n"}, {"tags": [], "owner": {"reputation": 5045, "user_id": 7688996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKydk.png?s=128&g=1", "display_name": "Mohd", "link": "https://stackoverflow.com/users/7688996/mohd"}, "is_accepted": false, "score": 1, "last_activity_date": 1500507899, "creation_date": 1500507899, "answer_id": 45202830, "question_id": 45202461, "link": "https://stackoverflow.com/questions/45202461/threading-in-python-error-when-creating-threads-with-specific-string-input/45202830#45202830", "title": "Threading in python, error when creating threads with specific string input", "body": "<p>You can also use a <code>list</code> instead if you have one argument, as the following:</p>\n\n<pre><code>threading.Thread(name=\"Something\", target=self.bot_creater, args=[\"bot_1\"]).start()\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 6845464, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/735e9ce973c766db0dfbd39db9b4781b?s=128&d=identicon&r=PG&f=1", "display_name": "no nein", "link": "https://stackoverflow.com/users/6845464/no-nein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 45202527, "answer_count": 3, "score": 0, "last_activity_date": 1500509169, "creation_date": 1500505473, "last_edit_date": 1500509169, "question_id": 45202461, "link": "https://stackoverflow.com/questions/45202461/threading-in-python-error-when-creating-threads-with-specific-string-input", "title": "Threading in python, error when creating threads with specific string input", "body": "<p>according to me, weirdest problem that took me forever to figure out because I simply can't fathom what is wrong, anyway here goes:</p>\n\n<pre><code>class pod_spawner():\n\n    def __init__(self):\n        self.pod_name=\"Test\"\n\n    def bot_creater(self,bot_nr):\n        for i in range(5):\n            print(bot_nr + \" doing its work\")\n            time.sleep(2)    \n\n    def add_thread(self):\n        threading.Thread(name=\"Something\", target=self.bot_creater, args=(\"1\")).start()\n</code></pre>\n\n<p>This is perfectly okay, a <code>thread</code> spawns and we are golden however if I change the args input to <code>args=(\"bot_1\")</code> instead of just <code>args=(\"1\")</code>, \"it throws me a <code>bot_creater() takes 2 positional arguments but 6 were given\"</code> error.</p>\n\n<p>Any and all help would be much appreciated!</p>\n"}, {"tags": ["javascript", "python", "ajax", "django"], "comments": [{"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1500511997, "post_id": 45202432, "comment_id": 77373540, "body": "Check here: <a href=\"https://stackoverflow.com/questions/2320069/jquery-ajax-file-upload\" title=\"jquery ajax file upload\">stackoverflow.com/questions/2320069/jquery-ajax-file-upload</a>"}, {"owner": {"reputation": 2151, "user_id": 7638069, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ZZKFz.png?s=128&g=1", "display_name": "hansTheFranz", "link": "https://stackoverflow.com/users/7638069/hansthefranz"}, "edited": false, "score": 0, "creation_date": 1500517369, "post_id": 45202432, "comment_id": 77374771, "body": "are you sure you have to send it to the backend? If you want to display it check my answer here <a href=\"https://stackoverflow.com/questions/45098439/how-to-show-selected-image-in-imagefield-file-in-template/45098792#45098792\" title=\"how to show selected image in imagefield file in template\">stackoverflow.com/questions/45098439/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 8063056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_6qdJOZC-rg/AAAAAAAAAAI/AAAAAAAADdg/mQIDz_VqL0A/photo.jpg?sz=128", "display_name": "Joe Van Treeck", "link": "https://stackoverflow.com/users/8063056/joe-van-treeck"}, "edited": false, "score": 0, "creation_date": 1500518309, "post_id": 45202432, "comment_id": 77375021, "body": "Yes I believe I do. I was able to do simple RGB channel thresholding using only Javascript, but I also need to do some more complicated image processing such as adaptive thresholding and adding gaussian noise. While some of these things may be possible in Javascript, they would be a <b>major</b> pain, while they can be easily accomplished using OpenCV in Python."}, {"owner": {"reputation": 1, "user_id": 8063056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_6qdJOZC-rg/AAAAAAAAAAI/AAAAAAAADdg/mQIDz_VqL0A/photo.jpg?sz=128", "display_name": "Joe Van Treeck", "link": "https://stackoverflow.com/users/8063056/joe-van-treeck"}, "edited": false, "score": 0, "creation_date": 1500518583, "post_id": 45202432, "comment_id": 77375086, "body": "Thank you for the link Cory. I implemented what I saw in that link and other related searches. However, I am still having issues."}, {"owner": {"reputation": 1, "user_id": 8063056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_6qdJOZC-rg/AAAAAAAAAAI/AAAAAAAADdg/mQIDz_VqL0A/photo.jpg?sz=128", "display_name": "Joe Van Treeck", "link": "https://stackoverflow.com/users/8063056/joe-van-treeck"}, "edited": false, "score": 0, "creation_date": 1500524294, "post_id": 45202432, "comment_id": 77376619, "body": "I just checked Django&#39;s server log and noticed that on each button click, I got the message <code>Forbidden (CSRF token missing or incorrect.): &#47;aria_test1&#47;threshold</code>"}], "owner": {"reputation": 1, "user_id": 8063056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_6qdJOZC-rg/AAAAAAAAAAI/AAAAAAAADdg/mQIDz_VqL0A/photo.jpg?sz=128", "display_name": "Joe Van Treeck", "link": "https://stackoverflow.com/users/8063056/joe-van-treeck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500524403, "creation_date": 1500505297, "last_edit_date": 1500524403, "question_id": 45202432, "link": "https://stackoverflow.com/questions/45202432/dynamically-update-image-processed-through-python-django-ajax", "title": "Dynamically update image processed through Python Django AJAX", "body": "<p>I am currently developing a simple website and I am having trouble as I am new to Django and AJAX.</p>\n\n<p>I would like for the user to select an image from their computer and then be able to process and display the image <em>without refreshing the page</em>. I was able to do simple color thresholding using only JavaScript, however some of the more complex processing will need to be done using Python, which is why I am using Django.</p>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>    $(\"#interactBtn\").click(function()  {\n        var img = document.getElementById('inputImageFileInput').files[0];\n        $.ajax({\n            type: \"POST\",\n            url: 'threshold',   //does this look okay?\n            data: img,\n        }).done(function(data)    {\n            var canvas = document.getElementById('imagesTabProccessedImg');\n            var context = canvas.getContext('2d');\n            context.clearRect(0, 0, canvas.width, canvas.height);\n            context.putImageData(data, 0, 0);\n    }\n});\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def threshold(img):\n    # how to load image as OpenCV image\n    # imagine proccessing here\n    return img\n</code></pre>\n\n<p>I'm not quite sure where to go from here. From what I have researched, I think it should be possible, I'm just lost.</p>\n\n<ul>\n<li>Will my ajax request send the image data?</li>\n<li>In what format will the image be sent to the python code?</li>\n</ul>\n\n<p>Thanks in advance for the help!</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 13174, "user_id": 8143158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prGO7.png?s=128&g=1", "display_name": "vijay m", "link": "https://stackoverflow.com/users/8143158/vijay-m"}, "edited": false, "score": 0, "creation_date": 1500527699, "post_id": 45202404, "comment_id": 77377759, "body": "The problem is the input size. For example, VGG network works only for 224x224."}, {"owner": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "reply_to_user": {"reputation": 13174, "user_id": 8143158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prGO7.png?s=128&g=1", "display_name": "vijay m", "link": "https://stackoverflow.com/users/8143158/vijay-m"}, "edited": false, "score": 0, "creation_date": 1500567645, "post_id": 45202404, "comment_id": 77406746, "body": "Thanks @vijaym. Do you know why inception v2 is working with this data but not the others? If the size is the requirement shouldn&#39;t v2 also be throwing an error?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "edited": false, "score": 0, "creation_date": 1500567018, "post_id": 45216136, "comment_id": 77406309, "body": "Is it possible to use the tf.image.resize_image_with_crop_or_pad function to pad all of the images to the correct sizes for each model? Would that degrade the quality of the model? I&#39;m just using the squares/triangles model as a placeholder for any other data that may be used in the future."}, {"owner": {"reputation": 1266, "user_id": 8315956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c37d7cc9564e76a4fd51a12b2c90476a?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Bystricky", "link": "https://stackoverflow.com/users/8315956/vladimir-bystricky"}, "reply_to_user": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "edited": false, "score": 0, "creation_date": 1500571856, "post_id": 45216136, "comment_id": 77409228, "body": "If you plan work with only two class and image 32 x 32. then inception model is too much for this. You can try model with few (two or three) convolution+relu+maxpool chains. Good example is <a href=\"https://www.tensorflow.org/tutorials/deep_cnn\" rel=\"nofollow noreferrer\">tutorial</a>"}, {"owner": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "edited": false, "score": 0, "creation_date": 1500574682, "post_id": 45216136, "comment_id": 77410936, "body": "My program isn&#39;t for specifically this dataset, I&#39;m just using it as a placeholder for future custom datasets. The program is specifically supposed to use those models (inception, resnet, vgg, etc.) from the TF Slim Image classification library, and allow people with limited experience using these models to easily load in their own data and train."}, {"owner": {"reputation": 1266, "user_id": 8315956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c37d7cc9564e76a4fd51a12b2c90476a?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Bystricky", "link": "https://stackoverflow.com/users/8315956/vladimir-bystricky"}, "reply_to_user": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "edited": false, "score": 0, "creation_date": 1500575792, "post_id": 45216136, "comment_id": 77411594, "body": "Not all models can be used for arbitrary input image size. For example, <a href=\"https://raw.githubusercontent.com/tensorflow/tensorflow/master/tensorflow/contrib/slim/python/slim/nets/inception_v1.py\" rel=\"nofollow noreferrer\">inception_v1 implementation</a> in tf.slim requires input images with size 224 x 224, because this line of code: <code>net = layers_lib.avg_pool2d(net, [7, 7], stride=1, scope=&#39;MaxPool_0a_7x7&#39;)</code>"}, {"owner": {"reputation": 1266, "user_id": 8315956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c37d7cc9564e76a4fd51a12b2c90476a?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Bystricky", "link": "https://stackoverflow.com/users/8315956/vladimir-bystricky"}, "reply_to_user": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "edited": false, "score": 0, "creation_date": 1500575815, "post_id": 45216136, "comment_id": 77411613, "body": "But for example <a href=\"https://raw.githubusercontent.com/tensorflow/tensorflow/master/tensorflow/contrib/slim/python/slim/nets/inception_v2.py\" rel=\"nofollow noreferrer\">inception_v2</a> doesn&#39;t, because it can setup size of feature map by this: <code>kernel_size = _reduced_kernel_size_for_small_input(net, [7, 7])</code>"}, {"owner": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "edited": false, "score": 0, "creation_date": 1500583138, "post_id": 45216136, "comment_id": 77415814, "body": "Okay, that makes more sense. is there a way to scale the images up from 32x32 to 224x224 or whatever the default size is for another model?"}, {"owner": {"reputation": 1266, "user_id": 8315956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c37d7cc9564e76a4fd51a12b2c90476a?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Bystricky", "link": "https://stackoverflow.com/users/8315956/vladimir-bystricky"}, "reply_to_user": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "edited": false, "score": 0, "creation_date": 1500584041, "post_id": 45216136, "comment_id": 77416325, "body": "You can use (tf.image.resize_image_with_crop_or_pad)[<a href=\"https://www.tensorflow.org/api_docs/python/tf/image/resize_image_with_crop_or_pad]\" rel=\"nofollow noreferrer\">tensorflow.org/api_&zwnj;&#8203;docs/python/tf/image&zwnj;&#8203;/&hellip;</a> on the input, but i think this will really strange from my point of view."}], "tags": [], "owner": {"reputation": 1266, "user_id": 8315956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c37d7cc9564e76a4fd51a12b2c90476a?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Bystricky", "link": "https://stackoverflow.com/users/8315956/vladimir-bystricky"}, "is_accepted": false, "score": 1, "last_activity_date": 1500557153, "creation_date": 1500557153, "answer_id": 45216136, "question_id": 45202404, "link": "https://stackoverflow.com/questions/45202404/tensorflow-slim-pre-trained-models-negative-dimensions/45216136#45216136", "title": "TensorFlow Slim Pre-trained models Negative Dimensions", "body": "<p>Input images with size 32x32 too small for inception model. Inception_v1 try to use average pooling with kernel size 7x7, but on input to this layer came 1x1 data (with 1024 channels) after all previous pooling layers.</p>\n\n<p>Anyway i think \"inception\" is too big for task, which you describe.</p>\n"}], "owner": {"reputation": 11, "user_id": 8309477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db1341d2dfde3e8cbcfef0b81411259?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin C", "link": "https://stackoverflow.com/users/8309477/ashwin-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500557153, "creation_date": 1500505151, "question_id": 45202404, "link": "https://stackoverflow.com/questions/45202404/tensorflow-slim-pre-trained-models-negative-dimensions", "title": "TensorFlow Slim Pre-trained models Negative Dimensions", "body": "<p>I've been trying to design a wrapper to use the pre-made tensorflow slim models for a custom dataset. the dataset is 1000 images of squares and triangles, 32x32 grayscale. They are organized as dataset/shapes/triangles/ and dataset/shapes/squares/. </p>\n\n<p>Using the following code, I am able to train the inception_v2 model without errors. The tf.reshape will be replaced with the correct variable parameters later. The .tfrecords files are created using <a href=\"https://github.com/tensorflow/models/blob/master/inception/inception/data/build_image_data.py\" rel=\"nofollow noreferrer\">this</a> script from google that creates the records from the above mentioned dataset structure. </p>\n\n<pre><code>graph = tf.Graph()\nsess = tf.InteractiveSession(graph=graph)\n\nwith graph.as_default():\n    name_dict, nClass = gen_dict(data_directory, path_to_labels_file)\n\n    # associate the \"label\" and \"image\" objects with the corresponding features read from\n    # a single example in the training data file\n    label, image = getImage(\"datasets/shapes/train-00000-of-00001\", height, width, nClass)\n\n    # associate the \"label_batch\" and \"image_batch\" objects with a randomly selected batch---\n    # of labels and images respectively\n    imageBatch, labelBatch = tf.train.shuffle_batch(\n        [image, label], batch_size=bsize,\n        capacity=2000,\n        min_after_dequeue=1000)\n\n    with sess.as_default():\n        coord = tf.train.Coordinator()\n        threads = tf.train.start_queue_runners(sess=sess, coord=coord)\n\n        sess.run(tf.global_variables_initializer())\n\n        batch_xs, batch_ys = sess.run([imageBatch, labelBatch])\n\n        print('ran shuffle batch')\n        print(tf.shape(batch_xs))\n        print(tf.shape(batch_ys))\n        # batch_xs = tf.expand_dims(batch_xs, 2)\n        batch_xs = tf.reshape(batch_xs, [100, 32, 32, 1])\n        print(tf.shape(batch_xs))\n        logits, end_points = inception.inception_v2(batch_xs,\n                                                    num_classes=2,\n                                                    is_training=True)\n\n        predictions = end_points['Predictions']\n        logits = end_points['Logits']\n\n        tf.losses.softmax_cross_entropy(batch_ys, logits)\n\n        total_loss = slim.losses.get_total_loss()\n\n        optimizer = tf.train.GradientDescentOptimizer(learning_rate=.001)\n\n        train_tensor = slim.learning.create_train_op(total_loss, optimizer)\n\n        slim.learning.train(train_tensor,\n                            train_log_dir,\n                            number_of_steps=1000)\n</code></pre>\n\n<p>The issue I'm having is with other models. Using inception_v1, with the same arguments, I get the following error:</p>\n\n<pre><code>File \"model_test.py\", line 62, in &lt;module&gt;\n    is_training=True)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/contrib/slim/python/slim/nets/inception_v1.py\", line 349, in inception_v1\n    net, [7, 7], stride=1, scope='MaxPool_0a_7x7')\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/contrib/framework/python/ops/arg_scope.py\", line 181, in func_with_args\n    return func(*args, **current_args)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/contrib/layers/python/layers/layers.py\", line 131, in avg_pool2d\n    outputs = layer.apply(inputs)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 492, in apply\n    return self.__call__(inputs, *args, **kwargs)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 441, in __call__\n    outputs = self.call(inputs, *args, **kwargs)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/layers/pooling.py\", line 276, in call\n    data_format=utils.convert_data_format(self.data_format, 4))\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 1741, in avg_pool\n    name=name)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_nn_ops.py\", line 48, in _avg_pool\n    data_format=data_format, name=name)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 767, in apply_op\n    op_def=op_def)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 2508, in create_op\n    set_shapes_for_outputs(ret)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1873, in set_shapes_for_outputs\n    shapes = shape_func(op)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1823, in call_with_requiring\n    return call_cpp_shape_fn(op, require_shape_fn=True)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/framework/common_shapes.py\", line 610, in call_cpp_shape_fn\n    debug_python_shape_fn, require_shape_fn)\n  File \"/home/chakicherla3/tf_slim_image_classification/models/slim/python/local/lib/python2.7/site-packages/tensorflow/python/framework/common_shapes.py\", line 676, in _call_cpp_shape_fn_impl\n    raise ValueError(err.message)\nValueError: Negative dimension size caused by subtracting 7 from 1 for 'InceptionV1/Logits/MaxPool_0a_7x7/AvgPool' (op: 'AvgPool') with input shapes: [100,1,1,1024].\n</code></pre>\n\n<p>I get a similar error using inception_v3. With vgg_16 and vgg_19, I get:</p>\n\n<pre><code>ValueError: Negative dimension size caused by subtracting 7 from 1 for 'vgg_16/fc6/convolution' (op: 'Conv2D') with input shapes: [100,1,1,512], [7,7,512,4096].\n</code></pre>\n\n<p>Can anyone give insight into these errors? What could be the difference between inception_v1 and inception_v2 that would cause it to crash, and how are the inception models this different? I haven't tried this dataset with ResNet yet, but I suspect a similar error will happen with that as well.</p>\n\n<p>For reference, this example code is based on the 'working example' provided with the tf slim documentation, located <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/slim#working-example-training-the-vgg16-model\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>The system it is running on is using Python 2.7.10 with Tensorflow-GPU 1.2.0. It's a Xeon system with 4 Nvidia Titan X GPUs, on Ubuntu 14.10.</p>\n\n<p>Thanks! If you need any additional system configurations or the getImage function I can provide those as well!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1500570768, "post_id": 45202388, "comment_id": 77408639, "body": "See also: <a href=\"https://stackoverflow.com/questions/132988/is-there-a-difference-between-and-is-in-python\">Is there a difference between <code>==</code> and <code>is</code> in Python?</a>, <a href=\"https://stackoverflow.com/questions/2988017/string-comparison-in-python-is-vs\">String comparison in Python: is vs. ==</a>, <a href=\"https://stackoverflow.com/questions/1504717/why-does-comparing-strings-in-python-using-either-or-is-sometimes-produce\">Why does comparing strings in Python using either &#39;==&#39; or &#39;is&#39; sometimes produce a different result?</a>"}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 1, "creation_date": 1500570835, "post_id": 45202388, "comment_id": 77408675, "body": "The odd thing is that if you set <code>beer = &quot;union&quot;</code> then the code work as expected (maybe because Python caches/reuses immutable objects?). However, getting the string from <code>input</code> produces a different object."}], "answers": [{"tags": [], "owner": {"reputation": 110, "user_id": 6767888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e02d2541c94d9ea1b1b77c261ee1f3b0?s=128&d=identicon&r=PG", "display_name": "DeGe", "link": "https://stackoverflow.com/users/6767888/dege"}, "is_accepted": false, "score": 1, "last_activity_date": 1500566898, "last_edit_date": 1500566898, "creation_date": 1500506540, "answer_id": 45202618, "question_id": 45202388, "link": "https://stackoverflow.com/questions/45202388/difference-between-and-is-operator-in-python/45202618#45202618", "title": "Difference between == and is operator in Python", "body": "<p>From the documentation for the \"is\" operator:</p>\n\n<blockquote>\n  <p>The operators <code>is</code> and <code>is not</code> test for object identity: <code>x is y</code> is true\n  if and only if <code>x</code> and <code>y</code> are the same object.</p>\n</blockquote>\n\n<p>Just change your 2nd last line to</p>\n\n<pre><code>if beer == \"union\":\n</code></pre>\n\n<p>The code would work.</p>\n"}, {"tags": [], "owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "is_accepted": false, "score": 0, "last_activity_date": 1500567181, "creation_date": 1500567181, "answer_id": 45220096, "question_id": 45202388, "link": "https://stackoverflow.com/questions/45202388/difference-between-and-is-operator-in-python/45220096#45220096", "title": "Difference between == and is operator in Python", "body": "<p>There is an obvious bug in your code, the test <code>if beer is \"union\"</code>, which should be <code>if beer == \"union\"</code>, is not under the <code>age &gt; 21</code> check.</p>\n\n<p>That is, if <code>age &lt; 21</code> the <code>beer</code> check will still happen, and <code>beer</code> will be undefined, raising an exception.</p>\n\n<blockquote>\n  <p>NameError: name 'beer' is not defined</p>\n</blockquote>\n\n<p>This is a bit more sane:</p>\n\n<pre><code>if age &lt; 21:\n    print(\"no beer\")\nif age &gt; 21:\n    print(\"what beer do you like?\")\n    beer = input()\n    if beer is \"union\":\n        print(\"this is water\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3972, "user_id": 1142368, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/818d73588151e0f0adcc4f2d1c6a268b?s=128&d=identicon&r=PG", "display_name": "Jacobm001", "link": "https://stackoverflow.com/users/1142368/jacobm001"}, "edited": false, "score": 1, "creation_date": 1500570626, "post_id": 45221046, "comment_id": 77408549, "body": "The <code>is</code> operator checks for identity in Python. The <code>beer</code> variable and the string <code>&quot;union&quot;</code> are different objects in memory. Therefore, <code>is</code> will never return true."}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "reply_to_user": {"reputation": 3972, "user_id": 1142368, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/818d73588151e0f0adcc4f2d1c6a268b?s=128&d=identicon&r=PG", "display_name": "Jacobm001", "link": "https://stackoverflow.com/users/1142368/jacobm001"}, "edited": false, "score": 0, "creation_date": 1500570983, "post_id": 45221046, "comment_id": 77408746, "body": "@Jacobm001 Actually, <code>is</code> will often return <code>True</code>, it appears that immutable objects are reused in some situations (albeit not with <code>input</code>)."}, {"owner": {"reputation": 3972, "user_id": 1142368, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/818d73588151e0f0adcc4f2d1c6a268b?s=128&d=identicon&r=PG", "display_name": "Jacobm001", "link": "https://stackoverflow.com/users/1142368/jacobm001"}, "reply_to_user": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1500571048, "post_id": 45221046, "comment_id": 77408793, "body": "@JaredGoguen: I meant in this situation"}, {"owner": {"reputation": 5056, "user_id": 4276090, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r87tb.jpg?s=128&g=1", "display_name": "Skam", "link": "https://stackoverflow.com/users/4276090/skam"}, "reply_to_user": {"reputation": 3972, "user_id": 1142368, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/818d73588151e0f0adcc4f2d1c6a268b?s=128&d=identicon&r=PG", "display_name": "Jacobm001", "link": "https://stackoverflow.com/users/1142368/jacobm001"}, "edited": false, "score": 0, "creation_date": 1500571758, "post_id": 45221046, "comment_id": 77409179, "body": "@Jacobm001 <code>is</code> implies <code>equality</code> but the converse is not true."}], "tags": [], "owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "is_accepted": false, "score": 3, "last_activity_date": 1500570619, "last_edit_date": 1500570619, "creation_date": 1500570310, "answer_id": 45221046, "question_id": 45202388, "link": "https://stackoverflow.com/questions/45202388/difference-between-and-is-operator-in-python/45221046#45221046", "title": "Difference between == and is operator in Python", "body": "<p>There are a few things wrong here:</p>\n\n<p>You check for <code>age &lt; 21</code> and <code>age &gt; 21</code>, but what happens if I'm exactly 21 years old? You'll want to change the <code>&gt;</code> to <code>&gt;=</code> in order to catch this case (assuming you're in America where the drinking age is 21 and over).</p>\n\n<p>Another thing I noticed. What happens if I'm not over 21?</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"beer.py\", line 8, in &lt;module&gt;\n    if beer is \"union\":\nNameError: name 'beer' is not defined\n</code></pre>\n\n<p>Oops. You've defined <code>beer</code>, but this condition is never reached if you're not over 21. Therefore when you reference <code>beer</code> in your last <code>if</code> statement, the interpreter has no idea what you're talking about. You'll want to move the last <code>if</code> inside the second one: </p>\n\n<pre><code>if age &gt; 21:\n    print(\"what beer do you like?\")\n    beer = input()\n    if beer is \"union\":\n        print(\"this is water\")\n</code></pre>\n\n<p>Lastly, it's not a wise idea to use <code>is</code> as  a substitute for the <code>==</code> operator, because they are not equivalent. In this case, <code>beer is \"union\"</code> evaluates to False, whereas <code>beer == \"union\"</code> does not, but there are some cases where the two statements are functionally equivalent. For example:</p>\n\n<pre><code>$ python -i\n&gt;&gt;&gt; x = 3\n&gt;&gt;&gt; if x is 3:\n...     print('x is 3!')\n...\nx is 3!\n</code></pre>\n\n<p>Therefore, your final code would look like this:</p>\n\n<pre><code>print(\"enter your age\")\nage = int(input())\nif age &lt; 21:\n    print(\"no beer\")\nif age &gt;= 21:\n    print(\"what beer do you like?\")\n    beer = input()\n    if beer == \"union\":\n        print(\"this is water\")\n</code></pre>\n\n<p>Edit: <a href=\"https://stackoverflow.com/questions/15008380/double-equals-vs-is-in-python\">see this answer</a> for why they are not equivalent. <code>is</code> checks that they are the same object, whereas <code>==</code> checks that the values are equivalent (which is what you want).</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 8190243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8wEkS.jpg?s=128&g=1", "display_name": "Root", "link": "https://stackoverflow.com/users/8190243/root"}, "is_accepted": false, "score": 0, "last_activity_date": 1500647192, "creation_date": 1500647192, "answer_id": 45240180, "question_id": 45202388, "link": "https://stackoverflow.com/questions/45202388/difference-between-and-is-operator-in-python/45240180#45240180", "title": "Difference between == and is operator in Python", "body": "<p>I think this picture will illustrate clearly about the difference between \"is\" and \"==\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/Rz29W.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rz29W.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 43, "user_id": 8334575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8fb981538712ef22ec72226a3c63279?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Zaplatil", "link": "https://stackoverflow.com/users/8334575/jan-zaplatil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1501, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1546851341, "creation_date": 1500505045, "last_edit_date": 1500569319, "question_id": 45202388, "link": "https://stackoverflow.com/questions/45202388/difference-between-and-is-operator-in-python", "title": "Difference between == and is operator in Python", "body": "<pre><code>print(\"enter your age\")\nage = int(input())\nif age &lt; 21:\n    print(\"no beer\")\nif age &gt; 21:\n    print(\"what beer do you like?\")\n    beer = input()\nif beer is \"union\":\n    print(\"this is water\")\n</code></pre>\n\n<p>After typing union to answer nothing happens. Why? Thanks in advance!!!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1500506131, "post_id": 45202372, "comment_id": 77372110, "body": "The code to register some code to run is code as well. You can&#39;t run code before the interpreter is launched. So without some kind of time travel, not sure how that would be possible... The closest you can get IMO is recording the time in a module, and finagle that module to be very early in the load order..."}, {"owner": {"reputation": 53, "user_id": 3973531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d2939386a32a9f43d75373095ed05?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Maio", "link": "https://stackoverflow.com/users/3973531/roland-maio"}, "reply_to_user": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1500508770, "post_id": 45202372, "comment_id": 77372856, "body": "@Amadan Absolutely, it&#39;s okay if it&#39;s not the precise launch time. What I&#39;m looking for is a hook like PYTHONSTARTUP for the interactive interpreter, or a variable like sys.argv. Ideally, the recorded times should be independent of the occurence of the package import in the source code."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 3973531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d2939386a32a9f43d75373095ed05?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Maio", "link": "https://stackoverflow.com/users/3973531/roland-maio"}, "is_accepted": false, "score": 1, "last_activity_date": 1500565141, "creation_date": 1500565141, "answer_id": 45219354, "question_id": 45202372, "link": "https://stackoverflow.com/questions/45202372/python-interpreter-launch-time/45219354#45219354", "title": "Python interpreter launch time", "body": "<p>I found a package <code>psutil</code> that provides a way to get the start time of the Python process in this answer <a href=\"https://stackoverflow.com/a/4559733\">https://stackoverflow.com/a/4559733</a> to the question <a href=\"https://stackoverflow.com/questions/2598145/how-to-retrieve-the-process-start-time-or-uptime-in-python\">How to retrieve the process start time (or uptime) in python</a>. Usage is given in the answer.</p>\n\n<p>This has the advantage of being cross-platform, but the disadvantage of introducing a dependency. That is acceptable for my use case. My package can first try to use <code>psutil</code>, and failing that, fall back on the current time as an approximation.</p>\n\n<p>I am writing this answer because I think this solution can be helpful to others, but I'd still love to know whether or not there is a way to get the Python interpreter start time through the Python built-ins or standard library.</p>\n"}], "owner": {"reputation": 53, "user_id": 3973531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d2939386a32a9f43d75373095ed05?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Maio", "link": "https://stackoverflow.com/users/3973531/roland-maio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500565141, "creation_date": 1500504965, "question_id": 45202372, "link": "https://stackoverflow.com/questions/45202372/python-interpreter-launch-time", "title": "Python interpreter launch time", "body": "<p>I am writing a package that automatically collects program execution metadata including the time program execution began and terminated.</p>\n\n<p>The Python standard library exposes a hook to have code run automatically at interpreter termination via <code>atexit.register</code>. Using this to record a termination time is sufficient for my needs.</p>\n\n<p>Since this approach will record, approximately, the time interpreter execution terminates, I would like the corresponding begin time to be approximately the time interpreter execution begins.</p>\n\n<p>Is it possible to determine this time within a Python module?</p>\n"}, {"tags": ["python", "windows", "directory", "pathlib"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1500504903, "post_id": 45202356, "comment_id": 77371725, "body": "Eh? A proper answer to &quot;how does mkdir work&quot; would dive into syscalls and filesystem design, but it seems unlikely that that&#39;s what you really want to know."}, {"owner": {"reputation": 45, "user_id": 8256058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a173416ccf4c1db34ce7e6729488c9ad?s=128&d=identicon&r=PG&f=1", "display_name": "Accelerate", "link": "https://stackoverflow.com/users/8256058/accelerate"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1500504966, "post_id": 45202356, "comment_id": 77371745, "body": "@CharlesDuffy My bad, I should have worded my title differently."}, {"owner": {"reputation": 45, "user_id": 8256058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a173416ccf4c1db34ce7e6729488c9ad?s=128&d=identicon&r=PG&f=1", "display_name": "Accelerate", "link": "https://stackoverflow.com/users/8256058/accelerate"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1500505170, "post_id": 45202356, "comment_id": 77371810, "body": "@CharlesDuffy Hm, I tried what you said and entered an invalid directory, but for some reason my first half of the code seems to say everything exists. Do you know what&#39;s wrong with it?"}, {"owner": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "edited": false, "score": 0, "creation_date": 1500505440, "post_id": 45202356, "comment_id": 77371889, "body": "Mkdir() has a parameter that you kinda have to pass to it. Python might allow you not to but you definitely need to name the directory to make it."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1500505631, "post_id": 45202356, "comment_id": 77371963, "body": "@Accelerate, <code>p.exists</code> isn&#39;t calling a function named <code>exists</code>; it returns a reference to the function itself; since that reference is neither <code>None</code>, <code>False</code>, <code>0</code>, etc. (and doesn&#39;t have a <code>__bool__</code> method to say otherwise), it evaluates as true in a boolean context. (I&#39;m guessing you&#39;re coming from the Ruby world, where <code>object.funcname</code> calls the function called <code>funcname</code>? That&#39;s not true here; it <i>returns a handle on</i> that function, and you need to call it, as <code>object.funcname()</code>, to actually get it to be invoked)."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1500506169, "post_id": 45202356, "comment_id": 77372123, "body": "Related: <a href=\"https://stackoverflow.com/questions/12697338/why-do-function-objects-evaluate-to-true-in-python\">Why do function objects evaluate to true in Python?</a>"}, {"owner": {"reputation": 708, "user_id": 7867536, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/IHT5G.jpg?s=128&g=1", "display_name": "Santhosh Dhaipule Chandrakanth", "link": "https://stackoverflow.com/users/7867536/santhosh-dhaipule-chandrakanth"}, "edited": false, "score": 0, "creation_date": 1571729447, "post_id": 45202356, "comment_id": 103327203, "body": "This is not duplicate of any question. this issues is genuine. Please remove it from duplicate here&#39;s the official link <a href=\"https://bugs.python.org/issue35692\" rel=\"nofollow noreferrer\">bugs.python.org/issue35692</a>"}, {"owner": {"reputation": 708, "user_id": 7867536, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/IHT5G.jpg?s=128&g=1", "display_name": "Santhosh Dhaipule Chandrakanth", "link": "https://stackoverflow.com/users/7867536/santhosh-dhaipule-chandrakanth"}, "edited": false, "score": 0, "creation_date": 1571743364, "post_id": 45202356, "comment_id": 103334747, "body": "I have raised an issue as well on the github <a href=\"https://github.com/python/pythondotorg/issues/1519\" rel=\"nofollow noreferrer\">github.com/python/pythondotorg/issues/1519</a>"}, {"owner": {"reputation": 708, "user_id": 7867536, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/IHT5G.jpg?s=128&g=1", "display_name": "Santhosh Dhaipule Chandrakanth", "link": "https://stackoverflow.com/users/7867536/santhosh-dhaipule-chandrakanth"}, "edited": false, "score": 0, "creation_date": 1575463146, "post_id": 45202356, "comment_id": 104573855, "body": "Use <code>os</code> instead <code>os.path.isdir(&quot;&#47;home&#47;el&quot;)</code> for directory and <code>os.path.exists(&quot;&#47;home&#47;el&#47;myfile.txt&quot;)</code> for file source <a href=\"https://stackoverflow.com/questions/8933237/how-to-find-if-directory-exists-in-python?#answer-8933290\">How to find if directory exists in Python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 3, "last_activity_date": 1500505748, "creation_date": 1500505748, "answer_id": 45202509, "question_id": 45202356, "link": "https://stackoverflow.com/questions/45202356/why-is-path-exists-true-even-when-the-path-doesnt-exist/45202509#45202509", "title": "Why is Path(...).exists true even when the path doesn&#39;t exist?", "body": "<p>Because you have to <em>call</em> the <code>.exists</code> method. See:</p>\n\n<pre><code>&gt;&gt;&gt; p = pathlib.Path(\"/Users/juan\")\n&gt;&gt;&gt; p.exists # this just returns the method object\n&lt;bound method Path.exists of PosixPath('/Users/juan')&gt;\n&gt;&gt;&gt; p.exists()\nTrue\n</code></pre>\n\n<p>Method/function objects always evaluate to <code>True</code>, hence why you are always seeing that the path exists.</p>\n"}, {"tags": [], "owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "is_accepted": false, "score": 0, "last_activity_date": 1500506214, "last_edit_date": 1500506214, "creation_date": 1500505760, "answer_id": 45202511, "question_id": 45202356, "link": "https://stackoverflow.com/questions/45202356/why-is-path-exists-true-even-when-the-path-doesnt-exist/45202511#45202511", "title": "Why is Path(...).exists true even when the path doesn&#39;t exist?", "body": "<p>The mkdir you are using is <a href=\"https://docs.python.org/3/library/pathlib.html#pathlib.Path.mkdir\" rel=\"nofollow noreferrer\">this one</a> in <code>pathlib</code> (some of the comments were assuming <code>os.mkdir</code>)</p>\n\n<blockquote>\n  <p><code>Path.mkdir(mode=0o777, parents=False, exist_ok=False)</code><br>\n  Create a new\n  directory at this given path. If mode is given, it is combined with\n  the process\u2019 umask value to determine the file mode and access flags.\n  If the path already exists, <code>FileExistsError</code> is raised.</p>\n  \n  <p>If parents is true, any missing parents of this path are created as\n  needed; they are created with the default permissions without taking\n  mode into account (mimicking the POSIX mkdir -p command).</p>\n  \n  <p>If parents is false (the default), a missing parent raises\n  FileNotFoundError.</p>\n  \n  <p>If exist_ok is false (the default), <code>FileExistsError</code> is raised if the\n  target directory already exists.</p>\n  \n  <p>If exist_ok is true, <code>FileExistsError</code> exceptions will be ignored (same\n  behavior as the POSIX mkdir -p command), but only if the last path\n  component is not an existing non-directory file.</p>\n  \n  <p>Changed in version 3.5: The exist_ok parameter was added.</p>\n</blockquote>\n\n<p>It should work fine without parameters if you provide a valid path.</p>\n\n<p>Note if you want to check if it exists, you'll need to call the <code>exists()</code> method - don't forget the <code>()</code></p>\n\n<p>However, it's not a great approach, because someone else could make the directory(or a file) at that path between when you check for it and when you get around to creating it. This is called a race condition.</p>\n\n<p>It's better to wrap the <code>mkdir</code> in a <code>try/except</code> and let the OS tell you if there's a problem. There are a lot more possibilities for exceptions than just already existing. eg.</p>\n\n<pre><code>def directory():\n\n    p = Path(input(\"Enter file path: \"))\n    try:\n        p.mkdir()\n        print('Directory does not exist. Making directory for you.')\n    except IOError as ex:\n        print('Couldn't create directory', ex)\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8256058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a173416ccf4c1db34ce7e6729488c9ad?s=128&d=identicon&r=PG&f=1", "display_name": "Accelerate", "link": "https://stackoverflow.com/users/8256058/accelerate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2004, "favorite_count": 0, "closed_date": 1500506184, "answer_count": 2, "score": 2, "last_activity_date": 1571750970, "creation_date": 1500504852, "last_edit_date": 1571750970, "question_id": 45202356, "link": "https://stackoverflow.com/questions/45202356/why-is-path-exists-true-even-when-the-path-doesnt-exist", "closed_reason": "Duplicate", "title": "Why is Path(...).exists true even when the path doesn&#39;t exist?", "body": "<p>I'm supposed to ask the user to enter a directory and if the directory doesn't exist, we tell them and then make a directory for them.</p>\n\n<p>This is my code so far. It acts in the same way whether or not the directory whose path is entered actually exists.\nThis occurs when using pathlib on windows.\nBug Reported\n<a href=\"https://bugs.python.org/issue35692\" rel=\"nofollow noreferrer\">Issue35692</a></p>\n\n<pre><code>import pathlib\nfrom pathlib import Path\n\ndef directory():\n\n    p = Path(input(\"Enter file path: \"))\n\n    if p.exists:\n\n        print('Exists')\n\n        return p\n\n    else:\n\n        print('Directory does not exist. Making directory for you.')\n\n        p.mkdir()\n\n\n\ndirectory()\n</code></pre>\n"}, {"tags": ["python", "regex", "expression", "alteryx"], "comments": [{"owner": {"reputation": 141, "user_id": 3505206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhSzz.png?s=128&g=1", "display_name": "Carson", "link": "https://stackoverflow.com/users/3505206/carson"}, "reply_to_user": {"reputation": 832, "user_id": 8309965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fi6Oj.jpg?s=128&g=1", "display_name": "3D1T0R", "link": "https://stackoverflow.com/users/8309965/3d1t0r"}, "edited": false, "score": 0, "creation_date": 1500565070, "post_id": 45202350, "comment_id": 77404905, "body": "Just updated, added before and after examples, and cleaned up some of the text."}, {"owner": {"reputation": 832, "user_id": 8309965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fi6Oj.jpg?s=128&g=1", "display_name": "3D1T0R", "link": "https://stackoverflow.com/users/8309965/3d1t0r"}, "edited": false, "score": 0, "creation_date": 1500922705, "post_id": 45202350, "comment_id": 77538564, "body": "I see you check for <code>LLC</code>, which only works on your example when you&#39;ve already taken out the <code>.</code>s in a previous check. Are there any others like this? (e.g. is <code>LLP</code> ever written as <code>L.L.P.</code>? any others?)"}, {"owner": {"reputation": 1060, "user_id": 4150685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hj6bE.jpg?s=128&g=1", "display_name": "johnjps111", "link": "https://stackoverflow.com/users/4150685/johnjps111"}, "edited": false, "score": 0, "creation_date": 1507652654, "post_id": 45202350, "comment_id": 80291450, "body": "Just curious - If there is a carriage return in the line, can that not be interpreted as a blank line and eliminated by removing the blank line. (I&#39;m pondering an Alteryx answer to the question.)"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 7044867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WemhH.jpg?s=128&g=1", "display_name": "Esoterik", "link": "https://stackoverflow.com/users/7044867/esoterik"}, "is_accepted": true, "score": 0, "last_activity_date": 1517267378, "creation_date": 1517267378, "answer_id": 48511499, "question_id": 45202350, "link": "https://stackoverflow.com/questions/45202350/regex-for-removing-company-suffix-and-keep-original-or-positive-lookahead/48511499#48511499", "title": "RegEx for removing company suffix and keep original, or positive lookahead?", "body": "<p>I'm guessing you're well past an urgent need for response, but wanted to answer for posterity.</p>\n\n<p>First, it's really a style question as to whether or not you keep each regex step separate or try to combine them into a single, impressively long, impossible to understand expression. (Your future self and/or others might thank you for keeping them separate.) There are some performance considerations to having fewer regex operations in some contexts, but by and large, I'd say it's better to be able to come back and make sense of what you were trying to do a year or more from now over saving a few cycles.</p>\n\n<p>Second, regex certainly has it's uses, but I <a href=\"https://softwareengineering.stackexchange.com/a/113243\"><em><strong>always</strong></em> ask myself if there is any way to avoid using Regex</a> before I actually use it. <a href=\"https://i.stack.imgur.com/yCRvC.png\" rel=\"nofollow noreferrer\">Now you have two problems...</a> </p>\n\n<p>Finally, with that in mind, you can solve most of these parsing steps in Alteryx without the use of Regex and with similar performance.</p>\n\n<ol>\n<li>The removal of the hyphen followed by a space can be accomplished with a text to column tool using the pattern \" -\" (space + hyphen) and then only work with the first column that results from that for the rest of the workflow (or use a Select tool to remove the trash columns entirely).</li>\n<li>You can remove all whitespace (including \\r, \\n, etc) as well as all special characters with a Data Cleansing tool with the appropriate boxes checked in the Remove Unwanted Characters section. You can make this speedier by doing this after removing the unwanted parts of the original string. BUT, this will remove the wanted hyphens not encapsulated in white space, so...</li>\n<li>You can setup a simple Formula tool expression with the pattern you already have for matching all of the special characters you want to replace using the REGEX_Replace() function. You could also use the Find and Replace tool, or a bunch of nested Replace() functions, but, in this case, the REGEX_Replace() function is probably the most concise and easy to understand, assuming anyone that will have to maintain the workflow will be able to deal with Regex.</li>\n</ol>\n\n<p>If you are trying to do these things in the context of the Python SDK, then I'd still suggest keeping the multiple steps separate for future you and/or others.</p>\n\n<p>Like most things, there are other ways to approach these issues in Alteryx and outside of Alteryx, but these are how I would go about it based on your initial question.</p>\n"}], "owner": {"reputation": 141, "user_id": 3505206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhSzz.png?s=128&g=1", "display_name": "Carson", "link": "https://stackoverflow.com/users/3505206/carson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 1, "accepted_answer_id": 48511499, "answer_count": 1, "score": 1, "last_activity_date": 1517267378, "creation_date": 1500504813, "last_edit_date": 1500565042, "question_id": 45202350, "link": "https://stackoverflow.com/questions/45202350/regex-for-removing-company-suffix-and-keep-original-or-positive-lookahead", "title": "RegEx for removing company suffix and keep original, or positive lookahead?", "body": "<p>I am currently trying to do some natural language processing for company names.</p>\n\n<p>The regex I wrote is <code> -\\s+\\w+('\\w+|\\s+\\w) </code> this is to remove all the text after the hyphen if its whitespace.\nNext, I then <code> [.,/#!$%\\^&amp;*;:{}=-_`''\"&lt;>|~()] </code> remove all punctuation. Third, I <code>(Reg|Ltd|PLC|NV|LTD|LLC|INC|LLP|US)</code> remove the company suffix. Lastly, there are some names with carriage returns in front and at the end of the string, I resolve this with <code>\"\\r*\\n*</code>.</p>\n\n<p>I would like to put all of these regex pieces together as I am running this in Alteryx &amp; Python. </p>\n\n<p>Please note: there are company names with hyphen that do not have whitespace after, I need to keep this and make sure they are not removed with the punctuation removal.</p>\n\n<p>How can I combine all of these pieces? And, am I going about this correctly? In the end, after the string clean-up I will be joining this data to another client list to pull back specific information. </p>\n\n<blockquote>\n  <p>This is why all front-ends should NEVER contain a free text field especially for companies. </p>\n</blockquote>\n\n<p>How do I go about combining these into one pattern, or is it better practice to separate each pattern?</p>\n\n<p><strong>Before</strong>\n<code>\nMY COMPANY X,Y,Z, TENNESSEE CORPORATION L.L.C.\nMY COMPANY HOLDINGS, LP. (there is a carriage return after the LP.)\nABN FGDF - NEW YORK - UNITED STATES\nCOLLEGE-INRIA\nABCDE - UNITED STATES\nMANAGEMENT MANAGERS - UNITED STATES\nINVESTMENT MANAGEMENT CORPORATION - CANADA\nAUTO-CHLOR\n</code></p>\n\n<p><strong>After</strong>\n<code>\nMY COMPANY XYZ TENNESSEE CORPORATION\nMY COMPANY HOLDINGS\nABN FGDF\nCOLLEGE-INRIA\nABCDE\nMANAGEMENT MANAGERS\nINVESTMENT MANAGEMENT CORPORATION\nAUTO-CHLOR\n</code></p>\n\n<p><em>note that the COLLEGE-INRIA stayed as there was no whitespace between the hyphen and the next char.</em></p>\n"}, {"tags": ["python", "regex", "web-scraping", "bs4"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1500507379, "post_id": 45202341, "comment_id": 77372464, "body": "Note that you can do it directly using the XPath functions <code>substring-after</code> and <code>substring-before</code>. In other words you don&#39;t need a regex at all."}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1500525482, "post_id": 45202341, "comment_id": 77376972, "body": "@CasimiretHippolyte, BeautifulSoup doesn&#39;t support XPath expressions. OP should try <a href=\"http://lxml.de/\" rel=\"nofollow noreferrer\">lxml</a> which does support"}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1511971641, "post_id": 45202341, "comment_id": 82071466, "body": "Why not do something like: names = oldnames; for name in newnames: if newname in oldnames: names.append(name)"}], "owner": {"reputation": 163, "user_id": 6811718, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ca7e4702949c93aa16ad6029e7f7c136?s=128&d=identicon&r=PG&f=1", "display_name": "Babeeshka", "link": "https://stackoverflow.com/users/6811718/babeeshka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1500662924, "creation_date": 1500504771, "last_edit_date": 1500662924, "question_id": 45202341, "link": "https://stackoverflow.com/questions/45202341/python-regex-and-webscrape", "title": "Python - Regex and Webscrape", "body": "<p>I am trying to extract all the dog names from a webpage. I would like to be able to scrape the page, append the names (if new) to a list, and eventually be able to send a notification if the list size has changed at all.</p>\n\n<p>I am currently trying to extract the names for now. I am having trouble extracting the name after the phrase \"My name is \" from the page.</p>\n\n<p>The code I have so far is:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport re\n\nurl = 'http://petharbor.com/results.asp?searchtype=ADOPT&amp;start=3%20&amp;friends=1&amp;samaritans=1&amp;nosuccess=0&amp;rows=25&amp;imght=200&amp;imgres=thumb&amp;tWidth=200&amp;view=sysadm.v_chmp&amp;bgcolor=b7b7b7&amp;text=ffffff&amp;link=ffffff&amp;alink=4400ff&amp;vlink=ffffff&amp;fontface=arial&amp;fontsize=12&amp;col_hdr_bg=000066&amp;col_hdr_fg=ffffff&amp;SBG=000066&amp;zip=61802&amp;miles=10&amp;shelterlist=%27CHMP%27&amp;atype=&amp;where=type_DOG&amp;PAGE=1'\nresponse = requests.get(url)\nhtml = response.content\n\nsoup = BeautifulSoup(html, 'html.parser')\n\nkey = \"My name is \"\npuppies = []\n\nnames = soup.find_all(text=re.compile(\"My name is(.*)\"))\n</code></pre>\n\n<p>I am trying to slice the content to only list each individual name and then append that to a list I have (puppies). Is there a way to split the list and then slice each part? Or, is it better to again run a regex through that list?</p>\n\n<p>I think I found a solution so far:</p>\n\n<pre><code>for name in names:\n    puppies.append(name[10:])\n</code></pre>\n\n<p>This seems to work.</p>\n\n<p>Now that I am able to scrape I am trying to build lists to keep names: old, new, and newest. I would like to run the function and check for new names against old lists and append the names to the \"newer\" lists. I am having trouble running the names through a check and re-assign. Can anyone help me understand a method to get this to work:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport re\nimport time\nfrom twilio.rest import Client\n\nurl = 'http://petharbor.com/results.asp?searchtype=ADOPT&amp;start=3%20&amp;friends=1&amp;samaritans=1&amp;nosuccess=0&amp;rows=25&amp;imght=200&amp;imgres=thumb&amp;tWidth=200&amp;view=sysadm.v_chmp&amp;bgcolor=b7b7b7&amp;text=ffffff&amp;link=ffffff&amp;alink=4400ff&amp;vlink=ffffff&amp;fontface=arial&amp;fontsize=12&amp;col_hdr_bg=000066&amp;col_hdr_fg=ffffff&amp;SBG=000066&amp;zip=61802&amp;miles=10&amp;shelterlist=%27CHMP%27&amp;atype=&amp;where=type_DOG&amp;PAGE=1'\nresponse = requests.get(url)\nhtml = response.content\n\naccount_sid = (\"XXXXXXXXXXXXXXXXXXXXXXXXXXX\")\nauth_token = (\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXX\")\nclient = Client(account_sid, auth_token)\nsoup = BeautifulSoup(html, 'html.parser')\n\nnames = soup.find_all(text=re.compile(\"My name is(.*)\"))\n\nold = []\nnew = []\nnewest = []\n\ndef check():\n    for name in names:\n        if name not in old:\n            old.append(name[11:-2])\n            if name in old:\n                continue\n\ndef new_check():\n    for name in names:\n        if name in old:\n            continue\n        if name not in new and name not in old:\n            new.append(name[11:-2])\n\n    for name in names:\n        if name in old and name in new:\n            continue\n        if name not in old and name not in new:\n            newest.append(name[11:-2])\n\n    #client.api.account.messages.create(to = \"+xxxxxxxxxxx\",\n                                        #from_= \"+xxxxxxxxxxx\",\n                                        #body = \"Here are some new dogs:\" + str(new))\n\n    #client.api.account.messages.create(to=\"+xxxxxxxxxxx\",\n                                       #from_=\"+xxxxxxxxxxx\",\n                                       #body=(\"There are \" + str(num_newest) + \" new puppies\"), media_url = 'http://petharbor.com/results.asp?searchtype=ADOPT&amp;start=3%20&amp;friends=1&amp;samaritans=1&amp;nosuccess=0&amp;rows=25&amp;imght=200&amp;imgres=thumb&amp;tWidth=200&amp;view=sysadm.v_chmp&amp;bgcolor=b7b7b7&amp;text=ffffff&amp;link=ffffff&amp;alink=4400ff&amp;vlink=ffffff&amp;fontface=arial&amp;fontsize=12&amp;col_hdr_bg=000066&amp;col_hdr_fg=ffffff&amp;SBG=000066&amp;zip=61802&amp;miles=10&amp;shelterlist=%27CHMP%27&amp;atype=&amp;where=type_DOG&amp;PAGE=1')\n\n    #client.api.account.messages.create(to = \"+xxxxxxxxxxx\",\n                                        #from_= \"+xxxxxxxxxxx\",\n                                        #body = \"Here are some new names:\" + str(newest))\n\n\nnum_old = len(old)\nnum_new = len(new)\nnum_newest = len(newest)\n\nwhile True:\n    check()\n    print(\"Old List: \" + str(old))\n    print(\"Number of old: \" + str(num_old))\n    time.sleep(20)\n    new_check()\n    print(\"New List: \" + str(new))\n    print(\"Number of new: \" + str(num_new))\n    print(\"Newest List: \" + str(newest))\n    print(\"Number of newest: \" + str(num_newest))\n    time.sleep(20)\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1500505010, "post_id": 45202325, "comment_id": 77371753, "body": "I can&#39;t reproduce. Your code removes letters from <code>wordList</code> when I run your code."}, {"owner": {"reputation": 832, "user_id": 8309965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fi6Oj.jpg?s=128&g=1", "display_name": "3D1T0R", "link": "https://stackoverflow.com/users/8309965/3d1t0r"}, "edited": false, "score": 0, "creation_date": 1500512482, "post_id": 45202325, "comment_id": 77373659, "body": "Note: If a letter is in <code>wordList</code> more than one time, then <code>wordList.remove(letter)</code> will only remove the first instance. (e.g. If <code>word = &quot;hello&quot;</code> then <code>wordList</code> will be <code>[&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;]</code>, and if <code>letter = &#39;l&#39;</code>, then after running <code>wordlist.remove(letter)</code>, <code>wordlist</code> will be <code>[&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;o&#39;]</code>, meaning that <code>&#39;l&#39;</code> would still be in <code>wordList</code>.) You&#39;d probably be better off using a set for this."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 8329414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82cde4bff2d3fd08f00004fb4f28665e?s=128&d=identicon&r=PG&f=1", "display_name": "Susan M", "link": "https://stackoverflow.com/users/8329414/susan-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1500507285, "creation_date": 1500507285, "answer_id": 45202731, "question_id": 45202325, "link": "https://stackoverflow.com/questions/45202325/element-not-deleting-from-list/45202731#45202731", "title": "element not deleting from list", "body": "<p>I was able to run your code. suggesting a small change for removing multiple occurrences of the letter.<br></p>\n\n<pre><code>word = \"apple\"\nwordList=list(word)\nwhile wordList != []:\n    letter=input(\"please enter a letter\")\n    letters = []\n    if len(letter)!=1:\n        print('invalid input, you may only enter one letter at a time')\n    if letter.isalpha():\n        if letter in letters:\n            print('you have already entered this letter')\n        else:\n            letters.append(letter)\n        if any(letter in s for s in wordList,):\n            print(letter,\"is in the word\")\n            wordList =filter(lambda a: a != letter, wordList)\n            #wordList.remove(letter)\n    print wordList\n</code></pre>\n\n<p>list.remove() - only removes first occurrence of the letter. you could use:<br></p>\n\n<pre><code>filter(lambda a: a!=letter, wordList) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 8113271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa593b8c4b42e7d1bdc0a6c74231cda7?s=128&d=identicon&r=PG&f=1", "display_name": "Jos&#233; Garcia", "link": "https://stackoverflow.com/users/8113271/jos%c3%a9-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1500507685, "last_edit_date": 1500507685, "creation_date": 1500507309, "answer_id": 45202735, "question_id": 45202325, "link": "https://stackoverflow.com/questions/45202325/element-not-deleting-from-list/45202735#45202735", "title": "element not deleting from list", "body": "<p>i recreated this and it worked for me:\n<a href=\"https://i.stack.imgur.com/j5YQu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j5YQu.png\" alt=\"enter image description here\"></a></p>\n\n<p>however i dont think this is the right approach to your problem because .remove() only work with the first match on your list, you could try something like</p>\n\n<pre><code>letters = list('_'*len(wordList))\nif letter in wordList:\n    qtty = wordList.count(letter)\n    position = wordList.index(letter)\n    letters[position] = letter\nif qtty &gt; 1:\n    for i in range(qtty-1):\n        position = wordList.index(letter, position+1)                \n        letters[position] = letter\n</code></pre>\n\n<p>that way you have instead of a full list, removing every time you insert the rigth letter, you will have an empty (actually full of '_' characters) list, adding the letters to its position every time you insert the right letter, that way you can print the current word like this\n<a href=\"https://i.gyazo.com/122f6fc65cc321632aa914003e6aace4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.gyazo.com/122f6fc65cc321632aa914003e6aace4.png\" alt=\"enter image description here\"></a></p>\n\n<p>i've made a game like this, its on my <a href=\"https://github.com/maybejose/Adivina-la-palabra\" rel=\"nofollow noreferrer\">github</a>, the instructions are on spanish but its easy to follow up</p>\n"}], "owner": {"reputation": 1, "user_id": 8334577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae4b85f0e7a0db89baa7ff3c84b55fd7?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/8334577/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1500507685, "creation_date": 1500504665, "last_edit_date": 1500505267, "question_id": 45202325, "link": "https://stackoverflow.com/questions/45202325/element-not-deleting-from-list", "title": "element not deleting from list", "body": "<p>I'm creating a hangman program and I used the <code>list()</code> function to turn the word into a list where each letter is its own element. As the user inputs letters as guesses, I want the letter to delete from the list. I've tried the <code>list.remove(obj)</code> function and it isn't working as when I type into the shell the name of the list, no letters have been deleted.</p>\n\n<pre>\n<strong>wordList=list(word)</strong>\n<strong>letter=input(\"please enter a letter\")</strong>\nif len(letter)>1:\n    print('invalid input, you may only enter one letter at a time')\nelif letter.isalpha():\n    if letter in letters:\n        print('you have already entered this letter')\n    else:\n        letters.append(letter)\n\n        if any(letter in s for s in wordList,):\n            print(letter,\"is in the word\")\n            <strong>wordList.remove(letter)</strong>\n</pre>\n\n<p>Edited for length.\nAny ideas why the letters aren't being removed from <code>wordList</code>?</p>\n"}, {"tags": ["python", "simplecv"], "comments": [{"owner": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 0, "creation_date": 1500505547, "post_id": 45202323, "comment_id": 77371924, "body": "could you add more detail, how does the images look, or how does the data does not change?"}, {"owner": {"reputation": 3, "user_id": 8334590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QIsBY.png?s=128&g=1", "display_name": "Penguinz22", "link": "https://stackoverflow.com/users/8334590/penguinz22"}, "reply_to_user": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 0, "creation_date": 1500599061, "post_id": 45202323, "comment_id": 77421047, "body": "I edited the post now"}], "owner": {"reputation": 3, "user_id": 8334590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QIsBY.png?s=128&g=1", "display_name": "Penguinz22", "link": "https://stackoverflow.com/users/8334590/penguinz22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500599025, "creation_date": 1500504658, "last_edit_date": 1500599025, "question_id": 45202323, "link": "https://stackoverflow.com/questions/45202323/simplecv-color-spaces-not-changing", "title": "SimpleCV Color Spaces not changing", "body": "<p>Right now i am using python and taking an image with simplecv from my raspberry pi with the raspi cam but the R and B values are reversed. I saw in the image that blue is orange and wood is blue. I researched how to do it and i cam up with this code:</p>\n\n<pre><code>from SimpleCV import *\n\ncam = Camera()\n\ntime.sleep(3)\n\nimg = cam.getImage().flipVertical().flipHorizontal().toRGB()\n\nimg.save('/home/pi/Documents/colortest.png')\n</code></pre>\n\n<p>This though, does not work, it looks the exact same as if i didnt add the</p>\n\n<pre><code>.toRGB()\n</code></pre>\n\n<p>It seems as it didn't even recognize the function call and leaves the image as it would be without then function call. \nSo I need help changing the color space to RGB because it is not changing</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "edited": false, "score": 0, "creation_date": 1500505617, "post_id": 45202297, "comment_id": 77371955, "body": "Why are you looping over the sprites in both in <code>mainloop()</code> and <code>move()</code>?"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1500506579, "post_id": 45202297, "comment_id": 77372224, "body": "<a href=\"https://docs.python.org/3/tutorial/errors.html#handling-exceptions\" rel=\"nofollow noreferrer\">Catch the error</a> and print relevant things/data in the except suite - work backwards from there."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1500512317, "post_id": 45202297, "comment_id": 77373621, "body": "Did you write all that?"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1500513296, "post_id": 45202297, "comment_id": 77373817, "body": "You should go back and add <a href=\"https://www.python.org/dev/peps/pep-0257/\" rel=\"nofollow noreferrer\">docstrings</a> to all your functions and methods - it might help you be able to navigate all that when there is a probllem.  I did notice that you have a Sprite class that defines a <code>coords</code> attribute and then you have two classes that inherit from Sprite that both override  <code>coords</code> and define a <code>coordinates</code> attribute- maybe you should revisit that and clean it up a bit."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1500520322, "post_id": 45202297, "comment_id": 77375514, "body": "Sometimes the process of making a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> helps you find the problem."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8242641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/hfwX5.jpg?s=128&g=1", "display_name": "That_one_guy", "link": "https://stackoverflow.com/users/8242641/that-one-guy"}, "edited": false, "score": 0, "creation_date": 1500505665, "post_id": 45202385, "comment_id": 77371975, "body": "It was: TypeError: &#39;Coords&#39; object is not callable"}, {"owner": {"reputation": 2577, "user_id": 6263317, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Imx4J.jpg?s=128&g=1", "display_name": "Jon Deaton", "link": "https://stackoverflow.com/users/6263317/jon-deaton"}, "edited": false, "score": 0, "creation_date": 1500506430, "post_id": 45202385, "comment_id": 77372175, "body": "Could it also be then because you&#39;re loading a <code>Coords</code> object into the <code>coords</code> field with <code>self.coords = Coords(x,y,x + width,y + height)</code>? This could be a second error since it seems that <code>sprite.coords</code> should be a function not an object?"}], "tags": [], "owner": {"reputation": 2577, "user_id": 6263317, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Imx4J.jpg?s=128&g=1", "display_name": "Jon Deaton", "link": "https://stackoverflow.com/users/6263317/jon-deaton"}, "is_accepted": false, "score": 1, "last_activity_date": 1500505342, "last_edit_date": 1500505342, "creation_date": 1500505036, "answer_id": 45202385, "question_id": 45202297, "link": "https://stackoverflow.com/questions/45202297/attribute-error-while-making-a-game-in-python-i-can-not-figure-out-what-is-happ/45202385#45202385", "title": "Attribute error while making a game in python. I can not figure out what is happening", "body": "<p>Its because you have</p>\n\n<p><code>sprite_co = sprite.coords</code></p>\n\n<p>which means <code>sprite_co</code> references a function rather than the function's return value. In subsequent function calls you try to access attribute <code>y1</code> but since <code>sprite_co</code> is a function (rather than the return of function call as I believe was intended) it has no <code>y1</code> attribute. Replace this line with </p>\n\n<p><code>sprite_co = sprite.coords()</code></p>\n"}], "owner": {"reputation": 3, "user_id": 8242641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/hfwX5.jpg?s=128&g=1", "display_name": "That_one_guy", "link": "https://stackoverflow.com/users/8242641/that-one-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500505342, "creation_date": 1500504564, "last_edit_date": 1500504675, "question_id": 45202297, "link": "https://stackoverflow.com/questions/45202297/attribute-error-while-making-a-game-in-python-i-can-not-figure-out-what-is-happ", "title": "Attribute error while making a game in python. I can not figure out what is happening", "body": "<p>I have been looking at this code for a while and can not find the problem. Can anyone help?\nThis is my code:</p>\n\n<pre><code>from tkinter import *\nimport random\nimport time\n\nclass Game:\n    def __init__(self):\n        self.tk = Tk()\n        self.tk.title(\"Mr stick man adventures\")\n        self.tk.resizable(0,0)\n        self.tk.wm_attributes(\"-topmost\", 1)\n        self.canvas = Canvas(self.tk, width=500, height=500, highlightthickness=0)\n        self.canvas.pack()\n        self.tk.update()\n        self.canvas_height = 500\n        self.canvas_width = 500\n        self.bg = PhotoImage(file=\"Background.png\")\n        w = self.bg.width()\n        h = self.bg.height()\n        for x in range(0,5):\n            for y in range(0,5):\n                self.canvas.create_image(x * w, y * h,image=self.bg, anchor='nw')\n        self.sprites = []\n        self.running = True\n\n    def mainloop(self):\n        while 1:\n            if self.running == True:\n                for sprite in self.sprites:\n                    sprite.move()\n            self.tk.update_idletasks()\n            self.tk.update()\n            time.sleep(0.01)\n\nclass Coords:\n    def __init__(self,x1=0, y1=0, x2=0, y2=0):\n        self.x1 = x1\n        self.y1 = y1\n        self.x2 = x2\n        self.y2 = y2\n\ndef within_x(co1,co2):\n    if co1.x1 &gt; co2.x1 and co1.x1 &lt; co2.x2:\n        return True\n    elif co1.x2 &gt; co2.x1 and co1.x2 &lt; co2.x2:\n        return True\n    elif co2.x1 &gt; co1.x1 and co2.x1 &lt; co1.x2:\n        return True\n    elif co2.x2 &gt; co1.x1 and co2.x2 &lt; co1.x2:\n        return True\n    else:\n        return False\n\ndef within_y(co1,co2):\n    if (co1.y1 &gt; co2.y1 and co1.y1 &lt; co2.y2) \\\n            or(co1.y2 &gt; co2.y1 and co1.y2 &lt; co2.y2) \\\n            or(co2.y1 &gt; co1.y1 and co2.y1 &lt; co1.y2) \\\n            or(co2.y2 &gt; co1.y1 and co2.y2 &lt; co1.y2):\n        return True\n    else:\n        return False\n\ndef collided_left(co1,co2):\n    if within_y(co1,co2):\n        if co1.x1 &lt;= co2.x2 and co1.x1 &gt;= co2.x1:\n            return True\n    return False\n\ndef collided_right(co1,co2):\n    if within_y(co1,co2):\n        if co1.x2 &gt;= co2.x1 and co1.x2 &lt;= co2.x2:\n            return True\n    return False\n\ndef collided_top(co1,co2):\n    if within_x(co1,co2):\n        if co1.y1 &lt;= co2.y2 and co1.y1 &gt;= co2.y1:\n            return True\n    return False\n\ndef collided_bottom(y,co1,co2):\n    if within_x(co1,co2):\n        y_calc = co1.y2 + y\n        if y_calc &gt;= co2.y1 and y_calc &lt;= co2.y2:\n            return True\n    return False\n\nclass Sprite:\n    def __init__(self,game):\n        self.game = game\n        self.endgame = False\n        self.coordinates = None\n\n    def move(self):\n        pass\n\n    def coords(self):\n        return self.coordinates\n\nclass PlatformSprite(Sprite):\n    def __init__(self, game, photo_image, x, y, width, height):\n        Sprite.__init__(self,game)\n        self.photo_image = photo_image\n        self.image = game.canvas.create_image(x,y,image=self.photo_image,anchor='nw')\n        self.coords = Coords(x,y,x + width,y + height)\n\nclass StickFigureSprite(Sprite):\n    def __init__(self,game):\n        Sprite.__init__(self,game)\n        self.images_left = [\n            PhotoImage(file=\"l_r.gif\"),\n            PhotoImage(file=\"l_r2.gif\"),\n            PhotoImage(file=\"l_j.gif\")\n        ]\n        self.images_right = [\n            PhotoImage(file=\"r_r.gif\"),\n            PhotoImage(file=\"r_r2.gif\"),\n            PhotoImage(file=\"r_j.gif\")\n        ]\n        self.image = game.canvas.create_image(200,470,image=self.images_left[0],anchor='nw')\n        self.x = -2\n        self.y = 0\n        self.current_image = 0\n        self.current_image_add = 1\n        self.jump_count = 0\n        self.last_time = time.time()\n        self.coordinates = Coords()\n        game.canvas.bind_all(\"&lt;KeyPress-Left&gt;\", self.turn_left)\n        game.canvas.bind_all(\"&lt;KeyPress-Right&gt;\", self.turn_right)\n        game.canvas.bind_all(\"&lt;space&gt;\", self.jump)\n\n    def turn_left(self, evt):\n        if self.y == 0:\n            self.x = -2\n\n    def turn_right(self,evt):\n        if self.y == 0:\n            self.x = 2\n\n    def jump(self, evt):\n        if self.y == 0:\n            self.y = -4\n            self.jump_count = 0\n\n    def animate(self):\n        if self.x != 0 and self.y == 0:\n            if time.time() - self.last_time &gt; 0.1:\n                self.last_time = time.time()\n                self.current_image += self.current_image_add\n                if self.current_image &gt;= 2:\n                    self.current_image_add = -1\n                if self.current_image &lt;= 0:\n                    self.current_image_add = 1\n        if self.x &lt; 0:\n            if self.y != 0:\n                self.game.canvas.itemconfig(self.image,image=self.images_left[2])\n            else:\n                self.game.canvas.itemconfig(self.image,image=self.images_left[self.current_image])\n        elif self.x &gt; 0:\n            if self.y != 0:\n                self.game.canvas.itemconfig(self.image,image=self.images_right[2])\n            else:\n                self.game.canvas.itemconfig(self.image,image=self.images_right[self.current_image])\n\n    def coords(self):\n        xy = self.game.canvas.coords(self.image)\n        self.coordinates.x1 = xy[0]\n        self.coordinates.y1 = xy[1]\n        self.coordinates.x2 = xy[0] + 27\n        self.coordinates.y2 = xy[1] + 30\n        return self.coordinates\n\n    def move(self):\n        self.animate()\n        if self.y &lt; 0:\n            self.jump_count += 1\n            if self.jump_count &gt; 20:\n                self.y = 4\n        if self.y &gt; 0:\n            self.jump_count -= 1\n        co = self.coords()\n        left = True\n        right = True\n        top = True\n        bottom = True\n        falling = True\n        if self.y &gt; 0 and co.y2 &gt;= self.game.canvas_height:\n            self.y = 0\n            bottom = False\n        elif self.y &lt; 0 and co.y1 &lt;= 0:\n            self.y = 0\n            top = False\n        if self.x &gt; 0 and co.x2 &gt;= self.game.canvas_width:\n            self.x = 0\n            right = False\n        elif self.x &lt; 0 and co.x1 &lt;= 0:\n            self.x = 0\n            left = False\n        for sprite in self.game.sprites:\n            if sprite == self:\n                continue\n            sprite_co = sprite.coords\n            if top and self.y &lt; 0 and collided_top(co,sprite_co):\n                self.y = -self.y\n                top = False\n            if bottom and self.y &gt; 0 and collided_bottom(self.y,co,sprite_co):\n                self.y = sprite_co.y1 - co.y2\n                if self.y &lt; 0:\n                    self.y = 0\n                bottom = False\n                top = False\n            if bottom and falling and self.y == 0 and co.y2 &lt; self.game.canvas_height and collided_bottom(1,co,sprite_co):\n                falling = False\n            if left and self.x &lt; 0 and collided_left(co,sprite_co):\n                self.x = 0\n                left = False\n                if sprite.endgame:\n                    self.game.running = False\n            if right and self.x &gt; 0 and collided_right(co,sprite_co):\n                self.x = 0\n                right = False\n                if sprite.endgame:\n                    self.game.running = False\n        if falling and bottom and self.y == 0 and co.y2 &lt; self.game.canvas_height:\n            self.y = 4\n        self.game.canvas.move(self.image,self.x,self.y)\n\nclass DoorSprite(Sprite):\n    def __init__(self,game,photo_image,x,y,width,height):\n        Sprite.__init__(self,game)\n        self.photo_image = photo_image\n        self.image = game.canvas.create_image(x,y,image=self.photo_image,anchor='nw')\n        self.coordinates = Coords(x,y, x + (width/2), y + height)\n        self.endgame=True\n\ng = Game()\nplatform1 = PlatformSprite(g, PhotoImage(file=\"platform1.png\"),0,480,100,10)\nplatform2 = PlatformSprite(g, PhotoImage(file=\"platform1.png\"),150,440,100,10)\nplatform3 = PlatformSprite(g, PhotoImage(file=\"platform1.png\"),300, 400, 100, 10)\nplatform4 = PlatformSprite(g, PhotoImage(file=\"platform1.png\"),300, 160, 100, 10)\nplatform5 = PlatformSprite(g, PhotoImage(file=\"platform2.png\"),175, 350, 66, 10)\nplatform6 = PlatformSprite(g, PhotoImage(file=\"platform2.png\"),50, 300, 66, 10)\nplatform7 = PlatformSprite(g, PhotoImage(file=\"platform2.png\"),170, 120, 66, 10)\nplatform8 = PlatformSprite(g, PhotoImage(file=\"platform2.png\"),45, 60, 66, 10)\nplatform9 = PlatformSprite(g, PhotoImage(file=\"platform1.png\"),170, 250, 37, 10)\nplatform10 = PlatformSprite(g, PhotoImage(file=\"platform1.png\"),230, 200, 37, 10)\ng.sprites.append(platform1)\ng.sprites.append(platform2)\ng.sprites.append(platform3)\ng.sprites.append(platform4)\ng.sprites.append(platform5)\ng.sprites.append(platform6)\ng.sprites.append(platform7)\ng.sprites.append(platform8)\ng.sprites.append(platform9)\ng.sprites.append(platform10)\ndoor = DoorSprite(g,PhotoImage(file=\"door1.gif\"),45,30,40,35)\ng.sprites.append(door)\nsf = StickFigureSprite(g)\ng.sprites.append(sf)\ng.mainloop()\n</code></pre>\n\n<p>When I run this i this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\OWNER\\AppData\\Local\\Programs\\Python\\Python36-32\\Mr_stick_man_adventures.py\", line 260, in &lt;module&gt;\n    g.mainloop()\n  File \"C:\\Users\\OWNER\\AppData\\Local\\Programs\\Python\\Python36-32\\Mr_stick_man_adventures.py\", line 29, in mainloop\n    sprite.move()\n  File \"C:\\Users\\OWNER\\AppData\\Local\\Programs\\Python\\Python36-32\\Mr_stick_man_adventures.py\", line 213, in move\n    if left and self.x &lt; 0 and collided_left(co,sprite_co):\n  File \"C:\\Users\\OWNER\\AppData\\Local\\Programs\\Python\\Python36-32\\Mr_stick_man_adventures.py\", line 63, in collided_left\n    if within_y(co1,co2):\n  File \"C:\\Users\\OWNER\\AppData\\Local\\Programs\\Python\\Python36-32\\Mr_stick_man_adventures.py\", line 54, in within_y\n    if (co1.y1 &gt; co2.y1 and co1.y1 &lt; co2.y2) \\\nAttributeError: 'function' object has no attribute 'y1'\n</code></pre>\n\n<p>Please help</p>\n"}, {"tags": ["python", "anaconda", "analysis", "astronomy"], "comments": [{"owner": {"reputation": 3, "user_id": 8334465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329d87ae613c8fe334957525374bca46?s=128&d=identicon&r=PG&f=1", "display_name": "l1ve4science", "link": "https://stackoverflow.com/users/8334465/l1ve4science"}, "edited": false, "score": 0, "creation_date": 1500504457, "post_id": 45202265, "comment_id": 77371595, "body": "<a href=\"https://i.stack.imgur.com/dmOz5.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/dmOz5.png</a> Here is the attachment sorry about that."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8334465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329d87ae613c8fe334957525374bca46?s=128&d=identicon&r=PG&f=1", "display_name": "l1ve4science", "link": "https://stackoverflow.com/users/8334465/l1ve4science"}, "edited": false, "score": 0, "creation_date": 1500939726, "post_id": 45203427, "comment_id": 77545630, "body": "They are all pulled from this <a href=\"https://data.sdss.org/sas/dr13/eboss/spectro/redux/images/v5_9_0/v5_9_0/4381-55824/\" rel=\"nofollow noreferrer\">data.sdss.org/sas/dr13/eboss/spectro/redux/images/v5_9_0/v5_&zwnj;&#8203;9_0/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 8334465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329d87ae613c8fe334957525374bca46?s=128&d=identicon&r=PG&f=1", "display_name": "l1ve4science", "link": "https://stackoverflow.com/users/8334465/l1ve4science"}, "edited": false, "score": 0, "creation_date": 1500942089, "post_id": 45203427, "comment_id": 77546144, "body": "Also, all images are of different sizes"}, {"owner": {"reputation": 425, "user_id": 8269424, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0dd9d94139ede71b080a46174ae1d0e6?s=128&d=identicon&r=PG&f=1", "display_name": "verisimilidude", "link": "https://stackoverflow.com/users/8269424/verisimilidude"}, "reply_to_user": {"reputation": 3, "user_id": 8334465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329d87ae613c8fe334957525374bca46?s=128&d=identicon&r=PG&f=1", "display_name": "l1ve4science", "link": "https://stackoverflow.com/users/8334465/l1ve4science"}, "edited": false, "score": 0, "creation_date": 1501170906, "post_id": 45203427, "comment_id": 77672622, "body": "The <code>img</code> tag in the CSS will make the images all display at the same size but it might stretch some to make them fit.  You could modify the <code>&lt;img&gt;</code> tag so that rather than loading the images from a local store the browser would load them across the internet each time you brought up the page.  This will probably be slow.  I would only choose that method if you don&#39;t have enough storage space on your computer."}], "tags": [], "owner": {"reputation": 425, "user_id": 8269424, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0dd9d94139ede71b080a46174ae1d0e6?s=128&d=identicon&r=PG&f=1", "display_name": "verisimilidude", "link": "https://stackoverflow.com/users/8269424/verisimilidude"}, "is_accepted": false, "score": 0, "last_activity_date": 1500519681, "last_edit_date": 1500519681, "creation_date": 1500512351, "answer_id": 45203427, "question_id": 45202265, "link": "https://stackoverflow.com/questions/45202265/python-pulling-png-from-a-website-outputting-to-another/45203427#45203427", "title": "Python: Pulling .png from a website, outputting to another", "body": "<p>Not too surprising you are little at sea with this project.  It requires combining Python, HTML, and possibly CSS.</p>\n\n<p>\"Each individual spectra is pulled from a massive library\" - I am going to assume in this answer that you have pulled the spectra of interest into a local directory and want to look at these in a web page served locally.  I am also going to assume that all the png files are the same size.</p>\n\n<p>If this is correct, what you want is to create a file of simple html that references all the png files, laying them out in a simple table.  To do this the code needs to cd into the directory with the image files,  open up an output file named \"index.html\" (the name is significant), use glob to get all the names of the spectra images, and loop over the names writing out the html\nfor the page.  Once you have the file created you can serve it locally with the command line command</p>\n\n<pre><code>    python -m http.server 8000\n</code></pre>\n\n<p>You can then see your page by pointing the browser at <code>http://localhost:8000</code>.</p>\n\n<p>Here is an example implementation</p>\n\n<pre><code>    from glob import glob\n    import os\n\n    def spectra_imgs(spectra_dir, sp_format):\n        '''Return an iterable with names of all the files in the spectra_dir\n        that match the name format sp_format.'''\n        for gl_name in glob(os.path.join(spectra_dir, sp_format)):\n            yield os.path.basename(gl_name)\n\n    def add_img(sp_img, side, outfile):\n        ''' Add a table item to existing table.\n            sp_img is the filename of the image\n            side is \"left\" or \"right\"\n            outfile is an open file handle\n            Returns None\n        '''\n        if side == 'left':\n            outfile.write('&lt;tr&gt;&lt;td class=\"left_img\"&gt;&lt;img src=\"{0}\" alt={0}&gt;&lt;/td&gt;\\n\"'.format(sp_img))\n        elif side == 'right':\n            outfile.write('&lt;td class=\"right_img\"&gt;&lt;img src=\"{0}\" alt={0}&gt;&lt;/td&gt;&lt;/tr&gt;\\n\"'.format(sp_img))\n        else:\n            raise ValueError(\"Side must be either left or right, not {0}\".format(side))\n\n    def sides():\n        ''' Return an iterator that supplies an infinite sequence of \"left\" and \"right\".'''\n        while True:\n            yield \"left\"\n            yield \"right\"\n\n    def write_prefix(outfile):\n        outfile.write(\n        '&lt;!DOCTYPE html&gt;\\n'\n        '&lt;html class=\"spectra_page\" lang=\"en\"&gt;\\n'\n        '&lt;head&gt;\\n'\n        '&lt;meta charset=\"UTF-8\"/&gt;\\n'\n        '&lt;title&gt;Spectra Comparison Page&lt;/title&gt;\\n'\n        '&lt;style&gt;\\n'\n        'table { width: 100%; }\\n'\n        '#left_img { align-items: center }\\n'\n        '#right_img { align-items: center }\\n'\n        'img { height:500px; width:500px }\\n' # change to whatever size you want the images displayed at\n        '&lt;/style&gt;\\n'\n        '&lt;/head&gt;\\n'\n        '&lt;body&gt;\\n')\n\n\n    def write_suffix(outfile):\n        outfile.write(\n        '&lt;/table&gt;\\n'\n        '&lt;/body&gt;\\n'\n        '&lt;/html&gt;\\n'\n        )\n\n    def write_spectra_page(spectra_dir):\n        ''' Write an index.html file with all the spectra images shown. '''\n        with open(os.join(spectra_dir, \"index.html\")) as outfile:\n            write_prefix(outfile)\n            for side, sp_img in zip(sides, spectra_imgs(spectra_dir,'sp*.png'):\n                add_img(sp_img, side, outfile)\n            if side == \"left\":\n                # need to close the table row\n                outfile.write('&lt;/tr&gt;\\n')\n            write_suffix(outfile)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8334465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329d87ae613c8fe334957525374bca46?s=128&d=identicon&r=PG&f=1", "display_name": "l1ve4science", "link": "https://stackoverflow.com/users/8334465/l1ve4science"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500534174, "creation_date": 1500504389, "last_edit_date": 1500534174, "question_id": 45202265, "link": "https://stackoverflow.com/questions/45202265/python-pulling-png-from-a-website-outputting-to-another", "title": "Python: Pulling .png from a website, outputting to another", "body": "<p>Hoping this question is not too vague, or asking for too much. Essentially I am analyzing large amounts of spectra, and wanting to create one large webpage that contains these spectra rather than looking at individual spectra. Attached is an example of what the end result should look like. </p>\n\n<p><img src=\"https://i.stack.imgur.com/dmOz5.png\" alt=\"example\"></p>\n\n<p>Each individual spectra on there is pulled from a massive library. It has been a long time since I have coded, so this is still a learning experience. I have managed to create a webpage, and pull forward a single spectra. But have not put those two together. Especially not on the scale of hundred of thousands. Presumably this is a matter of a for loop?\nIf someone could help that would be amazing, point in some direction, or a template. This should be very easy, yet I am struggling. \nP.s. Much of my work right now is in anaconda python</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1500504872, "post_id": 45202246, "comment_id": 77371715, "body": "Are you asking how to make the Text widget fill the window or make the window shrink to the size of the Text widget? The window draws at 600x300 for me. Add this line to see the geometry when it changes: <code>root.bind(&#39;&lt;Configure&gt;&#39;, lambda e: print(root.geometry()))</code>"}, {"owner": {"reputation": 51, "user_id": 8126322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76b5d27ab667cdc8a564b593e61873cf?s=128&d=identicon&r=PG&f=1", "display_name": "ProfessionalNameForDisplayHere", "link": "https://stackoverflow.com/users/8126322/professionalnamefordisplayhere"}, "reply_to_user": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1500505045, "post_id": 45202246, "comment_id": 77371764, "body": "I want the OutWidget which is where the text is written, to be the same size as the overall window. For me, it is extending invisibly far past the width of the frame. So, I have to resize the window to be larger to see the scroll bar or the edge of the OutWidget text window."}], "answers": [{"comments": [{"owner": {"reputation": 3204, "user_id": 4165377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xT7vO.png?s=128&g=1", "display_name": "Massimiliano Kraus", "link": "https://stackoverflow.com/users/4165377/massimiliano-kraus"}, "edited": false, "score": 1, "creation_date": 1500562637, "post_id": 45202674, "comment_id": 77403025, "body": "To make your answer feasible for this site, you better <i>explain</i> how to solve the problem, instead of simply posting blind code."}], "tags": [], "owner": {"reputation": 297, "user_id": 8062277, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-Fu7HUBSCcp0/AAAAAAAAAAI/AAAAAAAAABA/mp_9R9DPAJI/photo.jpg?sz=128", "display_name": "S.G. Harmonia", "link": "https://stackoverflow.com/users/8062277/s-g-harmonia"}, "is_accepted": false, "score": -2, "last_activity_date": 1500506901, "creation_date": 1500506901, "answer_id": 45202674, "question_id": 45202246, "link": "https://stackoverflow.com/questions/45202246/pack-tkinter-window-expanding-past-frame/45202674#45202674", "title": "Pack tkinter window expanding past frame", "body": "<p>Use <code>&lt;window/parent&gt;.resizable(width=False, height=True)</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 8126322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76b5d27ab667cdc8a564b593e61873cf?s=128&d=identicon&r=PG&f=1", "display_name": "ProfessionalNameForDisplayHere", "link": "https://stackoverflow.com/users/8126322/professionalnamefordisplayhere"}, "edited": false, "score": 0, "creation_date": 1500563646, "post_id": 45202746, "comment_id": 77403813, "body": "I&#39;ve tried setting the side=LEFT, fill=BOTH, expand=True. What I was missing apparently, was the need to set the window height=1,width=1. For some reason, even with the window set to fill and expand, it doesn&#39;t work. Any idea why the height, and width need to be set small explicitely?"}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "reply_to_user": {"reputation": 51, "user_id": 8126322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76b5d27ab667cdc8a564b593e61873cf?s=128&d=identicon&r=PG&f=1", "display_name": "ProfessionalNameForDisplayHere", "link": "https://stackoverflow.com/users/8126322/professionalnamefordisplayhere"}, "edited": false, "score": 0, "creation_date": 1500563952, "post_id": 45202746, "comment_id": 77404021, "body": "@ProfessionalNameForDisplayHere I tested it and it worked for me. Update your OP with the code you have now and I&#39;ll take a look."}, {"owner": {"reputation": 51, "user_id": 8126322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76b5d27ab667cdc8a564b593e61873cf?s=128&d=identicon&r=PG&f=1", "display_name": "ProfessionalNameForDisplayHere", "link": "https://stackoverflow.com/users/8126322/professionalnamefordisplayhere"}, "edited": false, "score": 0, "creation_date": 1500569116, "post_id": 45202746, "comment_id": 77407645, "body": "Sorry, my comment wasn&#39;t clear. It does work, but only if I also specify the height=1, width=1. Without that part. The window expands out past the width of the gui window."}], "tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": true, "score": 1, "last_activity_date": 1500507381, "creation_date": 1500507381, "answer_id": 45202746, "question_id": 45202246, "link": "https://stackoverflow.com/questions/45202246/pack-tkinter-window-expanding-past-frame/45202746#45202746", "title": "Pack tkinter window expanding past frame", "body": "<p>You explicitly set the OUtWidget to <code>fill='none', expand=False</code>. But from your description you want:</p>\n\n<pre><code>self.OutWidget.pack(side=LEFT, fill='both', expand=True)\n</code></pre>\n\n<p>You need start with a tiny Text window because it will only expand, not shrink:</p>\n\n<pre><code>self.OutWidget = Text(Window, height=1, width=1, yscrollcommand=self.scroll.set)\n</code></pre>\n\n<p>and make sure you do the same for the containing Frame:</p>\n\n<pre><code>Window.pack(fill='both', expand=True)\n</code></pre>\n\n<p>Specifying the size for Window is pointless because those setting are overridden as soon as anything is packed into it. </p>\n"}], "owner": {"reputation": 51, "user_id": 8126322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/76b5d27ab667cdc8a564b593e61873cf?s=128&d=identicon&r=PG&f=1", "display_name": "ProfessionalNameForDisplayHere", "link": "https://stackoverflow.com/users/8126322/professionalnamefordisplayhere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 45202746, "answer_count": 2, "score": 0, "last_activity_date": 1500507381, "creation_date": 1500504306, "last_edit_date": 1500505796, "question_id": 45202246, "link": "https://stackoverflow.com/questions/45202246/pack-tkinter-window-expanding-past-frame", "title": "Pack tkinter window expanding past frame", "body": "<p>I have a GUI that I'm trying to lay out so the screen words are added to fills the screen in each direction, but only up to the size of root.geometry('300x600')</p>\n\n<p>Instead, it is expanding far past the width of the frame. Is there any way to size this so it packs correct? I have tried a lot of things so far that don't work.    </p>\n\n<p><strong>Edit: To see the entire text, and scroll bar, I have to set root.geometry('684x418)</strong></p>\n\n<pre><code>from tkinter import *\n\nclass Rhapsody_Gui:\n    def __init__(self,root):\n        Window = Frame(root, width=200, height=200)\n\n        self.InWidget = Text(Window,bg='white',bd=3,fg='black',exportselection=0,height=1,wrap=WORD,insertofftime=0,insertbackground=\"white\")\n\n        Window.pack()\n        self.InWidget.focus_set()\n\n\n\n        self.scroll = Scrollbar(Window, orient=VERTICAL)\n        self.OutWidget = Text(Window, yscrollcommand=self.scroll.set)#, height=30)\n        self.OutWidget.bind(\"&lt;Button 1&gt;\",self.Select)\n        self.InWidget.bind(\"&lt;Return&gt;\", self.Post)\n        myList = ['words', 'that', 'should', 'be', 'printed']\n        for x in myList:\n            self.OutWidget['state'] = ['normal']\n            self.OutWidget.insert(END, x +'\\n')\n\n        self.scroll.config(command=self.OutWidget.yview)\n        self.InWidget.pack(side=TOP, fill='none')\n        self.OutWidget.pack(side=LEFT, fill='none', expand=False)\n        self.scroll.config(command=self.OutWidget.yview)\n        self.scroll.pack(side=RIGHT, fill=Y, expand=False)#, ipadx=5)\n        self.OutWidget['state'] = ['disabled']\n\n    def Post(self,event):\n        text = self.InWidget.get(1.0,2.0)\n        self.InWidget.delete(1.0,2.0)\n        self.OutWidget['state'] = ['normal']\n        self.OutWidget.insert('end',text)\n        self.OutWidget['state'] = ['disabled']\n        return (\"break\")\n\n    def Select(self,event):\n        line_start = self.OutWidget.index(\"@%s,%s linestart\" % (event.x, event.y))\n        line_end = self.OutWidget.index(\"%s lineend\" % line_start)\n        self.OutWidget.tag_configure(\"highlight\", background=\"yellow\")\n        self.OutWidget.tag_remove(\"highlight\", 1.0, \"end\")\n        self.OutWidget.tag_add(\"highlight\", line_start, line_end)\n        self.InWidget.focus_set()\n        return (\"break\")\n\nif __name__ == '__main__':\n    root = Tk()\n    root.geometry('300x600+600+100')\n    App = Rhapsody_Gui(root)\n    root.mainloop()\n</code></pre>\n\n<p><strong>This is what I want it to look like, except filled all the way to the bottom</strong>\n<a href=\"https://i.stack.imgur.com/d2Uj3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d2Uj3.png\" alt=\"This is what I want it to look like, except extended all the way to the bottom\"></a></p>\n"}, {"tags": ["python", "python-3.x", "loops", "input"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 7967616, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f3403b73e8f1b105175d83e0aa48e8cf?s=128&d=identicon&r=PG&f=1", "display_name": "JeyKey", "link": "https://stackoverflow.com/users/7967616/jeykey"}, "edited": false, "score": 0, "creation_date": 1500506394, "post_id": 45202498, "comment_id": 77372165, "body": "But I need protection when someone inputs empty string(Enter) or letters. I need to ask them for input untill they input number 1 or 2."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 207, "user_id": 7967616, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f3403b73e8f1b105175d83e0aa48e8cf?s=128&d=identicon&r=PG&f=1", "display_name": "JeyKey", "link": "https://stackoverflow.com/users/7967616/jeykey"}, "edited": false, "score": 0, "creation_date": 1500506491, "post_id": 45202498, "comment_id": 77372196, "body": "Ah, I misunderstood your question. It seems that you are interested in handling the <code>except</code>!"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 207, "user_id": 7967616, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f3403b73e8f1b105175d83e0aa48e8cf?s=128&d=identicon&r=PG&f=1", "display_name": "JeyKey", "link": "https://stackoverflow.com/users/7967616/jeykey"}, "edited": false, "score": 0, "creation_date": 1500506927, "post_id": 45202498, "comment_id": 77372342, "body": "@JeyKey I&#39;ve added a simplified version of your code."}], "tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": false, "score": 0, "last_activity_date": 1500506890, "last_edit_date": 1500506890, "creation_date": 1500505700, "answer_id": 45202498, "question_id": 45202238, "link": "https://stackoverflow.com/questions/45202238/how-to-check-if-input-is-digit-and-in-range-at-the-same-time-python/45202498#45202498", "title": "How to check if input is digit and in range at the same time? Python", "body": "<p>If your <em>integer</em> number is between 1 and 2 (or it is in range(1,3)) it already means it is <em>a digit</em>!</p>\n\n<pre><code>while not (number in range(1, 3)):\n</code></pre>\n\n<p>which I would simplify to:</p>\n\n<pre><code>while number &lt; 1 or number &gt; 2:\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while not 0 &lt; number &lt; 3:\n</code></pre>\n\n<p>A simplified version of your code has try-except around the <code>int(input())</code> only:</p>\n\n<pre><code>def get_main_menu_choice():\n    number = 0\n    while number not in range(1, 3):\n        try:\n            number = int(input('Please pick a number from the list: '))\n        except: # just catch the exceptions you know!\n            continue # or print a message such as print(\"Bad choice. Try again...\")\n    return number\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8316175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nOUPv.jpg?s=128&g=1", "display_name": "Adah Adole", "link": "https://stackoverflow.com/users/8316175/adah-adole"}, "is_accepted": false, "score": 0, "last_activity_date": 1500506779, "creation_date": 1500506779, "answer_id": 45202655, "question_id": 45202238, "link": "https://stackoverflow.com/questions/45202238/how-to-check-if-input-is-digit-and-in-range-at-the-same-time-python/45202655#45202655", "title": "How to check if input is digit and in range at the same time? Python", "body": "<p>see if this works</p>\n\n<pre><code>def get_main_menu_choice():\n    while True:\n        try:\n            number = int(input(\"choose an option from the menu: \"))\n            if number not in range(1,3):\n                number = int(input(\"please pick a number from list: \"))\n        except IndexError:\n            number = int(input(\"Enter a number from the list\"))\n    return number\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 0, "last_activity_date": 1500506940, "creation_date": 1500506940, "answer_id": 45202680, "question_id": 45202238, "link": "https://stackoverflow.com/questions/45202238/how-to-check-if-input-is-digit-and-in-range-at-the-same-time-python/45202680#45202680", "title": "How to check if input is digit and in range at the same time? Python", "body": "<p>If you need to do validation against non-numbers as well you'll have to add a few steps:</p>\n\n<pre><code>def get_main_menu_choice(choices):\n    while True:\n        try:\n            number = int(input('Chose an option from menu: '))\n            if number in choices:\n                return number\n            else:\n                raise ValueError\n        except (TypeError, ValueError):\n            print(\"Invalid choice. Valid choices: {}\".format(str(choices)[1:-1]))\n</code></pre>\n\n<p>Then you can reuse it for any menu by passing a list of valid choices, e.g. <code>get_main_menu_choice([1, 2])</code> or <code>get_main_menu_choice(list(range(1, 3)))</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 8556, "user_id": 4640905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6a24b731a2271b7bd6a1cea92eac3b16?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas Adler", "link": "https://stackoverflow.com/users/4640905/jonas-adler"}, "is_accepted": true, "score": 1, "last_activity_date": 1500507456, "last_edit_date": 1500507456, "creation_date": 1500507256, "answer_id": 45202729, "question_id": 45202238, "link": "https://stackoverflow.com/questions/45202238/how-to-check-if-input-is-digit-and-in-range-at-the-same-time-python/45202729#45202729", "title": "How to check if input is digit and in range at the same time? Python", "body": "<p>I guess the most clean way of doing this would be to remove the double loops. But if you want both looping and error handling, you'll end up with somewhat convoluted code no matter what. I'd personally go for:</p>\n\n<pre><code>def get_main_menu_choice():\n    while True:    \n        try:\n            number = int(input('Chose an option from menu: '))\n            if 0 &lt; number &lt; 3:\n                return number\n        except (ValueError, TypeError):\n            pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1500507718, "creation_date": 1500507718, "answer_id": 45202802, "question_id": 45202238, "link": "https://stackoverflow.com/questions/45202238/how-to-check-if-input-is-digit-and-in-range-at-the-same-time-python/45202802#45202802", "title": "How to check if input is digit and in range at the same time? Python", "body": "<p>I would write it like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def get_main_menu_choice(prompt=None, start=1, end=3):\n    \"\"\"Returns a menu option.\n\n    Args:\n        prompt (str): the prompt to display to the user\n        start (int): the first menu item\n        end (int): the last menu item\n\n    Returns:\n        int: the menu option selected\n    \"\"\"\n    prompt = prompt or 'Chose an option from menu: '\n    ask = True\n    while ask is True:\n        number = input(prompt)\n        ask = False if number.isdigit() and 1 &lt;= int(number) &lt;= 3 else True\n   return int(number)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "edited": false, "score": 0, "creation_date": 1605025251, "post_id": 64770289, "comment_id": 114523890, "body": "Code only answers are discouraged on SO. Quality answers generally include an explanation, allowing users to quickly focus on &amp; understand how relevant portions of your code solves the OP&#39;s question. Most upvotes are gained over time as future visitors learn something that they can apply to solve their own coding issues. Consider editing to add explanation or context. Thanks for your contribution, &amp; welcome to SO."}], "tags": [], "owner": {"reputation": 11, "user_id": 14613075, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/8fbbd857817f5f4a6e593eff9c0a7c66?s=128&d=identicon&r=PG", "display_name": "user14613075", "link": "https://stackoverflow.com/users/14613075/user14613075"}, "is_accepted": false, "score": 1, "last_activity_date": 1605025068, "last_edit_date": 1605025068, "creation_date": 1605016536, "answer_id": 64770289, "question_id": 45202238, "link": "https://stackoverflow.com/questions/45202238/how-to-check-if-input-is-digit-and-in-range-at-the-same-time-python/64770289#64770289", "title": "How to check if input is digit and in range at the same time? Python", "body": "<pre><code>def user_number():\n\n    # variable initial\n    number = 'Wrong'\n    range1 = range(0,10)\n    within_range = False\n\n    while number.isdigit() == False or within_range == False:\n        number = input(&quot;Please enter a number (0-10): &quot;)\n\n        # Digit check\n        if number.isdigit() == False:\n            print(&quot;Sorry that is not a digit!&quot;)\n\n        # Range check\n        if number.isdigit() == True:\n            if int(number) in range1:\n                within_range = True\n            else:\n                within_range = False\n\n    return int(number)\n\nprint(user_number())\n``\n</code></pre>\n"}], "owner": {"reputation": 207, "user_id": 7967616, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f3403b73e8f1b105175d83e0aa48e8cf?s=128&d=identicon&r=PG&f=1", "display_name": "JeyKey", "link": "https://stackoverflow.com/users/7967616/jeykey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2404, "favorite_count": 0, "accepted_answer_id": 45202729, "answer_count": 6, "score": 3, "last_activity_date": 1605025068, "creation_date": 1500504257, "question_id": 45202238, "link": "https://stackoverflow.com/questions/45202238/how-to-check-if-input-is-digit-and-in-range-at-the-same-time-python", "title": "How to check if input is digit and in range at the same time? Python", "body": "<p>I would like to check if my input is digit and in range(1,3) at the same time and repeat input till I got satisfying answer.\nRight now I do this in this way, but the code is quite not clean and easy... Is there a better way to do this?\nMaybe with while loop?</p>\n\n<pre><code>def get_main_menu_choice():\n    ask = True\n    while ask:\n        try:\n            number = int(input('Chose an option from menu: '))\n            while number not in range(1, 3):\n                number = int(input('Please pick a number from the list: '))\n            ask = False\n        except: # just catch the exceptions you know!\n            print('Enter a number from the list')\n   return number\n</code></pre>\n\n<p>Will be grateful for help.</p>\n"}, {"tags": ["python", "mysql"], "answers": [{"tags": [], "owner": {"reputation": 8890, "user_id": 4349415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ta4zl.png?s=128&g=1", "display_name": "Mike Scotty", "link": "https://stackoverflow.com/users/4349415/mike-scotty"}, "is_accepted": true, "score": 1, "last_activity_date": 1500504416, "creation_date": 1500504416, "answer_id": 45202268, "question_id": 45202229, "link": "https://stackoverflow.com/questions/45202229/wont-store-csv-data-into-mysql-table/45202268#45202268", "title": "Won&#39;t store csv data into mysql table?", "body": "<p>The query expects 8 parameters (indicated by <code>(%s, %s, %s, %s, %s, %s, %s, %s)</code>), however you only provide a single parameter, namely <code>str(row)</code>.</p>\n\n<p>If you're sure that <code>row</code> contains 8 string values, you can use</p>\n\n<pre><code>cursor.execute(\"INSERT INTO scanresults(typotype,squatdomain, ip, id, domaincontact, mx, originaldomain, ipcontact) \\\n   VALUES (%s, %s, %s, %s, %s, %s, %s, %s)\", *row)\n</code></pre>\n\n<p>or just go with </p>\n\n<pre><code>cursor.execute(\"INSERT INTO scanresults(typotype,squatdomain, ip, id, domaincontact, mx, originaldomain, ipcontact) \\\n   VALUES (%s, %s, %s, %s, %s, %s, %s, %s)\", (row[0], row[1], row[2], row[3], row[4], row[5], row[6], row[7]))\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8272258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/530c53642d33ea1b9f85d5464afb5938?s=128&d=identicon&r=PG&f=1", "display_name": "jakethesnake", "link": "https://stackoverflow.com/users/8272258/jakethesnake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 45202268, "answer_count": 1, "score": 0, "last_activity_date": 1500504416, "creation_date": 1500504214, "question_id": 45202229, "link": "https://stackoverflow.com/questions/45202229/wont-store-csv-data-into-mysql-table", "title": "Won&#39;t store csv data into mysql table?", "body": "<p>I have a csv file that I am loading which you can see linked below as well as the error output I am getting. I cannot figure out why this error is happening. Any help is appreciated. </p>\n\n<pre><code>def url_store():\n        run_urlcrazy()\n        url_file = open('url_csv')\n        csv_reader = csv.reader(url_file)\n        cursor = db.cursor()\n        for row in csv_reader:\n            cursor.execute(\"INSERT INTO scanresults(typotype,squatdomain, ip, id, domaincontact, mx, originaldomain, ipcontact) \\\n       VALUES (%s, %s, %s, %s, %s, %s, %s, %s)\", str(row))\n\n    db.commit()\n    cursor.close()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/3Jw0x.png\" rel=\"nofollow noreferrer\">Error Screenshot</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/augYP.png\" rel=\"nofollow noreferrer\">CSV file</a></p>\n"}, {"tags": ["python", "algorithm", "python-3.x", "mergesort", "nonetype"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1500505741, "post_id": 45202225, "comment_id": 77371998, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 760, "user_id": 8009379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c808a3b5c059f2b448f39970d384fd33?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8009379/alex"}, "edited": false, "score": 0, "creation_date": 1500506015, "post_id": 45202225, "comment_id": 77372074, "body": "I&#39;m skeptical that you really passed a regular list like that into your function and got the output you quoted. <code>([1, 2, 3, 4, 5]).val</code> produces an AttributeError."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 8190243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8wEkS.jpg?s=128&g=1", "display_name": "Root", "link": "https://stackoverflow.com/users/8190243/root"}, "edited": false, "score": 0, "creation_date": 1500512653, "post_id": 45202558, "comment_id": 77373686, "body": "Thank you for replying me. I did pass a regular list. I uploaded a pic in the question that shows my input and output, and the website that I got the problem. Maybe you can take a look at it. I understand your explanation, but what confuses me is I didn&#39;t set l1.next=l2, and it still gives me the second value when I type l1.next.val."}, {"owner": {"reputation": 760, "user_id": 8009379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c808a3b5c059f2b448f39970d384fd33?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8009379/alex"}, "reply_to_user": {"reputation": 49, "user_id": 8190243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8wEkS.jpg?s=128&g=1", "display_name": "Root", "link": "https://stackoverflow.com/users/8190243/root"}, "edited": false, "score": 0, "creation_date": 1500512995, "post_id": 45202558, "comment_id": 77373745, "body": "I can&#39;t reproduce your picture because I don&#39;t have an account on that site. I can only assume that when it says <code>[1,2,3,4,5]</code> it really means whatever linked-list representation they&#39;re using\u2014that is, they already did <code>l1.next = l2</code> for you. Does it say <code>[1,2,3,4,5]</code> for the other languages?"}, {"owner": {"reputation": 49, "user_id": 8190243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8wEkS.jpg?s=128&g=1", "display_name": "Root", "link": "https://stackoverflow.com/users/8190243/root"}, "edited": false, "score": 0, "creation_date": 1500513494, "post_id": 45202558, "comment_id": 77373874, "body": "That makes sense. They might change the input that I input into a certain format. Thanks for the help."}, {"owner": {"reputation": 49, "user_id": 8190243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8wEkS.jpg?s=128&g=1", "display_name": "Root", "link": "https://stackoverflow.com/users/8190243/root"}, "edited": false, "score": 0, "creation_date": 1500513546, "post_id": 45202558, "comment_id": 77373888, "body": "It&#39;s pity that I don&#39;t have 15 reputations to vote your answer up."}], "tags": [], "owner": {"reputation": 760, "user_id": 8009379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c808a3b5c059f2b448f39970d384fd33?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8009379/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1500506120, "creation_date": 1500506120, "answer_id": 45202558, "question_id": 45202225, "link": "https://stackoverflow.com/questions/45202225/how-does-self-next-none-get-the-next-value-of-l1/45202558#45202558", "title": "How does self.next = None get the next value of l1?", "body": "<p>That <code>None</code> is the default value of <code>next</code> in a new <code>ListNode</code>. Other <code>ListNode</code>s can have other values assigned to <code>next</code>. Constructing a properly <em>linked</em> list of <code>ListNodes</code> involves assigning to each node's link parameter a reference to the next node:</p>\n\n<pre><code>l1 = ListNode(1)\nl2 = ListNode(2)\nl3 = ListNode(3)\nl4 = ListNode(4)\nl5 = ListNode(5)\n\nl1.next = l2\nl2.next = l3\nl3.next = l4\nl4.next = l5\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 8190243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8wEkS.jpg?s=128&g=1", "display_name": "Root", "link": "https://stackoverflow.com/users/8190243/root"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1872, "favorite_count": 0, "accepted_answer_id": 45202558, "answer_count": 1, "score": 0, "last_activity_date": 1500511913, "creation_date": 1500504203, "last_edit_date": 1500511913, "question_id": 45202225, "link": "https://stackoverflow.com/questions/45202225/how-does-self-next-none-get-the-next-value-of-l1", "title": "How does self.next = None get the next value of l1?", "body": "<p>I was working on one of the problems on Leetcode (problem 21). It asks me to merge two sorted linked lists and return it as a new list, and it gives pre-typed code like this.</p>\n\n<pre><code># Definition for singly-linked list.\n# class ListNode(object):\n#     def __init__(self, x):\n#         self.val = x\n#         self.next = None\n\nclass Solution(object):\n    def mergeTwoLists(self, l1, l2):\n        \"\"\"\n        :type l1: ListNode\n        :type l2: ListNode\n        :rtype: ListNode\n        \"\"\"\n</code></pre>\n\n<p>I did some test before formally solving merging problem. I input l1 as following:</p>\n\n<pre><code>l1 = [1,2,3,4,5]\n</code></pre>\n\n<p>and I changed the code into:</p>\n\n<pre><code>class Solution(object):\n    def mergeTwoLists(self, l1, l2):\n        print(l1.val)\n        print(l1.next.val)\n</code></pre>\n\n<p>The output shows:</p>\n\n<pre><code>1\n2\n</code></pre>\n\n<p>The part that confused me is how does function self.next get the next value of the ListNode that I input. In my understanding, self.next is set to None, so l1.next should equal to None, and None.val should go wrong. Could someone help me with this?</p>\n\n<p>Here are two pictures that show the code, input, and output.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ueXbX.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Also, here is the link where I get my problem.\n<a href=\"https://leetcode.com/problems/merge-two-sorted-lists/#/description\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/merge-two-sorted-lists/#/description</a></p>\n"}, {"tags": ["python", "azure", "azure-resource-manager", "service-principal"], "answers": [{"tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": false, "score": 0, "last_activity_date": 1500631313, "creation_date": 1500631313, "answer_id": 45234774, "question_id": 45202163, "link": "https://stackoverflow.com/questions/45202163/azure-api-for-granting-service-principle-access-to-a-subscription/45234774#45234774", "title": "Azure API for granting service principle access to a subscription?", "body": "<p>Actually, The REST API <a href=\"https://docs.microsoft.com/en-us/rest/api/authorization/roleassignments\" rel=\"nofollow noreferrer\"><code>Role Assignments</code></a> and the API <a href=\"http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.mgmt.authorization.operations.html#azure.mgmt.authorization.operations.RoleAssignmentsOperations.create\" rel=\"nofollow noreferrer\"><code>create(scope, role_assignment_name, properties=None, custom_headers=None, raw=False, **operation_config)</code></a> of <code>azure-mgmt-authorization</code> in Azure Python SDk are you want. Please notes the <code>scope</code> property/argument in the APis which has many different formats for different scopes as below. For example, you need to use use <code>/subscriptions/{subscription-id}/</code> for a subscription.</p>\n\n<blockquote>\n  <p><strong>scope</strong> (str) \u2013 The scope of the role assignment to create. The scope can be any REST resource instance. For example, use \u2018/subscriptions/{subscription-id}/\u2019 for a subscription, \u2018/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}\u2019 for a resource group, and \u2018/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/{resource-provider}/{resource-type}/{resource-name}\u2019 for a resource.</p>\n</blockquote>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 484, "user_id": 2333048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9ccf63aabcff7f04b70a1bfabfbf13?s=128&d=identicon&r=PG", "display_name": "pneumee", "link": "https://stackoverflow.com/users/2333048/pneumee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500631313, "creation_date": 1500503837, "question_id": 45202163, "link": "https://stackoverflow.com/questions/45202163/azure-api-for-granting-service-principle-access-to-a-subscription", "title": "Azure API for granting service principle access to a subscription?", "body": "<p>Is there is an Azure API available that would allow me to do the steps outlined here:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#assign-application-to-role\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#assign-application-to-role</a></p>\n\n<p>The closest thing I can find is:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/rest/api/authorization/roleassignments\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/rest/api/authorization/roleassignments</a></p>\n\n<p>I use the Python SDK, the interface to that API is here - <a href=\"https://github.com/Azure/azure-sdk-for-python/tree/master/azure-mgmt-authorization\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-python/tree/master/azure-mgmt-authorization</a></p>\n\n<p>This API seems to be for granting access to resources under an Azure subscription, not to the subscription itself...</p>\n"}, {"tags": ["python", "python-3.x", "for-loop", "nltk", "pos-tagger"], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 7455337, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2049f757f1b0fc18d05cf2848499256b?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Glimis", "link": "https://stackoverflow.com/users/7455337/sergei-glimis"}, "edited": false, "score": 0, "creation_date": 1500515581, "post_id": 45202286, "comment_id": 77374403, "body": "Awesome thank you, do you think you could explain why it wasn&#39;t working?"}, {"owner": {"reputation": 607, "user_id": 5129997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e5747475a7edab29ec24c5c7fb3714a?s=128&d=identicon&r=PG&f=1", "display_name": "THe_strOX", "link": "https://stackoverflow.com/users/5129997/the-strox"}, "edited": false, "score": 0, "creation_date": 1500555713, "post_id": 45202286, "comment_id": 77397090, "body": "<code>nltk.pos_tag(text)</code> returns a list as: <code>[(&#39;Sergei&#39;, &#39;NN&#39;)]</code>. So, you should check for the 2nd element of the tuple and hence in your code <code>if x in NOUN_CODES</code> should be  <code>if x[1] in NOUN_CODES</code>"}], "tags": [], "owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "is_accepted": true, "score": 1, "last_activity_date": 1500504813, "last_edit_date": 1500504813, "creation_date": 1500504506, "answer_id": 45202286, "question_id": 45202126, "link": "https://stackoverflow.com/questions/45202126/nltk-python-3-how-do-you-return-true-if-a-noun-is-in-the-user-input/45202286#45202286", "title": "nltk python 3 how do you return true if a noun is in the user input?", "body": "<p>This simple function should return all the nouns in a sentence. Remember that nltk.pos_tag requires the sentence to be tokenized, and the value returned by nltk.pos_tag is an array of tuples.</p>\n\n<pre><code>import nltk\nfrom nltk.tokenize import word_tokenize as wt\n\nNOUN_CODES = ['NN', 'NNP'] # input any codes you want here\n\ndef check_nouns(sentence):\n    tokenized = wt(sentence)\n    tags = nltk.pos_tag(tokenized)\n    return [i[0] for i in tags if i[1] in NOUN_CODES]\n</code></pre>\n\n<p>In your code, I'm assuming that what_person_said_l_wt is tokenized. In this case, I'd modify it in the following way (with better formatting and keeping in mind the indentation):</p>\n\n<pre><code> NOUN_CODES = ['NN','NNP','NNS','NNPS']\n\n def Command_Noun_Check(what_person_said_l,what_person_said_l_wt):\n                        Command_Noun_Result = nltk.pos_tag(what_person_said_l_wt)\n                        print (Command_Noun_Result)\n                        for x in Command_Noun_Result:\n\n                            if x[1] in NOUN_CODES:\n\n                                print (\"Noun Found\")\n                                return True\n                            else:\n                                return False\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 7455337, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2049f757f1b0fc18d05cf2848499256b?s=128&d=identicon&r=PG&f=1", "display_name": "Sergei Glimis", "link": "https://stackoverflow.com/users/7455337/sergei-glimis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "accepted_answer_id": 45202286, "answer_count": 1, "score": 1, "last_activity_date": 1500504813, "creation_date": 1500503632, "question_id": 45202126, "link": "https://stackoverflow.com/questions/45202126/nltk-python-3-how-do-you-return-true-if-a-noun-is-in-the-user-input", "title": "nltk python 3 how do you return true if a noun is in the user input?", "body": "<p>I am using nltk and this method shown bellow should work it should print \"noun found\"\n if there is a noun in the input. The problem is that it doesn't, could someone show \n    me how to do this Thank you!</p>\n\n<pre><code>NOUN_CODES = {\n    'NN',  # Noun, base form\n    'NNP',  \n    'NNS',  \n    'NNPS',\n\n    def Command_Noun_Check(what_person_said_l,what_person_said_l_wt):\n                        Command_Noun_Result = nltk.pos_tag(what_person_said_l_wt)\n                        print (Command_Noun_Result)\n                        for x in Command_Noun_Result:\n\n                            if x in NOUN_CODES:\n\n                                print (\"Noun Found\")\n                                return True\n                            else:\n                                return False\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1500503501, "post_id": 45202072, "comment_id": 77371287, "body": "Why don&#39;t you just initialize with the same exact large pandas data-frame? The cost of a reference is negligible."}, {"owner": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "edited": false, "score": 0, "creation_date": 1500503602, "post_id": 45202072, "comment_id": 77371312, "body": "Do you want all instances of the class to share the same panda dataframe, e.g. modifying it from one instance will modify for all?"}, {"owner": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1500503677, "post_id": 45202072, "comment_id": 77371338, "body": "@juanpa.arrivillaga Excuse my ignorance, but if the dataframe is <code>df</code> then calling <code>self.df=df</code> within <code>__init__</code> will reference the same dataframe each time?"}, {"owner": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "reply_to_user": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "edited": false, "score": 0, "creation_date": 1500503700, "post_id": 45202072, "comment_id": 77371342, "body": "@Erich exactly that, yes"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1500503966, "post_id": 45202072, "comment_id": 77371429, "body": "@drstevok yes, if you pass the same <code>df</code> to <code>Foo</code>... that is <i>always how Python assignment works</i>. Please read <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">this</a> to assuage your fears."}, {"owner": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1500504604, "post_id": 45202072, "comment_id": 77371648, "body": "You may want to use the <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton pattern</a>. <a href=\"https://stackoverflow.com/q/31875/7216865\">SO</a>"}, {"owner": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1500504608, "post_id": 45202072, "comment_id": 77371650, "body": "@juanpa.arrivillaga thanks for the link, it did help"}, {"owner": {"reputation": 3855, "user_id": 6522112, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JqjxG.png?s=128&g=1", "display_name": "tupui", "link": "https://stackoverflow.com/users/6522112/tupui"}, "edited": false, "score": 0, "creation_date": 1503146520, "post_id": 45202072, "comment_id": 78501441, "body": "@drstevok please consider accepting an answer if the issue has been solved. This to close the question."}], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "edited": false, "score": 0, "creation_date": 1500504204, "post_id": 45202218, "comment_id": 77371518, "body": "How would I ensure this runs only once? Is there a class equivalent to <code>__init__</code>"}, {"owner": {"reputation": 3855, "user_id": 6522112, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JqjxG.png?s=128&g=1", "display_name": "tupui", "link": "https://stackoverflow.com/users/6522112/tupui"}, "reply_to_user": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "edited": false, "score": 0, "creation_date": 1500504342, "post_id": 45202218, "comment_id": 77371554, "body": "Not that I am aware of. In our codebase we have a class which needs this behavior so we created an <code>initialize</code> classmethod. As you check with your <code>if egg is None</code>, we check that the classmethod has been called at least once."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "edited": false, "score": 0, "creation_date": 1500507020, "post_id": 45202218, "comment_id": 77372367, "body": "@drstevok yes, there <i>is</i> a class-equivalent to <code>__init__</code>, the <i>metaclass</i> <b>init</b>"}], "tags": [], "owner": {"reputation": 3855, "user_id": 6522112, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JqjxG.png?s=128&g=1", "display_name": "tupui", "link": "https://stackoverflow.com/users/6522112/tupui"}, "is_accepted": false, "score": 0, "last_activity_date": 1500504126, "creation_date": 1500504126, "answer_id": 45202218, "question_id": 45202072, "link": "https://stackoverflow.com/questions/45202072/how-to-initialise-class-variables-just-once-using-arguments-passed-to-init/45202218#45202218", "title": "How to initialise class variables just once using arguments passed to init", "body": "<p>One way to do it is to create a <code>@classmethod</code> which you would call at the beginning in order to instantiate your constant values shared by all objects.</p>\n"}, {"tags": [], "owner": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "is_accepted": false, "score": 1, "last_activity_date": 1500504340, "creation_date": 1500504340, "answer_id": 45202255, "question_id": 45202072, "link": "https://stackoverflow.com/questions/45202072/how-to-initialise-class-variables-just-once-using-arguments-passed-to-init/45202255#45202255", "title": "How to initialise class variables just once using arguments passed to init", "body": "<p>I would advise against using the class namespace.\nsee:</p>\n\n<pre><code>class holder():\n    x = 5\n    def __init__(self):\n        self.x = 6\n        return;\n\nalpha = holder()\nbeta=holder()\nbeta.x = 4\nholder.x = 100\nprint(holder.x)\nprint(alpha.x)\nprint(beta.x)\n\n&gt; 100\n&gt; 6\n&gt; 4\n</code></pre>\n\n<p>The scope of the variable gets diluted very quickly. I would reserve the class namespace for constants. </p>\n\n<p>If you attempt to set a reference in the class namespace then you will have to generate the panda dataframe before. It will likely be easier to genereate it somewhere in your code before creating objects and then pass it by reference to each class. </p>\n\n<p>As mentioned by @juanpa.arrivillaga : self.df = df </p>\n"}], "owner": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500504340, "creation_date": 1500503332, "question_id": 45202072, "link": "https://stackoverflow.com/questions/45202072/how-to-initialise-class-variables-just-once-using-arguments-passed-to-init", "title": "How to initialise class variables just once using arguments passed to init", "body": "<p>I want to share data across different instances of a class, but the data must be provided externally the first time the class is created.</p>\n\n<p>I have written the snippet below.</p>\n\n<pre><code>class Foo(object):\n\n    _config = False\n    eggs = None\n\n    def __init__(self, spam, eggs=None):\n\n        if Foo._config:\n            # Assume initialized and eggs exists\n            print(Foo.eggs)\n\n        else:\n            if eggs is None:\n                raise ValueError('eggs must be provided the first time')\n            else:\n                Foo.eggs = eggs\n                Foo._config = True\n                print(\"Scrambled {}?\".format(Foo.eggs))\n\n        self.spam = spam\n        print(\"Class variable - eggs: {}\".format(Foo.eggs))\n        print(\"Instance variable - spam: {}\".format(self.spam))\n</code></pre>\n\n<p>which seems to work ...</p>\n\n<pre><code>&gt;&gt;&gt;Foo._config\nFalse\n&gt;&gt;&gt;a = Foo('chicken', 'eggs')    \nScrambled eggs?\nClass variable - eggs: eggs\nInstance variable - spam: chicken\n&gt;&gt;&gt;Foo._config\nTrue\n</code></pre>\n\n<p>and the second time doesn't raise an error and shares the class variable</p>\n\n<pre><code>&gt;&gt;&gt;b = Foo('duck')\neggs\nClass variable - eggs: eggs\nInstance variable - spam: duck\n</code></pre>\n\n<p>My question is whether this is a <em>good</em> approach? I have seen this question which suggests that including things in <code>__init__</code> that are only called once is a bad idea, and I should use a metaclass?</p>\n\n<p>My justification is that <em>eggs</em> will actually contain a very large pandas dataframe that I don't to repeat with each instance.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1500503493, "post_id": 45202069, "comment_id": 77371285, "body": "what should this function do?"}, {"owner": {"reputation": 41, "user_id": 8334490, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZqRH9.jpg?s=128&g=1", "display_name": "Oleg Radchenko", "link": "https://stackoverflow.com/users/8334490/oleg-radchenko"}, "reply_to_user": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1500503611, "post_id": 45202069, "comment_id": 77371316, "body": "task: &#39;Reverse every other word in the string&#39;  Test.assert_equals(reverse_alternate(&quot;I really hope it works this time...&quot;), &quot;I yllaer hope ti works siht time...&quot;)"}], "answers": [{"tags": [], "owner": {"reputation": 11286, "user_id": 3928385, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3HdfL.png?s=128&g=1", "display_name": "Ishamael", "link": "https://stackoverflow.com/users/3928385/ishamael"}, "is_accepted": false, "score": 1, "last_activity_date": 1500503567, "creation_date": 1500503567, "answer_id": 45202119, "question_id": 45202069, "link": "https://stackoverflow.com/questions/45202069/i-need-a-small-hint-string-index-out-of-range-python-module/45202119#45202119", "title": "I need a small hint... &#39;string index out of range python module&#39;", "body": "<p>Replace </p>\n\n<pre><code>if new[-1] == ' ':\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if len(new) and new[-1] == ' ':\n</code></pre>\n\n<p>If you have no tokens, <code>new</code> will end up being empty, and as such, it won't have the -1'st element. Thus, referencing it would result in \"index out of range\" error.</p>\n"}], "owner": {"reputation": 41, "user_id": 8334490, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZqRH9.jpg?s=128&g=1", "display_name": "Oleg Radchenko", "link": "https://stackoverflow.com/users/8334490/oleg-radchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500504155, "creation_date": 1500503323, "last_edit_date": 1500504155, "question_id": 45202069, "link": "https://stackoverflow.com/questions/45202069/i-need-a-small-hint-string-index-out-of-range-python-module", "title": "I need a small hint... &#39;string index out of range python module&#39;", "body": "<p>I know that it is very weird code, but try not to pay attention. I just want to solve this task with such a strange method. But in the process, I am faced with this problem. Can you help me to fix it? </p>\n\n<pre><code>in &lt;module&gt;\n   in reverse_alternate\nIndexError: string index out of range\n</code></pre>\n\n<p>I suppose that it's associated with modulo. Right?</p>\n\n<hr>\n\n<pre><code>def reverse_alternate(string):\n    a = string.split(' ')\n    new = ''\n    for i, c in enumerate(a):\n        if i % 2 != 0:\n            new += ' ' + c[::-1] + ' '\n        else:\n            new += c\n\n    if new[-1] == ' ':\n        a = new[:-1]\n        return a\n    else:\n        return new\n</code></pre>\n"}, {"tags": ["python", "numpy", "intel-mkl"], "comments": [{"owner": {"reputation": 101, "user_id": 5283071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4085ab69f1b9812954d2bf59e5c5f62e?s=128&d=identicon&r=PG&f=1", "display_name": "SG_", "link": "https://stackoverflow.com/users/5283071/sg"}, "edited": false, "score": 0, "creation_date": 1500505624, "post_id": 45202055, "comment_id": 77371960, "body": "You could use the <a href=\"https://software.intel.com/en-us/distribution-for-python\" rel=\"nofollow noreferrer\">Intel Distribution for Python</a>. Alternatively, Intel has a nice <a href=\"https://software.intel.com/en-us/articles/numpyscipy-with-intel-mkl\" rel=\"nofollow noreferrer\">guide</a> for installing numpy/scipy with mkl."}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1500505727, "post_id": 45202055, "comment_id": 77371995, "body": "did you install mkl? I remember in linux have to edit a file in the numpy source code to specify the location of mkl. try intel distribution for python if you just want numpy+mkl. Or anaconda if you have a bit more time and want more packages. <a href=\"https://www.continuum.io/downloads\" rel=\"nofollow noreferrer\">continuum.io/downloads</a>"}, {"owner": {"reputation": 31, "user_id": 8128937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f950cc58171b852ed576dcd51ec4788b?s=128&d=identicon&r=PG&f=1", "display_name": "RAndre", "link": "https://stackoverflow.com/users/8128937/randre"}, "edited": false, "score": 0, "creation_date": 1500568697, "post_id": 45202055, "comment_id": 77407399, "body": "Yeah, I don&#39;t know how to install mkl on its own. I think I did but, I do not know. I downloaded the numpy+mkl whl file, but every time  I try to pip install it it says it isn&#39;t a proper wheel file. I am at a complete loss on what to do. I just want to learn how to make things machine learn, and this is a big hurdle for me. When I use the whole path, it ask me if the path exist. I mean I copy it from the file location so idk why it asks that."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8128937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f950cc58171b852ed576dcd51ec4788b?s=128&d=identicon&r=PG&f=1", "display_name": "RAndre", "link": "https://stackoverflow.com/users/8128937/randre"}, "is_accepted": false, "score": 1, "last_activity_date": 1500569691, "creation_date": 1500569691, "answer_id": 45220854, "question_id": 45202055, "link": "https://stackoverflow.com/questions/45202055/pip-install-invalid-requirement-numpy-1-13-1mkl-cp36-cp36m-win-amd64/45220854#45220854", "title": "pip install &quot;Invalid requirement: &#39;numpy-1.13.1+mkl-cp36-cp36m-win_amd64&#39;&quot;", "body": "<p>I installed it.</p>\n\n<p>I finally found a link <a href=\"https://stackoverflow.com/questions/21991420/install-scipy-with-mkl-through-pip\">Answer is 3rd post.</a></p>\n\n<p>I don't know why I just found this, but it took long enough. I needed to uninstall it and then give it a .whl extension. I didn't notice that it didn't have the .whl extension when I was trying to install it. Also, I had to make sure that I used the whole file location. </p>\n"}], "owner": {"reputation": 31, "user_id": 8128937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f950cc58171b852ed576dcd51ec4788b?s=128&d=identicon&r=PG&f=1", "display_name": "RAndre", "link": "https://stackoverflow.com/users/8128937/randre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3773, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500569691, "creation_date": 1500503217, "question_id": 45202055, "link": "https://stackoverflow.com/questions/45202055/pip-install-invalid-requirement-numpy-1-13-1mkl-cp36-cp36m-win-amd64", "title": "pip install &quot;Invalid requirement: &#39;numpy-1.13.1+mkl-cp36-cp36m-win_amd64&#39;&quot;", "body": "<p>I am on a windows 10 machine and I can't seem to get it to install numpy+mkl. I have no clue what is going on or why it is doing this. It says the following errors occurred in the most recent Traceback:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>File \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\_vendor\\packaging\\requirements.py\", line 92, in __init__\r\n    req = REQUIREMENT.parseString(requirement_string)\"\r\nFile \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\_vendor\\pyparsing.py\", line 1617, in parseString\r\n    raise exc\"\r\n  File \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\_vendor\\pyparsing.py\", line 1607, in parseString\r\n    loc, tokens = self._parse( instring, 0 )\r\n  File \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\_vendor\\pyparsing.py\", line 1379, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\_vendor\\pyparsing.py\", line 3376, in parseImpl\r\n    loc, exprtokens = e._parse( instring, loc, doActions )\r\n  File \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\_vendor\\pyparsing.py\", line 1383, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\_vendor\\pyparsing.py\", line 3164, in parseImpl\r\n    raise ParseException(instring, loc, self.errmsg, self)\r\npip._vendor.pyparsing.ParseException: Expected stringEnd (at char 12), (line:1, col:13)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\req\\req_install.py\", line 82, in __init__\r\n    req = Requirement(req)\r\n  File \"..\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\\pip\\_vendor\\packaging\\requirements.py\", line 96, in __init__\r\n    requirement_string[e.loc:e.loc + 8]))\r\npip._vendor.packaging.requirements.InvalidRequirement: Invalid requirement, parse error at \"'+mkl-cp3</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I've been sitting for hours trying to figure out what this means. But it is alien to me. I tried to update it, but it says it is already up to date. I've tried using the 32bit wheel it gives me the same thing. What should I do?</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1500503717, "post_id": 45202040, "comment_id": 77371350, "body": "I cannot reproduce your results..."}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1500504032, "post_id": 45202040, "comment_id": 77371452, "body": "Since you&#39;re largely interested in those two, you could just check the sizes of both objects using <code>sys.getsizeof</code> (which should work reasonably well for a list and a <code>np.arange</code> object), instead of relying extensively on a memory profiling tool."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1500504144, "post_id": 45202040, "comment_id": 77371499, "body": "@MosesKoledoye yeah, but you have to have a grip on CPython internals to use <code>sys.getsizeof</code> correctly. For example, you would need <code>sum(map(sys.getsizeof, vector_list)) + sys.getsizeof(vector_list)</code> to get an accurate picture of the memory usage of <code>vector_list</code>. And <code>sys.getsizeof(np.arange(0,10000))</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1500504245, "post_id": 45202040, "comment_id": 77371528, "body": "@MosesKoledoye in other words, <code>sys.getsizeof</code> does <i>not</i> work reasonably well, naively, with a <code>list</code>. If you did it with <code>vector_list</code>, it would be off by about <code>240000</code> bytes"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1500504289, "post_id": 45202040, "comment_id": 77371541, "body": "@juanpa.arrivillaga Well, you do have a point, but their memory profiler isn&#39;t making matters any better :))"}, {"owner": {"reputation": 337, "user_id": 1859453, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/763f09ab299de0320c468eda985529f0?s=128&d=identicon&r=PG", "display_name": "ramailo sathi", "link": "https://stackoverflow.com/users/1859453/ramailo-sathi"}, "edited": false, "score": 0, "creation_date": 1500504321, "post_id": 45202040, "comment_id": 77371550, "body": "The result is 80096 bytes vs 87624 bytes. I was expecting list to be 3 times more expensive."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1500504376, "post_id": 45202040, "comment_id": 77371569, "body": "@ramailosathi That&#39;s because <i>you aren&#39;t accounting for the elements in the list, just the list iteself</i>. See my example, you need to use <code>sum(map(sys.getsizeof, vector_list)) + sys.getsizeof(vector_list)</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1500504611, "post_id": 45202040, "comment_id": 77371651, "body": "@MosesKoledoye <b>nope</b> that&#39;s the <i>whole point</i> of <code>np.ndarray</code>, it <i>doesn&#39;t contain float objects</i>. It is an object-oriented wrapper around primitive arrays. It&#39;s actual memory usage can be found using <code>arr.nbytes</code> (plus a tiny overhead for the Python object)."}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1500504623, "post_id": 45202040, "comment_id": 77371655, "body": "list over-allocate memory, and it is a dynamic array of pointers. Each of the pointer points to an integer object. <a href=\"http://www.laurentluce.com/posts/python-list-implementation/\" rel=\"nofollow noreferrer\">laurentluce.com/posts/python-list-implementation</a>   pointers is 8 byte on 64 bit machine. I guess that is 8 byte for pointer plus 8 byte for integer if the integer are about 64 bit. Integer out of the range of 64 bit use more memory.  numpy array is book keeping plus just 8 byte per np.64 bit integer. So numpy array should be more memory efficient. By the way, python lists are not really list. it is dynamic array."}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1500504706, "post_id": 45202040, "comment_id": 77371672, "body": "@juanpa.arrivillaga Good one. Thanks for clearing that up."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 1, "creation_date": 1500504888, "post_id": 45202040, "comment_id": 77371718, "body": "@MosesKoledoye yep. Check out <a href=\"https://stackoverflow.com/a/43578969/5014455\">my answer here</a>, although, the original question was about the memory usage of a bunch of <code>dict</code>s. But I go into how <code>numpy</code> can be <i>extremely</i> memory efficient, but it also demonstrates the subtleties of getting the actual memory usage of a Python container. E.g. string interning, small-int caching, etc."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1500505309, "post_id": 45202040, "comment_id": 77371849, "body": "And I guess I&#39;ll just <a href=\"https://stackoverflow.com/questions/43404210/how-much-memory-will-a-list-with-one-million-elements-take-up-in-python/43404344#43404344\">leave this here</a> as well, an answer I wrote up that discusses how to reason about Python <code>list</code>s memory, it also contains a link to a fairly decent recipe for figuring out the memory usage of a container, as long as you are working with built-in objects it should work like a charm. It takes into account object <code>id</code>s so you dont count things twice!"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1500504490, "post_id": 45202131, "comment_id": 77371607, "body": "This does not correctly account for the memory required for that <code>list</code>. You need to use <code>sum(map(sys.getsizeof, vector_list)) + sys.getsizeof(vector_list)</code>"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1500504714, "post_id": 45202131, "comment_id": 77371676, "body": "I have edited my answer to account for your comment. Thanks! @juanpa.arrivillaga"}], "tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": true, "score": 3, "last_activity_date": 1500504667, "last_edit_date": 1500504667, "creation_date": 1500503661, "answer_id": 45202131, "question_id": 45202040, "link": "https://stackoverflow.com/questions/45202040/memory-profiling-list-comprehension-vs-numpy-array/45202131#45202131", "title": "memory profiling: list comprehension vs. numpy array", "body": "<p>I do not know what is memory profiler reporting - I get very different numbers from you:</p>\n\n<pre><code>Line #    Mem usage    Increment   Line Contents\n================================================\n     3   41.477 MiB    0.000 MiB   @profile\n     4                             def allocate():\n     5   41.988 MiB    0.512 MiB       vector_list = [float(i) for i in range(10000)]\n     6   41.996 MiB    0.008 MiB       np.arange(0,10000,dtype='d')\n</code></pre>\n\n<p>I would recommend the following two links for your reading: <a href=\"https://stackoverflow.com/questions/11784329/python-memory-usage-of-numpy-arrays\">Python memory usage of numpy arrays</a> and <a href=\"https://stackoverflow.com/questions/7247298/size-of-list-in-memory\">Size of list in memory</a></p>\n\n<p>I have also modified your code as follows:</p>\n\n<pre><code>import numpy as np\nimport sys\n\n@profile\ndef allocate():\n    vector_list = [float(i) for i in range(10000)]\n    npvect = np.arange(0,10000,dtype='d')\n    listsz = sum(map(sys.getsizeof, vector_list)) + sys.getsizeof(vector_list)\n    print(\"numpy array size: {}\\nlist size: {}\".format(npvect.nbytes, listsz)) \n    print(\"getsizeof(numpy array): {}\\n\".format(sys.getsizeof(npvect))) \n\nallocate()\n</code></pre>\n\n<p>and it outputs:</p>\n\n<pre><code>numpy array size: 80000\nlist size: 327632\ngetsizeof(numpy array): 80096\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 1859453, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/763f09ab299de0320c468eda985529f0?s=128&d=identicon&r=PG", "display_name": "ramailo sathi", "link": "https://stackoverflow.com/users/1859453/ramailo-sathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 2, "accepted_answer_id": 45202131, "answer_count": 1, "score": 0, "last_activity_date": 1500504667, "creation_date": 1500503114, "question_id": 45202040, "link": "https://stackoverflow.com/questions/45202040/memory-profiling-list-comprehension-vs-numpy-array", "title": "memory profiling: list comprehension vs. numpy array", "body": "<p>I am trying to perform memory profiling of list vs numpy arrays.</p>\n\n<pre><code>%%file memory.py\n\nimport numpy as np\n\n@profile\ndef allocate():\n    vector_list = [float(i) for i in range(10000)]\n    np.arange(0,10000,dtype='d')\n\nallocate()\n</code></pre>\n\n<p>Running memory profiler in the shell:</p>\n\n<pre><code>!python -m memory_profiler memory.py\n</code></pre>\n\n<p>gives the following output:</p>\n\n<pre><code>Line #    Mem usage    Increment   Line Contents\n================================================\n     4   39.945 MiB    0.000 MiB   @profile\n     5                             def allocate():\n     6   39.949 MiB    **0.004 MiB**       vector_list = [float(i) for i in range(10000)]\n     7   40.039 MiB    **0.090 MiB**       np.arange(0,10000,dtype='d')\n</code></pre>\n\n<p>Increment in memory of line 6 vs line 7 shows that numpy array was way more expensive than a list. What am I doing wrong?</p>\n"}, {"tags": ["python", "github", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8334470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a369e5d93ef15af1c9e9094d5f3262f4?s=128&d=identicon&r=PG&f=1", "display_name": "aman0446", "link": "https://stackoverflow.com/users/8334470/aman0446"}, "edited": false, "score": 0, "creation_date": 1504640374, "post_id": 45207746, "comment_id": 79085057, "body": "I used curl to do it."}, {"owner": {"reputation": 1, "user_id": 8334470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a369e5d93ef15af1c9e9094d5f3262f4?s=128&d=identicon&r=PG&f=1", "display_name": "aman0446", "link": "https://stackoverflow.com/users/8334470/aman0446"}, "edited": false, "score": 0, "creation_date": 1504640417, "post_id": 45207746, "comment_id": 79085082, "body": "command = &#39;curl -k --user {user}: pass&#39; + &#39; &#39; + file                     p = subprocess.Popen(command, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)                     bytes_out, err = p.communicate()"}], "tags": [], "owner": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "is_accepted": false, "score": 1, "last_activity_date": 1500534705, "creation_date": 1500534705, "answer_id": 45207746, "question_id": 45201966, "link": "https://stackoverflow.com/questions/45201966/access-files-and-its-contents-in-github-repository-from-django-using-rest-api/45207746#45207746", "title": "Access files and its contents in Github repository from Django using REST API", "body": "<p>I'm sure there are plenty of ways to achieve this but if I were taking on your project I would begin look in to the <a href=\"https://developer.github.com/v3/\" rel=\"nofollow noreferrer\">Github API</a> and using a background worker like <a href=\"http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html\" rel=\"nofollow noreferrer\">Celery</a> to scrape the data you need, using something like <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow noreferrer\">Requests</a>. The worker would then store the data in some database that you have setup through Django. </p>\n\n<p>Now that you have the data, I would start to build out your Django app and just access the data you need using the regular Django model methods. Having an architecture like this means that you don't need to make the calls to Githubs API while a user is requesting data from your site since it has already been populated in your database.</p>\n"}], "owner": {"reputation": 1, "user_id": 8334470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a369e5d93ef15af1c9e9094d5f3262f4?s=128&d=identicon&r=PG&f=1", "display_name": "aman0446", "link": "https://stackoverflow.com/users/8334470/aman0446"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1504667069, "creation_date": 1500502622, "last_edit_date": 1504667069, "question_id": 45201966, "link": "https://stackoverflow.com/questions/45201966/access-files-and-its-contents-in-github-repository-from-django-using-rest-api", "title": "Access files and its contents in Github repository from Django using REST API", "body": "<p>I'm fairly new to Django. Looking to access folders/files in a github repository, display file contents using REST APIs. Any suggestions/examples are really appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1500502887, "post_id": 45201928, "comment_id": 77371104, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8334443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66deca3bcf81181367fbe742c87bf404?s=128&d=identicon&r=PG&f=1", "display_name": "Digsby", "link": "https://stackoverflow.com/users/8334443/digsby"}, "edited": false, "score": 0, "creation_date": 1500513547, "post_id": 45202171, "comment_id": 77373889, "body": "This is very useful. I&#39;m wondering if there is a way to set up this code so that I could have two separate flags (ie &quot;-a&quot; and &quot;-e&quot; for each file), rather than using &quot;-f&quot; for both files. Thanks."}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 0, "last_activity_date": 1500516354, "last_edit_date": 1500516354, "creation_date": 1500503882, "answer_id": 45202171, "question_id": 45201928, "link": "https://stackoverflow.com/questions/45201928/how-do-i-read-in-multiple-files-with-corresponding-flags-using-python-so-that-i/45202171#45202171", "title": "How do I read in multiple files with corresponding flags using python so that I can search them for specific strings?", "body": "<p>If you want to use <code>argparse</code>, you can use the <code>nargs</code> argument to capture multiple values for an argument, e.g.:</p>\n\n<pre><code>import argparse\n\nparser = argparse.ArgumentParser()\nparser.add_argument(\"-F\", \"--files\", nargs=\"+\", type=str, required=True,\n                    help=\"whitespace delimited list of files...\")\n\nargs = parser.parse_args()\nfor path in args.files:\n    # do whatever you want with individual file paths stored in `path`\n    pass\n</code></pre>\n\n<p>Or if you want to use multiple arguments separately (e.g. <code>-f file_path1 -f file_path2 ...</code>) you can use <code>action=\"append\"</code> in your <code>argparse</code> argument as:</p>\n\n<pre><code>parser.add_argument(\"-f\", \"--file\", action=\"append\", type=str, required=True,\n                    help=\"input file\")\n</code></pre>\n\n<p>(remember to change to <code>args.file</code> in your loop).</p>\n\n<p>Once you iterate over your arguments you don't need the <code>fileinput</code> module at all, just do a simple:</p>\n\n<pre><code>anc=[]\nwith open(path, \"r\") as f:\n    for line in f:\n        line = line.rstrip(\"\\n\")\n        if \"i&gt;\" in line:\n            anc.append(line)\nprint(anc)\n</code></pre>\n\n<p>Or to put it all together:</p>\n\n<pre><code>import argparse\n\nparser = argparse.ArgumentParser()\nparser.add_argument(\"-F\", \"--files\", nargs=\"+\", type=str, required=True,\n                    help=\"whitespace delimited list of files...\")\n\nargs = parser.parse_args()\nanc=[]\nfor path in args.files:\n    with open(path, \"r\") as f:\n        for line in f:\n            line = line.rstrip(\"\\n\")\n            if \"i&gt;\" in line:\n                anc.append(line)\nprint(anc)\n</code></pre>\n\n<p><strong>UPDATE</strong> - If you want only those two arguments, then I misunderstood you. It's even easier that way:</p>\n\n<pre><code>import argparse\n\nparser = argparse.ArgumentParser()\nparser.add_argument(\"-a\", \"--ancestral\", type=str, required=True,\n                    help=\"file with ancestral data...\")\nparser.add_argument(\"-e\", \"--evolved\", type=str, required=True,\n                    help=\"file with evolved data...\")\n\ndef process_file(path):  # a simple function to process our files individually\n    result = []\n    with open(path, \"r\") as f:\n        for line in f:\n            line = line.rstrip(\"\\n\")\n            if \"i&gt;\" in line:\n                result.append(line)\n    return result\n\nargs = parser.parse_args()  # parse the args\nanc = process_file(args.ancestral)  #  process the ancestral file\nprint(anc)\nevo = process_file(args.evolved)  #  process the evolved file\nprint(evo)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 8334443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66deca3bcf81181367fbe742c87bf404?s=128&d=identicon&r=PG&f=1", "display_name": "Digsby", "link": "https://stackoverflow.com/users/8334443/digsby"}, "is_accepted": false, "score": 0, "last_activity_date": 1500515233, "creation_date": 1500515233, "answer_id": 45203754, "question_id": 45201928, "link": "https://stackoverflow.com/questions/45201928/how-do-i-read-in-multiple-files-with-corresponding-flags-using-python-so-that-i/45203754#45203754", "title": "How do I read in multiple files with corresponding flags using python so that I can search them for specific strings?", "body": "<p>Here's how I accomplished it:</p>\n\n<pre><code>import argparse\n\nparser=argparse.ArgumentParser()\nparser.add_argument(\"-a\", action=\"store\", dest=\"anc_file\")\nparser.add_argument(\"-e\", action=\"store\", dest=\"evo_file\")\nargs = parser.parse_args()\n\na=open(args.anc_file,\"r\")\ne=open(args.evo_file,\"r\")\nanc=[]\nevo=[]\nfor line in a:\n    line=line.strip(\"\\n\")\n    if \"i&gt;\" in line:\n        anc.append(line)\nfor line in e:\n    line=line.strip(\"\\n\")\n    if \"i&gt;\" in line:\n        evo.append(line)\nprint anc, evo\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 8334443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66deca3bcf81181367fbe742c87bf404?s=128&d=identicon&r=PG&f=1", "display_name": "Digsby", "link": "https://stackoverflow.com/users/8334443/digsby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 661, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500516354, "creation_date": 1500502433, "question_id": 45201928, "link": "https://stackoverflow.com/questions/45201928/how-do-i-read-in-multiple-files-with-corresponding-flags-using-python-so-that-i", "title": "How do I read in multiple files with corresponding flags using python so that I can search them for specific strings?", "body": "<p>From the command line, I'm trying write a python script to read in multiple files that are referenced by different corresponding  flags so that I can search each line of each file for specific strings of text. So far I have accomplished this for a single file without flags using the fileinput package, and it worked great. I have tried to use argparse, and was able to read in a single file by referencing it with a flag, but I could not figure out how to read in two separate files with two separate corresponding flags. I would greatly appreciate any help. </p>\n\n<p>Here is my code for the fileinput method:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport fileinput\n\nanc=[]\nfor line in fileinput.input():\n  line=line.strip('\\n')\n  if \"i&gt;\" in line:\n    anc.append(line)\nprint anc\n</code></pre>\n\n<p>.. and here is my code for the argparse method:</p>\n\n<pre><code>#!/usr/bin/python\nimport argparse\n\nparser=argparse.ArgumentParser()\nparser.add_argument(\"--file\", \"-a\", type=str, required=True, \nhelp=\"index.html file showing breseq polymorphism mutations between \nancestral sequences\")\nparser.add_argument(\"--file\", \"-e\", type=str, required=True, \nhelp=\"index.html file showing breseq polymorphism mutations between \nancestral and evolved sequences\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 1, "creation_date": 1500502565, "post_id": 45201897, "comment_id": 77371003, "body": "You&#39;re multiplying a string and a number (<code>&quot;4:26:3&quot; * 24</code>). In Python, that repeats the string. Then you&#39;re dividing a number by that long string. This should produce an error that says you can&#39;t divide an <code>int</code> (number) by a <code>str</code> (string)."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1500502670, "creation_date": 1500502670, "answer_id": 45201976, "question_id": 45201897, "link": "https://stackoverflow.com/questions/45201897/python-number-processed-per-hour/45201976#45201976", "title": "Python Number Processed Per Hour", "body": "<p>Very simply, you never converted your <code>diff</code> variable from the triple of values to a <em>numeric</em> quantity of hours.  Instead, you formatted it as a human-readable string.  Multiply a string by 24 gives you 24 copies concatenated into one string ... which you <em>should</em> have verified with a simple <code>print</code> statement before posting.  For instance:</p>\n\n<pre><code># \"%d:%d:%d\" % (diff.hours, diff.minutes, diff.seconds) = 04:26:03\ntotalTime = \"%d:%d:%d\" % (4, 26, 3)\ntotalProcessed = 73\ndenomCheck = totalTime*24\nprint \"totalTime\", totalTime\nprint \"denomCheck\", denomCheck\nif denomCheck != 0:\n    unitsPerHour =  totalProcessed/(totalTime*24)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>totalTime 4:26:3\ndenomCheck 4:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:34:26:3\nTraceback (most recent call last):\n  File \"so.py\", line 8, in &lt;module&gt;\n    unitsPerHour =  totalProcessed/(totalTime*24)\nTypeError: unsupported operand type(s) for /: 'int' and 'str'\n</code></pre>\n\n<p>SOLUTION:</p>\n\n<p>Do the math:</p>\n\n<pre><code>total_time = diff.hours + diff.minutes/60.0 + diff.seconds/3600.0\n</code></pre>\n\n<p>If you want to learn to manipulate a data type that makes these things easier, try Python's <code>datetime</code> package.</p>\n"}, {"tags": [], "owner": {"reputation": 1170, "user_id": 4557382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d82662e2c9ef9f43f2a0ffa416686c3?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Portnoy", "link": "https://stackoverflow.com/users/4557382/andrey-portnoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1500504408, "last_edit_date": 1500504408, "creation_date": 1500502925, "answer_id": 45202015, "question_id": 45201897, "link": "https://stackoverflow.com/questions/45201897/python-number-processed-per-hour/45202015#45202015", "title": "Python Number Processed Per Hour", "body": "<p>Given a string like '04:26:03', you can do the following to calculate units per hour:</p>\n\n<pre><code>time_string = '04:26:03'\n\n# extract hours, minutes, and seconds\nhours, minutes, seconds =  [int(item.lstrip('0')) for item in time_string.split(':')]\n\n# calculate total time, assuming Python 3\ntotal_time_in_hours = hours + minutes/60 + seconds/3600\n\n# units per hour\nunits_per_hour = totalProcessed / total_time_in_hours\n</code></pre>\n\n<p>If the values are available as integers,\nsimply do:</p>\n\n<pre><code>total_time_in_hours = diff.hours + diff.minutes / 60 + diff.seconds / 3600\nunits_per_hour = totalProcessed / total_time_in_hours\n</code></pre>\n"}], "owner": {"reputation": 376, "user_id": 4021006, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/TV7qH.jpg?s=128&g=1", "display_name": "phil o.O", "link": "https://stackoverflow.com/users/4021006/phil-o-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500504408, "creation_date": 1500502324, "question_id": 45201897, "link": "https://stackoverflow.com/questions/45201897/python-number-processed-per-hour", "title": "Python Number Processed Per Hour", "body": "<p>I was able to get this working in excel, however I can't seem to find the solution for Python 3.X. How do I calculate the number processed per hour?</p>\n\n<p>I need to create a formula that will determine the number of units produced in 1 hour. The formula <code>unitsPerHour =  totalProcessed/(totalTime*24)</code> works in excel, but not in Python. It seems as though <code>totalTime*24</code> always produces <code>0</code>.</p>\n\n<p>Example: Spent 4 hours and 26 minutes and 3 seconds (04:26:03) and completed 73 units. How many units were completed per hour?</p>\n\n<pre><code># \"%d:%d:%d\" % (diff.hours, diff.minutes, diff.seconds) = 04:26:03\ntotalTime = \"%d:%d:%d\" % (diff.hours, diff.minutes, diff.seconds)\ntotalProcessed = 73\ndenomCheck = totalTime*24\nif denomCheck != 0:\n    unitsPerHour =  totalProcessed/(totalTime*24)\n</code></pre>\n\n<p>Of course, an error is thrown whenever the denominator is equal to zero. Which is the purpose of the denomCheck variable. I do have instances where totalTime is equal to zero, so I have to check for it.</p>\n"}, {"tags": ["python", "python-3.x", "logging", "exception-handling"], "comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1500503256, "post_id": 45201884, "comment_id": 77371211, "body": "Also, the <a href=\"https://docs.python.org/3.1/library/logging.html#logging.basicConfig\" rel=\"nofollow noreferrer\">docs</a> say calling <code>basicConfig</code> adds a handler, which is a point made in answers to the <a href=\"https://stackoverflow.com/questions/37925579/python-logger-wont-overwrite-the-original-log\">other question</a>."}, {"owner": {"reputation": 663, "user_id": 7416542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/8JmDI.jpg?s=128&g=1", "display_name": "Calvin Ellington", "link": "https://stackoverflow.com/users/7416542/calvin-ellington"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1500503345, "post_id": 45201884, "comment_id": 77371248, "body": "Yep, this was answered in the questions @cxw linked. Should I delete this question or wait for someone to mark it as a duplicate?"}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1500504551, "post_id": 45201884, "comment_id": 77371631, "body": "That&#39;s a good question - I actually don&#39;t know.  The closest advice I can find is <a href=\"https://meta.stackoverflow.com/q/332101/2877364\">this</a>.  Based on that, I would say do not delete it."}], "owner": {"reputation": 663, "user_id": 7416542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/8JmDI.jpg?s=128&g=1", "display_name": "Calvin Ellington", "link": "https://stackoverflow.com/users/7416542/calvin-ellington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 0, "closed_date": 1500504308, "answer_count": 0, "score": 0, "last_activity_date": 1500502259, "creation_date": 1500502259, "question_id": 45201884, "link": "https://stackoverflow.com/questions/45201884/logging-will-not-overwrite-existing-log-file", "closed_reason": "Duplicate", "title": "Logging will not overwrite existing log file", "body": "<p>I am new to logging and I'm attempting to write some code that will log uncaught exceptions in one of my programs. I have read the documentation and for some reason I am unable to do anything except append to a log file, which is not what I want. I've specified <code>filemode='w'</code> to no avail. Anyone have a clue what I'm doing wrong in this situation?</p>\n\n<p>Here is my error handler that has my logging code ( I have tried placing <code>logging.basicConfig</code> outside of the function but that did not seem to affect anything):</p>\n\n<pre><code>### Function that handles unexpected errors and dumps relevant information to a log file.\ndef exceptionhandler(etype, value, tb):\n    # Checks if exception was manually raised.\n    global has_been_called\n    # If exception was not raised manually then it is uncaught.\n    if has_been_called is not True:\n            excmessage = 'Uncaught exception:\\n'\n            excmessage += ''.join(traceback.format_exception(etype, value, tb))\n            tkinter.messagebox.showwarning(title=\"ERROR: Please send screenshot to Dev Team.\",\n                                           message=excmessage)\n            logging.basicConfig(filename='Error.log', \n                    filemode='w',\n                    format='%(asctime)s: %(message)s',\n                    level=DEBUG)\n            logging.debug(excmessage)\n    # Reset has_been_called to its default value.\n    else:\n        has_been_called = False\n</code></pre>\n"}, {"tags": ["python", "pandas", "for-loop", "apply"], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 2, "last_activity_date": 1500502645, "creation_date": 1500502645, "answer_id": 45201969, "question_id": 45201879, "link": "https://stackoverflow.com/questions/45201879/python-pandas-for-loop/45201969#45201969", "title": "Python Pandas For loop", "body": "<p>No need for loops to do this.  Let use <code>groupby</code> and <code>transform</code>:</p>\n\n<pre><code>df['Median_Prices_Calc'] = df.groupby('Material')['Prices'].transform('median')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  Material  Prices  Median_Prices  Median_Prices_Calc\n0        a      12           12.5                12.5\n1        a      13           12.5                12.5\n2        b      34           34.0                34.0\n3        b     565           34.0                34.0\n4        b       8           34.0                34.0\n5        c      87           66.0                66.0\n6        c      66           66.0                66.0\n7        c       7           66.0                66.0\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7717502, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-8gmgdkHNj1s/AAAAAAAAAAI/AAAAAAAAADA/CavLVKzKHgY/photo.jpg?sz=128", "display_name": "Love Tyagi", "link": "https://stackoverflow.com/users/7717502/love-tyagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 45201969, "answer_count": 1, "score": 2, "last_activity_date": 1500502831, "creation_date": 1500502243, "last_edit_date": 1500502831, "question_id": 45201879, "link": "https://stackoverflow.com/questions/45201879/python-pandas-for-loop", "title": "Python Pandas For loop", "body": "<p>I am trying to create a column, in my dataframe, which will calculate values on behalf of certain categories in another column.</p>\n\n<p>Lets say, I have a column X, which has materials of different types, and there is a price of each of the types. Now, I want to append a column, based on each group along with Materials column, stating the Median of that particular type of materials. </p>\n\n<p>Columns would be like Materials|Prices| Median_Prices</p>\n\n<p>Help me in generating Column Median Prices.</p>\n\n<pre><code>Material,Prices,Median _Prices\na,12,12.5 \na,13,12.5\nb,34,34\nb,565,34\nb,8,34\nc,87,66\nc,66,66\nc,7,66\n</code></pre>\n"}, {"tags": ["python", "django", "apache", "file-upload", "amazon-elastic-beanstalk"], "comments": [{"owner": {"reputation": 2062, "user_id": 7065839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gknK.jpg?s=128&g=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/7065839/kai"}, "edited": false, "score": 0, "creation_date": 1500502373, "post_id": 45201834, "comment_id": 77370944, "body": "What&#39;s the upload script look like?"}, {"owner": {"reputation": 95, "user_id": 3358519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeb2ca0ed77a8e1f970a4434aba19c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3358519", "link": "https://stackoverflow.com/users/3358519/user3358519"}, "reply_to_user": {"reputation": 2062, "user_id": 7065839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gknK.jpg?s=128&g=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/7065839/kai"}, "edited": false, "score": 0, "creation_date": 1500503064, "post_id": 45201834, "comment_id": 77371148, "body": "Is a Django FileField field and i use the django-storages for manage it"}, {"owner": {"reputation": 5985, "user_id": 181206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2733df1e7a9e64d16eff51942cf0513?s=128&d=identicon&r=PG", "display_name": "Capsule", "link": "https://stackoverflow.com/users/181206/capsule"}, "edited": false, "score": 2, "creation_date": 1500506657, "post_id": 45201834, "comment_id": 77372245, "body": "what&#39;s the available RAM on the instance? if you fill it up during the file process, you&#39;ll definitely run into issues, hence the <code>MemoryError</code>"}, {"owner": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "edited": false, "score": 0, "creation_date": 1500511075, "post_id": 45201834, "comment_id": 77373335, "body": "Are you able to replicate this locally or on a dev environment with <code>DEBUG=True</code>?"}, {"owner": {"reputation": 95, "user_id": 3358519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeb2ca0ed77a8e1f970a4434aba19c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3358519", "link": "https://stackoverflow.com/users/3358519/user3358519"}, "reply_to_user": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "edited": false, "score": 0, "creation_date": 1500554398, "post_id": 45201834, "comment_id": 77395948, "body": "@mattjegan, It is a dev environment at AWS with DEBUG=True"}, {"owner": {"reputation": 95, "user_id": 3358519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeb2ca0ed77a8e1f970a4434aba19c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3358519", "link": "https://stackoverflow.com/users/3358519/user3358519"}, "reply_to_user": {"reputation": 5985, "user_id": 181206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2733df1e7a9e64d16eff51942cf0513?s=128&d=identicon&r=PG", "display_name": "Capsule", "link": "https://stackoverflow.com/users/181206/capsule"}, "edited": false, "score": 0, "creation_date": 1500554577, "post_id": 45201834, "comment_id": 77396103, "body": "@Capsule, I will do a teste, increase the instance from t2.micro to t2.small, thank&#39;s"}, {"owner": {"reputation": 95, "user_id": 3358519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeb2ca0ed77a8e1f970a4434aba19c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3358519", "link": "https://stackoverflow.com/users/3358519/user3358519"}, "reply_to_user": {"reputation": 5985, "user_id": 181206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2733df1e7a9e64d16eff51942cf0513?s=128&d=identicon&r=PG", "display_name": "Capsule", "link": "https://stackoverflow.com/users/181206/capsule"}, "edited": false, "score": 0, "creation_date": 1500570789, "post_id": 45201834, "comment_id": 77408650, "body": "Thank you @Capsule, the problem was solved increasing the instance. Someone know how i close this question?"}, {"owner": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "edited": false, "score": 1, "creation_date": 1500584520, "post_id": 45201834, "comment_id": 77416589, "body": "@user3358519 note that by increasing the instance size you only temporarily fix the issue until some file is uploaded that hits the new instances limits."}, {"owner": {"reputation": 95, "user_id": 3358519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeb2ca0ed77a8e1f970a4434aba19c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3358519", "link": "https://stackoverflow.com/users/3358519/user3358519"}, "reply_to_user": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "edited": false, "score": 0, "creation_date": 1500595740, "post_id": 45201834, "comment_id": 77420289, "body": "Really @mattjegan, we are work toward optimized the uplad process now, but this question was solved."}, {"owner": {"reputation": 172, "user_id": 4266202, "user_type": "registered", "profile_image": "https://graph.facebook.com/697493178/picture?type=large", "display_name": "Jamsheer Kandoth", "link": "https://stackoverflow.com/users/4266202/jamsheer-kandoth"}, "edited": false, "score": 0, "creation_date": 1501500006, "post_id": 45201834, "comment_id": 77789442, "body": "check your file upload size limit in your web server"}], "owner": {"reputation": 95, "user_id": 3358519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adeb2ca0ed77a8e1f970a4434aba19c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3358519", "link": "https://stackoverflow.com/users/3358519/user3358519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500554634, "creation_date": 1500501922, "last_edit_date": 1500554634, "question_id": 45201834, "link": "https://stackoverflow.com/questions/45201834/internal-server-error-when-uploading-large-files-aws-e-django", "title": "Internal Server Error when uploading large files (AWS e Django)", "body": "<p>I have a Django API in AWS that is manage by Elastic Beanstalk, the compose it is, EC2, RDS and for storage is the S3. </p>\n\n<p>So, the upload file work fine until 200MB, when is more it, the foloowing  exception is throwed:</p>\n\n<p><strong>The Postman app:</strong></p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;500 Internal Server Error&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Internal Server Error&lt;/h1&gt;\n        &lt;p&gt;The server encountered an internal error or\n           misconfiguration and was unable to complete\n           your request.\n        &lt;/p&gt;\n        &lt;p&gt;Please contact the server administrator at\n           root@localhost to inform them of the time this error \n           occurred, and the actions you performed just before this \n           error.\n        &lt;/p&gt;\n        &lt;p&gt;More information about this error may be available\n           in the server error log.\n        &lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>The Elastic Beanstalk log:</strong></p>\n\n<pre><code>MemoryError\nDuring handling of the above exception, another exception occurred\n</code></pre>\n\n<p><strong>Some observation:</strong></p>\n\n<ul>\n<li>The S3 bucket limit per file is 5T </li>\n<li>In my local server all works fine</li>\n</ul>\n"}, {"tags": ["python", "python-3.x", "numpy", "array-broadcasting"], "answers": [{"comments": [{"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1500502827, "post_id": 45201994, "comment_id": 77371085, "body": "could use out keyword to avoid allocating new numpy array, which is slow."}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1500502937, "post_id": 45201994, "comment_id": 77371121, "body": "sqrt faster than **0.5 in old version of python. not sure about new. <a href=\"https://stackoverflow.com/questions/327002/which-is-faster-in-python-x-5-or-math-sqrtx\" title=\"which is faster in python x 5 or math sqrtx\">stackoverflow.com/questions/327002/&hellip;</a> I am usually too lazy to type sqrt"}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1500503838, "post_id": 45201994, "comment_id": 77371383, "body": "don&#39;t worry about allocating new array if you only do this for once, instead of many times."}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1500504096, "post_id": 45201994, "comment_id": 77371474, "body": "are you writing some kind of least square fitting?"}, {"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1500511266, "post_id": 45201994, "comment_id": 77373371, "body": "Yes, with the intention of generalizing to cases with more than one <code>y</code> vector.  This finds the standard errors of the coefficients.  Why do you ask?"}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "reply_to_user": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1500512665, "post_id": 45201994, "comment_id": 77373687, "body": "Have you searched if anyone has written code/library for that? writing new code is the last resort."}, {"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1500513162, "post_id": 45201994, "comment_id": 77373784, "body": "Yes, there are <code>statsmodels</code> and <code>sklearn</code> but I&#39;m unsatisfied with both and in the process of tweaking them"}], "tags": [], "owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "is_accepted": true, "score": 2, "last_activity_date": 1500504060, "last_edit_date": 1500504060, "creation_date": 1500502757, "answer_id": 45201994, "question_id": 45201789, "link": "https://stackoverflow.com/questions/45201789/replace-looping-over-axes-with-broadcasting-pt-2/45201994#45201994", "title": "Replace looping-over-axes with broadcasting, pt 2", "body": "<p>Program:</p>\n\n<pre><code>import numpy as np\nx = np.matrix([[ 0.02984406, -0.00257266],\n               [-0.00257266,  0.00320312]])\n\nerr = np.array([  7.6363226 ,  13.16548267])\ndiag = np.diagonal(x)\nans = np.sqrt(diag*err[:,np.newaxis])  # sqrt of outer product\nprint(ans)\n\n# use out keyword to avoid making new numpy array for many times.\nans = np.empty(x.shape, dtype=x.dtype)\nfor i in range(100):\n    ans = np.multiply(diag, err, out=ans)\n    ans = np.sqrt(ans, out=ans)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[[ 0.47738755  0.15639712]\n [ 0.62682649  0.20535487]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 2, "last_activity_date": 1500544543, "creation_date": 1500544543, "answer_id": 45211343, "question_id": 45201789, "link": "https://stackoverflow.com/questions/45201789/replace-looping-over-axes-with-broadcasting-pt-2/45211343#45211343", "title": "Replace looping-over-axes with broadcasting, pt 2", "body": "<p>Here's an approach making use of <code>diagonal-view</code> with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.flat.html\" rel=\"nofollow noreferrer\"><code>ndarray.flat</code></a> into <code>x</code> and then use <code>broadcasting</code> for element-wise multiplication, like so -</p>\n\n<pre><code>np.sqrt(x.flat[::x.shape[1]+1].A1 * err[:,None])\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [108]: x = np.matrix([[ 0.02984406, -0.00257266],\n     ...:                [-0.00257266,  0.00320312]])\n     ...: \n     ...: err = np.array([  7.6363226 ,  13.16548267])\n     ...: \n\nIn [109]: np.sqrt(x.flat[::x.shape[1]+1].A1 * err[:,None])\nOut[109]: \narray([[ 0.47738755,  0.15639712],\n       [ 0.62682649,  0.20535487]])\n</code></pre>\n\n<p>Runtime test to see how a <code>view</code> helps over <code>np.diagonal</code> that creates a copy -</p>\n\n<pre><code>In [104]: x = np.matrix(np.random.rand(5000,5000))\n\nIn [105]: err = np.random.rand(5000)\n\nIn [106]: %timeit np.diagonal(x)*err[:,np.newaxis]\n10 loops, best of 3: 66.8 ms per loop\n\nIn [107]: %timeit x.flat[::x.shape[1]+1].A1 * err[:,None]\n10 loops, best of 3: 37.7 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 45201994, "answer_count": 2, "score": 2, "last_activity_date": 1500544543, "creation_date": 1500501735, "question_id": 45201789, "link": "https://stackoverflow.com/questions/45201789/replace-looping-over-axes-with-broadcasting-pt-2", "title": "Replace looping-over-axes with broadcasting, pt 2", "body": "<p>Earlier I asked a similar <a href=\"https://stackoverflow.com/questions/45200611/replace-looping-over-axes-with-broadcasting\">question</a> where the answer used <code>np.dot</code>, taking advantage of the fact that a dot product involves a sum of products.  (To my understanding.)</p>\n\n<p>Now I have a similar issue where I don't think <code>dot</code> will apply, because in place of a sum I want to take an element-wise diagonal.  If it does, I haven't been able to apply it correctly.</p>\n\n<p>Given a matrix <code>x</code> and array <code>err</code>:</p>\n\n<pre><code>x = np.matrix([[ 0.02984406, -0.00257266],\n               [-0.00257266,  0.00320312]])\n\nerr = np.array([  7.6363226 ,  13.16548267])\n</code></pre>\n\n<p>My current implementation with loop is:</p>\n\n<pre><code>res = np.array([np.sqrt(np.diagonal(x * err[i])) for i in range(err.shape[0])])\n\nprint(res)\n[[ 0.47738755  0.15639712]\n [ 0.62682649  0.20535487]]\n</code></pre>\n\n<p>which takes the diagonal of <code>x.dot(i)</code> for each <code>i</code> in <code>err</code>.  Could this be vectorized?  In other words, can the output of <code>x * err</code> be 3-dimensional, with <code>np.diagonal</code> then yielding a 2d array, with one element for each diagonal?</p>\n"}, {"tags": ["python", "pandas", "indexing", "scikit-learn"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1500501797, "post_id": 45201750, "comment_id": 77370743, "body": "I cannot reproduce your error."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1500501997, "post_id": 45201750, "comment_id": 77370826, "body": "@DYZ, <code>scaler.fit_transform(data[indices_of_feature_columns])</code> throws mentioned exception..."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6437485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8218371b9685e6f0c72ce275fbdfb363?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin Kirby", "link": "https://stackoverflow.com/users/6437485/gavin-kirby"}, "edited": false, "score": 0, "creation_date": 1500502521, "post_id": 45201793, "comment_id": 77370989, "body": "This works but has the side-effect of converting &quot;data&quot; from a pandas dataframe to a numpy array (which is not a show-stopper since I can convert it back, but it does mean that I lose the headings and need to find a workaround)."}, {"owner": {"reputation": 31, "user_id": 6437485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8218371b9685e6f0c72ce275fbdfb363?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin Kirby", "link": "https://stackoverflow.com/users/6437485/gavin-kirby"}, "edited": false, "score": 0, "creation_date": 1500502925, "post_id": 45201793, "comment_id": 77371117, "body": "Thank you! This solves my problem. I am curious as to why the original version seems to work for some and not others; my friend was using the same python and module versions as I am."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1500502676, "last_edit_date": 1500502676, "creation_date": 1500501752, "answer_id": 45201793, "question_id": 45201750, "link": "https://stackoverflow.com/questions/45201750/index-out-of-range-error-using-pandas/45201793#45201793", "title": "Index-out-of range error using pandas", "body": "<p>Try this:</p>\n\n<pre><code>import pandas as pd\nimport sklearn.preprocessing\n\ndata = pd.read_csv(\"data.csv\")\nscaler = sklearn.preprocessing.MinMaxScaler(feature_range = (-1, 1))\n\ndata = scaler.fit_transform(data)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>In [15]: data\nOut[15]:\narray([[-1.        ,  1.        ,  0.44444444],\n       [ 1.        , -1.        , -1.        ],\n       [ 0.        ,  0.86046512,  1.        ]])\n</code></pre>\n\n<p><strong>UPDATE:</strong> if you want to preserve scaled <code>data</code> as a DataFrame:</p>\n\n<pre><code>In [18]: data = pd.DataFrame(scaler.fit_transform(data), \n                             index=data.index, \n                             columns=data.columns)\n\nIn [19]: data\nOut[19]:\n   Var1      Var2      Var3\n0  -1.0  1.000000  0.444444\n1   1.0 -1.000000 -1.000000\n2   0.0  0.860465  1.000000\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6437485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8218371b9685e6f0c72ce275fbdfb363?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin Kirby", "link": "https://stackoverflow.com/users/6437485/gavin-kirby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 45201793, "answer_count": 1, "score": 0, "last_activity_date": 1500502676, "creation_date": 1500501533, "last_edit_date": 1500501828, "question_id": 45201750, "link": "https://stackoverflow.com/questions/45201750/index-out-of-range-error-using-pandas", "title": "Index-out-of range error using pandas", "body": "<p>First, a MWE comprising two files. The intent is to read the CSV into a pandas dataframe and then rescale all values in each column to the range (-1,1).</p>\n\n<p>data.csv:</p>\n\n<pre><code>Var1,Var2,Var3\n2.1,6.4,5.2\n7.9,2.1,1.3\n5.0,6.1,6.7\n</code></pre>\n\n<p>mwe.py:</p>\n\n<pre><code>import pandas as pd\nimport sklearn.preprocessing\n\ndata = pd.read_csv(\"data.csv\")\nscaler = sklearn.preprocessing.MinMaxScaler(feature_range = (-1, 1))\nnumber_of_columns = data.shape[1]\nindices_of_feature_columns = range(0, number_of_columns)\ndata[indices_of_feature_columns] = scaler.fit_transform(data[indices_of_feature_columns])\n</code></pre>\n\n<p>When I execute this (Python 2.7.13, sklearn 0.18.1, and pandas 0.20.3), I receive an odd error message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"mwe.py\", line 8, in &lt;module&gt;\n    data[indices_of_feature_columns] = scaler.fit_transform(data[indices_of_feature_columns])\n  File \"/home/gavin/miniconda2/lib/python2.7/site-packages/pandas/core/frame.py\", line 1958, in __getitem__\n    return self._getitem_array(key)\n  File \"/home/gavin/miniconda2/lib/python2.7/site-packages/pandas/core/frame.py\", line 2002, in _getitem_array\n    indexer = self.loc._convert_to_indexer(key, axis=1)\n  File \"/home/gavin/miniconda2/lib/python2.7/site-packages/pandas/core/indexing.py\", line 1231, in _convert_to_indexer\n    raise KeyError('%s not in index' % objarr[mask])\nKeyError: '[0 1 2] not in index'\n</code></pre>\n\n<p>However, when a friend executes this code using a seemingly identical setup, the code runs correctly.</p>\n"}, {"tags": ["python", "python-3.x", "raspberry-pi"], "comments": [{"owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 0, "creation_date": 1500501601, "post_id": 45201746, "comment_id": 77370671, "body": "what command are you giving to run it?"}, {"owner": {"reputation": 189, "user_id": 8088688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/660485827479032/picture?type=large", "display_name": "Anton van der Wel", "link": "https://stackoverflow.com/users/8088688/anton-van-der-wel"}, "reply_to_user": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 0, "creation_date": 1500502042, "post_id": 45201746, "comment_id": 77370837, "body": "<code>sh launcher.sh</code>"}, {"owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 0, "creation_date": 1500502093, "post_id": 45201746, "comment_id": 77370853, "body": "what is inside <code>launcher.sh</code>?"}, {"owner": {"reputation": 189, "user_id": 8088688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/660485827479032/picture?type=large", "display_name": "Anton van der Wel", "link": "https://stackoverflow.com/users/8088688/anton-van-der-wel"}, "reply_to_user": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 0, "creation_date": 1500502298, "post_id": 45201746, "comment_id": 77370916, "body": "look at the main post edited it"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1500502688, "post_id": 45201746, "comment_id": 77371043, "body": "So what kind of python-versions you got? Is the python-interpreter you use defined in your bash-env or you only got one single executable system-wide? Maybe your start-script is calling python2, while you want to call python3 (so install-state is different)?"}, {"owner": {"reputation": 189, "user_id": 8088688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/660485827479032/picture?type=large", "display_name": "Anton van der Wel", "link": "https://stackoverflow.com/users/8088688/anton-van-der-wel"}, "edited": false, "score": 1, "creation_date": 1500503355, "post_id": 45201746, "comment_id": 77371251, "body": "Im using python 3.4 so that could be it! How do i define that Im using 3.4 and not 2.7. Would <code>sudo python3 Display.py</code> suffice?"}, {"owner": {"reputation": 189, "user_id": 8088688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/660485827479032/picture?type=large", "display_name": "Anton van der Wel", "link": "https://stackoverflow.com/users/8088688/anton-van-der-wel"}, "edited": false, "score": 0, "creation_date": 1500503813, "post_id": 45201746, "comment_id": 77371376, "body": "And it worked brilliantly!"}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 8088688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/660485827479032/picture?type=large", "display_name": "Anton van der Wel", "link": "https://stackoverflow.com/users/8088688/anton-van-der-wel"}, "is_accepted": false, "score": 0, "last_activity_date": 1500504239, "creation_date": 1500504239, "answer_id": 45202234, "question_id": 45201746, "link": "https://stackoverflow.com/questions/45201746/made-a-shell-to-run-script-on-startup-suddently-it-gives-me-an-importerror/45202234#45202234", "title": "made a shell to run script on startup, suddently it gives me an importerror", "body": "<p>Simple fix: define the version of python which will be used. It used python 2.7. Yet the lib was for 3.4.</p>\n"}], "owner": {"reputation": 189, "user_id": 8088688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/660485827479032/picture?type=large", "display_name": "Anton van der Wel", "link": "https://stackoverflow.com/users/8088688/anton-van-der-wel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500504239, "creation_date": 1500501520, "last_edit_date": 1500502391, "question_id": 45201746, "link": "https://stackoverflow.com/questions/45201746/made-a-shell-to-run-script-on-startup-suddently-it-gives-me-an-importerror", "title": "made a shell to run script on startup, suddently it gives me an importerror", "body": "<p>I followed this guide: <a href=\"http://www.instructables.com/id/Raspberry-Pi-Launch-Python-script-on-startup/\" rel=\"nofollow noreferrer\">guide</a> to create a startupfile which excecutes a python file on startup. </p>\n\n<p>in step 2 it says I have to test the startupfile I just created and suddently my script says:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"Display.py\", line 1, in &lt;module&gt;\n    import pyowm\nImportError: No module named pyowm\n</code></pre>\n\n<p>the python file works perfect if I run it directly.</p>\n\n<p>what I allready tried: run pip again to see if the lib was okay\ncheck the /usr/local/lib/python3.4/dist-packages folder to see if it was there and it is. </p>\n\n<p>I think this is a python issue and not a RaspberryPi issue thats why I uploaded it here.</p>\n\n<p>runned by: </p>\n\n<blockquote>\n  <p>sh launcher.sh</p>\n</blockquote>\n\n<p>inside is:</p>\n\n<pre><code>#!/bin/sh\n# launcher.sh\n# navigate to home directory, then to this directory, then execute python script, then back home\n\ncd /\ncd /home/pi/arduino/Python/Main/Master\nsudo python Display.py\ncd /\n</code></pre>\n"}, {"tags": ["python", "xml", "xhtml"], "comments": [{"owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 1, "creation_date": 1500501496, "post_id": 45201703, "comment_id": 77370633, "body": "Why isn&#39;t <code>Label4</code> part of your expected results?"}, {"owner": {"reputation": 13, "user_id": 7194407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39df60c4db620bdff7b0d28a1c63eb24?s=128&d=identicon&r=PG&f=1", "display_name": "misio_jasio", "link": "https://stackoverflow.com/users/7194407/misio-jasio"}, "reply_to_user": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 0, "creation_date": 1500501603, "post_id": 45201703, "comment_id": 77370673, "body": "because non of Label4 &#39;broader&#39; node = Label4&#39; id&#39; node."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7194407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39df60c4db620bdff7b0d28a1c63eb24?s=128&d=identicon&r=PG&f=1", "display_name": "misio_jasio", "link": "https://stackoverflow.com/users/7194407/misio-jasio"}, "edited": false, "score": 0, "creation_date": 1500503619, "post_id": 45202031, "comment_id": 77371321, "body": "Not enough. Please mind the condition that number of &#39;broader nodes needs to be &gt; 1."}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 13, "user_id": 7194407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39df60c4db620bdff7b0d28a1c63eb24?s=128&d=identicon&r=PG&f=1", "display_name": "misio_jasio", "link": "https://stackoverflow.com/users/7194407/misio-jasio"}, "edited": false, "score": 0, "creation_date": 1500503696, "post_id": 45202031, "comment_id": 77371341, "body": "Oh, there&#39;s a possibility there&#39;s no <code>broader</code> tag inside one of <code>term</code>s? I wasn&#39;t aware because I was focused on the example, sorry. I&#39;ll edit it asap."}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 13, "user_id": 7194407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39df60c4db620bdff7b0d28a1c63eb24?s=128&d=identicon&r=PG&f=1", "display_name": "misio_jasio", "link": "https://stackoverflow.com/users/7194407/misio-jasio"}, "edited": false, "score": 0, "creation_date": 1500503949, "post_id": 45202031, "comment_id": 77371423, "body": "@misio_jasio I think it&#39;s good to go, now! thanks for the comment! :D"}, {"owner": {"reputation": 13, "user_id": 7194407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39df60c4db620bdff7b0d28a1c63eb24?s=128&d=identicon&r=PG&f=1", "display_name": "misio_jasio", "link": "https://stackoverflow.com/users/7194407/misio-jasio"}, "edited": false, "score": 1, "creation_date": 1500504020, "post_id": 45202031, "comment_id": 77371449, "body": "Yes, there is a possibility that there will be no  &#39;broader&#39; nodes inside &#39;term&#39; node."}], "tags": [], "owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "is_accepted": false, "score": 0, "last_activity_date": 1500503931, "last_edit_date": 1500503931, "creation_date": 1500503042, "answer_id": 45202031, "question_id": 45201703, "link": "https://stackoverflow.com/questions/45201703/python-xml-number-of-child-nodes/45202031#45202031", "title": "Python/XML number of child nodes", "body": "<p>What you can do, using <code>BeautifulSoup</code> is to loop over all <code>term</code> tags, and check if their id text is equal to any of their <code>broader</code> texts:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nsoup = BeautifulSoup(doc, 'lxml') #  doc is your string\ntermList = soup.findAll(\"term\")\nfor term in termList:\n    if len(term.findAll(\"broader\")) &gt; 1:\n        for broader in term.findAll(\"broader\"):\n            if term.id.text == broader.text:\n                print(term.value.text)\n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>Label2\nLabel3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3185, "user_id": 7031759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80DxZ.jpg?s=128&g=1", "display_name": "Skycc", "link": "https://stackoverflow.com/users/7031759/skycc"}, "is_accepted": true, "score": 0, "last_activity_date": 1500508763, "creation_date": 1500508763, "answer_id": 45202949, "question_id": 45201703, "link": "https://stackoverflow.com/questions/45201703/python-xml-number-of-child-nodes/45202949#45202949", "title": "Python/XML number of child nodes", "body": "<p>using builtin <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html\" rel=\"nofollow noreferrer\">xml</a> module, the sytax is quite similar to beautifulsoup :)</p>\n\n<p>Replace <code>path_to_xml</code> to your xml file path</p>\n\n<pre><code>from xml.etree import cElementTree as ET\nxml_dat = ET.parse(path_to_xml).getroot()\nfor term in xml_dat.iter('term'):\n    broaders = term.findall('broader')\n    if len(broaders) &gt; 1:\n        for broader in broaders:\n            if term.find('id').text == broader.text:\n                print(term.find('altLabel').find('value').text)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7194407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39df60c4db620bdff7b0d28a1c63eb24?s=128&d=identicon&r=PG&f=1", "display_name": "misio_jasio", "link": "https://stackoverflow.com/users/7194407/misio-jasio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "accepted_answer_id": 45202949, "answer_count": 2, "score": 0, "last_activity_date": 1500508763, "creation_date": 1500501317, "last_edit_date": 1500501777, "question_id": 45201703, "link": "https://stackoverflow.com/questions/45201703/python-xml-number-of-child-nodes", "title": "Python/XML number of child nodes", "body": "<p>what I want to get from below xml file is:\nif number of <code>&lt;broader&gt;</code> nodes inside <code>&lt;term&gt;</code> node > 1 \nAND\nany of these <code>&lt;broader&gt;</code> node's value is equal to <code>&lt;id&gt;</code> node's value \nTHEN\nprint <code>&lt;value&gt;</code> node text.</p>\n\n<pre><code>            &lt;results&gt;\n            &lt;term&gt;\n                &lt;altLabel&gt;\n                    &lt;value&gt;Label1&lt;/value&gt;\n                &lt;/altLabel&gt;\n                &lt;broader&gt;11&lt;/broader&gt;\n                &lt;id&gt;1&lt;/id&gt;\n            &lt;/term&gt;\n            &lt;term&gt;\n                &lt;altLabel&gt;\n                    &lt;value&gt;Label2&lt;/value&gt;\n                &lt;/altLabel&gt;\n                &lt;broader&gt;22&lt;/broader&gt;\n                &lt;broader&gt;2&lt;/broader&gt;\n                &lt;id&gt;2&lt;/id&gt;\n            &lt;/term&gt;\n            &lt;term&gt;\n                &lt;altLabel&gt;\n                    &lt;value&gt;Label3&lt;/value&gt;\n                &lt;/altLabel&gt;\n                &lt;broader&gt;3&lt;/broader&gt;\n                &lt;broader&gt;33&lt;/broader&gt;\n                &lt;id&gt;3&lt;/id&gt;\n            &lt;/term&gt;\n            &lt;term&gt;\n                &lt;altLabel&gt;\n                    &lt;value&gt;Label4&lt;/value&gt;\n                &lt;/altLabel&gt;\n                &lt;broader&gt;44&lt;/broader&gt;\n                &lt;broader&gt;44&lt;/broader&gt;\n                &lt;id&gt;4&lt;/id&gt;\n            &lt;/term&gt;\n        &lt;/results&gt;\n</code></pre>\n\n<p>So that for above XML I suppose to get:</p>\n\n<pre><code>Label2\nLabel3\n</code></pre>\n\n<p>NOTE: number of child nodes inside <code>&lt;term&gt;</code> node may vary. This is just a sample xml, so that I'm not interested in pointing on any specific element of table.</p>\n"}, {"tags": ["python", "linked-list"], "comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1500501327, "post_id": 45201676, "comment_id": 77370576, "body": "Since you are stepping your pointer, you are ending up pointing at <code>None</code> always, before trying to add a new element. You need to keep a trailing pointer around, that will be pointing to the previous last element, in order to have that element point at your new last one."}], "answers": [{"tags": [], "owner": {"reputation": 1491, "user_id": 6232148, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9255cf10ac80e07a45561bbe5316a57f?s=128&d=identicon&r=PG&f=1", "display_name": "rma", "link": "https://stackoverflow.com/users/6232148/rma"}, "is_accepted": true, "score": 0, "last_activity_date": 1500501564, "creation_date": 1500501564, "answer_id": 45201757, "question_id": 45201676, "link": "https://stackoverflow.com/questions/45201676/function-for-adding-item-to-the-end-of-a-linked-list/45201757#45201757", "title": "Function for adding item to the end of a linked list", "body": "<p>The problem is your <code>addToTail</code> will always have the pointer as None, because you're iterating until your value is none in your while loop. Add an extra variable that points to the previous element in the linked list instead- That way, you'll get the last value in the list instead of None. </p>\n\n<pre><code>def addToTail(myList, value):\n    ptr = myList\n    prev = ptr\n    while ptr != None:\n         prev = ptr\n         ptr = ptr['next']\n    node = {}\n    node['data'] = value\n    node['next'] = None\n    prev['next'] = node \n    return myList\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 2, "last_activity_date": 1500501571, "creation_date": 1500501571, "answer_id": 45201760, "question_id": 45201676, "link": "https://stackoverflow.com/questions/45201676/function-for-adding-item-to-the-end-of-a-linked-list/45201760#45201760", "title": "Function for adding item to the end of a linked list", "body": "<p>Your issue lies with this part of <code>addToTail()</code> function:</p>\n\n<pre><code>ptr = myList\nwhile ptr != None:\n     ptr = ptr['next']\n</code></pre>\n\n<p>You're essentially looping until there is no next node and <code>ptr</code> is set to <code>None</code>. Then later on when you try to assign the node with <code>ptr['next'] = node</code> it obviously fails as you're trying to access <code>None</code>, not the tail node. You can solve this (to keep with your style) by checking for the next item prior to the assignment:</p>\n\n<pre><code>ptr = myList\nwhile True:\n    if ptr['next'] is None:\n        break\n    ptr = ptr['next']\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8334429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6a012aef0f7cfa77cd5e1cb17e225d6?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Galbraith", "link": "https://stackoverflow.com/users/8334429/andrew-galbraith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 45201757, "answer_count": 2, "score": 0, "last_activity_date": 1500501571, "creation_date": 1500501176, "question_id": 45201676, "link": "https://stackoverflow.com/questions/45201676/function-for-adding-item-to-the-end-of-a-linked-list", "title": "Function for adding item to the end of a linked list", "body": "<p>I'm new to programming in general and have just started using python. I have recently been learning about linked lists and I was having trouble using a function to add an item to the end of my list. The function listed below called addToTail isn't working and is giving me the error: TypeError: 'NoneType' object does not support item assignment. Any help would be much appreciated, thanks. </p>\n\n<pre><code>def addToHead(myList, value):\n    node = {}\n    node['data'] = value\n    node['next'] = myList\n    return node\n\ndef addToTail(myList, value):\n    ptr = myList\n    while ptr != None:\n         ptr = ptr['next']\n    node = {}\n    node['data'] = value\n    node['next'] = None\n    ptr['next'] = node \n    return myList\n\ndef printList(myList):\n    ptr = myList\n    while ptr != None:\n        print(ptr['data'])\n        ptr = ptr['next']\n    print('None')\n\ndef createList(pythonList):\n    linkedList = None\n    for i in pythonList:\n        linkedList = addToHead(linkedList, i)\n    return linkedList\n\n\n\nfirstList = createList([5, 10, 15])\naddToTail(firstList, 10)\nprintList(firstList)\n</code></pre>\n"}, {"tags": ["python", "json", "django", "python-3.x", "cassandra"], "comments": [{"owner": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "edited": false, "score": 0, "creation_date": 1500501077, "post_id": 45201628, "comment_id": 77370487, "body": "I&#39;ve had luck using the <code>json</code> keyword arg in place of <code>data</code> when using JSON-ish data."}, {"owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 1, "creation_date": 1500501089, "post_id": 45201628, "comment_id": 77370489, "body": "replace <code>data=payload</code> with <code>json=payload</code>"}, {"owner": {"reputation": 1669, "user_id": 2514936, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b6c2l.jpg?s=128&g=1", "display_name": "abautista", "link": "https://stackoverflow.com/users/2514936/abautista"}, "edited": false, "score": 0, "creation_date": 1500501637, "post_id": 45201628, "comment_id": 77370687, "body": "I&#39;ve got no luck by changing the data=payload to json=payload :("}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1501269395, "post_id": 45201628, "comment_id": 77723298, "body": "So <b>does the Postman query work</b> or does it not?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1501269801, "post_id": 45201628, "comment_id": 77723504, "body": "Your question is also confusing. If cassandra doesn&#39;t support certain filter operations, then that&#39;s not a <code>requests</code> limitation. You can only send queries that cassandra supports, nothing more, nothing less."}, {"owner": {"reputation": 1669, "user_id": 2514936, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b6c2l.jpg?s=128&g=1", "display_name": "abautista", "link": "https://stackoverflow.com/users/2514936/abautista"}, "edited": false, "score": 0, "creation_date": 1501270189, "post_id": 45201628, "comment_id": 77723708, "body": "My postman query works. I have tried the proposed solutions from the comments but they were not successful. The last resource (and one that I would not like to do) would be to download all the JSON data and store it locally in a SQL DB..... but I was expecting that the Python library could work."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1501270326, "post_id": 45201628, "comment_id": 77723779, "body": "@AlejandroRamos: you never made the same JSON body, though, you sent a different filter."}, {"owner": {"reputation": 1669, "user_id": 2514936, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b6c2l.jpg?s=128&g=1", "display_name": "abautista", "link": "https://stackoverflow.com/users/2514936/abautista"}, "edited": false, "score": 0, "creation_date": 1501270330, "post_id": 45201628, "comment_id": 77723782, "body": "The Postman filter works, so this indicates me that the not equal operations, or operations, between queries work.."}, {"owner": {"reputation": 1669, "user_id": 2514936, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b6c2l.jpg?s=128&g=1", "display_name": "abautista", "link": "https://stackoverflow.com/users/2514936/abautista"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1501270362, "post_id": 45201628, "comment_id": 77723804, "body": "@MartijnPieters how can I make the JSON body?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1501270370, "post_id": 45201628, "comment_id": 77723810, "body": "@AlejandroRamos: also, the <code>urllib.requests.urlopen</code> URLs look malformed; <code>user_name=user&amp;001</code> is two separate fields. Are you sure that&#39;s not <code>user_name=user+001</code> instead?"}, {"owner": {"reputation": 1669, "user_id": 2514936, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b6c2l.jpg?s=128&g=1", "display_name": "abautista", "link": "https://stackoverflow.com/users/2514936/abautista"}, "edited": false, "score": 0, "creation_date": 1501270449, "post_id": 45201628, "comment_id": 77723859, "body": "user_name=user+001 works"}], "answers": [{"comments": [{"owner": {"reputation": 1669, "user_id": 2514936, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b6c2l.jpg?s=128&g=1", "display_name": "abautista", "link": "https://stackoverflow.com/users/2514936/abautista"}, "edited": false, "score": 0, "creation_date": 1500959544, "post_id": 45291125, "comment_id": 77550408, "body": "I&#39;ve got something new here: <code>Message: The request contains an entity body but no Content-Type header. The inferred media type &#39;application&#47;octet-stream&#39; is not supported for this resource.</code>"}, {"owner": {"reputation": 1669, "user_id": 2514936, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b6c2l.jpg?s=128&g=1", "display_name": "abautista", "link": "https://stackoverflow.com/users/2514936/abautista"}, "edited": false, "score": 0, "creation_date": 1500960374, "post_id": 45291125, "comment_id": 77550735, "body": "I managed to solve this by using the following: <code>headers = {&#39;Content-type&#39;: &#39;application&#47;json&#39;, &#39;Accept&#39;:&#39;text&#47;plain&#39;}</code> and then <code>r = requests.post(url,data=json.dumps(payload),headers=headers)</code> but it just seems that posts retrieves all data."}, {"owner": {"reputation": 4941, "user_id": 495679, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dff23b6ae0f1dba0873927d2263e9350?s=128&d=identicon&r=PG", "display_name": "teewuane", "link": "https://stackoverflow.com/users/495679/teewuane"}, "edited": false, "score": 0, "creation_date": 1501053598, "post_id": 45291125, "comment_id": 77601911, "body": "You could actually just specify <code>json={\u201cwhoami\u201d: \u201cI\u2019m a python dict\u201d}</code> instead of <code>data=json.dumps...</code>."}], "tags": [], "owner": {"reputation": 99, "user_id": 954994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15648faa183076ad53cf6c61a1375481?s=128&d=identicon&r=PG", "display_name": "juanblo", "link": "https://stackoverflow.com/users/954994/juanblo"}, "is_accepted": false, "score": 0, "last_activity_date": 1500935643, "creation_date": 1500935643, "answer_id": 45291125, "question_id": 45201628, "link": "https://stackoverflow.com/questions/45201628/how-to-make-a-post-request-with-the-python-requests-library/45291125#45291125", "title": "How to make a post request with the Python requests library?", "body": "<p>I think, you can use requests library as follows:</p>\n\n<pre><code>import requests\nimport json\n\npayload = {'field':'T_Subcategory','operator':'neq','value':'Temporary Degradation'}\nurl = requests.post(\"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets\",data=json.dumps(payload))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4879424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a148af7773256400fe89decaf24775?s=128&d=identicon&r=PG&f=1", "display_name": "anuj249", "link": "https://stackoverflow.com/users/4879424/anuj249"}, "is_accepted": false, "score": 0, "last_activity_date": 1500985425, "creation_date": 1500985425, "answer_id": 45303206, "question_id": 45201628, "link": "https://stackoverflow.com/questions/45201628/how-to-make-a-post-request-with-the-python-requests-library/45303206#45303206", "title": "How to make a post request with the Python requests library?", "body": "<p>You are sending user in url, use it through post, but its depend upon how end points are implemented. You can try the below code :</p>\n\n<pre><code>import requests\nfrom json import dumps\n\ndata = {'user_name':'user&amp;001'}\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\nurl = \"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets/\"\nr = requests.post(url, headers=headers, data=dumps(data))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4941, "user_id": 495679, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dff23b6ae0f1dba0873927d2263e9350?s=128&d=identicon&r=PG", "display_name": "teewuane", "link": "https://stackoverflow.com/users/495679/teewuane"}, "is_accepted": false, "score": 7, "last_activity_date": 1501056017, "last_edit_date": 1501056017, "creation_date": 1501054806, "answer_id": 45320459, "question_id": 45201628, "link": "https://stackoverflow.com/questions/45201628/how-to-make-a-post-request-with-the-python-requests-library/45320459#45320459", "title": "How to make a post request with the Python requests library?", "body": "<p>I would recommend using the <code>json</code> attribute instead of data. It handles the dumping for you.</p>\n\n<pre><code>import requests\n\ndata = {'user_name':'user&amp;001'}\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\nurl = \"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets/\"\nr = requests.post(url, headers=headers, json=data)\n</code></pre>\n\n<p>Update, answer for question 3. Is there a reason you are using urllib? I\u2019d use python requests as well for this request.</p>\n\n<pre><code>import requests\n\ndef get_json():\n    r = requests.get(\"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets\u201d, params={\"user_name\": user_name.replace(\" \", \"&amp;\")})\n\n    return r.json\n\n# not sure what you\u2019re doing here, more context/code example would help\ndef get_tickets_not_temp_degradation(start_date, end_date, complete_):\n    return Counter([k['user_name'] for k in complete_data if start_date &lt; dateutil.parser.parse(k.get('DateTime')) &lt; end_date and k['T_subcategory'] != 'Temporary Degradation'])\n</code></pre>\n\n<p>Also, is the username really supposed to be <code>user+001</code> and not <code>user&amp;001</code> or <code>user 001</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 11, "last_activity_date": 1501271332, "last_edit_date": 1501271332, "creation_date": 1501270524, "answer_id": 45381146, "question_id": 45201628, "link": "https://stackoverflow.com/questions/45201628/how-to-make-a-post-request-with-the-python-requests-library/45381146#45381146", "title": "How to make a post request with the Python requests library?", "body": "<p>Your Postman request is a JSON body. Just reproduce that same body in Python. Your Python code is not sending JSON, nor is it sending the same data as your Postman sample.</p>\n\n<p>For starters, sending a dictionary via the <code>data</code> arguments encodes that dictionary to <code>application/x-www-form-urlencoded</code> form, not JSON. Secondly, you appear to be sending a single filter.</p>\n\n<p>The following code replicates your Postman post exactly:</p>\n\n<pre><code>import requests\n\nfilters = {\"filter\": {\n    \"filters\": [{\n        \"field\": \"RCA_Assigned_Date\",\n        \"operator\": \"gte\",\n        \"value\": \"2017-05-31 00:00:00\"\n    }, {\n        \"field\": \"RCA_Assigned_Date\",\n        \"operator\": \"lte\",\n        \"value\": \"2017-06-04 00:00:00\"\n    }, {\n        \"field\": \"T_Subcategory\",\n        \"operator\": \"neq\",\n        \"value\": \"Temporary Degradation\"\n    }, {\n        \"field\": \"Issue_Status\",\n        \"operator\": \"neq\",\n        \"value\": \"Queued\"\n    }],\n    \"logic\": \"and\"\n}}\n\nurl = \"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets\"\nresponse = requests.post(url, json=filters)\n</code></pre>\n\n<p>Note that <code>filters</code> is a <em>Python</em> data structure here, and that it is passed to the <code>json</code> keyword argument. Using the latter does two things:</p>\n\n<ul>\n<li>Encode the Python data structure to JSON (producing the exact same JSON value as your raw Postman body value).</li>\n<li>Set the <code>Content-Type</code> header to <code>application/json</code> (as you did in your Postman configuration by picking the <code>JSON</code> option in the dropdown menu after picking <code>raw</code> for the body).</li>\n</ul>\n\n<p><code>requests</code> is otherwise <em>just an HTTP API</em>, it can't make Cassandra do any more than any other HTTP library. The <code>urllib.request.urlopen</code> code sends <code>GET</code> requests, and are trivially translated to <code>requests</code> with:</p>\n\n<pre><code>def get_json():\n    url = \"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets\"\n    response = requests.get(url, params={'user_name': user}, timeout=15)    \n    return response.json()\n</code></pre>\n\n<p>I removed the <code>if</code> branching and replaced that with using the <code>params</code> argument, which translates a dictionary of key-value pairs to a correctly encoded URL query (passing in the user name as the <code>user_name</code> key).</p>\n\n<p>Note the <code>json()</code> call on the response; this takes care of decoding JSON data coming back from the server. This still takes long, you are not filtering the Cassandra data much here.</p>\n"}], "owner": {"reputation": 1669, "user_id": 2514936, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/b6c2l.jpg?s=128&g=1", "display_name": "abautista", "link": "https://stackoverflow.com/users/2514936/abautista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25120, "favorite_count": 6, "accepted_answer_id": 45381146, "answer_count": 4, "score": 10, "last_activity_date": 1501271332, "creation_date": 1500500957, "last_edit_date": 1500580917, "question_id": 45201628, "link": "https://stackoverflow.com/questions/45201628/how-to-make-a-post-request-with-the-python-requests-library", "title": "How to make a post request with the Python requests library?", "body": "<p>I am using the following filters in Postman to make a POST request in a Web API but I am unable to make a simple POST request in Python with the requests library. </p>\n\n<p><strong>First</strong>, I am sending a POST request to this URL (<a href=\"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets\" rel=\"noreferrer\">http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets</a>) with the following filters in Postman applied to the Body, with the raw and JSON(application/json) options selected. </p>\n\n<pre><code>Filters in Postman\n\n{\n  \"filter\": {\n    \"filters\": [\n      {\n        \"field\": \"RCA_Assigned_Date\",\n        \"operator\": \"gte\",\n        \"value\": \"2017-05-31 00:00:00\"\n      },\n      {\n        \"field\": \"RCA_Assigned_Date\",\n        \"operator\": \"lte\",\n        \"value\": \"2017-06-04 00:00:00\"\n      },\n      {\n        \"field\": \"T_Subcategory\",\n        \"operator\": \"neq\",\n        \"value\": \"Temporary Degradation\"\n      },\n      {\n        \"field\": \"Issue_Status\",\n        \"operator\": \"neq\",\n        \"value\": \"Queued\"\n      }],\n     \"logic\": \"and\"\n    }\n}\n</code></pre>\n\n<p>The database where the data is stored is Cassandra and according to the following links <a href=\"https://stackoverflow.com/questions/21925525/cassandra-not-equal-operator\">Cassandra not equal operator</a>, <a href=\"https://stackoverflow.com/questions/7255734/cassandra-between-order-by-operations?rq=1\">Cassandra OR operator</a>,\n <a href=\"https://stackoverflow.com/questions/26309198/cassandra-cql-or-operator\">Cassandra Between order by operators</a>, Cassandra does not support the <strong>NOT EQUAL TO</strong>, <strong>OR</strong>, <strong>BETWEEN</strong> operators, so there is no way I can filter the URL with these operators except with <strong>AND</strong>. </p>\n\n<p><strong>Second</strong>, I am using the following code to apply a simple filter with the requests library. </p>\n\n<pre><code>import requests\npayload = {'field':'T_Subcategory','operator':'neq','value':'Temporary Degradation'}\nurl = requests.post(\"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets\",data=payload)\n</code></pre>\n\n<p>But what I've got is the complete data of tickets instead of only those that are not temporary degradation. </p>\n\n<p><strong>Third</strong>, the system is actually working but we are experiencing a delay of 2-3 mins to see the data. The logic goes as follows: <em>We have 8 users and we want to see all the tickets per user that are not temporary degradation, then we do</em>:</p>\n\n<pre><code>def get_json():\n    if user_name == \"user 001\":\n        with urllib.request.urlopen(\n    \"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets?user_name=user&amp;001\",timeout=15) as url:\n            complete_data = json.loads(url.read().decode())\n\n    elif user_name == \"user 002\":\n        with urllib.request.urlopen(             \n    \"http://10.61.202.98:8081/T/a/api/rows/cat/ect/tickets?user_name=user&amp;002\",timeout=15) as url:\n            complete_data = json.loads(url.read().decode())\n    return complete_data\n\ndef get_tickets_not_temp_degradation(start_date,end_date,complete_):\n    return Counter([k['user_name'] for k in complete_data if start_date &lt; dateutil.parser.parse(k.get('DateTime')) &lt; end_date and k['T_subcategory'] != 'Temporary Degradation'])\n</code></pre>\n\n<p>Basically, we get the whole set of tickets from the current and last year, then we let Python to filter the complete set by user and so far there are only 10 users which means that this process is repeated 10 times and makes me no surprise to discover why we get the delay... </p>\n\n<p>My questions is how can I fix this problem of the requests library? I am using the following link <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#more-complicated-post-requests\" rel=\"noreferrer\">Requests library documentation</a> as a tutorial to make it working but it just seems that my payload is not being read.</p>\n"}, {"tags": ["python", "arrays", "image", "save", "png"], "comments": [{"owner": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "edited": false, "score": 1, "creation_date": 1500501306, "post_id": 45201612, "comment_id": 77370568, "body": "It would help to see the traceback (or at least print the exception)."}, {"owner": {"reputation": 1166, "user_id": 4288232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3554c55f06c75c180f95cda6b7fbe82c?s=128&d=identicon&r=PG", "display_name": "TimSC", "link": "https://stackoverflow.com/users/4288232/timsc"}, "edited": false, "score": 1, "creation_date": 1500506950, "post_id": 45201612, "comment_id": 77372348, "body": "What&#39;s the image&#39;s dtype when you call fromarray? <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.htm&zwnj;&#8203;l</a> Can&#39;t you just use imwrite in cv2? It would be helpful to have running code..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6759382"}, "edited": false, "score": 0, "creation_date": 1500584008, "post_id": 45201612, "comment_id": 77416306, "body": "It worked after I concatenated the path name and the file name by &quot;+&quot; instead of join(). Thanks for the comments."}], "owner": {"user_type": "does_not_exist", "display_name": "user6759382"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500500886, "creation_date": 1500500886, "question_id": 45201612, "link": "https://stackoverflow.com/questions/45201612/why-did-this-way-to-save-an-array-of-normalized-pixels-in-png-file-not-work", "title": "Why did this way to save an array of normalized pixels in PNG file not work?", "body": "<p>I searched many questions about saving an array of pixels in PNG file and made some modifications based on the previous answers. But my code still does not work. The system keeps printing out \"cannot convert\". Could anybody give any advice? I will greatly appreciate it.</p>\n\n<pre><code>for i in range(0, len(imgfile)-1):\n    img = cv2.imread(join(mypath,imgfile[i]),cv2.IMREAD_COLOR)\n    imgs[i] = cv2.normalize(img, alpha=0, beta=1, norm_type=cv2.NORM_MINMAX, \ndtype=cv2.CV_32F)\n\nheight=100\nwidth=100\nmax_pat=1000\ntotal_size=len(imgs)*max_pat*height*width*3\npatches = np.zeros(total_size)\npatches = patches.reshape(len(imgs), max_pat, height, width, 3)\npatches = patches.astype('float32')\n\n# Create patches and save to PNG files\nfor i in range(0, len(imgs)-1):\n    arr = np.array(imgs[i])\n    patches[i,:,:,:,:] = extract_patches_2d(arr, (height, width), max_pat)\n    for j in range(0, max_pat-1):\n        try:\n           image.fromarray(patches[i,j,:,:,:],'RGB').save(join(pathto,'pic',str(i),str(j),'.PNG'),'PNG')\n        except IOError:\n            print \"cannot convert\"\n</code></pre>\n"}, {"tags": ["python", "canvas", "text", "tkinter", "autoscroll"], "comments": [{"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1500502130, "post_id": 45201599, "comment_id": 77370863, "body": "does it need to be in a canvas? Also you may be able to use an if/else statement to check if there are 4 lines and if so remove the 1st line and move the other 3 up one row. I think it could be done in a textbox."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1500502371, "post_id": 45201599, "comment_id": 77370943, "body": "Any reason you don&#39;t want to use the premade ScrolledText widget?"}, {"owner": {"reputation": 13, "user_id": 7928386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b128eb8a0a6885e520081a4a47ee73f7?s=128&d=identicon&r=PG&f=1", "display_name": "ConnorP", "link": "https://stackoverflow.com/users/7928386/connorp"}, "edited": false, "score": 0, "creation_date": 1500504505, "post_id": 45201599, "comment_id": 77371613, "body": "OK so there&#39;s no way to do this in a Canvas text object? Only other types of text objects?"}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1500507743, "post_id": 45201599, "comment_id": 77372555, "body": "The only way to do it is to write the code to do it yourself. It wouldn&#39;t be that hard."}, {"owner": {"reputation": 13, "user_id": 7928386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b128eb8a0a6885e520081a4a47ee73f7?s=128&d=identicon&r=PG&f=1", "display_name": "ConnorP", "link": "https://stackoverflow.com/users/7928386/connorp"}, "reply_to_user": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1500508077, "post_id": 45201599, "comment_id": 77372638, "body": "@Novel Well, I have been trying. The issue is that there is no way to know 1) when the text object has wordwrapped to a third line and 2) how many characters are in the topmost line so that I can remove them. If you have any suggestions I would love to hear them."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1500508956, "post_id": 45201599, "comment_id": 77372909, "body": "You don&#39;t have to remove part of a line, you can just look at the size of it text object and move it up the appropriate amount. I could do this, but I need to be convinced that there is a point to this over just using a ScrolledText widget."}, {"owner": {"reputation": 13, "user_id": 7928386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b128eb8a0a6885e520081a4a47ee73f7?s=128&d=identicon&r=PG&f=1", "display_name": "ConnorP", "link": "https://stackoverflow.com/users/7928386/connorp"}, "edited": false, "score": 0, "creation_date": 1500562655, "post_id": 45201599, "comment_id": 77403036, "body": "From what I&#39;ve read on the docs, a ScrolledText widget seems to be a text area with a visible scrollbar on the side. What I&#39;m doing is more akin to subtitles, its an alpha overlay of text that changes as the program runs. So, I don&#39;t want the text to just move upwards, but instead shift one line up and have the topmost line simply disappear."}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1500505158, "creation_date": 1500505158, "answer_id": 45202405, "question_id": 45201599, "link": "https://stackoverflow.com/questions/45201599/tkinter-canvas-text-object-auto-scroll/45202405#45202405", "title": "Tkinter - Canvas Text Object Auto-Scroll", "body": "<blockquote>\n  <p>Any good way to do this?</p>\n</blockquote>\n\n<p>No, there is no way to cause canvas text items to clip the way you want.</p>\n"}, {"tags": [], "owner": {"reputation": 1581, "user_id": 3396785, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Bw5gb.jpg?s=128&g=1", "display_name": "decadenza", "link": "https://stackoverflow.com/users/3396785/decadenza"}, "is_accepted": false, "score": 0, "last_activity_date": 1500534036, "creation_date": 1500534036, "answer_id": 45207495, "question_id": 45201599, "link": "https://stackoverflow.com/questions/45201599/tkinter-canvas-text-object-auto-scroll/45207495#45207495", "title": "Tkinter - Canvas Text Object Auto-Scroll", "body": "<p>You can simply scroll the Text widget.</p>\n\n<p>See the code here: <a href=\"https://github.com/decadenza/blondieautoscroll\" rel=\"nofollow noreferrer\">https://github.com/decadenza/blondieautoscroll</a></p>\n"}], "owner": {"reputation": 13, "user_id": 7928386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b128eb8a0a6885e520081a4a47ee73f7?s=128&d=identicon&r=PG&f=1", "display_name": "ConnorP", "link": "https://stackoverflow.com/users/7928386/connorp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 45202405, "answer_count": 2, "score": 0, "last_activity_date": 1500534036, "creation_date": 1500500825, "question_id": 45201599, "link": "https://stackoverflow.com/questions/45201599/tkinter-canvas-text-object-auto-scroll", "title": "Tkinter - Canvas Text Object Auto-Scroll", "body": "<p>I'm working on a Tkinter application with a <code>Canvas</code> and a <code>create_text</code> object drawn on top of this <code>Canvas</code>. </p>\n\n<p>This text object word wraps automatically through the <code>width</code> property. However, I would like this text to automatically clip the top line of the text when the text object wraps to a 4th line.</p>\n\n<p>So go from this:</p>\n\n<pre><code> aaaa\nbbbbbb\n cccc\ndddddd &lt;- incoming new text\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>bbbbbb\n cccc\ndddddd\n</code></pre>\n\n<p>Any good way to do this?</p>\n"}, {"tags": ["python", "id3"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500503105, "post_id": 45201589, "comment_id": 77371163, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31326789/create-new-id3-tag-using-python-and-eyed3\">Create new ID3 tag using python and eyed3</a>"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500503203, "post_id": 45201589, "comment_id": 77371192, "body": "I was able to create a new tag using the code from the linked duplicate, and changing <code>file.tag.artist = u&quot;MP3 Artist&quot;</code> line to <code>file.tag.hash = u&quot;&lt;hash_value&gt;&quot;</code>"}, {"owner": {"reputation": 571, "user_id": 5427900, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a78563327ba253d4aab1b0fa1a6ee674?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5427900/bob"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500506231, "post_id": 45201589, "comment_id": 77372135, "body": "@downshift when I did <code>initTag()</code>, it wipes my existing tags, is there a way to do it without wiping my initial tags?"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1500511623, "post_id": 45201589, "comment_id": 77373446, "body": "My apologies, appears the <code>initTag()</code> line is not required. Remove that line and it should keep the current tags&#39; info."}], "answers": [{"tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1500572188, "creation_date": 1500572188, "answer_id": 45221591, "question_id": 45201589, "link": "https://stackoverflow.com/questions/45201589/custom-key-in-mp3-file-metadata/45221591#45221591", "title": "Custom key in mp3 file metadata", "body": "<p>As mentioned in the comments, <a href=\"http://eyed3.nicfit.net\" rel=\"nofollow noreferrer\">eyeD3</a> can do this. Custom key/tag works the same the other predefined key/tags. Choose a key/tag name, reference and assign it to your value.</p>\n\n<pre><code>import eyed3\n\naudiofile = eyed3.load('audio_file.mp3')\n# add your hash key/tag/value\n\naudiofile.tag.hash = u\"ec457d0a974c48d5685a7efa03d137dc8bbde7e3\" # example value\nprint audiofile.tag.hash # ec457d0a974c48d5685a7efa03d137dc8bbde7e3\n</code></pre>\n\n<p>Confirm other metadata is intact:</p>\n\n<pre><code>print audiofile.tag.artist # e.g. Henry Reed\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 571, "user_id": 5427900, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a78563327ba253d4aab1b0fa1a6ee674?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5427900/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500572188, "creation_date": 1500500763, "question_id": 45201589, "link": "https://stackoverflow.com/questions/45201589/custom-key-in-mp3-file-metadata", "title": "Custom key in mp3 file metadata", "body": "<p>I am trying to hash some mp3 files and store that hash value in the mp3's metadata. Is there a way that I can add a custom key/tag in the metadata other than the traditional tags of <code>['author', 'album', 'date']</code>? </p>\n"}, {"tags": ["python", "numpy", "scipy"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1500500987, "post_id": 45201564, "comment_id": 77370455, "body": "Fitting periodic functions is always tricky. Change the initial value of the frequency <code>b</code> to match the expected frequency better."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1500501186, "post_id": 45201564, "comment_id": 77370526, "body": "Your data do not look like a sinusoidal. Maybe a superposition of two Gaussians would work better. Or, if you know that your data were supposed to be sinusoidal - then your experiment is bad."}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1500501689, "post_id": 45201564, "comment_id": 77370702, "body": "can you fix your indentation please?"}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 4, "last_activity_date": 1500501500, "creation_date": 1500501500, "answer_id": 45201741, "question_id": 45201564, "link": "https://stackoverflow.com/questions/45201564/fitting-a-sine-data-in-python/45201741#45201741", "title": "Fitting a sine data in Python", "body": "<p>Actually, i <em>don't</em> see that this is a bad fit ... for a sine.  Are you expecting a two-peaked function?  If so, you'll need to \"explain\" that to the <code>fit</code> function by supplying an error function that matches your feeling of fitness.  Yes, you can fit the center part of this data much better with 2.5 cycles of a sine wave, but the left and right extremities of the wave would turn upward again, while the data trend distinctly down.  This mismatch is what gives you the half-cycle wave.</p>\n\n<p>You might experiment with error functions, such as sqrt(error) instead of error^2.  A bi-modal Gaussian distribution would fit this much better.  If you truly need sinusoidal, consider a Fourier transform, which will give you a combination (sum) of both sine waves -- and a lot of smaller-amplitude waves to account for the noise.</p>\n"}], "owner": {"reputation": 11, "user_id": 5521958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_1qm-mwDCDs/AAAAAAAAAAI/AAAAAAAADNc/1VNJFkeBwvQ/photo.jpg?sz=128", "display_name": "JCPP", "link": "https://stackoverflow.com/users/5521958/jcpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500501860, "creation_date": 1500500667, "last_edit_date": 1500501860, "question_id": 45201564, "link": "https://stackoverflow.com/questions/45201564/fitting-a-sine-data-in-python", "title": "Fitting a sine data in Python", "body": "<p>I want to fit the data attached below with a function of the form <code>-a*sin(b*x + c)</code> (or maybe could be also with <code>-a*sin(2*x)</code>) with <code>a b c</code> as the values to determine. I used <code>scipy.optimize.curve_fit</code>, but it does not work so well (as you can see in this <a href=\"https://i.stack.imgur.com/Y9UcN.png\" rel=\"nofollow noreferrer\">image</a>).  How can I improve this?</p>\n\n<p>Code: </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pylab as plt\n\ndata = open('pruebaData.dat', 'r')\nlines = data.readlines()[1:]\nx = []                \ny = []\n\nfor line in lines:\npos = line.split()\nif pos != []:\n    x.append(float(pos[0]))\n    y.append(float(pos[1]))\n\nz = []\nfor k in range(len(x)):\n   z.append(np.deg2rad(x[k]))\n\nvalX = np.asarray(z)\nvalY = np.asarray(y)\n\nfrom scipy.optimize import curve_fit\ndef fitFunc(X,a,b,c):\n   return (- a*np.sin(b*X + c))\n\nfig = plt.figure(2, figsize = (10,8))\n\ninit_vals = [1,1,1]    \nbest_vals, covar = curve_fit(fitFunc, valX, valY, p0=init_vals,  maxfev = 15000)\nline1 = plt.plot(x, y, 'o', color = 'k', ms = 6)\nfig2 = plt.plot(x,fitFunc(valX,best_vals[0],best_vals[1], best_vals[2]), '-\n', color = 'k', lw = 1)\nprint('PARAMETERS:',best_vals)\n\nplt.ylabel(r'DATA Y',fontsize=30)\nplt.xlabel(r'DATA X',fontsize=30)\nplt.xlim(min(x),max(x))\nlocs,labels = plt.xticks()\nplt.xticks(locs, fontsize = 20)\nlocs,labels = plt.yticks()\nplt.yticks(locs, fontsize = 20)\nplt.savefig('prueba.png', dpi = 500)\n</code></pre>\n\n<p><a href=\"https://drive.google.com/file/d/0B48poInSsRzGYjN1Z3ZfNDFTd0E/view?usp=sharing\" rel=\"nofollow noreferrer\">PruebaData.dat</a></p>\n"}, {"tags": ["python", "matplotlib", "legend", "seaborn"], "comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 5, "creation_date": 1500561820, "post_id": 45201514, "comment_id": 77402369, "body": "<code>data.assign(Generation=data.millenial.map({0: &quot;Older Generations&quot;, 1: &quot;Millenial&quot;}))</code>"}, {"owner": {"reputation": 6010, "user_id": 2487607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/77dd6879d2c47000814cb47faa2079c1?s=128&d=identicon&r=PG", "display_name": "travelingbones", "link": "https://stackoverflow.com/users/2487607/travelingbones"}, "edited": false, "score": 0, "creation_date": 1579808391, "post_id": 45201514, "comment_id": 105900665, "body": "this kinda avoids the issue of changing the plot legend, but instead makes a new column w/ different entries so the default names in the legend are as desired. it works, but seems like it changes (well makes a new) dataframe, not manipulates the plot"}], "answers": [{"comments": [{"owner": {"reputation": 734, "user_id": 8222266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5c5f9255e717616603f1c951236f39a?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver G", "link": "https://stackoverflow.com/users/8222266/oliver-g"}, "edited": false, "score": 0, "creation_date": 1500574227, "post_id": 45211976, "comment_id": 77410651, "body": "That helped, but the legend is now jutting into the figure (to the point where it&#39;s overlapping with it). Any way to move the legend back to the original position - to the right of the graph? (this is with the legend_out = True case, I like having the legend outside for this)"}, {"owner": {"reputation": 28401, "user_id": 2666859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtKyC.png?s=128&g=1", "display_name": "Serenity", "link": "https://stackoverflow.com/users/2666859/serenity"}, "reply_to_user": {"reputation": 734, "user_id": 8222266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5c5f9255e717616603f1c951236f39a?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver G", "link": "https://stackoverflow.com/users/8222266/oliver-g"}, "edited": false, "score": 0, "creation_date": 1500590343, "post_id": 45211976, "comment_id": 77418845, "body": "Legend_out=True is default, you skip this argument."}, {"owner": {"reputation": 401, "user_id": 5843327, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xye55.jpg?s=128&g=1", "display_name": "conchoecia", "link": "https://stackoverflow.com/users/5843327/conchoecia"}, "edited": false, "score": 2, "creation_date": 1514560865, "post_id": 45211976, "comment_id": 83018685, "body": "@Serenity I just tried <code>dir()</code> of my <code>ax</code> object and there was no <code>_legend</code> attribute but there was a <code>legend_</code> attribute. I had to change <code>zip(g._legend.texts, new_labels)</code> to <code>zip(g.legend_.texts, new_labels)</code> to get the code to work. Maybe this is due to a recent revision in <code>matplotlib</code>?"}, {"owner": {"reputation": 601, "user_id": 5391200, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeuhC.png?s=128&g=1", "display_name": "Justin Braaten", "link": "https://stackoverflow.com/users/5391200/justin-braaten"}, "edited": false, "score": 4, "creation_date": 1515008595, "post_id": 45211976, "comment_id": 83142911, "body": "To change the legend title I had to use <code>.legend_.set_title()</code>"}, {"owner": {"reputation": 1639, "user_id": 5609221, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/aafcc156cd144eefed9b3097453188e5?s=128&d=identicon&r=PG&f=1", "display_name": "Archie", "link": "https://stackoverflow.com/users/5609221/archie"}, "edited": false, "score": 0, "creation_date": 1524409343, "post_id": 45211976, "comment_id": 86950375, "body": "How can you change the fontsize of the legend using this code?"}, {"owner": {"reputation": 599, "user_id": 8212790, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oqKVv4fDBmo/AAAAAAAAAAI/AAAAAAAAA74/g60NhqcJ8tE/photo.jpg?sz=128", "display_name": "Ozkan Serttas", "link": "https://stackoverflow.com/users/8212790/ozkan-serttas"}, "edited": false, "score": 0, "creation_date": 1541109146, "post_id": 45211976, "comment_id": 93114990, "body": "That works very well! Thanks ~ but <code>sns.plt.show()</code> is not working with my jupyter notebook."}, {"owner": {"reputation": 754, "user_id": 5533078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e32da90b285acdc7556fd3d99d709e0?s=128&d=identicon&r=PG&f=1", "display_name": "jjrr", "link": "https://stackoverflow.com/users/5533078/jjrr"}, "edited": false, "score": 0, "creation_date": 1580661124, "post_id": 45211976, "comment_id": 106161953, "body": "hi all thanks for the comments. I have a <code>sns.scatterplot</code> for which I tried <code>plt.legend()</code> , <code>legend_.set_title(&#39;&#39;)</code> and <code>.legend(title=&#39;&#39;)</code>, but <i>none</i> works... do you have an idea why? -- thanks"}, {"owner": {"reputation": 754, "user_id": 5533078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e32da90b285acdc7556fd3d99d709e0?s=128&d=identicon&r=PG&f=1", "display_name": "jjrr", "link": "https://stackoverflow.com/users/5533078/jjrr"}, "edited": false, "score": 0, "creation_date": 1580661545, "post_id": 45211976, "comment_id": 106162057, "body": "weird thing: <code>my_plot.legend_.get_title()</code> gives <code>Text(0, 0, &#39;&#39;)</code> ...but there is actually a &#39;title&#39; , which is the name of the column passed as <code>hue</code>"}, {"owner": {"reputation": 156, "user_id": 9319184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3169bba4493a5e6367cd6d86c02285ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/9319184/jason"}, "reply_to_user": {"reputation": 1639, "user_id": 5609221, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/aafcc156cd144eefed9b3097453188e5?s=128&d=identicon&r=PG&f=1", "display_name": "Archie", "link": "https://stackoverflow.com/users/5609221/archie"}, "edited": false, "score": 0, "creation_date": 1591811940, "post_id": 45211976, "comment_id": 110201585, "body": "For me, I used <code>leg = g.axes.get_legend()</code> to get the legend handle. @Archie: to change the position and fontsize of the legend, use <code>plt.legend(loc = &#39;upper left&#39;, prop={&#39;size&#39;:14})</code> before chaning legend texts."}], "tags": [], "owner": {"reputation": 28401, "user_id": 2666859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtKyC.png?s=128&g=1", "display_name": "Serenity", "link": "https://stackoverflow.com/users/2666859/serenity"}, "is_accepted": true, "score": 69, "last_activity_date": 1500547391, "last_edit_date": 1500547391, "creation_date": 1500546032, "answer_id": 45211976, "question_id": 45201514, "link": "https://stackoverflow.com/questions/45201514/edit-seaborn-legend/45211976#45211976", "title": "Edit seaborn legend", "body": "<p>If <code>legend_out</code> is set to <code>True</code> then legend is available thought <code>g._legend</code> property and it is a part of a figure. Seaborn legend is standard matplotlib legend object. Therefore you may change legend texts like: </p>\n\n<pre><code>import seaborn as sns\n\ntips = sns.load_dataset(\"tips\")\ng = sns.lmplot(x=\"total_bill\", y=\"tip\", hue=\"smoker\",\n data=tips, markers=[\"o\", \"x\"], legend_out = True)\n\n# title\nnew_title = 'My title'\ng._legend.set_title(new_title)\n# replace labels\nnew_labels = ['label 1', 'label 2']\nfor t, l in zip(g._legend.texts, new_labels): t.set_text(l)\n\nsns.plt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OYwqc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OYwqc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Another situation if <code>legend_out</code> is set to <code>False</code>. You have to define which axes has a legend (in below example this is axis number 0):</p>\n\n<pre><code>import seaborn as sns\n\ntips = sns.load_dataset(\"tips\")\ng = sns.lmplot(x=\"total_bill\", y=\"tip\", hue=\"smoker\",\n data=tips, markers=[\"o\", \"x\"], legend_out = False)\n\n# check axes and find which is have legend\nleg = g.axes.flat[0].get_legend()\nnew_title = 'My title'\nleg.set_title(new_title)\nnew_labels = ['label 1', 'label 2']\nfor t, l in zip(leg.texts, new_labels): t.set_text(l)\nsns.plt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/p46JF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/p46JF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Moreover you may combine both situations and use this code:</p>\n\n<pre><code>import seaborn as sns\n\ntips = sns.load_dataset(\"tips\")\ng = sns.lmplot(x=\"total_bill\", y=\"tip\", hue=\"smoker\",\n data=tips, markers=[\"o\", \"x\"], legend_out = True)\n\n# check axes and find which is have legend\nfor ax in g.axes.flat:\n    leg = g.axes.flat[0].get_legend()\n    if not leg is None: break\n# or legend may be on a figure\nif leg is None: leg = g._legend\n\n# change legend texts\nnew_title = 'My title'\nleg.set_title(new_title)\nnew_labels = ['label 1', 'label 2']\nfor t, l in zip(leg.texts, new_labels): t.set_text(l)\n\nsns.plt.show()\n</code></pre>\n\n<p>This code works for any seaborn plot which is based on <a href=\"https://github.com/mwaskom/seaborn/blob/master/seaborn/axisgrid.py\" rel=\"noreferrer\"><code>Grid</code> class</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 126, "user_id": 8736261, "user_type": "registered", "profile_image": "https://graph.facebook.com/1484351301650603/picture?type=large", "display_name": "Jacob Lawrence", "link": "https://stackoverflow.com/users/8736261/jacob-lawrence"}, "edited": false, "score": 0, "creation_date": 1585737475, "post_id": 55108651, "comment_id": 107865188, "body": "g=sns.catplot(x=&#39;sex&#39;,y=&#39;age&#39;,hue=&#39;target&#39;,data=heart_data,h&zwnj;&#8203;eight=6,kind=&#39;bar&#39;,              legend=False) plt.legend(title=&#39;Smoker&#39;, loc=&#39;upper right&#39;, labels=[&#39;Hell Yeh&#39;, &#39;Nah Bruh&#39;]) plt.show(g) // my color code dosenot match with the color of the bar plot when am using a catplot.but this is possible in lmplot. Dont know why"}, {"owner": {"reputation": 156, "user_id": 9319184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3169bba4493a5e6367cd6d86c02285ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/9319184/jason"}, "edited": false, "score": 3, "creation_date": 1591812205, "post_id": 55108651, "comment_id": 110201729, "body": "The symbol in the legend does not match the markers."}, {"owner": {"reputation": 1764, "user_id": 3361197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yX9LK.png?s=128&g=1", "display_name": "yottabytt", "link": "https://stackoverflow.com/users/3361197/yottabytt"}, "edited": false, "score": 0, "creation_date": 1599537004, "post_id": 55108651, "comment_id": 112795690, "body": "If there is a need to save the plot instead of showing it inline, use <code>plt.figure(1).save(&#39;path&#39;)</code> instead of <code>plt.show(g)</code>"}], "tags": [], "owner": {"reputation": 5216, "user_id": 3866246, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/H3Tge.png?s=128&g=1", "display_name": "Glen Thompson", "link": "https://stackoverflow.com/users/3866246/glen-thompson"}, "is_accepted": false, "score": 73, "last_activity_date": 1552331324, "last_edit_date": 1552331324, "creation_date": 1552330944, "answer_id": 55108651, "question_id": 45201514, "link": "https://stackoverflow.com/questions/45201514/edit-seaborn-legend/55108651#55108651", "title": "Edit seaborn legend", "body": "<p>Took me a while to read through the above. This was the answer for me:</p>\n\n<pre><code>import seaborn as sns\nimport matplotlib.pyplot as plt\ntips = sns.load_dataset(\"tips\")\n\ng = sns.lmplot(\n    x=\"total_bill\", \n    y=\"tip\", \n    hue=\"smoker\", \n    data=tips,  \n    legend=False\n)\n\nplt.legend(title='Smoker', loc='upper left', labels=['Hell Yeh', 'Nah Bruh'])\nplt.show(g)\n</code></pre>\n\n<p>Reference this for more arguments: <a href=\"https://matplotlib.org/api/_as_gen/matplotlib.pyplot.legend.html\" rel=\"noreferrer\">matplotlib.pyplot.legend</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/YuznD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YuznD.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 997, "user_id": 4063051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19a92aedd9c5fada8091a1ae2b73a7c8?s=128&d=identicon&r=PG&f=1", "display_name": "glS", "link": "https://stackoverflow.com/users/4063051/gls"}, "edited": false, "score": 3, "creation_date": 1588717450, "post_id": 58726150, "comment_id": 109005955, "body": "for me the syntax was <code>g.legend().set_title(&#39;New Title&#39;)</code>, <code>_legend</code> is not recognised as a valide attribute"}], "tags": [], "owner": {"reputation": 303, "user_id": 3161564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9fgha.jpg?s=128&g=1", "display_name": "Batuhan T&#252;ter", "link": "https://stackoverflow.com/users/3161564/batuhan-t%c3%bcter"}, "is_accepted": false, "score": 2, "last_activity_date": 1573029927, "creation_date": 1573029927, "answer_id": 58726150, "question_id": 45201514, "link": "https://stackoverflow.com/questions/45201514/edit-seaborn-legend/58726150#58726150", "title": "Edit seaborn legend", "body": "<p>If you just want to change the legend title, you can do the following:</p>\n\n<pre><code>import seaborn as sns\nimport matplotlib.pyplot as plt\ntips = sns.load_dataset(\"tips\")\n\ng = sns.lmplot(\n    x=\"total_bill\", \n    y=\"tip\", \n    hue=\"smoker\", \n    data=tips,  \n    legend=True\n)\n\ng._legend.set_title(\"New Title\")\n</code></pre>\n"}], "owner": {"reputation": 734, "user_id": 8222266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5c5f9255e717616603f1c951236f39a?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver G", "link": "https://stackoverflow.com/users/8222266/oliver-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137823, "favorite_count": 21, "protected_date": 1616118033, "accepted_answer_id": 45211976, "answer_count": 3, "score": 59, "last_activity_date": 1616116034, "creation_date": 1500500463, "last_edit_date": 1513431523, "question_id": 45201514, "link": "https://stackoverflow.com/questions/45201514/edit-seaborn-legend", "title": "Edit seaborn legend", "body": "<p>Using a data frame and this code in Python, I was able to create a plot:</p>\n\n<pre><code>g = sns.lmplot('credibility', 'percentWatched', data=data, hue = 'millennial', markers = [\"+\", \".\"], x_jitter = True, y_jitter = True, size=5)\ng.set(xlabel = 'Credibility Ranking\\n \u2190 Low       High  \u2192', ylabel = 'Percent of Video Watched [%]')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/bHrA2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bHrA2.png\" alt=\"enter image description here\"></a></p>\n\n<p>However having the legend say \"+ 0\" and \". 1\" isn't very helpful to readers. How can I edit the legend's labels? Ideally instead of saying 'millennial' it would say 'Generation' and \"+ Millennial\" \". Older Generations\"</p>\n"}, {"tags": ["python", ".net", "tcp", "ironpython", "cpython"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1500500477, "post_id": 45201445, "comment_id": 77370235, "body": "You mean you&#39;e written C-extensions?"}, {"owner": {"reputation": 82, "user_id": 8334408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc811043e0bcccba194c33a7d6e00cd3?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/8334408/martin"}, "edited": false, "score": 0, "creation_date": 1500500781, "post_id": 45201445, "comment_id": 77370364, "body": "By cPython modules I mean &quot;normal&quot; python classes that run in any python3 interpreter just by importing them."}], "answers": [{"tags": [], "owner": {"reputation": 82, "user_id": 8334408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc811043e0bcccba194c33a7d6e00cd3?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/8334408/martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1500585269, "creation_date": 1500585269, "answer_id": 45225305, "question_id": 45201445, "link": "https://stackoverflow.com/questions/45201445/cpython-for-net-api/45225305#45225305", "title": "cPython for .NET API", "body": "<p>I've ended up porting my modules from cPython to ironPython.\nThis seemed to be a fairly straightforward job, and I'm pretty happy with the comparability.</p>\n"}], "owner": {"reputation": 82, "user_id": 8334408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc811043e0bcccba194c33a7d6e00cd3?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/8334408/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1500585269, "creation_date": 1500500178, "question_id": 45201445, "link": "https://stackoverflow.com/questions/45201445/cpython-for-net-api", "title": "cPython for .NET API", "body": "<p>I have build a bunch of python modules for controlling miscellaneous hardware over TCP. All is written for cPython (no .NET capabilities, as far as I understand).\nI want to add a new instrument to the pool that comes with a .NET API. <a href=\"https://www.ap.com/technical-library/controlling-apx500-with-python/\" rel=\"nofollow noreferrer\">See here</a>.</p>\n\n<p>From the distributer of the API, only ironPython is mentioned as option for interfacing with the instrument.</p>\n\n<p>I have no experience with .NET framework or ironPython, so I'm not sure what other options I might have (if any) and which suits my needs best.</p>\n\n<p>My needs are: \nI want to use all my old cPython based modules along side with the new instrument and its .NET based API.</p>\n\n<p>Staying in \"normal\" python would be the most elegant solution to me - but I'm really open for suggestions.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 644, "user_id": 3661003, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/rU4D0.jpg?s=128&g=1", "display_name": "Mohanad Kaleia", "link": "https://stackoverflow.com/users/3661003/mohanad-kaleia"}, "edited": false, "score": 0, "creation_date": 1500500579, "post_id": 45201440, "comment_id": 77370275, "body": "try:  values1.values - values2.values"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1500501373, "post_id": 45201440, "comment_id": 77370592, "body": "What you are missing is that Pandas does intrinsic data alignment.  Meaning that pandas will subtract based on the indexes of both dataframes.  Since the row index don&#39;t align you are getting a number minus NaN or NaN minus a number and those equal NaN."}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1500501467, "post_id": 45201440, "comment_id": 77370620, "body": "What is your expected output?"}, {"owner": {"reputation": 89, "user_id": 2920100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f694cf345933551bef44af7890f8d4?s=128&d=identicon&r=PG&f=1", "display_name": "user2920100", "link": "https://stackoverflow.com/users/2920100/user2920100"}, "edited": false, "score": 0, "creation_date": 1500501549, "post_id": 45201440, "comment_id": 77370659, "body": "Thanks! values1.values works if the arrays are of the same dimensions. What if there were more values in &quot;values1&quot; than in &quot;values2&quot;? Numpy doesn&#39;t seem to like that."}, {"owner": {"reputation": 55264, "user_id": 1258041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241?s=128&d=identicon&r=PG", "display_name": "Lev Levitsky", "link": "https://stackoverflow.com/users/1258041/lev-levitsky"}, "edited": false, "score": 0, "creation_date": 1500501864, "post_id": 45201440, "comment_id": 77370767, "body": "What do you expect to happen in this case? Please update your question with example input and desired output."}, {"owner": {"reputation": 89, "user_id": 2920100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f694cf345933551bef44af7890f8d4?s=128&d=identicon&r=PG&f=1", "display_name": "user2920100", "link": "https://stackoverflow.com/users/2920100/user2920100"}, "edited": false, "score": 0, "creation_date": 1500503162, "post_id": 45201440, "comment_id": 77371182, "body": "please see above"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 2920100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f694cf345933551bef44af7890f8d4?s=128&d=identicon&r=PG&f=1", "display_name": "user2920100", "link": "https://stackoverflow.com/users/2920100/user2920100"}, "edited": false, "score": 0, "creation_date": 1500501107, "post_id": 45201548, "comment_id": 77370499, "body": "thanks! What if there were more values in &quot;values1&quot; than in &quot;values2&quot;?  Numpy doesn&#39;t seem to like that."}], "tags": [], "owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1500500601, "creation_date": 1500500601, "answer_id": 45201548, "question_id": 45201440, "link": "https://stackoverflow.com/questions/45201440/subtraction-of-two-series-from-different-parts-of-the-dataframe/45201548#45201548", "title": "Subtraction of two series from different parts of the dataframe", "body": "<p>pandas does those operations based on labels. Since your labels ((71, 74, 78) and (79, 83, 86)) don't match, it cannot find any value to subtract. One way to deal with this is to use a numpy array instead of a Series so there is no label associated:</p>\n\n<pre><code>values1 - values2.values\nOut: \n71    1\n74   -7\n78   -2\nName: START, dtype: int64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1500504342, "post_id": 45201632, "comment_id": 77371553, "body": "@user2920100  Updated with new output."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 2, "last_activity_date": 1500504303, "last_edit_date": 1500504303, "creation_date": 1500500983, "answer_id": 45201632, "question_id": 45201440, "link": "https://stackoverflow.com/questions/45201440/subtraction-of-two-series-from-different-parts-of-the-dataframe/45201632#45201632", "title": "Subtraction of two series from different parts of the dataframe", "body": "<p>Let's try this:</p>\n\n<pre><code>df.set_index([df.groupby(['SID','AID']).cumcount(),'AID'])['START'].unstack().add_prefix('col_').eval('col_1 - col_2')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0    1.0\n1   -7.0\n2   -2.0\n3    NaN\ndtype: float64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1500507547, "creation_date": 1500507547, "answer_id": 45202779, "question_id": 45201440, "link": "https://stackoverflow.com/questions/45201440/subtraction-of-two-series-from-different-parts-of-the-dataframe/45202779#45202779", "title": "Subtraction of two series from different parts of the dataframe", "body": "<p>Bizarre way to go about it</p>\n\n<pre><code>-np.diff([g.reset_index(drop=True) for n, g in df.groupby('AID').START])[0]\n\n0    1.0\n1   -7.0\n2   -2.0\n3    NaN\nName: START, dtype: float64\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2920100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f694cf345933551bef44af7890f8d4?s=128&d=identicon&r=PG&f=1", "display_name": "user2920100", "link": "https://stackoverflow.com/users/2920100/user2920100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1500507547, "creation_date": 1500500128, "last_edit_date": 1500502067, "question_id": 45201440, "link": "https://stackoverflow.com/questions/45201440/subtraction-of-two-series-from-different-parts-of-the-dataframe", "title": "Subtraction of two series from different parts of the dataframe", "body": "<p>I have the following data frame:</p>\n\n<pre><code>        SID     AID          START           END\n71       1       1          -11136          -11122   \n74       1       1          -11121          -11109   \n78       1       1          -11034          -11014   \n79       1       2          -11137          -11152   \n83       1       2          -11114          -11127   \n86       1       2          -11032          -11038\n88       1       2          -11121          -11002  \n</code></pre>\n\n<p>I want to do a subtraction of the START elements with AID==1 and AID==2, in order, such that the expected result would be:</p>\n\n<pre><code>-11136 - (-11137) = 1\n\n-11121 - (-11114) =-7\n\n-11034 - (-11032) =-2\n\nNan    - (-11002) = NaN\n</code></pre>\n\n<p>So I extracted two groups:</p>\n\n<pre><code>values1 = group.loc[group['AID'] == 1][\"START\"]\nvalues2 = group.loc[group['AID'] == 2][\"START\"]\n</code></pre>\n\n<p>with the following result:</p>\n\n<pre><code>71   -11136\n74   -11121\n78   -11034\nName: START, dtype: int64\n79   -11137\n83   -11114\n86   -11032\n88   -11002\nName: START, dtype: int64\n</code></pre>\n\n<p>and did a simple subtraction: </p>\n\n<pre><code>values1-values2\n</code></pre>\n\n<p>But I got all NaNs:</p>\n\n<pre><code>71   NaN\n74   NaN\n78   NaN\n79   NaN\n83   NaN\n86   NaN\n</code></pre>\n\n<p>I noticed that if I use data from the same AID group (e.g. START-END), I get the right answer. I get the NaN only when I \"mix\" AID group.  I'm just getting started with Pandas, but I'm obviously missing something here. Any suggestion? </p>\n"}, {"tags": ["python", "python-3.x", "xpath", "scrapy", "scrapy-spider"], "comments": [{"owner": {"reputation": 8101, "user_id": 5832540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sy8es.jpg?s=128&g=1", "display_name": "Tom&#225;\u0161 Linhart", "link": "https://stackoverflow.com/users/5832540/tom%c3%a1%c5%a1-linhart"}, "edited": false, "score": 0, "creation_date": 1500528687, "post_id": 45201423, "comment_id": 77378190, "body": "If link to profile follows always the same pattern, it might be better to use <code>allow</code> to specify which links to extract instead of <code>restrict_xpaths</code>."}, {"owner": {"reputation": 19, "user_id": 3067909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100002461869471/picture?type=large", "display_name": "Lena Von Engel", "link": "https://stackoverflow.com/users/3067909/lena-von-engel"}, "reply_to_user": {"reputation": 8101, "user_id": 5832540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sy8es.jpg?s=128&g=1", "display_name": "Tom&#225;\u0161 Linhart", "link": "https://stackoverflow.com/users/5832540/tom%c3%a1%c5%a1-linhart"}, "edited": false, "score": 0, "creation_date": 1500572045, "post_id": 45201423, "comment_id": 77409348, "body": "profile has two types, because it depends of the privacy configuration given by the member"}, {"owner": {"reputation": 8101, "user_id": 5832540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sy8es.jpg?s=128&g=1", "display_name": "Tom&#225;\u0161 Linhart", "link": "https://stackoverflow.com/users/5832540/tom%c3%a1%c5%a1-linhart"}, "edited": false, "score": 0, "creation_date": 1500612025, "post_id": 45201423, "comment_id": 77423991, "body": "Two types is still a finite and non-changing set which can be enumerated beforehand ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 1498, "user_id": 5578348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99783dcf33b635d3a81e0ad0b6b72c83?s=128&d=identicon&r=PG&f=1", "display_name": "Wilfredo", "link": "https://stackoverflow.com/users/5578348/wilfredo"}, "is_accepted": false, "score": 0, "last_activity_date": 1501142088, "creation_date": 1501142088, "answer_id": 45344607, "question_id": 45201423, "link": "https://stackoverflow.com/questions/45201423/scrapy-how-to-make-a-request-to-scrape-a-link-inside-a-page/45344607#45344607", "title": "Scrapy: how to make a request to scrape a link inside a page", "body": "<p>I think you don't need a <code>Rule</code> at all, you could do something like:</p>\n\n<pre><code>def parse(self, response):\n    tables = response.xpath('//table[./tr/td[contains(text(), \"members\")]]')\n    for table in tables:\n        for href in table.css('tr td a::attr(href)'):\n            yield Request(href, callback=self.parse_member_profile)\n\ndef parse_member_profile(self, response):\n    ...\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 3067909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100002461869471/picture?type=large", "display_name": "Lena Von Engel", "link": "https://stackoverflow.com/users/3067909/lena-von-engel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 522, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501142088, "creation_date": 1500500034, "question_id": 45201423, "link": "https://stackoverflow.com/questions/45201423/scrapy-how-to-make-a-request-to-scrape-a-link-inside-a-page", "title": "Scrapy: how to make a request to scrape a link inside a page", "body": "<p>I already made a question, about this website, but i think i got ahead of facts and now i'm stuck. </p>\n\n<p>The structure of the website is something like this:</p>\n\n<pre><code>&lt;table&gt;\n&lt;tr&gt;\n&lt;td class=\"header\" colspan=\"2\"&gt;something&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;/table&gt;\n&lt;br/&gt;\n&lt;table&gt; \n&lt;tr&gt;\n&lt;td class=\"header\" colspan=\"2\"&gt;something2&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;/table&gt;\n&lt;br/&gt;\n&lt;table&gt;\n&lt;tr&gt; \n&lt;td class=\"header\" colspan=\"2\"&gt;something3&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>But inside one of  one of those tables there is a list of members and I need to extract the profile information of each member, but each profile is variable, so the table with its information changes, depending on the privacy settings.</p>\n\n<p>The table i need to scrape is something like this, but with many members:</p>\n\n<pre><code>&lt;table&gt;\n            &lt;tr&gt;\n                &lt;td colspan=\"4\" class=\"header\"&gt;members&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td class=\"title\"&gt;Name&lt;/td&gt;\n                &lt;td class=\"title\"&gt;position&lt;/td&gt;\n                &lt;td class=\"title\"&gt;hours&lt;/td&gt;\n                &lt;td class=\"title\"&gt;observ&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td class=\"c1\"&gt;       \n                    1.- &lt;a href=\"http://profiletype1.com\" target=\"_blank\"&gt;Homer Simpson&lt;/a&gt;\n                &lt;/td&gt;\n                &lt;td class=\"c1\"&gt;\n                    safety inspector\n                &lt;/td&gt;\n                &lt;td class=\"c1\"&gt;\n                    10\n                &lt;/td&gt;\n                &lt;td class=\"c1\"&gt;\n                    Neglect his duties\n                &lt;/td&gt;\n            &lt;/tr&gt;\n&lt;table&gt;\n</code></pre>\n\n<p>I already have most of the code to extract the information from the tables, but now I do not understand how to do the function that allows me to extract the information from the profiles of each member</p>\n\n<p>My spider is defined this way:</p>\n\n<pre><code>class Scraper(scrapy.Spider):\n    name = 'scraper'\n    start_urls = ['somesite.com']\n\n    rules = {\n    # Rule to extract profile info\n    Rule(LinkExtractor(allow =(), restrict_xpaths = ('/table[6]//tr/td[1]')),\n                        callback = 'parse_member', follow = False)\n}\ndef parse(self, response):\n  # logic to scrape each table\n\ndef parse_member(self,response):\n  # logic to scrape each profile for every member\n</code></pre>\n\n<p>But when I run the spider, I only get the results of extracting each table inside the main page. But I do not get the data for each user profile.</p>\n\n<p>How can i follow the link for each user profile and scrape the data inside without breaking the code to scrape the tables inside the main page?</p>\n"}, {"tags": ["python", "inheritance", "orm", "pony", "ponyorm"], "owner": {"reputation": 31, "user_id": 8334340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7670283612191db3d397edb80b61e1e8?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Lavrov", "link": "https://stackoverflow.com/users/8334340/petr-lavrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1500928963, "creation_date": 1500499962, "last_edit_date": 1500928963, "question_id": 45201406, "link": "https://stackoverflow.com/questions/45201406/pony-orm-define-entity-subclass-before-creating-database", "title": "Pony ORM define Entity subclass before creating database", "body": "<p>I'm creating a library that contains Bot class. I want it to be able to store messages logs and some other info in the sql database with the help of the pony orm. Idea is for the bot to accept the path to the database and create it or connect to it if it already exists.</p>\n\n<p>Sadly, it seems that with pony I can only define classes after creation of the database object, needing to inherit from database.Entity class to bind my class to the database.</p>\n\n<p>Obvious solution is to define all classes in the Bot class constructor after the creation of the database, but it seems quite ugly in terms of structure, because I plan those classes to be quite large, and wanted to store them in separate files.</p>\n\n<p>Other hypothetical way is to do following (but I don't know whether that functionality is supported):</p>\n\n<pre><code>from pony import orm\n\nclass Message(orm.Entity): \n  text = orm.Required(unicode)\n\nclass Database(orm.Database):\n  def __init__(self, path):\n    # super(..).__init__(..)\n    # bind Message to self\n\nclass Bot(object):\n  def __init__(self, path):\n    self.database = Database(path)\n</code></pre>\n\n<p>Yet another possible hypothetical way would be if I could inherit from Database.Entity.</p>\n\n<p>Any ideas? Maybe I can achieve this with another ORMs like SQLAlchemy?</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1500499758, "post_id": 45201319, "comment_id": 77369877, "body": "You should reduce this down to reduce this down to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. This is a lot of code to expect us to dig through. At least point out where the relevant code is."}, {"owner": {"reputation": 13, "user_id": 7571422, "user_type": "registered", "profile_image": "https://graph.facebook.com/469459523407379/picture?type=large", "display_name": "Austin Sutton", "link": "https://stackoverflow.com/users/7571422/austin-sutton"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1500504343, "post_id": 45201319, "comment_id": 77371556, "body": "You&#39;re right. I updated the question. It only includes my mob class and the game loop. Hope this helps"}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 1, "creation_date": 1500540415, "post_id": 45201319, "comment_id": 77385494, "body": "Your original example was actually better, because we could run it (after replacing the images). Read the <a href=\"https://stackoverflow.com/help/mcve\">mcve page</a> again. An executable example is pretty important if you want to analyze and debug a program. I&#39;ve checked it out and the sprites seem to move correctly. You should add the bugged code that moves the sprites down, if you want us to analyze it."}, {"owner": {"reputation": 13, "user_id": 7571422, "user_type": "registered", "profile_image": "https://graph.facebook.com/469459523407379/picture?type=large", "display_name": "Austin Sutton", "link": "https://stackoverflow.com/users/7571422/austin-sutton"}, "edited": false, "score": 0, "creation_date": 1500551569, "post_id": 45201319, "comment_id": 77393660, "body": "I apologize for having to adjust the code so often for everyone. I&#39;m new to using stack"}], "owner": {"reputation": 13, "user_id": 7571422, "user_type": "registered", "profile_image": "https://graph.facebook.com/469459523407379/picture?type=large", "display_name": "Austin Sutton", "link": "https://stackoverflow.com/users/7571422/austin-sutton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500551526, "creation_date": 1500499615, "last_edit_date": 1500551526, "question_id": 45201319, "link": "https://stackoverflow.com/questions/45201319/space-invaders-movement-is-acting-really-weird", "title": "Space Invaders movement is acting really weird", "body": "<p>When I iterate through the mob sprite group to move the aliens side to side, if I add code to move them down in unison they shoot off the screen. Does anyone know why? The alien movement also messes up over time and I have no idea how to fix the issue. Keep in mind, I'm extremely new to python and pygame so if anyone has any tips/ tricks that will make things easier please let me know! Thanks in advance:</p>\n\n<pre><code># Space Invaders\nimport random\n\nimport pygame\nfrom os import path\n\nimage_directory = path.join(path.dirname(__file__), \"Images\")\nsound_directory = path.join(path.dirname(__file__), \"Sounds\")\n\nWIDTH = 800\nHEIGHT = 600\nFPS = 60\n\n# define colors\nWHITE = (255, 255, 255)\nBLACK = (0, 0, 0)\nRED = (255, 0, 0)\nGREEN = (0, 255, 0)\nBLUE = (0, 0, 255)\n\n\nclass Player(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.transform.scale(player_image, (50, 38))\n        self.image.set_colorkey(BLACK)\n        self.rect = self.image.get_rect()\n        self.rect.centerx = WIDTH / 2\n        self.rect.bottom = HEIGHT - 20\n        self.speedx = 0\n        self.shoot_delay = 250\n        self.last_shot_time = pygame.time.get_ticks()\n\n    def update(self):\n        self.speedx = 0\n        keystate = pygame.key.get_pressed()\n        if (keystate[pygame.K_LEFT] or keystate[pygame.K_a]) and self.alive():\n            self.speedx = -5\n        if (keystate[pygame.K_RIGHT] or keystate[pygame.K_d]) and self.alive():\n            self.speedx = 5\n        if keystate[pygame.K_SPACE] and player.alive():\n            self.shoot()\n        self.rect.x += self.speedx\n        if self.rect.right &gt; WIDTH:\n            self.rect.right = WIDTH\n        if self.rect.left &lt; 0:\n            self.rect.left = 0\n\n    def shoot(self):\n        now = pygame.time.get_ticks()\n        if now - self.last_shot_time &gt; self.shoot_delay:\n            self.last_shot_time = now\n            bullet = Bullet(self.rect.centerx, self.rect.top)\n            all_sprites.add(bullet)\n            bullets.add(bullet)\n            shoot_sound.play()\n\n\nclass Bullet(pygame.sprite.Sprite):\n    def __init__(self, x_spawn, y_spawn):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.Surface((5, 25))\n        self.image.fill(WHITE)\n        self.image.set_colorkey(BLACK)\n        self.rect = self.image.get_rect()\n        self.rect.bottom = y_spawn\n        self.rect.centerx = x_spawn\n        self.y_speed = -10\n\n    def update(self):\n        self.rect.y += self.y_speed\n        if self.rect.bottom &lt; 0:\n            self.kill()\n\n\nclass Mob(pygame.sprite.Sprite):\n    def __init__(self, x_spawn, y_spawn):\n        pygame.sprite.Sprite.__init__(self)\n        if y_spawn == initial_y_spawn:\n            self.image = pygame.transform.scale(top_row_image, (45, 35))\n            self.score = 100\n        if y_spawn == initial_y_spawn + 50 or y_spawn == initial_y_spawn + 100:\n            self.image = pygame.transform.scale(second_third_row_image, (45, 35))\n            self.score = 50\n        if y_spawn == initial_y_spawn + 150 or y_spawn == initial_y_spawn + 200:\n            self.image = pygame.transform.scale(fourth_fifth_row_image, (45, 35))\n            self.score = 10\n        self.image.set_colorkey(BLACK)\n        self.rect = self.image.get_rect()\n        self.rect.centerx = x_spawn\n        self.rect.centery = y_spawn\n        self.x_movement = 10\n        self.time_last_updated = pygame.time.get_ticks()\n        self.direction = \"right\"\n\n    def update(self):\n        current_time = pygame.time.get_ticks()\n        if current_time - self.time_last_updated &gt; 250 and self.direction == \"right\":\n            self.rect.centerx += self.x_movement\n            self.time_last_updated = current_time\n        if current_time - self.time_last_updated &gt; 250 and self.direction == \"left\":\n            self.rect.centerx -= self.x_movement\n            self.time_last_updated = current_time\n\n\ndef new_top_row_mob(x_spawn, y_spawn):\n    _mob = Mob(x_spawn, y_spawn)\n    mobs.add(_mob)\n\n\ndef new_second_row_mob(x_spawn, y_spawn):\n    _mob = Mob(x_spawn, y_spawn)\n    mobs.add(_mob)\n\n\ndef new_third_row_mob(x_spawn, y_spawn):\n    _mob = Mob(x_spawn, y_spawn)\n    mobs.add(_mob)\n\n\ndef new_fourth_row_mob(x_spawn, y_spawn):\n    _mob = Mob(x_spawn, y_spawn)\n    mobs.add(_mob)\n\n\ndef new_fifth_row_mob(x_spawn, y_spawn):\n    _mob = Mob(x_spawn, y_spawn)\n    mobs.add(_mob)\n\n\n'''\ninitialize pygame and sound\n'''\npygame.init()\npygame.mixer.init()\n\n'''\ncreate display and clock\n'''\ngame_display = pygame.display.set_mode((WIDTH, HEIGHT))\npygame.display.set_caption(\"Space Invaders\")\nclock = pygame.time.Clock()\n\n'''\nimage loading\n'''\nbackground = pygame.image.load(path.join(image_directory, \"maxresdefault.jpg\")).convert()\nbackground_rect = background.get_rect()\nplayer_image = pygame.image.load(path.join(image_directory, \"player_ship.jpg\")).convert()\ntop_row_image = pygame.image.load(path.join(image_directory, \"top.jpg\")).convert()\nsecond_third_row_image = pygame.image.load(path.join(image_directory, \"second.jpg\")).convert()\nfourth_fifth_row_image = pygame.image.load(path.join(image_directory, \"third.jpg\")).convert()\n\n'''\nsound loading\n'''\nexplosion_sounds = []\nfor sound in [\"Explosion4.wav\", \"Explosion8.wav\"]:\n    explosion_sounds.append(pygame.mixer.Sound(path.join(sound_directory, sound)))\nshoot_sound = pygame.mixer.Sound(path.join(sound_directory, \"Laser_Shoot3.wav\"))\n\n'''\ncreate and add sprites to groups\n'''\nall_sprites = pygame.sprite.Group()\nbullets = pygame.sprite.Group()\nmobs = pygame.sprite.Group()\nplayer = Player()\n\ninitial_x_spawn = 50\ninitial_y_spawn = 75\nfor i in range(10):\n    new_top_row_mob(initial_x_spawn, initial_y_spawn)\n    new_second_row_mob(initial_x_spawn, initial_y_spawn + 50)\n    new_third_row_mob(initial_x_spawn, initial_y_spawn + 100)\n    new_fourth_row_mob(initial_x_spawn, initial_y_spawn + 150)\n    new_fifth_row_mob(initial_x_spawn, initial_y_spawn + 200)\n    initial_x_spawn += 75\n\nall_sprites.add(player)\nall_sprites.add(bullets)\nall_sprites.add(mobs)\n\n'''\nRuns the game loop \n'''\nrunning = True\nscore = 0\nedge = False\nwhile running:\n    # process input/ events\n    for event in pygame.event.get():\n        # check for closing window\n        if event.type == pygame.QUIT:\n            running = False\n    '''\n    update sprites and game\n    '''\n    all_sprites.update()\n\n    for alien in mobs.sprites():\n        if alien.rect.right &gt;= WIDTH:\n            for mob in mobs.sprites():\n                mob.direction = \"left\"\n                mob.rect.bottom += 15\n        if alien.rect.left &lt;= 0:\n            for mob in mobs.sprites():\n                mob.direction = \"right\"\n                mob.rect.bottom += 15\n\n    bullet_hits = pygame.sprite.groupcollide(mobs, bullets, True, True)\n    for hit in bullet_hits:\n        score += hit.score\n        random.choice(explosion_sounds).play()\n    '''\n    Draw/Render Graphics\n    '''\n    game_display.blit(background, background_rect)\n    all_sprites.draw(game_display)\n    # keep this running at the right speed\n    clock.tick(FPS)\n    # after drawing everything, flip the display\n    pygame.display.update()\n\npygame.quit()\nquit()\n</code></pre>\n"}, {"tags": ["python", "excel", "dictionary", "header"], "answers": [{"tags": [], "owner": {"reputation": 8755, "user_id": 4168397, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8e31d5748edf285187f67c329542ef96?s=128&d=identicon&r=PG", "display_name": "Rakesh Adhikesavan", "link": "https://stackoverflow.com/users/4168397/rakesh-adhikesavan"}, "is_accepted": false, "score": 0, "last_activity_date": 1500500232, "last_edit_date": 1500500232, "creation_date": 1500499859, "answer_id": 45201374, "question_id": 45201288, "link": "https://stackoverflow.com/questions/45201288/how-to-create-header-in-excel-from-a-python-dictionary-keys/45201374#45201374", "title": "how to create header in excel from a python dictionary keys", "body": "<p>One option is to use the <a href=\"http://pandas.pydata.org/\" rel=\"nofollow noreferrer\">pandas</a> package, you won't need too many imports. </p>\n\n<pre><code>import pandas as pd\n\nd = {'a':['Alpha','Bata','Gamma'], 'b':['1','2','3'], 'c':['1.0','2.0','3.0']}\n\ndf = pd.DataFrame(d)\n</code></pre>\n\n<p>df will look like this:</p>\n\n<pre><code>       a  b    c\n0  Alpha  1  1.0\n1   Bata  2  2.0\n2  Gamma  3  3.0\n</code></pre>\n\n<p>To write the DataFrame back in to an Excel file:</p>\n\n<pre><code>df.to_excel(\"Path to write Excel File + File Name\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8334336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/563d7ef5616a9cf9ddfa5d782045b24b?s=128&d=identicon&r=PG&f=1", "display_name": "C. Nelson", "link": "https://stackoverflow.com/users/8334336/c-nelson"}, "edited": false, "score": 0, "creation_date": 1500506824, "post_id": 45201416, "comment_id": 77372310, "body": "Exactly and thank you for taking the time to answer my question.  Have a great day."}], "tags": [], "owner": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "is_accepted": false, "score": 1, "last_activity_date": 1500500004, "creation_date": 1500500004, "answer_id": 45201416, "question_id": 45201288, "link": "https://stackoverflow.com/questions/45201288/how-to-create-header-in-excel-from-a-python-dictionary-keys/45201416#45201416", "title": "how to create header in excel from a python dictionary keys", "body": "<p>I think this is what you are trying to do:</p>\n\n<pre><code>import xlsxwriter\n\nworkbook = xlsxwriter.Workbook('dicExcel.xlsx')\nworksheet = workbook.add_worksheet()\n\nd = {'a':['Alpha','Bata','Gamma'], 'b':['1','2','3'], 'c':['1.0','2.0','3.0']}\nrow = 0\ncol = 0\n\nfor key in d.keys():\n    row = 0\n    worksheet.write(row, col, key)\n    row += 1\n    for item in d[key]:\n        worksheet.write(row, col, item)\n        row += 1\n    col += 1\n\nworkbook.close()\n</code></pre>\n\n<p>This puts the data in this format:</p>\n\n<pre><code>a       c      b\nAlpha   1.0    1\nBata    2.0    2\nGamma   3.0    3\n</code></pre>\n\n<p>Is this what you wanted?</p>\n"}], "owner": {"reputation": 11, "user_id": 8334336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/563d7ef5616a9cf9ddfa5d782045b24b?s=128&d=identicon&r=PG&f=1", "display_name": "C. Nelson", "link": "https://stackoverflow.com/users/8334336/c-nelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1865, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1500500232, "creation_date": 1500499495, "question_id": 45201288, "link": "https://stackoverflow.com/questions/45201288/how-to-create-header-in-excel-from-a-python-dictionary-keys", "title": "how to create header in excel from a python dictionary keys", "body": "<p>I am trying to take a dictionary in python and place it into an excel worksheet where the keys are displayed in the header section of the sheet and the values are in to columns.  I am close I am just missing something small and cannot figure it out here is my code. Caution I use way to many imports</p>\n\n<pre><code>import os\nimport re\nimport openpyxl\nfrom openpyxl.utils import get_column_letter, column_index_from_string\nimport xlsxwriter\nimport pprint\nfrom openpyxl.workbook import Workbook\nfrom openpyxl.worksheet.copier import WorksheetCopy\n\n\nworkbook = xlsxwriter.Workbook('dicExcel.xlsx')\nworksheet = workbook.add_worksheet()\n\nd = {'a':['Alpha','Bata','Gamma'], 'b':['1','2','3'], 'c':['1.0','2.0','3.0']}\nrow = 0\ncol = 1\n\nfor key in d.keys():\nrow += 1\nworksheet.write(row, col, key)\nfor item in d[key]:\n    worksheet.write(row, col + 1, item)\n    row += 1\n\nworkbook.close()\n</code></pre>\n"}, {"tags": ["python", "django", "sqlite", "django-models", "django-forms"], "comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1500499765, "post_id": 45201286, "comment_id": 77369881, "body": "Did you run <code>python manage.py makemigrations</code> before migrating?"}, {"owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1500499861, "post_id": 45201286, "comment_id": 77369932, "body": "Yes I did. I did make migrations."}, {"owner": {"reputation": 2054, "user_id": 971577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d98ac79a4acd120c724022a6d4794f?s=128&d=identicon&r=PG", "display_name": "LisaD", "link": "https://stackoverflow.com/users/971577/lisad"}, "edited": false, "score": 0, "creation_date": 1500502461, "post_id": 45201286, "comment_id": 77370972, "body": "Perhaps you can post the migration file where your migrations create the Event model?  It&#39;s probably because you added Event (or most of its fields) in a  migration other than the initial one, that django  is requiring you to put default values in for fields.   Can you confirm that you&#39;re seeing &quot;first_name&quot;, &quot;last_name&quot; in the MySql schema for Event?  Those don&#39;t come from Schedules model, did you misidentify where you think they come from?"}, {"owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "edited": false, "score": 0, "creation_date": 1500505865, "post_id": 45201286, "comment_id": 77372034, "body": "How would I check the migration file? I&#39;m using Pycharm. Also, theoretically, if that was the case, how would I fix it?"}], "owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1500507102, "creation_date": 1500499461, "last_edit_date": 1500507102, "question_id": 45201286, "link": "https://stackoverflow.com/questions/45201286/one-model-is-matching-another-different-model-in-the-database-in-django", "title": "One model is matching another different model in the database in Django", "body": "<p>I'm trying to create a form that adds events to a list that is attributed to different schedule instances, and I'm coming up with something screwy in the database. Here is my code.</p>\n\n<p>models.py</p>\n\n<pre><code>class Schedules(models.Model):\n    course_name = models.ForeignKey(Course)\n    location = models.CharField(max_length=128, choices=LOCATION_CHOICES, default='south_plainfield')\n    room = models.CharField(max_length=128, choices=ROOM_CHOICES, default='A')\n    start_date = models.DateField(auto_now=False, auto_now_add=False, default=datetime.date.today)\n    start_time = models.CharField(max_length=128, choices=START_TIME_CHOICES, default='eight-thirty am')\n    end_time = models.CharField(max_length=128, choices=END_TIME_CHOICES, default='eight-thirty am')\n    instructor = models.ForeignKey(Instructor)\n    total_hours = models.CharField(max_length=128, choices=TOTAL_HOURS_CHOICES, default='six')\n    frequency = models.CharField(max_length=128)\n    status = models.CharField(max_length=128, choices=STATUS_CHOICES)\n    interval = models.CharField(max_length=128, choices=INTERVAL_CHOICES, default='1 day')\n    initiated_by = models.CharField(max_length=128, null=True)\n    schedule_id = models.IntegerField(default=0)\n\n    def save(self, flag=True, *args, **kwargs):\n        super(Schedules, self).save()\n        if flag:\n            self.schedule_id = self.id + 10000\n            self.save(flag=False, *args, **kwargs)\n\n    @property\n    def end_date(self):\n        days = get_days(self.interval)\n        return self.start_date + datetime.timedelta(days=days)\n\n    def __str__(self):\n        return self.course_name\n\nclass Event(models.Model):\n    name = models.CharField(max_length=128, choices=EVENT_CHOICES, default='final exam')\n    instructor = models.ForeignKey(Instructor, null=True)\n    schedule = models.ForeignKey(Schedules, null=True)\n    date = models.DateField(auto_now=False, auto_now_add=False, null=True)\n    start_time = models.CharField(max_length=128, null=True)\n    end_time = models.CharField(max_length=128, null=True)\n    note = models.TextField()\n\n    def __str__(self):\n        return self.name\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>class EventForm(forms.ModelForm):\n    date = forms.DateField(input_formats=['%m/%d/%Y'], label=\"Date\", widget=DateInput(format='%/m/%d/%Y'), help_text=\"MM/DD/YYYY\")\n    name = forms.ChoiceField(choices=EVENT_CHOICES, initial='Final Exam', label=\"Event\", widget=forms.Select(attrs={'class': 'form-control'}))\n    instructor = InstructorChoiceField(queryset=Instructor.objects.all(), label=\"Instructor\", widget=forms.Select(attrs={'class': 'form-control'}))\n    start_time = forms.CharField(max_length=128, label=\"Start Time\", widget=forms.TextInput(attrs={'class': 'form-control'}))\n    end_time = forms.CharField(max_length=128, label=\"End Time\", widget=forms.TextInput(attrs={'class': 'form-control'}))\n    notes = forms.CharField(label=\"Reason\", required=False, widget=forms.Textarea(attrs={'class': 'form-control'}))\n\n    class Meta:\n        model = Event\n        fields = ('name', 'instructor', 'date', 'start_time', 'end_time', 'notes')\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>def add_event(request, id):\n    try:\n        schedule = Schedules.objects.get(id=id)\n    except Schedules.DoesNotExist:\n        schedule = None\n\n    if request.method == 'POST':\n        form = EventForm(request.POST)\n        if form.is_valid():\n            if schedule:\n                event = form.save(commit=False)\n                event.schedule = schedule\n                event.save()\n                return HttpResponseRedirect('event_list', kwargs={'id':schedule.id})\n        else:\n            print(form.errors)\n    else:\n        form = EventForm()\n\n    context_dict = {'form':form, 'schedule':schedule}\n\n    return render(request, \"schedule/add_event.html\", context_dict)\n</code></pre>\n\n<p>urls.py</p>\n\n<pre><code>    urlpatterns = [\n        url(r'^$', schedule_views.Schedule, name='schedule'),\n        url(r'^schedule_list/$', schedule_views.schedule_List, name='schedule_list'),\n        url(r'^pending_lists/$', schedule_views.pending_Lists, name='pending_lists'),\n        url(r'^daily_to_do/$', schedule_views.daily_To_Do, name='daily_to_do'),\n        url(r'^weekly_to_do/$', schedule_views.weekly_To_Do, name='weekly_to_do'),\n        url(r'^office_schedule/$', schedule_views.office_Schedule, name='office_schedule'),\n        url(r'^yearly_schedule/$', schedule_views.yearly_Schedule, name='yearly_schedule'),\n        url(r'^start_one_schedule/$', schedule_views.start_One_Schedule, name='start_one_schedule'),\n        url(r'^start_multi_schedule/$', schedule_views.start_Multi_Schedule, name='start_multi_schedule'),\n        url(r'^alert_emergency/$', schedule_views.alert_Emergency, name='alert_emergency'),\n        url(r'^instructor_admin/$', schedule_views.instructor_Admin, name='instructor_admin'),\n        url(r'^update_schedule/(?P&lt;pk&gt;\\d+)$', schedule_views.update_Schedule, name='update_schedule'),\n        url(r'^delete_schedule/(?P&lt;id&gt;\\d+)/$', schedule_views.delete_Schedule, name='delete_schedule'),\n        url(r'^search_schedule/$', schedule_views.search_Schedule, name='search_schedule'),\n        url(r'^event_list/(?P&lt;id&gt;\\d+)$', schedule_views.event_list, name='event_list'),\n        url(r'^event_list/(?P&lt;id&gt;\\d+)/add_event$', schedule_views.add_event, name='add_event'),\n\n]\n</code></pre>\n\n<p>add_event.html</p>\n\n<pre><code>{% block main_content %}\n    &lt;form id=\"schedule_form\" method=\"post\" action=\"/schedule/event_list/{{ schedule.id }}/add_event\"&gt;\n    {% csrf_token %}\n        &lt;div class=\"row\"&gt;\n            {% for field in form %}\n                &lt;div class=\"col-gl-4 col-md-4\"&gt;\n                    &lt;div class=\"form-group\"&gt;\n                        &lt;strong&gt;{{ field.errors }}&lt;/strong&gt;\n                        {{ field.label_tag }}\n                        {{ field.help_text }}\n                        &lt;br&gt;\n                        {{ field }}\n                        &lt;script&gt;&lt;/script&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            {% endfor %}\n        &lt;/div&gt;\n    &lt;button type=\"submit\" name=\"submit\"&gt;Submit Event&lt;/button&gt;\n{% endblock %}\n</code></pre>\n\n<p>For some reason, whenever I try submitting an event I get this error:</p>\n\n<p>OperationalError at /schedule/event_list/18/add_event</p>\n\n<p>table schedule_event has no column named name</p>\n\n<p>I looked at the database in SQLite, and for some bizarre reason, the Event Model table have the exact same attributes as the ones in the Schedules Model table(first_name, last_name, etc.), even though they are completely different in the models.py. I already migrated everything and it's still having that problem.</p>\n\n<p>Also of note is that for some reason, manage.py is requiring me to put default values in almost all of the attributes in the Event model, which is why I had to put null=True in most of them, even though it didn't make me do that in the other models. I think this might have something to do with it. Also, there's this error that says something about the wrong date format when I migrate, though it doesn't stop the migration or affect the project. Once again, only this model.</p>\n\n<p>This is really creeping me out. Can someone tell me what the deal with this is? Thanks.</p>\n\n<p>Edit: I tried deleting the model them migrating again, then put it back and migrating that too. The newest migration has the correct attributes in the event, but it's still giving me the same error because the bad migration is probably still messing with it.</p>\n"}, {"tags": ["python", "pandas", "csv"], "comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1500505137, "post_id": 45201261, "comment_id": 77371798, "body": "Does each file contain the same year, month, day?  Do you want those averaged as well?"}, {"owner": {"reputation": 145, "user_id": 6889986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a32ee17e45da7b4ec3fb06955dce045d?s=128&d=identicon&r=PG&f=1", "display_name": "glayne", "link": "https://stackoverflow.com/users/6889986/glayne"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1500573541, "post_id": 45201261, "comment_id": 77410240, "body": "Each file is for one day (so same year, month and day throughout each .csv), but the folder where all the files are located contains all of the files for a year (i.e. I have a folder for 2010, 2011, etc.)"}], "answers": [{"tags": [], "owner": {"reputation": 1167, "user_id": 5990728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d25a73c9e938b901e0a1a4ae3a2fd16?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Wolkowski", "link": "https://stackoverflow.com/users/5990728/kacper-wolkowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1500501907, "last_edit_date": 1500501907, "creation_date": 1500500735, "answer_id": 45201581, "question_id": 45201261, "link": "https://stackoverflow.com/questions/45201261/reindexing-only-valid-with-uniquely-valued-index-objects-pandas-dataframe-panel/45201581#45201581", "title": "Reindexing only valid with uniquely valued Index objects: Pandas DataFrame Panel", "body": "<p>I have a suggestion to change the approach a bit. Instead of converting each DF into panel, just concat them into one big DF but for each one give a unique ID. After you can just do groupby by the ID and use mean() to get the result.</p>\n\n<p>It would look similar to this:</p>\n\n<pre><code>import Pandas as pd\n\ndf = pd.DataFrame()\nfor csv1 in glob.glob(path+'\\\\'+'*.csv'):\n    if csv1[-10:-8] == '06':\n        temp_df = pd.read_csv(csv1)\n        temp_df['df_id'] = csv1\n        df = pd.concat([df, temp_df])\ndf.replace(-999.9, np.nan)\ndf = df.groupby(\"df_id\").mean()\n</code></pre>\n\n<p>I hope it helps somehow, if you still have any issues with that let me know.</p>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 6889986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a32ee17e45da7b4ec3fb06955dce045d?s=128&d=identicon&r=PG&f=1", "display_name": "glayne", "link": "https://stackoverflow.com/users/6889986/glayne"}, "edited": false, "score": 0, "creation_date": 1500579030, "post_id": 45202474, "comment_id": 77413521, "body": "This worked for me, with some minor changes to account for nodata values (given value of -999.9) for correct averages.  <code>june = pd.concat({f: pd.read_csv(f,na_values=[-999.9]) for f in glob.glob(path+&#39;\\\\&#39;+&#39;*.csv&#39;)})</code>"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 0, "last_activity_date": 1500505566, "creation_date": 1500505566, "answer_id": 45202474, "question_id": 45201261, "link": "https://stackoverflow.com/questions/45201261/reindexing-only-valid-with-uniquely-valued-index-objects-pandas-dataframe-panel/45202474#45202474", "title": "Reindexing only valid with uniquely valued Index objects: Pandas DataFrame Panel", "body": "<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/dsintro.html#deprecate-panel\" rel=\"nofollow noreferrer\"><code>pd.Panel</code> has been deprecated</a><br>\nUse <code>pd.concat</code> with a dictionary comprehension and take the mean over level 1.</p>\n\n<pre><code>df1 = pd.concat({f: pd.read_csv(f) for f in glob('meansample[0-9].csv')})\ndf1.mean(level=1)\n\n   Year   Month   Day   Latitude   Longitude   Value1   Value 2\n0  2010       6     1         23          97        1       3.5\n1  2010       6     1         24          97        5       8.2\n2  2010       6     1         25          97        6       4.6\n3  2010       6     1         26          97        4       2.0\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 6889986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a32ee17e45da7b4ec3fb06955dce045d?s=128&d=identicon&r=PG&f=1", "display_name": "glayne", "link": "https://stackoverflow.com/users/6889986/glayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "accepted_answer_id": 45202474, "answer_count": 2, "score": 1, "last_activity_date": 1500505566, "creation_date": 1500499365, "question_id": 45201261, "link": "https://stackoverflow.com/questions/45201261/reindexing-only-valid-with-uniquely-valued-index-objects-pandas-dataframe-panel", "title": "Reindexing only valid with uniquely valued Index objects: Pandas DataFrame Panel", "body": "<p>I am trying to average each cell of a bunch of .csv files to export as a single averaged .csv file using Pandas. </p>\n\n<p>I have no problems, creating the dataframe itself, but when I try to turn it into a Panel (i.e. <code>panel=pd.Panel(dataFrame)</code>), I get the error: <code>InvalidIndexError: Reindexing only valid with uniquely valued Index objects pandas pd.panel</code></p>\n\n<p>An example of what each csv file looks like:</p>\n\n<pre><code>Year, Month, Day, Latitude, Longitude, Value1, Value 2\n2010,    06,  01,        23,       97,      1,     3.5\n2010,    06,  01,        24,       97,      5,     8.2\n2010,    06,  01,        25,       97,      6,     4.6\n2010,    06,  01,        26,       97,      4,     2.0\n</code></pre>\n\n<p>Each .csv file is from gridded data so they have the same number of rows and columns, as well as some no data values (given a value of -999.9), which my code snippet below addresses.</p>\n\n<p>The code that I have so far to do this is:</p>\n\n<pre><code>june=[]    \nfor csv1 in glob.glob(path+'\\\\'+'*.csv'):\n        if csv1[-10:-8] == '06':\n            june.append(csv1)\n            dfs={i: pd.DataFrame.from_csv(i) for i in june}\n            panel=pd.Panel(dfs)\n            panels=panel.replace(-999.9,np.NaN)\n            dfs_mean=panels.mean(axis=0)\n</code></pre>\n\n<p>I have seen questions where the user is getting the same error, but the solutions for those questions doesn't seem to work with my issue. Any help fixing this, or ideas for a better approach would be greatly appreciated.</p>\n"}, {"tags": ["python", "linux", "shell", "perl", "mime"], "comments": [{"owner": {"reputation": 320781, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1500606159, "post_id": 45201225, "comment_id": 77422569, "body": "Equivalent would be <code>perl -MMIME::Base64 -0777pe&#39;print encode_base64($_)&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": true, "score": 12, "last_activity_date": 1500499660, "creation_date": 1500499660, "answer_id": 45201330, "question_id": 45201225, "link": "https://stackoverflow.com/questions/45201225/what-is-the-difference-between-base64-and-mime-base-64/45201330#45201330", "title": "What is the difference between base64 and MIME base 64?", "body": "<p>This is not a Perl vs. everyone else thing; this is a \"using Bash's <code>&lt;&lt;&lt;</code> construct\" vs. \"not doing that\" thing.  Though not explicitly documented (at least not in the manpage on Ubuntu Xenial), <a href=\"https://unix.stackexchange.com/q/20157/11006\">Bash appends a newline to herestrings (the <code>&lt;&lt;&lt;</code> thing) when passing them to commands</a>.  As a result, all of the commands you're invoking with <code>&lt;&lt;&lt;</code> are actually encoding <code>'ASDF1234asdf\\n'</code>, while Perl (which isn't invoked with a herestring) is encoding just <code>'ASDF1234asdf'</code>.  Different input, different output.</p>\n\n<p>In order to pass a string without a trailing newline to a command's standard input, use the <code>printf</code> command, e.g.:</p>\n\n<pre><code>$ printf %s ASDF1234asdf | base64\nQVNERjEyMzRhc2Rm\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53657, "user_id": 117471, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/959ccd33301cb3c15953c1a632a36763?s=128&d=identicon&r=PG", "display_name": "Bruno Bronosky", "link": "https://stackoverflow.com/users/117471/bruno-bronosky"}, "edited": false, "score": 0, "creation_date": 1516236701, "post_id": 45201359, "comment_id": 83610339, "body": "This is a very concise demo. I added newline suppression and escape character interpretation to the echo command to produce results identical to the OP. (and upvoted)"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 5, "last_activity_date": 1516236626, "last_edit_date": 1516236626, "creation_date": 1500499772, "answer_id": 45201359, "question_id": 45201225, "link": "https://stackoverflow.com/questions/45201225/what-is-the-difference-between-base64-and-mime-base-64/45201359#45201359", "title": "What is the difference between base64 and MIME base 64?", "body": "<p>There are no different base64 encodings, but encoding a newline character at the end, or not:</p>\n\n<pre><code>$ perl -MMIME::Base64 -e 'print encode_base64(\"ASDF1234asdf\")'\nQVNERjEyMzRhc2Rm\n$ perl -MMIME::Base64 -e 'print encode_base64(\"ASDF1234asdf\\n\")'\nQVNERjEyMzRhc2RmCg==\n$ echo -ne \"my_user_name@my_domain.com\" | base64\nbXlfdXNlcl9uYW1lQG15X2RvbWFpbi5jb20=\n$ echo -ne \"my_user_name@my_domain.com\\n\" | base64\nbXlfdXNlcl9uYW1lQG15X2RvbWFpbi5jb20K\n</code></pre>\n"}], "owner": {"reputation": 53657, "user_id": 117471, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/959ccd33301cb3c15953c1a632a36763?s=128&d=identicon&r=PG", "display_name": "Bruno Bronosky", "link": "https://stackoverflow.com/users/117471/bruno-bronosky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1530, "favorite_count": 1, "closed_date": 1500552107, "accepted_answer_id": 45201330, "answer_count": 2, "score": 7, "last_activity_date": 1516236626, "creation_date": 1500499207, "question_id": 45201225, "link": "https://stackoverflow.com/questions/45201225/what-is-the-difference-between-base64-and-mime-base-64", "closed_reason": "Not suitable for this site", "title": "What is the difference between base64 and MIME base 64?", "body": "<p>I just spent way too much time banging my head against an SMTP server because it didn't like the base64 encoded credentials I was using. Turns out that when I chose NOT to use <code>perl</code> like so many instructions on the internet say to use, I was making a big mistake. Why is this? I thought base64 was a single standard.</p>\n\n<p>Consider:</p>\n\n<pre><code>$ perl -MMIME::Base64 -e 'print encode_base64(\"ASDF1234asdf\")'\nQVNERjEyMzRhc2Rm\n\n$ base64 &lt;&lt;&lt;\"ASDF1234asdf\"\nQVNERjEyMzRhc2RmCg==\n\n$ python3.6 -m base64 &lt;&lt;&lt;\"ASDF1234asdf\"\nQVNERjEyMzRhc2RmCg==\n\n$ python2.7 -m base64 &lt;&lt;&lt;\"ASDF1234asdf\"\nQVNERjEyMzRhc2RmCg==\n\n$ perl -MMIME::Base64 -e \"print encode_base64('my_user_name@my_domain.com')\"\nbXlfdXNlcl9uYW1lQG15X2RvbWFpbi5jb20=\n\n$ base64 &lt;&lt;&lt;\"my_user_name@my_domain.com\"\nbXlfdXNlcl9uYW1lQG15X2RvbWFpbi5jb20K\n</code></pre>\n\n<p>So, <code>perl</code> is unique in its output and my server requires it that way.</p>\n\n<p>Why am I getting different results?</p>\n\n<p>How do you get the MIME/SMTP friendly output with something other than perl?</p>\n"}, {"tags": ["python", "blender", "bpy"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8313337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77da34b962642f31be208f9c3e5b3f74?s=128&d=identicon&r=PG&f=1", "display_name": "littleman27", "link": "https://stackoverflow.com/users/8313337/littleman27"}, "edited": false, "score": 0, "creation_date": 1500556523, "post_id": 45205519, "comment_id": 77397739, "body": "and thats why i don&#39;t understand why it&#39;s not working. i have an always sensor on the script with true pulse to move me 0.1 blender units on the x axis, and because it is an always sensor for as long as i have the bge running i get this message in the console: Python script error - object &#39;Cube&#39;, controller &#39;Python&#39;: Traceback (most recent call last):   File &quot;moveX.py&quot;, line 10, in &lt;module&gt;   File &quot;moveX.py&quot;, line 8, in main AttributeError: &#39;KX_GameObject&#39; object has no attribute &#39;positive&#39; Blender Game Engine Finished"}, {"owner": {"reputation": 45, "user_id": 8313337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77da34b962642f31be208f9c3e5b3f74?s=128&d=identicon&r=PG&f=1", "display_name": "littleman27", "link": "https://stackoverflow.com/users/8313337/littleman27"}, "edited": false, "score": 0, "creation_date": 1500556612, "post_id": 45205519, "comment_id": 77397837, "body": "same as the one i posted above"}, {"owner": {"reputation": 45, "user_id": 8313337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77da34b962642f31be208f9c3e5b3f74?s=128&d=identicon&r=PG&f=1", "display_name": "littleman27", "link": "https://stackoverflow.com/users/8313337/littleman27"}, "edited": false, "score": 0, "creation_date": 1500556900, "post_id": 45205519, "comment_id": 77398109, "body": "i think i know what the problem is the guy i was watching the tutorial from posibly has an onlder version of python and the syntax was changed from now, so can you help me i will post the script in the post above"}], "tags": [], "owner": {"reputation": 6139, "user_id": 2684771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2f487264833152bb7890a4b6292d65?s=128&d=identicon&r=PG&f=1", "display_name": "sambler", "link": "https://stackoverflow.com/users/2684771/sambler"}, "is_accepted": true, "score": 0, "last_activity_date": 1500581198, "last_edit_date": 1500581198, "creation_date": 1500526706, "answer_id": 45205519, "question_id": 45201216, "link": "https://stackoverflow.com/questions/45201216/blender-game-engine-bge-module-not-found/45205519#45205519", "title": "Blender Game Engine - bge Module Not found", "body": "<p>Yes the bge module is a part of the game engine and is available through a python controller logic brick. This python controller is only activated when the game engine is actually running.</p>\n\n<p>While you can build blender without the game engine I wouldn't expect it to be disabled unless you have compiled your own version of blender. The error you see will always happen if you run a script using bge outside of the game engine, such as from blender's text editor.</p>\n\n<p>First enable the game engine by selecting it in the render engine menu.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gvN02.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvN02.jpg\" alt=\"render engine menu\"></a></p>\n\n<p>Then after setting up your script in the python controller, press <kbd>P</kbd> to start the game engine.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The error in your question indicates you have <code>import Bge</code> in your script, the <code>bge</code> should be all lowercase, which you seem to have fixed in the script you added. The script will get a different error as there is no <code>positive</code> property in an object, you will want to use <code>owner.position.x</code></p>\n\n<pre><code>import bge\n\ndef main():\n    cont = bge.logic.getCurrentController()\n    owner = cont.owner  \n    owner.position.x += 0.1\n\nmain()\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8313337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77da34b962642f31be208f9c3e5b3f74?s=128&d=identicon&r=PG&f=1", "display_name": "littleman27", "link": "https://stackoverflow.com/users/8313337/littleman27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 45205519, "answer_count": 1, "score": 0, "last_activity_date": 1500581198, "creation_date": 1500499186, "last_edit_date": 1500557579, "question_id": 45201216, "link": "https://stackoverflow.com/questions/45201216/blender-game-engine-bge-module-not-found", "title": "Blender Game Engine - bge Module Not found", "body": "<p>I have looked at other forums and did not find an answer to my problem, i know that for bge the script only works when connected to logic bricks, and just to be sure i was typing it the right way i watched a bge tutorial on youtube and it worked for him but not for me.</p>\n\n<p>how do i download the bge module?\nany suggestions would be greatly appreciated</p>\n\n<p>also i noticed after i watched the video the blender console said this:</p>\n\n<p>Error:</p>\n\n<pre><code>Python script error - object 'Cube', controller 'Python':\nTraceback (most recent call last):\nFile \"moveX.py\", line 1, in &lt;module&gt;\nImportError: No module named 'Bge'\nBlender Game Engine Finished\n</code></pre>\n\n<hr>\n\n<p>Script:</p>\n\n<pre><code>import bge\n\ndef main():\n    cont = bge.logic.getCurrentController()\n    owner = cont.owner  \n    owner.positive.x += 0.1\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "numpy", "tensorflow", "gpu"], "comments": [{"owner": {"reputation": 13174, "user_id": 8143158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prGO7.png?s=128&g=1", "display_name": "vijay m", "link": "https://stackoverflow.com/users/8143158/vijay-m"}, "edited": false, "score": 0, "creation_date": 1500528514, "post_id": 45201195, "comment_id": 77378119, "body": "Its a duplicate to the question: <a href=\"https://stackoverflow.com/questions/45110098/tensorflow-next-batch-function-of-np-array/45110647#45110647\" title=\"tensorflow next batch function of np array\">stackoverflow.com/questions/45110098/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 528, "user_id": 8083699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a324f61e57d8052e67569901a10c58e?s=128&d=identicon&r=PG&f=1", "display_name": "rvd", "link": "https://stackoverflow.com/users/8083699/rvd"}, "is_accepted": false, "score": 0, "last_activity_date": 1500502361, "creation_date": 1500502361, "answer_id": 45201910, "question_id": 45201195, "link": "https://stackoverflow.com/questions/45201195/reading-numpy-matrix-in-batches-in-tensorflow/45201910#45201910", "title": "Reading numpy matrix in batches in Tensorflow", "body": "<p>This is a good use case for generators. You can set up a generator function to yield slices of your <code>numpy</code> matrices one chunk at a time. If you use a package like <code>Keras</code>, you can supply the generator directly to the <code>train_on_batch</code> function. If you prefer to use <code>Tensorflow</code> directly, you can use:</p>\n\n<pre><code>sess = tf.Session()\nsess.run(init)\nbatch_gen = generator(data)\nbatch = batch_gen.next()\nsess.run([optimizer, loss, ...], feed_dict = {X: batch[0], y: batch[1]})\n</code></pre>\n\n<p>Note: I am using placeholders for the optimizer and loss, you have to replace with your definitions. Note that your generator should yield a <strong>(x, y)</strong> tuple. If you are unfamiliar with generator expressions, there are many examples online, but here is a simple example from the <code>Keras</code> documentation that shows how you can read in <code>numpy</code> matrices from a file in batches:</p>\n\n<pre><code>def generate_arrays_from_file(path):\n    while 1:\n        f = open(path)\n        for line in f:\n            x, y = process_line(line)\n            yield (x, y)\n        f.close()\n</code></pre>\n\n<p>But also more fundamentally, a low GPU-usage is not really indicative of any problem loading batches, but rather that your batch size might be too small.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8166514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-chVA7ilXNL4/AAAAAAAAAAI/AAAAAAAAAVA/iNu0IyW7eQ0/photo.jpg?sz=128", "display_name": "Deepak Singla", "link": "https://stackoverflow.com/users/8166514/deepak-singla"}, "edited": false, "score": 0, "creation_date": 1500567246, "post_id": 45206574, "comment_id": 77406466, "body": "Using this method, can I make changes to x and y at certain step? Let&#39;s say I am using K- cross validation and I need to swap some samples of x with some other samples in between after a certain step. Is it possible to do so? Thanks!"}, {"owner": {"reputation": 19375, "user_id": 1735003, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qNeQo.png?s=128&g=1", "display_name": "P-Gn", "link": "https://stackoverflow.com/users/1735003/p-gn"}, "reply_to_user": {"reputation": 21, "user_id": 8166514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-chVA7ilXNL4/AAAAAAAAAAI/AAAAAAAAAVA/iNu0IyW7eQ0/photo.jpg?sz=128", "display_name": "Deepak Singla", "link": "https://stackoverflow.com/users/8166514/deepak-singla"}, "edited": false, "score": 0, "creation_date": 1500567601, "post_id": 45206574, "comment_id": 77406716, "body": "@Deepak Yes! I edited my question to mark the place where preprocessing should happen."}, {"owner": {"reputation": 21, "user_id": 8166514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-chVA7ilXNL4/AAAAAAAAAAI/AAAAAAAAAVA/iNu0IyW7eQ0/photo.jpg?sz=128", "display_name": "Deepak Singla", "link": "https://stackoverflow.com/users/8166514/deepak-singla"}, "edited": false, "score": 1, "creation_date": 1500568365, "post_id": 45206574, "comment_id": 77407186, "body": "I believe there&#39;s some mistake in the sccript since for tf.py_func, tf.placeholder should be the input rather than a Numpy array. Can you refer this: <a href=\"https://www.tensorflow.org/api_docs/python/tf/py_func\" rel=\"nofollow noreferrer\">tensorflow.org/api_docs/python/tf/py_func</a>"}, {"owner": {"reputation": 19375, "user_id": 1735003, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qNeQo.png?s=128&g=1", "display_name": "P-Gn", "link": "https://stackoverflow.com/users/1735003/p-gn"}, "reply_to_user": {"reputation": 21, "user_id": 8166514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-chVA7ilXNL4/AAAAAAAAAAI/AAAAAAAAAVA/iNu0IyW7eQ0/photo.jpg?sz=128", "display_name": "Deepak Singla", "link": "https://stackoverflow.com/users/8166514/deepak-singla"}, "edited": false, "score": 0, "creation_date": 1500571810, "post_id": 45206574, "comment_id": 77409207, "body": "Did you get an error while running the script? Please tell me more. It works fine by me."}, {"owner": {"reputation": 21, "user_id": 8166514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-chVA7ilXNL4/AAAAAAAAAAI/AAAAAAAAAVA/iNu0IyW7eQ0/photo.jpg?sz=128", "display_name": "Deepak Singla", "link": "https://stackoverflow.com/users/8166514/deepak-singla"}, "edited": false, "score": 0, "creation_date": 1500660619, "post_id": 45206574, "comment_id": 77454296, "body": "Hey, I get the following error when I run it. <a href=\"https://docs.google.com/document/d/1ymLyaURGRiDGH6jDa3T0qv1VA0BvczgDjGPZ1PZNDfY/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"}], "tags": [], "owner": {"reputation": 19375, "user_id": 1735003, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qNeQo.png?s=128&g=1", "display_name": "P-Gn", "link": "https://stackoverflow.com/users/1735003/p-gn"}, "is_accepted": false, "score": 3, "last_activity_date": 1533140118, "last_edit_date": 1533140118, "creation_date": 1500531298, "answer_id": 45206574, "question_id": 45201195, "link": "https://stackoverflow.com/questions/45201195/reading-numpy-matrix-in-batches-in-tensorflow/45206574#45206574", "title": "Reading numpy matrix in batches in Tensorflow", "body": "<p>You have a large numpy array that lies on the host memory. You want to be able to process it in parallel on the CPU and send batches to the device.</p>\n\n<p>Since TF 1.4, the best way to do it is to use <code>tf.data.Dataset</code>, and particularly <code>tf.data.Dataset.from_tensor_slices</code>. However, as <a href=\"https://www.tensorflow.org/guide/datasets#consuming_numpy_arrays\" rel=\"nofollow noreferrer\">the documentation</a> points out, you should probably <em>not</em> provide your numpy arrays as arguments to this function, because it will end up being copied to device memory. What you should do instead is to use placeholders. The example given in the doc is pretty self-explanatory:</p>\n\n<pre><code>features_placeholder = tf.placeholder(features.dtype, features.shape)\nlabels_placeholder = tf.placeholder(labels.dtype, labels.shape)\n\ndataset = tf.data.Dataset.from_tensor_slices((features_placeholder, labels_placeholder))\n# [Other transformations on `dataset`...]\niterator = dataset.make_initializable_iterator()\n\nsess.run(iterator.initializer, feed_dict={features_placeholder: features,\n                                          labels_placeholder: labels})\n</code></pre>\n\n<p>Further preprocessing or data augmentation can be applied to the slices using the <code>.map</code> method. To make sure that those operations happen concurrently, make sure to use tensorflow operations only and avoid wrapping python operations with <code>tf.py_func</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 8166514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-chVA7ilXNL4/AAAAAAAAAAI/AAAAAAAAAVA/iNu0IyW7eQ0/photo.jpg?sz=128", "display_name": "Deepak Singla", "link": "https://stackoverflow.com/users/8166514/deepak-singla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3980, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1533140118, "creation_date": 1500499120, "question_id": 45201195, "link": "https://stackoverflow.com/questions/45201195/reading-numpy-matrix-in-batches-in-tensorflow", "title": "Reading numpy matrix in batches in Tensorflow", "body": "<p>I am trying to run some regression models on GPU. While I get a very low GPU utilization upto 20%. After going through the code, </p>\n\n<pre><code> for i in range(epochs):\n    rand_index = np.random.choice(args.train_pr,\n        size=args.batch_size)\n    rand_x = X_train[rand_index]\n    rand_y = Y_train[rand_index]\n</code></pre>\n\n<p>I use these three lines for selecting a random batch for each iteration. So, I wanted to ask when the training is going on, can I ready up one more batch for the next iteration?</p>\n\n<p>I am working on a regression problem and not a classification problem. I have already seen threading in Tensorflow but found the examples only for images and there's no example for a big matrix of size 100000X1000 which is used for training. </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1500500298, "post_id": 45201147, "comment_id": 77370131, "body": "Side-note: using virtual-environments you should be able to install those non-system libraries without any problem (assuming venv is available)."}], "answers": [{"comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1500500396, "post_id": 45201327, "comment_id": 77370184, "body": "From that issue in this link, it sounds like installing a new version of joblib (&gt; 10/2016) might be enough."}, {"owner": {"reputation": 151, "user_id": 8078446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0f966870f73d9c9e241673aead6a4b8?s=128&d=identicon&r=PG&f=1", "display_name": "Su JK", "link": "https://stackoverflow.com/users/8078446/su-jk"}, "edited": false, "score": 0, "creation_date": 1500501343, "post_id": 45201327, "comment_id": 77370584, "body": "@unutbu: I added some more info. Can you comment on it?"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 151, "user_id": 8078446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0f966870f73d9c9e241673aead6a4b8?s=128&d=identicon&r=PG&f=1", "display_name": "Su JK", "link": "https://stackoverflow.com/users/8078446/su-jk"}, "edited": false, "score": 0, "creation_date": 1500501463, "post_id": 45201327, "comment_id": 77370618, "body": "@SuJK I highly recommend going for approach 1 (update joblib) first. Foreseeing all the consequences of building python yourself (if it&#39;s one global install, you might destroy system-dependencies) seems hard. Also your non-root access should stand in the way."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 151, "user_id": 8078446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0f966870f73d9c9e241673aead6a4b8?s=128&d=identicon&r=PG&f=1", "display_name": "Su JK", "link": "https://stackoverflow.com/users/8078446/su-jk"}, "edited": false, "score": 0, "creation_date": 1500502229, "post_id": 45201327, "comment_id": 77370896, "body": "@SuJK: If you do want bz2 enabled in python, I believe this is <a href=\"https://stackoverflow.com/a/10972897/190597\">the way to do it</a> (for linux). Be sure to read the comment about <code>make clean</code> too."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 151, "user_id": 8078446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0f966870f73d9c9e241673aead6a4b8?s=128&d=identicon&r=PG&f=1", "display_name": "Su JK", "link": "https://stackoverflow.com/users/8078446/su-jk"}, "edited": false, "score": 0, "creation_date": 1500502654, "post_id": 45201327, "comment_id": 77371030, "body": "@SuJK: You may also need to pass <code>.&#47;configure</code> an option to specify where to find libbz2. Run <code>.&#47;configure --help</code> to find the right option."}, {"owner": {"reputation": 151, "user_id": 8078446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0f966870f73d9c9e241673aead6a4b8?s=128&d=identicon&r=PG&f=1", "display_name": "Su JK", "link": "https://stackoverflow.com/users/8078446/su-jk"}, "edited": false, "score": 0, "creation_date": 1500503285, "post_id": 45201327, "comment_id": 77371223, "body": "As a quick fix, I just tracked down all the files which imported <code>bz2</code> and removed the lines. It seems to work right now.  But I will recompile my Python."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 3, "last_activity_date": 1500501172, "last_edit_date": 1500501172, "creation_date": 1500499645, "answer_id": 45201327, "question_id": 45201147, "link": "https://stackoverflow.com/questions/45201147/missing-bz2-module-in-python/45201327#45201327", "title": "Missing BZ2 module in python", "body": "<p><code>bz2</code> is an optional dependency of python, but <a href=\"https://github.com/scikit-learn/scikit-learn/issues/7526\" rel=\"nofollow noreferrer\"><code>sklearn</code> assumes your python installation has this module</a>. </p>\n\n<p>There are at least two possible ways to fix this:</p>\n\n<ol>\n<li>update your version of joblib to <a href=\"https://github.com/joblib/joblib/pull/402/files\" rel=\"nofollow noreferrer\">make its dependence on <code>bz2</code> optional</a>.  (<a href=\"https://stackoverflow.com/questions/45201147/missing-bz2-module-in-python/45201327#comment77370184_45201327\">Thanks to sascha</a> for pointing this out.)</li>\n<li>or, <a href=\"https://stackoverflow.com/q/812781/190597\">install <code>libbz2</code></a> and then re-build python3.6.</li>\n</ol>\n"}], "owner": {"reputation": 151, "user_id": 8078446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0f966870f73d9c9e241673aead6a4b8?s=128&d=identicon&r=PG&f=1", "display_name": "Su JK", "link": "https://stackoverflow.com/users/8078446/su-jk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6401, "favorite_count": 0, "accepted_answer_id": 45201327, "answer_count": 1, "score": 0, "last_activity_date": 1500501288, "creation_date": 1500498964, "last_edit_date": 1500501288, "question_id": 45201147, "link": "https://stackoverflow.com/questions/45201147/missing-bz2-module-in-python", "title": "Missing BZ2 module in python", "body": "<p>In <code>python3.6</code>, when executing the following command:</p>\n\n<pre><code>from sklearn.model_selection import GridSearchCV\n</code></pre>\n\n<p>Reported Error:</p>\n\n<pre><code>from _bz2 import BZ2Compressor, BZ2Decompressor\nModuleNotFoundError: No module named '_bz2'\n</code></pre>\n\n<p>However, issue is that I don't have root access to machine to use the solutions posted on the same issue on <a href=\"https://stackoverflow.com/questions/12806122/missing-python-bz2-module\">stackoverflow.</a></p>\n\n<p>On trying to locate <code>libbz2.so</code>, I received following:</p>\n\n<pre><code>/usr/lib64/libbz2.so.1\n/usr/lib64/libbz2.so.1.0.6\n</code></pre>\n\n<p>To be noted: in my <code>bash_profile</code> the <code>LIBRARY_PATH</code> did not have '/usr/lib64' explicitly specified when I compiled <code>python3.6</code> from source.</p>\n"}, {"tags": ["python", "pandas", "syntax"], "answers": [{"comments": [{"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 11, "creation_date": 1500499459, "post_id": 45201152, "comment_id": 77369714, "body": "Just to seal up any possible confusion, the first form is equivalent to <code>column = &#39;Brains&#39;; df[column]</code>, and the second is equivalent to <code>subset = [&#39;Brains&#39;]; df[subset]</code>.  The first passes a string, the second passes a list. It is not that using <code>[[</code> and <code>]]</code> does a special form of indexing, but rather that the object passed is of a different type."}, {"owner": {"reputation": 295, "user_id": 4157515, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006920628438/picture?type=large", "display_name": "Mike Fellner", "link": "https://stackoverflow.com/users/4157515/mike-fellner"}, "edited": false, "score": 0, "creation_date": 1500499485, "post_id": 45201152, "comment_id": 77369724, "body": "Thanks, makes sense. Do you know if the double bracket is Python syntax or specific to dataframe objects. I tried looking back at the python syntax for arrays and objects, but couldn&#39;t find anything."}, {"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "reply_to_user": {"reputation": 295, "user_id": 4157515, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006920628438/picture?type=large", "display_name": "Mike Fellner", "link": "https://stackoverflow.com/users/4157515/mike-fellner"}, "edited": false, "score": 0, "creation_date": 1500499575, "post_id": 45201152, "comment_id": 77369780, "body": "@MikeFellner See my comment. It provides exactly the answer to  your question."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 295, "user_id": 4157515, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006920628438/picture?type=large", "display_name": "Mike Fellner", "link": "https://stackoverflow.com/users/4157515/mike-fellner"}, "edited": false, "score": 0, "creation_date": 1500499581, "post_id": 45201152, "comment_id": 77369786, "body": "@MikeFellner, please see SethMMorton&#39;s comment."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 0, "creation_date": 1500499758, "post_id": 45201152, "comment_id": 77369876, "body": "@SethMMorton, i think you should turn your comment into an answer - it definitely worth it :)"}, {"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 1, "creation_date": 1500500663, "post_id": 45201152, "comment_id": 77370315, "body": "I have made the comment an answer since it seems there were two things confusing the OP."}, {"owner": {"reputation": 2868, "user_id": 142605, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea0662af98f5642193079ebbb7e78fd5?s=128&d=identicon&r=PG", "display_name": "dzieciou", "link": "https://stackoverflow.com/users/142605/dzieciou"}, "edited": false, "score": 1, "creation_date": 1557767050, "post_id": 45201152, "comment_id": 98867083, "body": "So simply speaking, if an index is an array, it will return DataFrame with matching columns, otherwise it will return one series with a single matching column."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 26, "last_activity_date": 1500499333, "last_edit_date": 1500499333, "creation_date": 1500498978, "answer_id": 45201152, "question_id": 45201104, "link": "https://stackoverflow.com/questions/45201104/the-difference-between-double-brace-and-single-brace-indexing-i/45201152#45201152", "title": "The difference between double brace `[[...]]` and single brace `[..]` indexing in Pandas", "body": "<p>Consider this:</p>\n\n<p>Source DF:</p>\n\n<pre><code>In [79]: df\nOut[79]:\n   Brains  Bodies\n0      42      34\n1      32      23\n</code></pre>\n\n<p>Selecting one column - results in Pandas.Series:</p>\n\n<pre><code>In [80]: df['Brains']\nOut[80]:\n0    42\n1    32\nName: Brains, dtype: int64\n\nIn [81]: type(df['Brains'])\nOut[81]: pandas.core.series.Series\n</code></pre>\n\n<p>Selecting subset of DataFrame - results in DataFrame:</p>\n\n<pre><code>In [82]: df[['Brains']]\nOut[82]:\n   Brains\n0      42\n1      32\n\nIn [83]: type(df[['Brains']])\nOut[83]: pandas.core.frame.DataFrame\n</code></pre>\n\n<p><strong>Conclusion:</strong> the second approach allows us to select multiple columns from the DataFrame. The first one just for selecting single column... </p>\n\n<p>Demo:</p>\n\n<pre><code>In [84]: df = pd.DataFrame(np.random.rand(5,6), columns=list('abcdef'))\n\nIn [85]: df\nOut[85]:\n          a         b         c         d         e         f\n0  0.065196  0.257422  0.273534  0.831993  0.487693  0.660252\n1  0.641677  0.462979  0.207757  0.597599  0.117029  0.429324\n2  0.345314  0.053551  0.634602  0.143417  0.946373  0.770590\n3  0.860276  0.223166  0.001615  0.212880  0.907163  0.437295\n4  0.670969  0.218909  0.382810  0.275696  0.012626  0.347549\n\nIn [86]: df[['e','a','c']]\nOut[86]:\n          e         a         c\n0  0.487693  0.065196  0.273534\n1  0.117029  0.641677  0.207757\n2  0.946373  0.345314  0.634602\n3  0.907163  0.860276  0.001615\n4  0.012626  0.670969  0.382810\n</code></pre>\n\n<p>and if we specify only one column in the list we will get a DataFrame with one column:</p>\n\n<pre><code>In [87]: df[['e']]\nOut[87]:\n          e\n0  0.487693\n1  0.117029\n2  0.946373\n3  0.907163\n4  0.012626\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 852, "user_id": 2287311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/42d504e85c11e86dca5ee25760954a5a?s=128&d=identicon&r=PG", "display_name": "tartaruga_casco_mole", "link": "https://stackoverflow.com/users/2287311/tartaruga-casco-mole"}, "edited": false, "score": 2, "creation_date": 1554305847, "post_id": 45201532, "comment_id": 97704983, "body": "This should be the accepted answer. I, too, was very confused about the syntax. It all makes sense now after understanding that double <code>[[]]</code> is simply two <code>[]</code>. For example, <code>df[ df[&#39;col&#39;] == val ]</code> returning a dataframe instead of series because <code>df[&#39;col&#39;] == val</code> is a series, and the outcome is a series of series, which is a dataframe."}, {"owner": {"reputation": 1027, "user_id": 3412660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9006acce12b3b2e15183fc2c0010e2c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich Lysakowski PhD", "link": "https://stackoverflow.com/users/3412660/rich-lysakowski-phd"}, "edited": false, "score": 0, "creation_date": 1562633579, "post_id": 45201532, "comment_id": 100428017, "body": "Yes, this answer is the best.  It clarified some obvious things that I (and probably most people) overlook.  [[&#39;Brains&#39;]][0][0][0] accesses the &#39;B&#39; in the string &#39;Brains&#39;.  [[&#39;Brains&#39;]][0][0] accesses the string &#39;Brains&#39;.  [[&#39;Brains&#39;]][0] accesses the first (and only) list [&#39;Brains&#39;] from the single-element list of lists [[&#39;Brains&#39;]].  If this were a multi-element list [[&#39;Brains&#39;], [&#39;Bodies&#39;], [&#39;Souls&#39;]], then the access operators could drill into any of the three lists.  [[&#39;Brains&#39;], [&#39;Bodies&#39;], [&#39;Souls&#39;]][2][0][0] access &#39;S&#39; in list 3.  [[&#39;Brains&#39;], [&#39;Bodies&#39;], [&#39;Souls&#39;]][0] = [&#39;Brains&#39;]."}], "tags": [], "owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "is_accepted": false, "score": 13, "last_activity_date": 1500500540, "creation_date": 1500500540, "answer_id": 45201532, "question_id": 45201104, "link": "https://stackoverflow.com/questions/45201104/the-difference-between-double-brace-and-single-brace-indexing-i/45201532#45201532", "title": "The difference between double brace `[[...]]` and single brace `[..]` indexing in Pandas", "body": "<p>There is no special syntax in Python for <code>[[</code> and <code>]]</code>. Rather, a list is being created, and then that list is being passed as an argument to the DataFrame indexing function.</p>\n\n<p>As per @MaxU's answer, if you pass a single string to a DataFrame a series that represents that one column is returned. If you pass a list of strings, then a DataFrame that contains the given columns is returned.</p>\n\n<p>So, when you do the following</p>\n\n<pre><code># Print \"Brains\" column as Series\nprint(df['Brains'])\n# Return a DataFrame with only one column called \"Brains\"\nprint(df[['Brains']])\n</code></pre>\n\n<p>It is equivalent to the following</p>\n\n<pre><code># Print \"Brains\" column as Series\ncolumn_to_get = 'Brains'\nprint(df[column_to_get])\n# Return a DataFrame with only one column called \"Brains\"\nsubset_of_columns_to_get = ['Brains']\nprint(df[subset_of_columns_to_get])\n</code></pre>\n\n<p>In both cases, the DataFrame is being indexed with the <code>[]</code> operator.</p>\n\n<p>Python uses the <code>[]</code> operator for both indexing and for constructing list literals, and ultimately I believe this is your confusion. The outer <code>[</code> and <code>]</code> in <code>df[['Brains']]</code> is performing the indexing, and the inner is creating a list.</p>\n\n<pre><code>&gt;&gt;&gt; some_list = ['Brains']\n&gt;&gt;&gt; some_list_of_lists = [['Brains']]\n&gt;&gt;&gt; ['Brains'] == [['Brains']][0]\nTrue\n&gt;&gt;&gt; 'Brains' == [['Brains']][0][0] == [['Brains'][0]][0]\nTrue\n</code></pre>\n\n<p>What I am illustrating above is that at no point does Python ever see <code>[[</code> and interpret it specially.  In the last convoluted example (<code>[['Brains'][0]][0]</code>) there is no special <code>][</code> operator or <code>]][</code> operator... what happens is</p>\n\n<ul>\n<li>A single-element list is created (<code>['Brains']</code>)</li>\n<li>The first element of that list is indexed (<code>['Brains'][0]</code> => <code>'Brains'</code>)</li>\n<li>That is placed into another list (<code>[['Brains'][0]]</code> => <code>['Brains']</code>)</li>\n<li>And then the first element of that list is indexed (<code>[['Brains'][0]][0]</code> => <code>'Brains'</code>)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1548949973, "last_edit_date": 1548949973, "creation_date": 1548326733, "answer_id": 54344799, "question_id": 45201104, "link": "https://stackoverflow.com/questions/45201104/the-difference-between-double-brace-and-single-brace-indexing-i/54344799#54344799", "title": "The difference between double brace `[[...]]` and single brace `[..]` indexing in Pandas", "body": "<p>Other solutions demonstrate the difference between a series and a dataframe. For the Mathematically minded, you may wish to consider the dimensions of your input and output. Here's a summary:</p>\n\n<pre><code>Object                                Series          DataFrame\nDimensions (obj.ndim)                      1                  2\nSyntax arg dim                             0                  1\nSyntax                             df['col']        df[['col']]\nMax indexing dim                           1                  2\nLabel indexing              df['col'].loc[x]   df.loc[x, 'col']\nLabel indexing (scalar)      df['col'].at[x]    df.at[x, 'col']\nInteger indexing           df['col'].iloc[x]  df.iloc[x, 'col']\nInteger indexing (scalar)   df['col'].iat[x]   dfi.at[x, 'col']\n</code></pre>\n\n<p>When you specify a scalar or list argument to <code>pd.DataFrame.__getitem__</code>, for which <code>[]</code> is syntactic sugar, the dimension of your argument is <em>one less</em> than the dimension of your result. So a scalar (0-dimensional) gives a 1-dimensional series. A list (1-dimensional) gives a 2-dimensional dataframe. This makes sense since the additional dimension is the dataframe index, i.e. rows. This is the case even if your dataframe happens to have no rows.</p>\n"}], "owner": {"reputation": 295, "user_id": 4157515, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006920628438/picture?type=large", "display_name": "Mike Fellner", "link": "https://stackoverflow.com/users/4157515/mike-fellner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9181, "favorite_count": 7, "accepted_answer_id": 45201152, "answer_count": 3, "score": 23, "last_activity_date": 1548949973, "creation_date": 1500498768, "last_edit_date": 1500499169, "question_id": 45201104, "link": "https://stackoverflow.com/questions/45201104/the-difference-between-double-brace-and-single-brace-indexing-i", "title": "The difference between double brace `[[...]]` and single brace `[..]` indexing in Pandas", "body": "<p>I'm confused about the syntax regarding the following line of code: </p>\n\n<pre><code>x_values = dataframe[['Brains']]\n</code></pre>\n\n<p>The dataframe object consists of 2 columns (Brains and Bodies)</p>\n\n<pre><code>Brains Bodies\n42     34\n32     23\n</code></pre>\n\n<p>When I print x_values I get something like this:</p>\n\n<pre><code>Brains\n0  42\n1  32\n</code></pre>\n\n<p>I'm aware of the pandas documentation as far as attributes and methods of the dataframe object are concerned, but the double bracket syntax is confusing me.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1500498703, "post_id": 45201013, "comment_id": 77369344, "body": "<code>file.read()</code> already supports defining the size you need to read, <code>f.read(50000000)</code> will return <code>50000000</code> at a time. Doesn&#39;t the above code throw an error, I would expect passing a <code>range()</code> object into <code>f.read()</code> would error."}, {"owner": {"reputation": 153, "user_id": 8161838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed06d9f7dcb8ae87070461c8446a52f1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hartman", "link": "https://stackoverflow.com/users/8161838/a-hartman"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1500499056, "post_id": 45201013, "comment_id": 77369508, "body": "@AChampion Yes, it does. The problem is if I simply enter 50000000 into f.read it continually outputs the same numbers"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1500499102, "post_id": 45201013, "comment_id": 77369533, "body": "That&#39;s because you open the file each time. Only open the file once and use <code>f.read()</code> multiple times, i.e. stick it in a loop."}], "answers": [{"comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1500498712, "post_id": 45201048, "comment_id": 77369353, "body": "The first byte is at position <code>0</code>, so I&#39;m pretty sure seeking to <code>50000000</code> is more correct than going one byte further."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1500498747, "post_id": 45201048, "comment_id": 77369373, "body": "@Blckknght Sorry, and thanks for pointing that out. Corrected."}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1500498798, "post_id": 45201048, "comment_id": 77369401, "body": "Why <code>f.seek()</code>, can&#39;t the OP just keep reading <code>f.read(50000000)</code> and working on each <code>50000000</code> bytes at a time? Just stick it in a loop."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1500498841, "post_id": 45201048, "comment_id": 77369412, "body": "@AChampion OP mentioned that they had already done this before, so they wanted to read the next chunk in this program. At least that&#39;s what I understood."}, {"owner": {"reputation": 153, "user_id": 8161838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed06d9f7dcb8ae87070461c8446a52f1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hartman", "link": "https://stackoverflow.com/users/8161838/a-hartman"}, "edited": false, "score": 0, "creation_date": 1500498901, "post_id": 45201048, "comment_id": 77369448, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Would the program run until the end of the file offsetting each time?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 153, "user_id": 8161838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed06d9f7dcb8ae87070461c8446a52f1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hartman", "link": "https://stackoverflow.com/users/8161838/a-hartman"}, "edited": false, "score": 0, "creation_date": 1500498961, "post_id": 45201048, "comment_id": 77369469, "body": "@A.Hartman Do you just want to read one chunk here? Or do you want to read the whole file in chunks as of now? Depending on that, your code would change."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500499016, "post_id": 45201048, "comment_id": 77369496, "body": "You just need to seek once. After that <code>f.read</code> automatically increments the file pointer past the number of bytes most recently read. So the answer is, if you want to read all chunks starting from 50million, then you call <code>f.seek(50m)</code> once and then <code>f.read(50m)</code> as many times as needed."}, {"owner": {"reputation": 153, "user_id": 8161838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed06d9f7dcb8ae87070461c8446a52f1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hartman", "link": "https://stackoverflow.com/users/8161838/a-hartman"}, "edited": false, "score": 0, "creation_date": 1500499165, "post_id": 45201048, "comment_id": 77369567, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 I want to the read the whole file in chunks, and okay that makes sense."}, {"owner": {"reputation": 153, "user_id": 8161838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed06d9f7dcb8ae87070461c8446a52f1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hartman", "link": "https://stackoverflow.com/users/8161838/a-hartman"}, "edited": false, "score": 0, "creation_date": 1500499631, "post_id": 45201048, "comment_id": 77369813, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Thank you for all of your help! It truly means a lot!"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 153, "user_id": 8161838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed06d9f7dcb8ae87070461c8446a52f1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hartman", "link": "https://stackoverflow.com/users/8161838/a-hartman"}, "edited": false, "score": 0, "creation_date": 1500506227, "post_id": 45201048, "comment_id": 77372134, "body": "@A.Hartman Not a compulsion, but you can <i>accept</i> an answer if it helped. You click the grey check mark next to my answer once and it turns green. Thanks!"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 5, "last_activity_date": 1500499290, "last_edit_date": 1500499290, "creation_date": 1500498584, "answer_id": 45201048, "question_id": 45201013, "link": "https://stackoverflow.com/questions/45201013/read-a-file-in-byte-chunks-using-python/45201048#45201048", "title": "Read a file in byte chunks using python", "body": "<p>You can use <a href=\"https://stackoverflow.com/a/11696554/4909087\"><code>f.seek(offset)</code></a> to set the file pointer to start reading from a certain offset. </p>\n\n<p>In your case, you'd want to skip <code>5000000</code> bytes, so you'd call</p>\n\n<pre><code>f.seek(50000000)\n</code></pre>\n\n<p>At this point, you'd want to read another <code>50000000</code> bytes, so you'd call <code>f.read(50000000)</code>.</p>\n\n<hr>\n\n<p>This would be your complete code listing, implementing <code>f.seek</code> and reading the whole file:</p>\n\n<pre><code>with open(x, \"rb\") as f:\n    f.seek(50000000) # omit if you don't want to skip this chunk\n    data = f.read(50000000)\n    while data:\n        ... # do something \n        data = f.read(50000000)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 8161838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed06d9f7dcb8ae87070461c8446a52f1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hartman", "link": "https://stackoverflow.com/users/8161838/a-hartman"}, "edited": false, "score": 0, "creation_date": 1500499367, "post_id": 45201242, "comment_id": 77369671, "body": "Thank you! This makes sense :)"}], "tags": [], "owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "is_accepted": false, "score": 2, "last_activity_date": 1500499454, "last_edit_date": 1500499454, "creation_date": 1500499274, "answer_id": 45201242, "question_id": 45201013, "link": "https://stackoverflow.com/questions/45201013/read-a-file-in-byte-chunks-using-python/45201242#45201242", "title": "Read a file in byte chunks using python", "body": "<p>Use <code>f.read(50000000)</code> in a loop at it will read the file in chunks of <code>50000000</code>, e.g.:</p>\n\n<pre><code>In []:\nfrom io import StringIO\n\ns = '''hello'''\nwith StringIO(s) as f:\n    while True:\n        c = f.read(2)\n        if not c:\n            break\n        print(c)\n\nOut[]:\nhe\nll\no\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 8161838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed06d9f7dcb8ae87070461c8446a52f1?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hartman", "link": "https://stackoverflow.com/users/8161838/a-hartman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4978, "favorite_count": 0, "accepted_answer_id": 45201048, "answer_count": 2, "score": 3, "last_activity_date": 1500499454, "creation_date": 1500498423, "last_edit_date": 1500498902, "question_id": 45201013, "link": "https://stackoverflow.com/questions/45201013/read-a-file-in-byte-chunks-using-python", "title": "Read a file in byte chunks using python", "body": "<p>I am trying to convert a file containing more than 1 billion bytes into integers. Obviously, my machine cannot do this at once so I need to chunk my code. I was able to decode the first 50,000,000 bytes but I am wondering how to read the integers in the file that are between 50,000,001 and 100,000,000, 150,000,000 and 200,000,000 etc. The following is what I have now;the range function is not working with this. </p>\n\n<pre><code>import struct\nwith open(x, \"rb\") as f:\n    this_chunk = range(50000001, 100000000)\n    data = f.read(this_chunk)\n    ints1 = struct.unpack(\"I\" * (this_chunk //4) , data)\n    print(ints1)\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "train-test-split"], "comments": [{"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 1, "creation_date": 1500498798, "post_id": 45200978, "comment_id": 77369399, "body": "Your <code>split_point</code> is a list in your second case, why not just <code>list_of_trains, list_of_tests = zip(*[(df[0:len(df)-125], df[len(df)-125:]) for df in dfs])</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "edited": false, "score": 0, "creation_date": 1500498733, "post_id": 45201035, "comment_id": 77369360, "body": "When i try this I am getting an error <code>TypeError: cannot do slice indexing on &lt;class &#39;pandas.core.indexes.numeric.Int64Index&#39;&gt; with these indexers </code> any thoughts why?"}, {"owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "reply_to_user": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "edited": false, "score": 0, "creation_date": 1500498988, "post_id": 45201035, "comment_id": 77369479, "body": "@i.n.n.m I didn&#39;t notice that split_point is a list. See my updated answer."}, {"owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "edited": false, "score": 0, "creation_date": 1500499629, "post_id": 45201035, "comment_id": 77369808, "body": "follow up question, is <code>zip</code> method  the only way?"}, {"owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "reply_to_user": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "edited": false, "score": 1, "creation_date": 1500499799, "post_id": 45201035, "comment_id": 77369902, "body": "No, for example, you could just do each part separately:                       train=[dfs[i][0:split_point[i]] for i in range(len(dfs))] and test=[dfs[i][split_point[i]:] for i in range(len(dfs))]"}, {"owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "edited": false, "score": 0, "creation_date": 1500499906, "post_id": 45201035, "comment_id": 77369958, "body": "got it, thank you! (I am fairly new to python trying to learn every way possible)"}], "tags": [], "owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "is_accepted": true, "score": 1, "last_activity_date": 1500498940, "last_edit_date": 1500498940, "creation_date": 1500498524, "answer_id": 45201035, "question_id": 45200978, "link": "https://stackoverflow.com/questions/45200978/train-test-split-for-a-list-of-dataframes-pandas/45201035#45201035", "title": "Train Test Split for a list of dataframes - Pandas", "body": "<p>You need to do</p>\n\n<pre><code>train, test = zip(*[(dfs[i][0:split_point[i]], dfs[i][split_point[i]:]) for i in range(len(dfs))])\n</code></pre>\n\n<p>Then each one of them would be a tuple with the corresponding parts of the data frames.</p>\n\n<p>In the above code I am using</p>\n\n<pre><code>split_point = [len(df)-125 for df in dfs]\n</code></pre>\n\n<p>Just to make it more clear, consider the following more simple example:</p>\n\n<pre><code>r = [(i,i**2) for i in range(5)]\na,b=zip(*r)\n</code></pre>\n\n<p>Then <code>a</code> is <code>(0, 1, 2, 3, 4)</code> and <code>b</code> is <code>(0, 1, 4, 9, 16)</code>.</p>\n"}], "owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 45201035, "answer_count": 1, "score": 0, "last_activity_date": 1500498940, "creation_date": 1500498308, "question_id": 45200978, "link": "https://stackoverflow.com/questions/45200978/train-test-split-for-a-list-of-dataframes-pandas", "title": "Train Test Split for a list of dataframes - Pandas", "body": "<p>I have a list of DataFrames that I want to split into train and test sets.\nFor a single DataFrame, I could do the following,</p>\n\n<p>Get the length of test split</p>\n\n<pre><code>split_point = len(df)- 125\n</code></pre>\n\n<p>and then, </p>\n\n<pre><code>train, test = df[0:split_point], df[split_point:]\n</code></pre>\n\n<p>This gives me the train and test split. </p>\n\n<p>Now, for list of DataFrames I could get test set length for each DataFrame using,</p>\n\n<pre><code>split_point = [len(df)-125 for df in dfs]  ## THIS WORKS FINE\n</code></pre>\n\n<p>I want to get the <code>train</code> and <code>test</code> split for the whole list of dataframes  as I have done for single dataframe. I tried the following,</p>\n\n<pre><code>train, test = [(df[0:split_point], df[split_point:]) for df in dfs]\n\n## AND THE FOLLOWING\n\ntrain, test = [(df[0:split_point] for df in dfs),(df[split_point:]) for df in dfs]\n</code></pre>\n\n<p>Both are not working. How can I do this?</p>\n\n<p>(Some of the DataFrame's length might differ, but I am not worried about it as it will substract the 125 from the length, which I am considering for test set)</p>\n"}, {"tags": ["python", "file", "transactions", "rollback"], "comments": [{"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1500498711, "post_id": 45200972, "comment_id": 77369351, "body": "you can use try/except/finally pattern to handle this kind of operations, you should give it a try and update your question with some code"}, {"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1500499907, "post_id": 45200972, "comment_id": 77369961, "body": "This should be possible by using <a href=\"https://docs.python.org/3/library/contextlib.html#contextlib.ExitStack\" rel=\"nofollow noreferrer\">docs.python.org/3/library/contextlib.html#contextlib.ExitSta&zwnj;&#8203;ck</a>"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1500500636, "post_id": 45200972, "comment_id": 77370300, "body": "You do understand that step 1 cannot be rolled back per se, but you can always delete the file if your later steps fail, right?"}, {"owner": {"reputation": 137, "user_id": 4528999, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10204626447239106/picture?type=large", "display_name": "Guilhem Fry", "link": "https://stackoverflow.com/users/4528999/guilhem-fry"}, "edited": false, "score": 0, "creation_date": 1500500733, "post_id": 45200972, "comment_id": 77370343, "body": "Yes, that&#39;s what I meant by rollback"}], "answers": [{"tags": [], "owner": {"reputation": 7312, "user_id": 5368083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4GaY1.jpg?s=128&g=1", "display_name": "bluesummers", "link": "https://stackoverflow.com/users/5368083/bluesummers"}, "is_accepted": false, "score": 0, "last_activity_date": 1582798426, "creation_date": 1582798426, "answer_id": 60430804, "question_id": 45200972, "link": "https://stackoverflow.com/questions/45200972/writing-transactions-for-non-db-code-in-python/60430804#60430804", "title": "Writing transactions for non-DB code in Python", "body": "<p>My solution</p>\n\n<p>It creates a temporary directory in the system's default temporary directory (<code>/tmp</code> on linux) and returns a <code>pathlib.Path</code> object where you can write files to, if all is successful it will eventually move the contents to the destination, if not nothing will happen.</p>\n\n<p>Either way it cleans up after it and removes the data it has written to the temporary directory</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import tempfile\nimport shutil\nfrom typing import ContextManager, Union\nfrom pathlib import Path\nfrom contextlib import contextmanager\n\n@contextmanager\ndef transactional_mkdir(destination: Union[str, Path], overwrite: bool = False) -&gt; ContextManager[Path]:\n    \"\"\"\n    Create a directory and get reference to it, while inside the context if any unhandled failure is met all the writing\n    operations that were made to the directory will be undone\n\n    :param destination: Destination directory to write create\n    :param overwrite: If True, will overwrite destination if it exists \n    :return: Path object to destination directory\n    \"\"\"\n\n    # Validate input\n    destination = Path(destination)\n    if not overwrite and destination.exists():\n        raise FileExistsError(f'destination already exists. To overwrite use \"overwrite=True\"')\n\n    # Create temporary directory\n    temp_dir = Path(tempfile.mkdtemp())\n\n    try:\n        yield temp_dir  # Give control\n\n        # Remove existing\n        if destination.exists():\n            if destination.is_dir():\n                shutil.rmtree(destination)  # Remove directory\n            else:\n                destination.unlink()  # Remove file\n\n        # Save to destination\n        shutil.move(temp_dir, destination)\n\n    finally:\n        shutil.rmtree(temp_dir)  # Remove directory\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 4528999, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10204626447239106/picture?type=large", "display_name": "Guilhem Fry", "link": "https://stackoverflow.com/users/4528999/guilhem-fry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1582798426, "creation_date": 1500498269, "question_id": 45200972, "link": "https://stackoverflow.com/questions/45200972/writing-transactions-for-non-db-code-in-python", "title": "Writing transactions for non-DB code in Python", "body": "<p>A piece of python's code is writing/creating multiple files.\nI would like to put it in a transaction-ish way, so everything is rolled-back if one of the file's creation fails. This would help to save hard-drive space and avoid unuseful files from failed transactions.</p>\n\n<p><strong>Concretely</strong>, by sending a picture to my python server:</p>\n\n<ol>\n<li>It first saves the original file, full res</li>\n<li>Creates a smaller version of the pic</li>\n<li>Saves this smaller verion</li>\n<li>Transaction succeded</li>\n</ol>\n\n<p>However step 2 or 3 could fail for some reason. How to rollback step 1 ?</p>\n\n<p>The solution should be generic as there might be more steps.</p>\n\n<p>Is there a common transaction trick in Python ?</p>\n"}, {"tags": ["python", "bash", "pip", "python-unittest", "circleci"], "answers": [{"tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": true, "score": 3, "last_activity_date": 1500500423, "creation_date": 1500500423, "answer_id": 45201502, "question_id": 45200939, "link": "https://stackoverflow.com/questions/45200939/unable-to-import-unittest2-when-testing-with-circleci/45201502#45201502", "title": "Unable to import unittest2 when testing with CircleCI", "body": "<p>You didn't show Python version or .circle.yml so I can only guess:</p>\n\n<pre><code>pip install unittest2\n</code></pre>\n\n<p>installs unittest2 with Python 2.7, while the next commands use python3. Try</p>\n\n<pre><code>pip3 install unittest2\npip3 install -r requirements.txt\n</code></pre>\n\n<p>To debug what is going on print versions:</p>\n\n<pre><code>python --version\npython3 --version\npip --version\npip3 --version\n</code></pre>\n"}], "owner": {"reputation": 791, "user_id": 5233367, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60dc3184f9d77e7d07bfa556739d55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Brydenr", "link": "https://stackoverflow.com/users/5233367/brydenr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2080, "favorite_count": 0, "accepted_answer_id": 45201502, "answer_count": 1, "score": 0, "last_activity_date": 1500500423, "creation_date": 1500498170, "question_id": 45200939, "link": "https://stackoverflow.com/questions/45200939/unable-to-import-unittest2-when-testing-with-circleci", "title": "Unable to import unittest2 when testing with CircleCI", "body": "<p>I am trying to run a series of python selenium tests in CircleCI. unittest2 is a requirement, and is in a <code>requirements.txt</code> file. <code>pip install -r requirements.txt</code> shows that everything is installed correctly.</p>\n\n<pre><code>pip install -r requirements.txt\nRequirement already satisfied: chromedriver==2.24.1 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from -r requirements.txt (line 1))\nRequirement already satisfied: linecache2==1.0.0 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from -r requirements.txt (line 2))\nRequirement already satisfied: nose==1.3.7 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from -r requirements.txt (line 3))\nRequirement already satisfied: selenium==3.4.2 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from -r requirements.txt (line 4))\nRequirement already satisfied: six==1.10.0 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from -r requirements.txt (line 5))\nRequirement already satisfied: traceback2==1.4.0 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from -r requirements.txt (line 6))\nRequirement already satisfied: unittest2==1.1.0 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from -r requirements.txt (line 7))\nRequirement already satisfied: argparse in /usr/lib/python2.7 (from unittest2==1.1.0-&gt;-r requirements.txt (line 7))\n</code></pre>\n\n<p>However, when running the test script, I get</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"checkpipinstallation.py\", line 1, in &lt;module&gt;\n    import unittest2\nImportError: No module named 'unittest2'\nTraceback (most recent call last):\n  File \"main.py\", line 2, in &lt;module&gt;\n    import runner\n  File \"/home/ubuntu/ui-tests-functional/new_tests/runner.py\", line 1, in &lt;module&gt;\n    import unittest2\nImportError: No module named 'unittest2'\n\nbash new_tests/circleSetUp.sh returned exit code 1\n</code></pre>\n\n<p>Running the command from a bash shell that installs unittest2:</p>\n\n<pre><code>pip install unittest2\npython3 checkpipinstallation.py\npython3 main.py\n</code></pre>\n\n<p>checkpipinstallation.py only has one line:</p>\n\n<pre><code>import unittest2\n</code></pre>\n\n<p>Output from running the bash script:</p>\n\n<pre><code>Requirement already satisfied: unittest2 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages\nRequirement already satisfied: argparse in /usr/lib/python2.7 (from unittest2)\nRequirement already satisfied: six&gt;=1.4 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from unittest2)\nRequirement already satisfied: traceback2 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from unittest2)\nRequirement already satisfied: linecache2 in /home/ubuntu/virtualenvs/venv-system/lib/python2.7/site-packages (from traceback2-&gt;unittest2)\nTraceback (most recent call last):\n  File \"checkpipinstallation.py\", line 1, in &lt;module&gt;\n    import unittest2\nImportError: No module named 'unittest2'\nTraceback (most recent call last):\n  File \"main.py\", line 2, in &lt;module&gt;\n    import runner\n  File \"/home/ubuntu/ui-tests-functional/new_tests/runner.py\", line 1, in &lt;module&gt;\n    import unittest2\nImportError: No module named 'unittest2'\n\nbash new_tests/circleSetUp.sh returned exit code 1\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1500498776, "post_id": 45200907, "comment_id": 77369390, "body": "You have several problems here. Indention for one, spelling for label names is miss matched due to spelling errors, you are creating the <code>pwd_label</code> assigned to another widget instead of a frame or the root window. Your classes are set up in a strange way and I do not think they will work like this. Try placing everything into one class it would make more sense here. For any of the widgets you will be working with/updating you need to set them as class attributes using the <code>self.</code> prefix."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1500498832, "post_id": 45200907, "comment_id": 77369408, "body": "The code you posted does not give the error you say it does."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1500499012, "post_id": 45200907, "comment_id": 77369495, "body": "@SierraMountainTech: the code design came either directly or indirectly from <a href=\"http://stackoverflow.com/questions/7546050\">stackoverflow.com/questions/7546050</a>. Unfortunately someone copied it without understanding it, created a video tutorial using it but without properly explaining it, and now lots of beginners use this as a starting template. <i>sigh</i>"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1500499155, "post_id": 45200907, "comment_id": 77369563, "body": "@BryanOakley: So I am guessing this is not the first time you have seen this bit of code floating around on stack overflow then."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1500499323, "post_id": 45200907, "comment_id": 77369645, "body": "@SierraMountainTech: I see this question a <i>lot</i>. There are well over 100 questions that contain the class <code>PageOne</code>, and many more where they changed the class name. There are 300 or so with <code>show_frame</code>, most of which are variations of this code."}], "answers": [{"tags": [], "owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "is_accepted": false, "score": 0, "last_activity_date": 1500499881, "creation_date": 1500499881, "answer_id": 45201382, "question_id": 45200907, "link": "https://stackoverflow.com/questions/45200907/tkinter-module-error-erroe-creating-login-page-in-calss-pageone/45201382#45201382", "title": "Tkinter Module Error erroe creating login page in calss pageone", "body": "<p>It would appear that you are trying to bite off more than you can chew so to speak with this example of code. You are miss using parts of tkinter that should be understood before moving onto something more complicated like this.</p>\n\n<p>Before you try to use multiple classes like this try to focus more on understanding how tkinter works and how to implement all its widgets properly in a single class or even outside of a class first.</p>\n\n<p>You do not assign widgets to another widget like you are attempting to do here:</p>\n\n<pre><code>pwd_label = tk.Label(self.name_lable, text=\"Password:\")\n</code></pre>\n\n<p>This is the problem refereed to in your trackback. You need to assign the Label widget to either a root window, a frame or a toplevel.</p>\n\n<p>Your indention is not clean and if the way you have it pasted in your question is accurate then you code will not work as the <code>def show_frame()</code> method is not inside the <code>Myprogramapp</code> class.</p>\n\n<p>You are importing <code>os</code> for no reason here and it is not good practice to import libraries you are not currently using.</p>\n\n<p>You should make some important parts of your program into a class attribute, like your entry fields. If you are going to put in a password to that field and try and <code>get()</code> the string from the entry field inside a method you wont be able to as its not a class attribute. You can fix this by adding <code>self.</code> prefix to the widget name.</p>\n\n<p>All and all after making those changes you will get a tkinter window with 2 buttons. The <code>Admin Login</code> button will display a login screen. That being said I think you should either step away from classes all together while learning tkinter or work in a single class for now until you have a solid understanding of how classes, methods, and attributes work and are used.</p>\n"}], "owner": {"reputation": 3, "user_id": 8327738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ef8ac3fea2eac56c54deb62da5ade8?s=128&d=identicon&r=PG&f=1", "display_name": "Tathe", "link": "https://stackoverflow.com/users/8327738/tathe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1500499881, "creation_date": 1500497995, "last_edit_date": 1500498753, "question_id": 45200907, "link": "https://stackoverflow.com/questions/45200907/tkinter-module-error-erroe-creating-login-page-in-calss-pageone", "title": "Tkinter Module Error erroe creating login page in calss pageone", "body": "<p>I have try to write program for library Management system I am using tkinter module for it. I have writen the below code but when I am trying to create multiple Text box i am getting below error.</p>\n\n<pre><code>  File \"Hope_work.py\", line 22, in __init__ \n    frame = F(container, self)\n  File \"Hope_work.py\", line 62, in __init__\n    pwd_lable.pack()\nUnboundLocalError: local variable 'pwd_lable' referenced before assignment \n</code></pre>\n\n<p>Below is the complete program I am getting error in PageOne class</p>\n\n<pre><code>import tkinter as tk\nimport os\nLARGE_FONT= (\"Verdana\", 12)\nclass Myprogramapp(tk.Tk):\n    def __init__(self, *args, **kwargs):\n\n        tk.Tk.__init__(self, *args, **kwargs)\n        container = tk.Frame(self)\n        container.pack(side=\"top\", fill=\"both\", expand = True)\n        container.grid_rowconfigure(0, weight=1)\n        container.grid_columnconfigure(0, weight=1)\n        self.frames = {}\n        for F in (StartPage, PageOne):\n            frame = F(container, self)\n            self.frames[F] = frame\n\n            frame.grid(row=0, column=0, sticky=\"nsew\")\n        self.show_frame(StartPage)\ndef show_frame(self, cont):\n        frame = self.frames[cont]\n        frame.tkraise()\nclass StartPage(tk.Frame):\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n        label = tk.Label(self, text=\"Library Managment System\", font=LARGE_FONT)\n        label.pack(pady=10,padx=10)\n        button = tk.Button(self, text=\"Admin Login\",\n                                        command=lambda: controller.show_frame(PageOne))\n        button.pack()\n        button1 = tk.Button(self, text=\"Lib Login\")\n        button1.pack()\nclass PageOne(tk.Frame):\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self, parent)\n        name_label = tk.Label(self, text=\"User ID : \")\n        pwd_label = tk.Label(self.name_lable, text=\"Password:\")\n        name_label.pack(pady=10,padx=10)\n        pwd_lable.pack(pady=10,padx=10)\n        name_lable = tk.Entry(self)\n        pwd_lable = tk.Entry(self, show=\"*\")\n        name_lable.pack()\n        pwd_lable.pack()\n        button1 = tk.Button(self, text=\"Login\")\n        button1.pack()\nif __name__ == \"__main__\":\n    app = Myprogramapp()\n    app.mainloop()\n</code></pre>\n\n<p>**</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1500498504, "post_id": 45200918, "comment_id": 77369243, "body": "Very nice solution! +1"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 5, "last_activity_date": 1500499505, "last_edit_date": 1500499505, "creation_date": 1500498072, "answer_id": 45200918, "question_id": 45200845, "link": "https://stackoverflow.com/questions/45200845/remove-leading-0s-in-a-row-pandas/45200918#45200918", "title": "Remove Leading 0s in a row Pandas", "body": "<p>Let use <code>mask</code>, <code>eq</code>, <code>apply</code>, and <code>dropna</code>:</p>\n\n<pre><code>df.mask(df.eq(0)).apply(lambda x: pd.Series(x.dropna().values,index=x.index[:len(x.dropna())]),axis=1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>        A       B       C       D\n0  0.1234     NaN     NaN     NaN\n1 -0.9760 -0.5268 -0.4261     NaN\n2 -0.6277 -1.9284 -1.7718  3.4021\n3 -0.0013  2.2955     NaN     NaN\n4  0.6241 -1.9643 -0.6090  2.0827\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 8127555, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e2169b44d8f0d59df47324c53cf5917?s=128&d=identicon&r=PG&f=1", "display_name": "veridian", "link": "https://stackoverflow.com/users/8127555/veridian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 45200918, "answer_count": 1, "score": 1, "last_activity_date": 1500499505, "creation_date": 1500497729, "question_id": 45200845, "link": "https://stackoverflow.com/questions/45200845/remove-leading-0s-in-a-row-pandas", "title": "Remove Leading 0s in a row Pandas", "body": "<p>Let's say that I had a DataFrame (df) like this:</p>\n\n<pre><code>    A       B       C       D\n0  0.0000  0.0000  0.0000  0.1234\n1  0.0000 -0.9760 -0.5268 -0.4261\n2 -0.6277 -1.9284 -1.7718  3.4021\n3  0.0000  0.0000 -0.0013  2.2955\n4  0.6241 -1.9643 -0.6090  2.0827\n</code></pre>\n\n<p>and I wanted to remove the leading 0.0000s from each row and have NaN as the white space behind the new 'calibrated' row like this:</p>\n\n<pre><code>    A       B       C       D\n0  0.1234  NaN     NaN     NaN   \n1 -0.9760 -0.5268 -0.4261  NaN   \n2 -0.6277 -1.9284 -1.7718  3.4021\n3 -0.0013  2.2955  NaN     NaN   \n4  0.6241 -1.9643 -0.6090  2.0827\n</code></pre>\n\n<p>Is there a simple pandas function to do so?</p>\n"}, {"tags": ["python", "html", "python-3.x", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 3609329, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1601390135/picture?type=large", "display_name": "Abdul Moiz Farooq", "link": "https://stackoverflow.com/users/3609329/abdul-moiz-farooq"}, "edited": false, "score": 0, "creation_date": 1500731467, "post_id": 45201171, "comment_id": 77474425, "body": "I did eventually succeeded in finding the element but through a different approach. I tried changing window and frame but that didn&#39;t helped as I was already in the same window and there is no iframe in the code. So I downloaded the page source through <code>driver.page_source</code> and the name of element I wanted to target in the downloaded source is actually &quot;message&quot; and not &quot;message_text&quot;. However when I check the name of this element in browser through inspect element it still shows &quot;message_text&quot;. I am not sure why there is difference of element name."}, {"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "reply_to_user": {"reputation": 307, "user_id": 3609329, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1601390135/picture?type=large", "display_name": "Abdul Moiz Farooq", "link": "https://stackoverflow.com/users/3609329/abdul-moiz-farooq"}, "edited": false, "score": 1, "creation_date": 1500732745, "post_id": 45201171, "comment_id": 77474783, "body": "@AbdulMoizFarooq that&#39;s an interesting discovery. You should post it as an answer to help other people. Thanks for the update."}], "tags": [], "owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "is_accepted": false, "score": 3, "last_activity_date": 1500499051, "creation_date": 1500499051, "answer_id": 45201171, "question_id": 45200819, "link": "https://stackoverflow.com/questions/45200819/python-with-selenium-unable-to-locate-element-error/45201171#45201171", "title": "Python with Selenium: Unable to locate element error", "body": "<p>This question has been answered before but the doc links that the answer points to is outdated, so here is the new updated <a href=\"http://toolsqa.com/selenium-webdriver/switch-commands/\" rel=\"nofollow noreferrer\">\"switch to\"/switch commands selenium docs</a> link</p>\n\n<p>You need to use this command to switch your driver so that it runs in the correct window/frame/ etc. </p>\n\n<p>Check which windows are open by running: first run <code>driver.getWindowHandles();</code> to return a set of all windows</p>\n\n<p>Then use <code>driver.switchTo().window(handle);} #if switching to another window</code></p>\n\n<p>or     <code>driver.switchTo().frame(\"yourframename\");} #if switching to a frame</code></p>\n\n<p>or     <code>driver.switchTo().alert(); #if switching to a popup</code></p>\n\n<p>Hope this helps</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24369249/python-with-selenium-unable-to-locate-element-which-really-exist\">A similar question</a></p>\n"}, {"tags": [], "owner": {"reputation": 307, "user_id": 3609329, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1601390135/picture?type=large", "display_name": "Abdul Moiz Farooq", "link": "https://stackoverflow.com/users/3609329/abdul-moiz-farooq"}, "is_accepted": true, "score": 2, "last_activity_date": 1500736801, "last_edit_date": 1500736801, "creation_date": 1500734168, "answer_id": 45255705, "question_id": 45200819, "link": "https://stackoverflow.com/questions/45200819/python-with-selenium-unable-to-locate-element-error/45255705#45255705", "title": "Python with Selenium: Unable to locate element error", "body": "<p>So I was finally able to find the element and fix the above error by looking at the page source. </p>\n\n<pre><code>print(driver.page_source)\n</code></pre>\n\n<p>Page source showed the name of element was <code>message</code> and not <code>message_text</code>. However inspect element in browser still shows <code>message_text</code>. </p>\n"}], "owner": {"reputation": 307, "user_id": 3609329, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1601390135/picture?type=large", "display_name": "Abdul Moiz Farooq", "link": "https://stackoverflow.com/users/3609329/abdul-moiz-farooq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 0, "accepted_answer_id": 45255705, "answer_count": 2, "score": 3, "last_activity_date": 1500736801, "creation_date": 1500497652, "question_id": 45200819, "link": "https://stackoverflow.com/questions/45200819/python-with-selenium-unable-to-locate-element-error", "title": "Python with Selenium: Unable to locate element error", "body": "<p>I am trying to fill a text box but I am getting unable to locate element. </p>\n\n<p>I have tried finding the element </p>\n\n<ul>\n<li>by class</li>\n<li>by name </li>\n<li>Added 10 secs wait </li>\n</ul>\n\n<p>But I am still getting the same error. </p>\n\n<p><strong>Here is HTML</strong></p>\n\n<pre><code>    &lt;div class=\"innerWrap\"&gt;\n    &lt;textarea aria-autocomplete=\"list\" aria-controls=\"typeahead_list_u_0_j\"\n    aria-expanded=\"false\" aria-haspopup=\"true\" aria-label=\n    \"Write a birthday wish on his Timeline...\" class=\n    \"enter_submit uiTextareaNoResize uiTextareaAutogrow uiStreamInlineTextarea inlineReplyTextArea mentionsTextarea textInput\"\n    cols=\"48\" id=\"u_0_k\" name=\"message_text\" placeholder=\n    \"Write a birthday wish on his Timeline...\" role=\"textbox\" title=\n    \"Write a birthday wish on his Timeline...\"&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>My Code:</strong> </p>\n\n<pre><code>textbox =  driver.find_element_by_name('message_text')\ntextbox.send_keys('Happy Birthday! ')\n</code></pre>\n\n<p>The web page I am working on is <a href=\"https://www.facebook.com/birthdays/\" rel=\"nofollow noreferrer\">Facebook Birthdays page</a></p>\n"}, {"tags": ["python", "pandas", "dropbox", "stringio"], "comments": [{"owner": {"reputation": 13359, "user_id": 489590, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e16b3d117fa188c4dbdafb8dc27a4df0?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/489590/brian-cain"}, "edited": false, "score": 0, "creation_date": 1500497880, "post_id": 45200814, "comment_id": 77368947, "body": "Try to coerce the <code>BytesIO</code> to a string with <code>str()</code>?"}, {"owner": {"reputation": 2790, "user_id": 2286597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/013c320496bb12a3f08430d8d4b8e60c?s=128&d=identicon&r=PG", "display_name": "Philipp_Kats", "link": "https://stackoverflow.com/users/2286597/philipp-kats"}, "reply_to_user": {"reputation": 13359, "user_id": 489590, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e16b3d117fa188c4dbdafb8dc27a4df0?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/489590/brian-cain"}, "edited": false, "score": 1, "creation_date": 1500498989, "post_id": 45200814, "comment_id": 77369480, "body": "Well I actually need the opposite - pandas requires stringIO, and I need to convert the result to binary for the <code>dropbox</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": true, "score": 5, "last_activity_date": 1500499635, "last_edit_date": 1500499635, "creation_date": 1500499417, "answer_id": 45201278, "question_id": 45200814, "link": "https://stackoverflow.com/questions/45200814/python-convert-stringio-to-binary/45201278#45201278", "title": "Python convert StringIO to binary", "body": "<p>As seen in <a href=\"https://stackoverflow.com/a/43459197/7738328\">this</a> answer, dropbox expects a bytes object, not a file, so converting to <code>BytesIO</code> will not help. However, the solution is simpler than that. All you need to do is encode your string as binary:</p>\n\n<pre><code>csv_str = DF.to_csv(index=None) # get string, rather than StringIO object\nself.client.files_upload(csv_str.encode(), path=path, mode=wmode)\n</code></pre>\n"}], "owner": {"reputation": 2790, "user_id": 2286597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/013c320496bb12a3f08430d8d4b8e60c?s=128&d=identicon&r=PG", "display_name": "Philipp_Kats", "link": "https://stackoverflow.com/users/2286597/philipp-kats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3403, "favorite_count": 0, "accepted_answer_id": 45201278, "answer_count": 1, "score": 4, "last_activity_date": 1500499635, "creation_date": 1500497641, "question_id": 45200814, "link": "https://stackoverflow.com/questions/45200814/python-convert-stringio-to-binary", "title": "Python convert StringIO to binary", "body": "<p>I have a simple task: in luigi, store pandas dataframe as a csv in dropbox, using dropbox-python sdk</p>\n\n<p>Usually (with S3, for example) you can use StringIO as a file-like in-memory object. It also works great with pandas <code>df.to_csv()</code></p>\n\n<p>Unfortunately, dropbox sdk requires binary type, and I can't get how to translate StringIO into binary:</p>\n\n<pre><code>with io.StringIO() as f:\n    DF.to_csv(f, index=None)\n    self.client.files_upload(f, path=path, mode=wmode)\n\nTypeError: expected request_binary as binary type, got &lt;class '_io.StringIO'&gt;\n</code></pre>\n\n<p>ByteIO won't work with the <code>df.to_csv()</code> ... </p>\n"}, {"tags": ["python", "micropython"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3902496"}, "edited": false, "score": 0, "creation_date": 1500497798, "post_id": 45200793, "comment_id": 77368908, "body": "If you formatted your code correctly it would be easier to help you."}, {"owner": {"reputation": 113, "user_id": 3324602, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/45e53050e147c16dbadc1196c557f337?s=128&d=identicon&r=PG&f=1", "display_name": "slow_one", "link": "https://stackoverflow.com/users/3324602/slow-one"}, "edited": false, "score": 0, "creation_date": 1500497940, "post_id": 45200793, "comment_id": 77368976, "body": "what&#39;s wrong with my code?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1500497956, "post_id": 45200793, "comment_id": 77368988, "body": "<code>None != []</code>. <code>if rl:</code> might work since it will avoid anything falsey, but it&#39;s a guess because it&#39;s hard to understand your question. Also, you don&#39;t appear to make any attempt to catch the exception (which your question title suggests) but try to avoid the exceptional circumstance."}, {"owner": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "edited": false, "score": 0, "creation_date": 1500498017, "post_id": 45200793, "comment_id": 77369021, "body": "Are you sure that&#39;s the right line? It sounds like an error thrown for the max function... Try commenting out everything after the max function and see if it runs."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "edited": false, "score": 0, "creation_date": 1500498142, "post_id": 45200793, "comment_id": 77369083, "body": "@LeopoldVonBuschLight I think what&#39;s happening is that the OP thinks that <code>if rl is not None:</code> will avoid an exception further down the code, but it&#39;s not very clear. It would be helpful if there was a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 113, "user_id": 3324602, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/45e53050e147c16dbadc1196c557f337?s=128&d=identicon&r=PG&f=1", "display_name": "slow_one", "link": "https://stackoverflow.com/users/3324602/slow-one"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1500498336, "post_id": 45200793, "comment_id": 77369170, "body": "@roganjosh : i&#39;d love to provide that ... except that you&#39;d need an OpenMV camera (<a href=\"https://openmv.io/\" rel=\"nofollow noreferrer\">openmv.io</a>) to be able to verify the code in its entirety."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1500498439, "post_id": 45200793, "comment_id": 77369211, "body": "At the very least, please provide the full traceback (copy/paste the whole thing, not just a bit from the end). Also, please provide feedback on whether changing <code>if rl is not None:</code> to <code>if rl:</code> made any difference."}, {"owner": {"reputation": 113, "user_id": 3324602, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/45e53050e147c16dbadc1196c557f337?s=128&d=identicon&r=PG&f=1", "display_name": "slow_one", "link": "https://stackoverflow.com/users/3324602/slow-one"}, "reply_to_user": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "edited": false, "score": 0, "creation_date": 1500498474, "post_id": 45200793, "comment_id": 77369229, "body": "@LeopoldVonBuschLight : I&#39;ve tried that ... and it does continue to fail ... but what&#39;s weird is that this same code sequence has worked elsewhere without issue. Which is why I&#39;m lost."}, {"owner": {"reputation": 113, "user_id": 3324602, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/45e53050e147c16dbadc1196c557f337?s=128&d=identicon&r=PG&f=1", "display_name": "slow_one", "link": "https://stackoverflow.com/users/3324602/slow-one"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1500498496, "post_id": 45200793, "comment_id": 77369235, "body": "@roganjosh :  Traceback (most recent call last):   File &quot;&lt;stdin&gt;&quot;, line 77, in &lt;module&gt; ValueError: arg is an empty sequence MicroPython d23b594 on 2017-07-05; OPENMV3 with STM32F765 Type &quot;help()&quot; for more information."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1500498551, "post_id": 45200793, "comment_id": 77369266, "body": "As an edit to the question. Also, your line numbers have changed from 59 to 77. But the traceback should go further back and point to all the lines of code that eventually led to the error as a chain reaction, it&#39;s helpful to see it all."}, {"owner": {"reputation": 113, "user_id": 3324602, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/45e53050e147c16dbadc1196c557f337?s=128&d=identicon&r=PG&f=1", "display_name": "slow_one", "link": "https://stackoverflow.com/users/3324602/slow-one"}, "edited": false, "score": 0, "creation_date": 1500498676, "post_id": 45200793, "comment_id": 77369326, "body": "the rest is just commented code ..."}, {"owner": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "edited": false, "score": 0, "creation_date": 1500498677, "post_id": 45200793, "comment_id": 77369328, "body": "@slow_one Try seperating out that max(img.find_line_segments(...)...) statement into two statements and test if the result of find_line_segments is anything before using the max function. It sounds like the max function is what&#39;s throwing the exception."}, {"owner": {"reputation": 113, "user_id": 3324602, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/45e53050e147c16dbadc1196c557f337?s=128&d=identicon&r=PG&f=1", "display_name": "slow_one", "link": "https://stackoverflow.com/users/3324602/slow-one"}, "reply_to_user": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "edited": false, "score": 0, "creation_date": 1500498883, "post_id": 45200793, "comment_id": 77369439, "body": "@LeopoldVonBuschLight : I think you&#39;re right. I think I&#39;ll need to do that ... will be doing so tomorrow."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3324602, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/45e53050e147c16dbadc1196c557f337?s=128&d=identicon&r=PG&f=1", "display_name": "slow_one", "link": "https://stackoverflow.com/users/3324602/slow-one"}, "edited": false, "score": 0, "creation_date": 1500556826, "post_id": 45201143, "comment_id": 77398044, "body": "That if statement seems to have averted the issue. I&#39;m not sure why the max() statement is having that issue. I&#39;ll have to explore that further (the find_line_segments() function <i>is</i> able to find lines ... it&#39;s not that it doesn&#39;t having anything to &quot;max()&quot;"}], "tags": [], "owner": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "is_accepted": true, "score": 1, "last_activity_date": 1500560782, "last_edit_date": 1500560782, "creation_date": 1500498956, "answer_id": 45201143, "question_id": 45200793, "link": "https://stackoverflow.com/questions/45200793/python-error-check-failing-to-catch-exception/45201143#45201143", "title": "Python: error check failing to catch exception", "body": "<p>Try separating out that <code>max(img.find_line_segments(...)...)</code> statement into two statements and test if the result of <code>find_line_segments</code> is anything before using the <code>max</code> function. It sounds like the <code>max</code> function is what's throwing the exception:</p>\n\n<pre><code># Dummy function\ndef find_line_segments():\n    return []\n\nmax_segment = max(find_line_segments())\n</code></pre>\n\n<p>Gives this exception for trying to use <code>max()</code> on an empty sequence:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\ayb\\Desktop\\t (3).py\", line 8, in &lt;module&gt;\n    max_segment = max(get_line_segments())\nValueError: max() arg is an empty sequence\n</code></pre>\n\n<p>Do something like this instead to avoid the exception.</p>\n\n<pre><code>segments = find_line_segments()\nif segments:\n    max_segment = max(segments)\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3324602, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/45e53050e147c16dbadc1196c557f337?s=128&d=identicon&r=PG&f=1", "display_name": "slow_one", "link": "https://stackoverflow.com/users/3324602/slow-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 45201143, "answer_count": 1, "score": 0, "last_activity_date": 1500560782, "creation_date": 1500497567, "last_edit_date": 1500556145, "question_id": 45200793, "link": "https://stackoverflow.com/questions/45200793/python-error-check-failing-to-catch-exception", "title": "Python: error check failing to catch exception", "body": "<p>I'm writing in a stripped down version of python, micro python.<br>\nI'm doing some image processing and am trying to find the longest line returned from a method called, \"find_line_segments\" (it does Canny Edge and Hough Lines transforms).<br>\nBUT! I keep getting an error.<br>\nCode  </p>\n\n<pre><code>    rl = max(img.find_line_segments(roi = r_r, threshold = 1000, theta_margin = 15, rho_margin = 15, segment_threshold = 100), key = lambda x: x.length())\n    if rl is not None:\n        if rl[6] &gt; 0 :\n            img.draw_line(rl.line(), color = 155)\n            print(\"RL\")\n            print(rl)\n</code></pre>\n\n<p>Error:  </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 77, in &lt;module&gt;\nValueError: arg is an empty sequence\nMicroPython d23b594 on 2017-07-05; OPENMV3 with STM32F765\nType \"help()\" for more information.\n</code></pre>\n\n<p>That error points to the line <code>if rl is not None:</code> ... and I don't understand why it is causing an error. If the max() function doesn't return a value (in the case that a line isn't found), the \"if statement\" should never execute.<br>\nWhat am I not understanding?</p>\n\n<p>Edit:<br>\nAccidentally removed some code.</p>\n"}, {"tags": ["python", "callback", "scrapy", "scrapy-spider"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7730188"}, "edited": false, "score": 0, "creation_date": 1500561014, "post_id": 45205623, "comment_id": 77401692, "body": "quick follow up, im unsure how you use the response variable though? the docs/examples are pretty worthless"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7730188"}, "edited": false, "score": 0, "creation_date": 1500562211, "post_id": 45205623, "comment_id": 77402679, "body": "because the response i pass ends up being none"}], "tags": [], "owner": {"reputation": 8101, "user_id": 5832540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sy8es.jpg?s=128&g=1", "display_name": "Tom&#225;\u0161 Linhart", "link": "https://stackoverflow.com/users/5832540/tom%c3%a1%c5%a1-linhart"}, "is_accepted": false, "score": 3, "last_activity_date": 1500527260, "creation_date": 1500527260, "answer_id": 45205623, "question_id": 45200710, "link": "https://stackoverflow.com/questions/45200710/scrapy-yield-a-request-parse-in-the-callback-but-use-the-info-in-the-original/45205623#45205623", "title": "Scrapy yield a Request, parse in the callback, but use the info in the original function", "body": "<p>Take a look at <a href=\"https://github.com/rmax/scrapy-inline-requests\" rel=\"nofollow noreferrer\">inline_requests</a> package, which should let you achieve this.</p>\n\n<p>Other solution is to not insist on returning the result from original method (<code>filter_categories</code> in your case), but rather use <a href=\"https://doc.scrapy.org/en/latest/topics/request-response.html#topics-request-response-ref-request-callback-arguments\" rel=\"nofollow noreferrer\">request chaining</a> with <code>meta</code> attribute of requests and return the result from the last parse method in the chain (<code>test_page</code> in your case).</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7730188"}, "edited": false, "score": 0, "creation_date": 1500557083, "post_id": 45209625, "comment_id": 77398301, "body": "More so that I need to receive information back from the callback of the scrapy request... so in other words. after i yield a request in parse, I need to parse that page in the callback, and depending on what is within i would ideally return true/false or some variable back to the &quot;parse&quot; method where the request was yielded.. which would then allow me to proceed as desired.  So, in other words, i need to yield a Request, parse the info in the callback immediately, and then use that information on the next line after the Request was yielded"}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1500557765, "post_id": 45209625, "comment_id": 77398890, "body": "As far as I remember - it not possible. You cannot return any value from callback to <code>parse</code> function, only go forward."}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1500557926, "post_id": 45209625, "comment_id": 77399039, "body": "But you can make <code>yield</code> in function <code>test_page</code>"}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1500558207, "post_id": 45209625, "comment_id": 77399249, "body": "I added part of my spider above"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7730188"}, "edited": false, "score": 0, "creation_date": 1500558993, "post_id": 45209625, "comment_id": 77399983, "body": "Im not trying to return a value to parse, im trying to return a value from a callback to the method the Request was yielded in. in other words make the Request execute immediately, the code underneath the request wait for the callback to finish, and the callback pass some True/False back to the method which yielded the Request"}], "tags": [], "owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "is_accepted": false, "score": 0, "last_activity_date": 1500558148, "last_edit_date": 1500558148, "creation_date": 1500540000, "answer_id": 45209625, "question_id": 45200710, "link": "https://stackoverflow.com/questions/45200710/scrapy-yield-a-request-parse-in-the-callback-but-use-the-info-in-the-original/45209625#45209625", "title": "Scrapy yield a Request, parse in the callback, but use the info in the original function", "body": "<p>If I understood you correct: you want to <code>yield scrapy.Request</code> to URLS that will have <code>True</code> condition. Am I right? Here some example for it:</p>\n\n<pre><code>def parse(self, response):\n    if self.test_page(response):\n        item = Item()\n        item['url'] = 'xpath or css'\n        yield item\n    if condition:\n        yield Request(url=new_link, callback = self.parse, dont_filter=True)\n\n\ndef test_page(self, link):\n    ... parse the response...\n    return True/False depending\n</code></pre>\n\n<p>If you give more info I'll try help more.</p>\n\n<p>It's part of my code</p>\n\n<pre><code> def parse(self, response):\n        if 'tag' in response.url:\n            return self.parse_tag(response)\n        if 'company' in response.url:\n            return self.parse_company(response)\n\n    def parse_tag(self, response):\n        try:\n            news_list = response.xpath(\"..//div[contains(@class, 'block block-thumb ')]\")\n            company = response.meta['company']\n            for i in news_list:\n                item = Item()\n                item['date'] = i.xpath(\"./div/div/time/@datetime\").extract_first()\n                item['title'] = i.xpath(\"./div/h2/a/text()\").extract_first()\n                item['description'] = i.xpath(\"./div/p//text()\").extract_first()\n                item['url'] = i.xpath(\"./div/h2/a/@href\").extract_first()\n\n                item.update(self.get_common_items(company))\n\n                item['post_id'] = response.meta['post_id']\n\n                if item['title']:\n                    yield scrapy.Request(item['url'], callback=self.parse_tags, meta={'item': item})\n\n            has_next = response.xpath(\"//div[contains(@class, 'river-nav')]//li[contains(@class, 'next')]/a/@href\").extract_first()\n            if has_next:\n                next_url = 'https://example.com' + has_next + '/'\n                yield scrapy.Request(next_url, callback=self.parse_tag,\n                                     meta=response.meta)\n\ndef parse_tags(self, response):\n    item = response.meta['item']\n    item['tags'] = response.xpath(\".//div[@class='accordion recirc-accordion']//ul//li[not(contains(@class, 'active'))]//a/text()\").extract()\n\n    yield item\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5735673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cc627c791cfac24349f0b9e2a014dd?s=128&d=identicon&r=PG&f=1", "display_name": "user5735673", "link": "https://stackoverflow.com/users/5735673/user5735673"}, "is_accepted": false, "score": 0, "last_activity_date": 1589514137, "creation_date": 1589514137, "answer_id": 61811360, "question_id": 45200710, "link": "https://stackoverflow.com/questions/45200710/scrapy-yield-a-request-parse-in-the-callback-but-use-the-info-in-the-original/61811360#61811360", "title": "Scrapy yield a Request, parse in the callback, but use the info in the original function", "body": "<p>you can  use:</p>\n\n<p>response.meta\nresponse.body\n<strong>yield from</strong> a function </p>\n\n<p>to refactor your spider</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7730188"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5713, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1589514137, "creation_date": 1500497232, "question_id": 45200710, "link": "https://stackoverflow.com/questions/45200710/scrapy-yield-a-request-parse-in-the-callback-but-use-the-info-in-the-original", "title": "Scrapy yield a Request, parse in the callback, but use the info in the original function", "body": "<p>So I'm trying to test some webpages in scrapy, my idea is to yield a Request to the URLS that satisfy the condition, count the number of certain items on the page, and then within the original condition return True/False depending...</p>\n\n<p>Here is some code to show what i mean:</p>\n\n<pre><code>def filter_categories:\n    if condition:\n        test = yield Request(url=link, callback = self.test_page, dont_filter=True)\n        return (test, None)\n\ndef test_page(self, link):\n    ... parse the response...\n    return True/False depending\n</code></pre>\n\n<p>I have tried messing around with passing an item in the request, but no matter what the return line get's triggered before test_page is ever called... </p>\n\n<p>So i guess my question becomes is there any way to pass data back to the filter_categories method in a synchronous way so that i can use the result of test_page to return whether or not my test is satisfied?</p>\n\n<p>Any other ideas are also welcome.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1500497315, "creation_date": 1500497315, "answer_id": 45200726, "question_id": 45200677, "link": "https://stackoverflow.com/questions/45200677/how-to-access-partitioned-pandas-dataframe-using-python/45200726#45200726", "title": "How to access partitioned pandas dataframe using python", "body": "<p>If you want to iterate over the dictionary, you can iterate over its keys to access its values:</p>\n\n<pre><code>for k in dfs: # k is the key\n    print(dfs[k]) # data associated with country `k`\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>In [1]: pack_of_cards = {'2': 2,'3': 3,'4': 4,'5': 5,'6': 6, \\\n   ...:                  '7': 7,'8': 7,'9': 9,'10': 10,'J': 10, \\\n   ...:                  'D': 10,'K': 10,'T': 10}\n\nIn [2]: for k in pack_of_cards:\n   ...:     print(k, pack_of_cards[k])\n   ...:     \n3 3\nT 10\nJ 10\n9 9\n...\n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 8202745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-urDEsdWgPaM/AAAAAAAAAAI/AAAAAAAAACc/-uRInQ8AkjA/photo.jpg?sz=128", "display_name": "Arvinth Kumar", "link": "https://stackoverflow.com/users/8202745/arvinth-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 45200726, "answer_count": 1, "score": 0, "last_activity_date": 1500497315, "creation_date": 1500497053, "question_id": 45200677, "link": "https://stackoverflow.com/questions/45200677/how-to-access-partitioned-pandas-dataframe-using-python", "title": "How to access partitioned pandas dataframe using python", "body": "<p>Below is my Python Code. I have a doubt in my code</p>\n\n<p>I have partitioned the input dataframe based on country. But how to access each country data separately in a loop? (dfs[0], dfs1,..is not working)</p>\n\n<pre><code>  dfs = {k: v for k, v in df1.groupby ('country')}\n</code></pre>\n\n<p>Source Code:</p>\n\n<pre><code>import pypyodbc\nimport numpy as np\nimport pandas as pd\nimport scipy.stats\n\nconnection = pypyodbc.connect('Driver={SQL Server};''Server=GIRSQL.GIRCAPITAL.com;''Database=Tableau;''uid=SQL_User;pwd=Greentableau!')\ncursor = connection.cursor()\n\nreal_earnings = []\nreal_price = []\nCAPE = []\n\nSQLCommand = (\"SELECT * FROM [Tableau].[dbo].[Country_table1$]  Order by [Country] , [Date] \")\ndf1 = pd.read_sql_query(SQLCommand, connection)\ntotal_rows = df1.iloc[:,1].count()\n\ndfs = {k: v for k, v in df1.groupby ('country')}\nprint (dfs)\n\nfor j in range(0, 1):\n    df = dfs['SPAIN']\n</code></pre>\n"}, {"tags": ["javascript", "python", "selenium"], "comments": [{"owner": {"reputation": 1866, "user_id": 1183506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2aba83296f9be999e2fab8eab88b4727?s=128&d=identicon&r=PG", "display_name": "mrfreester", "link": "https://stackoverflow.com/users/1183506/mrfreester"}, "edited": false, "score": 0, "creation_date": 1500498239, "post_id": 45200657, "comment_id": 77369135, "body": "What browser are you using in selenium? Could it be an issue with the size of the window? If so you could tell the <code>driver</code> to maximize the window first thing before hitting your site. Things should load in the browser the same way for a driver as they would without selenium, unless there is some plugin or something you don&#39;t have enabled in your <code>driver</code> that the site you&#39;re looking at depends on."}, {"owner": {"reputation": 1021, "user_id": 7138284, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-V4zCjGMMQaU/AAAAAAAAAAI/AAAAAAAAFlw/wboBnClNLjQ/photo.jpg?sz=128", "display_name": "Alex Collette", "link": "https://stackoverflow.com/users/7138284/alex-collette"}, "reply_to_user": {"reputation": 1866, "user_id": 1183506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2aba83296f9be999e2fab8eab88b4727?s=128&d=identicon&r=PG", "display_name": "mrfreester", "link": "https://stackoverflow.com/users/1183506/mrfreester"}, "edited": false, "score": 0, "creation_date": 1500498540, "post_id": 45200657, "comment_id": 77369260, "body": "Im using PhantomJS, I cant use chrome, or safari, and geckodriver for firefox uses permissions i dont have."}, {"owner": {"reputation": 407, "user_id": 1318411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/450a9a6f1598fcbbffa7a797bda26b28?s=128&d=identicon&r=PG", "display_name": "sen4ik", "link": "https://stackoverflow.com/users/1318411/sen4ik"}, "edited": false, "score": 0, "creation_date": 1500499327, "post_id": 45200657, "comment_id": 77369647, "body": "What is the selenium version and phantomjs version?"}, {"owner": {"reputation": 1021, "user_id": 7138284, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-V4zCjGMMQaU/AAAAAAAAAAI/AAAAAAAAFlw/wboBnClNLjQ/photo.jpg?sz=128", "display_name": "Alex Collette", "link": "https://stackoverflow.com/users/7138284/alex-collette"}, "edited": false, "score": 0, "creation_date": 1500499783, "post_id": 45200657, "comment_id": 77369892, "body": "selenium version = 3.4.3 phantomjs verison = 2.1.1"}], "owner": {"reputation": 1021, "user_id": 7138284, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-V4zCjGMMQaU/AAAAAAAAAAI/AAAAAAAAFlw/wboBnClNLjQ/photo.jpg?sz=128", "display_name": "Alex Collette", "link": "https://stackoverflow.com/users/7138284/alex-collette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1500496976, "creation_date": 1500496976, "question_id": 45200657, "link": "https://stackoverflow.com/questions/45200657/selenium-doesnt-display-all-of-webpage", "title": "selenium doesnt display all of webpage", "body": "<p>I am working on a scraper that will search through an employee's page on bluepages (an internal IBM website), and get employee name, department, and download a copy of their resume. unfortunately, when i run open the web-page with selenium, it only loads the top part of the page, and nothing else. I have tried switching into Iframes, as well as waiting for elements to load. when opening the site in Firefox, all parts of the page open up immediately, and don't require a button press.</p>\n\n<p>Any help would be greatly appreciated</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "array-broadcasting"], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1500497221, "post_id": 45200679, "comment_id": 77368630, "body": "1+ for the kick."}, {"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1500497515, "post_id": 45200679, "comment_id": 77368764, "body": "And <code>einsum</code> will be slower for smaller arrays and faster for larger ones?"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1500497642, "post_id": 45200679, "comment_id": 77368828, "body": "@BradSolomon With no axis aligning requirement, I would think that as you increase the number of sum-reductions, i.e. work with large arrays, <code>np.dot</code> would fair better."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 4, "last_activity_date": 1500497239, "last_edit_date": 1500497239, "creation_date": 1500497058, "answer_id": 45200679, "question_id": 45200611, "link": "https://stackoverflow.com/questions/45200611/replace-looping-over-axes-with-broadcasting/45200679#45200679", "title": "Replace looping-over-axes with broadcasting", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.dot.html\" rel=\"nofollow noreferrer\"><code>np.dot</code></a> -</p>\n\n<pre><code>b.dot(a).T\n</code></pre>\n\n<p>Alternatively, using <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.einsum.html\" rel=\"nofollow noreferrer\"><code>np.einsum</code></a> (for the kicks maybe) -</p>\n\n<pre><code>np.einsum('ij,ki-&gt;jk',a,b)\n</code></pre>\n"}], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 45200679, "answer_count": 1, "score": 1, "last_activity_date": 1500497239, "creation_date": 1500496859, "question_id": 45200611, "link": "https://stackoverflow.com/questions/45200611/replace-looping-over-axes-with-broadcasting", "title": "Replace looping-over-axes with broadcasting", "body": "<p>Say I have:</p>\n\n<pre><code>a = np.array([[2, 4],\n              [6, 8]])    \nb = np.array([[1, 3],\n              [1, 5]])\n</code></pre>\n\n<p>I want to get to:</p>\n\n<pre><code>c = np.array([[20,32],\n              [28, 44]])\n</code></pre>\n\n<p>where <code>c</code> is the result of multiplying each column of <code>a</code> by <code>b</code>, then summing that result along the first axis.</p>\n\n<p>I.e.:</p>\n\n<pre><code>print(np.sum(a[:, 0] * b, axis=1))\n[20 32]\n\nprint(np.sum(a[:, 1] * b, axis=1))\n[28 44]\n</code></pre>\n\n<p>Can I do through broadcasting rather than:</p>\n\n<ul>\n<li>using <code>np.apply_along_axis</code> or</li>\n<li>looping through each column?</li>\n</ul>\n"}, {"tags": ["python", "mysql", "dictionary"], "comments": [{"owner": {"reputation": 3212, "user_id": 2233706, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/224116af88436575b20ba30f2fd9d995?s=128&d=identicon&r=PG", "display_name": "user2233706", "link": "https://stackoverflow.com/users/2233706/user2233706"}, "edited": false, "score": 0, "creation_date": 1500499780, "post_id": 45200608, "comment_id": 77369889, "body": "One issue I see is that the input dictionary you have is not valid.  <code>date_obs</code> is not in quotes, and <code>Decimal(&#39;21.00&#39;</code> is not fully parenthesized."}], "answers": [{"tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": true, "score": 0, "last_activity_date": 1500500308, "creation_date": 1500500308, "answer_id": 45201472, "question_id": 45200608, "link": "https://stackoverflow.com/questions/45200608/prevent-overwrite-of-nested-dictionary-values-while-creating-dictionary-in-a-for/45201472#45201472", "title": "Prevent Overwrite of Nested Dictionary Values while Creating Dictionary in a For Loop", "body": "<p>You create a <code>d</code> dictionary with:</p>\n\n<pre><code>d = {}\n</code></pre>\n\n<p>Then, in each loop, you create a new entry in your main <code>D</code> dictionary with:</p>\n\n<pre><code>D[station] = d\n</code></pre>\n\n<p>But each time, <code>d</code> refers to the very same dictionary. You have updated its values in each loop with <code>d[i] = ....</code>, but it still remains the same object. </p>\n\n<p>So, when you print <code>D</code>, <code>D['KBFI']</code> and <code>D['KKLS']</code> refer to the same dictionary object, whose values are the ones you gave it in the last loop. </p>\n\n<p>In Python parlance, we say that the <code>dict</code> objects are mutable: you can change what they contain without creating a new object.</p>\n\n<p>In order to obtain the behaviour you want, you could create a new <code>d</code> in each loop:</p>\n\n<pre><code>while row is not None:\n    station = row[u'STATION']\n    # ....\n    d = {}  # Here, we create a new dict\n    for i in ('date_obs', 'temperature', 'altimeter', 'dewpoint', 'windspeed', 'winddirection'):\n        d[i] = locals()[i]\n    D[station] = d # D[station] now refers to our new dict\n</code></pre>\n\n<p>But this hack with <code>locals()</code> is really ugly... You'd rather use:</p>\n\n<pre><code>D={}\n\nrow = curs.fetchone\nwhile row is not None:\n    station = row[u'STATION']\n    D[station] = {'date_obs': row[u'DATE_OBSERVATION'],\n                  'temperature': row[u'TMPC'],\n                  'altimeter': row[u'ALTM'],\n                  'dewpoint': row[u'DWPC'],\n                  'windspeed': row[u'SPED'],\n                  'winddirection': row[u'DRCT']\n                 }\n    row = curs.fetchone()\nprint D\n</code></pre>\n\n<p>Or you could keep a table of correspondance between your key names and the field names, and rewrite your code as:</p>\n\n<pre><code>fields = {'date_obs': u'DATE_OBSERVATION', 'temperature': u'TMPC'} # and so on...\n\nD={}\nrow = curs.fetchone\nwhile row is not None:\n    station = row[u'STATION']\n    D[station] = { key: row[field] for key, field in fields.items() }\n    row = curs.fetchone()\nprint D\n</code></pre>\n\n<p>using a dictionary comprehension.</p>\n"}], "owner": {"reputation": 13, "user_id": 8328180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9832ba1657b7fe77e6b5bb5b3356cb0d?s=128&d=identicon&r=PG&f=1", "display_name": "charliep127", "link": "https://stackoverflow.com/users/8328180/charliep127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 989, "favorite_count": 0, "accepted_answer_id": 45201472, "answer_count": 1, "score": 0, "last_activity_date": 1500500399, "creation_date": 1500496845, "last_edit_date": 1500500399, "question_id": 45200608, "link": "https://stackoverflow.com/questions/45200608/prevent-overwrite-of-nested-dictionary-values-while-creating-dictionary-in-a-for", "title": "Prevent Overwrite of Nested Dictionary Values while Creating Dictionary in a For Loop", "body": "<p>I am very new to Python and am trying to write a script that loops through an existing dictionary and reorganizes the data so it is in a nested dictionary. The existing dictionary is created from some code I found online that turns a row from an SQL query into a dictionary. I know this is a bit redundant, I just don't know how to edit this code to make it display what I want.</p>\n\n<p>Here's the script: <a href=\"https://geert.vanderkelen.org/2010/fetching-rows-as-dictionaries-with-mysql-connectorpython/\" rel=\"nofollow noreferrer\">https://geert.vanderkelen.org/2010/fetching-rows-as-dictionaries-with-mysql-connectorpython/</a></p>\n\n<p>Anyway, when I do this, the nested dictionary automatically overwrites previous nested dictionaries even though the dictionary key for the nested dictionary is changing. I've searched and found some other StackOverflow questions with the same problem but have not been able to find a solution for my code.</p>\n\n<p>Here's my relevant code:</p>\n\n<pre><code>    row=curs.fetchone\n    d={}\n    D={}\n    while row is not None:\n        station=row[u'STATION']\n        date_obs=row[u'DATE_OBSERVATION']\n        temperature=row[u'TMPC']\n        altimeter=row[u'ALTM']\n        dewpoint=row[u'DWPC']\n        windspeed=row[u'SPED']\n        winddirection=row[u'DRCT']\n        for i in ('date_obs', 'temperature', 'altimeter', 'dewpoint', 'windspeed', 'winddirection'):\n            d[i]=locals()[i]\n        D[station]=d\n        row = curs.fetchone()\nprint D\n</code></pre>\n\n<p>I will get something like this (although with many more dictionary entries): </p>\n\n<blockquote>\n  <p>{u'KBFI': {date_obs': datetime.datetime(2017, 7, 19, 16, 56),\n  'temperature': Decimal('21.00' 'dewpoint: 'Decimal('4.00'),\n  'altimeter': Decimal('30.10'), 'windspeed': Decimal('3.00'),\n  'winddirection': Decimal('310.00')}, u'KKLS': {date_obs':\n  datetime.datetime(2017, 7, 19, 16, 56), 'temperature': Decimal('21.00'\n  'dewpoint: 'Decimal('4.00'), 'altimeter': Decimal('30.10'),\n  'windspeed': Decimal('3.00'), 'winddirection': Decimal('310.00')}}</p>\n</blockquote>\n\n<p>And want something like:</p>\n\n<blockquote>\n  <p>{u'KBFI': {date_obs': datetime.datetime(2017, 7, 19, 16, 53),\n  'temperature': Decimal('19.00' 'dewpoint: 'Decimal('5.00'),\n  'altimeter': Decimal('30.06'), 'windspeed': Decimal('4.00'),\n  'winddirection': Decimal('270.00')}, u'KKLS': {date_obs':\n  datetime.datetime(2017, 7, 19, 16, 56), 'temperature': Decimal('21.00'\n  'dewpoint: 'Decimal('4.00'), 'altimeter': Decimal('30.10'),\n  'windspeed': Decimal('3.00'), 'winddirection': Decimal('310.00')}}</p>\n</blockquote>\n"}, {"tags": ["python", "python-2.7", "psychopy"], "comments": [{"owner": {"reputation": 2271, "user_id": 3592211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4503144df77da1c12c3c3f922629c5ca?s=128&d=identicon&r=PG", "display_name": "Michael MacAskill", "link": "https://stackoverflow.com/users/3592211/michael-macaskill"}, "edited": false, "score": 0, "creation_date": 1500498082, "post_id": 45200604, "comment_id": 77369053, "body": "With this level of detail, this isn&#39;t going to be an answerable question here. Suggest you take this to the forum at <a href=\"https://discourse.psychopy.org\" rel=\"nofollow noreferrer\">discourse.psychopy.org</a> where there can be a bit more to and fro discussion. But you would certainly need to provide much more information about what you are doing, with relevant code snippets."}, {"owner": {"reputation": 1, "user_id": 8334119, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212068782487616/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/8334119/david"}, "reply_to_user": {"reputation": 2271, "user_id": 3592211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4503144df77da1c12c3c3f922629c5ca?s=128&d=identicon&r=PG", "display_name": "Michael MacAskill", "link": "https://stackoverflow.com/users/3592211/michael-macaskill"}, "edited": false, "score": 0, "creation_date": 1500663892, "post_id": 45200604, "comment_id": 77456046, "body": "@MichaelMacAskill Thanks! Here is a link to my post on the psychopy forum. I do have my own code but the shapes contains demo has the same issues as noted above.  <a href=\"https://discourse.psychopy.org/t/mouse-not-working-in-psychopy-window/2747\" rel=\"nofollow noreferrer\">link</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8334119, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212068782487616/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/8334119/david"}, "edited": false, "score": 0, "creation_date": 1500664137, "post_id": 45201798, "comment_id": 77456190, "body": "thanks! I&#39;ve tried changing the priority level for psychoPy but wasn&#39;t sure if that was an issue or not so I didn&#39;t pursue it much. I&#39;ll get our IT guy to use his administrative privilege to explore this possible issue."}, {"owner": {"reputation": 1843, "user_id": 6689050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fca72591557480c5d59e90f947a7b9d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/6689050/james"}, "reply_to_user": {"reputation": 1, "user_id": 8334119, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212068782487616/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/8334119/david"}, "edited": false, "score": 0, "creation_date": 1500678919, "post_id": 45201798, "comment_id": 77461989, "body": "Ok. Good luck! If I was helpful would you mind marking it as helpful so other people can see my answer?"}], "tags": [], "owner": {"reputation": 1843, "user_id": 6689050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fca72591557480c5d59e90f947a7b9d?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/6689050/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1500501772, "creation_date": 1500501772, "answer_id": 45201798, "question_id": 45200604, "link": "https://stackoverflow.com/questions/45200604/mouse-and-keyboard-presses-are-missed-or-slow-in-python-window/45201798#45201798", "title": "mouse and keyboard presses are missed or slow in python window", "body": "<p>Windows 10 enterprise can sometimes limit cpu bandwidth to certain programs at times.</p>\n"}], "owner": {"reputation": 1, "user_id": 8334119, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212068782487616/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/8334119/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500501772, "creation_date": 1500496826, "question_id": 45200604, "link": "https://stackoverflow.com/questions/45200604/mouse-and-keyboard-presses-are-missed-or-slow-in-python-window", "title": "mouse and keyboard presses are missed or slow in python window", "body": "<p>I'm afraid this issue might be too idiosyncratic but maybe someone can point me in the right direction via questions or hypotheses. </p>\n\n<p>I'm using psychoPy 1.84.2 which uses python 2.7. The computers I am hoping to use for my study are dells running windows 10 enterprise. </p>\n\n<p>The issue is that ~80% of the time mouse clicks are completely missed and keyboard presses take 3-4 seconds to have an effect in my program. 20% of the time, there is no issue. While this is happening, I can still see the mouse cursor moving and I can open up programs and folders on the desktop and click around the psychoPy GUI without any lag. Additionally, videos played in the python window run fine.</p>\n\n<p>These same files run perfectly well on two different macs but fail on the 10 dell desktops I was hoping to use for my study. Lastly, I did try using psychoPy 1.85.1 but had the same issues (plus a couple more). </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 3972, "user_id": 1142368, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/818d73588151e0f0adcc4f2d1c6a268b?s=128&d=identicon&r=PG", "display_name": "Jacobm001", "link": "https://stackoverflow.com/users/1142368/jacobm001"}, "edited": false, "score": 1, "creation_date": 1500496879, "post_id": 45200581, "comment_id": 77368433, "body": "Why did you revert the formatting change?"}], "answers": [{"tags": [], "owner": {"reputation": 851, "user_id": 2280345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5500a2054af2a5a15be90008758c64?s=128&d=identicon&r=PG", "display_name": "LeopoldVonBuschLight", "link": "https://stackoverflow.com/users/2280345/leopoldvonbuschlight"}, "is_accepted": true, "score": 3, "last_activity_date": 1500497199, "last_edit_date": 1500497199, "creation_date": 1500496881, "answer_id": 45200618, "question_id": 45200581, "link": "https://stackoverflow.com/questions/45200581/else-function-in-python-failure/45200618#45200618", "title": "else function in python failure", "body": "<p>Yikes your formatting is all messed up! Give this a try:  </p>\n\n<pre><code>a = input('password:')\n\nif a == 'KARM':\n    print('access granted.')\n    print('welcome to python')\n\nelse:\n    print('nope. go away.')\n</code></pre>\n\n<p>In python if and else statements end with a colon \":\" and indentation matters. Also you were trying to use <code>a</code> before defining it. </p>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 7516745, "user_type": "registered", "profile_image": "https://graph.facebook.com/1093857260723608/picture?type=large", "display_name": "Gautham Velchuru", "link": "https://stackoverflow.com/users/7516745/gautham-velchuru"}, "is_accepted": false, "score": 0, "last_activity_date": 1500496960, "creation_date": 1500496960, "answer_id": 45200649, "question_id": 45200581, "link": "https://stackoverflow.com/questions/45200581/else-function-in-python-failure/45200649#45200649", "title": "else function in python failure", "body": "<p>Try using colons:</p>\n\n<pre><code>input ('password:')\nif a == 'KARM':\n    (print ('access granted.')\n    (print ('welcome to python'))\nelse:\n    print ('nope. go away.')\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8334209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b413c7caad6b89bad3ebd6065d8425?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/8334209/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 45200618, "answer_count": 2, "score": -1, "last_activity_date": 1500540143, "creation_date": 1500496721, "last_edit_date": 1500540143, "question_id": 45200581, "link": "https://stackoverflow.com/questions/45200581/else-function-in-python-failure", "title": "else function in python failure", "body": "<p>I am a noob to python, and I have been having trouble with the if/else function. for some reason the \"else\" part is always highlighted as a syntax error, every single time I change it! this is my code:</p>\n\n<pre><code>    input ('password:')\n    if a == 'KARM' (print ('access granted.')\n        (print ('welcome to python'))\n    else\n        print ('nope. go away.')\n</code></pre>\n\n<p>how can I fix this?</p>\n"}, {"tags": ["python", "python-2.7", "loops"], "comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 1, "creation_date": 1500496826, "post_id": 45200569, "comment_id": 77368395, "body": "show us <code>plaintext</code> if you want help with this"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 7, "creation_date": 1500496833, "post_id": 45200569, "comment_id": 77368399, "body": "<code>range()</code> does not include the <code>stop</code> value, so <code>range(len(plaintext))</code> is sufficient. Note: <code>for pos, char in enumerate(plaintext):</code> is probably better."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1500496835, "post_id": 45200569, "comment_id": 77368401, "body": "<code>range(len(plaintext))</code>"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1500496860, "post_id": 45200569, "comment_id": 77368419, "body": "The end of the range is exclusive: the last index you specify is the first index <i>not</i> included in the range. So you should not subtract 1 from the length of the string. As for the error you get, it&#39;s not caused by the code you posted so I won&#39;t guess at the cause."}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1500496954, "post_id": 45200569, "comment_id": 77368477, "body": "<a href=\"https://stackoverflow.com/questions/538346/iterating-over-a-string#answer-4547728\" title=\"iterating over a string%23answer 4547728\">stackoverflow.com/questions/538346/&hellip;</a> There are other answers in this particular post but this one is probably best."}, {"owner": {"reputation": 378, "user_id": 5116094, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/53da9d7fe74da4cf9bbd9cf8f2c8df89?s=128&d=identicon&r=PG&f=1", "display_name": "jmcampbell", "link": "https://stackoverflow.com/users/5116094/jmcampbell"}, "edited": false, "score": 0, "creation_date": 1500497045, "post_id": 45200569, "comment_id": 77368532, "body": "The code you submitted seems to have no problems other than the -1; I think you do need to supply the relevant parts of the rest of the code."}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1500497628, "post_id": 45200569, "comment_id": 77368819, "body": "I would imagine <code>abc[abc.index(c)+1]</code> is throwing the <code>IndexError</code>, please include the error. You probably need a modulus operator somewhere."}, {"owner": {"reputation": 378, "user_id": 5116094, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/53da9d7fe74da4cf9bbd9cf8f2c8df89?s=128&d=identicon&r=PG&f=1", "display_name": "jmcampbell", "link": "https://stackoverflow.com/users/5116094/jmcampbell"}, "edited": false, "score": 0, "creation_date": 1500498007, "post_id": 45200569, "comment_id": 77369014, "body": "In addition to the traceback, could you also show the code where you define <code>abc</code>, <code>plaintext</code>, <code>crypt</code>, and <code>key</code>?"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1500498178, "post_id": 45200569, "comment_id": 77369100, "body": "Not sure why the slice would create an &quot;out of range&quot; error: <code>&#39;abc&#39;[100:]  == &#39;&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11762, "user_id": 6530695, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/53a7a617c8e419f2562f0b00e6be10b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6530695/tony"}, "edited": false, "score": 1, "creation_date": 1500497264, "post_id": 45200647, "comment_id": 77368653, "body": "I don&#39;t know if worth an answer, would have been better as comment."}], "tags": [], "owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "is_accepted": false, "score": 0, "last_activity_date": 1500497171, "last_edit_date": 1500497171, "creation_date": 1500496957, "answer_id": 45200647, "question_id": 45200569, "link": "https://stackoverflow.com/questions/45200569/for-loop-not-looping-enough-python/45200647#45200647", "title": "for Loop not looping enough - Python", "body": "<p><code>range(lower, upper)</code> returns a list that contains values starting at <code>lower</code> and ending at <code>upper-1</code>. If <code>len(plaintext) == 3</code>, then your list correctly contains the elements <code>0</code> and <code>1</code>.</p>\n\n<p>As for your error, you haven't included the relevant code.</p>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 4668640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swuog.jpg?s=128&g=1", "display_name": "teknoboy", "link": "https://stackoverflow.com/users/4668640/teknoboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1500498834, "last_edit_date": 1500498834, "creation_date": 1500497173, "answer_id": 45200697, "question_id": 45200569, "link": "https://stackoverflow.com/questions/45200569/for-loop-not-looping-enough-python/45200697#45200697", "title": "for Loop not looping enough - Python", "body": "<p><code>range(3)</code> gives you the sequence <code>[0, 1, 2]</code>, so in your example you would want to have <code>range(len(plaintext))</code> (the lower bound defaults to zero anyway).</p>\n\n<p>However, the pythonic way to go over every char in a string (assuming that's your actual goal) would be <code>for c in plaintext</code>. To also have an enumerator (get both the character and the index) use:</p>\n\n<pre><code>for i, c in enumerate(plaintext):\n    print('pos is %s\" % (i))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8368, "user_id": 4669778, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-Iz_f3T23jC4/AAAAAAAAAAI/AAAAAAAADVQ/_H_y2EUoF7c/photo.jpg?sz=128", "display_name": "Ofer Sadan", "link": "https://stackoverflow.com/users/4669778/ofer-sadan"}, "is_accepted": false, "score": 0, "last_activity_date": 1500497266, "creation_date": 1500497266, "answer_id": 45200716, "question_id": 45200569, "link": "https://stackoverflow.com/questions/45200569/for-loop-not-looping-enough-python/45200716#45200716", "title": "for Loop not looping enough - Python", "body": "<p>If the length of <code>plaintext</code> is 3, then when you do <code>len(plaintext)-1</code> that equals to 2. Setting a range as <code>range(0,2)</code> will always result in 0 and 1 only. You can test that using this line:</p>\n\n<pre><code>print(list(range(0, len(plaintext)-1)))\n</code></pre>\n\n<p>Which will output only <code>[0,1]</code></p>\n\n<p>In other words, the second argument to <code>range</code> is the top limit but <strong>is not itself included</strong></p>\n\n<p>Now, for your 2nd part - it would seem that when you do reach 2, somewhere in the rest of your code there's something being accessed that has only 2 items in it, so giving it an index of 2 is searching for the 3rd item (because we start indexing at 0) and then you get the error you describe (index out of range). I can't know exactly why that is without seeing your code.</p>\n"}, {"tags": [], "owner": {"reputation": 378, "user_id": 5116094, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/53da9d7fe74da4cf9bbd9cf8f2c8df89?s=128&d=identicon&r=PG&f=1", "display_name": "jmcampbell", "link": "https://stackoverflow.com/users/5116094/jmcampbell"}, "is_accepted": false, "score": 0, "last_activity_date": 1500499016, "creation_date": 1500499016, "answer_id": 45201166, "question_id": 45200569, "link": "https://stackoverflow.com/questions/45200569/for-loop-not-looping-enough-python/45201166#45201166", "title": "for Loop not looping enough - Python", "body": "<p>As others have said, the end of the range is exclusive, meaning that the correct for loop is:</p>\n\n<pre><code>for pos in range(len(plaintext)):\n</code></pre>\n\n<p>In the second part of your code, assuming that <code>plaintext</code> and <code>crypt</code> are the same length, <code>crypt[pos+1:]</code> returns an error on the last loop. For example, if the length of <code>plaintext</code> is 3, <code>pos</code> is 2 on the last loop, and <code>crypt[3]</code> indexes past the end of the string. To solve this, you could use a ternary operator:</p>\n\n<pre><code>end = crypt[pos+1:] if pos &lt; len(crypt) else \"\"\ncrypt = \"%s%s%s\" % (crypt[:pos], abc[abc.index(plaintext[pos])+1], end)\n</code></pre>\n\n<p>This makes it so that <code>crypt[pos+1:]</code> is only executed if <code>pos &lt; len(crypt)</code>.</p>\n"}], "owner": {"reputation": 431, "user_id": 5265231, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/2akyX.jpg?s=128&g=1", "display_name": "oisinvg", "link": "https://stackoverflow.com/users/5265231/oisinvg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1500504063, "creation_date": 1500496691, "last_edit_date": 1500504063, "question_id": 45200569, "link": "https://stackoverflow.com/questions/45200569/for-loop-not-looping-enough-python", "title": "for Loop not looping enough - Python", "body": "<p>I'm making an encryption tool in Python, and part of the process is to reassign each position with the encrypted position. The code is meant to run encryption on each character this is achieved through this code:</p>\n\n<pre><code>for pos in range (0, len(plaintext)-1):\n    print(\"pos is %s\" % (pos))\n</code></pre>\n\n<p>The following code should be irrelevant but can be supplied. \nWhen this code is run, the output is, </p>\n\n<pre><code>pos is 0\npos is 1\n</code></pre>\n\n<p>The loop never reaches 2, despite the length of 'plaintext' being 3. If I were to remove the '-1' part (included as length and final position are not the same), I am met with an error, that the following code is out of range (the following code in my eyes doesn't need to be changed, however can be supplied).</p>\n\n<p>Can anyone understand or explain my issue?</p>\n\n<p>Python 2.7.11\nWindows 8.1</p>\n\n<p>EDIT:</p>\n\n<p>The code following the loop start is as follows,</p>\n\n<pre><code>for pos in range (0, len(plaintext)-1):\n    print(\"pos is %s\" % (pos))\n    for k in range (0, key):\n        if(plaintext[pos] == \"z\"):\n            crypt = \"%s%s%s\" % (crypt[:pos], \"a\", crypt[pos+1:])\n        else:\n            crypt = \"%s%s%s\" % (crypt[:pos], abc[abc.index(plaintext[pos])+1], crypt[pos+1:])\n</code></pre>\n\n<p>The error was raised due to the slicing being \n    crypt[pos+1:]</p>\n\n<p>because you cannot assign to a position in 2.7.11, so my workaround was to concatenate either 'side' of my position, around the newly encrypted key.</p>\n"}, {"tags": ["python", "performance", "python-3.x", "function", "for-loop"], "comments": [{"owner": {"reputation": 22688, "user_id": 3760920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aCfir.jpg?s=128&g=1", "display_name": "jeremycg", "link": "https://stackoverflow.com/users/3760920/jeremycg"}, "edited": false, "score": 0, "creation_date": 1500496972, "post_id": 45200540, "comment_id": 77368490, "body": "do your function inline?"}, {"owner": {"reputation": 3855, "user_id": 6522112, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JqjxG.png?s=128&g=1", "display_name": "tupui", "link": "https://stackoverflow.com/users/6522112/tupui"}, "edited": false, "score": 0, "creation_date": 1500498682, "post_id": 45200540, "comment_id": 77369330, "body": "The PyPy for windows can be found here: <a href=\"https://bitbucket.org/pypy/pypy/downloads/\" rel=\"nofollow noreferrer\">bitbucket.org/pypy/pypy/downloads</a>"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 1, "creation_date": 1500498933, "post_id": 45200540, "comment_id": 77369456, "body": "<i>When your Python has performance trouble / your loops and calls run too slowly / remember the old wisdom: / <b>write in C</b>!</i>"}, {"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "edited": false, "score": 0, "creation_date": 1500500006, "post_id": 45200540, "comment_id": 77370006, "body": "The loops aren&#39;t what&#39;s killing you. The function call is. An easy way to tell that is comment out the function call and then time it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5718787"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1500563518, "post_id": 45200540, "comment_id": 77403712, "body": "@zwer Using C isn&#39;t solution because I have issue with compiler (I think that more exactly with linker). This issue is preventing me from using Cython."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1500563700, "post_id": 45200540, "comment_id": 77403852, "body": "@Alven - trust me, fixing your C environment is a far, <b>far</b> easier task than forcing Python to do something it was never designed for."}], "answers": [{"tags": [], "owner": {"reputation": 3855, "user_id": 6522112, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JqjxG.png?s=128&g=1", "display_name": "tupui", "link": "https://stackoverflow.com/users/6522112/tupui"}, "is_accepted": false, "score": 2, "last_activity_date": 1500498508, "last_edit_date": 1500498508, "creation_date": 1500498178, "answer_id": 45200943, "question_id": 45200540, "link": "https://stackoverflow.com/questions/45200540/how-to-speed-up-nested-for-loops-with-function-call-in-python-3/45200943#45200943", "title": "How to speed up nested for loops with function call in python 3?", "body": "<p>It would depend on what you are actually doing into <code>another_function()</code>. If you can use some <em>numpy</em> <a href=\"https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"nofollow noreferrer\">broadcasting</a>, you can achieve some C speed. Indeed, even with the latest improvements in python 3.6, <code>for</code> loops are still to avoid for performance reasons.</p>\n\n<p>See this <a href=\"https://stackoverflow.com/a/44422762/6522112\">answer</a> for example. There is a 900X performance boost over a loop when <em>numpy</em> is properly used.</p>\n\n<p>Also, you did not mentioned it but you can go with <a href=\"https://numba.pydata.org\" rel=\"nofollow noreferrer\">numba</a> and its <em>just in time</em> compiler. This is particularly well suited in case of pure python loops.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5718787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1384, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500498508, "creation_date": 1500496578, "question_id": 45200540, "link": "https://stackoverflow.com/questions/45200540/how-to-speed-up-nested-for-loops-with-function-call-in-python-3", "title": "How to speed up nested for loops with function call in python 3?", "body": "<p>I have been trying to make 3D drawing library for python 3, using Pygame. I want to use Z-Buffer so I need to call function for each pixel that should be drawn. Problem is that drawing 100x100 pixel rectangle takes more than 1 millisecond. \nDrawing function for rectangle is nested loop with function call and it can be simplified to this code to show the biggest bottleneck:</p>\n\n<pre><code>def another_function():\n    pass\n\ndef test_function():\n    for j in range(100):\n        for k in range(100):\n            another_function()\n</code></pre>\n\n<p>Function another_function() which does nothing is called 10000 times total. When I measured execution time, timeit has shown that test_function() takes 1.09 millisecond. This is too long because it is necessary to draw multiple rectangles and to achieve 60 frames per second, one frame must take less than 17 milliseconds.</p>\n\n<p>I tried searching for solutions but I have been unable to find any way to increase speed of nested for loops with function calls besides using PyPy and Cython.</p>\n\n<p>Additional information: I am using Python 3.5.2 with Windows 10 64-bit as OS. I didn't find any installer for PyPy for Windows and Cython has problem when compiling modules converted to .c so I can't use it.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 4, "creation_date": 1500496414, "post_id": 45200453, "comment_id": 77368175, "body": "In any regex, literal backslashes have to be escaped. As a regex it would be <code>r&#39;C:\\\\temp\\\\3_times\\.csv&#39;</code> What you should do is to escape metachars of your regex literals. You can do a sub using <code>r&#39;([.^#|*+?()\\[\\]{}\\\\-])&#39;</code> replace with <code>\\\\$1</code>"}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1500496492, "post_id": 45200453, "comment_id": 77368218, "body": "@sln doesn&#39;t <code>r</code> make it a raw string, and make it unnecessary to escape your slashes? or is that not the case?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1500496748, "post_id": 45200453, "comment_id": 77368346, "body": "@jacoblaw - it&#39;s what you&#39;re passing to the regex engine. All literal metacharacters have to be escaped."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1500496856, "post_id": 45200453, "comment_id": 77368416, "body": "Sorry, that should be sub using <code>r&#39;([.^$|*+?()\\[\\]{}\\\\-])&#39;</code> replace with <code>\\\\$1</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1500498304, "post_id": 45200453, "comment_id": 77369159, "body": "Looks like re.escape() uses <code>\\W</code> which is unfortunate."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1500498224, "post_id": 45200511, "comment_id": 77369130, "body": "<code>Return string with all non-alphanumerics backslashed</code> I wouldn&#39;t use this. It&#39;s equivalent to <code>\\W</code>, escapes all metachars, but also escapes control, whitespace, and probably a large swath of Unicode."}, {"owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "edited": false, "score": 0, "creation_date": 1500560344, "post_id": 45200511, "comment_id": 77401122, "body": "This returns: &#39;C\\\\:\\\\\\temp\\\\\\x03_times\\\\.csv&#39;...which serves the purpose of escaping the meta characters, however since it modifies the string it defeats the purpose of using it with the sub method to write the data."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1500496482, "creation_date": 1500496482, "answer_id": 45200511, "question_id": 45200453, "link": "https://stackoverflow.com/questions/45200453/python-re-sub-giving-error-invalid-group-reference/45200511#45200511", "title": "Python re.sub giving error: invalid group reference", "body": "<p>You could simply use <code>re.escape()</code>:</p>\n\n<pre><code>import re\nnew_data = re.escape('C:\\temp\\3_times.csv')\n</code></pre>\n\n<p>... which escapes special characters, see <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/re.html</a> for more information.</p>\n"}], "owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1425, "favorite_count": 0, "closed_date": 1500496591, "answer_count": 1, "score": 0, "last_activity_date": 1500560441, "creation_date": 1500496238, "last_edit_date": 1500560441, "question_id": 45200453, "link": "https://stackoverflow.com/questions/45200453/python-re-sub-giving-error-invalid-group-reference", "closed_reason": "Duplicate", "title": "Python re.sub giving error: invalid group reference", "body": "<p>I know this was covered elsewhere but my use case is causing me difficulty.</p>\n\n<p>What if a string has a dreaded \"\\3\" character like this one:</p>\n\n<pre><code>new_data = r'C:\\temp\\3_times.csv'\n</code></pre>\n\n<p>...then re \"thinks\" that you're referring to it as a group so if you try to do a sub using that data then you get this error:</p>\n\n<pre><code>newfiledata = re.sub(old_data,new_data,filedata)\n\nerror: invalid group reference\n</code></pre>\n\n<p>Is there any way to avoid this error without looking for that case in the string and modifying it directly before passing it which would take lots of extra code.</p>\n\n<p>Note: For the usage I'm going for modifying the string with escape characters isn't an option because I need to write the string with the sub function later on. So this is not a duplicate of the question on how to escape special characters.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1732, "user_id": 8040117, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/EF9TR.jpg?s=128&g=1", "display_name": "Vladyslav", "link": "https://stackoverflow.com/users/8040117/vladyslav"}, "edited": false, "score": 0, "creation_date": 1500496401, "post_id": 45200443, "comment_id": 77368165, "body": "Why you need this? Card is class not a dict, you can == it only if you overide == method in <code>Card</code> class. This is you want or what?"}, {"owner": {"reputation": 45, "user_id": 8291387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cae27bfc32e3ace69e9d680c2610692?s=128&d=identicon&r=PG&f=1", "display_name": "oToMaTiX", "link": "https://stackoverflow.com/users/8291387/otomatix"}, "reply_to_user": {"reputation": 1732, "user_id": 8040117, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/EF9TR.jpg?s=128&g=1", "display_name": "Vladyslav", "link": "https://stackoverflow.com/users/8040117/vladyslav"}, "edited": false, "score": 0, "creation_date": 1500496477, "post_id": 45200443, "comment_id": 77368210, "body": "@VladyslavUshakov this is my problem, i can&#39;t write right method for getting randome set"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1500496673, "post_id": 45200443, "comment_id": 77368311, "body": "@oToMaTiX it is best to show what code you&#39;ve tried and what your expected result is."}, {"owner": {"reputation": 45, "user_id": 8291387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cae27bfc32e3ace69e9d680c2610692?s=128&d=identicon&r=PG&f=1", "display_name": "oToMaTiX", "link": "https://stackoverflow.com/users/8291387/otomatix"}, "edited": false, "score": 0, "creation_date": 1500502645, "post_id": 45200443, "comment_id": 77371025, "body": "@COLDSPEED, thank you."}], "answers": [{"tags": [], "owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "is_accepted": false, "score": 0, "last_activity_date": 1500496570, "creation_date": 1500496570, "answer_id": 45200538, "question_id": 45200443, "link": "https://stackoverflow.com/questions/45200443/how-to-retrieve-a-random-k-v-pair-in-a-dictionary/45200538#45200538", "title": "How to retrieve a random k-v pair in a dictionary?", "body": "<p>You can use <code>random.sample()</code> to return the number of cards you need, e.g.:</p>\n\n<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; dict(random.sample(pack_of_cards.items(), k=5))\n{'10': 10, '5': 5, '9': 9, 'J': 10, 'K': 10}\n</code></pre>\n\n<p><em>(not a bad hand for cribbage)</em></p>\n"}, {"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 0, "last_activity_date": 1500496778, "creation_date": 1500496778, "answer_id": 45200592, "question_id": 45200443, "link": "https://stackoverflow.com/questions/45200443/how-to-retrieve-a-random-k-v-pair-in-a-dictionary/45200592#45200592", "title": "How to retrieve a random k-v pair in a dictionary?", "body": "<p>You can do this using a method in the <code>random</code> module, but it wouldn't make sense unless your <code>Card</code> class implements an <code>__eq__</code> method. Example:</p>\n\n<pre><code>In [450]: class Card:\n     ...:     def __init__(self, suite, num):\n     ...:         self.suite = suite\n     ...:         self.num = num\n     ...:\n     ...:     def __eq__(self, item):\n     ...:         k, v = list(item.items())[0]\n     ...:         return True if (self.suite == k and self.num == v) else False\n     ...:     \n\nIn [452]: c = Card('T', 10)\n\nIn [454]: c == {'T' : 10}\nOut[454]: True \n</code></pre>\n\n<p>Now that you have a working class, you can use <code>random.choice</code> to extract a card:</p>\n\n<pre><code>In [470]: x = random.choice(list(pack_of_cards.items()))\n\nIn [471]: dict([x])\nOut[471]: {'D': 10}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8291387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cae27bfc32e3ace69e9d680c2610692?s=128&d=identicon&r=PG&f=1", "display_name": "oToMaTiX", "link": "https://stackoverflow.com/users/8291387/otomatix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 45200592, "answer_count": 2, "score": 0, "last_activity_date": 1500496971, "creation_date": 1500496216, "last_edit_date": 1500496971, "question_id": 45200443, "link": "https://stackoverflow.com/questions/45200443/how-to-retrieve-a-random-k-v-pair-in-a-dictionary", "title": "How to retrieve a random k-v pair in a dictionary?", "body": "<p>the idea is within class Card\nI have dict</p>\n\n<pre><code>pack_of_cards = {'2': 2,'3': 3,'4': 4,'5': 5,'6': 6, \\\n                 '7': 7,'8': 7,'9': 9,'10': 10,'J': 10, \\\n                 'D': 10,'K': 10,'T': 10}\n</code></pre>\n\n<p>I need this class to return a random set of key and value as a dict.</p>\n\n<p>For example:</p>\n\n<pre><code>Card() == {'T': 10}\n</code></pre>\n\n<p>Thanks to everyone.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1500496813, "post_id": 45200435, "comment_id": 77368390, "body": "Related: <a href=\"https://stackoverflow.com/q/2169478/190597\">How to make a checkerboard in numpy?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8368, "user_id": 4669778, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-Iz_f3T23jC4/AAAAAAAAAAI/AAAAAAAADVQ/_H_y2EUoF7c/photo.jpg?sz=128", "display_name": "Ofer Sadan", "link": "https://stackoverflow.com/users/4669778/ofer-sadan"}, "edited": false, "score": 0, "creation_date": 1500525817, "post_id": 45200479, "comment_id": 77377074, "body": "Nice solutions, i&#39;ll have to study a bit more about the broadcasted solutions to actually understand them"}, {"owner": {"reputation": 8368, "user_id": 4669778, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-Iz_f3T23jC4/AAAAAAAAAAI/AAAAAAAADVQ/_H_y2EUoF7c/photo.jpg?sz=128", "display_name": "Ofer Sadan", "link": "https://stackoverflow.com/users/4669778/ofer-sadan"}, "edited": false, "score": 0, "creation_date": 1500525992, "post_id": 45200479, "comment_id": 77377141, "body": "Also i&#39;ve found a different alternative, so i&#39;ll be posting another answer, but I still marked yours as it is more useful to me"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 4, "last_activity_date": 1500498275, "last_edit_date": 1500498275, "creation_date": 1500496332, "answer_id": 45200479, "question_id": 45200435, "link": "https://stackoverflow.com/questions/45200435/alternating-values-in-numpy/45200479#45200479", "title": "alternating values in numpy", "body": "<p>Here's one approach using <a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#basic-slicing-and-indexing\" rel=\"nofollow noreferrer\"><code>slicing</code></a> with proper starts and stepsize of <code>2</code> in two steps -</p>\n\n<pre><code>board = np.zeros((8,8), np.int32)\nboard[::2,::2] = 1\nboard[1::2,1::2] = 1\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [229]: board = np.zeros((8,8), np.int32)\n     ...: board[::2,::2] = 1\n     ...: board[1::2,1::2] = 1\n     ...: \n\nIn [230]: board\nOut[230]: \narray([[1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1]], dtype=int32)\n</code></pre>\n\n<p>Other tricky ways -</p>\n\n<p>1) Broadcasted comparison :</p>\n\n<pre><code>In [254]: r = np.arange(8)%2\n\nIn [255]: (r[:,None] == r)*1\nOut[255]: \narray([[1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1]])\n</code></pre>\n\n<p>2) Broadcasted addition :</p>\n\n<pre><code>In [279]: r = np.arange(8)\n\nIn [280]: 1-(r[:,None] + r)%2\nOut[280]: \narray([[1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8368, "user_id": 4669778, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-Iz_f3T23jC4/AAAAAAAAAAI/AAAAAAAADVQ/_H_y2EUoF7c/photo.jpg?sz=128", "display_name": "Ofer Sadan", "link": "https://stackoverflow.com/users/4669778/ofer-sadan"}, "is_accepted": false, "score": 2, "last_activity_date": 1500525939, "creation_date": 1500525939, "answer_id": 45205361, "question_id": 45200435, "link": "https://stackoverflow.com/questions/45200435/alternating-values-in-numpy/45205361#45205361", "title": "alternating values in numpy", "body": "<p>Just found out an alternative answer by myself, so posting it here for future reference to anyone who's interested:</p>\n\n<pre><code>a = np.array([[1,0],[0,1]])\nb = np.tile(a, (4,4))\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>array([[1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 12825596, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sI4idI5O9Z8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUyUfTvw8vDgOENkHM_5TfUGYIqQ/photo.jpg?sz=128", "display_name": "Ra Kuz", "link": "https://stackoverflow.com/users/12825596/ra-kuz"}, "is_accepted": false, "score": 0, "last_activity_date": 1580590986, "last_edit_date": 1580590986, "creation_date": 1580585579, "answer_id": 60020449, "question_id": 45200435, "link": "https://stackoverflow.com/questions/45200435/alternating-values-in-numpy/60020449#60020449", "title": "alternating values in numpy", "body": "<p>You can achieve this for single even input number n </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\ni = np.eye(2)\ni = i[::-1]\nk = np.array(i, dtype = np.int)\nprint(np.tile(k,(n//2,n//2)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14336738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iGxHG.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/14336738/raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1601013576, "last_edit_date": 1601013576, "creation_date": 1600983377, "answer_id": 64054764, "question_id": 45200435, "link": "https://stackoverflow.com/questions/45200435/alternating-values-in-numpy/64054764#64054764", "title": "alternating values in numpy", "body": "<p>I think the following is also a good way of doing it for a variable input</p>\n<pre><code>import sys\nlines = sys.stdin.readlines()\nn = int(lines[0])\n\nimport numpy as np\na = np.array([[1,0], [0,1]],dtype=np.int)\noutputData= np.tile(a,(n//2,n//2))\n\nprint(outputData)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3693, "user_id": 4026992, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-gHQscZMSPr0/AAAAAAAAAAI/AAAAAAAAAEo/TfNADMtEqyk/photo.jpg?sz=128", "display_name": "Manoj Kumar", "link": "https://stackoverflow.com/users/4026992/manoj-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1613840760, "creation_date": 1613840760, "answer_id": 66294288, "question_id": 45200435, "link": "https://stackoverflow.com/questions/45200435/alternating-values-in-numpy/66294288#66294288", "title": "alternating values in numpy", "body": "<p>I tried and found this to be shorter one for any giver number:</p>\n<pre><code>n = int(input())\n\nimport numpy as np\n\nc = np.array([[0,1], [1, 0]])\n\nprint(np.tile(c, reps=(n//2, n//2)))\n</code></pre>\n"}], "owner": {"reputation": 8368, "user_id": 4669778, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-Iz_f3T23jC4/AAAAAAAAAAI/AAAAAAAADVQ/_H_y2EUoF7c/photo.jpg?sz=128", "display_name": "Ofer Sadan", "link": "https://stackoverflow.com/users/4669778/ofer-sadan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2859, "favorite_count": 1, "accepted_answer_id": 45200479, "answer_count": 5, "score": 1, "last_activity_date": 1613840760, "creation_date": 1500496198, "question_id": 45200435, "link": "https://stackoverflow.com/questions/45200435/alternating-values-in-numpy", "title": "alternating values in numpy", "body": "<p>Trying to make my code more efficient and readable and i'm stuck. Assume I want to build something like a chess board, with alternating black and white colors on an 8x8 grid. So, using numpy, I have done this:</p>\n\n<pre><code>import numpy as np\nboard = np.zeros((8,8), np.int32)\nfor ri in range(8):\n    for ci in range(8):\n            if (ci + ri) % 2 == 0:\n                    board[ri,ci] = 1\n</code></pre>\n\n<p>Which nicely outputs:</p>\n\n<pre><code>array([[1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [0, 1, 0, 1, 0, 1, 0, 1]], dtype=int32)\n</code></pre>\n\n<p>That I can then parse as white squares or black squares. However, in practice my array is much larger, and this way is very inefficient and unreadable. I assumed numpy already has this figured out, so I tried this:</p>\n\n<pre><code>board = np.zeros(64, np.int32)\nboard[::2] = 1\nboard = board.reshape(8,8)\n</code></pre>\n\n<p>But that output is wrong, and looks like this:</p>\n\n<pre><code>array([[1, 0, 1, 0, 1, 0, 1, 0],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [1, 0, 1, 0, 1, 0, 1, 0],\n       [1, 0, 1, 0, 1, 0, 1, 0]], dtype=int32)\n</code></pre>\n\n<p>Is there a better way to achieve what I want that works efficiently (and preferably, is readable)?</p>\n\n<p>Note: i'm not attached to 1's and 0's, this can easily be done with other types of values, even True/False or strings of 2 kinds, as long as it works</p>\n"}, {"tags": ["python", "algorithm", "numpy", "grid", "intersection"], "comments": [{"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1500497496, "post_id": 45200428, "comment_id": 77368755, "body": "what about segment 1 and 12 ..start  and end of segment can be anywhere?"}, {"owner": {"reputation": 883, "user_id": 7664866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f057c816c02d4471f5f5ab7a4c779f3?s=128&d=identicon&r=PG&f=1", "display_name": "Liza", "link": "https://stackoverflow.com/users/7664866/liza"}, "reply_to_user": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1500513285, "post_id": 45200428, "comment_id": 77373812, "body": "Yes, the trajectories can be anywhere, so would be the first and last segment."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1500498595, "creation_date": 1500498595, "answer_id": 45201055, "question_id": 45200428, "link": "https://stackoverflow.com/questions/45200428/how-to-find-intersection-of-a-line-with-a-mesh/45201055#45201055", "title": "How to find intersection of a line with a mesh?", "body": "<p>You're asking a lot.  You should attack most of the design and coding yourself, once you have a general approach.  Algorithm identification is reasonable for Stack Overflow; asking for design and reference links <a href=\"http://stackoverflow.com/help/on-topic\">is not</a>.</p>\n\n<p>I suggest that you put the point coordinates into a list.  use the <code>NumPy</code> and <code>SciKit</code> capabilities to interpolate the grid intersections.  You can store segments in a list (of whatever defines a segment in your data design).  Consider making a dictionary that allows you to retrieve the segments by grid coordinates.  For instance, if segments are denoted only by the endpoints, and points are a class of yours, you might have something like this, using the lower-left corner of each square as its defining point:</p>\n\n<pre><code>grid_seg = {\n    (0.5, 0.5): [p0, p1],\n    (1.0, 0.5): [p1, p2],\n    (1.0, 1.0): [p2, p3],\n    ...\n}\n</code></pre>\n\n<p>where p0, p1, etc. are the interpolated crossing points.</p>\n"}, {"tags": [], "owner": {"reputation": 3836, "user_id": 6438819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2a6f8bafcef870d901b26ba934a26a9?s=128&d=identicon&r=PG&f=1", "display_name": "RaffleBuffle", "link": "https://stackoverflow.com/users/6438819/rafflebuffle"}, "is_accepted": false, "score": 1, "last_activity_date": 1500499973, "creation_date": 1500499973, "answer_id": 45201407, "question_id": 45200428, "link": "https://stackoverflow.com/questions/45200428/how-to-find-intersection-of-a-line-with-a-mesh/45201407#45201407", "title": "How to find intersection of a line with a mesh?", "body": "<p>Each trajectory is composed of a series of straight line segments. You therefore need a routine to break each line segment into sections that lie completely within a grid cell. The basis for such a routine would be the <a href=\"https://en.wikipedia.org/wiki/Digital_differential_analyzer_(graphics_algorithm)\" rel=\"nofollow noreferrer\">Digital Differential Analyzer (DDA)</a> algorithm, though you'll need to modify the basic algorithm since you need endpoints of the line within each cell, not just which cells are visited. </p>\n\n<p>A couple of things you have to be careful of:</p>\n\n<p>1) If you're working with floating point numbers, beware of rounding errors in the calculation of the step values, as these can cause the algorithm to fail. For this reason many people choose to convert to an integer grid, obviously with a loss of precision. <a href=\"http://playtechs.blogspot.com/2007/03/raytracing-on-grid.html\" rel=\"nofollow noreferrer\">This</a> is a good discussion of the issues, with some working code (though not python).</p>\n\n<p>2) You'll need to decide which of the 4 grid lines surrounding a cell belong to the cell. One convention would be to use the bottom and left edges. You can see the issue if you consider a horizontal line segment that falls on a grid line - does its segments belong to the cell above or the cell below?</p>\n\n<p>Cheers</p>\n"}, {"comments": [{"owner": {"reputation": 883, "user_id": 7664866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f057c816c02d4471f5f5ab7a4c779f3?s=128&d=identicon&r=PG&f=1", "display_name": "Liza", "link": "https://stackoverflow.com/users/7664866/liza"}, "edited": false, "score": 0, "creation_date": 1500515973, "post_id": 45203700, "comment_id": 77374485, "body": "Thank you so much, let me work on it and update you soon if I need further help or clarification."}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "reply_to_user": {"reputation": 883, "user_id": 7664866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f057c816c02d4471f5f5ab7a4c779f3?s=128&d=identicon&r=PG&f=1", "display_name": "Liza", "link": "https://stackoverflow.com/users/7664866/liza"}, "edited": false, "score": 0, "creation_date": 1500597347, "post_id": 45203700, "comment_id": 77420650, "body": "you really should learn some basic things about the numpy library. sigh... What do you need this for?"}], "tags": [], "owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "is_accepted": false, "score": 1, "last_activity_date": 1500598737, "last_edit_date": 1500598737, "creation_date": 1500514645, "answer_id": 45203700, "question_id": 45200428, "link": "https://stackoverflow.com/questions/45200428/how-to-find-intersection-of-a-line-with-a-mesh/45203700#45203700", "title": "How to find intersection of a line with a mesh?", "body": "<pre><code>data = list of list of coordinates\nFor point_id, point_coord in enumerate(point_coord_list):\n   if current point &amp; last point stayed in same cell:\n        append point's index to last list of data\n   else:\n        append a new empty list to data\n        interpolate the two points and add a new point\n        that is on the grid lines.\n</code></pre>\n\n<p>Data stores all trajectories. Each list within the data is a trajectory.</p>\n\n<p>The cell index along x and y axes (<code>x_cell_id</code>, <code>y_cell_id</code>) can be found by dividing coordinate of point by dimension of cell, then round to integer. If the cell indices of current point are same as that of last points, then these two points are in the same cell. list is good for inserting new points but it is not as memory efficient as arrays.</p>\n\n<p>Might be a good idea to create a class for trajectory. Or use a memory buffer and sparse data structure instead of list and list and an array for the x-y coordinates if the list of coordinates wastes too much memory. \nInserting new points into array is slow, so we can use another array for new points.</p>\n\n<p>Warning: I haven't thought too much about the things below. It probably has bugs, and someone needs to fill in the gaps.</p>\n\n<pre><code># coord       n x 2 numpy array. \n#             columns 0, 1 are x and y coordinate. \n#             row n is for point n\n# cell_size   length of one side of the square cell.\n# n_ycells    number of cells along the y axis\n\nimport numpy as np\ncell_id_2d = (coord / cell_size).astype(int)\nx_cell_id = cell_id_2d[:,0]\ny_cell_id = cell_id_2d[:,1]\ncell_id_1d = x_cell_id + y_cell_id*n_x_cells\n\n# if the trajectory exits a cell, its cell id changes\n# and the delta_cell_id is not zero.\ndelta_cell_id = cell_id_1d[1:] - cell_id_1d[:-1]\n\n# The nth trajectory should contains the points from\n# the (crossing_id[n])th to the (crossing_id[n + 1] - 1)th\nw = np.where(delta_cell_id != 0)[0]\ncrossing_ids = np.empty(w.size + 1)\ncrossing_ids[1:] = w\ncrossing_ids[0] = 0\n\n# need to interpolate when the trajectory cross cell boundary.\n# probably can replace this loop with numpy functions/indexing\nnew_points = np.empty((w.size, 2))\nfor i in range(1, n):\n    st = coord[crossing_ids[i]]\n    en = coord[crossing_ids[i+1]]\n    # 1. check which boundary of the cell is crossed\n    # 2. interpolate\n    # 3. put points into new_points\n\n# Each trajectory contains some points from coord array and 2 points \n# in the new_points array.\n</code></pre>\n\n<p>For retrieval, make a sparse array that contains the index of the starting point in the coord array.</p>\n\n<p>Linear interpolation can look bad if the cell size is large.</p>\n\n<h1>Further explanation:</h1>\n\n<h2>Description of the grid</h2>\n\n<pre><code>For n_xcells = 4, n_ycells = 3, the grid is:\n\n   0   1   2   3   4\n0 [  ][  ][  ][  ][  ]\n1 [  ][  ][  ][* ][  ]\n2 [  ][  ][  ][  ][  ]\n\n[* ] has an x_index of 3 and a y_index of 1.\n</code></pre>\n\n<p>There are (<code>n_x_cells</code> * <code>n_y_cells</code>) cells in the grid.</p>\n\n<h2>Relationship between point and cell</h2>\n\n<p>The cell that contains the i<sup>th</sup> point of the trajectory has an x_index of <code>x_cell_id[i]</code> and a y_index of <code>x_cell_id[i]</code>. I get this by discretization through dividing the xy-coordinates of the points by the length of the cell and then truncate to integers.</p>\n\n<pre><code>The cell_id_1d of the cells are the number in [  ]\n\n   0   1   2   3   4\n0 [0 ][1 ][2 ][3 ][4 ]\n1 [5 ][6 ][7 ][8 ][9 ]\n2 [10][11][12][13][14]\n\ncell_id_1d[i] = x_cell_id[i] + y_cell_id[i]*n_x_cells\n</code></pre>\n\n<p>I converted the pair of cell indices <code>(x_cell_id[i], y_cell_id[i])</code> for the i<sup>th</sup> point to a single index called <code>cell_id_1d</code>. </p>\n\n<h2>How to find if trajectory exit a cell at the i<sup>th</sup> point</h2>\n\n<p>Now, the i<sup>th</sup> and (i + 1)<sup>th</sup> points are in same cell, if and only if (x_cell_id[i], y_cell_id[i]) == (x_cell_id[i + 1], y_cell_id[i + 1]) and also cell_id_1d[i] == cell_id[i + 1], and cell_id[i + 1] - cell_id[i] == 0. delta_cell_ids[i] = cell_id_1d[i + 1] - cell_id[i], which is zero if and only the i<sup>th</sup> and (i + 1)<sup>th</sup> points are in the same cell.</p>\n"}, {"comments": [{"owner": {"reputation": 883, "user_id": 7664866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f057c816c02d4471f5f5ab7a4c779f3?s=128&d=identicon&r=PG&f=1", "display_name": "Liza", "link": "https://stackoverflow.com/users/7664866/liza"}, "edited": false, "score": 0, "creation_date": 1500737694, "post_id": 45253998, "comment_id": 77476141, "body": "Thank you sooo much, this is perfect, but I have a little problem, is there a way doing the same without using Shapely, I am using another library which is not compatible with Shapely ?"}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1500744112, "post_id": 45253998, "comment_id": 77478026, "body": "What kind of incompatibility with what library? Writing new code is the last resort."}, {"owner": {"reputation": 83262, "user_id": 772649, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/03ad01df45fef92e267641197ad00e36?s=128&d=identicon&r=PG", "display_name": "HYRY", "link": "https://stackoverflow.com/users/772649/hyry"}, "reply_to_user": {"reputation": 883, "user_id": 7664866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f057c816c02d4471f5f5ab7a4c779f3?s=128&d=identicon&r=PG&f=1", "display_name": "Liza", "link": "https://stackoverflow.com/users/7664866/liza"}, "edited": false, "score": 1, "creation_date": 1500765783, "post_id": 45253998, "comment_id": 77483679, "body": "@Liza, I added a solution that only use numpy."}], "tags": [], "owner": {"reputation": 83262, "user_id": 772649, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/03ad01df45fef92e267641197ad00e36?s=128&d=identicon&r=PG", "display_name": "HYRY", "link": "https://stackoverflow.com/users/772649/hyry"}, "is_accepted": true, "score": 7, "last_activity_date": 1500765749, "last_edit_date": 1500765749, "creation_date": 1500722830, "answer_id": 45253998, "question_id": 45200428, "link": "https://stackoverflow.com/questions/45200428/how-to-find-intersection-of-a-line-with-a-mesh/45253998#45253998", "title": "How to find intersection of a line with a mesh?", "body": "<p>This can be solved by shapely:</p>\n\n<pre><code>%matplotlib inline\nimport pylab as pl\nfrom shapely.geometry import MultiLineString, LineString\nimport numpy as np\nfrom matplotlib.collections import LineCollection\n\nx0, y0, x1, y1 = -10, -10, 10, 10\nn = 11\n\nlines = []\nfor x in np.linspace(x0, x1, n):\n    lines.append(((x, y0), (x, y1)))\n\nfor y in np.linspace(y0, y1, n):\n    lines.append(((x0, y), (x1, y)))\n\ngrid = MultiLineString(lines)\n\nx = np.linspace(-9, 9, 200)\ny = np.sin(x)*x\nline = LineString(np.c_[x, y])\n\nfig, ax = pl.subplots()\nfor i, segment in enumerate(line.difference(grid)):\n    x, y = segment.xy\n    pl.plot(x, y)\n    pl.text(np.mean(x), np.mean(y), str(i))\n\nlc = LineCollection(lines, color=\"gray\", lw=1, alpha=0.5)\nax.add_collection(lc);\n</code></pre>\n\n<p>The result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xvibi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xvibi.png\" alt=\"enter image description here\"></a></p>\n\n<p>To not use shapely, and do it yourself:</p>\n\n<pre><code>import pylab as pl\nimport numpy as np\nfrom matplotlib.collections import LineCollection\n\nx0, y0, x1, y1 = -10, -10, 10, 10\nn = 11\nxgrid = np.linspace(x0, x1, n)\nygrid = np.linspace(y0, y1, n)\nx = np.linspace(-9, 9, 200)\ny = np.sin(x)*x\nt = np.arange(len(x))\n\nidx_grid, idx_t = np.where((xgrid[:, None] - x[None, :-1]) * (xgrid[:, None] - x[None, 1:]) &lt;= 0)\ntx = idx_t + (xgrid[idx_grid] - x[idx_t]) / (x[idx_t+1] - x[idx_t])\n\nidx_grid, idx_t = np.where((ygrid[:, None] - y[None, :-1]) * (ygrid[:, None] - y[None, 1:]) &lt;= 0)\nty = idx_t + (ygrid[idx_grid] - y[idx_t]) / (y[idx_t+1] - y[idx_t])\n\nt2 = np.sort(np.r_[t, tx, tx, ty, ty])\n\nx2 = np.interp(t2, t, x)\ny2 = np.interp(t2, t, y)\n\nloc = np.where(np.diff(t2) == 0)[0] + 1\n\nxlist = np.split(x2, loc)\nylist = np.split(y2, loc)\n\n\nfig, ax = pl.subplots()\nfor i, (xp, yp) in enumerate(zip(xlist, ylist)):\n    pl.plot(xp, yp)\n    pl.text(np.mean(xp), np.mean(yp), str(i))\n\n\nlines = []\nfor x in np.linspace(x0, x1, n):\n    lines.append(((x, y0), (x, y1)))\n\nfor y in np.linspace(y0, y1, n):\n    lines.append(((x0, y), (x1, y)))\n\nlc = LineCollection(lines, color=\"gray\", lw=1, alpha=0.5)\nax.add_collection(lc);\n</code></pre>\n"}], "owner": {"reputation": 883, "user_id": 7664866, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f057c816c02d4471f5f5ab7a4c779f3?s=128&d=identicon&r=PG&f=1", "display_name": "Liza", "link": "https://stackoverflow.com/users/7664866/liza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2791, "favorite_count": 3, "accepted_answer_id": 45253998, "answer_count": 4, "score": 2, "last_activity_date": 1586354874, "creation_date": 1500496156, "last_edit_date": 1501454652, "question_id": 45200428, "link": "https://stackoverflow.com/questions/45200428/how-to-find-intersection-of-a-line-with-a-mesh", "title": "How to find intersection of a line with a mesh?", "body": "<p>I have trajectory data, where each trajectory consists of a sequence of coordinates(x, y points) and each trajectory is identified by a unique ID.</p>\n\n<p>These trajectories are in\u00a0<strong>x - y</strong>\u00a0plane, and I want to divide the whole plane into equal sized grid (square grid). This grid is obviously invisible but is used to divide trajectories into sub-segments. Whenever a trajectory intersects with a grid line, it is <strong>segmented</strong> there and becomes a new sub-trajectory with <strong>new_id</strong>.</p>\n\n<p>I have included a simple handmade graph to make clear what I am expecting.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7gLGi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7gLGi.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>It can be seen how the trajectory is divided at the intersections of the grid lines, and each of these segments has new unique id.</p>\n\n<p>I am working on Python, and seek some python implementation links, suggestions, algorithms, or even a pseudocode for the same.</p>\n\n<p>Please let me know if anything is unclear.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In order to divide the plane into grid , cell indexing is done as following:</p>\n\n<pre><code>#finding cell id for each coordinate\n#cellid = (coord / cellSize).astype(int)\ncellid = (coord / 0.5).astype(int)\ncellid\nOut[] : array([[1, 1],\n              [3, 1],\n              [4, 2],\n              [4, 4],\n              [5, 5],\n              [6, 5]])\n#Getting x-cell id and y-cell id separately \nx_cellid = cellid[:,0]\ny_cellid = cellid[:,1]\n\n#finding total number of cells\nxmax = df.xcoord.max()\nxmin = df.xcoord.min()\nymax = df.ycoord.max()\nymin = df.ycoord.min()\nno_of_xcells = math.floor((xmax-xmin)/ 0.5)\nno_of_ycells = math.floor((ymax-ymin)/ 0.5)\ntotal_cells = no_of_xcells * no_of_ycells\ntotal_cells\nOut[] : 25 \n</code></pre>\n\n<p>Since the plane is now divided into 25 cells each with a <strong>cellid</strong>. In order to find intersections, maybe I could check the next coordinate in the trajectory, if the <strong>cellid</strong> remains the same, then that segment of the trajectory is in the same cell and has no intersection with grid. Say, if x_cellid[2] is greater than x_cellid[0], then segment intersects vertical grid lines. Though, I am still unsure how to find the intersections with the grid lines and segment the trajectory on intersections giving them new id. </p>\n"}, {"tags": ["python", "pandas", "floating-point", "mean"], "comments": [{"owner": {"reputation": 247, "user_id": 4066663, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/df90b55e6bde5629f033e19d9de7d164?s=128&d=identicon&r=PG&f=1", "display_name": "a1letterword", "link": "https://stackoverflow.com/users/4066663/a1letterword"}, "edited": false, "score": 0, "creation_date": 1500501055, "post_id": 45200409, "comment_id": 77370480, "body": "I don&#39;t need to reset the index though. This has to do with the columns all taking on the object value instead of float64. I found a work around, but it still doesn&#39;t answer why the above outputs all objects."}], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1500496248, "post_id": 45200446, "comment_id": 77368080, "body": "missing a <code>=</code> ?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1500496277, "post_id": 45200446, "comment_id": 77368095, "body": "Such a quick solution +1"}, {"owner": {"reputation": 247, "user_id": 4066663, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/df90b55e6bde5629f033e19d9de7d164?s=128&d=identicon&r=PG&f=1", "display_name": "a1letterword", "link": "https://stackoverflow.com/users/4066663/a1letterword"}, "edited": false, "score": 0, "creation_date": 1500496373, "post_id": 45200446, "comment_id": 77368152, "body": "but why aren&#39;t my columns in the form of floats to begin with?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 247, "user_id": 4066663, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/df90b55e6bde5629f033e19d9de7d164?s=128&d=identicon&r=PG&f=1", "display_name": "a1letterword", "link": "https://stackoverflow.com/users/4066663/a1letterword"}, "edited": false, "score": 0, "creation_date": 1500496439, "post_id": 45200446, "comment_id": 77368188, "body": "@a1letterword, can you provide a small reproducible data set?"}, {"owner": {"reputation": 247, "user_id": 4066663, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/df90b55e6bde5629f033e19d9de7d164?s=128&d=identicon&r=PG&f=1", "display_name": "a1letterword", "link": "https://stackoverflow.com/users/4066663/a1letterword"}, "edited": false, "score": 0, "creation_date": 1500496547, "post_id": 45200446, "comment_id": 77368248, "body": "I&#39;m using this dataset        <a href=\"https://archive.ics.uci.edu/ml/machine-learning-databases/voting-records/house-votes-84.data\" rel=\"nofollow noreferrer\">archive.ics.uci.edu/ml/machine-learning-databases/&hellip;</a>"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1500530663, "post_id": 45200446, "comment_id": 77379025, "body": "This doesn&#39;t fix the OP&#39;s issue (or the cause of it): the <code>dtypes</code> are still <code>object</code> after the transformation."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1500497628, "last_edit_date": 1500497628, "creation_date": 1500496223, "answer_id": 45200446, "question_id": 45200409, "link": "https://stackoverflow.com/questions/45200409/setting-each-value-to-a-float-but-returning-an-object-in-pandas/45200446#45200446", "title": "Setting each value to a float, but returning an object in pandas", "body": "<pre><code>url = 'https://archive.ics.uci.edu/ml/machine-learning-databases/voting-records/house-votes-84.data'\ndf = pd.read_csv(url, header=None, index_col=0)\ndf[df.eq('?')] = np.nan\ndf[df.eq('y')] = 1.0\ndf[df.eq('n')] = 0.0\ndf = df.reset_index()\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>In [67]: df\nOut[67]:\n             0    1    2    3    4    5  6    7    8    9    10   11   12   13   14   15   16\n0    republican    0    1    0    1    1  1    0    0    0    1  NaN    1    1    1    0    1\n1    republican    0    1    0    1    1  1    0    0    0    0    0    1    1    1    0  NaN\n2      democrat  NaN    1    1  NaN    1  1    0    0    0    0    1    0    1    1    0    0\n3      democrat    0    1    1    0  NaN  1    0    0    0    0    1    0    1    0    0    1\n4      democrat    1    1    1    0    1  1    0    0    0    0    1  NaN    1    1    1    1\n5      democrat    0    1    1    0    1  1    0    0    0    0    0    0    1    1    1    1\n6      democrat    0    1    0    1    1  1    0    0    0    0    0    0  NaN    1    1    1\n7    republican    0    1    0    1    1  1    0    0    0    0    0    0    1    1  NaN    1\n8    republican    0    1    0    1    1  1    0    0    0    0    0    1    1    1    0    1\n9      democrat    1    1    1    0    0  0    1    1    1    0    0    0    0    0  NaN  NaN\n..          ...  ...  ...  ...  ...  ... ..  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...\n425    democrat    0    0    1    0    0  0    1    1    0    1    1    0    0    0    1  NaN\n426    democrat    1    0    1    0    0  0    1    1    1    1    0    0    0    0    1    1\n427  republican    0    0    0    1    1  1    1    1    0    1    0    1    1    1    0    1\n428    democrat  NaN  NaN  NaN    0    0  0    1    1    1    1    0    0    1    0    1    1\n429    democrat    1    0    1    0  NaN  0    1    1    1    1    0    1    0  NaN    1    1\n430  republican    0    0    1    1    1  1    0    0    1    1    0    1    1    1    0    1\n431    democrat    0    0    1    0    0  0    1    1    1    1    0    0    0    0    0    1\n432  republican    0  NaN    0    1    1  1    0    0    0    0    1    1    1    1    0    1\n433  republican    0    0    0    1    1  1  NaN  NaN  NaN  NaN    0    1    1    1    0    1\n434  republican    0    1    0    1    1  1    0    0    0    1    0    1    1    1  NaN    0\n\n[435 rows x 17 columns]\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 4066663, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/df90b55e6bde5629f033e19d9de7d164?s=128&d=identicon&r=PG&f=1", "display_name": "a1letterword", "link": "https://stackoverflow.com/users/4066663/a1letterword"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500497628, "creation_date": 1500496060, "question_id": 45200409, "link": "https://stackoverflow.com/questions/45200409/setting-each-value-to-a-float-but-returning-an-object-in-pandas", "title": "Setting each value to a float, but returning an object in pandas", "body": "<pre><code>for x in range(1,17):\n    df.loc[(df[x]=='n'), (x)]=float(0.0)\n    df.loc[(df[x]=='y'), (x)]=float(1.0)\n    df.loc[(df[x]=='?'), (x)]=np.nan\n\ndf.dtypes\n</code></pre>\n\n<p>returns all objects. Why is that when I'm specifically setting each item to either a float 0 or 1 or a NaN. Basically i'm unable to run column means on this dataframe as a result. </p>\n"}, {"tags": ["python", "dictionary", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8149811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/995dc9debb370b3138d531666dba5292?s=128&d=identicon&r=PG&f=1", "display_name": "CodeLearner", "link": "https://stackoverflow.com/users/8149811/codelearner"}, "edited": false, "score": 0, "creation_date": 1500496849, "post_id": 45200461, "comment_id": 77368411, "body": "thank you. I do want to retain the <code>ID</code> as a column (not just as the df index) because I need it to merge this <code>df</code> to other dataframes when needed. How do I get this done?"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 57, "user_id": 8149811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/995dc9debb370b3138d531666dba5292?s=128&d=identicon&r=PG&f=1", "display_name": "CodeLearner", "link": "https://stackoverflow.com/users/8149811/codelearner"}, "edited": false, "score": 0, "creation_date": 1500497122, "post_id": 45200461, "comment_id": 77368571, "body": "You can use <code>reset_index</code> to convert the index to an actual column. Added some methods to rename column names as well; you might use it as you need."}, {"owner": {"reputation": 57, "user_id": 8149811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/995dc9debb370b3138d531666dba5292?s=128&d=identicon&r=PG&f=1", "display_name": "CodeLearner", "link": "https://stackoverflow.com/users/8149811/codelearner"}, "edited": false, "score": 0, "creation_date": 1500501960, "post_id": 45200461, "comment_id": 77370806, "body": "Thank you. My last question (I promise :D) would be, can the list of dates be sorted so the earliest date fills the first column? i.e. for <code>#2</code> <code>Col1</code>, <code>Col2</code>, <code>Col3</code> and <code>Col4</code> would be: <code>12&#47;20&#47;2002</code>, <code>12&#47;20&#47;2002</code>,  <code>10&#47;18&#47;2007</code> and <code>07&#47;19&#47;2017</code>"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 57, "user_id": 8149811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/995dc9debb370b3138d531666dba5292?s=128&d=identicon&r=PG&f=1", "display_name": "CodeLearner", "link": "https://stackoverflow.com/users/8149811/codelearner"}, "edited": false, "score": 0, "creation_date": 1500502539, "post_id": 45200461, "comment_id": 77370996, "body": "You can pre sort your dictionary&#39;s values with something like this. <code>from datetime import datetime; new_dict = {k: sorted(v, key=lambda x: datetime.strptime(x.strip(), &quot;%m&#47;%d&#47;%Y&quot;) if x != &quot;&quot; else x) for k, v in myDict.items()};</code> Then use this new dictionary to construct the data frame using above method. <code>pd.DataFrame.from_dict(new_dict, orient=&quot;index&quot;)</code>"}, {"owner": {"reputation": 57, "user_id": 8149811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/995dc9debb370b3138d531666dba5292?s=128&d=identicon&r=PG&f=1", "display_name": "CodeLearner", "link": "https://stackoverflow.com/users/8149811/codelearner"}, "edited": false, "score": 0, "creation_date": 1500655407, "post_id": 45200461, "comment_id": 77451568, "body": "I have the code all in a function but it isn&#39;t working at all. I&#39;m wondering if you could give it a look for me. Thank you."}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 57, "user_id": 8149811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/995dc9debb370b3138d531666dba5292?s=128&d=identicon&r=PG&f=1", "display_name": "CodeLearner", "link": "https://stackoverflow.com/users/8149811/codelearner"}, "edited": false, "score": 0, "creation_date": 1500658113, "post_id": 45200461, "comment_id": 77452944, "body": "What do you mean it&#39;s not working? You are not returning <code>df</code> at the end of the function btw."}, {"owner": {"reputation": 57, "user_id": 8149811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/995dc9debb370b3138d531666dba5292?s=128&d=identicon&r=PG&f=1", "display_name": "CodeLearner", "link": "https://stackoverflow.com/users/8149811/codelearner"}, "edited": false, "score": 0, "creation_date": 1500660897, "post_id": 45200461, "comment_id": 77454464, "body": "Exactly! Especially since running the code outside a function works perfectly. It just doesn&#39;t make sense to me. The code I just added works by itself but having it in a function (even when <code>df</code> is returned, doesn&#39;t."}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 4, "last_activity_date": 1500497022, "last_edit_date": 1500497022, "creation_date": 1500496262, "answer_id": 45200461, "question_id": 45200397, "link": "https://stackoverflow.com/questions/45200397/is-there-a-way-to-create-a-dataframe-from-a-dictionary-with-list-of-values/45200461#45200461", "title": "Is there a way to create a dataframe from a dictionary with list of values?", "body": "<p>You can read it in using <em>pd.DataFrame.from_dict</em> and set the key as index via <em>orient</em> parameter:</p>\n\n<pre><code>pd.DataFrame.from_dict(myDict, orient=\"index\").fillna('')\n\n#            0           1           2           3\n#1              \n#2  07/19/2017  10/18/2007  12/20/2002  12/20/2002\n#3  07/19/2017  10/18/2007      \n#4  12/13/1993          \n#5              \n#6  08/01/2007          \n# ...\n</code></pre>\n\n<hr>\n\n<p>To set the keys as a separate column, you can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reset_index.html\" rel=\"nofollow noreferrer\">reset_index</a>:</p>\n\n<pre><code>(pd.DataFrame.from_dict(myDict, orient=\"index\")\n .fillna('')\n .rename_axis(\"ID\")\n .rename(columns=\"Col{}\".format)\n .reset_index())\n\n#  ID         Col0        Col1        Col2        Col3\n#0  1               \n#1  2   07/19/2017  10/18/2007  12/20/2002  12/20/2002\n#2  3   07/19/2017  10/18/2007      \n#3  4   12/13/1993          \n#4  5\n# ...               \n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8149811, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/995dc9debb370b3138d531666dba5292?s=128&d=identicon&r=PG&f=1", "display_name": "CodeLearner", "link": "https://stackoverflow.com/users/8149811/codelearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 45200461, "answer_count": 1, "score": 1, "last_activity_date": 1500660672, "creation_date": 1500496032, "last_edit_date": 1500660672, "question_id": 45200397, "link": "https://stackoverflow.com/questions/45200397/is-there-a-way-to-create-a-dataframe-from-a-dictionary-with-list-of-values", "title": "Is there a way to create a dataframe from a dictionary with list of values?", "body": "<p>I have a dictionary <code>myDict</code> and I'd like to create a dataframe <code>df</code> using this <code>myDict</code> as follows:</p>\n\n<pre><code>myDict = {\n1: [''],\n2: ['07/19/2017', ' 10/18/2007', '12/20/2002','12/20/2002' ],\n3: ['07/19/2017', ' 10/18/2007'],\n4: ['12/13/1993'],\n5: [''],\n6: ['08/01/2007'],\n7: ['04/23/2007'],\n8: ['02/06/2007'],\n9: ['02/06/2007'],\n10: ['11/08/2001'],\n11: [''],\n12: [''],\n13: ['12/20/2002']\n}\n\ndf\nID    Col1         Col2          Col3         Col4\n1     \n2     07/19/2017   10/18/2007    12/20/2002   12/20/2002 \n3     07/19/2017   10/18/2007 \n4     12/13/1993   \n5     \n6     08/01/2007\n7     04/23/2007\n8     02/06/2007\n9     02/06/2007\n10    11/08/2001\n11    \n12    \n13    12/20/2002\n</code></pre>\n\n<p>How do I make this possible? Thank you.</p>\n\n<p>Putting everything into a function isn't working...</p>\n\n<pre><code>def split_Date(df):\n    Dates1 = df.set_index('IDX')['Date'].to_dict()\n    dates = {}\n    for k, v in Dates1.items():\n       v = v.split(',')\n       dates[k] = [i for i in v]\n    dates = {k: sorted(v, key=lambda x: datetime.strptime(x.strip(), \"%m/%d/%Y\") if x != \"\" else x) for k, v in dates.items()}\n    df_dates = pd.DataFrame.from_dict(dates, orient=\"index\").fillna('').rename_axis(\"IDX\").rename(columns=\"Date{}\".format).reset_index()\n    df = pd.merge(df, df_dates, on='IDX', how='inner', suffixes=('_chem', '_df'))\n    return df #Adding this doesn't make any difference\n</code></pre>\n\n<p>Running this code outside a function works perfectly. However, this requires me to change the value of <code>myData</code> in all the lines for everytime I have a new <code>data</code>. This isn't as productive as having a function</p>\n\n<pre><code>Dates1 = myData.set_index('IDX')['Date'].to_dict()\ndates = {}\nfor k, v in Dates1.items():\n    v = v.split(',')\n    dates[k] = [i for i in v]\ndates = {k: sorted(v, key=lambda x: datetime.strptime(x.strip(), \"%m/%d/%Y\") \nif x != \"\" else x) for k, v in dates.items()}\ndf_dates = pd.DataFrame.from_dict(dates, orient=\"index\").fillna('').rename_axis(\"IDX\").rename(columns=\"Date{}\".format).reset_index()\nmyData = pd.merge(myData, df_dates, on='IDX', how='inner', suffixes=('_chem', '_df'))\n</code></pre>\n"}]