[{"tags": ["python"], "comments": [{"owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1494464408, "post_id": 43904413, "comment_id": 74843472, "body": "What&#39;s the desired output of your example?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7907746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ad7c0189750cb3292c2ff11c3b4f49?s=128&d=identicon&r=PG&f=1", "display_name": "michael", "link": "https://stackoverflow.com/users/7907746/michael"}, "edited": false, "score": 0, "creation_date": 1494720894, "post_id": 43904932, "comment_id": 74949332, "body": "Suvy,thank you for so detail answer. Sorry for my not good original description. My actual objective is that, every segment is independent, for your &#39;a&#39; example: first segment -3, second segment 2, third segment -4, four segment 6."}, {"owner": {"reputation": 663, "user_id": 5580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37e92cff78866f285fc482c706533647?s=128&d=identicon&r=PG&f=1", "display_name": "suvy", "link": "https://stackoverflow.com/users/5580002/suvy"}, "reply_to_user": {"reputation": 25, "user_id": 7907746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ad7c0189750cb3292c2ff11c3b4f49?s=128&d=identicon&r=PG&f=1", "display_name": "michael", "link": "https://stackoverflow.com/users/7907746/michael"}, "edited": false, "score": 0, "creation_date": 1494858159, "post_id": 43904932, "comment_id": 74992899, "body": "edited the solution, may be you could also edit the question a bit so that it is clearer for others?"}], "tags": [], "owner": {"reputation": 663, "user_id": 5580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37e92cff78866f285fc482c706533647?s=128&d=identicon&r=PG&f=1", "display_name": "suvy", "link": "https://stackoverflow.com/users/5580002/suvy"}, "is_accepted": true, "score": 1, "last_activity_date": 1494857970, "last_edit_date": 1494857970, "creation_date": 1494465360, "answer_id": 43904932, "question_id": 43904413, "link": "https://stackoverflow.com/questions/43904413/how-to-group-data-by-positive-or-negative-number-in-pandas/43904932#43904932", "title": "how to group data by positive or negative number in pandas", "body": "<p>when you do a groupby on a particular column, pandas makes groups of unique values of a that group ; here in your case there are only two groups based on flags, the True group and False group. When you apply sum on groupby object you get sum on each group. \none good way to check after grouping is to check using a for loop, for example say</p>\n\n<pre><code>gpd=df.MACD.groupby(df.flag)\nfor label,grp in gpd:\n    print(grp)\n</code></pre>\n\n<p>from your question it looks like you want sum of consecutive positives and negative segments, here is one way. </p>\n\n<pre><code>import pandas as pd\nimport numpy as np\ndf=pd.DataFrame()\ndf['a']=[-1,-2,1,1,-2,-2,2,3,1]\ndf['positives']=df.where(df['a']&gt;0).apply(np.cumsum)\ndf['negatives']=df.where(df['a']&lt;0).apply(np.cumsum)\n</code></pre>\n\n<p>should result in </p>\n\n<pre><code>    a   positives   negatives\n0   -1  NaN         -1.0\n1   -2  NaN         -3.0\n2   1   1.0         NaN\n3   1   2.0         NaN\n4   -2  NaN         -5.0 \n5   -2  NaN         -7.0\n6   2   4.0         NaN\n7   3   7.0         NaN\n8   1   8.0         NaN\n</code></pre>\n\n<p>so your required positive values are in index 3,8 and negatives in index 1,5\nif you also want to remove those consecutive elements and just report these locations automatically then consider using something like df.shift</p>\n\n<pre><code>df['flag']=df.a.apply(lambda x:True if x&gt;0 else False) #adds a flags like your example.\ndf['compare']=df['flag']==df['flag'].shift(-1)\ndf[df['compare']==False]\n</code></pre>\n\n<p>should result in </p>\n\n<pre><code>    a   positives   negatives   flag    compare\n1   -2  NaN         -3.0       False    False\n3   1   2.0         NaN        True     False\n5   -2  NaN         -7.0       False    False\n8   1   8.0         NaN        True     False\n</code></pre>\n\n<p>positives and negatives are consecutive sums of consecutive positive and negative segments.</p>\n\n<p>UPDATE: update to solution (comment from OP)\nwhat is needed is aggregarion of independent positives and negative segments.\none way is to define a simple function like below </p>\n\n<pre><code>def signed_agg(pd_col):\n    val=0\n    sgn=None\n    col_iter=pd_col.iteritems()\n    try:\n        while True:\n            x=col_iter.next()[1]\n            if not sgn:\n                sgn=np.sign(x)\n            if not np.sign(x)==sgn:\n                yield val\n                val=x\n                sgn=np.sign(x)\n            else:\n                val+=x\n                tmp,sgn=(sgn,np.nan)\n                yield sgn\n                sgn=tmp\n    except StopIteration: \n        yield val  \n</code></pre>\n\n<p>passing a column to this function and making a dataframe that can be merged with original</p>\n\n<pre><code>pd.DataFrame(signed_agg(df['a']),columns=['signed_agg'])\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>    signed_agg\n0   NaN\n1   NaN\n2   -3.0\n3   NaN\n4   2.0\n5   NaN\n6   -4.0\n7   NaN\n8   NaN\n9   6.0\n</code></pre>\n\n<p>one could also write a function in similar way that can be used by apply method but then instead of try , except block ,we need to use a if statement checking if the element is last value of the column. </p>\n"}], "owner": {"reputation": 25, "user_id": 7907746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ad7c0189750cb3292c2ff11c3b4f49?s=128&d=identicon&r=PG&f=1", "display_name": "michael", "link": "https://stackoverflow.com/users/7907746/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1967, "favorite_count": 0, "accepted_answer_id": 43904932, "answer_count": 1, "score": 1, "last_activity_date": 1494902833, "creation_date": 1494460790, "last_edit_date": 1494902833, "question_id": 43904413, "link": "https://stackoverflow.com/questions/43904413/how-to-group-data-by-positive-or-negative-number-in-pandas", "title": "how to group data by positive or negative number in pandas", "body": "<p>my data set:</p>\n\n<pre><code>*195    -1.888996\n196    -4.402077*\n197     0.171813\n198     2.182845\n199     2.349494\n200     2.239476\n*201    -0.340724\n202    -3.056798\n203    -4.815240\n204    -8.040102\n205    -9.316368\n206    -9.410789\n207    -7.844607\n208    -4.791272\n209    -4.273477\n210    -1.660889\n211    -0.931744\n212    -1.163933\n213    -0.452218*\n214     1.580649\n215     4.331421\n216     6.101737\n</code></pre>\n\n<p>I want to group data like that negative group and positive group alternatively. I tried below.</p>\n\n<pre><code>df['flag']=df.MACD.apply(lambda x:True if x&gt;0 else False)\ndf.MACD.groupby(df.flag).sum()\n\nflag\nFalse   -738.959009\nTrue     873.042392\nName: MACD, dtype: float64\n</code></pre>\n\n<p>Only got two groups. But I want to negative group and then positive group and then negative group ... and also every group is independent. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1494461764, "post_id": 43904364, "comment_id": 74842912, "body": "Is this your actual code? Because it&#39;s riddled with trivial errors. You really need to talk to an instructor, because these are really basic issues; you&#39;re comparing the function <code>type</code> to <code>tuple</code> (never true), you&#39;re calling methods on a class, not an instance of a class, you&#39;re name shadowing built-ins (never name a variable <code>list</code>), etc. And you haven&#39;t provided the <code>Stack</code> code so we can&#39;t even be sure it&#39;s supposed to be used the way you&#39;re using it. This is a giant cluster of problems, pointing them out one by one won&#39;t really solve anything; the problem is not understanding Python."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 7971468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bffc92f26ded6bc0fc7a14a0278efd?s=128&d=identicon&r=PG&f=1", "display_name": "chris.acampos", "link": "https://stackoverflow.com/users/7971468/chris-acampos"}, "is_accepted": true, "score": 0, "last_activity_date": 1494461217, "creation_date": 1494461217, "answer_id": 43904472, "question_id": 43904364, "link": "https://stackoverflow.com/questions/43904364/python-using-a-list-to-execute-arguements/43904472#43904472", "title": "Python: Using a list to execute arguements", "body": "<p>It may not work because one you forgot the colon after the if statement, <code>if i == \"push\":</code> and <code>if i == \"pop\":</code>. For the push, 1 and push, 2 part you would be checking a tuple which is a data structure that is similar to a list but is immutable. So to check what the number is or what the first argument is you would do <code>if i[0] == \"push\" and i[1] == 1:</code> but before this if statement you would have to check if that object is a tuple so you would do <code>if type = tuple:</code></p>\n"}], "owner": {"reputation": 29, "user_id": 7898364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3262e6223daa63ef04155dbc84d35bc5?s=128&d=identicon&r=PG&f=1", "display_name": "Stoopid23", "link": "https://stackoverflow.com/users/7898364/stoopid23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1494490601, "accepted_answer_id": 43904472, "answer_count": 1, "score": -1, "last_activity_date": 1494466048, "creation_date": 1494460321, "last_edit_date": 1494466048, "question_id": 43904364, "link": "https://stackoverflow.com/questions/43904364/python-using-a-list-to-execute-arguements", "closed_reason": "Not suitable for this site", "title": "Python: Using a list to execute arguements", "body": "<p>Sorry if this is basic question I'm new to python and i couldn't find the proper way to do this within the api docs.</p>\n\n<p>I have a list that contains stack arguments in the fashion</p>\n\n<p>[push,3][push,2][push,1][pop][add]... so on</p>\n\n<p>I also have a StackMachine.py file that created a class Stack:with the member functions push pop add sub mul div mod</p>\n\n<p>I imported it into my main.py file and i want to go through my list and execute the arguments using the functions i made in my StackMachine.py file.</p>\n\n<p>My question is how to analyze the list and use my member functions from the Stack class.</p>\n\n<p>my main.py looks like</p>\n\n<pre><code>from StackMachine import Stack\nimport sys\ntoks = []\nf = open(sys.argv[1])\nfor line in f.readlines():\n  tokens = line.split()\n  toks.append(tokens)\nf.close()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 2, "creation_date": 1494460299, "post_id": 43904339, "comment_id": 74842619, "body": "do you want to know if the files are exactly the same (use linux&#39;s diff)? or what else do you want to know."}, {"owner": {"reputation": 37, "user_id": 7983190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d4e9978ee8dc40c61726b4e084f8d91?s=128&d=identicon&r=PG&f=1", "display_name": "HCYH", "link": "https://stackoverflow.com/users/7983190/hcyh"}, "reply_to_user": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1494460740, "post_id": 43904339, "comment_id": 74842700, "body": "I want to get the difference of each comparison, I&#39;m suing difflib.Differ(), diff.compare() at the moment, it can create a third XML file with the difference as &quot;-&quot; and &quot;+&quot;. The script is good for two files comparison, but now I want to do it automatically for several files comparing..."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7983190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d4e9978ee8dc40c61726b4e084f8d91?s=128&d=identicon&r=PG&f=1", "display_name": "HCYH", "link": "https://stackoverflow.com/users/7983190/hcyh"}, "edited": false, "score": 0, "creation_date": 1494473201, "post_id": 43905457, "comment_id": 74845469, "body": "thank you so much!"}], "tags": [], "owner": {"reputation": 16, "user_id": 7994740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b6cfc583b4a09627892a93764db6ac?s=128&d=identicon&r=PG&f=1", "display_name": "Drew Kowalski", "link": "https://stackoverflow.com/users/7994740/drew-kowalski"}, "is_accepted": true, "score": 0, "last_activity_date": 1494469278, "creation_date": 1494469278, "answer_id": 43905457, "question_id": 43904339, "link": "https://stackoverflow.com/questions/43904339/python-how-to-compare-files-one-by-one-in-two-different-folders/43905457#43905457", "title": "Python - How to compare files one by one in two different folders", "body": "<p>From your comment above, it seems like you already have the library to make the file diff and just want a way to walk a directory tree.  You can look into <code>os.listdir</code> and just loop through all of the files in folder1 and then use the name of the files to determine what the name of the second file is in folder2.</p>\n\n<p>Going off of your example, maybe something like this.</p>\n\n<pre><code>for file_name in os.listdir('./folder1'):\n    file_1_path = os.path.join('./folder1', file_name)\n    name, ext = os.path.splitext(file_name)\n    file_2_path = os.path.join('./folder2', name + name[-1] + ext)\n    f1 = open(file_1_path, 'r')\n    f2 = open(file_2_path, 'r')\n    ( diff logic here )\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7983190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d4e9978ee8dc40c61726b4e084f8d91?s=128&d=identicon&r=PG&f=1", "display_name": "HCYH", "link": "https://stackoverflow.com/users/7983190/hcyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1653, "favorite_count": 0, "closed_date": 1494474728, "accepted_answer_id": 43905457, "answer_count": 1, "score": 0, "last_activity_date": 1494480008, "creation_date": 1494460159, "last_edit_date": 1494480008, "question_id": 43904339, "link": "https://stackoverflow.com/questions/43904339/python-how-to-compare-files-one-by-one-in-two-different-folders", "closed_reason": "Needs more focus", "title": "Python - How to compare files one by one in two different folders", "body": "<p>I'm in case to make files comparison, now I can compare two files for one time with inputting path of files, but because I have several XML files needed to be compared, I'm thinking how can I do it automatically, without need to input file path time by time? For example, \nIn folder1, I have file1, file2, file3, file4\nIn folder2, I have file11, file22, file33, file44\nI want to compare file1 with file11, file2 with file22, file3 with file33, file4 with file44 in one time.\nHow can I do this please? Thanks.</p>\n"}, {"tags": ["python", "raspberry-pi", "xbmc", "kodi", "uinput"], "answers": [{"comments": [{"owner": {"reputation": 2349, "user_id": 278229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e9d8734843923039ea54cf69274933fa?s=128&d=identicon&r=PG", "display_name": "digitalWestie", "link": "https://stackoverflow.com/users/278229/digitalwestie"}, "edited": false, "score": 0, "creation_date": 1503257667, "post_id": 45765269, "comment_id": 78529737, "body": "Does this work for you on a raspberry pi? I eventually ended up using the kodi json rpc API (<a href=\"http://kodi.wiki/view/JSON-RPC_API/v6\" rel=\"nofollow noreferrer\">kodi.wiki/view/JSON-RPC_API/v6</a>) to issue kodi commands rather than simulate key presses."}], "tags": [], "owner": {"reputation": 16, "user_id": 4109352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e110502b5231cecc30cac87631817cc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/4109352/jeroen"}, "is_accepted": true, "score": 0, "last_activity_date": 1503092226, "last_edit_date": 1503092226, "creation_date": 1503091697, "answer_id": 45765269, "question_id": 43904333, "link": "https://stackoverflow.com/questions/43904333/cant-get-kodi-to-accept-keys-emitted-from-python-uinput/45765269#45765269", "title": "Can&#39;t get Kodi to accept keys emitted from python-uinput?", "body": "<p>Maybe you need to do: sudo modprobe uinput</p>\n\n<p>The following script works for me to send Function key 12 to vice (a C64 emulator) based on a button press on a GPIO:</p>\n\n<pre><code>import uinput \nimport RPi.GPIO as GPIO\nimport time\n\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(21, GPIO.IN, pull_up_down=GPIO.PUD_UP)\n\nwasPressed=False\n\n# set up keystroke input\ndevice = uinput.Device([uinput.KEY_F12])\nwhile True:\n    button_inactive = GPIO.input(21)\n    if not button_inactive and not wasPressed:\n        device.emit_click(uinput.KEY_F12)\n        print \"sending F12\"\n        wasPressed=True\n    if button_inactive: \n        wasPressed=False\n    time.sleep(0.1)\n</code></pre>\n\n<p>Note that I used uinput.KEY_F12 twice. The script should be run as root.</p>\n"}], "owner": {"reputation": 2349, "user_id": 278229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e9d8734843923039ea54cf69274933fa?s=128&d=identicon&r=PG", "display_name": "digitalWestie", "link": "https://stackoverflow.com/users/278229/digitalwestie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 45765269, "answer_count": 1, "score": 1, "last_activity_date": 1503092226, "creation_date": 1494460096, "question_id": 43904333, "link": "https://stackoverflow.com/questions/43904333/cant-get-kodi-to-accept-keys-emitted-from-python-uinput", "title": "Can&#39;t get Kodi to accept keys emitted from python-uinput?", "body": "<p>I'm emitting keys from a python script using python-uinput. Basic stuff such as up / down / enter / esc. </p>\n\n<p>As far as I can see this works fine on my desktop, in the terminal, and with the browser. But when I run Kodi, it doesn't seem to respond at all. Is this something to do with it being a fullscreen application?  </p>\n\n<p>NB: I'm running Raspbian on model 3 Raspberry Pi.</p>\n"}, {"tags": ["python", "loops", "csv", "if-statement"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1494460391, "post_id": 43904311, "comment_id": 74842640, "body": "First, there is no built-in <code>sprint()</code>. Does this function come from another module? Second, the <code>else</code> in the <code>if</code> statement refers only to the last <code>if</code>. OK will be printed only if <code>n&lt;=75</code>, regardless of the values of <code>t</code> and <code>h</code>. If you want to print OK when there are no warnings, you need to rewrite the last block of code."}, {"owner": {"reputation": 27, "user_id": 5679530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74f7644ce33d165f5384afd5c69b89a9?s=128&d=identicon&r=PG&f=1", "display_name": "HCI", "link": "https://stackoverflow.com/users/5679530/hci"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1494461004, "post_id": 43904311, "comment_id": 74842757, "body": "I have changed the sprint, should be print i think"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5679530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74f7644ce33d165f5384afd5c69b89a9?s=128&d=identicon&r=PG&f=1", "display_name": "HCI", "link": "https://stackoverflow.com/users/5679530/hci"}, "edited": false, "score": 0, "creation_date": 1494461444, "post_id": 43904435, "comment_id": 74842841, "body": "Just tried it out, works great thanks. Good to know about the more flexible options too, very helpful."}, {"owner": {"reputation": 9898, "user_id": 116546, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/967bbcaf95419a577f2443cd31658216?s=128&d=identicon&r=PG", "display_name": "drdaeman", "link": "https://stackoverflow.com/users/116546/drdaeman"}, "reply_to_user": {"reputation": 27, "user_id": 5679530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74f7644ce33d165f5384afd5c69b89a9?s=128&d=identicon&r=PG&f=1", "display_name": "HCI", "link": "https://stackoverflow.com/users/5679530/hci"}, "edited": false, "score": 1, "creation_date": 1494461519, "post_id": 43904435, "comment_id": 74842861, "body": "Great. Also, just wanted to point out that you don&#39;t need parentheses in <code>t, h = grovepi.dht(3, 0)</code>, around <code>t, h</code>. Having parentheses there isn&#39;t a mistake - just that they&#39;re unnecessary."}, {"owner": {"reputation": 27, "user_id": 5679530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74f7644ce33d165f5384afd5c69b89a9?s=128&d=identicon&r=PG&f=1", "display_name": "HCI", "link": "https://stackoverflow.com/users/5679530/hci"}, "edited": false, "score": 1, "creation_date": 1494462041, "post_id": 43904435, "comment_id": 74842967, "body": "Thanks, anything to make it more tidy is great. Thanks for the help, early days of python for me but i will get there!"}], "tags": [], "owner": {"reputation": 9898, "user_id": 116546, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/967bbcaf95419a577f2443cd31658216?s=128&d=identicon&r=PG", "display_name": "drdaeman", "link": "https://stackoverflow.com/users/116546/drdaeman"}, "is_accepted": true, "score": 0, "last_activity_date": 1494461320, "last_edit_date": 1494461320, "creation_date": 1494460929, "answer_id": 43904435, "question_id": 43904311, "link": "https://stackoverflow.com/questions/43904311/if-statement-print-additional-column-in-python/43904435#43904435", "title": "if statement, print additional column in python", "body": "<p>If you want to print an extra column, like \"1234567890,34.3,51.2,70.3,Warning\" then you can do it with a simple boolean variable, like this:</p>\n\n<pre><code>while True:\n    ...\n    warning = t &gt; 35 or h &gt; 50 or n &gt; 75\n    print (\"%f,%d,%d,%f,%f,%s\" % (\n        timestamp, d, a, t, h, \"Warning\" if warning else \"OK\"\n    ))\n</code></pre>\n\n<p>Above, I've defined <code>warning</code> as a boolean condition, and used if for the inline <code>if</code> operator to print either \"Warning\" or \"OK\".</p>\n\n<p>If you need extra flexibility you can assign to a string variable:</p>\n\n<pre><code>while True:\n    ...\n    # Note, only message for the first matching condition would display\n    if t &gt; 35:\n        message = \"Warning: T\"\n    elif h &gt; 50:\n        message = \"Warning: H\"\n    elif n &gt; 75:\n        message = \"Warning: N\"\n    else:\n        message = \"OK\"\n    print (\"%f,%d,%d,%f,%f,%s\" % (timestamp, d, a, t, h, message))\n</code></pre>\n\n<p>And if you need to display multiple messages, you can collect a list, like this:</p>\n\n<pre><code>while True:\n    ...\n    warnings = []\n    if t &gt; 35:\n        warnings.append(\"WarnT\")\n    if h &gt; 50:\n        warnings.append(\"WarnH\")\n    ...\n    status = \" \".join(warnings) if warnings else \"OK\"\n    print (\"%f,%d,%d,%f,%f,%s\" % (timestamp, d, a, t, h, status))\n</code></pre>\n\n<p>This would collect all warnings in a list (so it would be like <code>[\"WarnT\", \"WarnH\"]</code>), then if the list is not empty join with spaces (<code>\" \".join(warnings)</code>) so it'll be \"WarnT WarnH\", and otherwise use \"OK\" as the message. Tune the output as you feel appropriate.</p>\n\n<p>Hope this helps.</p>\n\n<p>(BTW, you may consider using something like <code>%0.2f</code> instead of <code>%f</code> if you want a fixed number of digits. I believe you'd probably want to round to a sane precision, e.g. \"59.03\" instead of something like \"59.031045032\")</p>\n"}], "owner": {"reputation": 27, "user_id": 5679530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74f7644ce33d165f5384afd5c69b89a9?s=128&d=identicon&r=PG&f=1", "display_name": "HCI", "link": "https://stackoverflow.com/users/5679530/hci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 43904435, "answer_count": 1, "score": 1, "last_activity_date": 1494461320, "creation_date": 1494459946, "last_edit_date": 1494460982, "question_id": 43904311, "link": "https://stackoverflow.com/questions/43904311/if-statement-print-additional-column-in-python", "title": "if statement, print additional column in python", "body": "<p>i am new to pythin and trying to work out an if statement for some data being collected. </p>\n\n<pre><code>import grovepi\nimport time\nimport datetime\nimport grovelcd\n#headerline\nprint (\"Time,Noise (db),Light (lux),Temperature (C),Humidity (rH)\")\n</code></pre>\n\n<p>here i have the already existing header lines for when they are printed into a csv file.I want another displaying the information i outline below.</p>\n\n<pre><code>while True:\n  timestamp=time.time()\n  #read from a analog sensor on input 1\n  d= grovepi.analogRead(1)\n  #read from an analog sensor on input 2\n  a= grovepi.analogRead(2)\n  #read from an digital sensor on input 3\n  (t,h)=grovepi.dht(3,0)\n</code></pre>\n\n<p>above is the reading of each sensor</p>\n\n<pre><code>print (\"%f,%d,%d,%f,%f\"%(timestamp,d,a,t,h))\n</code></pre>\n\n<p>What i would like is an additional value, i am having issues getting an if statement to take the value and determine if it matches what i want. All these should be number values.</p>\n\n<p>the idea i have is</p>\n\n<pre><code>if t &gt; 35:\n  print(\"Warning\")\nif h &gt; 50:\n  print(\"Warning\")\nif n &gt; 75:\n  print(\"Warning\")\nelse:\n  print(\"OK\")\n</code></pre>\n\n<p>Essentially what i have looks like this output:</p>\n\n<pre><code>Noise  Light   Temperature   Humidity\n85      500        34           76\n</code></pre>\n\n<p>What im trying to achieve is this: </p>\n\n<pre><code>Noise  Light   Temperature   Humidity  Note\n85      500        34           76      OK\n</code></pre>\n\n<p>Any help appreciated, i dont know python very well unfortunately.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1, "user_id": 7525782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cbddb7c9054298e95363ccc737f5c4d?s=128&d=identicon&r=PG&f=1", "display_name": "BRIAN MCMILLAN", "link": "https://stackoverflow.com/users/7525782/brian-mcmillan"}, "edited": false, "score": 0, "creation_date": 1494460104, "post_id": 43904304, "comment_id": 74842584, "body": "I figure it should use a while loop, but I&#39;m having trouble implementing that"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1494461655, "post_id": 43904304, "comment_id": 74842898, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}], "answers": [{"tags": [], "owner": {"reputation": 694, "user_id": 7033869, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qhp8umXBLiA/AAAAAAAAAAI/AAAAAAAAAAA/faBbkZ-N7fw/photo.jpg?sz=128", "display_name": "Francois Mockers", "link": "https://stackoverflow.com/users/7033869/francois-mockers"}, "is_accepted": false, "score": 0, "last_activity_date": 1494461902, "creation_date": 1494461902, "answer_id": 43904555, "question_id": 43904304, "link": "https://stackoverflow.com/questions/43904304/comparing-multiple-items-in-a-list-against-one-number-then-have-multiple-prints/43904555#43904555", "title": "comparing multiple items in a list against one number then have multiple prints", "body": "<p>you can use a for loop with a range to go through index 1 - 90 (this will miss index 0):</p>\n\n<pre><code>for i in range(1, 91):\n  if nums[i] &gt; 0:\n    print(str(nums[i]) + '=' + str(templist[i]))\n  else:\n    print('')\n</code></pre>\n\n<p>if you want to go through every item in the list, you can use enumerate which give you each item and its index:</p>\n\n<pre><code>for (i, v) in enumerate(nums):\n  if v &gt; 0:\n    print(str(v) + '=' + str(templist[i]))\n  else:\n    print('')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7525782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cbddb7c9054298e95363ccc737f5c4d?s=128&d=identicon&r=PG&f=1", "display_name": "BRIAN MCMILLAN", "link": "https://stackoverflow.com/users/7525782/brian-mcmillan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1494461902, "creation_date": 1494459895, "question_id": 43904304, "link": "https://stackoverflow.com/questions/43904304/comparing-multiple-items-in-a-list-against-one-number-then-have-multiple-prints", "title": "comparing multiple items in a list against one number then have multiple prints", "body": "<p>I have a long list of numbers and I want to compare them all to 0 at the same time and if they are greater, to print out along with another long list. my problem is, I don't know how to do that and I don't want to spend all night typing the same couple lines of code 90 times. This is what I have:</p>\n\n<p><code>if nums[n]&gt;0:\n  print(nums[n]'='templist[n])\nelse:\n    print('')</code></p>\n\n<p>and this is what I want it to say:</p>\n\n<p><code>if nums[1-90]&gt;0:\n  print(nums[1-90]'='templist[1-90])\nelse:\n    print('')</code></p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1494460429, "post_id": 43904281, "comment_id": 74842649, "body": "Post stack traces with code-formatting, not quote-formatting. (This will also fix the problem of stuff in <code>&lt;&gt;</code> not showing up.)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1494460487, "post_id": 43904281, "comment_id": 74842658, "body": "Don&#39;t try to unapply quote-formatting and then apply code-formatting, though - the quote formatting already irreversibly mangled the stack trace. You&#39;ll need to recopy it from original error output."}, {"owner": {"reputation": 580, "user_id": 3224306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YWjjS.jpg?s=128&g=1", "display_name": "JAV", "link": "https://stackoverflow.com/users/3224306/jav"}, "edited": false, "score": 2, "creation_date": 1494478031, "post_id": 43904281, "comment_id": 74846681, "body": "I think this is as simple as you&#39;re passing floats into your slice indices, no?  <code>start += (size &#47; 2)</code> is changing <code>start</code> to a float.  Are you on Python 2 or 3?"}, {"owner": {"reputation": 1171, "user_id": 7994456, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/7ba25a2a362f27cb8916fe34ec25beb9?s=128&d=identicon&r=PG&f=1", "display_name": "Chaine", "link": "https://stackoverflow.com/users/7994456/chaine"}, "reply_to_user": {"reputation": 580, "user_id": 3224306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YWjjS.jpg?s=128&g=1", "display_name": "JAV", "link": "https://stackoverflow.com/users/3224306/jav"}, "edited": false, "score": 1, "creation_date": 1494601917, "post_id": 43904281, "comment_id": 74914418, "body": "@JAV python 3. I don&#39;t get why <code>dataset[&quot;x-axis&quot;][start:end] </code> gives an error.  <code>start</code> and <code>end</code> are just numbers computed from <code>windows()</code>"}, {"owner": {"reputation": 1171, "user_id": 7994456, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/7ba25a2a362f27cb8916fe34ec25beb9?s=128&d=identicon&r=PG&f=1", "display_name": "Chaine", "link": "https://stackoverflow.com/users/7994456/chaine"}, "edited": false, "score": 0, "creation_date": 1494602564, "post_id": 43904281, "comment_id": 74914922, "body": "The problem is that I can print the values of <code>start</code> and <code>end</code>, but I can&#39;t use their values. Say, use them as index for the <code>x</code>"}, {"owner": {"reputation": 580, "user_id": 3224306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YWjjS.jpg?s=128&g=1", "display_name": "JAV", "link": "https://stackoverflow.com/users/3224306/jav"}, "edited": false, "score": 1, "creation_date": 1494603137, "post_id": 43904281, "comment_id": 74915287, "body": "My hunch is that they are floats; they need to be ints."}, {"owner": {"reputation": 1171, "user_id": 7994456, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/7ba25a2a362f27cb8916fe34ec25beb9?s=128&d=identicon&r=PG&f=1", "display_name": "Chaine", "link": "https://stackoverflow.com/users/7994456/chaine"}, "reply_to_user": {"reputation": 580, "user_id": 3224306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YWjjS.jpg?s=128&g=1", "display_name": "JAV", "link": "https://stackoverflow.com/users/3224306/jav"}, "edited": false, "score": 0, "creation_date": 1494603981, "post_id": 43904281, "comment_id": 74915831, "body": "@JAV turns out you&#39;re correct, I just did <code>int(start)</code> and <code>int(end)</code>. But when I did <code>x = dataset[&quot;x-axis&quot;][start:end]</code> and get the shape <code>x.shape</code>, the answer is (24,), when it should be 90 (because the window size is 90. But when I computed <code>end - start</code> the answer is still 90. And when I printed <code>x</code>, it only has 26 elements when it should have been 90. Why is this?"}, {"owner": {"reputation": 1171, "user_id": 7994456, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/7ba25a2a362f27cb8916fe34ec25beb9?s=128&d=identicon&r=PG&f=1", "display_name": "Chaine", "link": "https://stackoverflow.com/users/7994456/chaine"}, "reply_to_user": {"reputation": 580, "user_id": 3224306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YWjjS.jpg?s=128&g=1", "display_name": "JAV", "link": "https://stackoverflow.com/users/3224306/jav"}, "edited": false, "score": 0, "creation_date": 1494606334, "post_id": 43904281, "comment_id": 74917256, "body": "@JAV you are correct. Please post your answer :)"}, {"owner": {"reputation": 580, "user_id": 3224306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YWjjS.jpg?s=128&g=1", "display_name": "JAV", "link": "https://stackoverflow.com/users/3224306/jav"}, "edited": false, "score": 0, "creation_date": 1494621924, "post_id": 43904281, "comment_id": 74925240, "body": "Can you post a sample of your dataset?  What is data.shape?"}], "answers": [{"tags": [], "owner": {"reputation": 752, "user_id": 8113093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efc58bdd46918c640bb4536eb6052f4f?s=128&d=identicon&r=PG&f=1", "display_name": "Wazaki", "link": "https://stackoverflow.com/users/8113093/wazaki"}, "is_accepted": false, "score": 0, "last_activity_date": 1496646322, "creation_date": 1496646322, "answer_id": 44363451, "question_id": 43904281, "link": "https://stackoverflow.com/questions/43904281/how-to-use-values-of-generator-objects/44363451#44363451", "title": "How to use values of generator objects?", "body": "<p>I think JAV is right about the variables' type. Try this simple (not sure if it's the best) solution</p>\n\n<pre><code>for (start, end) in windows(data['timestamp'], window_size):\n    start = int(start)\n    end = int(end)\n    print(\"check start and end\",start,end)\n</code></pre>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 1171, "user_id": 7994456, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/7ba25a2a362f27cb8916fe34ec25beb9?s=128&d=identicon&r=PG&f=1", "display_name": "Chaine", "link": "https://stackoverflow.com/users/7994456/chaine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496646322, "creation_date": 1494459735, "last_edit_date": 1494604058, "question_id": 43904281, "link": "https://stackoverflow.com/questions/43904281/how-to-use-values-of-generator-objects", "title": "How to use values of generator objects?", "body": "<p>I have a Nx6 for the dataset, where N is the number of samples.</p>\n\n<p>And when I run this line of code:</p>\n\n<pre><code>segments, labels = segment_signal(dataset)\n</code></pre>\n\n<p>It gives the error:</p>\n\n<blockquote>\n  <p>TypeError: cannot do slice indexing on &lt;class 'pandas.core.indexes.range.RangeIndex'&gt; with these indexers [45.0] of &lt;class 'float'&gt;</p>\n</blockquote>\n\n<p>The definition of the function segment signal is the following:</p>\n\n<pre><code>def segment_signal(data,window_size = 90):\n    segments = np.empty((0,window_size,3))\n    labels = np.empty((0))\n    for (start, end) in windows(data['timestamp'], window_size):\n        x = data[\"x-axis\"][start:end]\n        y = data[\"y-axis\"][start:end]\n        z = data[\"z-axis\"][start:end]\n        if(len(dataset['timestamp'][start:end]) == window_size):\n            segments = np.vstack([segments,np.dstack([x,y,z])])\n            labels = np.append(labels,stats.mode(data[\"activity\"][start:end])[0][0])\n    return segments, labels\n</code></pre>\n\n<p>And the helper function:</p>\n\n<pre><code>def windows(data, size):\n    start = 0\n    while start &lt; data.count():\n        yield start, start + size\n        start += (size / 2)\n</code></pre>\n\n<p>I troubleshooted it and it appears that this line is causing the error:</p>\n\n<blockquote>\n  <p>x = dataset[\"x-axis\"][start:end]</p>\n</blockquote>\n\n<p>I analyzed it further and it seems that <code>windows()</code> is a generator function. Hence, the <code>(start, end)</code> in <code>segment_signal</code> are generator objects. But error occurs in the <code>x = dataset[\"x-axis\"][start:end]</code> for some reason that I could not understand.</p>\n\n<p>The problem is that I can print the values of <code>start</code> and <code>end</code>, but I can't use their values. Say, use them as index for the <code>x</code>.</p>\n\n<p>Turns iut that <code>start</code> and <code>end</code> are floats. </p>\n\n<p>I just did <code>int(start)</code> and <code>int(end)</code>. But when I did <code>x = dataset[\"x-axis\"][start:end]</code> and get the shape <code>x.shape</code>, the answer is (24,), when it should be 90 (because the window size is 90. But when I computed <code>end - start</code> the answer is still 90. And when I printed <code>x</code>, it only has 26 elements when it should have been 90. Why is this?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 36360, "user_id": 3715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80249086b1bd0d24c2307fe787b55e91?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/3715/tom"}, "is_accepted": false, "score": 1, "last_activity_date": 1494459859, "creation_date": 1494459859, "answer_id": 43904298, "question_id": 43904258, "link": "https://stackoverflow.com/questions/43904258/what-is-a-pythonic-and-efficient-way-to-divide-a-list-at-a-matching-element/43904298#43904298", "title": "What is a Pythonic and efficient way to divide a list at a matching element?", "body": "<p>A naive implementation to get things rolling:</p>\n\n<pre><code>def divide_list(pred, lst):\n    before, after = [], []\n    found = False\n    for item in lst:\n        if not found:\n            if pred(item):\n                before.append(item)\n            else:\n                found = True\n        if found:\n            after.append(item)\n    return before, after\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 36360, "user_id": 3715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80249086b1bd0d24c2307fe787b55e91?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/3715/tom"}, "edited": false, "score": 0, "creation_date": 1494463147, "post_id": 43904363, "comment_id": 74843188, "body": "I think this is overly complicating it, I&#39;m not too worried about checking the pred twice if an element appears twice in the list, it&#39;s more that i didn&#39;t want to check the pred twice for each element like lots of solutions of the filter/filterfalse variety do. And the set() means this won&#39;t work if the list elements aren&#39;t hashable, will it?"}, {"owner": {"reputation": 26221, "user_id": 7294647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QFLgL.jpg?s=128&g=1", "display_name": "Jacob G.", "link": "https://stackoverflow.com/users/7294647/jacob-g"}, "reply_to_user": {"reputation": 36360, "user_id": 3715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80249086b1bd0d24c2307fe787b55e91?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/3715/tom"}, "edited": false, "score": 0, "creation_date": 1494463356, "post_id": 43904363, "comment_id": 74843233, "body": "If the element isn&#39;t hashable, then it will check the predicate for duplicate elements instead of caching it, which is basically equivalent to removing the set.  Ideally you want to keep the set, as it will make it efficient if there exist many duplicates with an expensive predicate."}, {"owner": {"reputation": 26221, "user_id": 7294647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QFLgL.jpg?s=128&g=1", "display_name": "Jacob G.", "link": "https://stackoverflow.com/users/7294647/jacob-g"}, "reply_to_user": {"reputation": 36360, "user_id": 3715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80249086b1bd0d24c2307fe787b55e91?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/3715/tom"}, "edited": false, "score": 0, "creation_date": 1494463672, "post_id": 43904363, "comment_id": 74843304, "body": "If you&#39;d like, I can add a flag that checks for hashability and optimize it off of that to either use or not use the set."}, {"owner": {"reputation": 36360, "user_id": 3715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80249086b1bd0d24c2307fe787b55e91?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/3715/tom"}, "edited": false, "score": 0, "creation_date": 1494464406, "post_id": 43904363, "comment_id": 74843471, "body": "I mean that divide_list(lambda x: x[&#39;a&#39;], [{&#39;a&#39;: True, &#39;b&#39;: 1}, {&#39;a&#39;: True}, {&#39;a&#39;: False}]) raises a TypeError: unhashable type: &#39;dict&#39;  (added that to the example cases to clarify for others too)"}], "tags": [], "owner": {"reputation": 26221, "user_id": 7294647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QFLgL.jpg?s=128&g=1", "display_name": "Jacob G.", "link": "https://stackoverflow.com/users/7294647/jacob-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1494465019, "last_edit_date": 1494465019, "creation_date": 1494460319, "answer_id": 43904363, "question_id": 43904258, "link": "https://stackoverflow.com/questions/43904258/what-is-a-pythonic-and-efficient-way-to-divide-a-list-at-a-matching-element/43904363#43904363", "title": "What is a Pythonic and efficient way to divide a list at a matching element?", "body": "<p>Here's my relatively efficient attempt:</p>\n\n<pre><code>from collections import Hashable\n\ndef divide_list(pred, list):\n    # The predicate may be expensive, so we can\n    # store elements that have already been checked\n    # in a set for fast verification.\n    elements_checked = set()\n\n    # Assuming that every element of the list is of\n    # the same type and the list is nonempty, we can\n    # store a flag to check if an element is hashable.\n    hashable = isinstance(list[0], Hashable)\n\n    for index, element in enumerate(list):\n        if hashable and element in elements_checked:\n            continue\n\n        if not pred(element):\n            return list[:index], list[index:]\n\n        if hashable:\n            elements_checked.add(element)\n\n    return list, []\n</code></pre>\n\n<p>If you were to benchmark this against the other answers, I reckon this will be the fastest.</p>\n\n<p>I love this question by the way!</p>\n"}, {"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1494461738, "post_id": 43904461, "comment_id": 74842909, "body": "@downvoter -- If you leave a comment about why you think this answer isn&#39;t useful, or what&#39;s wrong with it, I&#39;m happy to try to fix any errors or clear up any misunderstandings.  As it is, I&#39;m not really sure what you think is wrong with it so I&#39;m not really sure where to focus my improvement efforts."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": 2, "last_activity_date": 1494461613, "last_edit_date": 1495541411, "creation_date": 1494461110, "answer_id": 43904461, "question_id": 43904258, "link": "https://stackoverflow.com/questions/43904258/what-is-a-pythonic-and-efficient-way-to-divide-a-list-at-a-matching-element/43904461#43904461", "title": "What is a Pythonic and efficient way to divide a list at a matching element?", "body": "<p><strong>I think that the <a href=\"https://stackoverflow.com/a/43904298/748858\">naive implementation</a> is probably best unless you actually need iterators as outputs.</strong>  This could be useful if your input stream is an iterator and you don't have enough memory to materialize the whole thing at once, etc.</p>\n\n<p>In that case, I think that <code>itertools</code> is great.  My initial gut instinct was to do something like:</p>\n\n<pre><code># broken  :-(\ndef divide_iter(pred, lst):\n    i = iter(lst)\n    yield itertools.takewhile(lst, pred)\n    yield i\n</code></pre>\n\n<p>Unfortunately this doesn't work for a variety of reasons.  Most notably, it drops an element.  Even if it didn't, you could run into problems if you didn't consume the entire <code>takewhile</code> iterable before moving on to the next list.  I think that this second problem is going to be an issue that we run into when working with iterators in general, so that's kind of a bummer, but it's the price we pay for processing things element-by-element rather than materializing entire lists at once.</p>\n\n<p>Instead, let's think about grouping the items based on whether the predicate has returned true yet.  Then <code>groupby</code> becomes a lot more appealing -- the only thing is that we need to keep track of whether the predicate has returned True.  Stateful functions are not much fun so instead, we can use a class and pass a bound method as the key argument to <code>groupby</code>:</p>\n\n<pre><code>import itertools\n\nclass _FoundTracker(object):\n    def __init__(self, predicate):\n        self.predicate = predicate\n        self._found = False\n\n    def check_found(self, value):\n        if self._found:\n            return True\n        else:\n           self._found = self.predicate(value)\n           return self._found\n\ndef split_iterable(iterable, predicate):\n    tracker = _FoundTracker(predicate)\n    for i, (k, group) in enumerate(itertools.groupby(iterable, key=tracker.check_found)):\n        yield group\n    if i == 0:\n        yield iter(())\n\nif __name__ == '__main__':\n    for group in split_iterable(xrange(10), lambda x: x &lt; 5):\n        print(list(group))\n</code></pre>\n\n<p>This also has some possibly funky behavior... To demonstrate, consider:</p>\n\n<pre><code>g1, g2 = split_iterable(xrange(10), lambda x: x &gt; 5)\nprint(list(g1))\nprint(list(g2))\n</code></pre>\n\n<p>You'll see that you get some really weird behavior :-).  Alternatively:</p>\n\n<pre><code>g1, g2 = map(list, split_iterable(range(10), lambda x: x &gt; 5))\nprint(g1)\nprint(g2)\n</code></pre>\n\n<p>should work fine.</p>\n"}, {"tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 0, "last_activity_date": 1494462292, "creation_date": 1494462292, "answer_id": 43904600, "question_id": 43904258, "link": "https://stackoverflow.com/questions/43904258/what-is-a-pythonic-and-efficient-way-to-divide-a-list-at-a-matching-element/43904600#43904600", "title": "What is a Pythonic and efficient way to divide a list at a matching element?", "body": "<p>This is basically your naive attempt, but doesn't use a separate Boolean flag to determine when the predicate fails; it just uses a reference to first one list, then the other, to do the appending.</p>\n\n<pre><code>def divide_list(pred, lst):\n     a, b = [], []\n     curr = a\n     for x in lst:\n         if curr is a and not pred(x):\n             curr = b\n         curr.append(x)\n     return a, b\n</code></pre>\n"}], "owner": {"reputation": 36360, "user_id": 3715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/80249086b1bd0d24c2307fe787b55e91?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/3715/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 1, "answer_count": 4, "score": 4, "last_activity_date": 1494465019, "creation_date": 1494459548, "last_edit_date": 1495535488, "question_id": 43904258, "link": "https://stackoverflow.com/questions/43904258/what-is-a-pythonic-and-efficient-way-to-divide-a-list-at-a-matching-element", "title": "What is a Pythonic and efficient way to divide a list at a matching element?", "body": "<p>This is very similar to <a href=\"https://stackoverflow.com/questions/949098/python-split-a-list-based-on-a-condition\">Python: split a list based on a condition?</a> and also <a href=\"https://nedbatchelder.com/blog/201306/filter_a_list_into_two_parts.html\" rel=\"nofollow noreferrer\">https://nedbatchelder.com/blog/201306/filter_a_list_into_two_parts.html</a> but instead of partitioning the individual elements into two lists based on a predicate, I want to divide the list into two parts at the first element that fails the predicate.</p>\n\n<pre><code>&gt;&gt;&gt; divide_list(lambda x: x &lt; 7, list(range(10)))\n([0, 1, 2, 3, 4, 5, 6], [7, 8, 9])\n\n&gt;&gt;&gt; divide_list(lambda x: x &lt; 7, [1, 3, 5, 7, 9, 5])\n([1, 3, 5], [7, 9, 5])\n\n&gt;&gt;&gt; divide_list(lambda x: x &lt; 7, [7, 9, 5])\n([], [7, 9, 5])\n\n&gt;&gt;&gt; divide_list(lambda x: x &lt; 7, [1, 3, 5])\n([1, 3, 5], [])\n\n&gt;&gt;&gt; divide_list(lambda x: x['a'], [{'a': True, 'b': 1}, {'a': True}, {'a': False}])\n([{'a': True, 'b': 1}, {'a': True}], [{'a': False}])\n</code></pre>\n\n<p>Things to note:</p>\n\n<ul>\n<li>the input list may not be sorted </li>\n<li>the input list may contain duplicate elements</li>\n<li>ideally we don't want to evaluate the condition multiple times (for each element, if the value is duplicated then that's ok)</li>\n<li>ideally it would accept an iterator as input (i.e. can only do a single pass over the input data)</li>\n<li>returning iterators is acceptable</li>\n</ul>\n"}, {"tags": ["python", "macos", "cmake", "player-stage"], "comments": [{"owner": {"reputation": 4095, "user_id": 3957200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/25mzd.jpg?s=128&g=1", "display_name": "Cinder Biscuits", "link": "https://stackoverflow.com/users/3957200/cinder-biscuits"}, "edited": false, "score": 0, "creation_date": 1494464895, "post_id": 43904255, "comment_id": 74843567, "body": "You say you&#39;re following the instructions on that website, but nowhere does it say to use <code>pip</code> at all. It says install MacPorts and use the <code>port install</code> command."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7788705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07d7e9eaf042a981306e2f9096cc00a8?s=128&d=identicon&r=PG&f=1", "display_name": "DannaLee", "link": "https://stackoverflow.com/users/7788705/dannalee"}, "edited": false, "score": 0, "creation_date": 1494467523, "post_id": 43904905, "comment_id": 74844170, "body": "thanks. I just restarted the terminal, and it worked."}], "tags": [], "owner": {"reputation": 4095, "user_id": 3957200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/25mzd.jpg?s=128&g=1", "display_name": "Cinder Biscuits", "link": "https://stackoverflow.com/users/3957200/cinder-biscuits"}, "is_accepted": false, "score": 1, "last_activity_date": 1494465095, "creation_date": 1494465095, "answer_id": 43904905, "question_id": 43904255, "link": "https://stackoverflow.com/questions/43904255/installing-cmake-on-mac-skbuild-not-found-error/43904905#43904905", "title": "installing cmake on Mac (skbuild not found error)", "body": "<p>Read the instructions again. Nowhere does it say to use <code>pip</code>. You need to install <a href=\"https://www.macports.org/install.php\" rel=\"nofollow noreferrer\">MacPorts</a> and then follow the instructions that are on that page which say to install using <code>sudo port install cmake</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 1538, "user_id": 1539918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22ba429c4723529283ff7cb79a9e433f?s=128&d=identicon&r=PG", "display_name": "J-Christophe", "link": "https://stackoverflow.com/users/1539918/j-christophe"}, "is_accepted": false, "score": 0, "last_activity_date": 1559458546, "creation_date": 1559458546, "answer_id": 56412822, "question_id": 43904255, "link": "https://stackoverflow.com/questions/43904255/installing-cmake-on-mac-skbuild-not-found-error/56412822#56412822", "title": "installing cmake on Mac (skbuild not found error)", "body": "<p>To close the loop, few days ago we released per-platform generic cmake python wheels, the error discussed above should now be fixed.</p>\n"}], "owner": {"reputation": 3, "user_id": 7788705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07d7e9eaf042a981306e2f9096cc00a8?s=128&d=identicon&r=PG&f=1", "display_name": "DannaLee", "link": "https://stackoverflow.com/users/7788705/dannalee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1352, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559458546, "creation_date": 1494459530, "question_id": 43904255, "link": "https://stackoverflow.com/questions/43904255/installing-cmake-on-mac-skbuild-not-found-error", "title": "installing cmake on Mac (skbuild not found error)", "body": "<p>I was trying to install p/s following these steps\nLink: <a href=\"http://jessicaaustin.net/installing-playerstage-on-os-x-leopard/\" rel=\"nofollow noreferrer\">http://jessicaaustin.net/installing-playerstage-on-os-x-leopard/</a></p>\n\n<p>In step 2, I tryed 'pip install cmake'</p>\n\n<p>[MacBook-Air:~ DAN$ pip install cmake<br>\nCollecting cmake<br>\n  Downloading cmake-0.6.0.tar.gz (33.7MB)<br>\n    89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 30.0MB -265183bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 30.0MB -241230bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 30.0MB -173692bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 30.0MB -173711bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 30.1MB -164223bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 30.1MB -183786bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 30.1MB -164140bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 30.1MB -155566bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 30.1MB -515676bytes/s eta -1 day, 23:    <br>89% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 30.1MB -395430bytes/s eta -1 day, 23:    <br>100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 33.7MB 20kB/s \n    <br>Complete output from command python setup.py egg_info:\n    <br>Traceback (most recent call last):\n      <br>File \"\", line 1, in \n      <br>File \"/private/var/folders/vv/qxzv12kx34zdq2xv080myyxc0000gq/T/pip-build-s_l0sewb/cmake/setup.py\", line 7, in \n        <br>from skbuild import setup\n    <br>ModuleNotFoundError: No module named 'skbuild'</p>\n\n<p>this error happend.</p>\n\n<p>what should I do?</p>\n"}, {"tags": ["python", "excel", "string", "unicode", "unicode-string"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1494458833, "post_id": 43904151, "comment_id": 74842305, "body": "It seems the attributes are of type <code>int</code>, not <code>unicode</code>..."}, {"owner": {"reputation": 18344, "user_id": 119326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b29825e83c1da695da0e22b4198a0105?s=128&d=identicon&r=PG", "display_name": "Cfreak", "link": "https://stackoverflow.com/users/119326/cfreak"}, "edited": false, "score": 0, "creation_date": 1494458891, "post_id": 43904151, "comment_id": 74842316, "body": "<code>unicode</code> is a string. Unless you need ascii for something you probably don&#39;t need to convert it at all."}, {"owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1494460355, "post_id": 43904151, "comment_id": 74842631, "body": "when I do type(x), I get &lt;type, &#39;unicode&#39;&gt;. But I want &lt;type, &#39;str&#39;&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1494460211, "post_id": 43904182, "comment_id": 74842607, "body": "that removes the error, but the list elements still remain in unicode type only rather than being in string type."}, {"owner": {"reputation": 4837, "user_id": 6791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64abd0ee599a9f701add1abe4e2d6124?s=128&d=identicon&r=PG&f=1", "display_name": "cco", "link": "https://stackoverflow.com/users/6791802/cco"}, "reply_to_user": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1494460886, "post_id": 43904182, "comment_id": 74842736, "body": "<code>data = [unicode(x).encode(&#39;UTF8&#39;) for x in data]</code> will replace the old list with the new."}], "tags": [], "owner": {"reputation": 4837, "user_id": 6791802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64abd0ee599a9f701add1abe4e2d6124?s=128&d=identicon&r=PG&f=1", "display_name": "cco", "link": "https://stackoverflow.com/users/6791802/cco"}, "is_accepted": true, "score": 0, "last_activity_date": 1494458955, "creation_date": 1494458955, "answer_id": 43904182, "question_id": 43904151, "link": "https://stackoverflow.com/questions/43904151/unable-to-convert-unicode-to-string-in-python-getting-error/43904182#43904182", "title": "Unable to convert unicode to string in python getting error", "body": "<p>The last error is coming from <code>str(x)</code>; if you use <code>[unicode(x).encode('UTF8') for x in data]</code>, you will avoid that error.</p>\n"}], "owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1396, "favorite_count": 0, "accepted_answer_id": 43904182, "answer_count": 1, "score": 0, "last_activity_date": 1494460677, "creation_date": 1494458615, "last_edit_date": 1494460677, "question_id": 43904151, "link": "https://stackoverflow.com/questions/43904151/unable-to-convert-unicode-to-string-in-python-getting-error", "title": "Unable to convert unicode to string in python getting error", "body": "<p>I'm reading a column from an excel file into a list as follows:</p>\n\n<pre><code>import xlrd\nimport openpyxl\nbook = xlrd.open_workbook(\"English corpus.xlsx\")\nsheet = book.sheet_by_index(0)\n\n\ndata=[]\nfor row_index in xrange(1, sheet.nrows): # skip heading row\n    timestamp, text, header, transporter, device_type = sheet.row_values(row_index, end_colx=5)\n    print (text)\n    data.append(text)\n</code></pre>\n\n<p>But with the the elements in the <code>data</code> list are of type \"unicode\". I tried doing the following to convert them to string:</p>\n\n<pre><code>[x.encode('UTF8') for x in data]\n</code></pre>\n\n<p>But then it gives me the following error:</p>\n\n<pre><code>AttributeError: 'int' object has no attribute 'encode'\n</code></pre>\n\n<p>then I tried doing the following:</p>\n\n<pre><code>[str(x).encode('UTF8') for x in data]\n</code></pre>\n\n<p>that's giving me the following error:</p>\n\n<pre><code>UnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 176: ordinal not in range(128)\n</code></pre>\n\n<p>OR:\nIf you could tell me how I could read from the excel column into the list not as unicode elements but normal string. Thanks</p>\n"}, {"tags": ["python", "path"], "answers": [{"tags": [], "owner": {"reputation": 663, "user_id": 5580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37e92cff78866f285fc482c706533647?s=128&d=identicon&r=PG&f=1", "display_name": "suvy", "link": "https://stackoverflow.com/users/5580002/suvy"}, "is_accepted": true, "score": 1, "last_activity_date": 1494459893, "creation_date": 1494459893, "answer_id": 43904303, "question_id": 43904140, "link": "https://stackoverflow.com/questions/43904140/python-pythonpath/43904303#43904303", "title": "Python: PYTHONPATH", "body": "<p>I recommend using a python package manager like <a href=\"https://conda.io/docs/get-started.html\" rel=\"nofollow noreferrer\">miniconda</a>;\nthen install packages with </p>\n\n<pre><code>conda install blahblah \n</code></pre>\n\n<p>it saves lot of time and pain!</p>\n\n<p>and git sources can be installed using pip, (which also comes with miniconda) like</p>\n\n<pre><code>pip install -e git://git.myproject.org/MyProject.git@master#egg=MyProject\n</code></pre>\n\n<p>look <a href=\"https://pip.pypa.io/en/stable/reference/pip_install/#git\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 842, "user_id": 6638511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5176f6b055a8c0333c8413feae4e4cf?s=128&d=identicon&r=PG&f=1", "display_name": "AndreyIto", "link": "https://stackoverflow.com/users/6638511/andreyito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 43904303, "answer_count": 1, "score": 0, "last_activity_date": 1494459893, "creation_date": 1494458509, "question_id": 43904140, "link": "https://stackoverflow.com/questions/43904140/python-pythonpath", "title": "Python: PYTHONPATH", "body": "<p>This should be a very pedestrian question, but how do I go about making it so that everytime I write a new python library, or download one from Github, I can just do:</p>\n\n<p><code>$ import my_module</code></p>\n\n<p>or </p>\n\n<p><code>$ import github_module</code></p>\n\n<p>without any fuss?</p>\n\n<p>Is there a recommended directory in which to save all my custom or downloaded modules?  Just in case: I installed Python3.6 using <code>brew install</code>, because some Youtube video told me that this is the neatest way to do it.</p>\n\n<p>Attempted solutions:</p>\n\n<ul>\n<li>Appending <code>/path/to/my_module</code> to <code>sys.path</code> every time. Sort of\nworks, but not neat.</li>\n<li>Tinkering with the <code>./profile</code>, or <code>./bash_profile</code>. However, after I saved the session and tried to reopen my terminal again, bash wouldn't recognise any of my commands like <code>jupyter notebook</code>. I did an emergency undo to revert the <code>./profile</code> file to its original state. Given my lack of knowledge of the Mac OS, I'm wary of messing with these files unless I really know what I'm doing.</li>\n</ul>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 12906, "user_id": 6849682, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dVNqQ.png?s=128&g=1", "display_name": "bigbounty", "link": "https://stackoverflow.com/users/6849682/bigbounty"}, "edited": false, "score": 0, "creation_date": 1494458505, "post_id": 43904113, "comment_id": 74842227, "body": "Give a return statement in the if condition"}, {"owner": {"reputation": 3, "user_id": 7308108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad45b1d9c5cc6f5085c80af98df1e3d?s=128&d=identicon&r=PG&f=1", "display_name": "johnbowman", "link": "https://stackoverflow.com/users/7308108/johnbowman"}, "reply_to_user": {"reputation": 12906, "user_id": 6849682, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dVNqQ.png?s=128&g=1", "display_name": "bigbounty", "link": "https://stackoverflow.com/users/6849682/bigbounty"}, "edited": false, "score": 0, "creation_date": 1494459113, "post_id": 43904113, "comment_id": 74842379, "body": "@bigbounty i added one and it still repeats"}, {"owner": {"reputation": 12906, "user_id": 6849682, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dVNqQ.png?s=128&g=1", "display_name": "bigbounty", "link": "https://stackoverflow.com/users/6849682/bigbounty"}, "edited": false, "score": 0, "creation_date": 1494465448, "post_id": 43904113, "comment_id": 74843688, "body": "I told inside if,not outside if"}], "owner": {"reputation": 3, "user_id": 7308108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad45b1d9c5cc6f5085c80af98df1e3d?s=128&d=identicon&r=PG&f=1", "display_name": "johnbowman", "link": "https://stackoverflow.com/users/7308108/johnbowman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1494458462, "answer_count": 0, "score": 0, "last_activity_date": 1494459979, "creation_date": 1494458347, "last_edit_date": 1494459979, "question_id": 43904113, "link": "https://stackoverflow.com/questions/43904113/cant-find-why-my-code-is-repeating-in-python", "closed_reason": "Duplicate", "title": "Can&#39;t find why my code is repeating in python", "body": "<p>This block of code keeps repeating and I can't find out why. I am using python 2.7.  </p>\n\n<pre><code>def source():\n    print \"What is the source of the emails that you want to sort?\"\n    start_source = raw_input(\"&gt; \")\n    print \"The source is: \\\"\" + start_source + \"\\\" is this correct? Enter yes/no/y/n\"\n    answer = raw_input(\"&gt; \")\n    if answer == \"no\" or \"n\":\n        source()\n    return start_source\nsource()\n</code></pre>\n"}, {"tags": ["python", "django", "session-variables"], "answers": [{"comments": [{"owner": {"reputation": 2200, "user_id": 2065017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLjdY.png?s=128&g=1", "display_name": "blagae", "link": "https://stackoverflow.com/users/2065017/blagae"}, "edited": false, "score": 0, "creation_date": 1494483842, "post_id": 43904682, "comment_id": 74849034, "body": "It looks like I should have read the docs a bit further: <a href=\"https://docs.djangoproject.com/en/1.11/topics/http/sessions/#when-sessions-are-saved\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.11/topics/http/sessions/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "is_accepted": true, "score": 4, "last_activity_date": 1494462921, "creation_date": 1494462921, "answer_id": 43904682, "question_id": 43904060, "link": "https://stackoverflow.com/questions/43904060/editing-session-variable-in-django/43904682#43904682", "title": "Editing session variable in Django", "body": "<p>In Django as it is implemented the session is updated when it is changed. </p>\n\n<p>This is pretty straightforward for immutable type since they are always changed by assignments and the sessions <code>__setitem__</code> is called. The session knows about the change.</p>\n\n<p>If you store a mutable object like your list in the session it only holds a reference to it. If the list is changed the reference stays the same. Nothing is called on the session. It will never notice the change.</p>\n\n<p>So, with Djangos sessions you should always use an assignment to store or change values.</p>\n"}], "owner": {"reputation": 2200, "user_id": 2065017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLjdY.png?s=128&g=1", "display_name": "blagae", "link": "https://stackoverflow.com/users/2065017/blagae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "accepted_answer_id": 43904682, "answer_count": 1, "score": 1, "last_activity_date": 1494462921, "creation_date": 1494457976, "question_id": 43904060, "link": "https://stackoverflow.com/questions/43904060/editing-session-variable-in-django", "title": "Editing session variable in Django", "body": "<p>I want to store a Python list in my session variable and edit it on subsequent view calls. I just did this (in a view):</p>\n\n\n\n<pre class=\"lang-py prettyprint-override\"><code>if 'x' not in request.session:\n    request.session['x'] = []\nrequest.session['x'].append('test')\n</code></pre>\n\n<p>This only works on the first try, i.e. the session will actually contain <code>['test']</code> under dict key <code>'x'</code> after the first time this view is called. However, when I try to do this a second time, the list is updated (as I can see when debugging) but the value is not persisted, as evidenced by debugging any subsequent calls: the value remains <code>['test']</code> long-term, instead of becoming <code>['test','test']</code>.</p>\n\n<p>I have found the following step as a workaround, but I'm unsure whether I should try working around it: does this code circumvent a reasonable constraint imposed by Django ?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>temp_var = request.session['x']\ntemp_var.append('test')\nrequest.session['x'] = temp_var\n</code></pre>\n"}, {"tags": ["python", "knn"], "answers": [{"tags": [], "owner": {"reputation": 663, "user_id": 5580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37e92cff78866f285fc482c706533647?s=128&d=identicon&r=PG&f=1", "display_name": "suvy", "link": "https://stackoverflow.com/users/5580002/suvy"}, "is_accepted": false, "score": 0, "last_activity_date": 1494460482, "creation_date": 1494460482, "answer_id": 43904382, "question_id": 43904045, "link": "https://stackoverflow.com/questions/43904045/how-to-get-list-all-the-neighbors-from-knn-for-each-instance-in-python/43904382#43904382", "title": "how to get list all the neighbors from KNN for each instance in python", "body": "<p><a href=\"https://turi.com/\" rel=\"nofollow noreferrer\">graphlab</a>  can be easy to implement, free for academic learning. Checkout coursera course on ML with clustering and intro to graphlab <a href=\"https://www.coursera.org/learn/ml-foundations\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I find this link on <a href=\"http://machinelearningmastery.com/tutorial-to-implement-k-nearest-neighbors-in-python-from-scratch/\" rel=\"nofollow noreferrer\">machine learning mastery</a> also easier to understand and implement for a simpler application, written just in python.</p>\n"}], "owner": {"reputation": 31, "user_id": 7572858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a5bed4dceff6f2d5d99d54c53e9dc0?s=128&d=identicon&r=PG&f=1", "display_name": "khan", "link": "https://stackoverflow.com/users/7572858/khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494460482, "creation_date": 1494457829, "question_id": 43904045, "link": "https://stackoverflow.com/questions/43904045/how-to-get-list-all-the-neighbors-from-knn-for-each-instance-in-python", "title": "how to get list all the neighbors from KNN for each instance in python", "body": "<p>i don't know much about python but for my class i must make a KNN classification where i need to get all the neighbors (not just the predicted one by majority vote) and get percentage of each of the neighbors (percentage of chance of occuring). for example my train data looks like: </p>\n\n<pre><code>zip          lat    long\n77339   73730.689   -990323.6834\n77339   73731.699   -990323.6834\n77345   71679.54137 -998244.7071\n77346   71679.54137 -998245.7071\n</code></pre>\n\n<p>and my test data is:</p>\n\n<pre><code>77388   55410.72694 -994507.7348    \n77389   60816.86756 -990211.3075    \n77396   68641.10762 -997071.3902    \n77380   48762.26134 -978612.6912    \n</code></pre>\n\n<p>where zip is the class needed to predict. i made two file for train and test set. my goal is to get the neighbor list for each of the test instances. so, if the majority vote says the predict zip for zip 77388 in testset is 77380 (k=3),then i wanna know what is the percentage for occuring 77380 as well as of other neighbors for that zip (other 2 neighbors might be 77388, 77389).  </p>\n\n<p>i tried the following code with help of this link <a href=\"http://alexhwoods.com/k-nearest-neighbors-in-scikit-learn/\" rel=\"nofollow noreferrer\">http://alexhwoods.com/k-nearest-neighbors-in-scikit-learn/</a> . </p>\n\n<pre><code>import pandas as pd\nimport numpy as np\ntrain =pd.read_csv('C:\\\\train.csv')\ntest =pd.read_csv('C:\\\\test.csv')\n\nfrom sklearn.neighbors import KNeighborsClassifier\ncols=['lat','long']\ncols2=['tweetzip']\n\ntrainArr=train.as_matrix(cols) #trainArr= has training numeric feature (location)\ntrainRes=train.as_matrix(cols2) # trainRes= contains the correct zip for training data\ntestArr=test.as_matrix(cols) ##testArr= has location of test data\ntestRes=test.as_matrix(cols2) # ##testRes= has correct tweetzip for test tada\n\nknn =KNeighborsClassifier(n_neighbors=3,weights='uniform')\nknn.fit(trainArr,trainRes.ravel())\noutput=knn.predict(testArr)\nknn.kneighbors(testArr, return_distance=False) ### is it the same as previous line?\n\ntweezip=[]\npredictzip=[]\ncorrect=0.0\nfor i in range(len(output)):\n    if testRes[i][0]==output[i]:\n        correct+=1\n\ntweezip.append(testRes[i][0])\npredictzip.append(output[i])\n\nprint tweezip\nprint predictzip\nprint 'correct',correct/len(output)\n</code></pre>\n\n<p>i tried to find something but cannot find the right one that will be helpful for me. Thank you.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 3789, "user_id": 2284676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/13e34de97b1df53aac80c039b6ffc977?s=128&d=identicon&r=PG&f=1", "display_name": "octohedron", "link": "https://stackoverflow.com/users/2284676/octohedron"}, "edited": false, "score": 0, "creation_date": 1494458078, "post_id": 43904044, "comment_id": 74842124, "body": "if &quot;label&quot; in..."}], "answers": [{"tags": [], "owner": {"reputation": 12906, "user_id": 6849682, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dVNqQ.png?s=128&g=1", "display_name": "bigbounty", "link": "https://stackoverflow.com/users/6849682/bigbounty"}, "is_accepted": false, "score": 0, "last_activity_date": 1494458305, "creation_date": 1494458305, "answer_id": 43904106, "question_id": 43904044, "link": "https://stackoverflow.com/questions/43904044/json-return-ids-if-item-contains-a-label-python/43904106#43904106", "title": "JSON - return id&#39;s if item contains a label - Python", "body": "<p>Iterate over all the elements of <code>loadData['menu']['items']</code> and check if 'label' is present.</p>\n\n<p>Code :</p>\n\n<pre><code>loadData = json.loads(data)\nitems = loadData['menu']['items']\nfor item in items:\n    if 'label' in item.keys():\n        print 'Label Found'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 2, "last_activity_date": 1494458383, "creation_date": 1494458383, "answer_id": 43904120, "question_id": 43904044, "link": "https://stackoverflow.com/questions/43904044/json-return-ids-if-item-contains-a-label-python/43904120#43904120", "title": "JSON - return id&#39;s if item contains a label - Python", "body": "<p>Assuming a static structure that always has the given keys:</p>\n\n<pre><code>[d[\"id\"] for d in loadData[\"menu\"][\"items\"] if \"label\" in d]\n</code></pre>\n\n<p>will get you a list of all ids...</p>\n"}], "owner": {"reputation": 6124, "user_id": 461887, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/73a86b3136bfdda99045ba5de86dd9ec?s=128&d=identicon&r=PG", "display_name": "sayth", "link": "https://stackoverflow.com/users/461887/sayth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494458383, "creation_date": 1494457822, "question_id": 43904044, "link": "https://stackoverflow.com/questions/43904044/json-return-ids-if-item-contains-a-label-python", "title": "JSON - return id&#39;s if item contains a label - Python", "body": "<p>For this json data I have loaded. How can I return all the \"id\" values for items that contain \"label\"?</p>\n\n<pre><code>import json\ndata = json.dumps({\"menu\": {\n    \"header\": \"SVG Viewer\",\n    \"items\": [\n        {\"id\": \"Open\"},\n        {\"id\": \"OpenNew\", \"label\": \"Open New\"},\n        {\"id\": \"ZoomIn\", \"label\": \"Zoom In\"},\n        {\"id\": \"ZoomOut\", \"label\": \"Zoom Out\"},\n        {\"id\": \"OriginalView\", \"label\": \"Original View\"},\n        {\"id\": \"Quality\"},\n        {\"id\": \"Pause\"},\n        {\"id\": \"Mute\"},\n        {\"id\": \"Find\", \"label\": \"Find...\"},\n        {\"id\": \"FindAgain\", \"label\": \"Find Again\"},\n        {\"id\": \"Copy\"},\n        {\"id\": \"CopyAgain\", \"label\": \"Copy Again\"},\n        {\"id\": \"CopySVG\", \"label\": \"Copy SVG\"},\n        {\"id\": \"ViewSVG\", \"label\": \"View SVG\"},\n        {\"id\": \"ViewSource\", \"label\": \"View Source\"},\n        {\"id\": \"SaveAs\", \"label\": \"Save As\"},\n        {\"id\": \"Help\"},\n        {\"id\": \"About\", \"label\": \"About Adobe CVG Viewer...\"}\n    ]\n}})\n</code></pre>\n\n<p>I can access an individual element however cannot create a loop that iterates all id's containing a label.</p>\n\n<p>This is how I individually access an item.</p>\n\n<pre><code>loadData = json.loads(data)\nloadData\nitems = loadData['menu']['items'][1]\nprint(items['label'])\n</code></pre>\n"}, {"tags": ["python", "django", "celery", "gunicorn", "supervisord"], "comments": [{"owner": {"reputation": 1354, "user_id": 2365267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sobst.jpg?s=128&g=1", "display_name": "munsu", "link": "https://stackoverflow.com/users/2365267/munsu"}, "edited": false, "score": 0, "creation_date": 1494463866, "post_id": 43904036, "comment_id": 74843347, "body": "I&#39;m guessing for your actual problem here so let me know if this doesn&#39;t help. This will tell you where to find the celery command: <code>type -a celery</code>. Usually it&#39;s in the bin folder of your virtualenv. You don&#39;t need gunicorn to run celery inside supervisor."}, {"owner": {"reputation": 374, "user_id": 4179642, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9f75a77b3e5fd92911c48b01c471ab81?s=128&d=identicon&r=PG&f=1", "display_name": "Pipsqweek", "link": "https://stackoverflow.com/users/4179642/pipsqweek"}, "reply_to_user": {"reputation": 1354, "user_id": 2365267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sobst.jpg?s=128&g=1", "display_name": "munsu", "link": "https://stackoverflow.com/users/2365267/munsu"}, "edited": false, "score": 0, "creation_date": 1494469534, "post_id": 43904036, "comment_id": 74844624, "body": "Since I asked this question, I&#39;ve made a bit of progress with my &quot;misunderstanding&quot;. Does running a celery worker create a django instance within itself? Otherwise I&#39;ve started both a gunicorn/django instance and a celery instance, assuming the django instance cooperates with celery instance."}], "answers": [{"comments": [{"owner": {"reputation": 374, "user_id": 4179642, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9f75a77b3e5fd92911c48b01c471ab81?s=128&d=identicon&r=PG&f=1", "display_name": "Pipsqweek", "link": "https://stackoverflow.com/users/4179642/pipsqweek"}, "edited": false, "score": 0, "creation_date": 1494472658, "post_id": 43905920, "comment_id": 74845338, "body": "Thank you very much will check that."}], "tags": [], "owner": {"reputation": 56, "user_id": 7988418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/789e2237692ee07d4ef742b6cfa30e91?s=128&d=identicon&r=PG", "display_name": "Andrew Regan", "link": "https://stackoverflow.com/users/7988418/andrew-regan"}, "is_accepted": true, "score": 4, "last_activity_date": 1494472410, "creation_date": 1494472410, "answer_id": 43905920, "question_id": 43904036, "link": "https://stackoverflow.com/questions/43904036/using-supervisor-and-gunicorn-to-start-up-django-celery-processes/43905920#43905920", "title": "Using supervisor and gunicorn to start up django-celery processes?", "body": "<pre><code>celery -A app worker -l info\n</code></pre>\n\n<p>The command above will start an instance of the celery worker in the foreground.</p>\n\n<p>There is <a href=\"https://github.com/celery/celery/tree/master/extra/supervisord/\" rel=\"nofollow noreferrer\">an example supervisor configuration available in the celery source</a> if you'd like to use supervisor to daemonize the worker. Supervisor can manage multiple programs, so you can use it to manage gunicorn and one or more instances of celery worker if you'd like.</p>\n\n<p>The celery worker runs as its own process. It connects to a broker (such as redis) and waits for tasks on a queue that you configure. These tasks would be sent from your django app.</p>\n\n<p>The following tutorial does a very good job of explaining how to configure supervisor to launch and manage a celery worker. <a href=\"https://realpython.com/blog/python/asynchronous-tasks-with-django-and-celery/\" rel=\"nofollow noreferrer\">https://realpython.com/blog/python/asynchronous-tasks-with-django-and-celery/</a> </p>\n"}], "owner": {"reputation": 374, "user_id": 4179642, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9f75a77b3e5fd92911c48b01c471ab81?s=128&d=identicon&r=PG&f=1", "display_name": "Pipsqweek", "link": "https://stackoverflow.com/users/4179642/pipsqweek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1525, "favorite_count": 0, "accepted_answer_id": 43905920, "answer_count": 1, "score": 1, "last_activity_date": 1494472410, "creation_date": 1494457790, "question_id": 43904036, "link": "https://stackoverflow.com/questions/43904036/using-supervisor-and-gunicorn-to-start-up-django-celery-processes", "title": "Using supervisor and gunicorn to start up django-celery processes?", "body": "<p>Confusion! </p>\n\n<p>Its easy to launch django using supervisor, such as below - based on a tutorial I found: </p>\n\n<p>supervisord.conf:</p>\n\n<pre><code>[program:gunicorn]\ncommand=/home/me/.virtualenvs/app/bin/gunicorn app.wsgi:application --bind 127.0.0.1:8000 ;\n</code></pre>\n\n<p>Yet celery seems to require its own startup method: </p>\n\n<pre><code>celery -A app worker -l info \n</code></pre>\n\n<p>So in my ignorance/confusion it appears I have to either start with Gunicorn or Celery. Obviously I'm confused since no doubt many use celery within Supervisor. </p>\n\n<p>Where am I going wrong? How do I use supervisor to start up a celery-django app within Gunicorn?</p>\n"}, {"tags": ["python", "machine-learning", "gensim", "word2vec", "text-classification"], "comments": [{"owner": {"reputation": 1524, "user_id": 5545946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/81mc3.png?s=128&g=1", "display_name": "Lenka Vran&#225;", "link": "https://stackoverflow.com/users/5545946/lenka-vran%c3%a1"}, "edited": false, "score": 1, "creation_date": 1494516325, "post_id": 43904029, "comment_id": 74872648, "body": "If you are trying to categorize whole documents, you should check Doc2Vec model which is also available in gensim library. The (little bit outdated) tutorial is here: <a href=\"https://rare-technologies.com/doc2vec-tutorial/\" rel=\"nofollow noreferrer\">rare-technologies.com/doc2vec-tutorial</a> and be sure to check my answer here with up-to-date version: <a href=\"http://stackoverflow.com/questions/31321209/doc2vec-how-to-get-document-vectors/39329194#39329194\" title=\"doc2vec how to get document vectors\">stackoverflow.com/questions/31321209/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 8001386, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3COYkt2-nNE/AAAAAAAAAAI/AAAAAAAAABM/N3Ybj1tmaBE/photo.jpg?sz=128", "display_name": "Ivan Menshikh", "link": "https://stackoverflow.com/users/8001386/ivan-menshikh"}, "is_accepted": false, "score": 2, "last_activity_date": 1494843403, "creation_date": 1494843403, "answer_id": 43976879, "question_id": 43904029, "link": "https://stackoverflow.com/questions/43904029/how-extract-vocabulary-vectors-from-gensims-word2vec/43976879#43976879", "title": "How extract vocabulary vectors from gensim&#39;s word2vec?", "body": "<ol>\n<li><p>If you have trained word2vec model, you can get word-vector by <code>__getitem__</code> method</p>\n\n<p><code>model = gensim.models.Word2Vec(sentences)\nprint(model[\"some_word_from_dictionary\"])</code></p></li>\n<li><p>Unfortunately, embeddings from word2vec/doc2vec not interpreted by a person (in contrast to topic vectors from LdaModel)</p></li>\n</ol>\n\n<p>P/S If you have texts at the object in your tasks, then you should use Doc2Vec model</p>\n"}], "owner": {"reputation": 361, "user_id": 4660314, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/ec5c61f473414f9250a79ab4ce9d0c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Farhood", "link": "https://stackoverflow.com/users/4660314/farhood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1205, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494843403, "creation_date": 1494457765, "last_edit_date": 1494473159, "question_id": 43904029, "link": "https://stackoverflow.com/questions/43904029/how-extract-vocabulary-vectors-from-gensims-word2vec", "title": "How extract vocabulary vectors from gensim&#39;s word2vec?", "body": "<p>I want to analyze the vectors looking for patterns and stuff, and use SVM on them to complete a classification task between class A and B, the task should be supervised. (I know it may sound odd but it's our homework.) so as a result I really need to know:</p>\n\n<p>1- how to extract the coded vectors of a document using a trained model?</p>\n\n<p>2- how to interpret them and how does word2vec code them?</p>\n\n<p>I'm using gensim's word2vec.</p>\n"}, {"tags": ["javascript", "python", "html", "audio", "flask"], "comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1494978898, "post_id": 43903963, "comment_id": 75054887, "body": "1) Have you tried setting <code>type</code> of <code>Blob</code> to <code>&quot;audio&#47;webm;codecs=opus&quot;</code> or <code>&quot;audio&#47;ogg;codecs=opus&quot;</code>?; 2) At <code>load</code> event of <code>XMLHttpRequest()</code> call the appropriate function."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 2, "creation_date": 1495409671, "post_id": 43903963, "comment_id": 75225705, "body": "Afaik no UA supports encoding to mp3 natively yet (may soon change with the end of royalties). The easiest is to not set it, let the browser handle that to its preferred MimeType. Similarly, you don&#39;t need to set the request headers when sending a formData. Checking your file&#39;s validity on its filename is a very bad idea. Now I guess it won&#39;t fix your issues but I though it was worth telling you."}, {"owner": {"reputation": 560, "user_id": 5030518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dyff7.jpg?s=128&g=1", "display_name": "Kevin Caravaggio", "link": "https://stackoverflow.com/users/5030518/kevin-caravaggio"}, "edited": false, "score": 0, "creation_date": 1495480471, "post_id": 43903963, "comment_id": 75260236, "body": "I think it&#39;s no bueno to post audio files to server side. I wouldn&#39;t plain old js for this either. I suggest doing upload method, instead of post, to a file server. Then post a message to the server on success with filename. Now the backend API only has to process sound files."}, {"owner": {"reputation": 3522, "user_id": 4485747, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002137762728/picture?type=large", "display_name": "Nadir Laskar", "link": "https://stackoverflow.com/users/4485747/nadir-laskar"}, "edited": false, "score": 0, "creation_date": 1495522499, "post_id": 43903963, "comment_id": 75274089, "body": "Why not convert the blob data to base64 and post the base64 string and decode the base64 string back to audio stream in the backend?"}, {"owner": {"reputation": 491, "user_id": 5532806, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2ebea7370a7d795c426ccbfb7e5091bd?s=128&d=identicon&r=PG&f=1", "display_name": "Anurag", "link": "https://stackoverflow.com/users/5532806/anurag"}, "edited": false, "score": 0, "creation_date": 1495524022, "post_id": 43903963, "comment_id": 75275001, "body": "you should check this repo <a href=\"https://github.com/coligo-io/file-uploader\" rel=\"nofollow noreferrer\">github.com/coligo-io/file-uploader</a>  It works perfectly for your needs but it uses node as backend"}, {"owner": {"reputation": 9298, "user_id": 612717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZyJcC.png?s=128&g=1", "display_name": "Chibueze Opata", "link": "https://stackoverflow.com/users/612717/chibueze-opata"}, "edited": false, "score": 0, "creation_date": 1495536116, "post_id": 43903963, "comment_id": 75283438, "body": "You are omitting the <code>handle_file</code> method. I reckon this is where your current problems are from. We need to see how you&#39;re saving the file."}, {"owner": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1498318040, "post_id": 43903963, "comment_id": 76457438, "body": "@Kaiido &quot;Afaik no UA supports encoding to mp3 natively yet.&quot; Isn&#39;t that what the MediaRecorder API does?"}, {"owner": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 0, "creation_date": 1498318106, "post_id": 43903963, "comment_id": 76457461, "body": "Which browser and media player are you using to test this? Your example works for me in chrome."}, {"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1498321551, "post_id": 43903963, "comment_id": 76458462, "body": "Are you then able to play the downloaded mp3 file?"}, {"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1498321560, "post_id": 43903963, "comment_id": 76458468, "body": "I am using Chrome and VLC."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 0, "creation_date": 1498340485, "post_id": 43903963, "comment_id": 76463614, "body": "@0xcaff nope. The MediaRecorder encodes in what the browser can encode, i.e free codecs for both FF and chrome like opus. Until last month mp3 wasn&#39;t free so they wouldn&#39;t pay the royalties."}, {"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1498353164, "post_id": 43903963, "comment_id": 76465799, "body": "I don&#39;t mind everything being in .wav here. Is that possible?"}], "answers": [{"comments": [{"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1498312049, "post_id": 44128011, "comment_id": 76455564, "body": "When I do this, the Flask <code>request.form</code> is <code>ImmutableMultiDict([(&#39;file&#39;, u&#39;&#39;)])</code>. Shouldn&#39;t the <code>base64string</code> be the value of that dict entry?"}, {"owner": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 2, "creation_date": 1498313270, "post_id": 44128011, "comment_id": 76455950, "body": "Base64 encoding bloats the request. You go from being able to store 1..265 per byte to only being able to store 1..64. Base64 is 4x worse than raw."}], "tags": [], "owner": {"reputation": 3522, "user_id": 4485747, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002137762728/picture?type=large", "display_name": "Nadir Laskar", "link": "https://stackoverflow.com/users/4485747/nadir-laskar"}, "is_accepted": false, "score": 2, "last_activity_date": 1495524301, "last_edit_date": 1495524301, "creation_date": 1495523393, "answer_id": 44128011, "question_id": 43903963, "link": "https://stackoverflow.com/questions/43903963/post-html5-audio-data-to-server/44128011#44128011", "title": "POST HTML5 audio data to server", "body": "<p>Try Converting the audio blob to Base64 and post the base64 string to the server.</p>\n\n<pre><code>function submit(blob) {\n  var reader = new window.FileReader();\n  reader.readAsDataURL(blob);\n  reader.onloadend = function() {\n\n    var fd = new FormData();\n    base64data = reader.result;\n    fd.append('file', base64data, 'audio.mp3');\n\n    $.ajax({\n      type: 'POST',\n      url: '/',\n      data: fd,\n      cache: false,\n      processData: false,\n      contentType: false,\n      enctype: 'multipart/form-data'\n    }).done(function(data) {\n      console.log(data);\n    });\n  }\n\n}\n</code></pre>\n\n<p>Now, Convert the base64 String to a binary stream in your server.</p>\n\n<p>Form more information on how to decode Base64 in python checkout this post. <a href=\"https://stackoverflow.com/questions/3470546/python-base64-data-decode\">Python base64 data decode</a> </p>\n"}, {"comments": [{"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1498399754, "post_id": 44744320, "comment_id": 76475133, "body": "Thanks. I think the last one with .wav is the one I&#39;ll use. However, setting a timeout is not really wanted here, as I would like a <code>start</code> and <code>stop</code> button like in my example. How would you change this to fit with those buttons?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1498402162, "post_id": 44744320, "comment_id": 76475809, "body": "@pk1914 simply move the function called on the timeout to be called where you want, like in a click event."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 5, "last_activity_date": 1498376701, "creation_date": 1498376701, "answer_id": 44744320, "question_id": 43903963, "link": "https://stackoverflow.com/questions/43903963/post-html5-audio-data-to-server/44744320#44744320", "title": "POST HTML5 audio data to server", "body": "<p><strong>Note: this answer only treats current implementations in both chrome and Firefox. All this is subject to change any time soon.</strong></p>\n\n<hr>\n\n<p>I am not sure if anything is wrong in your server-side code, but don't send binary data as string. Instead, use an FormData to send it as multipart (you'll win 30% of data + integrity).</p>\n\n<p>Also, it seems that in your MediaRecorder code, you are finalizing the file at every <code>dataavailable</code> event. It's generally not what you want.</p>\n\n<hr>\n\n<p>Currently, no browser does support recording as mp3 natively.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var mimes = ['mpeg', 'mpeg3', 'x-mpeg3', 'mp3', 'x-mpeg']\r\nconsole.log(mimes.some(m=&gt;MediaRecorder.isTypeSupported('audio/'+m)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So if you want to go the MediaRecorder way, you'd have to accommodate yourself with <code>opus</code> codec, encapsulated either in <code>webm</code> for chrome, or <code>ogg</code> for FF : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var enc = ['ogg', 'webm'];\r\nvar mime = \"\";\r\nenc.forEach(e =&gt; {\r\n  if (!mime &amp;&amp; MediaRecorder.isTypeSupported(`audio/${e};codecs=\"opus\"`)) {\r\n    mime = `audio/${e};codecs=\"opus\"`;\r\n  }\r\n});\r\nconsole.log(mime);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So now we've got the correct mimeType, we can simply tell the browser to use it : </p>\n\n<p><a href=\"https://jsfiddle.net/0bjLkvao/\" rel=\"noreferrer\">fiddle for chrome</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var enc = ['ogg', 'webm'];\r\nvar extension = \"\",\r\n  mime = '';\r\nenc.forEach(e =&gt; !extension &amp;&amp;\r\n  (mime = `audio/${e};codecs=\"opus\"`) &amp;&amp;\r\n  MediaRecorder.isTypeSupported(mime) &amp;&amp;\r\n  (extension = e));\r\nnavigator.mediaDevices.getUserMedia({\r\n    audio: true\r\n  })\r\n  .then(stream =&gt; {\r\n    const chunks = [];\r\n    const rec = new MediaRecorder(stream, {\r\n      mimeType: mime // use the mimeType we've found\r\n    });\r\n    // this is not where we build the file, but where we store the chunks\r\n    rec.ondataavailable = e =&gt; chunks.push(e.data);\r\n    rec.onstop = e =&gt; {\r\n      // stop our gUM stream\r\n      stream.getTracks().forEach(t =&gt; t.stop());\r\n      // NOW create the file\r\n      let blob = new Blob(chunks, {\r\n        type: mime\r\n      });\r\n      // we could now send this blob : \r\n      //   let form = new FormData();\r\n      //   form.append('file', blob, 'filename.'+extension;\r\n      //   ... declare xhr\r\n      //   xhr.send(form);\r\n      // but we'll just fetch it for the demo :\r\n      let url = URL.createObjectURL(blob);\r\n      let au = new Audio(url);\r\n      au.controls = true;\r\n      document.body.appendChild(au);\r\n      au.play();\r\n      // and create an downloadable link from it : \r\n      let a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'filename.' + extension;\r\n      a.innerHTML = 'download';\r\n      document.body.appendChild(a);\r\n    };\r\n    rec.start();\r\n    setTimeout(() =&gt; rec.stop(), 3000);\r\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or we could also just let the browser do everything by default. This would be a problem only for the file extension...</p>\n\n<hr>\n\n<p>Now, if you prefer <code>wav</code> over <code>opus</code>, you could let the MediaRecorder away, and simply use the WebAudioAPI, pass your gUM stream to it, and record the data from there. Here I'll use the <a href=\"https://github.com/mattdiamond/Recorderjs\" rel=\"noreferrer\">recorder.js</a> library for simplicity.</p>\n\n<p><a href=\"https://jsfiddle.net/nhkfvwu4/\" rel=\"noreferrer\">fiddle for chrome</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>navigator.mediaDevices.getUserMedia({\r\n  audio: true\r\n})\r\n.then(stream =&gt; {\r\n  const aCtx = new AudioContext();\r\n  const streamSource = aCtx.createMediaStreamSource(stream);\r\n  var rec = new Recorder(streamSource);\r\n  rec.record();\r\n  setTimeout(() =&gt; {\r\n    stream.getTracks().forEach(t =&gt; t.stop());\r\n    rec.stop()\r\n    rec.exportWAV((blob) =&gt; {\r\n      // now we could send this blob with an FormData too\r\n      const url = URL.createObjectURL(blob);\r\n      let au = new Audio(url);\r\n      au.controls = true;\r\n      document.body.appendChild(au);\r\n      au.play();\r\n      let a = document.createElement('a');\r\n      a.href = url;\r\n      a.innerHTML = 'download';\r\n      a.download = 'filename.wav';\r\n      document.body.appendChild(a);\r\n    });\r\n  }, 3000);\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://rawgit.com/mattdiamond/Recorderjs/master/dist/recorder.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And if you really want an mp3, I guess you could use one of the javascript lame libraries available on the web.</p>\n"}], "owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8344, "favorite_count": 5, "accepted_answer_id": 44744320, "answer_count": 2, "score": 14, "last_activity_date": 1498376701, "creation_date": 1494457320, "last_edit_date": 1498321930, "question_id": 43903963, "link": "https://stackoverflow.com/questions/43903963/post-html5-audio-data-to-server", "title": "POST HTML5 audio data to server", "body": "<p>I am currently implementing a web application and I want the users to record some audio and then I want a submit button to POST the mp3 file recorded to the server.</p>\n\n<p>My server (Flask)'s main route <code>'/'</code> is waiting for the POST request:</p>\n\n<pre><code>@app.route('/', methods=['GET', 'POST'])\ndef index():\n  if request.method == \"GET\":\n    return render_template('index.html', request=\"GET\")\n  else:\n    print request.files\n    print request.form\n    print request.form['file']\n    if 'file' not in request.files:\n      flash('No file part')\n      return redirect(request.url)\n    file = request.files['file']\n    if file.filename == '':\n      flash('No selected file')\n      return redirect(request.url)\n    if file and allowed_file(file.filename):\n      handle_file(file)\n    return render_template('index.html', request=\"POST\")\n</code></pre>\n\n<p>Here is my JS code:</p>\n\n<p><a href=\"https://jsfiddle.net/xuyy3han/\" rel=\"nofollow noreferrer\">Jsfiddle</a></p>\n\n<p>There are two main issues here:</p>\n\n<p>1) When I download the mp3 file after recording, it cannot be opened by a media player. It seems like I am doing something wrong in just recording the audio.</p>\n\n<p>2) When I <code>print request.form</code> in my server after getting the POST request, I only get this:</p>\n\n<pre><code>ImmutableMultiDict([('file', u'')])\n</code></pre>\n\n<p>And <code>print request.form['file']</code> returns an empty line.</p>\n\n<p>Why is this happening? Is there something wrong with the POST request.</p>\n\n<p>Finally, I want to be able to <strong>decode</strong> the string I am posting to convert back to mp3. How do I do that?</p>\n\n<p><strong>Note</strong>: None of this has to stay the same. The task is to record audio and then POST it to the server. If there is a more efficient way to do that, any tips are welcome. Also, I don't care if the file will be wav or mp3.</p>\n"}, {"tags": ["python", "django", "django-templates"], "comments": [{"owner": {"reputation": 324, "user_id": 7870354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffff11f4976df9f27f2dac574934e76c?s=128&d=identicon&r=PG", "display_name": "Rod Manning", "link": "https://stackoverflow.com/users/7870354/rod-manning"}, "edited": false, "score": 0, "creation_date": 1494506935, "post_id": 43903957, "comment_id": 74864881, "body": "I think we need more detail about what you&#39;re trying to do and/or why it&#39;s necessary. Based on your comment to @Exprator&#39;s answer, I think you&#39;re only way of doing that will be to modify the content of <code>{{ my_variable }}</code> in the view before it gets passed to the template to include the necessary css (you&#39;d likely have to use <code>mark_safe</code>, which may be an issue). Struggling to understand why you&#39;re trying to do it this way, and why you can&#39;t seperate the two template vars. Can you post the code?"}, {"owner": {"reputation": 109, "user_id": 4843627, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jU8LcnYQ-Mg/AAAAAAAAAAI/AAAAAAAAACw/I4KCeD0NHfs/photo.jpg?sz=128", "display_name": "Gustavo Rangel", "link": "https://stackoverflow.com/users/4843627/gustavo-rangel"}, "reply_to_user": {"reputation": 324, "user_id": 7870354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffff11f4976df9f27f2dac574934e76c?s=128&d=identicon&r=PG", "display_name": "Rod Manning", "link": "https://stackoverflow.com/users/7870354/rod-manning"}, "edited": false, "score": 0, "creation_date": 1494507950, "post_id": 43903957, "comment_id": 74865648, "body": "What exactly I am trying to do: a Search Engine. I pass the content of what&#39;s in the view to the django template, as well as the string used to do the search. And I want to make every occurrence of this string_search in the content passed to django template bold."}, {"owner": {"reputation": 109, "user_id": 4843627, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jU8LcnYQ-Mg/AAAAAAAAAAI/AAAAAAAAACw/I4KCeD0NHfs/photo.jpg?sz=128", "display_name": "Gustavo Rangel", "link": "https://stackoverflow.com/users/4843627/gustavo-rangel"}, "reply_to_user": {"reputation": 324, "user_id": 7870354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffff11f4976df9f27f2dac574934e76c?s=128&d=identicon&r=PG", "display_name": "Rod Manning", "link": "https://stackoverflow.com/users/7870354/rod-manning"}, "edited": false, "score": 0, "creation_date": 1494511216, "post_id": 43903957, "comment_id": 74868391, "body": "Just edited my question, explaining better what I need and putting the code."}, {"owner": {"reputation": 324, "user_id": 7870354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffff11f4976df9f27f2dac574934e76c?s=128&d=identicon&r=PG", "display_name": "Rod Manning", "link": "https://stackoverflow.com/users/7870354/rod-manning"}, "edited": false, "score": 0, "creation_date": 1494828826, "post_id": 43903957, "comment_id": 74974957, "body": "Thanks. You&#39;re going to need to write a custom template tag. I suggest you&#39;d use the tag to search the <code>body</code> for occurrences of <code>&quot;search string&quot;</code> and then wrap those occurrences in html/css as the other answers, below. Let me know if you want a detailed answer setting out how to do this (the Django docs for &quot;Custom Template Tag&quot; are pretty good though)."}], "owner": {"reputation": 109, "user_id": 4843627, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jU8LcnYQ-Mg/AAAAAAAAAAI/AAAAAAAAACw/I4KCeD0NHfs/photo.jpg?sz=128", "display_name": "Gustavo Rangel", "link": "https://stackoverflow.com/users/4843627/gustavo-rangel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494511143, "creation_date": 1494457248, "last_edit_date": 1494511143, "question_id": 43903957, "link": "https://stackoverflow.com/questions/43903957/django-looking-for-a-string-in-the-template", "title": "Django: Looking for a string in the template", "body": "<p>How do I look for a django template variable in another variable?\nLet's say I want to make every occurrence of {{ search_string }} in {{ body }} bold, how do I do that?</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Search: {{ search_string }}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    {% for title, href, body in search_list %}\n        &lt;h4&gt;&lt;a href={{href|safe}} target=\"_blank\"&gt; {{ title }} &lt;/a&gt;&lt;/h4&gt;\n    {{ body }}\n &lt;!-- I need to make occurrences of {{ search_string }} in {{ body }} bold --&gt;\n    {% endfor %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1494457158, "post_id": 43903929, "comment_id": 74841890, "body": "Can you give some code to show a concrete example of your problem? Otherwise its hard to understand your question. With only 10 lines I dont think you should be concerned about consuming resources."}, {"owner": {"reputation": 2034, "user_id": 2304204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mM66T.jpg?s=128&g=1", "display_name": "Oleg Imanilov", "link": "https://stackoverflow.com/users/2304204/oleg-imanilov"}, "edited": false, "score": 0, "creation_date": 1494457211, "post_id": 43903929, "comment_id": 74841904, "body": "call[&quot;tail&quot;,&quot;-9&quot;] - will return last 9 lines"}, {"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1494457256, "post_id": 43903929, "comment_id": 74841918, "body": "I guess my case is not clear; adding some example code. Thanks"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1494457402, "post_id": 43903929, "comment_id": 74841961, "body": "combine <a href=\"http://stackoverflow.com/questions/20364396/how-to-delete-the-first-line-of-a-text-file-using-python\">How to delete the first line of a text file using Python?</a> and <a href=\"http://stackoverflow.com/questions/21839803/how-to-append-new-data-onto-a-new-line\">How to append new data onto a new line</a>"}, {"owner": {"reputation": 12341, "user_id": 3678068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QWjMd.png?s=128&g=1", "display_name": "Fabricator", "link": "https://stackoverflow.com/users/3678068/fabricator"}, "edited": false, "score": 0, "creation_date": 1494457491, "post_id": 43903929, "comment_id": 74841983, "body": "<code>tail -n 10 myfile &gt; tmp &amp;&amp; mv tmp myfile</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1494457664, "post_id": 43903929, "comment_id": 74842038, "body": "I need to run this in Python; I could do it in shell scripting, but I would rather see if I can do it in python"}, {"owner": {"reputation": 70403, "user_id": 29809, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/943a45958eb537b816a95920fb0be24c?s=128&d=identicon&r=PG", "display_name": "R Samuel Klatchko", "link": "https://stackoverflow.com/users/29809/r-samuel-klatchko"}, "edited": false, "score": 0, "creation_date": 1494458911, "post_id": 43903929, "comment_id": 74842320, "body": "Your approach (read the whole file, write out the last 9 lines and then write out the 10th line) is the correct way to do it (and it what you&#39;re doing in the shell although it may not be obvious)."}], "answers": [{"comments": [{"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1494459386, "post_id": 43904064, "comment_id": 74842452, "body": "It&#39;s worth mentioning that Python3 automatically converts the <code>\\n</code> to the correct line ending for the platform if the file is opened in text mode."}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 2, "last_activity_date": 1494457993, "creation_date": 1494457993, "answer_id": 43904064, "question_id": 43903929, "link": "https://stackoverflow.com/questions/43903929/write-on-a-file-so-you-keep-the-last-n-lines/43904064#43904064", "title": "Write on a file so you keep the last N lines", "body": "<p>Use a <code>deque</code> as a buffer, with a <code>maxlen=10</code>, append to the deque, then write from the deque:</p>\n\n<pre><code>Juans-MBP:workspace juan$ cat 10lines.txt\nfirst line\nsecond line\nthird line\nfourth line\nfith line\nsixth line\nseventh line\neigth line\nninth line\ntenth line\nJuans-MBP:workspace juan$ python\nPython 3.5.2 |Anaconda custom (x86_64)| (default, Jul  2 2016, 17:52:12)\n[GCC 4.2.1 Compatible Apple LLVM 4.2 (clang-425.0.28)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from collections import deque\n&gt;&gt;&gt; with open('10lines.txt') as f:\n...     buffer = deque(f, maxlen=10)\n...\n&gt;&gt;&gt; buffer.append('first new line\\n')\n&gt;&gt;&gt; buffer.append('second new line\\n')\n&gt;&gt;&gt; with open('10lines.txt', 'w') as f:\n...     f.writelines(buffer)\n...\n&gt;&gt;&gt; exit()\nJuans-MBP:workspace juan$ cat 10lines.txt\nthird line\nfourth line\nfith line\nsixth line\nseventh line\neigth line\nninth line\ntenth line\nfirst new line\nsecond new line\nJuans-MBP:workspace juan$\n</code></pre>\n\n<p>Note, you have to take care of making sure the lines you append have <code>newlines</code>, because as much as the name might imply it, <code>f.writelines</code> doesn't add newlines.</p>\n"}, {"tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1494459678, "last_edit_date": 1495542870, "creation_date": 1494459678, "answer_id": 43904275, "question_id": 43903929, "link": "https://stackoverflow.com/questions/43903929/write-on-a-file-so-you-keep-the-last-n-lines/43904275#43904275", "title": "Write on a file so you keep the last N lines", "body": "<p>Borrowing from this answer <a href=\"https://stackoverflow.com/questions/20364396/how-to-delete-the-first-line-of-a-text-file-using-python\">How to delete the first line of a text file using Python?</a> to read and delete the first line, then append the new line and write it back to the file. Here's a possible Python2 solution.</p>\n\n<pre><code>newline = \"anoth-48576\"\n\nwith open('file.txt', 'r') as fin:\n    data = fin.read().splitlines(True)\n\nnewdata = data[1:]\n\nif not '\\n' in newdata[-1]:\n    newdata[-1] = newdata[-1]+'\\n'\n\nnewdata.append(newline+'\\n')\n\nwith open('file.txt', 'w') as fout:\n    fout.writelines(newdata)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1494459678, "creation_date": 1494457007, "last_edit_date": 1494458108, "question_id": 43903929, "link": "https://stackoverflow.com/questions/43903929/write-on-a-file-so-you-keep-the-last-n-lines", "title": "Write on a file so you keep the last N lines", "body": "<p>I am trying to keep a file with only 10 entries.</p>\n\n<p>Every time that I write a new one, the oldest entry is replaced by the newest; so the total lines is always 10.</p>\n\n<p>example of the file:</p>\n\n<pre><code>abcde-12345\nakmjk-13249\nofdsi-01230\nfaaoj-10293\nfamdk-05931\nfoajq-10592\nxmdsj-19234\nboxqa-12130\nfdlsp-95392\npaidf-19341\n</code></pre>\n\n<p>When I add a new line with the append command on this file, it goes to increase the total lines of the file, so the file grows every time I add a line. The objective is to append the line at the bottom, removing the first line of the file, so the oldest entry is removed and the new added at the bottom, leaving the total number of lines in the file, always equal to 10.</p>\n\n<p>My approach has been to </p>\n\n<pre><code>-read the file\n-save the last 9 lines in a new file\n-add the 10th line, which is the new one\n-delete the old file, and save the new file with the same name.\n</code></pre>\n\n<p>This has the problem of being cumbersome, slow, not efficient. In Shell scripting I could do it easily, but since I use python, I hoped for a simpler way to do this</p>\n"}, {"tags": ["python", "python-3.x", "python-multiprocessing"], "comments": [{"owner": {"reputation": 11, "user_id": 7451218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127f1993efebbfe7d15ee4ffe37fbe33?s=128&d=identicon&r=PG", "display_name": "John Hiner", "link": "https://stackoverflow.com/users/7451218/john-hiner"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1494458115, "post_id": 43903884, "comment_id": 74842133, "body": "The answer to that post does indeed solve my problem! Thanks, and I&#39;m sorry I missed it."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1494498629, "post_id": 43903884, "comment_id": 74858966, "body": "Seems your <code>Traceback</code> isn&#39;t from your example code. Your code should work, the only thing I want to change is to add a<code>time.sleep(0.2)</code> into the <code>while</code> of <code>func1</code>."}, {"owner": {"reputation": 11, "user_id": 7451218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127f1993efebbfe7d15ee4ffe37fbe33?s=128&d=identicon&r=PG", "display_name": "John Hiner", "link": "https://stackoverflow.com/users/7451218/john-hiner"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1494599111, "post_id": 43903884, "comment_id": 74912440, "body": "For anyone looking at this later: My problem was that the parent process was not waiting for execution of proc1 and proc2 to finish. I just called Process.join() on both proc1 and proc2 at the bottom of the script and it worked."}], "owner": {"reputation": 11, "user_id": 7451218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127f1993efebbfe7d15ee4ffe37fbe33?s=128&d=identicon&r=PG", "display_name": "John Hiner", "link": "https://stackoverflow.com/users/7451218/john-hiner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2198, "favorite_count": 0, "closed_date": 1494599046, "answer_count": 0, "score": 1, "last_activity_date": 1494457530, "creation_date": 1494456702, "last_edit_date": 1494457530, "question_id": 43903884, "link": "https://stackoverflow.com/questions/43903884/attributeerror-when-assigning-to-a-manager-dict-in-a-child-process", "closed_reason": "Duplicate", "title": "AttributeError when assigning to a Manager.dict() in a child process", "body": "<p>I wrote a very simple script to play around with multiprocessing:</p>\n\n<pre><code>import multiprocessing\nimport time\n\ndef func1(d):\n    while d['message'] != 'kill':\n        print(d['message'])\n    print('done')\n\ndef func2(d):\n    for i in range(60):\n        time.sleep(1)\n        d['message'] = 'Message ' + str(i)\n    d['message'] = 'kill'\n\nif __name__ == '__main__':\n    mgr = multiprocessing.Manager()\n    d = mgr.dict()\n    d['message'] = 'Waiting...'\n    print(d['message'])\n    proc1 = multiprocessing.Process(target=func1,args=(d,))\n    proc2 = multiprocessing.Process(target=func2,args=(d,))\n    proc1.start()\n    proc2.start()\n</code></pre>\n\n<p>When I run this a get the following error:</p>\n\n<blockquote>\n  <p>Process Process-2:<br>\n  Traceback (most recent call last):<br>\n   File \"C:\\Python34\\lib\\multiprocessing\\managers.py\", line 724, in _callmethod<br>\n  conn = self._tls.connection<br>\n  AttributeError: 'ForkAwareLocal' object has no attribute 'connection'</p>\n</blockquote>\n\n<p>I've seen some people having similar problems because they've given files the same names as the modules being referenced by the standard library, but I've only written one .py file!</p>\n"}, {"tags": ["python", "python-2.7", "paramiko"], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 2583075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5f3Xp.png?s=128&g=1", "display_name": "Lomanic", "link": "https://stackoverflow.com/users/2583075/lomanic"}, "edited": false, "score": 0, "creation_date": 1535826934, "post_id": 43943658, "comment_id": 91212590, "body": "Thanks for this answer that helped a lot one of my colleagues, I can confirm it works with multifactor authentication (in our case, public key then password), we just had to change the <code>ts.auth_interactive()</code> line to <code>ts.auth_publickey(...); ts.auth_password(...)</code> for our needs."}], "tags": [], "owner": {"reputation": 151, "user_id": 7994322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hv6C4.jpg?s=128&g=1", "display_name": "Erick Brown", "link": "https://stackoverflow.com/users/7994322/erick-brown"}, "is_accepted": false, "score": 8, "last_activity_date": 1494611088, "creation_date": 1494611088, "answer_id": 43943658, "question_id": 43903875, "link": "https://stackoverflow.com/questions/43903875/python-paramiko-client-multifactor-authentication/43943658#43943658", "title": "Python Paramiko (Client) Multifactor Authentication", "body": "<p>Answering my own question because I managed to figure it out, and thought I would share.</p>\n\n<p>The short answer is that one has to create a socket, create a Paramiko client Transport on it, invoke auth_interactive, then open a session. The session provides a Paramiko Channel object which can be take exec_command calls just like the SSHClient object.</p>\n\n<p>The code below is the full reference implementation:\n<pre>\n #!/usr/bin/env python</p>\n\n<code>import paramiko     #Provides SSH functionality\nimport getpass      #Allows for secure prompting and collection of the user password\nimport os           #Used to setup the Paramiko log file\nimport logging      #Used to setup the Paramiko log file\nimport socket       #This method requires that we create our own socket\n\n#Global variables are used to store these data because they're sent to the server by a callback\nuser = \"\"\npw = \"\"\nmfa = \"\"\n\ndef inter_handler(title, instructions, prompt_list):\n    \"\"\"\n    inter_handler: the callback for paramiko.transport.auth_interactive\n\n    The prototype for this function is defined by Paramiko, so all of the\n    arguments need to be there, even though we don't use 'title' or\n    'instructions'.\n\n    The function is expected to return a tuple of data containing the\n    responses to the provided prompts. Experimental results suggests that\n    there will be one call of this function per prompt, but the mechanism\n    allows for multiple prompts to be sent at once, so it's best to assume\n    that that can happen.\n\n    Since tuples can't really be built on the fly, the responses are \n    collected in a list which is then converted to a tuple when it's time\n    to return a value.\n\n    Experiments suggest that the username prompt never happens. This makes\n    sense, but the Username prompt is included here just in case.\n    \"\"\"\n\n    resp = []  #Initialize the response container\n\n    #Walk the list of prompts that the server sent that we need to answer\n    for pr in prompt_list:\n        #str() used to to make sure that we're dealing with a string rather than a unicode string\n        #strip() used to get rid of any padding spaces sent by the server\n\n        if str(pr[0]).strip() == \"Username:\":\n            resp.append(user)\n        elif str(pr[0]).strip() == \"Password:\":\n            resp.append(pw)\n        elif str(pr[0]).strip() == \"OTP Code:\":\n            resp.append(mfa)\n\n    return tuple(resp)  #Convert the response list to a tuple and return it\n\n\n#Main Entry Point\nif __name__ == \"__main__\":\n    #Setup Paramiko logging; this is useful for troubleshooting\n    paramiko.util.log_to_file(os.path.expanduser('~/paramiko.log'), logging.DEBUG)\n\n    #Get the username, password, and MFA token code from the user\n    user = raw_input(\"Username: \")\n    pw = getpass.getpass(\"Password: \")\n    mfa = raw_input(\"OTP Code: \")\n\n    #Create a socket and connect it to port 22 on the host\n    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    sock.connect((\"mfahost.example.com\", 22))\n\n    #Make a Paramiko Transport object using the socket\n    ts = paramiko.Transport(sock)\n\n    #Tell Paramiko that the Transport is going to be used as a client\n    ts.start_client(timeout=10)\n\n    #Begin authentication; note that the username and callback are passed\n    ts.auth_interactive(user, inter_handler)\n\n    #Opening a session creates a channel along the socket to the server\n    chan = ts.open_session(timeout=10)\n\n    #Now the channel can be used to execute commands\n    chan.exec_command(\"touch ~/paramikotestfile\")\n</code></pre>\n\n<p></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11426384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80545655b36cce37646daab0927892db?s=128&d=identicon&r=PG&f=1", "display_name": "MMeissner", "link": "https://stackoverflow.com/users/11426384/mmeissner"}, "is_accepted": false, "score": 1, "last_activity_date": 1602506736, "creation_date": 1602506736, "answer_id": 64318194, "question_id": 43903875, "link": "https://stackoverflow.com/questions/43903875/python-paramiko-client-multifactor-authentication/64318194#64318194", "title": "Python Paramiko (Client) Multifactor Authentication", "body": "<p>A more convenient way is the <a href=\"http://docs.paramiko.org/en/stable/api/transport.html\" rel=\"nofollow noreferrer\">auth_interactive_dumb</a> method. it is an auth_interactive that just outputs what the server asks to the console and sends back what you type. This way you dont have to store the password and dont have to write your own handler.</p>\n<p>so basically</p>\n<pre><code>sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nsock.connect((&quot;mfahost.example.com&quot;, 22))\nts = paramiko.Transport(sock)\nts.start_client(timeout=10)\nts.auth_interactive_dumb(user)\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 7994322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hv6C4.jpg?s=128&g=1", "display_name": "Erick Brown", "link": "https://stackoverflow.com/users/7994322/erick-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2633, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1602526904, "creation_date": 1494456649, "last_edit_date": 1602526904, "question_id": 43903875, "link": "https://stackoverflow.com/questions/43903875/python-paramiko-client-multifactor-authentication", "title": "Python Paramiko (Client) Multifactor Authentication", "body": "<p>I'm attempting to use Paramiko (on Python 2.7) to connect to a host that uses multifactor authentication (username + password + one-time-password). The <code>transport.auth_interactive</code> function seems to be the way to do this (based on what I'm understanding from the documentation), but execution never reaches that point - the authentication fails on the <code>client.connect</code> line.</p>\n<p>I seem to be missing something.</p>\n<p>This is the code:</p>\n<pre class=\"lang-python prettyprint-override\"><code>#!/usr/bin/env python\n\nimport paramiko\nimport getpass\nimport os\nimport logging\n\nuser = &quot;&quot;\npw = &quot;&quot;\nmfa = &quot;&quot;\n\ndef inter_handler(title, instructions, prompt_list):\n    resp = []\n\n    for pr in prompt_list:\n        if pr[0].strip() == &quot;Username:&quot;:\n            resp.append(user)\n        elif pr[0].strip() == &quot;Password:&quot;:\n            resp.append(pw)\n        elif pr[0].strip() == &quot;OTP Code:&quot;:\n            resp.append(mfa)\n        \n    return tuple(resp)\n\n\n#Main Entry Point\nif __name__ == &quot;__main__&quot;:\n\n    paramiko.util.log_to_file(os.path.expanduser('~/paramiko.log'), logging.DEBUG)\n\n    user = raw_input(&quot;Username: &quot;)\n    pw = getpass.getpass(&quot;Password: &quot;)\n    mfa = raw_input(&quot;OTP Code:&quot;)\n\n    client = paramiko.SSHClient()\n    client.set_missing_host_key_policy(paramiko.AutoAddPolicy())   #Don't care about host keys\n    client.connect(&quot;mfahost.example.com&quot;, port=22, username=user, password=pw, look_for_keys=False)\n    client.get_transport().auth_interactive(user, inter_handler) \n\n    client.exec_command(&quot;touch ~/paramikotestfile&quot;)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "pandas", "dataframe", "duplicates"], "comments": [{"owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1494457982, "post_id": 43903856, "comment_id": 74842107, "body": "Can you explain the logic for bank_0_1, label_1,  bank_1_0, funding_1 and date_1? Why are some of them Nones?"}, {"owner": {"reputation": 97, "user_id": 7993941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/760u3.jpg?s=128&g=1", "display_name": "mitchell-reynolds", "link": "https://stackoverflow.com/users/7993941/mitchell-reynolds"}, "reply_to_user": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1494458739, "post_id": 43903856, "comment_id": 74842287, "body": "I&#39;m using 0 indexing, which might be causing some confusion. bank_0_0 is the first bank of the first round. bank_1_0 is the first bank of the second round.  So the first number corresponds to the relative label. Therefore, there are cases where there isn&#39;t a second bank who has funded that particular company for that particular label. Does that help?"}, {"owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1494460439, "post_id": 43903856, "comment_id": 74842650, "body": "Is the number of round always 2? number of bank always 2? or are they variable?"}, {"owner": {"reputation": 97, "user_id": 7993941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/760u3.jpg?s=128&g=1", "display_name": "mitchell-reynolds", "link": "https://stackoverflow.com/users/7993941/mitchell-reynolds"}, "reply_to_user": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1494460804, "post_id": 43903856, "comment_id": 74842714, "body": "@Allen Thank you for following up! The number of rounds could be many. As could be the number of banks."}, {"owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1494462480, "post_id": 43903856, "comment_id": 74843046, "body": "This means the number of columns of your df will vary. Not quite straightforward."}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "reply_to_user": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1494502103, "post_id": 43903856, "comment_id": 74861318, "body": "To @Allen&#39;s point, you&#39;re better off picking a number of banks or rounds that is on the high end of possible (like 10, 20?) and setting a fixed number of columns and fill them when necessary, and leave as NaN or None when not. Otherwise, the shape of the df varies in two dimensions which is cumbersome."}, {"owner": {"reputation": 97, "user_id": 7993941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/760u3.jpg?s=128&g=1", "display_name": "mitchell-reynolds", "link": "https://stackoverflow.com/users/7993941/mitchell-reynolds"}, "reply_to_user": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1494527417, "post_id": 43903856, "comment_id": 74879318, "body": "@pshep123 I appreciate your suggestion! Would it be better to have the bank column as a list or dictionary object? That way the dataframe will be categorized by the number of rounds. The len(df.round.unique()) == 9. And therefore would have a known, prefixed dataframe shape."}], "owner": {"reputation": 97, "user_id": 7993941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/760u3.jpg?s=128&g=1", "display_name": "mitchell-reynolds", "link": "https://stackoverflow.com/users/7993941/mitchell-reynolds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495085543, "creation_date": 1494456520, "last_edit_date": 1495085543, "question_id": 43903856, "link": "https://stackoverflow.com/questions/43903856/using-pivot-groupby-and-apply-to-clean-up-data", "title": "Using Pivot, Groupby and apply to clean up data", "body": "<p>I have an issue with <strong>keeping some data</strong> from duplicates and wanting to add valuable information to a new column in the dataframe.</p>\n\n<pre><code>import pandas as pd\ndata = {'id':[1,2,2,3],'company':[1,2,2,1],'bank':['a', 'x', 'y', 'a'], \n    'round': ['seed', 'seed', 'seed', 'series a'], 'funding': [100, 200, 200, 300],\n   'date': ['2006-12-01', '2004-09-01', '2004-09-01', '2007-05-01']}\ndf = pd.DataFrame(data, columns = ['id','company', 'round', 'bank', 'funding', 'date'])\nprint df\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>   id  company     round   bank    funding        date\n0   1        1      seed      a        100  2006-12-01\n1   2        2      seed      x        200  2004-09-01\n2   2        2      seed      y        200  2004-09-01\n3   3        1  series a      a        300  2007-05-01\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>     company   round_0     bank_0   funding_0      date_0    round_1    bank_1  funding_1      date_1 \n0          1      seed          a         100  2006-12-01   series a         a        300  2007-05-01\n1          2      seed     [x, y]         200  2004-09-01       None      None       None        None\n</code></pre>\n\n<p>I'm thinking that a pivot/melt might work? Along with a groupby('company', 'round')?</p>\n\n<p>Also, I'm open to the idea of changing the dtype for the new bank column list (ie dictionary). And, the integers could be replaced with the \"round\" column info. Making the columns:  </p>\n\n<pre><code>company, bank_seed, funding_seed, date_seed, bank_series_a, funding_series_a, date_series_a\n</code></pre>\n"}, {"tags": ["python", "visual-studio-code"], "comments": [{"owner": {"reputation": 11781, "user_id": 8384, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/08bc2edb5f1342c0c1e4805f4d4585bf?s=128&d=identicon&r=PG", "display_name": "McKay", "link": "https://stackoverflow.com/users/8384/mckay"}, "edited": false, "score": 0, "creation_date": 1499713508, "post_id": 43903791, "comment_id": 77013615, "body": "Good question. To me, it just seems like the python support is abyssmal. Sad."}], "answers": [{"tags": [], "owner": {"reputation": 8803, "user_id": 3867406, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2953c91f637b80205241c00c3e215b9a?s=128&d=identicon&r=PG&f=1", "display_name": "ted", "link": "https://stackoverflow.com/users/3867406/ted"}, "is_accepted": false, "score": 0, "last_activity_date": 1575384439, "last_edit_date": 1575384439, "creation_date": 1575384063, "answer_id": 59159548, "question_id": 43903791, "link": "https://stackoverflow.com/questions/43903791/how-can-i-go-to-symbol-across-python-files-in-visual-studio-code/59159548#59159548", "title": "How can I go to symbol across python files in Visual Studio Code", "body": "<p>There used to be an issue but it seems to be fixed now, it works for me. For people stumbling upon this question wondering how to look for symbols across files, use the <code>Open symbol by name</code> feature.</p>\n\n<ol>\n<li>From the command palette <code>cmd/ctrl + shift + p &gt; Go to Symbole in Workspace...</code></li>\n<li>Starting the command with <code>#</code> <code>cmd/ctrl + shift + p &gt; # my_symbol</code></li>\n<li>Using the default keybinding <code>ctrl/cmd + T</code></li>\n<li>Overwrite the default keybinding</li>\n<li>Include symbol search in Quick Open: <code>\"search.quickOpen.includeSymbols\": true</code></li>\n</ol>\n\n<p>Example using keybinding:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cTo2t.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cTo2t.gif\" alt=\"screenshot of keybinding\"></a></p>\n\n<p><a href=\"https://code.visualstudio.com/Docs/editor/editingevolved#_open-symbol-by-name\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/Docs/editor/editingevolved#_open-symbol-by-name</a></p>\n"}], "owner": {"reputation": 1143, "user_id": 7304531, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6b5afc8f66a5b12ac57f6f93fc90216d?s=128&d=identicon&r=PG&f=1", "display_name": "John Mike", "link": "https://stackoverflow.com/users/7304531/john-mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 752, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1575384439, "creation_date": 1494456090, "question_id": 43903791, "link": "https://stackoverflow.com/questions/43903791/how-can-i-go-to-symbol-across-python-files-in-visual-studio-code", "title": "How can I go to symbol across python files in Visual Studio Code", "body": "<p>Essentially I want to be able to do the following <a href=\"https://code.visualstudio.com/docs/editor/editingevolved#_open-symbol-by-name\" rel=\"noreferrer\">https://code.visualstudio.com/docs/editor/editingevolved#_open-symbol-by-name</a> in a python workspace in visual studio code.</p>\n\n<p>It returns <code>No symbols matching</code> when attempting to search. Any way to get this working?</p>\n"}, {"tags": ["python", "class", "call", "instance"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1494455327, "post_id": 43903659, "comment_id": 74841333, "body": "Nope, and what you&#39;re proposing is highly unlikely to ever be added to the language."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1494455501, "post_id": 43903659, "comment_id": 74841407, "body": "<b>...by just &quot;calling&quot; the instance without the parentheses</b>.  That makes no sense.  The call <i>is</i> when you add the parentheses."}, {"owner": {"reputation": 135, "user_id": 5925453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceffa8888f66aeb0d7f7de65c65235b?s=128&d=identicon&r=PG&f=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/5925453/markus"}, "edited": false, "score": 0, "creation_date": 1494455625, "post_id": 43903659, "comment_id": 74841446, "body": "Yes, i know. I just didn&#39;t know how else to express it :-)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1494455949, "post_id": 43903659, "comment_id": 74841536, "body": "No, there isn&#39;t, and it sounds highly unadvisable to want that. Don&#39;t be lazy, just write the stupid parentheses."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 5925453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceffa8888f66aeb0d7f7de65c65235b?s=128&d=identicon&r=PG&f=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/5925453/markus"}, "edited": false, "score": 0, "creation_date": 1494459717, "post_id": 43903707, "comment_id": 74842517, "body": "Thank you all for your quick responds. Ok, I think I get the point. So, I guess I have to override some of the operators, like <b>add</b> etc."}], "tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": true, "score": 0, "last_activity_date": 1494455465, "creation_date": 1494455465, "answer_id": 43903707, "question_id": 43903659, "link": "https://stackoverflow.com/questions/43903659/get-attribute-of-class-by-directly-accessing-instance/43903707#43903707", "title": "Get attribute of class by directly accessing instance", "body": "<blockquote>\n  <p>But is there a way to use the return of a specific method or a certain attribute by just \"calling\" the instance without the parenthesis?</p>\n</blockquote>\n\n<p>By typing the instance name, without anything else, you are simply asking for the instance (more precisely, you are asking for the value of the variable that is binded to the instance). You have a variety of methods you can invoke - calls to override operators, printing override by <code>__str__</code>, invocation by <code>__call__</code>.</p>\n\n<p><strong>But how would you expect to access the instance, if you override it's name for one of its methods?</strong></p>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; l = [1, 2, 3]\n&gt;&gt;&gt; l = l.pop\n# How can you access the original list?\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 5925453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceffa8888f66aeb0d7f7de65c65235b?s=128&d=identicon&r=PG&f=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/5925453/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 43903707, "answer_count": 1, "score": 0, "last_activity_date": 1494458169, "creation_date": 1494455215, "last_edit_date": 1494455539, "question_id": 43903659, "link": "https://stackoverflow.com/questions/43903659/get-attribute-of-class-by-directly-accessing-instance", "title": "Get attribute of class by directly accessing instance", "body": "<p>I was wondering how one can \"call\" an instance of a class such that the instance itself returns a specific value, attribute or method return.<br/>\nI try to make that clear with an example:</p>\n\n\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n\nclass MyClass():\n    def __init__(self, x):\n        self.x = x\n        self.y = self.x*2\n        self.z = self.x*3\n\n\n    def __call_instance__(self):\n        return np.eye(2)*self.x\n\n\ndef some_function(x, y, z):\n    return x, y, z\n\n\ninst = MyClass(3)\n\nsome_function(x=inst, y=inst.y, z=inst.z)\n\nOut[1]:\n(array([[ 3.,  0.],\n        [ 0.,  3.]]), 6, 9)\n</code></pre>\n\n<p>I know that I can define <code>__call__()</code> as a method and call an instance by <code>inst()</code>. But is there a way to use the return of a specific method or a certain attribute by just \"calling\" the instance without the parantheses? In other words, so that the instance itself acts like an attribute/property of itself?\nI hope that if could make it clear what I'm searching for :-)</p>\n\n<p>I'm looking forward to your answers.\nCheers and thank you in advance.</p>\n\n<p>Markus</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1325, "user_id": 3754413, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/30dc5eeb93d93c105e2e58d3036bf201?s=128&d=identicon&r=PG&f=1", "display_name": "fonfonx", "link": "https://stackoverflow.com/users/3754413/fonfonx"}, "edited": false, "score": 1, "creation_date": 1494455372, "post_id": 43903626, "comment_id": 74841354, "body": "I would create intermediate arrays AA and BB whose entries are OR (A[r +/- 1, c+/- 1]) and idem for B. Then I would compute the logical and between AA and BB. This still requires looping over A and B"}, {"owner": {"reputation": 1325, "user_id": 3754413, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/30dc5eeb93d93c105e2e58d3036bf201?s=128&d=identicon&r=PG&f=1", "display_name": "fonfonx", "link": "https://stackoverflow.com/users/3754413/fonfonx"}, "edited": false, "score": 2, "creation_date": 1494455485, "post_id": 43903626, "comment_id": 74841402, "body": "or without loops but memory expensive you can create 8 shifted arrays from A (+1,0 or -1 in every direction) and the same from B and compute the OR of all the A arrays, then the OR of all the B arrays and finally the AND between these intermediate results"}, {"owner": {"reputation": 1334, "user_id": 3277713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vzFZ3.jpg?s=128&g=1", "display_name": "AetherUnbound", "link": "https://stackoverflow.com/users/3277713/aetherunbound"}, "edited": false, "score": 0, "creation_date": 1494456023, "post_id": 43903626, "comment_id": 74841560, "body": "Hmm, perhaps you could convolve that section of A on the value in B?"}, {"owner": {"reputation": 168, "user_id": 5020292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c329c7989d6a74e7345f809b5f0a8c?s=128&d=identicon&r=PG", "display_name": "amoose136", "link": "https://stackoverflow.com/users/5020292/amoose136"}, "edited": false, "score": 1, "creation_date": 1494456627, "post_id": 43903626, "comment_id": 74841738, "body": "I&#39;m not sure what &quot;A[r +/- 1, c +/- 1] AND B[r +/- 1, c +/- 1]&quot; represents because  np.ndarray([[True, False, False, False],            [False, False, False, False],            [False, True, True, False],            [False, False, False, False])  is not what I would expect that to be. I would expect that it would in fact be: np.ndarray([[True, True, False, False],            [False, False, False, False],            [False, True, True, False],            [False, False, False, False])"}, {"owner": {"reputation": 168, "user_id": 5020292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c329c7989d6a74e7345f809b5f0a8c?s=128&d=identicon&r=PG", "display_name": "amoose136", "link": "https://stackoverflow.com/users/5020292/amoose136"}, "edited": false, "score": 1, "creation_date": 1494457015, "post_id": 43903626, "comment_id": 74841855, "body": "Yes that was what I thought. I think though it&#39;s not even what @BoltzmannBrain wants because allowing +/- on both sides means the radius of overlap is 2 not 1, and judging by the example output it should be 1."}, {"owner": {"reputation": 4142, "user_id": 3765905, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/xkm1p.png?s=128&g=1", "display_name": "BoltzmannBrain", "link": "https://stackoverflow.com/users/3765905/boltzmannbrain"}, "reply_to_user": {"reputation": 168, "user_id": 5020292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c329c7989d6a74e7345f809b5f0a8c?s=128&d=identicon&r=PG", "display_name": "amoose136", "link": "https://stackoverflow.com/users/5020292/amoose136"}, "edited": false, "score": 0, "creation_date": 1494457207, "post_id": 43903626, "comment_id": 74841901, "body": "Thanks @amoose136 I&#39;ve updated <code>C</code>"}, {"owner": {"reputation": 2204, "user_id": 7982275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d5ddeaf91306c9bae414dc55adc0c7?s=128&d=identicon&r=PG&f=1", "display_name": "EFT", "link": "https://stackoverflow.com/users/7982275/eft"}, "reply_to_user": {"reputation": 168, "user_id": 5020292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c329c7989d6a74e7345f809b5f0a8c?s=128&d=identicon&r=PG", "display_name": "amoose136", "link": "https://stackoverflow.com/users/5020292/amoose136"}, "edited": false, "score": 0, "creation_date": 1494457506, "post_id": 43903626, "comment_id": 74841989, "body": "For anyone reading through, @amoose136&#39;s second comment originally replied to a comment suggesting <code>np.logical_or(np.logical_and(a, bb), np.logical_and(b, aa))</code> over <code>np.logical_and(aa,bb)</code> in the last step of the procedure suggested by @fonfonx, to better match the target array C. I deleted when aiming to rephrase."}], "answers": [{"tags": [], "owner": {"reputation": 1334, "user_id": 3277713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vzFZ3.jpg?s=128&g=1", "display_name": "AetherUnbound", "link": "https://stackoverflow.com/users/3277713/aetherunbound"}, "is_accepted": false, "score": 0, "last_activity_date": 1494458174, "creation_date": 1494458174, "answer_id": 43904086, "question_id": 43903626, "link": "https://stackoverflow.com/questions/43903626/numpy-logical-and/43904086#43904086", "title": "Numpy logical and", "body": "<p>Here is one potential solution. This checks for every point on A if there is a <code>True</code> in a 3x3 square around it, and does the same for B. Then if both are <code>True</code>, that index is also <code>True</code>. It doesn't give the output you desire, but I might need further clarification to achieve that. </p>\n\n<pre><code>import numpy as np\n\nA = np.array([[True, False, False, True], [False, False, False, False], [False, False, True, False], [False, False, False, False]])\n\nB = np.array([[False, True, False, False], [False, False, False, False], [True, True, True, False], [False, False, False, False]])\n\ndef and3x3(arr, x, y):\n    subarr = arr[max(0, x-1):x+2, max(0, y-1):y+2]\n    return np.any(subarr)\n\nC = np.zeros_like(B)\n\nfor a in range(A.shape[0]):\n    for b in range(A.shape[1]):\n        t1 = and3x3(A, a, b)\n        t2 = and3x3(B, a, b)\n        C[a, b] = t1 * t2\n\nprint(C)\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>[[ True  True  True False]\n [ True  True  True  True]\n [False  True  True  True]\n [False  True  True  True]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1334, "user_id": 3277713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vzFZ3.jpg?s=128&g=1", "display_name": "AetherUnbound", "link": "https://stackoverflow.com/users/3277713/aetherunbound"}, "edited": false, "score": 0, "creation_date": 1494463168, "post_id": 43904612, "comment_id": 74843190, "body": "Nice! I thought convolution would work, just wasn&#39;t sure how to implement it myself."}, {"owner": {"reputation": 4142, "user_id": 3765905, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/xkm1p.png?s=128&g=1", "display_name": "BoltzmannBrain", "link": "https://stackoverflow.com/users/3765905/boltzmannbrain"}, "edited": false, "score": 0, "creation_date": 1494467248, "post_id": 43904612, "comment_id": 74844110, "body": "Good idea! And yes, as I have specced out the problem (+/- in both arrays) this is the correct answer. Thank you :)"}], "tags": [], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "is_accepted": true, "score": 1, "last_activity_date": 1494462391, "creation_date": 1494462391, "answer_id": 43904612, "question_id": 43903626, "link": "https://stackoverflow.com/questions/43903626/numpy-logical-and/43904612#43904612", "title": "Numpy logical and", "body": "<p>If I understand it correctly, A[r +/- 1, c +/- 1] AND B[r +/- 1, c +/- 1] will produce the following results, as @AetherUnbound has reproduced.</p>\n\n<pre><code>[[ True  True  True False]\n [ True  True  True  True]\n [False  True  True  True]\n [False  True  True  True]]\n</code></pre>\n\n<p>If this is the desired output, we can use a convolution operation on a and b and finally do a logical and.</p>\n\n<p><strong>Solution</strong></p>\n\n<pre><code>from scipy import ndimage\n#define a convolution filter with size 3*3\nf = np.full((3,3),True, dtype=bool)\n\n#Convolve A and B using a 3*3 filter and then do a logical and in the end.\nnp.logical_and(ndimage.convolve(A,f,mode='constant', cval=False),ndimage.convolve(B,f,mode='constant', cval=False))\nOut[766]: \narray([[ True,  True,  True, False],\n       [ True,  True,  True,  True],\n       [False,  True,  True,  True],\n       [False,  True,  True,  True]], dtype=bool)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 5020292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44c329c7989d6a74e7345f809b5f0a8c?s=128&d=identicon&r=PG", "display_name": "amoose136", "link": "https://stackoverflow.com/users/5020292/amoose136"}, "is_accepted": false, "score": 1, "last_activity_date": 1494463439, "creation_date": 1494463439, "answer_id": 43904734, "question_id": 43903626, "link": "https://stackoverflow.com/questions/43903626/numpy-logical-and/43904734#43904734", "title": "Numpy logical and", "body": "<p>As other commenters have pointed out, the notation you have indicates the array would have a 2 element radius of overlap. If instead you would like a 1 element radius of overlap, try this: </p>\n\n<pre><code>import numpy as np\n\nA=np.array([[True, False, False, True], \n            [False, False, False, False], \n            [False, False, True, False], \n            [False, False, False, False]])\n\nB=np.array([[False, True, False, False],\n           [False, False, False, False],\n           [True, True, True, False],\n           [False, False, False, False]])\n\ndef conv(mat):\n    mat_pad=np.pad(mat,1,'constant')\n    return mat+.5*(np.roll(mat_pad,1,0)[1:-1,1:-1]+np.roll(mat_pad,-1,0)[1:-1,1:-1]+np.roll(mat_pad,1,1)[1:-1,1:-1]+np.roll(mat_pad,-1,1)[1:-1,1:-1])\n\n\nC=conv(A)*conv(B)&gt;=.5\nprint(C)\n</code></pre>\n\n<p>This is approach returns:</p>\n\n<pre><code>array([[ True,  True, False, False],\n       [False, False, False, False],\n       [False,  True,  True, False],\n       [False, False, False, False]], dtype=bool)\n</code></pre>\n"}], "owner": {"reputation": 4142, "user_id": 3765905, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/xkm1p.png?s=128&g=1", "display_name": "BoltzmannBrain", "link": "https://stackoverflow.com/users/3765905/boltzmannbrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 43904612, "answer_count": 3, "score": 3, "last_activity_date": 1494463439, "creation_date": 1494455024, "last_edit_date": 1494457180, "question_id": 43903626, "link": "https://stackoverflow.com/questions/43903626/numpy-logical-and", "title": "Numpy logical and", "body": "<p>I have bool arrays A and B, and want to get C. C is like a logical AND of A and B, but with some wiggle room on matching the indices. That is, the logical AND will do A[r, c] AND B[r, c], but what I would like is A[r +/- 1, c +/- 1] AND B[r +/- 1, c +/- 1]. Is there a good way to do this, ideally without looping through every index?</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; A\nnp.ndarray([[True, False, False, True],\n           [False, False, False, False],\n           [False, False, True, False],\n           [False, False, False, False])\n&gt;&gt;&gt; B\nnp.ndarray([[False, True, False, False],\n           [False, False, False, False],\n           [True, True, True, False],\n           [False, False, False, False])\n&gt;&gt;&gt; np.logical_and(A, B)  # only (2,2) is True\nnp.ndarray([[False, False, False, False],\n           [False, False, False, False],\n           [False, False, True, False],\n           [False, False, False, False])\n&gt;&gt;&gt; C  # (0,0), (1,0), and (2,1) also become True\nnp.ndarray([[True, False, False, False],\n           [True, False, False, False],\n           [False, True, True, False],\n           [False, False, False, False])\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "nose"], "comments": [{"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "edited": false, "score": 1, "creation_date": 1494462330, "post_id": 43903569, "comment_id": 74843023, "body": "Please add the minimum amount of code you can show that reproduces this error"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4926890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29effdacc0e674e2ba38965024bd92fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ambarish Nag", "link": "https://stackoverflow.com/users/4926890/ambarish-nag"}, "edited": false, "score": 0, "creation_date": 1494455776, "post_id": 43903654, "comment_id": 74841485, "body": "Hi Iain, I did try both nosetests testfile and python -m unittest testfile. While the latter works, the former does not and yields the same error as before. Thanks, Ambarish."}, {"owner": {"reputation": 1614, "user_id": 1108964, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9bf288be1bbbf9d57aca5a3c98ed1fad?s=128&d=identicon&r=PG", "display_name": "Iain Duncan", "link": "https://stackoverflow.com/users/1108964/iain-duncan"}, "reply_to_user": {"reputation": 13, "user_id": 4926890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29effdacc0e674e2ba38965024bd92fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ambarish Nag", "link": "https://stackoverflow.com/users/4926890/ambarish-nag"}, "edited": false, "score": 0, "creation_date": 1494456599, "post_id": 43903654, "comment_id": 74841729, "body": "Ah, you might need need an empty _ _ init _ _ .py in the directory so it get&#39;s perceived as a module. Give that a try? If that doesn&#39;t work, maybe post the contents of your test file."}], "tags": [], "owner": {"reputation": 1614, "user_id": 1108964, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9bf288be1bbbf9d57aca5a3c98ed1fad?s=128&d=identicon&r=PG", "display_name": "Iain Duncan", "link": "https://stackoverflow.com/users/1108964/iain-duncan"}, "is_accepted": false, "score": 0, "last_activity_date": 1494455191, "creation_date": 1494455191, "answer_id": 43903654, "question_id": 43903569, "link": "https://stackoverflow.com/questions/43903569/unit-test-runs-with-python-but-fails-with-nosetests/43903654#43903654", "title": "unit test runs with python but fails with nosetests", "body": "<p>Yeah, you're getting hung on how discovery works differently on the different tools. It trips me up all the time. Go into the directory with your tests and do:</p>\n\n<p>$ nosetests testfile</p>\n\n<p>(no .py on the end of testfile)</p>\n\n<p>You can also use the python unittest module:</p>\n\n<p>$ python -m unittest testfile</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 4926890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29effdacc0e674e2ba38965024bd92fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ambarish Nag", "link": "https://stackoverflow.com/users/4926890/ambarish-nag"}, "is_accepted": false, "score": 0, "last_activity_date": 1494546947, "creation_date": 1494546947, "answer_id": 43927343, "question_id": 43903569, "link": "https://stackoverflow.com/questions/43903569/unit-test-runs-with-python-but-fails-with-nosetests/43927343#43927343", "title": "unit test runs with python but fails with nosetests", "body": "<p>I figured out what the problem was. I had a non-test function which included 'test' in its name even it id did not start with 'test_', as a result of which it was treated as a test function by nose. When I modified the name of the function, the problem was solved.</p>\n"}], "owner": {"reputation": 13, "user_id": 4926890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29effdacc0e674e2ba38965024bd92fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ambarish Nag", "link": "https://stackoverflow.com/users/4926890/ambarish-nag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494546947, "creation_date": 1494454645, "question_id": 43903569, "link": "https://stackoverflow.com/questions/43903569/unit-test-runs-with-python-but-fails-with-nosetests", "title": "unit test runs with python but fails with nosetests", "body": "<p>I have written a python file containing some unit tests (testfile.py). </p>\n\n<p>When I run 'python testfile.py' the tests run fine and there are no errors.</p>\n\n<p>But when I run 'nosetests testfile.py', I get a TypeError of the form \nTypeError: func_name() takes exactly 3 arguments (1 given).</p>\n\n<p>Can you please help me understand what might be going on and how can I modify the python file so that it can be run using both python and nosetests.\nThanks in advance,\nAmbarish.</p>\n"}, {"tags": ["python", "deep-learning", "tflearn"], "answers": [{"tags": [], "owner": {"reputation": 735, "user_id": 7679339, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6531363d73abba6f33ea6ae84e5b4a3c?s=128&d=identicon&r=PG&f=1", "display_name": "A. Piro", "link": "https://stackoverflow.com/users/7679339/a-piro"}, "is_accepted": false, "score": 0, "last_activity_date": 1494490450, "last_edit_date": 1495541891, "creation_date": 1494490450, "answer_id": 43909960, "question_id": 43903517, "link": "https://stackoverflow.com/questions/43903517/dnn-with-tflearn-always-predicts-the-same-value/43909960#43909960", "title": "DNN with tflearn always predicts the same value", "body": "<p>You should take a look at this previous post where the person had the same problem as you :\n<a href=\"https://stackoverflow.com/questions/43593915/why-my-cnn-returns-always-the-same-result\">Why my CNN returns always the same result?</a></p>\n\n<p>Otherwise, how big is your training set ?</p>\n\n<p>Have you tried to train it only on 1 epoch to see if it is able to learn something ?</p>\n"}], "owner": {"reputation": 21, "user_id": 7994122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/732231765a35a335d3695c88c5a0c15f?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien Winant", "link": "https://stackoverflow.com/users/7994122/bastien-winant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 802, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1494490450, "creation_date": 1494454338, "question_id": 43903517, "link": "https://stackoverflow.com/questions/43903517/dnn-with-tflearn-always-predicts-the-same-value", "title": "DNN with tflearn always predicts the same value", "body": "<p>I am just starting with using tflearn/tensorflow for machine learning, and I am having a problem with the model below. \nIt always predicts the same outcome, out of two possible from the data set (0 or 1).\nI have made sure that my inputs are of fdatatype float, and that my training set is balanced. Any idea what could be causing the issue?\nHere is the code:</p>\n\n<pre><code>def build_model():\n    tf.reset_default_graph()\n\n    net = tflearn.input_data([None,11])\n    #Hidden layer\n    net = tflearn.fully_connected(net,1,activation='softmax')\n    net = tflearn.regression(net,optimizer='sgd',\n                              learning_rate=0.1,\n                             loss=\"categorical_crossentropy\")\n    model = tflearn.DNN(net)\n    return model\n\nmodel = build_model()\n\nmodel.fit(np.asarray(Xtrain),np.asarray(Ytrain),validation_set=0.1,show_metric=True,n_epoch=30,batch_size=50)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "windows", "python-2.7"], "comments": [{"owner": {"reputation": 1325, "user_id": 3754413, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/30dc5eeb93d93c105e2e58d3036bf201?s=128&d=identicon&r=PG&f=1", "display_name": "fonfonx", "link": "https://stackoverflow.com/users/3754413/fonfonx"}, "edited": false, "score": 0, "creation_date": 1494454711, "post_id": 43903460, "comment_id": 74841099, "body": "it is a good practice not to use white spaces in folders&#39; names..."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1494477636, "post_id": 43903460, "comment_id": 74846567, "body": "Use <code>subprocess.call</code> with an args list to have it handle the quoting for you. But you shouldn&#39;t depend on the working directory to find &quot;plotting.py&quot; if it&#39;s relative to &quot;main.py&quot;. The working directory is not the same thing as the script directory."}], "answers": [{"tags": [], "owner": {"reputation": 1325, "user_id": 3754413, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/30dc5eeb93d93c105e2e58d3036bf201?s=128&d=identicon&r=PG&f=1", "display_name": "fonfonx", "link": "https://stackoverflow.com/users/3754413/fonfonx"}, "is_accepted": false, "score": 0, "last_activity_date": 1494455000, "creation_date": 1494455000, "answer_id": 43903621, "question_id": 43903460, "link": "https://stackoverflow.com/questions/43903460/executing-the-python-in-another-python-file-with-arguments-as-path/43903621#43903621", "title": "executing the python in another python file with arguments as path", "body": "<p>If you really do not want to remove the whitespaces in your folder's name, put backslashes <code>\\</code> before the spaces in the variable <code>z</code>, to espace them.</p>\n"}, {"comments": [{"owner": {"reputation": 16, "user_id": 7994740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b6cfc583b4a09627892a93764db6ac?s=128&d=identicon&r=PG&f=1", "display_name": "Drew Kowalski", "link": "https://stackoverflow.com/users/7994740/drew-kowalski"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1494501117, "post_id": 43905819, "comment_id": 74860671, "body": "I meant it more that he was running it as a command line program and not that it was specific to os.system.  Also, this would be an issue if he tried to pass parameters like this to any command line program and not just python."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1494504859, "post_id": 43905819, "comment_id": 74863295, "body": "In general that&#39;s right but on Windows it depends on the program. Windows programs get the raw command-line string, and it&#39;s up to them how to parse it. In the general case, for all we know a program could require paths to be quoted using a smiley like <code>\u263aStream 20170424 15_20_25_856\u263a</code>. ;-) But seriously, by VC++ rules for creating <code>argv</code> it should be double quotes,  not single quotes."}], "tags": [], "owner": {"reputation": 16, "user_id": 7994740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b6cfc583b4a09627892a93764db6ac?s=128&d=identicon&r=PG&f=1", "display_name": "Drew Kowalski", "link": "https://stackoverflow.com/users/7994740/drew-kowalski"}, "is_accepted": false, "score": 0, "last_activity_date": 1494501355, "last_edit_date": 1494501355, "creation_date": 1494471737, "answer_id": 43905819, "question_id": 43903460, "link": "https://stackoverflow.com/questions/43903460/executing-the-python-in-another-python-file-with-arguments-as-path/43905819#43905819", "title": "executing the python in another python file with arguments as path", "body": "<p>Since you are calling python as a command line program you can try adding quotes around the parameter you are passing so that it treats your whitespace'd string as one parameter.  When running commands like that it will treat each space-separated string as a separate parameter to your script if you don't have quotes which is why _'s worked for you.  So your current code passes \"Stream\" \"20170424\" and \"15_20_25_856\" as 3 separate parameters to plotting.py when you want it to be just 1 parameter.</p>\n\n<p>Try</p>\n\n<pre><code>os.system(\"python plotting.py '\"+z + \"'\") \n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 6117313, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/1162946607089312/picture?type=large", "display_name": "Reddy2810", "link": "https://stackoverflow.com/users/6117313/reddy2810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494501355, "creation_date": 1494453974, "question_id": 43903460, "link": "https://stackoverflow.com/questions/43903460/executing-the-python-in-another-python-file-with-arguments-as-path", "title": "executing the python in another python file with arguments as path", "body": "<p>I am relatively new to python. I am trying to call a python file <code>\"plotting.py\"</code> in another file <code>\"main.py\"</code>. To execute the <code>\"plotting.py\"</code> file the path should also be given as argument.</p>\n\n<p>So in the <code>\"main.py\"</code> I have executed so</p>\n\n<p><code>z='Stream 20170424 15_20_25_856'\nos.system('python plotting.py '+z)</code></p>\n\n<p>Where variable <code>z</code> is the name of the folder and this name, in general, contains the whitespaces and when I execute the <code>\"main.py\"</code> it gives an error. But when I replace the whitespaces in the folder name with <code>_</code> and change the variable <code>z</code> accordingly and execute the <code>\"main.py\"</code> it executes without an error. But I cannot change the name of the folder every time. So is there any possibility to execute the code changing the folder name and giving the variable <code>z</code> has mentioned?</p>\n"}, {"tags": ["python", "generator", "yield"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 11, "creation_date": 1494454028, "post_id": 43903437, "comment_id": 74840853, "body": "Why not simply: <code>yield number &lt;newline&gt; yield number**2</code>?"}, {"owner": {"reputation": 13176, "user_id": 3719459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sBD6F.jpg?s=128&g=1", "display_name": "Paebbels", "link": "https://stackoverflow.com/users/3719459/paebbels"}, "edited": false, "score": 0, "creation_date": 1494458759, "post_id": 43903437, "comment_id": 74842292, "body": "You don&#39;t want to concatenate, you want a double yield ... that&#39;s a difference."}, {"owner": {"reputation": 806, "user_id": 5154393, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24cc3d1cc3cfc87790a7ec67acc86e94?s=128&d=identicon&r=PG&f=1", "display_name": "raul ferreira", "link": "https://stackoverflow.com/users/5154393/raul-ferreira"}, "edited": false, "score": 0, "creation_date": 1494459063, "post_id": 43903437, "comment_id": 74842366, "body": "from the outside they come out concatenated"}], "answers": [{"tags": [], "owner": {"reputation": 297, "user_id": 6184799, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0c8443804746f889fa902daf6966f54a?s=128&d=identicon&r=PG&f=1", "display_name": "carlos rodrigues", "link": "https://stackoverflow.com/users/6184799/carlos-rodrigues"}, "is_accepted": true, "score": 10, "last_activity_date": 1494598224, "last_edit_date": 1494598224, "creation_date": 1494454713, "answer_id": 43903580, "question_id": 43903437, "link": "https://stackoverflow.com/questions/43903437/concatenate-while-yielding/43903580#43903580", "title": "Concatenate while yielding", "body": "<p>A simple way is:</p>\n\n<pre><code>def test():\n    for number in range(0,10):\n        yield number \n        yield number**2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 10, "last_activity_date": 1494455009, "creation_date": 1494455009, "answer_id": 43903622, "question_id": 43903437, "link": "https://stackoverflow.com/questions/43903437/concatenate-while-yielding/43903622#43903622", "title": "Concatenate while yielding", "body": "<p>Python 3.3 also introduced the <code>yield from</code> (see also <a href=\"https://www.python.org/dev/peps/pep-0380/\" rel=\"noreferrer\">PEP-380</a>) syntax which allows you to do something like this:</p>\n\n<pre><code>&gt;&gt;&gt; def test():\n...   for number in range(10):\n...     yield from (number, number**2)\n...\n&gt;&gt;&gt; list(test())\n[0, 0, 1, 1, 2, 4, 3, 9, 4, 16, 5, 25, 6, 36, 7, 49, 8, 64, 9, 81]\n</code></pre>\n"}], "owner": {"reputation": 806, "user_id": 5154393, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24cc3d1cc3cfc87790a7ec67acc86e94?s=128&d=identicon&r=PG&f=1", "display_name": "raul ferreira", "link": "https://stackoverflow.com/users/5154393/raul-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 4, "accepted_answer_id": 43903580, "answer_count": 2, "score": 9, "last_activity_date": 1494598224, "creation_date": 1494453838, "last_edit_date": 1494455148, "question_id": 43903437, "link": "https://stackoverflow.com/questions/43903437/concatenate-while-yielding", "title": "Concatenate while yielding", "body": "<p>How can I concatenate two items when yielding from a function in python?</p>\n\n<p>The base case:</p>\n\n<pre><code>import itertools\n\ndef test():\n    for number in range(0,10):\n        yield number\n\nlist(test()) # [0...9]\n</code></pre>\n\n<p>What if I want to yield both the <code>number</code> and its square <code>number**2</code></p>\n\n<pre><code>import itertools\n\ndef test():\n    for number in range(0,10):\n        yield itertools.chain.from_iterable([\n            number,number*2\n        ])\n\nlist(test()) \n\n# [0,0,1,1,2,4,3,9,...] pretended\n# &lt;itertools.chain at 0x135decfd0&gt; ... what I got\n</code></pre>\n\n<p>However doing <code>itertools.chain.from_iterable([generator1, generator2])</code> from the outside gives the expected result.</p>\n\n<pre><code>def first_list():\n    for number in range(0,5):\n        yield number\n\ndef second_list():\n    for number in range(5,10):\n        yield number\n\nlist(itertools.chain.from_iterable([first_list(), second_list()]))\n</code></pre>\n"}, {"tags": ["python", "path", "perforce"], "answers": [{"tags": [], "owner": {"reputation": 31669, "user_id": 3799759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5820aa24337a2f622b78e92c39e3e3d6?s=128&d=identicon&r=PG", "display_name": "Samwise", "link": "https://stackoverflow.com/users/3799759/samwise"}, "is_accepted": true, "score": 1, "last_activity_date": 1494455501, "creation_date": 1494455501, "answer_id": 43903716, "question_id": 43903418, "link": "https://stackoverflow.com/questions/43903418/retrieving-local-directory-from-perforce-in-python/43903716#43903716", "title": "retrieving local directory from perforce in python", "body": "<p>Run:</p>\n\n<p><code>p4 where //perforce/path/...</code></p>\n\n<p>This will return output like:</p>\n\n<p><code>//perforce/path/... //myclient/perforce/path/... C:/p4/perforce/path/...</code></p>\n\n<p>i.e. you'll get the depot path, the client namespace path, and the local filesystem path.  The client's <code>View</code> maps depot to client, and the client's <code>Root</code> maps client to local.</p>\n\n<p>Note that it is possible for different subsets of the path to be mapped to different locations, in which case you'll get multiple lines of output.  (Or the path might not be mapped at all locally, in which case you'll get an error.)</p>\n"}], "owner": {"reputation": 99, "user_id": 7994223, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d58ad38082ae33f7aad6aa77a76dfcde?s=128&d=identicon&r=PG&f=1", "display_name": "ghost654", "link": "https://stackoverflow.com/users/7994223/ghost654"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 43903716, "answer_count": 1, "score": -1, "last_activity_date": 1494455501, "creation_date": 1494453739, "question_id": 43903418, "link": "https://stackoverflow.com/questions/43903418/retrieving-local-directory-from-perforce-in-python", "title": "retrieving local directory from perforce in python", "body": "<p>If I have a python script in which it connects to the user perforce.  What command could i use where I give it the perforce path ex-(//perforce/path) and get back the local path on that persons machine? ex-(C:/p4/perforce/path)</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "edited": false, "score": 0, "creation_date": 1494454921, "post_id": 43903500, "comment_id": 74841169, "body": "Why don&#39;t you just store key as an integer as well? instead of <code>&#39;99&#39;: &#39;FINDME&#39;</code> use <code>99: &#39;FINDME&#39;</code> i.e. <code>data={&#39;breed&#39;: &#39;collie&#39;, 99: &#39;FINDME&#39;,}</code>"}, {"owner": {"reputation": 1681, "user_id": 1394731, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/18e7f1db4c9cd9109baef63567e26f51?s=128&d=identicon&r=PG", "display_name": "theicfire", "link": "https://stackoverflow.com/users/1394731/theicfire"}, "reply_to_user": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "edited": false, "score": 1, "creation_date": 1494456272, "post_id": 43903500, "comment_id": 74841639, "body": "Great question! Turns out django turns all json keys into strings :(. I&#39;m not sure why."}, {"owner": {"reputation": 1681, "user_id": 1394731, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/18e7f1db4c9cd9109baef63567e26f51?s=128&d=identicon&r=PG", "display_name": "theicfire", "link": "https://stackoverflow.com/users/1394731/theicfire"}, "reply_to_user": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "edited": false, "score": 2, "creation_date": 1494456464, "post_id": 43903500, "comment_id": 74841686, "body": "Oh I know why -- because JSON doesn&#39;t allow integer keys"}, {"owner": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "edited": false, "score": 0, "creation_date": 1494457113, "post_id": 43903500, "comment_id": 74841877, "body": "Right, What is your Django version?"}, {"owner": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "edited": false, "score": 0, "creation_date": 1494460672, "post_id": 43903500, "comment_id": 74842689, "body": "For future readers and for you @theicfire, this will work if you just want to access the (key, value), the internal functionality of integer key is to be <code>interpreted as an index lookup in an array</code> (more <a href=\"https://www.postgresql.org/docs/9.3/static/functions-json.html#FUNCTIONS-JSON-OP-TABLE\" rel=\"nofollow noreferrer\">here</a>) hence with above hack you won&#39;t be able to perform queries such as <code>data__owner__other_pets__0__name</code>. So better avoid integer keys."}, {"owner": {"reputation": 1681, "user_id": 1394731, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/18e7f1db4c9cd9109baef63567e26f51?s=128&d=identicon&r=PG", "display_name": "theicfire", "link": "https://stackoverflow.com/users/1394731/theicfire"}, "reply_to_user": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "edited": false, "score": 0, "creation_date": 1494462581, "post_id": 43903500, "comment_id": 74843069, "body": "I was looking at 1.10, but 1.11 also has the same issue. I think that statement you&#39;re pointing to isn&#39;t always correct, for example, in my <code>data__99</code> query, django is smart enough to know I&#39;m not trying to look at the 99th element of a JsonField (it&#39;s not an array)"}], "tags": [], "owner": {"reputation": 1681, "user_id": 1394731, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/18e7f1db4c9cd9109baef63567e26f51?s=128&d=identicon&r=PG", "display_name": "theicfire", "link": "https://stackoverflow.com/users/1394731/theicfire"}, "is_accepted": true, "score": 1, "last_activity_date": 1494454255, "creation_date": 1494454255, "answer_id": 43903500, "question_id": 43903414, "link": "https://stackoverflow.com/questions/43903414/query-jsonfield-for-with-keys-of-numerals-only/43903500#43903500", "title": "Query JSONField for with keys of numerals only", "body": "<p>It doesn't look like there's a good option. Here's a snippet from django/contrib/postgres/fields/jsonb.py:</p>\n\n<pre><code>def as_sql(self, compiler, connection):\n    key_transforms = [self.key_name]\n    previous = self.lhs\n    while isinstance(previous, KeyTransform):\n        key_transforms.insert(0, previous.key_name)\n        previous = previous.lhs\n    lhs, params = compiler.compile(previous)\n    if len(key_transforms) &gt; 1:\n        return \"{} #&gt; %s\".format(lhs), [key_transforms] + params\n    try:\n        int(self.key_name)\n    except ValueError:\n        lookup = \"'%s'\" % self.key_name\n    else:\n        lookup = \"%s\" % self.key_name\n    return \"%s -&gt; %s\" % (lhs, lookup), params\n</code></pre>\n\n<p>From this, it looks like it tries to turn every key into an integer, and use that as the key if possible.</p>\n\n<p>Here's a hack that you could do to make the query the way you want it:</p>\n\n<pre><code>def jsonb_integer_keys_to_str(qs, key):\n  return qs.model.objects.raw(qs.query.__str__().replace('-&gt; {}'.format(key), \"-&gt; '{}'\".format(key)))\n</code></pre>\n\n<p>And use it as such:</p>\n\n<pre><code>jsonb_integer_keys_to_str(Dog.objects.filter(data__99='FINDME'), 99)\n</code></pre>\n\n<p>This solution is overly specific, but will work in this case. What it's doing is modifying the postgres sql and putting quotes in the right place.</p>\n"}, {"tags": [], "owner": {"reputation": 4206, "user_id": 366332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/669dba7d7f87659c2262975aafebcd7b?s=128&d=identicon&r=PG", "display_name": "Vanni Totaro", "link": "https://stackoverflow.com/users/366332/vanni-totaro"}, "is_accepted": false, "score": 4, "last_activity_date": 1560877481, "last_edit_date": 1592644375, "creation_date": 1560877481, "answer_id": 56653939, "question_id": 43903414, "link": "https://stackoverflow.com/questions/43903414/query-jsonfield-for-with-keys-of-numerals-only/56653939#56653939", "title": "Query JSONField for with keys of numerals only", "body": "<p>There is a <code>wontfix</code> <a href=\"https://code.djangoproject.com/ticket/30566\" rel=\"nofollow noreferrer\">Django ticket</a> about this.</p>\n<p>It is <a href=\"https://docs.djangoproject.com/en/2.2/ref/contrib/postgres/fields/#key-index-and-path-lookups\" rel=\"nofollow noreferrer\">documented behavior</a>:</p>\n<blockquote>\n<p>If the key is an integer, it will be interpreted as an index lookup in an array.</p>\n<p>If the key you wish to query by clashes with the name of another lookup, use the jsonfield.contains lookup instead.</p>\n</blockquote>\n<p>So the suggested solution is to use <a href=\"https://docs.djangoproject.com/en/2.2/ref/contrib/postgres/fields/#std:fieldlookup-hstorefield.contains\" rel=\"nofollow noreferrer\">jsonfield.contains</a>:</p>\n<pre><code>Dog.objects.filter(data__contains={'99': 'FINDME'})\n</code></pre>\n<p>Anyway I suggest you to avoid numeric keys inside json fields because with the <code>contains</code> approach you cannot perform <code>startswith</code> and other similar lookups (see this <a href=\"https://stackoverflow.com/questions/50569861/django-postgres-json-field-with-numeric-keys\">similar question</a>) such as <code>Dog.objects.filter(data__99__startswith='FIND')</code>.</p>\n"}], "owner": {"reputation": 1681, "user_id": 1394731, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/18e7f1db4c9cd9109baef63567e26f51?s=128&d=identicon&r=PG", "display_name": "theicfire", "link": "https://stackoverflow.com/users/1394731/theicfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 1, "accepted_answer_id": 43903500, "answer_count": 2, "score": 4, "last_activity_date": 1560877481, "creation_date": 1494453720, "question_id": 43903414, "link": "https://stackoverflow.com/questions/43903414/query-jsonfield-for-with-keys-of-numerals-only", "title": "Query JSONField for with keys of numerals only", "body": "<p>I've taken the following example from Django's documentation, except replaced added a key '99':</p>\n\n<pre><code>&gt;&gt;&gt; Dog.objects.create(name='Rufus', data={\n... 'breed': 'labrador',\n...     'owner': {\n...         'name': 'Bob',\n...         'other_pets': [{\n...             'name': 'Fishy',\n...         }],\n...     },\n... })\n&gt;&gt;&gt; Dog.objects.create(name='Meg', data={'breed': 'collie', '99': 'FINDME',})\n\n&gt;&gt;&gt; Dog.objects.filter(data__breed='collie')\n&lt;QuerySet [&lt;Dog: Meg&gt;]&gt;\n</code></pre>\n\n<p>I want the following to also return the \"Meg\" Dog:</p>\n\n<pre><code>Dog.objects.filter(data__99='FINDME')\n</code></pre>\n\n<p>However, it seems that because my key is an integer, Django doesn't handle this properly. How do I have integer keys that are strings in python jsonfields?</p>\n"}, {"tags": ["python", "windows", "tensorflow"], "comments": [{"owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1494454168, "post_id": 43903360, "comment_id": 74840900, "body": "Is this replicate of  ?? <a href=\"http://stackoverflow.com/questions/43892150/tensorflow-on-gpu\">stackoverflow.com/questions/43892150/tensorflow-on-gpu</a>"}, {"owner": {"reputation": 23, "user_id": 2125319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b670b512e693d438c1ade67d52843544?s=128&d=identicon&r=PG", "display_name": "Spencer Ollila", "link": "https://stackoverflow.com/users/2125319/spencer-ollila"}, "reply_to_user": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1494454616, "post_id": 43903360, "comment_id": 74841062, "body": "Not exactly, I&#39;m on an i7, 1080Ti, and Win10. Besides, that one doesn&#39;t look like it got answered with a helpful result, so it doesn&#39;t do too much good either way."}, {"owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1494454926, "post_id": 43903360, "comment_id": 74841173, "body": "yeah, no answer yet. I was trying to link these questions. I saw 4 posts today with similar pywrap - windows error."}, {"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 0, "creation_date": 1494454977, "post_id": 43903360, "comment_id": 74841191, "body": "How are you installing TF? With <code>pip</code>? Or from <code>conda-forge</code>? Some other way?"}, {"owner": {"reputation": 23, "user_id": 2125319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b670b512e693d438c1ade67d52843544?s=128&d=identicon&r=PG", "display_name": "Spencer Ollila", "link": "https://stackoverflow.com/users/2125319/spencer-ollila"}, "edited": false, "score": 0, "creation_date": 1494455487, "post_id": 43903360, "comment_id": 74841403, "body": "I tried it with pip, pip3, and then downloaded anaconda to try and create it from there (with the google-apis link from the tensorflow site). I don&#39;t know how much it helps, but I&#39;m trying to download the gpu-enabled version."}, {"owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1494512299, "post_id": 43903360, "comment_id": 74869262, "body": "what is the version of cuDNN you&#39;re using ? v5.1 or v6.0 ??"}, {"owner": {"reputation": 5111, "user_id": 2501624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SsWrs.jpg?s=128&g=1", "display_name": "aldel", "link": "https://stackoverflow.com/users/2501624/aldel"}, "edited": false, "score": 0, "creation_date": 1503082741, "post_id": 43903360, "comment_id": 78484834, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43577923/cannot-import-tensorflow-for-gpu-on-windows-10\">Cannot import Tensorflow for GPU on Windows 10</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 6093517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114ae854a7ea556edb04eca167cfbadb?s=128&d=identicon&r=PG&f=1", "display_name": "George Chien", "link": "https://stackoverflow.com/users/6093517/george-chien"}, "is_accepted": false, "score": 3, "last_activity_date": 1494729562, "last_edit_date": 1495539206, "creation_date": 1494729562, "answer_id": 43959867, "question_id": 43903360, "link": "https://stackoverflow.com/questions/43903360/trying-to-install-tensorflow-on-windows-10-no-module-named-pywrap-tensorflow/43959867#43959867", "title": "Trying to Install Tensorflow on Windows 10 &#39;No Module named &#39;_pywrap_tensorflow_internal&#39;", "body": "<p>I'm also facing the same problem as you in installing TensorFlow-gpu in Windows 10 with Anaconda 4.2.\nI try many of solutions do not work for me. Until I try the solution below: <a href=\"https://stackoverflow.com/a/43665317/6093517\">https://stackoverflow.com/a/43665317/6093517</a></p>\n\n<p>And it work for me! \nYou can check if your cuDNN version is v6.0, and change it's file name like the solution in the %CUDA%\\v8.0\\bin directory.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5847790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb82dd2df18084a0a230a6f69cbdad9a?s=128&d=identicon&r=PG&f=1", "display_name": "Arkantos", "link": "https://stackoverflow.com/users/5847790/arkantos"}, "is_accepted": false, "score": 0, "last_activity_date": 1506314173, "last_edit_date": 1506314173, "creation_date": 1506312493, "answer_id": 46397476, "question_id": 43903360, "link": "https://stackoverflow.com/questions/43903360/trying-to-install-tensorflow-on-windows-10-no-module-named-pywrap-tensorflow/46397476#46397476", "title": "Trying to Install Tensorflow on Windows 10 &#39;No Module named &#39;_pywrap_tensorflow_internal&#39;", "body": "<p>I faced a similar problem. It so happens that tensorflow requires cuDNN to be in the default Path variable for environments. </p>\n\n<p>If you installed cuDNN package after installing CUDA Compute Toolkit you will need to add the path to cudnn64_6.dll or cudnn64_5.dll whichever version you use to the Path variable. </p>\n\n<p>If using Windows type in environment in the start menu and in the window that appears go for Environment Variables option. Then look for the Path variable and add the :../cuda/bin to it. for eg. C:/cuda/bin. This should solve it. Other things mostly take care of themselves. </p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 7566224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0BJA_0d_Z_U/AAAAAAAAAAI/AAAAAAAAAAs/h64CHPiAutE/photo.jpg?sz=128", "display_name": "TuanNV", "link": "https://stackoverflow.com/users/7566224/tuannv"}, "is_accepted": false, "score": 1, "last_activity_date": 1509471796, "last_edit_date": 1509471796, "creation_date": 1509468712, "answer_id": 47040563, "question_id": 43903360, "link": "https://stackoverflow.com/questions/43903360/trying-to-install-tensorflow-on-windows-10-no-module-named-pywrap-tensorflow/47040563#47040563", "title": "Trying to Install Tensorflow on Windows 10 &#39;No Module named &#39;_pywrap_tensorflow_internal&#39;", "body": "<p>I run into the same problem and I found the reason for this was the installation of <code>tensorflow_gpu</code> instead of <code>tensorflow</code>.</p>\n\n<p>So, if you are lucky enough, you can solve your problem by doing the following steps:</p>\n\n<p>Step 1: <code>pip uninstall tensorflow_gpu</code></p>\n\n<p>Step 2: <code>pip uninstall tensorflow</code> (sometimes you don't need this)</p>\n\n<p>Step 3: <code>pip install tensorflow</code></p>\n"}], "owner": {"reputation": 23, "user_id": 2125319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b670b512e693d438c1ade67d52843544?s=128&d=identicon&r=PG", "display_name": "Spencer Ollila", "link": "https://stackoverflow.com/users/2125319/spencer-ollila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7540, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1509471796, "creation_date": 1494453466, "last_edit_date": 1495540056, "question_id": 43903360, "link": "https://stackoverflow.com/questions/43903360/trying-to-install-tensorflow-on-windows-10-no-module-named-pywrap-tensorflow", "title": "Trying to Install Tensorflow on Windows 10 &#39;No Module named &#39;_pywrap_tensorflow_internal&#39;", "body": "<p>I have been trying to install tensorflow on my new machine for weeks now, and no matter what I do, I can't seem to get tensorflow to properly import into python. As soon as I try:<br />\n    <code>import tensorflow as tf</code><br />\nI get an error, the last paragraph of which results in:<br />\n    <code>Traceback (most recent call last):</code><br />\n      <code>File \"C:\\Users\\solli\\Anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 41, in &lt;module&gt;</code><br />\n        <code>from tensorflow.python.pywrap_tensorflow_internal import *</code><br />\n      <code>File \"C:\\Users\\solli\\Anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 21, in &lt;module&gt;</code><br />\n        <code>_pywrap_tensorflow_internal = swig_import_helper()</code><br />\n      <code>File \"C:\\Users\\solli\\Anaconda3\\envs\\tensorflow-gpu\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 20, in swig_import_helper</code><br />\n        <code>return importlib.import_module('_pywrap_tensorflow_internal')</code><br />\n      <code>File \"C:\\Users\\solli\\Anaconda3\\envs\\tensorflow-gpu\\lib\\importlib\\__init__.py\", line 126, in import_module</code><br />\n        <code>return _bootstrap._gcd_import(name[level:], package, level)</code><br />\n    <code>ImportError: No module named '_pywrap_tensorflow_internal'</code><br /><br /></p>\n\n<p>I've been trying to do everything I could think up to trace back why this would be happening, but I am stumped at this point.<br />\nAccording to this thread \"<a href=\"https://stackoverflow.com/questions/42011070/on-windows-running-import-tensorflow-generates-no-module-named-pywrap-tenso\">On Windows, running &quot;import tensorflow&quot; generates No module named &quot;_pywrap_tensorflow&quot; error</a>\", the issue lay in a lack of MSVCP140.dll (whether it wasn't there at all or no set path variable). But when I search for it:<br />\n    <code>&gt; where MSVCP140.DLL</code><br />\n    <code>C:\\Windows\\System32\\msvcp140.dll</code><br />\n    <code>C:\\Users\\solli\\Anaconda3\\envs\\tensorflow-gpu\\msvcp140.dll</code><br />\n    <code>C:\\Users\\solli\\Anaconda3\\envs\\tensorflow-gpu\\Library\\bin\\msvcp140.dll</code><br />\n    <code>C:\\Users\\solli\\Anaconda3\\msvcp140.dll</code><br />\n    <code>C:\\Users\\solli\\Anaconda3\\Library\\bin\\msvcp140.dll</code><br />\nGiven I am new to Windows (this went a lot easier on the linux partition), but as far as I understand, that means that the path variable (and python itself should) find the msvcp140.dll module[s]. Any and all help would be greatly appreciated!</p>\n"}, {"tags": ["python", "post", "scrapy", "spyder"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5269287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10200920940823024/picture?type=large", "display_name": "Ievgen Chernetsov", "link": "https://stackoverflow.com/users/5269287/ievgen-chernetsov"}, "edited": false, "score": 0, "creation_date": 1494523320, "post_id": 43909989, "comment_id": 74876990, "body": "Thanks a lot, it helped!"}], "tags": [], "owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "is_accepted": false, "score": 1, "last_activity_date": 1494490518, "creation_date": 1494490518, "answer_id": 43909989, "question_id": 43903336, "link": "https://stackoverflow.com/questions/43903336/scrapy-formrequest-with-playload/43909989#43909989", "title": "Scrapy FormRequest with playload", "body": "<p>You need to use non-URL-encoded keys for your form data:</p>\n\n<pre><code>payload = {\n 'hoyt_dealer_basic_search[Bemail_address]': '',\n 'hoyt_dealer_basic_search[_token]': 'FxDqyxsyOtDcLHBhsY1AR49Zhq9Oj2rmPeDxPvq0chg',\n 'hoyt_dealer_basic_search[go]': '',\n 'hoyt_dealer_basic_search[radius]': '50',\n 'hoyt_dealer_basic_search[zip]': '10002'}\n</code></pre>\n\n<p>Example scrapy shell session:</p>\n\n<pre><code>&gt;&gt;&gt; url = 'http://hoyt.com/find-a-dealer'\n&gt;&gt;&gt; headers = {}\n&gt;&gt;&gt; headers['Content-Type'] = 'application/x-www-form-urlencoded'\n&gt;&gt;&gt; headers['Cookie'] = '__cfduid=db974b4cdb2e79ef45abf70b16fd9b83e1494447240; PHPSESSID=3re29iv8ejkl9fapv1kqk28jk7; _dc_gtm_UA-28625097-1=1; _ga=GA1.2.689069018.1494447289; _gid=GA1.2.581535200.1494451642; _gat_UA-28625'\n&gt;&gt;&gt; headers['Referer'] = 'http://hoyt.com/find-a-dealer'\n&gt;&gt;&gt; headers['User-Agent'] = 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36'\n&gt;&gt;&gt; payload = {'hoyt_dealer_basic_search[zip]':'10002', 'hoyt_dealer_basic_search[radius]':'50', 'hoyt_dealer_basic_search[go]': '', 'hoyt_dealer_basic_search[_token]': 'FxDqyxsyOtDcLHBhsY1AR49Zhq9Oj2rmPeDxPvq0chg', 'hoyt_dealer_basic_search[Bemail_address]': ''}\n\n&gt;&gt;&gt; frq = scrapy.FormRequest.from_response(response, formname='hoyt_dealer_basic_search', headers=headers, formdata=payload)\n&gt;&gt;&gt; fetch(frq)\n2017-05-11 10:10:29 [scrapy.core.engine] DEBUG: Crawled (200) &lt;POST http://hoyt.com/find-a-dealer&gt; (referer: http://hoyt.com/find-a-dealer)\n\n\n&gt;&gt;&gt; print(response.xpath('//script/text()').extract()[2])\n\n        //Generate Markers Value Array\n        var theMarkers = [\n                                                {\"title\":'Gotham Archery',\"lat\": '40.684381',\"lng\": '-73.980437',\"description\":\n                        '&lt;strong&gt;Gotham Archery&lt;/strong&gt;&lt;br /&gt;480 Baltic Street'}\n                ,                                     {\"title\":'Pro Line Archery Lanes, Inc.',\"lat\": '40.684494',\"lng\": '-73.850427',\"description\":\n                        '&lt;strong&gt;Pro Line Archery Lanes, Inc.&lt;/strong&gt;&lt;br /&gt;9511 101st Ave'}\n                ,                                     {\"title\":'Queen`s Archery',\"lat\": '40.760434',\"lng\": '-73.799188',\"description\":\n                        '&lt;strong&gt;Queen`s Archery&lt;/strong&gt;&lt;br /&gt;170-20 39TH Ave'}\n                ,                                     {\"title\":'Targeteers SG2, Inc.',\"lat\": '40.902033',\"lng\": '-74.100102',\"description\":\n                        '&lt;strong&gt;Targeteers SG2, Inc.&lt;/strong&gt;&lt;br /&gt;P O Box 878'}\n                ,                                     {\"title\":'Extreme Archery, Inc.',\"lat\": '40.955281',\"lng\": '-73.737657',\"description\":\n                        '&lt;strong&gt;Extreme Archery, Inc.&lt;/strong&gt;&lt;br /&gt;801 East Boston Post Rd'}\n                ,                                     {\"title\":'C &amp;amp; B Archery',\"lat\": '40.766663',\"lng\": '-73.516470',\"description\":\n                        '&lt;strong&gt;C &amp;amp; B Archery&lt;/strong&gt;&lt;br /&gt;11 Commercial Street'}\n                ,                                     {\"title\":'American Outdoor Sports',\"lat\": '40.725297',\"lng\": '-73.444737',\"description\":\n                        '&lt;strong&gt;American Outdoor Sports&lt;/strong&gt;&lt;br /&gt;238 Route 109'}\n                ,                                     {\"title\":'Davis Sport Shop',\"lat\": '41.160697',\"lng\": '-74.189154',\"description\":\n                        '&lt;strong&gt;Davis Sport Shop&lt;/strong&gt;&lt;br /&gt;P.O. Box 87'}\n                ,                                     {\"title\":'Heritage Guild Branchburg',\"lat\": '40.543740',\"lng\": '-74.660040',\"description\":\n                        '&lt;strong&gt;Heritage Guild Branchburg&lt;/strong&gt;&lt;br /&gt;3321 Hwy 22 East'}\n                ,                                     {\"title\":'Garden State Bow &amp;amp; Reel',\"lat\": '41.088300',\"lng\": '-74.514420',\"description\":\n                        '&lt;strong&gt;Garden State Bow &amp;amp; Reel&lt;/strong&gt;&lt;br /&gt;2760A Route 23 North'}\n                ,                                     {\"title\":'A &amp;amp; M Archery',\"lat\": '40.084328',\"lng\": '-74.203837',\"description\":\n                        '&lt;strong&gt;A &amp;amp; M Archery&lt;/strong&gt;&lt;br /&gt;201 2nd Street'}\n                ,                                     {\"title\":'Simon Peter Sport, CO.',\"lat\": '41.036057',\"lng\": '-74.764550',\"description\":\n                        '&lt;strong&gt;Simon Peter Sport, CO.&lt;/strong&gt;&lt;br /&gt;660 Route 206 South'}\n                                                    ];\n        var theMapOptions = {\n                        center: new google.maps.LatLng(40.715523, -73.988379),\n                        zoom: 8\n        };\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5269287, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10200920940823024/picture?type=large", "display_name": "Ievgen Chernetsov", "link": "https://stackoverflow.com/users/5269287/ievgen-chernetsov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494490518, "creation_date": 1494453343, "question_id": 43903336, "link": "https://stackoverflow.com/questions/43903336/scrapy-formrequest-with-playload", "title": "Scrapy FormRequest with playload", "body": "<p>I am trying to scrape a web passing 10002 zipcode.\nHere is my Scrapy Spyder</p>\n\n<pre><code>class HoytSpyder(scrapy.Spider):\nname = \"hoyt_usa\"\nallowed_domains = [\"hoyt.com\"]\nstart_urls = [\"http://hoyt.com/find-a-dealer\"]\n\ndef parse(self, response):\n    url = 'http://hoyt.com/find-a-dealer'\n    headers = {}\n    headers['Content-Type'] = 'application/x-www-form-urlencoded'\n    headers['Cookie'] = '__cfduid=db974b4cdb2e79ef45abf70b16fd9b83e1494447240; PHPSESSID=3re29iv8ejkl9fapv1kqk28jk7; _dc_gtm_UA-28625097-1=1; _ga=GA1.2.689069018.1494447289; _gid=GA1.2.581535200.1494451642; _gat_UA-28625'\n    headers['Referer'] = 'http://hoyt.com/find-a-dealer'\n    headers['User-Agent'] = 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36'\n    payload = {'hoyt_dealer_basic_search%5Bzip%5D':'10002', 'hoyt_dealer_basic_search%5Bradius%5D':'50', 'hoyt_dealer_basic_search%5Bgo%5D': '', 'hoyt_dealer_basic_search%5B_token%5D': 'FxDqyxsyOtDcLHBhsY1AR49Zhq9Oj2rmPeDxPvq0chg', 'hoyt_dealer_basic_search%5Bemail_address%5D': ''}\n    return FormRequest.from_response(response, formname='hoyt_dealer_basic_search', headers=headers, formdata=payload, callback=self.parse_dealers)\n\ndef parse_dealers(self, response):\n    print '+++++++++++'\n    html = response.xpath('//div[@class=\"row content-row\"]//div[@class=\"medium-3\"]')\n    print len(html)\n    print response.body\n</code></pre>\n\n<p>I have some html in response body, but with no results. I also tried Formdata(url, headers=headers, formdata=payload) - but that also didn't help\nI suppose I hane some issue with passing payload with response. \nAny ideas? Will be much appreciated</p>\n\n<p>Response should contain var theMarkers = [items]. Now theMarkers is empty</p>\n"}, {"tags": ["python", "python-3.x", "graph", "histogram"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 7729057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0d77732121c5ed3bf036abee6ab342d?s=128&d=identicon&r=PG&f=1", "display_name": "Katey", "link": "https://stackoverflow.com/users/7729057/katey"}, "edited": false, "score": 0, "creation_date": 1494454849, "post_id": 43903499, "comment_id": 74841153, "body": "Aguiar I see, but it&#39;s not that I&#39;m having a problem with having a high number of points to graph, it&#39;s that my flux matrix is a 7 element array, with each element with a value of magnitude of around 1e+19. Do you know how to graph that? Thanks for the help!"}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 75, "user_id": 7729057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0d77732121c5ed3bf036abee6ab342d?s=128&d=identicon&r=PG&f=1", "display_name": "Katey", "link": "https://stackoverflow.com/users/7729057/katey"}, "edited": false, "score": 0, "creation_date": 1494455064, "post_id": 43903499, "comment_id": 74841228, "body": "You only have 7 elements in you entire data? I&#39;m afraid that&#39;s too few to be represented in a histogram. First of all, try letting <code>matplotlib</code> to choose the bins, by deleting  <code>, bins = 30</code> in <code>plt.hist(flux_norm, bins = 30)</code>, and then let us know what happened."}, {"owner": {"reputation": 75, "user_id": 7729057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0d77732121c5ed3bf036abee6ab342d?s=128&d=identicon&r=PG&f=1", "display_name": "Katey", "link": "https://stackoverflow.com/users/7729057/katey"}, "edited": false, "score": 0, "creation_date": 1494458849, "post_id": 43903499, "comment_id": 74842310, "body": "Aguiar okay that makes a little more sense I guess I was just not getting the concept of a histogram lol. but yeah only 7 elements but teacher wants a histogram."}], "tags": [], "owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "is_accepted": false, "score": 0, "last_activity_date": 1494454245, "creation_date": 1494454245, "answer_id": 43903499, "question_id": 43903284, "link": "https://stackoverflow.com/questions/43903284/confused-with-histogram-plotting-in-python/43903499#43903499", "title": "Confused with histogram plotting in Python", "body": "<p>You second code should work just fine, this outputs the following histogram:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\n\nflux = np.arange(1,10**19,10**17)\nn = np.arange(0,100,1)\nflux_norm= (np.multiply(n,flux))\nplt.hist(flux_norm, bins = 30)\n##plt.xlim(0,10)\n##plt.ylim(0,10**19)\nplt.title(\"Histogram of Normalized Flux\")\nplt.xlabel(\"Energy (MeV)\")\nplt.ylabel(\"Normalized flux\")\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mY3z1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mY3z1.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1494454795, "post_id": 43903522, "comment_id": 74841133, "body": "Since this is a histogram, it&#39;s quite unusual to have no value at all in <code>ylim(0,10**19)</code>, my guess is that the data is not that large and then setting a really high superior limit  for <code>y</code> it&#39;s impossible to see the actual histogram without zooming in."}, {"owner": {"reputation": 75, "user_id": 7729057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0d77732121c5ed3bf036abee6ab342d?s=128&d=identicon&r=PG&f=1", "display_name": "Katey", "link": "https://stackoverflow.com/users/7729057/katey"}, "edited": false, "score": 0, "creation_date": 1494454993, "post_id": 43903522, "comment_id": 74841200, "body": "@matusko so how would one specify y values?"}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 75, "user_id": 7729057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0d77732121c5ed3bf036abee6ab342d?s=128&d=identicon&r=PG&f=1", "display_name": "Katey", "link": "https://stackoverflow.com/users/7729057/katey"}, "edited": false, "score": 0, "creation_date": 1494455228, "post_id": 43903522, "comment_id": 74841283, "body": "@Katey a histogram doesn&#39;t work like that, a <a href=\"https://en.wikipedia.org/wiki/Histogram\" rel=\"nofollow noreferrer\">histogram</a> will always show frequency of data in y-axis."}], "tags": [], "owner": {"reputation": 2501, "user_id": 5371236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c45d6b2fc915b9333a4508ceebd7d1d?s=128&d=identicon&r=PG&f=1", "display_name": "matusko", "link": "https://stackoverflow.com/users/5371236/matusko"}, "is_accepted": false, "score": 0, "last_activity_date": 1494454360, "creation_date": 1494454360, "answer_id": 43903522, "question_id": 43903284, "link": "https://stackoverflow.com/questions/43903284/confused-with-histogram-plotting-in-python/43903522#43903522", "title": "Confused with histogram plotting in Python", "body": "<p>Obviously, in the first case there are no data plotted in the visible range of </p>\n\n<pre><code>plt.xlim(0,10)\nplt.ylim(0,10**19)\n</code></pre>\n\n<p>Here is how first argument <code>x</code> in <code>hist</code> works - from <a href=\"https://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.hist\" rel=\"nofollow noreferrer\">matplotlib.pyplot docs</a></p>\n\n<blockquote>\n  <p><strong>x</strong> : (n,) array or sequence of (n,) arrays</p>\n  \n  <p>Input values, this takes either a single array or a sequency of arrays\n  which are not required to be of the same length</p>\n</blockquote>\n"}], "owner": {"reputation": 75, "user_id": 7729057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0d77732121c5ed3bf036abee6ab342d?s=128&d=identicon&r=PG&f=1", "display_name": "Katey", "link": "https://stackoverflow.com/users/7729057/katey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1494454360, "creation_date": 1494453050, "question_id": 43903284, "link": "https://stackoverflow.com/questions/43903284/confused-with-histogram-plotting-in-python", "title": "Confused with histogram plotting in Python", "body": "<p>Hello I'm trying to plot a histogram in Python. \nThe y-axis needs to go up to values of 1e+19 and the x axis need to be from 0 to 10. I'm confused because I'm not sure how python is plotting this. I think it's graphing my y-axis data matrix on the x-axis. </p>\n\n<pre><code>flux_norm= (np.multiply(n,flux))\nplt.hist(flux_norm, bins=30)\nplt.xlim(0,10)\nplt.ylim(0,10**19)\nplt.title(\"Histogram of Normalized Flux\")\nplt.xlabel(\"Energy (MeV)\")\nplt.ylabel(\"Normalized flux\")\n</code></pre>\n\n<p>The code above gives me a blank graph</p>\n\n<pre><code>flux_norm= (np.multiply(n,flux))\nplt.hist(flux_norm, bins=30)\nplt.title(\"Histogram of Normalized Flux\")\nplt.xlabel(\"Energy (MeV)\")\nplt.ylabel(\"Normalized flux\")\n</code></pre>\n\n<p>The code above gives me a graph but only sets my y-axis to 2! and my x-axis is at 1e+19</p>\n\n<p>Ive looked at the general ways to graph histograms on python but I can't find an example that's similar to my case. \nplease send help</p>\n"}, {"tags": ["python", "c++", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 1031252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8397aac7eb335001671afc40caa1a3b1?s=128&d=identicon&r=PG", "display_name": "KOlegA", "link": "https://stackoverflow.com/users/1031252/kolega"}, "is_accepted": true, "score": 2, "last_activity_date": 1560937191, "creation_date": 1560937191, "answer_id": 56664626, "question_id": 43903243, "link": "https://stackoverflow.com/questions/43903243/opencv-laplacian-different-results-in-python-and-c/56664626#56664626", "title": "OpenCV - laplacian different results in Python and C++", "body": "<p>Too late for answer, but it works if you specify argument name 'ksize' in python code:</p>\n\n<pre><code>dst = cv2.Laplacian(src, ddepth, ksize=kernel_size)\n</code></pre>\n"}], "owner": {"reputation": 2776, "user_id": 4917686, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GzLa2.png?s=128&g=1", "display_name": "Jo&#227;o Cartucho", "link": "https://stackoverflow.com/users/4917686/jo%c3%a3o-cartucho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 56664626, "answer_count": 1, "score": 2, "last_activity_date": 1560939804, "creation_date": 1494452805, "last_edit_date": 1560939804, "question_id": 43903243, "link": "https://stackoverflow.com/questions/43903243/opencv-laplacian-different-results-in-python-and-c", "title": "OpenCV - laplacian different results in Python and C++", "body": "<p>I was coding the Python version of one of the C++ tutorials and noticed that the output image was different depending if I was using C++ or Python.</p>\n\n<p>For example, with our friend Lena:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KrCKI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KrCKI.png\" alt=\"enter image description here\"></a></p>\n\n<p>C++ code:</p>\n\n<pre><code>#include \"opencv2/imgproc/imgproc.hpp\"\n#include \"opencv2/imgcodecs.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n\nusing namespace cv;\n\nint main( int, char** argv )\n{\n    Mat src, dst, abs_dst;\n    int kernel_size = 3;\n    int scale = 1;\n    int delta = 0;\n    int ddepth = CV_16S;\n\n    src = imread( argv[1] );\n\n    Laplacian( src, dst, ddepth, kernel_size, scale, delta, BORDER_DEFAULT );\n    convertScaleAbs( dst, abs_dst );\n\n    const char* window_name = \"Laplace Demo\";\n    namedWindow( window_name, WINDOW_AUTOSIZE );\n    imshow( window_name, abs_dst );\n\n    waitKey(0);\n    return 0;\n}\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code>import sys\nimport cv2\n\ndef main(argv):\n\n    ddepth = cv2.CV_16S\n    kernel_size = 3\n\n    src = cv2.imread(sys.argv[1], cv2.IMREAD_COLOR)\n\n    dst = cv2.Laplacian(src, ddepth, kernel_size)\n    abs_dst = cv2.convertScaleAbs(dst)\n\n    window_name = \"Laplace Demo\"\n    cv2.namedWindow(window_name, cv2.WINDOW_AUTOSIZE)\n    cv2.imshow(window_name, abs_dst)\n\n    cv2.waitKey(0)\n    return 0\n\n\nif __name__ == \"__main__\":\n    main(sys.argv[1:])\n</code></pre>\n\n<p>C++ image output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fyo6K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fyo6K.png\" alt=\"enter image description here\"></a></p>\n\n<p>Python image output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UOol2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOol2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Do you have any idea why this happens?</p>\n"}, {"tags": ["python", "recursion", "mergesort"], "answers": [{"comments": [{"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1494455001, "post_id": 43903536, "comment_id": 74841204, "body": "Thanks for that. I realized changing the condition to `    if hi - 1 &lt;= lo:         return` works..."}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 2, "last_activity_date": 1494454440, "creation_date": 1494454440, "answer_id": 43903536, "question_id": 43903230, "link": "https://stackoverflow.com/questions/43903230/recursive-mergeflow-max-recursion-exceeded/43903536#43903536", "title": "recursive mergeflow max recursion exceeded", "body": "<p>I'm pretty sure the problem is that your base-case:</p>\n\n<pre><code>if hi &lt;= lo:\n    return\n</code></pre>\n\n<p>Will never occur if your second recursive call doesn't add <code>1</code> to mid. Consider, we get to the point</p>\n\n<pre><code>hi = 1; lo = 0; mid = 0\n</code></pre>\n\n<p>So then our calculation for <code>mid</code> results in:</p>\n\n<pre><code>In [21]: hi = 1; lo = 0; mid = 0\n\nIn [22]: lo + (hi - lo) // 2\nOut[22]: 0\n</code></pre>\n\n<p>Which you then pass to <code>__recursive_mergesort(arr, aux, mid, hi)</code> with the exact same values, so you will get infinite recursion.</p>\n"}], "owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 43903536, "answer_count": 1, "score": 0, "last_activity_date": 1494454440, "creation_date": 1494452737, "question_id": 43903230, "link": "https://stackoverflow.com/questions/43903230/recursive-mergeflow-max-recursion-exceeded", "title": "recursive mergeflow max recursion exceeded", "body": "<p>I am trying to implement recursive mergeflow for an online class and have a small problem.</p>\n\n<p>The code to divide and conquer works fine like this:</p>\n\n<pre><code>def __recursive_mergesort(arr, aux, lo, hi):\n    if hi &lt;= lo:\n        return\n    mid = lo + (hi - lo) // 2\n\n    __recursive_mergesort(arr, aux, lo, mid)\n    __recursive_mergesort(arr, aux, mid + 1, hi)\n    # Call merge here...\n\n\ndef mergesort(x):\n    aux = [0] * len(x)\n    __recursive_mergesort(x, aux, 0, len(x) - 1)\n    return x\n</code></pre>\n\n<p>However, when I do:</p>\n\n<pre><code>def __recursive_mergesort(arr, aux, lo, hi):\n    if hi &lt;= lo:\n        return\n    mid = lo + (hi - lo) // 2\n\n    __recursive_mergesort(arr, aux, lo, mid)\n    __recursive_mergesort(arr, aux, mid, hi)\n    # Call merge here...\n\n\ndef mergesort(x):\n    aux = [0] * len(x)\n    __recursive_mergesort(x, aux, 0, len(x))\n    return x\n</code></pre>\n\n<p>This exceeds the maximum recursion depth. As far as I can tell, I have not changed the logic and I am having trouble debugging this. Of course there is a subtle or not so subtle bug lurking in here but for the life of me, I cannot figure out why the first version runs and not the second.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 6, "creation_date": 1494452730, "post_id": 43903205, "comment_id": 74840342, "body": "That&#39;s not valid syntax."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1494452825, "post_id": 43903205, "comment_id": 74840387, "body": "It it possible you have a list of dictionaries, like <code>a = [{ID:123}, {ID:321}]</code>?"}, {"owner": {"reputation": 37, "user_id": 7128228, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/190037338115466/picture?type=large", "display_name": "Shuoqi Zhou", "link": "https://stackoverflow.com/users/7128228/shuoqi-zhou"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494453415, "post_id": 43903205, "comment_id": 74840650, "body": "sorry guys forget <code>&quot;&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7128228, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/190037338115466/picture?type=large", "display_name": "Shuoqi Zhou", "link": "https://stackoverflow.com/users/7128228/shuoqi-zhou"}, "edited": false, "score": 0, "creation_date": 1494453348, "post_id": 43903281, "comment_id": 74840624, "body": "this is cool mate. Thanks"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494453485, "post_id": 43903281, "comment_id": 74840671, "body": "Or maybe <code>int(elem[3:])</code>"}], "tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": true, "score": 0, "last_activity_date": 1494453031, "creation_date": 1494453031, "answer_id": 43903281, "question_id": 43903205, "link": "https://stackoverflow.com/questions/43903205/how-to-change-the-format-of-the-list-element/43903281#43903281", "title": "How to change the format of the list element?", "body": "<pre><code>a = [\"ID:123\",\"ID:321\"]          # I suppose you mean this\n\nprint [elem[3:] for elem in a]   # This is a solution\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7128228, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/190037338115466/picture?type=large", "display_name": "Shuoqi Zhou", "link": "https://stackoverflow.com/users/7128228/shuoqi-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "closed_date": 1494453243, "accepted_answer_id": 43903281, "answer_count": 1, "score": -3, "last_activity_date": 1494453469, "creation_date": 1494452628, "last_edit_date": 1494453469, "question_id": 43903205, "link": "https://stackoverflow.com/questions/43903205/how-to-change-the-format-of-the-list-element", "closed_reason": "Needs details or clarity", "title": "How to change the format of the list element?", "body": "<p>For example, I have a list</p>\n\n<pre><code>a = [\"ID:123\",\"ID:321\"]\nprint a\n</code></pre>\n\n<p>I prefer output like:</p>\n\n<pre><code>[123,321]\n</code></pre>\n\n<p>without 'ID:'. I've been looking for solutions but they all <code>remove()</code> element\uff0c not part of them. So need some help here!</p>\n"}, {"tags": ["python", "file-upload", "amazon-s3", "boto3"], "owner": {"reputation": 697, "user_id": 901717, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/fbfbc913bf017c804d835ca9a31a4b8f?s=128&d=identicon&r=PG", "display_name": "michaelxor", "link": "https://stackoverflow.com/users/901717/michaelxor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1193, "favorite_count": 0, "answer_count": 0, "score": 8, "last_activity_date": 1494452406, "creation_date": 1494452406, "question_id": 43903165, "link": "https://stackoverflow.com/questions/43903165/does-boto3-attempt-to-retry-multipart-uploads-by-default", "title": "Does boto3 attempt to retry multipart uploads by default?", "body": "<p>I am using boto3 1.4.4 do handle uploads of large files (usually hundreds of megabytes to several gigabytes) to S3 using <a href=\"http://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.Client.upload_file\" rel=\"noreferrer\"><code>S3.Client.upload_file</code></a>.</p>\n\n<p>The boto3 docs <a href=\"http://boto3.readthedocs.io/en/latest/_modules/boto3/s3/transfer.html\" rel=\"noreferrer\">claim</a> that botocore handles retries for streaming uploads by default.</p>\n\n<blockquote>\n  <ul>\n  <li>Retries.  While botocore handles retries for streaming uploads,\n  it is not possible for it to handle retries for streaming\n  downloads.  This module handles retries for both cases so\n  you don't need to implement any retry logic yourself.</li>\n  </ul>\n</blockquote>\n\n<p>However, I have been looking through the <a href=\"https://github.com/boto/boto3/tree/1.4.4\" rel=\"noreferrer\">source code</a>, and I have been unable to find any evidence that retries are actually handled for uploads. Conversely, the retry logic for downloads (using <code>download_file</code> or <code>download_fileobj</code>) is <a href=\"https://github.com/boto/s3transfer/blob/develop/s3transfer/__init__.py#L521\" rel=\"noreferrer\">explicit and evident</a>, so I'm at a loss for whether or not retries are actually handled during upload.</p>\n\n<p>What follows is a partial stack trace from a failed upload, which is why I am asking the question in the first place:</p>\n\n<pre>\n\n  File \"/usr/local/lib/python2.7/dist-packages/boto3/s3transfer/__init__.py\", line 642, in upload_file\n    self._multipart_upload(filename, bucket, key, callback, extra_args)\n  File \"/usr/local/lib/python2.7/dist-packages/boto3/s3transfer/__init__.py\", line 739, in _multipart_upload\n    uploader.upload_file(filename, bucket, key, callback, extra_args)\n  File \"/usr/local/lib/python2.7/dist-packages/boto3/s3transfer/__init__.py\", line 393, in upload_file\n    filename, '/'.join([bucket, key]), e))\n  S3UploadFailedError: Failed to upload [file] to [bucket]: (104, 'ECONNRESET')\n\n</pre>\n\n<p><strong>Does boto3 provide some guarantees retrying uploads, and if so, where is this logic implemented / documented?</strong></p>\n\n<p>For now I have opted to use the <a href=\"https://pypi.python.org/pypi/retrying\" rel=\"noreferrer\">retrying</a> package to make repeated calls to <code>upload_file</code></p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494453241, "post_id": 43903115, "comment_id": 74840573, "body": "Have you tried <code>print(results)</code> to see if the results of the query are what you expect?"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 1473641, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2e1f431cce8a104400fc6ef5f3da497a?s=128&d=identicon&r=PG", "display_name": "Prox", "link": "https://stackoverflow.com/users/1473641/prox"}, "edited": false, "score": 0, "creation_date": 1494455842, "post_id": 43903324, "comment_id": 74841502, "body": "Thank, I&#39;ll try and explain it better next time."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1494453289, "creation_date": 1494453289, "answer_id": 43903324, "question_id": 43903115, "link": "https://stackoverflow.com/questions/43903115/why-is-the-first-sql-row-repeated-on-each-line/43903324#43903324", "title": "Why is the first SQL row repeated on each line?", "body": "<p>The problem is that the entry widget option <code>text</code> is just an abbreviation for <code>textvariable</code>; the entry widget has no <code>text</code> option. That means that every widget is sharing the same textvariable. Because they are all tied to the same <code>textvariable</code> the will all share the same value. Thus, when you insert text into one, it gets inserted into all.</p>\n\n<p>The solution is to remove <code>text=' '</code> from every place where you create an <code>Entry</code> widget.</p>\n"}], "owner": {"reputation": 587, "user_id": 1473641, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2e1f431cce8a104400fc6ef5f3da497a?s=128&d=identicon&r=PG", "display_name": "Prox", "link": "https://stackoverflow.com/users/1473641/prox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 43903324, "answer_count": 1, "score": 0, "last_activity_date": 1494453289, "creation_date": 1494452151, "question_id": 43903115, "link": "https://stackoverflow.com/questions/43903115/why-is-the-first-sql-row-repeated-on-each-line", "title": "Why is the first SQL row repeated on each line?", "body": "<p>I'm not sure what I am missing.  I am running a SQL query for the first 10 rows.  I am outputting them to Tkinter Entrys.  Why is only the first SQL row displaying in each Entry such as self.output1 and self.output2?\nI want each SQL row to display in each Tkinter Entry.</p>\n\n<pre><code>import os\nimport pypyodbc\nimport tkinter\nfrom tkinter import ttk\nfrom tkinter import messagebox\nfrom tkinter import BOTH, END, LEFT\n\n\nclass Adder(ttk.Frame):\n    \"\"\"The adders gui and functions.\"\"\"\n    def __init__(self, parent, *args, **kwargs):\n        ttk.Frame.__init__(self, parent, *args, **kwargs)\n        self.root = parent\n        self.init_gui()\n\n\n    def calculate(self):\n        firstname = str(self.first_entry.get())\n        lastname = str(self.last_entry.get())     \n        license = str(self.lic_entry.get())\n        if (firstname and not lastname and not license):  # \"You entered first name.\"\n\n            try:\n                connection = pypyodbc.connect('Driver={SQL Server};Server=ENTERSERVERNAME;Database=ENTERDATABASENAME;Trusted_Connection=yes;')\n            except pypyodbc.Error as ex:\n                sqlstate = ex.args[0]\n                if sqlstate == '28000':\n                    self.answer_label['text'] = \"You do not have access.\" \n            cursor = connection.cursor() \n            SQLCommand = (\"SELECT LASTNAME, FIRSTNAME, L_LICNUMBER \"      \n                \"FROM dbo.ENTERTABLENAME \"   # table name\n                \"with (nolock)\"\n                \"WHERE FIRSTNAME = ?\")\n            Values = [firstname]\n            cursor.execute(SQLCommand,Values)\n            results = cursor.fetchmany(10)\n            if results:\n                self.output0.insert(0,results[0])\n                self.output1.insert(0,results[1])\n                self.output2.insert(0,results[2])\n                self.output3.insert(0,results[3])\n                self.output4.insert(0,results[4])\n                self.output5.insert(0,results[5])\n                self.output6.insert(0,results[6])\n                self.output7.insert(0,results[7])\n                self.output8.insert(0,results[8])\n                self.output9.insert(0,results[9])\n                connection.close()\n\n\n    def init_gui(self):\n        \"\"\"Builds GUI.\"\"\"\n\n        self.root.option_add('*tearOff', 'FALSE')\n\n        self.grid(column=0, row=0, sticky='nsew') # this starts the entire form\n\n\n# Input Boxes and Button\n\n        self.first_entry = tkinter.Entry(self, width=28) # first input box\n        self.first_entry.grid(sticky='', column=1, row=1) \n\n        self.last_entry = tkinter.Entry(self, width=28) # second input box\n        self.last_entry.grid(sticky='', column=2, row=1) \n\n        self.lic_entry = tkinter.Entry(self, width=28) # third input box\n        self.lic_entry.grid(sticky='', column=3, row=1) \n\n\n        self.calc_button = ttk.Button(self, text='Search', command=self.calculate) # button\n        self.calc_button.grid(column=4, row=1, columnspan=1, sticky='w', padx=14)\n\n        # Output frame for answers\n\n        self.output0 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output0.grid(column=0, row=6, columnspan=5, padx=100, pady=0)\n        self.output1 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output1.grid(column=0, row=7, columnspan=5, padx=100, pady=0)\n        self.output2 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output2.grid(column=0, row=8, columnspan=5, padx=100, pady=0)\n        self.output3 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output3.grid(column=0, row=9, columnspan=5, padx=100, pady=0)\n        self.output4 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output4.grid(column=0, row=10, columnspan=5, padx=100, pady=0)\n        self.output5 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output5.grid(column=0, row=11, columnspan=5, padx=100, pady=0)\n        self.output6 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output6.grid(column=0, row=12, columnspan=5, padx=100, pady=0)\n        self.output7 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output7.grid(column=0, row=13, columnspan=5, padx=100, pady=0)\n        self.output8 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output8.grid(column=0, row=14, columnspan=5, padx=100, pady=0)\n        self.output9 = tkinter.Entry(self, width=150, text=' ', bd=0,)\n        self.output9.grid(column=0, row=15, columnspan=5, padx=100, pady=0)       \n        self.blank = tkinter.LabelFrame(self, height=10, width=620, text=' ', bd=0,) # blank line\n        self.blank.grid(column=0, row=16, columnspan=5, padx=100, pady=0)      \n\nif __name__ == '__main__':\n    root = tkinter.Tk()\n    Adder(root)\n    root.resizable(width=False, height=False) # locks window from being resized\n    root.mainloop()\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1494452647, "post_id": 43903085, "comment_id": 74840313, "body": "You know how most floating-point operations involve rounding? That includes even integer-to-float conversion. Your int is getting rounded."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1494458702, "post_id": 43903085, "comment_id": 74842273, "body": "don&#39;t use float for timestamps. use int64 (that&#39;s how pandas stores Timestamps under the hood)."}], "answers": [{"comments": [{"owner": {"reputation": 896, "user_id": 7082163, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f51d687a8574d8ebb18b53d2ccdebb4c?s=128&d=identicon&r=PG&f=1", "display_name": "guy", "link": "https://stackoverflow.com/users/7082163/guy"}, "edited": false, "score": 0, "creation_date": 1494505190, "post_id": 43904711, "comment_id": 74863523, "body": "Thing is I am populating my dataframe row by row, and the time is coming from my data source as an int but pandas forces it to a float for some reason, no matter what I try. I&#39;ve tried np.int64(&lt;value&gt;), long(&lt;value&gt;), nothing. Pandas returns float64 for both."}, {"owner": {"reputation": 896, "user_id": 7082163, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f51d687a8574d8ebb18b53d2ccdebb4c?s=128&d=identicon&r=PG&f=1", "display_name": "guy", "link": "https://stackoverflow.com/users/7082163/guy"}, "edited": false, "score": 0, "creation_date": 1494507747, "post_id": 43904711, "comment_id": 74865483, "body": "Found the issue, I was populating my dataframe row by row  using <code>.loc</code> and it was forcing all numeric values to be of type <code>float64</code> regardless if my values were integers. My workaround was converting these integers to strings so pandas would leave them alone then change them back using <code>.astype(int)</code>"}], "tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": true, "score": 0, "last_activity_date": 1494463840, "last_edit_date": 1494463840, "creation_date": 1494463199, "answer_id": 43904711, "question_id": 43903085, "link": "https://stackoverflow.com/questions/43903085/pandas-float-comparisons/43904711#43904711", "title": "Pandas Float Comparisons", "body": "<p>Your floats are in nano-seconds since epoch, so to convert try this:</p>\n\n<p><strong>Code;</strong></p>\n\n<pre><code>df.time = df.time.astype('datetime64[ns]')\n</code></pre>\n\n<p><strong>Test Code:</strong></p>\n\n<pre><code>df = pd.DataFrame([1484314274417920512., 1484314274417620224.],\n                  columns=['time'])\nprint(df)\n\ndf.time = df.time.astype('datetime64[ns]')\nprint(df)\n</code></pre>\n\n<p><strong>Results:</strong></p>\n\n<pre><code>           time\n0  1.484314e+18\n1  1.484314e+18\n                           time\n0 2017-01-13 13:31:14.417920512\n1 2017-01-13 13:31:14.417620224\n</code></pre>\n\n<p><strong>But:</strong></p>\n\n<p>The problem likely came about when you converted from the original data source.  Converting the int64 to float64, has already lost some precision, so just converting it to nano-seconds, could very well still not do what you need.  Somethings that could be done:</p>\n\n<ol>\n<li><p>Perform the original conversion directly to int64 so as not to lose precision.</p></li>\n<li><p>If nano-seconds are not needed then round the timestamps to micro-seconds or milli-seconds.</p></li>\n</ol>\n"}], "owner": {"reputation": 896, "user_id": 7082163, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f51d687a8574d8ebb18b53d2ccdebb4c?s=128&d=identicon&r=PG&f=1", "display_name": "guy", "link": "https://stackoverflow.com/users/7082163/guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 43904711, "answer_count": 1, "score": 1, "last_activity_date": 1499373864, "creation_date": 1494451999, "last_edit_date": 1499373864, "question_id": 43903085, "link": "https://stackoverflow.com/questions/43903085/pandas-float-comparisons", "title": "Pandas Float Comparisons", "body": "<p>How does Pandas store floats for comparison sake? I ran as simple check for a value and it returned what I expected but the result is not the same as my query / comparison:</p>\n\n<p>Why aren't the values of each time epoch the same?</p>\n\n<p>I tried rerunning this by first casting the column as <code>int</code> but then the comparison brought up nothing.</p>\n"}, {"tags": ["python", "python-2.7", "lambda", "list-comprehension", "grammar"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1494451904, "post_id": 43903056, "comment_id": 74840008, "body": "Any particular reason you want to do this?"}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1494452027, "post_id": 43903056, "comment_id": 74840069, "body": "The definitions of <code>old_test</code> and <code>old_lambdef</code> are mutually recursive.  I don&#39;t think that&#39;s right."}, {"owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1494452132, "post_id": 43903056, "comment_id": 74840114, "body": "@user2357112 Sure: I&#39;m looking for a python source code which will trigger the described grammar rules from (1) to (6)."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1494452806, "post_id": 43903118, "comment_id": 74840376, "body": "@Ivan: Nope. An expression of this structure will always produce a TypeError. You&#39;re probably thinking &quot;then why is it even permitted&quot;, but it would be a lot more work to forbid it, for no real benefit."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 1, "creation_date": 1494453016, "post_id": 43903118, "comment_id": 74840475, "body": "@anyone else reading: the production rules in the question are not the entire definitions of these nonterminals, or even the entire forms of those productions. Also, these aren&#39;t the only uses of these nonterminals. It might look like some of these productions have no reason to exist, but that&#39;s only because the full context isn&#39;t visible here."}, {"owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1494453121, "post_id": 43903118, "comment_id": 74840526, "body": "I&#39;d really appreciate if you could explain in simple words why such a grammar construct will always produce a TypeError?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1494453249, "post_id": 43903118, "comment_id": 74840576, "body": "@Ivan: An <code>old_lambdef</code> always evaluates to a function object, which isn&#39;t iterable, but the code structure you&#39;ve specified will always try to iterate over it."}, {"owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1494453972, "post_id": 43903118, "comment_id": 74840828, "body": "But in the example provided with the question <code>old_lamddef</code> evaluates into generator, which is iterable. So <code>for in lambda: ...</code> still makes sense. Why TypeError ?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "edited": false, "score": 0, "creation_date": 1494454024, "post_id": 43903118, "comment_id": 74840850, "body": "@Ivan: The example in the question does not use <code>old_lambdef</code>. It uses <code>or_test</code>."}, {"owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1494454156, "post_id": 43903118, "comment_id": 74840894, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/143920/discussion-between-ivan-and-user2357112\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1494457252, "last_edit_date": 1494457252, "creation_date": 1494452166, "answer_id": 43903118, "question_id": 43903056, "link": "https://stackoverflow.com/questions/43903056/python-2-7-grammar-geek-lambda-in-list-comprehensions/43903118#43903118", "title": "Python 2.7 Grammar Geek - Lambda in List Comprehensions", "body": "<pre><code>[x for x in lambda: 1]\n</code></pre>\n\n<p>It's quite straightforward. Of course, this will produce a TypeError at runtime, but the grammar isn't designed to exclude constructs that will produce TypeErrors.</p>\n\n<p>There's no way to do it without an exception at runtime, since an <code>old_lambdef</code> always evaluates to a function object, which isn't iterable. There's nowhere in the structure of <code>old_lambdef</code> where you could insert something to make Python call the function; Python will attempt to iterate over the function object itself, rather than calling it and iterating over the return value.</p>\n\n<hr>\n\n<p>The full forms of the <code>testlist_safe</code> and <code>old_test</code> definitions are</p>\n\n<pre><code>testlist_safe: old_test [(',' old_test)+ [',']]\nold_test: or_test | old_lambdef\n</code></pre>\n\n<p><code>testlist_safe</code> isn't always a single <code>old_test</code>, and <code>old_test</code> isn't always an <code>old_lambdef</code>. It's permitted for <code>testlist_safe</code> to be an <code>old_test</code>, and it's permitted for <code>old_test</code> to be an <code>old_lambdef</code>. Doing those things together always produces an exception at runtime, but they weren't going to complicate the grammar just to stop people from doing those things together.</p>\n"}], "owner": {"reputation": 924, "user_id": 2873201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZTyhS.jpg?s=128&g=1", "display_name": "sqr163", "link": "https://stackoverflow.com/users/2873201/sqr163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 43903118, "answer_count": 1, "score": 2, "last_activity_date": 1494457252, "creation_date": 1494451823, "last_edit_date": 1494457248, "question_id": 43903056, "link": "https://stackoverflow.com/questions/43903056/python-2-7-grammar-geek-lambda-in-list-comprehensions", "title": "Python 2.7 Grammar Geek - Lambda in List Comprehensions", "body": "<p>Can you build a minimal valid example of source code which would match to the following <a href=\"https://github.com/python/cpython/blob/2.7/Grammar/Grammar\" rel=\"nofollow noreferrer\">Python 2.7 grammar rules</a>? Is it possible without producing a runtime error?</p>\n\n<pre><code>(1) atom:           '[' [listmaker] ']'\n(2) listmaker:      test  list_for\n(3) list_for:       'for' exprlist 'in' testlist_safe\n(4) testlist_safe:  old_test\n(5) old_test:       old_lambdef\n(6) old_lambdef:    'lambda' [varargslist] ':' old_test\n</code></pre>\n\n<p>The best result I could reach so far is:</p>\n\n<pre><code>L = [ fn() for fn in (lambda: x for x in xrange(3)) ]\n</code></pre>\n\n<p>But the problem with my solution is the parentheses around \"lambda\". Can you build an example without the parentheses? If not, then how would you explain why you cannot build 'in lambda' even if it perfectly matches the grammar rules?</p>\n"}, {"tags": ["python", "outlook", "imap"], "comments": [{"owner": {"reputation": 1839, "user_id": 2744388, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d54f9631b5946e19db875c7d3c018567?s=128&d=identicon&r=PG", "display_name": "Miguel Febres", "link": "https://stackoverflow.com/users/2744388/miguel-febres"}, "edited": false, "score": 0, "creation_date": 1494452000, "post_id": 43903044, "comment_id": 74840058, "body": "Take a look on this question: <a href=\"http://stackoverflow.com/questions/13663672/get-the-gmail-attachment-filename-without-downloading-it\">get-the-gmail-attachment-filename-without-downloading-it</a>"}, {"owner": {"reputation": 424, "user_id": 7826852, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a1578360a7fc7dafafd0ac4913d1cc02?s=128&d=identicon&r=PG", "display_name": "qwerty", "link": "https://stackoverflow.com/users/7826852/qwerty"}, "reply_to_user": {"reputation": 1839, "user_id": 2744388, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d54f9631b5946e19db875c7d3c018567?s=128&d=identicon&r=PG", "display_name": "Miguel Febres", "link": "https://stackoverflow.com/users/2744388/miguel-febres"}, "edited": false, "score": 1, "creation_date": 1494457388, "post_id": 43903044, "comment_id": 74841954, "body": "@MiguelFebres okay so it gets the file to the folder where the python file is. Can you tell me how can you get the file to a specific folder. If you can post your answer as an answer i can accept it as the right answer.   You&#39;re the man!! :D thanks a lot!!"}], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 2744388, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d54f9631b5946e19db875c7d3c018567?s=128&d=identicon&r=PG", "display_name": "Miguel Febres", "link": "https://stackoverflow.com/users/2744388/miguel-febres"}, "is_accepted": true, "score": 0, "last_activity_date": 1494516276, "last_edit_date": 1495540035, "creation_date": 1494516276, "answer_id": 43919657, "question_id": 43903044, "link": "https://stackoverflow.com/questions/43903044/to-copy-the-attached-file-in-an-email/43919657#43919657", "title": "To copy the attached file in an email.", "body": "<p>Following the sample from this <a href=\"https://stackoverflow.com/questions/13663672/get-the-gmail-attachment-filename-without-downloading-it\">link</a> you can set the path when using the open function. (raw string by prefixing the string with r)</p>\n\n<pre><code>fp = open(r'c:\\tmp\\folder\\' + filename, 'wb')\nfp.write(part.get_payload(decode=True))\nfp.close()\nprint '%s saved!' % filename\n</code></pre>\n"}], "owner": {"reputation": 424, "user_id": 7826852, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a1578360a7fc7dafafd0ac4913d1cc02?s=128&d=identicon&r=PG", "display_name": "qwerty", "link": "https://stackoverflow.com/users/7826852/qwerty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 43919657, "answer_count": 1, "score": 0, "last_activity_date": 1494516276, "creation_date": 1494451773, "question_id": 43903044, "link": "https://stackoverflow.com/questions/43903044/to-copy-the-attached-file-in-an-email", "title": "To copy the attached file in an email.", "body": "<p>I have been able to figure out how to get the name of the attached file in an email. i am just stuck after that. I don't know what to do after that, I have tried using <code>os.path.join</code> which just gives the path i want to download the folder to and joins it with the filename. Please suggest something. Thanks.</p>\n\n<pre><code>m = imaplib.IMAP4_SSL('outlook.office365.com',993)\nm.login(\"UN\", \"PW\")\nm.select(\"Inbox\")\n\ntyp, msgs = mail.search(None, '(SUBJECT \"qwerty\")')\nmsgs = msgs[0].split()\n\nfor emailid in msgs:\n    resp, data = mail.fetch(emailid, \"(RFC822)\")\n\n\n    email_body = data[0][1]\n    m = email.message_from_bytes(email_body)\n\n    if m.get_content_maintype() != 'multipart':\n        continue\n\n    for part in m.walk():\n        if part.get_content_maintype() == 'multipart':\n            continue\n        if part.get('Content-Disposition') is None:\n            continue\n\n        filename = part.get_filename()\n        print(filename)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1271, "user_id": 2027390, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/354a23f38243af2d4167b7acd598d8f1?s=128&d=identicon&r=PG&f=1", "display_name": "hugos", "link": "https://stackoverflow.com/users/2027390/hugos"}, "edited": false, "score": 0, "creation_date": 1494451825, "post_id": 43903024, "comment_id": 74839981, "body": "Are you using numpy?"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 2, "creation_date": 1494451883, "post_id": 43903024, "comment_id": 74839998, "body": "<code>&quot;Can I get the numbers that are adjacent to a specific number in a list or array?&quot; </code> yes you can. But what have you tried?"}, {"owner": {"reputation": 7083, "user_id": 4211135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70fd7db022a4fc71ad40335fce1e750e?s=128&d=identicon&r=PG&f=1", "display_name": "brianpck", "link": "https://stackoverflow.com/users/4211135/brianpck"}, "edited": false, "score": 0, "creation_date": 1494452408, "post_id": 43903024, "comment_id": 74840230, "body": "What is the input? (A tuple with list indices?) What is the output? (A 1-d list?) Please add some sample cases and what you&#39;ve tried"}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1494452905, "post_id": 43903024, "comment_id": 74840430, "body": "All the lists within the major one are of length 3?"}], "answers": [{"tags": [], "owner": {"reputation": 64, "user_id": 7993882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ae0ff77972d54e3a03144d39cbd33f?s=128&d=identicon&r=PG&f=1", "display_name": "Sruthi Susan Thomas", "link": "https://stackoverflow.com/users/7993882/sruthi-susan-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1494454021, "creation_date": 1494454021, "answer_id": 43903470, "question_id": 43903024, "link": "https://stackoverflow.com/questions/43903024/python-getting-numbers-that-are-adjacent-to-a-specific-number-in-a-list-for-bfr/43903470#43903470", "title": "Python: getting numbers that are adjacent to a specific number in a list for BFR", "body": "<pre><code>goal_state = [[1,2,3],\n          [4,5,6],\n          [7,8,0]]  \n\ngoal=np.array(goal_state)\n#i,j are row and column position of the number\ndef neighbors (i,j):\n    neighbors=[]\n\n    if j&lt;goal.shape[1]-1:\n        neighbors.append(goal[i,j+1])\n    if i&gt;0:\n        neighbors.append(goal[i-1,j])\n    if j&gt;0:\n        neighbors.append(goal[i,j-1])\n    if i&lt;goal.shape[0]-1:\n        neighbors.append(goal[i+1,j])\n    return neighbors\nprint neighbors(2,0)\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 7656163, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/97ba04f9907822b35ef81d736cfe51b6?s=128&d=identicon&r=PG&f=1", "display_name": "bnicholl", "link": "https://stackoverflow.com/users/7656163/bnicholl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494454021, "creation_date": 1494451707, "question_id": 43903024, "link": "https://stackoverflow.com/questions/43903024/python-getting-numbers-that-are-adjacent-to-a-specific-number-in-a-list-for-bfr", "title": "Python: getting numbers that are adjacent to a specific number in a list for BFR", "body": "<p>Can I get the numbers that are adjacent to a specific number in a list or array? So for the example below:    </p>\n\n<pre><code>goal_state = [[1,2,3],\n              [4,5,6],\n              [7,8,0]]  \n</code></pre>\n\n<p>If I am asking what numbers are adjacent to 5, I should get 2,6,4,8. And if I am asking what numbers are adjacent to 0, I should get 6 and 8. Thanks</p>\n"}, {"tags": ["python", "linux", "bash", "timeout"], "comments": [{"owner": {"reputation": 5543, "user_id": 6372809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O11k5.jpg?s=128&g=1", "display_name": "ilkkachu", "link": "https://stackoverflow.com/users/6372809/ilkkachu"}, "edited": false, "score": 0, "creation_date": 1494452734, "post_id": 43902997, "comment_id": 74840343, "body": "Do you <i>have</i> to do it specifically via <code>timeout</code>?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1494453805, "post_id": 43902997, "comment_id": 74840780, "body": "What necessitates extending the timeout? Why not just set the timeout for 550 seconds to begin with?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1494454393, "post_id": 43902997, "comment_id": 74840969, "body": "Put another way, what happens at time 250 that makes you decide to extend the timeout? You could schedule the longer timeout to start, then at time 250, decide whether to kill the process early, or let it continue to the original timeout."}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 1, "creation_date": 1494455791, "post_id": 43902997, "comment_id": 74841488, "body": "Easiest thing to do may be to modify <a href=\"http://git.savannah.gnu.org/cgit/coreutils.git/tree/src/timeout.c\" rel=\"nofollow noreferrer\">the source code for timeout</a>. For example, you can add a <code>-i</code> option to specify an extension time, and trap the signal <code>SIGUSR1</code> to call a function that calls <code>timer_gettime</code> and <code>timer_settime</code> to extend the current timer value by adding the extension time to it."}, {"owner": {"reputation": 747, "user_id": 2373278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ff834f7363c1dc9c48b525fc48c67912?s=128&d=identicon&r=PG", "display_name": "ViFI", "link": "https://stackoverflow.com/users/2373278/vifi"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1494455934, "post_id": 43902997, "comment_id": 74841531, "body": "@chepner : I tried to reduce the scale of limits for easier understanding here but actual timeouts ( in our production environments) are very large , like in 10 hours. Sometimes what happens is we run it with  10 hours timeout overnight but when we come in the morning we want to debug a failure which happened overnight. But since 9:30 hours are already elapsed, it gives very small window to debug the issue."}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 1, "creation_date": 1494456276, "post_id": 43902997, "comment_id": 74841641, "body": "If that&#39;s all you need, you can just do <code>kill -STOP pid_of_timeout</code> Its child will continue running."}, {"owner": {"reputation": 747, "user_id": 2373278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ff834f7363c1dc9c48b525fc48c67912?s=128&d=identicon&r=PG", "display_name": "ViFI", "link": "https://stackoverflow.com/users/2373278/vifi"}, "reply_to_user": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1494457761, "post_id": 43902997, "comment_id": 74842058, "body": "@MarkPlotnick: <code>kill -STOP</code> seems to be doing the trick but leaves the parent timeout process forever even after child process finishes. So it seems a good workaround but I guess modifying the original source code to add &#39;-i&#39; option seems like a nice idea too."}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 1, "creation_date": 1494457959, "post_id": 43902997, "comment_id": 74842096, "body": "<code>kill -CONT pid</code> will continue a stopped process."}, {"owner": {"reputation": 5543, "user_id": 6372809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O11k5.jpg?s=128&g=1", "display_name": "ilkkachu", "link": "https://stackoverflow.com/users/6372809/ilkkachu"}, "edited": false, "score": 0, "creation_date": 1494501095, "post_id": 43902997, "comment_id": 74860655, "body": "@ViFI, so, if you expect that you might not want to terminate the program at the given time anyway, why set the timeout in the first place? Just kill it when you come in the next morning if you don&#39;t need it any more. Or use something other than <code>timeout</code> to kill it, say using <code>at</code> to schedule sending the signal, and then change the at job as required."}], "answers": [{"tags": [], "owner": {"reputation": 747, "user_id": 2373278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ff834f7363c1dc9c48b525fc48c67912?s=128&d=identicon&r=PG", "display_name": "ViFI", "link": "https://stackoverflow.com/users/2373278/vifi"}, "is_accepted": false, "score": 0, "last_activity_date": 1494522997, "last_edit_date": 1495541893, "creation_date": 1494522997, "answer_id": 43921867, "question_id": 43902997, "link": "https://stackoverflow.com/questions/43902997/how-to-increase-timeout-limit-for-a-process-running-with-timeout-command/43921867#43921867", "title": "How to increase timeout limit for a process running with &#39;timeout&#39; command", "body": "<p>Converging the solution to question based on <a href=\"https://stackoverflow.com/users/2554472/mark-plotnick\">Mark Plotnick</a>'s much helpful comments.</p>\n\n<p><strong>Solution 1</strong></p>\n\n<p><code>kill -STOP</code> stops a process and <code>kill -CONT</code> resumes it. </p>\n\n<p>So <code>kill -STOP pid_of_timeout</code> will stop the timeout / timer running while child process will continue running. We can resume the counter when we want by <code>kill -CONT pid_of_timeout</code>  </p>\n\n<p>This means to add a delay of, say 50 in the timer, following will do the trick.</p>\n\n<p><code>kill -STOP pid_of_timeout ; sleep 50 ; kill -CONT pid_of_timeout</code></p>\n\n<p><strong>Solution 2</strong></p>\n\n<p>Attach the timeout process to gdb. It will freeze timeout process. Detach from GDB when done.</p>\n\n<p><strong>Solution 3</strong></p>\n\n<p>Modify the <a href=\"http://git.savannah.gnu.org/cgit/coreutils.git/tree/src/timeout.c\" rel=\"nofollow noreferrer\">source code of timeout</a>, compile and run it instead of system \"timeout\" process. </p>\n"}], "owner": {"reputation": 747, "user_id": 2373278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ff834f7363c1dc9c48b525fc48c67912?s=128&d=identicon&r=PG", "display_name": "ViFI", "link": "https://stackoverflow.com/users/2373278/vifi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1096, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494522997, "creation_date": 1494451590, "last_edit_date": 1495535489, "question_id": 43902997, "link": "https://stackoverflow.com/questions/43902997/how-to-increase-timeout-limit-for-a-process-running-with-timeout-command", "title": "How to increase timeout limit for a process running with &#39;timeout&#39; command", "body": "<p>So <code>timeout</code> can be used to set the ultimate time limit on a process / command as mentioned <a href=\"https://stackoverflow.com/questions/10224939/bash-run-a-process-for-limited-time-period\">here</a> and <a href=\"https://stackoverflow.com/questions/2387485/limiting-the-time-a-program-runs-in-linux\">here</a>  . For example, <code>timeout 300 sleep 1000</code> will return to prompt after 300 seconds itself instead of 1000.</p>\n\n<p>But is there any way to modify this limit on the fly while process is still running ? So this is what I am looking for. </p>\n\n<pre><code>at time 0 : timeout 300 python long_run.py\nat time 250 : &lt;some way to extend the timeout limit by another 300 minutes or so&gt;\n</code></pre>\n\n<hr>\n\n<p>I tried following two ways but couldn't make it work.</p>\n\n<p><strong>Through GDB</strong></p>\n\n<p>I tried to attach to <code>timeout</code> process with gdb. It showed following call stack but I couldn't find a variable whose value I could update to increase time limit. </p>\n\n<pre><code>(gdb) where\n#0  0x00007f10b49f6e8c in __libc_waitpid (pid=15753, stat_loc=0x7fff0c799f30, options=0) at ../sysdeps/unix/sysv/linux/waitpid.c:31\n#1  0x00000000004022d8 in ?? ()\n#2  0x00007f10b4643f45 in __libc_start_main (main=0x401fc0, argc=4, argv=0x7fff0c79a0e8, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;, rtld_fini=&lt;optimized out&gt;, stack_end=0x7fff0c79a0d8)\n    at libc-start.c:287\n#3  0x0000000000402479 in ?? () \n0  0x00007f10b49f6e8c in __libc_waitpid (pid=15753, stat_loc=0x7fff0c799f30, options=0) at ../sysdeps/unix/sysv/linux/waitpid.c:31\n31      ../sysdeps/unix/sysv/linux/waitpid.c: No such file or directory.\n(gdb) p *(stat_loc)\n$2 = 4204240\n</code></pre>\n\n<p><strong>Through /proc/</strong></p>\n\n<p>Is there anything we can do in /proc//limits or stat file to update timeout limit for <code>timeout</code> process or child process. </p>\n"}, {"tags": ["python", "matplotlib", "tkinter"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1494499624, "post_id": 43902968, "comment_id": 74859599, "body": "&quot;sluggish performance&quot; is not a good problem description. Try to find out which part of the code takes the most time and focus your question on that part."}, {"owner": {"reputation": 63, "user_id": 3714634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bf671a454c0542a945867a2ea88098c?s=128&d=identicon&r=PG&f=1", "display_name": "kmccarty", "link": "https://stackoverflow.com/users/3714634/kmccarty"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1494527707, "post_id": 43902968, "comment_id": 74879449, "body": "Sorry about that, I have refined this a little and it seems to be the implementation of the funcanimation. When this is active, both the animation itself and Tkinter slows right down and becomes very unresponsive. When separated, each component works well. Its as if each component is competing for processing time."}, {"owner": {"reputation": 596, "user_id": 6152534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/925595697531599/picture?type=large", "display_name": "Pedro H. N. Vieira", "link": "https://stackoverflow.com/users/6152534/pedro-h-n-vieira"}, "edited": false, "score": 0, "creation_date": 1494528141, "post_id": 43902968, "comment_id": 74879665, "body": "Please, add all the &#39;import&#39; that are necessary to run your code... Also, I had a laggy 3D plot using matplotlib a while ago. Performace was greatly improved when I switched to <a href=\"http://docs.enthought.com/mayavi/mayavi/\" rel=\"nofollow noreferrer\">myavi</a>; maybe your performance would improve if you switched? (requires python 2.7.)"}, {"owner": {"reputation": 63, "user_id": 3714634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bf671a454c0542a945867a2ea88098c?s=128&d=identicon&r=PG&f=1", "display_name": "kmccarty", "link": "https://stackoverflow.com/users/3714634/kmccarty"}, "edited": false, "score": 0, "creation_date": 1494529143, "post_id": 43902968, "comment_id": 74880200, "body": "I have added all my imports for this. ive not heard of myavi but ill check it out. Did you integrate this with Tkinter?"}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 7636140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d15bcf7fe8b4cda9b08aa216b0daf860?s=128&d=identicon&r=PG&f=1", "display_name": "Matthijs Cox", "link": "https://stackoverflow.com/users/7636140/matthijs-cox"}, "is_accepted": false, "score": 0, "last_activity_date": 1537709760, "creation_date": 1537709760, "answer_id": 52466642, "question_id": 43902968, "link": "https://stackoverflow.com/questions/43902968/sluggish-performance-in-matplotlib-funcanimation-and-tkinter/52466642#52466642", "title": "Sluggish performance in matplotlib funcAnimation and Tkinter", "body": "<p>I was struggling with the same performance issue, and found good suggestions here:\n<a href=\"http://effbot.org/zone/tkinter-performance.htm\" rel=\"nofollow noreferrer\">http://effbot.org/zone/tkinter-performance.htm</a></p>\n\n<p>Calling update_idletasks in the run function improved the performance significantly for me.</p>\n"}], "owner": {"reputation": 63, "user_id": 3714634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bf671a454c0542a945867a2ea88098c?s=128&d=identicon&r=PG&f=1", "display_name": "kmccarty", "link": "https://stackoverflow.com/users/3714634/kmccarty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 727, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1537709760, "creation_date": 1494451326, "last_edit_date": 1494529034, "question_id": 43902968, "link": "https://stackoverflow.com/questions/43902968/sluggish-performance-in-matplotlib-funcanimation-and-tkinter", "title": "Sluggish performance in matplotlib funcAnimation and Tkinter", "body": "<p>I\u2019m having some trouble getting decent performance out of my Tkinter App with a Matplotlib animation (of serial port data from Arduino) on anything other than a high-performance desktop which makes me think I\u2019m doing something inefficient. </p>\n\n<p>The app works as I want it to and everything displays correctly, its just rather laggy. Based on tests, this seems to be a problem with the matplotlib implementation and when the animation is running everything slows right down. I have tried turning blitting on in funcanimation but this doesn't appear to make a difference. when its just Tkinter with no graph, its snappy.</p>\n\n<p>The flip side to this is when i'm running just the graph (i.e. not wrapped in a gui), everything seems to work relatively smoothly. Could this be the TkAgg backend perhaps? or is Tkinter competing with resources the graphing is eating up refreshing the line?</p>\n\n<pre><code>import matplotlib\nimport Tkinter as tk\nimport ttk\nimport tkFileDialog\nimport serial\nimport io\nimport os\nimport matplotlib.animation as animation\nimport numpy as np\n\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg\nfrom matplotlib.figure import Figure \nfrom matplotlib import style\nfrom serialFunctions import findArduino #custom function to identify arduino from com port address\n</code></pre>\n\n<p>The matplotlib code for funcanimation: </p>\n\n<pre><code>fig = Figure()\nax = fig.add_subplot(111)\nline, = ax.plot(np.random.rand(10), color = 'red', label = 'Velocity (cm/s)')\nsio = io.TextIOWrapper(io.BufferedRWPair(arduino, arduino, 1))\n\n#Data Update\ntmin = 0.0\ntmax = 10.0\n\ndef init():\n    line.set_data([], [])\n    return line,\n\ndef run(data):\n    t, y = data\n    #print t , y\n    xdata.append(t)\n    ydata.append(y)\n    line.set_data(xdata, ydata)\n\n    if t &gt;= tmax- 1.00:\n        line.axes.set_xlim(t - tmax + 1.0, t + 1.0)\n\n    return line,\n\ndef data_gen():\n    '''Generator to pass data to the run function via funcanimation'''\n    t = 0\n    while True:\n        t+=0.1\n        try:\n            dat = float(sio.readline())\n            # print dat\n        except:\n            dat = 0\n        yield t, dat\n\nani = animation.FuncAnimation(fig, run, data_gen, init_func = init, interval=20, blit=False)\n</code></pre>\n\n<p>The Tkinter relevant code:</p>\n\n<pre><code>matplotlib.use('TkAgg')\n\nclass StreamPage(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self, parent, {'bg': '#020b19'})\n\n        label = tk.Label(self, text = 'Begin Streaming', font = LARGE_FONT)\n        label.pack(pady = 10, padx = 10)\n\n        backButton = ttk.Button(self, text = 'Back', \n                                command = lambda: \n                                controller.show_frame(StartPage))\n        backButton.pack()\n\n        canvas = FigureCanvasTkAgg(fig, self)\n\n        canvas.show()\n\n        canvas.get_tk_widget().pack(side = tk.TOP, fill = tk.BOTH, expand = True)\n\n        #toolbar = NavigationToolbar2TkAgg(canvas, self)\n\n        #toolbar.update()\n\n        canvas._tkcanvas.pack(side = tk.TOP, fill = tk.BOTH, expand = True)\n</code></pre>\n\n<p>The Arduino Code</p>\n\n<pre><code>int const potPin = A0;\nint potVal;\n\nvoid setup() {\n  // put your setup code here, to run once:\n  analogReference(DEFAULT); //EXTERNAL NO MORE THAN 5V!\n  Serial.begin(1200);\n}\n\nvoid loop() {\n  // put your main code here, to run repeatedly:\n\n  potVal = analogRead(potPin);\n\n  float voltage = potVal * (5.0/1024.0); \n  Serial.print(voltage);\n  Serial.print('\\n');\n}\n</code></pre>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1494458463, "post_id": 43902875, "comment_id": 74842214, "body": "There&#39;s nothing inherently wrong with this code. My guess is that the downgrade killed you. I run similar code with OpenCV 3.0 and it&#39;s just fine. Maybe there&#39;s something in the docs regarding 2.4 where this was not feasible."}], "answers": [{"tags": [], "owner": {"reputation": 900, "user_id": 4730816, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/327728214d08c6053ac270960d2e650e?s=128&d=identicon&r=PG&f=1", "display_name": "blackbug", "link": "https://stackoverflow.com/users/4730816/blackbug"}, "is_accepted": true, "score": 0, "last_activity_date": 1494468499, "creation_date": 1494468499, "answer_id": 43905356, "question_id": 43902875, "link": "https://stackoverflow.com/questions/43902875/python-opencv-segmentation-fault/43905356#43905356", "title": "Python OpenCv segmentation fault", "body": "<p>It was certainly openCv3.2 related issue. I cant say if it was a bug within the opencv or some library mismatch. I installed OpenCV3.0 and everything is running as per expectations.</p>\n"}, {"tags": [], "owner": {"reputation": 699, "user_id": 1502891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5749d5a8f8d6d6501bcffdbf93179b40?s=128&d=identicon&r=PG", "display_name": "Konstantin Purtov", "link": "https://stackoverflow.com/users/1502891/konstantin-purtov"}, "is_accepted": false, "score": 0, "last_activity_date": 1494533029, "creation_date": 1494533029, "answer_id": 43924579, "question_id": 43902875, "link": "https://stackoverflow.com/questions/43902875/python-opencv-segmentation-fault/43924579#43924579", "title": "Python OpenCv segmentation fault", "body": "<p>In OpenCV 2.4.* you should use:</p>\n\n<pre><code>cv2.cvtColor(frame, cv2.cv.CV_BGR2GRAY)\n</code></pre>\n"}], "owner": {"reputation": 900, "user_id": 4730816, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/327728214d08c6053ac270960d2e650e?s=128&d=identicon&r=PG&f=1", "display_name": "blackbug", "link": "https://stackoverflow.com/users/4730816/blackbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2635, "favorite_count": 0, "accepted_answer_id": 43905356, "answer_count": 2, "score": 3, "last_activity_date": 1494533029, "creation_date": 1494450926, "last_edit_date": 1494458058, "question_id": 43902875, "link": "https://stackoverflow.com/questions/43902875/python-opencv-segmentation-fault", "title": "Python OpenCv segmentation fault", "body": "<p>I am running a simple network on keras using theano and opencv. I am getting a segmentation fault error while executing cvtColor() method.\ncode snippet:</p>\n\n<pre><code>if __name__ == '__main__':\n    cap = cv2.VideoCapture(0)\n    if not cap:\n       print \"!!! Failed VideoCapture: unable to open device 0\"\n       sys.exit(1)\n    cascade_path = \"~/opencv-2.4.13.2/data/haarcascades/haarcascade_frontalface_default.xml\"\n    model = Model()\n    model.load()\n    while True:\n        pdb.set_trace()\n        _, frame = cap.read()\n\n\n        frame_gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n\n\n        cascade = cv2.CascadeClassifier(cascade_path)\n</code></pre>\n\n<p>Below is the debug info:</p>\n\n<pre><code>Model Loaded.\n&gt;\n-&gt; _, frame = cap.read()\n(Pdb) n\n-&gt; frame_gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n(Pdb) list\n 16         while True:\n 17             pdb.set_trace()\n 18             _, frame = cap.read()\n 19     \n 20            \n 21  -&gt;         frame_gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n 22     \n 23            \n 24             cascade = cv2.CascadeClassifier(cascade_path)\n 25     \n 26            \n(Pdb) n\nSegmentation fault\n</code></pre>\n\n<p>It crashes the moment cv2.cvtColor() is invoked. frame variable has required <code>(Pdb) frame.size 921600</code></p>\n\n<p>I even used <code>cv2.imshow(\"color_image\", frame)</code> to display the colored frame and its displayed correctly. But, the moment I convert it to grayscale it crashes!</p>\n\n<p>I am using OpenCV2.4 at the moment. Yesterday, the same code was working properly on OpenCV3.2. For some reasons I had to downgrade the opencv lib.</p>\n\n<p>Any suggestions to resolve this problem?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1494515031, "post_id": 43902874, "comment_id": 74871607, "body": "Did my answer help you ?"}, {"owner": {"reputation": 4859, "user_id": 1000626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/15e1f36f8333463810b19b7e397ccd76?s=128&d=identicon&r=PG", "display_name": "Chris Watts", "link": "https://stackoverflow.com/users/1000626/chris-watts"}, "reply_to_user": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1494706462, "post_id": 43902874, "comment_id": 74946088, "body": "Yes, that seems to have sorted my issue :)"}, {"owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1494709404, "post_id": 43902874, "comment_id": 74946801, "body": "good to know :)"}], "answers": [{"tags": [], "owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "is_accepted": true, "score": 7, "last_activity_date": 1494453393, "creation_date": 1494453393, "answer_id": 43903343, "question_id": 43902874, "link": "https://stackoverflow.com/questions/43902874/using-extract-image-patches-with-multiple-channels-in-tensorflow/43903343#43903343", "title": "Using extract_image_patches with multiple channels in Tensorflow", "body": "<p>I think, you should try this:</p>\n\n<pre><code>imgs = np.random.rand(1,1024,1024,3)\npatches = tf.extract_image_patches(images=imgs, ksizes=[1, 32, 32, 1], strides=[1, 32, 32, 1], rates=[1, 1, 1, 1], padding='VALID')\npatches = tf.reshape(patches,[-1,32,32,3])\nval = sess.run(patches)\nprint val.shape\n</code></pre>\n\n<p>(1024, 32, 32, 3)</p>\n\n<p>You don't have to specify #channels in ksizes. It will extract patches from each channel and you can reshape it later. Does this helps you ??</p>\n\n<p>Reshaping behavior have to be analysed to check how patches looks.</p>\n"}], "owner": {"reputation": 4859, "user_id": 1000626, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/15e1f36f8333463810b19b7e397ccd76?s=128&d=identicon&r=PG", "display_name": "Chris Watts", "link": "https://stackoverflow.com/users/1000626/chris-watts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 1, "accepted_answer_id": 43903343, "answer_count": 1, "score": 4, "last_activity_date": 1494453393, "creation_date": 1494450917, "question_id": 43902874, "link": "https://stackoverflow.com/questions/43902874/using-extract-image-patches-with-multiple-channels-in-tensorflow", "title": "Using extract_image_patches with multiple channels in Tensorflow", "body": "<p>I'd like to split my large 1024x1024x3 images into 32x32x3 patches, and hence I thought that <code>extract_image_patches()</code> is the right idea:</p>\n\n<pre><code>...\n\npatch_size = [1, 32, 32, 3]\npatch_batch = tf.extract_image_patches(\n    image_batch, patch_size, patch_size, [1, 1, 1, 1], 'VALID')\npatch_batch = tf.reshape(patch_batch, [-1, 32, 32, 3])\n</code></pre>\n\n<p>where image_batch is created with <code>tf.train.shuffle_batch()</code>. However, this seems to be 'unimplemented' as explained by this error message:</p>\n\n<pre><code>UnimplementedError (see above for traceback): Only support ksizes across space.\n [[Node: ExtractImagePatches = ExtractImagePatches[T=DT_FLOAT, ksizes=[1, 32, 32, 3], padding=\"VALID\", rates=[1, 1, 1, 1], strides=[1, 32, 32, 3], _device=\"/job:localhost/replica:0/task:0/cpu:0\"](shuffle_batch)]]\n</code></pre>\n\n<p>There is no issue if I read my images as greyscale and use 1 channel, but I want to do my training in full colour. Do I just have to do some reshaping instead, or am I missing something?</p>\n\n<p>Python 3.4, TensorFlow 1.1.0</p>\n"}, {"tags": ["python", "text-files", "raw-input"], "comments": [{"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1494451414, "post_id": 43902851, "comment_id": 74839803, "body": "It would help if you showed your actual output."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1494451430, "post_id": 43902851, "comment_id": 74839810, "body": "It&#39;s a mixed tabs and spaces problem. Python doesn&#39;t see your indentation the same way you do. Turn on &quot;show whitespace&quot; in your editor to see the problem; your editor may also have a &quot;convert tabs to spaces&quot; feature to fix it. Running Python with the <code>-tt</code> flag can help catch these errors."}, {"owner": {"reputation": 103, "user_id": 7948380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353794fc06ccafec9728afadce60d5b?s=128&d=identicon&r=PG&f=1", "display_name": "jboges", "link": "https://stackoverflow.com/users/7948380/jboges"}, "edited": false, "score": 0, "creation_date": 1494453799, "post_id": 43902851, "comment_id": 74840776, "body": "Thank you it seemed to be an indentation error. Turning on that option in my editor is a really helpful change for writing code. Thanks!"}, {"owner": {"reputation": 5521, "user_id": 755851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb0ef4d5aebec860f85f7c76b894fd?s=128&d=identicon&r=PG", "display_name": "Foon", "link": "https://stackoverflow.com/users/755851/foon"}, "edited": false, "score": 0, "creation_date": 1494503698, "post_id": 43902851, "comment_id": 74862462, "body": "Minor hint as you grow in python: read up on collections; collections.defaultdict is my goto, but I think there&#39;s also one specifically designed for your use case (Counter?) ... specifically, you can do counts[hour] += 1 and not worry about if counts has hour as a key, if counts is e.g. defaultdict(int)"}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 3804188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0257058ac369450ccfb10c71c73b6b15?s=128&d=identicon&r=PG&f=1", "display_name": "user3804188", "link": "https://stackoverflow.com/users/3804188/user3804188"}, "is_accepted": false, "score": 0, "last_activity_date": 1494451847, "creation_date": 1494451847, "answer_id": 43903060, "question_id": 43902851, "link": "https://stackoverflow.com/questions/43902851/my-program-is-not-correctly-reading-lines-from-a-file-sequentially/43903060#43903060", "title": "My program is not correctly reading lines from a file sequentially", "body": "<p>you code works fine as I tried it.</p>\n\n<p>for the output a dictionary is unsorted.\nyou can use sort(counts) which returns a sorted list of the keys. with these you can print your dict in a sorted way</p>\n\n<pre><code>name = raw_input(\"Enter file:\")\nif len(name) &lt; 1 : name = \"mbox-short.txt\"\nhandle = open(name)\ncounts = dict()\n\nfor line in handle:\n    line = line.rstrip()\n    if line.startswith(\"From \"):\n        parts = line.split()\n        time = parts[5]\n        pieces = time.split(':')\n        hour = pieces[0]\n        counts[hour] = counts.get(hour,0)+1\n\nfor key in sorted(counts):\n    print key + \" \" + str(counts[key])\n</code></pre>\n\n<p>output is</p>\n\n<pre><code>04 3\n06 1\n07 1\n09 2\n10 3\n11 6\n14 1\n15 2\n16 4\n17 2\n18 1\n19 1\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 7948380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353794fc06ccafec9728afadce60d5b?s=128&d=identicon&r=PG&f=1", "display_name": "jboges", "link": "https://stackoverflow.com/users/7948380/jboges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519484816, "creation_date": 1494450802, "last_edit_date": 1519484816, "question_id": 43902851, "link": "https://stackoverflow.com/questions/43902851/my-program-is-not-correctly-reading-lines-from-a-file-sequentially", "title": "My program is not correctly reading lines from a file sequentially", "body": "<p>This is an assignment from Python For Everyone Chapter 10 assignment 10.2 in which the problem states </p>\n\n<blockquote>\n  <p>Write a program to read through the mbox-short.txt and figure out the distribution by hour of the day for each of the messages. You can pull the hour out from the 'From ' line by finding the time and then splitting the string a second time using a colon.\n  \"From person@example.com Sat Jan  5 09:14:16 2008\"\n  Once you have accumulated the counts for each hour, print out the counts, sorted by hour as shown below.</p>\n</blockquote>\n\n<p>The desired output is </p>\n\n<pre><code>04 3\n06 1\n07 1\n09 2\n10 3\n11 6\n14 1\n15 2\n16 4\n17 2\n18 1\n19 1\n</code></pre>\n\n<p>my code is here </p>\n\n<pre><code>`name = raw_input(\"Enter file:\")\nif len(name) &lt; 1 : name = \"mbox-short.txt\"\nhandle = open(name)\ncounts = dict()\n\nfor line in handle:\n    line = line.rstrip()\n    if line.startswith(\"From \"):\n        parts = line.split()\n#        print parts\n        time = parts[5]\n        pieces = time.split(':')\n        hour = pieces[0]\n        counts[hour] = counts.get(hour,0)+1\nprint counts `\n</code></pre>\n\n<p>The text file can be found here <a href=\"http://www.pythonlearn.com/code/mbox-short.txt\" rel=\"nofollow noreferrer\">http://www.pythonlearn.com/code/mbox-short.txt</a>\nWhen debugging, I realized that my compiler goes through each line many times to return values for each hour that is way too high. I'm sure that the syntax <code>line.startswith(\"From \")</code> is correct for only reading the intended lines because I used in a previous assignment.</p>\n\n<p>How can I get the correct frequency for hours?</p>\n"}, {"tags": ["python", "bokeh"], "owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1494450768, "creation_date": 1494450768, "question_id": 43902843, "link": "https://stackoverflow.com/questions/43902843/does-bokeh-require-a-columndatasource-and-a-hover-tool-for-each-graph-you-want-t", "title": "Does Bokeh require a ColumnDataSource and a Hover tool for each graph you want to display?", "body": "<p>I am just starting with Bokeh, and so far I find it very straightforward (beside the fact that you can't use a list of strings for one of the axis, but that's a different issue).</p>\n\n<p>I am making multiple graphs, and group them together in a tab; this is working but I did notice that</p>\n\n<ul>\n<li>You need a HoverTool for each graph, because if you use the same for multiple graphs, one works while the other does not</li>\n<li>You need a ColumnDataSource for each HoverTool; otherwise I get <code>????</code> when displaying data, if more than one hovertool is using the same ColumnDataSource</li>\n</ul>\n\n<p>Is there a way to work around this? I am planning to make 8-10 graphs, which are all taking data from the same source (I use a list of lists; each one is a dataset); and I need already 8-10 exact lines to generate each figure, so adding extra code for each one, to get the HoverTool and ColumnDatSource would not be ideal.</p>\n\n<p>The source for the tooltip is the same for all the graphs; it is a list of strings which I use as ID for each chemical reaction test; I thought it was just a matter of pointing the HoverTool tooltip funciton to the list, but it require a ColumnDataSource.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>list_reactions = ['a1b3', 'a1b4', 'a1b1', 'a2b3']\nlist_results1 = [0.22, 0.34, 0.44, 0.55]\nlist_results2 = [0.12, 0.24, 0.34, 0.45]\nlist_x_values = [1, 2, 3, 4]\n\nsource_test1 = ColumnDataSource( data=dict(\n    reactions=list_reactions,\n    x=list_x_values,\n    y=list_results1,))\n\nsource_test2 = ColumnDataSource( data=dict(\n    reactions=list_reactions,\n    x=list_x_values,\n    y=list_results2,))\n\nhover1 = HoverTool(tooltips=[(\"reactions\",\"@reactions\")])\n\nhover2 = HoverTool(tooltips=[(\"reactions\",\"@reactions\")])\n\ntest1 = figure(title=\"experiment1\", tools=[hover1])\ntest2 = figure(title=\"experiment1\", tools=[hover2])\n\ntest1.line(x, y, line_width=2)\ntest2.line(x, y, line_width=2)\n\ntest1.circle(x, y, size=8, source=source_test1)\ntest2.circle(x, y, size=8, source=source_test2)\n\ntab1 = Panel(child=test1)\ntab2 = Panel(child=test2)\ntabs = Tabs(tabs=[tab1, tab2])\n\nshow tabs\n</code></pre>\n\n<p>Unless I create 2 hovertool and 2 sources, I can't get the popup to display the <code>reactions</code> when hovering. Lots of repetition when the only thing that change between the various charts, is the y values.</p>\n"}, {"tags": ["python", "anaconda", "theano"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7997308, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vOIrOHatgZw/AAAAAAAAAAI/AAAAAAAABBY/ih2IEujc0XE/photo.jpg?sz=128", "display_name": "Guillaume LEROY", "link": "https://stackoverflow.com/users/7997308/guillaume-leroy"}, "is_accepted": false, "score": 0, "last_activity_date": 1494507377, "creation_date": 1494507377, "answer_id": 43916124, "question_id": 43902816, "link": "https://stackoverflow.com/questions/43902816/cannot-import-pygpu/43916124#43916124", "title": "Cannot import pygpu", "body": "<p>The same problem is described on their <a href=\"https://github.com/Theano/libgpuarray/issues/421\" rel=\"nofollow noreferrer\">Github</a>. They advice to reinstall \n<em>Pygpu</em> with conda-forge : </p>\n\n<p><code>conda remove pygpu &amp;&amp; conda install -c conda-forge pygpu</code></p>\n\n<p>It doesn't work for me, maybe you'll be more lucky.</p>\n"}], "owner": {"reputation": 607, "user_id": 2651079, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/PArnu.jpg?s=128&g=1", "display_name": "minomic", "link": "https://stackoverflow.com/users/2651079/minomic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1416, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1494507377, "creation_date": 1494450652, "question_id": 43902816, "link": "https://stackoverflow.com/questions/43902816/cannot-import-pygpu", "title": "Cannot import pygpu", "body": "<p>I am trying to import <code>pygpu</code> and I obtain the following:</p>\n\n<pre><code>&gt;&gt;&gt; import pygpu\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/michele/anaconda3/lib/python3.6/site-packages/pygpu/__init__.py\", line 7, in &lt;module&gt;\n    from . import gpuarray, elemwise, reduction\nImportError: /home/michele/anaconda3/lib/python3.6/site-packages/pygpu/gpuarray.cpython-36m-x86_64-linux-gnu.so: undefined symbol: PySlice_Unpack\n</code></pre>\n\n<p>I have installed <code>python</code> through <code>anaconda</code> and everything seems to work fine. Can it be a bug? Or am I missing something?</p>\n"}, {"tags": ["python", "ssh", "paramiko"], "comments": [{"owner": {"reputation": 14947, "user_id": 900078, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/83stK.jpg?s=128&g=1", "display_name": "pynexj", "link": "https://stackoverflow.com/users/900078/pynexj"}, "edited": false, "score": 0, "creation_date": 1494469078, "post_id": 43902753, "comment_id": 74844516, "body": "what about <code>recv()</code>ing all available data from the channel before <code>send()</code>ing <i>the second block</i>?"}, {"owner": {"reputation": 1, "user_id": 7690255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9709a3c9707ffc6cadd9cdb1291fb746?s=128&d=identicon&r=PG&f=1", "display_name": "pnd", "link": "https://stackoverflow.com/users/7690255/pnd"}, "reply_to_user": {"reputation": 14947, "user_id": 900078, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/83stK.jpg?s=128&g=1", "display_name": "pynexj", "link": "https://stackoverflow.com/users/900078/pynexj"}, "edited": false, "score": 0, "creation_date": 1494482484, "post_id": 43902753, "comment_id": 74848378, "body": "yes, it workes thanks !"}], "answers": [{"tags": [], "owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "is_accepted": false, "score": 0, "last_activity_date": 1494495000, "creation_date": 1494495000, "answer_id": 43911568, "question_id": 43902753, "link": "https://stackoverflow.com/questions/43902753/clean-recv-at-paramiko-channel/43911568#43911568", "title": "Clean recv at paramiko channel", "body": "<p>Resolved in comments:  </p>\n\n<blockquote>\n  <p>what about recv()ing all available data from the channel before send()ing the second block? \u2013 whjm</p>\n  \n  <p>yes, it workes thanks ! \u2013 pnd</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 704, "user_id": 10211806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a507cbbfc00066701dc8ca21beaa4fb8?s=128&d=identicon&r=PG&f=1", "display_name": "ahirapara", "link": "https://stackoverflow.com/users/10211806/ahirapara"}, "is_accepted": false, "score": 0, "last_activity_date": 1561716923, "last_edit_date": 1561716923, "creation_date": 1561716228, "answer_id": 56804897, "question_id": 43902753, "link": "https://stackoverflow.com/questions/43902753/clean-recv-at-paramiko-channel/56804897#56804897", "title": "Clean recv at paramiko channel", "body": "<p>You can try below code to clear buffer before \"x.send('sh users\\n')\"</p>\n\n<pre><code>while not x.recv_ready():\n    time.sleep(10)\noutput = x.recv(65535).decode(\"utf-8\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7690255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9709a3c9707ffc6cadd9cdb1291fb746?s=128&d=identicon&r=PG&f=1", "display_name": "pnd", "link": "https://stackoverflow.com/users/7690255/pnd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2481, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561716923, "creation_date": 1494450351, "question_id": 43902753, "link": "https://stackoverflow.com/questions/43902753/clean-recv-at-paramiko-channel", "title": "Clean recv at paramiko channel", "body": "<p>I want to establish SSH session, run first block of command, then run second block of command, but i need to capture output only from the second block.\nHow can I clean recv buffer in paramiko in more clean and right way ?\nNow I re-establish SSH session, but it is ugly and stupid in my opinion</p>\n\n<pre><code>client=paramiko.SSHClient()\nclient.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n\nclient.connect('10.10.10.50', username='admin', password='admin')\nx=client.invoke_shell()\nx.send('en')\nx.send('\\n')\nx.send('conf t')\nx.send('\\n')\nx.send('hostname 11')\nx.send('\\n')\nx.send('exit')\nx.send('\\n')\nx.close()\ntime.sleep(1)\nclient.connect('10.10.10.50', username='admin', password='admin')\nx=client.invoke_shell()\nx.send('sh users\\n')\ntime.sleep(1)\noutput=x.recv(65535)\nprint output\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "python-2.7", "multiprocessing"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1494450378, "post_id": 43902731, "comment_id": 74839304, "body": "Can you post the full traceback?"}, {"owner": {"reputation": 765, "user_id": 1419356, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DQQz7.png?s=128&g=1", "display_name": "the_big_blackbox", "link": "https://stackoverflow.com/users/1419356/the-big-blackbox"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1494450724, "post_id": 43902731, "comment_id": 74839464, "body": "hi added traceback"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1494450953, "post_id": 43902731, "comment_id": 74839570, "body": "Look at your <code>run</code> function. You have not defined the object &quot;test&quot; anywhere, so the error message says &quot;NameError: global name &#39;test&#39; is not defined&quot;"}, {"owner": {"reputation": 765, "user_id": 1419356, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DQQz7.png?s=128&g=1", "display_name": "the_big_blackbox", "link": "https://stackoverflow.com/users/1419356/the-big-blackbox"}, "edited": false, "score": 0, "creation_date": 1494450959, "post_id": 43902731, "comment_id": 74839576, "body": "it works in windows if i remove  <b>name__==&#39;__main</b>&#39;:"}, {"owner": {"reputation": 765, "user_id": 1419356, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DQQz7.png?s=128&g=1", "display_name": "the_big_blackbox", "link": "https://stackoverflow.com/users/1419356/the-big-blackbox"}, "edited": false, "score": 0, "creation_date": 1494451103, "post_id": 43902731, "comment_id": 74839654, "body": "its defined at the bottom before the run function gets called"}, {"owner": {"reputation": 57, "user_id": 7767134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UmE7b.jpg?s=128&g=1", "display_name": "Nikazo", "link": "https://stackoverflow.com/users/7767134/nikazo"}, "edited": false, "score": 1, "creation_date": 1494452765, "post_id": 43902731, "comment_id": 74840358, "body": "when using multiprocessing library, the parallel task will be executed from another python process. Only objects passed as arguments to <code>run</code> function will be accessible, not the global ones."}, {"owner": {"reputation": 3262, "user_id": 5273921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvzQp.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5273921/mike"}, "reply_to_user": {"reputation": 57, "user_id": 7767134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UmE7b.jpg?s=128&g=1", "display_name": "Nikazo", "link": "https://stackoverflow.com/users/7767134/nikazo"}, "edited": false, "score": 0, "creation_date": 1494453741, "post_id": 43902731, "comment_id": 74840757, "body": "@Nikazo any idea why it would still work on a Linux environment though?"}], "answers": [{"comments": [{"owner": {"reputation": 765, "user_id": 1419356, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DQQz7.png?s=128&g=1", "display_name": "the_big_blackbox", "link": "https://stackoverflow.com/users/1419356/the-big-blackbox"}, "edited": false, "score": 0, "creation_date": 1494452067, "post_id": 43903071, "comment_id": 74840087, "body": "thanks you a legend my friend.. saved me lots of fustration"}, {"owner": {"reputation": 3262, "user_id": 5273921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvzQp.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5273921/mike"}, "reply_to_user": {"reputation": 765, "user_id": 1419356, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DQQz7.png?s=128&g=1", "display_name": "the_big_blackbox", "link": "https://stackoverflow.com/users/1419356/the-big-blackbox"}, "edited": false, "score": 0, "creation_date": 1494452168, "post_id": 43903071, "comment_id": 74840126, "body": "Glad I could help! Hope I can update the answer in a bit to give a bit more info as to the &#39;why&#39; this happens."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1494452526, "post_id": 43903071, "comment_id": 74840267, "body": "This is going to have the worker processes also execute <code>valid1</code>, generating more workers that will also execute <code>valid1</code> and generate more workers and so on."}, {"owner": {"reputation": 765, "user_id": 1419356, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DQQz7.png?s=128&g=1", "display_name": "the_big_blackbox", "link": "https://stackoverflow.com/users/1419356/the-big-blackbox"}, "edited": false, "score": 0, "creation_date": 1494453200, "post_id": 43903071, "comment_id": 74840560, "body": "how do i stop that from happening"}, {"owner": {"reputation": 3262, "user_id": 5273921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvzQp.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5273921/mike"}, "edited": false, "score": 0, "creation_date": 1494453575, "post_id": 43903071, "comment_id": 74840699, "body": "If you have <code>test.valid1</code> function only execute in the main script process, i.e. only if <code>__name__</code> is <code>__main__</code> and not <code>__parents_main__</code> does that give you the correct behavior?"}], "tags": [], "owner": {"reputation": 3262, "user_id": 5273921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvzQp.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5273921/mike"}, "is_accepted": true, "score": 1, "last_activity_date": 1494454426, "last_edit_date": 1494454426, "creation_date": 1494451905, "answer_id": 43903071, "question_id": 43902731, "link": "https://stackoverflow.com/questions/43902731/windows-vs-ubuntu-nameerror-global-name-is-not-defined/43903071#43903071", "title": "windows vs ubuntu NameError: global name is not defined", "body": "<p>The problem is that your <code>test</code> variable isn't defined when your script spawns another process and executes the <code>run</code> function. Your <code>test</code> variable was only set when the <code>__name__</code> variable set as <code>\"__main__\"</code>. The interpreter changes the <code>__name__</code> value to <code>\"__parents_main__\"</code> in a spawned process so <code>test</code> won't be defined. As you figured out, removing the if statement sets the variable since that is no longer contingent on <code>__name__</code> being set to <code>'__main__'</code> but as pointed out in the comments below, this will lead to self-replicating worker threads and lead to errors.</p>\n\n<p>Add:</p>\n\n<pre><code>if __name__=='__main__' or __name__=='__parents_main__':\n    test=t()\n# Updated as per comments below. Only run this function in the original process,\n# not a spawned worker thread\nif __name__=='main':\n    test.valid1(check)\n</code></pre>\n\n<p>to your code and it will work fine. You could also just define <code>test</code> outside the bottom <code>if __name__=='main'</code> conditional and have the same effect.</p>\n"}], "owner": {"reputation": 765, "user_id": 1419356, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DQQz7.png?s=128&g=1", "display_name": "the_big_blackbox", "link": "https://stackoverflow.com/users/1419356/the-big-blackbox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "accepted_answer_id": 43903071, "answer_count": 1, "score": 0, "last_activity_date": 1494454426, "creation_date": 1494450289, "last_edit_date": 1494450641, "question_id": 43902731, "link": "https://stackoverflow.com/questions/43902731/windows-vs-ubuntu-nameerror-global-name-is-not-defined", "title": "windows vs ubuntu NameError: global name is not defined", "body": "<p>Hi please can someone help. I have a ubuntu server(python 2.7.12) and a windows server(python 2.7.13). The code below runs perfectly on the ubuntu box however i receive an error on windows server.</p>\n\n<pre><code>import multiprocessing\nimport time\n\ncheck=\"h\"\n\ndef run(check):\n    return test.validityCheck(check)\n\nclass t:\n\n    def validityCheck(self,check):\n        time.sleep(4)\n        print(check)\n        errorStatus=str(\"error\")\n        return (\"error state: \"+errorStatus)\n\n    def valid(self,check):\n        print 'starting....'\n        pool = multiprocessing.Pool(1)\n        res = pool.apply_async(run, [check])\n        try:\n            print res.get(timeout=5)\n        except multiprocessing.TimeoutError:\n            error=1\n        print 'end'\n\n    def valid1(self, check):\n        self.valid(check)\n\nif __name__=='__main__':\n    test=t()\n    test.valid1(check)\n</code></pre>\n\n<blockquote>\n  <p>Traceback (most recent call last):<br>\n   File \"C:/scripts/m1.py\", line 32, in \n      test.valid1(check)<br>\n   File \"C:/scripts/m1.py\", line 28, in valid1\n      self.valid(check)<br>\n   File \"C:/scripts/m1.py\", line 22, in valid\n      print res.get(timeout=5)<br>\n    File \"C:\\Python27\\lib\\multiprocessing\\pool.py\", line 567, in get\n      raise self._value<br>\n  NameError: global name 'test' is not defined</p>\n</blockquote>\n"}, {"tags": ["python", "python-2.7", "file"], "comments": [{"owner": {"reputation": 1167, "user_id": 6925467, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6c138e454f54a8301cf1d7b86274e016?s=128&d=identicon&r=PG&f=1", "display_name": "CodeCupboard", "link": "https://stackoverflow.com/users/6925467/codecupboard"}, "edited": false, "score": 0, "creation_date": 1494451654, "post_id": 43902648, "comment_id": 74839913, "body": "could append the files to a list, then sort the list?"}], "answers": [{"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 3, "creation_date": 1494450201, "post_id": 43902690, "comment_id": 74839215, "body": "No because <code>6</code> will not sort before <code>50</code> this way."}, {"owner": {"reputation": 934, "user_id": 1753931, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0d81ae5a4a7c2151f86a308d0512bcc3?s=128&d=identicon&r=PG", "display_name": "Panichi Pattumeros PapaCastoro", "link": "https://stackoverflow.com/users/1753931/panichi-pattumeros-papacastoro"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494450457, "post_id": 43902690, "comment_id": 74839340, "body": "@Meccano thanks for your answer but as @MadPhysicist observe this script will sort in a wrong way such as <code>1.dat 10.dat 11.dat 12.dat 13.dat 14.dat 15.dat</code>"}, {"owner": {"reputation": 527, "user_id": 7696140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/868cb513e8b2a5c6afb3383a722f9f7f?s=128&d=identicon&r=PG&f=1", "display_name": "Meccano", "link": "https://stackoverflow.com/users/7696140/meccano"}, "edited": false, "score": 1, "creation_date": 1494450671, "post_id": 43902690, "comment_id": 74839440, "body": "I have edited my post, I made a custom key function to take the numerical value of the number and not the lexicographic."}], "tags": [], "owner": {"reputation": 527, "user_id": 7696140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/868cb513e8b2a5c6afb3383a722f9f7f?s=128&d=identicon&r=PG&f=1", "display_name": "Meccano", "link": "https://stackoverflow.com/users/7696140/meccano"}, "is_accepted": false, "score": 3, "last_activity_date": 1494450520, "last_edit_date": 1494450520, "creation_date": 1494450128, "answer_id": 43902690, "question_id": 43902648, "link": "https://stackoverflow.com/questions/43902648/iterative-read-of-sorted-files-in-python/43902690#43902690", "title": "Iterative read of sorted files in Python", "body": "<pre><code>files = []\nfor f in os.listdir('.'): # read all the files in the directory\n  if f.endswith('.dat'): # use only the ones with .dat as extansion\n        files.append(f)\nfiles.sort(key=lambda x:int(x.split('.')[0]))\nfor f in files:\n    data1 = np.loadtxt(f)\n    # some operations on each file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1494451521, "post_id": 43902806, "comment_id": 74839855, "body": "@ChristianDean. Thanks for the fix :)"}], "tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": true, "score": 6, "last_activity_date": 1494451377, "last_edit_date": 1494451377, "creation_date": 1494450609, "answer_id": 43902806, "question_id": 43902648, "link": "https://stackoverflow.com/questions/43902648/iterative-read-of-sorted-files-in-python/43902806#43902806", "title": "Iterative read of sorted files in Python", "body": "<p>You need to get the full list of files and then sort them into the order you want.</p>\n\n<pre><code>files = [f for f in os.listdir('.') if f.endswith('.dat')]\n</code></pre>\n\n<p>This gets you the list of <code>.dat</code> files. You don't need a full <code>for</code> loop and a list comprehension is faster.</p>\n\n<p>The trick with sorting is that you need a key that will give you the proper order. In this case, convert to the numerical value for the key:</p>\n\n<pre><code>files.sort(key=lambda f: int(f[:-4]))\n</code></pre>\n\n<p>This will work <em>only</em> if you are sure that all the dat files have numerical names except for the last four characters.</p>\n\n<p>Now you can process your list:</p>\n\n<pre><code>for f in files:\n    data1 = np.loadtxt(f)\n    ...\n</code></pre>\n\n<p>For a more complex sorting algorithm, I would recommend the library <a href=\"http://pythonhosted.org/natsort/\" rel=\"nofollow noreferrer\">natsort</a>. Then your sorting step would look like</p>\n\n<pre><code>from natsort import natsorted\nfiles = natsorted(files)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>from natsort import humansorted\nfiles = humansorted(files)\n</code></pre>\n\n<p>The second version is locale-aware.</p>\n"}, {"comments": [{"owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "edited": false, "score": 0, "creation_date": 1494450767, "post_id": 43902817, "comment_id": 74839486, "body": "<code>filename[0]</code> is just the first character"}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 2, "last_activity_date": 1494450770, "last_edit_date": 1494450770, "creation_date": 1494450655, "answer_id": 43902817, "question_id": 43902648, "link": "https://stackoverflow.com/questions/43902648/iterative-read-of-sorted-files-in-python/43902817#43902817", "title": "Iterative read of sorted files in Python", "body": "<p>You can sort your list of files using the <code>key</code> parameter of the <code>.sort()</code> function. But to sort the files based upon their numerical value, you need to convert the numerical part of the filename to an integer:</p>\n\n<pre><code>files = [file for file in os.listdir('.') if file.endswith('.dat')]\nfiles.sort(key=lambda filename: int(filename[:-4]))\n\nfor f in files:\n    data1 = np.loadtxt(f)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494450940, "post_id": 43902864, "comment_id": 74839566, "body": "What happens if you have both integer and text names? Pretty sure you will get an error if you have <code>[&#39;a.dat&#39;, &#39;1.dat&#39;]</code>."}, {"owner": {"reputation": 423, "user_id": 7782213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RaQQ_6Zx4LY/AAAAAAAAAAI/AAAAAAAAAAo/C_wAEa046d4/photo.jpg?sz=128", "display_name": "Efron Licht", "link": "https://stackoverflow.com/users/7782213/efron-licht"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1494451077, "post_id": 43902864, "comment_id": 74839646, "body": "Nope. Added to the example to illustrate."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1494451087, "post_id": 43902864, "comment_id": 74839649, "body": "My mistake. BTW, this is a simplified version of what <code>natsort</code> library does."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494451133, "post_id": 43902864, "comment_id": 74839669, "body": "You might want to turn that list into a tuple for robustness though."}, {"owner": {"reputation": 423, "user_id": 7782213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RaQQ_6Zx4LY/AAAAAAAAAAI/AAAAAAAAAAo/C_wAEa046d4/photo.jpg?sz=128", "display_name": "Efron Licht", "link": "https://stackoverflow.com/users/7782213/efron-licht"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1494453567, "post_id": 43902864, "comment_id": 74840696, "body": "Why? What does &#39;robustness&#39; mean, besides &#39;I prefer it this way?&#39; sorted() returns a list. Why create an extra data structure?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494474838, "post_id": 43902864, "comment_id": 74845843, "body": "I was referring to the sort key, but you are right, it doesn&#39;t really matter here."}, {"owner": {"reputation": 423, "user_id": 7782213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RaQQ_6Zx4LY/AAAAAAAAAAI/AAAAAAAAAAo/C_wAEa046d4/photo.jpg?sz=128", "display_name": "Efron Licht", "link": "https://stackoverflow.com/users/7782213/efron-licht"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1494522853, "post_id": 43902864, "comment_id": 74876743, "body": "Ah, I see! You mean <code>alphanum_key =lambda key: tuple(convert(c) for c in re.split(&#39;([0-9]+)&#39;, key))</code>. Yeah, that would work just fine."}], "tags": [], "owner": {"reputation": 423, "user_id": 7782213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RaQQ_6Zx4LY/AAAAAAAAAAI/AAAAAAAAAAo/C_wAEa046d4/photo.jpg?sz=128", "display_name": "Efron Licht", "link": "https://stackoverflow.com/users/7782213/efron-licht"}, "is_accepted": false, "score": 3, "last_activity_date": 1494450955, "last_edit_date": 1494450955, "creation_date": 1494450867, "answer_id": 43902864, "question_id": 43902648, "link": "https://stackoverflow.com/questions/43902648/iterative-read-of-sorted-files-in-python/43902864#43902864", "title": "Iterative read of sorted files in Python", "body": "<p>You've got the right idea. You just need to sort the files in the 'human-natural' way. There's a couple of different approaches;  pad them with zeros and then sort, for one. I like this one:</p>\n\n<pre><code>import re\ndef sorted_nicely(iter):\n    \"\"\" Sort the given iterable in the way that humans expect; i.e,\n    '2fast2furious' &lt; '11fast11furious'\n    \"\"\"\n    convert = lambda text: int(text) if text.isdigit() else text\n    alphanum_key = lambda key: [ convert(c) for c in re.split('([0-9]+)', key) ]\n    return sorted(iter, key=alphanum_key)\n</code></pre>\n\n<p>EG:</p>\n\n<pre><code>&gt;&gt;&gt; print(sorted_nicely('a.dat 6.dat 4.dat 8.dat 5.dat 13.dat 10.dat 16.dat 18.dat 20.dat'.split())\n['4.dat', '5.dat', '6.dat', '8.dat', '10.dat', '13.dat', '16.dat', '18.dat', '20.dat', 'a.dat']\n</code></pre>\n"}], "owner": {"reputation": 934, "user_id": 1753931, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0d81ae5a4a7c2151f86a308d0512bcc3?s=128&d=identicon&r=PG", "display_name": "Panichi Pattumeros PapaCastoro", "link": "https://stackoverflow.com/users/1753931/panichi-pattumeros-papacastoro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 43902806, "answer_count": 4, "score": 2, "last_activity_date": 1494451377, "creation_date": 1494449968, "last_edit_date": 1494450232, "question_id": 43902648, "link": "https://stackoverflow.com/questions/43902648/iterative-read-of-sorted-files-in-python", "title": "Iterative read of sorted files in Python", "body": "<p>I have a list of files <code>1.dat</code>, ... ,<code>N.dat</code> in a directory which I want to read and analyzed.</p>\n\n<p>I did the following</p>\n\n<pre><code>for f in os.listdir('.'): # read all the files in the directory\n  if f.endswith('.dat'): # use only the ones with .dat as extansion\n        print(f)\n        data1 = np.loadtxt(f) \n        # some operations on each file\n</code></pre>\n\n<p>In this way, the files are taken in a random order, the output of print:</p>\n\n<pre><code> 6.dat\n4.dat\n8.dat\n5.dat\n13.dat\n10.dat\n1.dat\n16.dat\n20.dat\n19.dat\n</code></pre>\n\n<p>So my question, how I can force the script to read the files in a sorted way? From file <code>1.dat</code> to <code>N.dat</code>.</p>\n"}, {"tags": ["python", "bash", "python-2.7", "ubuntu"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1494450789, "post_id": 43902607, "comment_id": 74839497, "body": "This is the same as running <code>sh -c &#39;alias helper=&quot;something&quot;&#39;</code> in bash: it&#39;s starting a <b>whole new shell</b>, and running your alias command in that new shell, and then letting the new shell <i>exit</i> since it&#39;s done running its script. Shell has exited -&gt; no more alias."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494450906, "post_id": 43902607, "comment_id": 74839551, "body": "It&#39;s the same underlying problem as <a href=\"http://stackoverflow.com/questions/13732221/change-directory-with-python\">change directory with python</a> or <a href=\"http://stackoverflow.com/questions/26767552/set-bash-variable-from-python-script\">set bash variable from python script</a>."}, {"owner": {"reputation": 340, "user_id": 2474008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/810145437/picture?type=large", "display_name": "Vexen Crabtree", "link": "https://stackoverflow.com/users/2474008/vexen-crabtree"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494451270, "post_id": 43902607, "comment_id": 74839739, "body": "Yep, got it. I don&#39;t do the &quot;alias&quot; command in the right context. So, the shell that I create in the Popen cmd disappears, along with the alias."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1494451326, "post_id": 43902607, "comment_id": 74839757, "body": "Yup. The sticky thing is that by design, you can&#39;t cause your parent process to run code of your choice, except with that parent process&#39;s willing participation (such as <code>eval</code>). That said, <code>eval</code> -- since it runs data as code -- has significant potential security impact, hence some of my comments on the answer, and <a href=\"http://mywiki.wooledge.org/BashFAQ/048\" rel=\"nofollow noreferrer\">BashFAQ #48</a>."}, {"owner": {"reputation": 340, "user_id": 2474008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/810145437/picture?type=large", "display_name": "Vexen Crabtree", "link": "https://stackoverflow.com/users/2474008/vexen-crabtree"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494451613, "post_id": 43902607, "comment_id": 74839894, "body": "@CharlesDuffy, you&#39;ve flagged this as a duplicate of another, but, the accepted solution for that one doesn&#39;t work here, for two reasons (which I&#39;ll add to my question): (1) There is no way I&#39;m going to get my users to type in the eval statement - it&#39;s hard enough getting them to type &quot;sudo python&quot; in front of the filename). (2) My program already prints a lot of things to stdout (multiple screens, after some Q&amp;A sessions with the user). Evalling the whole lot won&#39;t work."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494451663, "post_id": 43902607, "comment_id": 74839918, "body": "Ping me again when you&#39;re done with those distinguishing edits."}, {"owner": {"reputation": 340, "user_id": 2474008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/810145437/picture?type=large", "display_name": "Vexen Crabtree", "link": "https://stackoverflow.com/users/2474008/vexen-crabtree"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494453180, "post_id": 43902607, "comment_id": 74840552, "body": "If anyone wants to add an answer of &quot;Not possible, because of the context&quot; (etc), I&#39;ll mark that as the correct answer. The user just won&#39;t have the alias available during their first shell after running the helper script."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494453321, "post_id": 43902607, "comment_id": 74840607, "body": "re: &quot;can&#39;t eval the output of print statements&quot; -- content intended for the human rather than programmatic consumption should be on stderr, not stdout."}, {"owner": {"reputation": 340, "user_id": 2474008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/810145437/picture?type=large", "display_name": "Vexen Crabtree", "link": "https://stackoverflow.com/users/2474008/vexen-crabtree"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494453585, "post_id": 43902607, "comment_id": 74840704, "body": "Isn&#39;t stderr for errors?  So, if I change all my print statements to print to stderr (hopefully there&#39;s a way to change their default output method without having to edit each one...), then, I could eval just the output that went to stdout, even though both appear in the term session as text?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494453664, "post_id": 43902607, "comment_id": 74840737, "body": "Exactly, command substitutions (<code>$(...)</code>) capture only stdout. stderr is for status and logs generally -- basically, everything except for <i>output</i>."}, {"owner": {"reputation": 340, "user_id": 2474008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/810145437/picture?type=large", "display_name": "Vexen Crabtree", "link": "https://stackoverflow.com/users/2474008/vexen-crabtree"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494453864, "post_id": 43902607, "comment_id": 74840805, "body": "Alright, good information and thanks for the quick replies. Although I&#39;m not going down this route (because of complications I&#39;ve not mentioned!), it is still correct-answer-worthy!"}, {"owner": {"reputation": 340, "user_id": 2474008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/810145437/picture?type=large", "display_name": "Vexen Crabtree", "link": "https://stackoverflow.com/users/2474008/vexen-crabtree"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494453952, "post_id": 43902607, "comment_id": 74840823, "body": "If you want to add the &quot;change all the printing to stderr, and eval() the results of stdout&quot; as answer I&#39;ll mark it as the correct one. Didn&#39;t notice this conversation ^^^ was all in the comments to the OP and not on an answer."}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494450833, "post_id": 43902853, "comment_id": 74839526, "body": "Quotes. <code>eval &quot;$(python .&#47;myScript)&quot;</code> -- the impact of doing otherwise varies exactly on how the arguments get string-split and expanded, but as a general rule it&#39;s never an improvement."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494451059, "post_id": 43902853, "comment_id": 74839632, "body": "I&#39;d also strongly suggest using <code>pipes.quote()</code> (or its Python 3 replacement, <code>shlex.quote()</code>). Otherwise, behavior if your Python script has an interesting name (maybe it&#39;s in a directory name that contains literal quote characters, or a <code>$()</code> expansion? Those <b>are</b> valid on typical UNIX filesystems) will be... <i>surprising</i>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494451222, "post_id": 43902853, "comment_id": 74839709, "body": "...so, using <code>pipes.quote()</code> for both stages, making sure that your generated shell command is entirely safe in both steps, would look like: <code>inner_cmd=&#39;sudo python %s&#39; % (pipes.quote(os.path.abspath(__file__)),); outer_cmd=&#39;alias helper=%s&#39; % (pipes.quote(inner_cmd)); print(outer_cmd)</code>"}, {"owner": {"reputation": 340, "user_id": 2474008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/810145437/picture?type=large", "display_name": "Vexen Crabtree", "link": "https://stackoverflow.com/users/2474008/vexen-crabtree"}, "edited": false, "score": 0, "creation_date": 1494452070, "post_id": 43902853, "comment_id": 74840089, "body": "Thanks for the ideas Matt, but my program prints a lot to the screen (menus, information, alers, all sorts) before it exits, so using eval on the results won&#39;t work (I think)."}, {"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494522100, "post_id": 43902853, "comment_id": 74876322, "body": "@CharlesDuffy thank you for the input, these should be comments on the original question - I am just giving the OP a suggestion for how to evaluate commands from his python scrip in his current environment. I have not changed the code OP is using to generate said commands."}], "tags": [], "owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "is_accepted": false, "score": 2, "last_activity_date": 1494458305, "last_edit_date": 1494458305, "creation_date": 1494450810, "answer_id": 43902853, "question_id": 43902607, "link": "https://stackoverflow.com/questions/43902607/using-python-to-create-a-bash-alias-in-parent-shell-when-a-program-writes-menus/43902853#43902853", "title": "Using python to create a bash alias in parent shell when a program writes menus / prints logs", "body": "<p>When you use <code>subprocess</code>, you are doing just that, opening <em>another process</em> to run the target command.</p>\n\n<p>The problem is that you are creating a new shell environment, setting the alias, then immediately exiting the new shell, losing the configuration.</p>\n\n<p>What you could do, is have the Python process simply print the commands to be evaluated, then use <code>eval</code> to load them into your current environment.</p>\n\n<p>Python:</p>\n\n<pre><code>lStr= 'alias helper=\\'sudo python \"'+os.path.abspath(__file__)+'\"\\''\nprint lStr\n</code></pre>\n\n<p>Bash, evaluate the output, and run the alias commands in the current context.</p>\n\n<pre><code>eval \"$( python ./myScript )\"\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>alias helper\nalias helper='sudo python \"/Users/xyz/test.py\"'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 1, "last_activity_date": 1494454267, "creation_date": 1494454267, "answer_id": 43903502, "question_id": 43902607, "link": "https://stackoverflow.com/questions/43902607/using-python-to-create-a-bash-alias-in-parent-shell-when-a-program-writes-menus/43903502#43903502", "title": "Using python to create a bash alias in parent shell when a program writes menus / prints logs", "body": "<p>You can perform your user interaction either on stderr, or communicating directly with <code>/dev/tty</code>, to keep stdout free for output to be <code>eval</code>'d.</p>\n\n<p>That is to say:</p>\n\n<pre><code>eval \"$(python yourprogram)\"\n</code></pre>\n\n<p>won't capture lines like:</p>\n\n<pre><code>print &gt;&gt;sys.stderr, \"hello\"\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>tty = open('/dev/tty', 'w')\nprint &gt;&gt;tty, \"hello\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494521279, "post_id": 43904092, "comment_id": 74875873, "body": "I still have the same objection here I had to the last one -- you&#39;re assuming without justification that <code>os.path.abspath(__file__)</code> is a string that evals to itself inside double quotes, but a filename can <i>contain</i> double quotes, or <code>$</code>s, or any amount of other content that&#39;s syntactically active in shell. Python provides the tools to use to safely escape content to be evaluated by a shell; why <i>not</i> use them?"}, {"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1494522104, "post_id": 43904092, "comment_id": 74876325, "body": "@CharlesDuffy thank you for the input, these should be comments on the original question - I am just giving the OP a suggestion for how to evaluate commands from his python scrip in his current environment. I have not changed the code OP is using to generate said commands."}], "tags": [], "owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "is_accepted": false, "score": 0, "last_activity_date": 1494458217, "last_edit_date": 1495541409, "creation_date": 1494458217, "answer_id": 43904092, "question_id": 43902607, "link": "https://stackoverflow.com/questions/43902607/using-python-to-create-a-bash-alias-in-parent-shell-when-a-program-writes-menus/43904092#43904092", "title": "Using python to create a bash alias in parent shell when a program writes menus / prints logs", "body": "<p>I am adding a second answer - my first one is still <em>technically</em> valid, as it answers the first question you asked. This one is here to serve now that the question has changed entirely.</p>\n\n<p>While the accepted answer will work, your user will need to run the helper script every time they open up a new shell, as the aliases will not be persisted between sessions.</p>\n\n<p>What you should do, is use your helper script to generate a standard environment file, a file that is simply your current stdout, and <a href=\"https://stackoverflow.com/a/6159912/1790644\">dump it into a file on disk</a>.</p>\n\n<p>You should then direct your user to this file, and have them add a <a href=\"https://stackoverflow.com/a/9326746/1790644\">source</a> line to either their <a href=\"https://unix.stackexchange.com/a/129144/36669\">.bashrc</a> or <a href=\"https://unix.stackexchange.com/a/3060/36669\">.profile</a></p>\n\n<p>By doing this, every time a user starts a new terminal, the environment will be loaded into their session.</p>\n\n<p>Ex:</p>\n\n<pre><code>lStr= 'alias helper=\\'sudo python \"'+os.path.abspath(__file__)+'\"\\''\n\nfPath = '/path/to/envFile'\n\nf = open(fPath, 'w')\nf.write(lStr)\nf.close()\n\nprint \"Hi.\"\nprint \"Append this to your ~/.bashrc\"\nprint \"  source \" + fPath\n</code></pre>\n\n<p>Results in</p>\n\n<blockquote>\n  <p>Hi.<br/>\n  Append this to your ~/.bashrc<br/>\n  &nbsp;&nbsp;source /path/to/envFile</p>\n</blockquote>\n\n<p>This also gives your user a chance to see what you are doing before blindly running the commands.</p>\n"}], "owner": {"reputation": 340, "user_id": 2474008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/810145437/picture?type=large", "display_name": "Vexen Crabtree", "link": "https://stackoverflow.com/users/2474008/vexen-crabtree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 1, "accepted_answer_id": 43903502, "answer_count": 3, "score": 1, "last_activity_date": 1494458305, "creation_date": 1494449812, "last_edit_date": 1495541406, "question_id": 43902607, "link": "https://stackoverflow.com/questions/43902607/using-python-to-create-a-bash-alias-in-parent-shell-when-a-program-writes-menus", "title": "Using python to create a bash alias in parent shell when a program writes menus / prints logs", "body": "<p>The user types 'sudo python helper.py' to run my file. I want the program to create an alias so the user only has to type 'helper'. So, when the python script runs I have it create an alias (after checking if the alias already exists).</p>\n\n<pre><code>lStr= 'alias helper=\\'sudo python \"'+os.path.abspath(__file__)+'\"\\''\nprint lStr\nsubprocess.Popen(lStr,shell=True)\n</code></pre>\n\n<p>But when the program exits, the alias still doesn't exist and I don't know why not. If I manually copy the result of the print statement into bash, then, the alias is created properly. It doesn't work when it is called from within the python program though. Any ideas?</p>\n\n<hr>\n\n<p>Because my program has a substantial amount of interaction, I can't use the answer given at <a href=\"https://stackoverflow.com/questions/21690811/use-python-to-dynamically-create-bash-aliases\">Use python to dynamically create bash aliases</a> (<code>eval \"$(python ...)\"</code>), because that would be capturing menu text and other content involved in user interaction.</p>\n\n<p>I can (and do) update <code>~/.bash_aliases</code>, so users already get new aliases the next time they open a shell -- but is there a way to have more immediate effect even when a program interacts with the user?</p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 1, "creation_date": 1494449723, "post_id": 43902523, "comment_id": 74838979, "body": "df1[~df1.System.isin(df2.System)]?"}], "answers": [{"tags": [], "owner": {"reputation": 2501, "user_id": 5371236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c45d6b2fc915b9333a4508ceebd7d1d?s=128&d=identicon&r=PG&f=1", "display_name": "matusko", "link": "https://stackoverflow.com/users/5371236/matusko"}, "is_accepted": false, "score": 0, "last_activity_date": 1494449772, "creation_date": 1494449772, "answer_id": 43902595, "question_id": 43902523, "link": "https://stackoverflow.com/questions/43902523/print-the-value-of-a-column-in-a-dataframe-that-is-not-contained-in-another-data/43902595#43902595", "title": "Print the value of a column in a dataframe that is not contained in another dataframe", "body": "<p>You could use sets</p>\n\n<pre><code>set(df1.system).difference(set(df2.system))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 4, "last_activity_date": 1494450130, "last_edit_date": 1494450130, "creation_date": 1494449810, "answer_id": 43902604, "question_id": 43902523, "link": "https://stackoverflow.com/questions/43902523/print-the-value-of-a-column-in-a-dataframe-that-is-not-contained-in-another-data/43902604#43902604", "title": "Print the value of a column in a dataframe that is not contained in another dataframe", "body": "<p>A pandas way of doing this is to use <code>isin</code> as follows:</p>\n\n<pre><code>df1[~df1.System.isin(df2.System)]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  System\n1  b0002\n</code></pre>\n\n<p>However, to do it the way you are doing you are missing <code>.values</code>:</p>\n\n<pre><code>for i in df1.index:\n    if df1.System[i] not in df2.System.values:\n        print (df1.System[i])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>b0002\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1494450192, "creation_date": 1494450192, "answer_id": 43902709, "question_id": 43902523, "link": "https://stackoverflow.com/questions/43902523/print-the-value-of-a-column-in-a-dataframe-that-is-not-contained-in-another-data/43902709#43902709", "title": "Print the value of a column in a dataframe that is not contained in another dataframe", "body": "<p><code>numpy</code></p>\n\n<pre><code>np.setdiff1d(df1.System.values, df2.System.values)\n\narray(['b0002'], dtype=object)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "is_accepted": false, "score": 2, "last_activity_date": 1494450221, "creation_date": 1494450221, "answer_id": 43902716, "question_id": 43902523, "link": "https://stackoverflow.com/questions/43902523/print-the-value-of-a-column-in-a-dataframe-that-is-not-contained-in-another-data/43902716#43902716", "title": "Print the value of a column in a dataframe that is not contained in another dataframe", "body": "<pre><code># This solution only prints unique elements in df1 which are not in df2\n\nnp.setdiff1d(df1,df2)\nOut[236]: array(['b0002'], dtype=object)\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 7978289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U7YpZMjZ5nk/AAAAAAAAAAI/AAAAAAAAADI/GLRsY0ha9-A/photo.jpg?sz=128", "display_name": "Yusef Jacobs", "link": "https://stackoverflow.com/users/7978289/yusef-jacobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 1, "accepted_answer_id": 43902604, "answer_count": 4, "score": 4, "last_activity_date": 1494450221, "creation_date": 1494449490, "question_id": 43902523, "link": "https://stackoverflow.com/questions/43902523/print-the-value-of-a-column-in-a-dataframe-that-is-not-contained-in-another-data", "title": "Print the value of a column in a dataframe that is not contained in another dataframe", "body": "<p>I have two dataframes:</p>\n\n<pre><code>df1 = pd.DataFrame({'System':['b0001','b0002']})\ndf2 = pd.DataFrame({'System':['b0001']})\n</code></pre>\n\n<p>I want to print the value in column System of df1 that is NOT contained in column System of df2. The output should only be:</p>\n\n<pre><code>b0002\n</code></pre>\n\n<p>My current code is:</p>\n\n<pre><code>for i in df1.index:\n    if df1.System[i] not in df2.System:\n        print (df1.System[i])\n</code></pre>\n\n<p>But the output is:</p>\n\n<pre><code>b0001 \nb0002\n</code></pre>\n\n<p>I cant'f figure out why it still prints out <code>b0001</code>. I've tried with <code>isin</code> and the output is the same.</p>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 889, "user_id": 4782726, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/tOkR9.jpg?s=128&g=1", "display_name": "petr", "link": "https://stackoverflow.com/users/4782726/petr"}, "is_accepted": true, "score": 2, "last_activity_date": 1494449695, "creation_date": 1494449695, "answer_id": 43902577, "question_id": 43902446, "link": "https://stackoverflow.com/questions/43902446/beautifulsoup-find-without-class/43902577#43902577", "title": "BeautifulSoup find without class", "body": "<p>You should use <code>find</code> and <code>find_all</code> conversely. There is a single <code>holder_pagination</code>, so find that with <code>find</code>:</p>\n\n<pre><code>broj = corba.find(\"div\",{\"class\":\"holder_pagination\"})\n</code></pre>\n\n<p>Then use <code>find_all</code> to find all links:</p>\n\n<pre><code>links = broj.find_all(\"a\")\n</code></pre>\n\n<p>Now you have a list of links, so just select the second from last and you have it:</p>\n\n<pre><code>links[-2].text\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2116, "user_id": 6929467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8QLhMqjbYUU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZX1kiTbhsA5xQMiKWekx9fqT5Yw/photo.jpg?sz=128", "display_name": "Yono", "link": "https://stackoverflow.com/users/6929467/yono"}, "is_accepted": false, "score": 0, "last_activity_date": 1494522074, "last_edit_date": 1494522074, "creation_date": 1494512543, "answer_id": 43918142, "question_id": 43902446, "link": "https://stackoverflow.com/questions/43902446/beautifulsoup-find-without-class/43918142#43918142", "title": "BeautifulSoup find without class", "body": "<pre><code>soup = BeautifulSoup(a,'lxml') \n# a is your code above ...&lt;div class=\"holder_content\" style=\"margin-top:20px\"&gt;...\n\nbroj = soup.find(\"div\",{\"class\":\"holder_pagination\"})\nfind_next = broj.findAll('a',{'class':'next_prev_link'})[1]\nif find_next.text == 'Slede\u0107a \u00bb':\n    print(\"Ima sledece stranica (There's a next page)\")\nelse:\n    print(\"Nema sledece stranica (There's no next page)\")\n</code></pre>\n\n<p>Now instead of printing Ima sledeca strana what we can do is, get the href\nand do something with that Page, example:</p>\n\n<pre><code>broj = soup.find(\"div\",{\"class\":\"holder_pagination\"})\ntry:\n    find_next = broj.findAll('a',{'class':'next_prev_link'})[1]\nexcept Exception:\n    print(\"Doslo je do greske ili smo dosli do kraja, nismo mogli da pronadjemo SLEDECA - stranica\")\nif find_next.text == 'Slede\u0107a \u00bb':\n    print(\"Ima Sledeca strana(There's another page)\")\n    pozovemo_neku_funkciju_to_do_something()\n    # I sad mozemo da otvorimo sledecu stranu najbolje da napravis funkciju za ovo\n    # I kad otvorimo sledecu stranicu i kad prikupis sve te podatke i ostalo opet na kraju proveravamo da li ima sledeca\n    # I sve dok ima sledeca nastavljamo sa radnjom\nelse:\n    print(\"Nema sledece stranica (There's no next page)\")\n</code></pre>\n\n<p><em>I've written most of the code and the comments in Serbian since that's the best way for the questioner to understand, hopefully. If anyone else has any uncertainties, make sure to leave a comment.</em></p>\n"}], "owner": {"reputation": 133, "user_id": 7571023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BT0Gg.jpg?s=128&g=1", "display_name": "Dalibor", "link": "https://stackoverflow.com/users/7571023/dalibor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1644, "favorite_count": 0, "accepted_answer_id": 43902577, "answer_count": 2, "score": 2, "last_activity_date": 1494522074, "creation_date": 1494449147, "last_edit_date": 1494449252, "question_id": 43902446, "link": "https://stackoverflow.com/questions/43902446/beautifulsoup-find-without-class", "title": "BeautifulSoup find without class", "body": "<p>I have this html code (website is <code>www.kupindo.com</code>):</p>\n\n<pre><code>&lt;div class=\"holder_content\" style=\"margin-top:20px\"&gt;\n        &lt;div class=\"holder_pagination\"&gt;\n            &lt;a class=\"next_prev_link\" href=\"/Knjige/Strucna-literatura/Biznis-i-organizacija/artikli/61_strana_2\"&gt;\u00ab Prethodna&lt;/a&gt; \n            &lt;a href=\"/Knjige/Strucna-literatura/Biznis-i-organizacija/artikli/61\"&gt;1&lt;/a&gt; \n            &lt;span style=\"float:left\"&gt;...&lt;/span&gt;\n            &lt;a class=\"pagination_active_page\"&gt;3&lt;/a&gt; \n            &lt;span style=\"float:left\"&gt;...&lt;/span&gt;\n            &lt;a href=\"/Knjige/Strucna-literatura/Biznis-i-organizacija/artikli/61_strana_313\"&gt;313&lt;/a&gt; \n            &lt;a class=\"next_prev_link\" href=\"/Knjige/Strucna-literatura/Biznis-i-organizacija/artikli/61_strana_4\"&gt;Slede\u0107a \u00bb&lt;/a&gt;\n\n            &lt;form action=\"/Knjige/Strucna-literatura/Biznis-i-organizacija/artikli/61\" name=\"formPagination\" id=\"formPagination\" method=\"post\" style=\"width:170px\"&gt;\n                &lt;label&gt;Idi na stranu:&lt;/label&gt;\n                &lt;input name=\"iStr\" id=\"iStr\" class=\"textbox\" type=\"text\"&gt;\n                &lt;input name=\"butIdiNaStranu\" id=\"butIdiNaStranu\" value=\"Idi\" type=\"submit\"&gt;\n            &lt;/form&gt; \n         &lt;/div&gt;     \n&lt;/div&gt;\n</code></pre>\n\n<p>And I need to extract last page number (313) in order to iterate through all the pages. How can I do that when I don't have any class. \nI was just able to extract number for the first page using:</p>\n\n<pre><code>broj=corba.find_all(\"div\",{\"class\":\"holder_pagination\"})\n</code></pre>\n\n<p>and then using:</p>\n\n<pre><code>broj.find(\"a\").text \n</code></pre>\n\n<p>and when I do <code>len(broj)</code>, i get 1 (because there is just one holder_pagination, I know that).</p>\n"}, {"tags": ["python", "pandas", "scipy"], "comments": [{"owner": {"reputation": 2501, "user_id": 5371236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c45d6b2fc915b9333a4508ceebd7d1d?s=128&d=identicon&r=PG&f=1", "display_name": "matusko", "link": "https://stackoverflow.com/users/5371236/matusko"}, "edited": false, "score": 0, "creation_date": 1494450154, "post_id": 43902415, "comment_id": 74839192, "body": "which line produces the error?"}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "edited": false, "score": 0, "creation_date": 1494450791, "post_id": 43902415, "comment_id": 74839498, "body": "Whatever you&#39;re using to run your python script should be telling you exactly where the error is.  I deleted my previous comment because that wasn&#39;t the issue.  One thing I do notice is that you re-set your <code>index</code> within the loop to <code>x_data.index</code> which is redundant and is probably throwing off your last two lines of code where you&#39;re resetting the <code>index</code> again."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7993855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae8fecbe88a7b29150af0cf53f3f86cb?s=128&d=identicon&r=PG&f=1", "display_name": "cmoo", "link": "https://stackoverflow.com/users/7993855/cmoo"}, "edited": false, "score": 0, "creation_date": 1494512333, "post_id": 43903089, "comment_id": 74869293, "body": "Brilliant, thanks for providing such a useful and timely solution @matusko"}], "tags": [], "owner": {"reputation": 2501, "user_id": 5371236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c45d6b2fc915b9333a4508ceebd7d1d?s=128&d=identicon&r=PG&f=1", "display_name": "matusko", "link": "https://stackoverflow.com/users/5371236/matusko"}, "is_accepted": true, "score": 0, "last_activity_date": 1494452027, "creation_date": 1494452027, "answer_id": 43903089, "question_id": 43902415, "link": "https://stackoverflow.com/questions/43902415/indexerror-index-out-of-bounds-error-using-pandas-ix-in-a-scipy-function/43903089#43903089", "title": "IndexError: index out of bounds error using pandas .ix in a scipy function", "body": "<p>The error is produced on seventh iteration (<code>i=6</code>) in </p>\n\n<pre><code>popt, pcov = curve_fit(Func,x_data.ix[i],y_data.ix[j])\n</code></pre>\n\n<p>in evaluation of <code>Func</code></p>\n\n<pre><code>#my function\ndef Func(x_data,a,b,c,d):\n    return np.multiply((np.multiply((a+cols), b)),\n           (x_data.ix[i]/math.pi))+np.multiply((c+cols), d)\n</code></pre>\n\n<p>The problem is <code>x_data.ix[i]</code> since <code>x_data</code> passed to <code>Func</code> is <code>6x1</code> but <code>i=6</code>.</p>\n\n<p>I guess you forgot that you are already passing a single row to <code>Func</code> and therefore you should not slice it further, i.e. define </p>\n\n<pre><code>#my function\ndef Func(x_data,a,b,c,d):\n    return np.multiply((np.multiply((a+cols), b)),\n           (x_data/math.pi))+np.multiply((c+cols), d)\n</code></pre>\n\n<hr>\n\n<p>Also trying to run this, sooner or later you will get <code>RuntimeError: Optimal parameters not found: Number of calls to function has reached maxfev = 1000.</code> Therefore you need to increase <code>maxfev</code> i.e.</p>\n\n<pre><code>popt, pcov = curve_fit(Func,x_data.ix[i],y_data.ix[j], maxfev=10000)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7993855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae8fecbe88a7b29150af0cf53f3f86cb?s=128&d=identicon&r=PG&f=1", "display_name": "cmoo", "link": "https://stackoverflow.com/users/7993855/cmoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 43903089, "answer_count": 1, "score": 0, "last_activity_date": 1494452027, "creation_date": 1494449032, "question_id": 43902415, "link": "https://stackoverflow.com/questions/43902415/indexerror-index-out-of-bounds-error-using-pandas-ix-in-a-scipy-function", "title": "IndexError: index out of bounds error using pandas .ix in a scipy function", "body": "<p>In the following section of code, I continue to get an index out of bounds error and I can't for the life of me figure out why (none of the links on this site have helped me yet). What I want to do is apply my scipy curve_fit function (Func) to each row of data in x_data and y_data to get the a, b, c and d fit parameters. Can anyone see what I'm doing wrong? Thanks!</p>\n\n<pre><code>import pandas as pd\nfrom scipy.optimize import curve_fit\nimport numpy as np\nimport math\n\n#my function\ndef Func(x_data,a,b,c,d):\n    return np.multiply((np.multiply((a+cols), b)),\n           (x_data.ix[i]/math.pi))+np.multiply((c+cols), d)\n\n#create dummy dataframe\nindex=pd.date_range('2017-01-01','2017-03-01', freq='D')\ncolumns=['1.234','2.345','3.456','4.567','5.678','6.789']\n\ndata1 = np.random.rand(60,6)\ndata2 = np.random.rand(60,6)\n\nx_data=pd.DataFrame(data1, index=index, columns=columns)\ny_data=pd.DataFrame(data2, index=index, columns=columns)\n\n#values for function\ncols=np.array(x_data.columns.values).astype(np.float)   \n\n#Apply function to each row of x_data and y_data and append to empty array\ndata_popt=[]\ndata_perr=[]\nfor i, j in zip(range(0, len(x_data)), range(0, len(y_data))):\n    popt, pcov = curve_fit(Func,x_data.ix[i],y_data.ix[j])\n    data_popt.append(popt)\n    perr=np.sqrt(np.diag(pcov))\n    data_perr.append(perr)\n    index=x_data.index\n    columns1=['a','b','c','d']\n    columns2=['a_err','b_err','c_err','d_err']\ndata_popt=pd.DataFrame(data_popt, index=index, columns=columns1)\ndata_perr=pd.DataFrame(data_perr, index=index, columns=columns2)\n</code></pre>\n\n<p>P.s. I'm using python v 2.7.12 and pandas/scipy v 0.18.1</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1494449068, "post_id": 43902308, "comment_id": 74838637, "body": "What would you want it to look like?"}, {"owner": {"reputation": 1, "user_id": 7965211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a98bcbb6d52790c3670df5c4dc01a0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/7965211/travis"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1494449596, "post_id": 43902308, "comment_id": 74838904, "body": "Something like this: 2017-05-09 10:13:33.100"}], "answers": [{"tags": [], "owner": {"reputation": 3196, "user_id": 893159, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a6b495308482759d359eb97636fdccb0?s=128&d=identicon&r=PG", "display_name": "allo", "link": "https://stackoverflow.com/users/893159/allo"}, "is_accepted": false, "score": 1, "last_activity_date": 1494448989, "creation_date": 1494448989, "answer_id": 43902402, "question_id": 43902308, "link": "https://stackoverflow.com/questions/43902308/python-timestamp-in-precision-of-milliseconds/43902402#43902402", "title": "Python timestamp in precision of milliseconds", "body": "<p>A quick solution would be: </p>\n\n<pre><code>t=time.time()\nmillis = int((t - int(t))*1000)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "is_accepted": false, "score": 0, "last_activity_date": 1494614787, "last_edit_date": 1494614787, "creation_date": 1494449980, "answer_id": 43902651, "question_id": 43902308, "link": "https://stackoverflow.com/questions/43902308/python-timestamp-in-precision-of-milliseconds/43902651#43902651", "title": "Python timestamp in precision of milliseconds", "body": "<p>As you said, the problem is that <code>time</code> doesn't necessarily give you the precision you want[1]. <code>datetime</code> would be a better option:</p>\n\n<pre><code>from datetime import datetime\n\nnow = datetime.utcnow()  # or datetime.now(your_timezone)\nformatted = now.strftime(\"%Y-%m-%d %H:%M:%S.%f\")\nprint(formatted)\n</code></pre>\n\n<p>[1] Both in python 2.x and 3.x, according to <a href=\"https://docs.python.org/3/library/time.html#time.time\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>Note that even though the time is always returned as a floating point number, not all systems provide time with a better precision than 1 second. While this function normally returns non-decreasing values, it can return a lower value than a previous call if the system clock has been set back between the two calls.</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 7965211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a98bcbb6d52790c3670df5c4dc01a0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/7965211/travis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494614787, "creation_date": 1494448657, "last_edit_date": 1494449108, "question_id": 43902308, "link": "https://stackoverflow.com/questions/43902308/python-timestamp-in-precision-of-milliseconds", "title": "Python timestamp in precision of milliseconds", "body": "<p>I need to output a timestamp for a .csv file of the current time in milliseconds. Right now I have: </p>\n\n<pre><code>localTime = time.localtime(time.time())\nnow = time.localtime(time.time())\ncurrTime = time.time()\nnow = time.strftime(\"\\\"%Y-%m-%d %H:%M:%S.%f\\\"\", time.localtime(currTime))\n</code></pre>\n\n<p>doing it this way will output the timestamp in the following format:\n\"2017-05-09 10:13:33.%f\" this obviously is not correct. Ive heard that time.time only goes as precise as a second, but have also heard that it can support microseconds. Can somebody clear this up for me or show me the proper way to format this code to get a timestamp in the needed format? (2017-05-09 10:13:33.100) for example</p>\n"}, {"tags": ["python", "function", "arguments", "parameter-passing"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1494448389, "post_id": 43902231, "comment_id": 74838297, "body": "Because you&#39;re not passing the function, or calling it inside <code>do_n</code>. You&#39;re calling it once and passing in the result (which is <code>None</code>)."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1494448495, "post_id": 43902231, "comment_id": 74838341, "body": "Your function <code>do_n</code> doesn&#39;t not actually <i>call</i> the <code>function</code> argument. To call an object, you use <code>function()</code>, notice the parentheses. Just doing <code>function</code> evaluates to the function object, which doesn&#39;t get assigned to anything, and just gets discarded, and is essentially a useless line."}], "answers": [{"comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 1, "creation_date": 1494449072, "post_id": 43902399, "comment_id": 74838639, "body": "Ah, the exact same solution. :-)"}], "tags": [], "owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "is_accepted": false, "score": 1, "last_activity_date": 1494449970, "last_edit_date": 1494449970, "creation_date": 1494448985, "answer_id": 43902399, "question_id": 43902231, "link": "https://stackoverflow.com/questions/43902231/function-that-call-n-time-another-function-with-arguments/43902399#43902399", "title": "Function that call n time another function with arguments", "body": "<p>Your code is actually not passing <code>print_word(\"potato\")</code> (\"the 'call' to the <code>print_word</code>\") to <code>do_n</code>, but instead it's passing <code>None</code> since <code>print_word</code> returns <code>None</code>. Which means that the only time that <code>print_word</code> ran was at <code>do_n( print_word(\"potato\") , 5 )</code>. What you can do instead is use <code>functools.partial</code>, which returns a function with the args applied to it:</p>\n\n<pre><code>from functools import partial\n\ndef print_word(word):\n    print(word)\n    return # side note: the \"return\" isn't necessary \n\n\ndef do_n(function , n):\n    for i in range(n):\n       function() # call the function\n    return\n\ndo_n( partial(print_word,\"potato\") , 5)\n</code></pre>\n\n<p><a href=\"https://docs.python.org/2/library/functools.html#functools.partial\" rel=\"nofollow noreferrer\">functools.partial</a>:</p>\n\n<blockquote>\n  <p>Return a new partial object which when called will behave like func\n  called with the positional arguments args and keyword arguments\n  keywords. If more arguments are supplied to the call, they are\n  appended to args.</p>\n</blockquote>\n\n<p>Another way is to use a <code>lambda</code> statement or pass the argument separately:</p>\n\n<pre><code>def print_word(word):\n    print(word)\n    return # side note: the \"return\" isn't necessary \n\ndef do_n(function , n):\n    for i in range(n):\n       function() # call the function\n    return\n\ndo_n(lambda: print_word(\"potato\"), 5) # use the lambda\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>def print_word(word):\n    print(word)\n    return # side note: the \"return\" isn't necessary \n\n\ndef do_n(function , n, *args):\n    for i in range(n):\n       function(*args) # call the function\n    return\n\ndo_n(print_word, 5, \"potato\") # pass the argument of print_word as a separate arg\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": false, "score": 0, "last_activity_date": 1494449045, "creation_date": 1494449045, "answer_id": 43902420, "question_id": 43902231, "link": "https://stackoverflow.com/questions/43902231/function-that-call-n-time-another-function-with-arguments/43902420#43902420", "title": "Function that call n time another function with arguments", "body": "<p>To pass a function with arguments, you can either pass the arguments separately, or you can do a 'partial' application of the function, where you lock a number of variables. Here is such as solution to your problem, where I have 'partially' applied all variables. But, the function is still not <em>called</em> until the <code>function()</code> statement.</p>\n\n<pre><code>from functools import partial\n\ndef print_word(word):\n    print word\n    return\n\ndef do_n(function, n):\n    for i in range(n):\n        function()\n    return\n\nprint_potato = partial(print_word, potato)\n\ndo_n(print_potato, 5)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3089520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47176e802f46dba9ffa2c5e576422051?s=128&d=identicon&r=PG&f=1", "display_name": "user3089520", "link": "https://stackoverflow.com/users/3089520/user3089520"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494449970, "creation_date": 1494448330, "last_edit_date": 1494449525, "question_id": 43902231, "link": "https://stackoverflow.com/questions/43902231/function-that-call-n-time-another-function-with-arguments", "title": "Function that call n time another function with arguments", "body": "<p>why this code is printing once \"potato\" instead than 5 times ? </p>\n\n<pre><code>def print_word(word):\n    print word\n    return\n\n\ndef do_n(function , n):\n    for i in range(n):\n       function\n    return\n\ndo_n( print_word(\"potato\") , 5 )\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 6, "creation_date": 1494448409, "post_id": 43902214, "comment_id": 74838306, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, without these substitutions. We can&#39;t run this, nor do we know what logic you&#39;re using in the abbreviated parts."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494451137, "post_id": 43902214, "comment_id": 74839670, "body": "You said that each call to <code>b()</code> uses different <code>arg</code> and <code>*args</code>. Doesn&#39;t that mean that you&#39;re calling <code>a()</code> with different <code>arg</code>? So you can&#39;t reuse the value of <code>var</code>, because it could be different each time."}, {"owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "edited": false, "score": 0, "creation_date": 1494463806, "post_id": 43902214, "comment_id": 74843335, "body": "ill repost question with my code trimmed down which will take me a few hours. thanks for suggestions and replies."}, {"owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494464058, "post_id": 43902214, "comment_id": 74843401, "body": "@barmar that is exactly part of my problem, i have different values of var to pass to b() and that requires a() to be executed with according parametrs. In other words it would require at least 3 global variables to store returns without calling a() in the loop, unless i find better way. (i am under impression global variables are badf practice)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494464496, "post_id": 43902214, "comment_id": 74843489, "body": "Can you use a dict to store the different values, so you can look it up based on an input?"}, {"owner": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "edited": false, "score": 0, "creation_date": 1494471858, "post_id": 43902214, "comment_id": 74845135, "body": "Is each call to <code>b</code> in the loop different for just the 3 calls or every iteration? So two loops is 6 calls with 3 different or 6 calls with all 6 different?"}, {"owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "edited": false, "score": 0, "creation_date": 1494495068, "post_id": 43902214, "comment_id": 74856427, "body": "@ aryamccarthy i hope after edit question is better, if i should improve anything else pls let me know, i for sure wouldnt wish to drag down quality of this site"}, {"owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494495200, "post_id": 43902214, "comment_id": 74856532, "body": "@Barmar if i dont find a better soluition i will use a dict but where would you suggest i declare it first?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494495250, "post_id": 43902214, "comment_id": 74856573, "body": "It probably has to be a global variable. Or you could define a class, then it could be a class property."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "edited": false, "score": 0, "creation_date": 1494463585, "post_id": 43902945, "comment_id": 74843289, "body": "I tried this already however a is still being called from inside the loop and running over and over unnecessarly. Sorry for unprecise question and thanks for your reply, i will most likly delete this and trim my code down then paste it so people can run it and evaluate it accordingly."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "edited": false, "score": 0, "creation_date": 1494464430, "post_id": 43902945, "comment_id": 74843475, "body": "@codeprimate123 But now it&#39;s only being called once per loop, not 3 times per loop."}, {"owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1494488392, "post_id": 43902945, "comment_id": 74851942, "body": "@Barmar i need 3 different vars so it has to be like:   var1=a(list, arg1); var2=a(list, arg2); var3=a(list, arg3) eventually it gets called 3 times per loop"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "edited": false, "score": 0, "creation_date": 1494488535, "post_id": 43902945, "comment_id": 74852026, "body": "@codeprimate123 Don&#39;t put clarifications in the comments, edit the question so we can understand what you&#39;re really doing. It&#39;s very confusing right now."}], "tags": [], "owner": {"reputation": 1, "user_id": 7993511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ad48120eeb06e0dcbf438e231bbb9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pseudonymous", "link": "https://stackoverflow.com/users/7993511/pseudonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1494451422, "creation_date": 1494451422, "answer_id": 43902945, "question_id": 43902214, "link": "https://stackoverflow.com/questions/43902214/how-to-avoid-unnecessary-looping-when-passing-variables-from-one-function-to-ano/43902945#43902945", "title": "How to avoid unnecessary looping when passing variables from one function to another", "body": "<p>It is rather difficult to understand what your code is doing because so much of it is replaced with unhelpfully vague comments. Nonetheless -</p>\n\n<p>In your 'sub-optimal' solution, you're passing <code>a</code> as an argument to <code>b</code> just so you can call <code>a</code> within the function and assign its returned value to the local variable <code>var</code>. This is terribly inefficient, especially since you say the value <code>a</code> returns doesn't change. A solution that avoids global variables would be:</p>\n\n<pre><code>def a(list, arg):\n    return another_list\n\ndef b(_list, arg, a_value, *args):\n    # Your code here #\n    return _list\n\ndef Main(list): \n    while some_function():\n        var=a(_list, arg)\n        b(_list, arg, var, *args)\n        b(_list, arg, var, *args)\n        b(_list, arg, var, *args)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "edited": false, "score": 0, "creation_date": 1494500148, "post_id": 43912521, "comment_id": 74859982, "body": "I modified lastSquareFill to take poss_col then declared lcp = [lastColumnsPossibilities(sudoku, i) for i in range(3)] but then i got IndexError: pop from empty list. After examination i saw that lastSquareFill  empties the poss_col even thou it it does plist.pop(). Could it be that instead of instancing new list (plist) it just &#39;&#39;moves pointer&#39;&#39; to poss_col[0] and then pops from there leaving me without arguments for next loop? Could i have done something wrong on this simple modification?"}, {"owner": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "reply_to_user": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "edited": false, "score": 0, "creation_date": 1494505361, "post_id": 43912521, "comment_id": 74863664, "body": "No, that is what happens whenever you pop from it. You will instead need to keep making a copy of it then in <code>lastSquareFill</code>. I&#39;ll update answer."}, {"owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "edited": false, "score": 0, "creation_date": 1494511012, "post_id": 43912521, "comment_id": 74868218, "body": "It works and now instead of recalculating the value in the loop i just copy it which is much more efficient. Thank you very much!"}], "tags": [], "owner": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "is_accepted": true, "score": 1, "last_activity_date": 1494506768, "last_edit_date": 1494506768, "creation_date": 1494497568, "answer_id": 43912521, "question_id": 43902214, "link": "https://stackoverflow.com/questions/43902214/how-to-avoid-unnecessary-looping-when-passing-variables-from-one-function-to-ano/43912521#43912521", "title": "How to avoid unnecessary looping when passing variables from one function to another", "body": "<p>With the question edit it really clarifies the issue at hand, so I believe this is what you are after.</p>\n\n<p>I modified <code>lastSquareFill</code> to take <code>poss_col</code> removing the call to it instead.</p>\n\n<pre><code>def lastSquareFill(slist, n_of_square, poss_col, ff, fs, ft, \n                   sf, ss, st, tf, ts, tt):\n    plist = poss_col[0]\n    shuffle(plist)\n    ...\n</code></pre>\n\n<p>I then moved the call to outside the while loop creating a list of each <code>lastColumnsPossibilities</code>, you could also have a variable for each one, but I find this cleaner.</p>\n\n<pre><code># Variable for each\nlcp0 = lastColumnsPossibilities(sudoku, 0)\nlcp1 = lastColumnsPossibilities(sudoku, 1)\n...\n</code></pre>\n\n<hr>\n\n<pre><code>def testLoop(slist):\n    print('test')\n    # Create list of each lastColumnsPossibilities\n    # range(3) is used to match the 3 calls, but you will likely have 9 for sudoku\n    lcp = [lastColumnsPossibilities(sudoku, i) for i in range(3)]\n    while (checkRow(slist, 6) != True\n           or checkRow(slist, 7) != True\n           or checkRow(slist, 8) != True):\n        print('loop')\n        lastSquareFill(sudoku, 0, lcp[0], *sq_pos[6])\n        lastSquareFill(sudoku, 1, lcp[1], *sq_pos[7])\n        lastSquareFill(sudoku, 2, lcp[2], *sq_pos[8])\n</code></pre>\n\n<hr>\n\n<p>This produces the following output, </p>\n\n<pre><code>test\nin lastColumnsPossibilities\nin lastColumnsPossibilities\nin lastColumnsPossibilities\nloop\nloop\n</code></pre>\n\n<hr>\n\n<p>If however you want it to enter the loop first to avoid processing without the check then you can use a dict (list can still work but a dict would be more optimal)</p>\n\n<pre><code>def lastSquareFill(slist, n_of_square, lcp, ff, fs, ft, \n                   sf, ss, st, tf, ts, tt):\n\n\n    # if they don't exist create them and add to the dict\n    if n_of_square not in lcp:      \n        lcp[n_of_square] = lastColumnsPossibilities(slist, n_of_square)\n\n    poss_col = lcp[n_of_square]\n    plist = poss_col[0]\n    shuffle(plist)\n    ...\n\ndef testLoop(slist):\n    print('test')\n    lcp = {} # dict to hold all the lastColumnsPossibilities mapped to the square number\n    while (checkRow(slist, 6) != True\n           or checkRow(slist, 7) != True\n           or checkRow(slist, 8) != True):\n        print('loop')\n        lastSquareFill(sudoku, 0, lcp, *sq_pos[6])\n        lastSquareFill(sudoku, 1, lcp, *sq_pos[7])\n        lastSquareFill(sudoku, 2, lcp, *sq_pos[8])\n</code></pre>\n\n<p>Which then gives</p>\n\n<pre><code>test\nloop\nin lastColumnsPossibilities\nin lastColumnsPossibilities\nin lastColumnsPossibilities\nloop\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>In <code>lastSquareFill</code> you need to take a copy <code>[:]</code> of the list so that it doesn't affect the original list when you pop the values.</p>\n\n<pre><code># make a copy instead\nplist = poss_col[0][:] \ndlist = poss_col[1][:]\ntlist = poss_col[2][:]\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 7993478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1C1Ag.jpg?s=128&g=1", "display_name": "codeprimate123", "link": "https://stackoverflow.com/users/7993478/codeprimate123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 43912521, "answer_count": 2, "score": -1, "last_activity_date": 1494506768, "creation_date": 1494448240, "last_edit_date": 1494494438, "question_id": 43902214, "link": "https://stackoverflow.com/questions/43902214/how-to-avoid-unnecessary-looping-when-passing-variables-from-one-function-to-ano", "title": "How to avoid unnecessary looping when passing variables from one function to another", "body": "<p>As requested im posting part of  actual code, my intention is to learn and practice programming on the example of constructing sudoku squares, most of the code has been omitted but this below should be runnable and represents my problem. Since the code is allready here ill happily take suggestions about improving anything but main question is still how to avoid loopin unnecessarily:</p>\n\n<pre><code>from random import shuffle\n#for brevity ill omit how i got to this point\nsudoku =[6,1,9,3,2,8,5,4,7,2,5,7,6,9,4,3,1,8,4,3,8,7,1,5,2,6,9,5,8,6,1,4,\n          3,9,7,2,3,9,1,2,8,7,6,5,4,7,4,2,9,5,6,1,8,3,None,None,None,None,\n          None,None,None,None,None,None,None,None,None,None,None,None,None,\n          None,None,None,None,None,None,None,None,None,None]\n\n#provides args for list indexing to help satisfy sudoku sub-square rule\nsq_pos = [(0, 1, 2, 9, 10, 11, 18, 19, 20),\n          (3, 4, 5, 12, 13, 14, 21, 22, 23),\n          (6, 7, 8, 15, 16, 17, 24, 25, 26),\n          (27, 28, 29, 36, 37, 38, 45, 46, 47),\n          (30, 31, 32, 39, 40, 41, 48, 49, 50),\n          (33, 34, 35, 42, 43, 44, 51, 52, 53),\n          (54, 55, 56, 63, 64, 65, 72, 73, 74),\n          (57, 58, 59, 66, 67, 68, 75, 76, 77),\n          (60, 61, 62, 69, 70, 71, 78, 79, 80)]\n\n#this function finds allowed numbers for each column\ndef lastColumnsPossibilities(slist, n_of_square):\n    poss_col = []\n    print('in lastColumnsPossibilities')\n    for j in range(n_of_square*3, 3*n_of_square + 3):\n        col = []\n        pcol = []\n        for i in range(j, j + 46, 9):\n            col.append(slist[i])\n        for k in range(1,10):                \n            if k not in col:\n                pcol.append(k)\n        poss_col.append(pcol)\n    return poss_col\n\n#this function uses allowed numbers output by previous one\ndef lastSquareFill(slist, n_of_square, ff, fs, ft, \n                   sf, ss, st, tf, ts, tt):\n    poss_col = lastColumnsPossibilities(slist, n_of_square)\n    plist = poss_col[0]\n    shuffle(plist)\n    slist[ff] = plist.pop()\n    slist[sf] = plist.pop()\n    slist[tf] = plist.pop()\n    dlist = poss_col[1]\n    shuffle(dlist)\n    slist[fs] = dlist.pop()\n    slist[ss] = dlist.pop()\n    slist[ts] = dlist.pop()\n    tlist = poss_col[2]\n    shuffle(tlist)\n    slist[ft] = tlist.pop()\n    slist[st] = tlist.pop()\n    slist[tt] = tlist.pop()\n\n#this function provides condition according to sudoku rules\ndef checkRow(slist, rn):\n    row = []\n    for i in range(rn * 9, rn * 9 + 9):\n        row.append(slist[i])\n    if len(set(row)) == 9:\n        return True\n    else:\n        return False\n\n#my actual loop is ofc longer, but instead of posting everything i \n#provided list sudoku that is 2/3 filled\ndef testLoop(slist):\n    print('test')\n    while (checkRow(slist, 6) != True\n           or checkRow(slist, 7) != True\n           or checkRow(slist, 8) != True):\n        print('loop')\n        lastSquareFill(sudoku, 0, *sq_pos[6])\n        lastSquareFill(sudoku, 1, *sq_pos[7])\n        lastSquareFill(sudoku, 2, *sq_pos[8])\n\ntestLoop(sudoku)\n</code></pre>\n\n<p>output i get is:</p>\n\n<pre><code>loop\nin lastColumnsPossibilities\nin lastColumnsPossibilities\nin lastColumnsPossibilities \nloop\nin lastColumnsPossibilities\nin lastColumnsPossibilities\nin lastColumnsPossibilities   #this repeats over and over\n</code></pre>\n\n<p>output i want would be:</p>\n\n<pre><code>loop\nin lastColumnsPossibilities\nin lastColumnsPossibilities\nin lastColumnsPossibilities \nloop\nloop                         #only loop till solution is found\n</code></pre>\n\n<p>My original question was and still is how to not do the useless cycling without introducing new global variables (which is a bad practice i ve been told). As a beginner ill gladly accept any other advice considering my code and my questions posting. Sorry for previously bad question, its my first one...</p>\n"}, {"tags": ["python", "binary-tree", "pass-by-reference"], "comments": [{"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 4, "creation_date": 1494447999, "post_id": 43902122, "comment_id": 74838095, "body": "You will get better and faster answers if you produce a minimal example of the problem, without all the unrelated logic around it. If you&#39;re unsure about your DFS implementation, post that as a separate question"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 4, "creation_date": 1494448082, "post_id": 43902122, "comment_id": 74838143, "body": "You can&#39;t pass variables by reference in Python. In fact, you never pass variables around at all; you can only pass objects."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1494448141, "post_id": 43902122, "comment_id": 74838171, "body": "Technically, Python does not support pass-by-reference semantics."}, {"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 1, "creation_date": 1494448161, "post_id": 43902122, "comment_id": 74838182, "body": "You&#39;re using <code>T</code>, an int variable, as a boolean flag. Just use <code>True</code> and <code>False</code>."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1494448198, "post_id": 43902122, "comment_id": 74838207, "body": "@user2357112 you assign objects to names"}, {"owner": {"reputation": 618, "user_id": 3716006, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4ae194aa9fda4c8ba78b8d5533bbedb2?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3716006/michael"}, "edited": false, "score": 0, "creation_date": 1494448519, "post_id": 43902122, "comment_id": 74838354, "body": "Passing variables by reference is actually though to a limited extent. Robert Heaton nicely elaborates this in this article <a href=\"http://robertheaton.com/2014/02/09/pythons-pass-by-object-reference-as-explained-by-philip-k-dick/\" rel=\"nofollow noreferrer\">robertheaton.com/2014/02/09/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 618, "user_id": 3716006, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4ae194aa9fda4c8ba78b8d5533bbedb2?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3716006/michael"}, "edited": false, "score": 1, "creation_date": 1494448818, "post_id": 43902122, "comment_id": 74838520, "body": "@Michael that&#39;s a broken link, but I&#39;ve read that article before, and it does not make the case that pass-by-reference is possible in Python, rather, it explains the <i>difference</i> between Python&#39;s evaluation strategy and call-by-reference. This evaluation strategy is sometimes called &quot;pass by object reference&quot;, sometimes &quot;pass by assignment&quot;, although technically it is <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing\" rel=\"nofollow noreferrer\">call by sharing</a>. In any event, it is <i>not the same as call-by-reference</i>. If call-by-reference was possible in Python, you could write a <code>swap</code> function."}], "answers": [{"tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 2, "last_activity_date": 1494448694, "last_edit_date": 1494448694, "creation_date": 1494448355, "answer_id": 43902240, "question_id": 43902122, "link": "https://stackoverflow.com/questions/43902122/passing-variable-by-reference-in-python/43902240#43902240", "title": "Passing variable by reference in python", "body": "<p>Your problem is the the value of <code>c</code> is not saved. While inside of your recursive calls, the value of <code>c</code> is correctly set to <code>3</code>. But when control flow begins to move back up the recursive stack, the value of <code>c</code> is lost. To fix this, you can make <code>c</code> an attribute of <code>Solutions</code>. That way, the value of <code>c</code> can be saved through out your recursive calls.</p>\n\n<pre><code>def longestConsecutive(self, root, count=0):\n        \"\"\"\n        :type root: TreeNode\n        :rtype: int\n        \"\"\"\n        self.c = count # make c an attribute of Solution.\n        if root:\n            self.c = max(self.c, self.DFS(root))\n            self.longestConsecutive(root.left, self.c)\n            self.longestConsecutive(root.right, self.c)\n        return self.c\n</code></pre>\n\n<p>Which has the output:</p>\n\n<pre><code>3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2931, "user_id": 1342257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xitxS.jpg?s=128&g=1", "display_name": "Nikolas Stevenson-Molnar", "link": "https://stackoverflow.com/users/1342257/nikolas-stevenson-molnar"}, "is_accepted": false, "score": 3, "last_activity_date": 1494448414, "creation_date": 1494448414, "answer_id": 43902257, "question_id": 43902122, "link": "https://stackoverflow.com/questions/43902122/passing-variable-by-reference-in-python/43902257#43902257", "title": "Passing variable by reference in python", "body": "<p>You're returning <code>count</code> from the <code>longestConsecutive</code> method but not assigning it to anything. Try this instead:</p>\n\n<pre><code>def longestConsecutive(self, root, count=0):\n    \"\"\"\n    :type root: TreeNode\n    :rtype: int\n    \"\"\"\n    c = count\n    if root:\n        c = max(c, self.DFS(root))\n        c = self.longestConsecutive(root.left, c)\n        c = self.longestConsecutive(root.right, c)\n    return c\n</code></pre>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494448694, "creation_date": 1494447921, "last_edit_date": 1494448014, "question_id": 43902122, "link": "https://stackoverflow.com/questions/43902122/passing-variable-by-reference-in-python", "title": "Passing variable by reference in python", "body": "<p>I am practicing a leetcode question and I am having trouble updating my variable. I think I am not passing my reference correctly. I am expecting the answer to be 3 but I am getting 1. I ran through the code and the answer 3 is achieved but when i jump back out of my recursion I am getting 1. </p>\n\n<p>The goal is the find the longest consecutive chain of nodes in a binary tree.</p>\n\n<p>ex:</p>\n\n<pre><code>1\n \\\n  3\n / \\\n2   4\n     \\\n      5\n</code></pre>\n\n<p>Answer would be 3 --> 3,4,5</p>\n\n<p>Below is the runnable code:</p>\n\n<pre><code>class Node(object):\n    def __init__(self, x):\n        self.val = x\n        self.left = None\n        self.right = None\n\nclass Solution(object):\n    def DFS(self, root):\n        count = 0\n        if root:\n            count += 1\n            q = [root]\n            while q:\n                n = q.pop()\n                T = 0\n                if n.left:\n                    if n.left.val == n.val + 1:\n                        q.append(n.left)\n                        T = 1\n                if n.right:\n                    if n.right.val == n.val + 1:\n                        q.append(n.right)\n                        T = 1\n                if T:\n                    count += 1\n        return count\n\n    def longestConsecutive(self, root, count=0):\n        \"\"\"\n        :type root: TreeNode\n        :rtype: int\n        \"\"\"\n        c = count\n        if root:\n            c = max(c, self.DFS(root))\n            self.longestConsecutive(root.left, c)\n            self.longestConsecutive(root.right, c)\n        return c\n\na = Node(1)\nb = Node(3)\nc = Node(2)\nd = Node(4)\ne = Node(5)\n\na.right = b\nb.left = c; b.right = d\nd.right = e\n\npoop = Solution()\nprint(poop.longestConsecutive(a))\n</code></pre>\n"}, {"tags": ["python", "networking", "recv"], "comments": [{"owner": {"reputation": 373, "user_id": 6557808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd09ba6397b50e1943935aadd08974c9?s=128&d=identicon&r=PG&f=1", "display_name": "Sylogista", "link": "https://stackoverflow.com/users/6557808/sylogista"}, "edited": false, "score": 0, "creation_date": 1494448019, "post_id": 43902075, "comment_id": 74838109, "body": "Maybe that&#39;s because of that loop? It&#39;s just like foreach with data.pop (I&#39;m really not sure about this, but sounds legit)."}, {"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 1, "creation_date": 1494448197, "post_id": 43902075, "comment_id": 74838205, "body": "Some problems may prevent good answers to your question. The loop is confusing. We don&#39;t see how the <code>continue</code> variable is controlled. <code>try-pass</code> also hides any potential errors. You&#39;re overwriting the <code>message</code> variable in each loop iteration. <code>connexion</code>, we <i>assume</i> it&#39;s a socket object. <code>Utf8</code> doesn&#39;t look valid, it probably should be <code>utf-8</code>. It&#39;s very difficult to find the problem with this piece of code, try to produce a smaller example with less factors. The documentation of <code>recv</code> contradicts what you say is happening, so all these other factors may be obscuring the problem"}, {"owner": {"reputation": 413, "user_id": 5370652, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9f3dde348a2ca993373b7c6aa66cdf5c?s=128&d=identicon&r=PG&f=1", "display_name": "user54", "link": "https://stackoverflow.com/users/5370652/user54"}, "edited": false, "score": 0, "creation_date": 1494448398, "post_id": 43902075, "comment_id": 74838298, "body": "I think this post will be probably useful for you: <a href=\"http://stackoverflow.com/questions/7174927/when-does-socket-recvrecv-size-return\" title=\"when does socket recvrecv size return\">stackoverflow.com/questions/7174927/&hellip;</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1494448576, "post_id": 43902075, "comment_id": 74838386, "body": "It&#39;s not actually possible to have a <code>self.continue</code> attribute, because <code>continue</code> is a keyword."}], "owner": {"reputation": 1, "user_id": 7993930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63bdc797161da9f43a2d7dd33ee50e67?s=128&d=identicon&r=PG&f=1", "display_name": "vayune", "link": "https://stackoverflow.com/users/7993930/vayune"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494496100, "creation_date": 1494447762, "last_edit_date": 1494496100, "question_id": 43902075, "link": "https://stackoverflow.com/questions/43902075/strange-behaviour-with-recv-method-in-python", "title": "Strange behaviour with recv() method in Python", "body": "<p>I'm working on a network program in Python. It works well but I don't understand why.<br>\nHere's a part of my main loop :  </p>\n\n<pre><code>while self.continue :\n        message = \"\"\n        try :\n            message = self.connexion.recv(1024).decode(\"utf-8\")\n        except :\n            pass\n</code></pre>\n\n<p>What is troubling to me is that the <code>recv(1024)</code> instruction should return a limited number of characters (1024 at most I imagine).<br>\nBut it always returns the entire message even if his length is higher than 1024.  </p>\n\n<p>Can anyone tell me why?</p>\n"}, {"tags": ["python", "pandas", "sparse-matrix"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1494448825, "post_id": 43902042, "comment_id": 74838523, "body": "what is your Pandas version?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1494449292, "post_id": 43902042, "comment_id": 74838760, "body": "This is bit unusal usage of CountVectorizer... What is <code>categorical_labels</code>?"}, {"owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1494449629, "post_id": 43902042, "comment_id": 74838926, "body": "@MaxU the categorical labels are the labels that are categories. My data is mixed, some columns are numerical, some are categories, some are lists of numbers, and some are categories in a list: such as the column drug and in each cell would be a list of drugs"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1494450753, "post_id": 43902042, "comment_id": 74839481, "body": "I don&#39;t understand why are you calling <code>CounterVectorizer</code> and <code>vect.fit_transform</code> multiple times in loop..."}, {"owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1494450978, "post_id": 43902042, "comment_id": 74839587, "body": "@MaxU sorry this should not be there it was a programming error. I just had to get the code out quick."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1494451212, "post_id": 43902042, "comment_id": 74839701, "body": "if all DF&#39;s that you want to ncatenate are SparseDataFrames (or at least have only supported for sparse matrixes dtypes) - you can use  <code>sparse.hstack()</code> method - see example in my answer"}], "answers": [{"comments": [{"owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "edited": false, "score": 0, "creation_date": 1494448832, "post_id": 43902108, "comment_id": 74838529, "body": "Ah, this could be why"}, {"owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "edited": false, "score": 0, "creation_date": 1494452232, "post_id": 43902108, "comment_id": 74840155, "body": "So lets say I want to concatenate these sparse dataframes with one data frame that isnt sparse the correct way is to use the hstack?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "edited": false, "score": 0, "creation_date": 1494452502, "post_id": 43902108, "comment_id": 74840261, "body": "@Kevin, it&#39;ll work only for supported (for sparsed matrixes) dtypes. Are you sure you need to concatenate sparsed data with regular DF? If it&#39;s absolutely necessarry you can add columns from regular DF to SparseDataFrame one-by-one in a loop - this should not explode sparsed columns to dense"}, {"owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "edited": false, "score": 0, "creation_date": 1494452835, "post_id": 43902108, "comment_id": 74840395, "body": "ah interesting, The only reason I am doing this is is because some of my data is not one hot encoded. they are just numbers. I guess I could just convert that other dataframe into a sparse df"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "edited": false, "score": 0, "creation_date": 1494453019, "post_id": 43902108, "comment_id": 74840478, "body": "<code>sparse.hstack([...])</code> should work for regular DFs if they have <code>int64</code> columns"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1494451854, "last_edit_date": 1494451854, "creation_date": 1494447892, "answer_id": 43902108, "question_id": 43902042, "link": "https://stackoverflow.com/questions/43902042/python-pandas-dataframe-concatenation-balloons-in-memory/43902108#43902108", "title": "Python - Pandas dataframe concatenation Balloons in memory", "body": "<p>AFAIK <code>pd.concat([...])</code> generates a new <strong>regular</strong> (not sparsed) DataFrame.</p>\n\n<p>Consider the following example (I used Pandas <strong>0.20.1</strong>):</p>\n\n<p>source DFs:</p>\n\n<pre><code>In [118]: df\nOut[118]:\n                                                text\n0  With free-text, each letter is actually an ind...\n1                As far as the computer is concerned\n2  no individual letter or number has any relatio...\n\nIn [119]: another\nOut[119]:\n    a   b   c\n0  10  23  87\n1  12  45  32\n2  14  76  89\n</code></pre>\n\n<p>Let's one-hot-encode the text:</p>\n\n<pre><code>from sklearn.feature_extraction.text import CountVectorizer\n\nvect = CountVectorizer(stop_words='english')\n\n# one-hot-encoded\n# for Pandas version &lt; 0.20.1 use: vect.fit_transform(df.text).A\nohe = pd.SparseDataFrame(vect.fit_transform(df.text),\n                         columns=vect.get_feature_names(),\n                         index=df.index,\n                         default_fill_value=0)\n</code></pre>\n\n<p>Result - SparseDataFrame (pay attention at memory usage):</p>\n\n<pre><code>In [127]: ohe\nOut[127]:\n   actually  computer  concerned  far  free  independent  individual  letter  number  object  relationship  text\n0         1         0          0    0     1            1           0       1       0       1             0     1\n1         0         1          1    1     0            0           0       0       0       0             0     0\n2         0         0          0    0     0            0           1       2       2       0             1     0\n\nIn [128]: ohe.memory_usage()\nOut[128]:\nIndex           80\nactually         8\ncomputer         8\nconcerned        8\nfar              8\nfree             8\nindependent      8\nindividual       8\nletter          16\nnumber           8\nobject           8\nrelationship     8\ntext             8\ndtype: int64\n</code></pre>\n\n<p>let's concatenate this SparseDataFrame with source DFs (regular ones):</p>\n\n<pre><code>In [129]: r = pd.concat([another, df, ohe], axis=1)\n\nIn [130]: r\nOut[130]:\n    a   b   c                                               text  actually  computer  concerned  far  free  independent  individual  \\\n0  10  23  87  With free-text, each letter is actually an ind...         1         0          0    0     1            1           0\n1  12  45  32                As far as the computer is concerned         0         1          1    1     0            0           0\n2  14  76  89  no individual letter or number has any relatio...         0         0          0    0     0            0           1\n\n   letter  number  object  relationship  text\n0       1       0       1             0     1\n1       0       0       0             0     0\n2       2       2       0             1     0\n\nIn [131]: r.memory_usage()\nOut[131]:\nIndex           80\na               24\nb               24\nc               24\ntext            24\nactually        24\ncomputer        24\nconcerned       24\nfar             24\nfree            24\nindependent     24\nindividual      24\nletter          24\nnumber          24\nobject          24\nrelationship    24\ntext            24\ndtype: int64\n</code></pre>\n\n<p><strong>NOTE:</strong> <code>pd.concat()</code> has created a new regular DataFrame, so all \"sparsed\" columns got densed...</p>\n\n<p>for purely numeric SparseDataFrames or SparseArrays we can use <a href=\"https://docs.scipy.org/doc/scipy-0.19.0/reference/generated/scipy.sparse.hstack.html\" rel=\"nofollow noreferrer\">scipy.sparse.hstack([...])</a>:</p>\n\n<pre><code>In [149]: from scipy import sparse\n\nIn [150]: r = pd.SparseDataFrame(sparse.hstack([ohe, another]), \n                                 columns=ohe.columns.append(another.columns))\n\nIn [151]: r.memory_usage()\nOut[151]:\nIndex           80\nactually         8\ncomputer         8\nconcerned        8\nfar              8\nfree             8\nindependent      8\nindividual       8\nletter          16\nnumber           8\nobject           8\nrelationship     8\ntext             8\na               24\nb               24\nc               24\ndtype: int64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "edited": false, "score": 0, "creation_date": 1494448807, "post_id": 43902150, "comment_id": 74838513, "body": "I have added what my indices are"}], "tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": false, "score": 2, "last_activity_date": 1494448001, "creation_date": 1494448001, "answer_id": 43902150, "question_id": 43902042, "link": "https://stackoverflow.com/questions/43902042/python-pandas-dataframe-concatenation-balloons-in-memory/43902150#43902150", "title": "Python - Pandas dataframe concatenation Balloons in memory", "body": "<p>I suspect your dataframes do not share indices, and thus you're building a much larger dataframe than you anticipate.</p>\n\n<p>For example, consider the following:</p>\n\n<pre><code>df1 = pd.DataFrame({'x': [1, 2, 3]}, index=[0, 1, 2])\ndf2 = pd.DataFrame({'y': [2, 4, 6]}, index=[3, 4, 5])\n\nprint(pd.concat([df1, df2], axis=1))\n     x    y\n0  1.0  NaN\n1  2.0  NaN\n2  3.0  NaN\n3  NaN  2.0\n4  NaN  4.0\n5  NaN  6.0\n</code></pre>\n\n<p>Here we are joining two dataframes, and the result is 4x as large as the inputs because the indices are not shared. For your 7 dataframes, it's possible to have a concatenated result that is ~50x larger than the size of the inputs if none of the indices are shared.</p>\n\n<p>Without more information I can't be certain that's what's happening in your case, but that is where I would start investigating.</p>\n"}], "owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 43902108, "answer_count": 2, "score": 2, "last_activity_date": 1494451854, "creation_date": 1494447604, "last_edit_date": 1494450464, "question_id": 43902042, "link": "https://stackoverflow.com/questions/43902042/python-pandas-dataframe-concatenation-balloons-in-memory", "title": "Python - Pandas dataframe concatenation Balloons in memory", "body": "<p>My original dataset is a large list of JSON objects for an adverse reaction to a drug(s). In each JSON object we can have several drugs that give an adverse reaction in the form of rxcui ids.</p>\n\n<p>I have taken the list of JSON objects and extracted the important data we need such as if the person died, and the rxcui and flattened them to a JSON object that is at max 2 levels deep. We would have something like this:</p>\n\n<pre><code>{\n  \"serious\": 1,\n  \"drug\": [\n    \"DrugA\",\n    \"DrugB\",\n    \"DrugC\"\n  ],\n  \"rxcui\": [\n    100,\n    200,\n    300\n  ]\n}\n</code></pre>\n\n<p>As we can I have to figure out how I can make this in to an array I can feed to a ML algorithm. So My idea is to use one-hot encoding.</p>\n\n<p>This is why I am using the countVectorizer so I can vectorize all of these sub lists</p>\n\n<p>I am trying to concatenate several pandas dataframes (some are sparse dataframes and some are regular) which are onehot encodings of some data. I have checked all of the files (I also pickled them on to the hard disk) and none are larger than 81MB. But as soon as I start to concatenating them they blowup to over 29 GB. How is that possible?</p>\n\n<p>All of my df look like this:</p>\n\n<pre><code>Label0  Label1  Label2  Label3...  Label999\n1       1       0       0     ...  0\n1       1       0       1     ...  1\n.\n.\n.\n</code></pre>\n\n<p>I run concat like this:</p>\n\n<pre><code>x = pandas.concat([x, drugcharacterization, occurcountry, reactionmeddrapt, reactionmeddraversionpt, reactionoutcome, rxcui],axis=1, copy=False)\n</code></pre>\n\n<p>I can also fit all of the sub dataframes I am trying to concatenate easily in memory. Any reason why it blows up once I do this?</p>\n\n<p><strong>edit:</strong>\nHere is how I am getting my dataframes. As we can see I cant create a sparse matrix of one of them, it gives me an error:</p>\n\n<blockquote>\n<pre><code>raise ValueError(\"empty vocabulary; perhaps the documents only contain stop words\")\n</code></pre>\n</blockquote>\n\n<pre><code>import pandas\nfrom sklearn.feature_extraction.text import CountVectorizer    \nrr = pandas.DataFrame()\nfor col in categorical_labels:\n    print col\n    try:\n        vect = CountVectorizer()\n        X = vect.fit_transform(z[col].astype(str).map(lambda x: ' '.join(x) if isinstance(x, list) else x))\n        r = pandas.SparseDataFrame(X, columns=vect.get_feature_names(), index=z.index, default_fill_value=0).add_prefix(col + ' = ')\n        r.to_pickle(col + '_subarr.pkl')\n    except:\n        r = z[col].astype(str).str.strip('[]').str.get_dummies(', ').add_prefix(col + ' = ')\n        r.to_pickle(col + '_subarr.pkl')\n\n    rr = pandas.concat([rr,r], axis=1)\n</code></pre>\n\n<p><strong>and here are their indecies:</strong></p>\n\n<pre><code>drugcharacterization.index\nOut[13]: RangeIndex(start=0, stop=234372, step=1)\n\noccurcountry.index\nOut[14]: RangeIndex(start=0, stop=234372, step=1)\n\nreactionmeddrapt.index\nOut[15]: RangeIndex(start=0, stop=234372, step=1)\n\nreactionmeddraversionpt.index\nOut[16]: RangeIndex(start=0, stop=234372, step=1)\n\nreactionoutcome.index\nOut[17]: RangeIndex(start=0, stop=234372, step=1)\n\nrxcui.index\nOut[18]: RangeIndex(start=0, stop=234372, step=1)\n</code></pre>\n"}, {"tags": ["python", "kivy", "kivy-language"], "answers": [{"tags": [], "owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "is_accepted": true, "score": 2, "last_activity_date": 1494761392, "creation_date": 1494761392, "answer_id": 43963361, "question_id": 43902010, "link": "https://stackoverflow.com/questions/43902010/how-do-you-make-a-window-full-screen-using-the-kivy-design-language/43963361#43963361", "title": "How do you make a window full screen using the kivy design language?", "body": "<p>It seems <strong>it is possible to do it from the KV file</strong>! (using <strong>setattr</strong>)</p>\n\n<p>some kv file:</p>\n\n<pre><code>#:import Window kivy.core.window.Window\n\n&lt;RootWidget&gt;:\n     some_property: setattr(Window, 'fullscreen' , 'auto')  or 'real_value!'\n</code></pre>\n\n<p>It is <em>hackish</em> though...</p>\n"}], "owner": {"reputation": 855, "user_id": 5544609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a133bdaa505d7ebb4f87707681c61cd?s=128&d=identicon&r=PG&f=1", "display_name": "suroh", "link": "https://stackoverflow.com/users/5544609/suroh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2467, "favorite_count": 1, "accepted_answer_id": 43963361, "answer_count": 1, "score": 2, "last_activity_date": 1494761392, "creation_date": 1494447535, "last_edit_date": 1494527968, "question_id": 43902010, "link": "https://stackoverflow.com/questions/43902010/how-do-you-make-a-window-full-screen-using-the-kivy-design-language", "title": "How do you make a window full screen using the kivy design language?", "body": "<p>Can someone tell me how to set a kivy window to full screen mode using the design language?</p>\n\n<p>The result I'm looking for is either bordered full screen/border-less full screen. If you run the following example you'll see exactly what I'm trying to achieve. </p>\n\n<pre><code>from kivy.core.window import Window\nfrom kivy.uix.widget import Widget\nfrom kivy.config import Config\nfrom kivy.app import App\n\nclass ExampleClass(Widget):\n    pass\n\n\n\nclass ExampleApp(App):\n    def build(self):\n       return ExampleClass()\n\n\nWindow.fullscreen = 'auto'\nExampleApp().run()\n\n'''\n   If you've never run it with that setting before. Be ready for borderless\n   Full screen output.It can be scary the first time you see it lol :D\n'''\n</code></pre>\n\n<p>An example of the code I'm working with is as follows.</p>\n\n<pre><code>from kivy.lang import Builder\nfrom kivy.core.window import Window\nfrom kivy.graphics import Canvas\nfrom kivy.uix.screenmanager import ScreenManager, Screen, FadeTransition\nfrom kivy.config import Config\n\n\nclass StartScreen(Screen):\n\n    def Mute_Audio(self):\n        pass\n\n\n    def new_g(self):\n        pass\n\n\n\n\n    def l_g(self):\n        pass\n\n\n    def Settings(self):\n        pass  \n\n\n\nclass SelectionScreen(Screen):\n    pass\n\n\nclass MyScreenManager(ScreenManager):\n    pass\n\n\nroot_widget = Builder.load_string('''\n#:import FadeTransition kivy.uix.screenmanager.FadeTransition\nMyScreenManager:\n    transition: FadeTransition()\n    StartScreen:\n    SelectionScreen:\n\n&lt;StartScreen&gt;:\n    name: 'start_screen'\n    canvas:\n        Rectangle:\n            pos: self.pos\n            size: self.size\n\n\n\n    Button:\n        id: b_1\n        pos: 330,350\n        size_hint:  0.2, 0.1\n        text: 'button 1'\n        font_size: 18\n        on_press: root.new_g()\n        on_release: app.root.current = 'selection_screen'\n\n\n    Button:\n        id: b_2\n        pos: 330, 280\n        size_hint:  0.2, 0.1\n        text: 'button_2'\n        font_size: 18\n\n\n    Button:\n        id: settings\n        pos: 330, 210\n        size_hint: 0.2, 0.1\n        text: 'Settings'\n        font_size: 18\n\n\n    Button:\n        id: mute_button\n        pos:658, 495     \n        size_hint: 0.2, 0.2\n\n\n\n\n\n\n\n&lt;SelectionScreen&gt;:\n    name: 'selection_screen'\n    canvas:\n        Rectangle:\n            pos: self.pos\n\n''')\n\nclass ExampleApp(App):\n    def build(self):\n        self.title = 'Save me Stack Overflow'\n        return root_widget\n\nExampleApp().run()  \n</code></pre>\n\n<p>to reiterate, I need help setting the window to full screen using the design language. I just have no idea how to set it to full screen with kv.</p>\n\n<p>UPDATE: </p>\n\n<p>To re-iterate. I don't care about the positioning of widgets or how the full screen looks. All I need to know is how to set a Window to full screen mode using the design language aka KV. </p>\n\n<p>I showed two examples. The first example shows what I want to do. In that it shows a border-less full screen window. The second example illustrates an example of the design language. I need to achieve the same result produced in the first example in the second example but instead of doing it in straight python I need to do it in the design language. </p>\n"}, {"tags": ["python", "linux", "bash"], "comments": [{"owner": {"reputation": 837, "user_id": 4810295, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TG_rfqdwCrg/AAAAAAAAAAI/AAAAAAAAYnE/EWlpJaCsEj4/photo.jpg?sz=128", "display_name": "herchu", "link": "https://stackoverflow.com/users/4810295/herchu"}, "edited": false, "score": 0, "creation_date": 1494447605, "post_id": 43901989, "comment_id": 74837897, "body": "What is the input exactly, is that an array or some file contents, literal?"}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 1, "creation_date": 1494447634, "post_id": 43901989, "comment_id": 74837914, "body": "<code>perl -pe &#39;chomp if !&#47;]&#47;&#39; test</code> ?"}, {"owner": {"reputation": 3, "user_id": 6538818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56a35b86131cb9a56c6a7e397930b5c?s=128&d=identicon&r=PG&f=1", "display_name": "Dani", "link": "https://stackoverflow.com/users/6538818/dani"}, "edited": false, "score": 0, "creation_date": 1494447894, "post_id": 43901989, "comment_id": 74838046, "body": "It is supposed to be an array but the output of my code gives me the results the way i shown here so instead of one line i get data arranged in six columns."}], "answers": [{"tags": [], "owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "is_accepted": true, "score": 1, "last_activity_date": 1494447771, "creation_date": 1494447771, "answer_id": 43902077, "question_id": 43901989, "link": "https://stackoverflow.com/questions/43901989/append-n-lines-up-to-a-certain-character-in-the-previous-line/43902077#43902077", "title": "Append n lines up to a certain character in the previous line", "body": "<p>It sound like you just want to only print a newline if the current lines ends with <code>]</code>.  Try:</p>\n\n<pre><code>awk '{printf \"%s%s\", $0, match($0,\"]\\\\s*$\") ? \"\\n\" : \"\"}' input\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1494448441, "creation_date": 1494448441, "answer_id": 43902261, "question_id": 43901989, "link": "https://stackoverflow.com/questions/43901989/append-n-lines-up-to-a-certain-character-in-the-previous-line/43902261#43902261", "title": "Append n lines up to a certain character in the previous line", "body": "<p>With sed:</p>\n\n<pre><code>$ sed ':a;N;/\\]/!ba;s/\\n//g' infile\n[5 8 15 79 5 6  .  .  .   n 8 6 4 5 ]\n[18 78 18 79 5 6  .  .  .   n 8 6 78 ]\n</code></pre>\n\n<p>Explained:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>:a        # Label to jump to\nN         # Append next line to pattern sapce\n/\\]/! ba  # If there is no \"]\", jump to label\ns/\\n//g   # Remove all newlines (only reached if \"]\" in pattern space)\n</code></pre>\n\n<p>If you want to make sure that <code>]</code> is the last non-blank character on the line, not just anywhere in it, the regex can be changed from <code>/\\]/</code> to <code>/\\][[:blank:]]*$/</code>, resulting in</p>\n\n<pre><code>sed ':a;N;/\\][[:blank:]]*$/!ba;s/\\n//g' infile\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6538818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56a35b86131cb9a56c6a7e397930b5c?s=128&d=identicon&r=PG&f=1", "display_name": "Dani", "link": "https://stackoverflow.com/users/6538818/dani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 43902077, "answer_count": 2, "score": -1, "last_activity_date": 1494448581, "creation_date": 1494447467, "last_edit_date": 1494448581, "question_id": 43901989, "link": "https://stackoverflow.com/questions/43901989/append-n-lines-up-to-a-certain-character-in-the-previous-line", "title": "Append n lines up to a certain character in the previous line", "body": "<p>Input:</p>\n\n<pre><code>[5 8 15 79 5 6  \n.  \n.  \n.   \nn 8 6 4 5 ]  \n[18 78 18 79 5 6  \n.  \n.  \n.   \nn 8 6 78 ]\n</code></pre>\n\n<p>and so on...</p>\n\n<p>Desired output:  </p>\n\n<pre><code>[5 8 15 79 5 6 . . . . 8 6 4 5 ]  \n[18 78 18 79 5 6 . . .  8 6 78 ]\n</code></pre>\n\n<p>I need to convert all the columns up to <code>]</code> into a single line and keep on doing so up to the end of the file.</p>\n"}, {"tags": ["python", "string", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 27, "user_id": 7066277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BIrDC.jpg?s=128&g=1", "display_name": "Anayatc", "link": "https://stackoverflow.com/users/7066277/anayatc"}, "reply_to_user": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1494450619, "post_id": 43901985, "comment_id": 74839413, "body": "@abccd I&#39;ve added some clarification, I wasn&#39;t asking for someone to do it for me, my apologies if it came across that way, I was looking for more an idea of how to go about doing it efficiently. I could just remove all the indents by converting the string to a list and using replace to remove them, and then remove all the <code>\\n</code> and <code>\\r</code>s then turn it back into a string splitting it by the <code>:</code> and then I&#39;d have all the even indexes become the keys and odd indexes become the values. but that doesn&#39;t seem to be efficient and seems like bad practice."}, {"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1494451555, "post_id": 43901985, "comment_id": 74839872, "body": "these post might be a help to you: <a href=\"http://stackoverflow.com/questions/33528650/convert-python-string-with-newlines-and-tabs-to-dictionary\" title=\"convert python string with newlines and tabs to dictionary\">stackoverflow.com/questions/33528650/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/17858404/creating-a-tree-deeply-nested-dict-from-an-indented-text-file-in-python\" title=\"creating a tree deeply nested dict from an indented text file in python\">stackoverflow.com/questions/17858404/&hellip;</a>"}, {"owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1494459579, "post_id": 43901985, "comment_id": 74842501, "body": "Seriously, python-whois looks like a nice lib and any attempt to parse w.text would really defeat its purpose. Fixing it for your use case should really be the way to go. Unfortunately, it relies on regex, which can be a pain if you&#39;re not familiar with those. But if you open a ticket with all needed info (not much, just the URL and your output), the issue might be solved for you by the devs..."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7066277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BIrDC.jpg?s=128&g=1", "display_name": "Anayatc", "link": "https://stackoverflow.com/users/7066277/anayatc"}, "edited": false, "score": 0, "creation_date": 1494449278, "post_id": 43902306, "comment_id": 74838751, "body": "when you try to access as just <code>w</code> it returns whichever field you parse as unknown whereas when you return it as w.text you can see the actual data is there."}, {"owner": {"reputation": 27, "user_id": 7066277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BIrDC.jpg?s=128&g=1", "display_name": "Anayatc", "link": "https://stackoverflow.com/users/7066277/anayatc"}, "edited": false, "score": 0, "creation_date": 1494451158, "post_id": 43902306, "comment_id": 74839679, "body": "looking your output I can see that fields like Registrant name, name servers, domain name have values that are <code>None</code>, but in <code>w.text</code> they have values."}, {"owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "reply_to_user": {"reputation": 27, "user_id": 7066277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BIrDC.jpg?s=128&g=1", "display_name": "Anayatc", "link": "https://stackoverflow.com/users/7066277/anayatc"}, "edited": false, "score": 1, "creation_date": 1494451993, "post_id": 43902306, "comment_id": 74840056, "body": "Looks like something wrong with the <a href=\"https://bitbucket.org/richardpenman/pywhois/src/f0f585979274f0b21d89acad6e30cf876312acde/whois/parser.py?at=default&amp;fileviewer=file-view-default#parser.py-567\" rel=\"nofollow noreferrer\">.uk parser</a>. Maybe you could open a bug on bitbucket."}, {"owner": {"reputation": 27, "user_id": 7066277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BIrDC.jpg?s=128&g=1", "display_name": "Anayatc", "link": "https://stackoverflow.com/users/7066277/anayatc"}, "edited": false, "score": 0, "creation_date": 1494715559, "post_id": 43902306, "comment_id": 74948375, "body": "Thank you, I&#39;ve submitted a bug report, I will message and let them know you have found the issue and your proposed fix, once again thank you this helps me out greatly."}], "tags": [], "owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "is_accepted": true, "score": 1, "last_activity_date": 1494683898, "last_edit_date": 1494683898, "creation_date": 1494448650, "answer_id": 43902306, "question_id": 43901985, "link": "https://stackoverflow.com/questions/43901985/convert-large-string-output-to-dictionary/43902306#43902306", "title": "convert large string output to dictionary", "body": "<p>Apparently, you're using <a href=\"https://pypi.python.org/pypi/python-whois\" rel=\"nofollow noreferrer\">python-whois</a>.</p>\n\n<p>Look at the <a href=\"https://bitbucket.org/richardpenman/pywhois\" rel=\"nofollow noreferrer\">example</a>. You can get all the data in a structured form, rather than a text you'd need to parse:</p>\n\n<pre><code>import whois\nw = whois.whois('webscraping.com')\nw.expiration_date  # dates converted to datetime object\n# datetime.datetime(2013, 6, 26, 0, 0)\nw.text  # the content downloaded from whois server\n# u'\\nWhois Server Version 2.0\\n\\nDomain names in the .com and .net ...'\n\nprint w  # print values of all found attributes\n# creation_date: 2004-06-26 00:00:00\n# domain_name: [u'WEBSCRAPING.COM', u'WEBSCRAPING.COM']\n#\u00a0emails: [u'WEBSCRAPING.COM@domainsbyproxy.com', u'WEBSCRAPING.COM@domainsbyproxy.com']\n# expiration_date: 2013-06-26 00:00:00\n</code></pre>\n\n<p>You get all attributes you need one by one from the whois object (<code>w</code>) and store them in a <code>dict</code>, or maybe just pass the object itself to whichever function needs those informations.</p>\n\n<p>Is there any info in <code>w.text</code> you can't access as an attribute of <code>w</code>?</p>\n\n<h3>Edit:</h3>\n\n<p>It works for me using the same example URL as yours.</p>\n\n<pre><code>pip install python-whois\npip freeze |grep python-whois\n# python-whois==0.6.5\n\nimport whois\nw = whois.whois(\"amazon.co.uk\")\nw\n# {'updated_date': datetime.datetime(2013, 10, 23, 0, 0), 'creation_date': 'before Aug-1996', 'registrar': None, 'registrar_url': 'http://www.amazon.com', 'domain_name': None, 'expiration_date': datetime.datetime(2020, 12, 5, 0, 0), 'name_servers': None, 'status': None, 'registrant_name': None}\n</code></pre>\n\n<h3>\u00a0Edit 2:</h3>\n\n<p>If think I found the issue in the parser.</p>\n\n<p>The regex should not be </p>\n\n<pre><code>'Registrant:\\n\\s*(.*)'\n</code></pre>\n\n<p>but </p>\n\n<pre><code>'Registrant:\\r\\n\\s*(.*)'\n</code></pre>\n\n<p>You could try to clone <code>whois</code> locally and modify it like this (adding <code>\\r</code>), then if it works, propose this a a patch, or at least mention this in the <a href=\"https://bitbucket.org/richardpenman/pywhois/issues/121/uk-parser-issue\" rel=\"nofollow noreferrer\">bug report</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 4803909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3d57d08f19bbbd6ba80df4ba2f7ea8?s=128&d=identicon&r=PG&f=1", "display_name": "paperazzo79", "link": "https://stackoverflow.com/users/4803909/paperazzo79"}, "is_accepted": false, "score": 0, "last_activity_date": 1494452207, "creation_date": 1494452207, "answer_id": 43903124, "question_id": 43901985, "link": "https://stackoverflow.com/questions/43901985/convert-large-string-output-to-dictionary/43903124#43903124", "title": "convert large string output to dictionary", "body": "<p>try this:</p>\n\n<pre><code>from collections import OrderedDict\n\nkey_value=OrderedDict() #use dict() if order of keys is not important\n\nfor block in textstring.split(\"\\n\\n\"): #textstring contains the string of w.text.\n    try:\n        key_value[block.split(\":\\n\")[0].strip()] = '\\n'.join(element.strip() for element in block.split(\":\\n\")[1].split('\\n'))\n    except IndexError:\n        pass\n\n#print the result\nfor key in key_value:\n    print(key)\n    print(key_value[key])\n    print(\"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7066277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BIrDC.jpg?s=128&g=1", "display_name": "Anayatc", "link": "https://stackoverflow.com/users/7066277/anayatc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 43902306, "answer_count": 2, "score": 0, "last_activity_date": 1494683898, "creation_date": 1494447443, "last_edit_date": 1494450092, "question_id": 43901985, "link": "https://stackoverflow.com/questions/43901985/convert-large-string-output-to-dictionary", "title": "convert large string output to dictionary", "body": "<p>I have a function that looks like this, it looks up the domain on who.is when given a url:</p>\n\n<pre><code>import whois    \n\ndef who_is(url):\n    w = whois.whois(url)\n    return w.text\n</code></pre>\n\n<p>which returns the following as a huge string:</p>\n\n<pre><code>Domain name:\n    amazon.co.uk\n\nRegistrant:\n    Amazon Europe Holding Technologies SCS\n\nRegistrant type:\n    Unknown\n\nRegistrant's address:\n    65 boulevard G-D. Charlotte\n    Luxembourg City\n    Luxembourg\n    LU-1311\n    Luxembourg\n\nData validation:\n    Nominet was able to match the registrant's name and address against a 3rd party data source on 10-Dec-2012\n\nRegistrar:\n    Amazon.com, Inc. t/a Amazon.com, Inc. [Tag = AMAZON-COM]\n    URL: http://www.amazon.com\n\nRelevant dates:\n    Registered on: before Aug-1996\n    Expiry date:  05-Dec-2020\n    Last updated:  23-Oct-2013\n\nRegistration status:\n    Registered until expiry date.\n\nName servers:\n    ns1.p31.dynect.net\n    ns2.p31.dynect.net\n    ns3.p31.dynect.net\n    ns4.p31.dynect.net\n    pdns1.ultradns.net\n    pdns2.ultradns.net\n    pdns3.ultradns.org\n    pdns4.ultradns.org\n    pdns5.ultradns.info\n    pdns6.ultradns.co.uk      204.74.115.1  2610:00a1:1017:0000:0000:0000:0000:0001\n\nWHOIS lookup made at 21:09:42 10-May-2017\n\n -- \n   This WHOIS information is provided for free by Nominet UK the central registry\nfor .uk domain names. This information and the .uk WHOIS are:\n\nCopyright Nominet UK 1996 - 2017.\n\nYou may not access the .uk WHOIS or use any data from it except as permitted\nby the terms of use available in full at http://www.nominet.uk/whoisterms,\n which includes restrictions on: (A) use of the data for advertising, or its\n repackaging, recompilation, redistribution or reuse (B) obscuring, removing\n or hiding any or all of this notice and (C) exceeding query rate or volume\nlimits. The data is provided on an 'as-is' basis and may lag behind the\nregister. Access may be withdrawn or restricted at any time. \n</code></pre>\n\n<p>So just looking at it I can see that the layout is there to turn this into a dictionary, but not sure how to actually go about it, in the most efficient manner possible. I need to remove the unwanted text at the bottom, and remove all the line breaks and indents. Which done individually isn't very efficient. I want to be able to pass any url to the function and have a dictionary to work with. any help would be really appreciated. </p>\n\n<p>desired output would be: </p>\n\n<pre><code>dict = {\n'Domain name':'amazon.co.uk',\n'Registrant':'Amazon Europe Holding Technologies'\n'Registrant type': 'Unknown'\nand so on for all the available fields.\n}\n</code></pre>\n\n<p>I have tried so far to remove all the \\n new lines and \\r with the remove function, then replaced all the indents with the replace function. However I'm not at all sure how to remove the bulk of text at the bottom.</p>\n\n<p>the python-whois documentation tells you to print just <code>w</code> however when doing so it returns the following:</p>\n\n<pre><code>{\n  \"domain_name\": null,\n  \"registrar\": null,\n  \"registrar_url\": \"http://www.amazon.com\",\n  \"status\": null,\n  \"registrant_name\": null,\n  \"creation_date\": \"before Aug-1996\",\n  \"expiration_date\": \"2020-12-05 00:00:00\",\n  \"updated_date\": \"2013-10-23 00:00:00\",\n  \"name_servers\": null\n }\n</code></pre>\n\n<p>as you can see most of those values are <code>null</code> but when returning <code>w.text</code> they do have values</p>\n"}, {"tags": ["python", "dictionary", "keyerror"], "comments": [{"owner": {"reputation": 8519, "user_id": 7662085, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/X4wrF.jpg?s=128&g=1", "display_name": "stybl", "link": "https://stackoverflow.com/users/7662085/stybl"}, "edited": false, "score": 3, "creation_date": 1494447800, "post_id": 43901977, "comment_id": 74838006, "body": "<code>KeyError</code> means that no item in your dictionary has that key. Are you sure that what you&#39;re trying to retrieve exists?"}, {"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 2, "creation_date": 1494447893, "post_id": 43901977, "comment_id": 74838045, "body": "<code>print</code> the dictionary. You&#39;ll find that you&#39;re trying to access a non-existent entry. Not much more to do"}, {"owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1494447933, "post_id": 43901977, "comment_id": 74838056, "body": "Are you creating stock[restock_item], or should it be there already? Or are you creating it unless it is already there?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494447968, "post_id": 43901977, "comment_id": 74838081, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/10116518/im-getting-key-error-in-python\">I&#39;m getting Key error in python</a>"}, {"owner": {"reputation": 155, "user_id": 5310351, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RKb9T.png?s=128&g=1", "display_name": "AntsOfTheSky", "link": "https://stackoverflow.com/users/5310351/antsofthesky"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494448177, "post_id": 43901977, "comment_id": 74838194, "body": "@MadPhysicist im sorry it&#39;s just i dont understand it in other contexts"}, {"owner": {"reputation": 155, "user_id": 5310351, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RKb9T.png?s=128&g=1", "display_name": "AntsOfTheSky", "link": "https://stackoverflow.com/users/5310351/antsofthesky"}, "reply_to_user": {"reputation": 8519, "user_id": 7662085, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/X4wrF.jpg?s=128&g=1", "display_name": "stybl", "link": "https://stackoverflow.com/users/7662085/stybl"}, "edited": false, "score": 0, "creation_date": 1494448213, "post_id": 43901977, "comment_id": 74838213, "body": "@Sty i&#39;m sure it exists because the dictionary retrieves data from a file and the file has that key in it"}, {"owner": {"reputation": 155, "user_id": 5310351, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RKb9T.png?s=128&g=1", "display_name": "AntsOfTheSky", "link": "https://stackoverflow.com/users/5310351/antsofthesky"}, "reply_to_user": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 0, "creation_date": 1494448321, "post_id": 43901977, "comment_id": 74838262, "body": "@J&#233;r&#244;me it should be there already, im just accessing a piece of data from the dictionary and assigning it to a variable"}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 1, "creation_date": 1494448511, "post_id": 43901977, "comment_id": 74838350, "body": "When you retrieved the dictionary from the file, did you also apply <code>int()</code> to this key?  <code>12345670</code> and <code>&quot;12345670&quot;</code> are not equivalent keys."}, {"owner": {"reputation": 155, "user_id": 5310351, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RKb9T.png?s=128&g=1", "display_name": "AntsOfTheSky", "link": "https://stackoverflow.com/users/5310351/antsofthesky"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1494448650, "post_id": 43901977, "comment_id": 74838432, "body": "@jasonharper Yeah I just thought maybe that was the reason and i resolved the problem, thanks for the help :) i converted the variable to an int before i used it"}, {"owner": {"reputation": 9282, "user_id": 4653485, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a28879e28d6950aeed15712534f35a8d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me", "link": "https://stackoverflow.com/users/4653485/j%c3%a9r%c3%b4me"}, "edited": false, "score": 2, "creation_date": 1494449030, "post_id": 43901977, "comment_id": 74838620, "body": "You might want to 1/ Write that as an answer 2/ Accept your own answer so that this case is closed."}], "answers": [{"tags": [], "owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "is_accepted": true, "score": 0, "last_activity_date": 1494494395, "creation_date": 1494494395, "answer_id": 43911346, "question_id": 43901977, "link": "https://stackoverflow.com/questions/43901977/keyerror-python-dictionaries/43911346#43911346", "title": "KeyError - python dictionaries", "body": "<p>Resolved in comments:  </p>\n\n<blockquote>\n  <p>When you retrieved the dictionary from the file, did you also apply int() to this key?<br>\n  12345670 and \"12345670\" are not equivalent keys. \u2013 jasonharper</p>\n  \n  <p>Yeah I just thought maybe that was the reason and i resolved the problem, thanks for the help :) i converted the variable to an int before i used it \u2013 Heather Lara </p>\n</blockquote>\n"}], "owner": {"reputation": 155, "user_id": 5310351, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RKb9T.png?s=128&g=1", "display_name": "AntsOfTheSky", "link": "https://stackoverflow.com/users/5310351/antsofthesky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "accepted_answer_id": 43911346, "answer_count": 1, "score": -1, "last_activity_date": 1494494395, "creation_date": 1494447418, "last_edit_date": 1494447683, "question_id": 43901977, "link": "https://stackoverflow.com/questions/43901977/keyerror-python-dictionaries", "title": "KeyError - python dictionaries", "body": "<p>I'm using a dictionary in Python and trying to reference one of the data categories however I am getting a keyerror when running the code. </p>\n\n<p>\"Restock_Item\" will be an eight digit number such as \"12345670\" which is in the dictionary so by using </p>\n\n<pre><code>stock[restock_item]['STOCK_LEVEL']\n</code></pre>\n\n<p>it would be referencing the dictionary like this: </p>\n\n<pre><code>stock[12345670]['STOCK_LEVEL']\n</code></pre>\n\n<p>But when doing this I get the error:</p>\n\n<pre><code>KeyError: 12345670\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>restock_item = input(\"\\nPlease enter the gtin code of the product you wish to restock. \")\n    if restock_item.isdigit() == True:\n\n        restock_level = input(\"How many items would you like to restock? \")\n        while restock_item.isdigit() == True:\n\n            restock_item = int(restock_item)\n            newStockLevel = int(stock[restock_item]['STOCK_LEVEL']) # This is the line that gets the key error\n            newStockLevel = newStockLevel + restock_level\n            stock[restock_item]['STOCK_LEVEL'] = newStockLevel\n</code></pre>\n"}, {"tags": ["python", "numpy", "vectorization"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 1, "creation_date": 1494447498, "post_id": 43901971, "comment_id": 74837852, "body": "Won&#39;t that be <code>for i in range (A.shape[1]):</code> instead because you have the iterator iterating along the columns of <code>A</code> with that transpose of <code>A</code>?"}, {"owner": {"reputation": 888, "user_id": 1096140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rFfC.jpg?s=128&g=1", "display_name": "hesham_EE", "link": "https://stackoverflow.com/users/1096140/hesham-ee"}, "edited": false, "score": 0, "creation_date": 1494447712, "post_id": 43901971, "comment_id": 74837967, "body": "I think you need only <code>num=  np.zeros(20)</code>, right?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 3, "creation_date": 1494448156, "post_id": 43901971, "comment_id": 74838179, "body": "The question is, why are you using <code>dot</code> to do a scalar multiplication? <code>x[i] + y[i]</code> are scalars."}, {"owner": {"reputation": 888, "user_id": 1096140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rFfC.jpg?s=128&g=1", "display_name": "hesham_EE", "link": "https://stackoverflow.com/users/1096140/hesham-ee"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494448576, "post_id": 43901971, "comment_id": 74838385, "body": "@MadPhysicist, no problem, we are trying to understand the intent of the OP."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449087, "post_id": 43901971, "comment_id": 74838650, "body": "Now you need to make num have 200 or remove the <code>.T</code>."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449193, "post_id": 43901971, "comment_id": 74838703, "body": "Could you fix that please?"}, {"owner": {"reputation": 119, "user_id": 5834712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/623cc32a345be0e324c677f41df5037e?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelsalam", "link": "https://stackoverflow.com/users/5834712/aya-abdelsalam"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449283, "post_id": 43901971, "comment_id": 74838755, "body": "@MadPhysicist x and y are 20 there sum will be a 20 while A is 20,200 so for a dot product I need it to be 200,20 hence .T"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1494449383, "post_id": 43901971, "comment_id": 74838810, "body": "@AyaAbdelsalam If you are iterating along cols with that transpose, you would need <code>for i in range (A.shape[1]):</code> irrespective of the datasizes."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449394, "post_id": 43901971, "comment_id": 74838814, "body": "<code>A.T</code> is <code>200,20</code>, so <code>A.T[i]</code> is 20, but it&#39;s probably not what you want..."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449462, "post_id": 43901971, "comment_id": 74838849, "body": "Also, <code>x[i] + y[i]</code> is a scalar, so there is no point in using <code>dot</code> given how your code is currently written. <code>x + y</code> is a vector."}, {"owner": {"reputation": 119, "user_id": 5834712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/623cc32a345be0e324c677f41df5037e?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelsalam", "link": "https://stackoverflow.com/users/5834712/aya-abdelsalam"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449517, "post_id": 43901971, "comment_id": 74838873, "body": "@MadPhysicist A.T[1,:] would be 1,20 which you can then dot with x+y"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449532, "post_id": 43901971, "comment_id": 74838883, "body": "Basically, barring the mismatch in indices, <code>num = sum(A.T * (x + y))</code> is what your code is currently doing."}, {"owner": {"reputation": 119, "user_id": 5834712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/623cc32a345be0e324c677f41df5037e?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelsalam", "link": "https://stackoverflow.com/users/5834712/aya-abdelsalam"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1494449597, "post_id": 43901971, "comment_id": 74838906, "body": "@Divakar I had x,y, num should be 20 not 200 (I changed that )so A.shape[0] would  be correct however in this case your answer won&#39;t work"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449605, "post_id": 43901971, "comment_id": 74838911, "body": "@AyaAbdelsalam. You should read what you posted very carefully and fix it. You are dotting with a scalar, not a vector here, you have some weird indexing going on and  am not sure if the size of A is not a typo at this point."}, {"owner": {"reputation": 119, "user_id": 5834712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/623cc32a345be0e324c677f41df5037e?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelsalam", "link": "https://stackoverflow.com/users/5834712/aya-abdelsalam"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494449747, "post_id": 43901971, "comment_id": 74838996, "body": "@MadPhysicist No x and y aren&#39;t scalar they are vector and so is A I am pretty sure its correct now I ran it, it gives me what I am expecting"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1494449852, "post_id": 43901971, "comment_id": 74839050, "body": "You aren&#39;t dotting with <code>x + y</code>, you are dotting with <code>x[i] + y[i]</code>. I really suggest you read through the question you wrote and the comments that followed instead of arguing that there can&#39;t be anything wrong with your code."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 5834712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/623cc32a345be0e324c677f41df5037e?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelsalam", "link": "https://stackoverflow.com/users/5834712/aya-abdelsalam"}, "edited": false, "score": 0, "creation_date": 1494448922, "post_id": 43902041, "comment_id": 74838578, "body": "I wrote the  sizes wrong the first time A.shape[0] is correct hiw ever x and y are (20,) not (200,)"}, {"owner": {"reputation": 119, "user_id": 5834712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/623cc32a345be0e324c677f41df5037e?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelsalam", "link": "https://stackoverflow.com/users/5834712/aya-abdelsalam"}, "edited": false, "score": 0, "creation_date": 1494451380, "post_id": 43902041, "comment_id": 74839783, "body": "this works perfectly I didnt know about the slicing thanks!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 1, "last_activity_date": 1494451088, "last_edit_date": 1494451088, "creation_date": 1494447603, "answer_id": 43902041, "question_id": 43901971, "link": "https://stackoverflow.com/questions/43901971/sum-of-dot-product-numpy-efficiently/43902041#43902041", "title": "Sum of dot product numpy efficiently", "body": "<p>You could use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.einsum.html\" rel=\"nofollow noreferrer\"><code>np.einsum</code></a> -</p>\n\n<pre><code>num = np.einsum('ji,i-&gt;i',A[:,:20],x+y)\n</code></pre>\n\n<p>That slicing of <code>[:,:20]</code> is needed because even though you are iterating along the rows of <code>A.T</code> with <code>A.T[i,:]</code> i.e. columns of <code>A</code>, you are not iterating through all of those columns.</p>\n"}], "owner": {"reputation": 119, "user_id": 5834712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/623cc32a345be0e324c677f41df5037e?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelsalam", "link": "https://stackoverflow.com/users/5834712/aya-abdelsalam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 43902041, "answer_count": 1, "score": 0, "last_activity_date": 1494451088, "creation_date": 1494447398, "last_edit_date": 1494448851, "question_id": 43901971, "link": "https://stackoverflow.com/questions/43901971/sum-of-dot-product-numpy-efficiently", "title": "Sum of dot product numpy efficiently", "body": "<p>How do I get the sum of a dot product efficiently </p>\n\n<pre><code>A =  np.random.rand(20,200)\nx=  np.random.rand(20)\ny=  np.random.rand(20)\nnum=  np.zeros(20)\nfor i in range (A.shape[0]):\n    num[i] = np.sum(A.T[i,:].dot(x[i]+y[i]))\nprint num\n</code></pre>\n\n<p>Is there a way to find num without a for loop</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "linear-regression"], "comments": [{"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1494482923, "post_id": 43901970, "comment_id": 74848586, "body": "Its pretty easy. You do the same steps as above, but not calling <code>fit()</code> on <code>pca</code> or <code>regr</code>. Just only call <code>pca.transform()</code> and <code>regr.predict()</code> on your new data. But for that you need to keep the objects <code>pca</code> and <code>regr</code> persistant. You should explain your code more like what the <code>for i in range(0, 400):</code> is doing and I maybe help writing the code for it."}, {"owner": {"reputation": 13, "user_id": 7975676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dab447363912237228aa75655092744?s=128&d=identicon&r=PG&f=1", "display_name": "Cataffy", "link": "https://stackoverflow.com/users/7975676/cataffy"}, "reply_to_user": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1494489336, "post_id": 43901970, "comment_id": 74852523, "body": "Thanks for you response. So as far as I have gathered (I did not write this code). The i in range is that it loops it 400 times. So for image 1 it uses the other 399 images to train and then predicts images 1, then it does image 2, and uses the other 399 images to train and predict its rating. Now I don&#39;t think I need that, since what I want to do is use the 400 images that have ratings that I used in this code to predict the other 142 images I have that do not have ratings for. I am just unsure how to disentangle the code to do it."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7975676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dab447363912237228aa75655092744?s=128&d=identicon&r=PG&f=1", "display_name": "Cataffy", "link": "https://stackoverflow.com/users/7975676/cataffy"}, "edited": false, "score": 0, "creation_date": 1494492943, "post_id": 43909910, "comment_id": 74854833, "body": "Just had to do some minor tweaks and it worked perfectly. Thanks so much Vivek!"}], "tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1494490274, "creation_date": 1494490274, "answer_id": 43909910, "question_id": 43901970, "link": "https://stackoverflow.com/questions/43901970/machine-learning-applying-training-model-to-testing/43909910#43909910", "title": "Machine learning, applying training model to testing", "body": "<p>Without the for loop, it becomes pretty easy.</p>\n\n<pre><code>import numpy as np\nfrom sklearn import decomposition\nfrom sklearn import linear_model\n\nfeatures_train = np.loadtxt('C:\\\\Users\\\\bruker\\\\Desktop\\\\Data\\\\CFD_features.txt', delimiter=',')\nratings_train = np.loadtxt('C:\\\\Users\\\\bruker\\\\Desktop\\\\Data\\\\CFD_ratings.txt', delimiter=',')\n\npca = decomposition.PCA(n_components=13)\npca.fit(features_train)\nfeatures_train = pca.transform(features_train)\nregr = linear_model.LinearRegression()\nregr.fit(features_train, ratings_train)\n\nfeatures_test = np.loadtxt('C:\\\\Users\\\\bruker\\\\Desktop\\\\Data\\\\CFD_features_Test.txt', delimiter=',')\n\nfeatures_test = pca.transform(features_test)\npredictions = regr.predict(features_test)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7975676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dab447363912237228aa75655092744?s=128&d=identicon&r=PG&f=1", "display_name": "Cataffy", "link": "https://stackoverflow.com/users/7975676/cataffy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 43909910, "answer_count": 1, "score": -1, "last_activity_date": 1494490274, "creation_date": 1494447394, "question_id": 43901970, "link": "https://stackoverflow.com/questions/43901970/machine-learning-applying-training-model-to-testing", "title": "Machine learning, applying training model to testing", "body": "<p>Political science grad student who is way over his head (ambitious but rubbish as they say). Basically, I am trying to do an attractiveness prediction on a set of politicians for political science purposes. I followed this <a href=\"https://www.learnopencv.com/computer-vision-for-predicting-facial-attractiveness/\" rel=\"nofollow noreferrer\">guide</a>.</p>\n\n<p>Having extracted landmarks and generated features, I have used my learning set (CFD, 400 images with ratings) for a model predicts ratings that correlate 0.49 (good enough for my purposes) with actual ratings through cross validation. This is that code:</p>\n\n<pre><code>import numpy as np\nfrom sklearn import decomposition\nfrom sklearn import linear_model\nfeatures = np.loadtxt('C:\\\\Users\\\\bruker\\\\Desktop\\\\Data\\\\CFD_features.txt', delimiter=',')\nratings = np.loadtxt('C:\\\\Users\\\\bruker\\\\Desktop\\\\Data\\\\CFD_ratings.txt', delimiter=',')\npredictions = np.zeros(ratings.size);\n\nfor i in range(0, 400):\n    features_train = np.delete(features, i, 0)\n    features_test = features[i, :]\n    ratings_train = np.delete(ratings, i, 0)\n    ratings_test = ratings[i]\n    pca = decomposition.PCA(n_components=13)\n    pca.fit(features_train)\n    features_train = pca.transform(features_train)\n    features_test = pca.transform(features_test)\n    regr = linear_model.LinearRegression()\n    regr.fit(features_train, ratings_train)\n    predictions[i] = regr.predict(features_test)\n    print 'number of models trained:', i+1\n\nnp.savetxt('C:\\\\Users\\\\bruker\\\\Desktop\\\\Data\\\\CFDN_cross_valid_predictions.txt', predictions, delimiter=',', fmt = '%.04f')\n\ncorr = np.corrcoef(predictions, ratings)[0, 1]\nprint corr\n</code></pre>\n\n<p>Now I have a another features.txt with feature data for politicians (142 images), for which I have no ratings. What I am trying to do is use the training set/model constructed by the forgoing code to generate predicted attractiveness ratings for my politicians, but I have absolutely no idea how to proceed. The guide is silent on this, probably because its intended for people who know Python :).  I've spent a lot of hours trying to figure out ways to modify/build this code to make it happen, but my lack of Python/general coding knowledge makes it very hard to figure out. </p>\n\n<p>Given the significant brainpower and knowledge on this site I am hoping someone knows a solution and could help me out. Apologies for my cluelessness, and thanks in advance for any help.</p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 961, "user_id": 5348860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K96NO.jpg?s=128&g=1", "display_name": "odradek", "link": "https://stackoverflow.com/users/5348860/odradek"}, "is_accepted": true, "score": 3, "last_activity_date": 1494459003, "creation_date": 1494459003, "answer_id": 43904190, "question_id": 43901940, "link": "https://stackoverflow.com/questions/43901940/beautifulsoup-remove-tag-attributes-and-text-contents/43904190#43904190", "title": "BeautifulSoup remove tag attributes and text contents", "body": "<p>As the <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#navigablestring\" rel=\"nofollow noreferrer\">docs</a> say,</p>\n\n<blockquote>\n  <p>You can\u2019t edit a string in place, but you can replace one string with another, using replace_with()</p>\n</blockquote>\n\n<p>so I would go for something like this (assume <code>soup</code> is exactly what you posted):</p>\n\n<pre><code>for e in soup.find_all(True):\n    e.attrs = {}\n\n    for i in e.contents:\n        if i.string:\n            i.string.replace_with('') \n</code></pre>\n\n<p>I think without looping into each tag's content you'll end up with some text leftovers in cases in which a tag has more than one child and one of them is text and another one is another tag containing text (as in your example <code>&lt;p&gt;&lt;span style=\"color:red\"&gt;My&lt;/span&gt; first paragraph.&lt;/p&gt;</code>).</p>\n\n<p>When run against your example:</p>\n\n<pre><code>(env) $ python strip.py                                                               \n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;&lt;body&gt;&lt;h1&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;img/&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>(it can be changed a little so it doesn't return newlines or doctype)</p>\n"}], "owner": {"reputation": 5596, "user_id": 506651, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fbb44b858b481573a1d73df0020cd5f6?s=128&d=identicon&r=PG", "display_name": "worenga", "link": "https://stackoverflow.com/users/506651/worenga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 3, "accepted_answer_id": 43904190, "answer_count": 1, "score": 2, "last_activity_date": 1494459003, "creation_date": 1494447269, "question_id": 43901940, "link": "https://stackoverflow.com/questions/43901940/beautifulsoup-remove-tag-attributes-and-text-contents", "title": "BeautifulSoup remove tag attributes and text contents", "body": "<p>I want to compare some webpages based on their overall DOM structure but not their particular contents. To this end i need a representation that resembles the tag hierachy but does not include attributes or textual tag-contents. </p>\n\n<p>Basically, I want to turn a representation like this</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;h1 id=\"peter\"&gt;My First Heading&lt;/h1&gt;\n&lt;p&gt;&lt;span style=\"color:red\"&gt;My&lt;/span&gt; first paragraph.&lt;/p&gt;\n\n&lt;img src=\"peter.jpg\" /&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>into a canoncial baremetal representation like this:</p>\n\n<p><code>&lt;html&gt;&lt;body&gt;&lt;h1&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;img/&gt;&lt;/body&gt;&lt;/html&gt;</code></p>\n\n<p>i.e. all attributes removed, as well as tag contents that are not other tags.</p>\n\n<p>I found a way to remove attributes from tags, but im having problems differentiation between text child nodes and tag child nodes.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1494447563, "post_id": 43901932, "comment_id": 74837882, "body": "The server you are talking to is not speaking SSL/TLS (properly). It is fauty, the connection is compromised or you are trying to make an HTTPS connection to an HTTP service."}, {"owner": {"reputation": 140, "user_id": 6525097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44b3fdba428fdb30f6ca93ae9b279556?s=128&d=identicon&r=PG&f=1", "display_name": "Pasha", "link": "https://stackoverflow.com/users/6525097/pasha"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1494447626, "post_id": 43901932, "comment_id": 74837910, "body": "It is working if with python version : 2.7.5. Problem is with 2.7.10"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1494447704, "post_id": 43901932, "comment_id": 74837961, "body": "The SSL support has been improved in Python 2.7.6 (AFAIR). EDIT: 2.7.9"}, {"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1494449949, "post_id": 43901932, "comment_id": 74839096, "body": "My guess is that it is actually not Python 2.7.5 vs. 2.7.10 but the underlying OpenSSL version and configured ciphers. Please compare <code>ssl.OPENSSL_VERSION</code>. If you have an old and broken server which cannot deal with modern protocol versions and ciphers you might see this effect, i.e. that the server closes this connection as in this case. If the server is public you might add the URL to your question so that one could have a closer look."}], "owner": {"reputation": 140, "user_id": 6525097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44b3fdba428fdb30f6ca93ae9b279556?s=128&d=identicon&r=PG&f=1", "display_name": "Pasha", "link": "https://stackoverflow.com/users/6525097/pasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494447246, "creation_date": 1494447246, "question_id": 43901932, "link": "https://stackoverflow.com/questions/43901932/python-requests-post-failed-with-ssl-error", "title": "Python requests.post failed with SSL error", "body": "<p>I am getting the following error when trying requests.post(url). I am using python 2.7.10. I have tried Custom Http Adapter solution provided in one of the thread but no luck.. </p>\n\n<pre><code>       File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 531, in get\n    return self.request('GET', url, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 518, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 661, in send\n    history = [resp for resp in gen] if allow_redirects else []\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 214, in resolve_redirects\n    **adapter_kwargs\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 639, in send\n    r = adapter.send(request, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/adapters.py\", line 512, in send\n    raise SSLError(e, request=request)\nrequests.exceptions.SSLError: EOF occurred in violation of protocol (_ssl.c:590)\n</code></pre>\n"}, {"tags": ["python", "rpc", "pytest", "autobahn"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1494489230, "post_id": 43901926, "comment_id": 74852455, "body": "Have you checked that your <code>def onDisconnect(self):</code> is called in every run? You have to close the <code>loop</code> and wait until terminated, before start a new one. About your <code>result</code>, make it a <code>member</code> of <code>class MyComponent</code> or copy to a <code>global var</code>."}, {"owner": {"reputation": 101, "user_id": 2112438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce4d5da11638550d89d9965c9b355b2a?s=128&d=identicon&r=PG", "display_name": "Jbeat", "link": "https://stackoverflow.com/users/2112438/jbeat"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1494530471, "post_id": 43901926, "comment_id": 74880953, "body": "onDisconnect() is called every time;  but how do i wait to close the loop. Because when i call asyncio.get_event_loop().close() i got the exception. When i call  asyncio.get_event_loop().stop() and then called asyncio.get_event_loop().is_running() it return true."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1494534030, "post_id": 43901926, "comment_id": 74882997, "body": "My bad, I&#39;m wrong. I meant <code>loop.stop()</code> then <b>wait</b> then <code>loop.close()</code>. Read this Answer about <b>wait</b>: <a href=\"http://stackoverflow.com/a/43810272/7414759\">stackoverflow.com/a/43810272/7414759</a>"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 2112438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce4d5da11638550d89d9965c9b355b2a?s=128&d=identicon&r=PG", "display_name": "Jbeat", "link": "https://stackoverflow.com/users/2112438/jbeat"}, "is_accepted": true, "score": 0, "last_activity_date": 1494619786, "last_edit_date": 1494619786, "creation_date": 1494618460, "answer_id": 43945439, "question_id": 43901926, "link": "https://stackoverflow.com/questions/43901926/autobahn-python-rpc-with-pytest/43945439#43945439", "title": "Autobahn Python RPC with Pytest", "body": "<p>So basically, to return the value i create another module \"shared_result\" and i put one global variable in there to return the value from the component into the test class. As for the \"Event loop is closed\" exception i was getting, i do that before each time i call the runner : </p>\n\n<pre><code>loop = asyncio.new_event_loop()\nasyncio.set_event_loop(loop)\n</code></pre>\n\n<p>This is where i find the solution : \n<a href=\"https://github.com/aio-libs/aiohttp/issues/441\" rel=\"nofollow noreferrer\">https://github.com/aio-libs/aiohttp/issues/441</a></p>\n\n<p>If somebody can comment on this and explain why this is needed and gave me a better solution, it would be great. </p>\n"}], "owner": {"reputation": 101, "user_id": 2112438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce4d5da11638550d89d9965c9b355b2a?s=128&d=identicon&r=PG", "display_name": "Jbeat", "link": "https://stackoverflow.com/users/2112438/jbeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 43945439, "answer_count": 1, "score": 0, "last_activity_date": 1494619786, "creation_date": 1494447235, "question_id": 43901926, "link": "https://stackoverflow.com/questions/43901926/autobahn-python-rpc-with-pytest", "title": "Autobahn Python RPC with Pytest", "body": "<p>So in the application i have to test RPC call ( there is a webserver made with Autobahn Python ). I wanna do integration test on those. So I am using Pytest. The way i do it is like that :\n1) I have a test class like this : </p>\n\n<pre><code>@pytest.mark.incremental\nclass TestCreateUser:\n\n    @pytest.fixture(scope=\"function\", params=\"Json Test data\")\n    def create_user_data(self, request):\n        return request.param\n\n    def test_valid_user_creation(self, create_user_data):  \n        ws_realm = config[\"websocket\"][\"realm\"]\n\n        runner = ApplicationRunner(\n            url=\"%s://%s:%s/ws\" % (\n            config[\"websocket\"][\"protocol\"], config[\"websocket\"][\"host\"], config[\"websocket\"][\"port\"]),\n            realm=ws_realm,\n            extra={\"method\": u\"appname.create_user\", \"email\": create_user_data[\"username\"], create_user_data[\"password\"]}\n        )\n        runner.run(MyComponent)\n</code></pre>\n\n<p>Then i have a component called \"MyComponent\" :</p>\n\n<pre><code>def __init__(self, config=None):\n        super().__init__(config)\n\n    @asyncio.coroutine\n    def onJoin(self, details):\n        try:\n            result = yield from self.call(self.config.extra[\"method\"], self.config.extra[\"email\"], self.config.extra[\"password\"])\n        except Exception as e:\n            print(\"Error: {}\".format(e))\n        else:\n            print(result)\n\n        self.leave()\n\n    def onDisconnect(self):\n        asyncio.get_event_loop().stop()\n</code></pre>\n\n<p>So i have a few problems with that, first i cannot get the result of the RPC call in the test class and second when i ran multiple times \"test_valid_user_creation\" ( with the fixture system ) i got an error like this : </p>\n\n<pre><code>./../.pyenv/versions/novalibrary/lib/python3.4/site-packages/autobahn/asyncio/wamp.py:167: in run\n    (transport, protocol) = loop.run_until_complete(coro)\n../../.pyenv/versions/3.4.3/lib/python3.4/asyncio/base_events.py:293: in run_until_complete\n    self._check_closed()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = &lt;_UnixSelectorEventLoop running=False closed=True debug=False&gt;\n\n    def _check_closed(self):\n        if self._closed:\n&gt;           raise RuntimeError('Event loop is closed')\nE           RuntimeError: Event loop is closed\n\n../../.pyenv/versions/3.4.3/lib/python3.4/asyncio/base_events.py:265: RuntimeError\n</code></pre>\n\n<p>So my question is How do i retrieve the value of the RPC call AND how can i not get the \"Event loop is closed \" when the test is called multiple time with the fixture. </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1494447586, "post_id": 43901923, "comment_id": 74837890, "body": "Does the key in the <code>Cars</code> object in the JSON mean anything? For example, the second object has a key of <code>Robin</code>, should anything be done with that?"}, {"owner": {"reputation": 130, "user_id": 6921350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50b52304a28ad4607796090c8c0935d0?s=128&d=identicon&r=PG&f=1", "display_name": "Retro", "link": "https://stackoverflow.com/users/6921350/retro"}, "reply_to_user": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1494447981, "post_id": 43901923, "comment_id": 74838090, "body": "Thanks for the comment. No, it&#39;s just extra junk - it&#39;s probably easier for me to just edit it out in the JSON file so I&#39;ll amend the example."}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1494448198, "post_id": 43901923, "comment_id": 74838206, "body": "Have you tried anything on your own yet? Do you know how to instantiate classes and how to index dictionaries? Or, is one of those two things tripping you up? Also, your modified example JSON is invalid. You should change the <code>Cars</code> value to be a list rather than an object (eg. <code>[</code> instead of <code>{</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 130, "user_id": 6921350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50b52304a28ad4607796090c8c0935d0?s=128&d=identicon&r=PG&f=1", "display_name": "Retro", "link": "https://stackoverflow.com/users/6921350/retro"}, "edited": false, "score": 0, "creation_date": 1494456616, "post_id": 43902562, "comment_id": 74841734, "body": "This works great thank you, unfortunately I have tons of different cars to loop through, how would be best to put this into a loop?"}], "tags": [], "owner": {"reputation": 357, "user_id": 935448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2274cd91a419fba68b683518c8885d6b?s=128&d=identicon&r=PG", "display_name": "Fabiano", "link": "https://stackoverflow.com/users/935448/fabiano"}, "is_accepted": false, "score": 1, "last_activity_date": 1494449659, "creation_date": 1494449659, "answer_id": 43902562, "question_id": 43901923, "link": "https://stackoverflow.com/questions/43901923/decoding-objects-from-json-in-python/43902562#43902562", "title": "Decoding Objects from JSON in python", "body": "<p>If your file ensures that you have aways same order (name, colour, wheels) and same size (3 items), you can use something like this:</p>\n\n<p>JSON file (foo.json):</p>\n\n<pre><code>{\"Cars\":{\n\"Golf\":{\n  \"name\": \"Golf\",\n  \"colour\": \"red\",\n  \"wheels\": 4\n  },  \n\"Robin\": {\n  \"name\": \"Up\",\n  \"colour\": \"green\",\n  \"wheels\": 3\n  }\n  } \n}\n\n\n&gt;&gt;&gt; import json\n&gt;&gt;&gt; import collections\n&gt;&gt;&gt; data = ''.join(i.replace('\\n','') for i in open('foo.json').readlines())\n&gt;&gt;&gt; decoder = json.JSONDecoder(object_pairs_hook=collections.OrderedDict)\n&gt;&gt;&gt;\n&gt;&gt;&gt; class Car(object):\n...  def __init__(self, name, colour, wheels):\n...     self.name = name\n...     self.colour = colour\n...     self.wheels = wheels\n... \n&gt;&gt;&gt; j = decoder.decode(data)\n&gt;&gt;&gt; \n&gt;&gt;&gt; out_dict = {car:Car(*j['Cars'][car].values()) for car in j['Cars']}\n&gt;&gt;&gt;\n&gt;&gt;&gt; golf = out_dict['Golf']\n&gt;&gt;&gt; golf.name\nu'Golf'\n&gt;&gt;&gt; golf.colour\nu'red'\n&gt;&gt;&gt; golf.wheels\n4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 130, "user_id": 6921350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50b52304a28ad4607796090c8c0935d0?s=128&d=identicon&r=PG&f=1", "display_name": "Retro", "link": "https://stackoverflow.com/users/6921350/retro"}, "edited": false, "score": 0, "creation_date": 1494456543, "post_id": 43903634, "comment_id": 74841709, "body": "This looks good, but I&#39;m trying to load from an external JSON file - I&#39;ve tried to modify it but get: ValueError: No JSON object could be decoded  Any ideas?"}, {"owner": {"reputation": 6170, "user_id": 402551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5365a5d8c7b7389ef6c20a50189c8572?s=128&d=identicon&r=PG", "display_name": "opatut", "link": "https://stackoverflow.com/users/402551/opatut"}, "reply_to_user": {"reputation": 130, "user_id": 6921350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50b52304a28ad4607796090c8c0935d0?s=128&d=identicon&r=PG&f=1", "display_name": "Retro", "link": "https://stackoverflow.com/users/6921350/retro"}, "edited": false, "score": 0, "creation_date": 1494456713, "post_id": 43903634, "comment_id": 74841769, "body": "<code>json.load(open(&quot;filename.json&quot;))</code> then. Make sure your json is valid. Search the web for a json validator."}, {"owner": {"reputation": 6170, "user_id": 402551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5365a5d8c7b7389ef6c20a50189c8572?s=128&d=identicon&r=PG", "display_name": "opatut", "link": "https://stackoverflow.com/users/402551/opatut"}, "reply_to_user": {"reputation": 130, "user_id": 6921350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50b52304a28ad4607796090c8c0935d0?s=128&d=identicon&r=PG&f=1", "display_name": "Retro", "link": "https://stackoverflow.com/users/6921350/retro"}, "edited": false, "score": 0, "creation_date": 1494456830, "post_id": 43903634, "comment_id": 74841797, "body": "Trading commas are not allowed in JSON. Remove them from after the wheel count."}, {"owner": {"reputation": 130, "user_id": 6921350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50b52304a28ad4607796090c8c0935d0?s=128&d=identicon&r=PG&f=1", "display_name": "Retro", "link": "https://stackoverflow.com/users/6921350/retro"}, "edited": false, "score": 0, "creation_date": 1494456992, "post_id": 43903634, "comment_id": 74841846, "body": "Tried this, and have gotten &#39;TypeError: type object argument after ** must be a mapping, not unicode&#39; - I&#39;ve validated using JSONlint and removed the offending commas but the error still appears."}, {"owner": {"reputation": 6170, "user_id": 402551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5365a5d8c7b7389ef6c20a50189c8572?s=128&d=identicon&r=PG", "display_name": "opatut", "link": "https://stackoverflow.com/users/402551/opatut"}, "reply_to_user": {"reputation": 130, "user_id": 6921350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50b52304a28ad4607796090c8c0935d0?s=128&d=identicon&r=PG&f=1", "display_name": "Retro", "link": "https://stackoverflow.com/users/6921350/retro"}, "edited": false, "score": 0, "creation_date": 1494491372, "post_id": 43903634, "comment_id": 74853747, "body": "Apparently whatever variable you used with <code>**</code> contains a string (Unicode), not a dictionary. Are you iterating over you <code>decoded[&quot;Cars&quot;] </code> dictionary using <code>.values()</code> or <code>.items()</code> correctly?"}], "tags": [], "owner": {"reputation": 6170, "user_id": 402551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5365a5d8c7b7389ef6c20a50189c8572?s=128&d=identicon&r=PG", "display_name": "opatut", "link": "https://stackoverflow.com/users/402551/opatut"}, "is_accepted": false, "score": 1, "last_activity_date": 1494455059, "creation_date": 1494455059, "answer_id": 43903634, "question_id": 43901923, "link": "https://stackoverflow.com/questions/43901923/decoding-objects-from-json-in-python/43903634#43903634", "title": "Decoding Objects from JSON in python", "body": "<pre><code>import json\n\nclass Car(object):\n    def __init__(self, name, colour, wheels):\n        self.name = name\n        self.colour = colour\n        self.wheels = wheels\n\n    def __repr__(self):\n        return 'A {} {} with {} wheels'.format(self.colour, self.name, self.wheels)\n\nraw = '{\"name\": \"Ferrari\", \"colour\": \"red\", \"wheels\": 4}'\ndecoded = json.loads(raw)\ncar = Car(**decoded)\nprint(car)\n</code></pre>\n\n<p>You can use the <code>**</code> syntax to turn a dictionary into named parameters. Basically it transforms to a call like this: <code>Car(name=\"Ferrari\", colour=\"red\", wheels=\"4\")</code>. So you don't need to worry about the order.</p>\n\n<p>If you have a list, you can of course map over the JSON result:</p>\n\n<pre><code>raw = '[{...}, {...}]'\ndecoded = json.loads(raw)\ncars = [Car(**d) for d in decoded]\nprint(cars)\n</code></pre>\n"}], "owner": {"reputation": 130, "user_id": 6921350, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50b52304a28ad4607796090c8c0935d0?s=128&d=identicon&r=PG&f=1", "display_name": "Retro", "link": "https://stackoverflow.com/users/6921350/retro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1494455059, "creation_date": 1494447222, "last_edit_date": 1494453940, "question_id": 43901923, "link": "https://stackoverflow.com/questions/43901923/decoding-objects-from-json-in-python", "title": "Decoding Objects from JSON in python", "body": "<p>I have a class that looks like this:</p>\n\n<pre><code>class Car:\ndef __init__(self, name, colour, wheels):\n    self.name = name\n    self.colour = colour\n    self.wheels = wheels\n</code></pre>\n\n<p>I would like to create objects of the above class from the JSON file, which looks like this but with many entries:</p>\n\n<pre><code>  \"Cars\":[\n  {\n  \"name\": \"Golf\",\n  \"colour\": \"red\",\n  \"wheels\": 4,\n  },\n  {\n  \"name\": \"Up\",\n  \"colour\": \"green\",\n  \"wheels\": 3,\n  }\n  ]\n</code></pre>\n\n<p>And then add them to a dictionary with the layout {\"name\":object}. I've looked at the different tutorials and examples available, but most seems to be about dumping objects, not pulling them out and recreating objects from them. </p>\n"}, {"tags": ["python", "qt", "pyqt", "pyqt4"], "comments": [{"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1494447405, "post_id": 43901920, "comment_id": 74837811, "body": "Please correct your indentation."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1494455865, "post_id": 43901920, "comment_id": 74841514, "body": "What is your version of PyQt?"}], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1494456065, "creation_date": 1494456065, "answer_id": 43903787, "question_id": 43901920, "link": "https://stackoverflow.com/questions/43901920/arguments-did-not-match-any-overloaded-call/43903787#43903787", "title": "arguments did not match any overloaded call", "body": "<p>The way to connect a signal with its slot is the following:</p>\n\n<pre><code>{sender}.{signal}.connect({slot})\n</code></pre>\n\n<p>Considering that <code>AddBtn</code> is a button and you want to use the clicked signal your code should be as follows:</p>\n\n<pre><code>self.ui.AddBtn.clicked.connect(self.add)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7574165, "user_type": "registered", "profile_image": "https://graph.facebook.com/1835681930035313/picture?type=large", "display_name": "Sabri Fetoui", "link": "https://stackoverflow.com/users/7574165/sabri-fetoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3561, "favorite_count": 1, "accepted_answer_id": 43903787, "answer_count": 1, "score": 0, "last_activity_date": 1494456081, "creation_date": 1494447221, "last_edit_date": 1494456081, "question_id": 43901920, "link": "https://stackoverflow.com/questions/43901920/arguments-did-not-match-any-overloaded-call", "title": "arguments did not match any overloaded call", "body": "<p>i am using python and qt designer when i am working on my controller i have this error :</p>\n\n<blockquote>\n  <p>File \"/home/sabri/Bureau/PycharmProjects/PFE/Controller/Cat.py\",\n  line 14, in <strong>init</strong>\n      self.ui.AddBtn.connect(self.add) TypeError: arguments did not match any overloaded call:   QObject.connect(QObject, SIGNAL(),\n  QObject, SLOT(), Qt.ConnectionType=Qt.AutoConnection): argument 1 has\n  unexpected type 'instancemethod'   QObject.connect(QObject, SIGNAL(),\n  callable, Qt.ConnectionType=Qt.AutoConnection): argument 1 has\n  unexpected type 'instancemethod'   QObject.connect(QObject, SIGNAL(),\n  SLOT(), Qt.ConnectionType=Qt.AutoConnection): argument 1 has\n  unexpected type 'instancemethod'</p>\n</blockquote>\n\n<p>this is the first time i get this error , what's the problem ! \nand this is my code :</p>\n\n<pre><code>from PyQt4 import QtCore, QtGui\nfrom PFE.Classes.categorie import Category\nfrom PFE.Interfaces.Categorie import Ui_Categorie_2\n\nclass Window(QtGui.QDialog):\n\n    def __init__(self):\n        QtGui.QApplication.__init__(self)\n        self.ui = Ui_Categorie_2()\n        self.ui.setupUi(self)\n        self.ui.AddBtn.connect(self.add)\n\n\n    def add(self):\n        a = str(self.ui.textEdit.toPlainText())\n        b = str(self.ui.textEdit_2.toPlainText())\n        cat=Category(a, b)\n        cat.save_to_db()\n        print (\"ajout avec success \")\n\n\n\nif __name__ == '__main__':\n    import sys\n    app = QtGui.QApplication(sys.argv)\n    window = Window()\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7993884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9db98fd4d41f42e6cdcdccc521b17e?s=128&d=identicon&r=PG&f=1", "display_name": "bk_slick", "link": "https://stackoverflow.com/users/7993884/bk-slick"}, "edited": false, "score": 0, "creation_date": 1494528587, "post_id": 43902882, "comment_id": 74879896, "body": "I tried using &#39;placeholder&#39; as well and still got the timeout. The page being Angular I&#39;m sure has something to do with it, but I haven&#39;t been able to figure it out."}], "tags": [], "owner": {"reputation": 92, "user_id": 2646655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa3b6cc47fcd41b9a6898ad25245eb7?s=128&d=identicon&r=PG", "display_name": "mahesh", "link": "https://stackoverflow.com/users/2646655/mahesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1494450971, "creation_date": 1494450971, "answer_id": 43902882, "question_id": 43901901, "link": "https://stackoverflow.com/questions/43901901/trying-to-get-ng-model-with-no-id-using-selenium/43902882#43902882", "title": "Trying to get ng-model with no id using Selenium", "body": "<p>i cant see anything wrong with your code but why can't you try another locator like below</p>\n\n<pre><code>wait = WebDriverWait(driver, 20)\nzip = wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR,\"[placeholder='Your ZIP Code']\")))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7993884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9db98fd4d41f42e6cdcdccc521b17e?s=128&d=identicon&r=PG&f=1", "display_name": "bk_slick", "link": "https://stackoverflow.com/users/7993884/bk-slick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494450971, "creation_date": 1494447143, "question_id": 43901901, "link": "https://stackoverflow.com/questions/43901901/trying-to-get-ng-model-with-no-id-using-selenium", "title": "Trying to get ng-model with no id using Selenium", "body": "<p>trying get a angular input field via Selenium wiht no luck. Any help is appreciated</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control ng-pristine ng-valid ng-empty ng-valid-maxlength ng-touched\" id=\"\" placeholder=\"Your ZIP Code\" ng-model=\"zipCode\" ng-keyup=\"$event.keyCode == 13 &amp;amp;&amp;amp; searchBySize()\" maxlength=\"5\"&gt;\n</code></pre>\n\n<p>trying with</p>\n\n<pre><code>wait = WebDriverWait(driver, 20)\nzip = wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR,'input[ng-model=\"zipCode\"]')))\n</code></pre>\n\n<p>This times out and all other attempts end with 'str' object is not callable</p>\n\n<p>Please help. Thx</p>\n"}, {"tags": ["python", "linux", "excel", "bash"], "answers": [{"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 1, "last_activity_date": 1494450063, "creation_date": 1494450063, "answer_id": 43902671, "question_id": 43901884, "link": "https://stackoverflow.com/questions/43901884/conversion-text-to-number-in-python/43902671#43902671", "title": "Conversion text to number in python", "body": "<p>According to the documentation, you need to add a numeric format, and use it when you write cells which need numeric format.</p>\n\n<pre><code># Add a number format for cells with money.\nmoney = workbook.add_format({'num_format': '$#,##0'})\n\n...\n\nworksheet.write(row_idx, col_idx, your_value, money)\n</code></pre>\n\n<p>See <a href=\"http://xlsxwriter.readthedocs.io/tutorial02.html\" rel=\"nofollow noreferrer\">Tutorial 2: Adding formatting to the XLSX File</a></p>\n"}, {"comments": [{"owner": {"reputation": 561, "user_id": 2881857, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a60fe035da7c6e4bdd41787720cd1f18?s=128&d=identicon&r=PG&f=1", "display_name": "Geroge", "link": "https://stackoverflow.com/users/2881857/geroge"}, "edited": false, "score": 0, "creation_date": 1494492730, "post_id": 43909073, "comment_id": 74854674, "body": "Hi, thank you for comment. When I add this line to my script and try to run, I have an error: NameError: name &#39;xlsxwriter&#39; is not defined Any idea?"}, {"owner": {"reputation": 561, "user_id": 2881857, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a60fe035da7c6e4bdd41787720cd1f18?s=128&d=identicon&r=PG&f=1", "display_name": "Geroge", "link": "https://stackoverflow.com/users/2881857/geroge"}, "edited": false, "score": 0, "creation_date": 1494493428, "post_id": 43909073, "comment_id": 74855215, "body": "I changed xlsxwriter.Workbook(.. to xlsxwriter.workbook(... Because python is case sensitive, but still have the sam error: NameError: name &#39;xlsxwriter&#39; is not defined Exception Exception: Exception(&#39;Exception caught in workbook destructor. Explicit close() may be required for workbook.&#39;,) in &lt;bound method Workbook.__del__ of &lt;xlsxwriter.workbook.Workbook object at 0x7fbad4fd7c50&gt;&gt; ignored"}, {"owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "reply_to_user": {"reputation": 561, "user_id": 2881857, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a60fe035da7c6e4bdd41787720cd1f18?s=128&d=identicon&r=PG&f=1", "display_name": "Geroge", "link": "https://stackoverflow.com/users/2881857/geroge"}, "edited": false, "score": 1, "creation_date": 1494495116, "post_id": 43909073, "comment_id": 74856470, "body": "The syntax is correct. I&#39;m the author of the module. I&#39;ve added a working example that you can test."}, {"owner": {"reputation": 561, "user_id": 2881857, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a60fe035da7c6e4bdd41787720cd1f18?s=128&d=identicon&r=PG&f=1", "display_name": "Geroge", "link": "https://stackoverflow.com/users/2881857/geroge"}, "edited": false, "score": 0, "creation_date": 1494506490, "post_id": 43909073, "comment_id": 74864519, "body": "thank you for nice example. I am newbie in python.. My input text file has about 50 columns and I need to write as number for example only 10 columns. In my example I am using for loop - would be possible to show example how to modify my original script with for loop! Thank you again for your time!!"}, {"owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "reply_to_user": {"reputation": 561, "user_id": 2881857, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a60fe035da7c6e4bdd41787720cd1f18?s=128&d=identicon&r=PG&f=1", "display_name": "Geroge", "link": "https://stackoverflow.com/users/2881857/geroge"}, "edited": false, "score": 0, "creation_date": 1494509171, "post_id": 43909073, "comment_id": 74866687, "body": "For that case you should probably loop over the row <i>and</i> column and then only call <code>.write()</code> if <code>col &lt; 10</code>. But that is probably worth asking in another question."}, {"owner": {"reputation": 1114, "user_id": 10615691, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aYOwF1msSVI/AAAAAAAAAAI/AAAAAAAABrQ/uCErvj337f4/photo.jpg?sz=128", "display_name": "switchboard.op", "link": "https://stackoverflow.com/users/10615691/switchboard-op"}, "edited": false, "score": 0, "creation_date": 1587254996, "post_id": 43909073, "comment_id": 108439823, "body": "Thank you. this saved me a lot of headache."}], "tags": [], "owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "is_accepted": true, "score": 2, "last_activity_date": 1494495024, "last_edit_date": 1494495024, "creation_date": 1494487663, "answer_id": 43909073, "question_id": 43901884, "link": "https://stackoverflow.com/questions/43901884/conversion-text-to-number-in-python/43909073#43909073", "title": "Conversion text to number in python", "body": "<p>You can use the <code>strings_to_numbers</code> XlsxWriter constructor option. From the <a href=\"http://xlsxwriter.readthedocs.io/workbook.html#constructor\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><code>strings_to_numbers</code>: Enable the <code>worksheet.write()</code> method to convert strings to numbers, where possible, using <code>float()</code> in order to avoid an Excel warning about \u201cNumbers Stored as Text\u201d. The default is False. To enable this option use:</p>\n</blockquote>\n\n<pre><code>workbook = xlsxwriter.Workbook(filename, {'strings_to_numbers': True})\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>import xlsxwriter\n\nworkbook = xlsxwriter.Workbook('test.xlsx', {'strings_to_numbers': True})\nworksheet = workbook.add_worksheet()\n\nworksheet.write(0, 0, 'Hello')\nworksheet.write(1, 0, '123') # Write this string as a number.\n\nworkbook.close()\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/dl66d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dl66d.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 561, "user_id": 2881857, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a60fe035da7c6e4bdd41787720cd1f18?s=128&d=identicon&r=PG&f=1", "display_name": "Geroge", "link": "https://stackoverflow.com/users/2881857/geroge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4922, "favorite_count": 1, "accepted_answer_id": 43909073, "answer_count": 2, "score": 1, "last_activity_date": 1494495024, "creation_date": 1494447043, "question_id": 43901884, "link": "https://stackoverflow.com/questions/43901884/conversion-text-to-number-in-python", "title": "Conversion text to number in python", "body": "<p>input is a text table - some columns are numbers and some text. I have python script to convert this text file to xlsx. After open in Excel or Libre all fields are text. Is there any option to convert some columns to number?</p>\n\n<p>cat script.py:</p>\n\n<pre><code>import csv\nimport sys\nfrom xlsxwriter.workbook import Workbook\n\n# Add some command-line logic to read the file names.\ntsv_file = sys.argv[1]\nxlsx_file = sys.argv[2]\n\n# Create an XlsxWriter workbook object and add a worksheet.\nworkbook = Workbook(xlsx_file)\nworksheet = workbook.add_worksheet()\n\n# Create a TSV file reader.\ntsv_reader = csv.reader(open(tsv_file, 'rb'), delimiter='\\t')\n\n# Read the row data from the TSV file and write it to the XLSX file.\nfor row, data in enumerate(tsv_reader):\n    worksheet.write_row(row, 0, data)\n\n# Close the XLSX file.\nworkbook.close()\n</code></pre>\n\n<p>run script:</p>\n\n<pre><code>python script.py in.txt out.xlsx\n</code></pre>\n\n<p>I would like to change script to convert some columns to text and some to numbers and keep xlsx format. Any idea how to do that?</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 7957100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/845c433161b76847b8ee816fb2a2e5c7?s=128&d=identicon&r=PG&f=1", "display_name": "F.Bartos", "link": "https://stackoverflow.com/users/7957100/f-bartos"}, "is_accepted": true, "score": 0, "last_activity_date": 1494448563, "creation_date": 1494448563, "answer_id": 43902287, "question_id": 43901846, "link": "https://stackoverflow.com/questions/43901846/pygame-move-with-rectangle-leaves-a-line/43902287#43902287", "title": "pygame move with rectangle leaves a line", "body": "<p>I solved it with this code</p>\n\n<pre><code>import pygame as pg\nfrom map import Map\n\nclass Main:\n    def __init__(self):\n        self.gameDisplay = pg.display.set_mode((800,600))\n        pg.display.set_caption(\"Pacman\")\n        self.x = 360\n        self.y = 520\n        self.speed = 20\n        runGame = True\n        while runGame:\n\n            map = Map(self.gameDisplay)\n\n            for event in pg.event.get():\n                if event.type == pg.QUIT:\n                    runGame = False\n\n                if event.type == pg.KEYDOWN:\n                    if event.key == pg.K_w:\n                        self.y -= self.speed\n                    elif event.key == pg.K_a:\n                        self.x -= self.speed\n                    elif event.key == pg.K_s:\n                        self.y += self.speed\n                    elif event.key == pg.K_d:\n                        self.x += self.speed\n            self.gameDisplay.fill((0,0,0))\n            pg.draw.rect(self.gameDisplay, (255, 255, 0), [self.x, self.y, 40, 40])\n            map.renderMap()\n            pg.display.update()\n\n\n\n\npg.init()\nmain = Main()\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7957100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/845c433161b76847b8ee816fb2a2e5c7?s=128&d=identicon&r=PG&f=1", "display_name": "F.Bartos", "link": "https://stackoverflow.com/users/7957100/f-bartos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 43902287, "answer_count": 1, "score": 0, "last_activity_date": 1494448563, "creation_date": 1494446866, "question_id": 43901846, "link": "https://stackoverflow.com/questions/43901846/pygame-move-with-rectangle-leaves-a-line", "title": "pygame move with rectangle leaves a line", "body": "<p>I have this problem. I have rectangle and if I move it it wont delete that\nrectangle before leaving a line</p>\n\n<pre><code>import pygame as pg\nfrom map import Map\nclass Main:\n    def __init__(self):\n        self.gameDisplay = pg.display.set_mode((800,600))\n        pg.display.set_caption(\"Pacman\")\n        self.x = 360\n        self.y = 520\n        self.speed = 20\n        runGame = True\n        pg.draw.rect(self.gameDisplay, (255, 255, 0), [self.x, self.y, 40, 40])\n        while runGame:\n\n            map = Map(self.gameDisplay)\n\n            for event in pg.event.get():\n                if event.type == pg.QUIT:\n                    runGame = False\n\n                if event.type == pg.KEYDOWN:\n                    if event.key == pg.K_w:\n                        self.y -= self.speed\n                    elif event.key == pg.K_a:\n                        self.x -= self.speed\n                    elif event.key == pg.K_s:\n                        self.y += self.speed\n                    elif event.key == pg.K_d:\n                        self.x += self.speed\n            pg.draw.rect(self.gameDisplay, (255, 255, 0), [self.x, self.y, 40, 40])\n            map.renderMap()\n            pg.display.update()\n\n\n\n\npg.init()\nmain = Main()\n</code></pre>\n\n<p>This is what it creates in image <a href=\"https://i.stack.imgur.com/K4MzG.png\" rel=\"nofollow noreferrer\">problem in image</a></p>\n"}, {"tags": ["python", "python-2.7", "bloomberg"], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 5767739, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LLB2qdZywpY/AAAAAAAAAAI/AAAAAAAAZ8k/N42RyWht1m4/photo.jpg?sz=128", "display_name": "Morgan Williams", "link": "https://stackoverflow.com/users/5767739/morgan-williams"}, "is_accepted": true, "score": 1, "last_activity_date": 1494493892, "last_edit_date": 1494493892, "creation_date": 1494483119, "answer_id": 43907786, "question_id": 43901827, "link": "https://stackoverflow.com/questions/43901827/using-the-bloomberg-api-for-python-how-do-you-get-the-historical-aum-for-a-fund/43907786#43907786", "title": "Using the Bloomberg API for Python, how do you get the historical AUM for a fund&#39;s ticker?", "body": "<p>You can use the field <code>FUND_TOTAL_ASSETS</code> with your required fund, e.g. <code>MABAX US Equity</code>. It works just the same as <code>PX_LAST</code> does for an equity security.</p>\n"}], "owner": {"reputation": 1623, "user_id": 3453901, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/595dbc4484c4e615143ab807a3df288a?s=128&d=identicon&r=PG&f=1", "display_name": "Alex F", "link": "https://stackoverflow.com/users/3453901/alex-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 1, "accepted_answer_id": 43907786, "answer_count": 1, "score": 0, "last_activity_date": 1494493892, "creation_date": 1494446809, "question_id": 43901827, "link": "https://stackoverflow.com/questions/43901827/using-the-bloomberg-api-for-python-how-do-you-get-the-historical-aum-for-a-fund", "title": "Using the Bloomberg API for Python, how do you get the historical AUM for a fund&#39;s ticker?", "body": "<p>I currently have the Bloomberg API for C++ and Python installed on my machine. I have written code which gets the historical closing price of a stock using the code:</p>\n\n<pre><code>import tia.bbg.datamgr as dm\nimport pandas as pd\n\nmgr = dm.BbgDataManager()\nsids = mgr['GOOG']\ndf = sids.get_historical('PX_LAST', '12/1/2005', datetime.today())\n</code></pre>\n\n<p>Can someone tell me how to get the historical AUM of a given ticker?</p>\n"}, {"tags": ["python", "windows", "wxpython"], "answers": [{"tags": [], "owner": {"reputation": 426, "user_id": 3255378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6eddd87ae6af12362d417ca8907ec5d?s=128&d=identicon&r=PG&f=1", "display_name": "JCC", "link": "https://stackoverflow.com/users/3255378/jcc"}, "is_accepted": true, "score": 1, "last_activity_date": 1494447117, "creation_date": 1494447117, "answer_id": 43901894, "question_id": 43901800, "link": "https://stackoverflow.com/questions/43901800/how-can-i-set-the-transparency-key-for-a-windows-hwnd-in-python/43901894#43901894", "title": "How can I set the transparency key for a Windows hwnd in Python?", "body": "<p>Murphy's Law, I found the answer right after asking.</p>\n\n<p>The win32gui module has a function to set a transparency key. </p>\n\n<p><strong><a href=\"http://docs.activestate.com/activepython/3.2/pywin32/win32gui__SetLayeredWindowAttributes_meth.html\" rel=\"nofollow noreferrer\">win32gui.SetLayeredWindowAttributes</a></strong></p>\n\n<hr>\n\n<pre><code>SetLayeredWindowAttributes(hwnd, Key, Alpha, Flags)\n\n    Sets the opacity and transparency color key of a layered window.\n\nParameters\n\n    hwnd : PyHANDLE\n\n        handle to the layered window\n\n    Key : int\n\n        Specifies the color key. Use win32api::RGB to generate value.\n\n    Alpha : int\n\n        Opacity, in the range 0-255\n\n    Flags : int\n\n        Combination of win32con.LWA_* values\n</code></pre>\n"}], "owner": {"reputation": 426, "user_id": 3255378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6eddd87ae6af12362d417ca8907ec5d?s=128&d=identicon&r=PG&f=1", "display_name": "JCC", "link": "https://stackoverflow.com/users/3255378/jcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 43901894, "answer_count": 1, "score": 0, "last_activity_date": 1494953664, "creation_date": 1494446701, "last_edit_date": 1494953664, "question_id": 43901800, "link": "https://stackoverflow.com/questions/43901800/how-can-i-set-the-transparency-key-for-a-windows-hwnd-in-python", "title": "How can I set the transparency key for a Windows hwnd in Python?", "body": "<p>I'm looking to make the background of my wxPython window (and only the background) transparent.</p>\n\n<p>In Windows, forms can have a <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.form.transparencykey(v=vs.110).aspx\" rel=\"nofollow noreferrer\">transparency key.</a> This allows the user to give windows \"transparent\" backgrounds, by setting the background to the transparency key color. </p>\n\n<p>There doesn't appear to be an option to do this in wx. Given my window's HWND, how can I set this directly?</p>\n"}, {"tags": ["python", "python-3.x", "tensorflow", "windows-10", "anaconda"], "comments": [{"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 1, "creation_date": 1494446727, "post_id": 43901767, "comment_id": 74837480, "body": "Please include a <b><a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a></b> <i>in the question</i>, not via a link."}, {"owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "reply_to_user": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1494447138, "post_id": 43901767, "comment_id": 74837673, "body": "@aryamccarthyI followed the instruction on the git repo, didn&#39;t change their code and when I ran it got the above error. I am not sure why you are voting to close it."}, {"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 3, "creation_date": 1494448064, "post_id": 43901767, "comment_id": 74838133, "body": "Because your linked code is not <i>minimal</i>."}, {"owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "reply_to_user": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 1, "creation_date": 1494448146, "post_id": 43901767, "comment_id": 74838173, "body": "I have shown exactly what needs to be run and what&#39;s the version of tensorflow I have which helps to easily reproduce the problem if you just download the repo!"}, {"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 1, "creation_date": 1494448336, "post_id": 43901767, "comment_id": 74838265, "body": "I&#39;m not questioning the reproducibility. I agree that it&#39;s complete and verifiable, but it&#39;s also a few hundred SLOCs."}], "answers": [{"tags": [], "owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "is_accepted": true, "score": 0, "last_activity_date": 1494449955, "creation_date": 1494449955, "answer_id": 43902645, "question_id": 43901767, "link": "https://stackoverflow.com/questions/43901767/valueerror-shapes-2-1-and-are-incompatible/43902645#43902645", "title": "ValueError: Shapes (2, 1) and () are incompatible", "body": "<p>Installed the tensorflow 0.12 and the code worked perfectly with no change:\n<a href=\"https://i.stack.imgur.com/S1xPS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S1xPS.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>(py35) E:\\opensource_codes\\gesture_recognition\\hand3d-master&gt;pip install tensorflow==1.2.0\nCollecting tensorflow==1.2.0\n  Could not find a version that satisfies the requirement tensorflow==1.2.0 (from versions: 0.12.0rc0, 0.12.0rc1, 0.12.0, 0.12.1, 1.0.0, 1.0.1, 1.1.0rc0, 1.1.0rc1, 1.1.0rc2, 1.1.0)\nNo matching distribution found for tensorflow==1.2.0\n\n(py35) E:\\opensource_codes\\gesture_recognition\\hand3d-master&gt;pip install tensorflow==0.12.1\nCollecting tensorflow==0.12.1\n  Downloading tensorflow-0.12.1-cp35-cp35m-win_amd64.whl (13.7MB)\n    100% |################################| 13.8MB 130kB/s\nRequirement already satisfied: numpy&gt;=1.11.0 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==0.12.1)\nRequirement already satisfied: protobuf&gt;=3.1.0 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==0.12.1)\nRequirement already satisfied: six&gt;=1.10.0 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==0.12.1)\nRequirement already satisfied: wheel&gt;=0.26 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==0.12.1)\nRequirement already satisfied: setuptools in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from protobuf&gt;=3.1.0-&gt;tensorflow==0.12.1)\nRequirement already satisfied: packaging&gt;=16.8 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from setuptools-&gt;protobuf&gt;=3.1.0-&gt;tensorflow==0.12.1)\nRequirement already satisfied: appdirs&gt;=1.4.0 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from setuptools-&gt;protobuf&gt;=3.1.0-&gt;tensorflow==0.12.1)\nRequirement already satisfied: pyparsing in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from packaging&gt;=16.8-&gt;setuptools-&gt;protobuf&gt;=3.1.0-&gt;tensorflow==0.12.1)\nInstalling collected packages: tensorflow\n  Found existing installation: tensorflow 1.1.0rc0\n    Uninstalling tensorflow-1.1.0rc0:\n      Successfully uninstalled tensorflow-1.1.0rc0\nSuccessfully installed tensorflow-0.12.1\n\n(py35) E:\\opensource_codes\\gesture_recognition\\hand3d-master&gt;python run.py\n</code></pre>\n"}], "owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3060, "favorite_count": 0, "accepted_answer_id": 43902645, "answer_count": 1, "score": -1, "last_activity_date": 1494449955, "creation_date": 1494446579, "last_edit_date": 1494449076, "question_id": 43901767, "link": "https://stackoverflow.com/questions/43901767/valueerror-shapes-2-1-and-are-incompatible", "title": "ValueError: Shapes (2, 1) and () are incompatible", "body": "<p>I have to use Tensorflow 0.11 for <a href=\"https://github.com/lmb-freiburg/hand3d\" rel=\"nofollow noreferrer\">this code repo</a> and this is the error I get:</p>\n\n<pre><code>(py35) E:\\opensource_codes\\gesture_recognition\\hand3d-master&gt;python run.py\nTraceback (most recent call last):\n  File \"run.py\", line 47, in &lt;module&gt;\n    keypoints_scoremap_tf, keypoint_coord3d_tf = net.inference(image_tf, hand_side_tf, evaluation)\n  File \"E:\\opensource_codes\\gesture_recognition\\hand3d-master\\net.py\", line 37, in inference\n    hand_mask = single_obj_scoremap(hand_scoremap)\n  File \"E:\\opensource_codes\\gesture_recognition\\hand3d-master\\utils.py\", line 246, in single_obj_scoremap\n    max_loc = find_max_location(scoremap_fg)\n  File \"E:\\opensource_codes\\gesture_recognition\\hand3d-master\\utils.py\", line 228, in find_max_location\n    xy_loc.append(tf.concat(0, [x_loc, y_loc]))\n  File \"C:\\Users\\mona6\\AppData\\Local\\conda\\conda\\envs\\py35\\lib\\site-packages\\tensorflow\\python\\ops\\array_ops.py\", line 1030, in concat\n    ).assert_is_compatible_with(tensor_shape.scalar())\n  File \"C:\\Users\\mona6\\AppData\\Local\\conda\\conda\\envs\\py35\\lib\\site-packages\\tensorflow\\python\\framework\\tensor_shape.py\", line 735, in assert_is_compatible_with\n    raise ValueError(\"Shapes %s and %s are incompatible\" % (self, other))\nValueError: Shapes (2, 1) and () are incompatible\n\n(py35) E:\\opensource_codes\\gesture_recognition\\hand3d-master&gt;python\nPython 3.5.3 |Continuum Analytics, Inc.| (default, Feb 22 2017, 21:28:42) [MSC v.1900 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import tensorflow as tf\n&gt;&gt;&gt; tf.__version__\n'1.1.0'\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Please suggest fixes.</p>\n\n<p>The error seems to stem from the line <code>xy_loc.append(tf.concat(0, [x_loc, y_loc]))</code></p>\n\n<p>I wanted to make sure that I have the same exact subversion of Tensorflow so I did so but still get the above error.</p>\n\n<pre><code>(py35) E:\\opensource_codes\\gesture_recognition\\hand3d-master&gt;pip install tensorflow==1.1.0rc0\nCollecting tensorflow==1.1.0rc0\n  Using cached tensorflow-1.1.0rc0-cp35-cp35m-win_amd64.whl\nRequirement already satisfied: protobuf&gt;=3.2.0 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==1.1.0rc0)\nRequirement already satisfied: six&gt;=1.10.0 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==1.1.0rc0)\nRequirement already satisfied: werkzeug&gt;=0.11.10 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==1.1.0rc0)\nRequirement already satisfied: wheel&gt;=0.26 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==1.1.0rc0)\nRequirement already satisfied: numpy&gt;=1.11.0 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from tensorflow==1.1.0rc0)\nRequirement already satisfied: setuptools in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from protobuf&gt;=3.2.0-&gt;tensorflow==1.1.0rc0)\nRequirement already satisfied: appdirs&gt;=1.4.0 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from setuptools-&gt;protobuf&gt;=3.2.0-&gt;tensorflow==1.1.0rc0)\nRequirement already satisfied: packaging&gt;=16.8 in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from setuptools-&gt;protobuf&gt;=3.2.0-&gt;tensorflow==1.1.0rc0)\nRequirement already satisfied: pyparsing in c:\\users\\mona6\\appdata\\local\\conda\\conda\\envs\\py35\\lib\\site-packages (from packaging&gt;=16.8-&gt;setuptools-&gt;protobuf&gt;=3.2.0-&gt;tensorflow==1.1.0rc0)\nInstalling collected packages: tensorflow\n  Found existing installation: tensorflow 1.1.0\n    Uninstalling tensorflow-1.1.0:\n      Successfully uninstalled tensorflow-1.1.0\nSuccessfully installed tensorflow-1.1.0rc0\n</code></pre>\n"}, {"tags": ["python", "csv", "output"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1494490374, "post_id": 43901741, "comment_id": 74853184, "body": "Take a look at <a href=\"https://docs.python.org/3/library/configparser.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/configparser.html</a>. Maybe this is more suited for you."}, {"owner": {"reputation": 133, "user_id": 7695389, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209479785047916/picture?type=large", "display_name": "Sander Voss", "link": "https://stackoverflow.com/users/7695389/sander-voss"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1494535709, "post_id": 43901741, "comment_id": 74883866, "body": "Oh wow that is actually a very nice feature, never knew about that thanks! So there is basically already a class for what I am trying to create. I&#39;ll see if it is worth switching to this"}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 7695389, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209479785047916/picture?type=large", "display_name": "Sander Voss", "link": "https://stackoverflow.com/users/7695389/sander-voss"}, "is_accepted": true, "score": 0, "last_activity_date": 1494535960, "creation_date": 1494535960, "answer_id": 43925327, "question_id": 43901741, "link": "https://stackoverflow.com/questions/43901741/how-to-write-user-edited-variables-outside-globals-to-csv-in-python-using-a/43925327#43925327", "title": "How to write user edited variables (outside globals()) to csv in python using a string to get value", "body": "<p>As stovfl pointed out there is a nice class for writing configuration files in Python, that is definitely the best way to solve it if you are still starting from scratch. </p>\n\n<p>However, I also found how to get my thing to work. Where I had the following: </p>\n\n<p>The line in the else statement:</p>\n\n<pre><code>value = self.var_name\n</code></pre>\n\n<p>Should be changed to </p>\n\n<pre><code>value = getattr(self,var_name)\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 7695389, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209479785047916/picture?type=large", "display_name": "Sander Voss", "link": "https://stackoverflow.com/users/7695389/sander-voss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 43925327, "answer_count": 1, "score": 1, "last_activity_date": 1494535960, "creation_date": 1494446468, "question_id": 43901741, "link": "https://stackoverflow.com/questions/43901741/how-to-write-user-edited-variables-outside-globals-to-csv-in-python-using-a", "title": "How to write user edited variables (outside globals()) to csv in python using a string to get value", "body": "<p>Let me quickly introduce the scenario. For a knowledge based engineering course I am to create a business jet using ParaPy (python based KBE software). The user should be able to change variables in an input file, the input file is to include units and comments. The program will then create a geometry and open this in a GUI, the user is able to change said variables interactively in the GUI. The user should than be able to save the current values to an output file that has the exact same format as the input file, so including the units and comments. I'm sorry for the fact that the problem is not recreatable without the ParaPy software but I found it difficult to describe without using the entire scenario. </p>\n\n<p>I thought it would be suitable to use CSV for this. The reading part works fine but I am running into trouble with the writing part. A simplified version of the case has the following code. This creates a box geometry from the width, height, and length variables. These are the variables that can be edited in the GUI and which I need to save again. However, I have no idea how to access them without hardcoding it. I was trying to use the input file to read the variable name and then request the value using that name (see else stamen in  <strong>def save_vars(self):</strong>). </p>\n\n<pre><code>from parapy.core import *\nfrom parapy.geom import *\nfrom csv_in_out import *\n\nclass Boxy(Base):\n    # Read function from external file\n    read = ReadInput(file_name='box.csv')\n    # Create dict\n    variables = read.read_input\n\n    # Set the editable variables\n    width = Input(variables[\"width\"])\n    height = Input(variables[\"height\"])\n    length = Input(variables[\"length\"])\n\n    @Part\n    # Create the geometry\n    def box1(self):\n        return Box(width=self.width,\n                   height=self.height,\n                   length=self.length)\n\n    @Attribute\n    def save_vars(self):\n        path = self.read.generate_path\n        first_row = True\n        with open(path[0], 'rb') as file:  # Open file\n            reader = csv.reader(file, delimiter=',', quotechar='|')  # Read into reader and section rows and columns\n            with open(path[1], 'wb') as outfile:\n                filewriter = csv.writer(outfile, delimiter=',', quotechar='|')\n                for row in reader:\n                    if first_row == True:\n                        filewriter.writerow(row)\n                        first_row = False\n                    else:\n                        # Find the name of the variable that we want to request and save\n                        var_name = row[0]\n\n                        value = self.var_name # I know this does not work, but I basically want to get the input variables\n                        # Update the value in row\n                        row[1] = value\n                        # Write the row to a new file\n                        filewriter.writerow(row)\n        return 'Saved'\n\n\nif __name__ == '__main__':\n    from parapy.gui import display\n\n    obj = Boxy()\n    display(obj)\n</code></pre>\n\n<p>Below is the csv file that I used for this. </p>\n\n<pre><code>var_name,Value,Unit,Comment\nwidth,2,[m],Width of the box\nheight,3,[m],Height of the box\nlength,4,[m],Length of the box\n</code></pre>\n\n<p>Thank you for taking the time to look at my problem. If anything is unclear or you need more information please let me know. </p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "is_accepted": false, "score": 1, "last_activity_date": 1494449248, "last_edit_date": 1494449248, "creation_date": 1494447698, "answer_id": 43902059, "question_id": 43901717, "link": "https://stackoverflow.com/questions/43901717/convert-a-list-tuples-index-listfeatures-to-a-dataframe-with-column-values/43902059#43902059", "title": "Convert a list tuples (index, list(features)) to a DataFrame with column values as booleans of features", "body": "<p>Not really \"built-in\", but pretty quick:</p>\n\n<pre><code>l = [(1, [1,2]), (2, [1,2]), (3,[1])]\n\ndf = pd.DataFrame([ i[1] for i in l ], index = [ i[0] for i in l ]).notnull()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>      0      1\n1  True   True\n2  True   True\n3  True  False\n</code></pre>\n\n<p>...if the column names don't absolutely need to be 1, 2.</p>\n\n<p>and a shameless rip-off of @piRSquared's solution if they do need to be:</p>\n\n<pre><code>df = pd.DataFrame([ i[1] for i in l ], [ i[0] for i in l ], [ 1, 2 ]).notnull()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1494447873, "creation_date": 1494447873, "answer_id": 43902099, "question_id": 43901717, "link": "https://stackoverflow.com/questions/43901717/convert-a-list-tuples-index-listfeatures-to-a-dataframe-with-column-values/43902099#43902099", "title": "Convert a list tuples (index, list(features)) to a DataFrame with column values as booleans of features", "body": "<pre><code>index, data = zip(*[(1, [1,2]), (2, [1,2]), (3,[1])])\npd.DataFrame(list(data), index, [1, 2]).notnull()\n\n      1      2\n1  True   True\n2  True   True\n3  True  False\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "is_accepted": false, "score": 1, "last_activity_date": 1494449441, "creation_date": 1494449441, "answer_id": 43902511, "question_id": 43901717, "link": "https://stackoverflow.com/questions/43901717/convert-a-list-tuples-index-listfeatures-to-a-dataframe-with-column-values/43902511#43902511", "title": "Convert a list tuples (index, list(features)) to a DataFrame with column values as booleans of features", "body": "<pre><code># use from_dict to load the list after converting it to a dict.\ndf = pd.DataFrame.from_dict({e[0]:e[1] for e in l},orient='index')&gt;0\n\n      0      1\n1  True   True\n2  True   True\n3  True  False\n</code></pre>\n\n<p>If you want column name to be 1,2</p>\n\n<pre><code>df.columns=[1,2]\n\ndf\nOut[231]: \n      1      2\n1  True   True\n2  True   True\n3  True  False\n</code></pre>\n"}], "owner": {"reputation": 9427, "user_id": 673760, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bd1ef1db177ba6274f7ab86557280bbd?s=128&d=identicon&r=PG", "display_name": "Bartlomiej Lewandowski", "link": "https://stackoverflow.com/users/673760/bartlomiej-lewandowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1494449441, "creation_date": 1494446361, "question_id": 43901717, "link": "https://stackoverflow.com/questions/43901717/convert-a-list-tuples-index-listfeatures-to-a-dataframe-with-column-values", "title": "Convert a list tuples (index, list(features)) to a DataFrame with column values as booleans of features", "body": "<p>I have a following data list:</p>\n\n<p><code>[(1, [1,2]), (2, [1,2]), (3,[1])]</code></p>\n\n<p>and would like to transform this into a pandas dataframe</p>\n\n<pre><code>   1   2  \n1 True True\n2 True True\n3 True False\n</code></pre>\n\n<p>Is there a builtin method for this?</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-rest-framework", "dynamic-class"], "answers": [{"comments": [{"owner": {"reputation": 168, "user_id": 1524276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f6396a88309b61fa2e6c1168d065c?s=128&d=identicon&r=PG", "display_name": "bah", "link": "https://stackoverflow.com/users/1524276/bah"}, "edited": false, "score": 0, "creation_date": 1494453226, "post_id": 43902268, "comment_id": 74840568, "body": "I had to change the signature of the <b>init</b> method:  def __init__(self, dyn_fields=None, *args, **kwargs).  Now I am getting the error &#39;DynamicSerializer&#39; object is not callable."}, {"owner": {"reputation": 631, "user_id": 2692704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d719c39fe3b8aa28294a1dc9527b4e25?s=128&d=identicon&r=PG", "display_name": "foobarna", "link": "https://stackoverflow.com/users/2692704/foobarna"}, "reply_to_user": {"reputation": 168, "user_id": 1524276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f6396a88309b61fa2e6c1168d065c?s=128&d=identicon&r=PG", "display_name": "bah", "link": "https://stackoverflow.com/users/1524276/bah"}, "edited": false, "score": 0, "creation_date": 1494492517, "post_id": 43902268, "comment_id": 74854540, "body": "You are getting this issue because not overriding <code>get_serializer_class</code> is what you need. Take a look here <a href=\"https://github.com/encode/django-rest-framework/blob/master/rest_framework/generics.py#L105-L130\" rel=\"nofollow noreferrer\">github.com/encode/django-rest-framework/blob/master/&hellip;</a> <code>get_serializer_class</code> expects to return a class (a callable), not an instance. You should override <code>get_serializer()</code>."}, {"owner": {"reputation": 168, "user_id": 1524276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f6396a88309b61fa2e6c1168d065c?s=128&d=identicon&r=PG", "display_name": "bah", "link": "https://stackoverflow.com/users/1524276/bah"}, "edited": false, "score": 0, "creation_date": 1494881175, "post_id": 43902268, "comment_id": 75006208, "body": "Thanks for your help and pointing me in the right direction.  In this case, you can&#39;t use positional arguments as it causes issues.  See here <a href=\"https://github.com/encode/django-rest-framework/issues/4397\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 168, "user_id": 1524276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f6396a88309b61fa2e6c1168d065c?s=128&d=identicon&r=PG", "display_name": "bah", "link": "https://stackoverflow.com/users/1524276/bah"}, "edited": false, "score": 0, "creation_date": 1494949387, "post_id": 43902268, "comment_id": 75040188, "body": "<code>class DynamicSerializer(serializers.Serializer):         read_at = serializers.DateTimeField()         def __init__(self, *args, **kwargs):             dyn_fields = kwargs.pop(&#39;dyn_fields&#39;)             for field in dyn_fields:                 self.fields[field] = serializers.FloatField()             super(DynamicSerializer, self).__init__(*args, **kwargs)</code>"}, {"owner": {"reputation": 168, "user_id": 1524276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f6396a88309b61fa2e6c1168d065c?s=128&d=identicon&r=PG", "display_name": "bah", "link": "https://stackoverflow.com/users/1524276/bah"}, "edited": false, "score": 0, "creation_date": 1494949404, "post_id": 43902268, "comment_id": 75040195, "body": "<code>def get_serializer(self, *args, **kwargs):         site = self.kwargs[&#39;site&#39;]         device = Device.objects.filter(reader__site__slug=site).order_by(&#39;cod&zwnj;&#8203;e&#39;)         dyn_fields = [&#39;x%s&#39; % a.code for a in devices]         kwargs[&#39;dyn_fields&#39;] = dyn_fields         return DynamicSerializer(*args, **kwargs)</code>"}], "tags": [], "owner": {"reputation": 631, "user_id": 2692704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d719c39fe3b8aa28294a1dc9527b4e25?s=128&d=identicon&r=PG", "display_name": "foobarna", "link": "https://stackoverflow.com/users/2692704/foobarna"}, "is_accepted": true, "score": 0, "last_activity_date": 1494448462, "creation_date": 1494448462, "answer_id": 43902268, "question_id": 43901686, "link": "https://stackoverflow.com/questions/43901686/issues-with-django-rest-framework-using-dynamic-serializer/43902268#43902268", "title": "Issues with django rest framework using dynamic serializer", "body": "<p>Here, only the fields are dynamic, the base serializer is the same. In order to make it work, we will change only the fields on the <code>DynamicSerializer</code></p>\n\n<p>in <code>serializers.py</code> you would have:</p>\n\n<pre><code>class DynamicSerializer(serializers.Serializer):\n    read_at = serializers.DateTimeField()\n\n    class Meta:\n        fields = ('read_at')\n\n    def __init__(*args, dyn_fields=None, **kwargs):\n        dyn_fields = dyn_fields or []\n        for field in dyn_fields:\n            self.fields[field] = serializers.FloatField()\n\n        super(DynamicSerializer, self).__init__(*args, **kwargs)\n</code></pre>\n\n<p>and in the <code>views.py</code> on the <code>get_serializer_class</code> method you would <code>return DynamicSerializer(dyn_fields=dyn_fields)</code></p>\n\n<p>for more info visit <a href=\"http://www.django-rest-framework.org/api-guide/serializers/#dynamically-modifying-fields\" rel=\"nofollow noreferrer\" title=\"DRF Dynamically modifying fields\">http://www.django-rest-framework.org/api-guide/serializers/#dynamically-modifying-fields</a></p>\n"}], "owner": {"reputation": 168, "user_id": 1524276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f6396a88309b61fa2e6c1168d065c?s=128&d=identicon&r=PG", "display_name": "bah", "link": "https://stackoverflow.com/users/1524276/bah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 43902268, "answer_count": 1, "score": 0, "last_activity_date": 1494482202, "creation_date": 1494446250, "question_id": 43901686, "link": "https://stackoverflow.com/questions/43901686/issues-with-django-rest-framework-using-dynamic-serializer", "title": "Issues with django rest framework using dynamic serializer", "body": "<p>I'm have a dynamic dataset I am trying to use with the Django REST Framework by dynamically creating serializer, but it doesn't seem to process the dynamic attributes I add.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>-- views.py\nclass DynamicReadings(generics.ListAPIView):\n    def get_serializer_class(self):\n        site = self.kwargs['site']\n        devices = Device.objects.filter(reader__site__slug=site).order_by('code')\n        dyn_fields = ['x%s' % a.code for a in devices]\n        return SerializerClassFactory(dyn_fields)\n\n    def get_queryset(self):\n        ...\n        # the query is correct and returns data\n\n-- serializers.py\ndef SerializerClassFactory(dyn_fields):\nclass DynamicSerializer(serializers.Serializer):\n    read_at = serializers.DateTimeField()\n\n    class Meta:\n        fields = ('read_at')\n\n    for f in dyn_fields:\n        setattr(DynamicSerializer, f, serializers.FloatField())\n    DynamicSerializer.Meta.fields += ','.join(\"'%s'\" % f for f in dyn_fields)\n\n    return DynamicSerializer\n</code></pre>\n\n<p>When I execute the code, only the attribute (read_at) specified in the class definition is serialized.  None of the dynamic attributes appear to be working.</p>\n\n<p>Example:</p>\n\n<p>[{\"read_at\":\"2017-05-07T00:12:29Z\"},{\"read_at\":\"2017-05-08T00:12:30Z\"}]</p>\n\n<p>Here is the output of the class after creation in shell:</p>\n\n<pre><code>&gt;&gt;&gt; serializer = SerializerClassFactory(['x01', 'x02', 'x03'])\n&gt;&gt;&gt; serializer.__dict__\nmappingproxy({'__module__': 'xxx.api.serializers', \n'Meta': &lt;class 'xxx.api.serializers.SerializerClassFactory.&lt;locals&gt;.DynamicSerializer.Meta'&gt;, \n'x02': FloatField(), '_declared_fields': OrderedDict([('read_at', DateTimeField())]), \n'__doc__': None, 'x01': FloatField(), 'x03': FloatField()})\n</code></pre>\n\n<p>Additionally, I've tried:</p>\n\n<pre><code>setattr(DynamicSerializer, f, property(serializers.FloatField()))\nsetattr(DynamicSerializer, f, type(serializers.FloatField()))\n</code></pre>\n\n<p>I'm not sure what I am doing wrong.</p>\n"}, {"tags": ["python", "powershell"], "comments": [{"owner": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494447965, "post_id": 43901669, "comment_id": 74838079, "body": "If you use the full path to Powershell (<code>C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe</code>), are you getting the same behavior? Environment variables are expectedly shared between Python and native Windows tools, but Python might not be able to look for exe&#39;s in Path as you&#39;re expecting."}, {"owner": {"reputation": 63, "user_id": 5670593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6352e88a276b20ed2746c8cff206c984?s=128&d=identicon&r=PG&f=1", "display_name": "Dejarr", "link": "https://stackoverflow.com/users/5670593/dejarr"}, "reply_to_user": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494448538, "post_id": 43901669, "comment_id": 74838361, "body": "@nferrell Yes, it hangs in the same spot. Also if I change out the name of the script to an invalid one, it throws up a powershell error about it being invalid, so it seems to be getting as far as opening the script within powershell..."}, {"owner": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494458448, "post_id": 43901669, "comment_id": 74842208, "body": "What parameters does your PS1 have? Trying to figure out what <code>group</code> and <code>&quot;{}&quot;</code> fill in. Assuming whatever parameters you have on the file have the Position attribute set, seeing as you&#39;re not naming any parameters after your call to the file?"}, {"owner": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494458507, "post_id": 43901669, "comment_id": 74842228, "body": "Also, is your file hitting any mapped drives that expand to a UNC path? If so, try inputting the full UNC path instead of the mapped drive letter"}, {"owner": {"reputation": 63, "user_id": 5670593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6352e88a276b20ed2746c8cff206c984?s=128&d=identicon&r=PG&f=1", "display_name": "Dejarr", "link": "https://stackoverflow.com/users/5670593/dejarr"}, "reply_to_user": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494461554, "post_id": 43901669, "comment_id": 74842870, "body": "@nferrell The PS1 is finding the Distinguished Name of an AD group. The script works for groups OR users, so the &#39;group&#39; is the type of object it&#39;s looking for and the {} format is filling in the name of the group. With this use in python I only care about groups so I just added it onto the end instead of allowing it be changed. As for the UNC path question, everything should be on the local machine, it&#39;s just reaching out to AD for the info."}, {"owner": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494462958, "post_id": 43901669, "comment_id": 74843146, "body": "Gotcha - going through ADSI or using the ActiveDirectory module? I&#39;m assuming <code>group</code> in your command is a variable set somewhere earlier in the Python script?"}, {"owner": {"reputation": 63, "user_id": 5670593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6352e88a276b20ed2746c8cff206c984?s=128&d=identicon&r=PG&f=1", "display_name": "Dejarr", "link": "https://stackoverflow.com/users/5670593/dejarr"}, "reply_to_user": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494511622, "post_id": 43901669, "comment_id": 74868738, "body": "@nferrell Yes, group is set earlier in the script. This ps1 is using ADSI, however I just changed it out for a script that had nothing but Write-Host &#39;Test&#39;, and it still hung on communicate."}, {"owner": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494553372, "post_id": 43901669, "comment_id": 74889136, "body": "<a href=\"http://stackoverflow.com/questions/21944895/running-powershell-script-within-python-script-how-to-make-python-print-the-pow\" title=\"running powershell script within python script how to make python print the pow\">stackoverflow.com/questions/21944895/&hellip;</a> --- I would check the answer there... not sure what your script is returning (full object, just the distinguishedName, etc), but I suggest updating your script to only return what you&#39;re expecting to store in your <code>groupDN</code> variable... also, I&#39;m not exactly sure how some of the surrounding items or parameters in script are expected to work, so I suggest applying that answer to your Write-Host script to confirm that you have Powershell working 100% from Python"}, {"owner": {"reputation": 63, "user_id": 5670593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6352e88a276b20ed2746c8cff206c984?s=128&d=identicon&r=PG&f=1", "display_name": "Dejarr", "link": "https://stackoverflow.com/users/5670593/dejarr"}, "reply_to_user": {"reputation": 862, "user_id": 5302680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YpRd6.png?s=128&g=1", "display_name": "ferrell_io", "link": "https://stackoverflow.com/users/5302680/ferrell-io"}, "edited": false, "score": 0, "creation_date": 1494597686, "post_id": 43901669, "comment_id": 74911446, "body": "@nferrell That&#39;s actually the SO post that I originally used to get this set up. Having said that, I figured out what the issue was. As soon as I set stdin and stderr to a PIPE as well, it worked. I have any idea as to why it needs to be this way in pycharm vs running commandline but it works! Thanks a bunch for your time and help!"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 5670593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6352e88a276b20ed2746c8cff206c984?s=128&d=identicon&r=PG&f=1", "display_name": "Dejarr", "link": "https://stackoverflow.com/users/5670593/dejarr"}, "is_accepted": false, "score": 3, "last_activity_date": 1494597865, "creation_date": 1494597865, "answer_id": 43939729, "question_id": 43901669, "link": "https://stackoverflow.com/questions/43901669/pycharm-hanging-on-subprocess-communicate-script-runs-from-cmd-fine-path-showi/43939729#43939729", "title": "PyCharm Hanging on subprocess.communicate, script runs from CMD fine. PATH showing the same in both", "body": "<p>Ran python script successfully within PyCharm after adding</p>\n\n<pre><code>stdin=subprocess.PIPE \n</code></pre>\n\n<p>and </p>\n\n<pre><code>stderr=subprocess.PIPE\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 5670593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6352e88a276b20ed2746c8cff206c984?s=128&d=identicon&r=PG&f=1", "display_name": "Dejarr", "link": "https://stackoverflow.com/users/5670593/dejarr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494597865, "creation_date": 1494446190, "last_edit_date": 1494455546, "question_id": 43901669, "link": "https://stackoverflow.com/questions/43901669/pycharm-hanging-on-subprocess-communicate-script-runs-from-cmd-fine-path-showi", "title": "PyCharm Hanging on subprocess.communicate, script runs from CMD fine. PATH showing the same in both", "body": "<p>I'm trying to execute a powershell script as a subprocess in Python, and pipe the output back into python. When I run this script via command line it works without a hitch, however now that I've thrown it into PyCharm it gets to the line with p.communicate and hangs.</p>\n\n<p>I've printed the PATH from within pycharm and the CMD to compare, and they are line for line the same, not seeing many other answers as to why this wouldn't work.</p>\n\n<p>Code:</p>\n\n<pre><code>p = subprocess.Popen(r'powershell.exe powershell\\DNfinder.ps1 group \"{}\"'.format(group),\n                       stdout=subprocess.PIPE)\n\nprint('Opened first subprocess') #This statement prints every time\n\ngroupDN = p.communicate()\n</code></pre>\n"}, {"tags": ["python", "date", "timezone", "timestamp"], "comments": [{"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "edited": false, "score": 0, "creation_date": 1494446867, "post_id": 43901583, "comment_id": 74837534, "body": "Do you have a language preference for this computation?"}, {"owner": {"reputation": 1901, "user_id": 918735, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4e0668bbbc2f70c2b9b3650142752591?s=128&d=identicon&r=PG", "display_name": "leco", "link": "https://stackoverflow.com/users/918735/leco"}, "reply_to_user": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "edited": false, "score": 0, "creation_date": 1494447173, "post_id": 43901583, "comment_id": 74837687, "body": "Preferably python."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 8, "creation_date": 1495491802, "post_id": 43901583, "comment_id": 75265192, "body": "When you say &quot;somewhere in the globe&quot;, do you mean somewhere <i>inhabited</i>? Or just somewhere with a defined tzdb time zone identifier?  These aren&#39;t necessarily the same things.  Do you need to know where and/or which time zone ID?"}], "answers": [{"comments": [{"owner": {"reputation": 1901, "user_id": 918735, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4e0668bbbc2f70c2b9b3650142752591?s=128&d=identicon&r=PG", "display_name": "leco", "link": "https://stackoverflow.com/users/918735/leco"}, "edited": false, "score": 1, "creation_date": 1495593827, "post_id": 44119183, "comment_id": 75313501, "body": "thanks for your attempt, but your function almost got it right. I guess the solution is to compare the input time (<code>t</code>) with the least possible time on Earth (UTC-12). Then, if <code>t</code> is greater or equal to <code>datetime.datetime.utcnow()</code>, then t is necessarily valid :) This would also eliminate the need for a loop."}, {"owner": {"reputation": 189, "user_id": 6545999, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DUA4D5liXgk/AAAAAAAAAAI/AAAAAAAAAHo/yApI2fR1M1M/photo.jpg?sz=128", "display_name": "James Rettie", "link": "https://stackoverflow.com/users/6545999/james-rettie"}, "reply_to_user": {"reputation": 1901, "user_id": 918735, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4e0668bbbc2f70c2b9b3650142752591?s=128&d=identicon&r=PG", "display_name": "leco", "link": "https://stackoverflow.com/users/918735/leco"}, "edited": false, "score": 0, "creation_date": 1495594090, "post_id": 44119183, "comment_id": 75313572, "body": "Ah. I must have misread it as some place on earth must have the time t, not  t will be valid somewhere sometime today."}], "tags": [], "owner": {"reputation": 189, "user_id": 6545999, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DUA4D5liXgk/AAAAAAAAAAI/AAAAAAAAAHo/yApI2fR1M1M/photo.jpg?sz=128", "display_name": "James Rettie", "link": "https://stackoverflow.com/users/6545999/james-rettie"}, "is_accepted": false, "score": 5, "last_activity_date": 1495475600, "creation_date": 1495475600, "answer_id": 44119183, "question_id": 43901583, "link": "https://stackoverflow.com/questions/43901583/check-to-see-if-date-is-valid-somewhere-in-the-world/44119183#44119183", "title": "Check to see if date is valid somewhere in the world", "body": "<p>You can check by comparing the current time in all time zones to the time provided. </p>\n\n<p>Here is a function that will do that for you:</p>\n\n<pre><code>import datetime\ndeviations_from_utc = (-12, -11, -10, -9.5, -9, -8, -7, -6, -5,\n                   -4, -3.5, -3, -2, -1, 0, 1, 2, 3, 3.5, 4, 4.5, 5,\n                   5.5, 5.75, 6, 6.5, 7, 8, 8.5, 8.75, 9, 9.5, 10, \n                   10.5, 11, 12 , 12.75, 13, 14)\ndef is_current(t):\n    n = datetime.datetime.utcnow()\n    provided_time = (t.year, t.month, t.day, t.hour, t.minute)\n    for time in deviations_from_utc:\n        at = n + datetime.timedelta(hours=time)\n        at_time = (at.year, at.month, at.day, at.hour, at.minute)\n        if provided_time == at_time:\n            return True\n    return False\n</code></pre>\n\n<p>deviations_from_utc contains all of the deviations from utc time that are used. The list was taken from <a href=\"http://en.wikipedia.org/wiki/List_of_UTC_time_offsets\" rel=\"noreferrer\">this</a> wikipedia article.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 6415415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b0b8babd72be361f16be86d94dd966?s=128&d=identicon&r=PG&f=1", "display_name": "yovsky", "link": "https://stackoverflow.com/users/6415415/yovsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1495629502, "creation_date": 1495629502, "answer_id": 44158654, "question_id": 43901583, "link": "https://stackoverflow.com/questions/43901583/check-to-see-if-date-is-valid-somewhere-in-the-world/44158654#44158654", "title": "Check to see if date is valid somewhere in the world", "body": "<p>Using the standard deviations from UTC i.e a maximum of +14 and a minimum of -12, you can compare the timestamps and see if the timestamp lies between the maximum and the minimum.</p>\n\n<pre><code>from datetime import datetime\n\n\ndef is_valid_time(search_timestamp):\n    utc_timestamp = datetime.timestamp(datetime.utcnow())\n    max_timestamp = utc_timestamp + (14*60*60)  # max time is utc+14\n    min_timestamp = utc_timestamp - (12*60*60)  # min time is utc-12\n\n    # check if time in range\n    if min_timestamp &lt;= search_timestamp &lt;= max_timestamp:\n        return True\n    return False\n\n# Test cases\nnow = datetime.timestamp(datetime.now())\n# false\nprint(is_valid_time(3))\n\n# false\nprint(is_valid_time(now + (16*60*60)))\n\n# true\nprint(is_valid_time(now))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2434, "user_id": 1593024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef3f3a22e9c7638734c14873ec6d37e?s=128&d=identicon&r=PG", "display_name": "EyuelDK", "link": "https://stackoverflow.com/users/1593024/eyueldk"}, "is_accepted": true, "score": 3, "last_activity_date": 1495735701, "creation_date": 1495735701, "answer_id": 44187111, "question_id": 43901583, "link": "https://stackoverflow.com/questions/43901583/check-to-see-if-date-is-valid-somewhere-in-the-world/44187111#44187111", "title": "Check to see if date is valid somewhere in the world", "body": "<p>Check if time stamp is in between UTC+14 and UTC-12. </p>\n\n<pre><code>from datetime import datetime, timedelta\n\ndef is_a_today_somewhere(timestamp):\n  now = datetime.now()\n  latest = now + timedelta(hours=-12)\n  earliest = now + timedelta(hours=14)\n  return  latest &lt;= datetime.fromtimestamp(timestamp) &lt;= earliest\n\nnow = datetime.now()                        # now\ntimestamp = datetime.timestamp(now)\nprint(is_a_today_somewhere(timestamp))      # prints True\n\nnow = datetime.now() + timedelta(hours=7)   # +7 hours from now\ntimestamp = datetime.timestamp(now)\nprint(is_a_today_somewhere(timestamp))      # prints True\n\nnow = datetime.now() + timedelta(hours=-23) # -23 hours from now\ntimestamp = datetime.timestamp(now)\nprint(is_a_today_somewhere(timestamp))      # prints False\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//repl.it/embed/IRoE/6.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that the check should be an inclusive between. But due to the time taken from the generation of the time-stamp to checking its validity, edge cases where the time stamp is barely at the latest timezone might come up false.</p>\n\n<pre><code>from datetime import datetime, timedelta\n\ndef is_a_today_somewhere(timestamp):\n  now = datetime.now()\n  latest = now + timedelta(hours=-12)\n  earliest = now + timedelta(hours=14)\n  return  latest &lt;= datetime.fromtimestamp(timestamp) &lt;= earliest\n\nnow = datetime.now() + timedelta(hours=-12)  # -12 hours from now; barely in today \ntimestamp = datetime.timestamp(now)\nprint(is_a_today_somewhere(timestamp))      # May print False\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//repl.it/embed/IRoE/8.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1901, "user_id": 918735, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4e0668bbbc2f70c2b9b3650142752591?s=128&d=identicon&r=PG", "display_name": "leco", "link": "https://stackoverflow.com/users/918735/leco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 44187111, "answer_count": 3, "score": 3, "last_activity_date": 1495735701, "creation_date": 1494445898, "last_edit_date": 1495483326, "question_id": 43901583, "link": "https://stackoverflow.com/questions/43901583/check-to-see-if-date-is-valid-somewhere-in-the-world", "title": "Check to see if date is valid somewhere in the world", "body": "<p>How can one check if a given timestamp still holds somewhere in the globe?</p>\n\n<p>For instance, say that I have a timestamp similar to May 10, 2017, 3:49pm. Is there any place in the world today for which is May 10, 2017, 3:49pm?</p>\n"}, {"tags": ["python", "arrays", "string", "parsing"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1494445889, "post_id": 43901546, "comment_id": 74837058, "body": "You are working with <i>lists</i> not arrays, firstly. In any event, <code>output</code> looks like it&#39;s a string."}, {"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1494445930, "post_id": 43901546, "comment_id": 74837079, "body": "You&#39;re just splitting on the <code>\\n</code>s?"}, {"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 9, "creation_date": 1494445935, "post_id": 43901546, "comment_id": 74837081, "body": "Why are you using Python 2.4.3? It&#39;s over 11 years old."}, {"owner": {"reputation": 965, "user_id": 4040743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/hAIWy.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4040743/pete"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1494508556, "post_id": 43901546, "comment_id": 74866166, "body": "@juanpa.arrivillaga Interesting.  Lists, not arrays?  I never would have guessed that.  Do you know this from experience, or is there some documentation out there that I haven&#39;t uncovered?  The hardest thing about learning python is that sometimes you just don&#39;t know what data type you are working with.  Thanks...!"}, {"owner": {"reputation": 965, "user_id": 4040743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/hAIWy.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4040743/pete"}, "reply_to_user": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1494508615, "post_id": 43901546, "comment_id": 74866223, "body": "@aryamccarthy  Correct.  The &#39;\\n&#39; characters are part of the original chunk of data I read in"}, {"owner": {"reputation": 965, "user_id": 4040743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/hAIWy.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4040743/pete"}, "reply_to_user": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1494508700, "post_id": 43901546, "comment_id": 74866293, "body": "@Blender.  Good question.  We are a network shop that does little coding, so most of our coding tools are really old.  I&#39;ve been petitioning to upgrade our Python for a while now."}], "answers": [{"comments": [{"owner": {"reputation": 965, "user_id": 4040743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/hAIWy.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4040743/pete"}, "edited": false, "score": 0, "creation_date": 1494514169, "post_id": 43901617, "comment_id": 74870860, "body": "To be honest, I don&#39;t think tn is a file handle.  It seems to be an array or a string or something saved in local memory.  However, your use of split() looks promising, thanks!"}], "tags": [], "owner": {"reputation": 387, "user_id": 3689137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a9b34a6731e8c560da9481da6050ea4f?s=128&d=identicon&r=PG&f=1", "display_name": "OnNIX", "link": "https://stackoverflow.com/users/3689137/onnix"}, "is_accepted": false, "score": 1, "last_activity_date": 1494445996, "creation_date": 1494445996, "answer_id": 43901617, "question_id": 43901546, "link": "https://stackoverflow.com/questions/43901546/python-how-to-parse-strings-from-an-array/43901617#43901617", "title": "Python - how to parse strings from an array?", "body": "<p>Your variable tn is, I'm assuming, treated like a file handle. So when you read this 'file' once, the pointer is at the end of the file and needs to be reset:</p>\n\n<pre><code>tn.seek(0)\n</code></pre>\n\n<p>Call this before you execute your second loop.</p>\n\n<p>Alternatively, you can iterate over output like so:</p>\n\n<pre><code>for line in output.split(\"\\n\"):\n    print line\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 965, "user_id": 4040743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/hAIWy.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4040743/pete"}, "edited": false, "score": 0, "creation_date": 1494514277, "post_id": 43902001, "comment_id": 74870953, "body": "Perfect!  Your code solved the problem, thanks.  I wasn&#39;t aware you could convert a large string into a list with split() - that&#39;s def a trick for my notebook."}], "tags": [], "owner": {"reputation": 2260, "user_id": 5240970, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/16a645b64ff208b3ba9269dcf90305fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kabard", "link": "https://stackoverflow.com/users/5240970/kabard"}, "is_accepted": true, "score": 2, "last_activity_date": 1494447505, "creation_date": 1494447505, "answer_id": 43902001, "question_id": 43901546, "link": "https://stackoverflow.com/questions/43901546/python-how-to-parse-strings-from-an-array/43902001#43902001", "title": "Python - how to parse strings from an array?", "body": "<p>As you stated in your example, let say output is defined as</p>\n\n<pre><code>output = 'Current configuration : 34211 bytes\\n!\\nversion 12.3\\nno service pad'\n</code></pre>\n\n<p>Your next step is to split the string by \\n so</p>\n\n<pre><code>output_list = output.split('\\n')\n</code></pre>\n\n<p>this will generate the following list</p>\n\n<pre><code>output_list = ['Current configuration : 34211 bytes', '!', 'version 12.3', 'no service pad']\n</code></pre>\n\n<p>then you can iterate over this list.</p>\n\n<p>to tie it all together </p>\n\n<pre><code>#!/usr/bin/python\n\nimport telnetlib\nimport datetime\nimport sys\n\ndef telnetFunction( host ):\n  print(\"Telnetting to device \"+host+\"...\\n\")\n  tn = telnetlib.Telnet(host)\n  # ...use tn.read_until() and tn.write() to log into the router...  ...this works...\n  tn.write(\"terminal length 0\"+\"\\n\")\n  tn.write(\"show run\"+\"\\n\")\n  tn.write(\"exit\"+\"\\n\")\n  output=tn.read_all()      # router config stored as \"output\"\n  return output\n\nhost = \"192.168.102.133\"\noutput=telnetFunction( host )\noutput_list = output.split('\\n')\nfor item in output_list:\n    print item\n</code></pre>\n"}], "owner": {"reputation": 965, "user_id": 4040743, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/hAIWy.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/4040743/pete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2620, "favorite_count": 0, "accepted_answer_id": 43902001, "answer_count": 2, "score": 0, "last_activity_date": 1494447505, "creation_date": 1494445742, "question_id": 43901546, "link": "https://stackoverflow.com/questions/43901546/python-how-to-parse-strings-from-an-array", "title": "Python - how to parse strings from an array?", "body": "<p>I'm a Java/C programming, struggling to learn Python.  (I'm writing in Python 2.4.3 on a Linux machine.)  I have a simple program which telnets to a Cisco router, logs in, then captures the config.  The router's config is stored in a variable named \"output\":</p>\n\n<pre><code>#!/usr/bin/python\n\nimport telnetlib\nimport datetime\nimport sys\n\ndef telnetFunction( host ):\n  print(\"Telnetting to device \"+host+\"...\\n\")\n  tn = telnetlib.Telnet(host)\n  # ...use tn.read_until() and tn.write() to log into the router...  ...this works...\n  tn.write(\"terminal length 0\"+\"\\n\")\n  tn.write(\"show run\"+\"\\n\")\n  tn.write(\"exit\"+\"\\n\")\n  output=tn.read_all()      # router config stored as \"output\"\n  return output\n\nhost = \"192.168.102.133\"\noutput=telnetFunction( host )\n</code></pre>\n\n<p>The above code works.  From using a bunch of different print() statements, I can see that the router's config is all in \"output\", which I am assuming is an array of newline-terminated strings....?  Not entirely sure about that; the telnetlib documentation doesn't specify.</p>\n\n<p>My problem now is I need my program to step through output again, extracting one string at a time.  I need something like:</p>\n\n<pre><code>while(iterating through output)\n   tmpString = output.getNextStr()\n</code></pre>\n\n<p>So if output looked like this:</p>\n\n<pre><code>Current configuration : 34211 bytes\\n!\\nversion 12.3\\nno service pad\\n...etc...\n</code></pre>\n\n<p>I need tmpString to equal the follow in each iteration of the loop above:</p>\n\n<pre><code>tmpString = \"Current configuration : 34211 bytes\"\ntmpString = \"!\"\ntmpString = \"version 12.3\"\ntmpString = \"no service pad\"\n</code></pre>\n\n<p>I've been Googling for a few hours, but am stumped.  (Part of the problem is I'm not clear that \"output\" is indeed an array.  Could it be a string?)  I've played with split() and using []'s but no luck so far.  Does anyone see where I'm going wrong?  Thanks, -ROA</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1494446024, "post_id": 43901535, "comment_id": 74837126, "body": "Can you post a sample of each input dataframe and expected output?"}, {"owner": {"reputation": 31, "user_id": 4612503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VK545.jpg?s=128&g=1", "display_name": "Lionesque", "link": "https://stackoverflow.com/users/4612503/lionesque"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1494446862, "post_id": 43901535, "comment_id": 74837532, "body": "I edited an example."}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1494447111, "post_id": 43901535, "comment_id": 74837656, "body": "Look at `pd.merge_asof&#39; and see this <a href=\"http://stackoverflow.com/questions/43849865/join-dataframe-based-od-date-witch-is-between-dates-from-another-dataframe/43850080#43850080\">SO Post</a> as an example."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4612503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VK545.jpg?s=128&g=1", "display_name": "Lionesque", "link": "https://stackoverflow.com/users/4612503/lionesque"}, "is_accepted": false, "score": 2, "last_activity_date": 1494528049, "last_edit_date": 1494528049, "creation_date": 1494518741, "answer_id": 43920568, "question_id": 43901535, "link": "https://stackoverflow.com/questions/43901535/pandas-map-rows-from-one-dataframe-to-another-based-on-a-time-condition/43920568#43920568", "title": "Pandas: Map rows from one dataframe to another based on a time condition", "body": "<p>Here is the solution, the problem had to do with the creation of the 'related' column as well as the timedelta object not being copmpatible, and the way I was creating the temporary dataframe to store all the related rows from B.</p>\n\n<pre><code>def find_relations(A, B, time_window=48):\n    A['related'] = \"\"\n    for index, row in A.iterrows():\n        window = [pd.to_datetime(row['Time']),\n              pd.to_datetime(row['Time']) - DateOffset(hours=time_window)]\n        mask = (pd.to_datetime(B['Time']) &lt; window[0]) &amp; (pd.to_datetime(B['Time']) &gt; window[1])\n        temp = B[mask]\n        A.set_value(index, 'related', ','.join(list(temp['ID'])))\n</code></pre>\n\n<p>So, first we have to make the empty column in the A dataframe by assigning it to the empty string object. Then, instead of the timedelta, it works better to use a DateOffset object from pandas.tseries.offsets to create the timewindow. Finally, the B.loc(mask) was not syntactically valid, so it was replaced it with B[mask].</p>\n\n<p>The output is:</p>\n\n<pre><code>     ID                  Time       related\n0  A1923   2017-01-23 19:16:01  B8392,B8391,B8390\n1  A1922   2017-01-22 10:52:30              B8391\n2  A1921   2017-01-15 16:34:22        B8388,B8387\n3  A1920   2017-01-05 08:31:28                     \n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4612503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VK545.jpg?s=128&g=1", "display_name": "Lionesque", "link": "https://stackoverflow.com/users/4612503/lionesque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494528049, "creation_date": 1494445713, "last_edit_date": 1494512856, "question_id": 43901535, "link": "https://stackoverflow.com/questions/43901535/pandas-map-rows-from-one-dataframe-to-another-based-on-a-time-condition", "title": "Pandas: Map rows from one dataframe to another based on a time condition", "body": "<p>I have two dataframes, each containing different kinds of events on a server.</p>\n\n<p>For each event (row) in dataframe A, I want to look through dataframe B and find events that happen within a certain window of time before, and copy their ID (a value in one of its columns) to a new column in the current row of A.</p>\n\n<p>There's an arbitrary number of rows from dataframe B that can map to a row from dataframe A, and rows from B can be mapped to multiple rows in A.</p>\n\n<p>So far this is what I have, but I get \"TypeError: len() of unsized object\" when using A.set_value(...)</p>\n\n<pre><code>    time_frame = datetime.timedelta(hours=48)\n    for index, row in A.iterrows():\n        window = [pd.to_datetime(row['Time']),\n                   pd.to_datetime(row['Time']) - datetime.timedelta(hours=time_frame)]\n        mask = (B['Time'] &lt; window[0]) &amp; (B['Time'] &gt; window[1])\n        temp = B.loc(mask)\n        A.set_value(index, 'related event', temp['ID'])\n</code></pre>\n\n<p><strong>EDIT:</strong>\nHere is a simple test case:</p>\n\n<pre><code>dA = {'ID' : ['A1923', 'A1922', 'A1921', 'A1920'], 'Time' : ['2017-01-23 19:16:01',\n '2017-01-22 10:52:30', '2017-01-15  16:34:22', '2017-01-05 08:31:28']}\n\ndB = {'ID' : ['B8392', 'B8391', 'B8390', 'B8389', 'B8388', 'B8387'], 'Time' : \n['2017-01-23 11:23:55', '2017-01-22 22:47:31', '2017-01-22 09:19:07', \n'2017-01-19 01:22:18', '2017-01-15 04:38:11', '2017-01-14 18:18:51']}\n\nA = pd.DataFrame(dA)\nB = pd.DataFrame(dB)\n\nfind_relations(A, B)\n</code></pre>\n\n<p>Ideally, the output would be:</p>\n\n<pre><code>     ID             Time          Related\n0  A1923   2017-01-23 19:16:01   B8392, B8391, B8390   \n1  A1922   2017-01-22 10:52:30   B8390\n2  A1921   2017-01-15 16:34:22   B8388, B8387\n3  A1920   2017-01-05 08:31:28   NaN\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1494445764, "post_id": 43901484, "comment_id": 74836982, "body": "<code>my_sum = my_sum + (my_sum + 1)</code> doubles your previous value and adds <code>1</code> to it. Why not <code>my_sum += 1</code> (which is equivalent to <code>my_sum = my_sum + 1</code>). Outside of that, your indentation is off and you don&#39;t show how you call the function."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 1, "creation_date": 1494445895, "post_id": 43901484, "comment_id": 74837061, "body": "<code>while my_sum &lt;= n</code> This condition doesn&#39;t look correct. Did you mean to use a counter there? Consider 1 2 3 4. This will get out of the loop at 3 because the sum (1+2+3) will be larger than 4."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 3, "creation_date": 1494446328, "post_id": 43901484, "comment_id": 74837279, "body": "(1) Here&#39;s a much faster solution: <code>return n*(n+1)&#47;2</code>. (2) Please fix your code indentation. (3) <code>my_sum</code> is the sum of numbers. You want to loop through the numbers themselves. So you&#39;ll need another variable in there"}], "answers": [{"comments": [{"owner": {"reputation": 8916, "user_id": 1478537, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bf406f0fceb7b3b5e561354374d023fb?s=128&d=identicon&r=PG", "display_name": "Guillaume Jacquenot", "link": "https://stackoverflow.com/users/1478537/guillaume-jacquenot"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1496648129, "post_id": 43901691, "comment_id": 75729206, "body": "With Python3, range produces a generator not a list, I thought it had to be explicitly converted to a list for sum, but without it it also works. Thanks for the remark."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1496649856, "post_id": 43901691, "comment_id": 75730024, "body": "No worries. Most standard functions &amp; methods that accept a list will also accept a generator, and it&#39;s generally more efficient to feed them a generator if you can. So (for example) you can pass a generator to <code>max</code>. One big exception is the <code>str.join</code> method. It <i>can</i>  accept a generator, but it needs to scan the sequence of strings twice: the 1st time it calculates the total length of the final destination string, the 2nd time it copies the data. So if you pass it a generator it has to build a list before it can process the data. The same goes for the <code>bytes.join</code> method."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1496649863, "post_id": 43901691, "comment_id": 75730029, "body": "(cont) Similarly, <code>sorted</code> can accept a generator, but it has to construct a list, which it then calls the <code>list.sort</code> method on, so there&#39;s no advantage in using <code>sorted</code> on a generator, rather than <code>.sort</code> on a list, apart from the more compact syntax."}], "tags": [], "owner": {"reputation": 8916, "user_id": 1478537, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bf406f0fceb7b3b5e561354374d023fb?s=128&d=identicon&r=PG", "display_name": "Guillaume Jacquenot", "link": "https://stackoverflow.com/users/1478537/guillaume-jacquenot"}, "is_accepted": false, "score": 11, "last_activity_date": 1496648137, "last_edit_date": 1496648137, "creation_date": 1494446269, "answer_id": 43901691, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/43901691#43901691", "title": "Sum of the integers from 1 to n", "body": "<p>You can do it with one line, where you create a list of integers from <code>0</code> to <code>n</code> and sums all the elements with <code>sum</code> function</p>\n\n<pre><code>def problem1_3(n):\n    return sum(range(n+1))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3727680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646a663a6346fe54d3fd69bc2352f632?s=128&d=identicon&r=PG&f=1", "display_name": "Hesham", "link": "https://stackoverflow.com/users/3727680/hesham"}, "is_accepted": false, "score": 1, "last_activity_date": 1494447246, "creation_date": 1494447246, "answer_id": 43901931, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/43901931#43901931", "title": "Sum of the integers from 1 to n", "body": "<p>The sum of numbers from 1 to n will be greater than n. For example, the sum of numbers from 1 to 5 is 15 which is obviously greater than 5. Your while loop terminates prematurely. You need to maintain a separate counter for the loop.</p>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 7993882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ae0ff77972d54e3a03144d39cbd33f?s=128&d=identicon&r=PG&f=1", "display_name": "Sruthi Susan Thomas", "link": "https://stackoverflow.com/users/7993882/sruthi-susan-thomas"}, "is_accepted": true, "score": 2, "last_activity_date": 1496610734, "last_edit_date": 1496610734, "creation_date": 1494447811, "answer_id": 43902084, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/43902084#43902084", "title": "Sum of the integers from 1 to n", "body": "<p>You need 2 different variables in your code -- a variable where you can store the sum as you iterate through the values and add them (my_sum in my code), and another variable (i in my code) to iterate over the numbers from 0 to n. </p>\n\n<pre><code>def problem1_3(n):\n    my_sum = 0\n    i=0\n    #replace this pass (a do-nothing) statement with your code\n    while i &lt;= n:\n        my_sum = my_sum + i\n        print(my_sum)\n        i+=1\n    return my_sum\n</code></pre>\n\n<p>You are using the my_sum variable in your code to both store the sum and iterate through the numbers. </p>\n"}, {"comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1494448351, "post_id": 43902172, "comment_id": 74838270, "body": "And, yes, as it is currently written, this function wouldn&#39;t be able to use TCO, anyway..."}], "tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": false, "score": 2, "last_activity_date": 1494448095, "creation_date": 1494448095, "answer_id": 43902172, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/43902172#43902172", "title": "Sum of the integers from 1 to n", "body": "<p>Real programmers use recursion (and hopes for a not too big n since there is no tail call optimization in Python):</p>\n\n<pre><code>def problem1_3(n):\n    return n + problem1_3(n-1) if n &gt; 1 else 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8226010, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i8VA9TZaDjc/AAAAAAAAAAI/AAAAAAAADCc/416DnzkKj6M/photo.jpg?sz=128", "display_name": "Abdulazizkhon Abduganiev", "link": "https://stackoverflow.com/users/8226010/abdulazizkhon-abduganiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1498652125, "creation_date": 1498652125, "answer_id": 44802137, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/44802137#44802137", "title": "Sum of the integers from 1 to n", "body": "<p>How about you try it using a \"While Loop\":</p>\n\n<pre><code>def problem1_3(n):\nmy_sum = 0\nwhile my_sum &lt;= n:\n    print(my_sum,end=\" \")  # end = \" \" keeps from starting a new line\n    my_sum = my_sum + 1\nprint(my_sum) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8824148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458783a9b9f41ac1b481b5d8f73ba7fa?s=128&d=identicon&r=PG&f=1", "display_name": "faquin", "link": "https://stackoverflow.com/users/8824148/faquin"}, "is_accepted": false, "score": 2, "last_activity_date": 1518098695, "creation_date": 1518098695, "answer_id": 48687379, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/48687379#48687379", "title": "Sum of the integers from 1 to n", "body": "<p>This one line do the job :</p>\n\n<pre><code>sum(range(1, n+1))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2549, "user_id": 823321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrwbB.png?s=128&g=1", "display_name": "s\u0250un\u0131\u0254\u05df\u0250q\u0250p", "link": "https://stackoverflow.com/users/823321/s%c9%90un%c4%b1%c9%94%d7%9f%c9%90q%c9%90p"}, "edited": false, "score": 1, "creation_date": 1536659216, "post_id": 52272805, "comment_id": 91493464, "body": "Welcome to Stack Overflow! Please don&#39;t answer just with source code. Try to provide a nice description about how your solution works. See: <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. Thanks"}], "tags": [], "owner": {"reputation": 141, "user_id": 10215770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99e1b9e589bab8b633a045a2985dda92?s=128&d=identicon&r=PG&f=1", "display_name": "yoloy", "link": "https://stackoverflow.com/users/10215770/yoloy"}, "is_accepted": false, "score": 0, "last_activity_date": 1536658006, "creation_date": 1536658006, "answer_id": 52272805, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/52272805#52272805", "title": "Sum of the integers from 1 to n", "body": "<p>so it will be more optimal</p>\n\n<pre><code>def f(a):\n    return (a + 1) * (abs(a) + 2 * (a &lt;= 0)) // 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13478, "user_id": 65732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CrIEN.png?s=128&g=1", "display_name": "sepehr", "link": "https://stackoverflow.com/users/65732/sepehr"}, "edited": false, "score": 1, "creation_date": 1540393283, "post_id": 52969587, "comment_id": 92850791, "body": "Welcome to Stack Overflow! Thank you for the code snippet, which might provide some limited, immediate help. A proper explanation would greatly improve its <a href=\"https://meta.stackexchange.com/q/114762/206345\">long-term value</a> by describing why this is a good solution to the problem, and would make it more useful to future readers with other similar questions. Please edit your answer to add some explanation, including the assumptions you&#39;ve made."}], "tags": [], "owner": {"reputation": 1, "user_id": 10552140, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/9e92723218a4bd75babd9c2bf286c427?s=128&d=identicon&r=PG", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10552140/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1540386221, "last_edit_date": 1540386221, "creation_date": 1540385741, "answer_id": 52969587, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/52969587#52969587", "title": "Sum of the integers from 1 to n", "body": "<pre><code>print(\"Sum =\",sum(range(int(input(\"Enter a number\\n\"))+1)))\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9799449"}, "is_accepted": false, "score": 2, "last_activity_date": 1540387679, "creation_date": 1540387679, "answer_id": 52970248, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/52970248#52970248", "title": "Sum of the integers from 1 to n", "body": "<p>You could use numpy. </p>\n\n<pre><code>import numpy as np \n</code></pre>\n\n<p>Your function should return  </p>\n\n<pre><code> np.sum(np.arange(1, n+1))\n</code></pre>\n\n<p><a href=\"https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.sum.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.sum.html</a>\n<a href=\"https://docs.scipy.org/doc/numpy-1.15.0/reference/generated/numpy.arange.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy-1.15.0/reference/generated/numpy.arange.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 11248174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45773bf63f8908b4183809c4f6603c93?s=128&d=identicon&r=PG&f=1", "display_name": "shyed2001", "link": "https://stackoverflow.com/users/11248174/shyed2001"}, "is_accepted": false, "score": -1, "last_activity_date": 1556528646, "creation_date": 1556528646, "answer_id": 55900072, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/55900072#55900072", "title": "Sum of the integers from 1 to n", "body": "<pre><code>n = input(\"Enter Number to calculate sum\")\nn = int (n)\n#average = 0.\n#sum = 0\nsum = 0.\nfor num in range(0,n+1,1):\n    sum = sum+num\nprint(\"SUM of first \", n, \"numbers is: \", sum )\n\n# Print sum of numbers from 1 to N inclusive\n\ndef sum2N(N):\n    r = 0\n    for i in range(N+1):\n        #for i in range(0,N+1,1):\n        #r+=i\n        r=r+i\n    return(r)\n\nprint(sum2N(10))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1582343263, "post_id": 60348809, "comment_id": 106755091, "body": "The reason everyone else has answered using a loop is because the question was almost certainly about an exercise where the goal was to learn about loops and practice writing them. But your non-loop solution was posted as a comment under the question, three years ago."}], "tags": [], "owner": {"reputation": 1170, "user_id": 10412870, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iCHkzIWJIkQ/AAAAAAAAAAI/AAAAAAAAHz0/90MRVJ9GK-k/photo.jpg?sz=128", "display_name": "Akshat Tamrakar", "link": "https://stackoverflow.com/users/10412870/akshat-tamrakar"}, "is_accepted": false, "score": 4, "last_activity_date": 1582342890, "creation_date": 1582342890, "answer_id": 60348809, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/60348809#60348809", "title": "Sum of the integers from 1 to n", "body": "<p>I don't understand why everyone keeps making everything complex.\nHere is my simple solution</p>\n\n<pre><code>n = int(input())\nprint(n * (n + 1) // 2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14802596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cRPkf.jpg?s=128&g=1", "display_name": "YASH KUMAR SHARMA", "link": "https://stackoverflow.com/users/14802596/yash-kumar-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1607618511, "creation_date": 1607618511, "answer_id": 65238689, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/65238689#65238689", "title": "Sum of the integers from 1 to n", "body": "<p>Actually, I have tried a lot of that type of Programs\nIn Jupyter Notebook you may use these:</p>\n<pre><code>n = int(input(&quot;Enter the Number: &quot;))\nprint(n * (n + 1) // 2)\n</code></pre>\n<p>And Also You may try this code:</p>\n<pre><code>def problem1_3(n):\nreturn n + problem1_3(n-1) if n &gt; 1 else 1\n</code></pre>\n<p>And Also You may try it</p>\n<pre><code>def f(a):\nreturn (a + 1) * (abs(a) + 2 * (a &lt;= 0)) // 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 15350954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0735d87e9e0ae9dd9d8a14fb127d8918?s=128&d=identicon&r=PG&f=1", "display_name": "TheTru3Homie", "link": "https://stackoverflow.com/users/15350954/thetru3homie"}, "edited": false, "score": 0, "creation_date": 1615173971, "post_id": 66523915, "comment_id": 117601064, "body": "Btw, if you want to just have the second while loop to say &quot;while n &gt;= total:&quot; all you need to do is just put &quot;print(my_sum) right before &quot;my_sum += total&quot;."}], "tags": [], "owner": {"reputation": 1, "user_id": 15350954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0735d87e9e0ae9dd9d8a14fb127d8918?s=128&d=identicon&r=PG&f=1", "display_name": "TheTru3Homie", "link": "https://stackoverflow.com/users/15350954/thetru3homie"}, "is_accepted": false, "score": 0, "last_activity_date": 1615173605, "creation_date": 1615173605, "answer_id": 66523915, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n/66523915#66523915", "title": "Sum of the integers from 1 to n", "body": "<p>THIS WHILE LOOP ACTUALLY WORKS:</p>\n<p>def main():</p>\n<pre><code>n = int(input('Enter a number:'))              \n\nwhile n &lt;= 1:\n    n = int(input('Please input a new number'))\n\ntotal = 0\nmy_sum = 0\nwhile (n - 1) &gt;= total:\n    total = total + 1\n    my_sum += total\n    print(my_sum)\n    \n    \nreturn \n</code></pre>\n<p>main()</p>\n"}], "owner": {"reputation": 87, "user_id": 7993788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ac1f4a99a39d1d8ac2c0aaa62eb787d?s=128&d=identicon&r=PG&f=1", "display_name": "mabski", "link": "https://stackoverflow.com/users/7993788/mabski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42434, "favorite_count": 2, "accepted_answer_id": 43902084, "answer_count": 13, "score": 3, "last_activity_date": 1615173605, "creation_date": 1494445557, "last_edit_date": 1540410590, "question_id": 43901484, "link": "https://stackoverflow.com/questions/43901484/sum-of-the-integers-from-1-to-n", "title": "Sum of the integers from 1 to n", "body": "<p>I'm trying to write a program to add up number from 1 to n. I've managed to get it to print the numbers several times but not add them all. It keeps on just adding two of the numbers.</p>\n\n<p>My 1st attempt is:</p>\n\n<pre><code>def problem1_3(n):\n    my_sum = 0\n    # replace this pass (a do-nothing) statement with your code\n    while my_sum &lt;= n:\n        my_sum = my_sum + (my_sum + 1)\n    print() \n    print(my_sum)\n</code></pre>\n\n<p>How can I fix this problem?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1494445631, "post_id": 43901477, "comment_id": 74836897, "body": "Don&#39;t use list multiplication."}, {"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1494445676, "post_id": 43901477, "comment_id": 74836932, "body": "Please reduce this to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Emphasis on <b>minimal</b>. And yes, list multiplication doesn&#39;t work the way you&#39;re expecting."}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1494446363, "creation_date": 1494446363, "answer_id": 43901718, "question_id": 43901477, "link": "https://stackoverflow.com/questions/43901477/create-a-list-by-multiplication-but-not-have-each-list-mirror/43901718#43901718", "title": "Create a list by multiplication but not have each list mirror", "body": "<p>Using list multiplication:</p>\n\n<pre><code>newElemLines = [['1', '9', '1', '2'], ['2', '9', '2', '3'], ['3', '9', '3', '1'], ['4', '7', '4', '5', '6', '7', '8', '9', '10', '11']]\n\ntranslQuant = 4\n\nfinal_list = newElemLines*translQuant\n</code></pre>\n\n<p>Using list comprehension:</p>\n\n<pre><code>newElemLines = [['1', '9', '1', '2'], ['2', '9', '2', '3'], ['3', '9', '3', '1'], ['4', '7', '4', '5', '6', '7', '8', '9', '10', '11']]\n\ntranslQuant = 4\nsecond_list = [[i] for i in newElemLines]\nfinal_list = [second_list[0] for i in range(translQuant)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 7759040, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0ddeea904af4619e14ac539c59d8ff5?s=128&d=identicon&r=PG&f=1", "display_name": "Vipr0", "link": "https://stackoverflow.com/users/7759040/vipr0"}, "edited": false, "score": 0, "creation_date": 1494449394, "post_id": 43901784, "comment_id": 74838813, "body": "I guess xrange is a typo? It worked perfectly when i used range instead! Thank you very much!"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 59, "user_id": 7759040, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0ddeea904af4619e14ac539c59d8ff5?s=128&d=identicon&r=PG&f=1", "display_name": "Vipr0", "link": "https://stackoverflow.com/users/7759040/vipr0"}, "edited": false, "score": 0, "creation_date": 1494449461, "post_id": 43901784, "comment_id": 74838848, "body": "<code>xrange</code> is python 2, in python 3 it is only <code>range</code> as you have noted."}], "tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": true, "score": 1, "last_activity_date": 1494447001, "last_edit_date": 1494447001, "creation_date": 1494446634, "answer_id": 43901784, "question_id": 43901477, "link": "https://stackoverflow.com/questions/43901477/create-a-list-by-multiplication-but-not-have-each-list-mirror/43901784#43901784", "title": "Create a list by multiplication but not have each list mirror", "body": "<p>It is hard to understand exactly what you are after, but I assume you want to create a new list of independent elements. The easiest way to achieve that is to use <code>deepcopy</code> from the <code>copy</code> module:</p>\n\n<pre><code>from copy import deepcopy\n\nnewElemLines = [['1', '2', '5'], ['2', '9','3']]\ntranslQuant = 3\n\n# As for loop:\nnewElemLines2 = []\nfor _ in xrange(translQuant):\n    newElemLines2.append(deepcopy(newElemLines))\n\n# Or as list comprehension: \nnewElemLines2 = [deepcopy(newElemLines) for _ in xrange(translQuant)]\n</code></pre>\n\n<p>Deepcopy ensures that you copy everything, including sub lists, element by element.</p>\n"}], "owner": {"reputation": 59, "user_id": 7759040, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0ddeea904af4619e14ac539c59d8ff5?s=128&d=identicon&r=PG&f=1", "display_name": "Vipr0", "link": "https://stackoverflow.com/users/7759040/vipr0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 43901784, "answer_count": 2, "score": 0, "last_activity_date": 1494447001, "creation_date": 1494445527, "last_edit_date": 1494446719, "question_id": 43901477, "link": "https://stackoverflow.com/questions/43901477/create-a-list-by-multiplication-but-not-have-each-list-mirror", "title": "Create a list by multiplication but not have each list mirror", "body": "<p>I have a list:  </p>\n\n<blockquote>\n  <p>newElemLines = [['1', '2', '5'], ['2', '9','3']] </p>\n</blockquote>\n\n<p>and I want it to look like this:  </p>\n\n<blockquote>\n  <p>newElemLines2 = [[['1', '2', '5'], ['2', '9', '3']], [['1', '2', '5'], ['2', '9', '3']], [['1', '2', '5'], ['2', '9', '3']]]</p>\n</blockquote>\n\n<p>So i thought i can just use this code:  </p>\n\n<pre><code>newElemLines = [['1', '2', '5'], ['2', '9','3']]\ntranslQuant = 3\nnewElemLines = [newElemLines]*(translQuant)\nnodeQuant = 11\nfor i in range(0, len(newElemLines)):\n    for j in range(0, len(newElemLines[i])):\n        for x in range(0, len(newElemLines[i][j])):\n            newElemLines[i][j][x] = int(newElemLines[i][j][x]) + int((i)*nodeQuant)\n\nprint(newElemLines)\n</code></pre>\n\n<p>However the original list I multiplicated just mirrors this line for all 4 parts of the list:  </p>\n\n<pre><code>newElemLines[i][j][x] = int(newElemLines[i][j][x]) + int((i)*nodeQuant)\n</code></pre>\n\n<p>KFL had the same problem:\n<a href=\"https://stackoverflow.com/questions/42631412/create-a-list-utilizing-multiplication-but-not-have-each-list-mirror\">Create a list utilizing multiplication but not have each list mirror</a> \nso i tried using the solution like this, but its still not working.  </p>\n\n<pre><code>newElemLines = [['1', '2', '5'], ['2', '9','3']]\nnodeQuant = 11\ndef make_structure(dims, fill=None):\n    fill = False if fill is None else fill\n    get_fill = lambda: fill() if callable(fill) else fill\n    global result\n    result = []\n    for i in range(dims[0]):\n        if len(dims) &gt; 1:\n            result.append(make_structure(dims[1:], fill=fill))\n        else:\n            result.append(get_fill())\n\n    print(result)\n\n\n\nfill = newElemLines  \ndims = [3]\nmake_structure(dims, fill)\nnewElemLines = result\n\n\n\nfor i in range(0, len(newElemLines)):\n    for j in range(0, len(newElemLines[i])):\n        for x in range(0, len(newElemLines[i][j])):\n            newElemLines[i][j][x] = int(newElemLines[i][j][x]) + int((i)*nodeQuant)\n\nprint(newElemLines)\n</code></pre>\n"}, {"tags": ["python", "django", "html-select", "forms", "modelchoicefield"], "comments": [{"owner": {"reputation": 5983, "user_id": 1036843, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b00a6aecd78db1121661f4c72e657ead?s=128&d=identicon&r=PG", "display_name": "The Brewmaster", "link": "https://stackoverflow.com/users/1036843/the-brewmaster"}, "edited": false, "score": 0, "creation_date": 1494445924, "post_id": 43901431, "comment_id": 74837075, "body": "A simple <code>&lt;select&gt;</code> element is not capable of rendering <code>&lt;img&gt;</code> elements. This is not a Django issue. To accomplish this, you will need to find a 3rd party package that is able to handle this (select2 comes to mind, <a href=\"https://select2.github.io\" rel=\"nofollow noreferrer\">select2.github.io</a>). Also, see: <a href=\"https://docs.djangoproject.com/en/1.11/ref/forms/widgets/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.11/ref/forms/widgets</a>"}], "owner": {"reputation": 105, "user_id": 7421798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fca9c7db62636fb84a22977bfb441680?s=128&d=identicon&r=PG&f=1", "display_name": "user7421798", "link": "https://stackoverflow.com/users/7421798/user7421798"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 764, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1494446157, "creation_date": 1494445336, "last_edit_date": 1494446157, "question_id": 43901431, "link": "https://stackoverflow.com/questions/43901431/make-djangos-modelchoicefield-display-as-a-dropdown-with-title-and-image", "title": "Make Django&#39;s ModelChoiceField display as a dropdown with title and image", "body": "<p>Below is my Django form. I would like to display a thumbnail and title together in a <strong>dropdown</strong> element, not as a radio button. With this configuration, it makes my form element a radio button. </p>\n\n<p>What am I doing wrong, I cannot figure this out. If I change <strong>widget=forms.Select()</strong>, it creates a dropdown with only the title, but does not display the thumbnail beside the title.</p>\n\n<pre><code>class CustomChoiceField(forms.ModelChoiceField):\n    def label_from_instance(self, obj):\n        return mark_safe(\"&lt;img src='https://placeholdit.imgix.net/~text?txtsize=33&amp;txt=350%C3%97150&amp;w=350&amp;h=150'&gt;&lt;p&gt;\"+str(obj.category)+\"&lt;/p&gt;\")\n\ncountries_list = ImageModel.objects.all()\n\nclass SubCatForm(forms.Form):\n    category_pic = CustomChoiceField(widget=forms.RadioSelect(), queryset=countries_list, empty_label=None)\n\n    class Meta:\n        model = SubCatModel\n        fields = (\"sub_category_name\", \"category\", \"category_pic\")\n        widgets = {\n            'sub_category_name': forms.TextInput(attrs={'class':'span11'})\n        }\n</code></pre>\n"}, {"tags": ["python", "linux", "cron", "keyboard"], "comments": [{"owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 0, "creation_date": 1494510345, "post_id": 43901427, "comment_id": 74867633, "body": "Ok, after some efforts I found out the script has a bug, either from <code>pynput</code> or its dependency <code>Xlib</code>."}, {"owner": {"reputation": 102, "user_id": 3638608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/db13b91544c29d3b14237a2200f56cb2?s=128&d=identicon&r=PG&f=1", "display_name": "Devilhorn", "link": "https://stackoverflow.com/users/3638608/devilhorn"}, "edited": false, "score": 0, "creation_date": 1609891605, "post_id": 43901427, "comment_id": 115962644, "body": "Hi guys, I have a pynput script that  saves the mouse and the keyboard movements. Is it possible to execute using crontab ?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 3343745, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/462f15331c1f0657fa5790c66a71df25?s=128&d=identicon&r=PG&f=1", "display_name": "Brainiac", "link": "https://stackoverflow.com/users/3343745/brainiac"}, "reply_to_user": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 0, "creation_date": 1494504575, "post_id": 43903506, "comment_id": 74863105, "body": "Would you elaborate please?"}, {"owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 0, "creation_date": 1494510106, "post_id": 43903506, "comment_id": 74867433, "body": "It&#39;s my code that causes this problem. Perhaps this is because of <code>pynput</code>. I dropped this code altogether and used a <a href=\"https://askubuntu.com/questions/762895/auto-dimming-laptop-keyboard-backlit-when-idle\">script</a>  which I didn&#39;t find until yesterday. But what makes me wondering why does it work in terminal only? Strange! This could be <code>pynput</code> or <code>Xlib</code> bug."}, {"owner": {"reputation": 102, "user_id": 3638608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/db13b91544c29d3b14237a2200f56cb2?s=128&d=identicon&r=PG&f=1", "display_name": "Devilhorn", "link": "https://stackoverflow.com/users/3638608/devilhorn"}, "edited": false, "score": 0, "creation_date": 1609968409, "post_id": 43903506, "comment_id": 115989431, "body": "I have the same issue, someone posted this question <a href=\"https://stackoverflow.com/questions/65588532/why-logging-module-works-from-cli-but-not-from-crontab\" title=\"why logging module works from cli but not from crontab\">stackoverflow.com/questions/65588532/&hellip;</a> that describes the problem perfectly. How can I solve xlib errors?"}], "tags": [], "owner": {"reputation": 9, "user_id": 3343745, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/462f15331c1f0657fa5790c66a71df25?s=128&d=identicon&r=PG&f=1", "display_name": "Brainiac", "link": "https://stackoverflow.com/users/3343745/brainiac"}, "is_accepted": false, "score": 0, "last_activity_date": 1494454290, "creation_date": 1494454290, "answer_id": 43903506, "question_id": 43901427, "link": "https://stackoverflow.com/questions/43901427/running-python-script-at-startup-to-log-mouse-and-keyboard-activity-in-linux/43903506#43903506", "title": "Running Python Script at Startup to log mouse and keyboard activity in Linux", "body": "<p>Well if it needs root and has to be run at startup, why not create a custom service?</p>\n\n<p>If say you create a custom service, systemd can start it for you.\nYou can then start your service with <code>sudo systemctl start yourservice</code>\nAnd you can make sure it runs at startup (as root) with <code>sudo systemctl enable yourservice</code>. It will start irrespective of the user.</p>\n\n<p>I haven't personally done this before but it shouldn't be too difficult. It's basically just a file containing a description and an execute command, created in the directory /etc/systemd/system. A quick googling gave me this guide: <a href=\"https://blog.sdbarker.com/post/adding-custom-units-services-to-systemd-on-arch-linux/\" rel=\"nofollow noreferrer\">https://blog.sdbarker.com/post/adding-custom-units-services-to-systemd-on-arch-linux/</a></p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 896, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1494454290, "creation_date": 1494445318, "last_edit_date": 1494447089, "question_id": 43901427, "link": "https://stackoverflow.com/questions/43901427/running-python-script-at-startup-to-log-mouse-and-keyboard-activity-in-linux", "title": "Running Python Script at Startup to log mouse and keyboard activity in Linux", "body": "<p>I'm quite confident many people before asked this question or at least a similar question. My problem is a little bit problematic but it's simple. </p>\n\n<p>I've tried to run a Python script at startup with <code>cron</code> and by editing etc/rc.local file in Linux, but both ways failed to run my Python script. </p>\n\n<p>My script logs the activity of the keyboard and the mouse using listener objects for both keyboard and mouse. I use a third-party package called <code>pynput</code> which depends on <code>Xlib</code>. My script edits a file that requires <code>sudo</code> access, so I must run my script with <code>sudo</code>.</p>\n\n<p>You need to have a look at the script, so you know: </p>\n\n<pre><code>#!/usr/bin/env python\n#backlight.py\n\nfrom pynput.keyboard import Listener  as KeyboardListener\nfrom pynput.mouse    import Listener  as MouseListener\n\nimport time\n\nSTATUS = \"\"                # Keyboard backlight ON/OFF status\nturnOffSecs = 6           # Turn off keyboard backlight for x seconds of inactivity\n\n# Keyboard brightness control file (change to your directory)\nfile_pth = \"/sys/devices/platform/asus-nb-wmi/leds/asus::kbd_backlight/brightness\"\n\ndef get_LEVEL():\n    \"\"\"return the current level of brightness of keyboard backlight\"\"\"\n    with open(file_pth, \"r\") as f:\n        brightness_level = f.read()[0]\n    return brightness_level\n\n\nclass Sec_timer:\n    \"\"\"\n    Sec_timer(until=None) \n        Create a timer that counts x number of seconds starting from 0\n\n        until arg can be used for reseting the timer:\n\n   *Example:\n\n        timer = Sec_imer(20)\n        while timer.elapsed &lt; timer.until:                  \n            timer.count()                # count a second\n        else:\n            timer.reset_timer()          # reset timer on exit\n    \"\"\"\n    def __init__(self, until=None):\n        self.until = until\n        self.elapsed = 0 \n\n    def count_sec(self): \n        \"Count one second per-call\"\n        time.sleep(1)\n        self.elapsed += 1\n\n    def reset_timer(self):\n        self.elapsed = 0 \n\n\n\ntimer = Sec_timer(turnOffSecs)           # Sec_timer(x) turn off keyboard backlight for x seconds of inactivity\n\n# General event handler to reset timer\ndef reset_timer(*args):\n    global STATUS\n\n    timer.reset_timer()\n    if STATUS == \"OFF\":\n         # print(STATUS)\n         with open(file_pth, \"w\") as f:\n             f.write(current_brightnessLevel)\n             f.close()\n             STATUS=\"ON\"\n\n\n\nkeyboard_listener = KeyboardListener(on_press=reset_timer, \n                             on_release=(lambda *args: None))\n\nmouse_listener    = MouseListener(on_click=reset_timer, \n                             on_scroll=reset_timer, \n                             on_move=reset_timer)\n\n\nkeyboard_listener.start()\nmouse_listener.start()\n\n\nwhile True:\n    timer.count_sec()\n    if timer.elapsed &gt; timer.until:\n        # print \"current brightness:\" +  get_LEVEL()\n        if  get_LEVEL() != \"0\":\n            with open(file_pth, \"w\") as f: \n                current_brightnessLevel = get_LEVEL()\n                f.write(\"0\")\n                STATUS = \"OFF\"\n</code></pre>\n\n<p>This script logs the activity of the keyboard and the mouse, any keyboard or mouse activity will reset the timer. When x seconds passed and no keyboard or mouse activity took place, turn off the back light of the keyboard by writing \"0\" to the brightness folder. If any mouse or keyboard event takes place <code>after</code> the script turned off the back-light turn the keyboard brightness on according to the previous brightness level of the back-light. </p>\n\n<p>Running the script using terminal, it works perfectly fine. But, automating the launch of this script is tricky; here's what I tried so far: </p>\n\n<p>*Note, I've made the script file executable and backlight.py resides in <code>/home/user</code>:</p>\n\n<p>1) In terminal:</p>\n\n<pre><code>$ xhost +\n$ sudo ./backlight.py\n</code></pre>\n\n<p>Works fine!</p>\n\n<p>2) Using `etc/rc.local I added: </p>\n\n<pre><code>xhost + \ncd /home/user/\n./backlight.py\n</code></pre>\n\n<p>Script didn't run after reboot</p>\n\n<p>3) using <code>etc/rc.local</code></p>\n\n<p><code>$ sudo crontab -e</code></p>\n\n<pre><code>@reboot xhost +\n@reboot /home/user/backlight.py\n</code></pre>\n\n<p>Didn't run after reboot</p>\n\n<p>I had to execute <code>xhost +</code> because of a problem with <code>Xlib</code>. Using the last two ways didn't work. I'm guessing this is a programming problem and perhaps it has something to do with <code>Xlib</code>?!</p>\n\n<p>I know this script is insane in terms of interfacing with keyboard LEDS and call it \"bad script\" if you will. Though I'm just trying to solve a driver problem using file input/output solution, because I don't have the appetite to delve into Linux driver details, at least not for now!</p>\n"}, {"tags": ["python", "cmd"], "comments": [{"owner": {"reputation": 5013, "user_id": 1619432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8SFy2.png?s=128&g=1", "display_name": "handle", "link": "https://stackoverflow.com/users/1619432/handle"}, "edited": false, "score": 0, "creation_date": 1494445377, "post_id": 43901364, "comment_id": 74836761, "body": "Have you tried installing a different version / to a different location / running the embedded version (Python 3 in a zip)? Did you install anything 2 days ago (conflicting path to other python [dlls])?"}, {"owner": {"reputation": 1722, "user_id": 563231, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2rzat.jpg?s=128&g=1", "display_name": "David Metcalfe", "link": "https://stackoverflow.com/users/563231/david-metcalfe"}, "edited": false, "score": 0, "creation_date": 1494445650, "post_id": 43901364, "comment_id": 74836917, "body": "Does Python work elsewhere when it is installed such as in Idle?"}, {"owner": {"reputation": 81, "user_id": 7993580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2I2LktV-06g/AAAAAAAAAAI/AAAAAAAAAL0/ikCTX0xApiE/photo.jpg?sz=128", "display_name": "Matan Haller", "link": "https://stackoverflow.com/users/7993580/matan-haller"}, "edited": false, "score": 0, "creation_date": 1494445809, "post_id": 43901364, "comment_id": 74837006, "body": "It works everywhere except cmd. When I open python.exe from file explorer it works entirely fine."}, {"owner": {"reputation": 81, "user_id": 7993580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2I2LktV-06g/AAAAAAAAAAI/AAAAAAAAAL0/ikCTX0xApiE/photo.jpg?sz=128", "display_name": "Matan Haller", "link": "https://stackoverflow.com/users/7993580/matan-haller"}, "edited": false, "score": 0, "creation_date": 1494445869, "post_id": 43901364, "comment_id": 74837045, "body": "I installed colorama and ansicon 2 days ago but then I reinstalled Python and removed this library."}, {"owner": {"reputation": 81, "user_id": 7993580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2I2LktV-06g/AAAAAAAAAAI/AAAAAAAAAL0/ikCTX0xApiE/photo.jpg?sz=128", "display_name": "Matan Haller", "link": "https://stackoverflow.com/users/7993580/matan-haller"}, "edited": false, "score": 0, "creation_date": 1494448690, "post_id": 43901364, "comment_id": 74838458, "body": "I usually work with Python 2.7 and I now tried installing version 3.6 instead and the problem just won&#39;t go!"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 2, "creation_date": 1494476170, "post_id": 43901364, "comment_id": 74846171, "body": "Check for an autorun in cmd&#39;s HKLM or HKCU registry key: <code>reg query &quot;[HKLM|HKCU]\\Software\\Microsoft\\Command Processor&quot; &#47;v AutoRun</code>."}, {"owner": {"reputation": 81, "user_id": 7993580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2I2LktV-06g/AAAAAAAAAAI/AAAAAAAAAL0/ikCTX0xApiE/photo.jpg?sz=128", "display_name": "Matan Haller", "link": "https://stackoverflow.com/users/7993580/matan-haller"}, "edited": false, "score": 0, "creation_date": 1494514154, "post_id": 43901364, "comment_id": 74870851, "body": "I found autorun and the data in it is: (if %ANSICON_VER%==^%ANSICON_VER^% &quot;C:\\ansi\\x64\\ansicon&quot; -p). Should I delete it?"}, {"owner": {"reputation": 81, "user_id": 7993580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2I2LktV-06g/AAAAAAAAAAI/AAAAAAAAAL0/ikCTX0xApiE/photo.jpg?sz=128", "display_name": "Matan Haller", "link": "https://stackoverflow.com/users/7993580/matan-haller"}, "edited": false, "score": 1, "creation_date": 1494514301, "post_id": 43901364, "comment_id": 74870977, "body": "I deleted this value and it helped! Thank you very much, eryksun!"}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 8620607, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JXqCC.jpg?s=128&g=1", "display_name": "Aidan L.", "link": "https://stackoverflow.com/users/8620607/aidan-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1510074083, "creation_date": 1510074083, "answer_id": 47163505, "question_id": 43901364, "link": "https://stackoverflow.com/questions/43901364/python-exe-has-stopped-working-when-opened-via-cmd/47163505#47163505", "title": "python.exe has stopped working when opened via cmd", "body": "<p>Try doing this download/open the python installer (corresponding to the version of your python). Once opened click <code>Repair</code>. This will repair Python. </p>\n\n<p>If you are still experiencing trouble, try doing this:\n1. Open the installer\n2. Click on <code>Modify</code>\n3. Check the button that says <code>Add Python to environmental variables</code>. </p>\n"}], "owner": {"reputation": 81, "user_id": 7993580, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2I2LktV-06g/AAAAAAAAAAI/AAAAAAAAAL0/ikCTX0xApiE/photo.jpg?sz=128", "display_name": "Matan Haller", "link": "https://stackoverflow.com/users/7993580/matan-haller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4468, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1510074083, "creation_date": 1494445122, "last_edit_date": 1495021802, "question_id": 43901364, "link": "https://stackoverflow.com/questions/43901364/python-exe-has-stopped-working-when-opened-via-cmd", "title": "python.exe has stopped working when opened via cmd", "body": "<p>About two days ago Python stopped responding after I tried to open it in cmd. I tried reinstalling Python and searched the Internet for a possible solution, but found no answers. This problem is still going on.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ycEO1.png\" alt=\"Python not responding\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/e6xGN.png\" alt=\"Event details\"></p>\n"}, {"tags": ["python", "python-3.x", "subclass", "metaclass", "subclassing"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 1, "creation_date": 1494445677, "post_id": 43901350, "comment_id": 74836933, "body": "I think you could try rebuilding the type object using <code>type</code>: <code>ServingBase = type(&#39;ServingBase&#39;, Serving.__bases__, dict(vars(Serving)))</code> I&#39;d argue that a mixin would make the code cleaner, though"}, {"owner": {"reputation": 9898, "user_id": 116546, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/967bbcaf95419a577f2443cd31658216?s=128&d=identicon&r=PG", "display_name": "drdaeman", "link": "https://stackoverflow.com/users/116546/drdaeman"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1494446221, "post_id": 43901350, "comment_id": 74837225, "body": "@vaultah Yes, I haven&#39;t thought about this. Looks to be an option. Can you post this as an answer? I&#39;ll wait for other suggestions, but want to be able to mark yours as an accepted answer if there won&#39;t be any better suggestions. As for the cleanliness - personally, I feel that if things are reasonably decorated with the self-descriptive names (<code>ServingBase</code>, <code>remove_metaclass</code>) and well-commented, then it should be okay."}], "answers": [{"tags": [], "owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "is_accepted": false, "score": 1, "last_activity_date": 1494449613, "last_edit_date": 1494449613, "creation_date": 1494448939, "answer_id": 43902383, "question_id": 43901350, "link": "https://stackoverflow.com/questions/43901350/subclass-avoiding-parents-metaclass/43902383#43902383", "title": "Subclass avoiding parent&#39;s metaclass", "body": "<p>There's really no direct way to remove the metaclass from a Python class, because the metaclass <em>created</em> that class. What you can try is re-create the class using a different metaclass, which doesn't have unwanted behaviour. For example, you could use <code>type</code> (the default metaclass).</p>\n\n<pre><code>In [6]: class Serving(metaclass=ServingMeta):\n   ...:     def shout_name(self):\n   ...:         return self.name.upper()\n   ...: \n\nIn [7]: ServingBase = type('ServingBase', Serving.__bases__, dict(vars(Serving)))\n</code></pre>\n\n<p>Basically this takes the <code>__bases__</code> tuple and the namespace of the <code>Serving</code> class, and uses them to create a new class <code>ServingBase</code>. N.B. this means that <code>ServingBase</code> will receive all bases and methods/attributes from <code>Serving</code>, some of which may have been added by <code>ServingMeta</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 9898, "user_id": 116546, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/967bbcaf95419a577f2443cd31658216?s=128&d=identicon&r=PG", "display_name": "drdaeman", "link": "https://stackoverflow.com/users/116546/drdaeman"}, "edited": false, "score": 1, "creation_date": 1494514142, "post_id": 43916533, "comment_id": 74870842, "body": "Thanks a lot! You&#39;ve perusaded me, I&#39;ll stick with mixins (and ask library authors to consider having a separate base class). I think IDE (PyCharm) was still correct to warn that I may trip on using a method which existence is uncertain - but it&#39;s the particular warnings that need to be disabled. A trick to avoid metaclass could be useful in some other situations, and I guess subclassing it is probably the sanest way to go with insanity. :) So I&#39;ll mark your answer as accepted, in both cases. Once again, thank you."}], "tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": true, "score": 2, "last_activity_date": 1494508394, "last_edit_date": 1495542875, "creation_date": 1494508394, "answer_id": 43916533, "question_id": 43901350, "link": "https://stackoverflow.com/questions/43901350/subclass-avoiding-parents-metaclass/43916533#43916533", "title": "Subclass avoiding parent&#39;s metaclass", "body": "<p>The mixin approach is the correct way to go. If your IDE \"cringe\" that is a deffect on that tool - just disable a little of the \"features\" that are obviously incorrect tunning when coding for a dynamic language like Python. </p>\n\n<p>And this is not even about creating things dynamically, it is merely multiple-inheritance, which is supported by the language since forever. And one of the main uses of multiple-inheritance is exactly being able to create mixins just as this one you need.</p>\n\n<p>Another inheritance-based workaround is to make your hierarchy one level deeper, and just introduce the metaclass after you come up with your mixin methods:</p>\n\n<pre><code>class Mixin(object):\n    def mimixin(self): ...\n\nclass SpamBase(Mixin, metaclass=ServingMeta):\n    name = \"stub\"\n</code></pre>\n\n<p>Or just addd the mixin in an intermediate subclass:</p>\n\n<pre><code>class Base(metaclass=Serving Meta):\n     name = \"stub\"\nclass MixedBase(Mixin, Base):\n     name = \"stub\"\nclass MyLovingSpam(MixedBase):\n     name = \"MyLovingSpam\"\n</code></pre>\n\n<p>If you don't want to be repeating the mixin=-base name in every class, that is the way to go. </p>\n\n<p>\"Removing\" a metaclass just for the sake of having a late mixin is way over the top.  Really. Broken. The way to do it wol e re-create the class dynamically, just as @vaultah mentions in the other answer, but doing that in an intermediate class is a thing you should not do. Doing that to please the IDE is something you should not do twice: messing with metaclasses is hard enough already. Removing things on inheritance/class creation that the language puts there naturally is something nasty (cf. this answer: <a href=\"https://stackoverflow.com/questions/43021908/how-to-make-a-class-attribute-exclusive-to-the-super-class/43025065#43025065\">How to make a class attribute exclusive to the super class</a> ) . On the other hand, mixins and multiple inheritance are just natural. </p>\n\n<h1>Are you still there? I told you not to do so:</h1>\n\n<p>Now, onto your question - instead of \"supressing the metaclass\"  in an intermediate class, it would be more feasible to inherit the metaclass you have there and change its behavior - so that it does not check for the constraints in specially marked classes - create an attribute for your use, like <code>_skip_checking</code> </p>\n\n<pre><code>class MyMeta(ServingMeta):\n    def __new__(metacls, name, bases, namespace):\n         if namespace.get(\"_skip_checking\", False):\n              # hardcode call to \"type\" metaclass:\n              del namespace[\"_skip_checking\"]\n              cls = type.__new__(metacls, name, bases, namespace)\n         else:\n              cls = super().__new__(metacls, name, bases, namespace) \n         return cls\n     # repeat for __init__ if needed.  \n\n\nclass Base(metaclass=MyMeta):\n     _skip_checking = True\n     # define mixin methods\n\nclass LoveSpam(Base):\n    name = \"LoveSpam\"\n</code></pre>\n"}], "owner": {"reputation": 9898, "user_id": 116546, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/967bbcaf95419a577f2443cd31658216?s=128&d=identicon&r=PG", "display_name": "drdaeman", "link": "https://stackoverflow.com/users/116546/drdaeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 3, "accepted_answer_id": 43916533, "answer_count": 2, "score": 2, "last_activity_date": 1494508394, "creation_date": 1494445083, "question_id": 43901350, "link": "https://stackoverflow.com/questions/43901350/subclass-avoiding-parents-metaclass", "title": "Subclass avoiding parent&#39;s metaclass", "body": "<p>Say I have a third-party library where a metaclass requires me to implement something. But I want to have an intermediate \"abstract\" subclass that doesn't. How can I do this?</p>\n\n<p>Consider this to be a very minimal example of what third-party library has:</p>\n\n<pre><code>class ServingMeta(type):\n    def __new__(cls, name, bases, classdict):\n        if any(isinstance(b, ServingMeta) for b in bases):\n            if \"name\" not in classdict:\n                # Actual code fails for a different reason,\n                # but the logic is the same.\n                raise TypeError(f\"Class '{name}' has no 'name' attribute\")\n        return super().__new__(cls, name, bases, classdict)\n\nclass Serving(object, metaclass=ServingMeta):\n    def shout_name(self):\n        return self.name.upper()\n</code></pre>\n\n<p><strong>I cannot modify the code above.</strong> It's an external dependency (and I don't want to fork it).</p>\n\n<p>The code is meant to be used this way:</p>\n\n<pre><code>class Spam(Serving):\n    name = \"SPAM\"\n\nspam = Spam()\nprint(spam.shout_name())\n</code></pre>\n\n<p>However, I happen to have a lot of spam, and I want to introduce a base class with the common helper methods. Something like this:</p>\n\n<pre><code>class Spam(Serving):\n    def thrice(self):\n        return \" \".join([self.shout_name()] * 3)\n\nclass LovelySpam(Spam):\n    name = \"lovely spam\"\n\nclass WonderfulSpam(Spam):\n    name = \"wonderful spam\"\n</code></pre>\n\n<p>Obviously, this doesn't work and fails with the well-expected <code>TypeError: Class 'SpamBase' has no 'name' attribute declared</code>. Would third-party library had a <code>SpamBase</code> class without a metaclass, I could've subclassed that - but no such luck this time (I've mentioned this inconvenience to the library authors).</p>\n\n<p>I can make it a mixin:</p>\n\n<pre><code>class SpamMixin(object):\n    def thrice(self):\n        return \" \".join([self.shout_name()] * 3)\n\nclass LovelySpam(SpamMixin, Serving):\n    name = \"lovely spam\"\n\nclass WonderfulSpam(SpamMixin, Serving):\n    name = \"wonderful spam\"\n</code></pre>\n\n<p>However, this makes me and my IDE cringe a little, as it quickly becomes cumbersome to repeat <code>SpamMixin</code> everywhere and also because <code>object</code> has no <code>shout_name</code> attribute (and I don't want to silence analysis tools). In short, I just don't like this approach.</p>\n\n<p><strong>What else can I do?</strong></p>\n\n<p>Is there a way to get a metaclass-less version of <code>Serving</code>? I think of something like this:</p>\n\n<pre><code>ServingBase = remove_metaclass(Serving)\n\nclass Spam(ServingBase, metaclass=ServingMeta):\n    ...\n</code></pre>\n\n<p>But don't know how to actually implement <code>remove_metaclass</code> and whenever it's even reasonably possible (of course, it must be doable, with some introspection, but it could require more arcane magic than I can cast).</p>\n\n<p>Any other suggestions are also welcomed. Basically, I want to have my code DRY (one base class to rule them all), and have my linter/code analysis icons all green.</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 1, "creation_date": 1494445401, "post_id": 43901332, "comment_id": 74836773, "body": "Possible replicate of thie question. (no answer yet though) <a href=\"http://stackoverflow.com/questions/43892150/tensorflow-on-gpu\">stackoverflow.com/questions/43892150/tensorflow-on-gpu</a>"}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 5645416, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-aju4ZlmpWxc/AAAAAAAAAAI/AAAAAAAABHE/aqyKrA3HqRI/photo.jpg?sz=128", "display_name": "kshitij srivastava", "link": "https://stackoverflow.com/users/5645416/kshitij-srivastava"}, "is_accepted": false, "score": 0, "last_activity_date": 1494465302, "creation_date": 1494465302, "answer_id": 43904923, "question_id": 43901332, "link": "https://stackoverflow.com/questions/43901332/tensoflow-gpu-install-issue/43904923#43904923", "title": "tensoflow-gpu install issue", "body": "<p>I recommend you to install both CPU and GPU versions in separate virtual environments. You can use python's inbuilt virtual environment or my preference would be anaconda. Keeping both versions independent from each other should solve the problem.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 7993685, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y_Pm9cqxvEg/AAAAAAAAAAI/AAAAAAAAAjQ/qfPg5P9WdUE/photo.jpg?sz=128", "display_name": "Sebastian Johansson", "link": "https://stackoverflow.com/users/7993685/sebastian-johansson"}, "edited": false, "score": 0, "creation_date": 1494608553, "post_id": 43918007, "comment_id": 74918416, "body": "Thank you! cuDNN was the reason. I didn&#39;t install it at all. I thought it was being installed with CUDA 8.0. So, now I installed v5.1 and it displays some  warnings, but then it works."}], "tags": [], "owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "is_accepted": true, "score": 1, "last_activity_date": 1494512193, "creation_date": 1494512193, "answer_id": 43918007, "question_id": 43901332, "link": "https://stackoverflow.com/questions/43901332/tensoflow-gpu-install-issue/43918007#43918007", "title": "tensoflow-gpu install issue", "body": "<ol>\n<li><p>CUDNN might be one of the reasons. cuDNN v6.0 does not work for many people. Try with cuDNN v5.1. What is the version of cuDNN you are using ??</p></li>\n<li><p>Importing from inside GIT folder is also one of the reasons. </p></li>\n</ol>\n"}], "owner": {"reputation": 13, "user_id": 7993685, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y_Pm9cqxvEg/AAAAAAAAAAI/AAAAAAAAAjQ/qfPg5P9WdUE/photo.jpg?sz=128", "display_name": "Sebastian Johansson", "link": "https://stackoverflow.com/users/7993685/sebastian-johansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 43918007, "answer_count": 2, "score": 1, "last_activity_date": 1494512193, "creation_date": 1494445025, "last_edit_date": 1494445996, "question_id": 43901332, "link": "https://stackoverflow.com/questions/43901332/tensoflow-gpu-install-issue", "title": "tensoflow-gpu install issue", "body": "<p>I've been using tensorflow for a couple of days running on the CPU, but I decided to start using the GPU instead. So, I installed CUDA and tensorflow-gpu via pip, but it didn't work, so I uninstalled both versions of tensorflow, and installed tensorflow-gpu again. The following message appeared:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Python35\\lib\\site-\npackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 18, in \nswig_import_helper\nreturn importlib.import_module(mname)\nFile \"C:\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 986, in _gcd_import\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 666, in _load_unlocked\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 577, in module_from_spec\nFile \"&lt;frozen importlib._bootstrap_external&gt;\", line 906, in create_module\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\nImportError: DLL load failed: The specified module could not be found.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Python35\\lib\\site-\npackages\\tensorflow\\python\\pywrap_tensorflow.py\", line 41, in &lt;module&gt;\nfrom tensorflow.python.pywrap_tensorflow_internal import *\nFile \"C:\\Python35\\lib\\site-\npackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 21, in \n&lt;module&gt;\n_pywrap_tensorflow_internal = swig_import_helper()\nFile \"C:\\Python35\\lib\\site-\npackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 20, in \nswig_import_helper\nreturn importlib.import_module('_pywrap_tensorflow_internal')\nFile \"C:\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\nImportError: No module named '_pywrap_tensorflow_internal'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\nFile \"hello.py\", line 1, in &lt;module&gt;\nimport tensorflow as tf\nFile \"C:\\Python35\\lib\\site-packages\\tensorflow\\__init__.py\", line 24, in \n&lt;module&gt;\nfrom tensorflow.python import *\nFile \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\__init__.py\", line 51, \nin &lt;module&gt;\nfrom tensorflow.python import pywrap_tensorflow\nFile \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", \nline 52, in &lt;module&gt;\nraise ImportError(msg)\nImportError: Traceback (most recent call last):\nFile \"C:\\Python35\\lib\\site-\npackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 18, in \nswig_import_helper\nreturn importlib.import_module(mname)\nFile \"C:\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 986, in _gcd_import\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 666, in _load_unlocked\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 577, in module_from_spec\nFile \"&lt;frozen importlib._bootstrap_external&gt;\", line 906, in create_module\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\nImportError: DLL load failed: The specified module could not be found.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\nFile \"C:\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", \nline 41, in &lt;module&gt;\nfrom tensorflow.python.pywrap_tensorflow_internal import *\nFile \"C:\\Python35\\lib\\site-\npackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 21, in \n&lt;module&gt;\n_pywrap_tensorflow_internal = swig_import_helper()\nFile \"C:\\Python35\\lib\\site-\npackages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 20, in \nswig_import_helper\nreturn importlib.import_module('_pywrap_tensorflow_internal')\nFile \"C:\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\nImportError: No module named '_pywrap_tensorflow_internal'\n\n\nFailed to load the native TensorFlow runtime.\n</code></pre>\n\n<p>Anyone encoutered similar error before?</p>\n"}, {"tags": ["python", "multithreading", "python-3.x", "multiprocessing"], "comments": [{"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1494447620, "post_id": 43901298, "comment_id": 74837906, "body": "Where do you ever produce an output? I don&#39;t see any <code>print</code>s."}, {"owner": {"reputation": 1, "user_id": 7993511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ad48120eeb06e0dcbf438e231bbb9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pseudonymous", "link": "https://stackoverflow.com/users/7993511/pseudonymous"}, "reply_to_user": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1494448603, "post_id": 43901298, "comment_id": 74838405, "body": "I&#39;ll make an edit clarifying that point."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1494491169, "post_id": 43901298, "comment_id": 74853640, "body": "Add <code>battle_log.append(&#39;Thread {name} startet&#39;)</code> at the beginning of your <code>Thread</code>."}], "owner": {"reputation": 1, "user_id": 7993511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ad48120eeb06e0dcbf438e231bbb9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pseudonymous", "link": "https://stackoverflow.com/users/7993511/pseudonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494449051, "creation_date": 1494444885, "last_edit_date": 1494449051, "question_id": 43901298, "link": "https://stackoverflow.com/questions/43901298/creating-threads-from-within-a-python-multiprocess", "title": "Creating threads from within a Python multiprocess", "body": "<p>I'm writing code for a game, with the AI running as threads. They are stored in a list with the relevant information so that when their character 'dies', they can be efficiently removed from play by simply removing them from the list of active AIs.</p>\n\n<p>The threads controlling them were initially called from within another thread while a tkinter window controlling the player runs in the main thread - however, the AI threads caused the main thread to slow down. After searching for a way to decrease the priority of the thread creating the AI, I found that I would have to use multiprocessing.Process instead of threading.Thread, and then altering its niceness - but when I try to do this, the AI threads don't work. The functions running this are defined within <code>class AI()</code>:</p>\n\n<pre><code>def start():\n    '''\n    Creates a process to oversee all AI functions\n    '''\n    global activeAI, AIsentinel, done\n    AIsentinel=multiprocessing.Process(target=AI.tick,args=(activeAI, done))\n    AIsentinel.start()\n</code></pre>\n\n<p>and</p>\n\n<pre><code>def tick(activeAI, done):\n    '''\n    Calls all active AI functions as threads\n    '''\n    AIthreads=[]\n    for i in activeAI:\n        # i[0] is the AI function, i[1] is the character class instance (user defined)\n        # and the other list items are its parameters.\n        AIthreads.append(threading.Thread(name=i[1].name,target=lambda: i[0](i[1],i[2],i[3],i[4],i[5])))\n        AIthreads[-1].start()\n    while not done:\n        for x in AIthreads:\n            if not x.is_alive():\n                x.join()\n                AIthreads.remove(x)\n                for i in activeAI:\n                    if i[1].name==x.name:\n                        AIthreads.append(threading.Thread(name=i[1].name,target=lambda: i[0](i[1],i[2],i[3],i[4],i[5])))\n                        AIthreads[-1].start()\n</code></pre>\n\n<p>The outputs of these threads should display in stdout, but when running the program, nothing appears - I assume it's because the threads don't start, but I can't tell if it's just because their output isn't displaying. I'd like a way to get this solution working, but I suspect this solution is far too ugly and not worth fixing, or simply cannot be fixed.</p>\n\n<p>In the event this is as horrible as I fear, I'm also open to new approaches to the problem entirely.</p>\n\n<p>I'm running this on a Windows 10 machine. Thanks in advance.</p>\n\n<p>Edit:</p>\n\n<p>The actual print statement is within another thread - when an AI performs an action, it adds a string describing its action to a queue, which is printed out by yet another thread (as if I didn't have enough of those). As an example:</p>\n\n<pre><code>battle_log.append('{0} dealt {1} damage to {2}!'.format(self.name,damage[0],target.name))\n</code></pre>\n\n<p>Which is read out by:</p>\n\n<pre><code>def battlereport():\n    '''\n    Displays battle updates.\n    '''\n    global battle_log, done\n    print('\\n')\n    while not done:\n        for i in battle_log:\n            print(i)\n            battle_log.remove(i)\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 0, "creation_date": 1494445780, "post_id": 43901320, "comment_id": 74836991, "body": "Very elegant solution using replace!"}, {"owner": {"reputation": 71, "user_id": 7933443, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CGS65.jpg?s=128&g=1", "display_name": "Hyfy", "link": "https://stackoverflow.com/users/7933443/hyfy"}, "edited": false, "score": 0, "creation_date": 1494447341, "post_id": 43901320, "comment_id": 74837765, "body": "How would you go about it when you want to put a &#39;raw_input&#39; function, where if the user guesses ccorrectly you go on to fill the next blank space?"}], "tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": true, "score": 1, "last_activity_date": 1494444978, "creation_date": 1494444978, "answer_id": 43901320, "question_id": 43901244, "link": "https://stackoverflow.com/questions/43901244/trying-to-replace-a-list-of-strings-with-another-list-of-strings-in-a-bigger-str/43901320#43901320", "title": "Trying to replace a list of strings with another list of strings in a bigger string?", "body": "<p>I don't think it's necessary to <code>split</code> the paragraph or search for blanks or anything here. Just call <code>replace</code> like normal.</p>\n\n<pre><code>driver_knowledge_test = \"When you're going to drive it is important to \\\nalways put on your ___1___, including your passengers. \\nIf there are no \\\nlanes marked on the road, you should drive in the ___2___ side of the road. \\\n\\nIt's getting dark and the sun is fading, you should turn on the ___3___. \\\n\\nBefore driving on a freeway, you should make sure you have enough ___4___, \\\noil, water and the correct tyre pressure.\"\n\nanswer_1 = ['seatbelts', 'left', 'light', 'fuel']\nblank_space = [\"___1___\", \"___2___\", \"___3___\", \"___4___\"]\n\nfor space, answer in zip(blank_space, answer_1):\n    driver_knowledge_test = driver_knowledge_test.replace(space, answer)\n\nprint(driver_knowledge_test)\n</code></pre>\n\n<p>Result:</p>\n\n<pre>\nWhen you're going to drive it is important to always put on your seatbelts, including your passengers.\nIf there are no lanes marked on the road, you should drive in the left side of the road.\nIt's getting dark and the sun is fading, you should turn on the light.\nBefore driving on a freeway, you should make sure you have enough fuel, oil, water and the correct tyre pressure.\n</pre>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1494445904, "creation_date": 1494445904, "answer_id": 43901588, "question_id": 43901244, "link": "https://stackoverflow.com/questions/43901244/trying-to-replace-a-list-of-strings-with-another-list-of-strings-in-a-bigger-str/43901588#43901588", "title": "Trying to replace a list of strings with another list of strings in a bigger string?", "body": "<p>Building on @Kevin's answer, except demonstrating solution using split:</p>\n\n<pre><code>import string\nanswer_1 = ['seatbelts', 'left', 'light', 'fuel']\n\nblank_space = [\"___1___\", \"___2___\", \"___3___\", \"___4___\"]\n\nanswer = {blank_space[i]:answer_1[i] for i in range(len(answer_1))}\n\ndriver_knowledge_test = \"When you're going to drive it is important to \nalways put on your ___1___, including your passengers. \\nIf there are no lanes marked on the road, you should drive in the ___2___ side of the road.\\nIt's getting dark and the sun is fading, you should turn on the ___3___. \\nBefore driving on a freeway, you should make sure you have enough ___4___, oil, water and the correct tyre pressure.\"\n\nnew_answer = driver_knowledge_test.split()\n\nfinal_answer = [i.strip(i[len(i)-1]) if i[len(i)-1] in string.punctuation else i for i in new_answer]\n\nprint ' '.join([answer[i] if i in answer.keys() else i for i in final_answer])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>When you're going to drive it is important to always put on your seatbelts including your passengers If there are no lanes marked on the road you should drive in the 2 side of the road It's getting dark and the sun is fading you should turn on the light Before driving on a freeway you should make sure you have enough fuel oil water and the correct tyre pressure\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7933443, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CGS65.jpg?s=128&g=1", "display_name": "Hyfy", "link": "https://stackoverflow.com/users/7933443/hyfy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 43901320, "answer_count": 2, "score": 0, "last_activity_date": 1494445904, "creation_date": 1494444680, "last_edit_date": 1494445092, "question_id": 43901244, "link": "https://stackoverflow.com/questions/43901244/trying-to-replace-a-list-of-strings-with-another-list-of-strings-in-a-bigger-str", "title": "Trying to replace a list of strings with another list of strings in a bigger string?", "body": "<p>I'm starting to tunnel on this code and would like someone's guidance. Basically, I want to replace my <code>blank_space</code> in my string <code>driver_knowldege_test</code> with the list <code>answer_1</code>. I would like it to go in order too (which is why I'm using the index), but this is where I also found myself stuck. I'm not even sure if the words are replacing each other properly either.</p>\n\n<pre><code>driver_knowledge_test = \"When you're going to drive it is important to \nalways put on your ___1___, including your passengers. \\nIf there are no \nlanes marked on the road, you should drive in the ___2___ side of the road.             \n\\nIt's getting dark and the sun is fading, you should turn on the ___3___. \n\\nBefore driving on a freeway, you should make sure you have enough ___4___, \noil, water and the correct tyre pressure.\"\nanswer_1 = ['seatbelts', 'left', 'light', 'fuel']\n\nblank_space = [\"___1___\", \"___2___\", \"___3___\", \"___4___\"]\n\ndef replace_blank_space(blank, sentence, answer):\nreplaced = []\nsentence = sentence.split()\nanswer = 0\nblank_space = 0\nfor word in sentence:\n    replacements = finding_blank(word, list_of_blank)\n    if word_to_be_replaced != None:\n        word = word.replace(replacements, answer)\n        replaced.append(word)\n        answer += 1\n        blank_space += 1\n    else:\n        replaced.append(word)\nreplaced = \" \".join(replaced)\nreturn replaced\n\ndef finding_blank(word, list_of_blank):\nfor ea_blank in blank_space:\n    if ea_blank in blank_space: #This equals to teh whole list.\n        return ea_blank\nreturn None\n\n\n\n\nprint replace_blank_space(blank_space, driver_knowledge_test, answer_1)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 5382742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b39bf3509c6e77c2c63b591bfc8ac09e?s=128&d=identicon&r=PG&f=1", "display_name": "sbradbio", "link": "https://stackoverflow.com/users/5382742/sbradbio"}, "edited": false, "score": 0, "creation_date": 1494445190, "post_id": 43901304, "comment_id": 74836649, "body": "can you please tell me how did you load this into a df? the error i get is <code>NameError: name &#39;A1&#39; is not defined</code> using jupyter notebook"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "reply_to_user": {"reputation": 149, "user_id": 5382742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b39bf3509c6e77c2c63b591bfc8ac09e?s=128&d=identicon&r=PG&f=1", "display_name": "sbradbio", "link": "https://stackoverflow.com/users/5382742/sbradbio"}, "edited": false, "score": 0, "creation_date": 1494445401, "post_id": 43901304, "comment_id": 74836772, "body": "Can you give more details? Load what into df? Even I am using Jupyter notebook"}, {"owner": {"reputation": 149, "user_id": 5382742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b39bf3509c6e77c2c63b591bfc8ac09e?s=128&d=identicon&r=PG&f=1", "display_name": "sbradbio", "link": "https://stackoverflow.com/users/5382742/sbradbio"}, "edited": false, "score": 0, "creation_date": 1494445504, "post_id": 43901304, "comment_id": 74836828, "body": "Can you please share how did you create the df?"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "reply_to_user": {"reputation": 149, "user_id": 5382742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b39bf3509c6e77c2c63b591bfc8ac09e?s=128&d=identicon&r=PG&f=1", "display_name": "sbradbio", "link": "https://stackoverflow.com/users/5382742/sbradbio"}, "edited": false, "score": 1, "creation_date": 1494445578, "post_id": 43901304, "comment_id": 74836863, "body": "I just copied the df you posted and then df = pd.read_clipboard()"}, {"owner": {"reputation": 149, "user_id": 5382742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b39bf3509c6e77c2c63b591bfc8ac09e?s=128&d=identicon&r=PG&f=1", "display_name": "sbradbio", "link": "https://stackoverflow.com/users/5382742/sbradbio"}, "edited": false, "score": 0, "creation_date": 1494445626, "post_id": 43901304, "comment_id": 74836893, "body": "I am using this <code>df_1 ={&#39;col0&#39;: [&#39;A1&#39;,&#39;A2&#39;,&#39;A3&#39;,&#39;A4&#39;,&#39;A5&#39;],&#39;col1&#39;: [text1, text2, text3, text4, text5]}</code> but unable to load it"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "reply_to_user": {"reputation": 149, "user_id": 5382742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b39bf3509c6e77c2c63b591bfc8ac09e?s=128&d=identicon&r=PG&f=1", "display_name": "sbradbio", "link": "https://stackoverflow.com/users/5382742/sbradbio"}, "edited": false, "score": 0, "creation_date": 1494445862, "post_id": 43901304, "comment_id": 74837038, "body": "You need df = pd.DataFrame({&#39;col0&#39;: [], ..}) given that you have your info1, info2 etc stored in text1, text2 already"}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 3, "last_activity_date": 1494444914, "creation_date": 1494444914, "answer_id": 43901304, "question_id": 43901238, "link": "https://stackoverflow.com/questions/43901238/pandas-keep-rows-with-multiple-delimiters/43901304#43901304", "title": "pandas keep rows with multiple delimiters", "body": "<p>You need</p>\n\n<pre><code>df.col1 = df.col1.str.split(',').str[0]\n\n\n    col0    col1\n0   A1      info\n1   A2      info1\n2   A3      info4\n3   A4      info3\n4   A5      info7\n</code></pre>\n\n<p>For your second question,</p>\n\n<pre><code>df[df.col1.str.split(',').str.len() &gt;1]\n</code></pre>\n\n<p>will return all the rows that need to be edited so you can save the result into another df before modifying the dataframe</p>\n"}], "owner": {"reputation": 149, "user_id": 5382742, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b39bf3509c6e77c2c63b591bfc8ac09e?s=128&d=identicon&r=PG&f=1", "display_name": "sbradbio", "link": "https://stackoverflow.com/users/5382742/sbradbio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 1, "accepted_answer_id": 43901304, "answer_count": 1, "score": 1, "last_activity_date": 1494444914, "creation_date": 1494444665, "question_id": 43901238, "link": "https://stackoverflow.com/questions/43901238/pandas-keep-rows-with-multiple-delimiters", "title": "pandas keep rows with multiple delimiters", "body": "<p>one text file with multiple columns for represntation just showing 2 columns and 5 rows original df has ~400,000 rows</p>\n\n<pre><code>col0 col1 \nA1   info\nA2   info1,info2\nA3   info4,info1,info6\nA4   info3,info10\nA5   info7,info1,info2,info4,info9\n</code></pre>\n\n<p>What I would like to do is in there is a row where col1 has multiple elements keep the first element and remove rest of the elements expected output </p>\n\n<pre><code>col0 col1 \nA1   info\nA2   info1\nA3   info4\nA4   info3\nA5   info7\n</code></pre>\n\n<p>for sanity check is it possible to output the rows that were modified in a separate text file?\nexample </p>\n\n<p>file_with_rows_modified.txt will have</p>\n\n<pre><code>col0 col1\nA2   info1,info2\nA3   info4,info1,info6\nA4   info3,info10\nA5   info7,info1,info2,info4,info9\n</code></pre>\n\n<p>edit: these are flat strings</p>\n"}, {"tags": ["python", "numpy", "indexing"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 2, "creation_date": 1494444388, "post_id": 43901096, "comment_id": 74836217, "body": "So, what&#39;s the name of the operation that you are doing with <code>A[inds,np.arange(32)]</code>?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494444519, "post_id": 43901096, "comment_id": 74836306, "body": "Hint: It rhymes with &quot;emplacement&quot;"}, {"owner": {"reputation": 4044, "user_id": 821806, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72f23b06066f4e2325e9f0506b1c0ebf?s=128&d=identicon&r=PG", "display_name": "zergylord", "link": "https://stackoverflow.com/users/821806/zergylord"}, "edited": false, "score": 0, "creation_date": 1494444694, "post_id": 43901096, "comment_id": 74836402, "body": "<code>inds</code> holds an array of desired rows, one for each column. Just performing <code>A[inds]</code> results in getting <i>all</i> columns for each desired row, hence the need to use <code>np.arange</code>."}, {"owner": {"reputation": 4044, "user_id": 821806, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72f23b06066f4e2325e9f0506b1c0ebf?s=128&d=identicon&r=PG", "display_name": "zergylord", "link": "https://stackoverflow.com/users/821806/zergylord"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1494444770, "post_id": 43901096, "comment_id": 74836434, "body": "@MadPhysicist sorry, I don&#39;t follow :("}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1494445081, "post_id": 43901096, "comment_id": 74836601, "body": "Did you read up on <a href=\"https://docs.scipy.org/doc/numpy-1.10.1/reference/arrays.indexing.html#advanced-indexing\" rel=\"nofollow noreferrer\"><code>advanced-indexing</code></a>? Do you see anything that matches up with your existing code?"}, {"owner": {"reputation": 4044, "user_id": 821806, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72f23b06066f4e2325e9f0506b1c0ebf?s=128&d=identicon&r=PG", "display_name": "zergylord", "link": "https://stackoverflow.com/users/821806/zergylord"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1494445711, "post_id": 43901096, "comment_id": 74836951, "body": "@Divakar Yes, I looked over that page and nothing immediately jumped out at me. I understand that this question apparently has a simple solution that am not getting. Could you please just tell me instead of hinting at it?"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1494445833, "post_id": 43901096, "comment_id": 74837022, "body": "You already have <code>advanced indexing</code> in your code."}, {"owner": {"reputation": 4044, "user_id": 821806, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72f23b06066f4e2325e9f0506b1c0ebf?s=128&d=identicon&r=PG", "display_name": "zergylord", "link": "https://stackoverflow.com/users/821806/zergylord"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1494445960, "post_id": 43901096, "comment_id": 74837093, "body": "@Divakar Are you saying that my way of doing this is already the simplest way?"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1494446038, "post_id": 43901096, "comment_id": 74837134, "body": "&quot;Simplest/elegant/fanciful/most-readable/cleanest&quot; I don&#39;t know how to truly measure those. If you are talking about performance, yes this is it."}, {"owner": {"reputation": 4044, "user_id": 821806, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72f23b06066f4e2325e9f0506b1c0ebf?s=128&d=identicon&r=PG", "display_name": "zergylord", "link": "https://stackoverflow.com/users/821806/zergylord"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1494446453, "post_id": 43901096, "comment_id": 74837342, "body": "@Divakar Thank you. I realize that I was already using advanced indexing. I was under the impression that &quot;advanced indexing&quot; wasn&#39;t a monolithic expression, such that there could be <i>another</i> way of using it that was simpler (e.g. no call to np.arange). I take it the answer is &quot;no&quot; -- I really wish you&#39;d have just said that up front."}], "answers": [{"tags": [], "owner": {"reputation": 64, "user_id": 7993882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ae0ff77972d54e3a03144d39cbd33f?s=128&d=identicon&r=PG&f=1", "display_name": "Sruthi Susan Thomas", "link": "https://stackoverflow.com/users/7993882/sruthi-susan-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1494450054, "creation_date": 1494450054, "answer_id": 43902665, "question_id": 43901096, "link": "https://stackoverflow.com/questions/43901096/numpy-indexing-getting-a-specific-row-for-each-column/43902665#43902665", "title": "Numpy indexing: Getting a specific row for each column", "body": "<pre><code>inds = np.random.randint(4,size=32)\nresult=[]\nfor i in range(0,len(inds):\n    result.append(A[inds[i],i])\n    print result\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "is_accepted": false, "score": 0, "last_activity_date": 1494462807, "creation_date": 1494462807, "answer_id": 43904669, "question_id": 43901096, "link": "https://stackoverflow.com/questions/43901096/numpy-indexing-getting-a-specific-row-for-each-column/43904669#43904669", "title": "Numpy indexing: Getting a specific row for each column", "body": "<pre><code>res = A[inds,np.arange(32)] \n</code></pre>\n\n<p>The above is exactly using numpy advanced indexing with inds being the row indices and np.arange(32) being the column indices to be extracted. </p>\n\n<p>What's your more advanced solution like?</p>\n"}], "owner": {"reputation": 4044, "user_id": 821806, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72f23b06066f4e2325e9f0506b1c0ebf?s=128&d=identicon&r=PG", "display_name": "zergylord", "link": "https://stackoverflow.com/users/821806/zergylord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1494462807, "creation_date": 1494444124, "last_edit_date": 1494444371, "question_id": 43901096, "link": "https://stackoverflow.com/questions/43901096/numpy-indexing-getting-a-specific-row-for-each-column", "title": "Numpy indexing: Getting a specific row for each column", "body": "<p>For example:</p>\n\n<pre><code>A = np.random.randn(4,32)\ninds = np.random.randint(4,size=32)\nres = A[inds,np.arange(32)]\n</code></pre>\n\n<p>This gets the desired result, but is rather cumbersome. Is there simpler way to get this behavior? (e.g. using advanced indexing)</p>\n"}, {"tags": ["python", "scikit-learn", "nlp", "classification"], "comments": [{"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1494446677, "post_id": 43901083, "comment_id": 74837457, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/25921762/changes-of-clustering-results-after-each-time-run-in-python-scikit-learn\">Changes of clustering results after each time run in Python scikit-learn</a>"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1494447324, "post_id": 43901187, "comment_id": 74837756, "body": "If I use random_state=3000 versus random_state=1000, will it change the results? How do I change the initial state to get which one is giving the best result?"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "reply_to_user": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 2, "creation_date": 1494450982, "post_id": 43901187, "comment_id": 74839590, "body": "@Arman if you&#39;re relying on your seed, that&#39;s going to cause overfitting."}, {"owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1494451259, "post_id": 43901187, "comment_id": 74839732, "body": "OK, but even after setting a random_state to an int, I&#39;m getting different results each time. Why is that now?"}, {"owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1494454723, "post_id": 43901187, "comment_id": 74841105, "body": "NVM, I think the reason was that the model I was using was not suitable for my dataset. Hence I was getting varied results (maybe). On changing my model to Naive Bayes, it works with good accuracy."}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 1, "creation_date": 1494466667, "post_id": 43901187, "comment_id": 74843968, "body": "Not all classifier have random_state parameter. Only those which need to split or shuffle training data in some way. For example the naive bayes algorithms like <code>BernoulliNB, GaussianNB, MultinomialNB</code> dont have it."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "reply_to_user": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 1, "creation_date": 1494499036, "post_id": 43901187, "comment_id": 74859223, "body": "@VivekKumar Thanks for keeping me honest. Added your edit to my answer."}], "tags": [], "owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "is_accepted": true, "score": 1, "last_activity_date": 1494499021, "last_edit_date": 1494499021, "creation_date": 1494444429, "answer_id": 43901187, "question_id": 43901083, "link": "https://stackoverflow.com/questions/43901083/sgdclassifier-giving-different-accuracy-each-time-for-text-classification/43901187#43901187", "title": "SGDClassifier giving different accuracy each time for text classification", "body": "<p>All classifiers which split or shuffle data (h/t to Vivek) have an optional <code>random_state</code> variable in the constructor with a default value of <code>None</code>. When the <code>random_state</code> is passed, it is checked by an internal <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.utils.check_random_state.html#sklearn.utils.check_random_state\" rel=\"nofollow noreferrer\"><code>check_random_state</code></a> function.</p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p><code>check_random_state</code>: create a <code>np.random.RandomState</code> object from a\n  parameter random_state. If <code>random_state</code> is <code>None</code> or <code>np.random</code>, then a\n  randomly-initialized <code>RandomState</code> object is returned. If <code>random_state</code>\n  is an integer, then it is used to seed a new <code>RandomState</code> object. If\n  <code>random_state</code> is a <code>RandomState</code> object, then it is passed through.</p>\n</blockquote>\n\n<p>Because you're using the default <code>None</code>, you have some uncontrolled stochastic noise in your code. </p>\n\n<p>Pass a seed for reproducibility.</p>\n"}, {"tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": false, "score": 3, "last_activity_date": 1494482290, "last_edit_date": 1494482290, "creation_date": 1494481909, "answer_id": 43907505, "question_id": 43901083, "link": "https://stackoverflow.com/questions/43901083/sgdclassifier-giving-different-accuracy-each-time-for-text-classification/43907505#43907505", "title": "SGDClassifier giving different accuracy each time for text classification", "body": "<p>This is because in your <code>prepare_data()</code> method, you are randomly shuffling the data. This is what you are doing:</p>\n\n<pre><code>random.shuffle(data)\n</code></pre>\n\n<p>So it affects the training of the estimator and hence the results.</p>\n\n<p>Try commenting or removing that line along with the <code>random_state</code> set in the <code>SGDClassifier</code>. You will get exact same results each time.</p>\n\n<p><strong>Suggestion</strong>: Try using different estimators to see which one performs best. If you are keen on using the <code>SGDClassifier</code>, then I would recommend to see and understand the <code>n_iter</code> parameter. Try changing it to a larger value, and you will see the difference in accuracy will become less and less (even with your shuffling of data).</p>\n\n<p>You can look at this answer for more details on it:</p>\n\n<ul>\n<li><a href=\"https://datascience.stackexchange.com/a/9794\">https://datascience.stackexchange.com/a/9794</a></li>\n</ul>\n"}], "owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2169, "favorite_count": 0, "accepted_answer_id": 43901187, "answer_count": 2, "score": 3, "last_activity_date": 1494499021, "creation_date": 1494444071, "last_edit_date": 1494484166, "question_id": 43901083, "link": "https://stackoverflow.com/questions/43901083/sgdclassifier-giving-different-accuracy-each-time-for-text-classification", "title": "SGDClassifier giving different accuracy each time for text classification", "body": "<p>I'm using the SVM Classifier for classifying text as good text and gibberish. I'm using python's scikit-learn and doing it as follows: </p>\n\n<pre><code>'''\nCreated on May 5, 2017\n'''\n\nimport re\nimport random\nimport numpy as np\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.linear_model import SGDClassifier\nfrom sklearn import metrics\n\n# Prepare data\n\ndef prepare_data(data):\n    \"\"\"\n    data is expected to be a list of tuples of category and texts.\n    Returns a tuple of a list of lables and a list of texts\n    \"\"\"\n    random.shuffle(data)\n    return zip(*data)\n\n# Format training data\n\ntraining_data = [\n    (\"good\", \"rain a lot the packs maybe damage.\"),\n    (\"good\", \"15107 Lane Pflugerville, TX customer called me and his phone number and my phone numbers were not masked. thank you customer has had a stroke and items were missing from his delivery the cleaning supplies for his wet vacuum steam cleaner.  he needs a call back from customer support \"),\n    (\"gibber\", \"wh. screen\"),\n    (\"gibber\", \"How will I know if I\"),\n    (\"good\", \"I have problems scheduling blocks they are never any available.  Can I do full time?  Can I get scheduled more than one day a month?\"),\n    (\"good\", \"Suggestion: easier way to sign in due alleviate the tediousness of periodically having to sign back in to the app to check for blocks.\"),\n    (\"good\", \"I am so glad to hear from you. \"),\n    (\"good\", \"loading on today's itinerary takes ages!!!!!! time consuming when you have 150+ packages to deliver!!!!!\"),\n    (\"good\", \"due to the new update that makes hours available at 10 pm. if you worked 8 hours that day you can't see next day hours due to 8 hour limit. please fix this\"),\n    (\"good\", \"omg, PLEASE make it so we don't have to sign in every time we need to go into the app. At least make it good for a week. Thanks.\"),\n    (\"good\", \"Constantly being logged out of app, if we could have a continuous login so we could receive notifications if blocks are available that would be ideal.\"),\n    (\"good\", \"I am having problems  with the App. Every time I exit the App and reopen it asks for my login info.\"),\n    (\"good\", \"15 minute service time due to 33rd floor and  20l lbs of cargo\"),\n    (\"good\", \"I have been sceduled 1 block in 3 weeks. I check for new block availability multiple times a day and have not seen 1 available in three weeks. is there any way to get more blocks.\"),\n    (\"good\", \"When will delivery jobs be available? Everytime I open this app, it says nothing is available. Have deliveries in Cincinnati started yet?\"),\n    (\"good\", \"During delivery had to call customer support and after 10 minutes support person couldn't find my pick up location Kirkland /Bellevue and told me to hang up and call different support team.  Support person were unprofessional and rude, which is not acceptable.\"),\n    (\"good\", \"can you please remove the pick up from my phone\"),\n    (\"good\", \"Dear friends: I'm very very happy it's a big oportunitt\"),\n    (\"good\", \"THANK YOU so much for the block you assigned me for next week.   If you have an additional 5 blocks please go ahead and assign them to me for next week.  My availability is updated and current.  You guys are awesome!!!\"),\n    (\"good\", \"after update every time I open app I have too log in! I used to be able to stay logged in unless I logged out, can you return stay logged in option.\"),\n    (\"good\", \"It looks like my app is not installed properly on my android phone, Note 5. I cannot access or do not see the tab to swipe to start delivering and the map or help button that should be visible for me to work today 5/6 at rpm\"),\n    (\"gibber\", \"AF0000\"),\n    (\"good\", \"awesome app, awesome hiring process, awesome delivery warehouse , awesome team and help in the field! lets deliver I would like more more more delivers , looking forward to the future ! I just bought a new delivery vehical !\"),\n    (\"good\", \"I will like to ask why I can't get more delivery's only one in two weeks\"),\n    (\"good\", \"device too slow software crashing all day\"),\n    (\"good\", \"it doesn't work sometimes.\"),\n    (\"good\", \"can you please remove the old sprouts pick up from my phone\"),\n    (\"good\", \"They ability to zoom in on text screens would be very helpful. Am example would be customer notes when viewing in certain lighting conditions can be difficult.\"),\n    (\"good\", \"I missed out on a delivery day when I clicked check in and waited for my turn to get an order only to find out that not only did my check in not register but the gps showed me down the street. I encountered this issue again when one of the warehouse employees placed an order for that location and the app wanted me to drive in a big circle to get back to where I was standing.\"),\n    (\"good\", \"i am a little concerned that i didn't receive any blocks of time for this coming week, even though i had a perfect delivery score from this past pay period. Did the Cincinnati market over hire drivers where there are many people being shut completely out of any delivery blocks for an entire week? i really enjoy this type of work and the app makes it quite convenient.\"),\n    (\"good\", \"I've arrived at the pick up restaurant but the staff did not have the barecode for me to scan, however I pick up the package and deliver but my is still not let me move on\"),\n    (\"good\", \"might want to check my assigned hours for next week.  5am to 1pm??\"),\n    (\"good\", \"hi team--just want to give some positive feedback.  I have had nothing but positive feedback from customers. Great support when calling help line. Thank you for this opportunity and if there is ever a situation where you need drivers immediately I will drop what I'm doing and help. You guys are the best.\"),\n    (\"good\", \"Allow days or blocks throughout the day to be modified after General availability is set up for time off like doctors appointments.\"),\n    (\"gibber\", \"AL001234\"),\n    (\"good\", \"Please, enlight me.\"),\n    (\"good\", \"it only shows my schedule starting in two weeks. when will we be able to start work\"),\n    (\"good\", \"include more packages for one block, if the packages can be fitted into the car, so driver don't have to come back and pickup every two hours. 25% of the time is wasted coming back for pick up.\"),\n    (\"gibber\", \"BBB h\"),\n    (\"gibber\", \"AG0003006033SDgCJ12344\"),\n    (\"gibber\", \"How will I know if I\"),\n    (\"good\", \"please bring back some sort of hours cap! or possibly stagger the hour drops from 1200 to 1203 so that people with slower internet/slower phone arent at a disadvantage!\"),\n    (\"good\", \"when the hours released tonight all of the people who didn't have 40 hours could see them.    however the drivers that are capped at 40 were unable to see them due to a flawed system.  please fix the system so that we are not continually treated unfairly like all of the drivers that whined so much and got us in to this mess.  the cap system is unfair to people that want to work and it caused problems with a lack of drivers  to deliver today at the hub.  obviously this is not a good system and benefits no one.\"),\n    (\"good\", \"You have seriously messed up the whole scheduling process. Why can't I get any blocks at 10 even if I wait exactly until 10? Midnight was much better. So now that scheduling is a huge random pain in the ass, why would people want to keep doing this? I haven't been able to schedule work for three days now, it's quite frustrating when I don't get a chance to sign up, even when I'm diligent with timing.\"),\n    (\"good\", \"Seriously, that's all I'm going to get is one lousy day? Tell me again why you need drivers if all we get is one day. I'm not sure this is gonna work out for me. I waited forever to get my background check back and this is what I get? smh\"),\n    (\"good\", \"doesn't save updated access codes\"),\n    (\"good\", \"the scheduling of my route is nor done very accurately. it keeps me driving back and forth\"),\n    (\"good\", \"can't understand how to pick up a block. my availability is wide open. when you guys send the alerts about blocks available I open it real quick and there is nothing there. I do it in a matter of seconds\"),\n    (\"good\", \"My availability keeps disappearing from my calender.   I set my availability for three weeks in advance. The gray dots are visible  but disappear on Wednesday or Thursday.  This makes it impossible for me to see and choose available blocks for the upcoming week. How can I get it fix.   Mike\"),\n    (\"good\", \"GPS blank screen\"),\n    (\"gibber\", \"sea swq\"),\n    (\"gibber\", \"hiw o\"),\n    (\"gibber\", \"Dr a\"),\n    (\"gibber\", \"quick to quick to u uhu wu just us\"),\n    (\"gibber\", \"Awa what's\"),\n    (\"gibber\", \"wxdfcs\"),\n    (\"gibber\", \"7k9opu\"),\n    (\"gibber\", \"o.m.day day\"),\n    (\"gibber\", \"GGT part his h\"),\n    (\"gibber\", \"aawfhg\"),\n    (\"gibber\", \"seesaw 2s\"),\n    (\"gibber\", \"wawaa\"),\n    (\"gibber\", \"of ll\"),\n    (\"gibber\", \"rewards\"),\n    (\"gibber\", \"mmqqm5my\"),\n    (\"gibber\", \".in w\"),\n    (\"gibber\", \"play r\"),\n    (\"gibber\", \"was wwnw www www n\"),\n    (\"gibber\", \"wqq2fwqq2fz22\"),\n    (\"gibber\", \"not\"),\n    (\"gibber\", \"I by yu I\"),\n    (\"gibber\", \"Hi just wanted to let you know that it's bee\"),\n    (\"gibber\", \"I erroneously v\"),\n    (\"gibber\", \"I find it\"),\n    (\"gibber\", \"bqyyx I a\"),\n    (\"gibber\", \"are are\"),\n    (\"gibber\", \"wawi waarnnnkwn\"),\n    (\"gibber\", \"t Petey ueteu he\"),\n    (\"gibber\", \"ews ri\"),\n    (\"gibber\", \"bd xd\"),\n    (\"gibber\", \"hatpa\"),\n    (\"gibber\", \"se wests tasgt\"),\n    (\"gibber\", \"wa vgcx azc Jo of\"),\n    (\"gibber\", \"2w222\"),\n    (\"gibber\", \"her u t b\"),\n    (\"gibber\", \"ddddedc\"),\n    (\"gibber\", \"just juju in hiking\"),\n    (\"gibber\", \"wew2ww2wwwew2i2wkkk\"),\n    (\"gibber\", \"meleeee\"),\n    (\"gibber\", \"Aaq wqXD\"),\n\n\n]\ntraining_labels, training_texts = prepare_data(training_data)\n\n\n# Format test data\n\ntest_data = [\n\n(\"gibber\", \"an quality\"),\n    (\"good\", \"Can't check in.   Time was 4:06.  I didn't drive out here for no reason.\"),\n    (\"good\", \"can you do view all full address including postal code how it's in old app that helps do correctly delivery and not waist customer time\"),\n    (\"good\", \"i am available again starting at 10am to 10pm. thanks\"),\n    (\"gibber\", \"Hello, I encountered\"),\n    (\"good\", \"I want to know how we are notified if there is a block I have been signed in and haven't been given a block yet\"),\n    (\"gibber\", \"aawaaw\"),\n    (\"gibber\", \"eeeeeeeeene\"),\n    (\"good\", \"I am not getting enough shifts\"),\n    (\"gibber\", \"hey e75k\"),\n    (\"good\", \"my screen had went black or inverted\"),\n    (\"good\", \"maps packed up again in sr20ls\"),\n    (\"good\", \"how to clear my itinerary from old pickup address ?\"),\n    (\"good\", \"keep signing me out.\"),\n    (\"good\", \"For alcohol delivery,  where does customer sign?\"),\n    (\"gibber\", \"t Petey ueteu he\"),\n    (\"good\", \"can't get blocks.  too many drivers ??\"),\n    (\"good\", \"got a new phone how do i download to new phone\")\n\n\n\n]\ntest_labels, test_texts = prepare_data(test_data)\n\n\n# Create feature vectors\n\n\"\"\"\nConvert a collection of text documents to a matrix of token counts.\nSee: http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html\n\"\"\"\nvectorizer = CountVectorizer()\nX = vectorizer.fit_transform(training_texts)\ny = training_labels\n\n\n# Train the classifier\n\n\nclf = SGDClassifier()\nclf.fit(X, y)\n\n\n# Test performance\n\nX_test = vectorizer.transform(test_texts)\ny_test = test_labels\n\n# Generates a list of labels corresponding to the samples\ntest_predictions = clf.predict(X_test)\n\n# Convert back to the usual format\nannotated_test_data = list(zip(test_predictions, test_texts))\nprint(annotated_test_data)\n\n# evaluate predictions\ny_test = np.array(test_labels)\nprint(metrics.classification_report(y_test, test_predictions))\nprint(\"Accuracy: %0.4f\" % metrics.accuracy_score(y_test, test_predictions))\n</code></pre>\n\n<p>But, I keep getting different accuracy each time I run it. Why is this happening?</p>\n\n<p>UPDATE:\nSo I moved the training_data to a text file and I'm reading it in the above code like this:</p>\n\n<pre><code>lines = [line.rstrip('\\n') for line in open(\"file.txt\")]\ntraining_data=[]\nfor i in lines:\n    result = i.rstrip(',')\n    l = literal_eval(result)\n    training_data.append(l)\n\ntraining_labels, training_texts = prepare_data(training_data)\n</code></pre>\n\n<p>And I also changed this in my above code:</p>\n\n<pre><code>clf = SGDClassifier(random_state=5000)\n</code></pre>\n\n<p>So, now the random_state is not None. But, I'm still getting different accuracies each time!!</p>\n"}]